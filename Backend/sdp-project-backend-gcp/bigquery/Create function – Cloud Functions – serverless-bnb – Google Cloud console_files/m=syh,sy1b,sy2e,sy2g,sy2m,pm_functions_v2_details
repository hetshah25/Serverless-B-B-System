"use strict";_F_installCss(".CodeMirror{font-family:monospace;height:300px;color:black;direction:ltr}.CodeMirror-lines{padding:4px 0}.CodeMirror pre.CodeMirror-line,.CodeMirror pre.CodeMirror-line-like{padding:0 4px}.CodeMirror-scrollbar-filler,.CodeMirror-gutter-filler{background-color:white}.CodeMirror-gutters{border-right:1px solid #ddd;background-color:#f7f7f7;white-space:nowrap}.CodeMirror-linenumber{padding:0 3px 0 5px;min-width:20px;text-align:right;color:#999;white-space:nowrap}.CodeMirror-guttermarker{color:black}.CodeMirror-guttermarker-subtle{color:#999}.CodeMirror-cursor{border-left:1px solid black;border-right:none;width:0}.CodeMirror div.CodeMirror-secondarycursor{border-left:1px solid silver}.cm-fat-cursor .CodeMirror-cursor{width:auto;border:0!important;background:#7e7}.cm-fat-cursor div.CodeMirror-cursors{z-index:1}.cm-fat-cursor .CodeMirror-line::selection,.cm-fat-cursor .CodeMirror-line>span::selection,.cm-fat-cursor .CodeMirror-line>span>span::selection{background:transparent}.cm-fat-cursor .CodeMirror-line::-moz-selection,.cm-fat-cursor .CodeMirror-line>span::-moz-selection,.cm-fat-cursor .CodeMirror-line>span>span::-moz-selection{background:transparent}.cm-fat-cursor{caret-color:transparent}@-webkit-keyframes blink{50%{background-color:transparent}}@keyframes blink{50%{background-color:transparent}}.cm-tab{display:inline-block;text-decoration:inherit}.CodeMirror-rulers{position:absolute;left:0;right:0;top:-50px;bottom:0;overflow:hidden}.CodeMirror-ruler{border-left:1px solid #ccc;top:0;bottom:0;position:absolute}.cm-s-default .cm-header{color:blue}.cm-s-default .cm-quote{color:#090}.cm-negative{color:#d44}.cm-positive{color:#292}.cm-header,.cm-strong{font-weight:bold}.cm-em{font-style:italic}.cm-link{text-decoration:underline}.cm-strikethrough{text-decoration:line-through}.cm-s-default .cm-keyword{color:#708}.cm-s-default .cm-atom{color:#219}.cm-s-default .cm-number{color:#164}.cm-s-default .cm-def{color:#00f}.cm-s-default .cm-variable-2{color:#05a}.cm-s-default .cm-variable-3,.cm-s-default .cm-type{color:#085}.cm-s-default .cm-comment{color:#a50}.cm-s-default .cm-string{color:#a11}.cm-s-default .cm-string-2{color:#f50}.cm-s-default .cm-meta,.cm-s-default .cm-qualifier{color:#555}.cm-s-default .cm-builtin{color:#30a}.cm-s-default .cm-bracket{color:#997}.cm-s-default .cm-tag{color:#170}.cm-s-default .cm-attribute{color:#00c}.cm-s-default .cm-hr{color:#999}.cm-s-default .cm-link{color:#00c}.cm-s-default .cm-error,.cm-invalidchar{color:#f00}.CodeMirror-composing{border-bottom:2px solid}div.CodeMirror span.CodeMirror-matchingbracket{color:#0b0}div.CodeMirror span.CodeMirror-nonmatchingbracket{color:#a22}.CodeMirror-matchingtag{background:rgba(255,150,0,.3)}.CodeMirror-activeline-background{background:#e8f2ff}.CodeMirror{position:relative;overflow:hidden;background:white}.CodeMirror-scroll{overflow:scroll!important;margin-bottom:-50px;margin-right:-50px;padding-bottom:50px;height:100%;outline:none;position:relative;z-index:0}.CodeMirror-sizer{position:relative;border-right:50px solid transparent}.CodeMirror-vscrollbar,.CodeMirror-hscrollbar,.CodeMirror-scrollbar-filler,.CodeMirror-gutter-filler{position:absolute;z-index:6;display:none;outline:none}.CodeMirror-vscrollbar{right:0;top:0;overflow-x:hidden;overflow-y:scroll}.CodeMirror-hscrollbar{bottom:0;left:0;overflow-y:hidden;overflow-x:scroll}.CodeMirror-scrollbar-filler{right:0;bottom:0}.CodeMirror-gutter-filler{left:0;bottom:0}.CodeMirror-gutters{position:absolute;left:0;top:0;min-height:100%;z-index:3}.CodeMirror-gutter{white-space:normal;height:100%;display:inline-block;vertical-align:top;margin-bottom:-50px}.CodeMirror-gutter-wrapper{position:absolute;z-index:4;background:none!important;border:none!important}.CodeMirror-gutter-background{position:absolute;top:0;bottom:0;z-index:4}.CodeMirror-gutter-elt{position:absolute;cursor:default;z-index:4}.CodeMirror-gutter-wrapper ::selection{background-color:transparent}.CodeMirror-gutter-wrapper ::-moz-selection{background-color:transparent}.CodeMirror-lines{cursor:text;min-height:1px}.CodeMirror pre.CodeMirror-line,.CodeMirror pre.CodeMirror-line-like{border-radius:0;border-width:0;background:transparent;font-family:inherit;font-size:inherit;margin:0;white-space:pre;word-wrap:normal;line-height:inherit;color:inherit;z-index:2;position:relative;overflow:visible;-webkit-tap-highlight-color:transparent;-webkit-font-variant-ligatures:contextual;font-variant-ligatures:contextual}.CodeMirror-wrap pre.CodeMirror-line,.CodeMirror-wrap pre.CodeMirror-line-like{word-wrap:break-word;white-space:pre-wrap;word-break:normal}.CodeMirror-linebackground{position:absolute;left:0;right:0;top:0;bottom:0;z-index:0}.CodeMirror-linewidget{position:relative;z-index:2;padding:.1px}.CodeMirror-rtl pre{direction:rtl}.CodeMirror-code{outline:none}.CodeMirror-scroll,.CodeMirror-sizer,.CodeMirror-gutter,.CodeMirror-gutters,.CodeMirror-linenumber{box-sizing:content-box}.CodeMirror-measure{position:absolute;width:100%;height:0;overflow:hidden;visibility:hidden}.CodeMirror-cursor{position:absolute;pointer-events:none}.CodeMirror-measure pre{position:static}div.CodeMirror-cursors{visibility:hidden;position:relative;z-index:3}div.CodeMirror-dragcursors{visibility:visible}.CodeMirror-focused div.CodeMirror-cursors{visibility:visible}.CodeMirror-selected{background:#d9d9d9}.CodeMirror-focused .CodeMirror-selected{background:#d7d4f0}.CodeMirror-crosshair{cursor:crosshair}.CodeMirror-line::selection,.CodeMirror-line>span::selection,.CodeMirror-line>span>span::selection{background:#d7d4f0}.CodeMirror-line::-moz-selection,.CodeMirror-line>span::-moz-selection,.CodeMirror-line>span>span::-moz-selection{background:#d7d4f0}.cm-searching{background-color:#ffa;background-color:rgba(255,255,0,.4)}.cm-force-border{padding-right:.1px}@media print{.CodeMirror div.CodeMirror-cursors{visibility:hidden}}.cm-tab-wrap-hack:after{content:\"\"}span.CodeMirror-selectedtext{background:none}.CodeMirror-dialog{position:absolute;left:0;right:0;background:inherit;z-index:15;padding:.1em .8em;overflow:hidden;color:inherit}.CodeMirror-dialog-top{border-bottom:1px solid #eee;top:0}.CodeMirror-dialog-bottom{border-top:1px solid #eee;bottom:0}.CodeMirror-dialog input{border:none;outline:none;background:transparent;width:20em;color:inherit;font-family:monospace}.CodeMirror-dialog button{font-size:70%}.CodeMirror-fullscreen{position:fixed;top:0;left:0;right:0;bottom:0;height:auto;z-index:9}.CodeMirror-foldmarker{color:blue;text-shadow:#b9f 1px 1px 2px,#b9f -1px -1px 2px,#b9f 1px -1px 2px,#b9f -1px 1px 2px;font-family:arial;line-height:.3;cursor:pointer}.CodeMirror-foldgutter{width:.7em}.CodeMirror-foldgutter-open,.CodeMirror-foldgutter-folded{cursor:pointer}.CodeMirror-foldgutter-open:after{content:\"\\25BE\"}.CodeMirror-foldgutter-folded:after{content:\"\\25B8\"}.CodeMirror-hints{position:absolute;z-index:10;overflow:hidden;list-style:none;margin:0;padding:2px;box-shadow:2px 3px 5px rgba(0,0,0,.2);border-radius:3px;border:1px solid silver;background:white;font-size:90%;font-family:monospace;max-height:20em;overflow-y:auto}.CodeMirror-hint{margin:0;padding:0 4px;border-radius:2px;white-space:pre;color:black;cursor:pointer}li.CodeMirror-hint-active{background:#08f;color:white}.CodeMirror-completions{position:absolute;z-index:10;overflow:hidden;box-shadow:2px 3px 5px rgba(0,0,0,.2)}.CodeMirror-completions select{background:#fafafa;outline:none;border:none;padding:0;margin:0;font-family:monospace}.CodeMirror-lint-markers{width:16px}.CodeMirror-lint-tooltip{background-color:#ffd;border:1px solid black;border-radius:4px 4px 4px 4px;color:black;font-family:monospace;font-size:10pt;overflow:hidden;padding:2px 5px;position:fixed;white-space:pre;white-space:pre-wrap;z-index:100;max-width:600px;opacity:0;transition:opacity .4s;-moz-transition:opacity .4s;-webkit-transition:opacity .4s;-o-transition:opacity .4s;-ms-transition:opacity .4s}.CodeMirror-lint-mark{background-position:left bottom;background-repeat:repeat-x}.CodeMirror-lint-mark-warning{background-image:url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAADCAYAAAC09K7GAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sJFhQXEbhTg7YAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAMklEQVQI12NkgIIvJ3QXMjAwdDN+OaEbysDA4MPAwNDNwMCwiOHLCd1zX07o6kBVGQEAKBANtobskNMAAAAASUVORK5CYII=\")}.CodeMirror-lint-mark-error{background-image:url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAADCAYAAAC09K7GAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sJDw4cOCW1/KIAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAHElEQVQI12NggIL/DAz/GdA5/xkY/qPKMDAwAADLZwf5rvm+LQAAAABJRU5ErkJggg==\")}.CodeMirror-lint-marker{background-position:center center;background-repeat:no-repeat;cursor:pointer;display:inline-block;height:16px;width:16px;vertical-align:middle;position:relative}.CodeMirror-lint-message{padding-left:18px;background-position:top left;background-repeat:no-repeat}.CodeMirror-lint-marker-warning,.CodeMirror-lint-message-warning{background-image:url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAANlBMVEX/uwDvrwD/uwD/uwD/uwD/uwD/uwD/uwD/uwD6twD/uwAAAADurwD2tQD7uAD+ugAAAAD/uwDhmeTRAAAADHRSTlMJ8mN1EYcbmiixgACm7WbuAAAAVklEQVR42n3PUQqAIBBFUU1LLc3u/jdbOJoW1P08DA9Gba8+YWJ6gNJoNYIBzAA2chBth5kLmG9YUoG0NHAUwFXwO9LuBQL1giCQb8gC9Oro2vp5rncCIY8L8uEx5ZkAAAAASUVORK5CYII=\")}.CodeMirror-lint-marker-error,.CodeMirror-lint-message-error{background-image:url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAHlBMVEW7AAC7AACxAAC7AAC7AAAAAAC4AAC5AAD///+7AAAUdclpAAAABnRSTlMXnORSiwCK0ZKSAAAATUlEQVR42mWPOQ7AQAgDuQLx/z8csYRmPRIFIwRGnosRrpamvkKi0FTIiMASR3hhKW+hAN6/tIWhu9PDWiTGNEkTtIOucA5Oyr9ckPgAWm0GPBog6v4AAAAASUVORK5CYII=\")}.CodeMirror-lint-marker-multiple{background-image:url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHCAMAAADzjKfhAAAACVBMVEUAAAAAAAC/v7914kyHAAAAAXRSTlMAQObYZgAAACNJREFUeNo1ioEJAAAIwmz/H90iFFSGJgFMe3gaLZ0od+9/AQZ0ADosbYraAAAAAElFTkSuQmCC\");background-repeat:no-repeat;background-position:right bottom;width:100%;height:100%}.CodeMirror-lint-line-error{background-color:rgba(183,76,81,.08)}.CodeMirror-lint-line-warning{background-color:rgba(255,211,0,.1)}.CodeMirror-merge-scrolllock:after{content:\"\\21db\\00a0\\00a0\\21da\"}.CodeMirror-merge-scrolllock.CodeMirror-merge-scrolllock-enabled:after{content:\"\\21db\\21da\"}.CodeMirror-merge{position:relative;border:1px solid #ddd;white-space:pre}.CodeMirror-merge,.CodeMirror-merge .CodeMirror{height:350px}.CodeMirror-merge-2pane .CodeMirror-merge-pane{width:47%}.CodeMirror-merge-2pane .CodeMirror-merge-gap{width:6%}.CodeMirror-merge-3pane .CodeMirror-merge-pane{width:31%}.CodeMirror-merge-3pane .CodeMirror-merge-gap{width:3.5%}.CodeMirror-merge-pane{display:inline-block;white-space:normal;vertical-align:top}.CodeMirror-merge-pane-rightmost{position:absolute;right:0;z-index:1}.CodeMirror-merge-gap{z-index:2;display:inline-block;height:100%;box-sizing:border-box;overflow:hidden;border-left:1px solid #ddd;border-right:1px solid #ddd;position:relative;background:#f8f8f8}.CodeMirror-merge-scrolllock-wrap{position:absolute;bottom:0;left:50%}.CodeMirror-merge-scrolllock{position:relative;left:-50%;cursor:pointer;color:#555;line-height:1}.CodeMirror-merge-copybuttons-left,.CodeMirror-merge-copybuttons-right{position:absolute;left:0;top:0;right:0;bottom:0;line-height:1}.CodeMirror-merge-copy{position:absolute;cursor:pointer;color:#44c;z-index:3}.CodeMirror-merge-copy-reverse{position:absolute;cursor:pointer;color:#44c}.Codemirror-moved-msg{background-color:#f5f5f5;border-top:1px solid #ddd;border-bottom:1px solid #ddd;padding:3px 3px 3px 8px;height:22px;line-height:22px;font-size:13px;font-weight:normal;box-sizing:content-box}.CodeMirror-merge-copybuttons-left .CodeMirror-merge-copy{left:2px}.CodeMirror-merge-copybuttons-right .CodeMirror-merge-copy{right:2px}.CodeMirror-merge-r-inserted,.CodeMirror-merge-l-inserted{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAACCAYAAACddGYaAAAAGUlEQVQI12MwuCXy3+CWyH8GBgYGJgYkAABZbAQ9ELXurwAAAABJRU5ErkJggg==);background-position:bottom left;background-repeat:repeat-x}.CodeMirror-merge-r-deleted,.CodeMirror-merge-l-deleted{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAACCAYAAACddGYaAAAAGUlEQVQI12M4Kyb2/6yY2H8GBgYGJgYkAABURgPz6Ks7wQAAAABJRU5ErkJggg==);background-position:bottom left;background-repeat:repeat-x}.CodeMirror-merge-r-chunk{background:#ffffe0}.CodeMirror-merge-r-chunk-start{border-top:1px solid #ee8}.CodeMirror-merge-r-chunk-end{border-bottom:1px solid #ee8}.CodeMirror-merge-r-connect{fill:#ffffe0;stroke:#ee8;stroke-width:1px}.CodeMirror-merge-r-chunk-moved{background:rgba(255,255,0,.4)}.CodeMirror-merge-l-chunk{background:#eef}.CodeMirror-merge-l-chunk-moved{background:rgba(255,255,0,.4)}.CodeMirror-merge-l-chunk-start{border-top:1px solid #88e}.CodeMirror-merge-l-chunk-end{border-bottom:1px solid #88e}.CodeMirror-merge-l-connect{fill:#eef;stroke:#88e;stroke-width:1px}.CodeMirror-merge-l-chunk.CodeMirror-merge-r-chunk{background:#dfd}.CodeMirror-merge-l-chunk-start.CodeMirror-merge-r-chunk-start{border-top:1px solid #4e4}.CodeMirror-merge-l-chunk-end.CodeMirror-merge-r-chunk-end{border-bottom:1px solid #4e4}.CodeMirror-merge-collapsed-widget:before{content:\"(...)\"}.CodeMirror-merge-collapsed-widget{cursor:pointer;color:#88b;background:#eef;border:1px solid #ddf;font-size:90%;padding:0 3px;border-radius:4px}.CodeMirror-merge-collapsed-line .CodeMirror-gutter-elt{display:none}.CodeMirror-simplescroll-horizontal div,.CodeMirror-simplescroll-vertical div{position:absolute;background:#ccc;box-sizing:border-box;border:1px solid #bbb;border-radius:2px}.CodeMirror-simplescroll-horizontal,.CodeMirror-simplescroll-vertical{position:absolute;z-index:6;background:#eee}.CodeMirror-simplescroll-horizontal{bottom:0;left:0;height:8px}.CodeMirror-simplescroll-horizontal div{bottom:0;height:100%}.CodeMirror-simplescroll-vertical{right:0;top:0;width:8px}.CodeMirror-simplescroll-vertical div{right:0;width:100%}.CodeMirror-overlayscroll .CodeMirror-scrollbar-filler,.CodeMirror-overlayscroll .CodeMirror-gutter-filler{display:none}.CodeMirror-overlayscroll-horizontal div,.CodeMirror-overlayscroll-vertical div{position:absolute;background:#bcd;border-radius:3px}.CodeMirror-overlayscroll-horizontal,.CodeMirror-overlayscroll-vertical{position:absolute;z-index:6}.CodeMirror-overlayscroll-horizontal{bottom:0;left:0;height:6px}.CodeMirror-overlayscroll-horizontal div{bottom:0;height:100%}.CodeMirror-overlayscroll-vertical{right:0;top:0;width:6px}.CodeMirror-overlayscroll-vertical div{right:0;width:100%}.CodeMirror-search-match{background:gold;border-top:1px solid orange;border-bottom:1px solid orange;box-sizing:border-box;opacity:.5}.CodeMirror-Tern-completion{padding-left:22px;position:relative;line-height:1.5}.CodeMirror-Tern-completion:before{position:absolute;left:2px;bottom:2px;border-radius:50%;font-size:12px;font-weight:bold;height:15px;width:15px;line-height:16px;text-align:center;color:white;box-sizing:border-box}.CodeMirror-Tern-completion-unknown:before{content:\"?\";background:#4bb}.CodeMirror-Tern-completion-object:before{content:\"O\";background:#77c}.CodeMirror-Tern-completion-fn:before{content:\"F\";background:#7c7}.CodeMirror-Tern-completion-array:before{content:\"A\";background:#c66}.CodeMirror-Tern-completion-number:before{content:\"1\";background:#999}.CodeMirror-Tern-completion-string:before{content:\"S\";background:#999}.CodeMirror-Tern-completion-bool:before{content:\"B\";background:#999}.CodeMirror-Tern-completion-guess{color:#999}.CodeMirror-Tern-tooltip{border:1px solid silver;border-radius:3px;color:#444;padding:2px 5px;font-size:90%;font-family:monospace;background-color:white;white-space:pre-wrap;max-width:40em;position:absolute;z-index:10;box-shadow:2px 3px 5px rgba(0,0,0,.2);transition:opacity 1s;-moz-transition:opacity 1s;-webkit-transition:opacity 1s;-o-transition:opacity 1s;-ms-transition:opacity 1s}.CodeMirror-Tern-hint-doc{max-width:25em;margin-top:-3px}.CodeMirror-Tern-fname{color:black}.CodeMirror-Tern-farg{color:#70a}.CodeMirror-Tern-farg-current{text-decoration:underline}.CodeMirror-Tern-type{color:#07c}.CodeMirror-Tern-fhint-guess{opacity:.7}.cm-s-abbott.CodeMirror{background:#231c14;color:#d8ff84}.cm-s-abbott .CodeMirror-gutters{background:#231c14;border:none}.cm-s-abbott .CodeMirror-linenumber{color:#fbec5d}.cm-s-abbott .CodeMirror-guttermarker{color:#f63f05}.cm-s-abbott .CodeMirror-guttermarker-subtle{color:#fbb32f}.cm-s-abbott .CodeMirror-ruler{border-color:#745d42}.cm-s-abbott .CodeMirror-cursor{border-color:#a0ea00}.cm-s-abbott.cm-fat-cursor .CodeMirror-cursor,.cm-s-abbott .cm-animate-fat-cursor{background:rgba(160,234,0,.5)}.cm-s-abbott.cm-fat-cursor .CodeMirror-cursors{z-index:3}.cm-s-abbott .CodeMirror-overwrite .CodeMirror-cursor{border-bottom:1px solid #a0ea00;border-left:none;width:auto}.cm-s-abbott .CodeMirror-secondarycursor{border-color:#00ff7f}.cm-s-abbott .CodeMirror-selected,.cm-s-abbott.CodeMirror-focused .CodeMirror-selected{background:#273900}.cm-s-abbott .CodeMirror-line::selection,.cm-s-abbott .CodeMirror-line>span::selection,.cm-s-abbott .CodeMirror-line>span>span::selection{background:#273900}.cm-s-abbott .CodeMirror-line::-moz-selection,.cm-s-abbott .CodeMirror-line>span::-moz-selection,.cm-s-abbott .CodeMirror-line>span>span::-moz-selection{background:#273900}.cm-s-abbott .cm-tab{color:#00ff7f}.cm-s-abbott .cm-searching{background:#fef3b4!important;color:#231c14!important}.cm-s-abbott span.cm-comment{color:#fbb32f;font-style:italic}.cm-s-abbott span.cm-string,.cm-s-abbott span.cm-string-2{color:#e6a2f3}.cm-s-abbott span.cm-number,.cm-s-abbott span.cm-string.cm-url{color:#f63f05}.cm-s-abbott span.cm-invalidchar{color:#00ff7f}.cm-s-abbott span.cm-atom{color:#fef3b4}.cm-s-abbott span.cm-bracket,.cm-s-abbott span.cm-punctuation{color:#fef3b4}.cm-s-abbott span.cm-operator{font-weight:bold}.cm-s-abbott span.cm-def,.cm-s-abbott span.cm-variable,.cm-s-abbott span.cm-variable-2,.cm-s-abbott span.cm-variable-3{color:#8ccdf0}.cm-s-abbott span.cm-builtin,.cm-s-abbott span.cm-property,.cm-s-abbott span.cm-qualifier{color:#3f91f1}.cm-s-abbott span.cm-type{color:#24a507}.cm-s-abbott span.cm-keyword{color:#d80450;font-weight:bold}.cm-s-abbott span.cm-meta{color:#ec6c99}.cm-s-abbott span.cm-tag{color:#d80450;font-weight:bold}.cm-s-abbott span.cm-attribute{color:#24a507}.cm-s-abbott span.cm-header{color:#d80450;font-weight:bold}.cm-s-abbott span.cm-hr{color:#ec6c99}.cm-s-abbott span.cm-link{color:#e6a2f3}.cm-s-abbott span.cm-negative{background:#d80450;color:#231c14}.cm-s-abbott span.cm-positive{background:#a0ea00;color:#231c14;font-weight:bold}.cm-s-abbott span.cm-error{background:#d80450;color:#231c14}.cm-s-abbott span.CodeMirror-matchingbracket{background:#745d42!important;color:#231c14!important;font-weight:bold}.cm-s-abbott span.CodeMirror-nonmatchingbracket{background:#d80450!important;color:#231c14!important}.cm-s-abbott .CodeMirror-matchingtag,.cm-s-abbott .cm-matchhighlight{outline:1px solid #39a78d}.cm-s-abbott .CodeMirror-activeline-background,.cm-s-abbott .CodeMirror-activeline-gutter{background:#3c3022}.cm-s-abbott .CodeMirror-activeline-gutter .CodeMirror-linenumber{color:#d8ff84;font-weight:bold}.cm-s-abbott .CodeMirror-foldmarker{color:#f63f05;text-shadow:none}.cm-s-ambiance.CodeMirror{box-shadow:none}.cm-s-ambiance .cm-comment{color:#555;font-style:italic}.cm-s-ambiance .cm-header{color:blue}.cm-s-ambiance .cm-quote{color:#24C2C7}.cm-s-ambiance .cm-keyword{color:#cda869}.cm-s-ambiance .cm-atom{color:#CF7EA9}.cm-s-ambiance .cm-number{color:#78CF8A}.cm-s-ambiance .cm-def{color:#aac6e3}.cm-s-ambiance .cm-variable{color:#ffb795}.cm-s-ambiance .cm-variable-2{color:#eed1b3}.cm-s-ambiance .cm-variable-3,.cm-s-ambiance .cm-type{color:#faded3}.cm-s-ambiance .cm-property{color:#eed1b3}.cm-s-ambiance .cm-operator{color:#fa8d6a}.cm-s-ambiance .cm-string{color:#8f9d6a}.cm-s-ambiance .cm-string-2{color:#9d937c}.cm-s-ambiance .cm-meta{color:#D2A8A1}.cm-s-ambiance .cm-qualifier{color:yellow}.cm-s-ambiance .cm-builtin{color:#9999cc}.cm-s-ambiance .cm-bracket{color:#24C2C7}.cm-s-ambiance .cm-tag{color:#fee4ff}.cm-s-ambiance .cm-attribute{color:#9B859D}.cm-s-ambiance .cm-hr{color:pink}.cm-s-ambiance .cm-link{color:#F4C20B}.cm-s-ambiance .cm-special{color:#FF9D00}.cm-s-ambiance .cm-error{color:#AF2018}.cm-s-ambiance .CodeMirror-matchingbracket{color:#0f0}.cm-s-ambiance .CodeMirror-nonmatchingbracket{color:#f22}.cm-s-ambiance div.CodeMirror-selected{background:rgba(255,255,255,.15)}.cm-s-ambiance.CodeMirror-focused div.CodeMirror-selected{background:rgba(255,255,255,.1)}.cm-s-ambiance .CodeMirror-line::selection,.cm-s-ambiance .CodeMirror-line>span::selection,.cm-s-ambiance .CodeMirror-line>span>span::selection{background:rgba(255,255,255,.1)}.cm-s-ambiance .CodeMirror-line::-moz-selection,.cm-s-ambiance .CodeMirror-line>span::-moz-selection,.cm-s-ambiance .CodeMirror-line>span>span::-moz-selection{background:rgba(255,255,255,.1)}.cm-s-ambiance.CodeMirror{line-height:1.4em;color:#E6E1DC;background-color:#202020;box-shadow:inset 0 0 10px black}.cm-s-ambiance .CodeMirror-gutters{background:#3D3D3D;border-right:1px solid #4D4D4D;box-shadow:0 10px 20px black}.cm-s-ambiance .CodeMirror-linenumber{text-shadow:0 1px 1px #4d4d4d;color:#111;padding:0 5px}.cm-s-ambiance .CodeMirror-guttermarker{color:#aaa}.cm-s-ambiance .CodeMirror-guttermarker-subtle{color:#111}.cm-s-ambiance .CodeMirror-cursor{border-left:1px solid #7991E8}.cm-s-ambiance .CodeMirror-activeline-background{background:none repeat scroll 0 0 rgba(255,255,255,.031)}.cm-s-ambiance.CodeMirror,.cm-s-ambiance .CodeMirror-gutters{background-image:url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAQAAAAHUWYVAABFFUlEQVQYGbzBCeDVU/74/6fj9HIcx/FRHx9JCFmzMyGRURhLZIkUsoeRfUjS2FNDtr6WkMhO9sm+S8maJfu+Jcsg+/o/c+Z4z/t97/vezy3z+z8ekGlnYICG/o7gdk+wmSHZ1z4pJItqapjoKXWahm8NmV6eOTbWUOp6/6a/XIg6GQqmenJ2lDHyvCFZ2cBDbmtHA043VFhHwXxClWmeYAdLhV00Bd85go8VmaFCkbVkzlQENzfBDZ5gtN7HwF0KDrTwJ0dypSOzpaKCMwQHKTIreYIxlmhXTzTWkVm+LTynZhiSBT3RZQ7aGfjGEd3qyXQ1FDymqbKxpspERQN2MiRjNZlFFQXfCNFm9nM1zpAsoYjmtRTc5ajwuaXc5xrWskT97RaKzAGe5ARHhVUsDbjKklziiX5WROcJwSNCNI+9w1Jwv4Zb2r7lCMZ4oq5C0EdTx+2GzNuKpJ+iFf38JEWkHJn9DNF7mmBDITrWEg0VWL3pHU20tSZnuqWu+R3BtYa8XxV1HO7GyD32UkOpL/yDloINFTmvtId+nmAjxRw40VMwVKiwrKLE4bK5UOVntYwhOcSSXKrJHKPJedocpGjVz/ZMIbnYUPB10/eKCrs5apqpgVmWzBYWpmtKHecJPjaUuEgRDDaU0oZghCJ6zNMQ5ZhDYx05r5v2muQdM0EILtXUsaKiQX9WMEUotagQzFbUNN6NUPC2nm5pxEWGCjMc3GdJHjSU2kORLK/JGSrkfGEIjncU/CYUnOipoYemwj8tST9NsJmB7TUVXtbUtXATJVZXBMvYeTXJfobgJUPmGMP/yFaWonaa6BcFO3nqcIqCozSZoZoSr1g4zJOzuyGnxTEX3lUEJ7WcZgme8ddaWvWJo2AJR9DZU3CUIbhCSG6ybSwN6qtJVnCU2svDTP2ZInOw2cBTrqtQahtNZn9NcJ4l2NaSmSkkP1noZWnVwkLmdUPOwLZEwy2Z3S3R+4rIG9hcbpPXHFVWcQdZkn2FOta3cKWQnNRC5g1LsJah4GCzSVsKnCOY5OAFRTBekyyryeyilhFKva75r4Mc0aWanGEaThcy31s439KKxTzJYY5WTHPU1FtIHjQU3Oip4xlNzj/lBw23dYZVliQa7WAXf4shetcQfatI+jWRDBPmyNeW6A1P5kdDgyYJlba0BIM8BZu1JfrFwItyjcAMR3K0BWOIrtMEXyhyrlVEx3ui5dUBjmB/Q3CXW85R4mBD0s7B+4q5tKUjOlb9qqmhi5AZ6GFIC5HXtOobdYGlVdMVbNJ8toNTFcHxnoL+muBagcctjWnbNMuR00uI7nQESwg5q2qqrKWIfrNUmeQocY6HuyxJV02wj36w00yhpmUFenv4p6fUkZYqLyuinx2RGOjhCXYyJF84oiU00YMOOhhquNdfbOB7gU88pY4xJO8LVdp6/q2voeB4R04vIdhSE40xZObx1HGGJ/ja0LBthFInKaLPPFzuCaYaoj8JjPME8yoyxo6zlBqkiUZYgq00OYMswbWO5NGmq+xhipxHLRW29ARjNKXO0wRnear8XSg4XFPLKEPUS1GqvyLwiuBUoa7zpZ0l5xxFwWmWZC1H5h5FwU8eQ7K+g8UcVY6TMQreVQT/8uQ8Z+ALIXnSEa2pYZQneE9RZbSBNYXfWYJzW/h/4j4Dp1tYVcFIC5019Vyi4ThPqSFCzjGWaHQTBU8q6vrVwgxP9Lkm840imWKpcLCjYTtrKuwvsKSnrvHCXGkSMk9p6lhckfRpIeis+N2PiszT+mFLspyGleUhDwcLrZqmyeylxwjBcKHEapqkmyangyLZRVOijwOtCY5SsG5zL0OwlCJ4y5KznF3EUNDDrinwiyLZRzOXtlBbK5ITHFGLp8Q0R6ab6mS7enI2cFrxOyHvOCFaT1HThS1krjCwqWeurCkk+willhCC+RSZnRXBiZaC5RXRIZYKp2lyfrHwiKPKR0JDzrdU2EFgpidawlFDR6FgXUMNa+g1FY3bUQh2cLCwosRdnuQTS/S+JVrGLeWIvtQUvONJxlqSQYYKpwoN2kaocLjdVsis4Mk80ESF2YpSkzwldjHkjFCUutI/r+EHDU8oCs6yzL3PhWiEooZdFMkymlas4AcI3KmoMMNSQ3tHzjGWCrcJJdYyZC7QFGwjRL9p+MrRkAGWzIaWCn9W0F3TsK01c2ZvQw0byvxuQU0r1lM0qJO7wW0kRIMdDTtXEdzi4VIh+EoIHm0mWtAtpCixlabgn83fKTI7anJe9ST7WIK1DMGpQmYeA58ImV6ezOGOzK2Kgq01pd60cKWiUi9Lievb/0vIDPHQ05Kzt4ddPckQBQtoaurjyHnek/nKzpQLrVgKPjIkh2v4uyezpv+Xoo7fPFXaGFp1vaLKxQ4uUpQQS5VuQs7BCq4xRJv7fwpVvvFEB3j+620haOuocqMhWd6TTPAEx+mdFNGHdranFe95WrWmIvlY4F1Dle2ECgc6cto7SryuqGGGha0tFQ5V53migUKmg6XKAo4qS3mik+0OZpAhOLeZKicacgaYcyx5hypYQE02ZA4xi/pNhOQxR4klNKyqacj+mpxnLTnnGSo85++3ZCZq6lrZkXlGEX3o+C9FieccJbZWVFjC0Yo1FZnJhoYMFoI1hEZ9r6hwg75HwzBNhbZCdJEfJwTPGzJvaKImw1yYX1HDAmpXR+ZJQ/SmgqMNVQb5vgamGwLtt7VwvP7Qk1xpiM5x5Cyv93E06MZmgs0Nya2azIKOYKCGBQQW97RmhKNKF02JZqHEJ4o58qp7X5EcZmc56trXEqzjCBZ1MFGR87Ql2tSTs6CGxS05PTzRQorkbw7aKoKXFDXsYW42VJih/q+FP2BdTzDTwVqOYB13liM50vG7wy28qagyuIXMeQI/Oqq8bcn5wJI50xH00CRntyfpL1T4hydYpoXgNiFzoIUTDZnLNRzh4TBHwbYGDvZkxmlyJloyr6tRihpeUG94GnKtIznREF0tzJG/OOr73JBcrSh1k6WuTprgLU+mnSGnv6Zge0NNz+kTDdH8nuAuTdJDCNb21LCiIuqlYbqGzT3RAoZofQfjFazkqeNWdYaGvYTM001EW2oKPvVk1ldUGSgUtHFwjKM1h9jnFcmy5lChoLNaQMGGDsYbKixlaMBmmsx1QjCfflwTfO/gckW0ruZ3jugKR3R5W9hGUWqCgxuFgsuaCHorotGKzGaeZB9DMsaTnKCpMtwTvOzhYk0rdrArKCqcaWmVk1+F372ur1YkKxgatI8Qfe1gIX9wE9FgS8ESmuABIXnRUbCapcKe+nO7slClSZFzpV/LkLncEb1qiO42fS3R855Su2mCLh62t1SYZZYVmKwIHjREF2uihTzB20JOkz7dkxzYQnK0UOU494wh+VWRc6Un2kpTaVgLDFEkJ/uhzRcI0YKGgpGWOlocBU/a4fKoJ/pEaNV6jip3+Es9VXY078rGnmAdf7t9ylPXS34RBSuYPs1UecZTU78WanhBCHpZ5sAoTz0LGZKjPf9TRypqWEiTvOFglL1fCEY3wY/++rbk7C8bWebA6p6om6PgOL2kp44TFJlVNBXae2rqqdZztOJpT87GQsE9jqCPIe9VReZuQ/CIgacsyZdCpIScSYqcZk8r+nsyCzhyfhOqHGOIvrLknC8wTpFcaYiGC/RU1NRbUeUpocQOnkRpGOrIOcNRx+1uA0UrzhSSt+VyS3SJpnFWkzNDqOFGIWcfR86DnmARTQ1HKIL33ExPiemeOhYSSjzlSUZZuE4TveoJLnBUOFof6KiysCbnAEcZgcUNTDOwkqWu3RWtmGpZwlHhJENdZ3miGz0lJlsKnjbwqSHQjpxnFDlTLLwqJPMZMjd7KrzkSG7VsxXBZE+F8YZkb01Oe00yyRK9psh5SYh29ySPKBo2ylNht7ZkZnsKenjKNJu9PNEyZpaCHv4Kt6RQsLvAVp7M9kIimmCUwGeWqLMmGuIotYMmWNpSahkhZw9FqZsVnKJhsjAHvtHMsTM9fCI06Dx/u3vfUXCqfsKRc4oFY2jMsoo/7DJDwZ1CsIKnJu+J9ldkpmiCxQx1rWjI+T9FwcWWzOuaYH0Hj7klNRVWEQpmaqosakiGNTFHdjS/qnUdmf0NJW5xsL0HhimCCZZSRzmSPTXJQ4aaztAwtZnoabebJ+htCaZ7Cm535ByoqXKbX1WRc4Eh2MkRXWzImVc96Cj4VdOKVxR84VdQsIUM8Psoou2byVHyZFuq7O8otbSQ2UAoeEWTudATLGSpZzVLlXVkPU2Jc+27lsw2jmg5T5VhbeE3BT083K9WsTTkFU/Osi0rC5lRlpwRHUiesNS0sOvmqGML1aRbPAxTJD9ZKtxuob+hhl8cwYGWpJ8nub7t5p6coYbMovZ1BTdaKn1jYD6h4GFDNFyT/Kqe1XCXphXHOKLZmuRSRdBPEfVUXQzJm5YGPGGJdvAEr7hHNdGZnuBvrpciGmopOLf5N0uVMy0FfYToJk90uUCbJupaVpO53UJXR2bVpoU00V2KOo4zMFrBd0Jtz2pa0clT5Q5L8IpQ177mWQejPMEJhuQjS10ref6HHjdEhy1P1EYR7GtO0uSsKJQYLiTnG1rVScj5lyazpqWGl5uBbRWl7m6ixGOOnEsMJR7z8J0n6KMnCdxhiNYQCoZ6CmYLnO8omC3MkW3bktlPmEt/VQQHejL3+dOE5FlPdK/Mq8hZxxJtLyRrepLThYKbLZxkSb5W52vYxNOaOxUF0yxMUPwBTYqCzy01XayYK0sJyWBLqX0MwU5CzoymRzV0EjjeUeLgDpTo6ij42ZAzvD01dHUUTPLU96MdLbBME8nFBn7zJCMtJcZokn8YoqU0FS5WFKyniHobguMcmW8N0XkWZjkyN3hqOMtS08r+/xTBwpZSZ3qiVRX8SzMHHjfUNFjgHEPmY9PL3ykEzxkSre/1ZD6z/NuznuB0RcE1TWTm9zRgfUWVJiG6yrzgmWPXC8EAR4Wxhlad0ZbgQyEz3pG5RVEwwDJH2mgKpjcTiCOzn1lfUWANFbZ2BA8balnEweJC9J0iuaeZoI+ippFCztEKVvckR2iice1JvhVytrQwUAZpgsubCPaU7xUe9vWnaOpaSBEspalykhC9bUlOMpT42ZHca6hyrqKmw/wMR8H5ZmdFoBVJb03O4UL0tSNnvIeRmkrLWqrs78gcrEn2tpcboh0UPOW3UUR9PMk4T4nnNKWmCjlrefhCwxRNztfmIQVdDElvS4m1/WuOujoZCs5XVOjtKPGokJzsYCtFYoWonSPT21DheU/wWhM19FcElwqNGOsp9Q8N/cwXaiND1MmeL1Q5XROtYYgGeFq1aTMsoMmcrKjQrOFQTQ1fmBYhmW6o8Jkjc7iDJRTBIo5kgJD5yMEYA3srCg7VFKwiVJkmRCc5ohGOKhsYMn/XBLdo5taZjlb9YAlGWRimqbCsoY7HFAXLa5I1HPRxMMsQDHFkWtRNniqT9UEeNjcE7RUlrCJ4R2CSJuqlKHWvJXjAUNcITYkenuBRB84TbeepcqTj3zZyFJzgYQdHnqfgI0ddUwS6GqWpsKWhjq9cV0vBAEMN2znq+EBfIWT+pClYw5xsTlJU6GeIBsjGmmANTzJZiIYpgrM0Oa8ZMjd7NP87jxhqGOhJlnQtjuQpB+8aEE00wZFznSJPyHxgH3HkPOsJFvYk8zqCHzTs1BYOa4J3PFU+UVRZxlHDM4YavlNUuMoRveiZA2d7grMNc2g+RbSCEKzmgYsUmWmazFJyoiOZ4KnyhKOGRzWJa0+moyV4TVHDzn51Awtqaphfk/lRQ08FX1iiqxTB/kLwd0VynKfEvI6cd4XMV5bMhZ7gZUWVzYQ6Nm2BYzxJbw3bGthEUUMfgbGeorae6DxHtJoZ6alhZ0+ytiVoK1R4z5PTrOECT/SugseEOlb1MMNR4VRNcJy+V1Hg9ONClSZFZjdHlc6W6FBLdJja2MC5hhpu0DBYEY1TFGwiFAxRRCsYkiM9JRb0JNMVkW6CZYT/2EiTGWmo8k+h4FhDNE7BvppoTSFnmCV5xZKzvcCdDo7VVPnIU+I+Rc68juApC90MwcFCsJ5hDqxgScYKreruyQwTqrzoqDCmhWi4IbhB0Yrt3RGa6GfDv52rKXWhh28dyZaWUvcZeMTBaZoSGyiCtRU5J8iviioHaErs7Jkj61syVzTTgOcUOQ8buFBTYWdL5g3T4qlpe0+wvD63heAXRfCCIed9RbCsp2CiI7raUOYOTU13N8PNHvpaGvayo4a3LLT1lDrVEPT2zLUlheB1R+ZTRfKWJ+dcocLJfi11vyJ51lLqJ0WD7tRwryezjiV5W28uJO9qykzX8JDe2lHl/9oyBwa2UMfOngpXCixvKdXTk3wrsKmiVYdZIqsoWEERjbcUNDuiaQomGoIbFdEHmsyWnuR+IeriKDVLnlawlyNHKwKlSU631PKep8J4Q+ayjkSLKYLhalNHlYvttb6fHm0p6OApsZ4l2VfdqZkjuysy6ysKLlckf1KUutCTs39bmCgEyyoasIWlVaMF7mgmWtBT8Kol5xpH9IGllo8cJdopcvZ2sImlDmMIbtDk3KIpeNiS08lQw11NFPTwVFlPP6pJ2gvRfI7gQUfmNAtf6Gs0wQxDsKGlVBdF8rCa3jzdwMaGHOsItrZk7hAyOzpK9VS06j5F49b0VNGOOfKs3lDToMsMBe9ZWtHFEgxTJLs7qrygKZjUnmCYoeAqeU6jqWuLJup4WghOdvCYJnrSkSzoyRkm5M2StQwVltPkfCAk58tET/CSg+8MUecmotMEnhBKfWBIZsg2ihruMJQaoIm+tkTLKEqspMh00w95gvFCQRtDwTT1gVDDSEVdlwqZfxoQRbK0g+tbiBZxzKlpnpypejdDwTaeOvorMk/IJE10h9CqRe28hhLbe0pMsdSwv4ZbhKivo2BjDWfL8UKJgeavwlwb5KlwhyE4u4XkGE2ytZCznKLCDZZq42VzT8HLCrpruFbIfOIINmh/qCdZ1ZBc65kLHR1Bkyf5zn6pN3SvGKIlFNGplhrO9QSXanLOMQTLCa0YJCRrCZm/CZmrLTm7WzCK4GJDiWUdFeYx1LCFg3NMd0XmCuF3Y5rITLDUsYS9zoHVzwnJoYpSTQoObyEzr4cFBNqYTopoaU/wkyLZ2lPhX/5Y95ulxGTV7KjhWrOZgl8MyUUafjYraNjNU1N3IWcjT5WzWqjwtoarHSUObGYO3GCJZpsBlnJGPd6ZYLyl1GdCA2625IwwJDP8GUKymbzuyPlZlvTUsaUh5zFDhRWFzPKKZLAlWdcQbObgF9tOqOsmB1dqcqYJmWstFbZRRI9poolmqiLnU0POvxScpah2iSL5UJNzgScY5+AuIbpO0YD3NCW+dLMszFSdFCWGqG6eVq2uYVNDdICGD6W7EPRWZEY5gpsE9rUkS3mijzzJnm6UpUFXG1hCUeVoS5WfNcFpblELL2qqrCvMvRfd45oalvKU2tiQ6ePJOVMRXase9iTtLJztPxJKLWpo2CRDcJwn2sWSLKIO1WQWNTCvpVUvOZhgSC40JD0dOctaSqzkCRbXsKlb11Oip6PCJ0IwSJM31j3akRxlP7Rwn6aGaUL0qiLnJkvB3xWZ2+Q1TfCwpQH3G0o92UzmX4o/oJNQMMSQc547wVHhdk+VCw01DFYEnTxzZKAm74QmeNNR1w6WzEhNK15VJzuCdxQ53dRUDws5KvwgBMOEgpcVNe0hZI6RXT1Jd0cyj5nsaEAHgVmGaJIlWdsc5Ui2ElrRR6jrRAttNMEAIWrTDFubkZaok7/AkzfIwfuWVq0jHzuCK4QabtLUMVPB3kJ0oyHTSVFlqMALilJf2Rf8k5aaHtMfayocLBS8L89oKoxpJvnAkDPa0qp5DAUTHKWmCcnthlou8iCKaFFLHWcINd1nyIwXqrSxMNmSs6KmoL2QrKuWtlQ5V0120xQ5vRyZS1rgFkWwhiOwiuQbR0OOVhQM9iS3tiXp4RawRPMp5tDletOOBL95MpM01dZTBM9pkn5qF010rIeHFcFZhmSGpYpTsI6nwhqe5C9ynhlpp5ophuRb6WcJFldkVnVEwwxVfrVkvnWUuNLCg5bgboFHPDlDPDmnK7hUrWiIbjadDclujlZcaokOFup4Ri1kacV6jmrrK1hN9bGwpKEBQ4Q6DvIUXOmo6U5LqQM6EPyiKNjVkPnJkDPNEaxhiFay5ExW1NXVUGqcpYYdPcGiCq7z/TSlbhL4pplWXKd7NZO5QQFrefhRQW/NHOsqcIglc4UhWklR8K0QzbAw08CBDnpbgqXdeD/QUsM4RZXDFBW6WJKe/mFPdH0LtBgiq57wFLzlyQzz82qYx5D5WJP5yVJDW01BfyHnS6HKO/reZqId1WGa4Hkh2kWodJ8i6KoIPlAj2hPt76CzXsVR6koPRzWTfKqIentatYpQw2me4AA3y1Kind3SwoOKZDcFXTwl9tWU6mfgRk9d71sKtlNwrjnYw5tC5n5LdKiGry3JKNlHEd3oaMCFHrazBPMp/uNJ+V7IudcSbeOIdjUEdwl0VHCOZo5t6YluEuaC9mQeMgSfOyKnYGFHcIeQ84yQWbuJYJpZw5CzglDH7gKnWqqM9ZTaXcN0TeYhR84eQtJT76JJ1lREe7WnnvsMmRc9FQ7SBBM9mV3lCUdmHk/S2RAMt0QjFNFqQpWjDPQ01DXWUdDBkXziKPjGEP3VP+zIWU2t7im41FOloyWzn/L6dkUy3VLDaZ6appgDLHPjJEsyvJngWEPUyVBiAaHCTEXwrLvSEbV1e1gKJniicWorC1MUrVjB3uDhJE/wgSOzk1DXpk0k73qCM8xw2UvD5kJmDUfOomqMpWCkJRlvKXGmoeBm18USjVIk04SClxTB6YrgLAPLWYK9HLUt5cmc0vYES8GnTeRc6skZbQkWdxRsIcyBRzx1DbTk9FbU0caTPOgJHhJKnOGIVhQqvKmo0llRw9sabrZkDtdg3PqaKi9oatjY8B+G371paMg6+mZFNNtQ04mWBq3rYLOmtWWQp8KJnpy9DdFensyjdqZ+yY40VJlH8wcdLzC8PZnvHMFUTZUrDTkLyQaGus5X5LzpYAf3i+e/ZlhqGqWhh6Ou6xTR9Z6oi5AZZtp7Mj2EEm8oSpxiYZCHU/1fbGdNNNRRoZMhmilEb2gqHOEJDtXkHK/JnG6IrvbPCwV3NhONVdS1thBMs1T4QOBcTWa2IzhMk2nW5Kyn9tXUtpv9RsG2msxk+ZsQzRQacJncpgke0+T8y5Fzj8BiGo7XlJjaTIlpQs7KFjpqGnKuoyEPeIKnFMkZHvopgh81ySxNFWvJWcKRs70j2FOT012IllEEO1n4pD1513Yg2ssQPOThOkvyrqHUdEXOSEsihmBbTbKX1kLBPWqWkLOqJbjB3GBIZmoa8qWl4CG/iZ7oiA72ZL7TJNeZUY7kFQftDcHHluBzRbCegzMtrRjVQpX2lgoPKKLJAkcbMl01XK2p7yhL8pCBbQ3BN2avJgKvttcrWDK3CiUOVxQ8ZP+pqXKyIxnmBymCg5vJjNfkPK4+c8cIfK8ocVt7kmfd/I5SR1hKvCzUtb+lhgc00ZaO6CyhIQP1Uv4yIZjload72PXX0OIJvnFU+0Zf6MhsJwTfW0r0UwQfW4LNLZl5HK261JCZ4qnBaAreVAS3WrjV0LBnNDUNNDToCEeFfwgcb4gOEqLRhirWkexrCEYKVV711DLYEE1XBEsp5tpTGjorkomKYF9FDXv7fR3BGwbettSxnyL53MBPjsxDZjMh+VUW9NRxq1DhVk+FSxQcaGjV9Pawv6eGByw5qzoy7xk4RsOShqjJwWKe/1pEEfzkobeD/dQJmpqedcyBTy2sr4nGNRH0c0SPWTLrqAc0OQcb/gemKgqucQT7ySWKCn2EUotoCvpZct7RO2sy/QW0IWcXd7pQRQyZVwT2USRO87uhjioTLKV2brpMUcMQRbKH/N2T+UlTpaMls6cmc6CCNy3JdYYSUzzJQ4oSD3oKLncULOiJvjBEC2oqnCJkJluCYy2ZQ5so9YYlZ1VLlQU1mXEW1jZERwj/MUSRc24TdexlqLKfQBtDTScJUV8FszXBEY5ktpD5Ur9hYB4Nb1iikw3JoYpkKX+RodRKFt53MMuRnKSpY31PwYaGaILh3wxJGz9TkTPEETxoCWZrgvOlmyMzxFEwVJE5xZKzvyJ4WxEc16Gd4Xe3Weq4XH2jKRikqOkGQ87hQnC7wBmGYLAnesX3M+S87eFATauuN+Qcrh7xIxXJbUIdMw3JGE3ylCWzrieaqCn4zhGM19TQ3z1oH1AX+pWEqIc7wNGAkULBo/ZxRaV9NNyh4Br3rCHZzbzmSfawBL0dNRwpW1kK9mxPXR9povcdrGSZK9c2k0xwFGzjuniCtRSZCZ6ccZ7gaktmgAOtKbG/JnOkJrjcQTdFMsxRQ2cLY3WTIrlCw1eWKn8R6pvt4GFDso3QoL4a3nLk3G6JrtME3dSenpx7PNFTmga0EaJTLQ061sEeQoWXhSo9LTXsaSjoJQRXeZLtDclbCrYzfzHHeaKjHCVOUkQHO3JeEepr56mhiyaYYKjjNU+Fed1wS5VlhWSqI/hYUdDOkaxiKehoyOnrCV5yBHtbWFqTHCCwtpDcYolesVR5yUzTZBb3RNMd0d6WP+SvhuBmRcGxnuQzT95IC285cr41cLGQ6aJJhmi4TMGempxeimBRQw1tFKV+8jd6KuzoSTqqDxzRtpZkurvKEHxlqXKRIjjfUNNXQsNOsRScoWFLT+YeRZVD3GRN0MdQcKqQjHDMrdGGVu3iYJpQx3WGUvfbmxwFfR20WBq0oYY7LMFhhgYtr8jpaEnaOzjawWWaTP8mMr0t/EPDPoqcnxTBI5o58L7uoWnMrpoqPwgVrlAUWE+V+TQl9rawoyP6QGAlQw2TPRX+YSkxyBC8Z6jhHkXBgQL7WII3DVFnRfCrBfxewv9D6xsyjys4VkhWb9pUU627JllV0YDNHMku/ldNMMXDEo4aFnAkk4U6frNEU4XgZUPmEKHUl44KrzmYamjAbh0JFvGnaTLPu1s9jPCwjFpYiN7z1DTOk/nc07CfDFzmCf7i+bfNHXhDtLeBXzTBT5rkMvWOIxpl4EMh2LGJBu2syDnAEx2naEhHDWMMzPZEhygyS1mS5RTJr5ZkoKbEUoYqr2kqdDUE8ztK7OaIntJkFrIECwv8LJTaVx5XJE86go8dFeZ3FN3rjabCAYpoYEeC9zzJVULBbmZhDyd7ko09ydpNZ3nm2Kee4FPPXHnYEF1nqOFEC08LUVcDvYXkJHW8gTaKCk9YGOeIJhqiE4ToPEepdp7IWFjdwnWaufGMwJJCMtUTTBBK9BGCOy2tGGrJTHIwyEOzp6aPzNMOtlZkDvcEWpP5SVNhfkvDxhmSazTJXYrM9U1E0xwFVwqZQwzJxw6+kGGGUj2FglGGmnb1/G51udRSMNlTw6GGnCcUwVcOpmsqTHa06o72sw1RL02p9z0VbnMLOaIX3QKaYKSCFQzBKEUNHTSc48k53RH9wxGMtpQa5KjjW0W0n6XCCCG4yxNNdhQ4R4l1Ff+2sSd6UFHiIEOyqqFgT01mEUMD+joy75jPhOA+oVVLm309FR4yVOlp4RhLiScNmSmaYF5Pw0STrOIoWMSR2UkRXOMp+M4SHW8o8Zoi6OZgjKOaFar8zZDzkWzvKOjkKBjmCXby8JahhjXULY4KlzgKLvAwxVGhvyd4zxB1d9T0piazmKLCVZY5sKiD0y2ZSYrkUEPUbIk+dlQ4SJHTR50k1DPaUWIdTZW9NJwnJMOECgd7ou/MnppMJ02O1VT4Wsh85MnZzcFTngpXGKo84qmwgKbCL/orR/SzJ2crA+t6Mp94KvxJUeIbT3CQu1uIdlQEOzlKfS3UMcrTiFmOuroocrZrT2AcmamOKg8YomeEKm/rlT2sociMaybaUlFhuqHCM2qIJ+rg4EcDFymiDSxzaHdPcpE62pD5kyM5SBMoA1PaUtfIthS85ig1VPiPPYXgYEMNk4Qq7TXBgo7oT57gPUdwgCHzhIVFPFU6OYJzHAX9m5oNrVjeE61miDrqQ4VSa1oiURTsKHC0IfjNwU2WzK6eqK8jWln4g15TVBnqmDteCJ501PGAocJhhqjZdtBEB6lnhLreFJKxmlKbeGrqLiSThVIbCdGzloasa6lpMQXHCME2boLpJgT7yWaemu6wBONbqGNVRS0PKIL7LckbjmQtR7K8I5qtqel+T/ChJTNIKLjdUMNIRyvOEko9YYl2cwQveBikCNawJKcLBbc7+JM92mysNvd/Fqp8a0k6CNEe7cnZrxlW0wQXaXjaktnRwNOGZKYiONwS7a1JVheq3WgJHlQUGKHKmp4KAxXR/ULURcNgoa4zhKSLpZR3kxRRb0NmD0OFn+UCS7CzI1nbP6+o4x47QZE5xRCt3ZagnYcvmpYQktXdk5YKXTzBC57kKEe0VVuiSYqapssMS3C9p2CKkHOg8B8Pa8p5atrIw3qezIWanMGa5HRDNF6RM9wcacl0N+Q8Z8hsIkSnaIIdHRUOEebAPy1zbCkhM062FCJtif7PU+UtoVXzWKqM1PxXO8cfdruhFQ/a6x3JKYagvVDhQEtNiyiiSQ7OsuRsZUku0CRNDs4Sog6KKjsZgk2bYJqijgsEenoKeniinRXBn/U3lgpPdyDZynQx8IiioMnCep5Ky8mjGs6Wty0l1hUQTcNWswS3WRp2kCNZwJG8omG8JphPUaFbC8lEfabwP7VtM9yoaNCAjpR41VNhrD9LkbN722v0CoZMByFzhaW+MyzRYEWFDQwN2M4/JiT76PuljT3VU/A36eaIThb+R9oZGOAJ9tewkgGvqOMNRWYjT/Cwu99Q8LqDE4TgbLWxJ1jaDDAERsFOFrobgjUsBScaguXU8kKm2RL19tRypSHnHNlHiIZqgufs4opgQdVdwxBNNFBR6kVFqb8ogimOzB6a6HTzrlDHEpYaxjiiA4TMQobkDg2vejjfwJGWmnbVFAw3H3hq2NyQfG7hz4aC+w3BbwbesG0swYayvpAs6++Ri1Vfzx93mFChvyN5xVHTS+0p9aqCAxyZ6ZacZyw5+7uuQkFPR9DDk9NOiE7X1PCYJVjVUqq7JlrHwWALF5nfHNGjApdpqgzx5OwilDhCiDYTgnc9waGW4BdLNNUQvOtpzDOWHDH8D7TR/A/85KljEQu3NREc4Pl/6B1Hhc8Umb5CsKMmGC9EPcxoT2amwHNCmeOEnOPbklnMkbOgIvO5UMOpQrS9UGVdt6iH/fURjhI/WOpaW9OKLYRod6HCUEdOX000wpDZQ6hwg6LgZfOqo1RfT/CrJzjekXOGhpc1VW71ZLbXyyp+93ILbC1kPtIEYx0FIx1VDrLoVzXRKRYWk809yYlC9ImcrinxtabKnzRJk3lAU1OLEN1j2zrYzr2myHRXJFf4h4QKT1qSTzTB5+ZNTzTRkAxX8FcLV2uS8eoQQ2aAkFzvCM72sJIcJET3WPjRk5wi32uSS9rfZajpWEvj9hW42F4o5NytSXYy8IKHay10VYdrcl4SkqscrXpMwyGOgtkajheSxdQqmpxP1L3t4R5PqasFnrQEjytq6qgp9Y09Qx9o4S1FzhUCn1kyHSzBWLemoSGvOqLNhZyBjmCaAUYpMgt4Ck7wBBMMwWKWgjsUwTaGVsxWC1mYoKiyqqeGKYqonSIRQ3KIkHO0pmAxTdBHkbOvfllfr+AA+7gnc50huVKYK393FOyg7rbPO/izI7hE4CnHHHnJ0ogNPRUGeUpsrZZTBJcrovUcJe51BPsr6GkJdhCCsZ6aTtMEb2pqWkqeVtDXE/QVggsU/Nl86d9RMF3DxvZTA58agu810RWawCiSzzXBeU3MMW9oyJUedvNEvQyNu1f10BSMddR1vaLCYpYa/mGocLSiYDcLbQz8aMn5iyF4xBNMs1P0QEOV7o5gaWGuzSeLue4tt3ro7y4Tgm4G/mopdZgl6q0o6KzJWE3mMksNr3r+a6CbT8g5wZNzT9O7fi/zpaOmnz3BRoqos+tv9zMbdpxsqDBOEewtJLt7cg5wtKKbvldpSzRRCD43VFheCI7yZLppggMVBS/KMAdHODJvOwq2NQSbKKKPLdFWQs7Fqo+mpl01JXYRgq8dnGLhTiFzqmWsUMdpllZdbKlyvSdYxhI9YghOtxR8LgSLWHK62mGGVoxzBE8LNWzqH9CUesQzFy5RQzTc56mhi6fgXEWwpKfE5Z7M05ZgZUPmo6auiv8YKzDYwWBLMErIbKHJvOwIrvEdhOBcQ9JdU1NHQ7CXn2XIDFBKU2WAgcX9UAUzDXWd5alwuyJ41Z9rjKLCL4aCp4WarhPm2rH+SaHUYE001JDZ2ZAzXPjdMpZWvC9wmqIB2lLhQ01D5jO06hghWMndbM7yRJMsoCj1vYbnFQVrW9jak3OlEJ3s/96+p33dEPRV5GxiqaGjIthUU6FFEZyqCa5qJrpBdzSw95IUnOPIrCUUjRZQFrbw5PR0R1qiYx3cb6nrWUMrBmmiBQxVHtTew5ICP/ip6g4hed/Akob/32wvBHsIOX83cI8hGeNeNPCIkPmXe8fPKx84OMSRM1MTdXSwjCZ4S30jVGhvqTRak/OVhgGazHuOCud5onEO1lJr6ecVyaOK6H7zqlBlIaHE0oroCgfvGJIdPcmfLNGLjpz7hZwZQpUbFME0A1cIJa7VNORkgfsMBatbKgwwJM9bSvQXeNOvbIjelg6WWvo5kvbKaJJNHexkKNHL9xRyFlH8Ti2riB5wVPhUk7nGkJnoCe428LR/wRGdYIlmWebCyxou1rCk4g/ShugBDX0V0ZQWkh0dOVsagkM0yV6OoLd5ye+pRlsCr0n+KiQrGuq5yJDzrTAXHtLUMduTDBVKrSm3eHL+6ijxhFDX9Z5gVU/wliHYTMiMFpKLNMEywu80wd3meoFmt6VbRMPenhrOc6DVe4pgXU8DnnHakLOIIrlF4FZPIw6R+zxBP0dyq6OOZ4Q5sLKCcz084ok+VsMMyQhNZmmBgX5xIXOEJTmi7VsGTvMTNdHHhpzdbE8Du2oKxgvBqQKdDDnTFOylCFaxR1syz2iqrOI/FEpNc3C6f11/7+ASS6l2inq2ciTrCCzgyemrCL5SVPjQkdPZUmGy2c9Sw9FtR1sS30RmsKPCS4rkIC/2U0MduwucYolGaPjKEyhzmiPYXagyWbYz8LWBDdzRimAXzxx4z8K9hpzlhLq+NiQ97HuKorMUfK/OVvC2JfiHUPCQI/q7J2gjK+tTDNxkCc4TMssqCs4TGtLVwQihyoAWgj9bosU80XGW6Ac9TJGziaUh5+hnFcHOnlaM1iRn29NaqGENTTTSUHCH2tWTeV0osUhH6psuVLjRUmGWhm6OZEshGeNowABHcJ2Bpy2ZszRcKkRXd2QuKVEeXnbfaEq825FguqfgfE2whlChSRMdron+LATTPQ2Z369t4B9C5gs/ylzv+CMmepIDPclFQl13W0rspPd1JOcbghGOEutqCv5qacURQl3dDKyvyJlqKXGPgcM9FfawJAMVmdcspcYKOZc4GjDYkFlK05olNMHyHn4zFNykyOxt99RkHlfwmiHo60l2EKI+mhreEKp080Tbug08BVPcgoqC5zWt+NLDTZ7oNSF51N1qie7Va3uCCwyZbkINf/NED6jzOsBdZjFN8oqG3wxVunqCSYYKf3EdhJyf9YWGf7tRU2oH3VHgPr1fe5J9hOgHd7xQ0y7qBwXr23aGErP0cm64JVjZwsOGqL+mhNgZmhJLW2oY4UhedsyBgzrCKrq7BmcpNVhR6jBPq64Vgi+kn6XE68pp8J5/+0wRHGOpsKenQn9DZntPzjRLZpDAdD2fnSgkG9tmIXnUwQ6WVighs7Yi2MxQ0N3CqYaCXkJ0oyOztMDJjmSSpcpvlrk0RMMOjmArQ04PRV1DO1FwhCVaUVPpKUM03JK5SxPsIWRu8/CGHi8UHChiqGFDTbSRJWeYUDDcH6vJWUxR4k1FXbMUwV6e4AJFXS8oMqsZKqzvYQ9DDQdZckY4aGsIhtlubbd2r3j4QBMoTamdPZk7O/Bf62lacZwneNjQoGcdVU7zJOd7ghsUHOkosagic6cnWc8+4gg285R6zZP5s1/LUbCKIznTwK36PkdwlOrl4U1LwfdCCa+IrvFkmgw1PCAUXKWo0sURXWcI2muKJlgyFzhynCY4RBOsqCjoI1R5zREco0n2Vt09BQtYSizgKNHfUmUrQ5UOCh51BFcLmY7umhYqXKQomOop8bUnWNNQcIiBcYaC6xzMNOS8JQQfeqKBmmglB+97ok/lfk3ygaHSyZaCRTzRxQo6GzLfa2jWBPepw+UmT7SQEJyiyRkhBLMVOfcoMjcK0eZChfUNzFAUzCsEN5vP/X1uP/n/aoMX+K+nw/Hjr/9xOo7j7Pju61tLcgvJpTWXNbfN5jLpi6VfCOviTktKlFusQixdEKWmEBUKNaIpjZRSSOXSgzaaKLdabrm1/9nZ+/f+vd/vz/v9+Xy+zZ7PRorYoZqyLrCwQdEAixxVOEXNNnjX2nUSRlkqGmWowk8lxR50JPy9Bo6qJXaXwNvREBvnThPEPrewryLhcAnj5WE15Fqi8W7R1sAuEu86S4ENikItFN4xkv9Af4nXSnUVcLiA9xzesFpivRRVeFKtsMRaKBhuSbjOELnAUtlSQUpXgdfB4Z1oSbnFEetbQ0IrAe+Y+pqnDcEJFj6S8LDZzZHwY4e3XONNlARraomNEt2bkvGsosA3ioyHm+6jCMbI59wqt4eeara28IzEmyPgoRaUOEDhTVdEJhmCoTWfC0p8aNkCp0oYqih2iqGi4yXeMkOsn4LdLLnmKfh/YogjNsPebeFGR4m9BJHLzB61XQ3BtpISfS2FugsK9FAtLWX1dCRcrCnUp44CNzuCowUZmxSRgYaE6Za0W2u/E7CVXCiI/UOR8aAm1+OSyE3mOUcwyc1zBBeoX1kiKy0Zfxck1Gsyulti11i83QTBF5Kg3pDQThFMVHiPSlK+0cSedng/VaS8bOZbtsBcTcZAR8JP5KeqQ1OYKAi20njdNNRpgnsU//K+JnaXJaGTomr7aYIphoRn9aeShJWKEq9LcozSF7QleEfDI5LYm5bgVkFkRwVDBCVu0DDIkGupo8TZBq+/pMQURYErJQmPKGKjNDkWOLx7Jd5QizdUweIaKrlP7SwJDhZvONjLkOsBBX9UpGxnydhXkfBLQ8IxgojQbLFnJf81JytSljclYYyEFyx0kVBvKWOFJmONpshGAcsduQY5giVNCV51eOdJYo/pLhbvM0uDHSevNKRcrKZIqnCtJeEsO95RoqcgGK4ocZcho1tTYtcZvH41pNQ7vA0WrhIfOSraIIntIAi+NXWCErdbkvrWwjRLrt0NKUdL6KSOscTOdMSOUtBHwL6OLA0vNSdynaWQEnCpIvKaIrJJEbvHkmuNhn6OjM8VkSGSqn1uYJCGHnq9I3aLhNME3t6GjIkO7xrNFumpyTNX/NrwX7CrIRiqqWijI9JO4d1iieykyfiposQIQ8YjjsjlBh6oHWbwRjgYJQn2NgSnNycmJAk3NiXhx44Sxykihxm8ybUwT1OVKySc7vi3OXVkdBJ4AyXBeksDXG0IhgtYY0lY5ahCD0ehborIk5aUWRJviMA7Xt5kyRjonrXENkm8yYqgs8VzgrJmClK20uMM3jRJ0FiQICQF9hdETlLQWRIb5ki6WDfWRPobvO6a4GP5mcOrNzDFELtTkONLh9dXE8xypEg7z8A9jkhrQ6Fhjlg/QVktJXxt4WXzT/03Q8IaQWSqIuEvloQ2mqC9Jfi7wRul4RX3pSPlzpoVlmCtI2jvKHCFhjcM3sN6lqF6HxnKelLjXWbwrpR4xzuCrTUZx2qq9oAh8p6ixCUGr78g8oyjRAtB5CZFwi80VerVpI0h+IeBxa6Zg6kWvpDHaioYYuEsRbDC3eOmC2JvGYLeioxGknL2UATNJN6hmtj1DlpLvDVmocYbrGCVJKOrg4X6DgddLA203BKMFngdJJFtFd7vJLm6KEpc5yjQrkk7M80SGe34X24nSex1Ra5Omgb71JKyg8SrU3i/kARKwWpH0kOGhKkObyfd0ZGjvyXlAkVZ4xRbYJ2irFMkFY1SwyWxr2oo4zlNiV+7zmaweFpT4kR3kaDAFW6xpSqzJay05FtYR4HmZhc9UxKbbfF2V8RG1MBmSaE+kmC6JnaRXK9gsiXhJHl/U0qM0WTcbyhwkYIvFGwjSbjfwhiJt8ZSQU+Bd5+marPMOkVkD0muxYLIfEuhh60x/J92itguihJSEMySVPQnTewnEm+620rTQEMsOfo4/kP/0ARvWjitlpSX7GxBgcMEsd3EEeYWvdytd+Saawi6aCIj1CkGb6Aj9rwhx16Cf3vAwFy5pyLhVonXzy51FDpdEblbkdJbUcEPDEFzQ8qNmhzzLTmmKWKbFCXeEuRabp6rxbvAtLF442QjQ+wEA9eL1xSR7Q0JXzlSHjJ4exq89yR0laScJ/FW6z4a73pFMEfDiRZvuvijIt86RaSFOl01riV2mD1UEvxGk/Geg5aWwGki1zgKPG9J2U8PEg8qYvMsZeytiTRXBMslCU8JSlxi8EabjwUldlDNLfzTUmCgxWsjqWCOHavYAqsknKFIO0yQ61VL5AVFxk6WhEaCAkdJgt9aSkzXlKNX2jEa79waYuc7gq0N3GDJGCBhoiTXUEPsdknCUE1CK0fwsiaylSF2uiDyO4XX3pFhNd7R4itFGc0k/ElBZwWvq+GC6szVeEoS/MZ+qylwpKNKv9Z469UOjqCjwlusicyTxG6VpNxcQ8IncoR4RhLbR+NdpGGmJWOcIzJGUuKPGpQg8rrG21dOMqQssJQ4RxH5jaUqnZuQ0F4Q+cjxLwPtpZbIAk3QTJHQWBE5S1BokoVtDd6lhqr9UpHSUxMcIYl9pojsb8h4SBOsMQcqvOWC2E8EVehqiJ1hrrAEbQxeK0NGZ0Gkq+guSRgniM23bIHVkqwx4hiHd7smaOyglyIyQuM978j4VS08J/A2G1KeMBRo4fBaSNhKUEZfQewVQ/C1I+MgfbEleEzCUw7mKXI0M3hd1EESVji8x5uQ41nxs1q4RMJCCXs7Iq9acpxn22oSDnQ/sJTxsCbHIYZiLyhY05TY0ZLIOQrGaSJDDN4t8pVaIrsqqFdEegtizc1iTew5Q4ayBDMUsQMkXocaYkc0hZua412siZ1rSXlR460zRJ5SlHGe5j801RLMlJTxtaOM3Q1pvxJ45zUlWFD7rsAbpfEm1JHxG0eh8w2R7QQVzBUw28FhFp5QZzq8t2rx2joqulYTWSuJdTYfWwqMFMcovFmSyJPNyLhE4E10pHzYjOC3huArRa571ZsGajQpQx38SBP5pyZB6lMU3khDnp0MBV51BE9o2E+TY5Ml2E8S7C0o6w1xvCZjf0HkVEHCzFoyNmqC+9wdcqN+Tp7jSDheE9ws8Y5V0NJCn2bk2tqSY4okdrEhx1iDN8cSudwepWmAGXKcJXK65H9to8jYQRH7SBF01ESUJdd0TayVInaWhLkOjlXE5irKGOnI6GSWGCJa482zBI9rCr0jyTVcEuzriC1vcr6mwFGSiqy5zMwxBH/TJHwjSPhL8+01kaaSUuMFKTcLEvaUePcrSmwn8DZrgikWb7CGPxkSjhQwrRk57tctmxLsb9sZvL9LSlyuSLlWkqOjwduo8b6Uv1DkmudIeFF2dHCgxVtk8dpIvHpBxhEOdhKk7OLIUSdJ+cSRY57B+0DgGUUlNfpthTfGkauzxrvTsUUaCVhlKeteTXCoJDCa2NOKhOmC4G1H8JBd4OBZReSRGkqcb/CO1PyLJTLB4j1q8JYaIutEjSLX8YKM+a6phdMsdLFUoV5RTm9JSkuDN8WcIon0NZMNZWh1q8C7SJEwV5HxrmnnTrf3KoJBlmCYI2ilSLlfEvlE4011NNgjgthzEua0oKK7JLE7HZHlEl60BLMVFewg4EWNt0ThrVNEVkkiTwpKXSWJzdRENgvKGq4IhjsiezgSFtsfCUq8qki5S1LRQeYQQ4nemmCkImWMw3tFUoUBZk4NOeZYEp4XRKTGa6wJjrWNHBVJR4m3FCnbuD6aak2WsMTh3SZImGCIPKNgsDpVwnsa70K31lCFJZYcwwSMFcQulGTsZuEaSdBXkPGZhu0FsdUO73RHjq8MPGGIfaGIbVTk6iuI3GFgucHrIQkmWSJdBd7BBu+uOryWAhY7+Lki9rK5wtEQzWwvtbqGhIMFwWRJsElsY4m9IIg9L6lCX0VklaPAYkfkZEGDnOWowlBJjtMUkcGK4Lg6EtoZInMUBVYLgn0UsdmCyCz7gIGHFfk+k1QwTh5We7A9x+IdJ6CvIkEagms0hR50eH9UnTQJ+2oiKyVlLFUE+8gBGu8MQ3CppUHesnjTHN4QB/UGPhCTHLFPHMFrCqa73gqObUJGa03wgbhHkrCfpEpzNLE7JDS25FMKhlhKKWKfCgqstLCPu1zBXy0J2ztwjtixBu8UTRn9LVtkmCN2iyFhtME70JHRQ1KVZXqKI/KNIKYMCYs1GUMEKbM1bKOI9LDXC7zbHS+bt+1MTWS9odA9DtrYtpbImQJ2VHh/lisEwaHqUk1kjKTAKknkBEXkbkdMGwq0dnhzLJF3NJH3JVwrqOB4Sca2hti75nmJN0WzxS6UxDYoEpxpa4htVlRjkYE7DZGzJVU72uC9IyhQL4i8YfGWSYLLNcHXloyz7QhNifmKSE9JgfGmuyLhc403Xm9vqcp6gXe3xuuv8F6VJNxkyTHEkHG2g0aKXL0MsXc1bGfgas2//dCONXiNLCX+5mB7eZIl1kHh7ajwpikyzlUUWOVOsjSQlsS+M0R+pPje/dzBXRZGO0rMtgQrLLG9VSu9n6CMXS3BhwYmSoIBhsjNBmZbgusE9BCPCP5triU4VhNbJfE+swSP27aayE8tuTpYYjtrYjMVGZdp2NpS1s6aBnKSHDsbKuplKbHM4a0wMFd/5/DmGyKrJSUaW4IBrqUhx0vyfzTBBLPIUcnZdrAkNsKR0sWRspumSns6Ch0v/qqIbBYUWKvPU/CFoyrDJGwSNFhbA/MlzKqjrO80hRbpKx0Jewsi/STftwGSlKc1JZyAzx05dhLEdnfQvhZOqiHWWEAHC7+30FuRcZUgaO5gpaIK+xsiHRUsqaPElTV40xQZQ107Q9BZE1nryDVGU9ZSQ47bmhBpLcYpUt7S+xuK/FiT8qKjwXYw5ypS2iuCv7q1gtgjhuBuB8LCFY5cUuCNtsQOFcT+4Ih9JX+k8Ea6v0iCIRZOtCT0Et00JW5UeC85Cg0ScK0k411HcG1zKtre3SeITBRk7WfwDhEvaYLTHP9le0m8By0JDwn4TlLW/aJOvGHxdjYUes+ScZigCkYQdNdEOhkiezgShqkx8ueKjI8lDfK2oNiOFvrZH1hS+tk7NV7nOmLHicGWEgubkXKdwdtZknCLJXaCpkrjZBtLZFsDP9CdxWsSr05Sxl6CMmoFbCOgryX40uDtamB7SVmXW4Ihlgpmq+00tBKUUa83WbjLUNkzDmY7cow1JDygyPGlhgGKYKz4vcV7QBNbJIgM11TUqZaMdwTeSguH6rOaw1JRKzaaGyxVm2EJ/uCIrVWUcZUkcp2grMsEjK+DMwS59jQk3Kd6SEq1d0S6uVmO4Bc1lDXTUcHjluCXEq+1OlBDj1pi9zgiXxnKuE0SqTXwhqbETW6RggMEnGl/q49UT2iCzgJvRwVXS2K/d6+ZkyUl7jawSVLit46EwxVljDZwoSQ20sDBihztHfk2yA8NVZghiXwrYHQdfKAOtzsayjhY9bY0yE2CWEeJ9xfzO423xhL5syS2TFJofO2pboHob0nY4GiAgRrvGQEDa/FWSsoaaYl0syRsEt3kWoH3B01shCXhTUWe9w3Bt44SC9QCh3eShQctwbaK2ApLroGCMlZrYqvlY3qYhM0aXpFkPOuoqJ3Dm6fxXrGwVF9gCWZagjPqznfkuMKQ8DPTQRO8ZqG1hPGKEm9IgpGW4DZDgTNriTxvFiq+Lz+0cKfp4wj6OCK9JSnzNSn9LFU7UhKZZMnYwcJ8s8yRsECScK4j5UOB95HFO0CzhY4xJxuCix0lDlEUeMdS6EZBkTsUkZ4K74dugyTXS7aNgL8aqjDfkCE0ZbwkCXpaWCKhl8P7VD5jxykivSyxyZrYERbe168LYu9ZYh86IkscgVLE7tWPKmJv11CgoyJltMEbrohtVAQfO4ImltiHEroYEs7RxAarVpY8AwXMcMReFOTYWe5iiLRQxJ5Q8DtJ8LQhWOhIeFESPGsILhbNDRljNbHzNRlTFbk2S3L0NOS6V1KFJYKUbSTcIIhM0wQ/s2TM0SRMNcQmSap3jCH4yhJZKSkwyRHpYYgsFeQ4U7xoCB7VVOExhXepo9ABBsYbvGWKXPME3lyH95YioZ0gssQRWWbI+FaSMkXijZXwgiTlYdPdkNLaETxlyDVIwqeaEus0aTcYcg0RVOkpR3CSJqIddK+90JCxzsDVloyrFd5ZAr4TBKfaWa6boEA7C7s6EpYaeFPjveooY72mjIccLHJ9HUwVlDhKkmutJDJBwnp1rvulJZggKDRfbXAkvC/4l3ozQOG9a8lxjx0i7nV4jSXc7vhe3OwIxjgSHjdEhhsif9YkPGlus3iLFDnWOFhtCZbJg0UbQcIaR67JjthoCyMEZRwhiXWyxO5QxI6w5NhT4U1WsJvDO60J34fW9hwzwlKij6ZAW9ne4L0s8C6XeBMEkd/LQy1VucBRot6QMlbivaBhoBgjqGiCJNhsqVp/S2SsG6DIONCR0dXhvWbJ+MRRZJkkuEjgDXJjFQW6SSL7GXK8Z2CZg7cVsbWGoKmEpzQ5elpiy8Ryg7dMkLLUEauzeO86CuwlSOlgYLojZWeJ9xM3S1PWfEfKl5ISLQ0MEKR8YOB2QfCxJBjrKPCN4f9MkaSsqoVXJBmP7EpFZ9UQfOoOFwSzBN4MQ8LsGrymlipcJQhmy0GaQjPqCHaXRwuCZwRbqK2Fg9wlClZqYicrIgMdZfxTQ0c7TBIbrChxmuzoKG8XRaSrIhhiyNFJkrC7oIAWMEOQa5aBekPCRknCo4IKPrYkvCDI8aYmY7WFtprgekcJZ3oLIqssCSMtFbQTJKwXYy3BY5oCh2iKPCpJOE+zRdpYgi6O2KmOAgvVCYaU4ySRek1sgyFhJ403QFHiVEmJHwtybO1gs8Hr5+BETQX3War0qZngYGgtVZtoqd6vFSk/UwdZElYqyjrF4HXUeFspIi9IGKf4j92pKGAdCYMVsbcV3kRF0N+R8LUd5PCsIGWoxDtBkCI0nKofdJQxT+LtZflvuc8Q3CjwWkq8KwUpHzkK/NmSsclCL0nseQdj5FRH5CNHSgtLiW80Of5HU9Hhlsga9bnBq3fEVltKfO5IaSTmGjjc4J0otcP7QsJUSQM8pEj5/wCuUuC2DWz8AAAAAElFTkSuQmCC\")}.cm-s-atom-one-dark.CodeMirror{background:#282c34;color:#abb2bf}.cm-s-atom-one-dark .CodeMirror-activeline-background{background:#363b46}.cm-s-atom-one-dark .CodeMirror-cursor{border-left:2px solid #528bff}.cm-s-atom-one-dark .CodeMirror-guttermarker-subtle{color:#828997}.cm-s-atom-one-dark .CodeMirror-gutters{background:#282c34;border:none}.cm-s-atom-one-dark .CodeMirror-linenumber{color:#5c6370}.cm-s-atom-one-dark .CodeMirror-matchingbracket{background:rgba(199,211,255,.2);color:#abb2bf!important}.cm-s-atom-one-dark .CodeMirror-selected{background:transparent!important}.cm-s-atom-one-dark .CodeMirror-selectedtext{background:rgba(199,211,255,.2)!important;color:#abb2bf!important}.cm-s-atom-one-dark .cm-atom{color:#d19a66}.cm-s-atom-one-dark .cm-attribute{color:#e06c75;font-style:italic}.cm-s-atom-one-dark .cm-builtin{color:#56b6c2}.cm-s-atom-one-dark .cm-callee,.cm-s-atom-one-dark .cm-callee.cm-property,.cm-s-atom-one-dark .cm-callee.cm-variable{color:#61afef}.cm-s-atom-one-dark .cm-comment{color:#758196;font-style:italic}.cm-s-atom-one-dark .cm-def{color:#61afef}.cm-s-atom-one-dark .cm-error{border-bottom:2px solid #e06c75}.cm-s-atom-one-dark .cm-header{color:#e06c75}.cm-s-atom-one-dark .cm-hr{color:#abb2bf}.cm-s-atom-one-dark .cm-keyword{color:#c678dd}.cm-s-atom-one-dark .cm-image-alt-text{color:#61afef}.cm-s-atom-one-dark .cm-image-marker{color:#e06c75}.cm-s-atom-one-dark .cm-link{color:#61afef}.cm-s-atom-one-dark .cm-local.cm-def{color:#e06c75}.cm-s-atom-one-dark .cm-matchhighlight{background:transparent;border:1px solid #abb2bf;margin:-1px}.cm-s-atom-one-dark .cm-meta{color:#e06c75;font-style:italic}.cm-s-atom-one-dark .cm-number{color:#d19a66}.cm-s-atom-one-dark .cm-operator{color:#56b6c2}.cm-s-atom-one-dark .cm-property{color:#abb2bf}.cm-s-atom-one-dark .cm-property.cm-def{color:#61afef}.cm-s-atom-one-dark .cm-string,.cm-s-atom-one-dark .cm-string-2{color:#98c379}.cm-s-atom-one-dark .cm-tag{color:#c678dd}.cm-s-atom-one-dark .cm-tag.cm-bracket{color:#abb2bf}.cm-s-atom-one-dark .cm-type{color:#e5c07b}.cm-s-atom-one-dark .cm-url{color:#c678dd}.cm-s-atom-one-dark .cm-variable,.cm-s-atom-one-dark .cm-variable-2{color:#abb2bf}.cm-s-atom-one-dark .cm-variable-3{color:#61afef}.cm-s-ayu-dark.CodeMirror{background:#0a0e14;color:#b3b1ad}.cm-s-ayu-dark div.CodeMirror-selected{background:#273747}.cm-s-ayu-dark .CodeMirror-line::selection,.cm-s-ayu-dark .CodeMirror-line>span::selection,.cm-s-ayu-dark .CodeMirror-line>span>span::selection{background:rgba(39,55,71,99)}.cm-s-ayu-dark .CodeMirror-line::-moz-selection,.cm-s-ayu-dark .CodeMirror-line>span::-moz-selection,.cm-s-ayu-dark .CodeMirror-line>span>span::-moz-selection{background:rgba(39,55,71,99)}.cm-s-ayu-dark .CodeMirror-gutters{background:#0a0e14;border-right:0}.cm-s-ayu-dark .CodeMirror-guttermarker{color:white}.cm-s-ayu-dark .CodeMirror-guttermarker-subtle,.cm-s-ayu-dark .CodeMirror-linenumber{color:#3d424d}.cm-s-ayu-dark .CodeMirror-cursor{border-left:1px solid #e6b450}.cm-s-ayu-dark.cm-fat-cursor .CodeMirror-cursor,.cm-s-ayu-dark .cm-animate-fat-cursor{background-color:#a2a8a175!important}.cm-s-ayu-dark span.cm-comment{color:#626a73}.cm-s-ayu-dark span.cm-atom{color:#ae81ff}.cm-s-ayu-dark span.cm-number{color:#e6b450}.cm-s-ayu-dark span.cm-comment.cm-attribute{color:#ffb454}.cm-s-ayu-dark span.cm-comment.cm-def{color:rgba(57,186,230,80)}.cm-s-ayu-dark span.cm-comment.cm-tag{color:#39bae6}.cm-s-ayu-dark span.cm-comment.cm-type{color:#5998a6}.cm-s-ayu-dark span.cm-property,.cm-s-ayu-dark span.cm-attribute{color:#ffb454}.cm-s-ayu-dark span.cm-keyword{color:#ff8f40}.cm-s-ayu-dark span.cm-builtin{color:#e6b450}.cm-s-ayu-dark span.cm-string{color:#c2d94c}.cm-s-ayu-dark span.cm-variable{color:#b3b1ad}.cm-s-ayu-dark span.cm-variable-2{color:#f07178}.cm-s-ayu-dark span.cm-variable-3{color:#39bae6}.cm-s-ayu-dark span.cm-type{color:#ff8f40}.cm-s-ayu-dark span.cm-def{color:#ffee99}.cm-s-ayu-dark span.cm-bracket{color:#f8f8f2}.cm-s-ayu-dark span.cm-tag{color:rgba(57,186,230,80)}.cm-s-ayu-dark span.cm-header{color:#c2d94c}.cm-s-ayu-dark span.cm-link{color:#39bae6}.cm-s-ayu-dark span.cm-error{color:#ff3333}.cm-s-ayu-dark .CodeMirror-activeline-background{background:#01060e}.cm-s-ayu-dark .CodeMirror-matchingbracket{text-decoration:underline;color:white!important}.cm-s-ayu-mirage.CodeMirror{background:#1f2430;color:#cbccc6}.cm-s-ayu-mirage div.CodeMirror-selected{background:#34455a}.cm-s-ayu-mirage .CodeMirror-line::selection,.cm-s-ayu-mirage .CodeMirror-line>span::selection,.cm-s-ayu-mirage .CodeMirror-line>span>span::selection{background:#34455a}.cm-s-ayu-mirage .CodeMirror-line::-moz-selection,.cm-s-ayu-mirage .CodeMirror-line>span::-moz-selection,.cm-s-ayu-mirage .CodeMirror-line>span>span::-moz-selection{background:rgba(25,30,42,99)}.cm-s-ayu-mirage .CodeMirror-gutters{background:#1f2430;border-right:0}.cm-s-ayu-mirage .CodeMirror-guttermarker{color:white}.cm-s-ayu-mirage .CodeMirror-guttermarker-subtle{color:rgba(112,122,140,66)}.cm-s-ayu-mirage .CodeMirror-linenumber{color:rgba(61,66,77,99)}.cm-s-ayu-mirage .CodeMirror-cursor{border-left:1px solid #ffcc66}.cm-s-ayu-mirage.cm-fat-cursor .CodeMirror-cursor,.cm-s-ayu-mirage .cm-animate-fat-cursor{background-color:#a2a8a175!important}.cm-s-ayu-mirage span.cm-comment{color:#5c6773;font-style:italic}.cm-s-ayu-mirage span.cm-atom{color:#ae81ff}.cm-s-ayu-mirage span.cm-number{color:#ffcc66}.cm-s-ayu-mirage span.cm-comment.cm-attribute{color:#ffd580}.cm-s-ayu-mirage span.cm-comment.cm-def{color:#d4bfff}.cm-s-ayu-mirage span.cm-comment.cm-tag{color:#5ccfe6}.cm-s-ayu-mirage span.cm-comment.cm-type{color:#5998a6}.cm-s-ayu-mirage span.cm-property{color:#f29e74}.cm-s-ayu-mirage span.cm-attribute{color:#ffd580}.cm-s-ayu-mirage span.cm-keyword{color:#ffa759}.cm-s-ayu-mirage span.cm-builtin{color:#ffcc66}.cm-s-ayu-mirage span.cm-string{color:#bae67e}.cm-s-ayu-mirage span.cm-variable{color:#cbccc6}.cm-s-ayu-mirage span.cm-variable-2{color:#f28779}.cm-s-ayu-mirage span.cm-variable-3{color:#5ccfe6}.cm-s-ayu-mirage span.cm-type{color:#ffa759}.cm-s-ayu-mirage span.cm-def{color:#ffd580}.cm-s-ayu-mirage span.cm-bracket{color:rgba(92,207,230,80)}.cm-s-ayu-mirage span.cm-tag{color:#5ccfe6}.cm-s-ayu-mirage span.cm-header{color:#bae67e}.cm-s-ayu-mirage span.cm-link{color:#5ccfe6}.cm-s-ayu-mirage span.cm-error{color:#ff3333}.cm-s-ayu-mirage .CodeMirror-activeline-background{background:#191e2a}.cm-s-ayu-mirage .CodeMirror-matchingbracket{text-decoration:underline;color:white!important}.cm-s-base16-dark.CodeMirror{background:#151515;color:#e0e0e0}.cm-s-base16-dark div.CodeMirror-selected{background:#303030}.cm-s-base16-dark .CodeMirror-line::selection,.cm-s-base16-dark .CodeMirror-line>span::selection,.cm-s-base16-dark .CodeMirror-line>span>span::selection{background:rgba(48,48,48,.99)}.cm-s-base16-dark .CodeMirror-line::-moz-selection,.cm-s-base16-dark .CodeMirror-line>span::-moz-selection,.cm-s-base16-dark .CodeMirror-line>span>span::-moz-selection{background:rgba(48,48,48,.99)}.cm-s-base16-dark .CodeMirror-gutters{background:#151515;border-right:0}.cm-s-base16-dark .CodeMirror-guttermarker{color:#ac4142}.cm-s-base16-dark .CodeMirror-guttermarker-subtle,.cm-s-base16-dark .CodeMirror-linenumber{color:#505050}.cm-s-base16-dark .CodeMirror-cursor{border-left:1px solid #b0b0b0}.cm-s-base16-dark.cm-fat-cursor .CodeMirror-cursor,.cm-s-base16-dark .cm-animate-fat-cursor{background-color:#8e8d8875!important}.cm-s-base16-dark span.cm-comment{color:#8f5536}.cm-s-base16-dark span.cm-atom{color:#aa759f}.cm-s-base16-dark span.cm-number{color:#aa759f}.cm-s-base16-dark span.cm-property,.cm-s-base16-dark span.cm-attribute{color:#90a959}.cm-s-base16-dark span.cm-keyword{color:#ac4142}.cm-s-base16-dark span.cm-string{color:#f4bf75}.cm-s-base16-dark span.cm-variable{color:#90a959}.cm-s-base16-dark span.cm-variable-2{color:#6a9fb5}.cm-s-base16-dark span.cm-def{color:#d28445}.cm-s-base16-dark span.cm-bracket{color:#e0e0e0}.cm-s-base16-dark span.cm-tag{color:#ac4142}.cm-s-base16-dark span.cm-link{color:#aa759f}.cm-s-base16-dark span.cm-error{background:#ac4142;color:#b0b0b0}.cm-s-base16-dark .CodeMirror-activeline-background{background:#202020}.cm-s-base16-dark .CodeMirror-matchingbracket{text-decoration:underline;color:white!important}.cm-s-base16-light.CodeMirror{background:#f5f5f5;color:#202020}.cm-s-base16-light div.CodeMirror-selected{background:#e0e0e0}.cm-s-base16-light .CodeMirror-line::selection,.cm-s-base16-light .CodeMirror-line>span::selection,.cm-s-base16-light .CodeMirror-line>span>span::selection{background:#e0e0e0}.cm-s-base16-light .CodeMirror-line::-moz-selection,.cm-s-base16-light .CodeMirror-line>span::-moz-selection,.cm-s-base16-light .CodeMirror-line>span>span::-moz-selection{background:#e0e0e0}.cm-s-base16-light .CodeMirror-gutters{background:#f5f5f5;border-right:0}.cm-s-base16-light .CodeMirror-guttermarker{color:#ac4142}.cm-s-base16-light .CodeMirror-guttermarker-subtle,.cm-s-base16-light .CodeMirror-linenumber{color:#b0b0b0}.cm-s-base16-light .CodeMirror-cursor{border-left:1px solid #505050}.cm-s-base16-light span.cm-comment{color:#8f5536}.cm-s-base16-light span.cm-atom{color:#aa759f}.cm-s-base16-light span.cm-number{color:#aa759f}.cm-s-base16-light span.cm-property,.cm-s-base16-light span.cm-attribute{color:#90a959}.cm-s-base16-light span.cm-keyword{color:#ac4142}.cm-s-base16-light span.cm-string{color:#f4bf75}.cm-s-base16-light span.cm-variable{color:#90a959}.cm-s-base16-light span.cm-variable-2{color:#6a9fb5}.cm-s-base16-light span.cm-def{color:#d28445}.cm-s-base16-light span.cm-bracket{color:#202020}.cm-s-base16-light span.cm-tag{color:#ac4142}.cm-s-base16-light span.cm-link{color:#aa759f}.cm-s-base16-light span.cm-error{background:#ac4142;color:#505050}.cm-s-base16-light .CodeMirror-activeline-background{background:#DDDCDC}.cm-s-base16-light .CodeMirror-matchingbracket{color:#f5f5f5!important;background-color:#6A9FB5!important}.cm-s-blackboard.CodeMirror{background:#0C1021;color:#F8F8F8}.cm-s-blackboard div.CodeMirror-selected{background:#253B76}.cm-s-blackboard .CodeMirror-line::selection,.cm-s-blackboard .CodeMirror-line>span::selection,.cm-s-blackboard .CodeMirror-line>span>span::selection{background:rgba(37,59,118,.99)}.cm-s-blackboard .CodeMirror-line::-moz-selection,.cm-s-blackboard .CodeMirror-line>span::-moz-selection,.cm-s-blackboard .CodeMirror-line>span>span::-moz-selection{background:rgba(37,59,118,.99)}.cm-s-blackboard .CodeMirror-gutters{background:#0C1021;border-right:0}.cm-s-blackboard .CodeMirror-guttermarker{color:#FBDE2D}.cm-s-blackboard .CodeMirror-guttermarker-subtle,.cm-s-blackboard .CodeMirror-linenumber{color:#888}.cm-s-blackboard .CodeMirror-cursor{border-left:1px solid #A7A7A7}.cm-s-blackboard .cm-comment{color:#AEAEAE}.cm-s-blackboard .cm-comment.cm-type{color:#E6E6E6}.cm-s-blackboard .cm-keyword{color:#FBDE2D}.cm-s-blackboard .cm-atom,.cm-s-blackboard .cm-number{color:#D8FA3C}.cm-s-blackboard .cm-def{color:#8DA6CE}.cm-s-blackboard .cm-variable{color:#FF6400}.cm-s-blackboard .cm-operator{color:#FBDE2D}.cm-s-blackboard .cm-string,.cm-s-blackboard .cm-string-2{color:#61CE3C}.cm-s-blackboard .cm-meta{color:#D8FA3C}.cm-s-blackboard .cm-builtin,.cm-s-blackboard .cm-tag,.cm-s-blackboard .cm-attribute{color:#8DA6CE}.cm-s-blackboard .cm-header{color:#FF6400}.cm-s-blackboard .cm-hr{color:#AEAEAE}.cm-s-blackboard .cm-link{color:#8DA6CE}.cm-s-blackboard .cm-error{background:#9D1E15;color:#F8F8F8}.cm-s-blackboard .CodeMirror-activeline-background{background:#3C3636}.cm-s-blackboard .CodeMirror-matchingbracket{outline:1px solid grey;color:white!important}.cm-s-cobalt.CodeMirror{background:#002240;color:white}.cm-s-cobalt div.CodeMirror-selected{background:#b36539}.cm-s-cobalt .CodeMirror-line::selection,.cm-s-cobalt .CodeMirror-line>span::selection,.cm-s-cobalt .CodeMirror-line>span>span::selection{background:rgba(179,101,57,.99)}.cm-s-cobalt .CodeMirror-line::-moz-selection,.cm-s-cobalt .CodeMirror-line>span::-moz-selection,.cm-s-cobalt .CodeMirror-line>span>span::-moz-selection{background:rgba(179,101,57,.99)}.cm-s-cobalt .CodeMirror-gutters{background:#002240;border-right:1px solid #aaa}.cm-s-cobalt .CodeMirror-guttermarker{color:#ffee80}.cm-s-cobalt .CodeMirror-guttermarker-subtle,.cm-s-cobalt .CodeMirror-linenumber{color:#d0d0d0}.cm-s-cobalt .CodeMirror-cursor{border-left:1px solid white}.cm-s-cobalt span.cm-comment{color:#08f}.cm-s-cobalt span.cm-atom{color:#845dc4}.cm-s-cobalt span.cm-number,.cm-s-cobalt span.cm-attribute{color:#ff80e1}.cm-s-cobalt span.cm-keyword{color:#ffee80}.cm-s-cobalt span.cm-string{color:#3ad900}.cm-s-cobalt span.cm-meta{color:#ff9d00}.cm-s-cobalt span.cm-variable-2,.cm-s-cobalt span.cm-tag{color:#9effff}.cm-s-cobalt span.cm-variable-3,.cm-s-cobalt span.cm-def,.cm-s-cobalt .cm-type{color:white}.cm-s-cobalt span.cm-bracket{color:#d8d8d8}.cm-s-cobalt span.cm-builtin,.cm-s-cobalt span.cm-special{color:#ff9e59}.cm-s-cobalt span.cm-link{color:#845dc4}.cm-s-cobalt span.cm-error{color:#9d1e15}.cm-s-cobalt .CodeMirror-activeline-background{background:#002D57}.cm-s-cobalt .CodeMirror-matchingbracket{outline:1px solid grey;color:white!important}.cm-s-cool-glow.CodeMirror{background:#06071D;color:#E0E0E0}.cm-s-cool-glow .CodeMirror-linenumber{color:#E0E0E0}.cm-s-cool-glow .CodeMirror-cursor{border-left:1px solid #E0E0E0}.cm-s-cool-glow .CodeMirror-activeline-background{background:#FFFFFF0F}.cm-s-cool-glow .CodeMirror-gutters{background:#06071D}.cm-s-cool-glow span.cm-atom{color:#B683CA}.cm-s-cool-glow span.cm-attribute{color:#B683CA}.cm-s-cool-glow span.cm-builtin{color:#61FFD2}.cm-s-cool-glow span.cm-comment{color:#AEAEAE}.cm-s-cool-glow span.cm-constant{color:#62E9BD}.cm-s-cool-glow span.cm-def{color:#A3EBFF}.cm-s-cool-glow span.cm-error{background:#f92672;color:#FF0000}.cm-s-cool-glow span.cm-header{color:#60A4F1}.cm-s-cool-glow span.cm-keyword{color:#2BF1DC}.cm-s-cool-glow span.cm-meta{color:#2BF1DC}.cm-s-cool-glow span.cm-number{color:#62E9BD}.cm-s-cool-glow span.cm-operator{color:#2BF1DC}.cm-s-cool-glow span.cm-tag{color:#A3EBFF}.cm-s-cool-glow span.cm-type{color:#F8FBB1}.cm-s-cool-glow span.cm-storage{color:#F8FBB1}.cm-s-cool-glow span.cm-string{color:#8DFF8E}.cm-s-cool-glow span.cm-string-2{color:#8DFF8E}.cm-s-cool-glow span.cm-support{color:#60A4F1}.cm-s-cool-glow span.cm-variable{color:#60A4F1}.cm-s-cool-glow span.cm-variable-2{color:#E0E0E0}.cm-s-cool-glow span.cm-variable-3{color:#E0E0E0}.cm-s-cool-glow .CodeMirror-matchingbracket{text-decoration:underline}.cm-s-darcula{font-family:Consolas,Menlo,Monaco,\"Lucida Console\",\"Liberation Mono\",\"DejaVu Sans Mono\",\"Bitstream Vera Sans Mono\",\"Courier New\",monospace,serif}.cm-s-darcula.CodeMirror{background:#2B2B2B;color:#A9B7C6}.cm-s-darcula span.cm-meta{color:#BBB529}.cm-s-darcula span.cm-number{color:#6897BB}.cm-s-darcula span.cm-keyword{color:#CC7832;line-height:1em;font-weight:bold}.cm-s-darcula span.cm-def{color:#A9B7C6;font-style:italic}.cm-s-darcula span.cm-variable{color:#A9B7C6}.cm-s-darcula span.cm-variable-2{color:#A9B7C6}.cm-s-darcula span.cm-variable-3{color:#9876AA}.cm-s-darcula span.cm-type{color:#AABBCC;font-weight:bold}.cm-s-darcula span.cm-property{color:#FFC66D}.cm-s-darcula span.cm-operator{color:#A9B7C6}.cm-s-darcula span.cm-string{color:#6A8759}.cm-s-darcula span.cm-string-2{color:#6A8759}.cm-s-darcula span.cm-comment{color:#61A151;font-style:italic}.cm-s-darcula span.cm-link{color:#CC7832}.cm-s-darcula span.cm-atom{color:#CC7832}.cm-s-darcula span.cm-error{color:#BC3F3C}.cm-s-darcula span.cm-tag{color:#629755;font-weight:bold;font-style:italic;text-decoration:underline}.cm-s-darcula span.cm-attribute{color:#6897bb}.cm-s-darcula span.cm-qualifier{color:#6A8759}.cm-s-darcula span.cm-bracket{color:#A9B7C6}.cm-s-darcula span.cm-builtin{color:#FF9E59}.cm-s-darcula span.cm-special{color:#FF9E59}.cm-s-darcula span.cm-matchhighlight{color:#FFFFFF;background-color:rgba(50,89,48,.7);font-weight:normal}.cm-s-darcula span.cm-searching{color:#FFFFFF;background-color:rgba(61,115,59,.7);font-weight:normal}.cm-s-darcula .CodeMirror-cursor{border-left:1px solid #A9B7C6}.cm-s-darcula .CodeMirror-activeline-background{background:#323232}.cm-s-darcula .CodeMirror-gutters{background:#313335;border-right:1px solid #313335}.cm-s-darcula .CodeMirror-guttermarker{color:#FFEE80}.cm-s-darcula .CodeMirror-guttermarker-subtle{color:#D0D0D0}.cm-s-darcula .CodeMirrir-linenumber{color:#606366}.cm-s-darcula .CodeMirror-matchingbracket{background-color:#3B514D;color:#FFEF28!important;font-weight:bold}.cm-s-darcula div.CodeMirror-selected{background:#214283}.CodeMirror-hints.darcula{font-family:Menlo,Monaco,Consolas,\"Courier New\",monospace;color:#9C9E9E;background-color:#3B3E3F!important}.CodeMirror-hints.darcula .CodeMirror-hint-active{background-color:#494D4E!important;color:#9C9E9E!important}.cm-s-dracula.CodeMirror,.cm-s-dracula .CodeMirror-gutters{background-color:#282a36!important;color:#f8f8f2!important;border:none}.cm-s-dracula .CodeMirror-gutters{color:#282a36}.cm-s-dracula .CodeMirror-cursor{border-left:solid thin #f8f8f0}.cm-s-dracula .CodeMirror-linenumber{color:#6D8A88}.cm-s-dracula .CodeMirror-selected{background:rgba(255,255,255,.1)}.cm-s-dracula .CodeMirror-line::selection,.cm-s-dracula .CodeMirror-line>span::selection,.cm-s-dracula .CodeMirror-line>span>span::selection{background:rgba(255,255,255,.1)}.cm-s-dracula .CodeMirror-line::-moz-selection,.cm-s-dracula .CodeMirror-line>span::-moz-selection,.cm-s-dracula .CodeMirror-line>span>span::-moz-selection{background:rgba(255,255,255,.1)}.cm-s-dracula span.cm-comment{color:#6272a4}.cm-s-dracula span.cm-string,.cm-s-dracula span.cm-string-2{color:#f1fa8c}.cm-s-dracula span.cm-number{color:#bd93f9}.cm-s-dracula span.cm-variable{color:#50fa7b}.cm-s-dracula span.cm-variable-2{color:white}.cm-s-dracula span.cm-def{color:#50fa7b}.cm-s-dracula span.cm-operator{color:#ff79c6}.cm-s-dracula span.cm-keyword{color:#ff79c6}.cm-s-dracula span.cm-atom{color:#bd93f9}.cm-s-dracula span.cm-meta{color:#f8f8f2}.cm-s-dracula span.cm-tag{color:#ff79c6}.cm-s-dracula span.cm-attribute{color:#50fa7b}.cm-s-dracula span.cm-qualifier{color:#50fa7b}.cm-s-dracula span.cm-property{color:#66d9ef}.cm-s-dracula span.cm-builtin{color:#50fa7b}.cm-s-dracula span.cm-variable-3,.cm-s-dracula span.cm-type{color:#ffb86c}.cm-s-dracula .CodeMirror-activeline-background{background:rgba(255,255,255,.1)}.cm-s-dracula .CodeMirror-matchingbracket{text-decoration:underline;color:white!important}.cm-s-easter-dark .CodeMirror-gutters{background:#3f3f3f!important}.cm-s-easter-dark .CodeMirror-linenumber{color:#909bab}.cm-s-easter-dark .CodeMirror-foldgutter-open,.CodeMirror-foldgutter-folded{color:#999}.cm-s-easter-dark .CodeMirror-cursor{border-left:1px solid #ffc0dd}.cm-s-easter-dark{background-color:#3f3f3f;color:#ddd}.cm-s-easter-dark span.cm-builtin,.cm-s-easter-dark span.cm-keyword{color:#9ddfff;font-weight:bold}.cm-s-easter-dark span.cm-comment{color:#909bab}.cm-s-easter-dark span.cm-atom{color:#bfebbf}.cm-s-easter-dark span.cm-def{color:#ddd}.cm-s-easter-dark span.cm-variable{color:#fdc2e0}.cm-s-easter-dark span.cm-variable-2{color:#ddd}.cm-s-easter-dark span.cm-string,.cm-s-easter-dark span.cm-string-2{color:#bcf3b2}.cm-s-easter-dark span.cm-number,.cm-s-easter-dark span.cm-operator,.cm-s-easter-dark span.cm-bracket{color:#faffa8!important}.cm-s-easter-dark span.cm-tag{color:#93e0e3}.cm-s-easter-dark span.cm-property{color:#cac9ff}.cm-s-easter-dark span.cm-attribute{color:#c2c1f9}.cm-s-easter-dark span.cm-qualifier{color:#acefdf}.cm-s-easter-dark span.cm-meta{color:#ddd}.cm-s-easter-dark span.cm-header{color:#ddd}.cm-s-easter-dark span.CodeMirror-matchingbracket{box-sizing:border-box;background:transparent;border-bottom:1px solid;color:#faffa8!important}.cm-s-easter-dark span.CodeMirror-nonmatchingbracket{border-bottom:1px solid;background:none;color:#faffa8!important}.cm-s-easter-dark .CodeMirror-activeline,.cm-s-easter-dark .CodeMirror-activeline-background{background:#222}.cm-s-easter-dark .CodeMirror-selectedtext,.cm-s-easter-dark div.CodeMirror-selected{background:#888!important;color:white!important}.cm-s-easter-dark span.cm-matchhighlight{background:#778}.cm-s-eclipse span.cm-comment{color:#3F7F5F}.cm-s-eclipse span.cm-meta{color:#FF1717}.cm-s-eclipse span.cm-keyword{line-height:1em;font-weight:bold;color:#7F0055}.cm-s-eclipse span.cm-atom{color:#219}.cm-s-eclipse span.cm-number{color:#164}.cm-s-eclipse span.cm-def{color:#00f}.cm-s-eclipse span.cm-variable{color:black}.cm-s-eclipse span.cm-variable-2{color:#0000C0}.cm-s-eclipse span.cm-variable-3,.cm-s-eclipse span.cm-type{color:#0000C0}.cm-s-eclipse span.cm-property{color:black}.cm-s-eclipse span.cm-operator{color:black}.cm-s-eclipse span.cm-string{color:#2A00FF}.cm-s-eclipse span.cm-string-2{color:#f50}.cm-s-eclipse span.cm-qualifier{color:#555}.cm-s-eclipse span.cm-builtin{color:#30a}.cm-s-eclipse span.cm-bracket{color:#cc7}.cm-s-eclipse span.cm-tag{color:#170}.cm-s-eclipse span.cm-attribute{color:#00c}.cm-s-eclipse span.cm-link{color:#219}.cm-s-eclipse span.cm-error{color:#f00}.cm-s-eclipse .CodeMirror-activeline-background{background:#e8f2ff}.cm-s-eclipse .CodeMirror-matchingbracket{outline:1px solid grey;color:black!important}.cm-s-elegant span.cm-number,.cm-s-elegant span.cm-string,.cm-s-elegant span.cm-atom{color:#762}.cm-s-elegant span.cm-comment{color:#262;font-style:italic;line-height:1em}.cm-s-elegant span.cm-meta{color:#555;font-style:italic;line-height:1em}.cm-s-elegant span.cm-variable{color:black}.cm-s-elegant span.cm-variable-2{color:#b11}.cm-s-elegant span.cm-qualifier{color:#555}.cm-s-elegant span.cm-keyword{color:#730}.cm-s-elegant span.cm-builtin{color:#30a}.cm-s-elegant span.cm-link{color:#762}.cm-s-elegant span.cm-error{background-color:#fdd}.cm-s-elegant .CodeMirror-activeline-background{background:#e8f2ff}.cm-s-elegant .CodeMirror-matchingbracket{outline:1px solid grey;color:black!important}.cm-s-erlang-dark.CodeMirror{background:#002240;color:white}.cm-s-erlang-dark div.CodeMirror-selected{background:#b36539}.cm-s-erlang-dark .CodeMirror-line::selection,.cm-s-erlang-dark .CodeMirror-line>span::selection,.cm-s-erlang-dark .CodeMirror-line>span>span::selection{background:rgba(179,101,57,.99)}.cm-s-erlang-dark .CodeMirror-line::-moz-selection,.cm-s-erlang-dark .CodeMirror-line>span::-moz-selection,.cm-s-erlang-dark .CodeMirror-line>span>span::-moz-selection{background:rgba(179,101,57,.99)}.cm-s-erlang-dark .CodeMirror-gutters{background:#002240;border-right:1px solid #aaa}.cm-s-erlang-dark .CodeMirror-guttermarker{color:white}.cm-s-erlang-dark .CodeMirror-guttermarker-subtle,.cm-s-erlang-dark .CodeMirror-linenumber{color:#d0d0d0}.cm-s-erlang-dark .CodeMirror-cursor{border-left:1px solid white}.cm-s-erlang-dark span.cm-quote{color:#ccc}.cm-s-erlang-dark span.cm-atom{color:#f133f1}.cm-s-erlang-dark span.cm-attribute{color:#ff80e1}.cm-s-erlang-dark span.cm-bracket{color:#ff9d00}.cm-s-erlang-dark span.cm-builtin{color:#eaa}.cm-s-erlang-dark span.cm-comment{color:#77f}.cm-s-erlang-dark span.cm-def{color:#e7a}.cm-s-erlang-dark span.cm-keyword{color:#ffee80}.cm-s-erlang-dark span.cm-meta{color:#50fefe}.cm-s-erlang-dark span.cm-number{color:#ffd0d0}.cm-s-erlang-dark span.cm-operator{color:#d55}.cm-s-erlang-dark span.cm-property{color:#ccc}.cm-s-erlang-dark span.cm-qualifier{color:#ccc}.cm-s-erlang-dark span.cm-special{color:#ffbbbb}.cm-s-erlang-dark span.cm-string{color:#3ad900}.cm-s-erlang-dark span.cm-string-2{color:#ccc}.cm-s-erlang-dark span.cm-tag{color:#9effff}.cm-s-erlang-dark span.cm-variable{color:#50fe50}.cm-s-erlang-dark span.cm-variable-2{color:#e0e}.cm-s-erlang-dark span.cm-variable-3,.cm-s-erlang-dark span.cm-type{color:#ccc}.cm-s-erlang-dark span.cm-error{color:#9d1e15}.cm-s-erlang-dark .CodeMirror-activeline-background{background:#013461}.cm-s-erlang-dark .CodeMirror-matchingbracket{outline:1px solid grey;color:white!important}.cm-s-gooey{background:rgb(33,41,46);color:#cfe5f4}.cm-s-gooey .CodeMirror-cursor{border-left:1px solid white}.cm-s-gooey .CodeMirror-linenumber{color:#cfe5f4;opacity:.75}.cm-s-gooey .CodeMirror-gutters{background:#202529;border-right-color:#2f2f2f}.cm-s-gooey .CodeMirror-guttermarker{color:#b798ff}.cm-s-gooey .CodeMirror-guttermarker-subtle{color:#9e9eaf}.cm-s-gooey .CodeMirror-activeline-background{background:rgba(59,63,66,.8)!important}.cm-s-gooey .CodeMirror-activeline-gutter{background:rgba(122,123,138,.5)!important}.cm-s-gooey .CodeMirror-selected,.cm-s-gooey .CodeMirror-selectedtext{background:#bebdca!important;color:black!important}.cm-s-gooey .cm-matchhighlight{background:rgba(84,84,84,.5)}.cm-s-gooey .CodeMirror-matchingbracket{outline:0;text-decoration:none;color:#ff7a9e!important;box-sizing:border-box;background:transparent;border-bottom:1px solid}.cm-s-gooey .cm-searching,.cm-s-gooey .cm-searching.cm-matchhighlight{background:rgba(144,144,85,.2)}.cm-s-gooey .cm-searching.CodeMirror-selectedtext{background:#bebdca!important;color:black!important}.cm-s-gooey .cm-link,.cm-s-gooey .cm-hyperlink,.cm-s-gooey .cm-url{color:#75b6f9}.cm-s-gooey .cm-keyword{color:#ff7a9e}.cm-s-gooey .cm-number{color:#b798ff}.cm-s-gooey .cm-operator{color:#ff7a9e}.cm-s-gooey .cm-string,.cm-s-gooey .cm-string-2{color:#ffeeaa}.cm-s-gooey .cm-meta{color:#ff7a9e}.cm-s-gooey .cm-meta.grok-ref{color:#cfe5f4}.cm-s-gooey .cm-builtin{color:#75ffe8}.cm-s-gooey .cm-atom{color:#4fdefb}.cm-s-gooey .cm-property{color:#cfe5f4}.cm-s-gooey .cm-def.cm-property,.cm-s-gooey .cm-def{color:#75ffe8}.cm-s-gooey .cm-comment{color:#566073}.cm-s-gooey .cm-comment.cm-def,.cm-s-gooey .cm-def.cm-local{color:#b798ff}.cm-s-gooey .cm-type,.cm-s-gooey .cm-comment.cm-type{color:#4fdefb}.cm-s-gooey .cm-comment.cm-attribute,.cm-s-gooey .cm-attribute{color:#b798ff}.cm-s-gooey .cm-tag,.cm-s-gooey .cm-comment.cm-tag{color:#ff7a9e}.cm-s-gooey .cm-variable{color:#4fdefb}.cm-s-gooey .cm-variable.grok-ref{color:#cfe5f4}.cm-s-gooey .cm-property.cm-callee,.cm-s-gooey .cm-variable.cm-callee{color:#75b6f9}.cm-s-gooey .cm-variable-2,.cm-s-gooey .cm-variable-3{color:#cfe5f4}.cm-s-gooey .cm-qualifier{color:#75ffe8}.cm-s-gooey .cm-variable.cm-qualifier,.cm-s-gooey .cm-type.cm-qualifier{color:#cfe5f4}.cm-s-green-on-black.CodeMirror{background:black;color:#00FF00}.cm-s-green-on-black div.CodeMirror-selected{background:#404040}.cm-s-green-on-black .CodeMirror-line::selection,.cm-s-green-on-black .CodeMirror-line>span::selection,.cm-s-green-on-black .CodeMirror-line>span>span::selection{background:rgba(64,64,64,.99)}.cm-s-green-on-black .CodeMirror-line::-moz-selection,.cm-s-green-on-black .CodeMirror-line>span::-moz-selection,.cm-s-green-on-black .CodeMirror-line>span>span::-moz-selection{background:rgba(64,64,64,.99)}.cm-s-green-on-black .CodeMirror-gutters{background:black;border-right:1px solid #00FF00}.cm-s-green-on-black .CodeMirror-guttermarker,.cm-s-green-on-black .CodeMirror-guttermarker-subtle,.cm-s-green-on-black .CodeMirror-linenumber{color:#00FF00}.cm-s-green-on-black .CodeMirror-cursor{border-left:1px solid #00FF00}.cm-s-green-on-black .cm-keyword{color:#00FF00}.cm-s-green-on-black .cm-atom,.cm-s-green-on-black .cm-number,.cm-s-green-on-black .cm-def{color:#00AA00}.cm-s-green-on-black span.cm-variable-2,.cm-s-green-on-black span.cm-tag{color:#80FF85}.cm-s-green-on-black span.cm-variable-3,.cm-s-green-on-black span.cm-def,.cm-s-green-on-black span.cm-type{color:#80FF85}.cm-s-green-on-black .cm-operator{color:#00FF00}.cm-s-green-on-black .cm-comment{color:gray;font-weight:bold}.cm-s-green-on-black .cm-string{color:#00AA00}.cm-s-green-on-black .cm-string-2{color:#80FF85}.cm-s-green-on-black .cm-meta,.cm-s-green-on-black .cm-builtin,.cm-s-green-on-black .cm-tag,.cm-s-green-on-black .cm-attribute{color:#00AA00}.cm-s-green-on-black .cm-header{color:#00FF00}.cm-s-green-on-black .cm-hr{color:#00AA00}.cm-s-green-on-black .cm-link{color:#00FF00}.cm-s-green-on-black .cm-error{border-bottom:1px solid red}.cm-s-green-on-black .CodeMirror-activeline-background{background:#202020}.cm-s-green-on-black .CodeMirror-matchingbracket{outline:0;font-weight:bold;color:#00FF00!important;box-sizing:border-box;background:transparent;border-bottom:1px solid}.cm-s-gruvbox-dark.CodeMirror,.cm-s-gruvbox-dark .CodeMirror-gutters{background-color:#282828;color:#bdae93}.cm-s-gruvbox-dark .CodeMirror-gutters{background:#282828;border-right:0}.cm-s-gruvbox-dark .CodeMirror-linenumber{color:#7c6f64}.cm-s-gruvbox-dark .CodeMirror-cursor{border-left:1px solid #ebdbb2}.cm-s-gruvbox-dark.cm-fat-cursor .CodeMirror-cursor,.cm-s-gruvbox-dark .cm-animate-fat-cursor{background-color:#8e8d8875!important}.cm-s-gruvbox-dark div.CodeMirror-selected{background:#928374}.cm-s-gruvbox-dark span.cm-meta{color:#83a598}.cm-s-gruvbox-dark span.cm-comment{color:#928374}.cm-s-gruvbox-dark span.cm-number,span.cm-atom{color:#d3869b}.cm-s-gruvbox-dark span.cm-keyword{color:#f84934}.cm-s-gruvbox-dark span.cm-variable{color:#ebdbb2}.cm-s-gruvbox-dark span.cm-variable-2{color:#ebdbb2}.cm-s-gruvbox-dark span.cm-variable-3,.cm-s-gruvbox-dark span.cm-type{color:#fabd2f}.cm-s-gruvbox-dark span.cm-operator{color:#ebdbb2}.cm-s-gruvbox-dark span.cm-callee{color:#ebdbb2}.cm-s-gruvbox-dark span.cm-def{color:#ebdbb2}.cm-s-gruvbox-dark span.cm-property{color:#ebdbb2}.cm-s-gruvbox-dark span.cm-string{color:#b8bb26}.cm-s-gruvbox-dark span.cm-string-2{color:#8ec07c}.cm-s-gruvbox-dark span.cm-qualifier{color:#8ec07c}.cm-s-gruvbox-dark span.cm-attribute{color:#8ec07c}.cm-s-gruvbox-dark .CodeMirror-activeline-background{background:#3c3836}.cm-s-gruvbox-dark .CodeMirror-matchingbracket{background:#928374;color:#282828!important}.cm-s-gruvbox-dark span.cm-builtin{color:#fe8019}.cm-s-gruvbox-dark span.cm-tag{color:#fe8019}.cm-s-juejin.CodeMirror{background:#f8f9fa}.cm-s-juejin .cm-header,.cm-s-juejin .cm-def{color:#1ba2f0}.cm-s-juejin .cm-comment{color:#009e9d}.cm-s-juejin .cm-quote,.cm-s-juejin .cm-link,.cm-s-juejin .cm-strong,.cm-s-juejin .cm-attribute{color:#fd7741}.cm-s-juejin .cm-url,.cm-s-juejin .cm-keyword,.cm-s-juejin .cm-builtin{color:#bb51b8}.cm-s-juejin .cm-hr{color:#909090}.cm-s-juejin .cm-tag{color:#107000}.cm-s-juejin .cm-variable-2{color:#0050a0}.cm-s-lesser-dark{line-height:1.3em}.cm-s-lesser-dark.CodeMirror{background:#262626;color:#EBEFE7;text-shadow:0 -1px 1px #262626}.cm-s-lesser-dark div.CodeMirror-selected{background:#45443B}.cm-s-lesser-dark .CodeMirror-line::selection,.cm-s-lesser-dark .CodeMirror-line>span::selection,.cm-s-lesser-dark .CodeMirror-line>span>span::selection{background:rgba(69,68,59,.99)}.cm-s-lesser-dark .CodeMirror-line::-moz-selection,.cm-s-lesser-dark .CodeMirror-line>span::-moz-selection,.cm-s-lesser-dark .CodeMirror-line>span>span::-moz-selection{background:rgba(69,68,59,.99)}.cm-s-lesser-dark .CodeMirror-cursor{border-left:1px solid white}.cm-s-lesser-dark pre{padding:0 8px}.cm-s-lesser-dark.CodeMirror span.CodeMirror-matchingbracket{color:#7EFC7E}.cm-s-lesser-dark .CodeMirror-gutters{background:#262626;border-right:1px solid #aaa}.cm-s-lesser-dark .CodeMirror-guttermarker{color:#599eff}.cm-s-lesser-dark .CodeMirror-guttermarker-subtle,.cm-s-lesser-dark .CodeMirror-linenumber{color:#777}.cm-s-lesser-dark span.cm-comment{color:#666}.cm-s-lesser-dark span.cm-comment.cm-def{color:#d1d1d1}.cm-s-lesser-dark span.cm-comment.cm-type{color:#d1d1d1}.cm-s-lesser-dark span.cm-header{color:#a0a}.cm-s-lesser-dark span.cm-quote{color:#090}.cm-s-lesser-dark span.cm-keyword{color:#599eff}.cm-s-lesser-dark span.cm-atom{color:#C2B470}.cm-s-lesser-dark span.cm-number{color:#B35E4D}.cm-s-lesser-dark span.cm-def{color:white}.cm-s-lesser-dark span.cm-variable{color:#D9BF8C}.cm-s-lesser-dark span.cm-variable-2{color:#669199}.cm-s-lesser-dark span.cm-variable-3,.cm-s-lesser-dark span.cm-type{color:white}.cm-s-lesser-dark span.cm-property{color:#92A75C}.cm-s-lesser-dark span.cm-operator{color:#92A75C}.cm-s-lesser-dark span.cm-string{color:#BCD279}.cm-s-lesser-dark span.cm-string-2{color:#f50}.cm-s-lesser-dark span.cm-meta{color:#738C73}.cm-s-lesser-dark span.cm-qualifier{color:#555}.cm-s-lesser-dark span.cm-builtin{color:#ff9e59}.cm-s-lesser-dark span.cm-bracket{color:#EBEFE7}.cm-s-lesser-dark span.cm-tag{color:#669199}.cm-s-lesser-dark span.cm-attribute{color:#81a4d5}.cm-s-lesser-dark span.cm-hr{color:#999}.cm-s-lesser-dark span.cm-link{color:#7070E6}.cm-s-lesser-dark span.cm-error{color:#9d1e15}.cm-s-lesser-dark .CodeMirror-activeline-background{background:#3C3A3A}.cm-s-lesser-dark .CodeMirror-matchingbracket{outline:1px solid grey;color:white!important}.cm-s-material.CodeMirror{background-color:#263238;color:#EEFFFF}.cm-s-material .CodeMirror-gutters{background:#263238;color:#546E7A;border:none}.cm-s-material .CodeMirror-guttermarker,.cm-s-material .CodeMirror-guttermarker-subtle,.cm-s-material .CodeMirror-linenumber{color:#546E7A}.cm-s-material .CodeMirror-cursor{border-left:1px solid #FFCC00}.cm-s-material.cm-fat-cursor .CodeMirror-cursor,.cm-s-material .cm-animate-fat-cursor{background-color:#5d6d5c80!important}.cm-s-material div.CodeMirror-selected{background:rgba(128,203,196,.2)}.cm-s-material.CodeMirror-focused div.CodeMirror-selected{background:rgba(128,203,196,.2)}.cm-s-material .CodeMirror-line::selection,.cm-s-material .CodeMirror-line>span::selection,.cm-s-material .CodeMirror-line>span>span::selection{background:rgba(128,203,196,.2)}.cm-s-material .CodeMirror-line::-moz-selection,.cm-s-material .CodeMirror-line>span::-moz-selection,.cm-s-material .CodeMirror-line>span>span::-moz-selection{background:rgba(128,203,196,.2)}.cm-s-material .CodeMirror-activeline-background{background:rgba(0,0,0,.5)}.cm-s-material .cm-keyword{color:#C792EA}.cm-s-material .cm-operator{color:#89DDFF}.cm-s-material .cm-variable-2{color:#EEFFFF}.cm-s-material .cm-variable-3,.cm-s-material .cm-type{color:#f07178}.cm-s-material .cm-builtin{color:#FFCB6B}.cm-s-material .cm-atom{color:#F78C6C}.cm-s-material .cm-number{color:#FF5370}.cm-s-material .cm-def{color:#82AAFF}.cm-s-material .cm-string{color:#C3E88D}.cm-s-material .cm-string-2{color:#f07178}.cm-s-material .cm-comment{color:#546E7A}.cm-s-material .cm-variable{color:#f07178}.cm-s-material .cm-tag{color:#FF5370}.cm-s-material .cm-meta{color:#FFCB6B}.cm-s-material .cm-attribute,.cm-s-material .cm-property{color:#C792EA}.cm-s-material .cm-qualifier,.cm-s-material .cm-variable-3,.cm-s-material .cm-type{color:#DECB6B}.cm-s-material .cm-error{color:rgba(255,255,255,1);background-color:#FF5370}.cm-s-material .CodeMirror-matchingbracket{text-decoration:underline;color:white!important}.cm-s-mbo.CodeMirror{background:#2c2c2c;color:#ffffec}.cm-s-mbo div.CodeMirror-selected{background:#716C62}.cm-s-mbo .CodeMirror-line::selection,.cm-s-mbo .CodeMirror-line>span::selection,.cm-s-mbo .CodeMirror-line>span>span::selection{background:rgba(113,108,98,.99)}.cm-s-mbo .CodeMirror-line::-moz-selection,.cm-s-mbo .CodeMirror-line>span::-moz-selection,.cm-s-mbo .CodeMirror-line>span>span::-moz-selection{background:rgba(113,108,98,.99)}.cm-s-mbo .CodeMirror-gutters{background:#4e4e4e;border-right:0}.cm-s-mbo .CodeMirror-guttermarker{color:white}.cm-s-mbo .CodeMirror-guttermarker-subtle{color:grey}.cm-s-mbo .CodeMirror-linenumber{color:#dadada}.cm-s-mbo .CodeMirror-cursor{border-left:1px solid #ffffec}.cm-s-mbo span.cm-comment{color:#95958a}.cm-s-mbo span.cm-atom{color:#00a8c6}.cm-s-mbo span.cm-number{color:#00a8c6}.cm-s-mbo span.cm-property,.cm-s-mbo span.cm-attribute{color:#9ddfe9}.cm-s-mbo span.cm-keyword{color:#ffb928}.cm-s-mbo span.cm-string{color:#ffcf6c}.cm-s-mbo span.cm-string.cm-property{color:#ffffec}.cm-s-mbo span.cm-variable{color:#ffffec}.cm-s-mbo span.cm-variable-2{color:#00a8c6}.cm-s-mbo span.cm-def{color:#ffffec}.cm-s-mbo span.cm-bracket{color:#fffffc;font-weight:bold}.cm-s-mbo span.cm-tag{color:#9ddfe9}.cm-s-mbo span.cm-link{color:#f54b07}.cm-s-mbo span.cm-error{border-bottom:#636363;color:#ffffec}.cm-s-mbo span.cm-qualifier{color:#ffffec}.cm-s-mbo .CodeMirror-activeline-background{background:#494b41}.cm-s-mbo .CodeMirror-matchingbracket{color:#ffb928!important}.cm-s-mbo .CodeMirror-matchingtag{background:rgba(255,255,255,.37)}.cm-s-mdn-like.CodeMirror{color:#999;background-color:#fff}.cm-s-mdn-like div.CodeMirror-selected{background:#cfc}.cm-s-mdn-like .CodeMirror-line::selection,.cm-s-mdn-like .CodeMirror-line>span::selection,.cm-s-mdn-like .CodeMirror-line>span>span::selection{background:#cfc}.cm-s-mdn-like .CodeMirror-line::-moz-selection,.cm-s-mdn-like .CodeMirror-line>span::-moz-selection,.cm-s-mdn-like .CodeMirror-line>span>span::-moz-selection{background:#cfc}.cm-s-mdn-like .CodeMirror-gutters{background:#f8f8f8;border-left:6px solid rgba(0,83,159,.65);color:#333}.cm-s-mdn-like .CodeMirror-linenumber{color:#aaa;padding-left:8px}.cm-s-mdn-like .CodeMirror-cursor{border-left:2px solid #222}.cm-s-mdn-like .cm-keyword{color:#6262FF}.cm-s-mdn-like .cm-atom{color:#F90}.cm-s-mdn-like .cm-number{color:#ca7841}.cm-s-mdn-like .cm-def{color:#8DA6CE}.cm-s-mdn-like span.cm-variable-2,.cm-s-mdn-like span.cm-tag{color:#690}.cm-s-mdn-like span.cm-variable-3,.cm-s-mdn-like span.cm-def,.cm-s-mdn-like span.cm-type{color:#07a}.cm-s-mdn-like .cm-variable{color:#07a}.cm-s-mdn-like .cm-property{color:#905}.cm-s-mdn-like .cm-qualifier{color:#690}.cm-s-mdn-like .cm-operator{color:#cda869}.cm-s-mdn-like .cm-comment{color:#777;font-weight:normal}.cm-s-mdn-like .cm-string{color:#07a;font-style:italic}.cm-s-mdn-like .cm-string-2{color:#bd6b18}.cm-s-mdn-like .cm-meta{color:#000}.cm-s-mdn-like .cm-builtin{color:#9B7536}.cm-s-mdn-like .cm-tag{color:#997643}.cm-s-mdn-like .cm-attribute{color:#d6bb6d}.cm-s-mdn-like .cm-header{color:#FF6400}.cm-s-mdn-like .cm-hr{color:#AEAEAE}.cm-s-mdn-like .cm-link{color:#ad9361;font-style:italic;text-decoration:none}.cm-s-mdn-like .cm-error{border-bottom:1px solid red}div.cm-s-mdn-like .CodeMirror-activeline-background{background:#efefff}div.cm-s-mdn-like span.CodeMirror-matchingbracket{outline:1px solid grey;color:inherit}.cm-s-mdn-like.CodeMirror{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFcAAAAyCAYAAAAp8UeFAAAHvklEQVR42s2b63bcNgyEQZCSHCdt2vd/0tWF7I+Q6XgMXiTtuvU5Pl57ZQKkKHzEAOtF5KeIJBGJ8uvL599FRFREZhFx8DeXv8trn68RuGaC8TRfo3SNp9dlDDHedyLyTUTeRWStXKPZrjtpZxaRw5hPqozRs1N8/enzIiQRWcCgy4MUA0f+XWliDhyL8Lfyvx7ei/Ae3iQFHyw7U/59pQVIMEEPEz0G7XiwdRjzSfC3UTtz9vchIntxvry5iMgfIhJoEflOz2CQr3F5h/HfeFe+GTdLaKcu9L8LTeQb/R/7GgbsfKedyNdoHsN31uRPWrfZ5wsj/NzzRQHuToIdU3ahwnsKPxXCjJITuOsi7XLc7SG/v5GdALs7wf8JjTFiB5+QvTEfRyGOfX3Lrx8wxyQi3sNq46O7QahQiCsRFgqddjBouVEHOKDgXAQHD9gJCr5sMKkEdjwsarG/ww3BMHBU7OBjXnzdyY7SfCxf5/z6ATccrwlKuwC/jhznnPF4CgVzhhVf4xp2EixcBActO75iZ8/fM9zAs2OMzKdslgXWJ9XG8PQoOAMA5fGcsvORgv0doBXyHrCwfLJAOwo71QLNkb8n2Pl6EWiR7OCibtkPaz4Kc/0NNAze2gju3zOwekALDaCFPI5vjPFmgGY5AZqyGEvH1x7QfIb8YtxMnA/b+QQ0aQDAwc6JMFg8CbQZ4qoYEEHbRwNojuK3EHwd7VALSgq+MNDKzfT58T8qdpADrgW0GmgcAS1lhzztJmkAzcPNOQbsWEALBDSlMKUG0Eq4CLAQWvEVQ9WU57gZJwZtgPO3r9oBTQ9WO8TjqXINx8R0EYpiZEUWOF3FxkbJkgU9B2f41YBrIj5ZfsQa0M5kTgiAAqM3ShXLgu8XMqcrQBvJ0CL5pnTsfMB13oB8athpAq2XOQmcGmoACCLydx7nToa23ATaSIY2ichfOdPTGxlasXMLaL0MLZAOwAKIM+y8CmicobGdCcbbK9DzN+yYGVoNNI5iUKTMyYOjPse4A8SM1MmcXgU0toOq1yO/v8FOxlASyc7TgeYaAMBJHcY1CcCwGI/TK4AmDbDyKYBBtFUkRwto8gygiQEaByFgJ00BH2M8JWwQS1nafDXQCidWyOI8AcjDCSjCLk8ngObuAm3JAHAdubAmOaK06V8MNEsKPJOhobSprwQa6gD7DclRQdqcwL4zxqgBrQcabUiBLclRDKAlWp+etPkBaNMA0AKlrHwTdEByZAA4GM+SNluSY6wAzcMNewxmgig5Ks0nkrSpBvSaQHMdKTBAnLojOdYyGpQ254602ZILPdTD1hdlggdIm74jbTp8vDwF5ZYUeLWGJpWsh6XNyXgcYwVoJQTEhhTYkxzZjiU5npU2TaB979TQehlaAVq4kaGpiPwwwLkYUuBbQwocyQTv1tA0+1UFWoJF3iv1oq+qoSk8EQdJmwHkziIF7oOZk14EGitibAdjLYYK78H5vZOhtWpoI0ATGHs0Q8OMb4Ey+2bU2UYztCtA0wFAs7TplGLRVQCcqaFdGSPCeTI1QNIC52iWNzof6Uib7xjEp07mNNoUYmVosVItHrHzRlLgBn9LFyRHaQCtVUMbtTNhoXWiTOO9k/V8BdAc1Oq0ArSQs6/5SU0hckNy9NnXqQY0PGYo5dWJ7nINaN6o958FWin27aBaWRka1r5myvLOAm0j30eBJqCxHLReVclxhxOEN2JfDWjxBtAC7MIH1fVaGdoOp4qJYDgKtKPSFNID2gSnGldrCqkFZ+5UeQXQBIRrSwocbdZYQT/2LwRahBPBXoHrB8nxaGROST62DKUbQOMMzZIC9abkuELfQzQALWTnDNAm8KHWFOJgJ5+SHIvTPcmx1xQyZRhNL5Qci689aXMEaN/uNIWkEwDAvFpOZmgsBaaGnbs1NPa1Jm32gBZAIh1pCtG7TSH4aE0y1uVY4uqoFPisGlpP2rSA5qTecWn5agK6BzSpgAyD+wFaqhnYoSZ1Vwr8CmlTQbrcO3ZaX0NAEyMbYaAlyquFoLKK3SPby9CeVUPThrSJmkCAE0CrKUQadi4DrdSlWhmah0YL9z9vClH59YGbHx1J8VZTyAjQepJjmXwAKTDQI3omc3p1U4gDUf6RfcdYfrUp5ClAi2J3Ba6UOXGo+K+bQrjjssitG2SJzshaLwMtXgRagUNpYYoVkMSBLM+9GGiJZMvduG6DRZ4qc04DMPtQQxOjEtACmhO7K1AbNbQDEggZyJwscFpAGwENhoBeUwh3bWolhe8BTYVKxQEWrSUn/uhcM5KhvUu/+eQu0Lzhi+VrK0PrZZNDQKs9cpYUuFYgMVpD4/NxenJTiMCNqdUEUf1qZWjppLT5qSkkUZbCwkbZMSuVnu80hfSkzRbQeqCZSAh6huR4VtoM2gHAlLf72smuWgE+VV7XpE25Ab2WFDgyhnSuKbs4GuGzCjR+tIoUuMFg3kgcWKLTwRqanJQ2W00hAsenfaApRC42hbCvK1SlE0HtE9BGgneJO+ELamitD1YjjOYnNYVcraGhtKkW0EqVVeDx733I2NH581k1NNxNLG0i0IJ8/NjVaOZ0tYZ2Vtr0Xv7tPV3hkWp9EFkgS/J0vosngTaSoaG06WHi+xObQkaAdlbanP8B2+2l0f90LmUAAAAASUVORK5CYII=)}.cm-s-midnight .CodeMirror-activeline-background{background:#253540}.cm-s-midnight.CodeMirror{background:#0F192A;color:#D1EDFF}.cm-s-midnight div.CodeMirror-selected{background:#314D67}.cm-s-midnight .CodeMirror-line::selection,.cm-s-midnight .CodeMirror-line>span::selection,.cm-s-midnight .CodeMirror-line>span>span::selection{background:rgba(49,77,103,.99)}.cm-s-midnight .CodeMirror-line::-moz-selection,.cm-s-midnight .CodeMirror-line>span::-moz-selection,.cm-s-midnight .CodeMirror-line>span>span::-moz-selection{background:rgba(49,77,103,.99)}.cm-s-midnight .CodeMirror-gutters{background:#0F192A;border-right:1px solid}.cm-s-midnight .CodeMirror-guttermarker{color:white}.cm-s-midnight .CodeMirror-guttermarker-subtle{color:#d0d0d0}.cm-s-midnight .CodeMirror-linenumber{color:#D0D0D0}.cm-s-midnight .CodeMirror-cursor{border-left:1px solid #F8F8F0}.cm-s-midnight span.cm-comment{color:#428BDD}.cm-s-midnight span.cm-atom{color:#AE81FF}.cm-s-midnight span.cm-number{color:#D1EDFF}.cm-s-midnight span.cm-property,.cm-s-midnight span.cm-attribute{color:#A6E22E}.cm-s-midnight span.cm-keyword{color:#E83737}.cm-s-midnight span.cm-string{color:#1DC116}.cm-s-midnight span.cm-variable{color:#FFAA3E}.cm-s-midnight span.cm-variable-2{color:#FFAA3E}.cm-s-midnight span.cm-def{color:#4DD}.cm-s-midnight span.cm-bracket{color:#D1EDFF}.cm-s-midnight span.cm-tag{color:#449}.cm-s-midnight span.cm-link{color:#AE81FF}.cm-s-midnight span.cm-error{background:#F92672;color:#F8F8F0}.cm-s-midnight .CodeMirror-matchingbracket{text-decoration:underline;color:white!important}.cm-s-monokai.CodeMirror{background:#272822;color:#f8f8f2}.cm-s-monokai div.CodeMirror-selected{background:#49483E}.cm-s-monokai .CodeMirror-line::selection,.cm-s-monokai .CodeMirror-line>span::selection,.cm-s-monokai .CodeMirror-line>span>span::selection{background:rgba(73,72,62,.99)}.cm-s-monokai .CodeMirror-line::-moz-selection,.cm-s-monokai .CodeMirror-line>span::-moz-selection,.cm-s-monokai .CodeMirror-line>span>span::-moz-selection{background:rgba(73,72,62,.99)}.cm-s-monokai .CodeMirror-gutters{background:#272822;border-right:0}.cm-s-monokai .CodeMirror-guttermarker{color:white}.cm-s-monokai .CodeMirror-guttermarker-subtle,.cm-s-monokai .CodeMirror-linenumber{color:#d0d0d0}.cm-s-monokai .CodeMirror-cursor{border-left:1px solid #f8f8f0}.cm-s-monokai span.cm-comment{color:#75715e}.cm-s-monokai span.cm-atom{color:#ae81ff}.cm-s-monokai span.cm-number{color:#ae81ff}.cm-s-monokai span.cm-comment.cm-attribute{color:#97b757}.cm-s-monokai span.cm-comment.cm-def{color:#bc9262}.cm-s-monokai span.cm-comment.cm-tag{color:#bc6283}.cm-s-monokai span.cm-comment.cm-type{color:#5998a6}.cm-s-monokai span.cm-property,.cm-s-monokai span.cm-attribute{color:#a6e22e}.cm-s-monokai span.cm-keyword{color:#f92672}.cm-s-monokai span.cm-builtin{color:#66d9ef}.cm-s-monokai span.cm-string{color:#e6db74}.cm-s-monokai span.cm-variable{color:#f8f8f2}.cm-s-monokai span.cm-variable-2{color:#9effff}.cm-s-monokai span.cm-variable-3,.cm-s-monokai span.cm-type{color:#66d9ef}.cm-s-monokai span.cm-def{color:#fd971f}.cm-s-monokai span.cm-bracket{color:#f8f8f2}.cm-s-monokai span.cm-tag{color:#f92672}.cm-s-monokai span.cm-header{color:#ae81ff}.cm-s-monokai span.cm-link{color:#ae81ff}.cm-s-monokai span.cm-error{background:#f92672;color:#f8f8f0}.cm-s-monokai .CodeMirror-activeline-background{background:#373831}.cm-s-monokai .CodeMirror-matchingbracket{text-decoration:underline;color:white!important}.cm-s-neat span.cm-comment{color:#a86}.cm-s-neat span.cm-keyword{line-height:1em;font-weight:bold;color:blue}.cm-s-neat span.cm-string{color:#a22}.cm-s-neat span.cm-builtin{line-height:1em;font-weight:bold;color:#077}.cm-s-neat span.cm-special{line-height:1em;font-weight:bold;color:#0aa}.cm-s-neat span.cm-variable{color:black}.cm-s-neat span.cm-number,.cm-s-neat span.cm-atom{color:#3a3}.cm-s-neat span.cm-meta{color:#555}.cm-s-neat span.cm-link{color:#3a3}.cm-s-neat .CodeMirror-activeline-background{background:#e8f2ff}.cm-s-neat .CodeMirror-matchingbracket{outline:1px solid grey;color:black!important}.cm-s-neo.CodeMirror{background-color:#ffffff;color:#2e383c;line-height:1.4375}.cm-s-neo .cm-comment{color:#75787b}.cm-s-neo .cm-keyword,.cm-s-neo .cm-property{color:#1d75b3}.cm-s-neo .cm-atom,.cm-s-neo .cm-number{color:#75438a}.cm-s-neo .cm-node,.cm-s-neo .cm-tag{color:#9c3328}.cm-s-neo .cm-string{color:#b35e14}.cm-s-neo .cm-variable,.cm-s-neo .cm-qualifier{color:#047d65}.cm-s-neo pre{padding:0}.cm-s-neo .CodeMirror-gutters{border:none;border-right:10px solid transparent;background-color:transparent}.cm-s-neo .CodeMirror-linenumber{padding:0;color:#e0e2e5}.cm-s-neo .CodeMirror-guttermarker{color:#1d75b3}.cm-s-neo .CodeMirror-guttermarker-subtle{color:#e0e2e5}.cm-s-neo .CodeMirror-cursor{width:auto;border:0;background:rgba(155,157,162,.37);z-index:1}.cm-s-night.CodeMirror{background:#0a001f;color:#f8f8f8}.cm-s-night div.CodeMirror-selected{background:#447}.cm-s-night .CodeMirror-line::selection,.cm-s-night .CodeMirror-line>span::selection,.cm-s-night .CodeMirror-line>span>span::selection{background:rgba(68,68,119,.99)}.cm-s-night .CodeMirror-line::-moz-selection,.cm-s-night .CodeMirror-line>span::-moz-selection,.cm-s-night .CodeMirror-line>span>span::-moz-selection{background:rgba(68,68,119,.99)}.cm-s-night .CodeMirror-gutters{background:#0a001f;border-right:1px solid #aaa}.cm-s-night .CodeMirror-guttermarker{color:white}.cm-s-night .CodeMirror-guttermarker-subtle{color:#bbb}.cm-s-night .CodeMirror-linenumber{color:#f8f8f8}.cm-s-night .CodeMirror-cursor{border-left:1px solid white}.cm-s-night span.cm-comment{color:#8900d1}.cm-s-night span.cm-atom{color:#845dc4}.cm-s-night span.cm-number,.cm-s-night span.cm-attribute{color:#ffd500}.cm-s-night span.cm-keyword{color:#599eff}.cm-s-night span.cm-string{color:#37f14a}.cm-s-night span.cm-meta{color:#7678e2}.cm-s-night span.cm-variable-2,.cm-s-night span.cm-tag{color:#99b2ff}.cm-s-night span.cm-variable-3,.cm-s-night span.cm-def,.cm-s-night span.cm-type{color:white}.cm-s-night span.cm-bracket{color:#8da6ce}.cm-s-night span.cm-builtin,.cm-s-night span.cm-special{color:#ff9e59}.cm-s-night span.cm-link{color:#845dc4}.cm-s-night span.cm-error{color:#9d1e15}.cm-s-night .CodeMirror-activeline-background{background:#1C005A}.cm-s-night .CodeMirror-matchingbracket{outline:1px solid grey;color:white!important}.cm-s-nord.CodeMirror{background:#2e3440;color:#d8dee9}.cm-s-nord div.CodeMirror-selected{background:#434c5e}.cm-s-nord .CodeMirror-line::selection,.cm-s-nord .CodeMirror-line>span::selection,.cm-s-nord .CodeMirror-line>span>span::selection{background:#3b4252}.cm-s-nord .CodeMirror-line::-moz-selection,.cm-s-nord .CodeMirror-line>span::-moz-selection,.cm-s-nord .CodeMirror-line>span>span::-moz-selection{background:#3b4252}.cm-s-nord .CodeMirror-gutters{background:#2e3440;border-right:0}.cm-s-nord .CodeMirror-guttermarker,.cm-s-nord .CodeMirror-guttermarker-subtle,.cm-s-nord .CodeMirror-linenumber{color:#4c566a}.cm-s-nord .CodeMirror-cursor{border-left:1px solid #f8f8f0}.cm-s-nord span.cm-comment{color:#4c566a}.cm-s-nord span.cm-atom{color:#b48ead}.cm-s-nord span.cm-number{color:#b48ead}.cm-s-nord span.cm-comment.cm-attribute{color:#97b757}.cm-s-nord span.cm-comment.cm-def{color:#bc9262}.cm-s-nord span.cm-comment.cm-tag{color:#bc6283}.cm-s-nord span.cm-comment.cm-type{color:#5998a6}.cm-s-nord span.cm-property,.cm-s-nord span.cm-attribute{color:#8FBCBB}.cm-s-nord span.cm-keyword{color:#81A1C1}.cm-s-nord span.cm-builtin{color:#81A1C1}.cm-s-nord span.cm-string{color:#A3BE8C}.cm-s-nord span.cm-variable{color:#d8dee9}.cm-s-nord span.cm-variable-2{color:#d8dee9}.cm-s-nord span.cm-variable-3,.cm-s-nord span.cm-type{color:#d8dee9}.cm-s-nord span.cm-def{color:#8FBCBB}.cm-s-nord span.cm-bracket{color:#81A1C1}.cm-s-nord span.cm-tag{color:#bf616a}.cm-s-nord span.cm-header{color:#b48ead}.cm-s-nord span.cm-link{color:#b48ead}.cm-s-nord span.cm-error{background:#bf616a;color:#f8f8f0}.cm-s-nord .CodeMirror-activeline-background{background:#3b4252}.cm-s-nord .CodeMirror-matchingbracket{text-decoration:underline;color:white!important}.cm-s-papercolor-light.CodeMirror{--color00:#EEEEEE;--color01:#AF0000;--color02:#008700;--color03:#5F8700;--color04:#0087AF;--color05:#878787;--color06:#005F87;--color07:#444444;--color08:#BCBCBC;--color09:#D70000;--color10:#D70087;--color11:#8700AF;--color12:#D75F00;--color13:#D75F00;--color14:#005FAF;--color15:#005F87;--color16:#0087AF;--color17:#008700;--activeline_bg:#0087AF18;--selection_bg:#F8F88080;background-color:var(--color00);color:var(--color07)}.cm-s-papercolor-light .CodeMirror-activeline-background{background-color:var(--activeline_bg)}.cm-s-papercolor-light .cm-keyword{color:var(--color14);font-weight:bold}.cm-s-papercolor-light .cm-atom{color:var(--color02)}.cm-s-papercolor-light .cm-number{color:var(--color13)}.cm-s-papercolor-light .cm-string,.cm-s-papercolor-light .cm-string-2{color:var(--color03)}.cm-s-papercolor-light .cm-comment{color:var(--color05)}.cm-s-papercolor-light .cm-variable,.cm-s-papercolor-light .cm-variable-2,.cm-s-papercolor-light .cm-variable-3{color:var(--color07)}.cm-s-papercolor-light .cm-attribute,.cm-s-papercolor-light .cm-property{color:var(--color16)}.cm-s-papercolor-light .cm-def{color:var(--color07)}.cm-s-papercolor-light .cm-meta{color:var(--color09)}.cm-s-papercolor-light .cm-punctuation,.cm-s-papercolor-light .cm-operator,.cm-s-papercolor-light .cm-bracket{color:var(--color07)}.cm-s-papercolor-light .cm-type{color:var(--color10)}.cm-s-papercolor-light .cm-builtin{color:var(--color16)}.cm-s-papercolor-light .cm-qualifier{color:var(--color06)}.cm-s-papercolor-light .cm-tag{color:var(--color17)}.cm-s-papercolor-light .cm-error{color:var(--color01);border-bottom:1px solid #ef5350}.cm-s-papercolor-light .cm-invalidchar{color:var(--color01);border-bottom:1px dotted #dc322f}.cm-s-papercolor-light .CodeMirror-matchingbracket{color:var(--color02)}.cm-s-papercolor-light .CodeMirror-nonmatchingbracket{color:var(--color01)}.cm-s-papercolor-light .CodeMirror-matchingtag{color:var(--color02)}.cm-s-papercolor-light .cm-header{color:var(--color10)}.cm-s-papercolor-light .cm-quote{color:var(--color05)}.cm-s-papercolor-light .cm-negative{color:var(--color01)}.cm-s-papercolor-light .cm-positive{color:var(--color02)}.cm-s-papercolor-light .cm-link{color:var(--color14)}.cm-s-papercolor-light .CodeMirror-gutters{background-color:var(--color00);color:var(--color07);border-right:1px solid var(--color08)}.cm-s-papercolor-light .CodeMirror-activeline-gutter{background-color:var(--activeline_bg)}.cm-s-papercolor-light .CodeMirror-guttermarker,.cm-s-papercolor-light .CodeMirror-guttermarker-subtle,.cm-s-papercolor-light .CodeMirror-linenumber{color:var(--color07)}.cm-s-papercolor-light .CodeMirror-cursor{border-left:1px solid var(--color07)}.cm-s-papercolor-light div.CodeMirror-selected{background-color:var(--selection_bg)}.cm-s-papercolor-light.CodeMirror-focused div.CodeMirror-selected{background-color:var(--selection_bg)}.cm-s-papercolor-light .CodeMirror-line::selection,.cm-s-papercolor-light .CodeMirror-line>span::selection,.cm-s-papercolor-light .CodeMirror-line>span>span::selection{background-color:var(--selection_bg)}.cm-s-papercolor-light .CodeMirror-line::-moz-selection,.cm-s-papercolor-light .CodeMirror-line>span::-moz-selection,.cm-s-papercolor-light .CodeMirror-line>span>span::-moz-selection{background-color:var(--selection_bg)}.cm-s-pastel-on-dark.CodeMirror{background:#2c2827;color:#8F938F;line-height:1.5}.cm-s-pastel-on-dark div.CodeMirror-selected{background:rgba(221,240,255,.2)}.cm-s-pastel-on-dark .CodeMirror-line::selection,.cm-s-pastel-on-dark .CodeMirror-line>span::selection,.cm-s-pastel-on-dark .CodeMirror-line>span>span::selection{background:rgba(221,240,255,.2)}.cm-s-pastel-on-dark .CodeMirror-line::-moz-selection,.cm-s-pastel-on-dark .CodeMirror-line>span::-moz-selection,.cm-s-pastel-on-dark .CodeMirror-line>span>span::-moz-selection{background:rgba(221,240,255,.2)}.cm-s-pastel-on-dark .CodeMirror-gutters{background:#34302f;border-right:0;padding:0 3px}.cm-s-pastel-on-dark .CodeMirror-guttermarker{color:white}.cm-s-pastel-on-dark .CodeMirror-guttermarker-subtle,.cm-s-pastel-on-dark .CodeMirror-linenumber{color:#8F938F}.cm-s-pastel-on-dark .CodeMirror-cursor{border-left:1px solid #A7A7A7}.cm-s-pastel-on-dark span.cm-comment{color:#A6C6FF}.cm-s-pastel-on-dark span.cm-atom{color:#DE8E30}.cm-s-pastel-on-dark span.cm-number{color:#CCCCCC}.cm-s-pastel-on-dark span.cm-property{color:#8F938F}.cm-s-pastel-on-dark span.cm-attribute{color:#a6e22e}.cm-s-pastel-on-dark span.cm-keyword{color:#AEB2F8}.cm-s-pastel-on-dark span.cm-string{color:#66A968}.cm-s-pastel-on-dark span.cm-variable{color:#AEB2F8}.cm-s-pastel-on-dark span.cm-variable-2{color:#BEBF55}.cm-s-pastel-on-dark span.cm-variable-3,.cm-s-pastel-on-dark span.cm-type{color:#DE8E30}.cm-s-pastel-on-dark span.cm-def{color:#757aD8}.cm-s-pastel-on-dark span.cm-bracket{color:#f8f8f2}.cm-s-pastel-on-dark span.cm-tag{color:#C1C144}.cm-s-pastel-on-dark span.cm-link{color:#ae81ff}.cm-s-pastel-on-dark span.cm-qualifier,.cm-s-pastel-on-dark span.cm-builtin{color:#C1C144}.cm-s-pastel-on-dark span.cm-error{background:#757aD8;color:#f8f8f0}.cm-s-pastel-on-dark .CodeMirror-activeline-background{background:rgba(255,255,255,.031)}.cm-s-pastel-on-dark .CodeMirror-matchingbracket{border:1px solid rgba(255,255,255,.25);color:#8F938F!important;margin:-1px -1px 0 -1px}.cm-s-picard.CodeMirror{--active-line:rgb(55,134,252);--atom:white;--attribute:#ecc48d;--background:black;--comment:#678898;--function:#76a7ef;--gutter-num:#b3b3b3;--gutter:black;--keyword:#c695c6;--number:white;--property:#b2c8fd;--qualifier:#76a7ef;--secondary:#ecc48d;--selected-background:#a8b0f0;--string:#EEE;--symbol:#ecc48d;--tag:#fd827c;--type:#fd827c;--variable:hsl(222,100%,85%);background:var(--background);color:white;-webkit-font-variant-ligatures:common-ligatures;font-variant-ligatures:common-ligatures;-webkit-perspective:340px;perspective:340px;-webkit-transform-style:preserve-3d;transform-style:preserve-3d}.cm-s-picard .CodeMirror-scrollbar-filler{background:transparent;position:absolute;pointer-events:none;top:0;left:0;width:100%;height:100%;display:block;z-index:-1}.cm-s-picard .CodeMirror-guttermarker{color:white}.cm-s-picard .CodeMirror-guttermarker-subtle{color:#3E7087}.cm-s-picard .CodeMirror-gutter-background.CodeMirror-activeline-gutter{background:var(--background);-webkit-transform:translateX(4px);transform:translateX(4px)}.cm-s-picard .CodeMirror-line.CodeMirror-line,.cm-s-picard .CodeMirror-activeline .CodeMirror-line{line-height:1.2rem}.cm-s-picard .CodeMirror-gutters{border-right:none}.cm-s-picard .grok-ref-deprecated{-webkit-filter:grayscale(.8);filter:grayscale(.8)}.cm-s-picard .CodeMirror-foldgutter-open:after,.cm-s-picard .CodeMirror-foldgutter-folded:after{border-radius:0 16px 16px 0;color:white;content:\"⌄\";display:block;font-family:monospace;position:relative}.cm-s-picard .CodeMirror-foldgutter-open:after{-webkit-transform:translate(4px,-4px);transform:translate(4px,-4px)}.cm-s-picard .CodeMirror-foldgutter-folded:after{-webkit-transform:translate(-3px,-2px) rotate(-90deg);transform:translate(-3px,-2px) rotate(-90deg)}.cm-s-picard .CodeMirror-linenumbers{background:var(--gutter)}.cm-s-picard .CodeMirror-linenumber{color:var(--gutter-num)}.cm-s-picard .CodeMirror-cursor{border-left:1px solid white}.cm-s-picard .CodeMirror-selected,.cm-s-picard .CodeMirror-selectedtext{background:var(--selected-background)!important}.cm-s-picard .CodeMirror-gutters{background:transparent;border-radius:12px 0 0 16px;bottom:2px;left:2px;top:2px}.cm-s-picard .CodeMirror-activeline .CodeMirror-line{background:var(--background)}.cm-s-picard .CodeMirror-gutter-elt{color:white;font-weight:bold;line-height:1.2rem}.cm-s-picard .CodeMirror-activeline .CodeMirror-gutter-elt{background:transparent;color:var(--active-line)}.cm-s-picard .CodeMirror-cursor{border-left:2px solid #80a4c2}.cm-s-picard .cm-atom,.cm-s-picard .cm-attribute,.cm-s-picard .cm-builtin,.cm-s-picard .cm-callee,.cm-s-picard .cm-comment,.cm-s-picard .cm-def,.cm-s-picard .cm-def.cm-type,.cm-s-picard .cm-grok-ref,.cm-s-picard .cm-keyword,.cm-s-picard .cm-local .cm-s-picard .cm-property,.cm-s-picard .cm-qualifier,.cm-s-picard .cm-string,.cm-s-picard .cm-type,.cm-s-picard .cm-variable,.cm-s-picard .cm-variable-2,.cm-s-picard .cm-variable-3{line-height:1.2rem}.cm-s-picard .cm-atom{color:var(--atom)}.cm-s-picard .cm-qualifier~.cm-tag,.cm-s-picard .cm-attribute{color:var(--attribute)}.cm-s-picard .cm-builtin{color:var(--tag)}.cm-s-picard .cm-comment{color:var(--comment)}.cm-s-picard .cm-comment.cm-def{color:var(--keyword)}.cm-s-picard .cm-comment.cm-hyperlink{color:var(--property)}.cm-s-picard .cm-error{border-bottom:1px solid #ef5350}.cm-s-picard .cm-keyword,.cm-s-picard .cm-operator{color:var(--keyword)}.cm-s-picard .cm-number{color:var(--number)}.cm-s-picard .cm-qualifier{color:var(--qualifier)}.cm-s-picard .cm-string{color:var(--string)}.cm-s-picard .cm-string-2{color:var(--secondary)}.cm-s-picard .cm-tag{color:var(--tag);font-weight:bold}.cm-s-picard .cm-property,.cm-s-picard .cm-property.cm-string{color:var(--property)}.cm-s-picard .cm-property.cm-callee,.cm-s-picard .cm-variable,.cm-s-picard .cm-variable-2,.cm-s-picard .cm-variable-3{color:var(--variable)}.cm-s-picard .cm-callee.cm-variable,.cm-s-picard .cm-callee{color:var(--function)}.cm-s-picard .cm-type{color:var(--type)}.cm-s-picard .cm-def,.cm-s-picard .cm-def.grok-ref,.cm-s-picard .cm-type.grok-ref,.cm-s-picard .cm-comment.grok-ref,.cm-s-picard .cm-variable.grok-ref.cm-callee{color:var(--symbol)}.cm-s-picard .cm-variable.cm-callee.grok-ref,.cm-s-picard .cm-comment.cm-tag,.cm-s-picard .cm-meta{color:var(--function)}.cm-s-picard .cm-local.cm-def{color:var(--variable)}.cm-s-picard .cm-meta.grok-ref{color:var(--secondary)}.cm-s-picard .cm-meta.cm-comment{color:gray}.cm-s-picard .cm-header{color:var(--symbol)}.cm-s-picard .cm-link,.cm-s-picard .cm-hyperlink,.cm-s-picard .cm-url{color:var(--property)}.cm-s-rubyblue.CodeMirror{background:#112435;color:white}.cm-s-rubyblue div.CodeMirror-selected{background:#38566F}.cm-s-rubyblue .CodeMirror-line::selection,.cm-s-rubyblue .CodeMirror-line>span::selection,.cm-s-rubyblue .CodeMirror-line>span>span::selection{background:rgba(56,86,111,.99)}.cm-s-rubyblue .CodeMirror-line::-moz-selection,.cm-s-rubyblue .CodeMirror-line>span::-moz-selection,.cm-s-rubyblue .CodeMirror-line>span>span::-moz-selection{background:rgba(56,86,111,.99)}.cm-s-rubyblue .CodeMirror-gutters{background:#1F4661;border-right:7px solid #3E7087}.cm-s-rubyblue .CodeMirror-guttermarker{color:white}.cm-s-rubyblue .CodeMirror-guttermarker-subtle{color:#3E7087}.cm-s-rubyblue .CodeMirror-linenumber{color:white}.cm-s-rubyblue .CodeMirror-cursor{border-left:1px solid white}.cm-s-rubyblue span.cm-comment{color:#999;font-style:italic;line-height:1em}.cm-s-rubyblue span.cm-atom{color:#F4C20B}.cm-s-rubyblue span.cm-number,.cm-s-rubyblue span.cm-attribute{color:#82C6E0}.cm-s-rubyblue span.cm-keyword{color:#F0F}.cm-s-rubyblue span.cm-string{color:#F08047}.cm-s-rubyblue span.cm-meta{color:#F0F}.cm-s-rubyblue span.cm-variable-2,.cm-s-rubyblue span.cm-tag{color:#7BD827}.cm-s-rubyblue span.cm-variable-3,.cm-s-rubyblue span.cm-def,.cm-s-rubyblue span.cm-type{color:white}.cm-s-rubyblue span.cm-bracket{color:#F0F}.cm-s-rubyblue span.cm-link{color:#F4C20B}.cm-s-rubyblue span.CodeMirror-matchingbracket{color:#F0F!important}.cm-s-rubyblue span.cm-builtin,.cm-s-rubyblue span.cm-special{color:#FF9D00}.cm-s-rubyblue span.cm-error{color:#AF2018}.cm-s-rubyblue .CodeMirror-activeline-background{background:#173047}.cm-s-scary.CodeMirror{background:#011627;color:#c3c3c3;-webkit-font-variant-ligatures:common-ligatures;font-variant-ligatures:common-ligatures}.cm-s-scary div.CodeMirror-selected{background:#5f7e97}.cm-s-scary .CodeMirror-gutters{background:#011627}.cm-s-scary .CodeMirror-activeline .CodeMirror-line{background:#010b14}.cm-s-scary .CodeMirror-linenumber.CodeMirror-gutter-elt{color:#4b6479}.cm-s-scary .CodeMirror-activeline .CodeMirror-linenumber.CodeMirror-gutter-elt{background:transparent;color:#c5e4fd}.cm-s-scary .CodeMirror-cursor{border-left:2px solid #80a4c2}.cm-s-scary .cm-atom{color:#ffeb95}.cm-s-scary .cm-attribute{color:#addb67;font-style:italic}.cm-s-scary .cm-builtin{color:#ff6363}.cm-s-scary .cm-callee{color:#ffcb8b}.cm-s-scary .cm-comment{color:gray;font-weight:bold;font-style:italic}.cm-s-scary .cm-comment.cm-def{color:#d6deeb}.cm-s-scary .cm-comment.cm-hyperlink{color:#80cbc4}.cm-s-scary .cm-comment.cm-tag{color:#82aaff}.cm-s-scary .cm-comment.cm-type{color:#78ccf0}.cm-s-scary .cm-def{color:#82aaff}.cm-s-scary .cm-def.cm-type{color:#addb67}.cm-s-scary .cm-def.cm-local{color:#d6deeb}.cm-s-scary .cm-error{border-bottom:1px solid #ef5350}.cm-s-scary .cm-keyword{color:#c792ea;font-style:italic}.cm-s-scary .cm-meta{color:#7fdbca}.cm-s-scary .cm-number{color:#f78c6c}.cm-s-scary .cm-operator{color:#c792ea}.cm-s-scary .cm-property,.cm-s-scary .cm-property.cm-string{color:#80cbc4}.cm-s-scary .cm-property.cm-def{color:#addb67}.cm-s-scary .cm-qualifier{color:#addb67;font-style:italic}.cm-s-scary .cm-string,.cm-s-scary .cm-string-2{color:#ecc48d}.cm-s-scary .cm-tag{color:#ff6363}.cm-s-scary .cm-type{color:#78ccf0}.cm-s-scary .cm-variable{color:#82aaff}.cm-s-scary .cm-variable-2{color:#d6deeb}.cm-s-scary .cm-meta.grok-ref{color:#ecc48d}.cm-s-scary .cm-meta.cm-comment{color:gray;font-weight:bold;font-style:italic}.cm-s-scary .cm-header{color:#addb67}.cm-s-scary .cm-header-1{font-size:200%}.cm-s-scary .cm-header-2{font-size:150%}.cm-s-scary .cm-header-3{font-size:125%}.cm-s-scary .cm-header-4{font-size:115%}.cm-s-scary .cm-header-5{font-size:110%}.cm-s-scary .cm-header-6{font-size:105%}.cm-s-scary .cm-strong{color:#d6deeb;font-weight:bold}.cm-s-scary .cm-link,.cm-s-scary .cm-hyperlink{color:#ff869a}.cm-s-scary .cm-url{color:#80cbc4}.cm-s-scary .CodeMirror-selected,.cm-s-scary .CodeMirror-selectedtext{background:#4373c2;color:white!important}.cm-s-scary .cm-user-reference{color:#82aaff}.solarized.base03{color:#002b36}.solarized.base02{color:#073642}.solarized.base01{color:#586e75}.solarized.base00{color:#657b83}.solarized.base0{color:#839496}.solarized.base1{color:#93a1a1}.solarized.base2{color:#eee8d5}.solarized.base3{color:#fdf6e3}.solarized.solar-yellow{color:#b58900}.solarized.solar-orange{color:#cb4b16}.solarized.solar-red{color:#dc322f}.solarized.solar-magenta{color:#d33682}.solarized.solar-violet{color:#6c71c4}.solarized.solar-blue{color:#268bd2}.solarized.solar-cyan{color:#2aa198}.solarized.solar-green{color:#859900}.cm-s-solarized{line-height:1.45em;color-profile:sRGB}.cm-s-solarized.cm-s-dark{color:#839496;background-color:#002b36}.cm-s-solarized.cm-s-light{background-color:#fdf6e3;color:#657b83}.cm-s-solarized .CodeMirror-widget{text-shadow:none}.cm-s-solarized .cm-comment{color:#586e75;font-style:italic}.cm-s-solarized .cm-header{color:#586e75}.cm-s-solarized .cm-quote{color:#93a1a1}.cm-s-solarized .cm-keyword{color:#cb4b16}.cm-s-solarized .cm-atom,.cm-s-solarized .cm-number{color:#d33682}.cm-s-solarized .cm-def{color:#2aa198}.cm-s-solarized .cm-variable{color:#839496}.cm-s-solarized .cm-variable-2{color:#b58900}.cm-s-solarized .cm-variable-3,.cm-s-solarized .cm-type{color:#6c71c4}.cm-s-solarized .cm-property{color:#2aa198}.cm-s-solarized .cm-operator{color:#6c71c4}.cm-s-solarized .cm-string{color:#859900}.cm-s-solarized .cm-string-2{color:#b58900}.cm-s-solarized .cm-meta{color:#859900}.cm-s-solarized .cm-qualifier{color:#b58900}.cm-s-solarized .cm-builtin{color:#d33682}.cm-s-solarized .cm-bracket{color:#cb4b16}.cm-s-solarized .CodeMirror-matchingbracket{color:#859900}.cm-s-solarized .CodeMirror-nonmatchingbracket{color:#dc322f}.cm-s-solarized .cm-tag{color:#93a1a1}.cm-s-solarized .cm-attribute{color:#2aa198}.cm-s-solarized .cm-hr{color:transparent;border-top:1px solid #586e75;display:block}.cm-s-solarized .cm-link{color:#93a1a1;cursor:pointer}.cm-s-solarized .cm-special{color:#6c71c4}.cm-s-solarized .cm-em{color:#999;text-decoration:underline;-webkit-text-decoration-style:dotted;text-decoration-style:dotted}.cm-s-solarized .cm-error,.cm-s-solarized .cm-invalidchar{color:#586e75;border-bottom:1px dotted #dc322f}.cm-s-solarized.cm-s-dark div.CodeMirror-selected{background:#073642}.cm-s-solarized.cm-s-dark.CodeMirror ::selection{background:rgba(7,54,66,.99)}.cm-s-solarized.cm-s-dark .CodeMirror-line::-moz-selection,.cm-s-dark .CodeMirror-line>span::-moz-selection,.cm-s-dark .CodeMirror-line>span>span::-moz-selection{background:rgba(7,54,66,.99)}.cm-s-solarized.cm-s-light div.CodeMirror-selected{background:#eee8d5}.cm-s-solarized.cm-s-light .CodeMirror-line::selection,.cm-s-light .CodeMirror-line>span::selection,.cm-s-light .CodeMirror-line>span>span::selection{background:#eee8d5}.cm-s-solarized.cm-s-light .CodeMirror-line::-moz-selection,.cm-s-light .CodeMirror-line>span::-moz-selection,.cm-s-light .CodeMirror-line>span>span::-moz-selection{background:#eee8d5}.cm-s-solarized.CodeMirror{box-shadow:inset 7px 0 12px -6px #000}.cm-s-solarized .CodeMirror-gutters{border-right:0}.cm-s-solarized.cm-s-dark .CodeMirror-gutters{background-color:#073642}.cm-s-solarized.cm-s-dark .CodeMirror-linenumber{color:#586e75}.cm-s-solarized.cm-s-light .CodeMirror-gutters{background-color:#eee8d5}.cm-s-solarized.cm-s-light .CodeMirror-linenumber{color:#839496}.cm-s-solarized .CodeMirror-linenumber{padding:0 5px}.cm-s-solarized .CodeMirror-guttermarker-subtle{color:#586e75}.cm-s-solarized.cm-s-dark .CodeMirror-guttermarker{color:#ddd}.cm-s-solarized.cm-s-light .CodeMirror-guttermarker{color:#cb4b16}.cm-s-solarized .CodeMirror-gutter .CodeMirror-gutter-text{color:#586e75}.cm-s-solarized .CodeMirror-cursor{border-left:1px solid #819090}.cm-s-solarized.cm-s-light.cm-fat-cursor .CodeMirror-cursor{background:#77ee77}.cm-s-solarized.cm-s-light .cm-animate-fat-cursor{background-color:#77ee77}.cm-s-solarized.cm-s-dark.cm-fat-cursor .CodeMirror-cursor{background:#586e75}.cm-s-solarized.cm-s-dark .cm-animate-fat-cursor{background-color:#586e75}.cm-s-solarized.cm-s-dark .CodeMirror-activeline-background{background:rgba(255,255,255,.06)}.cm-s-solarized.cm-s-light .CodeMirror-activeline-background{background:rgba(0,0,0,.06)}.CodeMirror.cm-s-synthwave-84{color:#b6b1b1;background-color:transparent!important;background-image:-webkit-gradient(linear,left top,left bottom,color-stop(75%,#2a2139),to(#34294f));background-image:-webkit-linear-gradient(top,#2a2139 75%,#34294f);background-image:linear-gradient(to bottom,#2a2139 75%,#34294f);background-size:auto 100vh;background-position:top;background-repeat:no-repeat;-webkit-font-variant-ligatures:common-ligatures;font-variant-ligatures:common-ligatures}.cm-s-synthwave-84 .CodeMirror-selected,.cm-s-synthwave-84 .CodeMirror-selectedtext{background:#8e8e8e!important;color:black!important;text-shadow:none}.cm-s-synthwave-84 .cm-matchhighlight,.cm-s-synthwave-84 .CodeMirror-gutter-background.CodeMirror-activeline-gutter{background-color:#ffffff36!important}.cm-s-synthwave-84 .CodeMirror-gutter,.cm-s-synthwave-84 .CodeMirror-gutters{border:none;background-color:#2a2139}.cm-s-synthwave-84 .CodeMirror-linenumber,.cm-s-synthwave-84 .CodeMirror-linenumbers{color:#ffffff73;background-color:transparent}.cm-s-synthwave-84 .CodeMirror-activeline-gutter .CodeMirror-linenumber,.cm-s-synthwave-84 .CodeMirror-activeline-gutter .CodeMirror-linenumbers{color:#ffffffcc;background-color:transparent}.cm-s-synthwave-84 .CodeMirror-lines,.cm-s-synthwave-84 .CodeMirror-matchingbracket,.cm-s-synthwave-84 .CodeMirror-matchingtag,.cm-s-synthwave-84 .CodeMirror-nonmatchingbracket{color:#b6b1b1;background-color:transparent}.cm-s-synthwave-84 .CodeMirror-cursor{border-left:2px solid #fa7b73}.cm-s-synthwave-84 .CodeMirror-nonmatchingbracket{border-bottom:2px solid #fa7b73}.cm-s-synthwave-84 .CodeMirror-foldmarker,.cm-s-synthwave-84 .CodeMirror-foldgutter,.cm-s-synthwave-84 .CodeMirror-foldgutter-open,.cm-s-synthwave-84 .CodeMirror-foldgutter-folded{border:none;text-shadow:none;color:#5c6370;background-color:transparent}.cm-s-synthwave-84 .CodeMirror-activeline-background{background-color:#2b213a}.cm-s-synthwave-84 .cm-quote,.cm-s-synthwave-84 .cm-comment{color:#6d77b3;font-style:italic}.cm-s-synthwave-84 .cm-negative,.cm-s-synthwave-84 .cm-positive,.cm-s-synthwave-84 .cm-attribute,.cm-s-synthwave-84 .cm-error{color:#fff5f6;text-shadow:0 0 2px #000,0 0 10px #fc1f2c75,0 0 5px #fc1f2c75,0 0 25px #fc1f2c75}.cm-s-synthwave-84 .cm-strong,.cm-s-synthwave-84 .cm-link,.cm-s-synthwave-84 .cm-hyperlink,.cm-s-synthwave-84 .cm-atom,.cm-s-synthwave-84 .cm-number,.cm-s-synthwave-84 .cm-qualifier{color:#f97e72}.cm-s-synthwave-84 .cm-em,.cm-s-synthwave-84 .cm-keyword,.cm-s-synthwave-84 .cm-operator{color:#f4eee4;text-shadow:0 0 2px #393a33,0 0 8px #f39f0575,0 0 2px #f39f0575}.cm-s-synthwave-84 .cm-def,.cm-s-synthwave-84 .cm-property,.cm-s-synthwave-84 .cm-header{color:#fdfdfd;text-shadow:0 0 2px #001716,0 0 3px #03edf975,0 0 5px #03edf975,0 0 8px #03edf975}.cm-s-synthwave-84 .cm-variable,.cm-s-synthwave-84 .cm-variable-2{color:#f92aad;text-shadow:0 0 2px #100c0f,0 0 5px #dc078e33,0 0 10px #fff3}.cm-s-synthwave-84 .cm-string,.cm-s-synthwave-84 .cm-string-2,.cm-s-synthwave-84 .cm-meta{color:#ff8b39}.cm-s-synthwave-84 .cm-em,.cm-s-synthwave-84 .cm-keyword{font-style:italic}.cm-s-synthwave-84 .cm-strong{font-weight:bold}.cm-s-synthwave-84 .cm-header-1{font-size:200%}.cm-s-synthwave-84 .cm-header-2{font-size:150%}.cm-s-synthwave-84 .cm-header-3{font-size:125%}.cm-s-synthwave-84 .cm-header-4{font-size:115%}.cm-s-synthwave-84 .cm-header-5{font-size:110%}.cm-s-synthwave-84 .cm-header-6{font-size:105%}.cm-s-tomorrow-night-bright.CodeMirror{background:#000000;color:#eaeaea}.cm-s-tomorrow-night-bright div.CodeMirror-selected{background:#424242}.cm-s-tomorrow-night-bright .CodeMirror-gutters{background:#000000;border-right:0}.cm-s-tomorrow-night-bright .CodeMirror-guttermarker{color:#e78c45}.cm-s-tomorrow-night-bright .CodeMirror-guttermarker-subtle{color:#777}.cm-s-tomorrow-night-bright .CodeMirror-linenumber{color:#424242}.cm-s-tomorrow-night-bright .CodeMirror-cursor{border-left:1px solid #6A6A6A}.cm-s-tomorrow-night-bright span.cm-comment{color:#d27b53}.cm-s-tomorrow-night-bright span.cm-atom{color:#a16a94}.cm-s-tomorrow-night-bright span.cm-number{color:#a16a94}.cm-s-tomorrow-night-bright span.cm-property,.cm-s-tomorrow-night-bright span.cm-attribute{color:#99cc99}.cm-s-tomorrow-night-bright span.cm-keyword{color:#d54e53}.cm-s-tomorrow-night-bright span.cm-string{color:#e7c547}.cm-s-tomorrow-night-bright span.cm-variable{color:#b9ca4a}.cm-s-tomorrow-night-bright span.cm-variable-2{color:#7aa6da}.cm-s-tomorrow-night-bright span.cm-def{color:#e78c45}.cm-s-tomorrow-night-bright span.cm-bracket{color:#eaeaea}.cm-s-tomorrow-night-bright span.cm-tag{color:#d54e53}.cm-s-tomorrow-night-bright span.cm-link{color:#a16a94}.cm-s-tomorrow-night-bright span.cm-error{background:#d54e53;color:#6A6A6A}.cm-s-tomorrow-night-bright .CodeMirror-activeline-background{background:#2a2a2a}.cm-s-tomorrow-night-bright .CodeMirror-matchingbracket{text-decoration:underline;color:white!important}.cm-s-tomorrow-night-eighties.CodeMirror{background:#000000;color:#CCCCCC}.cm-s-tomorrow-night-eighties div.CodeMirror-selected{background:#2D2D2D}.cm-s-tomorrow-night-eighties .CodeMirror-line::selection,.cm-s-tomorrow-night-eighties .CodeMirror-line>span::selection,.cm-s-tomorrow-night-eighties .CodeMirror-line>span>span::selection{background:rgba(45,45,45,.99)}.cm-s-tomorrow-night-eighties .CodeMirror-line::-moz-selection,.cm-s-tomorrow-night-eighties .CodeMirror-line>span::-moz-selection,.cm-s-tomorrow-night-eighties .CodeMirror-line>span>span::-moz-selection{background:rgba(45,45,45,.99)}.cm-s-tomorrow-night-eighties .CodeMirror-gutters{background:#000000;border-right:0}.cm-s-tomorrow-night-eighties .CodeMirror-guttermarker{color:#f2777a}.cm-s-tomorrow-night-eighties .CodeMirror-guttermarker-subtle{color:#777}.cm-s-tomorrow-night-eighties .CodeMirror-linenumber{color:#515151}.cm-s-tomorrow-night-eighties .CodeMirror-cursor{border-left:1px solid #6A6A6A}.cm-s-tomorrow-night-eighties span.cm-comment{color:#d27b53}.cm-s-tomorrow-night-eighties span.cm-atom{color:#a16a94}.cm-s-tomorrow-night-eighties span.cm-number{color:#a16a94}.cm-s-tomorrow-night-eighties span.cm-property,.cm-s-tomorrow-night-eighties span.cm-attribute{color:#99cc99}.cm-s-tomorrow-night-eighties span.cm-keyword{color:#f2777a}.cm-s-tomorrow-night-eighties span.cm-string{color:#ffcc66}.cm-s-tomorrow-night-eighties span.cm-variable{color:#99cc99}.cm-s-tomorrow-night-eighties span.cm-variable-2{color:#6699cc}.cm-s-tomorrow-night-eighties span.cm-def{color:#f99157}.cm-s-tomorrow-night-eighties span.cm-bracket{color:#CCCCCC}.cm-s-tomorrow-night-eighties span.cm-tag{color:#f2777a}.cm-s-tomorrow-night-eighties span.cm-link{color:#a16a94}.cm-s-tomorrow-night-eighties span.cm-error{background:#f2777a;color:#6A6A6A}.cm-s-tomorrow-night-eighties .CodeMirror-activeline-background{background:#343600}.cm-s-tomorrow-night-eighties .CodeMirror-matchingbracket{text-decoration:underline;color:white!important}.cm-s-twilight.CodeMirror{background:#141414;color:#f7f7f7}.cm-s-twilight div.CodeMirror-selected{background:#323232}.cm-s-twilight .CodeMirror-line::selection,.cm-s-twilight .CodeMirror-line>span::selection,.cm-s-twilight .CodeMirror-line>span>span::selection{background:rgba(50,50,50,.99)}.cm-s-twilight .CodeMirror-line::-moz-selection,.cm-s-twilight .CodeMirror-line>span::-moz-selection,.cm-s-twilight .CodeMirror-line>span>span::-moz-selection{background:rgba(50,50,50,.99)}.cm-s-twilight .CodeMirror-gutters{background:#222;border-right:1px solid #aaa}.cm-s-twilight .CodeMirror-guttermarker{color:white}.cm-s-twilight .CodeMirror-guttermarker-subtle,.cm-s-twilight .CodeMirror-linenumber{color:#aaa}.cm-s-twilight .CodeMirror-cursor{border-left:1px solid white}.cm-s-twilight .cm-keyword{color:#f9ee98}.cm-s-twilight .cm-atom{color:#FC0}.cm-s-twilight .cm-number{color:#ca7841}.cm-s-twilight .cm-def{color:#8DA6CE}.cm-s-twilight span.cm-variable-2,.cm-s-twilight span.cm-tag{color:#607392}.cm-s-twilight span.cm-variable-3,.cm-s-twilight span.cm-def,.cm-s-twilight span.cm-type{color:#607392}.cm-s-twilight .cm-operator{color:#cda869}.cm-s-twilight .cm-comment{color:#777;font-style:italic;font-weight:normal}.cm-s-twilight .cm-string{color:#8f9d6a;font-style:italic}.cm-s-twilight .cm-string-2{color:#bd6b18}.cm-s-twilight .cm-meta{background-color:#141414;color:#f7f7f7}.cm-s-twilight .cm-builtin{color:#cda869}.cm-s-twilight .cm-tag{color:#997643}.cm-s-twilight .cm-attribute{color:#d6bb6d}.cm-s-twilight .cm-header{color:#FF6400}.cm-s-twilight .cm-hr{color:#AEAEAE}.cm-s-twilight .cm-link{color:#ad9361;font-style:italic;text-decoration:none}.cm-s-twilight .cm-error{border-bottom:1px solid red}.cm-s-twilight .CodeMirror-activeline-background{background:#27282E}.cm-s-twilight .CodeMirror-matchingbracket{outline:1px solid grey;color:white!important}.cm-s-vibrant-ink.CodeMirror{background:black;color:white}.cm-s-vibrant-ink div.CodeMirror-selected{background:#35493c}.cm-s-vibrant-ink .CodeMirror-line::selection,.cm-s-vibrant-ink .CodeMirror-line>span::selection,.cm-s-vibrant-ink .CodeMirror-line>span>span::selection{background:rgba(53,73,60,.99)}.cm-s-vibrant-ink .CodeMirror-line::-moz-selection,.cm-s-vibrant-ink .CodeMirror-line>span::-moz-selection,.cm-s-vibrant-ink .CodeMirror-line>span>span::-moz-selection{background:rgba(53,73,60,.99)}.cm-s-vibrant-ink .CodeMirror-gutters{background:#002240;border-right:1px solid #aaa}.cm-s-vibrant-ink .CodeMirror-guttermarker{color:white}.cm-s-vibrant-ink .CodeMirror-guttermarker-subtle,.cm-s-vibrant-ink .CodeMirror-linenumber{color:#d0d0d0}.cm-s-vibrant-ink .CodeMirror-cursor{border-left:1px solid white}.cm-s-vibrant-ink .cm-comment{color:gray;font-weight:bold}.cm-s-vibrant-ink .cm-comment.cm-type{color:#cfcfcf}.cm-s-vibrant-ink .cm-keyword{color:#CC7832}.cm-s-vibrant-ink .cm-atom{color:#FC0}.cm-s-vibrant-ink .cm-number{color:#FFEE98}.cm-s-vibrant-ink .cm-def{color:#8DA6CE}.cm-s-vibrant-ink span.cm-variable-2,.cm-s-vibrant span.cm-tag{color:#FFC66D}.cm-s-vibrant-ink span.cm-variable-3,.cm-s-vibrant span.cm-def,.cm-s-vibrant span.cm-type{color:#FFC66D}.cm-s-vibrant-ink .cm-operator{color:#888}.cm-s-vibrant-ink .cm-string{color:#A5C25C}.cm-s-vibrant-ink .cm-string-2{color:red}.cm-s-vibrant-ink .cm-meta{color:#D8FA3C}.cm-s-vibrant-ink .cm-builtin,.cm-s-vibrant-ink .cm-tag,.cm-s-vibrant-ink .cm-attribute{color:#8DA6CE}.cm-s-vibrant-ink .cm-header{color:#FF6400}.cm-s-vibrant-ink .cm-hr{color:#AEAEAE}.cm-s-vibrant-ink .cm-link{color:#5656F3}.cm-s-vibrant-ink .cm-error{border-bottom:1px solid red}.cm-s-vibrant-ink .CodeMirror-activeline-background{background:#27282E}.cm-s-vibrant-ink .CodeMirror-matchingbracket{outline:1px solid grey;color:white!important}.cm-s-VA{line-height:1.3em}.cm-s-VA.cm-s-dark{color:#ddd;background-color:#1a1a1a}.cm-s-VA.cm-s-light span.cm-comment{color:#486}.cm-s-VA.cm-s-light span.cm-meta{color:gray;font-style:italic}.cm-s-VA.cm-s-light span.cm-keyword{color:blue}.cm-s-VA.cm-s-light span.cm-number{color:red}.cm-s-VA.cm-s-light span.cm-def{color:purple}.cm-s-VA.cm-s-light span.cm-variable{color:#008}.cm-s-VA.cm-s-light span.cm-operator{color:black}.cm-s-VA.cm-s-light span.cm-string{color:brown}.cm-s-VA.cm-s-light span.cm-builtin,.cm-s-VA.cm-s-light span.cm-variable-3,.cm-s-VA.cm-s-light span.cm-type,.cm-s-VA.cm-s-light span.cm-atom{color:#27a}.cm-s-VA.cm-s-light .CodeMirror-matchingbracket{outline:1px solid gray;font-weight:bold;color:#0c2!important}.cm-s-VA.cm-s-light .CodeMirror-nonmatchingbracket{background:#f02;color:black!important}.cm-s-VA.cm-s-light .CodeMirror-activeline-background{background:rgba(0,0,0,.1)}.cm-s-VA.cm-s-dark span.cm-comment{color:#393}.cm-s-VA.cm-s-dark span.cm-meta{color:#666;font-style:italic}.cm-s-VA.cm-s-dark span.cm-builtin,.cm-s-VA.cm-s-dark span.cm-variable-3,.cm-s-VA.cm-s-dark span.cm-type,.cm-s-VA.cm-s-dark span.cm-atom,.cm-s-VA.cm-s-dark span.cm-keyword{color:#69d}.cm-s-VA.cm-s-dark span.cm-number{color:#d6f}.cm-s-VA.cm-s-dark span.cm-def{color:#e82}.cm-s-VA.cm-s-dark span.cm-variable{color:#bb6}.cm-s-VA.cm-s-dark span.cm-operator{color:#ddd}.cm-s-VA.cm-s-dark span.cm-string{color:#eb9}.cm-s-VA.cm-s-dark .CodeMirror-matchingbracket{outline:1px solid gray;font-weight:bold;color:#0f6!important}.cm-s-VA.cm-s-dark .CodeMirror-nonmatchingbracket{background:#f02;color:#fff!important}.cm-s-VA.cm-s-dark .CodeMirror-activeline-background{outline:1px solid #444;background:#000}.cm-s-VA.cm-s-dark .CodeMirror-cursor{border-left:1px solid #eee}.cm-s-VA.cm-s-dark .CodeMirror-gutters{border-right:0}.cm-s-VA.cm-s-dark .cm-matchhighlight{outline:1px solid #369;background:rgba(37,106,244,.5)}.cm-s-vs-dark{background:#1E1E1E;color:#D4D4D4}.cm-s-vs-dark span.cm-type{color:#569CD6}.cm-s-vs-dark span.cm-keyword{color:#C586C0}.cm-s-vs-dark span.cm-comment{color:#6A9955}.cm-s-vs-dark span.cm-atom{color:#b5cea8}.cm-s-vs-dark span.cm-number{color:#b5cea8}.cm-s-vs-dark span.cm-variable{color:#9CDCFE}.cm-s-vs-dark span.cm-variable-2{color:#9CDCFE}.cm-s-vs-dark span.cm-variable-3{color:#9CDCFE}.cm-s-vs-dark span.cm-def{color:#9CDCFE}.cm-s-vs-dark span.cm-property{color:#DCDCAA}.cm-s-vs-dark span.cm-attribute{color:#DCDCAA}.cm-s-vs-dark span.cm-qualifier{color:#4EC9B0}.cm-s-vs-dark span.cm-meta{color:#D4D4D4}.cm-s-vs-dark span.cm-string{color:#CE9178}.cm-s-vs-dark span.cm-string-2{color:#CE9178}.cm-s-vs-dark .CodeMirror-activeline-background{outline:1px solid #3A3D41;background:#1E1E1E}.cm-s-vs-dark .CodeMirror-cursor{border-left:1px solid #D4D4D4}.cm-s-vscode-one-monokai.CodeMirror{background:#282c34;color:#abb2bf}.cm-s-vscode-one-monokai .CodeMirror-activeline-background{background:#363b46}.cm-s-vscode-one-monokai .CodeMirror-cursor{border-left:2px solid #fff}.cm-s-vscode-one-monokai .CodeMirror-guttermarker-subtle{color:#828997}.cm-s-vscode-one-monokai .CodeMirror-gutters{background:#282c34;border:none}.cm-s-vscode-one-monokai .CodeMirror-linenumber{color:#5c6370}.cm-s-vscode-one-monokai .CodeMirror-matchingbracket{background:none;border:1px solid #abb2bf;margin:-1px}.cm-s-vscode-one-monokai .CodeMirror-selected{background:transparent!important}.cm-s-vscode-one-monokai .CodeMirror-selectedtext{background:rgba(199,211,255,.2)!important}.cm-s-vscode-one-monokai .cm-atom{color:#56b6c2}.cm-s-vscode-one-monokai .cm-attribute{color:#e06c75;font-style:italic}.cm-s-vscode-one-monokai .cm-builtin{color:#56b6c2}.cm-s-vscode-one-monokai .cm-callee,.cm-s-vscode-one-monokai .cm-callee.cm-property,.cm-s-vscode-one-monokai .cm-callee.cm-variable{color:#abb2bf}.cm-s-vscode-one-monokai .cm-comment{color:#5c6370;font-style:normal;font-weight:normal;background:none}.cm-s-vscode-one-monokai .cm-def{color:#56b6c2}.cm-s-vscode-one-monokai .cm-error{border-bottom:2px solid #e06c75}.cm-s-vscode-one-monokai .cm-header{color:#e06c75}.cm-s-vscode-one-monokai .cm-hr{color:#abb2bf}.cm-s-vscode-one-monokai .cm-keyword{color:#e06c75}.cm-s-vscode-one-monokai .cm-image-alt-text{color:#56b6c2}.cm-s-vscode-one-monokai .cm-image-marker{color:#e06c75}.cm-s-vscode-one-monokai .cm-link{color:#56b6c2}.cm-s-vscode-one-monokai .cm-local.cm-def{color:#e06c75}.cm-s-vscode-one-monokai .cm-matchhighlight{background:transparent;border:1px solid #abb2bf;margin:-1px}.cm-s-vscode-one-monokai .cm-meta{color:#d19a66;font-style:normal}.cm-s-vscode-one-monokai .cm-number{color:#c678dd}.cm-s-vscode-one-monokai .cm-operator{color:#e06c75}.cm-s-vscode-one-monokai .cm-property{color:#abb2bf}.cm-s-vscode-one-monokai .cm-property.cm-def{color:#98c379}.cm-s-vscode-one-monokai .cm-string,.cm-s-vscode-one-monokai .cm-string-2{color:#e5c07b}.cm-s-vscode-one-monokai .cm-tag{color:#c678dd}.cm-s-vscode-one-monokai .cm-tag.cm-bracket{color:#abb2bf}.cm-s-vscode-one-monokai .cm-type{color:#e5c07b}.cm-s-vscode-one-monokai .cm-type.cm-def{color:#61afef}.cm-s-vscode-one-monokai .cm-url{color:#c678dd}.cm-s-vscode-one-monokai .cm-variable,.cm-s-vscode-one-monokai .cm-variable-2{color:#abb2bf}.cm-s-vscode-one-monokai .cm-variable-3{color:#61afef}.cm-s-xq-dark.CodeMirror{background:#0a001f;color:#f8f8f8}.cm-s-xq-dark div.CodeMirror-selected{background:#27007A}.cm-s-xq-dark .CodeMirror-line::selection,.cm-s-xq-dark .CodeMirror-line>span::selection,.cm-s-xq-dark .CodeMirror-line>span>span::selection{background:rgba(39,0,122,.99)}.cm-s-xq-dark .CodeMirror-line::-moz-selection,.cm-s-xq-dark .CodeMirror-line>span::-moz-selection,.cm-s-xq-dark .CodeMirror-line>span>span::-moz-selection{background:rgba(39,0,122,.99)}.cm-s-xq-dark .CodeMirror-gutters{background:#0a001f;border-right:1px solid #aaa}.cm-s-xq-dark .CodeMirror-guttermarker{color:#FFBD40}.cm-s-xq-dark .CodeMirror-guttermarker-subtle,.cm-s-xq-dark .CodeMirror-linenumber{color:#f8f8f8}.cm-s-xq-dark .CodeMirror-cursor{border-left:1px solid white}.cm-s-xq-dark span.cm-keyword{color:#FFBD40}.cm-s-xq-dark span.cm-atom{color:#6C8CD5}.cm-s-xq-dark span.cm-number{color:#164}.cm-s-xq-dark span.cm-def{color:#FFF;text-decoration:underline}.cm-s-xq-dark span.cm-variable{color:#FFF}.cm-s-xq-dark span.cm-variable-2{color:#EEE}.cm-s-xq-dark span.cm-variable-3,.cm-s-xq-dark span.cm-type{color:#DDD}.cm-s-xq-dark span.cm-comment{color:gray}.cm-s-xq-dark span.cm-string{color:#9FEE00}.cm-s-xq-dark span.cm-meta{color:yellow}.cm-s-xq-dark span.cm-qualifier{color:#FFF700}.cm-s-xq-dark span.cm-builtin{color:#30a}.cm-s-xq-dark span.cm-bracket{color:#cc7}.cm-s-xq-dark span.cm-tag{color:#FFBD40}.cm-s-xq-dark span.cm-attribute{color:#FFF700}.cm-s-xq-dark span.cm-error{color:#f00}.cm-s-xq-dark .CodeMirror-activeline-background{background:#27282E}.cm-s-xq-dark .CodeMirror-matchingbracket{outline:1px solid grey;color:white!important}.cm-s-xq-light span.cm-keyword{line-height:1em;font-weight:bold;color:#5A5CAD}.cm-s-xq-light span.cm-atom{color:#6C8CD5}.cm-s-xq-light span.cm-number{color:#164}.cm-s-xq-light span.cm-def{text-decoration:underline}.cm-s-xq-light span.cm-variable{color:black}.cm-s-xq-light span.cm-variable-2{color:black}.cm-s-xq-light span.cm-variable-3,.cm-s-xq-light span.cm-type{color:black}.cm-s-xq-light span.cm-comment{color:#0080FF;font-style:italic}.cm-s-xq-light span.cm-string{color:red}.cm-s-xq-light span.cm-meta{color:yellow}.cm-s-xq-light span.cm-qualifier{color:grey}.cm-s-xq-light span.cm-builtin{color:#7EA656}.cm-s-xq-light span.cm-bracket{color:#cc7}.cm-s-xq-light span.cm-tag{color:#3F7F7F}.cm-s-xq-light span.cm-attribute{color:#7F007F}.cm-s-xq-light span.cm-error{color:#f00}.cm-s-xq-light .CodeMirror-activeline-background{background:#e8f2ff}.cm-s-xq-light .CodeMirror-matchingbracket{outline:1px solid grey;color:black!important;background:yellow}.cm-s-yeti.CodeMirror{background-color:#ECEAE8!important;color:#d1c9c0!important;border:none}.cm-s-yeti .CodeMirror-gutters{color:#adaba6;background-color:#E5E1DB;border:none}.cm-s-yeti .CodeMirror-cursor{border-left:solid thin #d1c9c0}.cm-s-yeti .CodeMirror-linenumber{color:#adaba6}.cm-s-yeti.CodeMirror-focused div.CodeMirror-selected{background:#DCD8D2}.cm-s-yeti .CodeMirror-line::selection,.cm-s-yeti .CodeMirror-line>span::selection,.cm-s-yeti .CodeMirror-line>span>span::selection{background:#DCD8D2}.cm-s-yeti .CodeMirror-line::-moz-selection,.cm-s-yeti .CodeMirror-line>span::-moz-selection,.cm-s-yeti .CodeMirror-line>span>span::-moz-selection{background:#DCD8D2}.cm-s-yeti span.cm-comment{color:#d4c8be}.cm-s-yeti span.cm-string,.cm-s-yeti span.cm-string-2{color:#96c0d8}.cm-s-yeti span.cm-number{color:#a074c4}.cm-s-yeti span.cm-variable{color:#55b5db}.cm-s-yeti span.cm-variable-2{color:#a074c4}.cm-s-yeti span.cm-def{color:#55b5db}.cm-s-yeti span.cm-operator{color:#9fb96e}.cm-s-yeti span.cm-keyword{color:#9fb96e}.cm-s-yeti span.cm-atom{color:#a074c4}.cm-s-yeti span.cm-meta{color:#96c0d8}.cm-s-yeti span.cm-tag{color:#96c0d8}.cm-s-yeti span.cm-attribute{color:#9fb96e}.cm-s-yeti span.cm-qualifier{color:#96c0d8}.cm-s-yeti span.cm-property{color:#a074c4}.cm-s-yeti span.cm-builtin{color:#a074c4}.cm-s-yeti span.cm-variable-3,.cm-s-yeti span.cm-type{color:#96c0d8}.cm-s-yeti .CodeMirror-activeline-background{background:#E7E4E0}.cm-s-yeti .CodeMirror-matchingbracket{text-decoration:underline}.cm-s-yonce.CodeMirror{background:#1C1C1C;color:#d4d4d4}.cm-s-yonce div.CodeMirror-selected{background:rgba(252,69,133,.478)}.cm-s-yonce .CodeMirror-selectedtext,.cm-s-yonce .CodeMirror-selected,.cm-s-yonce .CodeMirror-line::selection,.cm-s-yonce .CodeMirror-line>span::selection,.cm-s-yonce .CodeMirror-line>span>span::selection,.cm-s-yonce .CodeMirror-line::-moz-selection,.cm-s-yonce .CodeMirror-line>span::-moz-selection,.cm-s-yonce .CodeMirror-line>span>span::-moz-selection{background:rgba(252,67,132,.47)}.cm-s-yonce.CodeMirror pre{padding-left:0}.cm-s-yonce .CodeMirror-gutters{background:#1C1C1C;border-right:0}.cm-s-yonce .CodeMirror-linenumber{color:#777777;padding-right:10px}.cm-s-yonce .CodeMirror-activeline .CodeMirror-linenumber.CodeMirror-gutter-elt{background:#1C1C1C;color:#fc4384}.cm-s-yonce .CodeMirror-linenumber{color:#777}.cm-s-yonce .CodeMirror-cursor{border-left:2px solid #FC4384}.cm-s-yonce .cm-searching{background:rgba(243,155,53,.3)!important;outline:1px solid #F39B35}.cm-s-yonce .cm-searching.CodeMirror-selectedtext{background:rgba(243,155,53,.7)!important;color:white}.cm-s-yonce .cm-keyword{color:#00A7AA}.cm-s-yonce .cm-atom{color:#F39B35}.cm-s-yonce .cm-number,.cm-s-yonce span.cm-type{color:#A06FCA}.cm-s-yonce .cm-def{color:#98E342}.cm-s-yonce .cm-property,.cm-s-yonce span.cm-variable{color:#D4D4D4;font-style:italic}.cm-s-yonce span.cm-variable-2{color:#da7dae;font-style:italic}.cm-s-yonce span.cm-variable-3{color:#A06FCA}.cm-s-yonce .cm-type.cm-def{color:#FC4384;font-style:normal;text-decoration:underline}.cm-s-yonce .cm-property.cm-def,.cm-s-yonce .cm-callee{color:#FC4384;font-style:normal}.cm-s-yonce .cm-operator,.cm-s-yonce .cm-qualifier,.cm-s-yonce .cm-tag{color:#FC4384}.cm-s-yonce .cm-tag.cm-bracket{color:#D4D4D4}.cm-s-yonce .cm-attribute{color:#A06FCA}.cm-s-yonce .cm-comment{color:#696d70;font-style:italic;font-weight:normal}.cm-s-yonce .cm-comment.cm-tag{color:#FC4384}.cm-s-yonce .cm-comment.cm-attribute{color:#D4D4D4}.cm-s-yonce .cm-string{color:#E6DB74}.cm-s-yonce .cm-string-2{color:#F39B35}.cm-s-yonce .cm-meta{color:#D4D4D4;background:inherit}.cm-s-yonce .cm-builtin{color:#FC4384}.cm-s-yonce .cm-header{color:#da7dae}.cm-s-yonce .cm-hr{color:#98E342}.cm-s-yonce .cm-link{color:#696d70;font-style:italic;text-decoration:none}.cm-s-yonce .cm-error{border-bottom:1px solid #C42412}.cm-s-yonce .CodeMirror-activeline-background{background:#272727}.cm-s-yonce .CodeMirror-matchingbracket{outline:1px solid grey;color:#D4D4D4!important}.cm-s-zenburn .CodeMirror-gutters{background:#3f3f3f!important}.cm-s-zenburn .CodeMirror-foldgutter-open,.CodeMirror-foldgutter-folded{color:#999}.cm-s-zenburn .CodeMirror-cursor{border-left:1px solid white}.cm-s-zenburn.CodeMirror{background-color:#3f3f3f;color:#dcdccc}.cm-s-zenburn span.cm-builtin{color:#dcdccc;font-weight:bold}.cm-s-zenburn span.cm-comment{color:#7f9f7f}.cm-s-zenburn span.cm-keyword{color:#f0dfaf;font-weight:bold}.cm-s-zenburn span.cm-atom{color:#bfebbf}.cm-s-zenburn span.cm-def{color:#dcdccc}.cm-s-zenburn span.cm-variable{color:#dfaf8f}.cm-s-zenburn span.cm-variable-2{color:#dcdccc}.cm-s-zenburn span.cm-string{color:#cc9393}.cm-s-zenburn span.cm-string-2{color:#cc9393}.cm-s-zenburn span.cm-number{color:#dcdccc}.cm-s-zenburn span.cm-tag{color:#93e0e3}.cm-s-zenburn span.cm-property{color:#dfaf8f}.cm-s-zenburn span.cm-attribute{color:#dfaf8f}.cm-s-zenburn span.cm-qualifier{color:#7cb8bb}.cm-s-zenburn span.cm-meta{color:#f0dfaf}.cm-s-zenburn span.cm-header{color:#f0efd0}.cm-s-zenburn span.cm-operator{color:#f0efd0}.cm-s-zenburn span.CodeMirror-matchingbracket{box-sizing:border-box;background:transparent;border-bottom:1px solid}.cm-s-zenburn span.CodeMirror-nonmatchingbracket{border-bottom:1px solid;background:none}.cm-s-zenburn .CodeMirror-activeline,.cm-s-zenburn .CodeMirror-activeline-background{background:#000000}.cm-s-zenburn div.CodeMirror-selected{background:#545454}.cm-s-zenburn .CodeMirror-focused div.CodeMirror-selected{background:#4f4f4f}sentinel{}");
this.default_r_brihhbn=this.default_r_brihhbn||{};(function(_){var window=this;
try{
/*

 (The MIT License)

 Copyright (c) 2017 Brandon Roberts, Mike Ryan, Victor Savkin, Rob Wormald

 Permission is hereby granted, free of charge, to any person obtaining
 a copy of this software and associated documentation files (the
 'Software'), to deal in the Software without restriction, including
 without limitation the rights to use, copy, modify, merge, publish,
 distribute, sublicense, and/or sell copies of the Software, and to
 permit persons to whom the Software is furnished to do so, subject to
 the following conditions:

 The above copyright notice and this permission notice shall be
 included in all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
 IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
 CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
 TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
 SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

 This repository includes a file "debounceSync.ts" originially copied from
 https://github.com/cartant/rxjs-etc by Nicholas Jamieson, MIT licensed. See
 the file header for details.
*/
var mib,nib,oib,$w,ax,pib,qib,rib;mib=function(a,b,c){return c.map((d,e)=>b[e]instanceof _.Zc?(e=a.get(b[e]),{key:d.key,reducerFactory:e.reducerFactory?e.reducerFactory:_.Ch,metaReducers:e.metaReducers?e.metaReducers:[],initialState:e.initialState}):d)};nib=function(a,b){return b.map(c=>c instanceof _.Zc?a.get(c):c)};oib=function(){return{getInitialState:function(a={}){return Object.assign({ids:[],entities:{}},a)}}};
$w=function(a){return function(b,c){const d={ids:[...c.ids],entities:Object.assign({},c.entities)};b=a(b,d);return 1===b?Object.assign({},c,d):0===b?Object.assign({},c,{entities:d.entities}):c}};ax=function(a,b){const c=b(a);_.Bla()&&void 0===c&&console.warn("@ngrx/entity: The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",a,"The `selectId` implementation:",b.toString());return c};
pib=function(a){function b(l,n){const r=ax(l,a);if(r in n.entities)return 2;n.ids.push(r);n.entities[r]=l;return 1}function c(l,n){let r=!1;for(const v of l)r=2!==b(v,n)||r;return r?1:2}function d(l,n){const r=ax(l,a);if(r in n.entities)return n.entities[r]=l,0;n.ids.push(r);n.entities[r]=l;return 1}function e(l,n){const r=0<(l instanceof Array?l:n.ids.filter(v=>l(n.entities[v]))).filter(v=>v in n.entities).map(v=>delete n.entities[v]).length;r&&(n.ids=n.ids.filter(v=>v in n.entities));return r?1:
2}function f(l,n){return g([l],n)}function g(l,n){const r={};l=l.filter(v=>v.id in n.entities);return 0<l.length?0<l.filter(v=>{const w=Object.assign({},n.entities[v.id],v.changes),y=ax(w,a),B=y!==v.id;B&&(r[v.id]=y,delete n.entities[v.id]);n.entities[y]=w;return B}).length?(n.ids=n.ids.map(v=>r[v]||v),1):0:2}function h(l,n){const r=[];var v=[];for(const w of l)l=ax(w,a),l in n.entities?v.push({id:l,changes:w}):r.push(w);v=g(v,n);n=c(r,n);switch(!0){case 2===n&&2===v:return 2;case 1===n||1===v:return 1;
default:return 0}}return{removeAll:function(l){return Object.assign({},l,{ids:[],entities:{}})},addOne:$w(b),addMany:$w(c),setAll:$w(function(l,n){n.ids=[];n.entities={};c(l,n);return 1}),setOne:$w(d),setMany:$w(function(l,n){l=l.map(r=>d(r,n));switch(!0){case l.some(r=>1===r):return 1;case l.some(r=>0===r):return 0;default:return 2}}),updateOne:$w(f),updateMany:$w(g),upsertOne:$w(function(l,n){return h([l],n)}),upsertMany:$w(h),removeOne:$w(function(l,n){return e([l],n)}),removeMany:$w(e),map:$w(function(l,
n){const r=n.ids.reduce((v,w)=>{const y=l(n.entities[w]);y!==n.entities[w]&&v.push({id:w,changes:y});return v},[]).filter(({id:v})=>v in n.entities);return g(r,n)}),mapOne:$w(function({map:l,id:n},r){const v=r.entities[n];if(!v)return 2;l=l(v);return f({id:n,changes:l},r)})}};
qib=function(a,b){function c(w,y){return d([w],y)}function d(w,y){w=w.filter(B=>!(ax(B,a)in y.entities));if(0===w.length)return 2;l(w,y);return 1}function e(w,y){const B=ax(w,a);return B in y.entities?(y.ids=y.ids.filter(G=>G!==B),l([w],y),1):c(w,y)}function f(w,y){return g([w],y)}function g(w,y){const B=[];w=0<w.filter(T=>{if(T.id in y.entities){var J=Object.assign({},y.entities[T.id],T.changes),R=ax(J,a);delete y.entities[T.id];B.push(J);T=R!==T.id}else T=!1;return T}).length;if(0===B.length)return 2;
const G=y.ids,O=[];y.ids=y.ids.filter((T,J)=>{if(T in y.entities)return!0;O.push(J);return!1});l(B,y);return!w&&O.every(T=>y.ids[T]===G[T])?0:1}function h(w,y){const B=[];var G=[];for(const O of w)w=ax(O,a),w in y.entities?G.push({id:w,changes:O}):B.push(O);G=g(G,y);y=d(B,y);switch(!0){case 2===y&&2===G:return 2;case 1===y||1===G:return 1;default:return 0}}function l(w,y){w.sort(b);const B=[];let G=0,O=0;for(;G<w.length&&O<y.ids.length;){const T=w[G],J=ax(T,a),R=y.ids[O];0>=b(T,y.entities[R])?(B.push(J),
G++):(B.push(R),O++)}y.ids=G<w.length?B.concat(w.slice(G).map(a)):B.concat(y.ids.slice(O));w.forEach(T=>{y.entities[a(T)]=T})}const {removeOne:n,removeMany:r,removeAll:v}=pib(a);return{removeOne:n,removeMany:r,removeAll:v,addOne:$w(c),updateOne:$w(f),upsertOne:$w(function(w,y){return h([w],y)}),setAll:$w(function(w,y){y.entities={};y.ids=[];d(w,y);return 1}),setOne:$w(e),setMany:$w(function(w,y){w=w.map(B=>e(B,y));switch(!0){case w.some(B=>1===B):return 1;case w.some(B=>0===B):return 0;default:return 2}}),
addMany:$w(d),updateMany:$w(g),upsertMany:$w(h),map:$w(function(w,y){const B=y.ids.reduce((G,O)=>{const T=w(y.entities[O]);T!==y.entities[O]&&G.push({id:O,changes:T});return G},[]);return g(B,y)}),mapOne:$w(function({map:w,id:y},B){const G=B.entities[y];if(!G)return 2;w=w(G);return f({id:y,changes:w},B)})}};
rib=function(){return{getSelectors:function(a){const b=f=>f.ids,c=f=>f.entities,d=_.zh(b,c,(f,g)=>f.map(h=>g[h])),e=_.zh(b,f=>f.length);return a?{selectIds:_.zh(a,b),selectEntities:_.zh(a,c),selectAll:_.zh(a,d),selectTotal:_.zh(a,e)}:{selectIds:b,selectEntities:c,selectAll:d,selectTotal:e}}}};_.bx=function(a={}){const {selectId:b,sortComparer:c}=Object.assign({},{sortComparer:!1,selectId:d=>d.id},a);return Object.assign({},{selectId:b,sortComparer:c},oib(),rib(),c?qib(b,c):pib(b))};
_.sib=function(a,b){var c={};return{ngModule:_.hq,providers:[{provide:_.a_a,multi:!0,useValue:a instanceof Object?{}:c},{provide:_.YZa,multi:!0,useValue:{key:a instanceof Object?a.name:a,reducerFactory:c instanceof _.Zc||!c.reducerFactory?_.Ch:c.reducerFactory,metaReducers:c instanceof _.Zc||!c.metaReducers?[]:c.metaReducers,initialState:c instanceof _.Zc||!c.initialState?void 0:c.initialState}},{provide:_.b_a,deps:[_.hg,_.a_a,_.YZa],useFactory:mib},{provide:_.$Za,multi:!0,useValue:a instanceof Object?
a.reducer:b},{provide:_.c_a,multi:!0,useExisting:b instanceof _.Zc?b:_.$Za},{provide:_.d_a,multi:!0,deps:[_.hg,_.$Za,[new _.ZHa(_.c_a)]],useFactory:nib},_.aua()]}};

}catch(e){_._DumpException(e)}
try{
var hGb,iGb,jGb,kGb,lE,mGb,lGb,nGb,qGb,oGb,pGb,rGb,tGb,uGb,vGb,wGb,EGb,FGb,GGb,HGb,IGb,JGb,LGb,MGb,NGb,OGb,PGb,QGb;_.fGb=function(a){return a.ownerDocument};_.gGb=function(a,b,c,d,e,f){var g=_.Pc();a=_.Sc()+a;return _.xDb(g,a,c,d,e,f)?_.xd(g,a+4,b(c,d,e,f)):_.Lia(g,a+4)};hGb=function(a){a=new Date(a);a.setHours(0,0,0,0);return a};iGb=function(a,b){const c=(new Date(b.getFullYear(),b.getMonth()+1,0)).getDate();c<a.getDate()?b.setDate(c):b.setDate(a.getDate());return b};
jGb=function(a,b){return new Date(a.getTime()+6E4*b)};kGb=function(a){return new Date(a.getFullYear(),a.getMonth(),1)};lE=function(a,b){return new Date(a.getFullYear(),a.getMonth(),a.getDate()+b)};mGb=function(a,b){return a.getDate()===b.getDate()&&lGb(a,b)};lGb=function(a,b){return a.getFullYear()===b.getFullYear()&&a.getMonth()===b.getMonth()};nGb=function(a,b){return iGb(a,new Date(a.getFullYear(),a.getMonth()+b,1))};qGb=function(a,b,c){a=_.kob(a);b&&(a=oGb(a));c&&(a=pGb(a));return a};
oGb=function(a){let b=0,c=-1,d=!1;rGb(a,(e,f,g)=>{d||("y"!==f&&0<b&&(d=!0),g||"y"!==f||(0===b&&(c=e),b++))});return-1===c?a:a.substring(0,c)+"yyyy"+a.substring(c+b)};pGb=function(a){let b=0,c=-1,d=!1;rGb(a,(e,f,g)=>{d||("s"!==f&&0<b&&(d=!0),g||"s"!==f||(0===b&&(c=e),b++))});return-1===c?a:a.substring(0,c+b)+`${_.oz().DECIMAL_SEP}SSS`+a.substring(c+b)};rGb=function(a,b){let c=!1;for(let d=0;d<a.length;d++){const e=a.charAt(d);"'"===e&&(c=!c);b(d,e,c)}};
tGb=function(a){a&1&&(_.E(0,"mat-error",7),_.Q(1),_.F());a&2&&(a=_.N(2),_.x(1),_.Sd(" ",sGb(a,a.inputControl)," "))};
uGb=function(a){if(a&1){const b=_.Pc();_.Dd(0);_.E(1,"mat-form-field",3)(2,"input",4,5);_.L("blur",function(){_.t(b);_.N().inputBlurred.emit();return _.u()});_.F();_.E(4,"mat-label");_.Q(5);_.F();_.P(6,tGb,2,1,"mat-error",6);_.F();_.Ed()}a&2&&(a=_.N(),_.x(1),_.Bd("cfc-read-only",a.isReadonly),_.C("floatLabel",a.floatPlaceholder),_.x(1),_.C("formControl",a.inputControl)("readonly",a.isReadonly)("required",a.isRequired),_.zd("aria-describedby",a.ariaDescribedBy)("aria-label",a.ariaLabel),_.x(3),_.Ud(a.placeholder),
_.x(1),_.C("cfcDebounceErrorFor",a.builtInErrorCode))};vGb=function(a){if(a&1){const b=_.Pc();_.E(0,"input",8,5);_.L("focus",function(){_.t(b);const c=_.N();return _.u(c.onFocus())})("blur",function(){_.t(b);_.N().inputBlurred.emit();return _.u()});_.F()}a&2&&(a=_.N(),_.C("formControl",a.inputControl)("readonly",a.isReadonly)("required",a.isRequired),_.zd("aria-describedby",a.ariaDescribedBy)("aria-label",a.ariaLabel))};
wGb=function(a,b){a&1&&(_.E(0,"th",9),_.Q(1),_.F());a&2&&(a=b.$implicit,_.x(1),_.Sd(" ",a," "))};
EGb=function(a){if(a&1){const b=_.Pc();_.E(0,"button",13);_.L("click",function(){_.t(b);var c=_.N().$implicit,d=_.N(2);if(xGb(d,c)){var e=d.liveAnnouncer,f=e.announce;var g=(new _.ji("Selected {FULL_DATE}")).format({FULL_DATE:yGb(d,c)});f.call(e,g);c=new Date(c);d.selectedDate&&(e=zGb(d.dateService,d.selectedDate),c.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));c=AGb(d.dateService,c);d.dateService.setDate(c);d.retainOverlayOnDateSelection||BGb(d.overlayService)}return _.u()});
_.E(1,"span",14);_.Q(2);_.F()()}if(a&2){a=_.N().$implicit;const b=_.N().index,c=_.N();_.Bd("cfc-date-picker-calendar-today",mGb(new Date,a))("cfc-date-picker-calendar-focused-date",mGb(c.calendarMonth.focusedDate,a))("cfc-date-picker-calendar-selected-date",CGb(c.calendarMonth,a));_.zd("aria-disabled",!xGb(c,a))("aria-pressed",CGb(c.calendarMonth,a))("aria-current",mGb(new Date,a)?"date":null)("aria-label",DGb(c,b,a));_.x(2);_.Sd(" ",a.getDate()," ")}};
FGb=function(a,b){a&1&&(_.E(0,"td",11),_.P(1,EGb,3,11,"button",12),_.F());a&2&&(a=b.$implicit,b=_.N(2),_.Bd("cfc-date-picker-disabled-date",!xGb(b,a)),_.x(1),_.C("ngIf",lGb(b.calendarMonth.firstDateOfShownMonth,a)))};GGb=function(a,b){a&1&&(_.E(0,"tr"),_.P(1,FGb,2,3,"td",10),_.F());a&2&&(a=b.$implicit,_.x(1),_.C("ngForOf",a))};HGb=function(a){a&1&&_.I(0,"ace-icon",12)};IGb=function(a){a&1&&_.I(0,"ace-icon",13)};
JGb=function(a){a&1&&_.I(0,"cfc-date-picker-calendar",11,12);a&2&&_.C("retainOverlayOnDateSelection",!0)};LGb=function(a){if(a&1){const b=_.Pc();_.E(0,"cfc-timezone-picker-list",13);_.L("timezoneSelected",function(c){_.t(b);const d=_.N();return _.u(d.onTimezoneSelectionChanged(c))});_.Zd(1,"async");_.F()}a&2&&(a=_.N(),_.C("forDate",_.$d(1,3,a.dateService.dateSubject))("selectedTimezone",KGb(a.dateService)||a.dateService.localTimezone)("listboxId",a.timezonePickerListboxId))};
MGb=function(a){a&1&&(_.E(0,"span",2),_.Q(1),_.F());a&2&&(a=_.N(),_.x(1),_.Sd(" ",a.timezoneName,"\n"))};NGb=function(a){if(a&1){const b=_.Pc();_.E(0,"button",3,4);_.L("click",function(c){_.t(b);var d=_.N().picker.datePickerInput;d.inputButtonClicked.emit();c.stopPropagation();d.markAsTouched();return _.u()});_.I(2,"ace-icon",5);_.F()}a&2&&(a=_.N(),_.C("cfcTooltip",a.ariaLabel)("cmNativeDisabled",a.disabled)("ve",a.ve.CfcDatePickerCalendarButton)("veClick",!0),_.zd("aria-label",a.ariaLabel))};
OGb=function(a){a&1&&_.I(0,"ace-code-snippet-copy",1);a&2&&(a=_.N(),_.C("codeSnippet",a)("ariaLabel",a.copyButtonAriaLabel))};PGb={YEAR_FULL:"y",YEAR_FULL_WITH_ERA:"y G",YEAR_MONTH_ABBR:"MMM y",YEAR_MONTH_FULL:"MMMM y",YEAR_MONTH_SHORT:"MM.y",MONTH_DAY_ABBR:"d. MMM",MONTH_DAY_FULL:"dd. MMMM",MONTH_DAY_SHORT:"d.M.",MONTH_DAY_MEDIUM:"d. MMMM",MONTH_DAY_YEAR_MEDIUM:"d. MMM y",WEEKDAY_MONTH_DAY_MEDIUM:"EEE, d. MMM",WEEKDAY_MONTH_DAY_YEAR_MEDIUM:"EEE, d. MMM y",DAY_ABBR:"d",MONTH_DAY_TIME_ZONE_SHORT:"d. MMM, HH:mm zzzz"};
QGb={de:PGb,de_DE:PGb,en_GB:{YEAR_FULL:"y",YEAR_FULL_WITH_ERA:"y G",YEAR_MONTH_ABBR:"MMM y",YEAR_MONTH_FULL:"MMMM y",YEAR_MONTH_SHORT:"MM/y",MONTH_DAY_ABBR:"d MMM",MONTH_DAY_FULL:"dd MMMM",MONTH_DAY_SHORT:"dd/MM",MONTH_DAY_MEDIUM:"d MMMM",MONTH_DAY_YEAR_MEDIUM:"d MMM y",WEEKDAY_MONTH_DAY_MEDIUM:"EEE, d MMM",WEEKDAY_MONTH_DAY_YEAR_MEDIUM:"EEE, d MMM y",DAY_ABBR:"d",MONTH_DAY_TIME_ZONE_SHORT:"d MMM, HH:mm zzzz"},en_US:_.OEb,es:{YEAR_FULL:"y",YEAR_FULL_WITH_ERA:"y G",YEAR_MONTH_ABBR:"MMM y",YEAR_MONTH_FULL:"MMMM 'de' y",
YEAR_MONTH_SHORT:"M/y",MONTH_DAY_ABBR:"d MMM",MONTH_DAY_FULL:"dd 'de' MMMM",MONTH_DAY_SHORT:"d/M",MONTH_DAY_MEDIUM:"d 'de' MMMM",MONTH_DAY_YEAR_MEDIUM:"d MMM y",WEEKDAY_MONTH_DAY_MEDIUM:"EEE, d MMM",WEEKDAY_MONTH_DAY_YEAR_MEDIUM:"EEE, d MMM y",DAY_ABBR:"d",MONTH_DAY_TIME_ZONE_SHORT:"d MMM, H:mm zzzz"},es_419:{YEAR_FULL:"y",YEAR_FULL_WITH_ERA:"y G",YEAR_MONTH_ABBR:"MMM y",YEAR_MONTH_FULL:"MMMM 'de' y",YEAR_MONTH_SHORT:"M/y",MONTH_DAY_ABBR:"d MMM",MONTH_DAY_FULL:"dd 'de' MMMM",MONTH_DAY_SHORT:"d/M",
MONTH_DAY_MEDIUM:"d 'de' MMMM",MONTH_DAY_YEAR_MEDIUM:"d MMM y",WEEKDAY_MONTH_DAY_MEDIUM:"EEE, d MMM",WEEKDAY_MONTH_DAY_YEAR_MEDIUM:"EEE, d MMM y",DAY_ABBR:"d",MONTH_DAY_TIME_ZONE_SHORT:"d MMM HH:mm zzzz"},fr:{YEAR_FULL:"y",YEAR_FULL_WITH_ERA:"y G",YEAR_MONTH_ABBR:"MMM y",YEAR_MONTH_FULL:"MMMM y",YEAR_MONTH_SHORT:"MM/y",MONTH_DAY_ABBR:"d MMM",MONTH_DAY_FULL:"dd MMMM",MONTH_DAY_SHORT:"dd/MM",MONTH_DAY_MEDIUM:"d MMMM",MONTH_DAY_YEAR_MEDIUM:"d MMM y",WEEKDAY_MONTH_DAY_MEDIUM:"EEE d MMM",WEEKDAY_MONTH_DAY_YEAR_MEDIUM:"EEE d MMM y",
DAY_ABBR:"d",MONTH_DAY_TIME_ZONE_SHORT:"d MMM, HH:mm zzzz"},hu_HU:{YEAR_FULL:"y.",YEAR_FULL_WITH_ERA:"G y.",YEAR_MONTH_ABBR:"y. MMM",YEAR_MONTH_FULL:"y. MMMM",YEAR_MONTH_SHORT:"y. MM.",MONTH_DAY_ABBR:"MMM d.",MONTH_DAY_FULL:"MMMM dd.",MONTH_DAY_SHORT:"M. d.",MONTH_DAY_MEDIUM:"MMMM d.",MONTH_DAY_YEAR_MEDIUM:"y. MMM d.",WEEKDAY_MONTH_DAY_MEDIUM:"MMM d., EEE",WEEKDAY_MONTH_DAY_YEAR_MEDIUM:"y. MMM d., EEE",DAY_ABBR:"d",MONTH_DAY_TIME_ZONE_SHORT:"MMM d. HH:mm zzzz"},id:{YEAR_FULL:"y",YEAR_FULL_WITH_ERA:"y G",
YEAR_MONTH_ABBR:"MMM y",YEAR_MONTH_FULL:"MMMM y",YEAR_MONTH_SHORT:"MM/y",MONTH_DAY_ABBR:"d MMM",MONTH_DAY_FULL:"dd MMMM",MONTH_DAY_SHORT:"d/M",MONTH_DAY_MEDIUM:"d MMMM",MONTH_DAY_YEAR_MEDIUM:"d MMM y",WEEKDAY_MONTH_DAY_MEDIUM:"EEE, d MMM",WEEKDAY_MONTH_DAY_YEAR_MEDIUM:"EEE, d MMM y",DAY_ABBR:"d",MONTH_DAY_TIME_ZONE_SHORT:"d MMM HH.mm zzzz"},it:{YEAR_FULL:"y",YEAR_FULL_WITH_ERA:"y G",YEAR_MONTH_ABBR:"MMM y",YEAR_MONTH_FULL:"MMMM y",YEAR_MONTH_SHORT:"MM/y",MONTH_DAY_ABBR:"d MMM",MONTH_DAY_FULL:"dd MMMM",
MONTH_DAY_SHORT:"d/M",MONTH_DAY_MEDIUM:"d MMMM",MONTH_DAY_YEAR_MEDIUM:"d MMM y",WEEKDAY_MONTH_DAY_MEDIUM:"EEE d MMM",WEEKDAY_MONTH_DAY_YEAR_MEDIUM:"EEE d MMM y",DAY_ABBR:"d",MONTH_DAY_TIME_ZONE_SHORT:"d MMM, HH:mm zzzz"},ja:{YEAR_FULL:"y\u5e74",YEAR_FULL_WITH_ERA:"Gy\u5e74",YEAR_MONTH_ABBR:"y\u5e74M\u6708",YEAR_MONTH_FULL:"y\u5e74M\u6708",YEAR_MONTH_SHORT:"y/MM",MONTH_DAY_ABBR:"M\u6708d\u65e5",MONTH_DAY_FULL:"M\u6708dd\u65e5",MONTH_DAY_SHORT:"M/d",MONTH_DAY_MEDIUM:"M\u6708d\u65e5",MONTH_DAY_YEAR_MEDIUM:"y\u5e74M\u6708d\u65e5",
WEEKDAY_MONTH_DAY_MEDIUM:"M\u6708d\u65e5(EEE)",WEEKDAY_MONTH_DAY_YEAR_MEDIUM:"y\u5e74M\u6708d\u65e5(EEE)",DAY_ABBR:"d\u65e5",MONTH_DAY_TIME_ZONE_SHORT:"M\u6708d\u65e5 H:mm zzzz"},ko:{YEAR_FULL:"y\ub144",YEAR_FULL_WITH_ERA:"G y\ub144",YEAR_MONTH_ABBR:"y\ub144 MMM",YEAR_MONTH_FULL:"y\ub144 MMMM",YEAR_MONTH_SHORT:"y. M.",MONTH_DAY_ABBR:"MMM d\uc77c",MONTH_DAY_FULL:"MMMM dd\uc77c",MONTH_DAY_SHORT:"M. d.",MONTH_DAY_MEDIUM:"MMMM d\uc77c",MONTH_DAY_YEAR_MEDIUM:"y\ub144 MMM d\uc77c",WEEKDAY_MONTH_DAY_MEDIUM:"MMM d\uc77c (EEE)",
WEEKDAY_MONTH_DAY_YEAR_MEDIUM:"y\ub144 MMM d\uc77c (EEE)",DAY_ABBR:"d\uc77c",MONTH_DAY_TIME_ZONE_SHORT:"MMM d\uc77c a h:mm zzzz"},nl:{YEAR_FULL:"y",YEAR_FULL_WITH_ERA:"y G",YEAR_MONTH_ABBR:"MMM y",YEAR_MONTH_FULL:"MMMM y",YEAR_MONTH_SHORT:"MM-y",MONTH_DAY_ABBR:"d MMM",MONTH_DAY_FULL:"dd MMMM",MONTH_DAY_SHORT:"d-M",MONTH_DAY_MEDIUM:"d MMMM",MONTH_DAY_YEAR_MEDIUM:"d MMM y",WEEKDAY_MONTH_DAY_MEDIUM:"EEE d MMM",WEEKDAY_MONTH_DAY_YEAR_MEDIUM:"EEE d MMM y",DAY_ABBR:"d",MONTH_DAY_TIME_ZONE_SHORT:"d MMM HH:mm zzzz"},
pl:{YEAR_FULL:"y",YEAR_FULL_WITH_ERA:"y G",YEAR_MONTH_ABBR:"LLL y",YEAR_MONTH_FULL:"LLLL y",YEAR_MONTH_SHORT:"MM.y",MONTH_DAY_ABBR:"d MMM",MONTH_DAY_FULL:"dd MMMM",MONTH_DAY_SHORT:"d.MM",MONTH_DAY_MEDIUM:"d MMMM",MONTH_DAY_YEAR_MEDIUM:"d MMM y",WEEKDAY_MONTH_DAY_MEDIUM:"EEE, d MMM",WEEKDAY_MONTH_DAY_YEAR_MEDIUM:"EEE, d MMM y",DAY_ABBR:"d",MONTH_DAY_TIME_ZONE_SHORT:"d MMM, HH:mm zzzz"},pt_BR:{YEAR_FULL:"y",YEAR_FULL_WITH_ERA:"y G",YEAR_MONTH_ABBR:"MMM 'de' y",YEAR_MONTH_FULL:"MMMM 'de' y",YEAR_MONTH_SHORT:"MM/y",
MONTH_DAY_ABBR:"d 'de' MMM",MONTH_DAY_FULL:"dd 'de' MMMM",MONTH_DAY_SHORT:"d/M",MONTH_DAY_MEDIUM:"d 'de' MMMM",MONTH_DAY_YEAR_MEDIUM:"d 'de' MMM 'de' y",WEEKDAY_MONTH_DAY_MEDIUM:"EEE, d 'de' MMM",WEEKDAY_MONTH_DAY_YEAR_MEDIUM:"EEE, d 'de' MMM 'de' y",DAY_ABBR:"d",MONTH_DAY_TIME_ZONE_SHORT:"d 'de' MMM HH:mm zzzz"},ru:{YEAR_FULL:"y",YEAR_FULL_WITH_ERA:"y '\u0433'. G",YEAR_MONTH_ABBR:"LLL y '\u0433'.",YEAR_MONTH_FULL:"LLLL y '\u0433'.",YEAR_MONTH_SHORT:"MM.y",MONTH_DAY_ABBR:"d MMM",MONTH_DAY_FULL:"dd MMMM",
MONTH_DAY_SHORT:"dd.MM",MONTH_DAY_MEDIUM:"d MMMM",MONTH_DAY_YEAR_MEDIUM:"d MMM y '\u0433'.",WEEKDAY_MONTH_DAY_MEDIUM:"ccc, d MMM",WEEKDAY_MONTH_DAY_YEAR_MEDIUM:"EEE, d MMM y '\u0433'.",DAY_ABBR:"d",MONTH_DAY_TIME_ZONE_SHORT:"d MMM, HH:mm zzzz"},th:{YEAR_FULL:"y",YEAR_FULL_WITH_ERA:"G y",YEAR_MONTH_ABBR:"MMM y",YEAR_MONTH_FULL:"MMMM G y",YEAR_MONTH_SHORT:"MM/y",MONTH_DAY_ABBR:"d MMM",MONTH_DAY_FULL:"dd MMMM",MONTH_DAY_SHORT:"d/M",MONTH_DAY_MEDIUM:"d MMMM",MONTH_DAY_YEAR_MEDIUM:"d MMM y",WEEKDAY_MONTH_DAY_MEDIUM:"EEE d MMM",
WEEKDAY_MONTH_DAY_YEAR_MEDIUM:"EEE d MMM y",DAY_ABBR:"d",MONTH_DAY_TIME_ZONE_SHORT:"d MMM HH:mm zzzz"},tr:{YEAR_FULL:"y",YEAR_FULL_WITH_ERA:"G y",YEAR_MONTH_ABBR:"MMM y",YEAR_MONTH_FULL:"MMMM y",YEAR_MONTH_SHORT:"MM.y",MONTH_DAY_ABBR:"d MMM",MONTH_DAY_FULL:"dd MMMM",MONTH_DAY_SHORT:"d/M",MONTH_DAY_MEDIUM:"d MMMM",MONTH_DAY_YEAR_MEDIUM:"d MMM y",WEEKDAY_MONTH_DAY_MEDIUM:"d MMMM EEE",WEEKDAY_MONTH_DAY_YEAR_MEDIUM:"d MMM y EEE",DAY_ABBR:"d",MONTH_DAY_TIME_ZONE_SHORT:"d MMM HH:mm zzzz"},zh_CN:{YEAR_FULL:"y\u5e74",
YEAR_FULL_WITH_ERA:"Gy\u5e74",YEAR_MONTH_ABBR:"y\u5e74M\u6708",YEAR_MONTH_FULL:"y\u5e74M\u6708",YEAR_MONTH_SHORT:"y\u5e74M\u6708",MONTH_DAY_ABBR:"M\u6708d\u65e5",MONTH_DAY_FULL:"M\u6708dd\u65e5",MONTH_DAY_SHORT:"M/d",MONTH_DAY_MEDIUM:"M\u6708d\u65e5",MONTH_DAY_YEAR_MEDIUM:"y\u5e74M\u6708d\u65e5",WEEKDAY_MONTH_DAY_MEDIUM:"M\u6708d\u65e5EEE",WEEKDAY_MONTH_DAY_YEAR_MEDIUM:"y\u5e74M\u6708d\u65e5EEE",DAY_ABBR:"d\u65e5",MONTH_DAY_TIME_ZONE_SHORT:"M\u6708d\u65e5 zzzz HH:mm"},zh_TW:{YEAR_FULL:"y\u5e74",YEAR_FULL_WITH_ERA:"Gy\u5e74",
YEAR_MONTH_ABBR:"y\u5e74M\u6708",YEAR_MONTH_FULL:"y\u5e74M\u6708",YEAR_MONTH_SHORT:"y/MM",MONTH_DAY_ABBR:"M\u6708d\u65e5",MONTH_DAY_FULL:"M\u6708dd\u65e5",MONTH_DAY_SHORT:"M/d",MONTH_DAY_MEDIUM:"M\u6708d\u65e5",MONTH_DAY_YEAR_MEDIUM:"y\u5e74M\u6708d\u65e5",WEEKDAY_MONTH_DAY_MEDIUM:"M\u6708d\u65e5 EEE",WEEKDAY_MONTH_DAY_YEAR_MEDIUM:"y\u5e74M\u6708d\u65e5 EEE",DAY_ABBR:"d\u65e5",MONTH_DAY_TIME_ZONE_SHORT:"M\u6708d\u65e5 Bh:mm [zzzz]"}};_.mE=class{constructor(a,b){this.date=a;this.timezone=b}};
var RGb=function(a,b){a.dateTimeFormat=b;a=qGb(b,a.useFourDigitYear,a.useMilliseconds);new _.Sr(a)},KGb=function(a){return a.dateTimezoneSubject.value?a.dateTimezoneSubject.value.timezone:void 0},TGb=function(a,b,c,d){var e=a.dateTimezoneSubject.value,f;if(f=c&&e&&e.date)f=e.date,f=c.getTime()===f.getTime();f&&(e=e.timezone,f=!!d&&!!e&&d.timeZoneId_===e.timeZoneId_);f||(a.dateSubject.next(c),a.dateTimezoneSubject.next(new SGb(b,c,d)))},VGb=function(a,b,c,d){const e=c?c.getOffset(b):UGb(a,b);c=d?d.getOffset(b):
UGb(a,b);b=jGb(b,c-e);a=d?d.getOffset(b):UGb(a,b);return jGb(b,a-c)},zGb=function(a,b){return VGb(a,b,KGb(a))},AGb=function(a,b){return VGb(a,b,void 0,KGb(a))},WGb=function(a){const b=a.dateTimezoneSubject.value&&a.dateTimezoneSubject.value.date?a.dateTimezoneSubject.value.date:new Date(0);return(a=a.hasTimezone()?KGb(a):a.localTimezone)?a.getShortName(b):""},UGb=function(a,b){return a.localTimezone?a.localTimezone.getOffset(b):b.getTimezoneOffset()},nE=class{constructor(){this.isValueRequired=!1;
this.dateSubject=new _.bg(null);this.dateTimezoneSubject=new _.bg(null);this.dateChange=this.dateSubject.asObservable();this.dateTimezoneChange=this.dateTimezoneSubject.asObservable();this.rangeEndInternal=this.rangeStartInternal=null;this.dateTimeFormat=11;this.useMillisecondsInternal=this.useFourDigitYearInternal=!1}set rangeStart(a){this.rangeStartInternal=a?hGb(a):null}set rangeEnd(a){this.rangeEndInternal=a?hGb(a):null}set useFourDigitYear(a){this.useFourDigitYearInternal=a;RGb(this,this.dateTimeFormat)}set useMilliseconds(a){this.useMillisecondsInternal=
a;RGb(this,this.dateTimeFormat)}get useMilliseconds(){return this.useMillisecondsInternal}get rangeStart(){return this.rangeStartInternal}get rangeEnd(){return this.rangeEndInternal}get useFourDigitYear(){return this.useFourDigitYearInternal}get validatedDateTimezone(){return this.dateTimezoneSubject.value}hasTimezone(){return this.dateTimezoneSubject.value?!!this.dateTimezoneSubject.value.timezone:!1}setDate(a,b=!1){let c=void 0;this.dateTimezoneSubject.value&&(c=this.dateTimezoneSubject.value.timezone);
TGb(this,b,a,c)}setTimezone(a,b=!1){let c=null;const d=this.dateTimezoneSubject.value;d&&d.date&&(c=VGb(this,d.date,d.timezone,a));TGb(this,b,c,a)}};nE.\u0275fac=function(a){return new (a||nE)};nE.\u0275prov=_.m({token:nE,factory:nE.\u0275fac});var SGb=class{constructor(a,b,c){this.originModel=a;this.date=b;this.timezone=c}};
var BGb=function(a){a.closeOverlay();a.originalCallerElement&&a.originalCallerElement.focus()},XGb=function(a){a.inCompactMode=_.Mob(a.breakpointObserver,"(max-width: 512px), (max-height: 512px)");a.breakpointSubscription=a.breakpointObserver.observe("(max-width: 512px), (max-height: 512px)").subscribe(b=>{a.inCompactMode=b.matches})},oE=class{constructor(a,b,c,d){this.breakpointObserver=a;this.dialog=b;this.overlay=c;this.overlayHelper=d;this.overlayClosed=new _.$k;this.inCompactMode=!1}closeOverlay(){this.overlayRef&&
this.overlayRef.hasAttached()?(this.overlayRef.dispose(),this.overlayRef=void 0,this.overlayClosed.emit()):this.dialogRef&&(this.dialogRef.close(),this.dialogRef=void 0,this.overlayClosed.emit())}openOverlay(a){if(!this.overlayRef&&!this.dialogRef)if(this.inCompactMode)this.dialogRef=this.dialog.open(a,{viewContainerRef:this.viewContainerRef,maxWidth:"98vw",maxHeight:"95vh"}),this.dialogRef.addPanelClass("cfc-datepicker-dialog");else{this.originalCallerElement=document.activeElement;if(!this.formFieldElement){var b=
this.viewContainerRef.element.nativeElement;b=b.closest?b.closest(".mat-form-field-flex"):b;this.formFieldElement=new _.ad(b)}b=_.Ofb(this.overlayHelper,this.formFieldElement,[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"}]);this.overlayRef=this.overlay.create(b);this.overlayRef.attach(new _.Zn(a,
this.viewContainerRef,this.viewContainerRef.injector))}}};oE.\u0275fac=function(a){return new (a||oE)(_.p(_.xn),_.p(_.vp),_.p(_.vC),_.p(_.xv))};oE.\u0275prov=_.m({token:oE,factory:oE.\u0275fac});
var YGb=0,$Gb=class extends _.Ly{constructor(a,b,c,d,e,f){super(b,a,YGb++,null);this.cdr=c;this.dateService=d;this.overlayService=e;this.isReadonlyInternal=!1;this.ariaLabelPrefix="";this.timezoneSubject=new _.bg;this.timezoneChange=this.timezoneSubject.asObservable();this.disabledStatusChange=new _.$k;this.readonlyStatusChange=new _.$k;this.destroy=new _.tf;this.controlValidator=null;this.overlayService.viewContainerRef=f;this.ngControl&&(this.ngControl.valueAccessor=this)}set dateInputFormat(a){this.dateInputFormatInternal=
a;RGb(this.dateService,a)}set disableCalendarDatesBefore(a){this.dateService.rangeStart=a}set disableCalendarDatesAfter(a){this.dateService.rangeEnd=a}set isReadonly(a){this.isReadonlyInternal=a;this.readonlyStatusChange.emit(a)}get isReadonly(){return this.isReadonlyInternal}set isRequired(a){this.required=a;this.dateService.isValueRequired=a}set useFourDigitYear(a){this.dateService.useFourDigitYear=a}get builtInErrorMessage(){return this.ngControl&&this.ngControl.control?sGb(this.datePickerInput,
this.ngControl.control):""}get dateInputFormat(){return this.dateInputFormatInternal}get useFourDigitYear(){return this.dateService.useFourDigitYear}get inputControl(){return this.datePickerInput.inputControl}ngOnInit(){XGb(this.overlayService)}ngAfterViewInit(){if(this.ngControl&&this.ngControl.control){const a=this.ngControl.control;this.controlValidator=_.jw([a.validator,this.validate.bind(this)]);a.setValidators(this.controlValidator);Promise.resolve().then(()=>{a.updateValueAndValidity({emitEvent:!1})})}ZGb(this)}ngDoCheck(){this.updateErrorState()}ngOnDestroy(){this.destroy.next();
this.overlayService.closeOverlay();var a=this.overlayService;a.breakpointSubscription&&a.breakpointSubscription.unsubscribe();let b;(null==(b=this.ngControl)?0:b.control)&&this.controlValidator&&_.KAb(this.ngControl.control,this.controlValidator)}onContainerClick(){this.datePickerInput.focus()}setDisabledState(a){this.disabled=a;this.disabledStatusChange.emit(a);this.cdr.markForCheck()}registerOnTouched(a){super.registerOnTouched(a);this.overlayService.overlayClosed.pipe(_.Af(this.destroy)).subscribe(()=>
{this.onTouched()})}validate(){return this.inputControl.errors}getEmpty(){const a=this.dateService.validatedDateTimezone;return a&&a.originModel?null===a.date:""===this.inputControl.value}};$Gb.\u0275fac=function(){_.dd()};
$Gb.\u0275dir=_.q({type:$Gb,inputs:{dateInputFormat:"dateInputFormat",disableCalendarDatesBefore:"disableCalendarDatesBefore",disableCalendarDatesAfter:"disableCalendarDatesAfter",isReadonly:"isReadonly",isRequired:"isRequired",useFourDigitYear:"useFourDigitYear",ariaLabelPrefix:"ariaLabelPrefix"},features:[_.wd]});
var aHb,bHb,cHb,dHb,qE;aHb=function(a){return a.formatter.format(a.selectedDateLocal)};_.pE=function(){const a=new Date;a.setHours(0,0,0,0);return a};bHb=function(a,b){const c=_.pE();if(b.match(/\d{4}-\d{2}-\d{2}/)||b.match(/\d{4}-\d{2}-\d{2}(T|,\s?|\s)\d{2}:\d{2}/)||b.match(/\d{4}-\d{2}-\d{2}(T|,\s?|\s)\d{2}:\d{2}:\d{2}Z/))return null;let d=a.parser.parse(b,c,{validate:!0});return d!==b.length?(d=a.parser.parse(b,_.pE()),d!==b.length?1:3):1E3>c.getFullYear()?2:null};
cHb=function(a,b){var c=a.selectedDateLocal||_.pE();c=new Date(c.getTime());a.parser.parse(b,c,{validate:!0});return c};dHb=function(a){return qGb(a.format,a.dateService.useFourDigitYear,a.dateService.useMilliseconds)};qE=class{constructor(a){this.dateService=a}init(a){this.format=a;a=qGb(a,this.dateService.useFourDigitYear,this.dateService.useMilliseconds);this.formatter=new _.Sr(a);this.parser=new _.Qob(a)}};qE.\u0275fac=function(a){return new (a||qE)(_.p(nE))};qE.\u0275prov=_.m({token:qE,factory:qE.\u0275fac});
var eHb=["inputElement"],fHb=new Date("2020-07-31T01:00:00"),sGb=function(a,b){return b.hasError(a.builtInErrorCode)?b.getError(a.builtInErrorCode).message:""},rE=class{constructor(a,b,c){this.dateService=a;this.changeDetector=b;this.dateParsingService=c;this.isReadonly=!1;this.floatPlaceholder="auto";this.format=3;this.hasFormField=!1;this.inputBlurred=new _.$k;this.inputFocused=new _.$k;this.placeholder="Date";this.ariaDescribedBy=this.ariaLabelPrefix="";this.inputButtonClicked=new _.$k;this.ariaLabel=
"";this.inputControl=new _.Bw("",d=>{if(0===d.value.length)if(this.isRequired){d=this.builtInErrorCode;b:switch(this.format){case 3:case 2:var e="Date required";break b;case 7:case 6:e="Time required";break b;case 11:case 10:e="Date and time required";break b;default:throw Error("gg`"+this.format);}d={[d]:{message:e,errorCode:"required"}}}else d=null;else if(d=bHb(this.dateParsingService,d.value),1===d)d=this.builtInErrorCode,e=dHb(this.dateParsingService).toLowerCase(),e=(new _.ji("Enter a valid format. Try {FORMAT} ({EXAMPLE})")).format({FORMAT:e,
EXAMPLE:_.nz(this.format).format(fHb)}),d={[d]:{message:e,errorCode:"invalidFormat"}};else if(2===d)d={[this.builtInErrorCode]:{message:"Invalid year",errorCode:"invalidYear"}};else if(3===d){d=this.builtInErrorCode;b:switch(this.format){case 3:case 2:e="Invalid date";break b;case 7:case 6:e="Invalid time";break b;case 11:case 10:e="Invalid date or time";break b;default:throw Error("gg`"+this.format);}d={[d]:{message:e,errorCode:"invalidDateOrTime"}}}else d=null;return d});this.destroy=new _.tf;this.isDisabled=
!1}set disabled(a){(this.isDisabled=a)?this.inputControl.disable():this.inputControl.enable()}get ariaLabelType(){switch(this.format){case 0:case 1:case 2:case 3:case 12:return"date";case 4:case 5:case 6:case 7:return"time";case 8:case 9:case 10:case 11:return"dateTime";default:_.Wb(this.format,void 0)}}get builtInErrorCode(){return"datePickerError"}get disabled(){return this.isDisabled}get isRequired(){return this.dateService.isValueRequired}ngOnInit(){this.dateParsingService.init(this.format);this.dateService.dateTimezoneChange.pipe(_.Af(this.destroy)).subscribe(a=>
{if(a){a:{var b=a.date;let d="";a=this.inputControl.value;var c=bHb(this.dateParsingService,a);if(b||!c){if(b){b=zGb(this.dateService,b);this.dateParsingService.selectedDateLocal=b;if(0!==a.length&&!c&&(a=cHb(this.dateParsingService,a),c=b,a.getTime()===c.getTime()))break a;d=aHb(this.dateParsingService)}this.inputControl.setValue(d,{emitEvent:!1})}}this.changeDetector.markForCheck()}});this.inputControl.valueChanges.pipe(_.We(400),_.Af(this.destroy)).subscribe(a=>{const b=bHb(this.dateParsingService,
a);0===a.length||b?7===this.format||6===this.format||this.dateService.setDate(null):(a=cHb(this.dateParsingService,a),this.dateParsingService.selectedDateLocal=a,a=AGb(this.dateService,a),this.dateService.setDate(a))});this.ariaLabelType&&(this.ariaLabel=this.getComputedAriaLabel())}ngOnDestroy(){this.destroy.next()}focus(){this.inputElement.nativeElement.focus()}markAsTouched(){this.inputControl.markAsTouched()}onFocus(){this.inputFocused.emit()}getComputedAriaLabel(){const a=this.ariaLabelPrefix?
this.ariaLabelPrefix+" ":"",b=dHb(this.dateParsingService);switch(this.ariaLabelType){case "date":return(new _.ji("{LABEL}Input: Enter date: {FORMAT}")).format({LABEL:a,FORMAT:b});case "time":return(new _.ji("{LABEL}Input: Enter time: {FORMAT}")).format({LABEL:a,FORMAT:b});case "dateTime":return(new _.ji("{LABEL}Input: Enter date and time: {FORMAT}")).format({LABEL:a,FORMAT:b});default:return""}}};rE.\u0275fac=function(a){return new (a||rE)(_.A(nE),_.A(_.el),_.A(qE))};
rE.\u0275cmp=_.q({type:rE,selectors:[["cfc-date-picker-input"]],viewQuery:function(a,b){a&1&&_.Oe(eHb,5);if(a&2){let c;_.Ne(c=_.Qe())&&(b.inputElement=c.first)}},inputs:{disabled:"disabled",isReadonly:"isReadonly",floatPlaceholder:"floatPlaceholder",format:"format",hasFormField:"hasFormField",placeholder:"placeholder",ariaLabelPrefix:"ariaLabelPrefix",ariaDescribedBy:"ariaDescribedBy"},outputs:{inputBlurred:"inputBlurred",inputFocused:"inputFocused",inputButtonClicked:"inputButtonClicked"},features:[_.Wd([qE])],
decls:4,vars:2,consts:[[1,"cfc-date-picker-input-flex-container"],[4,"ngIf","ngIfElse"],["inputTemplate",""],[1,"cfc-date-picker-input-container",3,"floatLabel"],["matInput","","autocomplete","off",1,"cfc-date-picker-input-text-box",3,"formControl","readonly","required","blur"],["inputElement",""],["role","alert",4,"cfcDebounceErrorFor"],["role","alert"],["matInput","","autocomplete","off",1,"cfc-date-picker-input-text-box",3,"formControl","readonly","required","focus","blur"]],template:function(a,
b){a&1&&(_.E(0,"div",0),_.P(1,uGb,7,10,"ng-container",1),_.P(2,vGb,2,5,"ng-template",null,2,_.Te),_.F());if(a&2){const c=_.Rd(3);_.x(1);_.C("ngIf",b.hasFormField)("ngIfElse",c)}},dependencies:[_.ll,_.NB,_.CB,_.Cy,_.By,_.GB,_.mw,_.cy,_.Kw,_.Ew],encapsulation:2,changeDetection:0});
var gHb=function(a){let b=lE(a.firstDateOfShownMonth,-((a.firstDateOfShownMonth.getDay()+(7-a.firstDayOfWeek))%7));for(let c=0;6>c;c++)for(let d=0;7>d;d++)a.grid[c][d]=b,b=lE(b,1)},hHb=function(a){a.monthYearHeader=a.dateFormatter.format(a.firstDateOfShownMonth)},CGb=function(a,b){return a.selectedDate?mGb(a.selectedDate,b):!1},iHb=class{constructor(){var a;a||(a=new Date);this.focusedDate=a;this.localizedDateSymbols=_.mz(_.Ki);this.dateFormatter=new _.Sr((QGb[_.oza]||_.OEb).YEAR_MONTH_FULL);this.weekdayStrings=
this.localizedDateSymbols.NARROWWEEKDAYS;this.firstDayOfWeek=(this.localizedDateSymbols.FIRSTDAYOFWEEK+1)%7;this.firstDateOfShownMonth=kGb(a);this.weekHeaders=[];for(a=0;7>a;a++)this.weekHeaders.push(this.weekdayStrings[(a+this.firstDayOfWeek)%7]);this.grid=Array.from({length:6});for(a=0;6>a;a++)this.grid[a]=Array.from({length:7});gHb(this);hHb(this)}updateFocusedDate(a){this.focusedDate=a;lGb(this.firstDateOfShownMonth,this.focusedDate)||(this.firstDateOfShownMonth=kGb(this.focusedDate),gHb(this),
hHb(this))}updateShownMonth(a){a&&(this.focusedDate=this.firstDateOfShownMonth=nGb(this.firstDateOfShownMonth,a),gHb(this),hHb(this))}};
var xGb=function(a,b){a=a.dateService;b=hGb(b);return a.rangeStart||a.rangeEnd?a.rangeStart&&a.rangeEnd?a.rangeStart<=b&&b<=a.rangeEnd:a.rangeStart&&!a.rangeEnd?a.rangeStart<=b:b<=a.rangeEnd:!0},DGb=function(a,b,c){b++;return(new _.ji("Week {WEEK_INDEX}, {FULL_DATE}")).format({WEEK_INDEX:b.toString(),FULL_DATE:yGb(a,c)})},yGb=function(a,b){b=zGb(a.dateService,b);a.dateParsingService.selectedDateLocal=b;return aHb(a.dateParsingService)},jHb=function(a,b,c){if(a=a.elementRef.nativeElement.querySelector(".cfc-date-picker-calendar-focused-date"))a.setAttribute("tabindex",
b),c&&a.focus()},kHb=class{constructor(a,b,c,d,e,f,g){this.dateService=a;this.dateParsingService=b;this.zoneHelper=c;this.overlayService=d;this.elementRef=e;this.changeDetector=f;this.liveAnnouncer=g;this.retainOverlayOnDateSelection=!1;this.selectedDate=null;this.ve={CfcDatePickerCalendarPreviousMonth:54706,CfcDatePickerCalendarNextMonth:54705,CfcDatePickerCalendar:54703};this.destroy=new _.tf;this.calendarMonth=new iHb;this.dateParsingService.init(0)}ngOnInit(){this.dateService.dateChange.pipe(_.Af(this.destroy)).subscribe(a=>
{if(a){var b=this.selectedDate;this.selectedDate=a;b&&mGb(a,b)||(b=zGb(this.dateService,a),a=this.calendarMonth,a.focusedDate=b,a.selectedDate=b,lGb(a.firstDateOfShownMonth,b)||(a.firstDateOfShownMonth=kGb(b),gHb(a),hHb(a)),jHb(this,"0",!1),this.changeDetector.detectChanges())}})}ngOnDestroy(){this.destroy.next()}onKeyDown(a){const b=this.calendarMonth.focusedDate;switch(a.which||a.keyCode){case 39:this.updateFocusedDate(lE(b,1));break;case 37:this.updateFocusedDate(lE(b,-1));break;case 40:this.updateFocusedDate(lE(b,
7));break;case 38:this.updateFocusedDate(lE(b,-7));break;case 34:a.metaKey?this.updateFocusedDate(iGb(b,new Date(b.getFullYear()+1,b.getMonth(),1))):this.updateFocusedDate(nGb(b,1));break;case 33:a.metaKey?this.updateFocusedDate(iGb(b,new Date(b.getFullYear()+-1,b.getMonth(),1))):this.updateFocusedDate(nGb(b,-1));break;case 36:this.updateFocusedDate(kGb(b));break;case 35:this.updateFocusedDate(new Date(b.getFullYear(),b.getMonth()+1,0));break;default:return}a.preventDefault()}updateShownMonth(a){this.calendarMonth.updateShownMonth(a);
this.changeDetector.markForCheck();_.zx(this.zoneHelper,()=>{jHb(this,"0",!1)});this.liveAnnouncer.announce(this.calendarMonth.monthYearHeader)}updateFocusedDate(a){jHb(this,"-1",!1);this.calendarMonth.updateFocusedDate(a);this.changeDetector.markForCheck();_.zx(this.zoneHelper,()=>{jHb(this,"0",!0)})}};kHb.\u0275fac=function(a){return new (a||kHb)(_.A(nE),_.A(qE),_.A(_.Ax),_.A(oE),_.A(_.ad),_.A(_.el),_.A(_.Bn))};
kHb.\u0275cmp=_.q({type:kHb,selectors:[["cfc-date-picker-calendar"]],inputs:{retainOverlayOnDateSelection:"retainOverlayOnDateSelection"},features:[_.Wd([qE])],decls:11,vars:9,consts:function(){return[[1,"cfc-date-picker-calendar-navigation-container"],["cfcTooltip","Previous month","mat-icon-button","","type","button",1,"cfc-date-picker-calendar-navigation-icon",3,"ve","veClick","click"],["icon","previous","size","small"],[1,"cfc-date-picker-calendar-navigation-month-title"],["cfcTooltip","Next month",
"mat-icon-button","","type","button",1,"cfc-date-picker-calendar-navigation-icon",3,"ve","veClick","click"],["icon","next","size","small"],["role","grid","aria-label","Calendar date select",1,"cfc-date-picker-calendar-body",3,"ve","veClick","keydown"],["class","cfc-date-picker-week-header-cell",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"cfc-date-picker-week-header-cell"],["class","cfc-date-picker-date-cell",3,"cfc-date-picker-disabled-date",4,"ngFor","ngForOf"],[1,"cfc-date-picker-date-cell"],
["class","cfc-date-picker-date-cell-circle mat-focus-indicator","tabindex","-1",3,"cfc-date-picker-calendar-today","cfc-date-picker-calendar-focused-date","cfc-date-picker-calendar-selected-date","click",4,"ngIf"],["tabindex","-1",1,"cfc-date-picker-date-cell-circle","mat-focus-indicator",3,"click"],["aria-hidden","true"]]},template:function(a,b){a&1&&(_.E(0,"div",0)(1,"button",1),_.L("click",function(){return b.updateShownMonth(-1)}),_.I(2,"ace-icon",2),_.F(),_.E(3,"div",3),_.Q(4),_.F(),_.E(5,"button",
4),_.L("click",function(){return b.updateShownMonth(1)}),_.I(6,"ace-icon",5),_.F()(),_.E(7,"table",6),_.L("keydown",function(c){return b.onKeyDown(c)}),_.E(8,"tr"),_.P(9,wGb,2,1,"th",7),_.F(),_.P(10,GGb,2,1,"tr",8),_.F());a&2&&(_.x(1),_.C("ve",b.ve.CfcDatePickerCalendarPreviousMonth)("veClick",!0),_.x(3),_.Sd(" ",b.calendarMonth.monthYearHeader," "),_.x(1),_.C("ve",b.ve.CfcDatePickerCalendarNextMonth)("veClick",!0),_.x(2),_.C("ve",b.ve.CfcDatePickerCalendar)("veClick",!0),_.x(2),_.C("ngForOf",b.calendarMonth.weekHeaders),
_.x(1),_.C("ngForOf",b.calendarMonth.grid))},dependencies:[_.Uu,_.wt,_.kl,_.ll,_.xo,_.ot,_.mt,_.jt,_.Ev],styles:[".cfc-date-picker-calendar-body[_ngcontent-%COMP%]{margin:16px 16px 8px}.cfc-date-picker-date-cell[_ngcontent-%COMP%], .cfc-date-picker-week-header-cell[_ngcontent-%COMP%]{color:#000;font-family:Roboto;font-size:13px;font-weight:400;line-height:20px;text-align:center;vertical-align:middle;width:40px}.cfc-date-picker-date-cell[_ngcontent-%COMP%]{height:40px}.cfc-date-picker-week-header-cell[_ngcontent-%COMP%]{color:rgba(0,0,0,.66);height:36px}.cfc-date-picker-date-cell[_ngcontent-%COMP%] > .cfc-date-picker-date-cell-circle[_ngcontent-%COMP%]{border:0;border-radius:50%;cursor:pointer;font-size:100%;height:36px;line-height:36px;width:36px;padding:0}.cfc-date-picker-date-cell-circle[_ngcontent-%COMP%]:not(.cfc-date-picker-calendar-selected-date){background:#fff}.cfc-date-picker-date-cell-circle[_ngcontent-%COMP%]:not(.cfc-date-picker-calendar-selected-date):hover{background-color:rgba(0,0,0,.04)}.cfc-date-picker-disabled-date[_ngcontent-%COMP%]   .cfc-date-picker-date-cell-circle[_ngcontent-%COMP%]{color:rgba(0,0,0,.54);cursor:default}.cfc-date-picker-disabled-date[_ngcontent-%COMP%]   .cfc-date-picker-date-cell-circle.cfc-date-picker-calendar-selected-date[_ngcontent-%COMP%]{background:rgba(0,0,0,.04)}.cfc-date-picker-disabled-date[_ngcontent-%COMP%]:hover   [_ngcontent-%COMP%]:not(.cfc-date-picker-calendar-selected-date){background:#fff}.cfc-date-picker-calendar-today[_ngcontent-%COMP%]{color:#3367d6;font-family:Roboto;font-size:13px;font-weight:500;line-height:20px;text-transform:uppercase}.cfc-date-picker-calendar-selected-date[_ngcontent-%COMP%]:not(.cfc-date-picker-disabled-date){background-color:#3367d6;color:#fff}.cfc-date-picker-calendar-navigation-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin:0 16px -8px;text-align:center}.cfc-date-picker-calendar-navigation-icon[_ngcontent-%COMP%]{margin-top:-4px}.cfc-date-picker-calendar-navigation-month-title[_ngcontent-%COMP%]{color:#000;font-family:Roboto;font-size:13px;font-weight:500;line-height:20px;margin-top:8px;flex-grow:1}.cfc-date-picker-calendar-navigation-arrow-left[_ngcontent-%COMP%], .cfc-date-picker-calendar-navigation-arrow-right[_ngcontent-%COMP%]{border-radius:50%;cursor:pointer;height:36px;line-height:36px;-webkit-user-select:none;user-select:none;width:36px}.cfc-date-picker-calendar-navigation-arrow-left[_ngcontent-%COMP%]:hover, .cfc-date-picker-calendar-navigation-arrow-right[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.04)}body.cfc-focus-indicators-enabled   [_nghost-%COMP%]   .cfc-date-picker-date-cell-circle[_ngcontent-%COMP%]:before{margin:-5px;border-radius:50%}"],
changeDetection:0});
var lHb=["dateInput"],mHb=["timeInput"],nHb=["timezoneButton"],oHb=function(a){setTimeout(()=>{a.timezoneButton.nativeElement.focus()})},pHb=class{constructor(a){this.dateService=a;this.isTimezonePickerOpen=!1;this.timezonePickerListboxId="";this.isTimezonePickerOpenChange=new _.$k;this.timezoneShortName="";this.toggleTimezonePickerTooltipLabel="Select timezone";this.destroy=new _.tf;this.dateInputFormat=10===a.dateTimeFormat?2:3;this.timeInputFormat=10===a.dateTimeFormat?6:7}ngAfterViewInit(){this.dateInput.markAsTouched();
this.timeInput.markAsTouched()}ngOnInit(){this.dateService.dateTimezoneChange.pipe(_.Af(this.destroy)).subscribe(()=>{this.timezoneShortName=WGb(this.dateService)})}ngOnDestroy(){this.destroy.next()}};pHb.\u0275fac=function(a){return new (a||pHb)(_.A(nE))};
pHb.\u0275cmp=_.q({type:pHb,selectors:[["cfc-date-picker-time-picker"]],viewQuery:function(a,b){a&1&&(_.Oe(lHb,7),_.Oe(mHb,7),_.Oe(nHb,7,_.ad));if(a&2){let c;_.Ne(c=_.Qe())&&(b.dateInput=c.first);_.Ne(c=_.Qe())&&(b.timeInput=c.first);_.Ne(c=_.Qe())&&(b.timezoneButton=c.first)}},inputs:{isTimezonePickerOpen:"isTimezonePickerOpen",shortTimezoneName:"shortTimezoneName",timezonePickerListboxId:"timezonePickerListboxId"},outputs:{isTimezonePickerOpenChange:"isTimezonePickerOpenChange"},decls:13,vars:11,
consts:function(){return[[1,"cfc-date-time-picker-header"],[1,"cfc-date-time-picker-date-input"],["floatPlaceholder","never","placeholder","Date",3,"format","hasFormField"],["dateInput",""],[1,"cfc-date-time-picker-time-input"],["floatPlaceholder","never","placeholder","Time",3,"format","hasFormField"],["timeInput",""],["aria-haspopup","listbox","mat-button","","type","button",1,"cfc-date-time-picker-timezone-button",3,"cfcTooltip","click"],["timezoneButton",""],[1,"cfc-date-time-picker-timezone-name"],
["icon","down","size","small",4,"ngIf"],["icon","up","size","small",4,"ngIf"],["icon","down","size","small"],["icon","up","size","small"]]},template:function(a,b){a&1&&(_.E(0,"div",0)(1,"div",1),_.I(2,"cfc-date-picker-input",2,3),_.F(),_.E(4,"div",4),_.I(5,"cfc-date-picker-input",5,6),_.F(),_.E(7,"button",7,8),_.L("click",function(){b.isTimezonePickerOpen=!b.isTimezonePickerOpen;b.isTimezonePickerOpenChange.emit(b.isTimezonePickerOpen);b.isTimezonePickerOpen||oHb(b)}),_.E(9,"span",9),_.Q(10),_.F(),
_.P(11,HGb,1,0,"ace-icon",10),_.P(12,IGb,1,0,"ace-icon",11),_.F()());a&2&&(_.x(2),_.C("format",b.dateInputFormat)("hasFormField",!0),_.x(3),_.C("format",b.timeInputFormat)("hasFormField",!0),_.x(2),_.C("cfcTooltip",b.toggleTimezonePickerTooltipLabel),_.zd("aria-expanded",b.isTimezonePickerOpen)("aria-controls",b.timezonePickerListboxId)("aria-label",b.timezoneShortName||b.toggleTimezonePickerTooltipLabel),_.x(3),_.Ud(b.timezoneShortName),_.x(1),_.C("ngIf",!b.isTimezonePickerOpen),_.x(1),_.C("ngIf",
b.isTimezonePickerOpen))},dependencies:[_.Uu,_.ll,rE,_.xo,_.ot,_.lt,_.jt,_.Ev],styles:[".cfc-datepicker-dialog mat-dialog-container{padding:0}.cfc-date-picker-overlay-container[_ngcontent-%COMP%]{box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);background-color:#fff;width:312px}.cfc-date-picker-overlay-body[_ngcontent-%COMP%]{height:328px}.cfc-date-picker-overlay-footer[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.12);padding:8px 16px;height:48px}.cfc-date-picker-overlay-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{float:right;margin-right:0}.cfc-date-picker-clear[_ngcontent-%COMP%]{clear:both}cfc-date-time-picker-v2[_nghost-%COMP%]{display:inline}.cfc-date-time-picker-header[_ngcontent-%COMP%]{padding:0 12px}.cfc-date-time-picker-header[_ngcontent-%COMP%]     .mat-form-field, .cfc-date-time-picker-header[_ngcontent-%COMP%]     .mat-form-field-wrapper{margin:0}.cfc-date-time-picker-header[_ngcontent-%COMP%]     .cfc-form-error{margin-top:0;margin-bottom:4px}cfc-date-time-picker-time-picker[_nghost-%COMP%]{display:inline-block}.cfc-date-time-picker-date-input[_ngcontent-%COMP%], .cfc-date-time-picker-time-input[_ngcontent-%COMP%]{display:inline-block;margin:16px 4px 0}.cfc-date-time-picker-date-input[_ngcontent-%COMP%], .cfc-date-time-picker-time-input[_ngcontent-%COMP%]{width:100px}.cfc-date-time-picker-header[_ngcontent-%COMP%]   .cfc-date-time-picker-timezone-button[_ngcontent-%COMP%]{line-height:24px;margin:28px 0 0;padding:0 4px;vertical-align:top}.cfc-date-time-picker-header[_ngcontent-%COMP%]   .cfc-date-time-picker-timezone-button[_ngcontent-%COMP%]   .cfc-date-time-picker-timezone-name[_ngcontent-%COMP%]{max-width:48px;overflow:hidden;text-overflow:ellipsis;display:inline-block}@media screen and (pointer:coarse){.cfc-date-time-picker-header[_ngcontent-%COMP%]{padding:0 4px}.cfc-date-time-picker-header[_ngcontent-%COMP%]   .cfc-date-time-picker-timezone-button[_ngcontent-%COMP%]{font-size:16px;margin-top:22px}.cfc-date-time-picker-header[_ngcontent-%COMP%]   .cfc-date-time-picker-timezone-button[_ngcontent-%COMP%]   .cfc-date-time-picker-timezone-name[_ngcontent-%COMP%]{max-width:56px}}.cfc-date-picker-overlay-header[_ngcontent-%COMP%]{margin-bottom:8px}"],
changeDetection:0});
var qHb=["timePicker"],rHb=["calendar"],sHb=class{constructor(a,b){this.dateService=a;this.overlayService=b;this.uniqueTimezonePickerListboxId=`cfc-timezone-picker-list-${_.gv()}`;this.isTimezonePickerOpen=!1}get timezonePickerListboxId(){return this.isTimezonePickerOpen?this.uniqueTimezonePickerListboxId:""}ngAfterViewInit(){var a=this.calendar;a.updateFocusedDate(a.calendarMonth.focusedDate)}onTimezoneSelectionChanged(a){this.dateService.setTimezone(a);this.isTimezonePickerOpen=!1;oHb(this.timePicker)}onClick(a){a.stopPropagation()}inCompactMode(){return this.overlayService.inCompactMode}};
sHb.\u0275fac=function(a){return new (a||sHb)(_.A(nE),_.A(oE))};
sHb.\u0275cmp=_.q({type:sHb,selectors:[["cfc-date-picker-overlay"]],viewQuery:function(a,b){a&1&&(_.Oe(qHb,7),_.Oe(rHb,5));if(a&2){let c;_.Ne(c=_.Qe())&&(b.timePicker=c.first);_.Ne(c=_.Qe())&&(b.calendar=c.first)}},hostBindings:function(a,b){a&1&&_.L("click",function(c){return b.onClick(c)})("click",function(){BGb(b.overlayService)},!1,_.fGb)("keydown",function(c){switch(c.which||c.keyCode){case 27:BGb(b.overlayService),c.preventDefault()}})},decls:11,vars:5,consts:function(){return[["cdkTrapFocus",
"",1,"cfc-date-picker-overlay-container","cfctest-demo-datetime-calendar"],[1,"cfc-date-picker-overlay-header"],[3,"isTimezonePickerOpen","timezonePickerListboxId","isTimezonePickerOpenChange"],["timePicker",""],[1,"cfc-date-picker-overlay-body"],[3,"retainOverlayOnDateSelection",4,"ngIf"],[3,"forDate","selectedTimezone","listboxId","timezoneSelected",4,"ngIf"],[1,"cfc-date-picker-overlay-footer"],["mat-button","","color","primary",1,"cfctest-date-picker-overlay-close-btn",3,"click"],"Close",[1,"cfc-date-picker-clear"],
[3,"retainOverlayOnDateSelection"],["calendar",""],[3,"forDate","selectedTimezone","listboxId","timezoneSelected"]]},template:function(a,b){a&1&&(_.E(0,"div",0)(1,"div",1)(2,"cfc-date-picker-time-picker",2,3),_.L("isTimezonePickerOpenChange",function(c){return b.isTimezonePickerOpen=c}),_.F()(),_.E(4,"div",4),_.P(5,JGb,2,1,"cfc-date-picker-calendar",5),_.P(6,LGb,2,5,"cfc-timezone-picker-list",6),_.F(),_.E(7,"div",7)(8,"button",8),_.L("click",function(){BGb(b.overlayService)}),_.K(9,9),_.F()(),_.I(10,
"div",10),_.F());a&2&&(_.x(2),_.C("isTimezonePickerOpen",b.isTimezonePickerOpen)("timezonePickerListboxId",b.timezonePickerListboxId),_.x(3),_.C("ngIf",!b.isTimezonePickerOpen),_.x(1),_.C("ngIf",b.isTimezonePickerOpen),_.x(2),_.zd("cdkFocusInitial",b.inCompactMode()||null))},dependencies:[_.mx,_.Uu,_.ll,kHb,_.ot,_.lt,_.jt,_.ID,pHb,_.pl],styles:[".cfc-datepicker-dialog mat-dialog-container{padding:0}.cfc-date-picker-overlay-container[_ngcontent-%COMP%]{box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);background-color:#fff;width:312px}.cfc-date-picker-overlay-body[_ngcontent-%COMP%]{height:328px}.cfc-date-picker-overlay-footer[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.12);padding:8px 16px;height:48px}.cfc-date-picker-overlay-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{float:right;margin-right:0}.cfc-date-picker-clear[_ngcontent-%COMP%]{clear:both}cfc-date-time-picker-v2[_nghost-%COMP%]{display:inline}.cfc-date-time-picker-header[_ngcontent-%COMP%]{padding:0 12px}.cfc-date-time-picker-header[_ngcontent-%COMP%]     .mat-form-field, .cfc-date-time-picker-header[_ngcontent-%COMP%]     .mat-form-field-wrapper{margin:0}.cfc-date-time-picker-header[_ngcontent-%COMP%]     .cfc-form-error{margin-top:0;margin-bottom:4px}cfc-date-time-picker-time-picker[_nghost-%COMP%]{display:inline-block}.cfc-date-time-picker-date-input[_ngcontent-%COMP%], .cfc-date-time-picker-time-input[_ngcontent-%COMP%]{display:inline-block;margin:16px 4px 0}.cfc-date-time-picker-date-input[_ngcontent-%COMP%], .cfc-date-time-picker-time-input[_ngcontent-%COMP%]{width:100px}.cfc-date-time-picker-header[_ngcontent-%COMP%]   .cfc-date-time-picker-timezone-button[_ngcontent-%COMP%]{line-height:24px;margin:28px 0 0;padding:0 4px;vertical-align:top}.cfc-date-time-picker-header[_ngcontent-%COMP%]   .cfc-date-time-picker-timezone-button[_ngcontent-%COMP%]   .cfc-date-time-picker-timezone-name[_ngcontent-%COMP%]{max-width:48px;overflow:hidden;text-overflow:ellipsis;display:inline-block}@media screen and (pointer:coarse){.cfc-date-time-picker-header[_ngcontent-%COMP%]{padding:0 4px}.cfc-date-time-picker-header[_ngcontent-%COMP%]   .cfc-date-time-picker-timezone-button[_ngcontent-%COMP%]{font-size:16px;margin-top:22px}.cfc-date-time-picker-header[_ngcontent-%COMP%]   .cfc-date-time-picker-timezone-button[_ngcontent-%COMP%]   .cfc-date-time-picker-timezone-name[_ngcontent-%COMP%]{max-width:56px}}.cfc-date-picker-overlay-header[_ngcontent-%COMP%]{margin-bottom:8px}"],
changeDetection:0});
var tHb,ZGb,uHb;tHb=["datePickerInput"];ZGb=function(a){a.dateService.dateTimezoneChange.pipe(_.Af(a.destroy)).subscribe(b=>{if(b&&(a.value=new _.mE(b.date,b.timezone),a.timezoneSubject.next(WGb(a.dateService)),!b.originModel))a.onChange(a.value)})};uHb=function(a,b){a.ngControl&&a.ngControl.control&&a.ngControl.control.value&&(a.ngControl.control.value.timezone=b)};
_.sE=class extends $Gb{constructor(a,b,c,d,e,f,g,h,l){super(g,"cfc-date-time-picker-v2",a,b,c,d);this.defaultErrorStateMatcher=e;this.timezoneService=f;this.ngControl=g;this.parentForm=h;this.parentFormGroup=l;this.ve={CfcDateTimePicker:54702};this.dateInputFormat=11;this.timezoneService.timezoneDataLoaded.then(()=>{var n=_.bFb();n=this.timezoneService.timezoneByTimezoneId.get(n);this.dateService.localTimezone=n;this.dateService.hasTimezone()||(uHb(this,n),this.dateService.setTimezone(n,!0))})}set useMilliseconds(a){this.dateService.useMilliseconds=
a}get datePickerInput(){return this.inputInternal}get useMilliseconds(){return this.dateService.useMilliseconds}ngOnInit(){super.ngOnInit()}get buttonAriaLabelFormat(){return"{LABEL}Select date and time"}openOverlay(){this.overlayService.openOverlay(sHb)}writeValue(a){if(a)if(a.date&&this.dateService.setDate(a.date,!0),a.timezone)this.dateService.setTimezone(a.timezone,!0);else{if(a=this.dateService.localTimezone)uHb(this,KGb(this.dateService)),this.dateService.setTimezone(a,!0)}else this.dateService.setDate(null,
!0)}};_.sE.\u0275fac=function(a){return new (a||_.sE)(_.A(_.el),_.A(nE),_.A(oE),_.A(_.Me),_.A(_.$x),_.A(_.HD),_.A(_.tw,10),_.A(_.yw,8),_.A(_.Fw,8))};
_.sE.\u0275cmp=_.q({type:_.sE,selectors:[["cfc-date-time-picker-v2"]],viewQuery:function(a,b){a&1&&_.Oe(tHb,7);if(a&2){let c;_.Ne(c=_.Qe())&&(b.inputInternal=c.first)}},hostVars:1,hostBindings:function(a,b){a&2&&_.zd("id",b.id)},inputs:{useMilliseconds:"useMilliseconds"},features:[_.Wd([nE,oE,{provide:_.Ay,useExisting:_.sE}]),_.wd],decls:3,vars:6,consts:[[3,"ve"],[3,"format","isReadonly","disabled","placeholder","ariaLabelPrefix","inputButtonClicked","inputBlurred","inputFocused"],["datePickerInput",
""]],template:function(a,b){a&1&&(_.E(0,"div",0)(1,"cfc-date-picker-input",1,2),_.L("inputButtonClicked",function(){return b.openOverlay()})("inputBlurred",function(){b.onTouched();b.focused=!1})("inputFocused",function(){b.disabled||(b.focused=!0,b.stateChanges.next())}),_.F()());a&2&&(_.C("ve",b.ve.CfcDateTimePicker),_.x(1),_.C("format",b.dateInputFormat)("isReadonly",b.isReadonly)("disabled",b.disabled)("placeholder",b.placeholder)("ariaLabelPrefix",b.ariaLabelPrefix))},dependencies:[_.wt,rE],
styles:[".cfc-datepicker-dialog mat-dialog-container{padding:0}.cfc-date-picker-overlay-container[_ngcontent-%COMP%]{box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);background-color:#fff;width:312px}.cfc-date-picker-overlay-body[_ngcontent-%COMP%]{height:328px}.cfc-date-picker-overlay-footer[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.12);padding:8px 16px;height:48px}.cfc-date-picker-overlay-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{float:right;margin-right:0}.cfc-date-picker-clear[_ngcontent-%COMP%]{clear:both}cfc-date-time-picker-v2[_nghost-%COMP%]{display:inline}.cfc-date-time-picker-header[_ngcontent-%COMP%]{padding:0 12px}.cfc-date-time-picker-header[_ngcontent-%COMP%]     .mat-form-field, .cfc-date-time-picker-header[_ngcontent-%COMP%]     .mat-form-field-wrapper{margin:0}.cfc-date-time-picker-header[_ngcontent-%COMP%]     .cfc-form-error{margin-top:0;margin-bottom:4px}cfc-date-time-picker-time-picker[_nghost-%COMP%]{display:inline-block}.cfc-date-time-picker-date-input[_ngcontent-%COMP%], .cfc-date-time-picker-time-input[_ngcontent-%COMP%]{display:inline-block;margin:16px 4px 0}.cfc-date-time-picker-date-input[_ngcontent-%COMP%], .cfc-date-time-picker-time-input[_ngcontent-%COMP%]{width:100px}.cfc-date-time-picker-header[_ngcontent-%COMP%]   .cfc-date-time-picker-timezone-button[_ngcontent-%COMP%]{line-height:24px;margin:28px 0 0;padding:0 4px;vertical-align:top}.cfc-date-time-picker-header[_ngcontent-%COMP%]   .cfc-date-time-picker-timezone-button[_ngcontent-%COMP%]   .cfc-date-time-picker-timezone-name[_ngcontent-%COMP%]{max-width:48px;overflow:hidden;text-overflow:ellipsis;display:inline-block}@media screen and (pointer:coarse){.cfc-date-time-picker-header[_ngcontent-%COMP%]{padding:0 4px}.cfc-date-time-picker-header[_ngcontent-%COMP%]   .cfc-date-time-picker-timezone-button[_ngcontent-%COMP%]{font-size:16px;margin-top:22px}.cfc-date-time-picker-header[_ngcontent-%COMP%]   .cfc-date-time-picker-timezone-button[_ngcontent-%COMP%]   .cfc-date-time-picker-timezone-name[_ngcontent-%COMP%]{max-width:56px}}.cfc-date-picker-overlay-header[_ngcontent-%COMP%]{margin-bottom:8px}"],
changeDetection:0});
var tE=class{};tE.\u0275fac=function(a){return new (a||tE)};tE.\u0275mod=_.Bc({type:tE});tE.\u0275inj=_.tc({imports:[_.Vu,_.ql,_.Go,_.qt,_.fo,_.Hv]});
var uE=class{};uE.\u0275fac=function(a){return new (a||uE)};uE.\u0275mod=_.Bc({type:uE});uE.\u0275inj=_.tc({imports:[_.ql,_.OB,_.iy,_.gy]});
var vHb;vHb=["datePickerCalendar"];
_.vE=class{constructor(a,b){this.ariaDescriber=a;this.cdr=b;this.ariaLabelPrefix="";this.ve={CfcDatePickerCalendarButton:54704};this.isReadonly=this.disabled=!1;this.destroy=new _.tf}get timezoneName(){return this.timezoneNameInternal}get ariaLabel(){const a=this.ariaLabelPrefix?this.ariaLabelPrefix+" ":"";return(new _.ji(this.picker.buttonAriaLabelFormat)).format({LABEL:a})}ngOnInit(){}ngAfterViewInit(){this.disabled=this.picker.disabled;this.picker.disabledStatusChange.pipe(_.Af(this.destroy)).subscribe(a=>{this.disabled=
a;this.cdr.markForCheck()});this.isReadonly=this.picker.isReadonly;this.picker.readonlyStatusChange.pipe(_.Af(this.destroy)).subscribe(a=>{this.isReadonly=a;this.cdr.markForCheck()});this.picker.timezoneChange.pipe(_.Af(this.destroy)).subscribe(a=>{this.timezoneNameInternal=a;this.cdr.detectChanges()});this.datePickerCalendarButtonRef&&this.ariaDescriber.describe(this.datePickerCalendarButtonRef.nativeElement,"Use arrow keys to navigate dates")}ngOnDestroy(){this.destroy.next()}};
_.vE.\u0275fac=function(a){return new (a||_.vE)(_.A(_.qv),_.A(_.el))};
_.vE.\u0275cmp=_.q({type:_.vE,selectors:[["cfc-date-picker-suffix"]],viewQuery:function(a,b){a&1&&_.Oe(vHb,5,_.ad);if(a&2){let c;_.Ne(c=_.Qe())&&(b.datePickerCalendarButtonRef=c.first)}},inputs:{picker:"picker",ariaLabelPrefix:"ariaLabelPrefix"},decls:2,vars:2,consts:[["class","cfc-date-picker-input-timezone-name",4,"ngIf"],["mat-icon-button","","aria-haspopup","dialog","class","cfc-date-picker-input-icon","type","button",3,"cfcTooltip","cmNativeDisabled","ve","veClick","click",4,"ngIf"],[1,"cfc-date-picker-input-timezone-name"],
["mat-icon-button","","aria-haspopup","dialog","type","button",1,"cfc-date-picker-input-icon",3,"cfcTooltip","cmNativeDisabled","ve","veClick","click"],["datePickerCalendar",""],["icon","calendar","size","small"]],template:function(a,b){a&1&&(_.P(0,MGb,2,1,"span",0),_.P(1,NGb,3,5,"button",1));a&2&&(_.C("ngIf",b.timezoneName),_.x(1),_.C("ngIf",!b.isReadonly))},dependencies:[_.Uu,_.wt,_.ll,_.xo,_.ot,_.mt,_.jt,_.Ev],encapsulation:2,changeDetection:0});
_.wE=class{};_.wE.\u0275fac=function(a){return new (a||_.wE)};_.wE.\u0275mod=_.Bc({type:_.wE});_.wE.\u0275inj=_.tc({imports:[_.Vu,_.ql,_.Go,_.qt,_.Hv]});
_.xE=class{};_.xE.\u0275fac=function(a){return new (a||_.xE)};_.xE.\u0275mod=_.Bc({type:_.xE});_.xE.\u0275inj=_.tc({imports:[_.Cn,_.Vu,_.ql,_.Gv,tE,uE,_.wE,_.Go,_.qt,_.Ap,_.fo,_.wC,_.KD,_.Hv,_.wE]});
var wHb=['(function(){/*\n\n Copyright 2019 Google Inc. All Rights Reserved.\n*/\nvar _codeMirrorAMDLoaderBackup;if(typeof define==="function"&&define.amd){_codeMirrorAMDLoaderBackup={define:define,require:require};define=undefined;require=undefined};/*\n\n Copyright (C) 2017 by Marijn Haverbeke <marijnh@gmail.com> and others\n\n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the "Software"), to deal\n in the Software without restriction, including without limitation the rights\n to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included in\n all copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n THE SOFTWARE.\n*/\n(function(global,factory){typeof exports==="object"&&typeof module!=="undefined"?module.exports=factory():typeof define==="function"&&define.amd?define(factory):(global=global||self,global.CodeMirror=factory())})(this,function(){var userAgent=navigator.userAgent;var platform=navigator.platform;var gecko=/gecko\\/\\d/i.test(userAgent);var ie_upto10=/MSIE \\d/.test(userAgent);var ie_11up=/Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(userAgent);var edge=/Edge\\/(\\d+)/.exec(userAgent);var ie=ie_upto10||ie_11up||\nedge;var ie_version=ie&&(ie_upto10?document.documentMode||6:+(edge||ie_11up)[1]);var webkit=!edge&&/WebKit\\//.test(userAgent);var qtwebkit=webkit&&/Qt\\/\\d+\\.\\d+/.test(userAgent);var chrome=!edge&&/Chrome\\/(\\d+)/.exec(userAgent);var chrome_version=chrome&&+chrome[1];var presto=/Opera\\//.test(userAgent);var safari=/Apple Computer/.test(navigator.vendor);var mac_geMountainLion=/Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D/.test(userAgent);var phantom=/PhantomJS/.test(userAgent);var ios=safari&&(/Mobile\\/\\w+/.test(userAgent)||\nnavigator.maxTouchPoints>2);var android=/Android/.test(userAgent);var mobile=ios||android||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(userAgent);var mac=ios||/Mac/.test(platform);var chromeOS=/\\bCrOS\\b/.test(userAgent);var windows=/win/i.test(platform);var presto_version=presto&&userAgent.match(/Version\\/(\\d*\\.\\d*)/);if(presto_version)presto_version=Number(presto_version[1]);if(presto_version&&presto_version>=15){presto=false;webkit=true}var flipCtrlCmd=mac&&(qtwebkit||presto&&(presto_version==\nnull||presto_version<12.11));var captureRightClick=gecko||ie&&ie_version>=9;function classTest(cls){return new RegExp("(^|\\\\s)"+cls+"(?:$|\\\\s)\\\\s*")}var rmClass=function(node,cls){var current=node.className;var match=classTest(cls).exec(current);if(match){var after=current.slice(match.index+match[0].length);node.className=current.slice(0,match.index)+(after?match[1]+after:"")}};function removeChildren(e){for(var count=e.childNodes.length;count>0;--count)e.removeChild(e.firstChild);return e}function removeChildrenAndAdd(parent,\ne){return removeChildren(parent).appendChild(e)}function elt(tag,content,className,style){var e=document.createElement(tag);if(className)e.className=className;if(style)e.style.cssText=style;if(typeof content=="string")e.appendChild(document.createTextNode(content));else if(content)for(var i=0;i<content.length;++i)e.appendChild(content[i]);return e}function eltP(tag,content,className,style){var e=elt(tag,content,className,style);e.setAttribute("role","presentation");return e}var range;if(document.createRange)range=\nfunction(node,start,end,endNode){var r=document.createRange();r.setEnd(endNode||node,end);r.setStart(node,start);return r};else range=function(node,start,end){var r=document.body.createTextRange();try{r.moveToElementText(node.parentNode)}catch(e){return r}r.collapse(true);r.moveEnd("character",end);r.moveStart("character",start);return r};function contains(parent,child){if(child.nodeType==3)child=child.parentNode;if(parent.contains)return parent.contains(child);do{if(child.nodeType==11)child=child.host;\nif(child==parent)return true}while(child=child.parentNode)}function activeElt(){var activeElement;try{activeElement=document.activeElement}catch(e){activeElement=document.body||null}while(activeElement&&activeElement.shadowRoot&&activeElement.shadowRoot.activeElement)activeElement=activeElement.shadowRoot.activeElement;return activeElement}function addClass(node,cls){var current=node.className;if(!classTest(cls).test(current))node.className+=(current?" ":"")+cls}function joinClasses(a,b){var as=a.split(" ");\nfor(var i=0;i<as.length;i++)if(as[i]&&!classTest(as[i]).test(b))b+=" "+as[i];return b}var selectInput=function(node){node.select()};if(ios)selectInput=function(node){node.selectionStart=0;node.selectionEnd=node.value.length};else if(ie)selectInput=function(node){try{node.select()}catch(_e){}};function bind(f){var args=Array.prototype.slice.call(arguments,1);return function(){return f.apply(null,args)}}function copyObj(obj,target,overwrite){if(!target)target={};for(var prop in obj)if(obj.hasOwnProperty(prop)&&\n(overwrite!==false||!target.hasOwnProperty(prop)))target[prop]=obj[prop];return target}function countColumn(string,end,tabSize,startIndex,startValue){if(end==null){end=string.search(/[^\\s\\u00a0]/);if(end==-1)end=string.length}for(var i=startIndex||0,n=startValue||0;;){var nextTab=string.indexOf("\\t",i);if(nextTab<0||nextTab>=end)return n+(end-i);n+=nextTab-i;n+=tabSize-n%tabSize;i=nextTab+1}}var Delayed=function(){this.id=null;this.f=null;this.time=0;this.handler=bind(this.onTimeout,this)};Delayed.prototype.onTimeout=\nfunction(self){self.id=0;if(self.time<=+new Date)self.f();else setTimeout(self.handler,self.time-+new Date)};Delayed.prototype.set=function(ms,f){this.f=f;var time=+new Date+ms;if(!this.id||time<this.time){clearTimeout(this.id);this.id=setTimeout(this.handler,ms);this.time=time}};function indexOf(array,elt){for(var i=0;i<array.length;++i)if(array[i]==elt)return i;return-1}var scrollerGap=50;var Pass={toString:function(){return"CodeMirror.Pass"}};var sel_dontScroll={scroll:false},sel_mouse={origin:"*mouse"},\nsel_move={origin:"+move"};function findColumn(string,goal,tabSize){for(var pos=0,col=0;;){var nextTab=string.indexOf("\\t",pos);if(nextTab==-1)nextTab=string.length;var skipped=nextTab-pos;if(nextTab==string.length||col+skipped>=goal)return pos+Math.min(skipped,goal-col);col+=nextTab-pos;col+=tabSize-col%tabSize;pos=nextTab+1;if(col>=goal)return pos}}var spaceStrs=[""];function spaceStr(n){while(spaceStrs.length<=n)spaceStrs.push(lst(spaceStrs)+" ");return spaceStrs[n]}function lst(arr){return arr[arr.length-\n1]}function map(array,f){var out=[];for(var i=0;i<array.length;i++)out[i]=f(array[i],i);return out}function insertSorted(array,value,score){var pos=0,priority=score(value);while(pos<array.length&&score(array[pos])<=priority)pos++;array.splice(pos,0,value)}function nothing(){}function createObj(base,props){var inst;if(Object.create)inst=Object.create(base);else{nothing.prototype=base;inst=new nothing}if(props)copyObj(props,inst);return inst}var nonASCIISingleCaseWordChar=/[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/;\nfunction isWordCharBasic(ch){return/\\w/.test(ch)||ch>"\\u0080"&&(ch.toUpperCase()!=ch.toLowerCase()||nonASCIISingleCaseWordChar.test(ch))}function isWordChar(ch,helper){if(!helper)return isWordCharBasic(ch);if(helper.source.indexOf("\\\\w")>-1&&isWordCharBasic(ch))return true;return helper.test(ch)}function isEmpty(obj){for(var n in obj)if(obj.hasOwnProperty(n)&&obj[n])return false;return true}var extendingChars=/[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0900-\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039\\u103a\\u103d\\u103e\\u1058\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108d\\u109d\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80\\u1b81\\u1ba2-\\u1ba5\\u1ba8\\u1ba9\\u1c2c-\\u1c33\\u1c36\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1dc0-\\u1de6\\u1dfd-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\ua672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua825\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\uaa29-\\uaa2e\\uaa31\\uaa32\\uaa35\\uaa36\\uaa43\\uaa4c\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe5\\uabe8\\uabed\\udc00-\\udfff\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]/;\nfunction isExtendingChar(ch){return ch.charCodeAt(0)>=768&&extendingChars.test(ch)}function skipExtendingChars(str,pos,dir){while((dir<0?pos>0:pos<str.length)&&isExtendingChar(str.charAt(pos)))pos+=dir;return pos}function findFirst(pred,from,to){var dir=from>to?-1:1;for(;;){if(from==to)return from;var midF=(from+to)/2,mid=dir<0?Math.ceil(midF):Math.floor(midF);if(mid==from)return pred(mid)?from:to;if(pred(mid))to=mid;else from=mid+dir}}function iterateBidiSections(order,from,to,f){if(!order)return f(from,\nto,"ltr",0);var found=false;for(var i=0;i<order.length;++i){var part=order[i];if(part.from<to&&part.to>from||from==to&&part.to==from){f(Math.max(part.from,from),Math.min(part.to,to),part.level==1?"rtl":"ltr",i);found=true}}if(!found)f(from,to,"ltr")}var bidiOther=null;function getBidiPartAt(order,ch,sticky){var found;bidiOther=null;for(var i=0;i<order.length;++i){var cur=order[i];if(cur.from<ch&&cur.to>ch)return i;if(cur.to==ch)if(cur.from!=cur.to&&sticky=="before")found=i;else bidiOther=i;if(cur.from==\nch)if(cur.from!=cur.to&&sticky!="before")found=i;else bidiOther=i}return found!=null?found:bidiOther}var bidiOrdering=function(){var lowTypes="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN";var arabicTypes="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";\nfunction charType(code){if(code<=247)return lowTypes.charAt(code);else if(1424<=code&&code<=1524)return"R";else if(1536<=code&&code<=1785)return arabicTypes.charAt(code-1536);else if(1774<=code&&code<=2220)return"r";else if(8192<=code&&code<=8203)return"w";else if(code==8204)return"b";else return"L"}var bidiRE=/[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/;var isNeutral=/[stwN]/,isStrong=/[LRr]/,countsAsLeft=/[Lb1n]/,countsAsNum=/[1n]/;function BidiSpan(level,from,to){this.level=level;this.from=from;\nthis.to=to}return function(str,direction){var outerType=direction=="ltr"?"L":"R";if(str.length==0||direction=="ltr"&&!bidiRE.test(str))return false;var len=str.length,types=[];for(var i=0;i<len;++i)types.push(charType(str.charCodeAt(i)));for(var i$1=0,prev=outerType;i$1<len;++i$1){var type=types[i$1];if(type=="m")types[i$1]=prev;else prev=type}for(var i$2=0,cur=outerType;i$2<len;++i$2){var type$1=types[i$2];if(type$1=="1"&&cur=="r")types[i$2]="n";else if(isStrong.test(type$1)){cur=type$1;if(type$1==\n"r")types[i$2]="R"}}for(var i$3=1,prev$1=types[0];i$3<len-1;++i$3){var type$2=types[i$3];if(type$2=="+"&&prev$1=="1"&&types[i$3+1]=="1")types[i$3]="1";else if(type$2==","&&prev$1==types[i$3+1]&&(prev$1=="1"||prev$1=="n"))types[i$3]=prev$1;prev$1=type$2}for(var i$4=0;i$4<len;++i$4){var type$3=types[i$4];if(type$3==",")types[i$4]="N";else if(type$3=="%"){var end=void 0;for(end=i$4+1;end<len&&types[end]=="%";++end);var replace=i$4&&types[i$4-1]=="!"||end<len&&types[end]=="1"?"1":"N";for(var j=i$4;j<\nend;++j)types[j]=replace;i$4=end-1}}for(var i$5=0,cur$1=outerType;i$5<len;++i$5){var type$4=types[i$5];if(cur$1=="L"&&type$4=="1")types[i$5]="L";else if(isStrong.test(type$4))cur$1=type$4}for(var i$6=0;i$6<len;++i$6)if(isNeutral.test(types[i$6])){var end$1=void 0;for(end$1=i$6+1;end$1<len&&isNeutral.test(types[end$1]);++end$1);var before=(i$6?types[i$6-1]:outerType)=="L";var after=(end$1<len?types[end$1]:outerType)=="L";var replace$1=before==after?before?"L":"R":outerType;for(var j$1=i$6;j$1<end$1;++j$1)types[j$1]=\nreplace$1;i$6=end$1-1}var order=[],m;for(var i$7=0;i$7<len;)if(countsAsLeft.test(types[i$7])){var start=i$7;for(++i$7;i$7<len&&countsAsLeft.test(types[i$7]);++i$7);order.push(new BidiSpan(0,start,i$7))}else{var pos=i$7,at=order.length,isRTL=direction=="rtl"?1:0;for(++i$7;i$7<len&&types[i$7]!="L";++i$7);for(var j$2=pos;j$2<i$7;)if(countsAsNum.test(types[j$2])){if(pos<j$2){order.splice(at,0,new BidiSpan(1,pos,j$2));at+=isRTL}var nstart=j$2;for(++j$2;j$2<i$7&&countsAsNum.test(types[j$2]);++j$2);order.splice(at,\n0,new BidiSpan(2,nstart,j$2));at+=isRTL;pos=j$2}else++j$2;if(pos<i$7)order.splice(at,0,new BidiSpan(1,pos,i$7))}if(direction=="ltr"){if(order[0].level==1&&(m=str.match(/^\\s+/))){order[0].from=m[0].length;order.unshift(new BidiSpan(0,0,m[0].length))}if(lst(order).level==1&&(m=str.match(/\\s+$/))){lst(order).to-=m[0].length;order.push(new BidiSpan(0,len-m[0].length,len))}}return direction=="rtl"?order.reverse():order}}();function getOrder(line,direction){var order=line.order;if(order==null)order=line.order=\nbidiOrdering(line.text,direction);return order}var noHandlers=[];var on=function(emitter,type,f){if(emitter.addEventListener)emitter.addEventListener(type,f,false);else if(emitter.attachEvent)emitter.attachEvent("on"+type,f);else{var map=emitter._handlers||(emitter._handlers={});map[type]=(map[type]||noHandlers).concat(f)}};function getHandlers(emitter,type){return emitter._handlers&&emitter._handlers[type]||noHandlers}function off(emitter,type,f){if(emitter.removeEventListener)emitter.removeEventListener(type,\nf,false);else if(emitter.detachEvent)emitter.detachEvent("on"+type,f);else{var map=emitter._handlers,arr=map&&map[type];if(arr){var index=indexOf(arr,f);if(index>-1)map[type]=arr.slice(0,index).concat(arr.slice(index+1))}}}function signal(emitter,type){var handlers=getHandlers(emitter,type);if(!handlers.length)return;var args=Array.prototype.slice.call(arguments,2);for(var i=0;i<handlers.length;++i)handlers[i].apply(null,args)}function signalDOMEvent(cm,e,override){if(typeof e=="string")e={type:e,\npreventDefault:function(){this.defaultPrevented=true}};signal(cm,override||e.type,cm,e);return e_defaultPrevented(e)||e.codemirrorIgnore}function signalCursorActivity(cm){var arr=cm._handlers&&cm._handlers.cursorActivity;if(!arr)return;var set=cm.curOp.cursorActivityHandlers||(cm.curOp.cursorActivityHandlers=[]);for(var i=0;i<arr.length;++i)if(indexOf(set,arr[i])==-1)set.push(arr[i])}function hasHandler(emitter,type){return getHandlers(emitter,type).length>0}function eventMixin(ctor){ctor.prototype.on=\nfunction(type,f){on(this,type,f)};ctor.prototype.off=function(type,f){off(this,type,f)}}function e_preventDefault(e){if(e.preventDefault)e.preventDefault();else e.returnValue=false}function e_stopPropagation(e){if(e.stopPropagation)e.stopPropagation();else e.cancelBubble=true}function e_defaultPrevented(e){return e.defaultPrevented!=null?e.defaultPrevented:e.returnValue==false}function e_stop(e){e_preventDefault(e);e_stopPropagation(e)}function e_target(e){return e.target||e.srcElement}function e_button(e){var b=\ne.which;if(b==null)if(e.button&1)b=1;else if(e.button&2)b=3;else if(e.button&4)b=2;if(mac&&e.ctrlKey&&b==1)b=3;return b}var dragAndDrop=function(){if(ie&&ie_version<9)return false;var div=elt("div");return"draggable"in div||"dragDrop"in div}();var zwspSupported;function zeroWidthElement(measure){if(zwspSupported==null){var test=elt("span","\\u200b");removeChildrenAndAdd(measure,elt("span",[test,document.createTextNode("x")]));if(measure.firstChild.offsetHeight!=0)zwspSupported=test.offsetWidth<=1&&\ntest.offsetHeight>2&&!(ie&&ie_version<8)}var node=zwspSupported?elt("span","\\u200b"):elt("span","\\u00a0",null,"display: inline-block; width: 1px; margin-right: -1px");node.setAttribute("cm-text","");return node}var badBidiRects;function hasBadBidiRects(measure){if(badBidiRects!=null)return badBidiRects;var txt=removeChildrenAndAdd(measure,document.createTextNode("A\\u062eA"));var r0=range(txt,0,1).getBoundingClientRect();var r1=range(txt,1,2).getBoundingClientRect();removeChildren(measure);if(!r0||\nr0.left==r0.right)return false;return badBidiRects=r1.right-r0.right<3}var splitLinesAuto="\\n\\nb".split(/\\n/).length!=3?function(string){var pos=0,result=[],l=string.length;while(pos<=l){var nl=string.indexOf("\\n",pos);if(nl==-1)nl=string.length;var line=string.slice(pos,string.charAt(nl-1)=="\\r"?nl-1:nl);var rt=line.indexOf("\\r");if(rt!=-1){result.push(line.slice(0,rt));pos+=rt+1}else{result.push(line);pos=nl+1}}return result}:function(string){return string.split(/\\r\\n?|\\n/)};var hasSelection=window.getSelection?\nfunction(te){try{return te.selectionStart!=te.selectionEnd}catch(e){return false}}:function(te){var range;try{range=te.ownerDocument.selection.createRange()}catch(e){}if(!range||range.parentElement()!=te)return false;return range.compareEndPoints("StartToEnd",range)!=0};var hasCopyEvent=function(){var e=elt("div");if("oncopy"in e)return true;var policy={createScript:function(ignored){return"return;"}};if(typeof trustedTypes!=="undefined")policy=trustedTypes.createPolicy("codemirror#return",policy);\ne.setAttribute("oncopy",policy.createScript(""));return typeof e.oncopy=="function"}();var badZoomedRects=null;function hasBadZoomedRects(measure){if(badZoomedRects!=null)return badZoomedRects;var node=removeChildrenAndAdd(measure,elt("span","x"));var normal=node.getBoundingClientRect();var fromRange=range(node,0,1).getBoundingClientRect();return badZoomedRects=Math.abs(normal.left-fromRange.left)>1}var modes={},mimeModes={};function defineMode(name,mode){if(arguments.length>2)mode.dependencies=Array.prototype.slice.call(arguments,\n2);modes[name]=mode}function defineMIME(mime,spec){mimeModes[mime]=spec}function resolveMode(spec){if(typeof spec=="string"&&mimeModes.hasOwnProperty(spec))spec=mimeModes[spec];else if(spec&&typeof spec.name=="string"&&mimeModes.hasOwnProperty(spec.name)){var found=mimeModes[spec.name];if(typeof found=="string")found={name:found};spec=createObj(found,spec);spec.name=found.name}else if(typeof spec=="string"&&/^[\\w\\-]+\\/[\\w\\-]+\\+xml$/.test(spec))return resolveMode("application/xml");else if(typeof spec==\n"string"&&/^[\\w\\-]+\\/[\\w\\-]+\\+json$/.test(spec))return resolveMode("application/json");if(typeof spec=="string")return{name:spec};else return spec||{name:"null"}}function getMode(options,spec){spec=resolveMode(spec);var mfactory=modes[spec.name];if(!mfactory)return getMode(options,"text/plain");var modeObj=mfactory(options,spec);if(modeExtensions.hasOwnProperty(spec.name)){var exts=modeExtensions[spec.name];for(var prop in exts){if(!exts.hasOwnProperty(prop))continue;if(modeObj.hasOwnProperty(prop))modeObj["_"+\nprop]=modeObj[prop];modeObj[prop]=exts[prop]}}modeObj.name=spec.name;if(spec.helperType)modeObj.helperType=spec.helperType;if(spec.modeProps)for(var prop$1 in spec.modeProps)modeObj[prop$1]=spec.modeProps[prop$1];return modeObj}var modeExtensions={};function extendMode(mode,properties){var exts=modeExtensions.hasOwnProperty(mode)?modeExtensions[mode]:modeExtensions[mode]={};copyObj(properties,exts)}function copyState(mode,state){if(state===true)return state;if(mode.copyState)return mode.copyState(state);\nvar nstate={};for(var n in state){var val=state[n];if(val instanceof Array)val=val.concat([]);nstate[n]=val}return nstate}function innerMode(mode,state){var info;while(mode.innerMode){info=mode.innerMode(state);if(!info||info.mode==mode)break;state=info.state;mode=info.mode}return info||{mode:mode,state:state}}function startState(mode,a1,a2){return mode.startState?mode.startState(a1,a2):true}var StringStream=function(string,tabSize,lineOracle){this.pos=this.start=0;this.string=string;this.tabSize=\ntabSize||8;this.lastColumnPos=this.lastColumnValue=0;this.lineStart=0;this.lineOracle=lineOracle};StringStream.prototype.eol=function(){return this.pos>=this.string.length};StringStream.prototype.sol=function(){return this.pos==this.lineStart};StringStream.prototype.peek=function(){return this.string.charAt(this.pos)||undefined};StringStream.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)};StringStream.prototype.eat=function(match){var ch=this.string.charAt(this.pos);\nvar ok;if(typeof match=="string")ok=ch==match;else ok=ch&&(match.test?match.test(ch):match(ch));if(ok){++this.pos;return ch}};StringStream.prototype.eatWhile=function(match){var start=this.pos;while(this.eat(match));return this.pos>start};StringStream.prototype.eatSpace=function(){var start=this.pos;while(/[\\s\\u00a0]/.test(this.string.charAt(this.pos)))++this.pos;return this.pos>start};StringStream.prototype.skipToEnd=function(){this.pos=this.string.length};StringStream.prototype.skipTo=function(ch){var found=\nthis.string.indexOf(ch,this.pos);if(found>-1){this.pos=found;return true}};StringStream.prototype.backUp=function(n){this.pos-=n};StringStream.prototype.column=function(){if(this.lastColumnPos<this.start){this.lastColumnValue=countColumn(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue);this.lastColumnPos=this.start}return this.lastColumnValue-(this.lineStart?countColumn(this.string,this.lineStart,this.tabSize):0)};StringStream.prototype.indentation=function(){return countColumn(this.string,\nnull,this.tabSize)-(this.lineStart?countColumn(this.string,this.lineStart,this.tabSize):0)};StringStream.prototype.match=function(pattern,consume,caseInsensitive){if(typeof pattern=="string"){var cased=function(str){return caseInsensitive?str.toLowerCase():str};var substr=this.string.substr(this.pos,pattern.length);if(cased(substr)==cased(pattern)){if(consume!==false)this.pos+=pattern.length;return true}}else{var match=this.string.slice(this.pos).match(pattern);if(match&&match.index>0)return null;\nif(match&&consume!==false)this.pos+=match[0].length;return match}};StringStream.prototype.current=function(){return this.string.slice(this.start,this.pos)};StringStream.prototype.hideFirstChars=function(n,inner){this.lineStart+=n;try{return inner()}finally{this.lineStart-=n}};StringStream.prototype.lookAhead=function(n){var oracle=this.lineOracle;return oracle&&oracle.lookAhead(n)};StringStream.prototype.baseToken=function(){var oracle=this.lineOracle;return oracle&&oracle.baseToken(this.pos)};function getLine(doc,\nn){n-=doc.first;if(n<0||n>=doc.size)throw new Error("There is no line "+(n+doc.first)+" in the document.");var chunk=doc;while(!chunk.lines)for(var i=0;;++i){var child=chunk.children[i],sz=child.chunkSize();if(n<sz){chunk=child;break}n-=sz}return chunk.lines[n]}function getBetween(doc,start,end){var out=[],n=start.line;doc.iter(start.line,end.line+1,function(line){var text=line.text;if(n==end.line)text=text.slice(0,end.ch);if(n==start.line)text=text.slice(start.ch);out.push(text);++n});return out}\nfunction getLines(doc,from,to){var out=[];doc.iter(from,to,function(line){out.push(line.text)});return out}function updateLineHeight(line,height){var diff=height-line.height;if(diff)for(var n=line;n;n=n.parent)n.height+=diff}function lineNo(line){if(line.parent==null)return null;var cur=line.parent,no=indexOf(cur.lines,line);for(var chunk=cur.parent;chunk;cur=chunk,chunk=chunk.parent)for(var i=0;;++i){if(chunk.children[i]==cur)break;no+=chunk.children[i].chunkSize()}return no+cur.first}function lineAtHeight(chunk,\nh){var n=chunk.first;outer:do{for(var i$1=0;i$1<chunk.children.length;++i$1){var child=chunk.children[i$1],ch=child.height;if(h<ch){chunk=child;continue outer}h-=ch;n+=child.chunkSize()}return n}while(!chunk.lines);var i=0;for(;i<chunk.lines.length;++i){var line=chunk.lines[i],lh=line.height;if(h<lh)break;h-=lh}return n+i}function isLine(doc,l){return l>=doc.first&&l<doc.first+doc.size}function lineNumberFor(options,i){return String(options.lineNumberFormatter(i+options.firstLineNumber))}function Pos(line,\nch,sticky){if(sticky===void 0)sticky=null;if(!(this instanceof Pos))return new Pos(line,ch,sticky);this.line=line;this.ch=ch;this.sticky=sticky}function cmp(a,b){return a.line-b.line||a.ch-b.ch}function equalCursorPos(a,b){return a.sticky==b.sticky&&cmp(a,b)==0}function copyPos(x){return Pos(x.line,x.ch)}function maxPos(a,b){return cmp(a,b)<0?b:a}function minPos(a,b){return cmp(a,b)<0?a:b}function clipLine(doc,n){return Math.max(doc.first,Math.min(n,doc.first+doc.size-1))}function clipPos(doc,pos){if(pos.line<\ndoc.first)return Pos(doc.first,0);var last=doc.first+doc.size-1;if(pos.line>last)return Pos(last,getLine(doc,last).text.length);return clipToLen(pos,getLine(doc,pos.line).text.length)}function clipToLen(pos,linelen){var ch=pos.ch;if(ch==null||ch>linelen)return Pos(pos.line,linelen);else if(ch<0)return Pos(pos.line,0);else return pos}function clipPosArray(doc,array){var out=[];for(var i=0;i<array.length;i++)out[i]=clipPos(doc,array[i]);return out}var SavedContext=function(state,lookAhead){this.state=\nstate;this.lookAhead=lookAhead};var Context=function(doc,state,line,lookAhead){this.state=state;this.doc=doc;this.line=line;this.maxLookAhead=lookAhead||0;this.baseTokens=null;this.baseTokenPos=1};Context.prototype.lookAhead=function(n){var line=this.doc.getLine(this.line+n);if(line!=null&&n>this.maxLookAhead)this.maxLookAhead=n;return line};Context.prototype.baseToken=function(n){if(!this.baseTokens)return null;while(this.baseTokens[this.baseTokenPos]<=n)this.baseTokenPos+=2;var type=this.baseTokens[this.baseTokenPos+\n1];return{type:type&&type.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-n}};Context.prototype.nextLine=function(){this.line++;if(this.maxLookAhead>0)this.maxLookAhead--};Context.fromSaved=function(doc,saved,line){if(saved instanceof SavedContext)return new Context(doc,copyState(doc.mode,saved.state),line,saved.lookAhead);else return new Context(doc,copyState(doc.mode,saved),line)};Context.prototype.save=function(copy){var state=copy!==false?copyState(this.doc.mode,this.state):\nthis.state;return this.maxLookAhead>0?new SavedContext(state,this.maxLookAhead):state};function highlightLine(cm,line,context,forceToEnd){var st=[cm.state.modeGen],lineClasses={};runMode(cm,line.text,cm.doc.mode,context,function(end,style){return st.push(end,style)},lineClasses,forceToEnd);var state=context.state;var loop=function(o){context.baseTokens=st;var overlay=cm.state.overlays[o],i=1,at=0;context.state=true;runMode(cm,line.text,overlay.mode,context,function(end,style){var start=i;while(at<\nend){var i_end=st[i];if(i_end>end)st.splice(i,1,end,st[i+1],i_end);i+=2;at=Math.min(end,i_end)}if(!style)return;if(overlay.opaque){st.splice(start,i-start,end,"overlay "+style);i=start+2}else for(;start<i;start+=2){var cur=st[start+1];st[start+1]=(cur?cur+" ":"")+"overlay "+style}},lineClasses);context.state=state;context.baseTokens=null;context.baseTokenPos=1};for(var o=0;o<cm.state.overlays.length;++o)loop(o);return{styles:st,classes:lineClasses.bgClass||lineClasses.textClass?lineClasses:null}}\nfunction getLineStyles(cm,line,updateFrontier){if(!line.styles||line.styles[0]!=cm.state.modeGen){var context=getContextBefore(cm,lineNo(line));var resetState=line.text.length>cm.options.maxHighlightLength&&copyState(cm.doc.mode,context.state);var result=highlightLine(cm,line,context);if(resetState)context.state=resetState;line.stateAfter=context.save(!resetState);line.styles=result.styles;if(result.classes)line.styleClasses=result.classes;else if(line.styleClasses)line.styleClasses=null;if(updateFrontier===\ncm.doc.highlightFrontier)cm.doc.modeFrontier=Math.max(cm.doc.modeFrontier,++cm.doc.highlightFrontier)}return line.styles}function getContextBefore(cm,n,precise){var doc=cm.doc,display=cm.display;if(!doc.mode.startState)return new Context(doc,true,n);var start=findStartLine(cm,n,precise);var saved=start>doc.first&&getLine(doc,start-1).stateAfter;var context=saved?Context.fromSaved(doc,saved,start):new Context(doc,startState(doc.mode),start);doc.iter(start,n,function(line){processLine(cm,line.text,\ncontext);var pos=context.line;line.stateAfter=pos==n-1||pos%5==0||pos>=display.viewFrom&&pos<display.viewTo?context.save():null;context.nextLine()});if(precise)doc.modeFrontier=context.line;return context}function processLine(cm,text,context,startAt){var mode=cm.doc.mode;var stream=new StringStream(text,cm.options.tabSize,context);stream.start=stream.pos=startAt||0;if(text=="")callBlankLine(mode,context.state);while(!stream.eol()){readToken(mode,stream,context.state);stream.start=stream.pos}}function callBlankLine(mode,\nstate){if(mode.blankLine)return mode.blankLine(state);if(!mode.innerMode)return;var inner=innerMode(mode,state);if(inner.mode.blankLine)return inner.mode.blankLine(inner.state)}function readToken(mode,stream,state,inner){for(var i=0;i<10;i++){if(inner)inner[0]=innerMode(mode,state).mode;var style=mode.token(stream,state);if(stream.pos>stream.start)return style}throw new Error("Mode "+mode.name+" failed to advance stream.");}var Token=function(stream,type,state){this.start=stream.start;this.end=stream.pos;\nthis.string=stream.current();this.type=type||null;this.state=state};function takeToken(cm,pos,precise,asArray){var doc=cm.doc,mode=doc.mode,style;pos=clipPos(doc,pos);var line=getLine(doc,pos.line),context=getContextBefore(cm,pos.line,precise);var stream=new StringStream(line.text,cm.options.tabSize,context),tokens;if(asArray)tokens=[];while((asArray||stream.pos<pos.ch)&&!stream.eol()){stream.start=stream.pos;style=readToken(mode,stream,context.state);if(asArray)tokens.push(new Token(stream,style,\ncopyState(doc.mode,context.state)))}return asArray?tokens:new Token(stream,style,context.state)}function extractLineClasses(type,output){if(type)for(;;){var lineClass=type.match(/(?:^|\\s+)line-(background-)?(\\S+)/);if(!lineClass)break;type=type.slice(0,lineClass.index)+type.slice(lineClass.index+lineClass[0].length);var prop=lineClass[1]?"bgClass":"textClass";if(output[prop]==null)output[prop]=lineClass[2];else if(!(new RegExp("(?:^|\\\\s)"+lineClass[2]+"(?:$|\\\\s)")).test(output[prop]))output[prop]+=\n" "+lineClass[2]}return type}function runMode(cm,text,mode,context,f,lineClasses,forceToEnd){var flattenSpans=mode.flattenSpans;if(flattenSpans==null)flattenSpans=cm.options.flattenSpans;var curStart=0,curStyle=null;var stream=new StringStream(text,cm.options.tabSize,context),style;var inner=cm.options.addModeClass&&[null];if(text=="")extractLineClasses(callBlankLine(mode,context.state),lineClasses);while(!stream.eol()){if(stream.pos>cm.options.maxHighlightLength){flattenSpans=false;if(forceToEnd)processLine(cm,\ntext,context,stream.pos);stream.pos=text.length;style=null}else style=extractLineClasses(readToken(mode,stream,context.state,inner),lineClasses);if(inner){var mName=inner[0].name;if(mName)style="m-"+(style?mName+" "+style:mName)}if(!flattenSpans||curStyle!=style){while(curStart<stream.start){curStart=Math.min(stream.start,curStart+5E3);f(curStart,curStyle)}curStyle=style}stream.start=stream.pos}while(curStart<stream.pos){var pos=Math.min(stream.pos,curStart+5E3);f(pos,curStyle);curStart=pos}}function findStartLine(cm,\nn,precise){var minindent,minline,doc=cm.doc;var lim=precise?-1:n-(cm.doc.mode.innerMode?1E3:100);for(var search=n;search>lim;--search){if(search<=doc.first)return doc.first;var line=getLine(doc,search-1),after=line.stateAfter;if(after&&(!precise||search+(after instanceof SavedContext?after.lookAhead:0)<=doc.modeFrontier))return search;var indented=countColumn(line.text,null,cm.options.tabSize);if(minline==null||minindent>indented){minline=search-1;minindent=indented}}return minline}function retreatFrontier(doc,\nn){doc.modeFrontier=Math.min(doc.modeFrontier,n);if(doc.highlightFrontier<n-10)return;var start=doc.first;for(var line=n-1;line>start;line--){var saved=getLine(doc,line).stateAfter;if(saved&&(!(saved instanceof SavedContext)||line+saved.lookAhead<n)){start=line+1;break}}doc.highlightFrontier=Math.min(doc.highlightFrontier,start)}var sawReadOnlySpans=false,sawCollapsedSpans=false;function seeReadOnlySpans(){sawReadOnlySpans=true}function seeCollapsedSpans(){sawCollapsedSpans=true}function MarkedSpan(marker,\nfrom,to){this.marker=marker;this.from=from;this.to=to}function getMarkedSpanFor(spans,marker){if(spans)for(var i=0;i<spans.length;++i){var span=spans[i];if(span.marker==marker)return span}}function removeMarkedSpan(spans,span){var r;for(var i=0;i<spans.length;++i)if(spans[i]!=span)(r||(r=[])).push(spans[i]);return r}function addMarkedSpan(line,span,op){var inThisOp=op&&window.WeakSet&&(op.markedSpans||(op.markedSpans=new WeakSet));if(inThisOp&&line.markedSpans&&inThisOp.has(line.markedSpans))line.markedSpans.push(span);\nelse{line.markedSpans=line.markedSpans?line.markedSpans.concat([span]):[span];if(inThisOp)inThisOp.add(line.markedSpans)}span.marker.attachLine(line)}function markedSpansBefore(old,startCh,isInsert){var nw;if(old)for(var i=0;i<old.length;++i){var span=old[i],marker=span.marker;var startsBefore=span.from==null||(marker.inclusiveLeft?span.from<=startCh:span.from<startCh);if(startsBefore||span.from==startCh&&marker.type=="bookmark"&&(!isInsert||!span.marker.insertLeft)){var endsAfter=span.to==null||\n(marker.inclusiveRight?span.to>=startCh:span.to>startCh);(nw||(nw=[])).push(new MarkedSpan(marker,span.from,endsAfter?null:span.to))}}return nw}function markedSpansAfter(old,endCh,isInsert){var nw;if(old)for(var i=0;i<old.length;++i){var span=old[i],marker=span.marker;var endsAfter=span.to==null||(marker.inclusiveRight?span.to>=endCh:span.to>endCh);if(endsAfter||span.from==endCh&&marker.type=="bookmark"&&(!isInsert||span.marker.insertLeft)){var startsBefore=span.from==null||(marker.inclusiveLeft?\nspan.from<=endCh:span.from<endCh);(nw||(nw=[])).push(new MarkedSpan(marker,startsBefore?null:span.from-endCh,span.to==null?null:span.to-endCh))}}return nw}function stretchSpansOverChange(doc,change){if(change.full)return null;var oldFirst=isLine(doc,change.from.line)&&getLine(doc,change.from.line).markedSpans;var oldLast=isLine(doc,change.to.line)&&getLine(doc,change.to.line).markedSpans;if(!oldFirst&&!oldLast)return null;var startCh=change.from.ch,endCh=change.to.ch,isInsert=cmp(change.from,change.to)==\n0;var first=markedSpansBefore(oldFirst,startCh,isInsert);var last=markedSpansAfter(oldLast,endCh,isInsert);var sameLine=change.text.length==1,offset=lst(change.text).length+(sameLine?startCh:0);if(first)for(var i=0;i<first.length;++i){var span=first[i];if(span.to==null){var found=getMarkedSpanFor(last,span.marker);if(!found)span.to=startCh;else if(sameLine)span.to=found.to==null?null:found.to+offset}}if(last)for(var i$1=0;i$1<last.length;++i$1){var span$1=last[i$1];if(span$1.to!=null)span$1.to+=offset;\nif(span$1.from==null){var found$1=getMarkedSpanFor(first,span$1.marker);if(!found$1){span$1.from=offset;if(sameLine)(first||(first=[])).push(span$1)}}else{span$1.from+=offset;if(sameLine)(first||(first=[])).push(span$1)}}if(first)first=clearEmptySpans(first);if(last&&last!=first)last=clearEmptySpans(last);var newMarkers=[first];if(!sameLine){var gap=change.text.length-2,gapMarkers;if(gap>0&&first)for(var i$2=0;i$2<first.length;++i$2)if(first[i$2].to==null)(gapMarkers||(gapMarkers=[])).push(new MarkedSpan(first[i$2].marker,\nnull,null));for(var i$3=0;i$3<gap;++i$3)newMarkers.push(gapMarkers);newMarkers.push(last)}return newMarkers}function clearEmptySpans(spans){for(var i=0;i<spans.length;++i){var span=spans[i];if(span.from!=null&&span.from==span.to&&span.marker.clearWhenEmpty!==false)spans.splice(i--,1)}if(!spans.length)return null;return spans}function removeReadOnlyRanges(doc,from,to){var markers=null;doc.iter(from.line,to.line+1,function(line){if(line.markedSpans)for(var i=0;i<line.markedSpans.length;++i){var mark=\nline.markedSpans[i].marker;if(mark.readOnly&&(!markers||indexOf(markers,mark)==-1))(markers||(markers=[])).push(mark)}});if(!markers)return null;var parts=[{from:from,to:to}];for(var i=0;i<markers.length;++i){var mk=markers[i],m=mk.find(0);for(var j=0;j<parts.length;++j){var p=parts[j];if(cmp(p.to,m.from)<0||cmp(p.from,m.to)>0)continue;var newParts=[j,1],dfrom=cmp(p.from,m.from),dto=cmp(p.to,m.to);if(dfrom<0||!mk.inclusiveLeft&&!dfrom)newParts.push({from:p.from,to:m.from});if(dto>0||!mk.inclusiveRight&&\n!dto)newParts.push({from:m.to,to:p.to});parts.splice.apply(parts,newParts);j+=newParts.length-3}}return parts}function detachMarkedSpans(line){var spans=line.markedSpans;if(!spans)return;for(var i=0;i<spans.length;++i)spans[i].marker.detachLine(line);line.markedSpans=null}function attachMarkedSpans(line,spans){if(!spans)return;for(var i=0;i<spans.length;++i)spans[i].marker.attachLine(line);line.markedSpans=spans}function extraLeft(marker){return marker.inclusiveLeft?-1:0}function extraRight(marker){return marker.inclusiveRight?\n1:0}function compareCollapsedMarkers(a,b){var lenDiff=a.lines.length-b.lines.length;if(lenDiff!=0)return lenDiff;var aPos=a.find(),bPos=b.find();var fromCmp=cmp(aPos.from,bPos.from)||extraLeft(a)-extraLeft(b);if(fromCmp)return-fromCmp;var toCmp=cmp(aPos.to,bPos.to)||extraRight(a)-extraRight(b);if(toCmp)return toCmp;return b.id-a.id}function collapsedSpanAtSide(line,start){var sps=sawCollapsedSpans&&line.markedSpans,found;if(sps)for(var sp=void 0,i=0;i<sps.length;++i){sp=sps[i];if(sp.marker.collapsed&&\n(start?sp.from:sp.to)==null&&(!found||compareCollapsedMarkers(found,sp.marker)<0))found=sp.marker}return found}function collapsedSpanAtStart(line){return collapsedSpanAtSide(line,true)}function collapsedSpanAtEnd(line){return collapsedSpanAtSide(line,false)}function collapsedSpanAround(line,ch){var sps=sawCollapsedSpans&&line.markedSpans,found;if(sps)for(var i=0;i<sps.length;++i){var sp=sps[i];if(sp.marker.collapsed&&(sp.from==null||sp.from<ch)&&(sp.to==null||sp.to>ch)&&(!found||compareCollapsedMarkers(found,\nsp.marker)<0))found=sp.marker}return found}function conflictingCollapsedRange(doc,lineNo,from,to,marker){var line=getLine(doc,lineNo);var sps=sawCollapsedSpans&&line.markedSpans;if(sps)for(var i=0;i<sps.length;++i){var sp=sps[i];if(!sp.marker.collapsed)continue;var found=sp.marker.find(0);var fromCmp=cmp(found.from,from)||extraLeft(sp.marker)-extraLeft(marker);var toCmp=cmp(found.to,to)||extraRight(sp.marker)-extraRight(marker);if(fromCmp>=0&&toCmp<=0||fromCmp<=0&&toCmp>=0)continue;if(fromCmp<=0&&\n(sp.marker.inclusiveRight&&marker.inclusiveLeft?cmp(found.to,from)>=0:cmp(found.to,from)>0)||fromCmp>=0&&(sp.marker.inclusiveRight&&marker.inclusiveLeft?cmp(found.from,to)<=0:cmp(found.from,to)<0))return true}}function visualLine(line){var merged;while(merged=collapsedSpanAtStart(line))line=merged.find(-1,true).line;return line}function visualLineEnd(line){var merged;while(merged=collapsedSpanAtEnd(line))line=merged.find(1,true).line;return line}function visualLineContinued(line){var merged,lines;\nwhile(merged=collapsedSpanAtEnd(line)){line=merged.find(1,true).line;(lines||(lines=[])).push(line)}return lines}function visualLineNo(doc,lineN){var line=getLine(doc,lineN),vis=visualLine(line);if(line==vis)return lineN;return lineNo(vis)}function visualLineEndNo(doc,lineN){if(lineN>doc.lastLine())return lineN;var line=getLine(doc,lineN),merged;if(!lineIsHidden(doc,line))return lineN;while(merged=collapsedSpanAtEnd(line))line=merged.find(1,true).line;return lineNo(line)+1}function lineIsHidden(doc,\nline){var sps=sawCollapsedSpans&&line.markedSpans;if(sps)for(var sp=void 0,i=0;i<sps.length;++i){sp=sps[i];if(!sp.marker.collapsed)continue;if(sp.from==null)return true;if(sp.marker.widgetNode)continue;if(sp.from==0&&sp.marker.inclusiveLeft&&lineIsHiddenInner(doc,line,sp))return true}}function lineIsHiddenInner(doc,line,span){if(span.to==null){var end=span.marker.find(1,true);return lineIsHiddenInner(doc,end.line,getMarkedSpanFor(end.line.markedSpans,span.marker))}if(span.marker.inclusiveRight&&span.to==\nline.text.length)return true;for(var sp=void 0,i=0;i<line.markedSpans.length;++i){sp=line.markedSpans[i];if(sp.marker.collapsed&&!sp.marker.widgetNode&&sp.from==span.to&&(sp.to==null||sp.to!=span.from)&&(sp.marker.inclusiveLeft||span.marker.inclusiveRight)&&lineIsHiddenInner(doc,line,sp))return true}}function heightAtLine(lineObj){lineObj=visualLine(lineObj);var h=0,chunk=lineObj.parent;for(var i=0;i<chunk.lines.length;++i){var line=chunk.lines[i];if(line==lineObj)break;else h+=line.height}for(var p=\nchunk.parent;p;chunk=p,p=chunk.parent)for(var i$1=0;i$1<p.children.length;++i$1){var cur=p.children[i$1];if(cur==chunk)break;else h+=cur.height}return h}function lineLength(line){if(line.height==0)return 0;var len=line.text.length,merged,cur=line;while(merged=collapsedSpanAtStart(cur)){var found=merged.find(0,true);cur=found.from.line;len+=found.from.ch-found.to.ch}cur=line;while(merged=collapsedSpanAtEnd(cur)){var found$1=merged.find(0,true);len-=cur.text.length-found$1.from.ch;cur=found$1.to.line;\nlen+=cur.text.length-found$1.to.ch}return len}function findMaxLine(cm){var d=cm.display,doc=cm.doc;d.maxLine=getLine(doc,doc.first);d.maxLineLength=lineLength(d.maxLine);d.maxLineChanged=true;doc.iter(function(line){var len=lineLength(line);if(len>d.maxLineLength){d.maxLineLength=len;d.maxLine=line}})}var Line=function(text,markedSpans,estimateHeight){this.text=text;attachMarkedSpans(this,markedSpans);this.height=estimateHeight?estimateHeight(this):1};Line.prototype.lineNo=function(){return lineNo(this)};\neventMixin(Line);function updateLine(line,text,markedSpans,estimateHeight){line.text=text;if(line.stateAfter)line.stateAfter=null;if(line.styles)line.styles=null;if(line.order!=null)line.order=null;detachMarkedSpans(line);attachMarkedSpans(line,markedSpans);var estHeight=estimateHeight?estimateHeight(line):1;if(estHeight!=line.height)updateLineHeight(line,estHeight)}function cleanUpLine(line){line.parent=null;detachMarkedSpans(line)}var styleToClassCache={},styleToClassCacheWithMode={};function interpretTokenStyle(style,\noptions){if(!style||/^\\s*$/.test(style))return null;var cache=options.addModeClass?styleToClassCacheWithMode:styleToClassCache;return cache[style]||(cache[style]=style.replace(/\\S+/g,"cm-$&"))}function buildLineContent(cm,lineView){var content=eltP("span",null,null,webkit?"padding-right: .1px":null);var builder={pre:eltP("pre",[content],"CodeMirror-line"),content:content,col:0,pos:0,cm:cm,trailingSpace:false,splitSpaces:cm.getOption("lineWrapping")};lineView.measure={};for(var i=0;i<=(lineView.rest?\nlineView.rest.length:0);i++){var line=i?lineView.rest[i-1]:lineView.line,order=void 0;builder.pos=0;builder.addToken=buildToken;if(hasBadBidiRects(cm.display.measure)&&(order=getOrder(line,cm.doc.direction)))builder.addToken=buildTokenBadBidi(builder.addToken,order);builder.map=[];var allowFrontierUpdate=lineView!=cm.display.externalMeasured&&lineNo(line);insertLineContent(line,builder,getLineStyles(cm,line,allowFrontierUpdate));if(line.styleClasses){if(line.styleClasses.bgClass)builder.bgClass=joinClasses(line.styleClasses.bgClass,\nbuilder.bgClass||"");if(line.styleClasses.textClass)builder.textClass=joinClasses(line.styleClasses.textClass,builder.textClass||"")}if(builder.map.length==0)builder.map.push(0,0,builder.content.appendChild(zeroWidthElement(cm.display.measure)));if(i==0){lineView.measure.map=builder.map;lineView.measure.cache={}}else{(lineView.measure.maps||(lineView.measure.maps=[])).push(builder.map);(lineView.measure.caches||(lineView.measure.caches=[])).push({})}}if(webkit){var last=builder.content.lastChild;\nif(/\\bcm-tab\\b/.test(last.className)||last.querySelector&&last.querySelector(".cm-tab"))builder.content.className="cm-tab-wrap-hack"}signal(cm,"renderLine",cm,lineView.line,builder.pre);if(builder.pre.className)builder.textClass=joinClasses(builder.pre.className,builder.textClass||"");return builder}function defaultSpecialCharPlaceholder(ch){var token=elt("span","\\u2022","cm-invalidchar");token.title="\\\\u"+ch.charCodeAt(0).toString(16);token.setAttribute("aria-label",token.title);return token}function buildToken(builder,\ntext,style,startStyle,endStyle,css,attributes){if(!text)return;var displayText=builder.splitSpaces?splitSpaces(text,builder.trailingSpace):text;var special=builder.cm.state.specialChars,mustWrap=false;var content;if(!special.test(text)){builder.col+=text.length;content=document.createTextNode(displayText);builder.map.push(builder.pos,builder.pos+text.length,content);if(ie&&ie_version<9)mustWrap=true;builder.pos+=text.length}else{content=document.createDocumentFragment();var pos=0;while(true){special.lastIndex=\npos;var m=special.exec(text);var skipped=m?m.index-pos:text.length-pos;if(skipped){var txt=document.createTextNode(displayText.slice(pos,pos+skipped));if(ie&&ie_version<9)content.appendChild(elt("span",[txt]));else content.appendChild(txt);builder.map.push(builder.pos,builder.pos+skipped,txt);builder.col+=skipped;builder.pos+=skipped}if(!m)break;pos+=skipped+1;var txt$1=void 0;if(m[0]=="\\t"){var tabSize=builder.cm.options.tabSize,tabWidth=tabSize-builder.col%tabSize;txt$1=content.appendChild(elt("span",\nspaceStr(tabWidth),"cm-tab"));txt$1.setAttribute("role","presentation");txt$1.setAttribute("cm-text","\\t");builder.col+=tabWidth}else if(m[0]=="\\r"||m[0]=="\\n"){txt$1=content.appendChild(elt("span",m[0]=="\\r"?"\\u240d":"\\u2424","cm-invalidchar"));txt$1.setAttribute("cm-text",m[0]);builder.col+=1}else{txt$1=builder.cm.options.specialCharPlaceholder(m[0]);txt$1.setAttribute("cm-text",m[0]);if(ie&&ie_version<9)content.appendChild(elt("span",[txt$1]));else content.appendChild(txt$1);builder.col+=1}builder.map.push(builder.pos,\nbuilder.pos+1,txt$1);builder.pos++}}builder.trailingSpace=displayText.charCodeAt(text.length-1)==32;if(style||startStyle||endStyle||mustWrap||css||attributes){var fullStyle=style||"";if(startStyle)fullStyle+=startStyle;if(endStyle)fullStyle+=endStyle;var token=elt("span",[content],fullStyle,css);if(attributes)for(var attr in attributes)if(attributes.hasOwnProperty(attr)&&attr!="style"&&attr!="class")if(attr==="title")token.setAttribute(attr,attributes[attr]);else throw new Error("attributes not supported for security reasons");\nreturn builder.content.appendChild(token)}builder.content.appendChild(content)}function splitSpaces(text,trailingBefore){if(text.length>1&&!/  /.test(text))return text;var spaceBefore=trailingBefore,result="";for(var i=0;i<text.length;i++){var ch=text.charAt(i);if(ch==" "&&spaceBefore&&(i==text.length-1||text.charCodeAt(i+1)==32))ch="\\u00a0";result+=ch;spaceBefore=ch==" "}return result}function buildTokenBadBidi(inner,order){return function(builder,text,style,startStyle,endStyle,css,attributes){style=\nstyle?style+" cm-force-border":"cm-force-border";var start=builder.pos,end=start+text.length;for(;;){var part=void 0;for(var i=0;i<order.length;i++){part=order[i];if(part.to>start&&part.from<=start)break}if(part.to>=end)return inner(builder,text,style,startStyle,endStyle,css,attributes);inner(builder,text.slice(0,part.to-start),style,startStyle,null,css,attributes);startStyle=null;text=text.slice(part.to-start);start=part.to}}}function buildCollapsedSpan(builder,size,marker,ignoreWidget){var widget=\n!ignoreWidget&&marker.widgetNode;if(widget)builder.map.push(builder.pos,builder.pos+size,widget);if(!ignoreWidget&&builder.cm.display.input.needsContentAttribute){if(!widget)widget=builder.content.appendChild(document.createElement("span"));widget.setAttribute("cm-marker",marker.id)}if(widget){builder.cm.display.input.setUneditable(widget);builder.content.appendChild(widget)}builder.pos+=size;builder.trailingSpace=false}function insertLineContent(line,builder,styles){var spans=line.markedSpans,allText=\nline.text,at=0;if(!spans){for(var i$1=1;i$1<styles.length;i$1+=2)builder.addToken(builder,allText.slice(at,at=styles[i$1]),interpretTokenStyle(styles[i$1+1],builder.cm.options));return}var len=allText.length,pos=0,i=1,text="",style,css;var nextChange=0,spanStyle,spanEndStyle,spanStartStyle,collapsed,attributes;for(;;){if(nextChange==pos){spanStyle=spanEndStyle=spanStartStyle=css="";attributes=null;collapsed=null;nextChange=Infinity;var foundBookmarks=[],endStyles=void 0;for(var j=0;j<spans.length;++j){var sp=\nspans[j],m=sp.marker;if(m.type=="bookmark"&&sp.from==pos&&m.widgetNode)foundBookmarks.push(m);else if(sp.from<=pos&&(sp.to==null||sp.to>pos||m.collapsed&&sp.to==pos&&sp.from==pos)){if(sp.to!=null&&sp.to!=pos&&nextChange>sp.to){nextChange=sp.to;spanEndStyle=""}if(m.className)spanStyle+=" "+m.className;if(m.css)css=(css?css+";":"")+m.css;if(m.startStyle&&sp.from==pos)spanStartStyle+=" "+m.startStyle;if(m.endStyle&&sp.to==nextChange)(endStyles||(endStyles=[])).push(m.endStyle,sp.to);if(m.title)(attributes||\n(attributes={})).title=m.title;if(m.attributes)for(var attr in m.attributes)(attributes||(attributes={}))[attr]=m.attributes[attr];if(m.collapsed&&(!collapsed||compareCollapsedMarkers(collapsed.marker,m)<0))collapsed=sp}else if(sp.from>pos&&nextChange>sp.from)nextChange=sp.from}if(endStyles)for(var j$1=0;j$1<endStyles.length;j$1+=2)if(endStyles[j$1+1]==nextChange)spanEndStyle+=" "+endStyles[j$1];if(!collapsed||collapsed.from==pos)for(var j$2=0;j$2<foundBookmarks.length;++j$2)buildCollapsedSpan(builder,\n0,foundBookmarks[j$2]);if(collapsed&&(collapsed.from||0)==pos){buildCollapsedSpan(builder,(collapsed.to==null?len+1:collapsed.to)-pos,collapsed.marker,collapsed.from==null);if(collapsed.to==null)return;if(collapsed.to==pos)collapsed=false}}if(pos>=len)break;var upto=Math.min(len,nextChange);while(true){if(text){var end=pos+text.length;if(!collapsed){var tokenText=end>upto?text.slice(0,upto-pos):text;builder.addToken(builder,tokenText,style?style+spanStyle:spanStyle,spanStartStyle,pos+tokenText.length==\nnextChange?spanEndStyle:"",css,attributes)}if(end>=upto){text=text.slice(upto-pos);pos=upto;break}pos=end;spanStartStyle=""}text=allText.slice(at,at=styles[i++]);style=interpretTokenStyle(styles[i++],builder.cm.options)}}}function LineView(doc,line,lineN){this.line=line;this.rest=visualLineContinued(line);this.size=this.rest?lineNo(lst(this.rest))-lineN+1:1;this.node=this.text=null;this.hidden=lineIsHidden(doc,line)}function buildViewArray(cm,from,to){var array=[],nextPos;for(var pos=from;pos<to;pos=\nnextPos){var view=new LineView(cm.doc,getLine(cm.doc,pos),pos);nextPos=pos+view.size;array.push(view)}return array}var operationGroup=null;function pushOperation(op){if(operationGroup)operationGroup.ops.push(op);else op.ownsGroup=operationGroup={ops:[op],delayedCallbacks:[]}}function fireCallbacksForOps(group){var callbacks=group.delayedCallbacks,i=0;do{for(;i<callbacks.length;i++)callbacks[i].call(null);for(var j=0;j<group.ops.length;j++){var op=group.ops[j];if(op.cursorActivityHandlers)while(op.cursorActivityCalled<\nop.cursorActivityHandlers.length)op.cursorActivityHandlers[op.cursorActivityCalled++].call(null,op.cm)}}while(i<callbacks.length)}function finishOperation(op,endCb){var group=op.ownsGroup;if(!group)return;try{fireCallbacksForOps(group)}finally{operationGroup=null;endCb(group)}}var orphanDelayedCallbacks=null;function signalLater(emitter,type){var arr=getHandlers(emitter,type);if(!arr.length)return;var args=Array.prototype.slice.call(arguments,2),list;if(operationGroup)list=operationGroup.delayedCallbacks;\nelse if(orphanDelayedCallbacks)list=orphanDelayedCallbacks;else{list=orphanDelayedCallbacks=[];setTimeout(fireOrphanDelayed,0)}var loop=function(i){list.push(function(){return arr[i].apply(null,args)})};for(var i=0;i<arr.length;++i)loop(i)}function fireOrphanDelayed(){var delayed=orphanDelayedCallbacks;orphanDelayedCallbacks=null;for(var i=0;i<delayed.length;++i)delayed[i]()}function updateLineForChanges(cm,lineView,lineN,dims){for(var j=0;j<lineView.changes.length;j++){var type=lineView.changes[j];\nif(type=="text")updateLineText(cm,lineView);else if(type=="gutter")updateLineGutter(cm,lineView,lineN,dims);else if(type=="class")updateLineClasses(cm,lineView);else if(type=="widget")updateLineWidgets(cm,lineView,dims)}lineView.changes=null}function ensureLineWrapped(lineView){if(lineView.node==lineView.text){lineView.node=elt("div",null,null,"position: relative");if(lineView.text.parentNode)lineView.text.parentNode.replaceChild(lineView.node,lineView.text);lineView.node.appendChild(lineView.text);\nif(ie&&ie_version<8)lineView.node.style.zIndex=2}return lineView.node}function updateLineBackground(cm,lineView){var cls=lineView.bgClass?lineView.bgClass+" "+(lineView.line.bgClass||""):lineView.line.bgClass;if(cls)cls+=" CodeMirror-linebackground";if(lineView.background)if(cls)lineView.background.className=cls;else{lineView.background.parentNode.removeChild(lineView.background);lineView.background=null}else if(cls){var wrap=ensureLineWrapped(lineView);lineView.background=wrap.insertBefore(elt("div",\nnull,cls),wrap.firstChild);cm.display.input.setUneditable(lineView.background)}}function getLineContent(cm,lineView){var ext=cm.display.externalMeasured;if(ext&&ext.line==lineView.line){cm.display.externalMeasured=null;lineView.measure=ext.measure;return ext.built}return buildLineContent(cm,lineView)}function updateLineText(cm,lineView){var cls=lineView.text.className;var built=getLineContent(cm,lineView);if(lineView.text==lineView.node)lineView.node=built.pre;lineView.text.parentNode.replaceChild(built.pre,\nlineView.text);lineView.text=built.pre;if(built.bgClass!=lineView.bgClass||built.textClass!=lineView.textClass){lineView.bgClass=built.bgClass;lineView.textClass=built.textClass;updateLineClasses(cm,lineView)}else if(cls)lineView.text.className=cls}function updateLineClasses(cm,lineView){updateLineBackground(cm,lineView);if(lineView.line.wrapClass)ensureLineWrapped(lineView).className=lineView.line.wrapClass;else if(lineView.node!=lineView.text)lineView.node.className="";var textClass=lineView.textClass?\nlineView.textClass+" "+(lineView.line.textClass||""):lineView.line.textClass;lineView.text.className=textClass||""}function updateLineGutter(cm,lineView,lineN,dims){if(lineView.gutter){lineView.node.removeChild(lineView.gutter);lineView.gutter=null}if(lineView.gutterBackground){lineView.node.removeChild(lineView.gutterBackground);lineView.gutterBackground=null}if(lineView.line.gutterClass){var wrap=ensureLineWrapped(lineView);lineView.gutterBackground=elt("div",null,"CodeMirror-gutter-background "+\nlineView.line.gutterClass,"left: "+(cm.options.fixedGutter?dims.fixedPos:-dims.gutterTotalWidth)+"px; width: "+dims.gutterTotalWidth+"px");cm.display.input.setUneditable(lineView.gutterBackground);wrap.insertBefore(lineView.gutterBackground,lineView.text)}var markers=lineView.line.gutterMarkers;if(cm.options.lineNumbers||markers){var wrap$1=ensureLineWrapped(lineView);var gutterWrap=lineView.gutter=elt("div",null,"CodeMirror-gutter-wrapper","left: "+(cm.options.fixedGutter?dims.fixedPos:-dims.gutterTotalWidth)+\n"px");gutterWrap.setAttribute("aria-hidden","true");cm.display.input.setUneditable(gutterWrap);wrap$1.insertBefore(gutterWrap,lineView.text);if(lineView.line.gutterClass)gutterWrap.className+=" "+lineView.line.gutterClass;if(cm.options.lineNumbers&&(!markers||!markers["CodeMirror-linenumbers"]))lineView.lineNumber=gutterWrap.appendChild(elt("div",lineNumberFor(cm.options,lineN),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+dims.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+cm.display.lineNumInnerWidth+\n"px"));if(markers)for(var k=0;k<cm.display.gutterSpecs.length;++k){var id=cm.display.gutterSpecs[k].className,found=markers.hasOwnProperty(id)&&markers[id];if(found)gutterWrap.appendChild(elt("div",[found],"CodeMirror-gutter-elt","left: "+dims.gutterLeft[id]+"px; width: "+dims.gutterWidth[id]+"px"))}}}function updateLineWidgets(cm,lineView,dims){if(lineView.alignable)lineView.alignable=null;var isWidget=classTest("CodeMirror-linewidget");for(var node=lineView.node.firstChild,next=void 0;node;node=\nnext){next=node.nextSibling;if(isWidget.test(node.className))lineView.node.removeChild(node)}insertLineWidgets(cm,lineView,dims)}function buildLineElement(cm,lineView,lineN,dims){var built=getLineContent(cm,lineView);lineView.text=lineView.node=built.pre;if(built.bgClass)lineView.bgClass=built.bgClass;if(built.textClass)lineView.textClass=built.textClass;updateLineClasses(cm,lineView);updateLineGutter(cm,lineView,lineN,dims);insertLineWidgets(cm,lineView,dims);return lineView.node}function insertLineWidgets(cm,\nlineView,dims){insertLineWidgetsFor(cm,lineView.line,lineView,dims,true);if(lineView.rest)for(var i=0;i<lineView.rest.length;i++)insertLineWidgetsFor(cm,lineView.rest[i],lineView,dims,false)}function insertLineWidgetsFor(cm,line,lineView,dims,allowAbove){if(!line.widgets)return;var wrap=ensureLineWrapped(lineView);for(var i=0,ws=line.widgets;i<ws.length;++i){var widget=ws[i],node=elt("div",[widget.node],"CodeMirror-linewidget"+(widget.className?" "+widget.className:""));if(!widget.handleMouseEvents)node.setAttribute("cm-ignore-events",\n"true");positionLineWidget(widget,node,lineView,dims);cm.display.input.setUneditable(node);if(allowAbove&&widget.above)wrap.insertBefore(node,lineView.gutter||lineView.text);else wrap.appendChild(node);signalLater(widget,"redraw")}}function positionLineWidget(widget,node,lineView,dims){if(widget.noHScroll){(lineView.alignable||(lineView.alignable=[])).push(node);var width=dims.wrapperWidth;node.style.left=dims.fixedPos+"px";if(!widget.coverGutter){width-=dims.gutterTotalWidth;node.style.paddingLeft=\ndims.gutterTotalWidth+"px"}node.style.width=width+"px"}if(widget.coverGutter){node.style.zIndex=5;node.style.position="relative";if(!widget.noHScroll)node.style.marginLeft=-dims.gutterTotalWidth+"px"}}function widgetHeight(widget){if(widget.height!=null)return widget.height;var cm=widget.doc.cm;if(!cm)return 0;if(!contains(document.body,widget.node)){var parentStyle="position: relative;";if(widget.coverGutter)parentStyle+="margin-left: -"+cm.display.gutters.offsetWidth+"px;";if(widget.noHScroll)parentStyle+=\n"width: "+cm.display.wrapper.clientWidth+"px;";removeChildrenAndAdd(cm.display.measure,elt("div",[widget.node],null,parentStyle))}return widget.height=widget.node.parentNode.offsetHeight}function eventInWidget(display,e){for(var n=e_target(e);n!=display.wrapper;n=n.parentNode)if(!n||n.nodeType==1&&n.getAttribute("cm-ignore-events")=="true"||n.parentNode==display.sizer&&n!=display.mover)return true}function paddingTop(display){return display.lineSpace.offsetTop}function paddingVert(display){return display.mover.offsetHeight-\ndisplay.lineSpace.offsetHeight}function paddingH(display){if(display.cachedPaddingH)return display.cachedPaddingH;var e=removeChildrenAndAdd(display.measure,elt("pre","x","CodeMirror-line-like"));var style=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle;var data={left:parseInt(style.paddingLeft),right:parseInt(style.paddingRight)};if(!isNaN(data.left)&&!isNaN(data.right))display.cachedPaddingH=data;return data}function scrollGap(cm){return scrollerGap-cm.display.nativeBarWidth}function displayWidth(cm){return cm.display.scroller.clientWidth-\nscrollGap(cm)-cm.display.barWidth}function displayHeight(cm){return cm.display.scroller.clientHeight-scrollGap(cm)-cm.display.barHeight}function ensureLineHeights(cm,lineView,rect){var wrapping=cm.options.lineWrapping;var curWidth=wrapping&&displayWidth(cm);if(!lineView.measure.heights||wrapping&&lineView.measure.width!=curWidth){var heights=lineView.measure.heights=[];if(wrapping){lineView.measure.width=curWidth;var rects=lineView.text.firstChild.getClientRects();for(var i=0;i<rects.length-1;i++){var cur=\nrects[i],next=rects[i+1];if(Math.abs(cur.bottom-next.bottom)>2)heights.push((cur.bottom+next.top)/2-rect.top)}}heights.push(rect.bottom-rect.top)}}function mapFromLineView(lineView,line,lineN){if(lineView.line==line)return{map:lineView.measure.map,cache:lineView.measure.cache};if(lineView.rest){for(var i=0;i<lineView.rest.length;i++)if(lineView.rest[i]==line)return{map:lineView.measure.maps[i],cache:lineView.measure.caches[i]};for(var i$1=0;i$1<lineView.rest.length;i$1++)if(lineNo(lineView.rest[i$1])>\nlineN)return{map:lineView.measure.maps[i$1],cache:lineView.measure.caches[i$1],before:true}}}function updateExternalMeasurement(cm,line){line=visualLine(line);var lineN=lineNo(line);var view=cm.display.externalMeasured=new LineView(cm.doc,line,lineN);view.lineN=lineN;var built=view.built=buildLineContent(cm,view);view.text=built.pre;removeChildrenAndAdd(cm.display.lineMeasure,built.pre);return view}function measureChar(cm,line,ch,bias){return measureCharPrepared(cm,prepareMeasureForLine(cm,line),\nch,bias)}function findViewForLine(cm,lineN){if(lineN>=cm.display.viewFrom&&lineN<cm.display.viewTo)return cm.display.view[findViewIndex(cm,lineN)];var ext=cm.display.externalMeasured;if(ext&&lineN>=ext.lineN&&lineN<ext.lineN+ext.size)return ext}function prepareMeasureForLine(cm,line){var lineN=lineNo(line);var view=findViewForLine(cm,lineN);if(view&&!view.text)view=null;else if(view&&view.changes){updateLineForChanges(cm,view,lineN,getDimensions(cm));cm.curOp.forceUpdate=true}if(!view)view=updateExternalMeasurement(cm,\nline);var info=mapFromLineView(view,line,lineN);return{line:line,view:view,rect:null,map:info.map,cache:info.cache,before:info.before,hasHeights:false}}function measureCharPrepared(cm,prepared,ch,bias,varHeight){if(prepared.before)ch=-1;var key=ch+(bias||""),found;if(prepared.cache.hasOwnProperty(key))found=prepared.cache[key];else{if(!prepared.rect)prepared.rect=prepared.view.text.getBoundingClientRect();if(!prepared.hasHeights){ensureLineHeights(cm,prepared.view,prepared.rect);prepared.hasHeights=\ntrue}found=measureCharInner(cm,prepared,ch,bias);if(!found.bogus)prepared.cache[key]=found}return{left:found.left,right:found.right,top:varHeight?found.rtop:found.top,bottom:varHeight?found.rbottom:found.bottom}}var nullRect={left:0,right:0,top:0,bottom:0};function nodeAndOffsetInLineMap(map,ch,bias){var node,start,end,collapse,mStart,mEnd;for(var i=0;i<map.length;i+=3){mStart=map[i];mEnd=map[i+1];if(ch<mStart){start=0;end=1;collapse="left"}else if(ch<mEnd){start=ch-mStart;end=start+1}else if(i==\nmap.length-3||ch==mEnd&&map[i+3]>ch){end=mEnd-mStart;start=end-1;if(ch>=mEnd)collapse="right"}if(start!=null){node=map[i+2];if(mStart==mEnd&&bias==(node.insertLeft?"left":"right"))collapse=bias;if(bias=="left"&&start==0)while(i&&map[i-2]==map[i-3]&&map[i-1].insertLeft){node=map[(i-=3)+2];collapse="left"}if(bias=="right"&&start==mEnd-mStart)while(i<map.length-3&&map[i+3]==map[i+4]&&!map[i+5].insertLeft){node=map[(i+=3)+2];collapse="right"}break}}return{node:node,start:start,end:end,collapse:collapse,\ncoverStart:mStart,coverEnd:mEnd}}function getUsefulRect(rects,bias){var rect=nullRect;if(bias=="left")for(var i=0;i<rects.length;i++){if((rect=rects[i]).left!=rect.right)break}else for(var i$1=rects.length-1;i$1>=0;i$1--)if((rect=rects[i$1]).left!=rect.right)break;return rect}function measureCharInner(cm,prepared,ch,bias){var place=nodeAndOffsetInLineMap(prepared.map,ch,bias);var node=place.node,start=place.start,end=place.end,collapse=place.collapse;var rect;if(node.nodeType==3){for(var i$1=0;i$1<\n4;i$1++){while(start&&isExtendingChar(prepared.line.text.charAt(place.coverStart+start)))--start;while(place.coverStart+end<place.coverEnd&&isExtendingChar(prepared.line.text.charAt(place.coverStart+end)))++end;if(ie&&ie_version<9&&start==0&&end==place.coverEnd-place.coverStart)rect=node.parentNode.getBoundingClientRect();else rect=getUsefulRect(range(node,start,end).getClientRects(),bias);if(rect.left||rect.right||start==0)break;end=start;start=start-1;collapse="right"}if(ie&&ie_version<11)rect=\nmaybeUpdateRectForZooming(cm.display.measure,rect)}else{if(start>0)collapse=bias="right";var rects;if(cm.options.lineWrapping&&(rects=node.getClientRects()).length>1)rect=rects[bias=="right"?rects.length-1:0];else rect=node.getBoundingClientRect()}if(ie&&ie_version<9&&!start&&(!rect||!rect.left&&!rect.right)){var rSpan=node.parentNode.getClientRects()[0];if(rSpan)rect={left:rSpan.left,right:rSpan.left+charWidth(cm.display),top:rSpan.top,bottom:rSpan.bottom};else rect=nullRect}var rtop=rect.top-prepared.rect.top,\nrbot=rect.bottom-prepared.rect.top;var mid=(rtop+rbot)/2;var heights=prepared.view.measure.heights;var i=0;for(;i<heights.length-1;i++)if(mid<heights[i])break;var top=i?heights[i-1]:0,bot=heights[i];var result={left:(collapse=="right"?rect.right:rect.left)-prepared.rect.left,right:(collapse=="left"?rect.left:rect.right)-prepared.rect.left,top:top,bottom:bot};if(!rect.left&&!rect.right)result.bogus=true;if(!cm.options.singleCursorHeightPerLine){result.rtop=rtop;result.rbottom=rbot}return result}function maybeUpdateRectForZooming(measure,\nrect){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!hasBadZoomedRects(measure))return rect;var scaleX=screen.logicalXDPI/screen.deviceXDPI;var scaleY=screen.logicalYDPI/screen.deviceYDPI;return{left:rect.left*scaleX,right:rect.right*scaleX,top:rect.top*scaleY,bottom:rect.bottom*scaleY}}function clearLineMeasurementCacheFor(lineView){if(lineView.measure){lineView.measure.cache={};lineView.measure.heights=null;if(lineView.rest)for(var i=0;i<lineView.rest.length;i++)lineView.measure.caches[i]=\n{}}}function clearLineMeasurementCache(cm){cm.display.externalMeasure=null;removeChildren(cm.display.lineMeasure);for(var i=0;i<cm.display.view.length;i++)clearLineMeasurementCacheFor(cm.display.view[i])}function clearCaches(cm){clearLineMeasurementCache(cm);cm.display.cachedCharWidth=cm.display.cachedTextHeight=cm.display.cachedPaddingH=null;if(!cm.options.lineWrapping)cm.display.maxLineChanged=true;cm.display.lineNumChars=null}function pageScrollX(){if(chrome&&android)return-(document.body.getBoundingClientRect().left-\nparseInt(getComputedStyle(document.body).marginLeft));return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function pageScrollY(){if(chrome&&android)return-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop));return window.pageYOffset||(document.documentElement||document.body).scrollTop}function widgetTopHeight(lineObj){var ref=visualLine(lineObj);var widgets=ref.widgets;var height=0;if(widgets)for(var i=0;i<widgets.length;++i)if(widgets[i].above)height+=\nwidgetHeight(widgets[i]);return height}function intoCoordSystem(cm,lineObj,rect,context,includeWidgets){if(!includeWidgets){var height=widgetTopHeight(lineObj);rect.top+=height;rect.bottom+=height}if(context=="line")return rect;if(!context)context="local";var yOff=heightAtLine(lineObj);if(context=="local")yOff+=paddingTop(cm.display);else yOff-=cm.display.viewOffset;if(context=="page"||context=="window"){var lOff=cm.display.lineSpace.getBoundingClientRect();yOff+=lOff.top+(context=="window"?0:pageScrollY());\nvar xOff=lOff.left+(context=="window"?0:pageScrollX());rect.left+=xOff;rect.right+=xOff}rect.top+=yOff;rect.bottom+=yOff;return rect}function fromCoordSystem(cm,coords,context){if(context=="div")return coords;var left=coords.left,top=coords.top;if(context=="page"){left-=pageScrollX();top-=pageScrollY()}else if(context=="local"||!context){var localBox=cm.display.sizer.getBoundingClientRect();left+=localBox.left;top+=localBox.top}var lineSpaceBox=cm.display.lineSpace.getBoundingClientRect();return{left:left-\nlineSpaceBox.left,top:top-lineSpaceBox.top}}function charCoords(cm,pos,context,lineObj,bias){if(!lineObj)lineObj=getLine(cm.doc,pos.line);return intoCoordSystem(cm,lineObj,measureChar(cm,lineObj,pos.ch,bias),context)}function cursorCoords(cm,pos,context,lineObj,preparedMeasure,varHeight){lineObj=lineObj||getLine(cm.doc,pos.line);if(!preparedMeasure)preparedMeasure=prepareMeasureForLine(cm,lineObj);function get(ch,right){var m=measureCharPrepared(cm,preparedMeasure,ch,right?"right":"left",varHeight);\nif(right)m.left=m.right;else m.right=m.left;return intoCoordSystem(cm,lineObj,m,context)}var order=getOrder(lineObj,cm.doc.direction),ch=pos.ch,sticky=pos.sticky;if(ch>=lineObj.text.length){ch=lineObj.text.length;sticky="before"}else if(ch<=0){ch=0;sticky="after"}if(!order)return get(sticky=="before"?ch-1:ch,sticky=="before");function getBidi(ch,partPos,invert){var part=order[partPos],right=part.level==1;return get(invert?ch-1:ch,right!=invert)}var partPos=getBidiPartAt(order,ch,sticky);var other=\nbidiOther;var val=getBidi(ch,partPos,sticky=="before");if(other!=null)val.other=getBidi(ch,other,sticky!="before");return val}function estimateCoords(cm,pos){var left=0;pos=clipPos(cm.doc,pos);if(!cm.options.lineWrapping)left=charWidth(cm.display)*pos.ch;var lineObj=getLine(cm.doc,pos.line);var top=heightAtLine(lineObj)+paddingTop(cm.display);return{left:left,right:left,top:top,bottom:top+lineObj.height}}function PosWithInfo(line,ch,sticky,outside,xRel){var pos=Pos(line,ch,sticky);pos.xRel=xRel;if(outside)pos.outside=\noutside;return pos}function coordsChar(cm,x,y){var doc=cm.doc;y+=cm.display.viewOffset;if(y<0)return PosWithInfo(doc.first,0,null,-1,-1);var lineN=lineAtHeight(doc,y),last=doc.first+doc.size-1;if(lineN>last)return PosWithInfo(doc.first+doc.size-1,getLine(doc,last).text.length,null,1,1);if(x<0)x=0;var lineObj=getLine(doc,lineN);for(;;){var found=coordsCharInner(cm,lineObj,lineN,x,y);var collapsed=collapsedSpanAround(lineObj,found.ch+(found.xRel>0||found.outside>0?1:0));if(!collapsed)return found;var rangeEnd=\ncollapsed.find(1);if(rangeEnd.line==lineN)return rangeEnd;lineObj=getLine(doc,lineN=rangeEnd.line)}}function wrappedLineExtent(cm,lineObj,preparedMeasure,y){y-=widgetTopHeight(lineObj);var end=lineObj.text.length;var begin=findFirst(function(ch){return measureCharPrepared(cm,preparedMeasure,ch-1).bottom<=y},end,0);end=findFirst(function(ch){return measureCharPrepared(cm,preparedMeasure,ch).top>y},begin,end);return{begin:begin,end:end}}function wrappedLineExtentChar(cm,lineObj,preparedMeasure,target){if(!preparedMeasure)preparedMeasure=\nprepareMeasureForLine(cm,lineObj);var targetTop=intoCoordSystem(cm,lineObj,measureCharPrepared(cm,preparedMeasure,target),"line").top;return wrappedLineExtent(cm,lineObj,preparedMeasure,targetTop)}function boxIsAfter(box,x,y,left){return box.bottom<=y?false:box.top>y?true:(left?box.left:box.right)>x}function coordsCharInner(cm,lineObj,lineNo,x,y){y-=heightAtLine(lineObj);var preparedMeasure=prepareMeasureForLine(cm,lineObj);var widgetHeight=widgetTopHeight(lineObj);var begin=0,end=lineObj.text.length,\nltr=true;var order=getOrder(lineObj,cm.doc.direction);if(order){var part=(cm.options.lineWrapping?coordsBidiPartWrapped:coordsBidiPart)(cm,lineObj,lineNo,preparedMeasure,order,x,y);ltr=part.level!=1;begin=ltr?part.from:part.to-1;end=ltr?part.to:part.from-1}var chAround=null,boxAround=null;var ch=findFirst(function(ch){var box=measureCharPrepared(cm,preparedMeasure,ch);box.top+=widgetHeight;box.bottom+=widgetHeight;if(!boxIsAfter(box,x,y,false))return false;if(box.top<=y&&box.left<=x){chAround=ch;\nboxAround=box}return true},begin,end);var baseX,sticky,outside=false;if(boxAround){var atLeft=x-boxAround.left<boxAround.right-x,atStart=atLeft==ltr;ch=chAround+(atStart?0:1);sticky=atStart?"after":"before";baseX=atLeft?boxAround.left:boxAround.right}else{if(!ltr&&(ch==end||ch==begin))ch++;sticky=ch==0?"after":ch==lineObj.text.length?"before":measureCharPrepared(cm,preparedMeasure,ch-(ltr?1:0)).bottom+widgetHeight<=y==ltr?"after":"before";var coords=cursorCoords(cm,Pos(lineNo,ch,sticky),"line",lineObj,\npreparedMeasure);baseX=coords.left;outside=y<coords.top?-1:y>=coords.bottom?1:0}ch=skipExtendingChars(lineObj.text,ch,1);return PosWithInfo(lineNo,ch,sticky,outside,x-baseX)}function coordsBidiPart(cm,lineObj,lineNo,preparedMeasure,order,x,y){var index=findFirst(function(i){var part=order[i],ltr=part.level!=1;return boxIsAfter(cursorCoords(cm,Pos(lineNo,ltr?part.to:part.from,ltr?"before":"after"),"line",lineObj,preparedMeasure),x,y,true)},0,order.length-1);var part=order[index];if(index>0){var ltr=\npart.level!=1;var start=cursorCoords(cm,Pos(lineNo,ltr?part.from:part.to,ltr?"after":"before"),"line",lineObj,preparedMeasure);if(boxIsAfter(start,x,y,true)&&start.top>y)part=order[index-1]}return part}function coordsBidiPartWrapped(cm,lineObj,_lineNo,preparedMeasure,order,x,y){var ref=wrappedLineExtent(cm,lineObj,preparedMeasure,y);var begin=ref.begin;var end=ref.end;if(/\\s/.test(lineObj.text.charAt(end-1)))end--;var part=null,closestDist=null;for(var i=0;i<order.length;i++){var p=order[i];if(p.from>=\nend||p.to<=begin)continue;var ltr=p.level!=1;var endX=measureCharPrepared(cm,preparedMeasure,ltr?Math.min(end,p.to)-1:Math.max(begin,p.from)).right;var dist=endX<x?x-endX+1E9:endX-x;if(!part||closestDist>dist){part=p;closestDist=dist}}if(!part)part=order[order.length-1];if(part.from<begin)part={from:begin,to:part.to,level:part.level};if(part.to>end)part={from:part.from,to:end,level:part.level};return part}var measureText;function textHeight(display){if(display.cachedTextHeight!=null)return display.cachedTextHeight;\nif(measureText==null){measureText=elt("pre",null,"CodeMirror-line-like");for(var i=0;i<49;++i){measureText.appendChild(document.createTextNode("x"));measureText.appendChild(elt("br"))}measureText.appendChild(document.createTextNode("x"))}removeChildrenAndAdd(display.measure,measureText);var height=measureText.offsetHeight/50;if(height>3)display.cachedTextHeight=height;removeChildren(display.measure);return height||1}function charWidth(display){if(display.cachedCharWidth!=null)return display.cachedCharWidth;\nvar anchor=elt("span","xxxxxxxxxx");var pre=elt("pre",[anchor],"CodeMirror-line-like");removeChildrenAndAdd(display.measure,pre);var rect=anchor.getBoundingClientRect(),width=(rect.right-rect.left)/10;if(width>2)display.cachedCharWidth=width;return width||10}function getDimensions(cm){var d=cm.display,left={},width={};var gutterLeft=d.gutters.clientLeft;for(var n=d.gutters.firstChild,i=0;n;n=n.nextSibling,++i){var id=cm.display.gutterSpecs[i].className;left[id]=n.offsetLeft+n.clientLeft+gutterLeft;\nwidth[id]=n.clientWidth}return{fixedPos:compensateForHScroll(d),gutterTotalWidth:d.gutters.offsetWidth,gutterLeft:left,gutterWidth:width,wrapperWidth:d.wrapper.clientWidth}}function compensateForHScroll(display){return display.scroller.getBoundingClientRect().left-display.sizer.getBoundingClientRect().left}function estimateHeight(cm){var th=textHeight(cm.display),wrapping=cm.options.lineWrapping;var perLine=wrapping&&Math.max(5,cm.display.scroller.clientWidth/charWidth(cm.display)-3);return function(line){if(lineIsHidden(cm.doc,\nline))return 0;var widgetsHeight=0;if(line.widgets)for(var i=0;i<line.widgets.length;i++)if(line.widgets[i].height)widgetsHeight+=line.widgets[i].height;if(wrapping)return widgetsHeight+(Math.ceil(line.text.length/perLine)||1)*th;else return widgetsHeight+th}}function estimateLineHeights(cm){var doc=cm.doc,est=estimateHeight(cm);doc.iter(function(line){var estHeight=est(line);if(estHeight!=line.height)updateLineHeight(line,estHeight)})}function posFromMouse(cm,e,liberal,forRect){var display=cm.display;\nif(!liberal&&e_target(e).getAttribute("cm-not-content")=="true")return null;var x,y,space=display.lineSpace.getBoundingClientRect();try{x=e.clientX-space.left;y=e.clientY-space.top}catch(e$1){return null}var coords=coordsChar(cm,x,y),line;if(forRect&&coords.xRel>0&&(line=getLine(cm.doc,coords.line).text).length==coords.ch){var colDiff=countColumn(line,line.length,cm.options.tabSize)-line.length;coords=Pos(coords.line,Math.max(0,Math.round((x-paddingH(cm.display).left)/charWidth(cm.display))-colDiff))}return coords}\nfunction findViewIndex(cm,n){if(n>=cm.display.viewTo)return null;n-=cm.display.viewFrom;if(n<0)return null;var view=cm.display.view;for(var i=0;i<view.length;i++){n-=view[i].size;if(n<0)return i}}function regChange(cm,from,to,lendiff){if(from==null)from=cm.doc.first;if(to==null)to=cm.doc.first+cm.doc.size;if(!lendiff)lendiff=0;var display=cm.display;if(lendiff&&to<display.viewTo&&(display.updateLineNumbers==null||display.updateLineNumbers>from))display.updateLineNumbers=from;cm.curOp.viewChanged=\ntrue;if(from>=display.viewTo){if(sawCollapsedSpans&&visualLineNo(cm.doc,from)<display.viewTo)resetView(cm)}else if(to<=display.viewFrom)if(sawCollapsedSpans&&visualLineEndNo(cm.doc,to+lendiff)>display.viewFrom)resetView(cm);else{display.viewFrom+=lendiff;display.viewTo+=lendiff}else if(from<=display.viewFrom&&to>=display.viewTo)resetView(cm);else if(from<=display.viewFrom){var cut=viewCuttingPoint(cm,to,to+lendiff,1);if(cut){display.view=display.view.slice(cut.index);display.viewFrom=cut.lineN;display.viewTo+=\nlendiff}else resetView(cm)}else if(to>=display.viewTo){var cut$1=viewCuttingPoint(cm,from,from,-1);if(cut$1){display.view=display.view.slice(0,cut$1.index);display.viewTo=cut$1.lineN}else resetView(cm)}else{var cutTop=viewCuttingPoint(cm,from,from,-1);var cutBot=viewCuttingPoint(cm,to,to+lendiff,1);if(cutTop&&cutBot){display.view=display.view.slice(0,cutTop.index).concat(buildViewArray(cm,cutTop.lineN,cutBot.lineN)).concat(display.view.slice(cutBot.index));display.viewTo+=lendiff}else resetView(cm)}var ext=\ndisplay.externalMeasured;if(ext)if(to<ext.lineN)ext.lineN+=lendiff;else if(from<ext.lineN+ext.size)display.externalMeasured=null}function regLineChange(cm,line,type){cm.curOp.viewChanged=true;var display=cm.display,ext=cm.display.externalMeasured;if(ext&&line>=ext.lineN&&line<ext.lineN+ext.size)display.externalMeasured=null;if(line<display.viewFrom||line>=display.viewTo)return;var lineView=display.view[findViewIndex(cm,line)];if(lineView.node==null)return;var arr=lineView.changes||(lineView.changes=\n[]);if(indexOf(arr,type)==-1)arr.push(type)}function resetView(cm){cm.display.viewFrom=cm.display.viewTo=cm.doc.first;cm.display.view=[];cm.display.viewOffset=0}function viewCuttingPoint(cm,oldN,newN,dir){var index=findViewIndex(cm,oldN),diff,view=cm.display.view;if(!sawCollapsedSpans||newN==cm.doc.first+cm.doc.size)return{index:index,lineN:newN};var n=cm.display.viewFrom;for(var i=0;i<index;i++)n+=view[i].size;if(n!=oldN){if(dir>0){if(index==view.length-1)return null;diff=n+view[index].size-oldN;\nindex++}else diff=n-oldN;oldN+=diff;newN+=diff}while(visualLineNo(cm.doc,newN)!=newN){if(index==(dir<0?0:view.length-1))return null;newN+=dir*view[index-(dir<0?1:0)].size;index+=dir}return{index:index,lineN:newN}}function adjustView(cm,from,to){var display=cm.display,view=display.view;if(view.length==0||from>=display.viewTo||to<=display.viewFrom){display.view=buildViewArray(cm,from,to);display.viewFrom=from}else{if(display.viewFrom>from)display.view=buildViewArray(cm,from,display.viewFrom).concat(display.view);\nelse if(display.viewFrom<from)display.view=display.view.slice(findViewIndex(cm,from));display.viewFrom=from;if(display.viewTo<to)display.view=display.view.concat(buildViewArray(cm,display.viewTo,to));else if(display.viewTo>to)display.view=display.view.slice(0,findViewIndex(cm,to))}display.viewTo=to}function countDirtyView(cm){var view=cm.display.view,dirty=0;for(var i=0;i<view.length;i++){var lineView=view[i];if(!lineView.hidden&&(!lineView.node||lineView.changes))++dirty}return dirty}function updateSelection(cm){cm.display.input.showSelection(cm.display.input.prepareSelection())}\nfunction prepareSelection(cm,primary){if(primary===void 0)primary=true;var doc=cm.doc,result={};var curFragment=result.cursors=document.createDocumentFragment();var selFragment=result.selection=document.createDocumentFragment();var customCursor=cm.options.$customCursor;if(customCursor)primary=true;for(var i=0;i<doc.sel.ranges.length;i++){if(!primary&&i==doc.sel.primIndex)continue;var range=doc.sel.ranges[i];if(range.from().line>=cm.display.viewTo||range.to().line<cm.display.viewFrom)continue;var collapsed=\nrange.empty();if(customCursor){var head=customCursor(cm,range);if(head)drawSelectionCursor(cm,head,curFragment)}else if(collapsed||cm.options.showCursorWhenSelecting)drawSelectionCursor(cm,range.head,curFragment);if(!collapsed)drawSelectionRange(cm,range,selFragment)}return result}function drawSelectionCursor(cm,head,output){var pos=cursorCoords(cm,head,"div",null,null,!cm.options.singleCursorHeightPerLine);var cursor=output.appendChild(elt("div","\\u00a0","CodeMirror-cursor"));cursor.style.left=pos.left+\n"px";cursor.style.top=pos.top+"px";cursor.style.height=Math.max(0,pos.bottom-pos.top)*cm.options.cursorHeight+"px";if(/\\bcm-fat-cursor\\b/.test(cm.getWrapperElement().className)){var charPos=charCoords(cm,head,"div",null,null);var width=charPos.right-charPos.left;cursor.style.width=(width>0?width:cm.defaultCharWidth())+"px"}if(pos.other){var otherCursor=output.appendChild(elt("div","\\u00a0","CodeMirror-cursor CodeMirror-secondarycursor"));otherCursor.style.display="";otherCursor.style.left=pos.other.left+\n"px";otherCursor.style.top=pos.other.top+"px";otherCursor.style.height=(pos.other.bottom-pos.other.top)*.85+"px"}}function cmpCoords(a,b){return a.top-b.top||a.left-b.left}function drawSelectionRange(cm,range,output){var display=cm.display,doc=cm.doc;var fragment=document.createDocumentFragment();var padding=paddingH(cm.display),leftSide=padding.left;var rightSide=Math.max(display.sizerWidth,displayWidth(cm)-display.sizer.offsetLeft)-padding.right;var docLTR=doc.direction=="ltr";function add(left,\ntop,width,bottom){if(top<0)top=0;top=Math.round(top);bottom=Math.round(bottom);fragment.appendChild(elt("div",null,"CodeMirror-selected","position: absolute; left: "+left+"px;\\n                             top: "+top+"px; width: "+(width==null?rightSide-left:width)+"px;\\n                             height: "+(bottom-top)+"px"))}function drawForLine(line,fromArg,toArg){var lineObj=getLine(doc,line);var lineLen=lineObj.text.length;var start,end;function coords(ch,bias){return charCoords(cm,Pos(line,\nch),"div",lineObj,bias)}function wrapX(pos,dir,side){var extent=wrappedLineExtentChar(cm,lineObj,null,pos);var prop=dir=="ltr"==(side=="after")?"left":"right";var ch=side=="after"?extent.begin:extent.end-(/\\s/.test(lineObj.text.charAt(extent.end-1))?2:1);return coords(ch,prop)[prop]}var order=getOrder(lineObj,doc.direction);iterateBidiSections(order,fromArg||0,toArg==null?lineLen:toArg,function(from,to,dir,i){var ltr=dir=="ltr";var fromPos=coords(from,ltr?"left":"right");var toPos=coords(to-1,ltr?\n"right":"left");var openStart=fromArg==null&&from==0,openEnd=toArg==null&&to==lineLen;var first=i==0,last=!order||i==order.length-1;if(toPos.top-fromPos.top<=3){var openLeft=(docLTR?openStart:openEnd)&&first;var openRight=(docLTR?openEnd:openStart)&&last;var left=openLeft?leftSide:(ltr?fromPos:toPos).left;var right=openRight?rightSide:(ltr?toPos:fromPos).right;add(left,fromPos.top,right-left,fromPos.bottom)}else{var topLeft,topRight,botLeft,botRight;if(ltr){topLeft=docLTR&&openStart&&first?leftSide:\nfromPos.left;topRight=docLTR?rightSide:wrapX(from,dir,"before");botLeft=docLTR?leftSide:wrapX(to,dir,"after");botRight=docLTR&&openEnd&&last?rightSide:toPos.right}else{topLeft=!docLTR?leftSide:wrapX(from,dir,"before");topRight=!docLTR&&openStart&&first?rightSide:fromPos.right;botLeft=!docLTR&&openEnd&&last?leftSide:toPos.left;botRight=!docLTR?rightSide:wrapX(to,dir,"after")}add(topLeft,fromPos.top,topRight-topLeft,fromPos.bottom);if(fromPos.bottom<toPos.top)add(leftSide,fromPos.bottom,null,toPos.top);\nadd(botLeft,toPos.top,botRight-botLeft,toPos.bottom)}if(!start||cmpCoords(fromPos,start)<0)start=fromPos;if(cmpCoords(toPos,start)<0)start=toPos;if(!end||cmpCoords(fromPos,end)<0)end=fromPos;if(cmpCoords(toPos,end)<0)end=toPos});return{start:start,end:end}}var sFrom=range.from(),sTo=range.to();if(sFrom.line==sTo.line)drawForLine(sFrom.line,sFrom.ch,sTo.ch);else{var fromLine=getLine(doc,sFrom.line),toLine=getLine(doc,sTo.line);var singleVLine=visualLine(fromLine)==visualLine(toLine);var leftEnd=drawForLine(sFrom.line,\nsFrom.ch,singleVLine?fromLine.text.length+1:null).end;var rightStart=drawForLine(sTo.line,singleVLine?0:null,sTo.ch).start;if(singleVLine)if(leftEnd.top<rightStart.top-2){add(leftEnd.right,leftEnd.top,null,leftEnd.bottom);add(leftSide,rightStart.top,rightStart.left,rightStart.bottom)}else add(leftEnd.right,leftEnd.top,rightStart.left-leftEnd.right,leftEnd.bottom);if(leftEnd.bottom<rightStart.top)add(leftSide,leftEnd.bottom,null,rightStart.top)}output.appendChild(fragment)}function restartBlink(cm){if(!cm.state.focused)return;\nvar display=cm.display;clearInterval(display.blinker);var on=true;display.cursorDiv.style.visibility="";if(cm.options.cursorBlinkRate>0)display.blinker=setInterval(function(){if(!cm.hasFocus())onBlur(cm);display.cursorDiv.style.visibility=(on=!on)?"":"hidden"},cm.options.cursorBlinkRate);else if(cm.options.cursorBlinkRate<0)display.cursorDiv.style.visibility="hidden"}function ensureFocus(cm){if(!cm.hasFocus()){cm.display.input.focus();if(!cm.state.focused)onFocus(cm)}}function delayBlurEvent(cm){cm.state.delayingBlurEvent=\ntrue;setTimeout(function(){if(cm.state.delayingBlurEvent){cm.state.delayingBlurEvent=false;if(cm.state.focused)onBlur(cm)}},100)}function onFocus(cm,e){if(cm.state.delayingBlurEvent&&!cm.state.draggingText)cm.state.delayingBlurEvent=false;if(cm.options.readOnly=="nocursor")return;if(!cm.state.focused){signal(cm,"focus",cm,e);cm.state.focused=true;addClass(cm.display.wrapper,"CodeMirror-focused");if(!cm.curOp&&cm.display.selForContextMenu!=cm.doc.sel){cm.display.input.reset();if(webkit)setTimeout(function(){return cm.display.input.reset(true)},\n20)}cm.display.input.receivedFocus()}restartBlink(cm)}function onBlur(cm,e){if(cm.state.delayingBlurEvent)return;if(cm.state.focused){signal(cm,"blur",cm,e);cm.state.focused=false;rmClass(cm.display.wrapper,"CodeMirror-focused")}clearInterval(cm.display.blinker);setTimeout(function(){if(!cm.state.focused)cm.display.shift=false},150)}function updateHeightsInViewport(cm){var display=cm.display;var prevBottom=display.lineDiv.offsetTop;var viewTop=Math.max(0,display.scroller.getBoundingClientRect().top);\nvar oldHeight=display.lineDiv.getBoundingClientRect().top;var mustScroll=0;for(var i=0;i<display.view.length;i++){var cur=display.view[i],wrapping=cm.options.lineWrapping;var height=void 0,width=0;if(cur.hidden)continue;oldHeight+=cur.line.height;if(ie&&ie_version<8){var bot=cur.node.offsetTop+cur.node.offsetHeight;height=bot-prevBottom;prevBottom=bot}else{var box=cur.node.getBoundingClientRect();height=box.bottom-box.top;if(!wrapping&&cur.text.firstChild)width=cur.text.firstChild.getBoundingClientRect().right-\nbox.left-1}var diff=cur.line.height-height;if(diff>.005||diff<-.005){if(oldHeight<viewTop)mustScroll-=diff;updateLineHeight(cur.line,height);updateWidgetHeight(cur.line);if(cur.rest)for(var j=0;j<cur.rest.length;j++)updateWidgetHeight(cur.rest[j])}if(width>cm.display.sizerWidth){var chWidth=Math.ceil(width/charWidth(cm.display));if(chWidth>cm.display.maxLineLength){cm.display.maxLineLength=chWidth;cm.display.maxLine=cur.line;cm.display.maxLineChanged=true}}}if(Math.abs(mustScroll)>2)display.scroller.scrollTop+=\nmustScroll}function updateWidgetHeight(line){if(line.widgets)for(var i=0;i<line.widgets.length;++i){var w=line.widgets[i],parent=w.node.parentNode;if(parent)w.height=parent.offsetHeight}}function visibleLines(display,doc,viewport){var top=viewport&&viewport.top!=null?Math.max(0,viewport.top):display.scroller.scrollTop;top=Math.floor(top-paddingTop(display));var bottom=viewport&&viewport.bottom!=null?viewport.bottom:top+display.wrapper.clientHeight;var from=lineAtHeight(doc,top),to=lineAtHeight(doc,\nbottom);if(viewport&&viewport.ensure){var ensureFrom=viewport.ensure.from.line,ensureTo=viewport.ensure.to.line;if(ensureFrom<from){from=ensureFrom;to=lineAtHeight(doc,heightAtLine(getLine(doc,ensureFrom))+display.wrapper.clientHeight)}else if(Math.min(ensureTo,doc.lastLine())>=to){from=lineAtHeight(doc,heightAtLine(getLine(doc,ensureTo))-display.wrapper.clientHeight);to=ensureTo}}return{from:from,to:Math.max(to,from+1)}}function maybeScrollWindow(cm,rect){if(signalDOMEvent(cm,"scrollCursorIntoView"))return;\nvar display=cm.display,box=display.sizer.getBoundingClientRect(),doScroll=null;if(rect.top+box.top<0)doScroll=true;else if(rect.bottom+box.top>(window.innerHeight||document.documentElement.clientHeight))doScroll=false;if(doScroll!=null&&!phantom){var scrollNode=elt("div","\\u200b",null,"position: absolute;\\n                         top: "+(rect.top-display.viewOffset-paddingTop(cm.display))+"px;\\n                         height: "+(rect.bottom-rect.top+scrollGap(cm)+display.barHeight)+"px;\\n                         left: "+\nrect.left+"px; width: "+Math.max(2,rect.right-rect.left)+"px;");cm.display.lineSpace.appendChild(scrollNode);scrollNode.scrollIntoView(doScroll);cm.display.lineSpace.removeChild(scrollNode)}}function scrollPosIntoView(cm,pos,end,margin){if(margin==null)margin=0;var rect;if(!cm.options.lineWrapping&&pos==end){end=pos.sticky=="before"?Pos(pos.line,pos.ch+1,"before"):pos;pos=pos.ch?Pos(pos.line,pos.sticky=="before"?pos.ch-1:pos.ch,"after"):pos}for(var limit=0;limit<5;limit++){var changed=false;var coords=\ncursorCoords(cm,pos);var endCoords=!end||end==pos?coords:cursorCoords(cm,end);rect={left:Math.min(coords.left,endCoords.left),top:Math.min(coords.top,endCoords.top)-margin,right:Math.max(coords.left,endCoords.left),bottom:Math.max(coords.bottom,endCoords.bottom)+margin};var scrollPos=calculateScrollPos(cm,rect);var startTop=cm.doc.scrollTop,startLeft=cm.doc.scrollLeft;if(scrollPos.scrollTop!=null){updateScrollTop(cm,scrollPos.scrollTop);if(Math.abs(cm.doc.scrollTop-startTop)>1)changed=true}if(scrollPos.scrollLeft!=\nnull){setScrollLeft(cm,scrollPos.scrollLeft);if(Math.abs(cm.doc.scrollLeft-startLeft)>1)changed=true}if(!changed)break}return rect}function scrollIntoView(cm,rect){var scrollPos=calculateScrollPos(cm,rect);if(scrollPos.scrollTop!=null)updateScrollTop(cm,scrollPos.scrollTop);if(scrollPos.scrollLeft!=null)setScrollLeft(cm,scrollPos.scrollLeft)}function calculateScrollPos(cm,rect){var display=cm.display,snapMargin=textHeight(cm.display);if(rect.top<0)rect.top=0;var screentop=cm.curOp&&cm.curOp.scrollTop!=\nnull?cm.curOp.scrollTop:display.scroller.scrollTop;var screen=displayHeight(cm),result={};if(rect.bottom-rect.top>screen)rect.bottom=rect.top+screen;var docBottom=cm.doc.height+paddingVert(display);var atTop=rect.top<snapMargin,atBottom=rect.bottom>docBottom-snapMargin;if(rect.top<screentop)result.scrollTop=atTop?0:rect.top;else if(rect.bottom>screentop+screen){var newTop=Math.min(rect.top,(atBottom?docBottom:rect.bottom)-screen);if(newTop!=screentop)result.scrollTop=newTop}var gutterSpace=cm.options.fixedGutter?\n0:display.gutters.offsetWidth;var screenleft=cm.curOp&&cm.curOp.scrollLeft!=null?cm.curOp.scrollLeft:display.scroller.scrollLeft-gutterSpace;var screenw=displayWidth(cm)-display.gutters.offsetWidth;var tooWide=rect.right-rect.left>screenw;if(tooWide)rect.right=rect.left+screenw;if(rect.left<10)result.scrollLeft=0;else if(rect.left<screenleft)result.scrollLeft=Math.max(0,rect.left+gutterSpace-(tooWide?0:10));else if(rect.right>screenw+screenleft-3)result.scrollLeft=rect.right+(tooWide?0:10)-screenw;\nreturn result}function addToScrollTop(cm,top){if(top==null)return;resolveScrollToPos(cm);cm.curOp.scrollTop=(cm.curOp.scrollTop==null?cm.doc.scrollTop:cm.curOp.scrollTop)+top}function ensureCursorVisible(cm){resolveScrollToPos(cm);var cur=cm.getCursor();cm.curOp.scrollToPos={from:cur,to:cur,margin:cm.options.cursorScrollMargin}}function scrollToCoords(cm,x,y){if(x!=null||y!=null)resolveScrollToPos(cm);if(x!=null)cm.curOp.scrollLeft=x;if(y!=null)cm.curOp.scrollTop=y}function scrollToRange(cm,range){resolveScrollToPos(cm);\ncm.curOp.scrollToPos=range}function resolveScrollToPos(cm){var range=cm.curOp.scrollToPos;if(range){cm.curOp.scrollToPos=null;var from=estimateCoords(cm,range.from),to=estimateCoords(cm,range.to);scrollToCoordsRange(cm,from,to,range.margin)}}function scrollToCoordsRange(cm,from,to,margin){var sPos=calculateScrollPos(cm,{left:Math.min(from.left,to.left),top:Math.min(from.top,to.top)-margin,right:Math.max(from.right,to.right),bottom:Math.max(from.bottom,to.bottom)+margin});scrollToCoords(cm,sPos.scrollLeft,\nsPos.scrollTop)}function updateScrollTop(cm,val){if(Math.abs(cm.doc.scrollTop-val)<2)return;if(!gecko)updateDisplaySimple(cm,{top:val});setScrollTop(cm,val,true);if(gecko)updateDisplaySimple(cm);startWorker(cm,100)}function setScrollTop(cm,val,forceScroll){val=Math.max(0,Math.min(cm.display.scroller.scrollHeight-cm.display.scroller.clientHeight,val));if(cm.display.scroller.scrollTop==val&&!forceScroll)return;cm.doc.scrollTop=val;cm.display.scrollbars.setScrollTop(val);if(cm.display.scroller.scrollTop!=\nval)cm.display.scroller.scrollTop=val}function setScrollLeft(cm,val,isScroller,forceScroll){val=Math.max(0,Math.min(val,cm.display.scroller.scrollWidth-cm.display.scroller.clientWidth));if((isScroller?val==cm.doc.scrollLeft:Math.abs(cm.doc.scrollLeft-val)<2)&&!forceScroll)return;cm.doc.scrollLeft=val;alignHorizontally(cm);if(cm.display.scroller.scrollLeft!=val)cm.display.scroller.scrollLeft=val;cm.display.scrollbars.setScrollLeft(val)}function measureForScrollbars(cm){var d=cm.display,gutterW=d.gutters.offsetWidth;\nvar docH=Math.round(cm.doc.height+paddingVert(cm.display));return{clientHeight:d.scroller.clientHeight,viewHeight:d.wrapper.clientHeight,scrollWidth:d.scroller.scrollWidth,clientWidth:d.scroller.clientWidth,viewWidth:d.wrapper.clientWidth,barLeft:cm.options.fixedGutter?gutterW:0,docHeight:docH,scrollHeight:docH+scrollGap(cm)+d.barHeight,nativeBarWidth:d.nativeBarWidth,gutterWidth:gutterW}}var NativeScrollbars=function(place,scroll,cm){this.cm=cm;var vert=this.vert=elt("div",[elt("div",null,null,"min-width: 1px")],\n"CodeMirror-vscrollbar");var horiz=this.horiz=elt("div",[elt("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");vert.tabIndex=horiz.tabIndex=-1;place(vert);place(horiz);on(vert,"scroll",function(){if(vert.clientHeight)scroll(vert.scrollTop,"vertical")});on(horiz,"scroll",function(){if(horiz.clientWidth)scroll(horiz.scrollLeft,"horizontal")});this.checkedZeroWidth=false;if(ie&&ie_version<8)this.horiz.style.minHeight=this.vert.style.minWidth="18px"};NativeScrollbars.prototype.update=\nfunction(measure){var needsH=measure.scrollWidth>measure.clientWidth+1;var needsV=measure.scrollHeight>measure.clientHeight+1;var sWidth=measure.nativeBarWidth;if(needsV){this.vert.style.display="block";this.vert.style.bottom=needsH?sWidth+"px":"0";var totalHeight=measure.viewHeight-(needsH?sWidth:0);this.vert.firstChild.style.height=Math.max(0,measure.scrollHeight-measure.clientHeight+totalHeight)+"px"}else{this.vert.scrollTop=0;this.vert.style.display="";this.vert.firstChild.style.height="0"}if(needsH){this.horiz.style.display=\n"block";this.horiz.style.right=needsV?sWidth+"px":"0";this.horiz.style.left=measure.barLeft+"px";var totalWidth=measure.viewWidth-measure.barLeft-(needsV?sWidth:0);this.horiz.firstChild.style.width=Math.max(0,measure.scrollWidth-measure.clientWidth+totalWidth)+"px"}else{this.horiz.style.display="";this.horiz.firstChild.style.width="0"}if(!this.checkedZeroWidth&&measure.clientHeight>0){if(sWidth==0)this.zeroWidthHack();this.checkedZeroWidth=true}return{right:needsV?sWidth:0,bottom:needsH?sWidth:0}};\nNativeScrollbars.prototype.setScrollLeft=function(pos){if(this.horiz.scrollLeft!=pos)this.horiz.scrollLeft=pos;if(this.disableHoriz)this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")};NativeScrollbars.prototype.setScrollTop=function(pos){if(this.vert.scrollTop!=pos)this.vert.scrollTop=pos;if(this.disableVert)this.enableZeroWidthBar(this.vert,this.disableVert,"vert")};NativeScrollbars.prototype.zeroWidthHack=function(){var w=mac&&!mac_geMountainLion?"12px":"18px";this.horiz.style.height=\nthis.vert.style.width=w;this.horiz.style.visibility=this.vert.style.visibility="hidden";this.disableHoriz=new Delayed;this.disableVert=new Delayed};NativeScrollbars.prototype.enableZeroWidthBar=function(bar,delay,type){bar.style.visibility="";function maybeDisable(){var box=bar.getBoundingClientRect();var elt=type=="vert"?document.elementFromPoint(box.right-1,(box.top+box.bottom)/2):document.elementFromPoint((box.right+box.left)/2,box.bottom-1);if(elt!=bar)bar.style.visibility="hidden";else delay.set(1E3,\nmaybeDisable)}delay.set(1E3,maybeDisable)};NativeScrollbars.prototype.clear=function(){var parent=this.horiz.parentNode;parent.removeChild(this.horiz);parent.removeChild(this.vert)};var NullScrollbars=function(){};NullScrollbars.prototype.update=function(){return{bottom:0,right:0}};NullScrollbars.prototype.setScrollLeft=function(){};NullScrollbars.prototype.setScrollTop=function(){};NullScrollbars.prototype.clear=function(){};function updateScrollbars(cm,measure){if(!measure)measure=measureForScrollbars(cm);\nvar startWidth=cm.display.barWidth,startHeight=cm.display.barHeight;updateScrollbarsInner(cm,measure);for(var i=0;i<4&&startWidth!=cm.display.barWidth||startHeight!=cm.display.barHeight;i++){if(startWidth!=cm.display.barWidth&&cm.options.lineWrapping)updateHeightsInViewport(cm);updateScrollbarsInner(cm,measureForScrollbars(cm));startWidth=cm.display.barWidth;startHeight=cm.display.barHeight}}function updateScrollbarsInner(cm,measure){var d=cm.display;var sizes=d.scrollbars.update(measure);d.sizer.style.paddingRight=\n(d.barWidth=sizes.right)+"px";d.sizer.style.paddingBottom=(d.barHeight=sizes.bottom)+"px";d.heightForcer.style.borderBottom=sizes.bottom+"px solid transparent";if(sizes.right&&sizes.bottom){d.scrollbarFiller.style.display="block";d.scrollbarFiller.style.height=sizes.bottom+"px";d.scrollbarFiller.style.width=sizes.right+"px"}else d.scrollbarFiller.style.display="";if(sizes.bottom&&cm.options.coverGutterNextToScrollbar&&cm.options.fixedGutter){d.gutterFiller.style.display="block";d.gutterFiller.style.height=\nsizes.bottom+"px";d.gutterFiller.style.width=measure.gutterWidth+"px"}else d.gutterFiller.style.display=""}var scrollbarModel={"native":NativeScrollbars,"null":NullScrollbars};function initScrollbars(cm){if(cm.display.scrollbars){cm.display.scrollbars.clear();if(cm.display.scrollbars.addClass)rmClass(cm.display.wrapper,cm.display.scrollbars.addClass)}cm.display.scrollbars=new scrollbarModel[cm.options.scrollbarStyle](function(node){cm.display.wrapper.insertBefore(node,cm.display.scrollbarFiller);\non(node,"mousedown",function(){if(cm.state.focused)setTimeout(function(){return cm.display.input.focus()},0)});node.setAttribute("cm-not-content","true")},function(pos,axis){if(axis=="horizontal")setScrollLeft(cm,pos);else updateScrollTop(cm,pos)},cm);if(cm.display.scrollbars.addClass)addClass(cm.display.wrapper,cm.display.scrollbars.addClass)}var nextOpId=0;function startOperation(cm){cm.curOp={cm:cm,viewChanged:false,startHeight:cm.doc.height,forceUpdate:false,updateInput:0,typing:false,changeObjs:null,\ncursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:false,updateMaxLine:false,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:false,id:++nextOpId,markArrays:null};pushOperation(cm.curOp)}function endOperation(cm){var op=cm.curOp;if(op)finishOperation(op,function(group){for(var i=0;i<group.ops.length;i++)group.ops[i].cm.curOp=null;endOperations(group)})}function endOperations(group){var ops=group.ops;for(var i=0;i<ops.length;i++)endOperation_R1(ops[i]);for(var i$1=0;i$1<ops.length;i$1++)endOperation_W1(ops[i$1]);\nfor(var i$2=0;i$2<ops.length;i$2++)endOperation_R2(ops[i$2]);for(var i$3=0;i$3<ops.length;i$3++)endOperation_W2(ops[i$3]);for(var i$4=0;i$4<ops.length;i$4++)endOperation_finish(ops[i$4])}function endOperation_R1(op){var cm=op.cm,display=cm.display;maybeClipScrollbars(cm);if(op.updateMaxLine)findMaxLine(cm);op.mustUpdate=op.viewChanged||op.forceUpdate||op.scrollTop!=null||op.scrollToPos&&(op.scrollToPos.from.line<display.viewFrom||op.scrollToPos.to.line>=display.viewTo)||display.maxLineChanged&&cm.options.lineWrapping;\nop.update=op.mustUpdate&&new DisplayUpdate(cm,op.mustUpdate&&{top:op.scrollTop,ensure:op.scrollToPos},op.forceUpdate)}function endOperation_W1(op){op.updatedDisplay=op.mustUpdate&&updateDisplayIfNeeded(op.cm,op.update)}function endOperation_R2(op){var cm=op.cm,display=cm.display;if(op.updatedDisplay)updateHeightsInViewport(cm);op.barMeasure=measureForScrollbars(cm);if(display.maxLineChanged&&!cm.options.lineWrapping){op.adjustWidthTo=measureChar(cm,display.maxLine,display.maxLine.text.length).left+\n3;cm.display.sizerWidth=op.adjustWidthTo;op.barMeasure.scrollWidth=Math.max(display.scroller.clientWidth,display.sizer.offsetLeft+op.adjustWidthTo+scrollGap(cm)+cm.display.barWidth);op.maxScrollLeft=Math.max(0,display.sizer.offsetLeft+op.adjustWidthTo-displayWidth(cm))}if(op.updatedDisplay||op.selectionChanged)op.preparedSelection=display.input.prepareSelection()}function endOperation_W2(op){var cm=op.cm;if(op.adjustWidthTo!=null){cm.display.sizer.style.minWidth=op.adjustWidthTo+"px";if(op.maxScrollLeft<\ncm.doc.scrollLeft)setScrollLeft(cm,Math.min(cm.display.scroller.scrollLeft,op.maxScrollLeft),true);cm.display.maxLineChanged=false}var takeFocus=op.focus&&op.focus==activeElt();if(op.preparedSelection)cm.display.input.showSelection(op.preparedSelection,takeFocus);if(op.updatedDisplay||op.startHeight!=cm.doc.height)updateScrollbars(cm,op.barMeasure);if(op.updatedDisplay)setDocumentHeight(cm,op.barMeasure);if(op.selectionChanged)restartBlink(cm);if(cm.state.focused&&op.updateInput)cm.display.input.reset(op.typing);\nif(takeFocus)ensureFocus(op.cm)}function endOperation_finish(op){var cm=op.cm,display=cm.display,doc=cm.doc;if(op.updatedDisplay)postUpdateDisplay(cm,op.update);if(display.wheelStartX!=null&&(op.scrollTop!=null||op.scrollLeft!=null||op.scrollToPos))display.wheelStartX=display.wheelStartY=null;if(op.scrollTop!=null)setScrollTop(cm,op.scrollTop,op.forceScroll);if(op.scrollLeft!=null)setScrollLeft(cm,op.scrollLeft,true,true);if(op.scrollToPos){var rect=scrollPosIntoView(cm,clipPos(doc,op.scrollToPos.from),\nclipPos(doc,op.scrollToPos.to),op.scrollToPos.margin);maybeScrollWindow(cm,rect)}var hidden=op.maybeHiddenMarkers,unhidden=op.maybeUnhiddenMarkers;if(hidden)for(var i=0;i<hidden.length;++i)if(!hidden[i].lines.length)signal(hidden[i],"hide");if(unhidden)for(var i$1=0;i$1<unhidden.length;++i$1)if(unhidden[i$1].lines.length)signal(unhidden[i$1],"unhide");if(display.wrapper.offsetHeight)doc.scrollTop=cm.display.scroller.scrollTop;if(op.changeObjs)signal(cm,"changes",cm,op.changeObjs);if(op.update)op.update.finish()}\nfunction runInOp(cm,f){if(cm.curOp)return f();startOperation(cm);try{return f()}finally{endOperation(cm)}}function operation(cm,f){return function(){if(cm.curOp)return f.apply(cm,arguments);startOperation(cm);try{return f.apply(cm,arguments)}finally{endOperation(cm)}}}function methodOp(f){return function(){if(this.curOp)return f.apply(this,arguments);startOperation(this);try{return f.apply(this,arguments)}finally{endOperation(this)}}}function docMethodOp(f){return function(){var cm=this.cm;if(!cm||\ncm.curOp)return f.apply(this,arguments);startOperation(cm);try{return f.apply(this,arguments)}finally{endOperation(cm)}}}function startWorker(cm,time){if(cm.doc.highlightFrontier<cm.display.viewTo)cm.state.highlight.set(time,bind(highlightWorker,cm))}function highlightWorker(cm){var doc=cm.doc;if(doc.highlightFrontier>=cm.display.viewTo)return;var end=+new Date+cm.options.workTime;var context=getContextBefore(cm,doc.highlightFrontier);var changedLines=[];doc.iter(context.line,Math.min(doc.first+doc.size,\ncm.display.viewTo+500),function(line){if(context.line>=cm.display.viewFrom){var oldStyles=line.styles;var resetState=line.text.length>cm.options.maxHighlightLength?copyState(doc.mode,context.state):null;var highlighted=highlightLine(cm,line,context,true);if(resetState)context.state=resetState;line.styles=highlighted.styles;var oldCls=line.styleClasses,newCls=highlighted.classes;if(newCls)line.styleClasses=newCls;else if(oldCls)line.styleClasses=null;var ischange=!oldStyles||oldStyles.length!=line.styles.length||\noldCls!=newCls&&(!oldCls||!newCls||oldCls.bgClass!=newCls.bgClass||oldCls.textClass!=newCls.textClass);for(var i=0;!ischange&&i<oldStyles.length;++i)ischange=oldStyles[i]!=line.styles[i];if(ischange)changedLines.push(context.line);line.stateAfter=context.save();context.nextLine()}else{if(line.text.length<=cm.options.maxHighlightLength)processLine(cm,line.text,context);line.stateAfter=context.line%5==0?context.save():null;context.nextLine()}if(+new Date>end){startWorker(cm,cm.options.workDelay);return true}});\ndoc.highlightFrontier=context.line;doc.modeFrontier=Math.max(doc.modeFrontier,context.line);if(changedLines.length)runInOp(cm,function(){for(var i=0;i<changedLines.length;i++)regLineChange(cm,changedLines[i],"text")})}var DisplayUpdate=function(cm,viewport,force){var display=cm.display;this.viewport=viewport;this.visible=visibleLines(display,cm.doc,viewport);this.editorIsHidden=!display.wrapper.offsetWidth;this.wrapperHeight=display.wrapper.clientHeight;this.wrapperWidth=display.wrapper.clientWidth;\nthis.oldDisplayWidth=displayWidth(cm);this.force=force;this.dims=getDimensions(cm);this.events=[]};DisplayUpdate.prototype.signal=function(emitter,type){if(hasHandler(emitter,type))this.events.push(arguments)};DisplayUpdate.prototype.finish=function(){for(var i=0;i<this.events.length;i++)signal.apply(null,this.events[i])};function maybeClipScrollbars(cm){var display=cm.display;if(!display.scrollbarsClipped&&display.scroller.offsetWidth){display.nativeBarWidth=display.scroller.offsetWidth-display.scroller.clientWidth;\ndisplay.heightForcer.style.height=scrollGap(cm)+"px";display.sizer.style.marginBottom=-display.nativeBarWidth+"px";display.sizer.style.borderRightWidth=scrollGap(cm)+"px";display.scrollbarsClipped=true}}function selectionSnapshot(cm){if(cm.hasFocus())return null;var active=activeElt();if(!active||!contains(cm.display.lineDiv,active))return null;var result={activeElt:active};if(window.getSelection){var sel=window.getSelection();if(sel.anchorNode&&sel.extend&&contains(cm.display.lineDiv,sel.anchorNode)){result.anchorNode=\nsel.anchorNode;result.anchorOffset=sel.anchorOffset;result.focusNode=sel.focusNode;result.focusOffset=sel.focusOffset}}return result}function restoreSelection(snapshot){if(!snapshot||!snapshot.activeElt||snapshot.activeElt==activeElt())return;snapshot.activeElt.focus();if(!/^(INPUT|TEXTAREA)$/.test(snapshot.activeElt.nodeName)&&snapshot.anchorNode&&contains(document.body,snapshot.anchorNode)&&contains(document.body,snapshot.focusNode)){var sel=window.getSelection(),range=document.createRange();range.setEnd(snapshot.anchorNode,\nsnapshot.anchorOffset);range.collapse(false);sel.removeAllRanges();sel.addRange(range);sel.extend(snapshot.focusNode,snapshot.focusOffset)}}function updateDisplayIfNeeded(cm,update){var display=cm.display,doc=cm.doc;if(update.editorIsHidden){resetView(cm);return false}if(!update.force&&update.visible.from>=display.viewFrom&&update.visible.to<=display.viewTo&&(display.updateLineNumbers==null||display.updateLineNumbers>=display.viewTo)&&display.renderedView==display.view&&countDirtyView(cm)==0)return false;\nif(maybeUpdateLineNumberWidth(cm)){resetView(cm);update.dims=getDimensions(cm)}var end=doc.first+doc.size;var from=Math.max(update.visible.from-cm.options.viewportMargin,doc.first);var to=Math.min(end,update.visible.to+cm.options.viewportMargin);if(display.viewFrom<from&&from-display.viewFrom<20)from=Math.max(doc.first,display.viewFrom);if(display.viewTo>to&&display.viewTo-to<20)to=Math.min(end,display.viewTo);if(sawCollapsedSpans){from=visualLineNo(cm.doc,from);to=visualLineEndNo(cm.doc,to)}var different=\nfrom!=display.viewFrom||to!=display.viewTo||display.lastWrapHeight!=update.wrapperHeight||display.lastWrapWidth!=update.wrapperWidth;adjustView(cm,from,to);display.viewOffset=heightAtLine(getLine(cm.doc,display.viewFrom));cm.display.mover.style.top=display.viewOffset+"px";var toUpdate=countDirtyView(cm);if(!different&&toUpdate==0&&!update.force&&display.renderedView==display.view&&(display.updateLineNumbers==null||display.updateLineNumbers>=display.viewTo))return false;var selSnapshot=selectionSnapshot(cm);\nif(toUpdate>4)display.lineDiv.style.display="none";patchDisplay(cm,display.updateLineNumbers,update.dims);if(toUpdate>4)display.lineDiv.style.display="";display.renderedView=display.view;restoreSelection(selSnapshot);removeChildren(display.cursorDiv);removeChildren(display.selectionDiv);display.gutters.style.height=display.sizer.style.minHeight=0;if(different){display.lastWrapHeight=update.wrapperHeight;display.lastWrapWidth=update.wrapperWidth;startWorker(cm,400)}display.updateLineNumbers=null;return true}\nfunction postUpdateDisplay(cm,update){var viewport=update.viewport;for(var first=true;;first=false){if(!first||!cm.options.lineWrapping||update.oldDisplayWidth==displayWidth(cm)){if(viewport&&viewport.top!=null)viewport={top:Math.min(cm.doc.height+paddingVert(cm.display)-displayHeight(cm),viewport.top)};update.visible=visibleLines(cm.display,cm.doc,viewport);if(update.visible.from>=cm.display.viewFrom&&update.visible.to<=cm.display.viewTo)break}else if(first)update.visible=visibleLines(cm.display,\ncm.doc,viewport);if(!updateDisplayIfNeeded(cm,update))break;updateHeightsInViewport(cm);var barMeasure=measureForScrollbars(cm);updateSelection(cm);updateScrollbars(cm,barMeasure);setDocumentHeight(cm,barMeasure);update.force=false}update.signal(cm,"update",cm);if(cm.display.viewFrom!=cm.display.reportedViewFrom||cm.display.viewTo!=cm.display.reportedViewTo){update.signal(cm,"viewportChange",cm,cm.display.viewFrom,cm.display.viewTo);cm.display.reportedViewFrom=cm.display.viewFrom;cm.display.reportedViewTo=\ncm.display.viewTo}}function updateDisplaySimple(cm,viewport){var update=new DisplayUpdate(cm,viewport);if(updateDisplayIfNeeded(cm,update)){updateHeightsInViewport(cm);postUpdateDisplay(cm,update);var barMeasure=measureForScrollbars(cm);updateSelection(cm);updateScrollbars(cm,barMeasure);setDocumentHeight(cm,barMeasure);update.finish()}}function patchDisplay(cm,updateNumbersFrom,dims){var display=cm.display,lineNumbers=cm.options.lineNumbers;var container=display.lineDiv,cur=container.firstChild;\nfunction rm(node){var next=node.nextSibling;if(webkit&&mac&&cm.display.currentWheelTarget==node)node.style.display="none";else node.parentNode.removeChild(node);return next}var view=display.view,lineN=display.viewFrom;for(var i=0;i<view.length;i++){var lineView=view[i];if(lineView.hidden);else if(!lineView.node||lineView.node.parentNode!=container){var node=buildLineElement(cm,lineView,lineN,dims);container.insertBefore(node,cur)}else{while(cur!=lineView.node)cur=rm(cur);var updateNumber=lineNumbers&&\nupdateNumbersFrom!=null&&updateNumbersFrom<=lineN&&lineView.lineNumber;if(lineView.changes){if(indexOf(lineView.changes,"gutter")>-1)updateNumber=false;updateLineForChanges(cm,lineView,lineN,dims)}if(updateNumber){removeChildren(lineView.lineNumber);lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options,lineN)))}cur=lineView.node.nextSibling}lineN+=lineView.size}while(cur)cur=rm(cur)}function updateGutterSpace(display){var width=display.gutters.offsetWidth;display.sizer.style.marginLeft=\nwidth+"px";signalLater(display,"gutterChanged",display)}function setDocumentHeight(cm,measure){cm.display.sizer.style.minHeight=measure.docHeight+"px";cm.display.heightForcer.style.top=measure.docHeight+"px";cm.display.gutters.style.height=measure.docHeight+cm.display.barHeight+scrollGap(cm)+"px"}function alignHorizontally(cm){var display=cm.display,view=display.view;if(!display.alignWidgets&&(!display.gutters.firstChild||!cm.options.fixedGutter))return;var comp=compensateForHScroll(display)-display.scroller.scrollLeft+\ncm.doc.scrollLeft;var gutterW=display.gutters.offsetWidth,left=comp+"px";for(var i=0;i<view.length;i++)if(!view[i].hidden){if(cm.options.fixedGutter){if(view[i].gutter)view[i].gutter.style.left=left;if(view[i].gutterBackground)view[i].gutterBackground.style.left=left}var align=view[i].alignable;if(align)for(var j=0;j<align.length;j++)align[j].style.left=left}if(cm.options.fixedGutter)display.gutters.style.left=comp+gutterW+"px"}function maybeUpdateLineNumberWidth(cm){if(!cm.options.lineNumbers)return false;\nvar doc=cm.doc,last=lineNumberFor(cm.options,doc.first+doc.size-1),display=cm.display;if(last.length!=display.lineNumChars){var test=display.measure.appendChild(elt("div",[elt("div",last)],"CodeMirror-linenumber CodeMirror-gutter-elt"));var innerW=test.firstChild.offsetWidth,padding=test.offsetWidth-innerW;display.lineGutter.style.width="";display.lineNumInnerWidth=Math.max(innerW,display.lineGutter.offsetWidth-padding)+1;display.lineNumWidth=display.lineNumInnerWidth+padding;display.lineNumChars=\ndisplay.lineNumInnerWidth?last.length:-1;display.lineGutter.style.width=display.lineNumWidth+"px";updateGutterSpace(cm.display);return true}return false}function getGutters(gutters,lineNumbers){var result=[],sawLineNumbers=false;for(var i=0;i<gutters.length;i++){var name=gutters[i],style=null;if(typeof name!="string"){style=name.style;name=name.className}if(name=="CodeMirror-linenumbers")if(!lineNumbers)continue;else sawLineNumbers=true;result.push({className:name,style:style})}if(lineNumbers&&!sawLineNumbers)result.push({className:"CodeMirror-linenumbers",\nstyle:null});return result}function renderGutters(display){var gutters=display.gutters,specs=display.gutterSpecs;removeChildren(gutters);display.lineGutter=null;for(var i=0;i<specs.length;++i){var ref=specs[i];var className=ref.className;var style=ref.style;var gElt=gutters.appendChild(elt("div",null,"CodeMirror-gutter "+className));if(style)gElt.style.cssText=style;if(className=="CodeMirror-linenumbers"){display.lineGutter=gElt;gElt.style.width=(display.lineNumWidth||1)+"px"}}gutters.style.display=\nspecs.length?"":"none";updateGutterSpace(display)}function updateGutters(cm){renderGutters(cm.display);regChange(cm);alignHorizontally(cm)}function Display(place,doc,input,options){var d=this;this.input=input;d.scrollbarFiller=elt("div",null,"CodeMirror-scrollbar-filler");d.scrollbarFiller.setAttribute("cm-not-content","true");d.gutterFiller=elt("div",null,"CodeMirror-gutter-filler");d.gutterFiller.setAttribute("cm-not-content","true");d.lineDiv=eltP("div",null,"CodeMirror-code");d.selectionDiv=elt("div",\nnull,null,"position: relative; z-index: 1");d.cursorDiv=elt("div",null,"CodeMirror-cursors");d.measure=elt("div",null,"CodeMirror-measure");d.lineMeasure=elt("div",null,"CodeMirror-measure");d.lineSpace=eltP("div",[d.measure,d.lineMeasure,d.selectionDiv,d.cursorDiv,d.lineDiv],null,"position: relative; outline: none");var lines=eltP("div",[d.lineSpace],"CodeMirror-lines");d.mover=elt("div",[lines],null,"position: relative");d.sizer=elt("div",[d.mover],"CodeMirror-sizer");d.sizerWidth=null;d.heightForcer=\nelt("div",null,null,"position: absolute; height: "+scrollerGap+"px; width: 1px;");d.gutters=elt("div",null,"CodeMirror-gutters");d.lineGutter=null;d.scroller=elt("div",[d.sizer,d.heightForcer,d.gutters],"CodeMirror-scroll");d.scroller.setAttribute("tabIndex","-1");d.wrapper=elt("div",[d.scrollbarFiller,d.gutterFiller,d.scroller],"CodeMirror");d.wrapper.setAttribute("translate","no");if(ie&&ie_version<8){d.gutters.style.zIndex=-1;d.scroller.style.paddingRight=0}if(!webkit&&!(gecko&&mobile))d.scroller.draggable=\ntrue;if(place)if(place.appendChild)place.appendChild(d.wrapper);else place(d.wrapper);d.viewFrom=d.viewTo=doc.first;d.reportedViewFrom=d.reportedViewTo=doc.first;d.view=[];d.renderedView=null;d.externalMeasured=null;d.viewOffset=0;d.lastWrapHeight=d.lastWrapWidth=0;d.updateLineNumbers=null;d.nativeBarWidth=d.barHeight=d.barWidth=0;d.scrollbarsClipped=false;d.lineNumWidth=d.lineNumInnerWidth=d.lineNumChars=null;d.alignWidgets=false;d.cachedCharWidth=d.cachedTextHeight=d.cachedPaddingH=null;d.maxLine=\nnull;d.maxLineLength=0;d.maxLineChanged=false;d.wheelDX=d.wheelDY=d.wheelStartX=d.wheelStartY=null;d.shift=false;d.selForContextMenu=null;d.activeTouch=null;d.gutterSpecs=getGutters(options.gutters,options.lineNumbers);renderGutters(d);input.init(d)}var wheelSamples=0,wheelPixelsPerUnit=null;if(ie)wheelPixelsPerUnit=-.53;else if(gecko)wheelPixelsPerUnit=15;else if(chrome)wheelPixelsPerUnit=-.7;else if(safari)wheelPixelsPerUnit=-1/3;function wheelEventDelta(e){var dx=e.wheelDeltaX,dy=e.wheelDeltaY;\nif(dx==null&&e.detail&&e.axis==e.HORIZONTAL_AXIS)dx=e.detail;if(dy==null&&e.detail&&e.axis==e.VERTICAL_AXIS)dy=e.detail;else if(dy==null)dy=e.wheelDelta;return{x:dx,y:dy}}function wheelEventPixels(e){var delta=wheelEventDelta(e);delta.x*=wheelPixelsPerUnit;delta.y*=wheelPixelsPerUnit;return delta}function onScrollWheel(cm,e){if(chrome&&chrome_version==102){if(cm.display.chromeScrollHack==null)cm.display.sizer.style.pointerEvents="none";else clearTimeout(cm.display.chromeScrollHack);cm.display.chromeScrollHack=\nsetTimeout(function(){cm.display.chromeScrollHack=null;cm.display.sizer.style.pointerEvents=""},100)}var delta=wheelEventDelta(e),dx=delta.x,dy=delta.y;var pixelsPerUnit=wheelPixelsPerUnit;if(e.deltaMode===0){dx=e.deltaX;dy=e.deltaY;pixelsPerUnit=1}var display=cm.display,scroll=display.scroller;var canScrollX=scroll.scrollWidth>scroll.clientWidth;var canScrollY=scroll.scrollHeight>scroll.clientHeight;if(!(dx&&canScrollX||dy&&canScrollY))return;if(dy&&mac&&webkit)outer:for(var cur=e.target,view=display.view;cur!=\nscroll;cur=cur.parentNode)for(var i=0;i<view.length;i++)if(view[i].node==cur){cm.display.currentWheelTarget=cur;break outer}if(dx&&!gecko&&!presto&&pixelsPerUnit!=null){if(dy&&canScrollY)updateScrollTop(cm,Math.max(0,scroll.scrollTop+dy*pixelsPerUnit));setScrollLeft(cm,Math.max(0,scroll.scrollLeft+dx*pixelsPerUnit));if(!dy||dy&&canScrollY)e_preventDefault(e);display.wheelStartX=null;return}if(dy&&pixelsPerUnit!=null){var pixels=dy*pixelsPerUnit;var top=cm.doc.scrollTop,bot=top+display.wrapper.clientHeight;\nif(pixels<0)top=Math.max(0,top+pixels-50);else bot=Math.min(cm.doc.height,bot+pixels+50);updateDisplaySimple(cm,{top:top,bottom:bot})}if(wheelSamples<20&&e.deltaMode!==0)if(display.wheelStartX==null){display.wheelStartX=scroll.scrollLeft;display.wheelStartY=scroll.scrollTop;display.wheelDX=dx;display.wheelDY=dy;setTimeout(function(){if(display.wheelStartX==null)return;var movedX=scroll.scrollLeft-display.wheelStartX;var movedY=scroll.scrollTop-display.wheelStartY;var sample=movedY&&display.wheelDY&&\nmovedY/display.wheelDY||movedX&&display.wheelDX&&movedX/display.wheelDX;display.wheelStartX=display.wheelStartY=null;if(!sample)return;wheelPixelsPerUnit=(wheelPixelsPerUnit*wheelSamples+sample)/(wheelSamples+1);++wheelSamples},200)}else{display.wheelDX+=dx;display.wheelDY+=dy}}var Selection=function(ranges,primIndex){this.ranges=ranges;this.primIndex=primIndex};Selection.prototype.primary=function(){return this.ranges[this.primIndex]};Selection.prototype.equals=function(other){if(other==this)return true;\nif(other.primIndex!=this.primIndex||other.ranges.length!=this.ranges.length)return false;for(var i=0;i<this.ranges.length;i++){var here=this.ranges[i],there=other.ranges[i];if(!equalCursorPos(here.anchor,there.anchor)||!equalCursorPos(here.head,there.head))return false}return true};Selection.prototype.deepCopy=function(){var out=[];for(var i=0;i<this.ranges.length;i++)out[i]=new Range(copyPos(this.ranges[i].anchor),copyPos(this.ranges[i].head));return new Selection(out,this.primIndex)};Selection.prototype.somethingSelected=\nfunction(){for(var i=0;i<this.ranges.length;i++)if(!this.ranges[i].empty())return true;return false};Selection.prototype.contains=function(pos,end){if(!end)end=pos;for(var i=0;i<this.ranges.length;i++){var range=this.ranges[i];if(cmp(end,range.from())>=0&&cmp(pos,range.to())<=0)return i}return-1};var Range=function(anchor,head){this.anchor=anchor;this.head=head};Range.prototype.from=function(){return minPos(this.anchor,this.head)};Range.prototype.to=function(){return maxPos(this.anchor,this.head)};\nRange.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function normalizeSelection(cm,ranges,primIndex){var mayTouch=cm&&cm.options.selectionsMayTouch;var prim=ranges[primIndex];ranges.sort(function(a,b){return cmp(a.from(),b.from())});primIndex=indexOf(ranges,prim);for(var i=1;i<ranges.length;i++){var cur=ranges[i],prev=ranges[i-1];var diff=cmp(prev.to(),cur.from());if(mayTouch&&!cur.empty()?diff>0:diff>=0){var from=minPos(prev.from(),cur.from()),\nto=maxPos(prev.to(),cur.to());var inv=prev.empty()?cur.from()==cur.head:prev.from()==prev.head;if(i<=primIndex)--primIndex;ranges.splice(--i,2,new Range(inv?to:from,inv?from:to))}}return new Selection(ranges,primIndex)}function simpleSelection(anchor,head){return new Selection([new Range(anchor,head||anchor)],0)}function changeEnd(change){if(!change.text)return change.to;return Pos(change.from.line+change.text.length-1,lst(change.text).length+(change.text.length==1?change.from.ch:0))}function adjustForChange(pos,\nchange){if(cmp(pos,change.from)<0)return pos;if(cmp(pos,change.to)<=0)return changeEnd(change);var line=pos.line+change.text.length-(change.to.line-change.from.line)-1,ch=pos.ch;if(pos.line==change.to.line)ch+=changeEnd(change).ch-change.to.ch;return Pos(line,ch)}function computeSelAfterChange(doc,change){var out=[];for(var i=0;i<doc.sel.ranges.length;i++){var range=doc.sel.ranges[i];out.push(new Range(adjustForChange(range.anchor,change),adjustForChange(range.head,change)))}return normalizeSelection(doc.cm,\nout,doc.sel.primIndex)}function offsetPos(pos,old,nw){if(pos.line==old.line)return Pos(nw.line,pos.ch-old.ch+nw.ch);else return Pos(nw.line+(pos.line-old.line),pos.ch)}function computeReplacedSel(doc,changes,hint){var out=[];var oldPrev=Pos(doc.first,0),newPrev=oldPrev;for(var i=0;i<changes.length;i++){var change=changes[i];var from=offsetPos(change.from,oldPrev,newPrev);var to=offsetPos(changeEnd(change),oldPrev,newPrev);oldPrev=change.to;newPrev=to;if(hint=="around"){var range=doc.sel.ranges[i],\ninv=cmp(range.head,range.anchor)<0;out[i]=new Range(inv?to:from,inv?from:to)}else out[i]=new Range(from,from)}return new Selection(out,doc.sel.primIndex)}function loadMode(cm){cm.doc.mode=getMode(cm.options,cm.doc.modeOption);resetModeState(cm)}function resetModeState(cm){cm.doc.iter(function(line){if(line.stateAfter)line.stateAfter=null;if(line.styles)line.styles=null});cm.doc.modeFrontier=cm.doc.highlightFrontier=cm.doc.first;startWorker(cm,100);cm.state.modeGen++;if(cm.curOp)regChange(cm)}function isWholeLineUpdate(doc,\nchange){return change.from.ch==0&&change.to.ch==0&&lst(change.text)==""&&(!doc.cm||doc.cm.options.wholeLineUpdateBefore)}function updateDoc(doc,change,markedSpans,estimateHeight){function spansFor(n){return markedSpans?markedSpans[n]:null}function update(line,text,spans){updateLine(line,text,spans,estimateHeight);signalLater(line,"change",line,change)}function linesFor(start,end){var result=[];for(var i=start;i<end;++i)result.push(new Line(text[i],spansFor(i),estimateHeight));return result}var from=\nchange.from,to=change.to,text=change.text;var firstLine=getLine(doc,from.line),lastLine=getLine(doc,to.line);var lastText=lst(text),lastSpans=spansFor(text.length-1),nlines=to.line-from.line;if(change.full){doc.insert(0,linesFor(0,text.length));doc.remove(text.length,doc.size-text.length)}else if(isWholeLineUpdate(doc,change)){var added=linesFor(0,text.length-1);update(lastLine,lastLine.text,lastSpans);if(nlines)doc.remove(from.line,nlines);if(added.length)doc.insert(from.line,added)}else if(firstLine==\nlastLine)if(text.length==1)update(firstLine,firstLine.text.slice(0,from.ch)+lastText+firstLine.text.slice(to.ch),lastSpans);else{var added$1=linesFor(1,text.length-1);added$1.push(new Line(lastText+firstLine.text.slice(to.ch),lastSpans,estimateHeight));update(firstLine,firstLine.text.slice(0,from.ch)+text[0],spansFor(0));doc.insert(from.line+1,added$1)}else if(text.length==1){update(firstLine,firstLine.text.slice(0,from.ch)+text[0]+lastLine.text.slice(to.ch),spansFor(0));doc.remove(from.line+1,nlines)}else{update(firstLine,\nfirstLine.text.slice(0,from.ch)+text[0],spansFor(0));update(lastLine,lastText+lastLine.text.slice(to.ch),lastSpans);var added$2=linesFor(1,text.length-1);if(nlines>1)doc.remove(from.line+1,nlines-1);doc.insert(from.line+1,added$2)}signalLater(doc,"change",doc,change)}function linkedDocs(doc,f,sharedHistOnly){function propagate(doc,skip,sharedHist){if(doc.linked)for(var i=0;i<doc.linked.length;++i){var rel=doc.linked[i];if(rel.doc==skip)continue;var shared=sharedHist&&rel.sharedHist;if(sharedHistOnly&&\n!shared)continue;f(rel.doc,shared);propagate(rel.doc,doc,shared)}}propagate(doc,null,true)}function attachDoc(cm,doc){if(doc.cm)throw new Error("This document is already in use.");cm.doc=doc;doc.cm=cm;estimateLineHeights(cm);loadMode(cm);setDirectionClass(cm);cm.options.direction=doc.direction;if(!cm.options.lineWrapping)findMaxLine(cm);cm.options.mode=doc.modeOption;regChange(cm)}function setDirectionClass(cm){(cm.doc.direction=="rtl"?addClass:rmClass)(cm.display.lineDiv,"CodeMirror-rtl")}function directionChanged(cm){runInOp(cm,\nfunction(){setDirectionClass(cm);regChange(cm)})}function History(prev){this.done=[];this.undone=[];this.undoDepth=prev?prev.undoDepth:Infinity;this.lastModTime=this.lastSelTime=0;this.lastOp=this.lastSelOp=null;this.lastOrigin=this.lastSelOrigin=null;this.generation=this.maxGeneration=prev?prev.maxGeneration:1}function historyChangeFromChange(doc,change){var histChange={from:copyPos(change.from),to:changeEnd(change),text:getBetween(doc,change.from,change.to)};attachLocalSpans(doc,histChange,change.from.line,\nchange.to.line+1);linkedDocs(doc,function(doc){return attachLocalSpans(doc,histChange,change.from.line,change.to.line+1)},true);return histChange}function clearSelectionEvents(array){while(array.length){var last=lst(array);if(last.ranges)array.pop();else break}}function lastChangeEvent(hist,force){if(force){clearSelectionEvents(hist.done);return lst(hist.done)}else if(hist.done.length&&!lst(hist.done).ranges)return lst(hist.done);else if(hist.done.length>1&&!hist.done[hist.done.length-2].ranges){hist.done.pop();\nreturn lst(hist.done)}}function addChangeToHistory(doc,change,selAfter,opId){var hist=doc.history;hist.undone.length=0;var time=+new Date,cur;var last;if((hist.lastOp==opId||hist.lastOrigin==change.origin&&change.origin&&(change.origin.charAt(0)=="+"&&hist.lastModTime>time-(doc.cm?doc.cm.options.historyEventDelay:500)||change.origin.charAt(0)=="*"))&&(cur=lastChangeEvent(hist,hist.lastOp==opId))){last=lst(cur.changes);if(cmp(change.from,change.to)==0&&cmp(change.from,last.to)==0)last.to=changeEnd(change);\nelse cur.changes.push(historyChangeFromChange(doc,change))}else{var before=lst(hist.done);if(!before||!before.ranges)pushSelectionToHistory(doc.sel,hist.done);cur={changes:[historyChangeFromChange(doc,change)],generation:hist.generation};hist.done.push(cur);while(hist.done.length>hist.undoDepth){hist.done.shift();if(!hist.done[0].ranges)hist.done.shift()}}hist.done.push(selAfter);hist.generation=++hist.maxGeneration;hist.lastModTime=hist.lastSelTime=time;hist.lastOp=hist.lastSelOp=opId;hist.lastOrigin=\nhist.lastSelOrigin=change.origin;if(!last)signal(doc,"historyAdded")}function selectionEventCanBeMerged(doc,origin,prev,sel){var ch=origin.charAt(0);return ch=="*"||ch=="+"&&prev.ranges.length==sel.ranges.length&&prev.somethingSelected()==sel.somethingSelected()&&new Date-doc.history.lastSelTime<=(doc.cm?doc.cm.options.historyEventDelay:500)}function addSelectionToHistory(doc,sel,opId,options){var hist=doc.history,origin=options&&options.origin;if(opId==hist.lastSelOp||origin&&hist.lastSelOrigin==\norigin&&(hist.lastModTime==hist.lastSelTime&&hist.lastOrigin==origin||selectionEventCanBeMerged(doc,origin,lst(hist.done),sel)))hist.done[hist.done.length-1]=sel;else pushSelectionToHistory(sel,hist.done);hist.lastSelTime=+new Date;hist.lastSelOrigin=origin;hist.lastSelOp=opId;if(options&&options.clearRedo!==false)clearSelectionEvents(hist.undone)}function pushSelectionToHistory(sel,dest){var top=lst(dest);if(!(top&&top.ranges&&top.equals(sel)))dest.push(sel)}function attachLocalSpans(doc,change,\nfrom,to){var existing=change["spans_"+doc.id],n=0;doc.iter(Math.max(doc.first,from),Math.min(doc.first+doc.size,to),function(line){if(line.markedSpans)(existing||(existing=change["spans_"+doc.id]={}))[n]=line.markedSpans;++n})}function removeClearedSpans(spans){if(!spans)return null;var out;for(var i=0;i<spans.length;++i)if(spans[i].marker.explicitlyCleared){if(!out)out=spans.slice(0,i)}else if(out)out.push(spans[i]);return!out?spans:out.length?out:null}function getOldSpans(doc,change){var found=\nchange["spans_"+doc.id];if(!found)return null;var nw=[];for(var i=0;i<change.text.length;++i)nw.push(removeClearedSpans(found[i]));return nw}function mergeOldSpans(doc,change){var old=getOldSpans(doc,change);var stretched=stretchSpansOverChange(doc,change);if(!old)return stretched;if(!stretched)return old;for(var i=0;i<old.length;++i){var oldCur=old[i],stretchCur=stretched[i];if(oldCur&&stretchCur)spans:for(var j=0;j<stretchCur.length;++j){var span=stretchCur[j];for(var k=0;k<oldCur.length;++k)if(oldCur[k].marker==\nspan.marker)continue spans;oldCur.push(span)}else if(stretchCur)old[i]=stretchCur}return old}function copyHistoryArray(events,newGroup,instantiateSel){var copy=[];for(var i=0;i<events.length;++i){var event=events[i];if(event.ranges){copy.push(instantiateSel?Selection.prototype.deepCopy.call(event):event);continue}var changes=event.changes,newChanges=[];copy.push({changes:newChanges});for(var j=0;j<changes.length;++j){var change=changes[j],m=void 0;newChanges.push({from:change.from,to:change.to,text:change.text});\nif(newGroup)for(var prop in change)if(m=prop.match(/^spans_(\\d+)$/))if(indexOf(newGroup,Number(m[1]))>-1){lst(newChanges)[prop]=change[prop];delete change[prop]}}}return copy}function extendRange(range,head,other,extend){if(extend){var anchor=range.anchor;if(other){var posBefore=cmp(head,anchor)<0;if(posBefore!=cmp(other,anchor)<0){anchor=head;head=other}else if(posBefore!=cmp(head,other)<0)head=other}return new Range(anchor,head)}else return new Range(other||head,head)}function extendSelection(doc,\nhead,other,options,extend){if(extend==null)extend=doc.cm&&(doc.cm.display.shift||doc.extend);setSelection(doc,new Selection([extendRange(doc.sel.primary(),head,other,extend)],0),options)}function extendSelections(doc,heads,options){var out=[];var extend=doc.cm&&(doc.cm.display.shift||doc.extend);for(var i=0;i<doc.sel.ranges.length;i++)out[i]=extendRange(doc.sel.ranges[i],heads[i],null,extend);var newSel=normalizeSelection(doc.cm,out,doc.sel.primIndex);setSelection(doc,newSel,options)}function replaceOneSelection(doc,\ni,range,options){var ranges=doc.sel.ranges.slice(0);ranges[i]=range;setSelection(doc,normalizeSelection(doc.cm,ranges,doc.sel.primIndex),options)}function setSimpleSelection(doc,anchor,head,options){setSelection(doc,simpleSelection(anchor,head),options)}function filterSelectionChange(doc,sel,options){var obj={ranges:sel.ranges,update:function(ranges){this.ranges=[];for(var i=0;i<ranges.length;i++)this.ranges[i]=new Range(clipPos(doc,ranges[i].anchor),clipPos(doc,ranges[i].head))},origin:options&&\noptions.origin};signal(doc,"beforeSelectionChange",doc,obj);if(doc.cm)signal(doc.cm,"beforeSelectionChange",doc.cm,obj);if(obj.ranges!=sel.ranges)return normalizeSelection(doc.cm,obj.ranges,obj.ranges.length-1);else return sel}function setSelectionReplaceHistory(doc,sel,options){var done=doc.history.done,last=lst(done);if(last&&last.ranges){done[done.length-1]=sel;setSelectionNoUndo(doc,sel,options)}else setSelection(doc,sel,options)}function setSelection(doc,sel,options){setSelectionNoUndo(doc,sel,\noptions);addSelectionToHistory(doc,doc.sel,doc.cm?doc.cm.curOp.id:NaN,options)}function setSelectionNoUndo(doc,sel,options){if(hasHandler(doc,"beforeSelectionChange")||doc.cm&&hasHandler(doc.cm,"beforeSelectionChange"))sel=filterSelectionChange(doc,sel,options);var bias=options&&options.bias||(cmp(sel.primary().head,doc.sel.primary().head)<0?-1:1);setSelectionInner(doc,skipAtomicInSelection(doc,sel,bias,true));if(!(options&&options.scroll===false)&&doc.cm&&doc.cm.getOption("readOnly")!="nocursor")ensureCursorVisible(doc.cm)}\nfunction setSelectionInner(doc,sel){if(sel.equals(doc.sel))return;doc.sel=sel;if(doc.cm){doc.cm.curOp.updateInput=1;doc.cm.curOp.selectionChanged=true;signalCursorActivity(doc.cm)}signalLater(doc,"cursorActivity",doc)}function reCheckSelection(doc){setSelectionInner(doc,skipAtomicInSelection(doc,doc.sel,null,false))}function skipAtomicInSelection(doc,sel,bias,mayClear){var out;for(var i=0;i<sel.ranges.length;i++){var range=sel.ranges[i];var old=sel.ranges.length==doc.sel.ranges.length&&doc.sel.ranges[i];\nvar newAnchor=skipAtomic(doc,range.anchor,old&&old.anchor,bias,mayClear);var newHead=range.head==range.anchor?newAnchor:skipAtomic(doc,range.head,old&&old.head,bias,mayClear);if(out||newAnchor!=range.anchor||newHead!=range.head){if(!out)out=sel.ranges.slice(0,i);out[i]=new Range(newAnchor,newHead)}}return out?normalizeSelection(doc.cm,out,sel.primIndex):sel}function skipAtomicInner(doc,pos,oldPos,dir,mayClear){var line=getLine(doc,pos.line);if(line.markedSpans)for(var i=0;i<line.markedSpans.length;++i){var sp=\nline.markedSpans[i],m=sp.marker;var preventCursorLeft="selectLeft"in m?!m.selectLeft:m.inclusiveLeft;var preventCursorRight="selectRight"in m?!m.selectRight:m.inclusiveRight;if((sp.from==null||(preventCursorLeft?sp.from<=pos.ch:sp.from<pos.ch))&&(sp.to==null||(preventCursorRight?sp.to>=pos.ch:sp.to>pos.ch))){if(mayClear){signal(m,"beforeCursorEnter");if(m.explicitlyCleared)if(!line.markedSpans)break;else{--i;continue}}if(!m.atomic)continue;if(oldPos){var near=m.find(dir<0?1:-1),diff=void 0;if(dir<\n0?preventCursorRight:preventCursorLeft)near=movePos(doc,near,-dir,near&&near.line==pos.line?line:null);if(near&&near.line==pos.line&&(diff=cmp(near,oldPos))&&(dir<0?diff<0:diff>0))return skipAtomicInner(doc,near,pos,dir,mayClear)}var far=m.find(dir<0?-1:1);if(dir<0?preventCursorLeft:preventCursorRight)far=movePos(doc,far,dir,far.line==pos.line?line:null);return far?skipAtomicInner(doc,far,pos,dir,mayClear):null}}return pos}function skipAtomic(doc,pos,oldPos,bias,mayClear){var dir=bias||1;var found=\nskipAtomicInner(doc,pos,oldPos,dir,mayClear)||!mayClear&&skipAtomicInner(doc,pos,oldPos,dir,true)||skipAtomicInner(doc,pos,oldPos,-dir,mayClear)||!mayClear&&skipAtomicInner(doc,pos,oldPos,-dir,true);if(!found){doc.cantEdit=true;return Pos(doc.first,0)}return found}function movePos(doc,pos,dir,line){if(dir<0&&pos.ch==0)if(pos.line>doc.first)return clipPos(doc,Pos(pos.line-1));else return null;else if(dir>0&&pos.ch==(line||getLine(doc,pos.line)).text.length)if(pos.line<doc.first+doc.size-1)return Pos(pos.line+\n1,0);else return null;else return new Pos(pos.line,pos.ch+dir)}function selectAll(cm){cm.setSelection(Pos(cm.firstLine(),0),Pos(cm.lastLine()),sel_dontScroll)}function filterChange(doc,change,update){var obj={canceled:false,from:change.from,to:change.to,text:change.text,origin:change.origin,cancel:function(){return obj.canceled=true}};if(update)obj.update=function(from,to,text,origin){if(from)obj.from=clipPos(doc,from);if(to)obj.to=clipPos(doc,to);if(text)obj.text=text;if(origin!==undefined)obj.origin=\norigin};signal(doc,"beforeChange",doc,obj);if(doc.cm)signal(doc.cm,"beforeChange",doc.cm,obj);if(obj.canceled){if(doc.cm)doc.cm.curOp.updateInput=2;return null}return{from:obj.from,to:obj.to,text:obj.text,origin:obj.origin}}function makeChange(doc,change,ignoreReadOnly){if(doc.cm){if(!doc.cm.curOp)return operation(doc.cm,makeChange)(doc,change,ignoreReadOnly);if(doc.cm.state.suppressEdits)return}if(hasHandler(doc,"beforeChange")||doc.cm&&hasHandler(doc.cm,"beforeChange")){change=filterChange(doc,\nchange,true);if(!change)return}var split=sawReadOnlySpans&&!ignoreReadOnly&&removeReadOnlyRanges(doc,change.from,change.to);if(split)for(var i=split.length-1;i>=0;--i)makeChangeInner(doc,{from:split[i].from,to:split[i].to,text:i?[""]:change.text,origin:change.origin});else makeChangeInner(doc,change)}function makeChangeInner(doc,change){if(change.text.length==1&&change.text[0]==""&&cmp(change.from,change.to)==0)return;var selAfter=computeSelAfterChange(doc,change);addChangeToHistory(doc,change,selAfter,\ndoc.cm?doc.cm.curOp.id:NaN);makeChangeSingleDoc(doc,change,selAfter,stretchSpansOverChange(doc,change));var rebased=[];linkedDocs(doc,function(doc,sharedHist){if(!sharedHist&&indexOf(rebased,doc.history)==-1){rebaseHist(doc.history,change);rebased.push(doc.history)}makeChangeSingleDoc(doc,change,null,stretchSpansOverChange(doc,change))})}function makeChangeFromHistory(doc,type,allowSelectionOnly){var suppress=doc.cm&&doc.cm.state.suppressEdits;if(suppress&&!allowSelectionOnly)return;var hist=doc.history,\nevent,selAfter=doc.sel;var source=type=="undo"?hist.done:hist.undone,dest=type=="undo"?hist.undone:hist.done;var i=0;for(;i<source.length;i++){event=source[i];if(allowSelectionOnly?event.ranges&&!event.equals(doc.sel):!event.ranges)break}if(i==source.length)return;hist.lastOrigin=hist.lastSelOrigin=null;for(;;){event=source.pop();if(event.ranges){pushSelectionToHistory(event,dest);if(allowSelectionOnly&&!event.equals(doc.sel)){setSelection(doc,event,{clearRedo:false});return}selAfter=event}else if(suppress){source.push(event);\nreturn}else break}var antiChanges=[];pushSelectionToHistory(selAfter,dest);dest.push({changes:antiChanges,generation:hist.generation});hist.generation=event.generation||++hist.maxGeneration;var filter=hasHandler(doc,"beforeChange")||doc.cm&&hasHandler(doc.cm,"beforeChange");var loop=function(i){var change=event.changes[i];change.origin=type;if(filter&&!filterChange(doc,change,false)){source.length=0;return{}}antiChanges.push(historyChangeFromChange(doc,change));var after=i?computeSelAfterChange(doc,\nchange):lst(source);makeChangeSingleDoc(doc,change,after,mergeOldSpans(doc,change));if(!i&&doc.cm)doc.cm.scrollIntoView({from:change.from,to:changeEnd(change)});var rebased=[];linkedDocs(doc,function(doc,sharedHist){if(!sharedHist&&indexOf(rebased,doc.history)==-1){rebaseHist(doc.history,change);rebased.push(doc.history)}makeChangeSingleDoc(doc,change,null,mergeOldSpans(doc,change))})};for(var i$1=event.changes.length-1;i$1>=0;--i$1){var returned=loop(i$1);if(returned)return returned.v}}function shiftDoc(doc,\ndistance){if(distance==0)return;doc.first+=distance;doc.sel=new Selection(map(doc.sel.ranges,function(range){return new Range(Pos(range.anchor.line+distance,range.anchor.ch),Pos(range.head.line+distance,range.head.ch))}),doc.sel.primIndex);if(doc.cm){regChange(doc.cm,doc.first,doc.first-distance,distance);for(var d=doc.cm.display,l=d.viewFrom;l<d.viewTo;l++)regLineChange(doc.cm,l,"gutter")}}function makeChangeSingleDoc(doc,change,selAfter,spans){if(doc.cm&&!doc.cm.curOp)return operation(doc.cm,makeChangeSingleDoc)(doc,\nchange,selAfter,spans);if(change.to.line<doc.first){shiftDoc(doc,change.text.length-1-(change.to.line-change.from.line));return}if(change.from.line>doc.lastLine())return;if(change.from.line<doc.first){var shift=change.text.length-1-(doc.first-change.from.line);shiftDoc(doc,shift);change={from:Pos(doc.first,0),to:Pos(change.to.line+shift,change.to.ch),text:[lst(change.text)],origin:change.origin}}var last=doc.lastLine();if(change.to.line>last)change={from:change.from,to:Pos(last,getLine(doc,last).text.length),\ntext:[change.text[0]],origin:change.origin};change.removed=getBetween(doc,change.from,change.to);if(!selAfter)selAfter=computeSelAfterChange(doc,change);if(doc.cm)makeChangeSingleDocInEditor(doc.cm,change,spans);else updateDoc(doc,change,spans);setSelectionNoUndo(doc,selAfter,sel_dontScroll);if(doc.cantEdit&&skipAtomic(doc,Pos(doc.firstLine(),0)))doc.cantEdit=false}function makeChangeSingleDocInEditor(cm,change,spans){var doc=cm.doc,display=cm.display,from=change.from,to=change.to;var recomputeMaxLength=\nfalse,checkWidthStart=from.line;if(!cm.options.lineWrapping){checkWidthStart=lineNo(visualLine(getLine(doc,from.line)));doc.iter(checkWidthStart,to.line+1,function(line){if(line==display.maxLine){recomputeMaxLength=true;return true}})}if(doc.sel.contains(change.from,change.to)>-1)signalCursorActivity(cm);updateDoc(doc,change,spans,estimateHeight(cm));if(!cm.options.lineWrapping){doc.iter(checkWidthStart,from.line+change.text.length,function(line){var len=lineLength(line);if(len>display.maxLineLength){display.maxLine=\nline;display.maxLineLength=len;display.maxLineChanged=true;recomputeMaxLength=false}});if(recomputeMaxLength)cm.curOp.updateMaxLine=true}retreatFrontier(doc,from.line);startWorker(cm,400);var lendiff=change.text.length-(to.line-from.line)-1;if(change.full)regChange(cm);else if(from.line==to.line&&change.text.length==1&&!isWholeLineUpdate(cm.doc,change))regLineChange(cm,from.line,"text");else regChange(cm,from.line,to.line+1,lendiff);var changesHandler=hasHandler(cm,"changes"),changeHandler=hasHandler(cm,\n"change");if(changeHandler||changesHandler){var obj={from:from,to:to,text:change.text,removed:change.removed,origin:change.origin};if(changeHandler)signalLater(cm,"change",cm,obj);if(changesHandler)(cm.curOp.changeObjs||(cm.curOp.changeObjs=[])).push(obj)}cm.display.selForContextMenu=null}function replaceRange(doc,code,from,to,origin){var assign;if(!to)to=from;if(cmp(to,from)<0)assign=[to,from],from=assign[0],to=assign[1];if(typeof code=="string")code=doc.splitLines(code);makeChange(doc,{from:from,\nto:to,text:code,origin:origin})}function rebaseHistSelSingle(pos,from,to,diff){if(to<pos.line)pos.line+=diff;else if(from<pos.line){pos.line=from;pos.ch=0}}function rebaseHistArray(array,from,to,diff){for(var i=0;i<array.length;++i){var sub=array[i],ok=true;if(sub.ranges){if(!sub.copied){sub=array[i]=sub.deepCopy();sub.copied=true}for(var j=0;j<sub.ranges.length;j++){rebaseHistSelSingle(sub.ranges[j].anchor,from,to,diff);rebaseHistSelSingle(sub.ranges[j].head,from,to,diff)}continue}for(var j$1=0;j$1<\nsub.changes.length;++j$1){var cur=sub.changes[j$1];if(to<cur.from.line){cur.from=Pos(cur.from.line+diff,cur.from.ch);cur.to=Pos(cur.to.line+diff,cur.to.ch)}else if(from<=cur.to.line){ok=false;break}}if(!ok){array.splice(0,i+1);i=0}}}function rebaseHist(hist,change){var from=change.from.line,to=change.to.line,diff=change.text.length-(to-from)-1;rebaseHistArray(hist.done,from,to,diff);rebaseHistArray(hist.undone,from,to,diff)}function changeLine(doc,handle,changeType,op){var no=handle,line=handle;if(typeof handle==\n"number")line=getLine(doc,clipLine(doc,handle));else no=lineNo(handle);if(no==null)return null;if(op(line,no)&&doc.cm)regLineChange(doc.cm,no,changeType);return line}function LeafChunk(lines){this.lines=lines;this.parent=null;var height=0;for(var i=0;i<lines.length;++i){lines[i].parent=this;height+=lines[i].height}this.height=height}LeafChunk.prototype={chunkSize:function(){return this.lines.length},removeInner:function(at,n){for(var i=at,e=at+n;i<e;++i){var line=this.lines[i];this.height-=line.height;\ncleanUpLine(line);signalLater(line,"delete")}this.lines.splice(at,n)},collapse:function(lines){lines.push.apply(lines,this.lines)},insertInner:function(at,lines,height){this.height+=height;this.lines=this.lines.slice(0,at).concat(lines).concat(this.lines.slice(at));for(var i=0;i<lines.length;++i)lines[i].parent=this},iterN:function(at,n,op){for(var e=at+n;at<e;++at)if(op(this.lines[at]))return true}};function BranchChunk(children){this.children=children;var size=0,height=0;for(var i=0;i<children.length;++i){var ch=\nchildren[i];size+=ch.chunkSize();height+=ch.height;ch.parent=this}this.size=size;this.height=height;this.parent=null}BranchChunk.prototype={chunkSize:function(){return this.size},removeInner:function(at,n){this.size-=n;for(var i=0;i<this.children.length;++i){var child=this.children[i],sz=child.chunkSize();if(at<sz){var rm=Math.min(n,sz-at),oldHeight=child.height;child.removeInner(at,rm);this.height-=oldHeight-child.height;if(sz==rm){this.children.splice(i--,1);child.parent=null}if((n-=rm)==0)break;\nat=0}else at-=sz}if(this.size-n<25&&(this.children.length>1||!(this.children[0]instanceof LeafChunk))){var lines=[];this.collapse(lines);this.children=[new LeafChunk(lines)];this.children[0].parent=this}},collapse:function(lines){for(var i=0;i<this.children.length;++i)this.children[i].collapse(lines)},insertInner:function(at,lines,height){this.size+=lines.length;this.height+=height;for(var i=0;i<this.children.length;++i){var child=this.children[i],sz=child.chunkSize();if(at<=sz){child.insertInner(at,\nlines,height);if(child.lines&&child.lines.length>50){var remaining=child.lines.length%25+25;for(var pos=remaining;pos<child.lines.length;){var leaf=new LeafChunk(child.lines.slice(pos,pos+=25));child.height-=leaf.height;this.children.splice(++i,0,leaf);leaf.parent=this}child.lines=child.lines.slice(0,remaining);this.maybeSpill()}break}at-=sz}},maybeSpill:function(){if(this.children.length<=10)return;var me=this;do{var spilled=me.children.splice(me.children.length-5,5);var sibling=new BranchChunk(spilled);\nif(!me.parent){var copy=new BranchChunk(me.children);copy.parent=me;me.children=[copy,sibling];me=copy}else{me.size-=sibling.size;me.height-=sibling.height;var myIndex=indexOf(me.parent.children,me);me.parent.children.splice(myIndex+1,0,sibling)}sibling.parent=me.parent}while(me.children.length>10);me.parent.maybeSpill()},iterN:function(at,n,op){for(var i=0;i<this.children.length;++i){var child=this.children[i],sz=child.chunkSize();if(at<sz){var used=Math.min(n,sz-at);if(child.iterN(at,used,op))return true;\nif((n-=used)==0)break;at=0}else at-=sz}}};var LineWidget=function(doc,node,options){if(options)for(var opt in options)if(options.hasOwnProperty(opt))this[opt]=options[opt];this.doc=doc;this.node=node};LineWidget.prototype.clear=function(){var cm=this.doc.cm,ws=this.line.widgets,line=this.line,no=lineNo(line);if(no==null||!ws)return;for(var i=0;i<ws.length;++i)if(ws[i]==this)ws.splice(i--,1);if(!ws.length)line.widgets=null;var height=widgetHeight(this);updateLineHeight(line,Math.max(0,line.height-\nheight));if(cm){runInOp(cm,function(){adjustScrollWhenAboveVisible(cm,line,-height);regLineChange(cm,no,"widget")});signalLater(cm,"lineWidgetCleared",cm,this,no)}};LineWidget.prototype.changed=function(){var this$1=this;var oldH=this.height,cm=this.doc.cm,line=this.line;this.height=null;var diff=widgetHeight(this)-oldH;if(!diff)return;if(!lineIsHidden(this.doc,line))updateLineHeight(line,line.height+diff);if(cm)runInOp(cm,function(){cm.curOp.forceUpdate=true;adjustScrollWhenAboveVisible(cm,line,\ndiff);signalLater(cm,"lineWidgetChanged",cm,this$1,lineNo(line))})};eventMixin(LineWidget);function adjustScrollWhenAboveVisible(cm,line,diff){if(heightAtLine(line)<(cm.curOp&&cm.curOp.scrollTop||cm.doc.scrollTop))addToScrollTop(cm,diff)}function addLineWidget(doc,handle,node,options){var widget=new LineWidget(doc,node,options);var cm=doc.cm;if(cm&&widget.noHScroll)cm.display.alignWidgets=true;changeLine(doc,handle,"widget",function(line){var widgets=line.widgets||(line.widgets=[]);if(widget.insertAt==\nnull)widgets.push(widget);else widgets.splice(Math.min(widgets.length,Math.max(0,widget.insertAt)),0,widget);widget.line=line;if(cm&&!lineIsHidden(doc,line)){var aboveVisible=heightAtLine(line)<doc.scrollTop;updateLineHeight(line,line.height+widgetHeight(widget));if(aboveVisible)addToScrollTop(cm,widget.height);cm.curOp.forceUpdate=true}return true});if(cm)signalLater(cm,"lineWidgetAdded",cm,widget,typeof handle=="number"?handle:lineNo(handle));return widget}var nextMarkerId=0;var TextMarker=function(doc,\ntype){this.lines=[];this.type=type;this.doc=doc;this.id=++nextMarkerId};TextMarker.prototype.clear=function(){if(this.explicitlyCleared)return;var cm=this.doc.cm,withOp=cm&&!cm.curOp;if(withOp)startOperation(cm);if(hasHandler(this,"clear")){var found=this.find();if(found)signalLater(this,"clear",found.from,found.to)}var min=null,max=null;for(var i=0;i<this.lines.length;++i){var line=this.lines[i];var span=getMarkedSpanFor(line.markedSpans,this);if(cm&&!this.collapsed)regLineChange(cm,lineNo(line),\n"text");else if(cm){if(span.to!=null)max=lineNo(line);if(span.from!=null)min=lineNo(line)}line.markedSpans=removeMarkedSpan(line.markedSpans,span);if(span.from==null&&this.collapsed&&!lineIsHidden(this.doc,line)&&cm)updateLineHeight(line,textHeight(cm.display))}if(cm&&this.collapsed&&!cm.options.lineWrapping)for(var i$1=0;i$1<this.lines.length;++i$1){var visual=visualLine(this.lines[i$1]),len=lineLength(visual);if(len>cm.display.maxLineLength){cm.display.maxLine=visual;cm.display.maxLineLength=len;\ncm.display.maxLineChanged=true}}if(min!=null&&cm&&this.collapsed)regChange(cm,min,max+1);this.lines.length=0;this.explicitlyCleared=true;if(this.atomic&&this.doc.cantEdit){this.doc.cantEdit=false;if(cm)reCheckSelection(cm.doc)}if(cm)signalLater(cm,"markerCleared",cm,this,min,max);if(withOp)endOperation(cm);if(this.parent)this.parent.clear()};TextMarker.prototype.find=function(side,lineObj){if(side==null&&this.type=="bookmark")side=1;var from,to;for(var i=0;i<this.lines.length;++i){var line=this.lines[i];\nvar span=getMarkedSpanFor(line.markedSpans,this);if(span.from!=null){from=Pos(lineObj?line:lineNo(line),span.from);if(side==-1)return from}if(span.to!=null){to=Pos(lineObj?line:lineNo(line),span.to);if(side==1)return to}}return from&&{from:from,to:to}};TextMarker.prototype.changed=function(){var this$1=this;var pos=this.find(-1,true),widget=this,cm=this.doc.cm;if(!pos||!cm)return;runInOp(cm,function(){var line=pos.line,lineN=lineNo(pos.line);var view=findViewForLine(cm,lineN);if(view){clearLineMeasurementCacheFor(view);\ncm.curOp.selectionChanged=cm.curOp.forceUpdate=true}cm.curOp.updateMaxLine=true;if(!lineIsHidden(widget.doc,line)&&widget.height!=null){var oldHeight=widget.height;widget.height=null;var dHeight=widgetHeight(widget)-oldHeight;if(dHeight)updateLineHeight(line,line.height+dHeight)}signalLater(cm,"markerChanged",cm,this$1)})};TextMarker.prototype.attachLine=function(line){if(!this.lines.length&&this.doc.cm){var op=this.doc.cm.curOp;if(!op.maybeHiddenMarkers||indexOf(op.maybeHiddenMarkers,this)==-1)(op.maybeUnhiddenMarkers||\n(op.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(line)};TextMarker.prototype.detachLine=function(line){this.lines.splice(indexOf(this.lines,line),1);if(!this.lines.length&&this.doc.cm){var op=this.doc.cm.curOp;(op.maybeHiddenMarkers||(op.maybeHiddenMarkers=[])).push(this)}};eventMixin(TextMarker);function markText(doc,from,to,options,type){if(options&&options.shared)return markTextShared(doc,from,to,options,type);if(doc.cm&&!doc.cm.curOp)return operation(doc.cm,markText)(doc,from,to,options,\ntype);var marker=new TextMarker(doc,type),diff=cmp(from,to);if(options)copyObj(options,marker,false);if(diff>0||diff==0&&marker.clearWhenEmpty!==false)return marker;if(marker.replacedWith){marker.collapsed=true;marker.widgetNode=eltP("span",[marker.replacedWith],"CodeMirror-widget");if(!options.handleMouseEvents)marker.widgetNode.setAttribute("cm-ignore-events","true");if(options.insertLeft)marker.widgetNode.insertLeft=true}if(marker.collapsed){if(conflictingCollapsedRange(doc,from.line,from,to,marker)||\nfrom.line!=to.line&&conflictingCollapsedRange(doc,to.line,from,to,marker))throw new Error("Inserting collapsed marker partially overlapping an existing one");seeCollapsedSpans()}if(marker.addToHistory)addChangeToHistory(doc,{from:from,to:to,origin:"markText"},doc.sel,NaN);var curLine=from.line,cm=doc.cm,updateMaxLine;doc.iter(curLine,to.line+1,function(line){if(cm&&marker.collapsed&&!cm.options.lineWrapping&&visualLine(line)==cm.display.maxLine)updateMaxLine=true;if(marker.collapsed&&curLine!=from.line)updateLineHeight(line,\n0);addMarkedSpan(line,new MarkedSpan(marker,curLine==from.line?from.ch:null,curLine==to.line?to.ch:null),doc.cm&&doc.cm.curOp);++curLine});if(marker.collapsed)doc.iter(from.line,to.line+1,function(line){if(lineIsHidden(doc,line))updateLineHeight(line,0)});if(marker.clearOnEnter)on(marker,"beforeCursorEnter",function(){return marker.clear()});if(marker.readOnly){seeReadOnlySpans();if(doc.history.done.length||doc.history.undone.length)doc.clearHistory()}if(marker.collapsed){marker.id=++nextMarkerId;\nmarker.atomic=true}if(cm){if(updateMaxLine)cm.curOp.updateMaxLine=true;if(marker.collapsed)regChange(cm,from.line,to.line+1);else if(marker.className||marker.startStyle||marker.endStyle||marker.css||marker.attributes||marker.title)for(var i=from.line;i<=to.line;i++)regLineChange(cm,i,"text");if(marker.atomic)reCheckSelection(cm.doc);signalLater(cm,"markerAdded",cm,marker)}return marker}var SharedTextMarker=function(markers,primary){this.markers=markers;this.primary=primary;for(var i=0;i<markers.length;++i)markers[i].parent=\nthis};SharedTextMarker.prototype.clear=function(){if(this.explicitlyCleared)return;this.explicitlyCleared=true;for(var i=0;i<this.markers.length;++i)this.markers[i].clear();signalLater(this,"clear")};SharedTextMarker.prototype.find=function(side,lineObj){return this.primary.find(side,lineObj)};eventMixin(SharedTextMarker);function markTextShared(doc,from,to,options,type){options=copyObj(options);options.shared=false;var markers=[markText(doc,from,to,options,type)],primary=markers[0];var widget=options.widgetNode;\nlinkedDocs(doc,function(doc){if(widget)options.widgetNode=widget.cloneNode(true);markers.push(markText(doc,clipPos(doc,from),clipPos(doc,to),options,type));for(var i=0;i<doc.linked.length;++i)if(doc.linked[i].isParent)return;primary=lst(markers)});return new SharedTextMarker(markers,primary)}function findSharedMarkers(doc){return doc.findMarks(Pos(doc.first,0),doc.clipPos(Pos(doc.lastLine())),function(m){return m.parent})}function copySharedMarkers(doc,markers){for(var i=0;i<markers.length;i++){var marker=\nmarkers[i],pos=marker.find();var mFrom=doc.clipPos(pos.from),mTo=doc.clipPos(pos.to);if(cmp(mFrom,mTo)){var subMark=markText(doc,mFrom,mTo,marker.primary,marker.primary.type);marker.markers.push(subMark);subMark.parent=marker}}}function detachSharedMarkers(markers){var loop=function(i){var marker=markers[i],linked=[marker.primary.doc];linkedDocs(marker.primary.doc,function(d){return linked.push(d)});for(var j=0;j<marker.markers.length;j++){var subMarker=marker.markers[j];if(indexOf(linked,subMarker.doc)==\n-1){subMarker.parent=null;marker.markers.splice(j--,1)}}};for(var i=0;i<markers.length;i++)loop(i)}var nextDocId=0;var Doc=function(text,mode,firstLine,lineSep,direction){if(!(this instanceof Doc))return new Doc(text,mode,firstLine,lineSep,direction);if(firstLine==null)firstLine=0;BranchChunk.call(this,[new LeafChunk([new Line("",null)])]);this.first=firstLine;this.scrollTop=this.scrollLeft=0;this.cantEdit=false;this.cleanGeneration=1;this.modeFrontier=this.highlightFrontier=firstLine;var start=Pos(firstLine,\n0);this.sel=simpleSelection(start);this.history=new History(null);this.id=++nextDocId;this.modeOption=mode;this.lineSep=lineSep;this.direction=direction=="rtl"?"rtl":"ltr";this.extend=false;if(typeof text=="string")text=this.splitLines(text);updateDoc(this,{from:start,to:start,text:text});setSelection(this,simpleSelection(start),sel_dontScroll)};Doc.prototype=createObj(BranchChunk.prototype,{constructor:Doc,iter:function(from,to,op){if(op)this.iterN(from-this.first,to-from,op);else this.iterN(this.first,\nthis.first+this.size,from)},insert:function(at,lines){var height=0;for(var i=0;i<lines.length;++i)height+=lines[i].height;this.insertInner(at-this.first,lines,height)},remove:function(at,n){this.removeInner(at-this.first,n)},getValue:function(lineSep){var lines=getLines(this,this.first,this.first+this.size);if(lineSep===false)return lines;return lines.join(lineSep||this.lineSeparator())},setValue:docMethodOp(function(code){var top=Pos(this.first,0),last=this.first+this.size-1;makeChange(this,{from:top,\nto:Pos(last,getLine(this,last).text.length),text:this.splitLines(code),origin:"setValue",full:true},true);if(this.cm)scrollToCoords(this.cm,0,0);setSelection(this,simpleSelection(top),sel_dontScroll)}),replaceRange:function(code,from,to,origin){from=clipPos(this,from);to=to?clipPos(this,to):from;replaceRange(this,code,from,to,origin)},getRange:function(from,to,lineSep){var lines=getBetween(this,clipPos(this,from),clipPos(this,to));if(lineSep===false)return lines;if(lineSep==="")return lines.join("");\nreturn lines.join(lineSep||this.lineSeparator())},getLine:function(line){var l=this.getLineHandle(line);return l&&l.text},getLineHandle:function(line){if(isLine(this,line))return getLine(this,line)},getLineNumber:function(line){return lineNo(line)},getLineHandleVisualStart:function(line){if(typeof line=="number")line=getLine(this,line);return visualLine(line)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(pos){return clipPos(this,\npos)},getCursor:function(start){var range=this.sel.primary(),pos;if(start==null||start=="head")pos=range.head;else if(start=="anchor")pos=range.anchor;else if(start=="end"||start=="to"||start===false)pos=range.to();else pos=range.from();return pos},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:docMethodOp(function(line,ch,options){setSimpleSelection(this,clipPos(this,typeof line=="number"?Pos(line,ch||0):line),null,options)}),\nsetSelection:docMethodOp(function(anchor,head,options){setSimpleSelection(this,clipPos(this,anchor),clipPos(this,head||anchor),options)}),extendSelection:docMethodOp(function(head,other,options){extendSelection(this,clipPos(this,head),other&&clipPos(this,other),options)}),extendSelections:docMethodOp(function(heads,options){extendSelections(this,clipPosArray(this,heads),options)}),extendSelectionsBy:docMethodOp(function(f,options){var heads=map(this.sel.ranges,f);extendSelections(this,clipPosArray(this,\nheads),options)}),setSelections:docMethodOp(function(ranges,primary,options){if(!ranges.length)return;var out=[];for(var i=0;i<ranges.length;i++)out[i]=new Range(clipPos(this,ranges[i].anchor),clipPos(this,ranges[i].head||ranges[i].anchor));if(primary==null)primary=Math.min(ranges.length-1,this.sel.primIndex);setSelection(this,normalizeSelection(this.cm,out,primary),options)}),addSelection:docMethodOp(function(anchor,head,options){var ranges=this.sel.ranges.slice(0);ranges.push(new Range(clipPos(this,\nanchor),clipPos(this,head||anchor)));setSelection(this,normalizeSelection(this.cm,ranges,ranges.length-1),options)}),getSelection:function(lineSep){var ranges=this.sel.ranges,lines;for(var i=0;i<ranges.length;i++){var sel=getBetween(this,ranges[i].from(),ranges[i].to());lines=lines?lines.concat(sel):sel}if(lineSep===false)return lines;else return lines.join(lineSep||this.lineSeparator())},getSelections:function(lineSep){var parts=[],ranges=this.sel.ranges;for(var i=0;i<ranges.length;i++){var sel=\ngetBetween(this,ranges[i].from(),ranges[i].to());if(lineSep!==false)sel=sel.join(lineSep||this.lineSeparator());parts[i]=sel}return parts},replaceSelection:function(code,collapse,origin){var dup=[];for(var i=0;i<this.sel.ranges.length;i++)dup[i]=code;this.replaceSelections(dup,collapse,origin||"+input")},replaceSelections:docMethodOp(function(code,collapse,origin){var changes=[],sel=this.sel;for(var i=0;i<sel.ranges.length;i++){var range=sel.ranges[i];changes[i]={from:range.from(),to:range.to(),text:this.splitLines(code[i]),\norigin:origin}}var newSel=collapse&&collapse!="end"&&computeReplacedSel(this,changes,collapse);for(var i$1=changes.length-1;i$1>=0;i$1--)makeChange(this,changes[i$1]);if(newSel)setSelectionReplaceHistory(this,newSel);else if(this.cm)ensureCursorVisible(this.cm)}),undo:docMethodOp(function(){makeChangeFromHistory(this,"undo")}),redo:docMethodOp(function(){makeChangeFromHistory(this,"redo")}),undoSelection:docMethodOp(function(){makeChangeFromHistory(this,"undo",true)}),redoSelection:docMethodOp(function(){makeChangeFromHistory(this,\n"redo",true)}),setExtending:function(val){this.extend=val},getExtending:function(){return this.extend},historySize:function(){var hist=this.history,done=0,undone=0;for(var i=0;i<hist.done.length;i++)if(!hist.done[i].ranges)++done;for(var i$1=0;i$1<hist.undone.length;i$1++)if(!hist.undone[i$1].ranges)++undone;return{undo:done,redo:undone}},clearHistory:function(){var this$1=this;this.history=new History(this.history);linkedDocs(this,function(doc){return doc.history=this$1.history},true)},markClean:function(){this.cleanGeneration=\nthis.changeGeneration(true)},changeGeneration:function(forceSplit){if(forceSplit)this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null;return this.history.generation},isClean:function(gen){return this.history.generation==(gen||this.cleanGeneration)},getHistory:function(){return{done:copyHistoryArray(this.history.done),undone:copyHistoryArray(this.history.undone)}},setHistory:function(histData){var hist=this.history=new History(this.history);hist.done=copyHistoryArray(histData.done.slice(0),\nnull,true);hist.undone=copyHistoryArray(histData.undone.slice(0),null,true)},setGutterMarker:docMethodOp(function(line,gutterID,value){return changeLine(this,line,"gutter",function(line){var markers=line.gutterMarkers||(line.gutterMarkers={});markers[gutterID]=value;if(!value&&isEmpty(markers))line.gutterMarkers=null;return true})}),clearGutter:docMethodOp(function(gutterID){var this$1=this;this.iter(function(line){if(line.gutterMarkers&&line.gutterMarkers[gutterID])changeLine(this$1,line,"gutter",\nfunction(){line.gutterMarkers[gutterID]=null;if(isEmpty(line.gutterMarkers))line.gutterMarkers=null;return true})})}),lineInfo:function(line){var n;if(typeof line=="number"){if(!isLine(this,line))return null;n=line;line=getLine(this,line);if(!line)return null}else{n=lineNo(line);if(n==null)return null}return{line:n,handle:line,text:line.text,gutterMarkers:line.gutterMarkers,textClass:line.textClass,bgClass:line.bgClass,wrapClass:line.wrapClass,widgets:line.widgets}},addLineClass:docMethodOp(function(handle,\nwhere,cls){return changeLine(this,handle,where=="gutter"?"gutter":"class",function(line){var prop=where=="text"?"textClass":where=="background"?"bgClass":where=="gutter"?"gutterClass":"wrapClass";if(!line[prop])line[prop]=cls;else if(classTest(cls).test(line[prop]))return false;else line[prop]+=" "+cls;return true})}),removeLineClass:docMethodOp(function(handle,where,cls){return changeLine(this,handle,where=="gutter"?"gutter":"class",function(line){var prop=where=="text"?"textClass":where=="background"?\n"bgClass":where=="gutter"?"gutterClass":"wrapClass";var cur=line[prop];if(!cur)return false;else if(cls==null)line[prop]=null;else{var found=cur.match(classTest(cls));if(!found)return false;var end=found.index+found[0].length;line[prop]=cur.slice(0,found.index)+(!found.index||end==cur.length?"":" ")+cur.slice(end)||null}return true})}),addLineWidget:docMethodOp(function(handle,node,options){return addLineWidget(this,handle,node,options)}),removeLineWidget:function(widget){widget.clear()},markText:function(from,\nto,options){return markText(this,clipPos(this,from),clipPos(this,to),options,options&&options.type||"range")},setBookmark:function(pos,options){var realOpts={replacedWith:options&&(options.nodeType==null?options.widget:options),insertLeft:options&&options.insertLeft,clearWhenEmpty:false,shared:options&&options.shared,handleMouseEvents:options&&options.handleMouseEvents};pos=clipPos(this,pos);return markText(this,pos,pos,realOpts,"bookmark")},findMarksAt:function(pos){pos=clipPos(this,pos);var markers=\n[],spans=getLine(this,pos.line).markedSpans;if(spans)for(var i=0;i<spans.length;++i){var span=spans[i];if((span.from==null||span.from<=pos.ch)&&(span.to==null||span.to>=pos.ch))markers.push(span.marker.parent||span.marker)}return markers},findMarks:function(from,to,filter){from=clipPos(this,from);to=clipPos(this,to);var found=[],lineNo=from.line;this.iter(from.line,to.line+1,function(line){var spans=line.markedSpans;if(spans)for(var i=0;i<spans.length;i++){var span=spans[i];if(!(span.to!=null&&lineNo==\nfrom.line&&from.ch>=span.to||span.from==null&&lineNo!=from.line||span.from!=null&&lineNo==to.line&&span.from>=to.ch)&&(!filter||filter(span.marker)))found.push(span.marker.parent||span.marker)}++lineNo});return found},getAllMarks:function(){var markers=[];this.iter(function(line){var sps=line.markedSpans;if(sps)for(var i=0;i<sps.length;++i)if(sps[i].from!=null)markers.push(sps[i].marker)});return markers},posFromIndex:function(off){var ch,lineNo=this.first,sepSize=this.lineSeparator().length;this.iter(function(line){var sz=\nline.text.length+sepSize;if(sz>off){ch=off;return true}off-=sz;++lineNo});return clipPos(this,Pos(lineNo,ch))},indexFromPos:function(coords){coords=clipPos(this,coords);var index=coords.ch;if(coords.line<this.first||coords.ch<0)return 0;var sepSize=this.lineSeparator().length;this.iter(this.first,coords.line,function(line){index+=line.text.length+sepSize});return index},copy:function(copyHistory){var doc=new Doc(getLines(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,\nthis.direction);doc.scrollTop=this.scrollTop;doc.scrollLeft=this.scrollLeft;doc.sel=this.sel;doc.extend=false;if(copyHistory){doc.history.undoDepth=this.history.undoDepth;doc.setHistory(this.getHistory())}return doc},linkedDoc:function(options){if(!options)options={};var from=this.first,to=this.first+this.size;if(options.from!=null&&options.from>from)from=options.from;if(options.to!=null&&options.to<to)to=options.to;var copy=new Doc(getLines(this,from,to),options.mode||this.modeOption,from,this.lineSep,\nthis.direction);if(options.sharedHist)copy.history=this.history;(this.linked||(this.linked=[])).push({doc:copy,sharedHist:options.sharedHist});copy.linked=[{doc:this,isParent:true,sharedHist:options.sharedHist}];copySharedMarkers(copy,findSharedMarkers(this));return copy},unlinkDoc:function(other){if(other instanceof CodeMirror)other=other.doc;if(this.linked)for(var i=0;i<this.linked.length;++i){var link=this.linked[i];if(link.doc!=other)continue;this.linked.splice(i,1);other.unlinkDoc(this);detachSharedMarkers(findSharedMarkers(this));\nbreak}if(other.history==this.history){var splitIds=[other.id];linkedDocs(other,function(doc){return splitIds.push(doc.id)},true);other.history=new History(null);other.history.done=copyHistoryArray(this.history.done,splitIds);other.history.undone=copyHistoryArray(this.history.undone,splitIds)}},iterLinkedDocs:function(f){linkedDocs(this,f)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(str){if(this.lineSep)return str.split(this.lineSep);return splitLinesAuto(str)},\nlineSeparator:function(){return this.lineSep||"\\n"},setDirection:docMethodOp(function(dir){if(dir!="rtl")dir="ltr";if(dir==this.direction)return;this.direction=dir;this.iter(function(line){return line.order=null});if(this.cm)directionChanged(this.cm)})});Doc.prototype.eachLine=Doc.prototype.iter;var lastDrop=0;function onDrop(e){var cm=this;clearDragCursor(cm);if(signalDOMEvent(cm,e)||eventInWidget(cm.display,e))return;e_preventDefault(e);if(ie)lastDrop=+new Date;var pos=posFromMouse(cm,e,true),files=\ne.dataTransfer.files;if(!pos||cm.isReadOnly())return;if(files&&files.length&&window.FileReader&&window.File){var n=files.length,text=Array(n),read=0;var markAsReadAndPasteIfAllFilesAreRead=function(){if(++read==n)operation(cm,function(){pos=clipPos(cm.doc,pos);var change={from:pos,to:pos,text:cm.doc.splitLines(text.filter(function(t){return t!=null}).join(cm.doc.lineSeparator())),origin:"paste"};makeChange(cm.doc,change);setSelectionReplaceHistory(cm.doc,simpleSelection(clipPos(cm.doc,pos),clipPos(cm.doc,\nchangeEnd(change))))})()};var readTextFromFile=function(file,i){if(cm.options.allowDropFileTypes&&indexOf(cm.options.allowDropFileTypes,file.type)==-1){markAsReadAndPasteIfAllFilesAreRead();return}var reader=new FileReader;reader.onerror=function(){return markAsReadAndPasteIfAllFilesAreRead()};reader.onload=function(){var content=reader.result;if(/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(content)){markAsReadAndPasteIfAllFilesAreRead();return}text[i]=content;markAsReadAndPasteIfAllFilesAreRead()};reader.readAsText(file)};\nfor(var i=0;i<files.length;i++)readTextFromFile(files[i],i)}else{if(cm.state.draggingText&&cm.doc.sel.contains(pos)>-1){cm.state.draggingText(e);setTimeout(function(){return cm.display.input.focus()},20);return}try{var text$1=e.dataTransfer.getData("Text");if(text$1){var selected;if(cm.state.draggingText&&!cm.state.draggingText.copy)selected=cm.listSelections();setSelectionNoUndo(cm.doc,simpleSelection(pos,pos));if(selected)for(var i$1=0;i$1<selected.length;++i$1)replaceRange(cm.doc,"",selected[i$1].anchor,\nselected[i$1].head,"drag");cm.replaceSelection(text$1,"around","paste");cm.display.input.focus()}}catch(e$1){}}}function onDragStart(cm,e){if(ie&&(!cm.state.draggingText||+new Date-lastDrop<100)){e_stop(e);return}if(signalDOMEvent(cm,e)||eventInWidget(cm.display,e))return;e.dataTransfer.setData("Text",cm.getSelection());e.dataTransfer.effectAllowed="copyMove";if(e.dataTransfer.setDragImage&&!safari){var img=elt("img",null,null,"position: fixed; left: 0; top: 0;");img.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";\nif(presto){img.width=img.height=1;cm.display.wrapper.appendChild(img);img._top=img.offsetTop}e.dataTransfer.setDragImage(img,0,0);if(presto)img.parentNode.removeChild(img)}}function onDragOver(cm,e){var pos=posFromMouse(cm,e);if(!pos)return;var frag=document.createDocumentFragment();drawSelectionCursor(cm,pos,frag);if(!cm.display.dragCursor){cm.display.dragCursor=elt("div",null,"CodeMirror-cursors CodeMirror-dragcursors");cm.display.lineSpace.insertBefore(cm.display.dragCursor,cm.display.cursorDiv)}removeChildrenAndAdd(cm.display.dragCursor,\nfrag)}function clearDragCursor(cm){if(cm.display.dragCursor){cm.display.lineSpace.removeChild(cm.display.dragCursor);cm.display.dragCursor=null}}function forEachCodeMirror(f){if(!document.getElementsByClassName)return;var byClass=document.getElementsByClassName("CodeMirror"),editors=[];for(var i=0;i<byClass.length;i++){var cm=byClass[i].CodeMirror;if(cm)editors.push(cm)}if(editors.length)editors[0].operation(function(){for(var i=0;i<editors.length;i++)f(editors[i])})}var globalsRegistered=false;function ensureGlobalHandlers(){if(globalsRegistered)return;\nregisterGlobalHandlers();globalsRegistered=true}function registerGlobalHandlers(){var resizeTimer;on(window,"resize",function(){if(resizeTimer==null)resizeTimer=setTimeout(function(){resizeTimer=null;forEachCodeMirror(onResize)},100)});on(window,"blur",function(){return forEachCodeMirror(onBlur)})}function onResize(cm){var d=cm.display;d.cachedCharWidth=d.cachedTextHeight=d.cachedPaddingH=null;d.scrollbarsClipped=false;cm.setSize()}var keyNames={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",\n17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\\\",221:"]",222:"\'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",\n63302:"Insert"};for(var i=0;i<10;i++)keyNames[i+48]=keyNames[i+96]=String(i);for(var i$1=65;i$1<=90;i$1++)keyNames[i$1]=String.fromCharCode(i$1);for(var i$2=1;i$2<=12;i$2++)keyNames[i$2+111]=keyNames[i$2+63235]="F"+i$2;var keyMap={};keyMap.basic={"Left":"goCharLeft","Right":"goCharRight","Up":"goLineUp","Down":"goLineDown","End":"goLineEnd","Home":"goLineStartSmart","PageUp":"goPageUp","PageDown":"goPageDown","Delete":"delCharAfter","Backspace":"delCharBefore","Shift-Backspace":"delCharBefore","Tab":"defaultTab",\n"Shift-Tab":"indentAuto","Enter":"newlineAndIndent","Insert":"toggleOverwrite","Esc":"singleSelection"};keyMap.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find",\n"Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection","fallthrough":"basic"};keyMap.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore",\n"Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"};keyMap.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext",\n"Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd","fallthrough":["basic","emacsy"]};keyMap["default"]=mac?keyMap.macDefault:keyMap.pcDefault;function normalizeKeyName(name){var parts=name.split(/-(?!$)/);name=parts[parts.length-1];var alt,ctrl,shift,cmd;for(var i=\n0;i<parts.length-1;i++){var mod=parts[i];if(/^(cmd|meta|m)$/i.test(mod))cmd=true;else if(/^a(lt)?$/i.test(mod))alt=true;else if(/^(c|ctrl|control)$/i.test(mod))ctrl=true;else if(/^s(hift)?$/i.test(mod))shift=true;else throw new Error("Unrecognized modifier name: "+mod);}if(alt)name="Alt-"+name;if(ctrl)name="Ctrl-"+name;if(cmd)name="Cmd-"+name;if(shift)name="Shift-"+name;return name}function normalizeKeyMap(keymap){var copy={};for(var keyname in keymap)if(keymap.hasOwnProperty(keyname)){var value=\nkeymap[keyname];if(/^(name|fallthrough|(de|at)tach)$/.test(keyname))continue;if(value=="..."){delete keymap[keyname];continue}var keys=map(keyname.split(" "),normalizeKeyName);for(var i=0;i<keys.length;i++){var val=void 0,name=void 0;if(i==keys.length-1){name=keys.join(" ");val=value}else{name=keys.slice(0,i+1).join(" ");val="..."}var prev=copy[name];if(!prev)copy[name]=val;else if(prev!=val)throw new Error("Inconsistent bindings for "+name);}delete keymap[keyname]}for(var prop in copy)keymap[prop]=\ncopy[prop];return keymap}function lookupKey(key,map,handle,context){map=getKeyMap(map);var found=map.call?map.call(key,context):map[key];if(found===false)return"nothing";if(found==="...")return"multi";if(found!=null&&handle(found))return"handled";if(map.fallthrough){if(Object.prototype.toString.call(map.fallthrough)!="[object Array]")return lookupKey(key,map.fallthrough,handle,context);for(var i=0;i<map.fallthrough.length;i++){var result=lookupKey(key,map.fallthrough[i],handle,context);if(result)return result}}}\nfunction isModifierKey(value){var name=typeof value=="string"?value:keyNames[value.keyCode];return name=="Ctrl"||name=="Alt"||name=="Shift"||name=="Mod"}function addModifierNames(name,event,noShift){var base=name;if(event.altKey&&base!="Alt")name="Alt-"+name;if((flipCtrlCmd?event.metaKey:event.ctrlKey)&&base!="Ctrl")name="Ctrl-"+name;if((flipCtrlCmd?event.ctrlKey:event.metaKey)&&base!="Mod")name="Cmd-"+name;if(!noShift&&event.shiftKey&&base!="Shift")name="Shift-"+name;return name}function keyName(event,\nnoShift){if(presto&&event.keyCode==34&&event["char"])return false;var name=keyNames[event.keyCode];if(name==null||event.altGraphKey)return false;if(event.keyCode==3&&event.code)name=event.code;return addModifierNames(name,event,noShift)}function getKeyMap(val){return typeof val=="string"?keyMap[val]:val}function deleteNearSelection(cm,compute){var ranges=cm.doc.sel.ranges,kill=[];for(var i=0;i<ranges.length;i++){var toKill=compute(ranges[i]);while(kill.length&&cmp(toKill.from,lst(kill).to)<=0){var replaced=\nkill.pop();if(cmp(replaced.from,toKill.from)<0){toKill.from=replaced.from;break}}kill.push(toKill)}runInOp(cm,function(){for(var i=kill.length-1;i>=0;i--)replaceRange(cm.doc,"",kill[i].from,kill[i].to,"+delete");ensureCursorVisible(cm)})}function moveCharLogically(line,ch,dir){var target=skipExtendingChars(line.text,ch+dir,dir);return target<0||target>line.text.length?null:target}function moveLogically(line,start,dir){var ch=moveCharLogically(line,start.ch,dir);return ch==null?null:new Pos(start.line,\nch,dir<0?"after":"before")}function endOfLine(visually,cm,lineObj,lineNo,dir){if(visually){if(cm.doc.direction=="rtl")dir=-dir;var order=getOrder(lineObj,cm.doc.direction);if(order){var part=dir<0?lst(order):order[0];var moveInStorageOrder=dir<0==(part.level==1);var sticky=moveInStorageOrder?"after":"before";var ch;if(part.level>0||cm.doc.direction=="rtl"){var prep=prepareMeasureForLine(cm,lineObj);ch=dir<0?lineObj.text.length-1:0;var targetTop=measureCharPrepared(cm,prep,ch).top;ch=findFirst(function(ch){return measureCharPrepared(cm,\nprep,ch).top==targetTop},dir<0==(part.level==1)?part.from:part.to-1,ch);if(sticky=="before")ch=moveCharLogically(lineObj,ch,1)}else ch=dir<0?part.to:part.from;return new Pos(lineNo,ch,sticky)}}return new Pos(lineNo,dir<0?lineObj.text.length:0,dir<0?"before":"after")}function moveVisually(cm,line,start,dir){var bidi=getOrder(line,cm.doc.direction);if(!bidi)return moveLogically(line,start,dir);if(start.ch>=line.text.length){start.ch=line.text.length;start.sticky="before"}else if(start.ch<=0){start.ch=\n0;start.sticky="after"}var partPos=getBidiPartAt(bidi,start.ch,start.sticky),part=bidi[partPos];if(cm.doc.direction=="ltr"&&part.level%2==0&&(dir>0?part.to>start.ch:part.from<start.ch))return moveLogically(line,start,dir);var mv=function(pos,dir){return moveCharLogically(line,pos instanceof Pos?pos.ch:pos,dir)};var prep;var getWrappedLineExtent=function(ch){if(!cm.options.lineWrapping)return{begin:0,end:line.text.length};prep=prep||prepareMeasureForLine(cm,line);return wrappedLineExtentChar(cm,line,\nprep,ch)};var wrappedLineExtent=getWrappedLineExtent(start.sticky=="before"?mv(start,-1):start.ch);if(cm.doc.direction=="rtl"||part.level==1){var moveInStorageOrder=part.level==1==dir<0;var ch=mv(start,moveInStorageOrder?1:-1);if(ch!=null&&(!moveInStorageOrder?ch>=part.from&&ch>=wrappedLineExtent.begin:ch<=part.to&&ch<=wrappedLineExtent.end)){var sticky=moveInStorageOrder?"before":"after";return new Pos(start.line,ch,sticky)}}var searchInVisualLine=function(partPos,dir,wrappedLineExtent){var getRes=\nfunction(ch,moveInStorageOrder){return moveInStorageOrder?new Pos(start.line,mv(ch,1),"before"):new Pos(start.line,ch,"after")};for(;partPos>=0&&partPos<bidi.length;partPos+=dir){var part=bidi[partPos];var moveInStorageOrder=dir>0==(part.level!=1);var ch=moveInStorageOrder?wrappedLineExtent.begin:mv(wrappedLineExtent.end,-1);if(part.from<=ch&&ch<part.to)return getRes(ch,moveInStorageOrder);ch=moveInStorageOrder?part.from:mv(part.to,-1);if(wrappedLineExtent.begin<=ch&&ch<wrappedLineExtent.end)return getRes(ch,\nmoveInStorageOrder)}};var res=searchInVisualLine(partPos+dir,dir,wrappedLineExtent);if(res)return res;var nextCh=dir>0?wrappedLineExtent.end:mv(wrappedLineExtent.begin,-1);if(nextCh!=null&&!(dir>0&&nextCh==line.text.length)){res=searchInVisualLine(dir>0?0:bidi.length-1,dir,getWrappedLineExtent(nextCh));if(res)return res}return null}var commands={selectAll:selectAll,singleSelection:function(cm){return cm.setSelection(cm.getCursor("anchor"),cm.getCursor("head"),sel_dontScroll)},killLine:function(cm){return deleteNearSelection(cm,\nfunction(range){if(range.empty()){var len=getLine(cm.doc,range.head.line).text.length;if(range.head.ch==len&&range.head.line<cm.lastLine())return{from:range.head,to:Pos(range.head.line+1,0)};else return{from:range.head,to:Pos(range.head.line,len)}}else return{from:range.from(),to:range.to()}})},deleteLine:function(cm){return deleteNearSelection(cm,function(range){return{from:Pos(range.from().line,0),to:clipPos(cm.doc,Pos(range.to().line+1,0))}})},delLineLeft:function(cm){return deleteNearSelection(cm,\nfunction(range){return{from:Pos(range.from().line,0),to:range.from()}})},delWrappedLineLeft:function(cm){return deleteNearSelection(cm,function(range){var top=cm.charCoords(range.head,"div").top+5;var leftPos=cm.coordsChar({left:0,top:top},"div");return{from:leftPos,to:range.from()}})},delWrappedLineRight:function(cm){return deleteNearSelection(cm,function(range){var top=cm.charCoords(range.head,"div").top+5;var rightPos=cm.coordsChar({left:cm.display.lineDiv.offsetWidth+100,top:top},"div");return{from:range.from(),\nto:rightPos}})},undo:function(cm){return cm.undo()},redo:function(cm){return cm.redo()},undoSelection:function(cm){return cm.undoSelection()},redoSelection:function(cm){return cm.redoSelection()},goDocStart:function(cm){return cm.extendSelection(Pos(cm.firstLine(),0))},goDocEnd:function(cm){return cm.extendSelection(Pos(cm.lastLine()))},goLineStart:function(cm){return cm.extendSelectionsBy(function(range){return lineStart(cm,range.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(cm){return cm.extendSelectionsBy(function(range){return lineStartSmart(cm,\nrange.head)},{origin:"+move",bias:1})},goLineEnd:function(cm){return cm.extendSelectionsBy(function(range){return lineEnd(cm,range.head.line)},{origin:"+move",bias:-1})},goLineRight:function(cm){return cm.extendSelectionsBy(function(range){var top=cm.cursorCoords(range.head,"div").top+5;return cm.coordsChar({left:cm.display.lineDiv.offsetWidth+100,top:top},"div")},sel_move)},goLineLeft:function(cm){return cm.extendSelectionsBy(function(range){var top=cm.cursorCoords(range.head,"div").top+5;return cm.coordsChar({left:0,\ntop:top},"div")},sel_move)},goLineLeftSmart:function(cm){return cm.extendSelectionsBy(function(range){var top=cm.cursorCoords(range.head,"div").top+5;var pos=cm.coordsChar({left:0,top:top},"div");if(pos.ch<cm.getLine(pos.line).search(/\\S/))return lineStartSmart(cm,range.head);return pos},sel_move)},goLineUp:function(cm){return cm.moveV(-1,"line")},goLineDown:function(cm){return cm.moveV(1,"line")},goPageUp:function(cm){return cm.moveV(-1,"page")},goPageDown:function(cm){return cm.moveV(1,"page")},\ngoCharLeft:function(cm){return cm.moveH(-1,"char")},goCharRight:function(cm){return cm.moveH(1,"char")},goColumnLeft:function(cm){return cm.moveH(-1,"column")},goColumnRight:function(cm){return cm.moveH(1,"column")},goWordLeft:function(cm){return cm.moveH(-1,"word")},goGroupRight:function(cm){return cm.moveH(1,"group")},goGroupLeft:function(cm){return cm.moveH(-1,"group")},goWordRight:function(cm){return cm.moveH(1,"word")},delCharBefore:function(cm){return cm.deleteH(-1,"codepoint")},delCharAfter:function(cm){return cm.deleteH(1,\n"char")},delWordBefore:function(cm){return cm.deleteH(-1,"word")},delWordAfter:function(cm){return cm.deleteH(1,"word")},delGroupBefore:function(cm){return cm.deleteH(-1,"group")},delGroupAfter:function(cm){return cm.deleteH(1,"group")},indentAuto:function(cm){return cm.indentSelection("smart")},indentMore:function(cm){return cm.indentSelection("add")},indentLess:function(cm){return cm.indentSelection("subtract")},insertTab:function(cm){return cm.replaceSelection("\\t")},insertSoftTab:function(cm){var spaces=\n[],ranges=cm.listSelections(),tabSize=cm.options.tabSize;for(var i=0;i<ranges.length;i++){var pos=ranges[i].from();var col=countColumn(cm.getLine(pos.line),pos.ch,tabSize);spaces.push(spaceStr(tabSize-col%tabSize))}cm.replaceSelections(spaces)},defaultTab:function(cm){if(cm.somethingSelected())cm.indentSelection("add");else cm.execCommand("insertTab")},transposeChars:function(cm){return runInOp(cm,function(){var ranges=cm.listSelections(),newSel=[];for(var i=0;i<ranges.length;i++){if(!ranges[i].empty())continue;\nvar cur=ranges[i].head,line=getLine(cm.doc,cur.line).text;if(line){if(cur.ch==line.length)cur=new Pos(cur.line,cur.ch-1);if(cur.ch>0){cur=new Pos(cur.line,cur.ch+1);cm.replaceRange(line.charAt(cur.ch-1)+line.charAt(cur.ch-2),Pos(cur.line,cur.ch-2),cur,"+transpose")}else if(cur.line>cm.doc.first){var prev=getLine(cm.doc,cur.line-1).text;if(prev){cur=new Pos(cur.line,1);cm.replaceRange(line.charAt(0)+cm.doc.lineSeparator()+prev.charAt(prev.length-1),Pos(cur.line-1,prev.length-1),cur,"+transpose")}}}newSel.push(new Range(cur,\ncur))}cm.setSelections(newSel)})},newlineAndIndent:function(cm){return runInOp(cm,function(){var sels=cm.listSelections();for(var i=sels.length-1;i>=0;i--)cm.replaceRange(cm.doc.lineSeparator(),sels[i].anchor,sels[i].head,"+input");sels=cm.listSelections();for(var i$1=0;i$1<sels.length;i$1++)cm.indentLine(sels[i$1].from().line,null,true);ensureCursorVisible(cm)})},openLine:function(cm){return cm.replaceSelection("\\n","start")},toggleOverwrite:function(cm){return cm.toggleOverwrite()}};function lineStart(cm,\nlineN){var line=getLine(cm.doc,lineN);var visual=visualLine(line);if(visual!=line)lineN=lineNo(visual);return endOfLine(true,cm,visual,lineN,1)}function lineEnd(cm,lineN){var line=getLine(cm.doc,lineN);var visual=visualLineEnd(line);if(visual!=line)lineN=lineNo(visual);return endOfLine(true,cm,line,lineN,-1)}function lineStartSmart(cm,pos){var start=lineStart(cm,pos.line);var line=getLine(cm.doc,start.line);var order=getOrder(line,cm.doc.direction);if(!order||order[0].level==0){var firstNonWS=Math.max(start.ch,\nline.text.search(/\\S/));var inWS=pos.line==start.line&&pos.ch<=firstNonWS&&pos.ch;return Pos(start.line,inWS?0:firstNonWS,start.sticky)}return start}function doHandleBinding(cm,bound,dropShift){if(typeof bound=="string"){bound=commands[bound];if(!bound)return false}cm.display.input.ensurePolled();var prevShift=cm.display.shift,done=false;try{if(cm.isReadOnly())cm.state.suppressEdits=true;if(dropShift)cm.display.shift=false;done=bound(cm)!=Pass}finally{cm.display.shift=prevShift;cm.state.suppressEdits=\nfalse}return done}function lookupKeyForEditor(cm,name,handle){for(var i=0;i<cm.state.keyMaps.length;i++){var result=lookupKey(name,cm.state.keyMaps[i],handle,cm);if(result)return result}return cm.options.extraKeys&&lookupKey(name,cm.options.extraKeys,handle,cm)||lookupKey(name,cm.options.keyMap,handle,cm)}var stopSeq=new Delayed;function dispatchKey(cm,name,e,handle){var seq=cm.state.keySeq;if(seq){if(isModifierKey(name))return"handled";if(/\'$/.test(name))cm.state.keySeq=null;else stopSeq.set(50,\nfunction(){if(cm.state.keySeq==seq){cm.state.keySeq=null;cm.display.input.reset()}});if(dispatchKeyInner(cm,seq+" "+name,e,handle))return true}return dispatchKeyInner(cm,name,e,handle)}function dispatchKeyInner(cm,name,e,handle){var result=lookupKeyForEditor(cm,name,handle);if(result=="multi")cm.state.keySeq=name;if(result=="handled")signalLater(cm,"keyHandled",cm,name,e);if(result=="handled"||result=="multi"){e_preventDefault(e);restartBlink(cm)}return!!result}function handleKeyBinding(cm,e){var name=\nkeyName(e,true);if(!name)return false;if(e.shiftKey&&!cm.state.keySeq)return dispatchKey(cm,"Shift-"+name,e,function(b){return doHandleBinding(cm,b,true)})||dispatchKey(cm,name,e,function(b){if(typeof b=="string"?/^go[A-Z]/.test(b):b.motion)return doHandleBinding(cm,b)});else return dispatchKey(cm,name,e,function(b){return doHandleBinding(cm,b)})}function handleCharBinding(cm,e,ch){return dispatchKey(cm,"\'"+ch+"\'",e,function(b){return doHandleBinding(cm,b,true)})}var lastStoppedKey=null;function onKeyDown(e){var cm=\nthis;if(e.target&&e.target!=cm.display.input.getField())return;cm.curOp.focus=activeElt();if(signalDOMEvent(cm,e))return;if(ie&&ie_version<11&&e.keyCode==27)e.returnValue=false;var code=e.keyCode;cm.display.shift=code==16||e.shiftKey;var handled=handleKeyBinding(cm,e);if(presto){lastStoppedKey=handled?code:null;if(!handled&&code==88&&!hasCopyEvent&&(mac?e.metaKey:e.ctrlKey))cm.replaceSelection("",null,"cut")}if(gecko&&!mac&&!handled&&code==46&&e.shiftKey&&!e.ctrlKey&&document.execCommand)document.execCommand("cut");\nif(code==18&&!/\\bCodeMirror-crosshair\\b/.test(cm.display.lineDiv.className))showCrossHair(cm)}function showCrossHair(cm){var lineDiv=cm.display.lineDiv;addClass(lineDiv,"CodeMirror-crosshair");function up(e){if(e.keyCode==18||!e.altKey){rmClass(lineDiv,"CodeMirror-crosshair");off(document,"keyup",up);off(document,"mouseover",up)}}on(document,"keyup",up);on(document,"mouseover",up)}function onKeyUp(e){if(e.keyCode==16)this.doc.sel.shift=false;signalDOMEvent(this,e)}function onKeyPress(e){var cm=this;\nif(e.target&&e.target!=cm.display.input.getField())return;if(eventInWidget(cm.display,e)||signalDOMEvent(cm,e)||e.ctrlKey&&!e.altKey||mac&&e.metaKey)return;var keyCode=e.keyCode,charCode=e.charCode;if(presto&&keyCode==lastStoppedKey){lastStoppedKey=null;e_preventDefault(e);return}if(presto&&(!e.which||e.which<10)&&handleKeyBinding(cm,e))return;var ch=String.fromCharCode(charCode==null?keyCode:charCode);if(ch=="\\b")return;if(handleCharBinding(cm,e,ch))return;cm.display.input.onKeyPress(e)}var DOUBLECLICK_DELAY=\n400;var PastClick=function(time,pos,button){this.time=time;this.pos=pos;this.button=button};PastClick.prototype.compare=function(time,pos,button){return this.time+DOUBLECLICK_DELAY>time&&cmp(pos,this.pos)==0&&button==this.button};var lastClick,lastDoubleClick;function clickRepeat(pos,button){var now=+new Date;if(lastDoubleClick&&lastDoubleClick.compare(now,pos,button)){lastClick=lastDoubleClick=null;return"triple"}else if(lastClick&&lastClick.compare(now,pos,button)){lastDoubleClick=new PastClick(now,\npos,button);lastClick=null;return"double"}else{lastClick=new PastClick(now,pos,button);lastDoubleClick=null;return"single"}}function onMouseDown(e){var cm=this,display=cm.display;if(signalDOMEvent(cm,e)||display.activeTouch&&display.input.supportsTouch())return;display.input.ensurePolled();display.shift=e.shiftKey;if(eventInWidget(display,e)){if(!webkit){display.scroller.draggable=false;setTimeout(function(){return display.scroller.draggable=true},100)}return}if(clickInGutter(cm,e))return;var pos=\nposFromMouse(cm,e),button=e_button(e),repeat=pos?clickRepeat(pos,button):"single";window.focus();if(button==1&&cm.state.selectingText)cm.state.selectingText(e);if(pos&&handleMappedButton(cm,button,pos,repeat,e))return;if(button==1)if(pos)leftButtonDown(cm,pos,repeat,e);else{if(e_target(e)==display.scroller)e_preventDefault(e)}else if(button==2){if(pos)extendSelection(cm.doc,pos);setTimeout(function(){return display.input.focus()},20)}else if(button==3)if(captureRightClick)cm.display.input.onContextMenu(e);\nelse delayBlurEvent(cm)}function handleMappedButton(cm,button,pos,repeat,event){var name="Click";if(repeat=="double")name="Double"+name;else if(repeat=="triple")name="Triple"+name;name=(button==1?"Left":button==2?"Middle":"Right")+name;return dispatchKey(cm,addModifierNames(name,event),event,function(bound){if(typeof bound=="string")bound=commands[bound];if(!bound)return false;var done=false;try{if(cm.isReadOnly())cm.state.suppressEdits=true;done=bound(cm,pos)!=Pass}finally{cm.state.suppressEdits=\nfalse}return done})}function configureMouse(cm,repeat,event){var option=cm.getOption("configureMouse");var value=option?option(cm,repeat,event):{};if(value.unit==null){var rect=chromeOS?event.shiftKey&&event.metaKey:event.altKey;value.unit=rect?"rectangle":repeat=="single"?"char":repeat=="double"?"word":"line"}if(value.extend==null||cm.doc.extend)value.extend=cm.doc.extend||event.shiftKey;if(value.addNew==null)value.addNew=mac?event.metaKey:event.ctrlKey;if(value.moveOnDrag==null)value.moveOnDrag=\n!(mac?event.altKey:event.ctrlKey);return value}function leftButtonDown(cm,pos,repeat,event){if(ie)setTimeout(bind(ensureFocus,cm),0);else cm.curOp.focus=activeElt();var behavior=configureMouse(cm,repeat,event);var sel=cm.doc.sel,contained;if(cm.options.dragDrop&&dragAndDrop&&!cm.isReadOnly()&&repeat=="single"&&(contained=sel.contains(pos))>-1&&(cmp((contained=sel.ranges[contained]).from(),pos)<0||pos.xRel>0)&&(cmp(contained.to(),pos)>0||pos.xRel<0))leftButtonStartDrag(cm,event,pos,behavior);else leftButtonSelect(cm,\nevent,pos,behavior)}function leftButtonStartDrag(cm,event,pos,behavior){var display=cm.display,moved=false;var dragEnd=operation(cm,function(e){if(webkit)display.scroller.draggable=false;cm.state.draggingText=false;if(cm.state.delayingBlurEvent)if(cm.hasFocus())cm.state.delayingBlurEvent=false;else delayBlurEvent(cm);off(display.wrapper.ownerDocument,"mouseup",dragEnd);off(display.wrapper.ownerDocument,"mousemove",mouseMove);off(display.scroller,"dragstart",dragStart);off(display.scroller,"drop",\ndragEnd);if(!moved){e_preventDefault(e);if(!behavior.addNew)extendSelection(cm.doc,pos,null,null,behavior.extend);if(webkit&&!safari||ie&&ie_version==9)setTimeout(function(){display.wrapper.ownerDocument.body.focus({preventScroll:true});display.input.focus()},20);else display.input.focus()}});var mouseMove=function(e2){moved=moved||Math.abs(event.clientX-e2.clientX)+Math.abs(event.clientY-e2.clientY)>=10};var dragStart=function(){return moved=true};if(webkit)display.scroller.draggable=true;cm.state.draggingText=\ndragEnd;dragEnd.copy=!behavior.moveOnDrag;on(display.wrapper.ownerDocument,"mouseup",dragEnd);on(display.wrapper.ownerDocument,"mousemove",mouseMove);on(display.scroller,"dragstart",dragStart);on(display.scroller,"drop",dragEnd);cm.state.delayingBlurEvent=true;setTimeout(function(){return display.input.focus()},20);if(display.scroller.dragDrop)display.scroller.dragDrop()}function rangeForUnit(cm,pos,unit){if(unit=="char")return new Range(pos,pos);if(unit=="word")return cm.findWordAt(pos);if(unit==\n"line")return new Range(Pos(pos.line,0),clipPos(cm.doc,Pos(pos.line+1,0)));var result=unit(cm,pos);return new Range(result.from,result.to)}function leftButtonSelect(cm,event,start,behavior){if(ie)delayBlurEvent(cm);var display=cm.display,doc=cm.doc;e_preventDefault(event);var ourRange,ourIndex,startSel=doc.sel,ranges=startSel.ranges;if(behavior.addNew&&!behavior.extend){ourIndex=doc.sel.contains(start);if(ourIndex>-1)ourRange=ranges[ourIndex];else ourRange=new Range(start,start)}else{ourRange=doc.sel.primary();\nourIndex=doc.sel.primIndex}if(behavior.unit=="rectangle"){if(!behavior.addNew)ourRange=new Range(start,start);start=posFromMouse(cm,event,true,true);ourIndex=-1}else{var range=rangeForUnit(cm,start,behavior.unit);if(behavior.extend)ourRange=extendRange(ourRange,range.anchor,range.head,behavior.extend);else ourRange=range}if(!behavior.addNew){ourIndex=0;setSelection(doc,new Selection([ourRange],0),sel_mouse);startSel=doc.sel}else if(ourIndex==-1){ourIndex=ranges.length;setSelection(doc,normalizeSelection(cm,\nranges.concat([ourRange]),ourIndex),{scroll:false,origin:"*mouse"})}else if(ranges.length>1&&ranges[ourIndex].empty()&&behavior.unit=="char"&&!behavior.extend){setSelection(doc,normalizeSelection(cm,ranges.slice(0,ourIndex).concat(ranges.slice(ourIndex+1)),0),{scroll:false,origin:"*mouse"});startSel=doc.sel}else replaceOneSelection(doc,ourIndex,ourRange,sel_mouse);var lastPos=start;function extendTo(pos){if(cmp(lastPos,pos)==0)return;lastPos=pos;if(behavior.unit=="rectangle"){var ranges=[],tabSize=\ncm.options.tabSize;var startCol=countColumn(getLine(doc,start.line).text,start.ch,tabSize);var posCol=countColumn(getLine(doc,pos.line).text,pos.ch,tabSize);var left=Math.min(startCol,posCol),right=Math.max(startCol,posCol);for(var line=Math.min(start.line,pos.line),end=Math.min(cm.lastLine(),Math.max(start.line,pos.line));line<=end;line++){var text=getLine(doc,line).text,leftPos=findColumn(text,left,tabSize);if(left==right)ranges.push(new Range(Pos(line,leftPos),Pos(line,leftPos)));else if(text.length>\nleftPos)ranges.push(new Range(Pos(line,leftPos),Pos(line,findColumn(text,right,tabSize))))}if(!ranges.length)ranges.push(new Range(start,start));setSelection(doc,normalizeSelection(cm,startSel.ranges.slice(0,ourIndex).concat(ranges),ourIndex),{origin:"*mouse",scroll:false});cm.scrollIntoView(pos)}else{var oldRange=ourRange;var range=rangeForUnit(cm,pos,behavior.unit);var anchor=oldRange.anchor,head;if(cmp(range.anchor,anchor)>0){head=range.head;anchor=minPos(oldRange.from(),range.anchor)}else{head=\nrange.anchor;anchor=maxPos(oldRange.to(),range.head)}var ranges$1=startSel.ranges.slice(0);ranges$1[ourIndex]=bidiSimplify(cm,new Range(clipPos(doc,anchor),head));setSelection(doc,normalizeSelection(cm,ranges$1,ourIndex),sel_mouse)}}var editorSize=display.wrapper.getBoundingClientRect();var counter=0;function extend(e){var curCount=++counter;var cur=posFromMouse(cm,e,true,behavior.unit=="rectangle");if(!cur)return;if(cmp(cur,lastPos)!=0){cm.curOp.focus=activeElt();extendTo(cur);var visible=visibleLines(display,\ndoc);if(cur.line>=visible.to||cur.line<visible.from)setTimeout(operation(cm,function(){if(counter==curCount)extend(e)}),150)}else{var outside=e.clientY<editorSize.top?-20:e.clientY>editorSize.bottom?20:0;if(outside)setTimeout(operation(cm,function(){if(counter!=curCount)return;display.scroller.scrollTop+=outside;extend(e)}),50)}}function done(e){cm.state.selectingText=false;counter=Infinity;if(e){e_preventDefault(e);display.input.focus()}off(display.wrapper.ownerDocument,"mousemove",move);off(display.wrapper.ownerDocument,\n"mouseup",up);doc.history.lastSelOrigin=null}var move=operation(cm,function(e){if(e.buttons===0||!e_button(e))done(e);else extend(e)});var up=operation(cm,done);cm.state.selectingText=up;on(display.wrapper.ownerDocument,"mousemove",move);on(display.wrapper.ownerDocument,"mouseup",up)}function bidiSimplify(cm,range){var anchor=range.anchor;var head=range.head;var anchorLine=getLine(cm.doc,anchor.line);if(cmp(anchor,head)==0&&anchor.sticky==head.sticky)return range;var order=getOrder(anchorLine);if(!order)return range;\nvar index=getBidiPartAt(order,anchor.ch,anchor.sticky),part=order[index];if(part.from!=anchor.ch&&part.to!=anchor.ch)return range;var boundary=index+(part.from==anchor.ch==(part.level!=1)?0:1);if(boundary==0||boundary==order.length)return range;var leftSide;if(head.line!=anchor.line)leftSide=(head.line-anchor.line)*(cm.doc.direction=="ltr"?1:-1)>0;else{var headIndex=getBidiPartAt(order,head.ch,head.sticky);var dir=headIndex-index||(head.ch-anchor.ch)*(part.level==1?-1:1);if(headIndex==boundary-1||\nheadIndex==boundary)leftSide=dir<0;else leftSide=dir>0}var usePart=order[boundary+(leftSide?-1:0)];var from=leftSide==(usePart.level==1);var ch=from?usePart.from:usePart.to,sticky=from?"after":"before";return anchor.ch==ch&&anchor.sticky==sticky?range:new Range(new Pos(anchor.line,ch,sticky),head)}function gutterEvent(cm,e,type,prevent){var mX,mY;if(e.touches){mX=e.touches[0].clientX;mY=e.touches[0].clientY}else try{mX=e.clientX;mY=e.clientY}catch(e$1){return false}if(mX>=Math.floor(cm.display.gutters.getBoundingClientRect().right))return false;\nif(prevent)e_preventDefault(e);var display=cm.display;var lineBox=display.lineDiv.getBoundingClientRect();if(mY>lineBox.bottom||!hasHandler(cm,type))return e_defaultPrevented(e);mY-=lineBox.top-display.viewOffset;for(var i=0;i<cm.display.gutterSpecs.length;++i){var g=display.gutters.childNodes[i];if(g&&g.getBoundingClientRect().right>=mX){var line=lineAtHeight(cm.doc,mY);var gutter=cm.display.gutterSpecs[i];signal(cm,type,cm,line,gutter.className,e);return e_defaultPrevented(e)}}}function clickInGutter(cm,\ne){return gutterEvent(cm,e,"gutterClick",true)}function onContextMenu(cm,e){if(eventInWidget(cm.display,e)||contextMenuInGutter(cm,e))return;if(signalDOMEvent(cm,e,"contextmenu"))return;if(!captureRightClick)cm.display.input.onContextMenu(e)}function contextMenuInGutter(cm,e){if(!hasHandler(cm,"gutterContextMenu"))return false;return gutterEvent(cm,e,"gutterContextMenu",false)}function themeChanged(cm){cm.display.wrapper.className=cm.display.wrapper.className.replace(/\\s*cm-s-\\S+/g,"")+cm.options.theme.replace(/(^|\\s)\\s*/g,\n" cm-s-");clearCaches(cm)}var Init={toString:function(){return"CodeMirror.Init"}};var defaults={};var optionHandlers={};function defineOptions(CodeMirror){var optionHandlers=CodeMirror.optionHandlers;function option(name,deflt,handle,notOnInit){CodeMirror.defaults[name]=deflt;if(handle)optionHandlers[name]=notOnInit?function(cm,val,old){if(old!=Init)handle(cm,val,old)}:handle}CodeMirror.defineOption=option;CodeMirror.Init=Init;option("value","",function(cm,val){return cm.setValue(val)},true);option("mode",\nnull,function(cm,val){cm.doc.modeOption=val;loadMode(cm)},true);option("indentUnit",2,loadMode,true);option("indentWithTabs",false);option("smartIndent",true);option("tabSize",4,function(cm){resetModeState(cm);clearCaches(cm);regChange(cm)},true);option("lineSeparator",null,function(cm,val){cm.doc.lineSep=val;if(!val)return;var newBreaks=[],lineNo=cm.doc.first;cm.doc.iter(function(line){for(var pos=0;;){var found=line.text.indexOf(val,pos);if(found==-1)break;pos=found+val.length;newBreaks.push(Pos(lineNo,\nfound))}lineNo++});for(var i=newBreaks.length-1;i>=0;i--)replaceRange(cm.doc,val,newBreaks[i],Pos(newBreaks[i].line,newBreaks[i].ch+val.length))});option("specialChars",/[\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u061c\\u200b\\u200e\\u200f\\u2028\\u2029\\ufeff\\ufff9-\\ufffc]/g,function(cm,val,old){cm.state.specialChars=new RegExp(val.source+(val.test("\\t")?"":"|\\t"),"g");if(old!=Init)cm.refresh()});option("specialCharPlaceholder",defaultSpecialCharPlaceholder,function(cm){return cm.refresh()},true);option("electricChars",\ntrue);option("inputStyle",mobile?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor");},true);option("spellcheck",false,function(cm,val){return cm.getInputField().spellcheck=val},true);option("autocorrect",false,function(cm,val){return cm.getInputField().autocorrect=val},true);option("autocapitalize",false,function(cm,val){return cm.getInputField().autocapitalize=val},true);option("rtlMoveVisually",!windows);option("wholeLineUpdateBefore",\ntrue);option("theme","default",function(cm){themeChanged(cm);updateGutters(cm)},true);option("keyMap","default",function(cm,val,old){var next=getKeyMap(val);var prev=old!=Init&&getKeyMap(old);if(prev&&prev.detach)prev.detach(cm,next);if(next.attach)next.attach(cm,prev||null)});option("extraKeys",null);option("configureMouse",null);option("lineWrapping",false,wrappingChanged,true);option("gutters",[],function(cm,val){cm.display.gutterSpecs=getGutters(val,cm.options.lineNumbers);updateGutters(cm)},\ntrue);option("fixedGutter",true,function(cm,val){cm.display.gutters.style.left=val?compensateForHScroll(cm.display)+"px":"0";cm.refresh()},true);option("coverGutterNextToScrollbar",false,function(cm){return updateScrollbars(cm)},true);option("scrollbarStyle","native",function(cm){initScrollbars(cm);updateScrollbars(cm);cm.display.scrollbars.setScrollTop(cm.doc.scrollTop);cm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft)},true);option("lineNumbers",false,function(cm,val){cm.display.gutterSpecs=\ngetGutters(cm.options.gutters,val);updateGutters(cm)},true);option("firstLineNumber",1,updateGutters,true);option("lineNumberFormatter",function(integer){return integer},updateGutters,true);option("showCursorWhenSelecting",false,updateSelection,true);option("resetSelectionOnContextMenu",true);option("lineWiseCopyCut",true);option("pasteLinesPerSelection",true);option("selectionsMayTouch",false);option("readOnly",false,function(cm,val){if(val=="nocursor"){onBlur(cm);cm.display.input.blur()}cm.display.input.readOnlyChanged(val)});\noption("screenReaderLabel",null,function(cm,val){val=val===""?null:val;cm.display.input.screenReaderLabelChanged(val)});option("disableInput",false,function(cm,val){if(!val)cm.display.input.reset()},true);option("dragDrop",true,dragDropChanged);option("allowDropFileTypes",null);option("cursorBlinkRate",530);option("cursorScrollMargin",0);option("cursorHeight",1,updateSelection,true);option("singleCursorHeightPerLine",true,updateSelection,true);option("workTime",100);option("workDelay",100);option("flattenSpans",\ntrue,resetModeState,true);option("addModeClass",false,resetModeState,true);option("pollInterval",100);option("undoDepth",200,function(cm,val){return cm.doc.history.undoDepth=val});option("historyEventDelay",1250);option("viewportMargin",10,function(cm){return cm.refresh()},true);option("maxHighlightLength",1E4,resetModeState,true);option("moveInputWithCursor",true,function(cm,val){if(!val)cm.display.input.resetPosition()});option("tabindex",null,function(cm,val){return cm.display.input.getField().tabIndex=\nval||""});option("autofocus",null);option("direction","ltr",function(cm,val){return cm.doc.setDirection(val)},true);option("phrases",null)}function dragDropChanged(cm,value,old){var wasOn=old&&old!=Init;if(!value!=!wasOn){var funcs=cm.display.dragFunctions;var toggle=value?on:off;toggle(cm.display.scroller,"dragstart",funcs.start);toggle(cm.display.scroller,"dragenter",funcs.enter);toggle(cm.display.scroller,"dragover",funcs.over);toggle(cm.display.scroller,"dragleave",funcs.leave);toggle(cm.display.scroller,\n"drop",funcs.drop)}}function wrappingChanged(cm){if(cm.options.lineWrapping){addClass(cm.display.wrapper,"CodeMirror-wrap");cm.display.sizer.style.minWidth="";cm.display.sizerWidth=null}else{rmClass(cm.display.wrapper,"CodeMirror-wrap");findMaxLine(cm)}estimateLineHeights(cm);regChange(cm);clearCaches(cm);setTimeout(function(){return updateScrollbars(cm)},100)}function CodeMirror(place,options){var this$1=this;if(!(this instanceof CodeMirror))return new CodeMirror(place,options);this.options=options=\noptions?copyObj(options):{};copyObj(defaults,options,false);var doc=options.value;if(typeof doc=="string")doc=new Doc(doc,options.mode,null,options.lineSeparator,options.direction);else if(options.mode)doc.modeOption=options.mode;this.doc=doc;var input=new CodeMirror.inputStyles[options.inputStyle](this);var display=this.display=new Display(place,doc,input,options);display.wrapper.CodeMirror=this;themeChanged(this);if(options.lineWrapping)this.display.wrapper.className+=" CodeMirror-wrap";initScrollbars(this);\nthis.state={keyMaps:[],overlays:[],modeGen:0,overwrite:false,delayingBlurEvent:false,focused:false,suppressEdits:false,pasteIncoming:-1,cutIncoming:-1,selectingText:false,draggingText:false,highlight:new Delayed,keySeq:null,specialChars:null};if(options.autofocus&&!mobile)display.input.focus();if(ie&&ie_version<11)setTimeout(function(){return this$1.display.input.reset(true)},20);registerEventHandlers(this);ensureGlobalHandlers();startOperation(this);this.curOp.forceUpdate=true;attachDoc(this,doc);\nif(options.autofocus&&!mobile||this.hasFocus())setTimeout(function(){if(this$1.hasFocus()&&!this$1.state.focused)onFocus(this$1)},20);else onBlur(this);for(var opt in optionHandlers)if(optionHandlers.hasOwnProperty(opt))optionHandlers[opt](this,options[opt],Init);maybeUpdateLineNumberWidth(this);if(options.finishInit)options.finishInit(this);for(var i=0;i<initHooks.length;++i)initHooks[i](this);endOperation(this);if(webkit&&options.lineWrapping&&getComputedStyle(display.lineDiv).textRendering=="optimizelegibility")display.lineDiv.style.textRendering=\n"auto"}CodeMirror.defaults=defaults;CodeMirror.optionHandlers=optionHandlers;function registerEventHandlers(cm){var d=cm.display;on(d.scroller,"mousedown",operation(cm,onMouseDown));if(ie&&ie_version<11)on(d.scroller,"dblclick",operation(cm,function(e){if(signalDOMEvent(cm,e))return;var pos=posFromMouse(cm,e);if(!pos||clickInGutter(cm,e)||eventInWidget(cm.display,e))return;e_preventDefault(e);var word=cm.findWordAt(pos);extendSelection(cm.doc,word.anchor,word.head)}));else on(d.scroller,"dblclick",\nfunction(e){return signalDOMEvent(cm,e)||e_preventDefault(e)});on(d.scroller,"contextmenu",function(e){return onContextMenu(cm,e)});on(d.input.getField(),"contextmenu",function(e){if(!d.scroller.contains(e.target))onContextMenu(cm,e)});var touchFinished,prevTouch={end:0};function finishTouch(){if(d.activeTouch){touchFinished=setTimeout(function(){return d.activeTouch=null},1E3);prevTouch=d.activeTouch;prevTouch.end=+new Date}}function isMouseLikeTouchEvent(e){if(e.touches.length!=1)return false;var touch=\ne.touches[0];return touch.radiusX<=1&&touch.radiusY<=1}function farAway(touch,other){if(other.left==null)return true;var dx=other.left-touch.left,dy=other.top-touch.top;return dx*dx+dy*dy>20*20}on(d.scroller,"touchstart",function(e){if(!signalDOMEvent(cm,e)&&!isMouseLikeTouchEvent(e)&&!clickInGutter(cm,e)){d.input.ensurePolled();clearTimeout(touchFinished);var now=+new Date;d.activeTouch={start:now,moved:false,prev:now-prevTouch.end<=300?prevTouch:null};if(e.touches.length==1){d.activeTouch.left=\ne.touches[0].pageX;d.activeTouch.top=e.touches[0].pageY}}});on(d.scroller,"touchmove",function(){if(d.activeTouch)d.activeTouch.moved=true});on(d.scroller,"touchend",function(e){var touch=d.activeTouch;if(touch&&!eventInWidget(d,e)&&touch.left!=null&&!touch.moved&&new Date-touch.start<300){var pos=cm.coordsChar(d.activeTouch,"page"),range;if(!touch.prev||farAway(touch,touch.prev))range=new Range(pos,pos);else if(!touch.prev.prev||farAway(touch,touch.prev.prev))range=cm.findWordAt(pos);else range=\nnew Range(Pos(pos.line,0),clipPos(cm.doc,Pos(pos.line+1,0)));cm.setSelection(range.anchor,range.head);cm.focus();e_preventDefault(e)}finishTouch()});on(d.scroller,"touchcancel",finishTouch);on(d.scroller,"scroll",function(){if(d.scroller.clientHeight){updateScrollTop(cm,d.scroller.scrollTop);setScrollLeft(cm,d.scroller.scrollLeft,true);signal(cm,"scroll",cm)}});on(d.scroller,"mousewheel",function(e){return onScrollWheel(cm,e)});on(d.scroller,"DOMMouseScroll",function(e){return onScrollWheel(cm,e)});\non(d.wrapper,"scroll",function(){return d.wrapper.scrollTop=d.wrapper.scrollLeft=0});d.dragFunctions={enter:function(e){if(!signalDOMEvent(cm,e))e_stop(e)},over:function(e){if(!signalDOMEvent(cm,e)){onDragOver(cm,e);e_stop(e)}},start:function(e){return onDragStart(cm,e)},drop:operation(cm,onDrop),leave:function(e){if(!signalDOMEvent(cm,e))clearDragCursor(cm)}};var inp=d.input.getField();on(inp,"keyup",function(e){return onKeyUp.call(cm,e)});on(inp,"keydown",operation(cm,onKeyDown));on(inp,"keypress",\noperation(cm,onKeyPress));on(inp,"focus",function(e){return onFocus(cm,e)});on(inp,"blur",function(e){return onBlur(cm,e)})}var initHooks=[];CodeMirror.defineInitHook=function(f){return initHooks.push(f)};function indentLine(cm,n,how,aggressive){var doc=cm.doc,state;if(how==null)how="add";if(how=="smart")if(!doc.mode.indent)how="prev";else state=getContextBefore(cm,n).state;var tabSize=cm.options.tabSize;var line=getLine(doc,n),curSpace=countColumn(line.text,null,tabSize);if(line.stateAfter)line.stateAfter=\nnull;var curSpaceString=line.text.match(/^\\s*/)[0],indentation;if(!aggressive&&!/\\S/.test(line.text)){indentation=0;how="not"}else if(how=="smart"){indentation=doc.mode.indent(state,line.text.slice(curSpaceString.length),line.text);if(indentation==Pass||indentation>150){if(!aggressive)return;how="prev"}}if(how=="prev")if(n>doc.first)indentation=countColumn(getLine(doc,n-1).text,null,tabSize);else indentation=0;else if(how=="add")indentation=curSpace+cm.options.indentUnit;else if(how=="subtract")indentation=\ncurSpace-cm.options.indentUnit;else if(typeof how=="number")indentation=curSpace+how;indentation=Math.max(0,indentation);var indentString="",pos=0;if(cm.options.indentWithTabs)for(var i=Math.floor(indentation/tabSize);i;--i){pos+=tabSize;indentString+="\\t"}if(pos<indentation)indentString+=spaceStr(indentation-pos);if(indentString!=curSpaceString){replaceRange(doc,indentString,Pos(n,0),Pos(n,curSpaceString.length),"+input");line.stateAfter=null;return true}else for(var i$1=0;i$1<doc.sel.ranges.length;i$1++){var range=\ndoc.sel.ranges[i$1];if(range.head.line==n&&range.head.ch<curSpaceString.length){var pos$1=Pos(n,curSpaceString.length);replaceOneSelection(doc,i$1,new Range(pos$1,pos$1));break}}}var lastCopied=null;function setLastCopied(newLastCopied){lastCopied=newLastCopied}function applyTextInput(cm,inserted,deleted,sel,origin){var doc=cm.doc;cm.display.shift=false;if(!sel)sel=doc.sel;var recent=+new Date-200;var paste=origin=="paste"||cm.state.pasteIncoming>recent;var textLines=splitLinesAuto(inserted),multiPaste=\nnull;if(paste&&sel.ranges.length>1)if(lastCopied&&lastCopied.text.join("\\n")==inserted){if(sel.ranges.length%lastCopied.text.length==0){multiPaste=[];for(var i=0;i<lastCopied.text.length;i++)multiPaste.push(doc.splitLines(lastCopied.text[i]))}}else if(textLines.length==sel.ranges.length&&cm.options.pasteLinesPerSelection)multiPaste=map(textLines,function(l){return[l]});var updateInput=cm.curOp.updateInput;for(var i$1=sel.ranges.length-1;i$1>=0;i$1--){var range=sel.ranges[i$1];var from=range.from(),\nto=range.to();if(range.empty())if(deleted&&deleted>0)from=Pos(from.line,from.ch-deleted);else if(cm.state.overwrite&&!paste)to=Pos(to.line,Math.min(getLine(doc,to.line).text.length,to.ch+lst(textLines).length));else if(paste&&lastCopied&&lastCopied.lineWise&&lastCopied.text.join("\\n")==textLines.join("\\n"))from=to=Pos(from.line,0);var changeEvent={from:from,to:to,text:multiPaste?multiPaste[i$1%multiPaste.length]:textLines,origin:origin||(paste?"paste":cm.state.cutIncoming>recent?"cut":"+input")};\nmakeChange(cm.doc,changeEvent);signalLater(cm,"inputRead",cm,changeEvent)}if(inserted&&!paste)triggerElectric(cm,inserted);ensureCursorVisible(cm);if(cm.curOp.updateInput<2)cm.curOp.updateInput=updateInput;cm.curOp.typing=true;cm.state.pasteIncoming=cm.state.cutIncoming=-1}function handlePaste(e,cm){var pasted=e.clipboardData&&e.clipboardData.getData("Text");if(pasted){e.preventDefault();if(!cm.isReadOnly()&&!cm.options.disableInput&&cm.hasFocus())runInOp(cm,function(){return applyTextInput(cm,pasted,\n0,null,"paste")});return true}}function triggerElectric(cm,inserted){if(!cm.options.electricChars||!cm.options.smartIndent)return;var sel=cm.doc.sel;for(var i=sel.ranges.length-1;i>=0;i--){var range=sel.ranges[i];if(range.head.ch>100||i&&sel.ranges[i-1].head.line==range.head.line)continue;var mode=cm.getModeAt(range.head);var indented=false;if(mode.electricChars)for(var j=0;j<mode.electricChars.length;j++){if(inserted.indexOf(mode.electricChars.charAt(j))>-1){indented=indentLine(cm,range.head.line,\n"smart");break}}else if(mode.electricInput)if(mode.electricInput.test(getLine(cm.doc,range.head.line).text.slice(0,range.head.ch)))indented=indentLine(cm,range.head.line,"smart");if(indented)signalLater(cm,"electricInput",cm,range.head.line)}}function copyableRanges(cm){var text=[],ranges=[];for(var i=0;i<cm.doc.sel.ranges.length;i++){var line=cm.doc.sel.ranges[i].head.line;var lineRange={anchor:Pos(line,0),head:Pos(line+1,0)};ranges.push(lineRange);text.push(cm.getRange(lineRange.anchor,lineRange.head))}return{text:text,\nranges:ranges}}function disableBrowserMagic(field,spellcheck,autocorrect,autocapitalize){field.setAttribute("autocorrect",autocorrect?"":"off");field.setAttribute("autocapitalize",autocapitalize?"":"off");field.setAttribute("spellcheck",!!spellcheck)}function hiddenTextarea(){var te=elt("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none");var div=elt("div",[te],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");\nif(webkit)te.style.width="1000px";else te.setAttribute("wrap","off");if(ios)te.style.border="1px solid black";disableBrowserMagic(te);return div}function addEditorMethods(CodeMirror){var optionHandlers=CodeMirror.optionHandlers;var helpers=CodeMirror.helpers={};CodeMirror.prototype={constructor:CodeMirror,focus:function(){window.focus();this.display.input.focus()},setOption:function(option,value){var options=this.options,old=options[option];if(options[option]==value&&option!="mode")return;options[option]=\nvalue;if(optionHandlers.hasOwnProperty(option))operation(this,optionHandlers[option])(this,value,old);signal(this,"optionChange",this,option)},getOption:function(option){return this.options[option]},getDoc:function(){return this.doc},addKeyMap:function(map,bottom){this.state.keyMaps[bottom?"push":"unshift"](getKeyMap(map))},removeKeyMap:function(map){var maps=this.state.keyMaps;for(var i=0;i<maps.length;++i)if(maps[i]==map||maps[i].name==map){maps.splice(i,1);return true}},addOverlay:methodOp(function(spec,\noptions){var mode=spec.token?spec:CodeMirror.getMode(this.options,spec);if(mode.startState)throw new Error("Overlays may not be stateful.");insertSorted(this.state.overlays,{mode:mode,modeSpec:spec,opaque:options&&options.opaque,priority:options&&options.priority||0},function(overlay){return overlay.priority});this.state.modeGen++;regChange(this)}),removeOverlay:methodOp(function(spec){var overlays=this.state.overlays;for(var i=0;i<overlays.length;++i){var cur=overlays[i].modeSpec;if(cur==spec||typeof spec==\n"string"&&cur.name==spec){overlays.splice(i,1);this.state.modeGen++;regChange(this);return}}}),indentLine:methodOp(function(n,dir,aggressive){if(typeof dir!="string"&&typeof dir!="number")if(dir==null)dir=this.options.smartIndent?"smart":"prev";else dir=dir?"add":"subtract";if(isLine(this.doc,n))indentLine(this,n,dir,aggressive)}),indentSelection:methodOp(function(how){var ranges=this.doc.sel.ranges,end=-1;for(var i=0;i<ranges.length;i++){var range=ranges[i];if(!range.empty()){var from=range.from(),\nto=range.to();var start=Math.max(end,from.line);end=Math.min(this.lastLine(),to.line-(to.ch?0:1))+1;for(var j=start;j<end;++j)indentLine(this,j,how);var newRanges=this.doc.sel.ranges;if(from.ch==0&&ranges.length==newRanges.length&&newRanges[i].from().ch>0)replaceOneSelection(this.doc,i,new Range(from,newRanges[i].to()),sel_dontScroll)}else if(range.head.line>end){indentLine(this,range.head.line,how,true);end=range.head.line;if(i==this.doc.sel.primIndex)ensureCursorVisible(this)}}}),getTokenAt:function(pos,\nprecise){return takeToken(this,pos,precise)},getLineTokens:function(line,precise){return takeToken(this,Pos(line),precise,true)},getTokenTypeAt:function(pos){pos=clipPos(this.doc,pos);var styles=getLineStyles(this,getLine(this.doc,pos.line));var before=0,after=(styles.length-1)/2,ch=pos.ch;var type;if(ch==0)type=styles[2];else for(;;){var mid=before+after>>1;if((mid?styles[mid*2-1]:0)>=ch)after=mid;else if(styles[mid*2+1]<ch)before=mid+1;else{type=styles[mid*2+2];break}}var cut=type?type.indexOf("overlay "):\n-1;return cut<0?type:cut==0?null:type.slice(0,cut-1)},getModeAt:function(pos){var mode=this.doc.mode;if(!mode.innerMode)return mode;return CodeMirror.innerMode(mode,this.getTokenAt(pos).state).mode},getHelper:function(pos,type){return this.getHelpers(pos,type)[0]},getHelpers:function(pos,type){var found=[];if(!helpers.hasOwnProperty(type))return found;var help=helpers[type],mode=this.getModeAt(pos);if(typeof mode[type]=="string"){if(help[mode[type]])found.push(help[mode[type]])}else if(mode[type])for(var i=\n0;i<mode[type].length;i++){var val=help[mode[type][i]];if(val)found.push(val)}else if(mode.helperType&&help[mode.helperType])found.push(help[mode.helperType]);else if(help[mode.name])found.push(help[mode.name]);for(var i$1=0;i$1<help._global.length;i$1++){var cur=help._global[i$1];if(cur.pred(mode,this)&&indexOf(found,cur.val)==-1)found.push(cur.val)}return found},getStateAfter:function(line,precise){var doc=this.doc;line=clipLine(doc,line==null?doc.first+doc.size-1:line);return getContextBefore(this,\nline+1,precise).state},cursorCoords:function(start,mode){var pos,range=this.doc.sel.primary();if(start==null)pos=range.head;else if(typeof start=="object")pos=clipPos(this.doc,start);else pos=start?range.from():range.to();return cursorCoords(this,pos,mode||"page")},charCoords:function(pos,mode){return charCoords(this,clipPos(this.doc,pos),mode||"page")},coordsChar:function(coords,mode){coords=fromCoordSystem(this,coords,mode||"page");return coordsChar(this,coords.left,coords.top)},lineAtHeight:function(height,\nmode){height=fromCoordSystem(this,{top:height,left:0},mode||"page").top;return lineAtHeight(this.doc,height+this.display.viewOffset)},heightAtLine:function(line,mode,includeWidgets){var end=false,lineObj;if(typeof line=="number"){var last=this.doc.first+this.doc.size-1;if(line<this.doc.first)line=this.doc.first;else if(line>last){line=last;end=true}lineObj=getLine(this.doc,line)}else lineObj=line;return intoCoordSystem(this,lineObj,{top:0,left:0},mode||"page",includeWidgets||end).top+(end?this.doc.height-\nheightAtLine(lineObj):0)},defaultTextHeight:function(){return textHeight(this.display)},defaultCharWidth:function(){return charWidth(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(pos,node,scroll,vert,horiz){var display=this.display;pos=cursorCoords(this,clipPos(this.doc,pos));var top=pos.bottom,left=pos.left;node.style.position="absolute";node.setAttribute("cm-ignore-events","true");this.display.input.setUneditable(node);display.sizer.appendChild(node);\nif(vert=="over")top=pos.top;else if(vert=="above"||vert=="near"){var vspace=Math.max(display.wrapper.clientHeight,this.doc.height),hspace=Math.max(display.sizer.clientWidth,display.lineSpace.clientWidth);if((vert=="above"||pos.bottom+node.offsetHeight>vspace)&&pos.top>node.offsetHeight)top=pos.top-node.offsetHeight;else if(pos.bottom+node.offsetHeight<=vspace)top=pos.bottom;if(left+node.offsetWidth>hspace)left=hspace-node.offsetWidth}node.style.top=top+"px";node.style.left=node.style.right="";if(horiz==\n"right"){left=display.sizer.clientWidth-node.offsetWidth;node.style.right="0px"}else{if(horiz=="left")left=0;else if(horiz=="middle")left=(display.sizer.clientWidth-node.offsetWidth)/2;node.style.left=left+"px"}if(scroll)scrollIntoView(this,{left:left,top:top,right:left+node.offsetWidth,bottom:top+node.offsetHeight})},triggerOnKeyDown:methodOp(onKeyDown),triggerOnKeyPress:methodOp(onKeyPress),triggerOnKeyUp:onKeyUp,triggerOnMouseDown:methodOp(onMouseDown),execCommand:function(cmd){if(commands.hasOwnProperty(cmd))return commands[cmd].call(null,\nthis)},triggerElectric:methodOp(function(text){triggerElectric(this,text)}),findPosH:function(from,amount,unit,visually){var dir=1;if(amount<0){dir=-1;amount=-amount}var cur=clipPos(this.doc,from);for(var i=0;i<amount;++i){cur=findPosH(this.doc,cur,dir,unit,visually);if(cur.hitSide)break}return cur},moveH:methodOp(function(dir,unit){var this$1=this;this.extendSelectionsBy(function(range){if(this$1.display.shift||this$1.doc.extend||range.empty())return findPosH(this$1.doc,range.head,dir,unit,this$1.options.rtlMoveVisually);\nelse return dir<0?range.from():range.to()},sel_move)}),deleteH:methodOp(function(dir,unit){var sel=this.doc.sel,doc=this.doc;if(sel.somethingSelected())doc.replaceSelection("",null,"+delete");else deleteNearSelection(this,function(range){var other=findPosH(doc,range.head,dir,unit,false);return dir<0?{from:other,to:range.head}:{from:range.head,to:other}})}),findPosV:function(from,amount,unit,goalColumn){var dir=1,x=goalColumn;if(amount<0){dir=-1;amount=-amount}var cur=clipPos(this.doc,from);for(var i=\n0;i<amount;++i){var coords=cursorCoords(this,cur,"div");if(x==null)x=coords.left;else coords.left=x;cur=findPosV(this,coords,dir,unit);if(cur.hitSide)break}return cur},moveV:methodOp(function(dir,unit){var this$1=this;var doc=this.doc,goals=[];var collapse=!this.display.shift&&!doc.extend&&doc.sel.somethingSelected();doc.extendSelectionsBy(function(range){if(collapse)return dir<0?range.from():range.to();var headPos=cursorCoords(this$1,range.head,"div");if(range.goalColumn!=null)headPos.left=range.goalColumn;\ngoals.push(headPos.left);var pos=findPosV(this$1,headPos,dir,unit);if(unit=="page"&&range==doc.sel.primary())addToScrollTop(this$1,charCoords(this$1,pos,"div").top-headPos.top);return pos},sel_move);if(goals.length)for(var i=0;i<doc.sel.ranges.length;i++)doc.sel.ranges[i].goalColumn=goals[i]}),findWordAt:function(pos){var doc=this.doc,line=getLine(doc,pos.line).text;var start=pos.ch,end=pos.ch;if(line){var helper=this.getHelper(pos,"wordChars");if((pos.sticky=="before"||end==line.length)&&start)--start;\nelse++end;var startChar=line.charAt(start);var check=isWordChar(startChar,helper)?function(ch){return isWordChar(ch,helper)}:/\\s/.test(startChar)?function(ch){return/\\s/.test(ch)}:function(ch){return!/\\s/.test(ch)&&!isWordChar(ch)};while(start>0&&check(line.charAt(start-1)))--start;while(end<line.length&&check(line.charAt(end)))++end}return new Range(Pos(pos.line,start),Pos(pos.line,end))},toggleOverwrite:function(value){if(value!=null&&value==this.state.overwrite)return;if(this.state.overwrite=!this.state.overwrite)addClass(this.display.cursorDiv,\n"CodeMirror-overwrite");else rmClass(this.display.cursorDiv,"CodeMirror-overwrite");signal(this,"overwriteToggle",this,this.state.overwrite)},hasFocus:function(){return this.display.input.getField()==activeElt()},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:methodOp(function(x,y){scrollToCoords(this,x,y)}),getScrollInfo:function(){var scroller=this.display.scroller;return{left:scroller.scrollLeft,top:scroller.scrollTop,height:scroller.scrollHeight-scrollGap(this)-\nthis.display.barHeight,width:scroller.scrollWidth-scrollGap(this)-this.display.barWidth,clientHeight:displayHeight(this),clientWidth:displayWidth(this)}},scrollIntoView:methodOp(function(range,margin){if(range==null){range={from:this.doc.sel.primary().head,to:null};if(margin==null)margin=this.options.cursorScrollMargin}else if(typeof range=="number")range={from:Pos(range,0),to:null};else if(range.from==null)range={from:range,to:null};if(!range.to)range.to=range.from;range.margin=margin||0;if(range.from.line!=\nnull)scrollToRange(this,range);else scrollToCoordsRange(this,range.from,range.to,range.margin)}),setSize:methodOp(function(width,height){var this$1=this;var interpret=function(val){return typeof val=="number"||/^\\d+$/.test(String(val))?val+"px":val};if(width!=null)this.display.wrapper.style.width=interpret(width);if(height!=null)this.display.wrapper.style.height=interpret(height);if(this.options.lineWrapping)clearLineMeasurementCache(this);var lineNo=this.display.viewFrom;this.doc.iter(lineNo,this.display.viewTo,\nfunction(line){if(line.widgets)for(var i=0;i<line.widgets.length;i++)if(line.widgets[i].noHScroll){regLineChange(this$1,lineNo,"widget");break}++lineNo});this.curOp.forceUpdate=true;signal(this,"refresh",this)}),operation:function(f){return runInOp(this,f)},startOperation:function(){return startOperation(this)},endOperation:function(){return endOperation(this)},refresh:methodOp(function(){var oldHeight=this.display.cachedTextHeight;regChange(this);this.curOp.forceUpdate=true;clearCaches(this);scrollToCoords(this,\nthis.doc.scrollLeft,this.doc.scrollTop);updateGutterSpace(this.display);if(oldHeight==null||Math.abs(oldHeight-textHeight(this.display))>.5||this.options.lineWrapping)estimateLineHeights(this);signal(this,"refresh",this)}),swapDoc:methodOp(function(doc){var old=this.doc;old.cm=null;if(this.state.selectingText)this.state.selectingText();attachDoc(this,doc);clearCaches(this);this.display.input.reset();scrollToCoords(this,doc.scrollLeft,doc.scrollTop);this.curOp.forceScroll=true;signalLater(this,"swapDoc",\nthis,old);return old}),phrase:function(phraseText){var phrases=this.options.phrases;return phrases&&Object.prototype.hasOwnProperty.call(phrases,phraseText)?phrases[phraseText]:phraseText},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};eventMixin(CodeMirror);CodeMirror.registerHelper=function(type,name,value){if(!helpers.hasOwnProperty(type))helpers[type]=\nCodeMirror[type]={_global:[]};helpers[type][name]=value};CodeMirror.registerGlobalHelper=function(type,name,predicate,value){CodeMirror.registerHelper(type,name,value);helpers[type]._global.push({pred:predicate,val:value})}}function findPosH(doc,pos,dir,unit,visually){var oldPos=pos;var origDir=dir;var lineObj=getLine(doc,pos.line);var lineDir=visually&&doc.direction=="rtl"?-dir:dir;function findNextLine(){var l=pos.line+lineDir;if(l<doc.first||l>=doc.first+doc.size)return false;pos=new Pos(l,pos.ch,\npos.sticky);return lineObj=getLine(doc,l)}function moveOnce(boundToLine){var next;if(unit=="codepoint"){var ch=lineObj.text.charCodeAt(pos.ch+(dir>0?0:-1));if(isNaN(ch))next=null;else{var astral=dir>0?ch>=55296&&ch<56320:ch>=56320&&ch<57343;next=new Pos(pos.line,Math.max(0,Math.min(lineObj.text.length,pos.ch+dir*(astral?2:1))),-dir)}}else if(visually)next=moveVisually(doc.cm,lineObj,pos,dir);else next=moveLogically(lineObj,pos,dir);if(next==null)if(!boundToLine&&findNextLine())pos=endOfLine(visually,\ndoc.cm,lineObj,pos.line,lineDir);else return false;else pos=next;return true}if(unit=="char"||unit=="codepoint")moveOnce();else if(unit=="column")moveOnce(true);else if(unit=="word"||unit=="group"){var sawType=null,group=unit=="group";var helper=doc.cm&&doc.cm.getHelper(pos,"wordChars");for(var first=true;;first=false){if(dir<0&&!moveOnce(!first))break;var cur=lineObj.text.charAt(pos.ch)||"\\n";var type=isWordChar(cur,helper)?"w":group&&cur=="\\n"?"n":!group||/\\s/.test(cur)?null:"p";if(group&&!first&&\n!type)type="s";if(sawType&&sawType!=type){if(dir<0){dir=1;moveOnce();pos.sticky="after"}break}if(type)sawType=type;if(dir>0&&!moveOnce(!first))break}}var result=skipAtomic(doc,pos,oldPos,origDir,true);if(equalCursorPos(oldPos,result))result.hitSide=true;return result}function findPosV(cm,pos,dir,unit){var doc=cm.doc,x=pos.left,y;if(unit=="page"){var pageSize=Math.min(cm.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);var moveAmount=Math.max(pageSize-.5*textHeight(cm.display),\n3);y=(dir>0?pos.bottom:pos.top)+dir*moveAmount}else if(unit=="line")y=dir>0?pos.bottom+3:pos.top-3;var target;for(;;){target=coordsChar(cm,x,y);if(!target.outside)break;if(dir<0?y<=0:y>=doc.height){target.hitSide=true;break}y+=dir*5}return target}var ContentEditableInput=function(cm){this.cm=cm;this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null;this.polling=new Delayed;this.composing=null;this.gracePeriod=false;this.readDOMTimeout=null};ContentEditableInput.prototype.init=\nfunction(display){var this$1=this;var input=this,cm=input.cm;var div=input.div=display.lineDiv;div.contentEditable=true;disableBrowserMagic(div,cm.options.spellcheck,cm.options.autocorrect,cm.options.autocapitalize);function belongsToInput(e){for(var t=e.target;t;t=t.parentNode){if(t==div)return true;if(/\\bCodeMirror-(?:line)?widget\\b/.test(t.className))break}return false}on(div,"paste",function(e){if(!belongsToInput(e)||signalDOMEvent(cm,e)||handlePaste(e,cm))return;if(ie_version<=11)setTimeout(operation(cm,\nfunction(){return this$1.updateFromDOM()}),20)});on(div,"compositionstart",function(e){this$1.composing={data:e.data,done:false}});on(div,"compositionupdate",function(e){if(!this$1.composing)this$1.composing={data:e.data,done:false}});on(div,"compositionend",function(e){if(this$1.composing){if(e.data!=this$1.composing.data)this$1.readFromDOMSoon();this$1.composing.done=true}});on(div,"touchstart",function(){return input.forceCompositionEnd()});on(div,"input",function(){if(!this$1.composing)this$1.readFromDOMSoon()});\nfunction onCopyCut(e){if(!belongsToInput(e)||signalDOMEvent(cm,e))return;if(cm.somethingSelected()){setLastCopied({lineWise:false,text:cm.getSelections()});if(e.type=="cut")cm.replaceSelection("",null,"cut")}else if(!cm.options.lineWiseCopyCut)return;else{var ranges=copyableRanges(cm);setLastCopied({lineWise:true,text:ranges.text});if(e.type=="cut")cm.operation(function(){cm.setSelections(ranges.ranges,0,sel_dontScroll);cm.replaceSelection("",null,"cut")})}if(e.clipboardData){e.clipboardData.clearData();\nvar content=lastCopied.text.join("\\n");e.clipboardData.setData("Text",content);if(e.clipboardData.getData("Text")==content){e.preventDefault();return}}var kludge=hiddenTextarea(),te=kludge.firstChild;cm.display.lineSpace.insertBefore(kludge,cm.display.lineSpace.firstChild);te.value=lastCopied.text.join("\\n");var hadFocus=activeElt();selectInput(te);setTimeout(function(){cm.display.lineSpace.removeChild(kludge);hadFocus.focus();if(hadFocus==div)input.showPrimarySelection()},50)}on(div,"copy",onCopyCut);\non(div,"cut",onCopyCut)};ContentEditableInput.prototype.screenReaderLabelChanged=function(label){if(label)this.div.setAttribute("aria-label",label);else this.div.removeAttribute("aria-label")};ContentEditableInput.prototype.prepareSelection=function(){var result=prepareSelection(this.cm,false);result.focus=activeElt()==this.div;return result};ContentEditableInput.prototype.showSelection=function(info,takeFocus){if(!info||!this.cm.display.view.length)return;if(info.focus||takeFocus)this.showPrimarySelection();\nthis.showMultipleSelections(info)};ContentEditableInput.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()};ContentEditableInput.prototype.showPrimarySelection=function(){var sel=this.getSelection(),cm=this.cm,prim=cm.doc.sel.primary();var from=prim.from(),to=prim.to();if(cm.display.viewTo==cm.display.viewFrom||from.line>=cm.display.viewTo||to.line<cm.display.viewFrom){sel.removeAllRanges();return}var curAnchor=domToPos(cm,sel.anchorNode,sel.anchorOffset);\nvar curFocus=domToPos(cm,sel.focusNode,sel.focusOffset);if(curAnchor&&!curAnchor.bad&&curFocus&&!curFocus.bad&&cmp(minPos(curAnchor,curFocus),from)==0&&cmp(maxPos(curAnchor,curFocus),to)==0)return;var view=cm.display.view;var start=from.line>=cm.display.viewFrom&&posToDOM(cm,from)||{node:view[0].measure.map[2],offset:0};var end=to.line<cm.display.viewTo&&posToDOM(cm,to);if(!end){var measure=view[view.length-1].measure;var map=measure.maps?measure.maps[measure.maps.length-1]:measure.map;end={node:map[map.length-\n1],offset:map[map.length-2]-map[map.length-3]}}if(!start||!end){sel.removeAllRanges();return}var old=sel.rangeCount&&sel.getRangeAt(0),rng;try{rng=range(start.node,start.offset,end.offset,end.node)}catch(e){}if(rng){if(!gecko&&cm.state.focused){sel.collapse(start.node,start.offset);if(!rng.collapsed){sel.removeAllRanges();sel.addRange(rng)}}else{sel.removeAllRanges();sel.addRange(rng)}if(old&&sel.anchorNode==null)sel.addRange(old);else if(gecko)this.startGracePeriod()}this.rememberSelection()};ContentEditableInput.prototype.startGracePeriod=\nfunction(){var this$1=this;clearTimeout(this.gracePeriod);this.gracePeriod=setTimeout(function(){this$1.gracePeriod=false;if(this$1.selectionChanged())this$1.cm.operation(function(){return this$1.cm.curOp.selectionChanged=true})},20)};ContentEditableInput.prototype.showMultipleSelections=function(info){removeChildrenAndAdd(this.cm.display.cursorDiv,info.cursors);removeChildrenAndAdd(this.cm.display.selectionDiv,info.selection)};ContentEditableInput.prototype.rememberSelection=function(){var sel=this.getSelection();\nthis.lastAnchorNode=sel.anchorNode;this.lastAnchorOffset=sel.anchorOffset;this.lastFocusNode=sel.focusNode;this.lastFocusOffset=sel.focusOffset};ContentEditableInput.prototype.selectionInEditor=function(){var sel=this.getSelection();if(!sel.rangeCount)return false;var node=sel.getRangeAt(0).commonAncestorContainer;return contains(this.div,node)};ContentEditableInput.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"){if(!this.selectionInEditor()||activeElt()!=this.div)this.showSelection(this.prepareSelection(),\ntrue);this.div.focus()}};ContentEditableInput.prototype.blur=function(){this.div.blur()};ContentEditableInput.prototype.getField=function(){return this.div};ContentEditableInput.prototype.supportsTouch=function(){return true};ContentEditableInput.prototype.receivedFocus=function(){var this$1=this;var input=this;if(this.selectionInEditor())setTimeout(function(){return this$1.pollSelection()},20);else runInOp(this.cm,function(){return input.cm.curOp.selectionChanged=true});function poll(){if(input.cm.state.focused){input.pollSelection();\ninput.polling.set(input.cm.options.pollInterval,poll)}}this.polling.set(this.cm.options.pollInterval,poll)};ContentEditableInput.prototype.selectionChanged=function(){var sel=this.getSelection();return sel.anchorNode!=this.lastAnchorNode||sel.anchorOffset!=this.lastAnchorOffset||sel.focusNode!=this.lastFocusNode||sel.focusOffset!=this.lastFocusOffset};ContentEditableInput.prototype.pollSelection=function(){if(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())return;var sel=this.getSelection(),\ncm=this.cm;if(android&&chrome&&this.cm.display.gutterSpecs.length&&isInGutter(sel.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs});this.blur();this.focus();return}if(this.composing)return;this.rememberSelection();var anchor=domToPos(cm,sel.anchorNode,sel.anchorOffset);var head=domToPos(cm,sel.focusNode,sel.focusOffset);if(anchor&&head)runInOp(cm,function(){setSelection(cm.doc,simpleSelection(anchor,head),sel_dontScroll);if(anchor.bad||head.bad)cm.curOp.selectionChanged=\ntrue})};ContentEditableInput.prototype.pollContent=function(){if(this.readDOMTimeout!=null){clearTimeout(this.readDOMTimeout);this.readDOMTimeout=null}var cm=this.cm,display=cm.display,sel=cm.doc.sel.primary();var from=sel.from(),to=sel.to();if(from.ch==0&&from.line>cm.firstLine())from=Pos(from.line-1,getLine(cm.doc,from.line-1).length);if(to.ch==getLine(cm.doc,to.line).text.length&&to.line<cm.lastLine())to=Pos(to.line+1,0);if(from.line<display.viewFrom||to.line>display.viewTo-1)return false;var fromIndex,\nfromLine,fromNode;if(from.line==display.viewFrom||(fromIndex=findViewIndex(cm,from.line))==0){fromLine=lineNo(display.view[0].line);fromNode=display.view[0].node}else{fromLine=lineNo(display.view[fromIndex].line);fromNode=display.view[fromIndex-1].node.nextSibling}var toIndex=findViewIndex(cm,to.line);var toLine,toNode;if(toIndex==display.view.length-1){toLine=display.viewTo-1;toNode=display.lineDiv.lastChild}else{toLine=lineNo(display.view[toIndex+1].line)-1;toNode=display.view[toIndex+1].node.previousSibling}if(!fromNode)return false;\nvar newText=cm.doc.splitLines(domTextBetween(cm,fromNode,toNode,fromLine,toLine));var oldText=getBetween(cm.doc,Pos(fromLine,0),Pos(toLine,getLine(cm.doc,toLine).text.length));while(newText.length>1&&oldText.length>1)if(lst(newText)==lst(oldText)){newText.pop();oldText.pop();toLine--}else if(newText[0]==oldText[0]){newText.shift();oldText.shift();fromLine++}else break;var cutFront=0,cutEnd=0;var newTop=newText[0],oldTop=oldText[0],maxCutFront=Math.min(newTop.length,oldTop.length);while(cutFront<maxCutFront&&\nnewTop.charCodeAt(cutFront)==oldTop.charCodeAt(cutFront))++cutFront;var newBot=lst(newText),oldBot=lst(oldText);var maxCutEnd=Math.min(newBot.length-(newText.length==1?cutFront:0),oldBot.length-(oldText.length==1?cutFront:0));while(cutEnd<maxCutEnd&&newBot.charCodeAt(newBot.length-cutEnd-1)==oldBot.charCodeAt(oldBot.length-cutEnd-1))++cutEnd;if(newText.length==1&&oldText.length==1&&fromLine==from.line)while(cutFront&&cutFront>from.ch&&newBot.charCodeAt(newBot.length-cutEnd-1)==oldBot.charCodeAt(oldBot.length-\ncutEnd-1)){cutFront--;cutEnd++}newText[newText.length-1]=newBot.slice(0,newBot.length-cutEnd).replace(/^\\u200b+/,"");newText[0]=newText[0].slice(cutFront).replace(/\\u200b+$/,"");var chFrom=Pos(fromLine,cutFront);var chTo=Pos(toLine,oldText.length?lst(oldText).length-cutEnd:0);if(newText.length>1||newText[0]||cmp(chFrom,chTo)){replaceRange(cm.doc,newText,chFrom,chTo,"+input");return true}};ContentEditableInput.prototype.ensurePolled=function(){this.forceCompositionEnd()};ContentEditableInput.prototype.reset=\nfunction(){this.forceCompositionEnd()};ContentEditableInput.prototype.forceCompositionEnd=function(){if(!this.composing)return;clearTimeout(this.readDOMTimeout);this.composing=null;this.updateFromDOM();this.div.blur();this.div.focus()};ContentEditableInput.prototype.readFromDOMSoon=function(){var this$1=this;if(this.readDOMTimeout!=null)return;this.readDOMTimeout=setTimeout(function(){this$1.readDOMTimeout=null;if(this$1.composing)if(this$1.composing.done)this$1.composing=null;else return;this$1.updateFromDOM()},\n80)};ContentEditableInput.prototype.updateFromDOM=function(){var this$1=this;if(this.cm.isReadOnly()||!this.pollContent())runInOp(this.cm,function(){return regChange(this$1.cm)})};ContentEditableInput.prototype.setUneditable=function(node){node.contentEditable="false"};ContentEditableInput.prototype.onKeyPress=function(e){if(e.charCode==0||this.composing)return;e.preventDefault();if(!this.cm.isReadOnly())operation(this.cm,applyTextInput)(this.cm,String.fromCharCode(e.charCode==null?e.keyCode:e.charCode),\n0)};ContentEditableInput.prototype.readOnlyChanged=function(val){this.div.contentEditable=String(val!="nocursor")};ContentEditableInput.prototype.onContextMenu=function(){};ContentEditableInput.prototype.resetPosition=function(){};ContentEditableInput.prototype.needsContentAttribute=true;function posToDOM(cm,pos){var view=findViewForLine(cm,pos.line);if(!view||view.hidden)return null;var line=getLine(cm.doc,pos.line);var info=mapFromLineView(view,line,pos.line);var order=getOrder(line,cm.doc.direction),\nside="left";if(order){var partPos=getBidiPartAt(order,pos.ch);side=partPos%2?"right":"left"}var result=nodeAndOffsetInLineMap(info.map,pos.ch,side);result.offset=result.collapse=="right"?result.end:result.start;return result}function isInGutter(node){for(var scan=node;scan;scan=scan.parentNode)if(/CodeMirror-gutter-wrapper/.test(scan.className))return true;return false}function badPos(pos,bad){if(bad)pos.bad=true;return pos}function domTextBetween(cm,from,to,fromLine,toLine){var text="",closing=false,\nlineSep=cm.doc.lineSeparator(),extraLinebreak=false;function recognizeMarker(id){return function(marker){return marker.id==id}}function close(){if(closing){text+=lineSep;if(extraLinebreak)text+=lineSep;closing=extraLinebreak=false}}function addText(str){if(str){close();text+=str}}function walk(node){if(node.nodeType==1){var cmText=node.getAttribute("cm-text");if(cmText){addText(cmText);return}var markerID=node.getAttribute("cm-marker"),range;if(markerID){var found=cm.findMarks(Pos(fromLine,0),Pos(toLine+\n1,0),recognizeMarker(+markerID));if(found.length&&(range=found[0].find(0)))addText(getBetween(cm.doc,range.from,range.to).join(lineSep));return}if(node.getAttribute("contenteditable")=="false")return;var isBlock=/^(pre|div|p|li|table|br)$/i.test(node.nodeName);if(!/^br$/i.test(node.nodeName)&&node.textContent.length==0)return;if(isBlock)close();for(var i=0;i<node.childNodes.length;i++)walk(node.childNodes[i]);if(/^(pre|p)$/i.test(node.nodeName))extraLinebreak=true;if(isBlock)closing=true}else if(node.nodeType==\n3)addText(node.nodeValue.replace(/\\u200b/g,"").replace(/\\u00a0/g," "))}for(;;){walk(from);if(from==to)break;from=from.nextSibling;extraLinebreak=false}return text}function domToPos(cm,node,offset){var lineNode;if(node==cm.display.lineDiv){lineNode=cm.display.lineDiv.childNodes[offset];if(!lineNode)return badPos(cm.clipPos(Pos(cm.display.viewTo-1)),true);node=null;offset=0}else for(lineNode=node;;lineNode=lineNode.parentNode){if(!lineNode||lineNode==cm.display.lineDiv)return null;if(lineNode.parentNode&&\nlineNode.parentNode==cm.display.lineDiv)break}for(var i=0;i<cm.display.view.length;i++){var lineView=cm.display.view[i];if(lineView.node==lineNode)return locateNodeInLineView(lineView,node,offset)}}function locateNodeInLineView(lineView,node,offset){var wrapper=lineView.text.firstChild,bad=false;if(!node||!contains(wrapper,node))return badPos(Pos(lineNo(lineView.line),0),true);if(node==wrapper){bad=true;node=wrapper.childNodes[offset];offset=0;if(!node){var line=lineView.rest?lst(lineView.rest):lineView.line;\nreturn badPos(Pos(lineNo(line),line.text.length),bad)}}var textNode=node.nodeType==3?node:null,topNode=node;if(!textNode&&node.childNodes.length==1&&node.firstChild.nodeType==3){textNode=node.firstChild;if(offset)offset=textNode.nodeValue.length}while(topNode.parentNode!=wrapper)topNode=topNode.parentNode;var measure=lineView.measure,maps=measure.maps;function find(textNode,topNode,offset){for(var i=-1;i<(maps?maps.length:0);i++){var map=i<0?measure.map:maps[i];for(var j=0;j<map.length;j+=3){var curNode=\nmap[j+2];if(curNode==textNode||curNode==topNode){var line=lineNo(i<0?lineView.line:lineView.rest[i]);var ch=map[j]+offset;if(offset<0||curNode!=textNode)ch=map[j+(offset?1:0)];return Pos(line,ch)}}}}var found=find(textNode,topNode,offset);if(found)return badPos(found,bad);for(var after=topNode.nextSibling,dist=textNode?textNode.nodeValue.length-offset:0;after;after=after.nextSibling){found=find(after,after.firstChild,0);if(found)return badPos(Pos(found.line,found.ch-dist),bad);else dist+=after.textContent.length}for(var before=\ntopNode.previousSibling,dist$1=offset;before;before=before.previousSibling){found=find(before,before.firstChild,-1);if(found)return badPos(Pos(found.line,found.ch+dist$1),bad);else dist$1+=before.textContent.length}}var TextareaInput=function(cm){this.cm=cm;this.prevInput="";this.pollingFast=false;this.polling=new Delayed;this.hasSelection=false;this.composing=null};TextareaInput.prototype.init=function(display){var this$1=this;var input=this,cm=this.cm;this.createField(display);var te=this.textarea;\ndisplay.wrapper.insertBefore(this.wrapper,display.wrapper.firstChild);if(ios)te.style.width="0px";on(te,"input",function(){if(ie&&ie_version>=9&&this$1.hasSelection)this$1.hasSelection=null;input.poll()});on(te,"paste",function(e){if(signalDOMEvent(cm,e)||handlePaste(e,cm))return;cm.state.pasteIncoming=+new Date;input.fastPoll()});function prepareCopyCut(e){if(signalDOMEvent(cm,e))return;if(cm.somethingSelected())setLastCopied({lineWise:false,text:cm.getSelections()});else if(!cm.options.lineWiseCopyCut)return;\nelse{var ranges=copyableRanges(cm);setLastCopied({lineWise:true,text:ranges.text});if(e.type=="cut")cm.setSelections(ranges.ranges,null,sel_dontScroll);else{input.prevInput="";te.value=ranges.text.join("\\n");selectInput(te)}}if(e.type=="cut")cm.state.cutIncoming=+new Date}on(te,"cut",prepareCopyCut);on(te,"copy",prepareCopyCut);on(display.scroller,"paste",function(e){if(eventInWidget(display,e)||signalDOMEvent(cm,e))return;if(!te.dispatchEvent){cm.state.pasteIncoming=+new Date;input.focus();return}var event=\nnew Event("paste");event.clipboardData=e.clipboardData;te.dispatchEvent(event)});on(display.lineSpace,"selectstart",function(e){if(!eventInWidget(display,e))e_preventDefault(e)});on(te,"compositionstart",function(){var start=cm.getCursor("from");if(input.composing)input.composing.range.clear();input.composing={start:start,range:cm.markText(start,cm.getCursor("to"),{className:"CodeMirror-composing"})}});on(te,"compositionend",function(){if(input.composing){input.poll();input.composing.range.clear();\ninput.composing=null}})};TextareaInput.prototype.createField=function(_display){this.wrapper=hiddenTextarea();this.textarea=this.wrapper.firstChild};TextareaInput.prototype.screenReaderLabelChanged=function(label){if(label)this.textarea.setAttribute("aria-label",label);else this.textarea.removeAttribute("aria-label")};TextareaInput.prototype.prepareSelection=function(){var cm=this.cm,display=cm.display,doc=cm.doc;var result=prepareSelection(cm);if(cm.options.moveInputWithCursor){var headPos=cursorCoords(cm,\ndoc.sel.primary().head,"div");var wrapOff=display.wrapper.getBoundingClientRect(),lineOff=display.lineDiv.getBoundingClientRect();result.teTop=Math.max(0,Math.min(display.wrapper.clientHeight-10,headPos.top+lineOff.top-wrapOff.top));result.teLeft=Math.max(0,Math.min(display.wrapper.clientWidth-10,headPos.left+lineOff.left-wrapOff.left))}return result};TextareaInput.prototype.showSelection=function(drawn){var cm=this.cm,display=cm.display;removeChildrenAndAdd(display.cursorDiv,drawn.cursors);removeChildrenAndAdd(display.selectionDiv,\ndrawn.selection);if(drawn.teTop!=null){this.wrapper.style.top=drawn.teTop+"px";this.wrapper.style.left=drawn.teLeft+"px"}};TextareaInput.prototype.reset=function(typing){if(this.contextMenuPending||this.composing)return;var cm=this.cm;if(cm.somethingSelected()){this.prevInput="";var content=cm.getSelection();this.textarea.value=content;if(cm.state.focused)selectInput(this.textarea);if(ie&&ie_version>=9)this.hasSelection=content}else if(!typing){this.prevInput=this.textarea.value="";if(ie&&ie_version>=\n9)this.hasSelection=null}};TextareaInput.prototype.getField=function(){return this.textarea};TextareaInput.prototype.supportsTouch=function(){return false};TextareaInput.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!mobile||activeElt()!=this.textarea))try{this.textarea.focus()}catch(e){}};TextareaInput.prototype.blur=function(){this.textarea.blur()};TextareaInput.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0};TextareaInput.prototype.receivedFocus=\nfunction(){this.slowPoll()};TextareaInput.prototype.slowPoll=function(){var this$1=this;if(this.pollingFast)return;this.polling.set(this.cm.options.pollInterval,function(){this$1.poll();if(this$1.cm.state.focused)this$1.slowPoll()})};TextareaInput.prototype.fastPoll=function(){var missed=false,input=this;input.pollingFast=true;function p(){var changed=input.poll();if(!changed&&!missed){missed=true;input.polling.set(60,p)}else{input.pollingFast=false;input.slowPoll()}}input.polling.set(20,p)};TextareaInput.prototype.poll=\nfunction(){var this$1=this;var cm=this.cm,input=this.textarea,prevInput=this.prevInput;if(this.contextMenuPending||!cm.state.focused||hasSelection(input)&&!prevInput&&!this.composing||cm.isReadOnly()||cm.options.disableInput||cm.state.keySeq)return false;var text=input.value;if(text==prevInput&&!cm.somethingSelected())return false;if(ie&&ie_version>=9&&this.hasSelection===text||mac&&/[\\uf700-\\uf7ff]/.test(text)){cm.display.input.reset();return false}if(cm.doc.sel==cm.display.selForContextMenu){var first=\ntext.charCodeAt(0);if(first==8203&&!prevInput)prevInput="\\u200b";if(first==8666){this.reset();return this.cm.execCommand("undo")}}var same=0,l=Math.min(prevInput.length,text.length);while(same<l&&prevInput.charCodeAt(same)==text.charCodeAt(same))++same;runInOp(cm,function(){applyTextInput(cm,text.slice(same),prevInput.length-same,null,this$1.composing?"*compose":null);if(text.length>1E3||text.indexOf("\\n")>-1)input.value=this$1.prevInput="";else this$1.prevInput=text;if(this$1.composing){this$1.composing.range.clear();\nthis$1.composing.range=cm.markText(this$1.composing.start,cm.getCursor("to"),{className:"CodeMirror-composing"})}});return true};TextareaInput.prototype.ensurePolled=function(){if(this.pollingFast&&this.poll())this.pollingFast=false};TextareaInput.prototype.onKeyPress=function(){if(ie&&ie_version>=9)this.hasSelection=null;this.fastPoll()};TextareaInput.prototype.onContextMenu=function(e){var input=this,cm=input.cm,display=cm.display,te=input.textarea;if(input.contextMenuPending)input.contextMenuPending();\nvar pos=posFromMouse(cm,e),scrollPos=display.scroller.scrollTop;if(!pos||presto)return;var reset=cm.options.resetSelectionOnContextMenu;if(reset&&cm.doc.sel.contains(pos)==-1)operation(cm,setSelection)(cm.doc,simpleSelection(pos),sel_dontScroll);var oldCSS=te.style.cssText,oldWrapperCSS=input.wrapper.style.cssText;var wrapperBox=input.wrapper.offsetParent.getBoundingClientRect();input.wrapper.style.cssText="position: static";te.style.cssText="position: absolute; width: 30px; height: 30px;\\n      top: "+\n(e.clientY-wrapperBox.top-5)+"px; left: "+(e.clientX-wrapperBox.left-5)+"px;\\n      z-index: 1000; background: "+(ie?"rgba(255, 255, 255, .05)":"transparent")+";\\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";var oldScrollY;if(webkit)oldScrollY=window.scrollY;display.input.focus();if(webkit)window.scrollTo(null,oldScrollY);display.input.reset();if(!cm.somethingSelected())te.value=input.prevInput=" ";input.contextMenuPending=rehide;\ndisplay.selForContextMenu=cm.doc.sel;clearTimeout(display.detectingSelectAll);function prepareSelectAllHack(){if(te.selectionStart!=null){var selected=cm.somethingSelected();var extval="\\u200b"+(selected?te.value:"");te.value="\\u21da";te.value=extval;input.prevInput=selected?"":"\\u200b";te.selectionStart=1;te.selectionEnd=extval.length;display.selForContextMenu=cm.doc.sel}}function rehide(){if(input.contextMenuPending!=rehide)return;input.contextMenuPending=false;input.wrapper.style.cssText=oldWrapperCSS;\nte.style.cssText=oldCSS;if(ie&&ie_version<9)display.scrollbars.setScrollTop(display.scroller.scrollTop=scrollPos);if(te.selectionStart!=null){if(!ie||ie&&ie_version<9)prepareSelectAllHack();var i=0,poll=function(){if(display.selForContextMenu==cm.doc.sel&&te.selectionStart==0&&te.selectionEnd>0&&input.prevInput=="\\u200b")operation(cm,selectAll)(cm);else if(i++<10)display.detectingSelectAll=setTimeout(poll,500);else{display.selForContextMenu=null;display.input.reset()}};display.detectingSelectAll=\nsetTimeout(poll,200)}}if(ie&&ie_version>=9)prepareSelectAllHack();if(captureRightClick){e_stop(e);var mouseup=function(){off(window,"mouseup",mouseup);setTimeout(rehide,20)};on(window,"mouseup",mouseup)}else setTimeout(rehide,50)};TextareaInput.prototype.readOnlyChanged=function(val){if(!val)this.reset();this.textarea.disabled=val=="nocursor";this.textarea.readOnly=!!val};TextareaInput.prototype.setUneditable=function(){};TextareaInput.prototype.needsContentAttribute=false;function fromTextArea(textarea,\noptions){options=options?copyObj(options):{};options.value=textarea.value;if(!options.tabindex&&textarea.tabIndex)options.tabindex=textarea.tabIndex;if(!options.placeholder&&textarea.placeholder)options.placeholder=textarea.placeholder;if(options.autofocus==null){var hasFocus=activeElt();options.autofocus=hasFocus==textarea||textarea.getAttribute("autofocus")!=null&&hasFocus==document.body}function save(){textarea.value=cm.getValue()}var realSubmit;if(textarea.form){on(textarea.form,"submit",save);\nif(!options.leaveSubmitMethodAlone){var form=textarea.form;realSubmit=form.submit;try{var wrappedSubmit=form.submit=function(){save();form.submit=realSubmit;form.submit();form.submit=wrappedSubmit}}catch(e){}}}options.finishInit=function(cm){cm.save=save;cm.getTextArea=function(){return textarea};cm.toTextArea=function(){cm.toTextArea=isNaN;save();textarea.parentNode.removeChild(cm.getWrapperElement());textarea.style.display="";if(textarea.form){off(textarea.form,"submit",save);if(!options.leaveSubmitMethodAlone&&\ntypeof textarea.form.submit=="function")textarea.form.submit=realSubmit}}};textarea.style.display="none";var cm=CodeMirror(function(node){return textarea.parentNode.insertBefore(node,textarea.nextSibling)},options);return cm}function addLegacyProps(CodeMirror){CodeMirror.off=off;CodeMirror.on=on;CodeMirror.wheelEventPixels=wheelEventPixels;CodeMirror.Doc=Doc;CodeMirror.splitLines=splitLinesAuto;CodeMirror.countColumn=countColumn;CodeMirror.findColumn=findColumn;CodeMirror.isWordChar=isWordCharBasic;\nCodeMirror.Pass=Pass;CodeMirror.signal=signal;CodeMirror.Line=Line;CodeMirror.changeEnd=changeEnd;CodeMirror.scrollbarModel=scrollbarModel;CodeMirror.Pos=Pos;CodeMirror.cmpPos=cmp;CodeMirror.modes=modes;CodeMirror.mimeModes=mimeModes;CodeMirror.resolveMode=resolveMode;CodeMirror.getMode=getMode;CodeMirror.modeExtensions=modeExtensions;CodeMirror.extendMode=extendMode;CodeMirror.copyState=copyState;CodeMirror.startState=startState;CodeMirror.innerMode=innerMode;CodeMirror.commands=commands;CodeMirror.keyMap=\nkeyMap;CodeMirror.keyName=keyName;CodeMirror.isModifierKey=isModifierKey;CodeMirror.lookupKey=lookupKey;CodeMirror.normalizeKeyMap=normalizeKeyMap;CodeMirror.StringStream=StringStream;CodeMirror.SharedTextMarker=SharedTextMarker;CodeMirror.TextMarker=TextMarker;CodeMirror.LineWidget=LineWidget;CodeMirror.e_preventDefault=e_preventDefault;CodeMirror.e_stopPropagation=e_stopPropagation;CodeMirror.e_stop=e_stop;CodeMirror.addClass=addClass;CodeMirror.contains=contains;CodeMirror.rmClass=rmClass;CodeMirror.keyNames=\nkeyNames}defineOptions(CodeMirror);addEditorMethods(CodeMirror);var dontDelegate="iter insert remove copy getEditor constructor".split(" ");for(var prop in Doc.prototype)if(Doc.prototype.hasOwnProperty(prop)&&indexOf(dontDelegate,prop)<0)CodeMirror.prototype[prop]=function(method){return function(){return method.apply(this.doc,arguments)}}(Doc.prototype[prop]);eventMixin(Doc);CodeMirror.inputStyles={"textarea":TextareaInput,"contenteditable":ContentEditableInput};CodeMirror.defineMode=function(name){if(!CodeMirror.defaults.mode&&\nname!="null")CodeMirror.defaults.mode=name;defineMode.apply(this,arguments)};CodeMirror.defineMIME=defineMIME;CodeMirror.defineMode("null",function(){return{token:function(stream){return stream.skipToEnd()}}});CodeMirror.defineMIME("text/plain","null");CodeMirror.defineExtension=function(name,func){CodeMirror.prototype[name]=func};CodeMirror.defineDocExtension=function(name,func){Doc.prototype[name]=func};CodeMirror.fromTextArea=fromTextArea;addLegacyProps(CodeMirror);CodeMirror.version="5.65.6";\nreturn CodeMirror});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){var WORD=/[\\w$]+/,RANGE=500;CodeMirror.registerHelper("hint","anyword",function(editor,options){var word=options&&options.word||WORD;var range=options&&options.range||RANGE;var cur=editor.getCursor(),curLine=editor.getLine(cur.line);var end=cur.ch,start=end;while(start&&\nword.test(curLine.charAt(start-1)))--start;var curWord=start!=end&&curLine.slice(start,end);var list=options&&options.list||[],seen={};var re=new RegExp(word.source,"g");for(var dir=-1;dir<=1;dir+=2){var line=cur.line,endLine=Math.min(Math.max(line+dir*range,editor.firstLine()),editor.lastLine())+dir;for(;line!=endLine;line+=dir){var text=editor.getLine(line),m;while(m=re.exec(text)){if(line==cur.line&&m[0]===curWord)continue;if((!curWord||m[0].lastIndexOf(curWord,0)==0)&&!Object.prototype.hasOwnProperty.call(seen,\nm[0])){seen[m[0]]=true;list.push(m[0])}}}}return{list:list,from:CodeMirror.Pos(cur.line,start),to:CodeMirror.Pos(cur.line,end)}})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"),require("../../mode/css/css"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror","../../mode/css/css"],mod);else mod(CodeMirror)})(function(CodeMirror){var pseudoClasses={"active":1,"after":1,"before":1,"checked":1,"default":1,"disabled":1,"empty":1,"enabled":1,"first-child":1,"first-letter":1,"first-line":1,"first-of-type":1,"focus":1,"hover":1,"in-range":1,"indeterminate":1,\n"invalid":1,"lang":1,"last-child":1,"last-of-type":1,"link":1,"not":1,"nth-child":1,"nth-last-child":1,"nth-last-of-type":1,"nth-of-type":1,"only-of-type":1,"only-child":1,"optional":1,"out-of-range":1,"placeholder":1,"read-only":1,"read-write":1,"required":1,"root":1,"selection":1,"target":1,"valid":1,"visited":1};CodeMirror.registerHelper("hint","css",function(cm){var cur=cm.getCursor(),token=cm.getTokenAt(cur);var inner=CodeMirror.innerMode(cm.getMode(),token.state);if(inner.mode.name!="css")return;\nif(token.type=="keyword"&&"!important".indexOf(token.string)==0)return{list:["!important"],from:CodeMirror.Pos(cur.line,token.start),to:CodeMirror.Pos(cur.line,token.end)};var start=token.start,end=cur.ch,word=token.string.slice(0,end-start);if(/[^\\w$_-]/.test(word)){word="";start=end=cur.ch}var spec=CodeMirror.resolveMode("text/css");var result=[];function add(keywords){for(var name in keywords)if(!word||name.lastIndexOf(word,0)==0)result.push(name)}var st=inner.state.state;if(st=="pseudo"||token.type==\n"variable-3")add(pseudoClasses);else if(st=="block"||st=="maybeprop")add(spec.propertyKeywords);else if(st=="prop"||st=="parens"||st=="at"||st=="params"){add(spec.valueKeywords);add(spec.colorKeywords)}else if(st=="media"||st=="media_parens"){add(spec.mediaTypes);add(spec.mediaFeatures)}if(result.length)return{list:result,from:CodeMirror.Pos(cur.line,start),to:CodeMirror.Pos(cur.line,end)}})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"),require("./xml-hint"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror","./xml-hint"],mod);else mod(CodeMirror)})(function(CodeMirror){var langs="ab aa af ak sq am ar an hy as av ae ay az bm ba eu be bn bh bi bs br bg my ca ch ce ny zh cv kw co cr hr cs da dv nl dz en eo et ee fo fj fi fr ff gl ka de el gn gu ht ha he hz hi ho hu ia id ie ga ig ik io is it iu ja jv kl kn kr ks kk km ki rw ky kv kg ko ku kj la lb lg li ln lo lt lu lv gv mk mg ms ml mt mi mr mh mn na nv nb nd ne ng nn no ii nr oc oj cu om or os pa pi fa pl ps pt qu rm rn ro ru sa sc sd se sm sg sr gd sn si sk sl so st es su sw ss sv ta te tg th ti bo tk tl tn to tr ts tt tw ty ug uk ur uz ve vi vo wa cy wo fy xh yi yo za zu".split(" ");\nvar targets=["_blank","_self","_top","_parent"];var charsets=["ascii","utf-8","utf-16","latin1","latin1"];var methods=["get","post","put","delete"];var encs=["application/x-www-form-urlencoded","multipart/form-data","text/plain"];var media=["all","screen","print","embossed","braille","handheld","print","projection","screen","tty","tv","speech","3d-glasses","resolution [>][<][=] [X]","device-aspect-ratio: X/Y","orientation:portrait","orientation:landscape","device-height: [X]","device-width: [X]"];\nvar s={attrs:{}};var data={a:{attrs:{href:null,ping:null,type:null,media:media,target:targets,hreflang:langs}},abbr:s,acronym:s,address:s,applet:s,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:media,hreflang:langs,type:null,shape:["default","rect","circle","poly"]}},article:s,aside:s,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["","autoplay"],loop:["","loop"],controls:["","controls"]}},b:s,\nbase:{attrs:{href:null,target:targets}},basefont:s,bdi:s,bdo:s,big:s,blockquote:{attrs:{cite:null}},body:s,br:s,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["","autofocus"],disabled:["","autofocus"],formenctype:encs,formmethod:methods,formnovalidate:["","novalidate"],formtarget:targets,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:s,center:s,cite:s,code:s,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command",\n"checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["","disabled"],checked:["","checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["","disabled"],multiple:["","multiple"]}},datalist:{attrs:{data:null}},dd:s,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["","open"]}},dfn:s,dir:s,div:s,dialog:{attrs:{open:null}},dl:s,dt:s,em:s,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["",\n"disabled"],form:null,name:null}},figcaption:s,figure:s,font:s,footer:s,form:{attrs:{action:null,name:null,"accept-charset":charsets,autocomplete:["on","off"],enctype:encs,method:methods,novalidate:["","novalidate"],target:targets}},frame:s,frameset:s,h1:s,h2:s,h3:s,h4:s,h5:s,h6:s,head:{attrs:{},children:["title","base","link","style","meta","script","noscript","command"]},header:s,hgroup:s,hr:s,html:{attrs:{manifest:null},children:["head","body"]},i:s,iframe:{attrs:{src:null,srcdoc:null,name:null,\nwidth:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["","seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],\nautocomplete:["on","off"],autofocus:["","autofocus"],checked:["","checked"],disabled:["","disabled"],formenctype:encs,formmethod:methods,formnovalidate:["","novalidate"],formtarget:targets,multiple:["","multiple"],readonly:["","readonly"],required:["","required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},\nkbd:s,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["","autofocus"],disabled:["","disabled"],keytype:["RSA"]}},label:{attrs:{"for":null,form:null}},legend:s,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:langs,media:media,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:s,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:charsets,name:["viewport","application-name","author","description",\n"generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:s,noframes:s,noscript:s,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["","typemustmatch"]}},ol:{attrs:{reversed:["","reversed"],start:null,type:["1","a","A","i","I"]}},optgroup:{attrs:{disabled:["","disabled"],label:null}},option:{attrs:{disabled:["","disabled"],\nlabel:null,selected:["","selected"],value:null}},output:{attrs:{"for":null,form:null,name:null}},p:s,param:{attrs:{name:null,value:null}},pre:s,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:s,rt:s,ruby:s,s:s,samp:s,script:{attrs:{type:["text/javascript"],src:null,async:["","async"],defer:["","defer"],charset:charsets}},section:s,select:{attrs:{form:null,name:null,size:null,autofocus:["","autofocus"],disabled:["","disabled"],multiple:["","multiple"]}},small:s,source:{attrs:{src:null,\ntype:null,media:null}},span:s,strike:s,strong:s,style:{attrs:{type:["text/css"],media:media,scoped:null}},sub:s,summary:s,sup:s,table:s,tbody:s,td:{attrs:{colspan:null,rowspan:null,headers:null}},textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["","autofocus"],disabled:["","disabled"],readonly:["","readonly"],required:["","required"],wrap:["soft","hard"]}},tfoot:s,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup",\n"colgroup"]}},thead:s,time:{attrs:{datetime:null}},title:s,tr:s,track:{attrs:{src:null,label:null,"default":null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:langs}},tt:s,u:s,ul:s,"var":s,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["","autoplay"],mediagroup:["movie"],muted:["","muted"],controls:["","controls"]}},wbr:s};var globalAttrs={accesskey:["a","b","c","d","e",\n"f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"],"class":null,contenteditable:["true","false"],contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["en","es"],spellcheck:["true","false"],autocorrect:["true","false"],autocapitalize:["true",\n"false"],style:null,tabindex:["1","2","3","4","5","6","7","8","9"],title:null,translate:["yes","no"],onclick:null,rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"]};function populate(obj){for(var attr in globalAttrs)if(globalAttrs.hasOwnProperty(attr))obj.attrs[attr]=globalAttrs[attr]}populate(s);for(var tag in data)if(data.hasOwnProperty(tag)&&data[tag]!=s)populate(data[tag]);CodeMirror.htmlSchema=data;function htmlHint(cm,\noptions){var local={schemaInfo:data};if(options)for(var opt in options)local[opt]=options[opt];return CodeMirror.hint.xml(cm,local)}CodeMirror.registerHelper("hint","html",htmlHint)});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){var Pos=CodeMirror.Pos;function forEach(arr,f){for(var i=0,e=arr.length;i<e;++i)f(arr[i])}function arrayContains(arr,item){if(!Array.prototype.indexOf){var i=arr.length;while(i--)if(arr[i]===item)return true;return false}return arr.indexOf(item)!=-1}function scriptHint(editor,\nkeywords,getToken,options){var cur=editor.getCursor(),token=getToken(editor,cur);if(/\\b(?:string|comment)\\b/.test(token.type))return;var innerMode=CodeMirror.innerMode(editor.getMode(),token.state);if(innerMode.mode.helperType==="json")return;token.state=innerMode.state;if(!/^[\\w$_]*$/.test(token.string))token={start:cur.ch,end:cur.ch,string:"",state:token.state,type:token.string=="."?"property":null};else if(token.end>cur.ch){token.end=cur.ch;token.string=token.string.slice(0,cur.ch-token.start)}var tprop=\ntoken;while(tprop.type=="property"){tprop=getToken(editor,Pos(cur.line,tprop.start));if(tprop.string!=".")return;tprop=getToken(editor,Pos(cur.line,tprop.start));if(!context)var context=[];context.push(tprop)}return{list:getCompletions(token,context,keywords,options),from:Pos(cur.line,token.start),to:Pos(cur.line,token.end)}}function javascriptHint(editor,options){return scriptHint(editor,javascriptKeywords,function(e,cur){return e.getTokenAt(cur)},options)}CodeMirror.registerHelper("hint","javascript",\njavascriptHint);function getCoffeeScriptToken(editor,cur){var token=editor.getTokenAt(cur);if(cur.ch==token.start+1&&token.string.charAt(0)=="."){token.end=token.start;token.string=".";token.type="property"}else if(/^\\.[\\w$_]*$/.test(token.string)){token.type="property";token.start++;token.string=token.string.replace(/\\./,"")}return token}function coffeescriptHint(editor,options){return scriptHint(editor,coffeescriptKeywords,getCoffeeScriptToken,options)}CodeMirror.registerHelper("hint","coffeescript",\ncoffeescriptHint);var stringProps=("charAt charCodeAt indexOf lastIndexOf substring substr slice trim trimLeft trimRight "+"toUpperCase toLowerCase split concat match replace search").split(" ");var arrayProps=("length concat join splice push pop shift unshift slice reverse sort indexOf "+"lastIndexOf every some filter forEach map reduce reduceRight ").split(" ");var funcProps="prototype apply call bind".split(" ");var javascriptKeywords=("break case catch class const continue debugger default delete do else export extends false finally for function "+\n"if in import instanceof new null return super switch this throw true try typeof var void while with yield").split(" ");var coffeescriptKeywords=("and break catch class continue delete do else extends false finally for "+"if in instanceof isnt new no not null of off on or return switch then throw true try typeof until void while with yes").split(" ");function forAllProps(obj,callback){if(!Object.getOwnPropertyNames||!Object.getPrototypeOf)for(var name in obj)callback(name);else for(var o=obj;o;o=\nObject.getPrototypeOf(o))Object.getOwnPropertyNames(o).forEach(callback)}function getCompletions(token,context,keywords,options){var found=[],start=token.string,global=options&&options.globalScope||window;function maybeAdd(str){if(str.lastIndexOf(start,0)==0&&!arrayContains(found,str))found.push(str)}function gatherCompletions(obj){if(typeof obj=="string")forEach(stringProps,maybeAdd);else if(obj instanceof Array)forEach(arrayProps,maybeAdd);else if(obj instanceof Function)forEach(funcProps,maybeAdd);\nforAllProps(obj,maybeAdd)}if(context&&context.length){var obj=context.pop(),base;if(obj.type&&obj.type.indexOf("variable")===0){if(options&&options.additionalContext)base=options.additionalContext[obj.string];if(!options||options.useGlobalScope!==false)base=base||global[obj.string]}else if(obj.type=="string")base="";else if(obj.type=="atom")base=1;else if(obj.type=="function")if(global.jQuery!=null&&(obj.string=="$"||obj.string=="jQuery")&&typeof global.jQuery=="function")base=global.jQuery();else if(global._!=\nnull&&obj.string=="_"&&typeof global._=="function")base=global._();while(base!=null&&context.length)base=base[context.pop().string];if(base!=null)gatherCompletions(base)}else{for(var v=token.state.localVars;v;v=v.next)maybeAdd(v.name);for(var c=token.state.context;c;c=c.prev)for(var v=c.vars;v;v=v.next)maybeAdd(v.name);for(var v=token.state.globalVars;v;v=v.next)maybeAdd(v.name);if(options&&options.additionalContext!=null)for(var key in options.additionalContext)maybeAdd(key);if(!options||options.useGlobalScope!==\nfalse)gatherCompletions(global);forEach(keywords,maybeAdd)}return found}});/*\n\n Copyright (C) 2014 by Marijn Haverbeke <marijnh@gmail.com> and others\n\n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the "Software"), to deal\n in the Software without restriction, including without limitation the rights\n to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included in\n all copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n THE SOFTWARE.\n*/\n(function(){function forEach(arr,f){for(var i=0,e=arr.length;i<e;++i)f(arr[i])}function arrayContains(arr,item){if(!Array.prototype.indexOf){var i=arr.length;while(i--)if(arr[i]===item)return true;return false}return arr.indexOf(item)!=-1}function scriptHint(editor,_keywords,getToken){var cur=editor.getCursor(),token=getToken(editor,cur),tprop=token;if(!/^[\\w$_]*$/.test(token.string))token=tprop={start:cur.ch,end:cur.ch,string:"",state:token.state,className:token.string==":"?"pig-type":null};if(!context)var context=\n[];context.push(tprop);var completionList=getCompletions(token,context);completionList=completionList.sort();if(completionList.length==1)completionList.push(" ");return{list:completionList,from:CodeMirror.Pos(cur.line,token.start),to:CodeMirror.Pos(cur.line,token.end)}}function pigHint(editor){return scriptHint(editor,pigKeywordsU,function(e,cur){return e.getTokenAt(cur)})}CodeMirror.pigHint=pigHint;CodeMirror.registerHelper("hint","pig",pigHint);var pigKeywords="VOID IMPORT RETURNS DEFINE LOAD FILTER FOREACH ORDER CUBE DISTINCT COGROUP "+\n"JOIN CROSS UNION SPLIT INTO IF OTHERWISE ALL AS BY USING INNER OUTER ONSCHEMA PARALLEL "+"PARTITION GROUP AND OR NOT GENERATE FLATTEN ASC DESC IS STREAM THROUGH STORE MAPREDUCE "+"SHIP CACHE INPUT OUTPUT STDERROR STDIN STDOUT LIMIT SAMPLE LEFT RIGHT FULL EQ GT LT GTE LTE "+"NEQ MATCHES TRUE FALSE";var pigKeywordsU=pigKeywords.split(" ");var pigKeywordsL=pigKeywords.toLowerCase().split(" ");var pigTypes="BOOLEAN INT LONG FLOAT DOUBLE CHARARRAY BYTEARRAY BAG TUPLE MAP";var pigTypesU=pigTypes.split(" ");\nvar pigTypesL=pigTypes.toLowerCase().split(" ");var pigBuiltins="ABS ACOS ARITY ASIN ATAN AVG BAGSIZE BINSTORAGE BLOOM BUILDBLOOM CBRT CEIL "+"CONCAT COR COS COSH COUNT COUNT_STAR COV CONSTANTSIZE CUBEDIMENSIONS DIFF DISTINCT DOUBLEABS "+"DOUBLEAVG DOUBLEBASE DOUBLEMAX DOUBLEMIN DOUBLEROUND DOUBLESUM EXP FLOOR FLOATABS FLOATAVG "+"FLOATMAX FLOATMIN FLOATROUND FLOATSUM GENERICINVOKER INDEXOF INTABS INTAVG INTMAX INTMIN "+"INTSUM INVOKEFORDOUBLE INVOKEFORFLOAT INVOKEFORINT INVOKEFORLONG INVOKEFORSTRING INVOKER "+\n"ISEMPTY JSONLOADER JSONMETADATA JSONSTORAGE LAST_INDEX_OF LCFIRST LOG LOG10 LOWER LONGABS "+"LONGAVG LONGMAX LONGMIN LONGSUM MAX MIN MAPSIZE MONITOREDUDF NONDETERMINISTIC OUTPUTSCHEMA  "+"PIGSTORAGE PIGSTREAMING RANDOM REGEX_EXTRACT REGEX_EXTRACT_ALL REPLACE ROUND SIN SINH SIZE "+"SQRT STRSPLIT SUBSTRING SUM STRINGCONCAT STRINGMAX STRINGMIN STRINGSIZE TAN TANH TOBAG "+"TOKENIZE TOMAP TOP TOTUPLE TRIM TEXTLOADER TUPLESIZE UCFIRST UPPER UTF8STORAGECONVERTER";var pigBuiltinsU=pigBuiltins.split(" ").join("() ").split(" ");\nvar pigBuiltinsL=pigBuiltins.toLowerCase().split(" ").join("() ").split(" ");var pigBuiltinsC=("BagSize BinStorage Bloom BuildBloom ConstantSize CubeDimensions DoubleAbs "+"DoubleAvg DoubleBase DoubleMax DoubleMin DoubleRound DoubleSum FloatAbs FloatAvg FloatMax "+"FloatMin FloatRound FloatSum GenericInvoker IntAbs IntAvg IntMax IntMin IntSum "+"InvokeForDouble InvokeForFloat InvokeForInt InvokeForLong InvokeForString Invoker "+"IsEmpty JsonLoader JsonMetadata JsonStorage LongAbs LongAvg LongMax LongMin LongSum MapSize "+\n"MonitoredUDF Nondeterministic OutputSchema PigStorage PigStreaming StringConcat StringMax "+"StringMin StringSize TextLoader TupleSize Utf8StorageConverter").split(" ").join("() ").split(" ");function getCompletions(token,context){var found=[],start=token.string;function maybeAdd(str){if(str.lastIndexOf(start,0)==0&&!arrayContains(found,str))found.push(str)}function gatherCompletions(obj){if(obj==":")forEach(pigTypesL,maybeAdd);else{forEach(pigBuiltinsU,maybeAdd);forEach(pigBuiltinsL,maybeAdd);forEach(pigBuiltinsC,\nmaybeAdd);forEach(pigTypesU,maybeAdd);forEach(pigTypesL,maybeAdd);forEach(pigKeywordsU,maybeAdd);forEach(pigKeywordsL,maybeAdd)}}if(context){var obj=context.pop(),base;if(obj.type=="variable")base=obj.string;else if(obj.type=="variable-3")base=":"+obj.string;while(base!=null&&context.length)base=base[context.pop().string];if(base!=null)gatherCompletions(base)}return found}})();(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){var HINT_ELEMENT_CLASS="CodeMirror-hint";var ACTIVE_HINT_ELEMENT_CLASS="CodeMirror-hint-active";CodeMirror.showHint=function(cm,getHints,options){if(!getHints)return cm.showHint(options);if(options&&options.async)getHints.async=true;var newOpts={hint:getHints};if(options)for(var prop in options)newOpts[prop]=\noptions[prop];return cm.showHint(newOpts)};CodeMirror.defineExtension("showHint",function(options){options=parseOptions(this,this.getCursor("start"),options);var selections=this.listSelections();if(selections.length>1)return;if(this.somethingSelected()){if(!options.hint.supportsSelection)return;for(var i=0;i<selections.length;i++)if(selections[i].head.line!=selections[i].anchor.line)return}if(this.state.completionActive)this.state.completionActive.close();var completion=this.state.completionActive=\nnew Completion(this,options);if(!completion.options.hint)return;CodeMirror.signal(this,"startCompletion",this);completion.update(true)});CodeMirror.defineExtension("closeHint",function(){if(this.state.completionActive)this.state.completionActive.close()});function Completion(cm,options){this.cm=cm;this.options=options;this.widget=null;this.debounce=0;this.tick=0;this.startPos=this.cm.getCursor("start");this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length;if(this.options.updateOnCursorActivity){var self=\nthis;cm.on("cursorActivity",this.activityFunc=function(){self.cursorActivity()})}}var requestAnimationFrame=window.requestAnimationFrame||function(fn){return setTimeout(fn,1E3/60)};var cancelAnimationFrame=window.cancelAnimationFrame||clearTimeout;Completion.prototype={close:function(){if(!this.active())return;this.cm.state.completionActive=null;this.tick=null;if(this.options.updateOnCursorActivity)this.cm.off("cursorActivity",this.activityFunc);if(this.widget&&this.data)CodeMirror.signal(this.data,\n"close");if(this.widget)this.widget.close();CodeMirror.signal(this.cm,"endCompletion",this.cm)},active:function(){return this.cm.state.completionActive==this},pick:function(data,i){var completion=data.list[i],self=this;this.cm.operation(function(){if(completion.hint)completion.hint(self.cm,data,completion);else self.cm.replaceRange(getText(completion),completion.from||data.from,completion.to||data.to,"complete");CodeMirror.signal(data,"pick",completion);self.cm.scrollIntoView()});if(this.options.closeOnPick)this.close()},\ncursorActivity:function(){if(this.debounce){cancelAnimationFrame(this.debounce);this.debounce=0}var identStart=this.startPos;if(this.data)identStart=this.data.from;var pos=this.cm.getCursor(),line=this.cm.getLine(pos.line);if(pos.line!=this.startPos.line||line.length-pos.ch!=this.startLen-this.startPos.ch||pos.ch<identStart.ch||this.cm.somethingSelected()||(!pos.ch||this.options.closeCharacters.test(line.charAt(pos.ch-1))))this.close();else{var self=this;this.debounce=requestAnimationFrame(function(){self.update()});\nif(this.widget)this.widget.disable()}},update:function(first){if(this.tick==null)return;var self=this,myTick=++this.tick;fetchHints(this.options.hint,this.cm,this.options,function(data){if(self.tick==myTick)self.finishUpdate(data,first)})},finishUpdate:function(data,first){if(this.data)CodeMirror.signal(this.data,"update");var picked=this.widget&&this.widget.picked||first&&this.options.completeSingle;if(this.widget)this.widget.close();this.data=data;if(data&&data.list.length)if(picked&&data.list.length==\n1)this.pick(data,0);else{this.widget=new Widget(this,data);CodeMirror.signal(data,"shown")}}};function parseOptions(cm,pos,options){var editor=cm.options.hintOptions;var out={};for(var prop in defaultOptions)out[prop]=defaultOptions[prop];if(editor)for(var prop in editor)if(editor[prop]!==undefined)out[prop]=editor[prop];if(options)for(var prop in options)if(options[prop]!==undefined)out[prop]=options[prop];if(out.hint.resolve)out.hint=out.hint.resolve(cm,pos);return out}function getText(completion){if(typeof completion==\n"string")return completion;else return completion.text}function buildKeyMap(completion,handle){var baseMap={Up:function(){handle.moveFocus(-1)},Down:function(){handle.moveFocus(1)},PageUp:function(){handle.moveFocus(-handle.menuSize()+1,true)},PageDown:function(){handle.moveFocus(handle.menuSize()-1,true)},Home:function(){handle.setFocus(0)},End:function(){handle.setFocus(handle.length-1)},Enter:handle.pick,Tab:handle.pick,Esc:handle.close};var mac=/Mac/.test(navigator.platform);if(mac){baseMap["Ctrl-P"]=\nfunction(){handle.moveFocus(-1)};baseMap["Ctrl-N"]=function(){handle.moveFocus(1)}}var custom=completion.options.customKeys;var ourMap=custom?{}:baseMap;function addBinding(key,val){var bound;if(typeof val!="string")bound=function(cm){return val(cm,handle)};else if(baseMap.hasOwnProperty(val))bound=baseMap[val];else bound=val;ourMap[key]=bound}if(custom)for(var key in custom)if(custom.hasOwnProperty(key))addBinding(key,custom[key]);var extra=completion.options.extraKeys;if(extra)for(var key in extra)if(extra.hasOwnProperty(key))addBinding(key,\nextra[key]);return ourMap}function getHintElement(hintsElement,el){while(el&&el!=hintsElement){if(el.nodeName.toUpperCase()==="LI"&&el.parentNode==hintsElement)return el;el=el.parentNode}}var nextId=Math.floor(Math.random(1E6));function Widget(completion,data){this.id="cm-complete-"+nextId++;this.completion=completion;this.data=data;this.picked=false;var widget=this,cm=completion.cm;var ownerDocument=cm.getInputField().ownerDocument;var parentWindow=ownerDocument.defaultView||ownerDocument.parentWindow;\nvar hints=this.hints=ownerDocument.createElement("ul");hints.setAttribute("role","listbox");hints.setAttribute("aria-expanded","true");hints.id=this.id;var theme=completion.cm.options.theme;hints.className="CodeMirror-hints "+theme;this.selectedHint=data.selectedHint||0;var completions=data.list;for(var i=0;i<completions.length;++i){var elt=hints.appendChild(ownerDocument.createElement("li")),cur=completions[i];var className=HINT_ELEMENT_CLASS+(i!=this.selectedHint?"":" "+ACTIVE_HINT_ELEMENT_CLASS);\nif(cur.className!=null)className=cur.className+" "+className;elt.className=className;if(i==this.selectedHint)elt.setAttribute("aria-selected","true");elt.id=this.id+"-"+i;elt.setAttribute("role","option");if(cur.render)cur.render(elt,data,cur);else elt.appendChild(ownerDocument.createTextNode(cur.displayText||getText(cur)));elt.hintId=i}var container=completion.options.container||ownerDocument.body;var pos=cm.cursorCoords(completion.options.alignWithWord?data.from:null);var left=pos.left,top=pos.bottom,\nbelow=true;var offsetLeft=0,offsetTop=0;if(container!==ownerDocument.body){var isContainerPositioned=["absolute","relative","fixed"].indexOf(parentWindow.getComputedStyle(container).position)!==-1;var offsetParent=isContainerPositioned?container:container.offsetParent;var offsetParentPosition=offsetParent.getBoundingClientRect();var bodyPosition=ownerDocument.body.getBoundingClientRect();offsetLeft=offsetParentPosition.left-bodyPosition.left-offsetParent.scrollLeft;offsetTop=offsetParentPosition.top-\nbodyPosition.top-offsetParent.scrollTop}hints.style.left=left-offsetLeft+"px";hints.style.top=top-offsetTop+"px";var winW=parentWindow.innerWidth||Math.max(ownerDocument.body.offsetWidth,ownerDocument.documentElement.offsetWidth);var winH=parentWindow.innerHeight||Math.max(ownerDocument.body.offsetHeight,ownerDocument.documentElement.offsetHeight);container.appendChild(hints);cm.getInputField().setAttribute("aria-autocomplete","list");cm.getInputField().setAttribute("aria-owns",this.id);cm.getInputField().setAttribute("aria-activedescendant",\nthis.id+"-"+this.selectedHint);var box=completion.options.moveOnOverlap?hints.getBoundingClientRect():new DOMRect;var scrolls=completion.options.paddingForScrollbar?hints.scrollHeight>hints.clientHeight+1:false;var startScroll;setTimeout(function(){startScroll=cm.getScrollInfo()});var overlapY=box.bottom-winH;if(overlapY>0){var height=box.bottom-box.top,curTop=pos.top-(pos.bottom-box.top);if(curTop-height>0){hints.style.top=(top=pos.top-height-offsetTop)+"px";below=false}else if(height>winH){hints.style.height=\nwinH-5+"px";hints.style.top=(top=pos.bottom-box.top-offsetTop)+"px";var cursor=cm.getCursor();if(data.from.ch!=cursor.ch){pos=cm.cursorCoords(cursor);hints.style.left=(left=pos.left-offsetLeft)+"px";box=hints.getBoundingClientRect()}}}var overlapX=box.right-winW;if(scrolls)overlapX+=cm.display.nativeBarWidth;if(overlapX>0){if(box.right-box.left>winW){hints.style.width=winW-5+"px";overlapX-=box.right-box.left-winW}hints.style.left=(left=Math.max(pos.left-overlapX-offsetLeft,0))+"px"}if(scrolls)for(var node=\nhints.firstChild;node;node=node.nextSibling)node.style.paddingRight=cm.display.nativeBarWidth+"px";cm.addKeyMap(this.keyMap=buildKeyMap(completion,{moveFocus:function(n,avoidWrap){widget.changeActive(widget.selectedHint+n,avoidWrap)},setFocus:function(n){widget.changeActive(n)},menuSize:function(){return widget.screenAmount()},length:completions.length,close:function(){completion.close()},pick:function(){widget.pick()},data:data}));if(completion.options.closeOnUnfocus){var closingOnBlur;cm.on("blur",\nthis.onBlur=function(){closingOnBlur=setTimeout(function(){completion.close()},100)});cm.on("focus",this.onFocus=function(){clearTimeout(closingOnBlur)})}cm.on("scroll",this.onScroll=function(){var curScroll=cm.getScrollInfo(),editor=cm.getWrapperElement().getBoundingClientRect();if(!startScroll)startScroll=cm.getScrollInfo();var newTop=top+startScroll.top-curScroll.top;var point=newTop-(parentWindow.pageYOffset||(ownerDocument.documentElement||ownerDocument.body).scrollTop);if(!below)point+=hints.offsetHeight;\nif(point<=editor.top||point>=editor.bottom)return completion.close();hints.style.top=newTop+"px";hints.style.left=left+startScroll.left-curScroll.left+"px"});CodeMirror.on(hints,"dblclick",function(e){var t=getHintElement(hints,e.target||e.srcElement);if(t&&t.hintId!=null){widget.changeActive(t.hintId);widget.pick()}});CodeMirror.on(hints,"click",function(e){var t=getHintElement(hints,e.target||e.srcElement);if(t&&t.hintId!=null){widget.changeActive(t.hintId);if(completion.options.completeOnSingleClick)widget.pick()}});\nCodeMirror.on(hints,"mousedown",function(){setTimeout(function(){cm.focus()},20)});var selectedHintRange=this.getSelectedHintRange();if(selectedHintRange.from!==0||selectedHintRange.to!==0)this.scrollToActive();CodeMirror.signal(data,"select",completions[this.selectedHint],hints.childNodes[this.selectedHint]);return true}Widget.prototype={close:function(){if(this.completion.widget!=this)return;this.completion.widget=null;if(this.hints.parentNode)this.hints.parentNode.removeChild(this.hints);this.completion.cm.removeKeyMap(this.keyMap);\nvar input=this.completion.cm.getInputField();input.removeAttribute("aria-activedescendant");input.removeAttribute("aria-owns");var cm=this.completion.cm;if(this.completion.options.closeOnUnfocus){cm.off("blur",this.onBlur);cm.off("focus",this.onFocus)}cm.off("scroll",this.onScroll)},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var widget=this;this.keyMap={Enter:function(){widget.picked=true}};this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,\nthis.selectedHint)},changeActive:function(i,avoidWrap){if(i>=this.data.list.length)i=avoidWrap?this.data.list.length-1:0;else if(i<0)i=avoidWrap?0:this.data.list.length-1;if(this.selectedHint==i)return;var node=this.hints.childNodes[this.selectedHint];if(node){node.className=node.className.replace(" "+ACTIVE_HINT_ELEMENT_CLASS,"");node.removeAttribute("aria-selected")}node=this.hints.childNodes[this.selectedHint=i];node.className+=" "+ACTIVE_HINT_ELEMENT_CLASS;node.setAttribute("aria-selected","true");\nthis.completion.cm.getInputField().setAttribute("aria-activedescendant",node.id);this.scrollToActive();CodeMirror.signal(this.data,"select",this.data.list[this.selectedHint],node)},scrollToActive:function(){var selectedHintRange=this.getSelectedHintRange();var node1=this.hints.childNodes[selectedHintRange.from];var node2=this.hints.childNodes[selectedHintRange.to];var firstNode=this.hints.firstChild;if(node1.offsetTop<this.hints.scrollTop)this.hints.scrollTop=node1.offsetTop-firstNode.offsetTop;else if(node2.offsetTop+\nnode2.offsetHeight>this.hints.scrollTop+this.hints.clientHeight)this.hints.scrollTop=node2.offsetTop+node2.offsetHeight-this.hints.clientHeight+firstNode.offsetTop},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1},getSelectedHintRange:function(){var margin=this.completion.options.scrollMargin||0;return{from:Math.max(0,this.selectedHint-margin),to:Math.min(this.data.list.length-1,this.selectedHint+margin)}}};function applicableHelpers(cm,helpers){if(!cm.somethingSelected())return helpers;\nvar result=[];for(var i=0;i<helpers.length;i++)if(helpers[i].supportsSelection)result.push(helpers[i]);return result}function fetchHints(hint,cm,options,callback){if(hint.async)hint(cm,callback,options);else{var result=hint(cm,options);if(result&&result.then)result.then(callback);else callback(result)}}function resolveAutoHints(cm,pos){var helpers=cm.getHelpers(pos,"hint"),words;if(helpers.length){var resolved=function(cm,callback,options){var app=applicableHelpers(cm,helpers);function run(i){if(i==\napp.length)return callback(null);fetchHints(app[i],cm,options,function(result){if(result&&result.list.length>0)callback(result);else run(i+1)})}run(0)};resolved.async=true;resolved.supportsSelection=true;return resolved}else if(words=cm.getHelper(cm.getCursor(),"hintWords"))return function(cm){return CodeMirror.hint.fromList(cm,{words:words})};else if(CodeMirror.hint.anyword)return function(cm,options){return CodeMirror.hint.anyword(cm,options)};else return function(){}}CodeMirror.registerHelper("hint",\n"auto",{resolve:resolveAutoHints});CodeMirror.registerHelper("hint","fromList",function(cm,options){var cur=cm.getCursor(),token=cm.getTokenAt(cur);var term,from=CodeMirror.Pos(cur.line,token.start),to=cur;if(token.start<cur.ch&&/\\w/.test(token.string.charAt(cur.ch-token.start-1)))term=token.string.substr(0,cur.ch-token.start);else{term="";from=cur}var found=[];for(var i=0;i<options.words.length;i++){var word=options.words[i];if(word.slice(0,term.length)==term)found.push(word)}if(found.length)return{list:found,\nfrom:from,to:to}});CodeMirror.commands.autocomplete=CodeMirror.showHint;var defaultOptions={hint:CodeMirror.hint.auto,completeSingle:true,alignWithWord:true,closeCharacters:/[\\s()\\[\\]{};:>,]/,closeOnPick:true,closeOnUnfocus:true,updateOnCursorActivity:true,completeOnSingleClick:true,container:null,customKeys:null,extraKeys:null,paddingForScrollbar:true,moveOnOverlap:true};CodeMirror.defineOption("hintOptions",null)});(function(){CodeMirror.simpleHint=function(editor,getHints,givenOptions){var options={},defaults=CodeMirror.simpleHint.defaults;for(var opt in defaults)if(defaults.hasOwnProperty(opt))options[opt]=(givenOptions&&givenOptions.hasOwnProperty(opt)?givenOptions:defaults)[opt];function collectHints(previousToken){if(editor.somethingSelected())return;var tempToken=editor.getTokenAt(editor.getCursor());if(options.closeOnTokenChange&&previousToken!=null&&(tempToken.start!=previousToken.start||tempToken.type!=\npreviousToken.type))return;var result=getHints(editor,givenOptions);if(!result||!result.list.length)return;var completions=result.list;function insert(str){editor.replaceRange(str,result.from,result.to)}if(options.completeSingle&&completions.length==1){insert(completions[0]);return true}var complete=document.createElement("div");complete.className="CodeMirror-completions";var sel=complete.appendChild(document.createElement("select"));if(!window.opera)sel.multiple=true;for(var i=0;i<completions.length;++i){var opt=\nsel.appendChild(document.createElement("option"));opt.appendChild(document.createTextNode(completions[i]))}sel.firstChild.selected=true;sel.size=Math.min(10,completions.length);var pos=editor.cursorCoords(options.alignWithWord?result.from:null);complete.style.left=pos.left+"px";complete.style.top=pos.bottom+"px";document.body.appendChild(complete);var winW=window.innerWidth||Math.max(document.body.offsetWidth,document.documentElement.offsetWidth);if(winW-pos.left<sel.clientWidth)complete.style.left=\npos.left-sel.clientWidth+"px";if(completions.length<=10)complete.style.width=sel.clientWidth-1+"px";var done=false;function close(){if(done)return;done=true;complete.parentNode.removeChild(complete)}function pick(){insert(completions[sel.selectedIndex]);close();setTimeout(function(){editor.focus()},50)}CodeMirror.on(sel,"blur",close);CodeMirror.on(sel,"keydown",function(event){var code=event.keyCode;if(code==13){CodeMirror.e_stop(event);pick()}else if(code==27){CodeMirror.e_stop(event);close();editor.focus()}else if(code!=\n38&&code!=40&&code!=33&&code!=34&&!CodeMirror.isModifierKey(event)){close();editor.focus();editor.triggerOnKeyDown(event);if(!options.closeOnBackspace||code!=8)setTimeout(function(){collectHints(tempToken)},50)}});CodeMirror.on(sel,"dblclick",pick);sel.focus();if(window.opera)setTimeout(function(){if(!done)sel.focus()},100);return true}return collectHints()};CodeMirror.simpleHint.defaults={closeOnBackspace:true,closeOnTokenChange:false,completeSingle:true,alignWithWord:true}})();(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"),require("../../mode/sql/sql"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror","../../mode/sql/sql"],mod);else mod(CodeMirror)})(function(CodeMirror){var tables;var defaultTable;var keywords;var identifierQuote;var CONS={QUERY_DIV:";",ALIAS_KEYWORD:"AS"};var Pos=CodeMirror.Pos,cmpPos=CodeMirror.cmpPos;function isArray(val){return Object.prototype.toString.call(val)==\n"[object Array]"}function getKeywords(editor){var mode=editor.doc.modeOption;if(mode==="sql")mode="text/x-sql";return CodeMirror.resolveMode(mode).keywords}function getIdentifierQuote(editor){var mode=editor.doc.modeOption;if(mode==="sql")mode="text/x-sql";return CodeMirror.resolveMode(mode).identifierQuote||"`"}function getText(item){return typeof item=="string"?item:item.text}function wrapTable(name,value){if(isArray(value))value={columns:value};if(!value.text)value.text=name;return value}function parseTables(input){var result=\n{};if(isArray(input))for(var i=input.length-1;i>=0;i--){var item=input[i];result[getText(item).toUpperCase()]=wrapTable(getText(item),item)}else if(input)for(var name in input)result[name.toUpperCase()]=wrapTable(name,input[name]);return result}function getTable(name){return tables[name.toUpperCase()]}function shallowClone(object){var result={};for(var key in object)if(object.hasOwnProperty(key))result[key]=object[key];return result}function match(string,word){var len=string.length;var sub=getText(word).substr(0,\nlen);return string.toUpperCase()===sub.toUpperCase()}function addMatches(result,search,wordlist,formatter){if(isArray(wordlist))for(var i=0;i<wordlist.length;i++){if(match(search,wordlist[i]))result.push(formatter(wordlist[i]))}else for(var word in wordlist)if(wordlist.hasOwnProperty(word)){var val=wordlist[word];if(!val||val===true)val=word;else val=val.displayText?{text:val.text,displayText:val.displayText}:val.text;if(match(search,val))result.push(formatter(val))}}function cleanName(name){if(name.charAt(0)==\n".")name=name.substr(1);var nameParts=name.split(identifierQuote+identifierQuote);for(var i=0;i<nameParts.length;i++)nameParts[i]=nameParts[i].replace(new RegExp(identifierQuote,"g"),"");return nameParts.join(identifierQuote)}function insertIdentifierQuotes(name){var nameParts=getText(name).split(".");for(var i=0;i<nameParts.length;i++)nameParts[i]=identifierQuote+nameParts[i].replace(new RegExp(identifierQuote,"g"),identifierQuote+identifierQuote)+identifierQuote;var escaped=nameParts.join(".");\nif(typeof name=="string")return escaped;name=shallowClone(name);name.text=escaped;return name}function nameCompletion(cur,token,result,editor){var useIdentifierQuotes=false;var nameParts=[];var start=token.start;var cont=true;while(cont){cont=token.string.charAt(0)==".";useIdentifierQuotes=useIdentifierQuotes||token.string.charAt(0)==identifierQuote;start=token.start;nameParts.unshift(cleanName(token.string));token=editor.getTokenAt(Pos(cur.line,token.start));if(token.string=="."){cont=true;token=\neditor.getTokenAt(Pos(cur.line,token.start))}}var string=nameParts.join(".");addMatches(result,string,tables,function(w){return useIdentifierQuotes?insertIdentifierQuotes(w):w});addMatches(result,string,defaultTable,function(w){return useIdentifierQuotes?insertIdentifierQuotes(w):w});string=nameParts.pop();var table=nameParts.join(".");var alias=false;var aliasTable=table;if(!getTable(table)){var oldTable=table;table=findTableByAlias(table,editor);if(table!==oldTable)alias=true}var columns=getTable(table);\nif(columns&&columns.columns)columns=columns.columns;if(columns)addMatches(result,string,columns,function(w){var tableInsert=table;if(alias==true)tableInsert=aliasTable;if(typeof w=="string")w=tableInsert+"."+w;else{w=shallowClone(w);w.text=tableInsert+"."+w.text}return useIdentifierQuotes?insertIdentifierQuotes(w):w});return start}function eachWord(lineText,f){var words=lineText.split(/\\s+/);for(var i=0;i<words.length;i++)if(words[i])f(words[i].replace(/[`,;]/g,""))}function findTableByAlias(alias,\neditor){var doc=editor.doc;var fullQuery=doc.getValue();var aliasUpperCase=alias.toUpperCase();var previousWord="";var table="";var separator=[];var validRange={start:Pos(0,0),end:Pos(editor.lastLine(),editor.getLineHandle(editor.lastLine()).length)};var indexOfSeparator=fullQuery.indexOf(CONS.QUERY_DIV);while(indexOfSeparator!=-1){separator.push(doc.posFromIndex(indexOfSeparator));indexOfSeparator=fullQuery.indexOf(CONS.QUERY_DIV,indexOfSeparator+1)}separator.unshift(Pos(0,0));separator.push(Pos(editor.lastLine(),\neditor.getLineHandle(editor.lastLine()).text.length));var prevItem=null;var current=editor.getCursor();for(var i=0;i<separator.length;i++){if((prevItem==null||cmpPos(current,prevItem)>0)&&cmpPos(current,separator[i])<=0){validRange={start:prevItem,end:separator[i]};break}prevItem=separator[i]}if(validRange.start){var query=doc.getRange(validRange.start,validRange.end,false);for(var i=0;i<query.length;i++){var lineText=query[i];eachWord(lineText,function(word){var wordUpperCase=word.toUpperCase();\nif(wordUpperCase===aliasUpperCase&&getTable(previousWord))table=previousWord;if(wordUpperCase!==CONS.ALIAS_KEYWORD)previousWord=word});if(table)break}}return table}CodeMirror.registerHelper("hint","sql",function(editor,options){tables=parseTables(options&&options.tables);var defaultTableName=options&&options.defaultTable;var disableKeywords=options&&options.disableKeywords;defaultTable=defaultTableName&&getTable(defaultTableName);keywords=getKeywords(editor);identifierQuote=getIdentifierQuote(editor);\nif(defaultTableName&&!defaultTable)defaultTable=findTableByAlias(defaultTableName,editor);defaultTable=defaultTable||[];if(defaultTable.columns)defaultTable=defaultTable.columns;var cur=editor.getCursor();var result=[];var token=editor.getTokenAt(cur),start,end,search;if(token.end>cur.ch){token.end=cur.ch;token.string=token.string.slice(0,cur.ch-token.start)}if(token.string.match(/^[.`"\'\\w@][\\w$#]*$/g)){search=token.string;start=token.start;end=token.end}else{start=end=cur.ch;search=""}if(search.charAt(0)==\n"."||search.charAt(0)==identifierQuote)start=nameCompletion(cur,token,result,editor);else{var objectOrClass=function(w,className){if(typeof w==="object")w.className=className;else w={text:w,className:className};return w};addMatches(result,search,defaultTable,function(w){return objectOrClass(w,"CodeMirror-hint-table CodeMirror-hint-default-table")});addMatches(result,search,tables,function(w){return objectOrClass(w,"CodeMirror-hint-table")});if(!disableKeywords)addMatches(result,search,keywords,function(w){return objectOrClass(w.toUpperCase(),\n"CodeMirror-hint-keyword")})}return{list:result,from:Pos(cur.line,start),to:Pos(cur.line,end)}})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){var Pos=CodeMirror.Pos;function matches(hint,typed,matchInMiddle){if(matchInMiddle)return hint.indexOf(typed)>=0;else return hint.lastIndexOf(typed,0)==0}function getHints(cm,options){var tags=options&&options.schemaInfo;var quote=options&&options.quoteChar||\'"\';var matchInMiddle=\noptions&&options.matchInMiddle;if(!tags)return;var cur=cm.getCursor(),token=cm.getTokenAt(cur);if(token.end>cur.ch){token.end=cur.ch;token.string=token.string.slice(0,cur.ch-token.start)}var inner=CodeMirror.innerMode(cm.getMode(),token.state);if(!inner.mode.xmlCurrentTag)return;var result=[],replaceToken=false,prefix;var tag=/\\btag\\b/.test(token.type)&&!/>$/.test(token.string);var tagName=tag&&/^\\w/.test(token.string),tagStart;if(tagName){var before=cm.getLine(cur.line).slice(Math.max(0,token.start-\n2),token.start);var tagType=/<\\/$/.test(before)?"close":/<$/.test(before)?"open":null;if(tagType)tagStart=token.start-(tagType=="close"?2:1)}else if(tag&&token.string=="<")tagType="open";else if(tag&&token.string=="</")tagType="close";var tagInfo=inner.mode.xmlCurrentTag(inner.state);if(!tag&&!tagInfo||tagType){if(tagName)prefix=token.string;replaceToken=tagType;var context=inner.mode.xmlCurrentContext?inner.mode.xmlCurrentContext(inner.state):[];var inner=context.length&&context[context.length-1];\nvar curTag=inner&&tags[inner];var childList=inner?curTag&&curTag.children:tags["!top"];if(childList&&tagType!="close")for(var i=0;i<childList.length;++i){if(!prefix||matches(childList[i],prefix,matchInMiddle))result.push("<"+childList[i])}else if(tagType!="close")for(var name in tags)if(tags.hasOwnProperty(name)&&name!="!top"&&name!="!attrs"&&(!prefix||matches(name,prefix,matchInMiddle)))result.push("<"+name);if(inner&&(!prefix||tagType=="close"&&matches(inner,prefix,matchInMiddle)))result.push("</"+\ninner+">")}else{var curTag=tagInfo&&tags[tagInfo.name],attrs=curTag&&curTag.attrs;var globalAttrs=tags["!attrs"];if(!attrs&&!globalAttrs)return;if(!attrs)attrs=globalAttrs;else if(globalAttrs){var set={};for(var nm in globalAttrs)if(globalAttrs.hasOwnProperty(nm))set[nm]=globalAttrs[nm];for(var nm in attrs)if(attrs.hasOwnProperty(nm))set[nm]=attrs[nm];attrs=set}if(token.type=="string"||token.string=="="){var before=cm.getRange(Pos(cur.line,Math.max(0,cur.ch-60)),Pos(cur.line,token.type=="string"?\ntoken.start:token.end));var atName=before.match(/([^\\s\\u00a0=<>"\']+)=$/),atValues;if(!atName||!attrs.hasOwnProperty(atName[1])||!(atValues=attrs[atName[1]]))return;if(typeof atValues=="function")atValues=atValues.call(this,cm);if(token.type=="string"){prefix=token.string;var n=0;if(/[\'"]/.test(token.string.charAt(0))){quote=token.string.charAt(0);prefix=token.string.slice(1);n++}var len=token.string.length;if(/[\'"]/.test(token.string.charAt(len-1))){quote=token.string.charAt(len-1);prefix=token.string.substr(n,\nlen-2)}if(n){var line=cm.getLine(cur.line);if(line.length>token.end&&line.charAt(token.end)==quote)token.end++}replaceToken=true}var returnHintsFromAtValues=function(atValues){if(atValues)for(var i=0;i<atValues.length;++i)if(!prefix||matches(atValues[i],prefix,matchInMiddle))result.push(quote+atValues[i]+quote);return returnHints()};if(atValues&&atValues.then)return atValues.then(returnHintsFromAtValues);return returnHintsFromAtValues(atValues)}else{if(token.type=="attribute"){prefix=token.string;\nreplaceToken=true}for(var attr in attrs)if(attrs.hasOwnProperty(attr)&&(!prefix||matches(attr,prefix,matchInMiddle)))result.push(attr)}}function returnHints(){return{list:result,from:replaceToken?Pos(cur.line,tagStart==null?token.start:tagStart):cur,to:replaceToken?Pos(cur.line,token.end):cur}}return returnHints()}CodeMirror.registerHelper("hint","xml",getHints)});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){var WRAP_CLASS="CodeMirror-activeline";var BACK_CLASS="CodeMirror-activeline-background";var GUTT_CLASS="CodeMirror-activeline-gutter";CodeMirror.defineOption("styleActiveLine",false,function(cm,val,old){var prev=old==CodeMirror.Init?false:old;if(val==prev)return;if(prev){cm.off("beforeSelectionChange",\nselectionChange);clearActiveLines(cm);delete cm.state.activeLines}if(val){cm.state.activeLines=[];updateActiveLines(cm,cm.listSelections());cm.on("beforeSelectionChange",selectionChange)}});function clearActiveLines(cm){for(var i=0;i<cm.state.activeLines.length;i++){cm.removeLineClass(cm.state.activeLines[i],"wrap",WRAP_CLASS);cm.removeLineClass(cm.state.activeLines[i],"background",BACK_CLASS);cm.removeLineClass(cm.state.activeLines[i],"gutter",GUTT_CLASS)}}function sameArray(a,b){if(a.length!=b.length)return false;\nfor(var i=0;i<a.length;i++)if(a[i]!=b[i])return false;return true}function updateActiveLines(cm,ranges){var active=[];for(var i=0;i<ranges.length;i++){var range=ranges[i];var option=cm.getOption("styleActiveLine");if(typeof option=="object"&&option.nonEmpty?range.anchor.line!=range.head.line:!range.empty())continue;var line=cm.getLineHandleVisualStart(range.head.line);if(active[active.length-1]!=line)active.push(line)}if(sameArray(cm.state.activeLines,active))return;cm.operation(function(){clearActiveLines(cm);\nfor(var i=0;i<active.length;i++){cm.addLineClass(active[i],"wrap",WRAP_CLASS);cm.addLineClass(active[i],"background",BACK_CLASS);cm.addLineClass(active[i],"gutter",GUTT_CLASS)}cm.state.activeLines=active})}function selectionChange(cm,sel){updateActiveLines(cm,sel.ranges)}});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineOption("styleSelectedText",false,function(cm,val,old){var prev=old&&old!=CodeMirror.Init;if(val&&!prev){cm.state.markedSelection=[];cm.state.markedSelectionStyle=typeof val=="string"?val:"CodeMirror-selectedtext";reset(cm);cm.on("cursorActivity",onCursorActivity);\ncm.on("change",onChange)}else if(!val&&prev){cm.off("cursorActivity",onCursorActivity);cm.off("change",onChange);clear(cm);cm.state.markedSelection=cm.state.markedSelectionStyle=null}});function onCursorActivity(cm){if(cm.state.markedSelection)cm.operation(function(){update(cm)})}function onChange(cm){if(cm.state.markedSelection&&cm.state.markedSelection.length)cm.operation(function(){clear(cm)})}var CHUNK_SIZE=8;var Pos=CodeMirror.Pos;var cmp=CodeMirror.cmpPos;function coverRange(cm,from,to,addAt){if(cmp(from,\nto)==0)return;var array=cm.state.markedSelection;var cls=cm.state.markedSelectionStyle;for(var line=from.line;;){var start=line==from.line?from:Pos(line,0);var endLine=line+CHUNK_SIZE,atEnd=endLine>=to.line;var end=atEnd?to:Pos(endLine,0);var mark=cm.markText(start,end,{className:cls});if(addAt==null)array.push(mark);else array.splice(addAt++,0,mark);if(atEnd)break;line=endLine}}function clear(cm){var array=cm.state.markedSelection;for(var i=0;i<array.length;++i)array[i].clear();array.length=0}function reset(cm){clear(cm);\nvar ranges=cm.listSelections();for(var i=0;i<ranges.length;i++)coverRange(cm,ranges[i].from(),ranges[i].to())}function update(cm){if(!cm.somethingSelected())return clear(cm);if(cm.listSelections().length>1)return reset(cm);var from=cm.getCursor("start"),to=cm.getCursor("end");var array=cm.state.markedSelection;if(!array.length)return coverRange(cm,from,to);var coverStart=array[0].find(),coverEnd=array[array.length-1].find();if(!coverStart||!coverEnd||to.line-from.line<=CHUNK_SIZE||cmp(from,coverEnd.to)>=\n0||cmp(to,coverStart.from)<=0)return reset(cm);while(cmp(from,coverStart.from)>0){array.shift().clear();coverStart=array[0].find()}if(cmp(from,coverStart.from)<0)if(coverStart.to.line-from.line<CHUNK_SIZE){array.shift().clear();coverRange(cm,from,coverStart.to,0)}else coverRange(cm,from,coverStart.from,0);while(cmp(to,coverEnd.to)<0){array.pop().clear();coverEnd=array[array.length-1].find()}if(cmp(to,coverEnd.to)>0)if(to.line-coverEnd.from.line<CHUNK_SIZE){array.pop().clear();coverRange(cm,coverEnd.from,\nto)}else coverRange(cm,coverEnd.to,to)}});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineOption("selectionPointer",false,function(cm,val){var data=cm.state.selectionPointer;if(data){CodeMirror.off(cm.getWrapperElement(),"mousemove",data.mousemove);CodeMirror.off(cm.getWrapperElement(),"mouseout",data.mouseout);CodeMirror.off(window,"scroll",\ndata.windowScroll);cm.off("cursorActivity",reset);cm.off("scroll",reset);cm.state.selectionPointer=null;cm.display.lineDiv.style.cursor=""}if(val){data=cm.state.selectionPointer={value:typeof val=="string"?val:"default",mousemove:function(event){mousemove(cm,event)},mouseout:function(event){mouseout(cm,event)},windowScroll:function(){reset(cm)},rects:null,mouseX:null,mouseY:null,willUpdate:false};CodeMirror.on(cm.getWrapperElement(),"mousemove",data.mousemove);CodeMirror.on(cm.getWrapperElement(),\n"mouseout",data.mouseout);CodeMirror.on(window,"scroll",data.windowScroll);cm.on("cursorActivity",reset);cm.on("scroll",reset)}});function mousemove(cm,event){var data=cm.state.selectionPointer;if(event.buttons==null?event.which:event.buttons)data.mouseX=data.mouseY=null;else{data.mouseX=event.clientX;data.mouseY=event.clientY}scheduleUpdate(cm)}function mouseout(cm,event){if(!cm.getWrapperElement().contains(event.relatedTarget)){var data=cm.state.selectionPointer;data.mouseX=data.mouseY=null;scheduleUpdate(cm)}}\nfunction reset(cm){cm.state.selectionPointer.rects=null;scheduleUpdate(cm)}function scheduleUpdate(cm){if(!cm.state.selectionPointer.willUpdate){cm.state.selectionPointer.willUpdate=true;setTimeout(function(){update(cm);cm.state.selectionPointer.willUpdate=false},50)}}function update(cm){var data=cm.state.selectionPointer;if(!data)return;if(data.rects==null&&data.mouseX!=null){data.rects=[];if(cm.somethingSelected())for(var sel=cm.display.selectionDiv.firstChild;sel;sel=sel.nextSibling)data.rects.push(sel.getBoundingClientRect())}var inside=\nfalse;if(data.mouseX!=null)for(var i=0;i<data.rects.length;i++){var rect=data.rects[i];if(rect.left<=data.mouseX&&rect.right>=data.mouseX&&rect.top<=data.mouseY&&rect.bottom>=data.mouseY)inside=true}var cursor=inside?data.value:"";if(cm.display.lineDiv.style.cursor!=cursor)cm.display.lineDiv.style.cursor=cursor}});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){var noOptions={};var nonWS=/[^\\s\\u00a0]/;var Pos=CodeMirror.Pos,cmp=CodeMirror.cmpPos;function firstNonWS(str){var found=str.search(nonWS);return found==-1?0:found}CodeMirror.commands.toggleComment=function(cm){cm.toggleComment()};CodeMirror.defineExtension("toggleComment",\nfunction(options){if(!options)options=noOptions;var cm=this;var minLine=Infinity,ranges=this.listSelections(),mode=null;for(var i=ranges.length-1;i>=0;i--){var from=ranges[i].from(),to=ranges[i].to();if(from.line>=minLine)continue;if(to.line>=minLine)to=Pos(minLine,0);minLine=from.line;if(mode==null)if(cm.uncomment(from,to,options))mode="un";else{cm.lineComment(from,to,options);mode="line"}else if(mode=="un")cm.uncomment(from,to,options);else cm.lineComment(from,to,options)}});function probablyInsideString(cm,\npos,line){return/\\bstring\\b/.test(cm.getTokenTypeAt(Pos(pos.line,0)))&&!/^[\'"`]/.test(line)}function getMode(cm,pos){var mode=cm.getMode();return mode.useInnerComments===false||!mode.innerMode?mode:cm.getModeAt(pos)}CodeMirror.defineExtension("lineComment",function(from,to,options){if(!options)options=noOptions;var self=this,mode=getMode(self,from);var firstLine=self.getLine(from.line);if(firstLine==null||probablyInsideString(self,from,firstLine))return;var commentString=options.lineComment||mode.lineComment;\nif(!commentString){if(options.blockCommentStart||mode.blockCommentStart){options.fullLines=true;self.blockComment(from,to,options)}return}var end=Math.min(to.ch!=0||to.line==from.line?to.line+1:to.line,self.lastLine()+1);var pad=options.padding==null?" ":options.padding;var blankLines=options.commentBlankLines||from.line==to.line;self.operation(function(){if(options.indent){var baseString=null;for(var i=from.line;i<end;++i){var line=self.getLine(i);var whitespace=line.search(nonWS)===-1?line:line.slice(0,\nfirstNonWS(line));if(baseString==null||baseString.length>whitespace.length)baseString=whitespace}for(var i=from.line;i<end;++i){var line=self.getLine(i),cut=baseString.length;if(!blankLines&&!nonWS.test(line))continue;if(line.slice(0,cut)!=baseString)cut=firstNonWS(line);self.replaceRange(baseString+commentString+pad,Pos(i,0),Pos(i,cut))}}else for(var i=from.line;i<end;++i)if(blankLines||nonWS.test(self.getLine(i)))self.replaceRange(commentString+pad,Pos(i,0))})});CodeMirror.defineExtension("blockComment",\nfunction(from,to,options){if(!options)options=noOptions;var self=this,mode=getMode(self,from);var startString=options.blockCommentStart||mode.blockCommentStart;var endString=options.blockCommentEnd||mode.blockCommentEnd;if(!startString||!endString){if((options.lineComment||mode.lineComment)&&options.fullLines!=false)self.lineComment(from,to,options);return}if(/\\bcomment\\b/.test(self.getTokenTypeAt(Pos(from.line,0))))return;var end=Math.min(to.line,self.lastLine());if(end!=from.line&&to.ch==0&&nonWS.test(self.getLine(end)))--end;\nvar pad=options.padding==null?" ":options.padding;if(from.line>end)return;self.operation(function(){if(options.fullLines!=false){var lastLineHasText=nonWS.test(self.getLine(end));self.replaceRange(pad+endString,Pos(end));self.replaceRange(startString+pad,Pos(from.line,0));var lead=options.blockCommentLead||mode.blockCommentLead;if(lead!=null)for(var i=from.line+1;i<=end;++i)if(i!=end||lastLineHasText)self.replaceRange(lead+pad,Pos(i,0))}else{var atCursor=cmp(self.getCursor("to"),to)==0,empty=!self.somethingSelected();\nself.replaceRange(endString,to);if(atCursor)self.setSelection(empty?to:self.getCursor("from"),to);self.replaceRange(startString,from)}})});CodeMirror.defineExtension("uncomment",function(from,to,options){if(!options)options=noOptions;var self=this,mode=getMode(self,from);var end=Math.min(to.ch!=0||to.line==from.line?to.line:to.line-1,self.lastLine()),start=Math.min(from.line,end);var lineString=options.lineComment||mode.lineComment,lines=[];var pad=options.padding==null?" ":options.padding,didSomething;\nlineComment:{if(!lineString)break lineComment;for(var i=start;i<=end;++i){var line=self.getLine(i);var found=line.indexOf(lineString);if(found>-1&&!/comment/.test(self.getTokenTypeAt(Pos(i,found+1))))found=-1;if(found==-1&&nonWS.test(line))break lineComment;if(found>-1&&nonWS.test(line.slice(0,found)))break lineComment;lines.push(line)}self.operation(function(){for(var i=start;i<=end;++i){var line=lines[i-start];var pos=line.indexOf(lineString),endPos=pos+lineString.length;if(pos<0)continue;if(line.slice(endPos,\nendPos+pad.length)==pad)endPos+=pad.length;didSomething=true;self.replaceRange("",Pos(i,pos),Pos(i,endPos))}});if(didSomething)return true}var startString=options.blockCommentStart||mode.blockCommentStart;var endString=options.blockCommentEnd||mode.blockCommentEnd;if(!startString||!endString)return false;var lead=options.blockCommentLead||mode.blockCommentLead;var startLine=self.getLine(start),open=startLine.indexOf(startString);if(open==-1)return false;var endLine=end==start?startLine:self.getLine(end);\nvar close=endLine.indexOf(endString,end==start?open+startString.length:0);var insideStart=Pos(start,open+1),insideEnd=Pos(end,close+1);if(close==-1||!/comment/.test(self.getTokenTypeAt(insideStart))||!/comment/.test(self.getTokenTypeAt(insideEnd))||self.getRange(insideStart,insideEnd,"\\n").indexOf(endString)>-1)return false;var lastStart=startLine.lastIndexOf(startString,from.ch);var firstEnd=lastStart==-1?-1:startLine.slice(0,from.ch).indexOf(endString,lastStart+startString.length);if(lastStart!=\n-1&&firstEnd!=-1&&firstEnd+endString.length!=from.ch)return false;firstEnd=endLine.indexOf(endString,to.ch);var almostLastStart=endLine.slice(to.ch).lastIndexOf(startString,firstEnd-to.ch);lastStart=firstEnd==-1||almostLastStart==-1?-1:to.ch+almostLastStart;if(firstEnd!=-1&&lastStart!=-1&&lastStart!=to.ch)return false;self.operation(function(){self.replaceRange("",Pos(end,close-(pad&&endLine.slice(close-pad.length,close)==pad?pad.length:0)),Pos(end,close+endString.length));var openEnd=open+startString.length;\nif(pad&&startLine.slice(openEnd,openEnd+pad.length)==pad)openEnd+=pad.length;self.replaceRange("",Pos(start,open),Pos(start,openEnd));if(lead)for(var i=start+1;i<=end;++i){var line=self.getLine(i),found=line.indexOf(lead);if(found==-1||nonWS.test(line.slice(0,found)))continue;var foundEnd=found+lead.length;if(pad&&line.slice(foundEnd,foundEnd+pad.length)==pad)foundEnd+=pad.length;self.replaceRange("",Pos(i,found),Pos(i,foundEnd))}});return true})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){var nonspace=/\\S/g;var repeat=String.prototype.repeat||function(n){return Array(n+1).join(this)};function continueComment(cm){if(cm.getOption("disableInput"))return CodeMirror.Pass;var ranges=cm.listSelections(),mode,inserts=[];for(var i=0;i<ranges.length;i++){var pos=\nranges[i].head;if(!/\\bcomment\\b/.test(cm.getTokenTypeAt(pos)))return CodeMirror.Pass;var modeHere=cm.getModeAt(pos);if(!mode)mode=modeHere;else if(mode!=modeHere)return CodeMirror.Pass;var insert=null,line,found;var blockStart=mode.blockCommentStart,lineCmt=mode.lineComment;if(blockStart&&mode.blockCommentContinue){line=cm.getLine(pos.line);var end=line.lastIndexOf(mode.blockCommentEnd,pos.ch-mode.blockCommentEnd.length);if(end!=-1&&end==pos.ch-mode.blockCommentEnd.length||lineCmt&&(found=line.lastIndexOf(lineCmt,\npos.ch-1))>-1&&/\\bcomment\\b/.test(cm.getTokenTypeAt({line:pos.line,ch:found+1})));else if(pos.ch>=blockStart.length&&(found=line.lastIndexOf(blockStart,pos.ch-blockStart.length))>-1&&found>end)if(nonspaceAfter(0,line)>=found)insert=line.slice(0,found);else{var tabSize=cm.options.tabSize,numTabs;found=CodeMirror.countColumn(line,found,tabSize);insert=!cm.options.indentWithTabs?repeat.call(" ",found):repeat.call("\\t",numTabs=Math.floor(found/tabSize))+repeat.call(" ",found-tabSize*numTabs)}else if((found=\nline.indexOf(mode.blockCommentContinue))>-1&&found<=pos.ch&&found<=nonspaceAfter(0,line))insert=line.slice(0,found);if(insert!=null)insert+=mode.blockCommentContinue}if(insert==null&&lineCmt&&continueLineCommentEnabled(cm)){if(line==null)line=cm.getLine(pos.line);found=line.indexOf(lineCmt);if(!pos.ch&&!found)insert="";else if(found>-1&&nonspaceAfter(0,line)>=found){insert=nonspaceAfter(pos.ch,line)>-1;if(!insert){var next=cm.getLine(pos.line+1)||"",nextFound=next.indexOf(lineCmt);insert=nextFound>\n-1&&nonspaceAfter(0,next)>=nextFound||null}if(insert)insert=line.slice(0,found)+lineCmt+line.slice(found+lineCmt.length).match(/^\\s*/)[0]}}if(insert==null)return CodeMirror.Pass;inserts[i]="\\n"+insert}cm.operation(function(){for(var i=ranges.length-1;i>=0;i--)cm.replaceRange(inserts[i],ranges[i].from(),ranges[i].to(),"+insert")})}function nonspaceAfter(ch,str){nonspace.lastIndex=ch;var m=nonspace.exec(str);return m?m.index:-1}function continueLineCommentEnabled(cm){var opt=cm.getOption("continueComments");\nif(opt&&typeof opt=="object")return opt.continueLineComment!==false;return true}CodeMirror.defineOption("continueComments",null,function(cm,val,prev){if(prev&&prev!=CodeMirror.Init)cm.removeKeyMap("continueComment");if(val){var key="Enter";if(typeof val=="string")key=val;else if(typeof val=="object"&&val.key)key=val.key;var map={name:"continueComment"};map[key]=continueComment;cm.addKeyMap(map)}})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function dialogDiv(cm,template,bottom){var wrap=cm.getWrapperElement();var dialog;dialog=wrap.appendChild(document.createElement("div"));if(bottom)dialog.className="CodeMirror-dialog CodeMirror-dialog-bottom";else dialog.className="CodeMirror-dialog CodeMirror-dialog-top";\ndialog.appendChild(template);CodeMirror.addClass(wrap,"dialog-opened");return dialog}function closeNotification(cm,newVal){if(cm.state.currentNotificationClose)cm.state.currentNotificationClose();cm.state.currentNotificationClose=newVal}CodeMirror.defineExtension("openDialog",function(template,callback,options){if(!options)options={};closeNotification(this,null);var dialog=dialogDiv(this,template,options.bottom);var closed=false,me=this;function close(newVal){if(typeof newVal=="string")inp.value=\nnewVal;else{if(closed)return;closed=true;CodeMirror.rmClass(dialog.parentNode,"dialog-opened");dialog.parentNode.removeChild(dialog);me.focus();if(options.onClose)options.onClose(dialog)}}var inp=dialog.getElementsByTagName("input")[0],button;if(inp){inp.focus();if(options.value){inp.value=options.value;if(options.selectValueOnOpen!==false)inp.select()}if(options.onInput)CodeMirror.on(inp,"input",function(e){options.onInput(e,inp.value,close)});if(options.onKeyUp)CodeMirror.on(inp,"keyup",function(e){options.onKeyUp(e,\ninp.value,close)});CodeMirror.on(inp,"keydown",function(e){if(options&&options.onKeyDown&&options.onKeyDown(e,inp.value,close))return;if(e.keyCode==27||options.closeOnEnter!==false&&e.keyCode==13){inp.blur();CodeMirror.e_stop(e);close()}if(e.keyCode==13)callback(inp.value,e)});if(options.closeOnBlur!==false)CodeMirror.on(dialog,"focusout",function(evt){if(evt.relatedTarget!==null)close()})}else if(button=dialog.getElementsByTagName("button")[0]){CodeMirror.on(button,"click",function(){close();me.focus()});\nif(options.closeOnBlur!==false)CodeMirror.on(button,"blur",close);button.focus()}return close});CodeMirror.defineExtension("openConfirm",function(template,callbacks,options){closeNotification(this,null);var dialog=dialogDiv(this,template,options&&options.bottom);var buttons=dialog.getElementsByTagName("button");var closed=false,me=this,blurring=1;function close(){if(closed)return;closed=true;CodeMirror.rmClass(dialog.parentNode,"dialog-opened");dialog.parentNode.removeChild(dialog);me.focus()}buttons[0].focus();\nfor(var i=0;i<buttons.length;++i){var b=buttons[i];(function(callback){CodeMirror.on(b,"click",function(e){CodeMirror.e_preventDefault(e);close();if(callback)callback(me)})})(callbacks[i]);CodeMirror.on(b,"blur",function(){--blurring;setTimeout(function(){if(blurring<=0)close()},200)});CodeMirror.on(b,"focus",function(){++blurring})}});CodeMirror.defineExtension("openNotification",function(template,options){closeNotification(this,close);var dialog=dialogDiv(this,template,options&&options.bottom);\nvar closed=false,doneTimer;var duration=options&&typeof options.duration!=="undefined"?options.duration:5E3;function close(){if(closed)return;closed=true;clearTimeout(doneTimer);CodeMirror.rmClass(dialog.parentNode,"dialog-opened");dialog.parentNode.removeChild(dialog)}CodeMirror.on(dialog,"click",function(e){CodeMirror.e_preventDefault(e);close()});if(duration)doneTimer=setTimeout(close,duration);return close})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){var defaults={pairs:"()[]{}\'\'\\"\\"",closeBefore:")]}\'\\":;>",triples:"",explode:"[]{}"};var Pos=CodeMirror.Pos;CodeMirror.defineOption("autoCloseBrackets",false,function(cm,val,old){if(old&&old!=CodeMirror.Init){cm.removeKeyMap(keyMap);cm.state.closeBrackets=null}if(val){ensureBound(getOption(val,\n"pairs"));cm.state.closeBrackets=val;cm.addKeyMap(keyMap)}});function getOption(conf,name){if(name=="pairs"&&typeof conf=="string")return conf;if(typeof conf=="object"&&conf[name]!=null)return conf[name];return defaults[name]}var keyMap={Backspace:handleBackspace,Enter:handleEnter};function ensureBound(chars){for(var i=0;i<chars.length;i++){var ch=chars.charAt(i),key="\'"+ch+"\'";if(!keyMap[key])keyMap[key]=handler(ch)}}ensureBound(defaults.pairs+"`");function handler(ch){return function(cm){return handleChar(cm,\nch)}}function getConfig(cm){var deflt=cm.state.closeBrackets;if(!deflt||deflt.override)return deflt;var mode=cm.getModeAt(cm.getCursor());return mode.closeBrackets||deflt}function handleBackspace(cm){var conf=getConfig(cm);if(!conf||cm.getOption("disableInput"))return CodeMirror.Pass;var pairs=getOption(conf,"pairs");var ranges=cm.listSelections();for(var i=0;i<ranges.length;i++){if(!ranges[i].empty())return CodeMirror.Pass;var around=charsAround(cm,ranges[i].head);if(!around||pairs.indexOf(around)%\n2!=0)return CodeMirror.Pass}for(var i=ranges.length-1;i>=0;i--){var cur=ranges[i].head;cm.replaceRange("",Pos(cur.line,cur.ch-1),Pos(cur.line,cur.ch+1),"+delete")}}function handleEnter(cm){var conf=getConfig(cm);var explode=conf&&getOption(conf,"explode");if(!explode||cm.getOption("disableInput"))return CodeMirror.Pass;var ranges=cm.listSelections();for(var i=0;i<ranges.length;i++){if(!ranges[i].empty())return CodeMirror.Pass;var around=charsAround(cm,ranges[i].head);if(!around||explode.indexOf(around)%\n2!=0)return CodeMirror.Pass}cm.operation(function(){var linesep=cm.lineSeparator()||"\\n";cm.replaceSelection(linesep+linesep,null);moveSel(cm,-1);ranges=cm.listSelections();for(var i=0;i<ranges.length;i++){var line=ranges[i].head.line;cm.indentLine(line,null,true);cm.indentLine(line+1,null,true)}})}function moveSel(cm,dir){var newRanges=[],ranges=cm.listSelections(),primary=0;for(var i=0;i<ranges.length;i++){var range=ranges[i];if(range.head==cm.getCursor())primary=i;var pos=range.head.ch||dir>0?\n{line:range.head.line,ch:range.head.ch+dir}:{line:range.head.line-1};newRanges.push({anchor:pos,head:pos})}cm.setSelections(newRanges,primary)}function contractSelection(sel){var inverted=CodeMirror.cmpPos(sel.anchor,sel.head)>0;return{anchor:new Pos(sel.anchor.line,sel.anchor.ch+(inverted?-1:1)),head:new Pos(sel.head.line,sel.head.ch+(inverted?1:-1))}}function handleChar(cm,ch){var conf=getConfig(cm);if(!conf||cm.getOption("disableInput"))return CodeMirror.Pass;var pairs=getOption(conf,"pairs");\nvar pos=pairs.indexOf(ch);if(pos==-1)return CodeMirror.Pass;var closeBefore=getOption(conf,"closeBefore");var triples=getOption(conf,"triples");var identical=pairs.charAt(pos+1)==ch;var ranges=cm.listSelections();var opening=pos%2==0;var type;for(var i=0;i<ranges.length;i++){var range=ranges[i],cur=range.head,curType;var next=cm.getRange(cur,Pos(cur.line,cur.ch+1));if(opening&&!range.empty())curType="surround";else if((identical||!opening)&&next==ch)if(identical&&stringStartsAfter(cm,cur))curType=\n"both";else if(triples.indexOf(ch)>=0&&cm.getRange(cur,Pos(cur.line,cur.ch+3))==ch+ch+ch)curType="skipThree";else curType="skip";else if(identical&&cur.ch>1&&triples.indexOf(ch)>=0&&cm.getRange(Pos(cur.line,cur.ch-2),cur)==ch+ch){if(cur.ch>2&&/\\bstring/.test(cm.getTokenTypeAt(Pos(cur.line,cur.ch-2))))return CodeMirror.Pass;curType="addFour"}else if(identical){var prev=cur.ch==0?" ":cm.getRange(Pos(cur.line,cur.ch-1),cur);if(!CodeMirror.isWordChar(next)&&prev!=ch&&!CodeMirror.isWordChar(prev))curType=\n"both";else return CodeMirror.Pass}else if(opening&&(next.length===0||/\\s/.test(next)||closeBefore.indexOf(next)>-1))curType="both";else return CodeMirror.Pass;if(!type)type=curType;else if(type!=curType)return CodeMirror.Pass}var left=pos%2?pairs.charAt(pos-1):ch;var right=pos%2?ch:pairs.charAt(pos+1);cm.operation(function(){if(type=="skip")moveSel(cm,1);else if(type=="skipThree")moveSel(cm,3);else if(type=="surround"){var sels=cm.getSelections();for(var i=0;i<sels.length;i++)sels[i]=left+sels[i]+\nright;cm.replaceSelections(sels,"around");sels=cm.listSelections().slice();for(var i=0;i<sels.length;i++)sels[i]=contractSelection(sels[i]);cm.setSelections(sels)}else if(type=="both"){cm.replaceSelection(left+right,null);cm.triggerElectric(left+right);moveSel(cm,-1)}else if(type=="addFour"){cm.replaceSelection(left+left+left+left,"before");moveSel(cm,1)}})}function charsAround(cm,pos){var str=cm.getRange(Pos(pos.line,pos.ch-1),Pos(pos.line,pos.ch+1));return str.length==2?str:null}function stringStartsAfter(cm,\npos){var token=cm.getTokenAt(Pos(pos.line,pos.ch+1));return/\\bstring/.test(token.type)&&token.start==pos.ch&&(pos.ch==0||!/\\bstring/.test(cm.getTokenTypeAt(pos)))}});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"),require("../fold/xml-fold"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror","../fold/xml-fold"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineOption("autoCloseTags",false,function(cm,val,old){if(old!=CodeMirror.Init&&old)cm.removeKeyMap("autoCloseTags");if(!val)return;var map={name:"autoCloseTags"};if(typeof val!="object"||val.whenClosing!==false)map["\'/\'"]=\nfunction(cm){return autoCloseSlash(cm)};if(typeof val!="object"||val.whenOpening!==false)map["\'>\'"]=function(cm){return autoCloseGT(cm)};cm.addKeyMap(map)});var htmlDontClose=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];var htmlIndent=["applet","blockquote","body","button","div","dl","fieldset","form","frameset","h1","h2","h3","h4","h5","h6","head","html","iframe","layer","legend","object","ol","p","select","table","ul"];function autoCloseGT(cm){if(cm.getOption("disableInput"))return CodeMirror.Pass;\nvar ranges=cm.listSelections(),replacements=[];var opt=cm.getOption("autoCloseTags");for(var i=0;i<ranges.length;i++){if(!ranges[i].empty())return CodeMirror.Pass;var pos=ranges[i].head,tok=cm.getTokenAt(pos);var inner=CodeMirror.innerMode(cm.getMode(),tok.state),state=inner.state;var tagInfo=inner.mode.xmlCurrentTag&&inner.mode.xmlCurrentTag(state);var tagName=tagInfo&&tagInfo.name;if(!tagName)return CodeMirror.Pass;var html=inner.mode.configuration=="html";var dontCloseTags=typeof opt=="object"&&\nopt.dontCloseTags||html&&htmlDontClose;var indentTags=typeof opt=="object"&&opt.indentTags||html&&htmlIndent;if(tok.end>pos.ch)tagName=tagName.slice(0,tagName.length-tok.end+pos.ch);var lowerTagName=tagName.toLowerCase();if(!tagName||tok.type=="string"&&(tok.end!=pos.ch||!/["\']/.test(tok.string.charAt(tok.string.length-1))||tok.string.length==1)||tok.type=="tag"&&tagInfo.close||tok.string.indexOf("/")==pos.ch-tok.start-1||dontCloseTags&&indexOf(dontCloseTags,lowerTagName)>-1||closingTagExists(cm,\ninner.mode.xmlCurrentContext&&inner.mode.xmlCurrentContext(state)||[],tagName,pos,true))return CodeMirror.Pass;var emptyTags=typeof opt=="object"&&opt.emptyTags;if(emptyTags&&indexOf(emptyTags,tagName)>-1){replacements[i]={text:"/>",newPos:CodeMirror.Pos(pos.line,pos.ch+2)};continue}var indent=indentTags&&indexOf(indentTags,lowerTagName)>-1;replacements[i]={indent:indent,text:">"+(indent?"\\n\\n":"")+"</"+tagName+">",newPos:indent?CodeMirror.Pos(pos.line+1,0):CodeMirror.Pos(pos.line,pos.ch+1)}}var dontIndentOnAutoClose=\ntypeof opt=="object"&&opt.dontIndentOnAutoClose;for(var i=ranges.length-1;i>=0;i--){var info=replacements[i];cm.replaceRange(info.text,ranges[i].head,ranges[i].anchor,"+insert");var sel=cm.listSelections().slice(0);sel[i]={head:info.newPos,anchor:info.newPos};cm.setSelections(sel);if(!dontIndentOnAutoClose&&info.indent){cm.indentLine(info.newPos.line,null,true);cm.indentLine(info.newPos.line+1,null,true)}}}function autoCloseCurrent(cm,typingSlash){var ranges=cm.listSelections(),replacements=[];var head=\ntypingSlash?"/":"</";var opt=cm.getOption("autoCloseTags");var dontIndentOnAutoClose=typeof opt=="object"&&opt.dontIndentOnSlash;for(var i=0;i<ranges.length;i++){if(!ranges[i].empty())return CodeMirror.Pass;var pos=ranges[i].head,tok=cm.getTokenAt(pos);var inner=CodeMirror.innerMode(cm.getMode(),tok.state),state=inner.state;if(typingSlash&&(tok.type=="string"||tok.string.charAt(0)!="<"||tok.start!=pos.ch-1))return CodeMirror.Pass;var replacement,mixed=inner.mode.name!="xml"&&cm.getMode().name=="htmlmixed";\nif(mixed&&inner.mode.name=="javascript")replacement=head+"script";else if(mixed&&inner.mode.name=="css")replacement=head+"style";else{var context=inner.mode.xmlCurrentContext&&inner.mode.xmlCurrentContext(state);var top=context.length?context[context.length-1]:"";if(!context||context.length&&closingTagExists(cm,context,top,pos))return CodeMirror.Pass;replacement=head+top}if(cm.getLine(pos.line).charAt(tok.end)!=">")replacement+=">";replacements[i]=replacement}cm.replaceSelections(replacements);ranges=\ncm.listSelections();if(!dontIndentOnAutoClose)for(var i=0;i<ranges.length;i++)if(i==ranges.length-1||ranges[i].head.line<ranges[i+1].head.line)cm.indentLine(ranges[i].head.line)}function autoCloseSlash(cm){if(cm.getOption("disableInput"))return CodeMirror.Pass;return autoCloseCurrent(cm,true)}CodeMirror.commands.closeTag=function(cm){return autoCloseCurrent(cm)};function indexOf(collection,elt){if(collection.indexOf)return collection.indexOf(elt);for(var i=0,e=collection.length;i<e;++i)if(collection[i]==\nelt)return i;return-1}function closingTagExists(cm,context,tagName,pos,newTag){if(!CodeMirror.scanForClosingTag)return false;var end=Math.min(cm.lastLine()+1,pos.line+500);var nextClose=CodeMirror.scanForClosingTag(cm,pos,null,end);if(!nextClose||nextClose.tag!=tagName)return false;var onCx=newTag?1:0;for(var i=context.length-1;i>=0;i--)if(context[i]==tagName)++onCx;else break;pos=nextClose.to;for(var i=1;i<onCx;i++){var next=CodeMirror.scanForClosingTag(cm,pos,null,end);if(!next||next.tag!=tagName)return false;\npos=next.to}return true}});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){var listRE=/^(\\s*)(>[> ]*|[*+-] \\[[x ]\\]\\s|[*+-]\\s|(\\d+)([.)]))(\\s*)/,emptyListRE=/^(\\s*)(>[> ]*|[*+-] \\[[x ]\\]|[*+-]|(\\d+)[.)])(\\s*)$/,unorderedListRE=/[*+-]\\s/;CodeMirror.commands.newlineAndIndentContinueMarkdownList=function(cm){if(cm.getOption("disableInput"))return CodeMirror.Pass;\nvar ranges=cm.listSelections(),replacements=[];for(var i=0;i<ranges.length;i++){var pos=ranges[i].head;var eolState=cm.getStateAfter(pos.line);var inner=CodeMirror.innerMode(cm.getMode(),eolState);if(inner.mode.name!=="markdown"&&inner.mode.helperType!=="markdown"){cm.execCommand("newlineAndIndent");return}else eolState=inner.state;var inList=eolState.list!==false;var inQuote=eolState.quote!==0;var line=cm.getLine(pos.line),match=listRE.exec(line);var cursorBeforeBullet=/^\\s*$/.test(line.slice(0,\npos.ch));if(!ranges[i].empty()||!inList&&!inQuote||!match||cursorBeforeBullet){cm.execCommand("newlineAndIndent");return}if(emptyListRE.test(line)){var endOfQuote=inQuote&&/>\\s*$/.test(line);var endOfList=!/>\\s*$/.test(line);if(endOfQuote||endOfList)cm.replaceRange("",{line:pos.line,ch:0},{line:pos.line,ch:pos.ch+1});replacements[i]="\\n"}else{var indent=match[1],after=match[5];var numbered=!(unorderedListRE.test(match[2])||match[2].indexOf(">")>=0);var bullet=numbered?parseInt(match[3],10)+1+match[4]:\nmatch[2].replace("x"," ");replacements[i]="\\n"+indent+bullet+after;if(numbered)incrementRemainingMarkdownListNumbers(cm,pos)}}cm.replaceSelections(replacements)};function incrementRemainingMarkdownListNumbers(cm,pos){var startLine=pos.line,lookAhead=0,skipCount=0;var startItem=listRE.exec(cm.getLine(startLine)),startIndent=startItem[1];do{lookAhead+=1;var nextLineNumber=startLine+lookAhead;var nextLine=cm.getLine(nextLineNumber),nextItem=listRE.exec(nextLine);if(nextItem){var nextIndent=nextItem[1];\nvar newNumber=parseInt(startItem[3],10)+lookAhead-skipCount;var nextNumber=parseInt(nextItem[3],10),itemNumber=nextNumber;if(startIndent===nextIndent&&!isNaN(nextNumber)){if(newNumber===nextNumber)itemNumber=nextNumber+1;if(newNumber>nextNumber)itemNumber=newNumber+1;cm.replaceRange(nextLine.replace(listRE,nextIndent+itemNumber+nextItem[4]+nextItem[5]),{line:nextLineNumber,ch:0},{line:nextLineNumber,ch:nextLine.length})}else{if(startIndent.length>nextIndent.length)return;if(startIndent.length<nextIndent.length&&\nlookAhead===1)return;skipCount+=1}}}while(nextItem)}});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){var ie_lt8=/MSIE \\d/.test(navigator.userAgent)&&(document.documentMode==null||document.documentMode<8);var Pos=CodeMirror.Pos;var matching={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function bracketRegex(config){return config&&config.bracketRegex||\n/[(){}[\\]]/}function findMatchingBracket(cm,where,config){var line=cm.getLineHandle(where.line),pos=where.ch-1;var afterCursor=config&&config.afterCursor;if(afterCursor==null)afterCursor=/(^| )cm-fat-cursor($| )/.test(cm.getWrapperElement().className);var re=bracketRegex(config);var match=!afterCursor&&pos>=0&&re.test(line.text.charAt(pos))&&matching[line.text.charAt(pos)]||re.test(line.text.charAt(pos+1))&&matching[line.text.charAt(++pos)];if(!match)return null;var dir=match.charAt(1)==">"?1:-1;\nif(config&&config.strict&&dir>0!=(pos==where.ch))return null;var style=cm.getTokenTypeAt(Pos(where.line,pos+1));var found=scanForBracket(cm,Pos(where.line,pos+(dir>0?1:0)),dir,style,config);if(found==null)return null;return{from:Pos(where.line,pos),to:found&&found.pos,match:found&&found.ch==match.charAt(0),forward:dir>0}}function scanForBracket(cm,where,dir,style,config){var maxScanLen=config&&config.maxScanLineLength||1E4;var maxScanLines=config&&config.maxScanLines||1E3;var stack=[];var re=bracketRegex(config);\nvar lineEnd=dir>0?Math.min(where.line+maxScanLines,cm.lastLine()+1):Math.max(cm.firstLine()-1,where.line-maxScanLines);for(var lineNo=where.line;lineNo!=lineEnd;lineNo+=dir){var line=cm.getLine(lineNo);if(!line)continue;var pos=dir>0?0:line.length-1,end=dir>0?line.length:-1;if(line.length>maxScanLen)continue;if(lineNo==where.line)pos=where.ch-(dir<0?1:0);for(;pos!=end;pos+=dir){var ch=line.charAt(pos);if(re.test(ch)&&(style===undefined||(cm.getTokenTypeAt(Pos(lineNo,pos+1))||"")==(style||""))){var match=\nmatching[ch];if(match&&match.charAt(1)==">"==dir>0)stack.push(ch);else if(!stack.length)return{pos:Pos(lineNo,pos),ch:ch};else stack.pop()}}}return lineNo-dir==(dir>0?cm.lastLine():cm.firstLine())?false:null}function matchBrackets(cm,autoclear,config){var maxHighlightLen=cm.state.matchBrackets.maxHighlightLineLength||1E3,highlightNonMatching=config&&config.highlightNonMatching;var marks=[],ranges=cm.listSelections();for(var i=0;i<ranges.length;i++){var match=ranges[i].empty()&&findMatchingBracket(cm,\nranges[i].head,config);if(match&&(match.match||highlightNonMatching!==false)&&cm.getLine(match.from.line).length<=maxHighlightLen){var style=match.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";marks.push(cm.markText(match.from,Pos(match.from.line,match.from.ch+1),{className:style}));if(match.to&&cm.getLine(match.to.line).length<=maxHighlightLen)marks.push(cm.markText(match.to,Pos(match.to.line,match.to.ch+1),{className:style}))}}if(marks.length){if(ie_lt8&&cm.state.focused)cm.focus();\nvar clear=function(){cm.operation(function(){for(var i=0;i<marks.length;i++)marks[i].clear()})};if(autoclear)setTimeout(clear,800);else return clear}}function doMatchBrackets(cm){cm.operation(function(){if(cm.state.matchBrackets.currentlyHighlighted){cm.state.matchBrackets.currentlyHighlighted();cm.state.matchBrackets.currentlyHighlighted=null}cm.state.matchBrackets.currentlyHighlighted=matchBrackets(cm,false,cm.state.matchBrackets)})}function clearHighlighted(cm){if(cm.state.matchBrackets&&cm.state.matchBrackets.currentlyHighlighted){cm.state.matchBrackets.currentlyHighlighted();\ncm.state.matchBrackets.currentlyHighlighted=null}}CodeMirror.defineOption("matchBrackets",false,function(cm,val,old){if(old&&old!=CodeMirror.Init){cm.off("cursorActivity",doMatchBrackets);clearHighlighted(cm)}if(val){cm.state.matchBrackets=typeof val=="object"?val:{};cm.on("cursorActivity",doMatchBrackets)}});CodeMirror.defineExtension("matchBrackets",function(){matchBrackets(this,true)});CodeMirror.defineExtension("findMatchingBracket",function(pos,config,oldConfig){if(oldConfig||typeof config==\n"boolean")if(!oldConfig)config=config?{strict:true}:null;else{oldConfig.strict=config;config=oldConfig}return findMatchingBracket(this,pos,config)});CodeMirror.defineExtension("scanForBracket",function(pos,dir,style,config){return scanForBracket(this,pos,dir,style,config)})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"),require("../fold/xml-fold"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror","../fold/xml-fold"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineOption("matchTags",false,function(cm,val,old){if(old&&old!=CodeMirror.Init){cm.off("cursorActivity",doMatchTags);cm.off("viewportChange",maybeUpdateMatch);clear(cm)}if(val){cm.state.matchBothTags=typeof val==\n"object"&&val.bothTags;cm.on("cursorActivity",doMatchTags);cm.on("viewportChange",maybeUpdateMatch);doMatchTags(cm)}});function clear(cm){if(cm.state.tagHit)cm.state.tagHit.clear();if(cm.state.tagOther)cm.state.tagOther.clear();cm.state.tagHit=cm.state.tagOther=null}function doMatchTags(cm){cm.state.failedTagMatch=false;cm.operation(function(){clear(cm);if(cm.somethingSelected())return;var cur=cm.getCursor(),range=cm.getViewport();range.from=Math.min(range.from,cur.line);range.to=Math.max(cur.line+\n1,range.to);var match=CodeMirror.findMatchingTag(cm,cur,range);if(!match)return;if(cm.state.matchBothTags){var hit=match.at=="open"?match.open:match.close;if(hit)cm.state.tagHit=cm.markText(hit.from,hit.to,{className:"CodeMirror-matchingtag"})}var other=match.at=="close"?match.open:match.close;if(other)cm.state.tagOther=cm.markText(other.from,other.to,{className:"CodeMirror-matchingtag"});else cm.state.failedTagMatch=true})}function maybeUpdateMatch(cm){if(cm.state.failedTagMatch)doMatchTags(cm)}\nCodeMirror.commands.toMatchingTag=function(cm){var found=CodeMirror.findMatchingTag(cm,cm.getCursor());if(found){var other=found.at=="close"?found.open:found.close;if(other)cm.extendSelection(other.to,other.from)}}});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineOption("showTrailingSpace",false,function(cm,val,prev){if(prev==CodeMirror.Init)prev=false;if(prev&&!val)cm.removeOverlay("trailingspace");else if(!prev&&val)cm.addOverlay({token:function(stream){for(var l=stream.string.length,i=l;i&&/\\s/.test(stream.string.charAt(i-\n1));--i);if(i>stream.pos){stream.pos=i;return null}stream.pos=l;return"trailingspace"},name:"trailingspace"})})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function bracketFolding(pairs){return function(cm,start){var line=start.line,lineText=cm.getLine(line);function findOpening(pair){var tokenType;for(var at=start.ch,pass=0;;){var found=at<=0?-1:lineText.lastIndexOf(pair[0],at-1);if(found==-1){if(pass==1)break;pass=1;at=\nlineText.length;continue}if(pass==1&&found<start.ch)break;tokenType=cm.getTokenTypeAt(CodeMirror.Pos(line,found+1));if(!/^(comment|string)/.test(tokenType))return{ch:found+1,tokenType:tokenType,pair:pair};at=found-1}}function findRange(found){var count=1,lastLine=cm.lastLine(),end,startCh=found.ch,endCh;outer:for(var i=line;i<=lastLine;++i){var text=cm.getLine(i),pos=i==line?startCh:0;for(;;){var nextOpen=text.indexOf(found.pair[0],pos),nextClose=text.indexOf(found.pair[1],pos);if(nextOpen<0)nextOpen=\ntext.length;if(nextClose<0)nextClose=text.length;pos=Math.min(nextOpen,nextClose);if(pos==text.length)break;if(cm.getTokenTypeAt(CodeMirror.Pos(i,pos+1))==found.tokenType)if(pos==nextOpen)++count;else if(!--count){end=i;endCh=pos;break outer}++pos}}if(end==null||line==end)return null;return{from:CodeMirror.Pos(line,startCh),to:CodeMirror.Pos(end,endCh)}}var found=[];for(var i=0;i<pairs.length;i++){var open=findOpening(pairs[i]);if(open)found.push(open)}found.sort(function(a,b){return a.ch-b.ch});\nfor(var i=0;i<found.length;i++){var range=findRange(found[i]);if(range)return range}return null}}CodeMirror.registerHelper("fold","brace",bracketFolding([["{","}"],["[","]"]]));CodeMirror.registerHelper("fold","brace-paren",bracketFolding([["{","}"],["[","]"],["(",")"]]));CodeMirror.registerHelper("fold","import",function(cm,start){function hasImport(line){if(line<cm.firstLine()||line>cm.lastLine())return null;var start=cm.getTokenAt(CodeMirror.Pos(line,1));if(!/\\S/.test(start.string))start=cm.getTokenAt(CodeMirror.Pos(line,\nstart.end+1));if(start.type!="keyword"||start.string!="import")return null;for(var i=line,e=Math.min(cm.lastLine(),line+10);i<=e;++i){var text=cm.getLine(i),semi=text.indexOf(";");if(semi!=-1)return{startCh:start.end,end:CodeMirror.Pos(i,semi)}}}var startLine=start.line,has=hasImport(startLine),prev;if(!has||hasImport(startLine-1)||(prev=hasImport(startLine-2))&&prev.end.line==startLine-1)return null;for(var end=has.end;;){var next=hasImport(end.line+1);if(next==null)break;end=next.end}return{from:cm.clipPos(CodeMirror.Pos(startLine,\nhas.startCh+1)),to:end}});CodeMirror.registerHelper("fold","include",function(cm,start){function hasInclude(line){if(line<cm.firstLine()||line>cm.lastLine())return null;var start=cm.getTokenAt(CodeMirror.Pos(line,1));if(!/\\S/.test(start.string))start=cm.getTokenAt(CodeMirror.Pos(line,start.end+1));if(start.type=="meta"&&start.string.slice(0,8)=="#include")return start.start+8}var startLine=start.line,has=hasInclude(startLine);if(has==null||hasInclude(startLine-1)!=null)return null;for(var end=startLine;;){var next=\nhasInclude(end+1);if(next==null)break;++end}return{from:CodeMirror.Pos(startLine,has+1),to:cm.clipPos(CodeMirror.Pos(end))}})});(function(){CodeMirror.defineOption("collapseRange",false,function(cm,val,old){var wasOn=old&&old!=CodeMirror.Init;if(val&&!wasOn)enableRangeCollapsing(cm);else if(!val&&wasOn)disableRangeCollapsing(cm)});var gutterClass="CodeMirror-collapserange";function enableRangeCollapsing(cm){cm.on("gutterClick",gutterClick);cm.setOption("gutters",(cm.getOption("gutters")||[]).concat([gutterClass]))}function disableRangeCollapsing(cm){cm.rangeCollapseStart=null;cm.off("gutterClick",gutterClick);var gutters=\ncm.getOption("gutters");for(var i=0;i<gutters.length&&gutters[i]!=gutterClass;++i);cm.setOption("gutters",gutters.slice(0,i).concat(gutters.slice(i+1)))}function gutterClick(cm,line,gutter){if(gutter!=gutterClass)return;var start=cm.rangeCollapseStart;if(start){var old=cm.getLineNumber(start);cm.setGutterMarker(start,gutterClass,null);cm.rangeCollapseStart=null;var from=Math.min(old,line),to=Math.max(old,line);if(from!=to){var fold=cm.markText({line:from+1,ch:0},{line:to-1},{collapsed:true,inclusiveLeft:true,\ninclusiveRight:true,clearOnEnter:true});var clear=function(){cm.setGutterMarker(topLine,gutterClass,null);cm.setGutterMarker(botLine,gutterClass,null);fold.clear()};var topLine=cm.setGutterMarker(from,gutterClass,makeMarker(true,true,clear));var botLine=cm.setGutterMarker(to,gutterClass,makeMarker(false,true,clear));CodeMirror.on(fold,"clear",clear);return}}cm.rangeCollapseStart=cm.setGutterMarker(line,gutterClass,makeMarker(true,false))}function makeMarker(isTop,isFinished,handler){var node=document.createElement("div");\nnode.textContent=isTop?"\\u25bc":"\\u25b2";if(!isFinished)node.style.color="red";node.style.fontSize="85%";node.style.cursor="pointer";if(handler)CodeMirror.on(node,"mousedown",handler);return node}})();(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.registerGlobalHelper("fold","comment",function(mode){return mode.blockCommentStart&&mode.blockCommentEnd},function(cm,start){var mode=cm.getModeAt(start),startToken=mode.blockCommentStart,endToken=mode.blockCommentEnd;if(!startToken||!endToken)return;var line=\nstart.line,lineText=cm.getLine(line);var startCh;for(var at=start.ch,pass=0;;){var found=at<=0?-1:lineText.lastIndexOf(startToken,at-1);if(found==-1){if(pass==1)return;pass=1;at=lineText.length;continue}if(pass==1&&found<start.ch)return;if(/comment/.test(cm.getTokenTypeAt(CodeMirror.Pos(line,found+1)))&&(found==0||lineText.slice(found-endToken.length,found)==endToken||!/comment/.test(cm.getTokenTypeAt(CodeMirror.Pos(line,found))))){startCh=found+startToken.length;break}at=found-1}var depth=1,lastLine=\ncm.lastLine(),end,endCh;outer:for(var i=line;i<=lastLine;++i){var text=cm.getLine(i),pos=i==line?startCh:0;for(;;){var nextOpen=text.indexOf(startToken,pos),nextClose=text.indexOf(endToken,pos);if(nextOpen<0)nextOpen=text.length;if(nextClose<0)nextClose=text.length;pos=Math.min(nextOpen,nextClose);if(pos==text.length)break;if(pos==nextOpen)++depth;else if(!--depth){end=i;endCh=pos;break outer}++pos}}if(end==null||line==end&&endCh==startCh)return;return{from:CodeMirror.Pos(line,startCh),to:CodeMirror.Pos(end,\nendCh)}})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function doFold(cm,pos,options,force){if(options&&options.call){var finder=options;options=null}else var finder=getOption(cm,options,"rangeFinder");if(typeof pos=="number")pos=CodeMirror.Pos(pos,0);var minSize=getOption(cm,options,"minFoldSize");function getRange(allowFolded){var range=\nfinder(cm,pos);if(!range||range.to.line-range.from.line<minSize)return null;if(force==="fold")return range;var marks=cm.findMarksAt(range.from);for(var i=0;i<marks.length;++i)if(marks[i].__isFold){if(!allowFolded)return null;range.cleared=true;marks[i].clear()}return range}var range=getRange(true);if(getOption(cm,options,"scanUp"))while(!range&&pos.line>cm.firstLine()){pos=CodeMirror.Pos(pos.line-1,0);range=getRange(false)}if(!range||range.cleared||force==="unfold")return;var myWidget=makeWidget(cm,\noptions,range);CodeMirror.on(myWidget,"mousedown",function(e){myRange.clear();CodeMirror.e_preventDefault(e)});var myRange=cm.markText(range.from,range.to,{replacedWith:myWidget,clearOnEnter:getOption(cm,options,"clearOnEnter"),__isFold:true});myRange.on("clear",function(from,to){CodeMirror.signal(cm,"unfold",cm,from,to)});CodeMirror.signal(cm,"fold",cm,range.from,range.to)}function makeWidget(cm,options,range){var widget=getOption(cm,options,"widget");if(typeof widget=="function")widget=widget(range.from,\nrange.to);if(typeof widget=="string"){var text=document.createTextNode(widget);widget=document.createElement("span");widget.appendChild(text);widget.className="CodeMirror-foldmarker"}else if(widget)widget=widget.cloneNode(true);return widget}CodeMirror.newFoldFunction=function(rangeFinder,widget){return function(cm,pos){doFold(cm,pos,{rangeFinder:rangeFinder,widget:widget})}};CodeMirror.defineExtension("foldCode",function(pos,options,force){doFold(this,pos,options,force)});CodeMirror.defineExtension("isFolded",\nfunction(pos){var marks=this.findMarksAt(pos);for(var i=0;i<marks.length;++i)if(marks[i].__isFold)return true});CodeMirror.commands.toggleFold=function(cm){cm.foldCode(cm.getCursor())};CodeMirror.commands.fold=function(cm){cm.foldCode(cm.getCursor(),null,"fold")};CodeMirror.commands.unfold=function(cm){cm.foldCode(cm.getCursor(),{scanUp:false},"unfold")};CodeMirror.commands.foldAll=function(cm){cm.operation(function(){for(var i=cm.firstLine(),e=cm.lastLine();i<=e;i++)cm.foldCode(CodeMirror.Pos(i,\n0),{scanUp:false},"fold")})};CodeMirror.commands.unfoldAll=function(cm){cm.operation(function(){for(var i=cm.firstLine(),e=cm.lastLine();i<=e;i++)cm.foldCode(CodeMirror.Pos(i,0),{scanUp:false},"unfold")})};CodeMirror.registerHelper("fold","combine",function(){var funcs=Array.prototype.slice.call(arguments,0);return function(cm,start){for(var i=0;i<funcs.length;++i){var found=funcs[i](cm,start);if(found)return found}}});CodeMirror.registerHelper("fold","auto",function(cm,start){var helpers=cm.getHelpers(start,\n"fold");for(var i=0;i<helpers.length;i++){var cur=helpers[i](cm,start);if(cur)return cur}});var defaultOptions={rangeFinder:CodeMirror.fold.auto,widget:"\\u2194",minFoldSize:0,scanUp:false,clearOnEnter:true};CodeMirror.defineOption("foldOptions",null);function getOption(cm,options,name){if(options&&options[name]!==undefined)return options[name];var editorOptions=cm.options.foldOptions;if(editorOptions&&editorOptions[name]!==undefined)return editorOptions[name];return defaultOptions[name]}CodeMirror.defineExtension("foldOption",\nfunction(options,name){return getOption(this,options,name)})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"),require("./foldcode"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror","./foldcode"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineOption("foldGutter",false,function(cm,val,old){if(old&&old!=CodeMirror.Init){cm.clearGutter(cm.state.foldGutter.options.gutter);cm.state.foldGutter=null;cm.off("gutterClick",onGutterClick);cm.off("changes",onChange);cm.off("viewportChange",\nonViewportChange);cm.off("fold",onFold);cm.off("unfold",onFold);cm.off("swapDoc",onChange)}if(val){cm.state.foldGutter=new State(parseOptions(val));updateInViewport(cm);cm.on("gutterClick",onGutterClick);cm.on("changes",onChange);cm.on("viewportChange",onViewportChange);cm.on("fold",onFold);cm.on("unfold",onFold);cm.on("swapDoc",onChange)}});var Pos=CodeMirror.Pos;function State(options){this.options=options;this.from=this.to=0}function parseOptions(opts){if(opts===true)opts={};if(opts.gutter==null)opts.gutter=\n"CodeMirror-foldgutter";if(opts.indicatorOpen==null)opts.indicatorOpen="CodeMirror-foldgutter-open";if(opts.indicatorFolded==null)opts.indicatorFolded="CodeMirror-foldgutter-folded";return opts}function isFolded(cm,line){var marks=cm.findMarks(Pos(line,0),Pos(line+1,0));for(var i=0;i<marks.length;++i)if(marks[i].__isFold){var fromPos=marks[i].find(-1);if(fromPos&&fromPos.line===line)return marks[i]}}function marker(spec){if(typeof spec=="string"){var elt=document.createElement("div");elt.className=\nspec+" CodeMirror-guttermarker-subtle";return elt}else return spec.cloneNode(true)}function updateFoldInfo(cm,from,to){var opts=cm.state.foldGutter.options,cur=from-1;var minSize=cm.foldOption(opts,"minFoldSize");var func=cm.foldOption(opts,"rangeFinder");var clsFolded=typeof opts.indicatorFolded=="string"&&classTest(opts.indicatorFolded);var clsOpen=typeof opts.indicatorOpen=="string"&&classTest(opts.indicatorOpen);cm.eachLine(from,to,function(line){++cur;var mark=null;var old=line.gutterMarkers;\nif(old)old=old[opts.gutter];if(isFolded(cm,cur)){if(clsFolded&&old&&clsFolded.test(old.className))return;mark=marker(opts.indicatorFolded)}else{var pos=Pos(cur,0);var range=func&&func(cm,pos);if(range&&range.to.line-range.from.line>=minSize){if(clsOpen&&old&&clsOpen.test(old.className))return;mark=marker(opts.indicatorOpen)}}if(!mark&&!old)return;cm.setGutterMarker(line,opts.gutter,mark)})}function classTest(cls){return new RegExp("(^|\\\\s)"+cls+"(?:$|\\\\s)\\\\s*")}function updateInViewport(cm){var vp=\ncm.getViewport(),state=cm.state.foldGutter;if(!state)return;cm.operation(function(){updateFoldInfo(cm,vp.from,vp.to)});state.from=vp.from;state.to=vp.to}function onGutterClick(cm,line,gutter){var state=cm.state.foldGutter;if(!state)return;var opts=state.options;if(gutter!=opts.gutter)return;var folded=isFolded(cm,line);if(folded)folded.clear();else cm.foldCode(Pos(line,0),opts)}function onChange(cm){var state=cm.state.foldGutter;if(!state)return;var opts=state.options;state.from=state.to=0;clearTimeout(state.changeUpdate);\nstate.changeUpdate=setTimeout(function(){updateInViewport(cm)},opts.foldOnChangeTimeSpan||600)}function onViewportChange(cm){var state=cm.state.foldGutter;if(!state)return;var opts=state.options;clearTimeout(state.changeUpdate);state.changeUpdate=setTimeout(function(){var vp=cm.getViewport();if(state.from==state.to||vp.from-state.to>20||state.from-vp.to>20)updateInViewport(cm);else cm.operation(function(){if(vp.from<state.from){updateFoldInfo(cm,vp.from,state.from);state.from=vp.from}if(vp.to>state.to){updateFoldInfo(cm,\nstate.to,vp.to);state.to=vp.to}})},opts.updateViewportTimeSpan||400)}function onFold(cm,from){var state=cm.state.foldGutter;if(!state)return;var line=from.line;if(line>=state.from&&line<state.to)updateFoldInfo(cm,line,line+1)}});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function lineIndent(cm,lineNo){var text=cm.getLine(lineNo);var spaceTo=text.search(/\\S/);if(spaceTo==-1||/\\bcomment\\b/.test(cm.getTokenTypeAt(CodeMirror.Pos(lineNo,spaceTo+1))))return-1;return CodeMirror.countColumn(text,null,cm.getOption("tabSize"))}CodeMirror.registerHelper("fold",\n"indent",function(cm,start){var myIndent=lineIndent(cm,start.line);if(myIndent<0)return;var lastLineInFold=null;for(var i=start.line+1,end=cm.lastLine();i<=end;++i){var indent=lineIndent(cm,i);if(indent==-1);else if(indent>myIndent)lastLineInFold=i;else break}if(lastLineInFold)return{from:CodeMirror.Pos(start.line,cm.getLine(start.line).length),to:CodeMirror.Pos(lastLineInFold,cm.getLine(lastLineInFold).length)}})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.registerHelper("fold","markdown",function(cm,start){var maxDepth=100;function isHeader(lineNo){var tokentype=cm.getTokenTypeAt(CodeMirror.Pos(lineNo,0));return tokentype&&/\\bheader\\b/.test(tokentype)}function headerLevel(lineNo,line,nextLine){var match=line&&\nline.match(/^#+/);if(match&&isHeader(lineNo))return match[0].length;match=nextLine&&nextLine.match(/^[=\\-]+\\s*$/);if(match&&isHeader(lineNo+1))return nextLine[0]=="="?1:2;return maxDepth}var firstLine=cm.getLine(start.line),nextLine=cm.getLine(start.line+1);var level=headerLevel(start.line,firstLine,nextLine);if(level===maxDepth)return undefined;var lastLineNo=cm.lastLine();var end=start.line,nextNextLine=cm.getLine(end+2);while(end<lastLineNo){if(headerLevel(end+1,nextLine,nextNextLine)<=level)break;\n++end;nextLine=nextNextLine;nextNextLine=cm.getLine(end+2)}return{from:CodeMirror.Pos(start.line,firstLine.length),to:CodeMirror.Pos(end,cm.getLine(end).length)}})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){var Pos=CodeMirror.Pos;function cmp(a,b){return a.line-b.line||a.ch-b.ch}var nameStartChar="A-Z_a-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD";var nameChar=\nnameStartChar+"-:.0-9\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040";var xmlTagStart=new RegExp("<(/?)(["+nameStartChar+"]["+nameChar+"]*)","g");function Iter(cm,line,ch,range){this.line=line;this.ch=ch;this.cm=cm;this.text=cm.getLine(line);this.min=range?Math.max(range.from,cm.firstLine()):cm.firstLine();this.max=range?Math.min(range.to-1,cm.lastLine()):cm.lastLine()}function tagAt(iter,ch){var type=iter.cm.getTokenTypeAt(Pos(iter.line,ch));return type&&/\\btag\\b/.test(type)}function nextLine(iter){if(iter.line>=\niter.max)return;iter.ch=0;iter.text=iter.cm.getLine(++iter.line);return true}function prevLine(iter){if(iter.line<=iter.min)return;iter.text=iter.cm.getLine(--iter.line);iter.ch=iter.text.length;return true}function toTagEnd(iter){for(;;){var gt=iter.text.indexOf(">",iter.ch);if(gt==-1)if(nextLine(iter))continue;else return;if(!tagAt(iter,gt+1)){iter.ch=gt+1;continue}var lastSlash=iter.text.lastIndexOf("/",gt);var selfClose=lastSlash>-1&&!/\\S/.test(iter.text.slice(lastSlash+1,gt));iter.ch=gt+1;return selfClose?\n"selfClose":"regular"}}function toTagStart(iter){for(;;){var lt=iter.ch?iter.text.lastIndexOf("<",iter.ch-1):-1;if(lt==-1)if(prevLine(iter))continue;else return;if(!tagAt(iter,lt+1)){iter.ch=lt;continue}xmlTagStart.lastIndex=lt;iter.ch=lt;var match=xmlTagStart.exec(iter.text);if(match&&match.index==lt)return match}}function toNextTag(iter){for(;;){xmlTagStart.lastIndex=iter.ch;var found=xmlTagStart.exec(iter.text);if(!found)if(nextLine(iter))continue;else return;if(!tagAt(iter,found.index+1)){iter.ch=\nfound.index+1;continue}iter.ch=found.index+found[0].length;return found}}function toPrevTag(iter){for(;;){var gt=iter.ch?iter.text.lastIndexOf(">",iter.ch-1):-1;if(gt==-1)if(prevLine(iter))continue;else return;if(!tagAt(iter,gt+1)){iter.ch=gt;continue}var lastSlash=iter.text.lastIndexOf("/",gt);var selfClose=lastSlash>-1&&!/\\S/.test(iter.text.slice(lastSlash+1,gt));iter.ch=gt+1;return selfClose?"selfClose":"regular"}}function findMatchingClose(iter,tag){var stack=[];for(;;){var next=toNextTag(iter),\nend,startLine=iter.line,startCh=iter.ch-(next?next[0].length:0);if(!next||!(end=toTagEnd(iter)))return;if(end=="selfClose")continue;if(next[1]){for(var i=stack.length-1;i>=0;--i)if(stack[i]==next[2]){stack.length=i;break}if(i<0&&(!tag||tag==next[2]))return{tag:next[2],from:Pos(startLine,startCh),to:Pos(iter.line,iter.ch)}}else stack.push(next[2])}}function findMatchingOpen(iter,tag){var stack=[];for(;;){var prev=toPrevTag(iter);if(!prev)return;if(prev=="selfClose"){toTagStart(iter);continue}var endLine=\niter.line,endCh=iter.ch;var start=toTagStart(iter);if(!start)return;if(start[1])stack.push(start[2]);else{for(var i=stack.length-1;i>=0;--i)if(stack[i]==start[2]){stack.length=i;break}if(i<0&&(!tag||tag==start[2]))return{tag:start[2],from:Pos(iter.line,iter.ch),to:Pos(endLine,endCh)}}}}CodeMirror.registerHelper("fold","xml",function(cm,start){var iter=new Iter(cm,start.line,0);for(;;){var openTag=toNextTag(iter);if(!openTag||iter.line!=start.line)return;var end=toTagEnd(iter);if(!end)return;if(!openTag[1]&&\nend!="selfClose"){var startPos=Pos(iter.line,iter.ch);var endPos=findMatchingClose(iter,openTag[2]);return endPos&&cmp(endPos.from,startPos)>0?{from:startPos,to:endPos.from}:null}}});CodeMirror.findMatchingTag=function(cm,pos,range){var iter=new Iter(cm,pos.line,pos.ch,range);if(iter.text.indexOf(">")==-1&&iter.text.indexOf("<")==-1)return;var end=toTagEnd(iter),to=end&&Pos(iter.line,iter.ch);var start=end&&toTagStart(iter);if(!end||!start||cmp(iter,pos)>0)return;var here={from:Pos(iter.line,iter.ch),\nto:to,tag:start[2]};if(end=="selfClose")return{open:here,close:null,at:"open"};if(start[1])return{open:findMatchingOpen(iter,start[2]),close:here,at:"close"};else{iter=new Iter(cm,to.line,to.ch,range);return{open:here,close:findMatchingClose(iter,start[2]),at:"open"}}};CodeMirror.findEnclosingTag=function(cm,pos,range,tag){var iter=new Iter(cm,pos.line,pos.ch,range);for(;;){var open=findMatchingOpen(iter,tag);if(!open)break;var forward=new Iter(cm,pos.line,pos.ch,range);var close=findMatchingClose(forward,\nopen.tag);if(close)return{open:open,close:close}}};CodeMirror.scanForClosingTag=function(cm,pos,name,end){var iter=new Iter(cm,pos.line,pos.ch,end?{from:0,to:end}:null);return findMatchingClose(iter,name)}});(function(){CodeMirror.extendMode("css",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(_type,content){return/^[;{}]$/.test(content)}});CodeMirror.extendMode("javascript",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(_type,content,textAfter,state){if(this.jsonMode)return/^[\\[,{]$/.test(content)||/^}/.test(textAfter);else{if(content==";"&&state.lexical&&state.lexical.type==")")return false;return/^[;{}]$/.test(content)&&!/^;/.test(textAfter)}}});var inlineElements=/^(a|abbr|acronym|area|base|bdo|big|br|button|caption|cite|code|col|colgroup|dd|del|dfn|em|frame|hr|iframe|img|input|ins|kbd|label|legend|link|map|object|optgroup|option|param|q|samp|script|select|small|span|strong|sub|sup|textarea|tt|var)$/;\nCodeMirror.extendMode("xml",{commentStart:"\\x3c!--",commentEnd:"--\\x3e",newlineAfterToken:function(type,content,textAfter,state){var inline=false;if(this.configuration=="html")inline=state.context?inlineElements.test(state.context.tagName):false;return!inline&&(type=="tag"&&/>$/.test(content)&&state.context||/^</.test(textAfter))}});CodeMirror.defineExtension("commentRange",function(isComment,from,to){var cm=this,curMode=CodeMirror.innerMode(cm.getMode(),cm.getTokenAt(from).state).mode;cm.operation(function(){if(isComment){cm.replaceRange(curMode.commentEnd,\nto);cm.replaceRange(curMode.commentStart,from);if(from.line==to.line&&from.ch==to.ch)cm.setCursor(from.line,from.ch+curMode.commentStart.length)}else{var selText=cm.getRange(from,to);var startIndex=selText.indexOf(curMode.commentStart);var endIndex=selText.lastIndexOf(curMode.commentEnd);if(startIndex>-1&&endIndex>-1&&endIndex>startIndex)selText=selText.substr(0,startIndex)+selText.substring(startIndex+curMode.commentStart.length,endIndex)+selText.substr(endIndex+curMode.commentEnd.length);cm.replaceRange(selText,\nfrom,to)}})});CodeMirror.defineExtension("autoIndentRange",function(from,to){var cmInstance=this;this.operation(function(){for(var i=from.line;i<=to.line;i++)cmInstance.indentLine(i,"smart")})});CodeMirror.defineExtension("autoFormatRange",function(from,to){var cm=this;var outer=cm.getMode(),text=cm.getRange(from,to).split("\\n");var state=CodeMirror.copyState(outer,cm.getTokenAt(from).state);var tabSize=cm.getOption("tabSize");var out="",lines=0,atSol=from.ch==0;function newline(){out+="\\n";atSol=\ntrue;++lines}for(var i=0;i<text.length;++i){var stream=new CodeMirror.StringStream(text[i],tabSize);while(!stream.eol()){var inner=CodeMirror.innerMode(outer,state);var style=outer.token(stream,state),cur=stream.current();stream.start=stream.pos;if(!atSol||/\\S/.test(cur)){out+=cur;atSol=false}if(!atSol&&inner.mode.newlineAfterToken&&inner.mode.newlineAfterToken(style,cur,stream.string.slice(stream.pos)||text[i+1]||"",inner.state))newline()}if(!stream.pos&&outer.blankLine)outer.blankLine(state);if(!atSol&&\ni<text.length-1)newline()}cm.operation(function(){cm.replaceRange(out,from,to);for(var cur=from.line+1,end=from.line+lines;cur<=end;++cur)cm.indentLine(cur,"smart");cm.setSelection(from,cm.getCursor(false))})})})();var diff_match_patch=function(){this.Diff_Timeout=1;this.Diff_EditCost=4;this.Match_Threshold=.5;this.Match_Distance=1E3;this.Patch_DeleteThreshold=.5;this.Patch_Margin=4;this.Match_MaxBits=32};var DIFF_DELETE=-1;var DIFF_INSERT=1;var DIFF_EQUAL=0;diff_match_patch.Diff;\ndiff_match_patch.prototype.diff_main=function(text1,text2,opt_checklines,opt_deadline){if(typeof opt_deadline=="undefined")if(this.Diff_Timeout<=0)opt_deadline=Number.MAX_VALUE;else opt_deadline=(new Date).getTime()+this.Diff_Timeout*1E3;var deadline=opt_deadline;if(text1==null||text2==null)throw new Error("Null input. (diff_main)");if(text1==text2){if(text1)return[[DIFF_EQUAL,text1]];return[]}if(typeof opt_checklines=="undefined")opt_checklines=true;var checklines=opt_checklines;var commonlength=\nthis.diff_commonPrefix(text1,text2);var commonprefix=text1.substring(0,commonlength);text1=text1.substring(commonlength);text2=text2.substring(commonlength);commonlength=this.diff_commonSuffix(text1,text2);var commonsuffix=text1.substring(text1.length-commonlength);text1=text1.substring(0,text1.length-commonlength);text2=text2.substring(0,text2.length-commonlength);var diffs=this.diff_compute_(text1,text2,checklines,deadline);if(commonprefix)diffs.unshift([DIFF_EQUAL,commonprefix]);if(commonsuffix)diffs.push([DIFF_EQUAL,\ncommonsuffix]);this.diff_cleanupMerge(diffs);return diffs};\ndiff_match_patch.prototype.diff_compute_=function(text1,text2,checklines,deadline){var diffs;if(!text1)return[[DIFF_INSERT,text2]];if(!text2)return[[DIFF_DELETE,text1]];var longtext=text1.length>text2.length?text1:text2;var shorttext=text1.length>text2.length?text2:text1;var i=longtext.indexOf(shorttext);if(i!=-1){diffs=[[DIFF_INSERT,longtext.substring(0,i)],[DIFF_EQUAL,shorttext],[DIFF_INSERT,longtext.substring(i+shorttext.length)]];if(text1.length>text2.length)diffs[0][0]=diffs[2][0]=DIFF_DELETE;\nreturn diffs}if(shorttext.length==1)return[[DIFF_DELETE,text1],[DIFF_INSERT,text2]];var hm=this.diff_halfMatch_(text1,text2);if(hm){var text1_a=hm[0];var text1_b=hm[1];var text2_a=hm[2];var text2_b=hm[3];var mid_common=hm[4];var diffs_a=this.diff_main(text1_a,text2_a,checklines,deadline);var diffs_b=this.diff_main(text1_b,text2_b,checklines,deadline);return diffs_a.concat([[DIFF_EQUAL,mid_common]],diffs_b)}if(checklines&&text1.length>100&&text2.length>100)return this.diff_lineMode_(text1,text2,deadline);\nreturn this.diff_bisect_(text1,text2,deadline)};\ndiff_match_patch.prototype.diff_lineMode_=function(text1,text2,deadline){var a=this.diff_linesToChars(text1,text2);text1=a.chars1;text2=a.chars2;var linearray=a.lineArray;var diffs=this.diff_main(text1,text2,false,deadline);this.diff_charsToLines(diffs,linearray);this.diff_cleanupSemantic(diffs);diffs.push([DIFF_EQUAL,""]);var pointer=0;var count_delete=0;var count_insert=0;var text_delete="";var text_insert="";while(pointer<diffs.length){switch(diffs[pointer][0]){case DIFF_INSERT:count_insert++;text_insert+=\ndiffs[pointer][1];break;case DIFF_DELETE:count_delete++;text_delete+=diffs[pointer][1];break;case DIFF_EQUAL:if(count_delete>=1&&count_insert>=1){diffs.splice(pointer-count_delete-count_insert,count_delete+count_insert);pointer=pointer-count_delete-count_insert;var subDiff=this.diff_main(text_delete,text_insert,false,deadline);for(var j=subDiff.length-1;j>=0;j--)diffs.splice(pointer,0,subDiff[j]);pointer=pointer+subDiff.length}count_insert=0;count_delete=0;text_delete="";text_insert="";break}pointer++}diffs.pop();\nreturn diffs};\ndiff_match_patch.prototype.diff_bisect_=function(text1,text2,deadline){var text1_length=text1.length;var text2_length=text2.length;var max_d=Math.ceil((text1_length+text2_length)/2);var v_offset=max_d;var v_length=2*max_d;var v1=new Array(v_length);var v2=new Array(v_length);for(var x=0;x<v_length;x++){v1[x]=-1;v2[x]=-1}v1[v_offset+1]=0;v2[v_offset+1]=0;var delta=text1_length-text2_length;var front=delta%2!=0;var k1start=0;var k1end=0;var k2start=0;var k2end=0;for(var d=0;d<max_d;d++){if((new Date).getTime()>deadline)break;\nfor(var k1=-d+k1start;k1<=d-k1end;k1+=2){var k1_offset=v_offset+k1;var x1;if(k1==-d||k1!=d&&v1[k1_offset-1]<v1[k1_offset+1])x1=v1[k1_offset+1];else x1=v1[k1_offset-1]+1;var y1=x1-k1;while(x1<text1_length&&y1<text2_length&&text1.charAt(x1)==text2.charAt(y1)){x1++;y1++}v1[k1_offset]=x1;if(x1>text1_length)k1end+=2;else if(y1>text2_length)k1start+=2;else if(front){var k2_offset=v_offset+delta-k1;if(k2_offset>=0&&k2_offset<v_length&&v2[k2_offset]!=-1){var x2=text1_length-v2[k2_offset];if(x1>=x2)return this.diff_bisectSplit_(text1,\ntext2,x1,y1,deadline)}}}for(var k2=-d+k2start;k2<=d-k2end;k2+=2){var k2_offset=v_offset+k2;var x2;if(k2==-d||k2!=d&&v2[k2_offset-1]<v2[k2_offset+1])x2=v2[k2_offset+1];else x2=v2[k2_offset-1]+1;var y2=x2-k2;while(x2<text1_length&&y2<text2_length&&text1.charAt(text1_length-x2-1)==text2.charAt(text2_length-y2-1)){x2++;y2++}v2[k2_offset]=x2;if(x2>text1_length)k2end+=2;else if(y2>text2_length)k2start+=2;else if(!front){var k1_offset=v_offset+delta-k2;if(k1_offset>=0&&k1_offset<v_length&&v1[k1_offset]!=\n-1){var x1=v1[k1_offset];var y1=v_offset+x1-k1_offset;x2=text1_length-x2;if(x1>=x2)return this.diff_bisectSplit_(text1,text2,x1,y1,deadline)}}}}return[[DIFF_DELETE,text1],[DIFF_INSERT,text2]]};\ndiff_match_patch.prototype.diff_bisectSplit_=function(text1,text2,x,y,deadline){var text1a=text1.substring(0,x);var text2a=text2.substring(0,y);var text1b=text1.substring(x);var text2b=text2.substring(y);var diffs=this.diff_main(text1a,text2a,false,deadline);var diffsb=this.diff_main(text1b,text2b,false,deadline);return diffs.concat(diffsb)};\ndiff_match_patch.prototype.diff_linesToChars=function(text1,text2){var lineArray=[];var lineHash={};lineArray[0]="";function diff_linesToCharsMunge_(text){var chars="";var lineStart=0;var lineEnd=-1;var lineArrayLength=lineArray.length;while(lineEnd<text.length-1){lineEnd=text.indexOf("\\n",lineStart);if(lineEnd==-1)lineEnd=text.length-1;var line=text.substring(lineStart,lineEnd+1);if(lineHash.hasOwnProperty?lineHash.hasOwnProperty(line):lineHash[line]!==undefined)chars+=String.fromCharCode(lineHash[line]);\nelse{if(lineArrayLength==maxLines){line=text.substring(lineStart);lineEnd=text.length}chars+=String.fromCharCode(lineArrayLength);lineHash[line]=lineArrayLength;lineArray[lineArrayLength++]=line}lineStart=lineEnd+1}return chars}var maxLines=4E4;var chars1=diff_linesToCharsMunge_(text1);maxLines=65535;var chars2=diff_linesToCharsMunge_(text2);return{chars1:chars1,chars2:chars2,lineArray:lineArray}};\ndiff_match_patch.prototype.diff_charsToLines=function(diffs,lineArray){for(var x=0;x<diffs.length;x++){var chars=diffs[x][1];var text=[];for(var y=0;y<chars.length;y++)text[y]=lineArray[chars.charCodeAt(y)];diffs[x][1]=text.join("")}};\ndiff_match_patch.prototype.diff_commonPrefix=function(text1,text2){if(!text1||!text2||text1.charAt(0)!=text2.charAt(0))return 0;var pointermin=0;var pointermax=Math.min(text1.length,text2.length);var pointermid=pointermax;var pointerstart=0;while(pointermin<pointermid){if(text1.substring(pointerstart,pointermid)==text2.substring(pointerstart,pointermid)){pointermin=pointermid;pointerstart=pointermin}else pointermax=pointermid;pointermid=Math.floor((pointermax-pointermin)/2+pointermin)}return pointermid};\ndiff_match_patch.prototype.diff_commonSuffix=function(text1,text2){if(!text1||!text2||text1.charAt(text1.length-1)!=text2.charAt(text2.length-1))return 0;var pointermin=0;var pointermax=Math.min(text1.length,text2.length);var pointermid=pointermax;var pointerend=0;while(pointermin<pointermid){if(text1.substring(text1.length-pointermid,text1.length-pointerend)==text2.substring(text2.length-pointermid,text2.length-pointerend)){pointermin=pointermid;pointerend=pointermin}else pointermax=pointermid;pointermid=\nMath.floor((pointermax-pointermin)/2+pointermin)}return pointermid};\ndiff_match_patch.prototype.diff_commonOverlap_=function(text1,text2){var text1_length=text1.length;var text2_length=text2.length;if(text1_length==0||text2_length==0)return 0;if(text1_length>text2_length)text1=text1.substring(text1_length-text2_length);else if(text1_length<text2_length)text2=text2.substring(0,text1_length);var text_length=Math.min(text1_length,text2_length);if(text1==text2)return text_length;var best=0;var length=1;while(true){var pattern=text1.substring(text_length-length);var found=\ntext2.indexOf(pattern);if(found==-1)return best;length+=found;if(found==0||text1.substring(text_length-length)==text2.substring(0,length)){best=length;length++}}};\ndiff_match_patch.prototype.diff_halfMatch_=function(text1,text2){if(this.Diff_Timeout<=0)return null;var longtext=text1.length>text2.length?text1:text2;var shorttext=text1.length>text2.length?text2:text1;if(longtext.length<4||shorttext.length*2<longtext.length)return null;var dmp=this;function diff_halfMatchI_(longtext,shorttext,i){var seed=longtext.substring(i,i+Math.floor(longtext.length/4));var j=-1;var best_common="";var best_longtext_a,best_longtext_b,best_shorttext_a,best_shorttext_b;while((j=\nshorttext.indexOf(seed,j+1))!=-1){var prefixLength=dmp.diff_commonPrefix(longtext.substring(i),shorttext.substring(j));var suffixLength=dmp.diff_commonSuffix(longtext.substring(0,i),shorttext.substring(0,j));if(best_common.length<suffixLength+prefixLength){best_common=shorttext.substring(j-suffixLength,j)+shorttext.substring(j,j+prefixLength);best_longtext_a=longtext.substring(0,i-suffixLength);best_longtext_b=longtext.substring(i+prefixLength);best_shorttext_a=shorttext.substring(0,j-suffixLength);\nbest_shorttext_b=shorttext.substring(j+prefixLength)}}if(best_common.length*2>=longtext.length)return[best_longtext_a,best_longtext_b,best_shorttext_a,best_shorttext_b,best_common];else return null}var hm1=diff_halfMatchI_(longtext,shorttext,Math.ceil(longtext.length/4));var hm2=diff_halfMatchI_(longtext,shorttext,Math.ceil(longtext.length/2));var hm;if(!hm1&&!hm2)return null;else if(!hm2)hm=hm1;else if(!hm1)hm=hm2;else hm=hm1[4].length>hm2[4].length?hm1:hm2;var text1_a,text1_b,text2_a,text2_b;if(text1.length>\ntext2.length){text1_a=hm[0];text1_b=hm[1];text2_a=hm[2];text2_b=hm[3]}else{text2_a=hm[0];text2_b=hm[1];text1_a=hm[2];text1_b=hm[3]}var mid_common=hm[4];return[text1_a,text1_b,text2_a,text2_b,mid_common]};\ndiff_match_patch.prototype.diff_cleanupSemantic=function(diffs){var changes=false;var equalities=[];var equalitiesLength=0;var lastequality=null;var pointer=0;var length_insertions1=0;var length_deletions1=0;var length_insertions2=0;var length_deletions2=0;while(pointer<diffs.length){if(diffs[pointer][0]==DIFF_EQUAL){equalities[equalitiesLength++]=pointer;length_insertions1=length_insertions2;length_deletions1=length_deletions2;length_insertions2=0;length_deletions2=0;lastequality=diffs[pointer][1]}else{if(diffs[pointer][0]==\nDIFF_INSERT)length_insertions2+=diffs[pointer][1].length;else length_deletions2+=diffs[pointer][1].length;if(lastequality&&lastequality.length<=Math.max(length_insertions1,length_deletions1)&&lastequality.length<=Math.max(length_insertions2,length_deletions2)){diffs.splice(equalities[equalitiesLength-1],0,[DIFF_DELETE,lastequality]);diffs[equalities[equalitiesLength-1]+1][0]=DIFF_INSERT;equalitiesLength--;equalitiesLength--;pointer=equalitiesLength>0?equalities[equalitiesLength-1]:-1;length_insertions1=\n0;length_deletions1=0;length_insertions2=0;length_deletions2=0;lastequality=null;changes=true}}pointer++}if(changes)this.diff_cleanupMerge(diffs);this.diff_cleanupSemanticLossless(diffs);pointer=1;while(pointer<diffs.length){if(diffs[pointer-1][0]==DIFF_DELETE&&diffs[pointer][0]==DIFF_INSERT){var deletion=diffs[pointer-1][1];var insertion=diffs[pointer][1];var overlap_length1=this.diff_commonOverlap_(deletion,insertion);var overlap_length2=this.diff_commonOverlap_(insertion,deletion);if(overlap_length1>=\noverlap_length2){if(overlap_length1>=deletion.length/2||overlap_length1>=insertion.length/2){diffs.splice(pointer,0,[DIFF_EQUAL,insertion.substring(0,overlap_length1)]);diffs[pointer-1][1]=deletion.substring(0,deletion.length-overlap_length1);diffs[pointer+1][1]=insertion.substring(overlap_length1);pointer++}}else if(overlap_length2>=deletion.length/2||overlap_length2>=insertion.length/2){diffs.splice(pointer,0,[DIFF_EQUAL,deletion.substring(0,overlap_length2)]);diffs[pointer-1][0]=DIFF_INSERT;diffs[pointer-\n1][1]=insertion.substring(0,insertion.length-overlap_length2);diffs[pointer+1][0]=DIFF_DELETE;diffs[pointer+1][1]=deletion.substring(overlap_length2);pointer++}pointer++}pointer++}};\ndiff_match_patch.prototype.diff_cleanupSemanticLossless=function(diffs){function diff_cleanupSemanticScore_(one,two){if(!one||!two)return 6;var char1=one.charAt(one.length-1);var char2=two.charAt(0);var nonAlphaNumeric1=char1.match(diff_match_patch.nonAlphaNumericRegex_);var nonAlphaNumeric2=char2.match(diff_match_patch.nonAlphaNumericRegex_);var whitespace1=nonAlphaNumeric1&&char1.match(diff_match_patch.whitespaceRegex_);var whitespace2=nonAlphaNumeric2&&char2.match(diff_match_patch.whitespaceRegex_);\nvar lineBreak1=whitespace1&&char1.match(diff_match_patch.linebreakRegex_);var lineBreak2=whitespace2&&char2.match(diff_match_patch.linebreakRegex_);var blankLine1=lineBreak1&&one.match(diff_match_patch.blanklineEndRegex_);var blankLine2=lineBreak2&&two.match(diff_match_patch.blanklineStartRegex_);if(blankLine1||blankLine2)return 5;else if(lineBreak1||lineBreak2)return 4;else if(nonAlphaNumeric1&&!whitespace1&&whitespace2)return 3;else if(whitespace1||whitespace2)return 2;else if(nonAlphaNumeric1||\nnonAlphaNumeric2)return 1;return 0}var pointer=1;while(pointer<diffs.length-1){if(diffs[pointer-1][0]==DIFF_EQUAL&&diffs[pointer+1][0]==DIFF_EQUAL){var equality1=diffs[pointer-1][1];var edit=diffs[pointer][1];var equality2=diffs[pointer+1][1];var commonOffset=this.diff_commonSuffix(equality1,edit);if(commonOffset){var commonString=edit.substring(edit.length-commonOffset);equality1=equality1.substring(0,equality1.length-commonOffset);edit=commonString+edit.substring(0,edit.length-commonOffset);equality2=\ncommonString+equality2}var bestEquality1=equality1;var bestEdit=edit;var bestEquality2=equality2;var bestScore=diff_cleanupSemanticScore_(equality1,edit)+diff_cleanupSemanticScore_(edit,equality2);while(edit.charAt(0)===equality2.charAt(0)){equality1+=edit.charAt(0);edit=edit.substring(1)+equality2.charAt(0);equality2=equality2.substring(1);var score=diff_cleanupSemanticScore_(equality1,edit)+diff_cleanupSemanticScore_(edit,equality2);if(score>=bestScore){bestScore=score;bestEquality1=equality1;bestEdit=\nedit;bestEquality2=equality2}}if(diffs[pointer-1][1]!=bestEquality1){if(bestEquality1)diffs[pointer-1][1]=bestEquality1;else{diffs.splice(pointer-1,1);pointer--}diffs[pointer][1]=bestEdit;if(bestEquality2)diffs[pointer+1][1]=bestEquality2;else{diffs.splice(pointer+1,1);pointer--}}}pointer++}};diff_match_patch.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/;diff_match_patch.whitespaceRegex_=/\\s/;diff_match_patch.linebreakRegex_=/[\\r\\n]/;diff_match_patch.blanklineEndRegex_=/\\n\\r?\\n$/;\ndiff_match_patch.blanklineStartRegex_=/^\\r?\\n\\r?\\n/;\ndiff_match_patch.prototype.diff_cleanupEfficiency=function(diffs){var changes=false;var equalities=[];var equalitiesLength=0;var lastequality=null;var pointer=0;var pre_ins=false;var pre_del=false;var post_ins=false;var post_del=false;while(pointer<diffs.length){if(diffs[pointer][0]==DIFF_EQUAL){if(diffs[pointer][1].length<this.Diff_EditCost&&(post_ins||post_del)){equalities[equalitiesLength++]=pointer;pre_ins=post_ins;pre_del=post_del;lastequality=diffs[pointer][1]}else{equalitiesLength=0;lastequality=\nnull}post_ins=post_del=false}else{if(diffs[pointer][0]==DIFF_DELETE)post_del=true;else post_ins=true;if(lastequality&&(pre_ins&&pre_del&&post_ins&&post_del||lastequality.length<this.Diff_EditCost/2&&pre_ins+pre_del+post_ins+post_del==3)){diffs.splice(equalities[equalitiesLength-1],0,[DIFF_DELETE,lastequality]);diffs[equalities[equalitiesLength-1]+1][0]=DIFF_INSERT;equalitiesLength--;lastequality=null;if(pre_ins&&pre_del){post_ins=post_del=true;equalitiesLength=0}else{equalitiesLength--;pointer=equalitiesLength>\n0?equalities[equalitiesLength-1]:-1;post_ins=post_del=false}changes=true}}pointer++}if(changes)this.diff_cleanupMerge(diffs)};\ndiff_match_patch.prototype.diff_cleanupMerge=function(diffs){diffs.push([DIFF_EQUAL,""]);var pointer=0;var count_delete=0;var count_insert=0;var text_delete="";var text_insert="";var commonlength;while(pointer<diffs.length)switch(diffs[pointer][0]){case DIFF_INSERT:count_insert++;text_insert+=diffs[pointer][1];pointer++;break;case DIFF_DELETE:count_delete++;text_delete+=diffs[pointer][1];pointer++;break;case DIFF_EQUAL:if(count_delete+count_insert>1){if(count_delete!==0&&count_insert!==0){commonlength=\nthis.diff_commonPrefix(text_insert,text_delete);if(commonlength!==0){if(pointer-count_delete-count_insert>0&&diffs[pointer-count_delete-count_insert-1][0]==DIFF_EQUAL)diffs[pointer-count_delete-count_insert-1][1]+=text_insert.substring(0,commonlength);else{diffs.splice(0,0,[DIFF_EQUAL,text_insert.substring(0,commonlength)]);pointer++}text_insert=text_insert.substring(commonlength);text_delete=text_delete.substring(commonlength)}commonlength=this.diff_commonSuffix(text_insert,text_delete);if(commonlength!==\n0){diffs[pointer][1]=text_insert.substring(text_insert.length-commonlength)+diffs[pointer][1];text_insert=text_insert.substring(0,text_insert.length-commonlength);text_delete=text_delete.substring(0,text_delete.length-commonlength)}}if(count_delete===0)diffs.splice(pointer-count_insert,count_delete+count_insert,[DIFF_INSERT,text_insert]);else if(count_insert===0)diffs.splice(pointer-count_delete,count_delete+count_insert,[DIFF_DELETE,text_delete]);else diffs.splice(pointer-count_delete-count_insert,\ncount_delete+count_insert,[DIFF_DELETE,text_delete],[DIFF_INSERT,text_insert]);pointer=pointer-count_delete-count_insert+(count_delete?1:0)+(count_insert?1:0)+1}else if(pointer!==0&&diffs[pointer-1][0]==DIFF_EQUAL){diffs[pointer-1][1]+=diffs[pointer][1];diffs.splice(pointer,1)}else pointer++;count_insert=0;count_delete=0;text_delete="";text_insert="";break}if(diffs[diffs.length-1][1]==="")diffs.pop();var changes=false;pointer=1;while(pointer<diffs.length-1){if(diffs[pointer-1][0]==DIFF_EQUAL&&diffs[pointer+\n1][0]==DIFF_EQUAL)if(diffs[pointer][1].substring(diffs[pointer][1].length-diffs[pointer-1][1].length)==diffs[pointer-1][1]){diffs[pointer][1]=diffs[pointer-1][1]+diffs[pointer][1].substring(0,diffs[pointer][1].length-diffs[pointer-1][1].length);diffs[pointer+1][1]=diffs[pointer-1][1]+diffs[pointer+1][1];diffs.splice(pointer-1,1);changes=true}else if(diffs[pointer][1].substring(0,diffs[pointer+1][1].length)==diffs[pointer+1][1]){diffs[pointer-1][1]+=diffs[pointer+1][1];diffs[pointer][1]=diffs[pointer][1].substring(diffs[pointer+\n1][1].length)+diffs[pointer+1][1];diffs.splice(pointer+1,1);changes=true}pointer++}if(changes)this.diff_cleanupMerge(diffs)};\ndiff_match_patch.prototype.diff_xIndex=function(diffs,loc){var chars1=0;var chars2=0;var last_chars1=0;var last_chars2=0;var x;for(x=0;x<diffs.length;x++){if(diffs[x][0]!==DIFF_INSERT)chars1+=diffs[x][1].length;if(diffs[x][0]!==DIFF_DELETE)chars2+=diffs[x][1].length;if(chars1>loc)break;last_chars1=chars1;last_chars2=chars2}if(diffs.length!=x&&diffs[x][0]===DIFF_DELETE)return last_chars2;return last_chars2+(loc-last_chars1)};\ndiff_match_patch.prototype.diff_prettyHtml=function(diffs){var html=[];var pattern_amp=/&/g;var pattern_lt=/</g;var pattern_gt=/>/g;var pattern_para=/\\n/g;for(var x=0;x<diffs.length;x++){var op=diffs[x][0];var data=diffs[x][1];var text=data.replace(pattern_amp,"&amp;").replace(pattern_lt,"&lt;").replace(pattern_gt,"&gt;").replace(pattern_para,"&para;<br>");switch(op){case DIFF_INSERT:html[x]=\'<ins style="background:#e6ffe6;">\'+text+"</ins>";break;case DIFF_DELETE:html[x]=\'<del style="background:#ffe6e6;">\'+\ntext+"</del>";break;case DIFF_EQUAL:html[x]="<span>"+text+"</span>";break}}return html.join("")};diff_match_patch.prototype.diff_text1=function(diffs){var text=[];for(var x=0;x<diffs.length;x++)if(diffs[x][0]!==DIFF_INSERT)text[x]=diffs[x][1];return text.join("")};diff_match_patch.prototype.diff_text2=function(diffs){var text=[];for(var x=0;x<diffs.length;x++)if(diffs[x][0]!==DIFF_DELETE)text[x]=diffs[x][1];return text.join("")};\ndiff_match_patch.prototype.diff_levenshtein=function(diffs){var levenshtein=0;var insertions=0;var deletions=0;for(var x=0;x<diffs.length;x++){var op=diffs[x][0];var data=diffs[x][1];switch(op){case DIFF_INSERT:insertions+=data.length;break;case DIFF_DELETE:deletions+=data.length;break;case DIFF_EQUAL:levenshtein+=Math.max(insertions,deletions);insertions=0;deletions=0;break}}levenshtein+=Math.max(insertions,deletions);return levenshtein};\ndiff_match_patch.prototype.diff_toDelta=function(diffs){var text=[];for(var x=0;x<diffs.length;x++)switch(diffs[x][0]){case DIFF_INSERT:text[x]="+"+encodeURI(diffs[x][1]);break;case DIFF_DELETE:text[x]="-"+diffs[x][1].length;break;case DIFF_EQUAL:text[x]="="+diffs[x][1].length;break}return text.join("\\t").replace(/%20/g," ")};\ndiff_match_patch.prototype.diff_fromDelta=function(text1,delta){var diffs=[];var diffsLength=0;var pointer=0;var tokens=delta.split(/\\t/g);for(var x=0;x<tokens.length;x++){var param=tokens[x].substring(1);switch(tokens[x].charAt(0)){case "+":try{diffs[diffsLength++]=[DIFF_INSERT,decodeURI(param)]}catch(ex){throw new Error("Illegal escape in diff_fromDelta: "+param);}break;case "-":case "=":var n=parseInt(param,10);if(isNaN(n)||n<0)throw new Error("Invalid number in diff_fromDelta: "+param);var text=\ntext1.substring(pointer,pointer+=n);if(tokens[x].charAt(0)=="=")diffs[diffsLength++]=[DIFF_EQUAL,text];else diffs[diffsLength++]=[DIFF_DELETE,text];break;default:if(tokens[x])throw new Error("Invalid diff operation in diff_fromDelta: "+tokens[x]);}}if(pointer!=text1.length)throw new Error("Delta length ("+pointer+") does not equal source text length ("+text1.length+").");return diffs};\ndiff_match_patch.prototype.match_main=function(text,pattern,loc){if(text==null||pattern==null||loc==null)throw new Error("Null input. (match_main)");loc=Math.max(0,Math.min(loc,text.length));if(text==pattern)return 0;else if(!text.length)return-1;else if(text.substring(loc,loc+pattern.length)==pattern)return loc;else return this.match_bitap_(text,pattern,loc)};\ndiff_match_patch.prototype.match_bitap_=function(text,pattern,loc){if(pattern.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var s=this.match_alphabet_(pattern);var dmp=this;function match_bitapScore_(e,x){var accuracy=e/pattern.length;var proximity=Math.abs(loc-x);if(!dmp.Match_Distance)return proximity?1:accuracy;return accuracy+proximity/dmp.Match_Distance}var score_threshold=this.Match_Threshold;var best_loc=text.indexOf(pattern,loc);if(best_loc!=-1){score_threshold=\nMath.min(match_bitapScore_(0,best_loc),score_threshold);best_loc=text.lastIndexOf(pattern,loc+pattern.length);if(best_loc!=-1)score_threshold=Math.min(match_bitapScore_(0,best_loc),score_threshold)}var matchmask=1<<pattern.length-1;best_loc=-1;var bin_min,bin_mid;var bin_max=pattern.length+text.length;var last_rd;for(var d=0;d<pattern.length;d++){bin_min=0;bin_mid=bin_max;while(bin_min<bin_mid){if(match_bitapScore_(d,loc+bin_mid)<=score_threshold)bin_min=bin_mid;else bin_max=bin_mid;bin_mid=Math.floor((bin_max-\nbin_min)/2+bin_min)}bin_max=bin_mid;var start=Math.max(1,loc-bin_mid+1);var finish=Math.min(loc+bin_mid,text.length)+pattern.length;var rd=Array(finish+2);rd[finish+1]=(1<<d)-1;for(var j=finish;j>=start;j--){var charMatch=s[text.charAt(j-1)];if(d===0)rd[j]=(rd[j+1]<<1|1)&charMatch;else rd[j]=(rd[j+1]<<1|1)&charMatch|((last_rd[j+1]|last_rd[j])<<1|1)|last_rd[j+1];if(rd[j]&matchmask){var score=match_bitapScore_(d,j-1);if(score<=score_threshold){score_threshold=score;best_loc=j-1;if(best_loc>loc)start=\nMath.max(1,2*loc-best_loc);else break}}}if(match_bitapScore_(d+1,loc)>score_threshold)break;last_rd=rd}return best_loc};diff_match_patch.prototype.match_alphabet_=function(pattern){var s={};for(var i=0;i<pattern.length;i++)s[pattern.charAt(i)]=0;for(var i=0;i<pattern.length;i++)s[pattern.charAt(i)]|=1<<pattern.length-i-1;return s};\ndiff_match_patch.prototype.patch_addContext_=function(patch,text){if(text.length==0)return;if(patch.start2===null)throw Error("patch not initialized");var pattern=text.substring(patch.start2,patch.start2+patch.length1);var padding=0;while(text.indexOf(pattern)!=text.lastIndexOf(pattern)&&pattern.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin){padding+=this.Patch_Margin;pattern=text.substring(patch.start2-padding,patch.start2+patch.length1+padding)}padding+=this.Patch_Margin;var prefix=\ntext.substring(patch.start2-padding,patch.start2);if(prefix)patch.diffs.unshift([DIFF_EQUAL,prefix]);var suffix=text.substring(patch.start2+patch.length1,patch.start2+patch.length1+padding);if(suffix)patch.diffs.push([DIFF_EQUAL,suffix]);patch.start1-=prefix.length;patch.start2-=prefix.length;patch.length1+=prefix.length+suffix.length;patch.length2+=prefix.length+suffix.length};\ndiff_match_patch.prototype.patch_make=function(a,opt_b,opt_c){var text1,diffs;if(typeof a=="string"&&typeof opt_b=="string"&&typeof opt_c=="undefined"){text1=a;diffs=this.diff_main(text1,opt_b,true);if(diffs.length>2){this.diff_cleanupSemantic(diffs);this.diff_cleanupEfficiency(diffs)}}else if(a&&typeof a=="object"&&typeof opt_b=="undefined"&&typeof opt_c=="undefined"){diffs=a;text1=this.diff_text1(diffs)}else if(typeof a=="string"&&opt_b&&typeof opt_b=="object"&&typeof opt_c=="undefined"){text1=\na;diffs=opt_b}else if(typeof a=="string"&&typeof opt_b=="string"&&opt_c&&typeof opt_c=="object"){text1=a;diffs=opt_c}else throw new Error("Unknown call format to patch_make.");if(diffs.length===0)return[];var patches=[];var patch=new diff_match_patch.patch_obj;var patchDiffLength=0;var char_count1=0;var char_count2=0;var prepatch_text=text1;var postpatch_text=text1;for(var x=0;x<diffs.length;x++){var diff_type=diffs[x][0];var diff_text=diffs[x][1];if(!patchDiffLength&&diff_type!==DIFF_EQUAL){patch.start1=\nchar_count1;patch.start2=char_count2}switch(diff_type){case DIFF_INSERT:patch.diffs[patchDiffLength++]=diffs[x];patch.length2+=diff_text.length;postpatch_text=postpatch_text.substring(0,char_count2)+diff_text+postpatch_text.substring(char_count2);break;case DIFF_DELETE:patch.length1+=diff_text.length;patch.diffs[patchDiffLength++]=diffs[x];postpatch_text=postpatch_text.substring(0,char_count2)+postpatch_text.substring(char_count2+diff_text.length);break;case DIFF_EQUAL:if(diff_text.length<=2*this.Patch_Margin&&\npatchDiffLength&&diffs.length!=x+1){patch.diffs[patchDiffLength++]=diffs[x];patch.length1+=diff_text.length;patch.length2+=diff_text.length}else if(diff_text.length>=2*this.Patch_Margin)if(patchDiffLength){this.patch_addContext_(patch,prepatch_text);patches.push(patch);patch=new diff_match_patch.patch_obj;patchDiffLength=0;prepatch_text=postpatch_text;char_count1=char_count2}break}if(diff_type!==DIFF_INSERT)char_count1+=diff_text.length;if(diff_type!==DIFF_DELETE)char_count2+=diff_text.length}if(patchDiffLength){this.patch_addContext_(patch,\nprepatch_text);patches.push(patch)}return patches};diff_match_patch.prototype.patch_deepCopy=function(patches){var patchesCopy=[];for(var x=0;x<patches.length;x++){var patch=patches[x];var patchCopy=new diff_match_patch.patch_obj;patchCopy.diffs=[];for(var y=0;y<patch.diffs.length;y++)patchCopy.diffs[y]={0:patch.diffs[y][0],1:patch.diffs[y][1]};patchCopy.start1=patch.start1;patchCopy.start2=patch.start2;patchCopy.length1=patch.length1;patchCopy.length2=patch.length2;patchesCopy[x]=patchCopy}return patchesCopy};\ndiff_match_patch.prototype.patch_apply=function(patches,text){if(patches.length==0)return[text,[]];patches=this.patch_deepCopy(patches);var nullPadding=this.patch_addPadding(patches);text=nullPadding+text+nullPadding;this.patch_splitMax(patches);var delta=0;var results=[];for(var x=0;x<patches.length;x++){var expected_loc=patches[x].start2+delta;var text1=this.diff_text1(patches[x].diffs);var start_loc;var end_loc=-1;if(text1.length>this.Match_MaxBits){start_loc=this.match_main(text,text1.substring(0,\nthis.Match_MaxBits),expected_loc);if(start_loc!=-1){end_loc=this.match_main(text,text1.substring(text1.length-this.Match_MaxBits),expected_loc+text1.length-this.Match_MaxBits);if(end_loc==-1||start_loc>=end_loc)start_loc=-1}}else start_loc=this.match_main(text,text1,expected_loc);if(start_loc==-1){results[x]=false;delta-=patches[x].length2-patches[x].length1}else{results[x]=true;delta=start_loc-expected_loc;var text2;if(end_loc==-1)text2=text.substring(start_loc,start_loc+text1.length);else text2=\ntext.substring(start_loc,end_loc+this.Match_MaxBits);if(text1==text2)text=text.substring(0,start_loc)+this.diff_text2(patches[x].diffs)+text.substring(start_loc+text1.length);else{var diffs=this.diff_main(text1,text2,false);if(text1.length>this.Match_MaxBits&&this.diff_levenshtein(diffs)/text1.length>this.Patch_DeleteThreshold)results[x]=false;else{this.diff_cleanupSemanticLossless(diffs);var index1=0;var index2;for(var y=0;y<patches[x].diffs.length;y++){var mod=patches[x].diffs[y];if(mod[0]!==DIFF_EQUAL)index2=\nthis.diff_xIndex(diffs,index1);if(mod[0]===DIFF_INSERT)text=text.substring(0,start_loc+index2)+mod[1]+text.substring(start_loc+index2);else if(mod[0]===DIFF_DELETE)text=text.substring(0,start_loc+index2)+text.substring(start_loc+this.diff_xIndex(diffs,index1+mod[1].length));if(mod[0]!==DIFF_DELETE)index1+=mod[1].length}}}}}text=text.substring(nullPadding.length,text.length-nullPadding.length);return[text,results]};\ndiff_match_patch.prototype.patch_addPadding=function(patches){var paddingLength=this.Patch_Margin;var nullPadding="";for(var x=1;x<=paddingLength;x++)nullPadding+=String.fromCharCode(x);for(var x=0;x<patches.length;x++){patches[x].start1+=paddingLength;patches[x].start2+=paddingLength}var patch=patches[0];var diffs=patch.diffs;if(diffs.length==0||diffs[0][0]!=DIFF_EQUAL){diffs.unshift([DIFF_EQUAL,nullPadding]);patch.start1-=paddingLength;patch.start2-=paddingLength;patch.length1+=paddingLength;patch.length2+=\npaddingLength}else if(paddingLength>diffs[0][1].length){var extraLength=paddingLength-diffs[0][1].length;diffs[0][1]=nullPadding.substring(diffs[0][1].length)+diffs[0][1];patch.start1-=extraLength;patch.start2-=extraLength;patch.length1+=extraLength;patch.length2+=extraLength}patch=patches[patches.length-1];diffs=patch.diffs;if(diffs.length==0||diffs[diffs.length-1][0]!=DIFF_EQUAL){diffs.push([DIFF_EQUAL,nullPadding]);patch.length1+=paddingLength;patch.length2+=paddingLength}else if(paddingLength>\ndiffs[diffs.length-1][1].length){var extraLength=paddingLength-diffs[diffs.length-1][1].length;diffs[diffs.length-1][1]+=nullPadding.substring(0,extraLength);patch.length1+=extraLength;patch.length2+=extraLength}return nullPadding};\ndiff_match_patch.prototype.patch_splitMax=function(patches){var patch_size=this.Match_MaxBits;for(var x=0;x<patches.length;x++){if(patches[x].length1<=patch_size)continue;var bigpatch=patches[x];patches.splice(x--,1);var start1=bigpatch.start1;var start2=bigpatch.start2;var precontext="";while(bigpatch.diffs.length!==0){var patch=new diff_match_patch.patch_obj;var empty=true;patch.start1=start1-precontext.length;patch.start2=start2-precontext.length;if(precontext!==""){patch.length1=patch.length2=\nprecontext.length;patch.diffs.push([DIFF_EQUAL,precontext])}while(bigpatch.diffs.length!==0&&patch.length1<patch_size-this.Patch_Margin){var diff_type=bigpatch.diffs[0][0];var diff_text=bigpatch.diffs[0][1];if(diff_type===DIFF_INSERT){patch.length2+=diff_text.length;start2+=diff_text.length;patch.diffs.push(bigpatch.diffs.shift());empty=false}else if(diff_type===DIFF_DELETE&&patch.diffs.length==1&&patch.diffs[0][0]==DIFF_EQUAL&&diff_text.length>2*patch_size){patch.length1+=diff_text.length;start1+=\ndiff_text.length;empty=false;patch.diffs.push([diff_type,diff_text]);bigpatch.diffs.shift()}else{diff_text=diff_text.substring(0,patch_size-patch.length1-this.Patch_Margin);patch.length1+=diff_text.length;start1+=diff_text.length;if(diff_type===DIFF_EQUAL){patch.length2+=diff_text.length;start2+=diff_text.length}else empty=false;patch.diffs.push([diff_type,diff_text]);if(diff_text==bigpatch.diffs[0][1])bigpatch.diffs.shift();else bigpatch.diffs[0][1]=bigpatch.diffs[0][1].substring(diff_text.length)}}precontext=\nthis.diff_text2(patch.diffs);precontext=precontext.substring(precontext.length-this.Patch_Margin);var postcontext=this.diff_text1(bigpatch.diffs).substring(0,this.Patch_Margin);if(postcontext!==""){patch.length1+=postcontext.length;patch.length2+=postcontext.length;if(patch.diffs.length!==0&&patch.diffs[patch.diffs.length-1][0]===DIFF_EQUAL)patch.diffs[patch.diffs.length-1][1]+=postcontext;else patch.diffs.push([DIFF_EQUAL,postcontext])}if(!empty)patches.splice(++x,0,patch)}}};\ndiff_match_patch.prototype.patch_toText=function(patches){var text=[];for(var x=0;x<patches.length;x++)text[x]=patches[x];return text.join("")};\ndiff_match_patch.prototype.patch_fromText=function(textline){var patches=[];if(!textline)return patches;var text=textline.split("\\n");var textPointer=0;var patchHeader=/^@@ -(\\d+),?(\\d*) \\+(\\d+),?(\\d*) @@$/;while(textPointer<text.length){var m=text[textPointer].match(patchHeader);if(!m)throw new Error("Invalid patch string: "+text[textPointer]);var patch=new diff_match_patch.patch_obj;patches.push(patch);patch.start1=parseInt(m[1],10);if(m[2]===""){patch.start1--;patch.length1=1}else if(m[2]=="0")patch.length1=\n0;else{patch.start1--;patch.length1=parseInt(m[2],10)}patch.start2=parseInt(m[3],10);if(m[4]===""){patch.start2--;patch.length2=1}else if(m[4]=="0")patch.length2=0;else{patch.start2--;patch.length2=parseInt(m[4],10)}textPointer++;while(textPointer<text.length){var sign=text[textPointer].charAt(0);try{var line=decodeURI(text[textPointer].substring(1))}catch(ex){throw new Error("Illegal escape in patch_fromText: "+line);}if(sign=="-")patch.diffs.push([DIFF_DELETE,line]);else if(sign=="+")patch.diffs.push([DIFF_INSERT,\nline]);else if(sign==" ")patch.diffs.push([DIFF_EQUAL,line]);else if(sign=="@")break;else if(sign==="");else throw new Error(\'Invalid patch mode "\'+sign+\'" in: \'+line);textPointer++}}return patches};diff_match_patch.patch_obj=function(){this.diffs=[];this.start1=null;this.start2=null;this.length1=0;this.length2=0};\ndiff_match_patch.patch_obj.prototype.toString=function(){var coords1,coords2;if(this.length1===0)coords1=this.start1+",0";else if(this.length1==1)coords1=this.start1+1;else coords1=this.start1+1+","+this.length1;if(this.length2===0)coords2=this.start2+",0";else if(this.length2==1)coords2=this.start2+1;else coords2=this.start2+1+","+this.length2;var text=["@@ -"+coords1+" +"+coords2+" @@\\n"];var op;for(var x=0;x<this.diffs.length;x++){switch(this.diffs[x][0]){case DIFF_INSERT:op="+";break;case DIFF_DELETE:op=\n"-";break;case DIFF_EQUAL:op=" ";break}text[x+1]=op+encodeURI(this.diffs[x][1])+"\\n"}return text.join("").replace(/%20/g," ")};this["diff_match_patch"]=diff_match_patch;this["DIFF_DELETE"]=DIFF_DELETE;this["DIFF_INSERT"]=DIFF_INSERT;this["DIFF_EQUAL"]=DIFF_EQUAL;(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror","diff_match_patch"],mod);else mod(CodeMirror)})(function(CodeMirror){var Pos=CodeMirror.Pos;var svgNS="http://www.w3.org/2000/svg";var DiffType={DIFF_EQUAL:0,DIFF_INSERT:1,DIFF_DELETE:-1,DIFF_CHANGED:2,DIFF_MOVED_IN:3,DIFF_MOVED_OUT:4,DIFF_MOVED_CHANGED:5,DIFF_MOVED_CHANGED_OUT:6};CodeMirror.DiffChunk=function(type,lhsStart,\nlhsEnd,rhsStart,rhsEnd,opt_chunks){this.type=type;this.lhsStart=lhsStart;this.lhsEnd=lhsEnd;this.rhsStart=rhsStart;this.rhsEnd=rhsEnd;this.chunks=opt_chunks?opt_chunks:[]};var DiffChunk=CodeMirror.DiffChunk;var LEFT_CLASSES={chunk:"CodeMirror-merge-l-chunk",start:"CodeMirror-merge-l-chunk-start",end:"CodeMirror-merge-l-chunk-end",insert:"CodeMirror-merge-l-inserted",del:"CodeMirror-merge-l-deleted",connect:"CodeMirror-merge-l-connect",movedChunk:"CodeMirror-merge-l-chunk-moved",classLocation:"background"};\nvar RIGHT_CLASSES={chunk:"CodeMirror-merge-r-chunk",start:"CodeMirror-merge-r-chunk-start",end:"CodeMirror-merge-r-chunk-end",insert:"CodeMirror-merge-r-inserted",del:"CodeMirror-merge-r-deleted",connect:"CodeMirror-merge-r-connect",movedChunk:"CodeMirror-merge-r-chunk-moved",classLocation:"background"};function DiffView(mv,type){this.mv=mv;this.type=type;this.classes=type=="left"?LEFT_CLASSES:RIGHT_CLASSES}DiffView.prototype={constructor:DiffView,init:function(pane,orig,options){this.edit=this.mv.edit;\n(this.edit.state.diffViews||(this.edit.state.diffViews=[])).push(this);this.orig=CodeMirror(pane,copyObj({value:orig,readOnly:!this.mv.options.allowEditingOriginals},copyObj(options)));this.orig.state.diffViews=[this];var classLocation=options.chunkClassLocation||"background";if(Object.prototype.toString.call(classLocation)!="[object Array]")classLocation=[classLocation];this.classes.classLocation=classLocation;if(options.getDiff)this.getDiff=options.getDiff;this.diff=this.getDiff(asString(orig),\nasString(options.value));this.chunks=getChunks(this.diff);this.diffOutOfDate=this.dealigned=false;this.needsScrollSync=null;this.showDifferences=options.showDifferences!==false},registerEvents:function(){this.forceUpdate=registerUpdate(this);setScrollLock(this,true,false);registerScroll(this)},setShowDifferences:function(val){val=val!==false;if(val!=this.showDifferences){this.showDifferences=val;this.forceUpdate("full")}}};function ensureDiff(dv){if(dv.diffOutOfDate){dv.diff=dv.getDiff(dv.orig.getValue(),\ndv.edit.getValue());dv.chunks=getChunks(dv.diff);dv.diffOutOfDate=false;CodeMirror.signal(dv.edit,"updateDiff",dv.diff)}}var updating=false;function registerUpdate(dv){var edit={from:0,to:0,marked:[]};var orig={from:0,to:0,marked:[]};var debounceChange,updatingFast=false;function update(mode){updating=true;updatingFast=false;if(mode=="full"){if(dv.svg)clear(dv.svg);if(dv.copyButtons)clear(dv.copyButtons);clearMarks(dv.edit,edit.marked,dv.classes);clearMarks(dv.orig,orig.marked,dv.classes);edit.from=\nedit.to=orig.from=orig.to=0}ensureDiff(dv);if(dv.showDifferences){updateMarks(dv.edit,dv.diff,edit,DiffType.DIFF_INSERT,dv.classes);updateMarks(dv.orig,dv.diff,orig,DiffType.DIFF_DELETE,dv.classes)}if(dv.mv.options.connect=="align")alignChunks(dv);makeConnections(dv);if(dv.needsScrollSync!=null)syncScroll(dv,dv.needsScrollSync);updating=false}function setDealign(fast){if(updating)return;dv.dealigned=true;set(fast)}function set(fast){if(updating||updatingFast)return;clearTimeout(debounceChange);if(fast===\ntrue)updatingFast=true;debounceChange=setTimeout(update,fast===true?20:30)}function change(_cm,change){if(!dv.diffOutOfDate){dv.diffOutOfDate=true;edit.from=edit.to=orig.from=orig.to=0}setDealign(change.text.length-1!=change.to.line-change.from.line)}function swapDoc(){dv.diffOutOfDate=true;update("full")}dv.edit.on("change",change);dv.orig.on("change",change);dv.edit.on("swapDoc",swapDoc);dv.orig.on("swapDoc",swapDoc);dv.edit.on("markerAdded",setDealign);dv.edit.on("markerCleared",setDealign);dv.orig.on("markerAdded",\nsetDealign);dv.orig.on("markerCleared",setDealign);dv.edit.on("viewportChange",function(){set(false)});dv.orig.on("viewportChange",function(){set(false)});update();return update}function registerScroll(dv){dv.edit.on("scroll",function(){syncScroll(dv,true)&&makeConnections(dv)});dv.orig.on("scroll",function(){syncScroll(dv,false)&&makeConnections(dv)})}function syncScroll(dv,toOrig){if(dv.diffOutOfDate){if(dv.lockScroll&&dv.needsScrollSync==null)dv.needsScrollSync=toOrig;return false}dv.needsScrollSync=\nnull;if(!dv.lockScroll)return true;var editor,other,now=+new Date;if(toOrig){editor=dv.edit;other=dv.orig}else{editor=dv.orig;other=dv.edit}if(editor.state.scrollSetBy==dv&&(editor.state.scrollSetAt||0)+50>now)return false;var sInfo=editor.getScrollInfo();var topOffset=editor.getWrapperElement().offsetTop-other.getWrapperElement().offsetTop;if(dv.mv.options.connect=="align")targetPos=sInfo.top;else{var halfScreen=.5*sInfo.clientHeight,midY=sInfo.top+halfScreen;var mid=editor.lineAtHeight(midY,"local");\nvar around=chunkBoundariesAround(dv.chunks,mid,toOrig);var off=getOffsets(editor,toOrig?around.edit:around.orig);var offOther=getOffsets(other,toOrig?around.orig:around.edit);var ratio=(midY-off.top)/(off.bot-off.top);var targetPos=offOther.top-halfScreen+ratio*(offOther.bot-offOther.top);var botDist,mix;if(targetPos>sInfo.top&&(mix=sInfo.top/halfScreen)<1)targetPos=targetPos*mix+sInfo.top*(1-mix);else if((botDist=sInfo.height-sInfo.clientHeight-sInfo.top)<halfScreen){var otherInfo=other.getScrollInfo();\nvar botDistOther=otherInfo.height-otherInfo.clientHeight-targetPos;if(botDistOther>botDist&&(mix=botDist/halfScreen)<1)targetPos=targetPos*mix+(otherInfo.height-otherInfo.clientHeight-botDist)*(1-mix)}}other.scrollTo(sInfo.left,targetPos-topOffset);other.state.scrollSetAt=now;other.state.scrollSetBy=dv;return true}function getOffsets(editor,around){var bot=around.after;if(bot==null)bot=editor.lastLine()+1;return{top:editor.heightAtLine(around.before||0,"local"),bot:editor.heightAtLine(bot,"local")}}\nfunction setScrollLock(dv,val,action){dv.lockScroll=val;if(val&&action!=false)syncScroll(dv,DiffType.DIFF_INSERT)&&makeConnections(dv);dv.lockButton.textContent=val?"\\u21db\\u21da":"\\u21db\\u00a0\\u00a0\\u21da"}function removeClass(editor,line,classes){var locs=classes.classLocation;for(var i=0;i<locs.length;i++){editor.removeLineClass(line,locs[i],classes.chunk);editor.removeLineClass(line,locs[i],classes.start);editor.removeLineClass(line,locs[i],classes.end);editor.removeLineClass(line,locs[i],classes.movedChunk)}}\nfunction clearMarks(editor,arr,classes){for(var i=0;i<arr.length;++i){var mark=arr[i];if(mark instanceof CodeMirror.TextMarker)mark.clear();else if(mark.parent)removeClass(editor,mark,classes)}arr.length=0}function updateMarks(editor,diff,state,type,classes){var vp=editor.getViewport();editor.operation(function(){if(state.from==state.to||vp.from-state.to>20||state.from-vp.to>20){clearMarks(editor,state.marked,classes);markChanges(editor,diff,type,state.marked,vp.from,vp.to,classes);state.from=vp.from;\nstate.to=vp.to}else{if(vp.from<state.from){markChanges(editor,diff,type,state.marked,vp.from,state.from,classes);state.from=vp.from}if(vp.to>state.to){markChanges(editor,diff,type,state.marked,state.to,vp.to,classes);state.to=vp.to}}})}function addClass(editor,lineNr,classes,main,start,end,opt_moved){var locs=classes.classLocation,line=editor.getLineHandle(lineNr);for(var i=0;i<locs.length;i++){if(main)editor.addLineClass(line,locs[i],opt_moved?classes.movedChunk:classes.chunk);if(start)editor.addLineClass(line,\nlocs[i],classes.start);if(end)editor.addLineClass(line,locs[i],classes.end)}return line}function markChanges(editor,diff,type,marks,from,to,classes){var pos=Pos(0,0);var top=Pos(from,0),bot=editor.clipPos(Pos(to-1));var cls=type==DiffType.DIFF_DELETE?classes.del:classes.insert;function markChunk(start,end,opt_moved){var bfrom=Math.max(from,start),bto=Math.min(to,end);for(var i=bfrom;i<bto;++i)marks.push(addClass(editor,i,classes,true,i==start,i==end-1,opt_moved));if(start==end&&bfrom==end&&bto==end)if(bfrom)marks.push(addClass(editor,\nbfrom-1,classes,false,false,true));else marks.push(addClass(editor,bfrom,classes,false,true,false))}var chunkStart=0,chunkEnd=0;var moveLineWidgetOptions={coverGutter:true};for(var i=0;i<diff.length;++i){var part=diff[i],diffType=part.type;if(diffType==DiffType.DIFF_MOVED_OUT||diffType==DiffType.DIFF_MOVED_CHANGED_OUT)continue;var msg=document.createElement("div");msg.className="Codemirror-moved-msg";var move=false;switch(type){case DiffType.DIFF_DELETE:if(diffType==DiffType.DIFF_MOVED_IN||diffType==\nDiffType.DIFF_MOVED_CHANGED){move=true;if(from<=part.lhsStart.line-1&&to>part.lhsStart.line-1){msg.appendChild(document.createTextNode("Lines "+(part.lhsStart.line+1)+"-"+(part.lhsEnd.line+1)+" moved to "+(part.rhsStart.line+1)+"-"+(part.rhsEnd.line+1)));var lineWidget=editor.addLineWidget(part.lhsStart.line-1,msg,moveLineWidgetOptions);marks.push(lineWidget)}}if(diffType==DiffType.DIFF_INSERT)chunkStart=chunkEnd;else{chunkStart=part.lhsStart.line;chunkEnd=part.lhsEnd.line+1}break;case DiffType.DIFF_INSERT:if(diffType==\nDiffType.DIFF_MOVED_IN||diffType==DiffType.DIFF_MOVED_CHANGED){move=true;if(from<=part.rhsStart.line-1&&to>part.rhsStart.line-1){msg.appendChild(document.createTextNode("Lines "+(part.rhsStart.line+1)+"-"+(part.rhsEnd.line+1)+" moved from "+(part.lhsStart.line+1)+"-"+(part.lhsEnd.line+1)));var lineWidget=editor.addLineWidget(part.rhsStart.line-1,msg,moveLineWidgetOptions);marks.push(lineWidget)}}if(diffType==DiffType.DIFF_DELETE)chunkStart=chunkEnd;else{chunkStart=part.rhsStart.line;chunkEnd=part.rhsEnd.line+\n1}break}switch(diffType){case DiffType.DIFF_EQUAL:break;case DiffType.DIFF_CHANGED:case DiffType.DIFF_MOVED_CHANGED:for(var j=0;j<part.chunks.length;j++){var subChunk=part.chunks[j];if(subChunk.type==DiffType.DIFF_EQUAL)continue;var start,end;switch(type){case DiffType.DIFF_DELETE:start=subChunk.lhsStart;end=subChunk.lhsEnd;break;case DiffType.DIFF_INSERT:start=subChunk.rhsStart;end=subChunk.rhsEnd;break}if(start!=null&&end!=null&&!posEq(start,end))marks.push(editor.markText(start,end,{className:cls}))}case DiffType.DIFF_INSERT:case DiffType.DIFF_DELETE:case DiffType.DIFF_MOVED_IN:markChunk(chunkStart,\nchunkEnd,move);marks.push(editor.markText(new CodeMirror.Pos(chunkStart,0),new CodeMirror.Pos(chunkEnd,0),{className:cls}));break}}}function makeConnections(dv){if(!dv.showDifferences)return;if(dv.svg){clear(dv.svg);var w=dv.gap.offsetWidth;dv.svg.setAttribute("width",w);dv.svg.setAttribute("height",dv.gap.offsetHeight)}if(dv.copyButtons)clear(dv.copyButtons);var vpEdit=dv.edit.getViewport(),vpOrig=dv.orig.getViewport();var outerTop=dv.mv.wrap.getBoundingClientRect().top;var sTopEdit=outerTop-dv.edit.getScrollerElement().getBoundingClientRect().top+\ndv.edit.getScrollInfo().top;var sTopOrig=outerTop-dv.orig.getScrollerElement().getBoundingClientRect().top+dv.orig.getScrollInfo().top;for(var i=0;i<dv.chunks.length;i++){var ch=dv.chunks[i];if(ch.editFrom<=vpEdit.to&&ch.editTo>=vpEdit.from&&ch.origFrom<=vpOrig.to&&ch.origTo>=vpOrig.from)drawConnectorsForChunk(dv,ch,sTopOrig,sTopEdit,w)}}function getMatchingOrigLine(editLine,chunks){var editStart=0,origStart=0;for(var i=0;i<chunks.length;i++){var chunk=chunks[i];if(chunk.editTo>editLine&&chunk.editFrom<=\neditLine)return null;if(chunk.editFrom>editLine)break;editStart=chunk.editTo;origStart=chunk.origTo}return origStart+(editLine-editStart)}function findAlignedLines(dv,other){var linesToAlign=[];for(var i=0;i<dv.chunks.length;i++){var chunk=dv.chunks[i];linesToAlign.push([chunk.origTo,chunk.editTo,other?getMatchingOrigLine(chunk.editTo,other.chunks):null])}if(other)chunkLoop:for(var i=0;i<other.chunks.length;i++){var chunk=other.chunks[i];for(var j=0;j<linesToAlign.length;j++){var diff=linesToAlign[j][1]-\nchunk.editTo;if(diff==0)continue chunkLoop;if(diff>0)break}linesToAlign.splice(j,0,[getMatchingOrigLine(chunk.editTo,dv.chunks),chunk.editTo,chunk.origTo])}return linesToAlign}function alignChunks(dv,force){if(!dv.dealigned&&!force)return;if(!dv.orig.curOp)return dv.orig.operation(function(){alignChunks(dv,force)});dv.dealigned=false;var other=dv.mv.left==dv?dv.mv.right:dv.mv.left;if(other){ensureDiff(other);other.dealigned=false}var linesToAlign=findAlignedLines(dv,other);var aligners=dv.mv.aligners;\nfor(var i=0;i<aligners.length;i++)aligners[i].clear();aligners.length=0;var cm=[dv.orig,dv.edit],scroll=[];if(other)cm.push(other.orig);for(var i=0;i<cm.length;i++)scroll.push(cm[i].getScrollInfo().top);for(var ln=0;ln<linesToAlign.length;ln++)alignLines(cm,linesToAlign[ln],aligners);for(var i=0;i<cm.length;i++)cm[i].scrollTo(null,scroll[i])}function alignLines(cm,lines,aligners){var maxOffset=0,offset=[];for(var i=0;i<cm.length;i++)if(lines[i]!=null){var off=cm[i].heightAtLine(lines[i],"local");\noffset[i]=off;maxOffset=Math.max(maxOffset,off)}for(var i=0;i<cm.length;i++)if(lines[i]!=null){var diff=maxOffset-offset[i];if(diff>1)aligners.push(padAbove(cm[i],lines[i],diff))}}function padAbove(cm,line,size){var above=true;if(line>cm.lastLine()){line--;above=false}var elt=document.createElement("div");elt.className="CodeMirror-merge-spacer";elt.style.height=size+"px";elt.style.minWidth="1px";return cm.addLineWidget(line,elt,{height:size,above:above})}function drawConnectorsForChunk(dv,chunk,sTopOrig,\nsTopEdit,w){var flip=dv.type=="left";var top=dv.orig.heightAtLine(chunk.origFrom,"local",true)-sTopOrig;if(dv.svg){var topLpx=top;var topRpx=dv.edit.heightAtLine(chunk.editFrom,"local",true)-sTopEdit;if(flip){var tmp=topLpx;topLpx=topRpx;topRpx=tmp}var botLpx=dv.orig.heightAtLine(chunk.origTo,"local",true)-sTopOrig;var botRpx=dv.edit.heightAtLine(chunk.editTo,"local",true)-sTopEdit;if(flip){var tmp=botLpx;botLpx=botRpx;botRpx=tmp}var curveTop=" C "+w/2+" "+topRpx+" "+w/2+" "+topLpx+" "+(w+2)+" "+\ntopLpx;var curveBot=" C "+w/2+" "+botLpx+" "+w/2+" "+botRpx+" -1 "+botRpx;var path=dv.svg.appendChild(document.createElementNS(svgNS,"path"));path.setAttribute("d","M -1 "+topRpx+curveTop+" L "+(w+2)+" "+botLpx+curveBot+" z");path.setAttribute("class",dv.classes.connect)}if(dv.copyButtons){var copy=dv.copyButtons.appendChild(elt("div",dv.type=="left"?"\\u27a1":"\\u2b05","CodeMirror-merge-copy"));var editOriginals=dv.mv.options.allowEditingOriginals;copy.title=editOriginals?"Push to left":"Revert chunk";\ncopy.chunk=chunk;copy.style.top=(chunk.origTo>chunk.origFrom?top:dv.edit.heightAtLine(chunk.editFrom,"local")-sTopEdit)+"px";if(editOriginals){var topReverse=dv.edit.heightAtLine(chunk.editFrom,"local")-sTopEdit;var copyReverse=dv.copyButtons.appendChild(elt("div",dv.type=="right"?"\\u27a1":"\\u2b05","CodeMirror-merge-copy-reverse"));copyReverse.title="Push to right";copyReverse.chunk={editFrom:chunk.origFrom,editTo:chunk.origTo,origFrom:chunk.editFrom,origTo:chunk.editTo};copyReverse.style.top=topReverse+\n"px";dv.type=="right"?copyReverse.style.left="2px":copyReverse.style.right="2px"}}}function copyChunk(dv,to,from,chunk){if(dv.diffOutOfDate)return;var origStart=chunk.origTo>from.lastLine()?Pos(chunk.origFrom-1):Pos(chunk.origFrom,0);var origEnd=Pos(chunk.origTo,0);var editStart=chunk.editTo>to.lastLine()?Pos(chunk.editFrom-1):Pos(chunk.editFrom,0);var editEnd=Pos(chunk.editTo,0);var handler=dv.mv.options.revertChunk;if(handler)handler(dv.mv,from,origStart,origEnd,to,editStart,editEnd);else to.replaceRange(from.getRange(origStart,\norigEnd),editStart,editEnd)}var MergeView=CodeMirror.MergeView=function(node,options){if(!(this instanceof MergeView))return new MergeView(node,options);this.options=options;var origLeft=options.origLeft,origRight=options.origRight==null?options.orig:options.origRight;var hasLeft=origLeft!=null,hasRight=origRight!=null;var panes=1+(hasLeft?1:0)+(hasRight?1:0);var wrap=[],left=this.left=null,right=this.right=null;var self=this;if(hasLeft){left=this.left=new DiffView(this,"left");var leftPane=elt("div",\nnull,"CodeMirror-merge-pane CodeMirror-merge-left");wrap.push(leftPane);wrap.push(buildGap(left))}var editPane=elt("div",null,"CodeMirror-merge-pane CodeMirror-merge-editor");wrap.push(editPane);if(hasRight){right=this.right=new DiffView(this,"right");wrap.push(buildGap(right));var rightPane=elt("div",null,"CodeMirror-merge-pane CodeMirror-merge-right");wrap.push(rightPane)}(hasRight?rightPane:editPane).className+=" CodeMirror-merge-pane-rightmost";wrap.push(elt("div",null,null,"height: 0; clear: both;"));\nvar wrapElt=this.wrap=node.appendChild(elt("div",wrap,"CodeMirror-merge CodeMirror-merge-"+panes+"pane"));this.edit=CodeMirror(editPane,copyObj(options));if(left)left.init(leftPane,origLeft,options);if(right)right.init(rightPane,origRight,options);if(options.collapseIdentical)this.editor().operation(function(){collapseIdenticalStretches(self,options.collapseIdentical)});if(options.connect=="align"){this.aligners=[];alignChunks(this.left||this.right,true)}if(left)left.registerEvents();if(right)right.registerEvents();\nif(options.diffHighlightBase!==undefined){if(left)initDiffHighlightBase(options.diffHighlightBase,left.orig,options);if(right)initDiffHighlightBase(options.diffHighlightBase,right.orig,options);initDiffHighlightBase(options.diffHighlightBase,this.edit,options)}var onResize=function(){if(left)makeConnections(left);if(right)makeConnections(right)};CodeMirror.on(window,"resize",onResize);var resizeInterval=setInterval(function(){for(var p=wrapElt.parentNode;p&&p!=document.body;p=p.parentNode);if(!p){clearInterval(resizeInterval);\nCodeMirror.off(window,"resize",onResize)}},5E3)};function buildGap(dv){var lock=dv.lockButton=elt("div",null,"CodeMirror-merge-scrolllock");lock.title="Toggle locked scrolling";var lockWrap=elt("div",[lock],"CodeMirror-merge-scrolllock-wrap");CodeMirror.on(lock,"click",function(){setScrollLock(dv,!dv.lockScroll)});var gapElts=[lockWrap];if(dv.mv.options.revertButtons!==false){dv.copyButtons=elt("div",null,"CodeMirror-merge-copybuttons-"+dv.type);CodeMirror.on(dv.copyButtons,"click",function(e){var node=\ne.target||e.srcElement;if(!node.chunk)return;if(node.className=="CodeMirror-merge-copy-reverse"){copyChunk(dv,dv.orig,dv.edit,node.chunk);return}copyChunk(dv,dv.edit,dv.orig,node.chunk)});gapElts.unshift(dv.copyButtons)}if(dv.mv.options.connect!="align"){var svg=document.createElementNS&&document.createElementNS(svgNS,"svg");if(svg&&!svg.createSVGRect)svg=null;dv.svg=svg;if(svg)gapElts.push(svg)}return dv.gap=elt("div",gapElts,"CodeMirror-merge-gap")}MergeView.prototype={constructor:MergeView,editor:function(){return this.edit},\nrightOriginal:function(){return this.right&&this.right.orig},leftOriginal:function(){return this.left&&this.left.orig},setShowDifferences:function(val){if(this.right)this.right.setShowDifferences(val);if(this.left)this.left.setShowDifferences(val)},rightChunks:function(){if(this.right){ensureDiff(this.right);return this.right.chunks}},leftChunks:function(){if(this.left){ensureDiff(this.left);return this.left.chunks}}};function asString(obj){if(typeof obj=="string")return obj;else return obj.getValue()}\nfunction convertToDiffChunk(diff){var startEdit=0,startOrig=0;var newdiff=[];var edit=Pos(0,0),orig=Pos(0,0);var subchunks=[];for(var i=0;i<diff.length;++i){var part=diff[i],diffType=part[0];if(diffType==DiffType.DIFF_EQUAL){var startOff=startOfLineClean(diff,i)?0:1;var cleanFromEdit=edit.line+startOff,cleanFromOrig=orig.line+startOff;moveOver(edit,part[1],null,orig);var endOff=endOfLineClean(diff,i)?1:0;var cleanToEdit=edit.line+endOff,cleanToOrig=orig.line+endOff;if(cleanToEdit>cleanFromEdit){if(i){diffChunk=\nnew DiffChunk(DiffType.DIFF_CHANGED,Pos(startOrig,null),Pos(cleanFromOrig-1,null),Pos(startEdit,null),Pos(cleanFromEdit-1,null),subchunks);newdiff.push(diffChunk);subchunks=[]}startEdit=cleanToEdit;startOrig=cleanToOrig}}else{var beg=clonePos(diffType==DiffType.DIFF_INSERT?edit:orig);var end=moveOver(diffType==DiffType.DIFF_INSERT?edit:orig,part[1]);if(diffType==DiffType.DIFF_INSERT)subchunks.push(new DiffChunk(diffType,null,null,beg,clonePos(end)));else subchunks.push(new DiffChunk(diffType,beg,\nclonePos(end),null,null))}}if(startEdit<=edit.line||startOrig<=orig.line){var diffChunk=new DiffChunk(DiffType.DIFF_CHANGED,Pos(startOrig,null),Pos(orig.line,orig.ch),Pos(startEdit,null),Pos(edit.line,edit.ch),subchunks);newdiff.push(diffChunk)}return newdiff}DiffView.prototype.getDiff=function(a,b){var dmp=new diff_match_patch;var diff=dmp.diff_main(a,b);dmp.diff_cleanupSemantic(diff);for(var i=0;i<diff.length;++i){var part=diff[i];if(!part[1])diff.splice(i--,1);else if(i&&diff[i-1][0]==part[0]){diff.splice(i--,\n1);diff[i][1]+=part[1]}}diff=convertToDiffChunk(diff);return diff};function getChunks(diff){var chunks=[];function f(origFrom,origTo,editFrom,editTo){chunks.push({origFrom:origFrom,origTo:origTo,editFrom:editFrom,editTo:editTo})}var startEdit=0,startOrig=0;for(var i=0;i<diff.length;++i){var part=diff[i],diffType=part.type;switch(diffType){case DiffType.DIFF_DELETE:f(part.lhsStart.line,part.lhsEnd.line+1,startEdit,startEdit);break;case DiffType.DIFF_INSERT:f(startOrig,startOrig,part.rhsStart.line,\npart.rhsEnd.line+1);break;case DiffType.DIFF_CHANGED:f(part.lhsStart.line,part.lhsEnd.line+1,part.rhsStart.line,part.rhsEnd.line+1);startEdit=part.rhsEnd.line+1;startOrig=part.lhsEnd.line+1;break;case DiffType.DIFF_EQUAL:startEdit=part.rhsEnd.line+1;startOrig=part.lhsEnd.line+1;break;case DiffType.DIFF_MOVED_OUT:case DiffType.DIFF_MOVED_CHANGED_OUT:startOrig=part.lhsEnd.line+1;case DiffType.DIFF_MOVED_IN:case DiffType.DIFF_MOVED_CHANGED:f(part.lhsStart.line,part.lhsEnd.line+1,part.rhsStart.line,part.rhsEnd.line+\n1);startEdit=part.rhsEnd.line+1;break}}return chunks}function endOfLineClean(diff,i){if(i==diff.length-1)return true;var next=diff[i+1][1];if(next.length==1||next.charCodeAt(0)!=10)return false;if(i==diff.length-2)return true;next=diff[i+2][1];return next.length>1&&next.charCodeAt(0)==10}function startOfLineClean(diff,i){if(i==0)return true;var last=diff[i-1][1];if(last.charCodeAt(last.length-1)!=10)return false;if(i==1)return true;last=diff[i-2][1];return last.charCodeAt(last.length-1)==10}function chunkBoundariesAround(chunks,\nn,nInEdit){var beforeE,afterE,beforeO,afterO;for(var i=0;i<chunks.length;i++){var chunk=chunks[i];var fromLocal=nInEdit?chunk.editFrom:chunk.origFrom;var toLocal=nInEdit?chunk.editTo:chunk.origTo;if(afterE==null)if(fromLocal>n){afterE=chunk.editFrom;afterO=chunk.origFrom}else if(toLocal>n){afterE=chunk.editTo;afterO=chunk.origTo}if(toLocal<=n){beforeE=chunk.editTo;beforeO=chunk.origTo}else if(fromLocal<=n){beforeE=chunk.editFrom;beforeO=chunk.origFrom}}return{edit:{before:beforeE,after:afterE},orig:{before:beforeO,\nafter:afterO}}}function collapseSingle(cm,from,to){cm.addLineClass(from,"wrap","CodeMirror-merge-collapsed-line");var widget=document.createElement("span");widget.className="CodeMirror-merge-collapsed-widget";widget.title="Identical text collapsed. Click to expand.";var mark=cm.markText(Pos(from,0),Pos(to-1),{inclusiveLeft:true,inclusiveRight:true,replacedWith:widget,clearOnEnter:true});function clear(){mark.clear();cm.removeLineClass(from,"wrap","CodeMirror-merge-collapsed-line")}CodeMirror.on(widget,\n"click",clear);return{mark:mark,clear:clear}}function collapseStretch(size,editors){var marks=[];function clear(){for(var i=0;i<marks.length;i++)marks[i].clear()}for(var i=0;i<editors.length;i++){var editor=editors[i];var mark=collapseSingle(editor.cm,editor.line,editor.line+size);marks.push(mark);mark.mark.on("clear",clear)}return marks[0].mark}function unclearNearChunks(dv,margin,off,clear){for(var i=0;i<dv.chunks.length;i++){var chunk=dv.chunks[i];for(var l=chunk.editFrom-margin;l<chunk.editTo+\nmargin;l++){var pos=l+off;if(pos>=0&&pos<clear.length)clear[pos]=false}}}function collapseIdenticalStretches(mv,margin){if(typeof margin!="number")margin=2;var clear=[],edit=mv.editor(),off=edit.firstLine();for(var l=off,e=edit.lastLine();l<=e;l++)clear.push(true);if(mv.left)unclearNearChunks(mv.left,margin,off,clear);if(mv.right)unclearNearChunks(mv.right,margin,off,clear);for(var i=0;i<clear.length;i++)if(clear[i]){var line=i+off;for(var size=1;i<clear.length-1&&clear[i+1];i++,size++);if(size>margin){var editors=\n[{line:line,cm:edit}];if(mv.left)editors.push({line:getMatchingOrigLine(line,mv.left.chunks),cm:mv.left.orig});if(mv.right)editors.push({line:getMatchingOrigLine(line,mv.right.chunks),cm:mv.right.orig});var mark=collapseStretch(size,editors);if(mv.options.onCollapse)mv.options.onCollapse(mv,line,size,mark)}}}function elt(tag,content,className,style){var e=document.createElement(tag);if(className)e.className=className;if(style)e.style.cssText=style;if(typeof content=="string")e.appendChild(document.createTextNode(content));\nelse if(content)for(var i=0;i<content.length;++i)e.appendChild(content[i]);return e}function clear(node){for(var count=node.childNodes.length;count>0;--count)node.removeChild(node.firstChild)}function copyObj(obj,target){if(!target)target={};for(var prop in obj)if(obj.hasOwnProperty(prop))target[prop]=obj[prop];return target}function moveOver(pos,str,copy,other){var out=copy?Pos(pos.line,pos.ch):pos,at=0;for(;;){var nl=str.indexOf("\\n",at);if(nl==-1)break;++out.line;if(other)++other.line;at=nl+1}out.ch=\n(at?0:out.ch)+(str.length-at);if(other)other.ch=(at?0:other.ch)+(str.length-at);return out}function posMin(a,b){return(a.line-b.line||a.ch-b.ch)<0?a:b}function posMax(a,b){return(a.line-b.line||a.ch-b.ch)>0?a:b}function posEq(a,b){return a.line==b.line&&a.ch==b.ch}function clonePos(a){return Pos(a.line,a.ch)}function findPrevDiff(chunks,start,isOrig){for(var i=chunks.length-1;i>=0;i--){var chunk=chunks[i];var to=(isOrig?chunk.origTo:chunk.editTo)-1;if(to<start)return to}}function findNextDiff(chunks,\nstart,isOrig){for(var i=0;i<chunks.length;i++){var chunk=chunks[i];var from=isOrig?chunk.origFrom:chunk.editFrom;if(from>start)return from}}function goNearbyDiff(cm,dir){var found=null,views=cm.state.diffViews,line=cm.getCursor().line;if(views)for(var i=0;i<views.length;i++){var dv=views[i],isOrig=cm==dv.orig;ensureDiff(dv);var pos=dir<0?findPrevDiff(dv.chunks,line,isOrig):findNextDiff(dv.chunks,line,isOrig);if(pos!=null&&(found==null||(dir<0?pos>found:pos<found)))found=pos}if(found!=null)cm.setCursor(found,\n0);else return CodeMirror.Pass}CodeMirror.commands.goNextDiff=function(cm){return goNearbyDiff(cm,1)};CodeMirror.commands.goPrevDiff=function(cm){return goNearbyDiff(cm,-1)};function initDiffHighlightBase(content,editor,options){var getDiff=options.getDiff||DiffView.prototype.getDiff;var state={from:0,to:0,marked:[]};var diff;function change(){diff=getDiff(content,editor.getValue());clearMarks(editor,state.marked,RIGHT_CLASSES);state={from:0,to:0,marked:[]};updateMarks(editor,diff,state,DiffType.DIFF_INSERT,\nRIGHT_CLASSES)}editor.on("changes",change);change()}});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){var Pos=CodeMirror.Pos;function regexpFlags(regexp){var flags=regexp.flags;return flags!=null?flags:(regexp.ignoreCase?"i":"")+(regexp.global?"g":"")+(regexp.multiline?"m":"")}function ensureFlags(regexp,flags){var current=regexpFlags(regexp),target=current;for(var i=0;i<\nflags.length;i++)if(target.indexOf(flags.charAt(i))==-1)target+=flags.charAt(i);return current==target?regexp:new RegExp(regexp.source,target)}function maybeMultiline(regexp){return/\\\\s|\\\\n|\\n|\\\\W|\\\\D|\\[\\^/.test(regexp.source)}function searchRegexpForward(doc,regexp,start){regexp=ensureFlags(regexp,"g");for(var line=start.line,ch=start.ch,last=doc.lastLine();line<=last;line++,ch=0){regexp.lastIndex=ch;var string=doc.getLine(line),match=regexp.exec(string);if(match)return{from:Pos(line,match.index),\nto:Pos(line,match.index+match[0].length),match:match}}}function searchRegexpForwardMultiline(doc,regexp,start){if(!maybeMultiline(regexp))return searchRegexpForward(doc,regexp,start);regexp=ensureFlags(regexp,"gm");var string,chunk=1;for(var line=start.line,last=doc.lastLine();line<=last;){for(var i=0;i<chunk;i++){if(line>last)break;var curLine=doc.getLine(line++);string=string==null?curLine:string+"\\n"+curLine}chunk=chunk*2;regexp.lastIndex=start.ch;var match=regexp.exec(string);if(match){var before=\nstring.slice(0,match.index).split("\\n"),inside=match[0].split("\\n");var startLine=start.line+before.length-1,startCh=before[before.length-1].length;return{from:Pos(startLine,startCh),to:Pos(startLine+inside.length-1,inside.length==1?startCh+inside[0].length:inside[inside.length-1].length),match:match}}}}function lastMatchIn(string,regexp,endMargin){var match,from=0;while(from<=string.length){regexp.lastIndex=from;var newMatch=regexp.exec(string);if(!newMatch)break;var end=newMatch.index+newMatch[0].length;\nif(end>string.length-endMargin)break;if(!match||end>match.index+match[0].length)match=newMatch;from=newMatch.index+1}return match}function searchRegexpBackward(doc,regexp,start){regexp=ensureFlags(regexp,"g");for(var line=start.line,ch=start.ch,first=doc.firstLine();line>=first;line--,ch=-1){var string=doc.getLine(line);var match=lastMatchIn(string,regexp,ch<0?0:string.length-ch);if(match)return{from:Pos(line,match.index),to:Pos(line,match.index+match[0].length),match:match}}}function searchRegexpBackwardMultiline(doc,\nregexp,start){if(!maybeMultiline(regexp))return searchRegexpBackward(doc,regexp,start);regexp=ensureFlags(regexp,"gm");var string,chunkSize=1,endMargin=doc.getLine(start.line).length-start.ch;for(var line=start.line,first=doc.firstLine();line>=first;){for(var i=0;i<chunkSize&&line>=first;i++){var curLine=doc.getLine(line--);string=string==null?curLine:curLine+"\\n"+string}chunkSize*=2;var match=lastMatchIn(string,regexp,endMargin);if(match){var before=string.slice(0,match.index).split("\\n"),inside=\nmatch[0].split("\\n");var startLine=line+before.length,startCh=before[before.length-1].length;return{from:Pos(startLine,startCh),to:Pos(startLine+inside.length-1,inside.length==1?startCh+inside[0].length:inside[inside.length-1].length),match:match}}}}var doFold,noFold;if(String.prototype.normalize){doFold=function(str){return str.normalize("NFD").toLowerCase()};noFold=function(str){return str.normalize("NFD")}}else{doFold=function(str){return str.toLowerCase()};noFold=function(str){return str}}function adjustPos(orig,\nfolded,pos,foldFunc){if(orig.length==folded.length)return pos;for(var min=0,max=pos+Math.max(0,orig.length-folded.length);;){if(min==max)return min;var mid=min+max>>1;var len=foldFunc(orig.slice(0,mid)).length;if(len==pos)return mid;else if(len>pos)max=mid;else min=mid+1}}function searchStringForward(doc,query,start,caseFold){if(!query.length)return null;var fold=caseFold?doFold:noFold;var lines=fold(query).split(/\\r|\\n\\r?/);search:for(var line=start.line,ch=start.ch,last=doc.lastLine()+1-lines.length;line<=\nlast;line++,ch=0){var orig=doc.getLine(line).slice(ch),string=fold(orig);if(lines.length==1){var found=string.indexOf(lines[0]);if(found==-1)continue search;var start=adjustPos(orig,string,found,fold)+ch;return{from:Pos(line,adjustPos(orig,string,found,fold)+ch),to:Pos(line,adjustPos(orig,string,found+lines[0].length,fold)+ch)}}else{var cutFrom=string.length-lines[0].length;if(string.slice(cutFrom)!=lines[0])continue search;for(var i=1;i<lines.length-1;i++)if(fold(doc.getLine(line+i))!=lines[i])continue search;\nvar end=doc.getLine(line+lines.length-1),endString=fold(end),lastLine=lines[lines.length-1];if(endString.slice(0,lastLine.length)!=lastLine)continue search;return{from:Pos(line,adjustPos(orig,string,cutFrom,fold)+ch),to:Pos(line+lines.length-1,adjustPos(end,endString,lastLine.length,fold))}}}}function searchStringBackward(doc,query,start,caseFold){if(!query.length)return null;var fold=caseFold?doFold:noFold;var lines=fold(query).split(/\\r|\\n\\r?/);search:for(var line=start.line,ch=start.ch,first=doc.firstLine()-\n1+lines.length;line>=first;line--,ch=-1){var orig=doc.getLine(line);if(ch>-1)orig=orig.slice(0,ch);var string=fold(orig);if(lines.length==1){var found=string.lastIndexOf(lines[0]);if(found==-1)continue search;return{from:Pos(line,adjustPos(orig,string,found,fold)),to:Pos(line,adjustPos(orig,string,found+lines[0].length,fold))}}else{var lastLine=lines[lines.length-1];if(string.slice(0,lastLine.length)!=lastLine)continue search;for(var i=1,start=line-lines.length+1;i<lines.length-1;i++)if(fold(doc.getLine(start+\ni))!=lines[i])continue search;var top=doc.getLine(line+1-lines.length),topString=fold(top);if(topString.slice(topString.length-lines[0].length)!=lines[0])continue search;return{from:Pos(line+1-lines.length,adjustPos(top,topString,top.length-lines[0].length,fold)),to:Pos(line,adjustPos(orig,string,lastLine.length,fold))}}}}function SearchCursor(doc,query,pos,options){this.atOccurrence=false;this.afterEmptyMatch=false;this.doc=doc;pos=pos?doc.clipPos(pos):Pos(0,0);this.pos={from:pos,to:pos};var caseFold;\nif(typeof options=="object")caseFold=options.caseFold;else{caseFold=options;options=null}if(typeof query=="string"){if(caseFold==null)caseFold=false;this.matches=function(reverse,pos){return(reverse?searchStringBackward:searchStringForward)(doc,query,pos,caseFold)}}else{query=ensureFlags(query,"gm");if(!options||options.multiline!==false)this.matches=function(reverse,pos){return(reverse?searchRegexpBackwardMultiline:searchRegexpForwardMultiline)(doc,query,pos)};else this.matches=function(reverse,\npos){return(reverse?searchRegexpBackward:searchRegexpForward)(doc,query,pos)}}}SearchCursor.prototype={findNext:function(){return this.find(false)},findPrevious:function(){return this.find(true)},find:function(reverse){var head=this.doc.clipPos(reverse?this.pos.from:this.pos.to);if(this.afterEmptyMatch&&this.atOccurrence){head=Pos(head.line,head.ch);if(reverse){head.ch--;if(head.ch<0){head.line--;head.ch=(this.doc.getLine(head.line)||"").length}}else{head.ch++;if(head.ch>(this.doc.getLine(head.line)||\n"").length){head.ch=0;head.line++}}if(CodeMirror.cmpPos(head,this.doc.clipPos(head))!=0)return this.atOccurrence=false}var result=this.matches(reverse,head);this.afterEmptyMatch=result&&CodeMirror.cmpPos(result.from,result.to)==0;if(result){this.pos=result;this.atOccurrence=true;return this.pos.match||true}else{var end=Pos(reverse?this.doc.firstLine():this.doc.lastLine()+1,0);this.pos={from:end,to:end};return this.atOccurrence=false}},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},\nreplace:function(newText,origin){if(!this.atOccurrence)return;var lines=CodeMirror.splitLines(newText);this.doc.replaceRange(lines,this.pos.from,this.pos.to,origin);this.pos.to=Pos(this.pos.from.line+lines.length-1,lines[lines.length-1].length+(lines.length==1?this.pos.from.ch:0))}};CodeMirror.defineExtension("getSearchCursor",function(query,pos,caseFold){return new SearchCursor(this.doc,query,pos,caseFold)});CodeMirror.defineDocExtension("getSearchCursor",function(query,pos,caseFold){return new SearchCursor(this,\nquery,pos,caseFold)});CodeMirror.defineExtension("selectMatches",function(query,caseFold){var ranges=[];var cur=this.getSearchCursor(query,this.getCursor("from"),caseFold);while(cur.findNext()){if(CodeMirror.cmpPos(cur.to(),this.getCursor("to"))>0)break;ranges.push({anchor:cur.from(),head:cur.to()})}if(ranges.length)this.setSelections(ranges,0)})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.TernServer=function(options){var self=this;this.options=options||{};var plugins=this.options.plugins||(this.options.plugins={});if(!plugins.doc_comment)plugins.doc_comment=true;this.docs=Object.create(null);this.server=new tern.Server({getFile:function(name,\nc){return getFile(self,name,c)},async:true,defs:this.options.defs||[],plugins:plugins});this.trackChange=function(doc,change){trackChange(self,doc,change)};this.cachedArgHints=null;this.activeArgHints=null;this.jumpStack=[];this.getHint=function(cm,c){return hint(self,cm,c)};this.getHint.async=true};CodeMirror.TernServer.prototype={addDoc:function(name,doc){var data={doc:doc,name:name,changed:null};this.server.addFile(name,docValue(this,data));CodeMirror.on(doc,"change",this.trackChange);return this.docs[name]=\ndata},delDoc:function(id){var found=resolveDoc(this,id);if(!found)return;CodeMirror.off(found.doc,"change",this.trackChange);delete this.docs[found.name];this.server.delFile(found.name)},hideDoc:function(id){closeArgHints(this);var found=resolveDoc(this,id);if(found&&found.changed)sendDoc(this,found)},complete:function(cm){cm.showHint({hint:this.getHint})},showType:function(cm,pos,c){showContextInfo(this,cm,pos,"type",c)},showDocs:function(cm,pos,c){showContextInfo(this,cm,pos,"documentation",c)},\nupdateArgHints:function(cm){updateArgHints(this,cm)},jumpToDef:function(cm){jumpToDef(this,cm)},jumpBack:function(cm){jumpBack(this,cm)},rename:function(cm){rename(this,cm)},selectName:function(cm){selectName(this,cm)},request:function(cm,query,c,pos){var self=this;var doc=findDoc(this,cm.getDoc());var request=buildRequest(this,doc,query,pos);var extraOptions=request.query&&this.options.queryOptions&&this.options.queryOptions[request.query.type];if(extraOptions)for(var prop in extraOptions)request.query[prop]=\nextraOptions[prop];this.server.request(request,function(error,data){if(!error&&self.options.responseFilter)data=self.options.responseFilter(doc,query,request,error,data);c(error,data)})},destroy:function(){closeArgHints(this);if(this.worker){this.worker.terminate();this.worker=null}}};var Pos=CodeMirror.Pos;var cls="CodeMirror-Tern-";var bigDoc=250;function getFile(ts,name,c){var buf=ts.docs[name];if(buf)c(docValue(ts,buf));else if(ts.options.getFile)ts.options.getFile(name,c);else c(null)}function findDoc(ts,\ndoc,name){for(var n in ts.docs){var cur=ts.docs[n];if(cur.doc==doc)return cur}if(!name)for(var i=0;;++i){n="[doc"+(i||"")+"]";if(!ts.docs[n]){name=n;break}}return ts.addDoc(name,doc)}function resolveDoc(ts,id){if(typeof id=="string")return ts.docs[id];if(id instanceof CodeMirror)id=id.getDoc();if(id instanceof CodeMirror.Doc)return findDoc(ts,id)}function trackChange(ts,doc,change){var data=findDoc(ts,doc);var argHints=ts.cachedArgHints;if(argHints&&argHints.doc==doc&&cmpPos(argHints.start,change.to)>=\n0)ts.cachedArgHints=null;var changed=data.changed;if(changed==null)data.changed=changed={from:change.from.line,to:change.from.line};var end=change.from.line+(change.text.length-1);if(change.from.line<changed.to)changed.to=changed.to-(change.to.line-end);if(end>=changed.to)changed.to=end+1;if(changed.from>change.from.line)changed.from=change.from.line;if(doc.lineCount()>bigDoc&&change.to-changed.from>100)setTimeout(function(){if(data.changed&&data.changed.to-data.changed.from>100)sendDoc(ts,data)},\n200)}function sendDoc(ts,doc){ts.server.request({files:[{type:"full",name:doc.name,text:docValue(ts,doc)}]},function(error){if(error)window.console.error(error);else doc.changed=null})}function hint(ts,cm,c){ts.request(cm,{type:"completions",types:true,docs:true,urls:true},function(error,data){if(error)return showError(ts,cm,error);var completions=[],after="";var from=data.start,to=data.end;if(cm.getRange(Pos(from.line,from.ch-2),from)==\'["\'&&cm.getRange(to,Pos(to.line,to.ch+2))!=\'"]\')after=\'"]\';\nfor(var i=0;i<data.completions.length;++i){var completion=data.completions[i],className=typeToIcon(completion.type);if(data.guess)className+=" "+cls+"guess";completions.push({text:completion.name+after,displayText:completion.displayName||completion.name,className:className,data:completion})}var obj={from:from,to:to,list:completions};var tooltip=null;CodeMirror.on(obj,"close",function(){remove(tooltip)});CodeMirror.on(obj,"update",function(){remove(tooltip)});CodeMirror.on(obj,"select",function(cur,\nnode){remove(tooltip);var content=ts.options.completionTip?ts.options.completionTip(cur.data):cur.data.doc;if(content)tooltip=makeTooltip(node.parentNode.getBoundingClientRect().right+window.pageXOffset,node.getBoundingClientRect().top+window.pageYOffset,content,cm,cls+"hint-doc")});c(obj)})}function typeToIcon(type){var suffix;if(type=="?")suffix="unknown";else if(type=="number"||type=="string"||type=="bool")suffix=type;else if(/^fn\\(/.test(type))suffix="fn";else if(/^\\[/.test(type))suffix="array";\nelse suffix="object";return cls+"completion "+cls+"completion-"+suffix}function showContextInfo(ts,cm,pos,queryName,c){ts.request(cm,queryName,function(error,data){if(error)return showError(ts,cm,error);if(ts.options.typeTip)var tip=ts.options.typeTip(data);else{var tip=elt("span",null,elt("strong",null,data.type||"not found"));if(data.doc)tip.appendChild(document.createTextNode(" \\u2014 "+data.doc));if(data.url){tip.appendChild(document.createTextNode(" "));var child=tip.appendChild(elt("a",null,\n"[docs]"));child.href=data.url;child.target="_blank"}}tempTooltip(cm,tip,ts);if(c)c()},pos)}function updateArgHints(ts,cm){closeArgHints(ts);if(cm.somethingSelected())return;var state=cm.getTokenAt(cm.getCursor()).state;var inner=CodeMirror.innerMode(cm.getMode(),state);if(inner.mode.name!="javascript")return;var lex=inner.state.lexical;if(lex.info!="call")return;var ch,argPos=lex.pos||0,tabSize=cm.getOption("tabSize");for(var line=cm.getCursor().line,e=Math.max(0,line-9),found=false;line>=e;--line){var str=\ncm.getLine(line),extra=0;for(var pos=0;;){var tab=str.indexOf("\\t",pos);if(tab==-1)break;extra+=tabSize-(tab+extra)%tabSize-1;pos=tab+1}ch=lex.column-extra;if(str.charAt(ch)=="("){found=true;break}}if(!found)return;var start=Pos(line,ch);var cache=ts.cachedArgHints;if(cache&&cache.doc==cm.getDoc()&&cmpPos(start,cache.start)==0)return showArgHints(ts,cm,argPos);ts.request(cm,{type:"type",preferFunction:true,end:start},function(error,data){if(error||!data.type||!/^fn\\(/.test(data.type))return;ts.cachedArgHints=\n{start:start,type:parseFnType(data.type),name:data.exprName||data.name||"fn",guess:data.guess,doc:cm.getDoc()};showArgHints(ts,cm,argPos)})}function showArgHints(ts,cm,pos){closeArgHints(ts);var cache=ts.cachedArgHints,tp=cache.type;var tip=elt("span",cache.guess?cls+"fhint-guess":null,elt("span",cls+"fname",cache.name),"(");for(var i=0;i<tp.args.length;++i){if(i)tip.appendChild(document.createTextNode(", "));var arg=tp.args[i];tip.appendChild(elt("span",cls+"farg"+(i==pos?" "+cls+"farg-current":\n""),arg.name||"?"));if(arg.type!="?"){tip.appendChild(document.createTextNode(":\\u00a0"));tip.appendChild(elt("span",cls+"type",arg.type))}}tip.appendChild(document.createTextNode(tp.rettype?") ->\\u00a0":")"));if(tp.rettype)tip.appendChild(elt("span",cls+"type",tp.rettype));var place=cm.cursorCoords(null,"page");var tooltip=ts.activeArgHints=makeTooltip(place.right+1,place.bottom,tip,cm);setTimeout(function(){tooltip.clear=onEditorActivity(cm,function(){if(ts.activeArgHints==tooltip)closeArgHints(ts)})},\n20)}function parseFnType(text){var args=[],pos=3;function skipMatching(upto){var depth=0,start=pos;for(;;){var next=text.charAt(pos);if(upto.test(next)&&!depth)return text.slice(start,pos);if(/[{\\[\\(]/.test(next))++depth;else if(/[}\\]\\)]/.test(next))--depth;++pos}}if(text.charAt(pos)!=")")for(;;){var name=text.slice(pos).match(/^([^, \\(\\[\\{]+): /);if(name){pos+=name[0].length;name=name[1]}args.push({name:name,type:skipMatching(/[\\),]/)});if(text.charAt(pos)==")")break;pos+=2}var rettype=text.slice(pos).match(/^\\) -> (.*)$/);\nreturn{args:args,rettype:rettype&&rettype[1]}}function jumpToDef(ts,cm){function inner(varName){var req={type:"definition",variable:varName||null};var doc=findDoc(ts,cm.getDoc());ts.server.request(buildRequest(ts,doc,req),function(error,data){if(error)return showError(ts,cm,error);if(!data.file&&data.url){window.open(data.url);return}if(data.file){var localDoc=ts.docs[data.file],found;if(localDoc&&(found=findContext(localDoc.doc,data))){ts.jumpStack.push({file:doc.name,start:cm.getCursor("from"),\nend:cm.getCursor("to")});moveTo(ts,doc,localDoc,found.start,found.end);return}}showError(ts,cm,"Could not find a definition.")})}if(!atInterestingExpression(cm))dialog(cm,"Jump to variable",function(name){if(name)inner(name)});else inner()}function jumpBack(ts,cm){var pos=ts.jumpStack.pop(),doc=pos&&ts.docs[pos.file];if(!doc)return;moveTo(ts,findDoc(ts,cm.getDoc()),doc,pos.start,pos.end)}function moveTo(ts,curDoc,doc,start,end){doc.doc.setSelection(start,end);if(curDoc!=doc&&ts.options.switchToDoc){closeArgHints(ts);\nts.options.switchToDoc(doc.name,doc.doc)}}function findContext(doc,data){var before=data.context.slice(0,data.contextOffset).split("\\n");var startLine=data.start.line-(before.length-1);var start=Pos(startLine,(before.length==1?data.start.ch:doc.getLine(startLine).length)-before[0].length);var text=doc.getLine(startLine).slice(start.ch);for(var cur=startLine+1;cur<doc.lineCount()&&text.length<data.context.length;++cur)text+="\\n"+doc.getLine(cur);if(text.slice(0,data.context.length)==data.context)return data;\nvar cursor=doc.getSearchCursor(data.context,0,false);var nearest,nearestDist=Infinity;while(cursor.findNext()){var from=cursor.from(),dist=Math.abs(from.line-start.line)*1E4;if(!dist)dist=Math.abs(from.ch-start.ch);if(dist<nearestDist){nearest=from;nearestDist=dist}}if(!nearest)return null;if(before.length==1)nearest.ch+=before[0].length;else nearest=Pos(nearest.line+(before.length-1),before[before.length-1].length);if(data.start.line==data.end.line)var end=Pos(nearest.line,nearest.ch+(data.end.ch-\ndata.start.ch));else var end=Pos(nearest.line+(data.end.line-data.start.line),data.end.ch);return{start:nearest,end:end}}function atInterestingExpression(cm){var pos=cm.getCursor("end"),tok=cm.getTokenAt(pos);if(tok.start<pos.ch&&tok.type=="comment")return false;return/[\\w)\\]]/.test(cm.getLine(pos.line).slice(Math.max(pos.ch-1,0),pos.ch+1))}function rename(ts,cm){var token=cm.getTokenAt(cm.getCursor());if(!/\\w/.test(token.string))return showError(ts,cm,"Not at a variable");dialog(cm,"New name for "+\ntoken.string,function(newName){ts.request(cm,{type:"rename",newName:newName,fullDocs:true},function(error,data){if(error)return showError(ts,cm,error);applyChanges(ts,data.changes)})})}function selectName(ts,cm){var name=findDoc(ts,cm.doc).name;ts.request(cm,{type:"refs"},function(error,data){if(error)return showError(ts,cm,error);var ranges=[],cur=0;var curPos=cm.getCursor();for(var i=0;i<data.refs.length;i++){var ref=data.refs[i];if(ref.file==name){ranges.push({anchor:ref.start,head:ref.end});if(cmpPos(curPos,\nref.start)>=0&&cmpPos(curPos,ref.end)<=0)cur=ranges.length-1}}cm.setSelections(ranges,cur)})}var nextChangeOrig=0;function applyChanges(ts,changes){var perFile=Object.create(null);for(var i=0;i<changes.length;++i){var ch=changes[i];(perFile[ch.file]||(perFile[ch.file]=[])).push(ch)}for(var file in perFile){var known=ts.docs[file],chs=perFile[file];if(!known)continue;chs.sort(function(a,b){return cmpPos(b.start,a.start)});var origin="*rename"+ ++nextChangeOrig;for(var i=0;i<chs.length;++i){var ch=\nchs[i];known.doc.replaceRange(ch.text,ch.start,ch.end,origin)}}}function buildRequest(ts,doc,query,pos){var files=[],offsetLines=0,allowFragments=!query.fullDocs;if(!allowFragments)delete query.fullDocs;if(typeof query=="string")query={type:query};query.lineCharPositions=true;if(query.end==null){query.end=pos||doc.doc.getCursor("end");if(doc.doc.somethingSelected())query.start=doc.doc.getCursor("start")}var startPos=query.start||query.end;if(doc.changed)if(doc.doc.lineCount()>bigDoc&&allowFragments!==\nfalse&&doc.changed.to-doc.changed.from<100&&doc.changed.from<=startPos.line&&doc.changed.to>query.end.line){files.push(getFragmentAround(doc,startPos,query.end));query.file="#0";var offsetLines=files[0].offsetLines;if(query.start!=null)query.start=Pos(query.start.line- -offsetLines,query.start.ch);query.end=Pos(query.end.line-offsetLines,query.end.ch)}else{files.push({type:"full",name:doc.name,text:docValue(ts,doc)});query.file=doc.name;doc.changed=null}else query.file=doc.name;for(var name in ts.docs){var cur=\nts.docs[name];if(cur.changed&&cur!=doc){files.push({type:"full",name:cur.name,text:docValue(ts,cur)});cur.changed=null}}return{query:query,files:files}}function getFragmentAround(data,start,end){var doc=data.doc;var minIndent=null,minLine=null,endLine,tabSize=4;for(var p=start.line-1,min=Math.max(0,p-50);p>=min;--p){var line=doc.getLine(p),fn=line.search(/\\bfunction\\b/);if(fn<0)continue;var indent=CodeMirror.countColumn(line,null,tabSize);if(minIndent!=null&&minIndent<=indent)continue;minIndent=indent;\nminLine=p}if(minLine==null)minLine=min;var max=Math.min(doc.lastLine(),end.line+20);if(minIndent==null||minIndent==CodeMirror.countColumn(doc.getLine(start.line),null,tabSize))endLine=max;else for(endLine=end.line+1;endLine<max;++endLine){var indent=CodeMirror.countColumn(doc.getLine(endLine),null,tabSize);if(indent<=minIndent)break}var from=Pos(minLine,0);return{type:"part",name:data.name,offsetLines:from.line,text:doc.getRange(from,Pos(endLine,end.line==endLine?null:0))}}var cmpPos=CodeMirror.cmpPos;\nfunction elt(tagname,cls){var e=document.createElement(tagname);if(cls)e.className=cls;for(var i=2;i<arguments.length;++i){var elt=arguments[i];if(typeof elt=="string")elt=document.createTextNode(elt);e.appendChild(elt)}return e}function dialog(cm,text,f){if(cm.openDialog){var fragment=document.createDocumentFragment();fragment.appendChild(document.createTextNode(text+": "));var input=document.createElement("input");input.type="text";fragment.appendChild(input);cm.openDialog(fragment,f)}else f(prompt(text,\n""))}function tempTooltip(cm,content,ts){if(cm.state.ternTooltip)remove(cm.state.ternTooltip);var where=cm.cursorCoords();var tip=cm.state.ternTooltip=makeTooltip(where.right+1,where.bottom,content,cm);function maybeClear(){old=true;if(!mouseOnTip)clear()}function clear(){cm.state.ternTooltip=null;if(tip.parentNode)fadeOut(tip);clearActivity()}var mouseOnTip=false,old=false;CodeMirror.on(tip,"mousemove",function(){mouseOnTip=true});CodeMirror.on(tip,"mouseout",function(e){var related=e.relatedTarget||\ne.toElement;if(!related||!CodeMirror.contains(tip,related))if(old)clear();else mouseOnTip=false});setTimeout(maybeClear,ts.options.hintDelay?ts.options.hintDelay:1700);var clearActivity=onEditorActivity(cm,clear)}function onEditorActivity(cm,f){cm.on("cursorActivity",f);cm.on("blur",f);cm.on("scroll",f);cm.on("setDoc",f);return function(){cm.off("cursorActivity",f);cm.off("blur",f);cm.off("scroll",f);cm.off("setDoc",f)}}function makeTooltip(x,y,content,cm,className){var node=elt("div",cls+"tooltip"+\n" "+(className||""),content);node.style.left=x+"px";node.style.top=y+"px";var container=((cm.options||{}).hintOptions||{}).container||document.body;container.appendChild(node);var pos=cm.cursorCoords();var winW=window.innerWidth;var winH=window.innerHeight;var box=node.getBoundingClientRect();var hints=document.querySelector(".CodeMirror-hints");var overlapY=box.bottom-winH;var overlapX=box.right-winW;if(hints&&overlapX>0){node.style.left=0;var box=node.getBoundingClientRect();node.style.left=(x=\nx-hints.offsetWidth-box.width)+"px";overlapX=box.right-winW}if(overlapY>0){var height=box.bottom-box.top,curTop=pos.top-(pos.bottom-box.top);if(curTop-height>0)node.style.top=pos.top-height+"px";else if(height>winH){node.style.height=winH-5+"px";node.style.top=pos.bottom-box.top+"px"}}if(overlapX>0){if(box.right-box.left>winW){node.style.width=winW-5+"px";overlapX-=box.right-box.left-winW}node.style.left=x-overlapX+"px"}return node}function remove(node){var p=node&&node.parentNode;if(p)p.removeChild(node)}\nfunction fadeOut(tooltip){tooltip.style.opacity="0";setTimeout(function(){remove(tooltip)},1100)}function showError(ts,cm,msg){if(ts.options.showError)ts.options.showError(cm,msg);else tempTooltip(cm,String(msg),ts)}function closeArgHints(ts){if(ts.activeArgHints){if(ts.activeArgHints.clear)ts.activeArgHints.clear();remove(ts.activeArgHints);ts.activeArgHints=null}}function docValue(ts,doc){var val=doc.doc.getValue();if(ts.options.fileFilter)val=ts.options.fileFilter(val,doc.name,doc.doc);return val}\n});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../lib/codemirror"),require("../addon/search/searchcursor"),require("../addon/edit/matchbrackets"));else if(typeof define=="function"&&define.amd)define(["../lib/codemirror","../addon/search/searchcursor","../addon/edit/matchbrackets"],mod);else mod(CodeMirror)})(function(CodeMirror){var cmds=CodeMirror.commands;var Pos=CodeMirror.Pos;function findPosSubword(doc,start,dir){if(dir<0&&start.ch==0)return doc.clipPos(Pos(start.line-\n1));var line=doc.getLine(start.line);if(dir>0&&start.ch>=line.length)return doc.clipPos(Pos(start.line+1,0));var state="start",type,startPos=start.ch;for(var pos=startPos,e=dir<0?0:line.length,i=0;pos!=e;pos+=dir,i++){var next=line.charAt(dir<0?pos-1:pos);var cat=next!="_"&&CodeMirror.isWordChar(next)?"w":"o";if(cat=="w"&&next.toUpperCase()==next)cat="W";if(state=="start")if(cat!="o"){state="in";type=cat}else startPos=pos+dir;else if(state=="in")if(type!=cat){if(type=="w"&&cat=="W"&&dir<0)pos--;if(type==\n"W"&&cat=="w"&&dir>0)if(pos==startPos+1){type="w";continue}else pos--;break}}return Pos(start.line,pos)}function moveSubword(cm,dir){cm.extendSelectionsBy(function(range){if(cm.display.shift||cm.doc.extend||range.empty())return findPosSubword(cm.doc,range.head,dir);else return dir<0?range.from():range.to()})}cmds.goSubwordLeft=function(cm){moveSubword(cm,-1)};cmds.goSubwordRight=function(cm){moveSubword(cm,1)};cmds.scrollLineUp=function(cm){var info=cm.getScrollInfo();if(!cm.somethingSelected()){var visibleBottomLine=\ncm.lineAtHeight(info.top+info.clientHeight,"local");if(cm.getCursor().line>=visibleBottomLine)cm.execCommand("goLineUp")}cm.scrollTo(null,info.top-cm.defaultTextHeight())};cmds.scrollLineDown=function(cm){var info=cm.getScrollInfo();if(!cm.somethingSelected()){var visibleTopLine=cm.lineAtHeight(info.top,"local")+1;if(cm.getCursor().line<=visibleTopLine)cm.execCommand("goLineDown")}cm.scrollTo(null,info.top+cm.defaultTextHeight())};cmds.splitSelectionByLine=function(cm){var ranges=cm.listSelections(),\nlineRanges=[];for(var i=0;i<ranges.length;i++){var from=ranges[i].from(),to=ranges[i].to();for(var line=from.line;line<=to.line;++line)if(!(to.line>from.line&&line==to.line&&to.ch==0))lineRanges.push({anchor:line==from.line?from:Pos(line,0),head:line==to.line?to:Pos(line)})}cm.setSelections(lineRanges,0)};cmds.singleSelectionTop=function(cm){var range=cm.listSelections()[0];cm.setSelection(range.anchor,range.head,{scroll:false})};cmds.selectLine=function(cm){var ranges=cm.listSelections(),extended=\n[];for(var i=0;i<ranges.length;i++){var range=ranges[i];extended.push({anchor:Pos(range.from().line,0),head:Pos(range.to().line+1,0)})}cm.setSelections(extended)};function insertLine(cm,above){if(cm.isReadOnly())return CodeMirror.Pass;cm.operation(function(){var len=cm.listSelections().length,newSelection=[],last=-1;for(var i=0;i<len;i++){var head=cm.listSelections()[i].head;if(head.line<=last)continue;var at=Pos(head.line+(above?0:1),0);cm.replaceRange("\\n",at,null,"+insertLine");cm.indentLine(at.line,\nnull,true);newSelection.push({head:at,anchor:at});last=head.line+1}cm.setSelections(newSelection)});cm.execCommand("indentAuto")}cmds.insertLineAfter=function(cm){return insertLine(cm,false)};cmds.insertLineBefore=function(cm){return insertLine(cm,true)};function wordAt(cm,pos){var start=pos.ch,end=start,line=cm.getLine(pos.line);while(start&&CodeMirror.isWordChar(line.charAt(start-1)))--start;while(end<line.length&&CodeMirror.isWordChar(line.charAt(end)))++end;return{from:Pos(pos.line,start),to:Pos(pos.line,\nend),word:line.slice(start,end)}}cmds.selectNextOccurrence=function(cm){var from=cm.getCursor("from"),to=cm.getCursor("to");var fullWord=cm.state.sublimeFindFullWord==cm.doc.sel;if(CodeMirror.cmpPos(from,to)==0){var word=wordAt(cm,from);if(!word.word)return;cm.setSelection(word.from,word.to);fullWord=true}else{var text=cm.getRange(from,to);var query=fullWord?new RegExp("\\\\b"+text+"\\\\b"):text;var cur=cm.getSearchCursor(query,to);var found=cur.findNext();if(!found){cur=cm.getSearchCursor(query,Pos(cm.firstLine(),\n0));found=cur.findNext()}if(!found||isSelectedRange(cm.listSelections(),cur.from(),cur.to()))return;cm.addSelection(cur.from(),cur.to())}if(fullWord)cm.state.sublimeFindFullWord=cm.doc.sel};cmds.skipAndSelectNextOccurrence=function(cm){var prevAnchor=cm.getCursor("anchor"),prevHead=cm.getCursor("head");cmds.selectNextOccurrence(cm);if(CodeMirror.cmpPos(prevAnchor,prevHead)!=0)cm.doc.setSelections(cm.doc.listSelections().filter(function(sel){return sel.anchor!=prevAnchor||sel.head!=prevHead}))};function addCursorToSelection(cm,\ndir){var ranges=cm.listSelections(),newRanges=[];for(var i=0;i<ranges.length;i++){var range=ranges[i];var newAnchor=cm.findPosV(range.anchor,dir,"line",range.anchor.goalColumn);var newHead=cm.findPosV(range.head,dir,"line",range.head.goalColumn);newAnchor.goalColumn=range.anchor.goalColumn!=null?range.anchor.goalColumn:cm.cursorCoords(range.anchor,"div").left;newHead.goalColumn=range.head.goalColumn!=null?range.head.goalColumn:cm.cursorCoords(range.head,"div").left;var newRange={anchor:newAnchor,\nhead:newHead};newRanges.push(range);newRanges.push(newRange)}cm.setSelections(newRanges)}cmds.addCursorToPrevLine=function(cm){addCursorToSelection(cm,-1)};cmds.addCursorToNextLine=function(cm){addCursorToSelection(cm,1)};function isSelectedRange(ranges,from,to){for(var i=0;i<ranges.length;i++)if(CodeMirror.cmpPos(ranges[i].from(),from)==0&&CodeMirror.cmpPos(ranges[i].to(),to)==0)return true;return false}var mirror="(){}[]";function selectBetweenBrackets(cm){var ranges=cm.listSelections(),newRanges=\n[];for(var i=0;i<ranges.length;i++){var range=ranges[i],pos=range.head,opening=cm.scanForBracket(pos,-1);if(!opening)return false;for(;;){var closing=cm.scanForBracket(pos,1);if(!closing)return false;if(closing.ch==mirror.charAt(mirror.indexOf(opening.ch)+1)){var startPos=Pos(opening.pos.line,opening.pos.ch+1);if(CodeMirror.cmpPos(startPos,range.from())==0&&CodeMirror.cmpPos(closing.pos,range.to())==0){opening=cm.scanForBracket(opening.pos,-1);if(!opening)return false}else{newRanges.push({anchor:startPos,\nhead:closing.pos});break}}pos=Pos(closing.pos.line,closing.pos.ch+1)}}cm.setSelections(newRanges);return true}cmds.selectScope=function(cm){selectBetweenBrackets(cm)||cm.execCommand("selectAll")};cmds.selectBetweenBrackets=function(cm){if(!selectBetweenBrackets(cm))return CodeMirror.Pass};function puncType(type){return!type?null:/\\bpunctuation\\b/.test(type)?type:undefined}cmds.goToBracket=function(cm){cm.extendSelectionsBy(function(range){var next=cm.scanForBracket(range.head,1,puncType(cm.getTokenTypeAt(range.head)));\nif(next&&CodeMirror.cmpPos(next.pos,range.head)!=0)return next.pos;var prev=cm.scanForBracket(range.head,-1,puncType(cm.getTokenTypeAt(Pos(range.head.line,range.head.ch+1))));return prev&&Pos(prev.pos.line,prev.pos.ch+1)||range.head})};cmds.swapLineUp=function(cm){if(cm.isReadOnly())return CodeMirror.Pass;var ranges=cm.listSelections(),linesToMove=[],at=cm.firstLine()-1,newSels=[];for(var i=0;i<ranges.length;i++){var range=ranges[i],from=range.from().line-1,to=range.to().line;newSels.push({anchor:Pos(range.anchor.line-\n1,range.anchor.ch),head:Pos(range.head.line-1,range.head.ch)});if(range.to().ch==0&&!range.empty())--to;if(from>at)linesToMove.push(from,to);else if(linesToMove.length)linesToMove[linesToMove.length-1]=to;at=to}cm.operation(function(){for(var i=0;i<linesToMove.length;i+=2){var from=linesToMove[i],to=linesToMove[i+1];var line=cm.getLine(from);cm.replaceRange("",Pos(from,0),Pos(from+1,0),"+swapLine");if(to>cm.lastLine())cm.replaceRange("\\n"+line,Pos(cm.lastLine()),null,"+swapLine");else cm.replaceRange(line+\n"\\n",Pos(to,0),null,"+swapLine")}cm.setSelections(newSels);cm.scrollIntoView()})};cmds.swapLineDown=function(cm){if(cm.isReadOnly())return CodeMirror.Pass;var ranges=cm.listSelections(),linesToMove=[],at=cm.lastLine()+1;for(var i=ranges.length-1;i>=0;i--){var range=ranges[i],from=range.to().line+1,to=range.from().line;if(range.to().ch==0&&!range.empty())from--;if(from<at)linesToMove.push(from,to);else if(linesToMove.length)linesToMove[linesToMove.length-1]=to;at=to}cm.operation(function(){for(var i=\nlinesToMove.length-2;i>=0;i-=2){var from=linesToMove[i],to=linesToMove[i+1];var line=cm.getLine(from);if(from==cm.lastLine())cm.replaceRange("",Pos(from-1),Pos(from),"+swapLine");else cm.replaceRange("",Pos(from,0),Pos(from+1,0),"+swapLine");cm.replaceRange(line+"\\n",Pos(to,0),null,"+swapLine")}cm.scrollIntoView()})};cmds.toggleCommentIndented=function(cm){cm.toggleComment({indent:true})};cmds.joinLines=function(cm){var ranges=cm.listSelections(),joined=[];for(var i=0;i<ranges.length;i++){var range=\nranges[i],from=range.from();var start=from.line,end=range.to().line;while(i<ranges.length-1&&ranges[i+1].from().line==end)end=ranges[++i].to().line;joined.push({start:start,end:end,anchor:!range.empty()&&from})}cm.operation(function(){var offset=0,ranges=[];for(var i=0;i<joined.length;i++){var obj=joined[i];var anchor=obj.anchor&&Pos(obj.anchor.line-offset,obj.anchor.ch),head;for(var line=obj.start;line<=obj.end;line++){var actual=line-offset;if(line==obj.end)head=Pos(actual,cm.getLine(actual).length+\n1);if(actual<cm.lastLine()){cm.replaceRange(" ",Pos(actual),Pos(actual+1,/^\\s*/.exec(cm.getLine(actual+1))[0].length));++offset}}ranges.push({anchor:anchor||head,head:head})}cm.setSelections(ranges,0)})};cmds.duplicateLine=function(cm){cm.operation(function(){var rangeCount=cm.listSelections().length;for(var i=0;i<rangeCount;i++){var range=cm.listSelections()[i];if(range.empty())cm.replaceRange(cm.getLine(range.head.line)+"\\n",Pos(range.head.line,0));else cm.replaceRange(cm.getRange(range.from(),\nrange.to()),range.from())}cm.scrollIntoView()})};function sortLines(cm,caseSensitive,direction){if(cm.isReadOnly())return CodeMirror.Pass;var ranges=cm.listSelections(),toSort=[],selected;for(var i=0;i<ranges.length;i++){var range=ranges[i];if(range.empty())continue;var from=range.from().line,to=range.to().line;while(i<ranges.length-1&&ranges[i+1].from().line==to)to=ranges[++i].to().line;if(!ranges[i].to().ch)to--;toSort.push(from,to)}if(toSort.length)selected=true;else toSort.push(cm.firstLine(),\ncm.lastLine());cm.operation(function(){var ranges=[];for(var i=0;i<toSort.length;i+=2){var from=toSort[i],to=toSort[i+1];var start=Pos(from,0),end=Pos(to);var lines=cm.getRange(start,end,false);if(caseSensitive)lines.sort(function(a,b){return a<b?-direction:a==b?0:direction});else lines.sort(function(a,b){var au=a.toUpperCase(),bu=b.toUpperCase();if(au!=bu){a=au;b=bu}return a<b?-direction:a==b?0:direction});cm.replaceRange(lines,start,end);if(selected)ranges.push({anchor:start,head:Pos(to+1,0)})}if(selected)cm.setSelections(ranges,\n0)})}cmds.sortLines=function(cm){sortLines(cm,true,1)};cmds.reverseSortLines=function(cm){sortLines(cm,true,-1)};cmds.sortLinesInsensitive=function(cm){sortLines(cm,false,1)};cmds.reverseSortLinesInsensitive=function(cm){sortLines(cm,false,-1)};cmds.nextBookmark=function(cm){var marks=cm.state.sublimeBookmarks;if(marks)while(marks.length){var current=marks.shift();var found=current.find();if(found){marks.push(current);return cm.setSelection(found.from,found.to)}}};cmds.prevBookmark=function(cm){var marks=\ncm.state.sublimeBookmarks;if(marks)while(marks.length){marks.unshift(marks.pop());var found=marks[marks.length-1].find();if(!found)marks.pop();else return cm.setSelection(found.from,found.to)}};cmds.toggleBookmark=function(cm){var ranges=cm.listSelections();var marks=cm.state.sublimeBookmarks||(cm.state.sublimeBookmarks=[]);for(var i=0;i<ranges.length;i++){var from=ranges[i].from(),to=ranges[i].to();var found=ranges[i].empty()?cm.findMarksAt(from):cm.findMarks(from,to);for(var j=0;j<found.length;j++)if(found[j].sublimeBookmark){found[j].clear();\nfor(var k=0;k<marks.length;k++)if(marks[k]==found[j])marks.splice(k--,1);break}if(j==found.length)marks.push(cm.markText(from,to,{sublimeBookmark:true,clearWhenEmpty:false}))}};cmds.clearBookmarks=function(cm){var marks=cm.state.sublimeBookmarks;if(marks)for(var i=0;i<marks.length;i++)marks[i].clear();marks.length=0};cmds.selectBookmarks=function(cm){var marks=cm.state.sublimeBookmarks,ranges=[];if(marks)for(var i=0;i<marks.length;i++){var found=marks[i].find();if(!found)marks.splice(i--,0);else ranges.push({anchor:found.from,\nhead:found.to})}if(ranges.length)cm.setSelections(ranges,0)};function modifyWordOrSelection(cm,mod){cm.operation(function(){var ranges=cm.listSelections(),indices=[],replacements=[];for(var i=0;i<ranges.length;i++){var range=ranges[i];if(range.empty()){indices.push(i);replacements.push("")}else replacements.push(mod(cm.getRange(range.from(),range.to())))}cm.replaceSelections(replacements,"around","case");for(var i=indices.length-1,at;i>=0;i--){var range=ranges[indices[i]];if(at&&CodeMirror.cmpPos(range.head,\nat)>0)continue;var word=wordAt(cm,range.head);at=word.from;cm.replaceRange(mod(word.word),word.from,word.to)}})}cmds.smartBackspace=function(cm){if(cm.somethingSelected())return CodeMirror.Pass;cm.operation(function(){var cursors=cm.listSelections();var indentUnit=cm.getOption("indentUnit");for(var i=cursors.length-1;i>=0;i--){var cursor=cursors[i].head;var toStartOfLine=cm.getRange({line:cursor.line,ch:0},cursor);var column=CodeMirror.countColumn(toStartOfLine,null,cm.getOption("tabSize"));var deletePos=\ncm.findPosH(cursor,-1,"char",false);if(toStartOfLine&&!/\\S/.test(toStartOfLine)&&column%indentUnit==0){var prevIndent=new Pos(cursor.line,CodeMirror.findColumn(toStartOfLine,column-indentUnit,indentUnit));if(prevIndent.ch!=cursor.ch)deletePos=prevIndent}cm.replaceRange("",deletePos,cursor,"+delete")}})};cmds.delLineRight=function(cm){cm.operation(function(){var ranges=cm.listSelections();for(var i=ranges.length-1;i>=0;i--)cm.replaceRange("",ranges[i].anchor,Pos(ranges[i].to().line),"+delete");cm.scrollIntoView()})};\ncmds.upcaseAtCursor=function(cm){modifyWordOrSelection(cm,function(str){return str.toUpperCase()})};cmds.downcaseAtCursor=function(cm){modifyWordOrSelection(cm,function(str){return str.toLowerCase()})};cmds.setSublimeMark=function(cm){if(cm.state.sublimeMark)cm.state.sublimeMark.clear();cm.state.sublimeMark=cm.setBookmark(cm.getCursor())};cmds.selectToSublimeMark=function(cm){var found=cm.state.sublimeMark&&cm.state.sublimeMark.find();if(found)cm.setSelection(cm.getCursor(),found)};cmds.deleteToSublimeMark=\nfunction(cm){var found=cm.state.sublimeMark&&cm.state.sublimeMark.find();if(found){var from=cm.getCursor(),to=found;if(CodeMirror.cmpPos(from,to)>0){var tmp=to;to=from;from=tmp}cm.state.sublimeKilled=cm.getRange(from,to);cm.replaceRange("",from,to)}};cmds.swapWithSublimeMark=function(cm){var found=cm.state.sublimeMark&&cm.state.sublimeMark.find();if(found){cm.state.sublimeMark.clear();cm.state.sublimeMark=cm.setBookmark(cm.getCursor());cm.setCursor(found)}};cmds.sublimeYank=function(cm){if(cm.state.sublimeKilled!=\nnull)cm.replaceSelection(cm.state.sublimeKilled,null,"paste")};cmds.showInCenter=function(cm){var pos=cm.cursorCoords(null,"local");cm.scrollTo(null,(pos.top+pos.bottom)/2-cm.getScrollInfo().clientHeight/2)};function getTarget(cm){var from=cm.getCursor("from"),to=cm.getCursor("to");if(CodeMirror.cmpPos(from,to)==0){var word=wordAt(cm,from);if(!word.word)return;from=word.from;to=word.to}return{from:from,to:to,query:cm.getRange(from,to),word:word}}function findAndGoTo(cm,forward){var target=getTarget(cm);\nif(!target)return;var query=target.query;var cur=cm.getSearchCursor(query,forward?target.to:target.from);if(forward?cur.findNext():cur.findPrevious())cm.setSelection(cur.from(),cur.to());else{cur=cm.getSearchCursor(query,forward?Pos(cm.firstLine(),0):cm.clipPos(Pos(cm.lastLine())));if(forward?cur.findNext():cur.findPrevious())cm.setSelection(cur.from(),cur.to());else if(target.word)cm.setSelection(target.from,target.to)}}cmds.findUnder=function(cm){findAndGoTo(cm,true)};cmds.findUnderPrevious=function(cm){findAndGoTo(cm,\nfalse)};cmds.findAllUnder=function(cm){var target=getTarget(cm);if(!target)return;var cur=cm.getSearchCursor(target.query);var matches=[];var primaryIndex=-1;while(cur.findNext()){matches.push({anchor:cur.from(),head:cur.to()});if(cur.from().line<=target.from.line&&cur.from().ch<=target.from.ch)primaryIndex++}cm.setSelections(matches,primaryIndex)};var keyMap=CodeMirror.keyMap;keyMap.macSublime={"Cmd-Left":"goLineStartSmart","Shift-Tab":"indentLess","Shift-Ctrl-K":"deleteLine","Alt-Q":"wrapLines",\n"Ctrl-Left":"goSubwordLeft","Ctrl-Right":"goSubwordRight","Ctrl-Alt-Up":"scrollLineUp","Ctrl-Alt-Down":"scrollLineDown","Cmd-L":"selectLine","Shift-Cmd-L":"splitSelectionByLine","Esc":"singleSelectionTop","Cmd-Enter":"insertLineAfter","Shift-Cmd-Enter":"insertLineBefore","Cmd-D":"selectNextOccurrence","Shift-Cmd-Space":"selectScope","Shift-Cmd-M":"selectBetweenBrackets","Cmd-M":"goToBracket","Cmd-Ctrl-Up":"swapLineUp","Cmd-Ctrl-Down":"swapLineDown","Cmd-/":"toggleCommentIndented","Cmd-J":"joinLines",\n"Shift-Cmd-D":"duplicateLine","F5":"sortLines","Shift-F5":"reverseSortLines","Cmd-F5":"sortLinesInsensitive","Shift-Cmd-F5":"reverseSortLinesInsensitive","F2":"nextBookmark","Shift-F2":"prevBookmark","Cmd-F2":"toggleBookmark","Shift-Cmd-F2":"clearBookmarks","Alt-F2":"selectBookmarks","Backspace":"smartBackspace","Cmd-K Cmd-D":"skipAndSelectNextOccurrence","Cmd-K Cmd-K":"delLineRight","Cmd-K Cmd-U":"upcaseAtCursor","Cmd-K Cmd-L":"downcaseAtCursor","Cmd-K Cmd-Space":"setSublimeMark","Cmd-K Cmd-A":"selectToSublimeMark",\n"Cmd-K Cmd-W":"deleteToSublimeMark","Cmd-K Cmd-X":"swapWithSublimeMark","Cmd-K Cmd-Y":"sublimeYank","Cmd-K Cmd-C":"showInCenter","Cmd-K Cmd-G":"clearBookmarks","Cmd-K Cmd-Backspace":"delLineLeft","Cmd-K Cmd-1":"foldAll","Cmd-K Cmd-0":"unfoldAll","Cmd-K Cmd-J":"unfoldAll","Ctrl-Shift-Up":"addCursorToPrevLine","Ctrl-Shift-Down":"addCursorToNextLine","Cmd-F3":"findUnder","Shift-Cmd-F3":"findUnderPrevious","Alt-F3":"findAllUnder","Shift-Cmd-[":"fold","Shift-Cmd-]":"unfold","Cmd-I":"findIncremental","Shift-Cmd-I":"findIncrementalReverse",\n"Cmd-H":"replace","F3":"findNext","Shift-F3":"findPrev","fallthrough":"macDefault"};CodeMirror.normalizeKeyMap(keyMap.macSublime);keyMap.pcSublime={"Shift-Tab":"indentLess","Shift-Ctrl-K":"deleteLine","Alt-Q":"wrapLines","Ctrl-T":"transposeChars","Alt-Left":"goSubwordLeft","Alt-Right":"goSubwordRight","Ctrl-Up":"scrollLineUp","Ctrl-Down":"scrollLineDown","Ctrl-L":"selectLine","Shift-Ctrl-L":"splitSelectionByLine","Esc":"singleSelectionTop","Ctrl-Enter":"insertLineAfter","Shift-Ctrl-Enter":"insertLineBefore",\n"Ctrl-D":"selectNextOccurrence","Shift-Ctrl-Space":"selectScope","Shift-Ctrl-M":"selectBetweenBrackets","Ctrl-M":"goToBracket","Shift-Ctrl-Up":"swapLineUp","Shift-Ctrl-Down":"swapLineDown","Ctrl-/":"toggleCommentIndented","Ctrl-J":"joinLines","Shift-Ctrl-D":"duplicateLine","F9":"sortLines","Shift-F9":"reverseSortLines","Ctrl-F9":"sortLinesInsensitive","Shift-Ctrl-F9":"reverseSortLinesInsensitive","F2":"nextBookmark","Shift-F2":"prevBookmark","Ctrl-F2":"toggleBookmark","Shift-Ctrl-F2":"clearBookmarks",\n"Alt-F2":"selectBookmarks","Backspace":"smartBackspace","Ctrl-K Ctrl-D":"skipAndSelectNextOccurrence","Ctrl-K Ctrl-K":"delLineRight","Ctrl-K Ctrl-U":"upcaseAtCursor","Ctrl-K Ctrl-L":"downcaseAtCursor","Ctrl-K Ctrl-Space":"setSublimeMark","Ctrl-K Ctrl-A":"selectToSublimeMark","Ctrl-K Ctrl-W":"deleteToSublimeMark","Ctrl-K Ctrl-X":"swapWithSublimeMark","Ctrl-K Ctrl-Y":"sublimeYank","Ctrl-K Ctrl-C":"showInCenter","Ctrl-K Ctrl-G":"clearBookmarks","Ctrl-K Ctrl-Backspace":"delLineLeft","Ctrl-K Ctrl-1":"foldAll",\n"Ctrl-K Ctrl-0":"unfoldAll","Ctrl-K Ctrl-J":"unfoldAll","Ctrl-Alt-Up":"addCursorToPrevLine","Ctrl-Alt-Down":"addCursorToNextLine","Ctrl-F3":"findUnder","Shift-Ctrl-F3":"findUnderPrevious","Alt-F3":"findAllUnder","Shift-Ctrl-[":"fold","Shift-Ctrl-]":"unfold","Ctrl-I":"findIncremental","Shift-Ctrl-I":"findIncrementalReverse","Ctrl-H":"replace","F3":"findNext","Shift-F3":"findPrev","fallthrough":"pcDefault"};CodeMirror.normalizeKeyMap(keyMap.pcSublime);var mac=keyMap.default==keyMap.macDefault;keyMap.sublime=\nmac?keyMap.macSublime:keyMap.pcSublime});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",\nmode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy","cbl"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp",\n"cs"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists\\.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},\n{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Copycat",mime:"text/x-copycat",mode:"copycat",ext:["copycat"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},\n{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},\n{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded JavaScript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},\n{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",\nmode:"gfm",file:/^(readme|contributing|history)\\.md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"GoogleSQL",mimes:["text/x-google-sql","text/x-google-sql-aux"],mode:"googlesql",ext:["gsql","googlesql"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",\next:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},\n{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",\nmode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"],alias:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},\n{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},\n{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},\n{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5",\n"php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",\nmime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",\nmode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh",\n"application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},\n{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},\n{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",\nmode:"tiki"},{name:"TLA+",mime:"text/x-tlaplus",mode:"tlaplus",ext:["tla"]},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",\nmode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",\nmime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",\nmode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]},{name:"WebAssembly",mime:"text/webassembly",mode:"wast",ext:["wat","wast"]}];for(var i=0;i<CodeMirror.modeInfo.length;i++){var info=CodeMirror.modeInfo[i];if(info.mimes)info.mime=info.mimes[0]}CodeMirror.findModeByMIME=function(mime){mime=mime.toLowerCase();for(var i=0;i<CodeMirror.modeInfo.length;i++){var info=\nCodeMirror.modeInfo[i];if(info.mime==mime)return info;if(info.mimes)for(var j=0;j<info.mimes.length;j++)if(info.mimes[j]==mime)return info}if(/\\+xml$/.test(mime))return CodeMirror.findModeByMIME("application/xml");if(/\\+json$/.test(mime))return CodeMirror.findModeByMIME("application/json")};CodeMirror.findModeByExtension=function(ext){ext=ext.toLowerCase();for(var i=0;i<CodeMirror.modeInfo.length;i++){var info=CodeMirror.modeInfo[i];if(info.ext)for(var j=0;j<info.ext.length;j++)if(info.ext[j]==ext)return info}};\nCodeMirror.findModeByFileName=function(filename){for(var i=0;i<CodeMirror.modeInfo.length;i++){var info=CodeMirror.modeInfo[i];if(info.file&&info.file.test(filename))return info}var dot=filename.lastIndexOf(".");var ext=dot>-1&&filename.substring(dot+1,filename.length);if(ext)return CodeMirror.findModeByExtension(ext)};CodeMirror.findModeByName=function(name){name=name.toLowerCase();for(var i=0;i<CodeMirror.modeInfo.length;i++){var info=CodeMirror.modeInfo[i];if(info.name.toLowerCase()==name)return info;\nif(info.alias)for(var j=0;j<info.alias.length;j++)if(info.alias[j].toLowerCase()==name)return info}}});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineOption("autoRefresh",false,function(cm,val){if(cm.state.autoRefresh){stopListening(cm,cm.state.autoRefresh);cm.state.autoRefresh=null}if(val&&cm.display.wrapper.offsetHeight==0)startListening(cm,cm.state.autoRefresh={delay:val.delay||250})});function startListening(cm,\nstate){function check(){if(cm.display.wrapper.offsetHeight){stopListening(cm,state);if(cm.display.lastWrapHeight!=cm.display.wrapper.clientHeight)cm.refresh()}else state.timeout=setTimeout(check,state.delay)}state.timeout=setTimeout(check,state.delay);state.hurry=function(){clearTimeout(state.timeout);state.timeout=setTimeout(check,50)};CodeMirror.on(window,"mouseup",state.hurry);CodeMirror.on(window,"keyup",state.hurry)}function stopListening(_cm,state){clearTimeout(state.timeout);CodeMirror.off(window,\n"mouseup",state.hurry);CodeMirror.off(window,"keyup",state.hurry)}});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineOption("fullScreen",false,function(cm,val,old){if(old==CodeMirror.Init)old=false;if(!old==!val)return;if(val)setFullscreen(cm);else setNormal(cm)});function setFullscreen(cm){var wrap=cm.getWrapperElement();cm.state.fullScreenRestore={scrollTop:window.pageYOffset,\nscrollLeft:window.pageXOffset,width:wrap.style.width,height:wrap.style.height};wrap.style.width="";wrap.style.height="auto";wrap.className+=" CodeMirror-fullscreen";document.documentElement.style.overflow="hidden";cm.refresh()}function setNormal(cm){var wrap=cm.getWrapperElement();wrap.className=wrap.className.replace(/\\s*CodeMirror-fullscreen\\b/,"");document.documentElement.style.overflow="";var info=cm.state.fullScreenRestore;wrap.style.width=info.width;wrap.style.height=info.height;window.scrollTo(info.scrollLeft,\ninfo.scrollTop);cm.refresh()}});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineExtension("addPanel",function(node,options){options=options||{};if(!this.state.panels)initPanels(this);var info=this.state.panels;var wrapper=info.wrapper;var cmWrapper=this.getWrapperElement();var replace=options.replace instanceof Panel&&!options.replace.cleared;\nif(options.after instanceof Panel&&!options.after.cleared)wrapper.insertBefore(node,options.before.node.nextSibling);else if(options.before instanceof Panel&&!options.before.cleared)wrapper.insertBefore(node,options.before.node);else if(replace){wrapper.insertBefore(node,options.replace.node);options.replace.clear(true)}else if(options.position=="bottom")wrapper.appendChild(node);else if(options.position=="before-bottom")wrapper.insertBefore(node,cmWrapper.nextSibling);else if(options.position=="after-top")wrapper.insertBefore(node,\ncmWrapper);else wrapper.insertBefore(node,wrapper.firstChild);var height=options&&options.height||node.offsetHeight;var panel=new Panel(this,node,options,height);info.panels.push(panel);this.setSize();if(options.stable&&isAtTop(this,node))this.scrollTo(null,this.getScrollInfo().top+height);return panel});function Panel(cm,node,options,height){this.cm=cm;this.node=node;this.options=options;this.height=height;this.cleared=false}Panel.prototype.clear=function(skipRemove){if(this.cleared)return;this.cleared=\ntrue;var info=this.cm.state.panels;info.panels.splice(info.panels.indexOf(this),1);this.cm.setSize();if(this.options.stable&&isAtTop(this.cm,this.node))this.cm.scrollTo(null,this.cm.getScrollInfo().top-this.height);info.wrapper.removeChild(this.node);if(info.panels.length==0&&!skipRemove)removePanels(this.cm)};Panel.prototype.changed=function(){this.height=this.node.getBoundingClientRect().height;this.cm.setSize()};function initPanels(cm){var wrap=cm.getWrapperElement();var style=window.getComputedStyle?\nwindow.getComputedStyle(wrap):wrap.currentStyle;var height=parseInt(style.height);var info=cm.state.panels={setHeight:wrap.style.height,panels:[],wrapper:document.createElement("div")};var hasFocus=cm.hasFocus(),scrollPos=cm.getScrollInfo();wrap.parentNode.insertBefore(info.wrapper,wrap);info.wrapper.appendChild(wrap);cm.scrollTo(scrollPos.left,scrollPos.top);if(hasFocus)cm.focus();cm._setSize=cm.setSize;if(height!=null)cm.setSize=function(width,newHeight){if(!newHeight)newHeight=info.wrapper.offsetHeight;\ninfo.setHeight=newHeight;if(typeof newHeight!="number"){var px=/^(\\d+\\.?\\d*)px$/.exec(newHeight);if(px)newHeight=Number(px[1]);else{info.wrapper.style.height=newHeight;newHeight=info.wrapper.offsetHeight}}var editorheight=newHeight-info.panels.map(function(p){return p.node.getBoundingClientRect().height}).reduce(function(a,b){return a+b},0);cm._setSize(width,editorheight);height=newHeight}}function removePanels(cm){var info=cm.state.panels;cm.state.panels=null;var wrap=cm.getWrapperElement();var hasFocus=\ncm.hasFocus(),scrollPos=cm.getScrollInfo();info.wrapper.parentNode.replaceChild(wrap,info.wrapper);cm.scrollTo(scrollPos.left,scrollPos.top);if(hasFocus)cm.focus();wrap.style.height=info.setHeight;cm.setSize=cm._setSize;cm.setSize()}function isAtTop(cm,dom){for(var sibling=dom.nextSibling;sibling;sibling=sibling.nextSibling)if(sibling==cm.getWrapperElement())return true;return false}});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineOption("placeholder","",function(cm,val,old){var prev=old&&old!=CodeMirror.Init;if(val&&!prev){cm.on("blur",onBlur);cm.on("change",onChange);cm.on("swapDoc",onChange);CodeMirror.on(cm.getInputField(),"compositionupdate",cm.state.placeholderCompose=function(){onComposition(cm)});\nonChange(cm)}else if(!val&&prev){cm.off("blur",onBlur);cm.off("change",onChange);cm.off("swapDoc",onChange);CodeMirror.off(cm.getInputField(),"compositionupdate",cm.state.placeholderCompose);clearPlaceholder(cm);var wrapper=cm.getWrapperElement();wrapper.className=wrapper.className.replace(" CodeMirror-empty","")}if(val&&!cm.hasFocus())onBlur(cm)});function clearPlaceholder(cm){if(cm.state.placeholder){cm.state.placeholder.parentNode.removeChild(cm.state.placeholder);cm.state.placeholder=null}}function setPlaceholder(cm){clearPlaceholder(cm);\nvar elt=cm.state.placeholder=document.createElement("pre");elt.style.cssText="height: 0; overflow: visible";elt.style.direction=cm.getOption("direction");elt.className="CodeMirror-placeholder CodeMirror-line-like";var placeHolder=cm.getOption("placeholder");if(typeof placeHolder=="string")placeHolder=document.createTextNode(placeHolder);elt.appendChild(placeHolder);cm.display.lineSpace.insertBefore(elt,cm.display.lineSpace.firstChild)}function onComposition(cm){setTimeout(function(){var empty=false;\nif(cm.lineCount()==1){var input=cm.getInputField();empty=input.nodeName=="TEXTAREA"?!cm.getLine(0).length:!/[^\\u200b]/.test(input.querySelector(".CodeMirror-line").textContent)}if(empty)setPlaceholder(cm);else clearPlaceholder(cm)},20)}function onBlur(cm){if(isEmpty(cm))setPlaceholder(cm)}function onChange(cm){var wrapper=cm.getWrapperElement(),empty=isEmpty(cm);wrapper.className=wrapper.className.replace(" CodeMirror-empty","")+(empty?" CodeMirror-empty":"");if(empty)setPlaceholder(cm);else clearPlaceholder(cm)}\nfunction isEmpty(cm){return cm.lineCount()===1&&cm.getLine(0)===""}});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineOption("rulers",false,function(cm,val){if(cm.state.rulerDiv){cm.state.rulerDiv.parentElement.removeChild(cm.state.rulerDiv);cm.state.rulerDiv=null;cm.off("refresh",drawRulers)}if(val&&val.length){cm.state.rulerDiv=cm.display.lineSpace.parentElement.insertBefore(document.createElement("div"),\ncm.display.lineSpace);cm.state.rulerDiv.className="CodeMirror-rulers";drawRulers(cm);cm.on("refresh",drawRulers)}});function drawRulers(cm){cm.state.rulerDiv.textContent="";var val=cm.getOption("rulers");var cw=cm.defaultCharWidth();var left=cm.charCoords(CodeMirror.Pos(cm.firstLine(),0),"div").left;cm.state.rulerDiv.style.minHeight=cm.display.scroller.offsetHeight+30+"px";for(var i=0;i<val.length;i++){var elt=document.createElement("div");elt.className="CodeMirror-ruler";var col,conf=val[i];if(typeof conf==\n"number")col=conf;else{col=conf.column;if(conf.className)elt.className+=" "+conf.className;if(conf.color)elt.style.borderColor=conf.color;if(conf.lineStyle)elt.style.borderLeftStyle=conf.lineStyle;if(conf.width)elt.style.borderLeftWidth=conf.width}elt.style.left=left+col*cw+"px";cm.state.rulerDiv.appendChild(elt)}}});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineSimpleMode=function(name,states){CodeMirror.defineMode(name,function(config){return CodeMirror.simpleMode(config,states)})};CodeMirror.simpleMode=function(config,states){ensureState(states,"start");var states_={},meta=states.meta||{},hasIndentation=false;\nfor(var state in states)if(state!=meta&&states.hasOwnProperty(state)){var list=states_[state]=[],orig=states[state];for(var i=0;i<orig.length;i++){var data=orig[i];list.push(new Rule(data,states));if(data.indent||data.dedent)hasIndentation=true}}var mode={startState:function(){return{state:"start",pending:null,local:null,localState:null,indent:hasIndentation?[]:null}},copyState:function(state){var s={state:state.state,pending:state.pending,local:state.local,localState:null,indent:state.indent&&state.indent.slice(0)};\nif(state.localState)s.localState=CodeMirror.copyState(state.local.mode,state.localState);if(state.stack)s.stack=state.stack.slice(0);for(var pers=state.persistentStates;pers;pers=pers.next)s.persistentStates={mode:pers.mode,spec:pers.spec,state:pers.state==state.localState?s.localState:CodeMirror.copyState(pers.mode,pers.state),next:s.persistentStates};return s},token:tokenFunction(states_,config),innerMode:function(state){return state.local&&{mode:state.local.mode,state:state.localState}},indent:indentFunction(states_,\nmeta)};if(meta)for(var prop in meta)if(meta.hasOwnProperty(prop))mode[prop]=meta[prop];return mode};function ensureState(states,name){if(!states.hasOwnProperty(name))throw new Error("Undefined state "+name+" in simple mode");}function toRegex(val,caret){if(!val)return/(?:)/;var flags="";if(val instanceof RegExp){if(val.ignoreCase)flags="i";if(val.unicode)flags+="u";val=val.source}else val=String(val);return new RegExp((caret===false?"":"^")+"(?:"+val+")",flags)}function asToken(val){if(!val)return null;\nif(val.apply)return val;if(typeof val=="string")return val.replace(/\\./g," ");var result=[];for(var i=0;i<val.length;i++)result.push(val[i]&&val[i].replace(/\\./g," "));return result}function Rule(data,states){if(data.next||data.push)ensureState(states,data.next||data.push);this.regex=toRegex(data.regex);this.token=asToken(data.token);this.data=data}function tokenFunction(states,config){return function(stream,state){if(state.pending){var pend=state.pending.shift();if(state.pending.length==0)state.pending=\nnull;stream.pos+=pend.text.length;return pend.token}if(state.local)if(state.local.end&&stream.match(state.local.end)){var tok=state.local.endToken||null;state.local=state.localState=null;return tok}else{var tok=state.local.mode.token(stream,state.localState),m;if(state.local.endScan&&(m=state.local.endScan.exec(stream.current())))stream.pos=stream.start+m.index;return tok}var curState=states[state.state];for(var i=0;i<curState.length;i++){var rule=curState[i];var matches=(!rule.data.sol||stream.sol())&&\nstream.match(rule.regex);if(matches){if(rule.data.next)state.state=rule.data.next;else if(rule.data.push){(state.stack||(state.stack=[])).push(state.state);state.state=rule.data.push}else if(rule.data.pop&&state.stack&&state.stack.length)state.state=state.stack.pop();if(rule.data.mode)enterLocalMode(config,state,rule.data.mode,rule.token);if(rule.data.indent)state.indent.push(stream.indentation()+config.indentUnit);if(rule.data.dedent)state.indent.pop();var token=rule.token;if(token&&token.apply)token=\ntoken(matches);if(matches.length>2&&rule.token&&typeof rule.token!="string"){for(var j=2;j<matches.length;j++)if(matches[j])(state.pending||(state.pending=[])).push({text:matches[j],token:rule.token[j-1]});stream.backUp(matches[0].length-(matches[1]?matches[1].length:0));return token[0]}else if(token&&token.join)return token[0];else return token}}stream.next();return null}}function cmp(a,b){if(a===b)return true;if(!a||typeof a!="object"||!b||typeof b!="object")return false;var props=0;for(var prop in a)if(a.hasOwnProperty(prop)){if(!b.hasOwnProperty(prop)||\n!cmp(a[prop],b[prop]))return false;props++}for(var prop in b)if(b.hasOwnProperty(prop))props--;return props==0}function enterLocalMode(config,state,spec,token){var pers;if(spec.persistent)for(var p=state.persistentStates;p&&!pers;p=p.next)if(spec.spec?cmp(spec.spec,p.spec):spec.mode==p.mode)pers=p;var mode=pers?pers.mode:spec.mode||CodeMirror.getMode(config,spec.spec);var lState=pers?pers.state:CodeMirror.startState(mode);if(spec.persistent&&!pers)state.persistentStates={mode:mode,spec:spec.spec,\nstate:lState,next:state.persistentStates};state.localState=lState;state.local={mode:mode,end:spec.end&&toRegex(spec.end),endScan:spec.end&&spec.forceEnd!==false&&toRegex(spec.end,false),endToken:token&&token.join?token[token.length-1]:token}}function indexOf(val,arr){for(var i=0;i<arr.length;i++)if(arr[i]===val)return true}function indentFunction(states,meta){return function(state,textAfter,line){if(state.local&&state.local.mode.indent)return state.local.mode.indent(state.localState,textAfter,line);\nif(state.indent==null||state.local||meta.dontIndentStates&&indexOf(state.state,meta.dontIndentStates)>-1)return CodeMirror.Pass;var pos=state.indent.length-1,rules=states[state.state];scan:for(;;){for(var i=0;i<rules.length;i++){var rule=rules[i];if(rule.data.dedent&&rule.data.dedentIfLineStart!==false){var m=rule.regex.exec(textAfter);if(m&&m[0]){pos--;if(rule.next||rule.push)rules=states[rule.next||rule.push];textAfter=textAfter.slice(m[0].length);continue scan}}}break}return pos<0?0:state.indent[pos]}}\n});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"),require("../../addon/mode/simple"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror","../../addon/mode/simple"],mod);else mod(CodeMirror)})(function(CodeMirror){var from="from";var fromRegex=new RegExp("^(\\\\s*)\\\\b("+from+")\\\\b","i");var shells=["run","cmd","entrypoint","shell"];var shellsAsArrayRegex=new RegExp("^(\\\\s*)("+shells.join("|")+")(\\\\s+\\\\[)","i");var expose=\n"expose";var exposeRegex=new RegExp("^(\\\\s*)("+expose+")(\\\\s+)","i");var others=["arg","from","maintainer","label","env","add","copy","volume","user","workdir","onbuild","stopsignal","healthcheck","shell"];var instructions=[from,expose].concat(shells).concat(others),instructionRegex="("+instructions.join("|")+")",instructionOnlyLine=new RegExp("^(\\\\s*)"+instructionRegex+"(\\\\s*)(#.*)?$","i"),instructionWithArguments=new RegExp("^(\\\\s*)"+instructionRegex+"(\\\\s+)","i");CodeMirror.defineSimpleMode("dockerfile",\n{start:[{regex:/^\\s*#.*$/,sol:true,token:"comment"},{regex:fromRegex,token:[null,"keyword"],sol:true,next:"from"},{regex:instructionOnlyLine,token:[null,"keyword",null,"error"],sol:true},{regex:shellsAsArrayRegex,token:[null,"keyword",null],sol:true,next:"array"},{regex:exposeRegex,token:[null,"keyword",null],sol:true,next:"expose"},{regex:instructionWithArguments,token:[null,"keyword",null],sol:true,next:"arguments"},{regex:/./,token:null}],from:[{regex:/\\s*$/,token:null,next:"start"},{regex:/(\\s*)(#.*)$/,\ntoken:[null,"error"],next:"start"},{regex:/(\\s*\\S+\\s+)(as)/i,token:[null,"keyword"],next:"start"},{token:null,next:"start"}],single:[{regex:/(?:[^\\\\\']|\\\\.)/,token:"string"},{regex:/\'/,token:"string",pop:true}],double:[{regex:/(?:[^\\\\"]|\\\\.)/,token:"string"},{regex:/"/,token:"string",pop:true}],array:[{regex:/\\]/,token:null,next:"start"},{regex:/"(?:[^\\\\"]|\\\\.)*"?/,token:"string"}],expose:[{regex:/\\d+$/,token:"number",next:"start"},{regex:/[^\\d]+$/,token:null,next:"start"},{regex:/\\d+/,token:"number"},\n{regex:/[^\\d]+/,token:null},{token:null,next:"start"}],arguments:[{regex:/^\\s*#.*$/,sol:true,token:"comment"},{regex:/"(?:[^\\\\"]|\\\\.)*"?$/,token:"string",next:"start"},{regex:/"/,token:"string",push:"double"},{regex:/\'(?:[^\\\\\']|\\\\.)*\'?$/,token:"string",next:"start"},{regex:/\'/,token:"string",push:"single"},{regex:/[^#"\']+[\\\\`]$/,token:null},{regex:/[^#"\']+$/,token:null,next:"start"},{regex:/[^#"\']+/,token:null},{token:null,next:"start"}],meta:{lineComment:"#"}});CodeMirror.defineMIME("text/x-dockerfile",\n"dockerfile")});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.multiplexingMode=function(outer){var others=Array.prototype.slice.call(arguments,1);function indexOf(string,pattern,from,returnEnd){if(typeof pattern=="string"){var found=string.indexOf(pattern,from);return returnEnd&&found>-1?found+pattern.length:found}var m=\npattern.exec(from?string.slice(from):string);return m?m.index+from+(returnEnd?m[0].length:0):-1}return{startState:function(){return{outer:CodeMirror.startState(outer),innerActive:null,inner:null,startingInner:false}},copyState:function(state){return{outer:CodeMirror.copyState(outer,state.outer),innerActive:state.innerActive,inner:state.innerActive&&CodeMirror.copyState(state.innerActive.mode,state.inner),startingInner:state.startingInner}},token:function(stream,state){if(!state.innerActive){var cutOff=\nInfinity,oldContent=stream.string;for(var i=0;i<others.length;++i){var other=others[i];var found=indexOf(oldContent,other.open,stream.pos);if(found==stream.pos){if(!other.parseDelimiters)stream.match(other.open);state.startingInner=!!other.parseDelimiters;state.innerActive=other;var outerIndent=0;if(outer.indent){var possibleOuterIndent=outer.indent(state.outer,"","");if(possibleOuterIndent!==CodeMirror.Pass)outerIndent=possibleOuterIndent}state.inner=CodeMirror.startState(other.mode,outerIndent);\nreturn other.delimStyle&&other.delimStyle+" "+other.delimStyle+"-open"}else if(found!=-1&&found<cutOff)cutOff=found}if(cutOff!=Infinity)stream.string=oldContent.slice(0,cutOff);var outerToken=outer.token(stream,state.outer);if(cutOff!=Infinity)stream.string=oldContent;return outerToken}else{var curInner=state.innerActive,oldContent=stream.string;if(!curInner.close&&stream.sol()){state.innerActive=state.inner=null;return this.token(stream,state)}var found=curInner.close&&!state.startingInner?indexOf(oldContent,\ncurInner.close,stream.pos,curInner.parseDelimiters):-1;if(found==stream.pos&&!curInner.parseDelimiters){stream.match(curInner.close);state.innerActive=state.inner=null;return curInner.delimStyle&&curInner.delimStyle+" "+curInner.delimStyle+"-close"}if(found>-1)stream.string=oldContent.slice(0,found);var innerToken=curInner.mode.token(stream,state.inner);if(found>-1)stream.string=oldContent;else if(stream.pos>stream.start)state.startingInner=false;if(found==stream.pos&&curInner.parseDelimiters)state.innerActive=\nstate.inner=null;if(curInner.innerStyle)if(innerToken)innerToken=innerToken+" "+curInner.innerStyle;else innerToken=curInner.innerStyle;return innerToken}},indent:function(state,textAfter,line){var mode=state.innerActive?state.innerActive.mode:outer;if(!mode.indent)return CodeMirror.Pass;return mode.indent(state.innerActive?state.inner:state.outer,textAfter,line)},blankLine:function(state){var mode=state.innerActive?state.innerActive.mode:outer;if(mode.blankLine)mode.blankLine(state.innerActive?state.inner:\nstate.outer);if(!state.innerActive)for(var i=0;i<others.length;++i){var other=others[i];if(other.open==="\\n"){state.innerActive=other;state.inner=CodeMirror.startState(other.mode,mode.indent?mode.indent(state.outer,"",""):0)}}else if(state.innerActive.close==="\\n")state.innerActive=state.inner=null},electricChars:outer.electricChars,innerMode:function(state){return state.inner?{state:state.inner,mode:state.innerActive.mode}:{state:state.outer,mode:outer}}}}});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"),require("../htmlmixed/htmlmixed"),require("../../addon/mode/multiplex"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror","../htmlmixed/htmlmixed","../../addon/mode/multiplex"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineMode("htmlembedded",function(config,parserConfig){var closeComment=parserConfig.closeComment||"--%>";return CodeMirror.multiplexingMode(CodeMirror.getMode(config,\n"htmlmixed"),{open:parserConfig.openComment||"<%--",close:closeComment,delimStyle:"comment",mode:{token:function(stream){stream.skipTo(closeComment)||stream.skipToEnd();return"comment"}}},{open:parserConfig.open||parserConfig.scriptStartRegex||"<%",close:parserConfig.close||parserConfig.scriptEndRegex||"%>",mode:CodeMirror.getMode(config,parserConfig.scriptingModeSpec)})},"htmlmixed");CodeMirror.defineMIME("application/x-ejs",{name:"htmlembedded",scriptingModeSpec:"javascript"});CodeMirror.defineMIME("application/x-aspx",\n{name:"htmlembedded",scriptingModeSpec:"text/x-csharp"});CodeMirror.defineMIME("application/x-jsp",{name:"htmlembedded",scriptingModeSpec:"text/x-java"});CodeMirror.defineMIME("application/x-erb",{name:"htmlembedded",scriptingModeSpec:"ruby"})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"),require("../xml/xml"),require("../javascript/javascript"),require("../css/css"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror","../xml/xml","../javascript/javascript","../css/css"],mod);else mod(CodeMirror)})(function(CodeMirror){var defaultTags={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,\n"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};function maybeBackup(stream,pat,style){var cur=stream.current(),close=cur.search(pat);if(close>-1)stream.backUp(cur.length-close);else if(cur.match(/<\\/?$/)){stream.backUp(cur.length);if(!stream.match(pat,false))stream.match(cur)}return style}var attrRegexpCache={};function getAttrRegexp(attr){var regexp=attrRegexpCache[attr];\nif(regexp)return regexp;return attrRegexpCache[attr]=new RegExp("\\\\s+"+attr+"\\\\s*=\\\\s*(\'|\\")?([^\'\\"]+)(\'|\\")?\\\\s*")}function getAttrValue(text,attr){var match=text.match(getAttrRegexp(attr));return match?/^\\s*(.*?)\\s*$/.exec(match[2])[1]:""}function getTagRegexp(tagName,anchored){return new RegExp((anchored?"^":"")+"</\\\\s*"+tagName+"\\\\s*>","i")}function addTags(from,to){for(var tag in from){var dest=to[tag]||(to[tag]=[]);var source=from[tag];for(var i=source.length-1;i>=0;i--)dest.unshift(source[i])}}\nfunction findMatchingMode(tagInfo,tagText){for(var i=0;i<tagInfo.length;i++){var spec=tagInfo[i];if(!spec[0]||spec[1].test(getAttrValue(tagText,spec[0])))return spec[2]}}CodeMirror.defineMode("htmlmixed",function(config,parserConfig){var htmlMode=CodeMirror.getMode(config,{name:"xml",htmlMode:true,multilineTagIndentFactor:parserConfig.multilineTagIndentFactor,multilineTagIndentPastTag:parserConfig.multilineTagIndentPastTag,allowMissingTagName:parserConfig.allowMissingTagName});var tags={};var configTags=\nparserConfig&&parserConfig.tags,configScript=parserConfig&&parserConfig.scriptTypes;addTags(defaultTags,tags);if(configTags)addTags(configTags,tags);if(configScript)for(var i=configScript.length-1;i>=0;i--)tags.script.unshift(["type",configScript[i].matches,configScript[i].mode]);function html(stream,state){var style=htmlMode.token(stream,state.htmlState),tag=/\\btag\\b/.test(style),tagName;if(tag&&!/[<>\\s\\/]/.test(stream.current())&&(tagName=state.htmlState.tagName&&state.htmlState.tagName.toLowerCase())&&\ntags.hasOwnProperty(tagName))state.inTag=tagName+" ";else if(state.inTag&&tag&&/>$/.test(stream.current())){var inTag=/^([\\S]+) (.*)/.exec(state.inTag);state.inTag=null;var modeSpec=stream.current()==">"&&findMatchingMode(tags[inTag[1]],inTag[2]);var mode=CodeMirror.getMode(config,modeSpec);var endTagA=getTagRegexp(inTag[1],true),endTag=getTagRegexp(inTag[1],false);state.token=function(stream,state){if(stream.match(endTagA,false)){state.token=html;state.localState=state.localMode=null;return null}return maybeBackup(stream,\nendTag,state.localMode.token(stream,state.localState))};state.localMode=mode;state.localState=CodeMirror.startState(mode,htmlMode.indent(state.htmlState,"",""))}else if(state.inTag){state.inTag+=stream.current();if(stream.eol())state.inTag+=" "}return style}return{startState:function(){var state=CodeMirror.startState(htmlMode);return{token:html,inTag:null,localMode:null,localState:null,htmlState:state}},copyState:function(state){var local;if(state.localState)local=CodeMirror.copyState(state.localMode,\nstate.localState);return{token:state.token,inTag:state.inTag,localMode:state.localMode,localState:local,htmlState:CodeMirror.copyState(htmlMode,state.htmlState)}},token:function(stream,state){return state.token(stream,state)},indent:function(state,textAfter,line){if(!state.localMode||/^\\s*<\\//.test(textAfter))return htmlMode.indent(state.htmlState,textAfter,line);else if(state.localMode.indent)return state.localMode.indent(state.localState,textAfter,line);else return CodeMirror.Pass},innerMode:function(state){return{state:state.localState||\nstate.htmlState,mode:state.localMode||htmlMode}}}},"xml","javascript","css");CodeMirror.defineMIME("text/html","htmlmixed")});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineMode("javascript",function(config,parserConfig){var indentUnit=config.indentUnit;var statementIndent=parserConfig.statementIndent;var jsonldMode=parserConfig.jsonld;var jsonMode=parserConfig.json||jsonldMode;var trackScope=parserConfig.trackScope!==false;\nvar isTS=parserConfig.typescript;var wordRE=parserConfig.wordCharacters||/[\\w$\\xa1-\\uffff]/;var keywords=function(){function kw(type){return{type:type,style:"keyword"}}var A=kw("keyword a"),B=kw("keyword b"),C=kw("keyword c"),D=kw("keyword d");var operator=kw("operator"),atom={type:"atom",style:"atom"};return{"if":kw("if"),"while":A,"with":A,"else":B,"do":B,"try":B,"finally":B,"return":D,"break":D,"continue":D,"new":kw("new"),"delete":C,"void":C,"throw":C,"debugger":kw("debugger"),"var":kw("var"),\n"const":kw("var"),"let":kw("var"),"function":kw("function"),"catch":kw("catch"),"for":kw("for"),"switch":kw("switch"),"case":kw("case"),"default":kw("default"),"in":operator,"typeof":operator,"instanceof":operator,"true":atom,"false":atom,"null":atom,"undefined":atom,"NaN":atom,"Infinity":atom,"this":kw("this"),"class":kw("class"),"super":kw("atom"),"yield":C,"export":kw("export"),"import":kw("import"),"extends":C,"await":C}}();var isOperatorChar=/[+\\-*&%=<>!?|~^@]/;var isJsonldKeyword=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;\nfunction readRegexp(stream){var escaped=false,next,inSet=false;while((next=stream.next())!=null){if(!escaped){if(next=="/"&&!inSet)return;if(next=="[")inSet=true;else if(inSet&&next=="]")inSet=false}escaped=!escaped&&next=="\\\\"}}var type,content;function ret(tp,style,cont){type=tp;content=cont;return style}function tokenBase(stream,state){var ch=stream.next();if(ch==\'"\'||ch=="\'"){state.tokenize=tokenString(ch);return state.tokenize(stream,state)}else if(ch=="."&&stream.match(/^\\d[\\d_]*(?:[eE][+\\-]?[\\d_]+)?/))return ret("number",\n"number");else if(ch=="."&&stream.match(".."))return ret("spread","meta");else if(/[\\[\\]{}\\(\\),;:\\.]/.test(ch))return ret(ch);else if(ch=="="&&stream.eat(">"))return ret("=>","operator");else if(ch=="0"&&stream.match(/^(?:x[\\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return ret("number","number");else if(/\\d/.test(ch)){stream.match(/^[\\d_]*(?:n|(?:\\.[\\d_]*)?(?:[eE][+\\-]?[\\d_]+)?)?/);return ret("number","number")}else if(ch=="/")if(stream.eat("*")){state.tokenize=tokenComment;return tokenComment(stream,state)}else if(stream.eat("/")){stream.skipToEnd();\nreturn ret("comment","comment")}else if(expressionAllowed(stream,state,1)){readRegexp(stream);stream.match(/^\\b(([gimyus])(?![gimyus]*\\2))+\\b/);return ret("regexp","string-2")}else{stream.eat("=");return ret("operator","operator",stream.current())}else if(ch=="`"){state.tokenize=tokenQuasi;return tokenQuasi(stream,state)}else if(ch=="#"&&stream.peek()=="!"){stream.skipToEnd();return ret("meta","meta")}else if(ch=="#"&&stream.eatWhile(wordRE))return ret("variable","property");else if(ch=="<"&&stream.match("!--")||\nch=="-"&&stream.match("->")&&!/\\S/.test(stream.string.slice(0,stream.start))){stream.skipToEnd();return ret("comment","comment")}else if(isOperatorChar.test(ch)){if(ch!=">"||!state.lexical||state.lexical.type!=">")if(stream.eat("=")){if(ch=="!"||ch=="=")stream.eat("=")}else if(/[<>*+\\-|&?]/.test(ch)){stream.eat(ch);if(ch==">")stream.eat(ch)}if(ch=="?"&&stream.eat("."))return ret(".");return ret("operator","operator",stream.current())}else if(wordRE.test(ch)){stream.eatWhile(wordRE);var word=stream.current();\nif(state.lastType!="."){if(keywords.propertyIsEnumerable(word)){var kw=keywords[word];return ret(kw.type,kw.style,word)}if(word=="async"&&stream.match(/^(\\s|\\/\\*([^*]|\\*(?!\\/))*?\\*\\/)*[\\[\\(\\w]/,false))return ret("async","keyword",word)}return ret("variable","variable",word)}}function tokenString(quote){return function(stream,state){var escaped=false,next;if(jsonldMode&&stream.peek()=="@"&&stream.match(isJsonldKeyword)){state.tokenize=tokenBase;return ret("jsonld-keyword","meta")}while((next=stream.next())!=\nnull){if(next==quote&&!escaped)break;escaped=!escaped&&next=="\\\\"}if(!escaped)state.tokenize=tokenBase;return ret("string","string")}}function tokenComment(stream,state){var maybeEnd=false,ch;while(ch=stream.next()){if(ch=="/"&&maybeEnd){state.tokenize=tokenBase;break}maybeEnd=ch=="*"}return ret("comment","comment")}function tokenQuasi(stream,state){var escaped=false,next;while((next=stream.next())!=null){if(!escaped&&(next=="`"||next=="$"&&stream.eat("{"))){state.tokenize=tokenBase;break}escaped=\n!escaped&&next=="\\\\"}return ret("quasi","string-2",stream.current())}var brackets="([{}])";function findFatArrow(stream,state){if(state.fatArrowAt)state.fatArrowAt=null;var arrow=stream.string.indexOf("=>",stream.start);if(arrow<0)return;if(isTS){var m=/:\\s*(?:\\w+(?:<[^>]*>|\\[\\])?|\\{[^}]*\\})\\s*$/.exec(stream.string.slice(stream.start,arrow));if(m)arrow=m.index}var depth=0,sawSomething=false;for(var pos=arrow-1;pos>=0;--pos){var ch=stream.string.charAt(pos);var bracket=brackets.indexOf(ch);if(bracket>=\n0&&bracket<3){if(!depth){++pos;break}if(--depth==0){if(ch=="(")sawSomething=true;break}}else if(bracket>=3&&bracket<6)++depth;else if(wordRE.test(ch))sawSomething=true;else if(/["\'\\/`]/.test(ch))for(;;--pos){if(pos==0)return;var next=stream.string.charAt(pos-1);if(next==ch&&stream.string.charAt(pos-2)!="\\\\"){pos--;break}}else if(sawSomething&&!depth){++pos;break}}if(sawSomething&&!depth)state.fatArrowAt=pos}var atomicTypes={"atom":true,"number":true,"variable":true,"string":true,"regexp":true,"this":true,\n"import":true,"jsonld-keyword":true};function JSLexical(indented,column,type,align,prev,info){this.indented=indented;this.column=column;this.type=type;this.prev=prev;this.info=info;if(align!=null)this.align=align}function inScope(state,varname){if(!trackScope)return false;for(var v=state.localVars;v;v=v.next)if(v.name==varname)return true;for(var cx=state.context;cx;cx=cx.prev)for(var v=cx.vars;v;v=v.next)if(v.name==varname)return true}function parseJS(state,style,type,content,stream){var cc=state.cc;\ncx.state=state;cx.stream=stream;cx.marked=null,cx.cc=cc;cx.style=style;if(!state.lexical.hasOwnProperty("align"))state.lexical.align=true;while(true){var combinator=cc.length?cc.pop():jsonMode?expression:statement;if(combinator(type,content)){while(cc.length&&cc[cc.length-1].lex)cc.pop()();if(cx.marked)return cx.marked;if(type=="variable"&&inScope(state,content))return"variable-2";return style}}}var cx={state:null,column:null,marked:null,cc:null};function pass(){for(var i=arguments.length-1;i>=0;i--)cx.cc.push(arguments[i])}\nfunction cont(){pass.apply(null,arguments);return true}function inList(name,list){for(var v=list;v;v=v.next)if(v.name==name)return true;return false}function register(varname){var state=cx.state;cx.marked="def";if(!trackScope)return;if(state.context)if(state.lexical.info=="var"&&state.context&&state.context.block){var newContext=registerVarScoped(varname,state.context);if(newContext!=null){state.context=newContext;return}}else if(!inList(varname,state.localVars)){state.localVars=new Var(varname,state.localVars);\nreturn}if(parserConfig.globalVars&&!inList(varname,state.globalVars))state.globalVars=new Var(varname,state.globalVars)}function registerVarScoped(varname,context){if(!context)return null;else if(context.block){var inner=registerVarScoped(varname,context.prev);if(!inner)return null;if(inner==context.prev)return context;return new Context(inner,context.vars,true)}else if(inList(varname,context.vars))return context;else return new Context(context.prev,new Var(varname,context.vars),false)}function isModifier(name){return name==\n"public"||name=="private"||name=="protected"||name=="abstract"||name=="readonly"}function Context(prev,vars,block){this.prev=prev;this.vars=vars;this.block=block}function Var(name,next){this.name=name;this.next=next}var defaultVars=new Var("this",new Var("arguments",null));function pushcontext(){cx.state.context=new Context(cx.state.context,cx.state.localVars,false);cx.state.localVars=defaultVars}function pushblockcontext(){cx.state.context=new Context(cx.state.context,cx.state.localVars,true);cx.state.localVars=\nnull}pushcontext.lex=pushblockcontext.lex=true;function popcontext(){cx.state.localVars=cx.state.context.vars;cx.state.context=cx.state.context.prev}popcontext.lex=true;function pushlex(type,info){var result=function(){var state=cx.state,indent=state.indented;if(state.lexical.type=="stat")indent=state.lexical.indented;else for(var outer=state.lexical;outer&&outer.type==")"&&outer.align;outer=outer.prev)indent=outer.indented;state.lexical=new JSLexical(indent,cx.stream.column(),type,null,state.lexical,\ninfo)};result.lex=true;return result}function poplex(){var state=cx.state;if(state.lexical.prev){if(state.lexical.type==")")state.indented=state.lexical.indented;state.lexical=state.lexical.prev}}poplex.lex=true;function expect(wanted){function exp(type){if(type==wanted)return cont();else if(wanted==";"||type=="}"||type==")"||type=="]")return pass();else return cont(exp)}return exp}function statement(type,value){if(type=="var")return cont(pushlex("vardef",value),vardef,expect(";"),poplex);if(type==\n"keyword a")return cont(pushlex("form"),parenExpr,statement,poplex);if(type=="keyword b")return cont(pushlex("form"),statement,poplex);if(type=="keyword d")return cx.stream.match(/^\\s*$/,false)?cont():cont(pushlex("stat"),maybeexpression,expect(";"),poplex);if(type=="debugger")return cont(expect(";"));if(type=="{")return cont(pushlex("}"),pushblockcontext,block,poplex,popcontext);if(type==";")return cont();if(type=="if"){if(cx.state.lexical.info=="else"&&cx.state.cc[cx.state.cc.length-1]==poplex)cx.state.cc.pop()();\nreturn cont(pushlex("form"),parenExpr,statement,poplex,maybeelse)}if(type=="function")return cont(functiondef);if(type=="for")return cont(pushlex("form"),pushblockcontext,forspec,statement,popcontext,poplex);if(type=="class"||isTS&&value=="interface"){cx.marked="keyword";return cont(pushlex("form",type=="class"?type:value),className,poplex)}if(type=="variable")if(isTS&&value=="declare"){cx.marked="keyword";return cont(statement)}else if(isTS&&(value=="module"||value=="enum"||value=="type")&&cx.stream.match(/^\\s*\\w/,\nfalse)){cx.marked="keyword";if(value=="enum")return cont(enumdef);else if(value=="type")return cont(typename,expect("operator"),typeexpr,expect(";"));else return cont(pushlex("form"),pattern,expect("{"),pushlex("}"),block,poplex,poplex)}else if(isTS&&value=="namespace"){cx.marked="keyword";return cont(pushlex("form"),expression,statement,poplex)}else if(isTS&&value=="abstract"){cx.marked="keyword";return cont(statement)}else return cont(pushlex("stat"),maybelabel);if(type=="switch")return cont(pushlex("form"),\nparenExpr,expect("{"),pushlex("}","switch"),pushblockcontext,block,poplex,poplex,popcontext);if(type=="case")return cont(expression,expect(":"));if(type=="default")return cont(expect(":"));if(type=="catch")return cont(pushlex("form"),pushcontext,maybeCatchBinding,statement,poplex,popcontext);if(type=="export")return cont(pushlex("stat"),afterExport,poplex);if(type=="import")return cont(pushlex("stat"),afterImport,poplex);if(type=="async")return cont(statement);if(value=="@")return cont(expression,\nstatement);return pass(pushlex("stat"),expression,expect(";"),poplex)}function maybeCatchBinding(type){if(type=="(")return cont(funarg,expect(")"))}function expression(type,value){return expressionInner(type,value,false)}function expressionNoComma(type,value){return expressionInner(type,value,true)}function parenExpr(type){if(type!="(")return pass();return cont(pushlex(")"),maybeexpression,expect(")"),poplex)}function expressionInner(type,value,noComma){if(cx.state.fatArrowAt==cx.stream.start){var body=\nnoComma?arrowBodyNoComma:arrowBody;if(type=="(")return cont(pushcontext,pushlex(")"),commasep(funarg,")"),poplex,expect("=>"),body,popcontext);else if(type=="variable")return pass(pushcontext,pattern,expect("=>"),body,popcontext)}var maybeop=noComma?maybeoperatorNoComma:maybeoperatorComma;if(atomicTypes.hasOwnProperty(type))return cont(maybeop);if(type=="function")return cont(functiondef,maybeop);if(type=="class"||isTS&&value=="interface"){cx.marked="keyword";return cont(pushlex("form"),classExpression,\npoplex)}if(type=="keyword c"||type=="async")return cont(noComma?expressionNoComma:expression);if(type=="(")return cont(pushlex(")"),maybeexpression,expect(")"),poplex,maybeop);if(type=="operator"||type=="spread")return cont(noComma?expressionNoComma:expression);if(type=="[")return cont(pushlex("]"),arrayLiteral,poplex,maybeop);if(type=="{")return contCommasep(objprop,"}",null,maybeop);if(type=="quasi")return pass(quasi,maybeop);if(type=="new")return cont(maybeTarget(noComma));return cont()}function maybeexpression(type){if(type.match(/[;\\}\\)\\],]/))return pass();\nreturn pass(expression)}function maybeoperatorComma(type,value){if(type==",")return cont(maybeexpression);return maybeoperatorNoComma(type,value,false)}function maybeoperatorNoComma(type,value,noComma){var me=noComma==false?maybeoperatorComma:maybeoperatorNoComma;var expr=noComma==false?expression:expressionNoComma;if(type=="=>")return cont(pushcontext,noComma?arrowBodyNoComma:arrowBody,popcontext);if(type=="operator"){if(/\\+\\+|--/.test(value)||isTS&&value=="!")return cont(me);if(isTS&&value=="<"&&\ncx.stream.match(/^([^<>]|<[^<>]*>)*>\\s*\\(/,false))return cont(pushlex(">"),commasep(typeexpr,">"),poplex,me);if(value=="?")return cont(expression,expect(":"),expr);return cont(expr)}if(type=="quasi")return pass(quasi,me);if(type==";")return;if(type=="(")return contCommasep(expressionNoComma,")","call",me);if(type==".")return cont(property,me);if(type=="[")return cont(pushlex("]"),maybeexpression,expect("]"),poplex,me);if(isTS&&value=="as"){cx.marked="keyword";return cont(typeexpr,me)}if(type=="regexp"){cx.state.lastType=\ncx.marked="operator";cx.stream.backUp(cx.stream.pos-cx.stream.start-1);return cont(expr)}}function quasi(type,value){if(type!="quasi")return pass();if(value.slice(value.length-2)!="${")return cont(quasi);return cont(maybeexpression,continueQuasi)}function continueQuasi(type){if(type=="}"){cx.marked="string-2";cx.state.tokenize=tokenQuasi;return cont(quasi)}}function arrowBody(type){findFatArrow(cx.stream,cx.state);return pass(type=="{"?statement:expression)}function arrowBodyNoComma(type){findFatArrow(cx.stream,\ncx.state);return pass(type=="{"?statement:expressionNoComma)}function maybeTarget(noComma){return function(type){if(type==".")return cont(noComma?targetNoComma:target);else if(type=="variable"&&isTS)return cont(maybeTypeArgs,noComma?maybeoperatorNoComma:maybeoperatorComma);else return pass(noComma?expressionNoComma:expression)}}function target(_,value){if(value=="target"){cx.marked="keyword";return cont(maybeoperatorComma)}}function targetNoComma(_,value){if(value=="target"){cx.marked="keyword";return cont(maybeoperatorNoComma)}}\nfunction maybelabel(type){if(type==":")return cont(poplex,statement);return pass(maybeoperatorComma,expect(";"),poplex)}function property(type){if(type=="variable"){cx.marked="property";return cont()}}function objprop(type,value){if(type=="async"){cx.marked="property";return cont(objprop)}else if(type=="variable"||cx.style=="keyword"){cx.marked="property";if(value=="get"||value=="set")return cont(getterSetter);var m;if(isTS&&cx.state.fatArrowAt==cx.stream.start&&(m=cx.stream.match(/^\\s*:\\s*/,false)))cx.state.fatArrowAt=\ncx.stream.pos+m[0].length;return cont(afterprop)}else if(type=="number"||type=="string"){cx.marked=jsonldMode?"property":cx.style+" property";return cont(afterprop)}else if(type=="jsonld-keyword")return cont(afterprop);else if(isTS&&isModifier(value)){cx.marked="keyword";return cont(objprop)}else if(type=="[")return cont(expression,maybetype,expect("]"),afterprop);else if(type=="spread")return cont(expressionNoComma,afterprop);else if(value=="*"){cx.marked="keyword";return cont(objprop)}else if(type==\n":")return pass(afterprop)}function getterSetter(type){if(type!="variable")return pass(afterprop);cx.marked="property";return cont(functiondef)}function afterprop(type){if(type==":")return cont(expressionNoComma);if(type=="(")return pass(functiondef)}function commasep(what,end,sep){function proceed(type,value){if(sep?sep.indexOf(type)>-1:type==","){var lex=cx.state.lexical;if(lex.info=="call")lex.pos=(lex.pos||0)+1;return cont(function(type,value){if(type==end||value==end)return pass();return pass(what)},\nproceed)}if(type==end||value==end)return cont();if(sep&&sep.indexOf(";")>-1)return pass(what);return cont(expect(end))}return function(type,value){if(type==end||value==end)return cont();return pass(what,proceed)}}function contCommasep(what,end,info){for(var i=3;i<arguments.length;i++)cx.cc.push(arguments[i]);return cont(pushlex(end,info),commasep(what,end),poplex)}function block(type){if(type=="}")return cont();return pass(statement,block)}function maybetype(type,value){if(isTS){if(type==":")return cont(typeexpr);\nif(value=="?")return cont(maybetype)}}function maybetypeOrIn(type,value){if(isTS&&(type==":"||value=="in"))return cont(typeexpr)}function mayberettype(type){if(isTS&&type==":")if(cx.stream.match(/^\\s*\\w+\\s+is\\b/,false))return cont(expression,isKW,typeexpr);else return cont(typeexpr)}function isKW(_,value){if(value=="is"){cx.marked="keyword";return cont()}}function typeexpr(type,value){if(value=="keyof"||value=="typeof"||value=="infer"||value=="readonly"){cx.marked="keyword";return cont(value=="typeof"?\nexpressionNoComma:typeexpr)}if(type=="variable"||value=="void"){cx.marked="type";return cont(afterType)}if(value=="|"||value=="&")return cont(typeexpr);if(type=="string"||type=="number"||type=="atom")return cont(afterType);if(type=="[")return cont(pushlex("]"),commasep(typeexpr,"]",","),poplex,afterType);if(type=="{")return cont(pushlex("}"),typeprops,poplex,afterType);if(type=="(")return cont(commasep(typearg,")"),maybeReturnType,afterType);if(type=="<")return cont(commasep(typeexpr,">"),typeexpr);\nif(type=="quasi")return pass(quasiType,afterType)}function maybeReturnType(type){if(type=="=>")return cont(typeexpr)}function typeprops(type){if(type.match(/[\\}\\)\\]]/))return cont();if(type==","||type==";")return cont(typeprops);return pass(typeprop,typeprops)}function typeprop(type,value){if(type=="variable"||cx.style=="keyword"){cx.marked="property";return cont(typeprop)}else if(value=="?"||type=="number"||type=="string")return cont(typeprop);else if(type==":")return cont(typeexpr);else if(type==\n"[")return cont(expect("variable"),maybetypeOrIn,expect("]"),typeprop);else if(type=="(")return pass(functiondecl,typeprop);else if(!type.match(/[;\\}\\)\\],]/))return cont()}function quasiType(type,value){if(type!="quasi")return pass();if(value.slice(value.length-2)!="${")return cont(quasiType);return cont(typeexpr,continueQuasiType)}function continueQuasiType(type){if(type=="}"){cx.marked="string-2";cx.state.tokenize=tokenQuasi;return cont(quasiType)}}function typearg(type,value){if(type=="variable"&&\ncx.stream.match(/^\\s*[?:]/,false)||value=="?")return cont(typearg);if(type==":")return cont(typeexpr);if(type=="spread")return cont(typearg);return pass(typeexpr)}function afterType(type,value){if(value=="<")return cont(pushlex(">"),commasep(typeexpr,">"),poplex,afterType);if(value=="|"||type=="."||value=="&")return cont(typeexpr);if(type=="[")return cont(typeexpr,expect("]"),afterType);if(value=="extends"||value=="implements"){cx.marked="keyword";return cont(typeexpr)}if(value=="?")return cont(typeexpr,\nexpect(":"),typeexpr)}function maybeTypeArgs(_,value){if(value=="<")return cont(pushlex(">"),commasep(typeexpr,">"),poplex,afterType)}function typeparam(){return pass(typeexpr,maybeTypeDefault)}function maybeTypeDefault(_,value){if(value=="=")return cont(typeexpr)}function vardef(_,value){if(value=="enum"){cx.marked="keyword";return cont(enumdef)}return pass(pattern,maybetype,maybeAssign,vardefCont)}function pattern(type,value){if(isTS&&isModifier(value)){cx.marked="keyword";return cont(pattern)}if(type==\n"variable"){register(value);return cont()}if(type=="spread")return cont(pattern);if(type=="[")return contCommasep(eltpattern,"]");if(type=="{")return contCommasep(proppattern,"}")}function proppattern(type,value){if(type=="variable"&&!cx.stream.match(/^\\s*:/,false)){register(value);return cont(maybeAssign)}if(type=="variable")cx.marked="property";if(type=="spread")return cont(pattern);if(type=="}")return pass();if(type=="[")return cont(expression,expect("]"),expect(":"),proppattern);return cont(expect(":"),\npattern,maybeAssign)}function eltpattern(){return pass(pattern,maybeAssign)}function maybeAssign(_type,value){if(value=="=")return cont(expressionNoComma)}function vardefCont(type){if(type==",")return cont(vardef)}function maybeelse(type,value){if(type=="keyword b"&&value=="else")return cont(pushlex("form","else"),statement,poplex)}function forspec(type,value){if(value=="await")return cont(forspec);if(type=="(")return cont(pushlex(")"),forspec1,poplex)}function forspec1(type){if(type=="var")return cont(vardef,\nforspec2);if(type=="variable")return cont(forspec2);return pass(forspec2)}function forspec2(type,value){if(type==")")return cont();if(type==";")return cont(forspec2);if(value=="in"||value=="of"){cx.marked="keyword";return cont(expression,forspec2)}return pass(expression,forspec2)}function functiondef(type,value){if(value=="*"){cx.marked="keyword";return cont(functiondef)}if(type=="variable"){register(value);return cont(functiondef)}if(type=="(")return cont(pushcontext,pushlex(")"),commasep(funarg,\n")"),poplex,mayberettype,statement,popcontext);if(isTS&&value=="<")return cont(pushlex(">"),commasep(typeparam,">"),poplex,functiondef)}function functiondecl(type,value){if(value=="*"){cx.marked="keyword";return cont(functiondecl)}if(type=="variable"){register(value);return cont(functiondecl)}if(type=="(")return cont(pushcontext,pushlex(")"),commasep(funarg,")"),poplex,mayberettype,popcontext);if(isTS&&value=="<")return cont(pushlex(">"),commasep(typeparam,">"),poplex,functiondecl)}function typename(type,\nvalue){if(type=="keyword"||type=="variable"){cx.marked="type";return cont(typename)}else if(value=="<")return cont(pushlex(">"),commasep(typeparam,">"),poplex)}function funarg(type,value){if(value=="@")cont(expression,funarg);if(type=="spread")return cont(funarg);if(isTS&&isModifier(value)){cx.marked="keyword";return cont(funarg)}if(isTS&&type=="this")return cont(maybetype,maybeAssign);return pass(pattern,maybetype,maybeAssign)}function classExpression(type,value){if(type=="variable")return className(type,\nvalue);return classNameAfter(type,value)}function className(type,value){if(type=="variable"){register(value);return cont(classNameAfter)}}function classNameAfter(type,value){if(value=="<")return cont(pushlex(">"),commasep(typeparam,">"),poplex,classNameAfter);if(value=="extends"||value=="implements"||isTS&&type==","){if(value=="implements")cx.marked="keyword";return cont(isTS?typeexpr:expression,classNameAfter)}if(type=="{")return cont(pushlex("}"),classBody,poplex)}function classBody(type,value){if(type==\n"async"||type=="variable"&&(value=="static"||value=="get"||value=="set"||isTS&&isModifier(value))&&cx.stream.match(/^\\s+[\\w$\\xa1-\\uffff]/,false)){cx.marked="keyword";return cont(classBody)}if(type=="variable"||cx.style=="keyword"){cx.marked="property";return cont(classfield,classBody)}if(type=="number"||type=="string")return cont(classfield,classBody);if(type=="[")return cont(expression,maybetype,expect("]"),classfield,classBody);if(value=="*"){cx.marked="keyword";return cont(classBody)}if(isTS&&\ntype=="(")return pass(functiondecl,classBody);if(type==";"||type==",")return cont(classBody);if(type=="}")return cont();if(value=="@")return cont(expression,classBody)}function classfield(type,value){if(value=="!")return cont(classfield);if(value=="?")return cont(classfield);if(type==":")return cont(typeexpr,maybeAssign);if(value=="=")return cont(expressionNoComma);var context=cx.state.lexical.prev,isInterface=context&&context.info=="interface";return pass(isInterface?functiondecl:functiondef)}function afterExport(type,\nvalue){if(value=="*"){cx.marked="keyword";return cont(maybeFrom,expect(";"))}if(value=="default"){cx.marked="keyword";return cont(expression,expect(";"))}if(type=="{")return cont(commasep(exportField,"}"),maybeFrom,expect(";"));return pass(statement)}function exportField(type,value){if(value=="as"){cx.marked="keyword";return cont(expect("variable"))}if(type=="variable")return pass(expressionNoComma,exportField)}function afterImport(type){if(type=="string")return cont();if(type=="(")return pass(expression);\nif(type==".")return pass(maybeoperatorComma);return pass(importSpec,maybeMoreImports,maybeFrom)}function importSpec(type,value){if(type=="{")return contCommasep(importSpec,"}");if(type=="variable")register(value);if(value=="*")cx.marked="keyword";return cont(maybeAs)}function maybeMoreImports(type){if(type==",")return cont(importSpec,maybeMoreImports)}function maybeAs(_type,value){if(value=="as"){cx.marked="keyword";return cont(importSpec)}}function maybeFrom(_type,value){if(value=="from"){cx.marked=\n"keyword";return cont(expression)}}function arrayLiteral(type){if(type=="]")return cont();return pass(commasep(expressionNoComma,"]"))}function enumdef(){return pass(pushlex("form"),pattern,expect("{"),pushlex("}"),commasep(enummember,"}"),poplex,poplex)}function enummember(){return pass(pattern,maybeAssign)}function isContinuedStatement(state,textAfter){return state.lastType=="operator"||state.lastType==","||isOperatorChar.test(textAfter.charAt(0))||/[,.]/.test(textAfter.charAt(0))}function expressionAllowed(stream,\nstate,backUp){return state.tokenize==tokenBase&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\\[{}\\(,;:]|=>)$/.test(state.lastType)||state.lastType=="quasi"&&/\\{\\s*$/.test(stream.string.slice(0,stream.pos-(backUp||0)))}return{startState:function(basecolumn){var state={tokenize:tokenBase,lastType:"sof",cc:[],lexical:new JSLexical((basecolumn||0)-indentUnit,0,"block",false),localVars:parserConfig.localVars,context:parserConfig.localVars&&new Context(null,null,false),indented:basecolumn||\n0};if(parserConfig.globalVars&&typeof parserConfig.globalVars=="object")state.globalVars=parserConfig.globalVars;return state},token:function(stream,state){if(stream.sol()){if(!state.lexical.hasOwnProperty("align"))state.lexical.align=false;state.indented=stream.indentation();findFatArrow(stream,state)}if(state.tokenize!=tokenComment&&stream.eatSpace())return null;var style=state.tokenize(stream,state);if(type=="comment")return style;state.lastType=type=="operator"&&(content=="++"||content=="--")?\n"incdec":type;return parseJS(state,style,type,content,stream)},indent:function(state,textAfter){if(state.tokenize==tokenComment||state.tokenize==tokenQuasi)return CodeMirror.Pass;if(state.tokenize!=tokenBase)return 0;var firstChar=textAfter&&textAfter.charAt(0),lexical=state.lexical,top;if(!/^\\s*else\\b/.test(textAfter))for(var i=state.cc.length-1;i>=0;--i){var c=state.cc[i];if(c==poplex)lexical=lexical.prev;else if(c!=maybeelse&&c!=popcontext)break}while((lexical.type=="stat"||lexical.type=="form")&&\n(firstChar=="}"||(top=state.cc[state.cc.length-1])&&(top==maybeoperatorComma||top==maybeoperatorNoComma)&&!/^[,\\.=+\\-*:?[\\(]/.test(textAfter)))lexical=lexical.prev;if(statementIndent&&lexical.type==")"&&lexical.prev.type=="stat")lexical=lexical.prev;var type=lexical.type,closing=firstChar==type;if(type=="vardef")return lexical.indented+(state.lastType=="operator"||state.lastType==","?lexical.info.length+1:0);else if(type=="form"&&firstChar=="{")return lexical.indented;else if(type=="form")return lexical.indented+\nindentUnit;else if(type=="stat")return lexical.indented+(isContinuedStatement(state,textAfter)?statementIndent||indentUnit:0);else if(lexical.info=="switch"&&!closing&&parserConfig.doubleIndentSwitch!=false)return lexical.indented+(/^(?:case|default)\\b/.test(textAfter)?indentUnit:2*indentUnit);else if(lexical.align)return lexical.column+(closing?0:1);else return lexical.indented+(closing?0:indentUnit)},electricInput:/^\\s*(?:case .*?:|default:|\\{|\\})$/,blockCommentStart:jsonMode?null:"/*",blockCommentEnd:jsonMode?\nnull:"*/",blockCommentContinue:jsonMode?null:" * ",lineComment:jsonMode?null:"//",fold:"brace",closeBrackets:"()[]{}\'\'\\"\\"``",helperType:jsonMode?"json":"javascript",jsonldMode:jsonldMode,jsonMode:jsonMode,expressionAllowed:expressionAllowed,skipExpression:function(state){parseJS(state,"atom","atom","true",new CodeMirror.StringStream("",2,null))}}});CodeMirror.registerHelper("wordChars","javascript",/[\\w$]/);CodeMirror.defineMIME("text/javascript","javascript");CodeMirror.defineMIME("text/ecmascript",\n"javascript");CodeMirror.defineMIME("application/javascript","javascript");CodeMirror.defineMIME("application/x-javascript","javascript");CodeMirror.defineMIME("application/ecmascript","javascript");CodeMirror.defineMIME("application/json",{name:"javascript",json:true});CodeMirror.defineMIME("application/x-json",{name:"javascript",json:true});CodeMirror.defineMIME("application/manifest+json",{name:"javascript",json:true});CodeMirror.defineMIME("application/ld+json",{name:"javascript",jsonld:true});\nCodeMirror.defineMIME("text/typescript",{name:"javascript",typescript:true});CodeMirror.defineMIME("application/typescript",{name:"javascript",typescript:true})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function Context(indented,column,type,info,align,prev){this.indented=indented;this.column=column;this.type=type;this.info=info;this.align=align;this.prev=prev}function pushContext(state,col,type,info){var indent=state.indented;if(state.context&&state.context.type=="statement"&&\ntype!="statement")indent=state.context.indented;return state.context=new Context(indent,col,type,info,null,state.context)}function popContext(state){var t=state.context.type;if(t==")"||t=="]"||t=="}")state.indented=state.context.indented;return state.context=state.context.prev}function typeBefore(stream,state,pos){if(state.prevToken=="variable"||state.prevToken=="type")return true;if(/\\S(?:[^- ]>|[*\\]])\\s*$|\\*$/.test(stream.string.slice(0,pos)))return true;if(state.typeAtEndOfLine&&stream.column()==\nstream.indentation())return true}function isTopScope(context){for(;;){if(!context||context.type=="top")return true;if(context.type=="}"&&context.prev.info!="namespace")return false;context=context.prev}}CodeMirror.defineMode("clike",function(config,parserConfig){var indentUnit=config.indentUnit,statementIndentUnit=parserConfig.statementIndentUnit||indentUnit,dontAlignCalls=parserConfig.dontAlignCalls,keywords=parserConfig.keywords||{},types=parserConfig.types||{},builtin=parserConfig.builtin||{},\nblockKeywords=parserConfig.blockKeywords||{},defKeywords=parserConfig.defKeywords||{},atoms=parserConfig.atoms||{},hooks=parserConfig.hooks||{},multiLineStrings=parserConfig.multiLineStrings,indentStatements=parserConfig.indentStatements!==false,indentSwitch=parserConfig.indentSwitch!==false,namespaceSeparator=parserConfig.namespaceSeparator,isPunctuationChar=parserConfig.isPunctuationChar||/[\\[\\]{}\\(\\),;:\\.]/,numberStart=parserConfig.numberStart||/[\\d\\.]/,number=parserConfig.number||/^(?:0x[a-f\\d]+|0b[01]+|(?:\\d+\\.?\\d*|\\.\\d+)(?:e[-+]?\\d+)?)(u|ll?|l|f)?/i,\nisOperatorChar=parserConfig.isOperatorChar||/[+\\-*&%=<>!?|\\/]/,isIdentifierChar=parserConfig.isIdentifierChar||/[\\w\\$_\\xa1-\\uffff]/,isReservedIdentifier=parserConfig.isReservedIdentifier||false;var curPunc,isDefKeyword;function tokenBase(stream,state){var ch=stream.next();if(hooks[ch]){var result=hooks[ch](stream,state);if(result!==false)return result}if(ch==\'"\'||ch=="\'"){state.tokenize=tokenString(ch);return state.tokenize(stream,state)}if(numberStart.test(ch)){stream.backUp(1);if(stream.match(number))return"number";\nstream.next()}if(isPunctuationChar.test(ch)){curPunc=ch;return null}if(ch=="/"){if(stream.eat("*")){state.tokenize=tokenComment;return tokenComment(stream,state)}if(stream.eat("/")){stream.skipToEnd();return"comment"}}if(isOperatorChar.test(ch)){while(!stream.match(/^\\/[\\/*]/,false)&&stream.eat(isOperatorChar));return"operator"}stream.eatWhile(isIdentifierChar);if(namespaceSeparator)while(stream.match(namespaceSeparator))stream.eatWhile(isIdentifierChar);var cur=stream.current();if(contains(keywords,\ncur)){if(contains(blockKeywords,cur))curPunc="newstatement";if(contains(defKeywords,cur))isDefKeyword=true;return"keyword"}if(contains(types,cur))return"type";if(contains(builtin,cur)||isReservedIdentifier&&isReservedIdentifier(cur)){if(contains(blockKeywords,cur))curPunc="newstatement";return"builtin"}if(contains(atoms,cur))return"atom";return"variable"}function tokenString(quote){return function(stream,state){var escaped=false,next,end=false;while((next=stream.next())!=null){if(next==quote&&!escaped){end=\ntrue;break}escaped=!escaped&&next=="\\\\"}if(end||!(escaped||multiLineStrings))state.tokenize=null;return"string"}}function tokenComment(stream,state){var maybeEnd=false,ch;while(ch=stream.next()){if(ch=="/"&&maybeEnd){state.tokenize=null;break}maybeEnd=ch=="*"}return"comment"}function maybeEOL(stream,state){if(parserConfig.typeFirstDefinitions&&stream.eol()&&isTopScope(state.context))state.typeAtEndOfLine=typeBefore(stream,state,stream.pos)}return{startState:function(basecolumn){return{tokenize:null,\ncontext:new Context((basecolumn||0)-indentUnit,0,"top",null,false),indented:0,startOfLine:true,prevToken:null}},token:function(stream,state){var ctx=state.context;if(stream.sol()){if(ctx.align==null)ctx.align=false;state.indented=stream.indentation();state.startOfLine=true}if(stream.eatSpace()){maybeEOL(stream,state);return null}curPunc=isDefKeyword=null;var style=(state.tokenize||tokenBase)(stream,state);if(style=="comment"||style=="meta")return style;if(ctx.align==null)ctx.align=true;if(curPunc==\n";"||curPunc==":"||curPunc==","&&stream.match(/^\\s*(?:\\/\\/.*)?$/,false))while(state.context.type=="statement")popContext(state);else if(curPunc=="{")pushContext(state,stream.column(),"}");else if(curPunc=="[")pushContext(state,stream.column(),"]");else if(curPunc=="(")pushContext(state,stream.column(),")");else if(curPunc=="}"){while(ctx.type=="statement")ctx=popContext(state);if(ctx.type=="}")ctx=popContext(state);while(ctx.type=="statement")ctx=popContext(state)}else if(curPunc==ctx.type)popContext(state);\nelse if(indentStatements&&((ctx.type=="}"||ctx.type=="top")&&curPunc!=";"||ctx.type=="statement"&&curPunc=="newstatement"))pushContext(state,stream.column(),"statement",stream.current());if(style=="variable"&&(state.prevToken=="def"||parserConfig.typeFirstDefinitions&&typeBefore(stream,state,stream.start)&&isTopScope(state.context)&&stream.match(/^\\s*\\(/,false)))style="def";if(hooks.token){var result=hooks.token(stream,state,style);if(result!==undefined)style=result}if(style=="def"&&parserConfig.styleDefs===\nfalse)style="variable";state.startOfLine=false;state.prevToken=isDefKeyword?"def":style||curPunc;maybeEOL(stream,state);return style},indent:function(state,textAfter){if(state.tokenize!=tokenBase&&state.tokenize!=null||state.typeAtEndOfLine)return CodeMirror.Pass;var ctx=state.context,firstChar=textAfter&&textAfter.charAt(0);var closing=firstChar==ctx.type;if(ctx.type=="statement"&&firstChar=="}")ctx=ctx.prev;if(parserConfig.dontIndentStatements)while(ctx.type=="statement"&&parserConfig.dontIndentStatements.test(ctx.info))ctx=\nctx.prev;if(hooks.indent){var hook=hooks.indent(state,ctx,textAfter,indentUnit);if(typeof hook=="number")return hook}var switchBlock=ctx.prev&&ctx.prev.info=="switch";if(parserConfig.allmanIndentation&&/[{(]/.test(firstChar)){while(ctx.type!="top"&&ctx.type!="}")ctx=ctx.prev;return ctx.indented}if(ctx.type=="statement")return ctx.indented+(firstChar=="{"?0:statementIndentUnit);if(ctx.align&&(!dontAlignCalls||ctx.type!=")"))return ctx.column+(closing?0:1);if(ctx.type==")"&&!closing)return ctx.indented+\nstatementIndentUnit;return ctx.indented+(closing?0:indentUnit)+(!closing&&switchBlock&&!/^(?:case|default)\\b/.test(textAfter)?indentUnit:0)},electricInput:indentSwitch?/^\\s*(?:case .*?:|default:|\\{\\}?|\\})$/:/^\\s*[{}]$/,blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:"//",fold:"brace"}});function words(str){var obj={},words=str.split(" ");for(var i=0;i<words.length;++i)obj[words[i]]=true;return obj}function contains(words,word){if(typeof words==="function")return words(word);\nelse return words.propertyIsEnumerable(word)}var cKeywords="auto if break case register continue return default do sizeof "+"static else struct switch extern typedef union for goto while enum const "+"volatile inline restrict asm fortran";var cppKeywords="alignas alignof and and_eq audit axiom bitand bitor catch "+"class compl concept constexpr const_cast decltype delete dynamic_cast "+"explicit export final friend import module mutable namespace new noexcept "+"not not_eq operator or or_eq override private protected public "+\n"reinterpret_cast requires static_assert static_cast template this "+"thread_local throw try typeid typename using virtual xor xor_eq";var objCKeywords="bycopy byref in inout oneway out self super atomic nonatomic retain copy "+"readwrite readonly strong weak assign typeof nullable nonnull null_resettable _cmd "+"@interface @implementation @end @protocol @encode @property @synthesize @dynamic @class "+"@public @package @private @protected @required @optional @try @catch @finally @import "+"@selector @encode @defs @synchronized @autoreleasepool @compatibility_alias @available";\nvar objCBuiltins="FOUNDATION_EXPORT FOUNDATION_EXTERN NS_INLINE NS_FORMAT_FUNCTION "+" NS_RETURNS_RETAINEDNS_ERROR_ENUM NS_RETURNS_NOT_RETAINED NS_RETURNS_INNER_POINTER "+"NS_DESIGNATED_INITIALIZER NS_ENUM NS_OPTIONS NS_REQUIRES_NIL_TERMINATION "+"NS_ASSUME_NONNULL_BEGIN NS_ASSUME_NONNULL_END NS_SWIFT_NAME NS_REFINED_FOR_SWIFT";var basicCTypes=words("int long char short double float unsigned signed "+"void bool");var basicObjCTypes=words("SEL instancetype id Class Protocol BOOL");function cTypes(identifier){return contains(basicCTypes,\nidentifier)||/.+_t$/.test(identifier)}function objCTypes(identifier){return cTypes(identifier)||contains(basicObjCTypes,identifier)}var cBlockKeywords="case do else for if switch while struct enum union";var cDefKeywords="struct enum union";function cppHook(stream,state){if(!state.startOfLine)return false;for(var ch,next=null;ch=stream.peek();){if(ch=="\\\\"&&stream.match(/^.$/)){next=cppHook;break}else if(ch=="/"&&stream.match(/^\\/[\\/\\*]/,false))break;stream.next()}state.tokenize=next;return"meta"}\nfunction pointerHook(_stream,state){if(state.prevToken=="type")return"type";return false}function cIsReservedIdentifier(token){if(!token||token.length<2)return false;if(token[0]!="_")return false;return token[1]=="_"||token[1]!==token[1].toLowerCase()}function cpp14Literal(stream){stream.eatWhile(/[\\w\\.\']/);return"number"}function cpp11StringHook(stream,state){stream.backUp(1);if(stream.match(/^(?:R|u8R|uR|UR|LR)/)){var match=stream.match(/^"([^\\s\\\\()]{0,16})\\(/);if(!match)return false;state.cpp11RawStringDelim=\nmatch[1];state.tokenize=tokenRawString;return tokenRawString(stream,state)}if(stream.match(/^(?:u8|u|U|L)/)){if(stream.match(/^["\']/,false))return"string";return false}stream.next();return false}function cppLooksLikeConstructor(word){var lastTwo=/(\\w+)::~?(\\w+)$/.exec(word);return lastTwo&&lastTwo[1]==lastTwo[2]}function tokenAtString(stream,state){var next;while((next=stream.next())!=null)if(next==\'"\'&&!stream.eat(\'"\')){state.tokenize=null;break}return"string"}function tokenRawString(stream,state){var delim=\nstate.cpp11RawStringDelim.replace(/[^\\w\\s]/g,"\\\\$&");var match=stream.match(new RegExp(".*?\\\\)"+delim+\'"\'));if(match)state.tokenize=null;else stream.skipToEnd();return"string"}function def(mimes,mode){if(typeof mimes=="string")mimes=[mimes];var words=[];function add(obj){if(obj)for(var prop in obj)if(obj.hasOwnProperty(prop))words.push(prop)}add(mode.keywords);add(mode.types);add(mode.builtin);add(mode.atoms);if(words.length){mode.helperType=mimes[0];CodeMirror.registerHelper("hintWords",mimes[0],\nwords)}for(var i=0;i<mimes.length;++i)CodeMirror.defineMIME(mimes[i],mode)}def(["text/x-csrc","text/x-c","text/x-chdr"],{name:"clike",keywords:words(cKeywords),types:cTypes,blockKeywords:words(cBlockKeywords),defKeywords:words(cDefKeywords),typeFirstDefinitions:true,atoms:words("NULL true false"),isReservedIdentifier:cIsReservedIdentifier,hooks:{"#":cppHook,"*":pointerHook},modeProps:{fold:["brace","include"]}});def(["text/x-c++src","text/x-c++hdr"],{name:"clike",keywords:words(cKeywords+" "+cppKeywords),\ntypes:cTypes,blockKeywords:words(cBlockKeywords+" class try catch"),defKeywords:words(cDefKeywords+" class namespace"),typeFirstDefinitions:true,atoms:words("true false NULL nullptr"),dontIndentStatements:/^template$/,isIdentifierChar:/[\\w\\$_~\\xa1-\\uffff]/,isReservedIdentifier:cIsReservedIdentifier,hooks:{"#":cppHook,"*":pointerHook,"u":cpp11StringHook,"U":cpp11StringHook,"L":cpp11StringHook,"R":cpp11StringHook,0:cpp14Literal,1:cpp14Literal,2:cpp14Literal,3:cpp14Literal,4:cpp14Literal,5:cpp14Literal,\n6:cpp14Literal,7:cpp14Literal,8:cpp14Literal,9:cpp14Literal,token:function(stream,state,style){if(style=="variable"&&stream.peek()=="("&&(state.prevToken==";"||state.prevToken==null||state.prevToken=="}")&&cppLooksLikeConstructor(stream.current()))return"def"}},namespaceSeparator:"::",modeProps:{fold:["brace","include"]}});def("text/x-java",{name:"clike",keywords:words("abstract assert break case catch class const continue default "+"do else enum extends final finally for goto if implements import "+\n"instanceof interface native new package private protected public "+"return static strictfp super switch synchronized this throw throws transient "+"try volatile while @interface"),types:words("var byte short int long float double boolean char void Boolean Byte Character Double Float "+"Integer Long Number Object Short String StringBuffer StringBuilder Void"),blockKeywords:words("catch class do else finally for if switch try while"),defKeywords:words("class interface enum @interface"),typeFirstDefinitions:true,\natoms:words("true false null"),number:/^(?:0x[a-f\\d_]+|0b[01_]+|(?:[\\d_]+\\.?\\d*|\\.\\d+)(?:e[-+]?[\\d_]+)?)(u|ll?|l|f)?/i,hooks:{"@":function(stream){if(stream.match("interface",false))return false;stream.eatWhile(/[\\w\\$_]/);return"meta"},\'"\':function(stream,state){if(!stream.match(/""$/))return false;state.tokenize=tokenTripleString;return state.tokenize(stream,state)}},modeProps:{fold:["brace","import"]}});def("text/x-csharp",{name:"clike",keywords:words("abstract as async await base break case catch checked class const continue"+\n" default delegate do else enum event explicit extern finally fixed for"+" foreach goto if implicit in interface internal is lock namespace new"+" operator out override params private protected public readonly ref return sealed"+" sizeof stackalloc static struct switch this throw try typeof unchecked"+" unsafe using virtual void volatile while add alias ascending descending dynamic from get"+" global group into join let orderby partial remove select set value var yield"),types:words("Action Boolean Byte Char DateTime DateTimeOffset Decimal Double Func"+\n" Guid Int16 Int32 Int64 Object SByte Single String Task TimeSpan UInt16 UInt32"+" UInt64 bool byte char decimal double short int long object"+" sbyte float string ushort uint ulong"),blockKeywords:words("catch class do else finally for foreach if struct switch try while"),defKeywords:words("class interface namespace struct var"),typeFirstDefinitions:true,atoms:words("true false null"),hooks:{"@":function(stream,state){if(stream.eat(\'"\')){state.tokenize=tokenAtString;return tokenAtString(stream,state)}stream.eatWhile(/[\\w\\$_]/);\nreturn"meta"}}});function tokenTripleString(stream,state){var escaped=false;while(!stream.eol()){if(!escaped&&stream.match(\'"""\')){state.tokenize=null;break}escaped=stream.next()=="\\\\"&&!escaped}return"string"}function tokenNestedComment(depth){return function(stream,state){var ch;while(ch=stream.next())if(ch=="*"&&stream.eat("/"))if(depth==1){state.tokenize=null;break}else{state.tokenize=tokenNestedComment(depth-1);return state.tokenize(stream,state)}else if(ch=="/"&&stream.eat("*")){state.tokenize=\ntokenNestedComment(depth+1);return state.tokenize(stream,state)}return"comment"}}def("text/x-scala",{name:"clike",keywords:words("abstract case catch class def do else extends final finally for forSome if "+"implicit import lazy match new null object override package private protected return "+"sealed super this throw trait try type val var while with yield _ "+"assert assume require print println printf readLine readBoolean readByte readShort "+"readChar readInt readLong readFloat readDouble"),types:words("AnyVal App Application Array BufferedIterator BigDecimal BigInt Char Console Either "+\n"Enumeration Equiv Error Exception Fractional Function IndexedSeq Int Integral Iterable "+"Iterator List Map Numeric Nil NotNull Option Ordered Ordering PartialFunction PartialOrdering "+"Product Proxy Range Responder Seq Serializable Set Specializable Stream StringBuilder "+"StringContext Symbol Throwable Traversable TraversableOnce Tuple Unit Vector "+"Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable "+"Compiler Double Exception Float Integer Long Math Number Object Package Pair Process "+\n"Runtime Runnable SecurityManager Short StackTraceElement StrictMath String "+"StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),multiLineStrings:true,blockKeywords:words("catch class enum do else finally for forSome if match switch try while"),defKeywords:words("class enum def object package trait type val var"),atoms:words("true false null"),indentStatements:false,indentSwitch:false,isOperatorChar:/[+\\-*&%=<>!?|\\/#:@]/,hooks:{"@":function(stream){stream.eatWhile(/[\\w\\$_]/);\nreturn"meta"},\'"\':function(stream,state){if(!stream.match(\'""\'))return false;state.tokenize=tokenTripleString;return state.tokenize(stream,state)},"\'":function(stream){stream.eatWhile(/[\\w\\$_\\xa1-\\uffff]/);return"atom"},"=":function(stream,state){var cx=state.context;if(cx.type=="}"&&cx.align&&stream.eat(">")){state.context=new Context(cx.indented,cx.column,cx.type,cx.info,null,cx.prev);return"operator"}else return false},"/":function(stream,state){if(!stream.eat("*"))return false;state.tokenize=\ntokenNestedComment(1);return state.tokenize(stream,state)}},modeProps:{closeBrackets:{pairs:\'()[]{}""\',triples:\'"\'}}});function tokenKotlinString(tripleString){return function(stream,state){var escaped=false,next,end=false;while(!stream.eol()){if(!tripleString&&!escaped&&stream.match(\'"\')){end=true;break}if(tripleString&&stream.match(\'"""\')){end=true;break}next=stream.next();if(!escaped&&next=="$"&&stream.match("{"))stream.skipTo("}");escaped=!escaped&&next=="\\\\"&&!tripleString}if(end||!tripleString)state.tokenize=\nnull;return"string"}}def("text/x-kotlin",{name:"clike",keywords:words("package as typealias class interface this super val operator "+"var fun for is in This throw return annotation "+"break continue object if else while do try when !in !is as? "+"file import where by get set abstract enum open inner override private public internal "+"protected catch finally out final vararg reified dynamic companion constructor init "+"sealed field property receiver param sparam lateinit data inline noinline tailrec "+\n"external annotation crossinline const operator infix suspend actual expect setparam value"),types:words("Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable "+"Compiler Double Exception Float Integer Long Math Number Object Package Pair Process "+"Runtime Runnable SecurityManager Short StackTraceElement StrictMath String "+"StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void Annotation Any BooleanArray "+"ByteArray Char CharArray DeprecationLevel DoubleArray Enum FloatArray Function Int IntArray Lazy "+\n"LazyThreadSafetyMode LongArray Nothing ShortArray Unit"),intendSwitch:false,indentStatements:false,multiLineStrings:true,number:/^(?:0x[a-f\\d_]+|0b[01_]+|(?:[\\d_]+(\\.\\d+)?|\\.\\d+)(?:e[-+]?[\\d_]+)?)(u|ll?|l|f)?/i,blockKeywords:words("catch class do else finally for if where try while enum"),defKeywords:words("class val var object interface fun"),atoms:words("true false null this"),hooks:{"@":function(stream){stream.eatWhile(/[\\w\\$_]/);return"meta"},"*":function(_stream,state){return state.prevToken==\n"."?"variable":"operator"},\'"\':function(stream,state){state.tokenize=tokenKotlinString(stream.match(\'""\'));return state.tokenize(stream,state)},"/":function(stream,state){if(!stream.eat("*"))return false;state.tokenize=tokenNestedComment(1);return state.tokenize(stream,state)},indent:function(state,ctx,textAfter,indentUnit){var firstChar=textAfter&&textAfter.charAt(0);if((state.prevToken=="}"||state.prevToken==")")&&textAfter=="")return state.indented;if(state.prevToken=="operator"&&textAfter!="}"&&\nstate.context.type!="}"||state.prevToken=="variable"&&firstChar=="."||(state.prevToken=="}"||state.prevToken==")")&&firstChar==".")return indentUnit*2+ctx.indented;if(ctx.align&&ctx.type=="}")return ctx.indented+(state.context.type==(textAfter||"").charAt(0)?0:indentUnit)}},modeProps:{closeBrackets:{triples:\'"\'}}});def(["x-shader/x-vertex","x-shader/x-fragment"],{name:"clike",keywords:words("sampler1D sampler2D sampler3D samplerCube "+"sampler1DShadow sampler2DShadow "+"const attribute uniform varying "+\n"break continue discard return "+"for while do if else struct "+"in out inout"),types:words("float int bool void "+"vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 "+"mat2 mat3 mat4"),blockKeywords:words("for while do if else struct"),builtin:words("radians degrees sin cos tan asin acos atan "+"pow exp log exp2 sqrt inversesqrt "+"abs sign floor ceil fract mod min max clamp mix step smoothstep "+"length distance dot cross normalize ftransform faceforward "+"reflect refract matrixCompMult "+"lessThan lessThanEqual greaterThan greaterThanEqual "+\n"equal notEqual any all not "+"texture1D texture1DProj texture1DLod texture1DProjLod "+"texture2D texture2DProj texture2DLod texture2DProjLod "+"texture3D texture3DProj texture3DLod texture3DProjLod "+"textureCube textureCubeLod "+"shadow1D shadow2D shadow1DProj shadow2DProj "+"shadow1DLod shadow2DLod shadow1DProjLod shadow2DProjLod "+"dFdx dFdy fwidth "+"noise1 noise2 noise3 noise4"),atoms:words("true false "+"gl_FragColor gl_SecondaryColor gl_Normal gl_Vertex "+"gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 "+\n"gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 "+"gl_FogCoord gl_PointCoord "+"gl_Position gl_PointSize gl_ClipVertex "+"gl_FrontColor gl_BackColor gl_FrontSecondaryColor gl_BackSecondaryColor "+"gl_TexCoord gl_FogFragCoord "+"gl_FragCoord gl_FrontFacing "+"gl_FragData gl_FragDepth "+"gl_ModelViewMatrix gl_ProjectionMatrix gl_ModelViewProjectionMatrix "+"gl_TextureMatrix gl_NormalMatrix gl_ModelViewMatrixInverse "+"gl_ProjectionMatrixInverse gl_ModelViewProjectionMatrixInverse "+\n"gl_TextureMatrixTranspose gl_ModelViewMatrixInverseTranspose "+"gl_ProjectionMatrixInverseTranspose "+"gl_ModelViewProjectionMatrixInverseTranspose "+"gl_TextureMatrixInverseTranspose "+"gl_NormalScale gl_DepthRange gl_ClipPlane "+"gl_Point gl_FrontMaterial gl_BackMaterial gl_LightSource gl_LightModel "+"gl_FrontLightModelProduct gl_BackLightModelProduct "+"gl_TextureColor gl_EyePlaneS gl_EyePlaneT gl_EyePlaneR gl_EyePlaneQ "+"gl_FogParameters "+"gl_MaxLights gl_MaxClipPlanes gl_MaxTextureUnits gl_MaxTextureCoords "+\n"gl_MaxVertexAttribs gl_MaxVertexUniformComponents gl_MaxVaryingFloats "+"gl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits "+"gl_MaxFragmentUniformComponents gl_MaxCombineTextureImageUnits "+"gl_MaxDrawBuffers"),indentSwitch:false,hooks:{"#":cppHook},modeProps:{fold:["brace","include"]}});def("text/x-nesc",{name:"clike",keywords:words(cKeywords+" as atomic async call command component components configuration event generic "+"implementation includes interface module new norace nx_struct nx_union post provides "+\n"signal task uses abstract extends"),types:cTypes,blockKeywords:words(cBlockKeywords),atoms:words("null true false"),hooks:{"#":cppHook},modeProps:{fold:["brace","include"]}});def("text/x-objectivec",{name:"clike",keywords:words(cKeywords+" "+objCKeywords),types:objCTypes,builtin:words(objCBuiltins),blockKeywords:words(cBlockKeywords+" @synthesize @try @catch @finally @autoreleasepool @synchronized"),defKeywords:words(cDefKeywords+" @interface @implementation @protocol @class"),dontIndentStatements:/^@.*$/,\ntypeFirstDefinitions:true,atoms:words("YES NO NULL Nil nil true false nullptr"),isReservedIdentifier:cIsReservedIdentifier,hooks:{"#":cppHook,"*":pointerHook},modeProps:{fold:["brace","include"]}});def("text/x-objectivec++",{name:"clike",keywords:words(cKeywords+" "+objCKeywords+" "+cppKeywords),types:objCTypes,builtin:words(objCBuiltins),blockKeywords:words(cBlockKeywords+" @synthesize @try @catch @finally @autoreleasepool @synchronized class try catch"),defKeywords:words(cDefKeywords+" @interface @implementation @protocol @class class namespace"),\ndontIndentStatements:/^@.*$|^template$/,typeFirstDefinitions:true,atoms:words("YES NO NULL Nil nil true false nullptr"),isReservedIdentifier:cIsReservedIdentifier,hooks:{"#":cppHook,"*":pointerHook,"u":cpp11StringHook,"U":cpp11StringHook,"L":cpp11StringHook,"R":cpp11StringHook,0:cpp14Literal,1:cpp14Literal,2:cpp14Literal,3:cpp14Literal,4:cpp14Literal,5:cpp14Literal,6:cpp14Literal,7:cpp14Literal,8:cpp14Literal,9:cpp14Literal,token:function(stream,state,style){if(style=="variable"&&stream.peek()=="("&&\n(state.prevToken==";"||state.prevToken==null||state.prevToken=="}")&&cppLooksLikeConstructor(stream.current()))return"def"}},namespaceSeparator:"::",modeProps:{fold:["brace","include"]}});def("text/x-squirrel",{name:"clike",keywords:words("base break clone continue const default delete enum extends function in class"+" foreach local resume return this throw typeof yield constructor instanceof static"),types:cTypes,blockKeywords:words("case catch class else for foreach if switch try while"),defKeywords:words("function local class"),\ntypeFirstDefinitions:true,atoms:words("true false null"),hooks:{"#":cppHook},modeProps:{fold:["brace","include"]}});var stringTokenizer=null;function tokenCeylonString(type){return function(stream,state){var escaped=false,next,end=false;while(!stream.eol()){if(!escaped&&stream.match(\'"\')&&(type=="single"||stream.match(\'""\'))){end=true;break}if(!escaped&&stream.match("``")){stringTokenizer=tokenCeylonString(type);end=true;break}next=stream.next();escaped=type=="single"&&!escaped&&next=="\\\\"}if(end)state.tokenize=\nnull;return"string"}}def("text/x-ceylon",{name:"clike",keywords:words("abstracts alias assembly assert assign break case catch class continue dynamic else"+" exists extends finally for function given if import in interface is let module new"+" nonempty object of out outer package return satisfies super switch then this throw"+" try value void while"),types:function(word){var first=word.charAt(0);return first===first.toUpperCase()&&first!==first.toLowerCase()},blockKeywords:words("case catch class dynamic else finally for function if interface module new object switch try while"),\ndefKeywords:words("class dynamic function interface module object package value"),builtin:words("abstract actual aliased annotation by default deprecated doc final formal late license"+" native optional sealed see serializable shared suppressWarnings tagged throws variable"),isPunctuationChar:/[\\[\\]{}\\(\\),;:\\.`]/,isOperatorChar:/[+\\-*&%=<>!?|^~:\\/]/,numberStart:/[\\d#$]/,number:/^(?:#[\\da-fA-F_]+|\\$[01_]+|[\\d_]+[kMGTPmunpf]?|[\\d_]+\\.[\\d_]+(?:[eE][-+]?\\d+|[kMGTPmunpf]|)|)/i,multiLineStrings:true,typeFirstDefinitions:true,\natoms:words("true false null larger smaller equal empty finished"),indentSwitch:false,styleDefs:false,hooks:{"@":function(stream){stream.eatWhile(/[\\w\\$_]/);return"meta"},\'"\':function(stream,state){state.tokenize=tokenCeylonString(stream.match(\'""\')?"triple":"single");return state.tokenize(stream,state)},"`":function(stream,state){if(!stringTokenizer||!stream.match("`"))return false;state.tokenize=stringTokenizer;stringTokenizer=null;return state.tokenize(stream,state)},"\'":function(stream){stream.eatWhile(/[\\w\\$_\\xa1-\\uffff]/);\nreturn"atom"},token:function(_stream,state,style){if((style=="variable"||style=="type")&&state.prevToken==".")return"variable-2"}},modeProps:{fold:["brace","import"],closeBrackets:{triples:\'"\'}}})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineMode("css",function(config,parserConfig){var inline=parserConfig.inline;if(!parserConfig.propertyKeywords)parserConfig=CodeMirror.resolveMode("text/css");var indentUnit=config.indentUnit,tokenHooks=parserConfig.tokenHooks,documentTypes=parserConfig.documentTypes||\n{},mediaTypes=parserConfig.mediaTypes||{},mediaFeatures=parserConfig.mediaFeatures||{},mediaValueKeywords=parserConfig.mediaValueKeywords||{},propertyKeywords=parserConfig.propertyKeywords||{},nonStandardPropertyKeywords=parserConfig.nonStandardPropertyKeywords||{},fontProperties=parserConfig.fontProperties||{},counterDescriptors=parserConfig.counterDescriptors||{},colorKeywords=parserConfig.colorKeywords||{},valueKeywords=parserConfig.valueKeywords||{},allowNested=parserConfig.allowNested,lineComment=\nparserConfig.lineComment,supportsAtComponent=parserConfig.supportsAtComponent===true,highlightNonStandardPropertyKeywords=config.highlightNonStandardPropertyKeywords!==false;var type,override;function ret(style,tp){type=tp;return style}function tokenBase(stream,state){var ch=stream.next();if(tokenHooks[ch]){var result=tokenHooks[ch](stream,state);if(result!==false)return result}if(ch=="@"){stream.eatWhile(/[\\w\\\\\\-]/);return ret("def",stream.current())}else if(ch=="="||(ch=="~"||ch=="|")&&stream.eat("="))return ret(null,\n"compare");else if(ch==\'"\'||ch=="\'"){state.tokenize=tokenString(ch);return state.tokenize(stream,state)}else if(ch=="#"){stream.eatWhile(/[\\w\\\\\\-]/);return ret("atom","hash")}else if(ch=="!"){stream.match(/^\\s*\\w*/);return ret("keyword","important")}else if(/\\d/.test(ch)||ch=="."&&stream.eat(/\\d/)){stream.eatWhile(/[\\w.%]/);return ret("number","unit")}else if(ch==="-")if(/[\\d.]/.test(stream.peek())){stream.eatWhile(/[\\w.%]/);return ret("number","unit")}else if(stream.match(/^-[\\w\\\\\\-]*/)){stream.eatWhile(/[\\w\\\\\\-]/);\nif(stream.match(/^\\s*:/,false))return ret("variable-2","variable-definition");return ret("variable-2","variable")}else{if(stream.match(/^\\w+-/))return ret("meta","meta")}else if(/[,+>*\\/]/.test(ch))return ret(null,"select-op");else if(ch=="."&&stream.match(/^-?[_a-z][_a-z0-9-]*/i))return ret("qualifier","qualifier");else if(/[:;{}\\[\\]\\(\\)]/.test(ch))return ret(null,ch);else if(stream.match(/^[\\w-.]+(?=\\()/)){if(/^(url(-prefix)?|domain|regexp)$/i.test(stream.current()))state.tokenize=tokenParenthesized;\nreturn ret("variable callee","variable")}else if(/[\\w\\\\\\-]/.test(ch)){stream.eatWhile(/[\\w\\\\\\-]/);return ret("property","word")}else return ret(null,null)}function tokenString(quote){return function(stream,state){var escaped=false,ch;while((ch=stream.next())!=null){if(ch==quote&&!escaped){if(quote==")")stream.backUp(1);break}escaped=!escaped&&ch=="\\\\"}if(ch==quote||!escaped&&quote!=")")state.tokenize=null;return ret("string","string")}}function tokenParenthesized(stream,state){stream.next();if(!stream.match(/^\\s*["\')]/,\nfalse))state.tokenize=tokenString(")");else state.tokenize=null;return ret(null,"(")}function Context(type,indent,prev){this.type=type;this.indent=indent;this.prev=prev}function pushContext(state,stream,type,indent){state.context=new Context(type,stream.indentation()+(indent===false?0:indentUnit),state.context);return type}function popContext(state){if(state.context.prev)state.context=state.context.prev;return state.context.type}function pass(type,stream,state){return states[state.context.type](type,\nstream,state)}function popAndPass(type,stream,state,n){for(var i=n||1;i>0;i--)state.context=state.context.prev;return pass(type,stream,state)}function wordAsValue(stream){var word=stream.current().toLowerCase();if(valueKeywords.hasOwnProperty(word))override="atom";else if(colorKeywords.hasOwnProperty(word))override="keyword";else override="variable"}var states={};states.top=function(type,stream,state){if(type=="{")return pushContext(state,stream,"block");else if(type=="}"&&state.context.prev)return popContext(state);\nelse if(supportsAtComponent&&/@component/i.test(type))return pushContext(state,stream,"atComponentBlock");else if(/^@(-moz-)?document$/i.test(type))return pushContext(state,stream,"documentTypes");else if(/^@(media|supports|(-moz-)?document|import)$/i.test(type))return pushContext(state,stream,"atBlock");else if(/^@(font-face|counter-style)/i.test(type)){state.stateArg=type;return"restricted_atBlock_before"}else if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(type))return"keyframes";else if(type&&type.charAt(0)==\n"@")return pushContext(state,stream,"at");else if(type=="hash")override="builtin";else if(type=="word")override="tag";else if(type=="variable-definition")return"maybeprop";else if(type=="interpolation")return pushContext(state,stream,"interpolation");else if(type==":")return"pseudo";else if(allowNested&&type=="(")return pushContext(state,stream,"parens");return state.context.type};states.block=function(type,stream,state){if(type=="word"){var word=stream.current().toLowerCase();if(propertyKeywords.hasOwnProperty(word)){override=\n"property";return"maybeprop"}else if(nonStandardPropertyKeywords.hasOwnProperty(word)){override=highlightNonStandardPropertyKeywords?"string-2":"property";return"maybeprop"}else if(allowNested){override=stream.match(/^\\s*:(?:\\s|$)/,false)?"property":"tag";return"block"}else{override+=" error";return"maybeprop"}}else if(type=="meta")return"block";else if(!allowNested&&(type=="hash"||type=="qualifier")){override="error";return"block"}else return states.top(type,stream,state)};states.maybeprop=function(type,\nstream,state){if(type==":")return pushContext(state,stream,"prop");return pass(type,stream,state)};states.prop=function(type,stream,state){if(type==";")return popContext(state);if(type=="{"&&allowNested)return pushContext(state,stream,"propBlock");if(type=="}"||type=="{")return popAndPass(type,stream,state);if(type=="(")return pushContext(state,stream,"parens");if(type=="hash"&&!/^#([0-9a-fA-F]{3,4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/.test(stream.current()))override+=" error";else if(type=="word")wordAsValue(stream);\nelse if(type=="interpolation")return pushContext(state,stream,"interpolation");return"prop"};states.propBlock=function(type,_stream,state){if(type=="}")return popContext(state);if(type=="word"){override="property";return"maybeprop"}return state.context.type};states.parens=function(type,stream,state){if(type=="{"||type=="}")return popAndPass(type,stream,state);if(type==")")return popContext(state);if(type=="(")return pushContext(state,stream,"parens");if(type=="interpolation")return pushContext(state,\nstream,"interpolation");if(type=="word")wordAsValue(stream);return"parens"};states.pseudo=function(type,stream,state){if(type=="meta")return"pseudo";if(type=="word"){override="variable-3";return state.context.type}return pass(type,stream,state)};states.documentTypes=function(type,stream,state){if(type=="word"&&documentTypes.hasOwnProperty(stream.current())){override="tag";return state.context.type}else return states.atBlock(type,stream,state)};states.atBlock=function(type,stream,state){if(type=="(")return pushContext(state,\nstream,"atBlock_parens");if(type=="}"||type==";")return popAndPass(type,stream,state);if(type=="{")return popContext(state)&&pushContext(state,stream,allowNested?"block":"top");if(type=="interpolation")return pushContext(state,stream,"interpolation");if(type=="word"){var word=stream.current().toLowerCase();if(word=="only"||word=="not"||word=="and"||word=="or")override="keyword";else if(mediaTypes.hasOwnProperty(word))override="attribute";else if(mediaFeatures.hasOwnProperty(word))override="property";\nelse if(mediaValueKeywords.hasOwnProperty(word))override="keyword";else if(propertyKeywords.hasOwnProperty(word))override="property";else if(nonStandardPropertyKeywords.hasOwnProperty(word))override=highlightNonStandardPropertyKeywords?"string-2":"property";else if(valueKeywords.hasOwnProperty(word))override="atom";else if(colorKeywords.hasOwnProperty(word))override="keyword";else override="error"}return state.context.type};states.atComponentBlock=function(type,stream,state){if(type=="}")return popAndPass(type,\nstream,state);if(type=="{")return popContext(state)&&pushContext(state,stream,allowNested?"block":"top",false);if(type=="word")override="error";return state.context.type};states.atBlock_parens=function(type,stream,state){if(type==")")return popContext(state);if(type=="{"||type=="}")return popAndPass(type,stream,state,2);return states.atBlock(type,stream,state)};states.restricted_atBlock_before=function(type,stream,state){if(type=="{")return pushContext(state,stream,"restricted_atBlock");if(type==\n"word"&&state.stateArg=="@counter-style"){override="variable";return"restricted_atBlock_before"}return pass(type,stream,state)};states.restricted_atBlock=function(type,stream,state){if(type=="}"){state.stateArg=null;return popContext(state)}if(type=="word"){if(state.stateArg=="@font-face"&&!fontProperties.hasOwnProperty(stream.current().toLowerCase())||state.stateArg=="@counter-style"&&!counterDescriptors.hasOwnProperty(stream.current().toLowerCase()))override="error";else override="property";return"maybeprop"}return"restricted_atBlock"};\nstates.keyframes=function(type,stream,state){if(type=="word"){override="variable";return"keyframes"}if(type=="{")return pushContext(state,stream,"top");return pass(type,stream,state)};states.at=function(type,stream,state){if(type==";")return popContext(state);if(type=="{"||type=="}")return popAndPass(type,stream,state);if(type=="word")override="tag";else if(type=="hash")override="builtin";return"at"};states.interpolation=function(type,stream,state){if(type=="}")return popContext(state);if(type=="{"||\ntype==";")return popAndPass(type,stream,state);if(type=="word")override="variable";else if(type!="variable"&&type!="("&&type!=")")override="error";return"interpolation"};return{startState:function(base){return{tokenize:null,state:inline?"block":"top",stateArg:null,context:new Context(inline?"block":"top",base||0,null)}},token:function(stream,state){if(!state.tokenize&&stream.eatSpace())return null;var style=(state.tokenize||tokenBase)(stream,state);if(style&&typeof style=="object"){type=style[1];\nstyle=style[0]}override=style;if(type!="comment")state.state=states[state.state](type,stream,state);return override},indent:function(state,textAfter){var cx=state.context,ch=textAfter&&textAfter.charAt(0);var indent=cx.indent;if(cx.type=="prop"&&(ch=="}"||ch==")"))cx=cx.prev;if(cx.prev)if(ch=="}"&&(cx.type=="block"||cx.type=="top"||cx.type=="interpolation"||cx.type=="restricted_atBlock")){cx=cx.prev;indent=cx.indent}else if(ch==")"&&(cx.type=="parens"||cx.type=="atBlock_parens")||ch=="{"&&(cx.type==\n"at"||cx.type=="atBlock"))indent=Math.max(0,cx.indent-indentUnit);return indent},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:lineComment,fold:"brace"}});function keySet(array){var keys={};for(var i=0;i<array.length;++i)keys[array[i].toLowerCase()]=true;return keys}var documentTypes_=["domain","regexp","url","url-prefix"],documentTypes=keySet(documentTypes_);var mediaTypes_=["all","aural","braille","handheld","print","projection","screen","tty",\n"tv","embossed"],mediaTypes=keySet(mediaTypes_);var mediaFeatures_=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution",\n"min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme","dynamic-range","video-dynamic-range"],mediaFeatures=keySet(mediaFeatures_);var mediaValueKeywords_=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light","standard","high"],mediaValueKeywords=keySet(mediaValueKeywords_);var propertyKeywords_=["align-content",\n"align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position",\n"background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width",\n"border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile",\n"column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position",\n"flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings",\n"font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline",\n"inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip",\n"mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset",\n"outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before",\n"region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top",\n"scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size",\n"table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse",\n"text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing",\n"word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity",\n"stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],propertyKeywords=keySet(propertyKeywords_);var nonStandardPropertyKeywords_=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style",\n"border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end",\n"padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],nonStandardPropertyKeywords=keySet(nonStandardPropertyKeywords_);\nvar fontProperties_=["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],fontProperties=keySet(fontProperties_);var counterDescriptors_=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],counterDescriptors=keySet(counterDescriptors_);var colorKeywords_=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet",\n"brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold",\n"goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen",\n"mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey",\n"snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],colorKeywords=keySet(colorKeywords_);var valueKeywords_=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page",\n"avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic",\n"clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","conic-gradient","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over",\n"devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et",\n"ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden",\n"hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal",\n"korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-play-button","media-slider","media-sliderthumb","media-volume-slider",\n"media-volume-sliderthumb","medium","menu","menulist","menulist-button","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo",\n"outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeating-conic-gradient","repeat-x","repeat-y","reset",\n"reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate",\n"sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box",\n"sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede",\n"to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider",\n"window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],valueKeywords=keySet(valueKeywords_);var allWords=documentTypes_.concat(mediaTypes_).concat(mediaFeatures_).concat(mediaValueKeywords_).concat(propertyKeywords_).concat(nonStandardPropertyKeywords_).concat(colorKeywords_).concat(valueKeywords_);CodeMirror.registerHelper("hintWords","css",allWords);function tokenCComment(stream,state){var maybeEnd=false,ch;while((ch=stream.next())!=null){if(maybeEnd&&\nch=="/"){state.tokenize=null;break}maybeEnd=ch=="*"}return["comment","comment"]}CodeMirror.defineMIME("text/css",{documentTypes:documentTypes,mediaTypes:mediaTypes,mediaFeatures:mediaFeatures,mediaValueKeywords:mediaValueKeywords,propertyKeywords:propertyKeywords,nonStandardPropertyKeywords:nonStandardPropertyKeywords,fontProperties:fontProperties,counterDescriptors:counterDescriptors,colorKeywords:colorKeywords,valueKeywords:valueKeywords,tokenHooks:{"/":function(stream,state){if(!stream.eat("*"))return false;\nstate.tokenize=tokenCComment;return tokenCComment(stream,state)}},name:"css"});CodeMirror.defineMIME("text/x-scss",{mediaTypes:mediaTypes,mediaFeatures:mediaFeatures,mediaValueKeywords:mediaValueKeywords,propertyKeywords:propertyKeywords,nonStandardPropertyKeywords:nonStandardPropertyKeywords,colorKeywords:colorKeywords,valueKeywords:valueKeywords,fontProperties:fontProperties,allowNested:true,lineComment:"//",tokenHooks:{"/":function(stream,state){if(stream.eat("/")){stream.skipToEnd();return["comment",\n"comment"]}else if(stream.eat("*")){state.tokenize=tokenCComment;return tokenCComment(stream,state)}else return["operator","operator"]},":":function(stream){if(stream.match(/^\\s*\\{/,false))return[null,null];return false},"$":function(stream){stream.match(/^[\\w-]+/);if(stream.match(/^\\s*:/,false))return["variable-2","variable-definition"];return["variable-2","variable"]},"#":function(stream){if(!stream.eat("{"))return false;return[null,"interpolation"]}},name:"css",helperType:"scss"});CodeMirror.defineMIME("text/x-less",\n{mediaTypes:mediaTypes,mediaFeatures:mediaFeatures,mediaValueKeywords:mediaValueKeywords,propertyKeywords:propertyKeywords,nonStandardPropertyKeywords:nonStandardPropertyKeywords,colorKeywords:colorKeywords,valueKeywords:valueKeywords,fontProperties:fontProperties,allowNested:true,lineComment:"//",tokenHooks:{"/":function(stream,state){if(stream.eat("/")){stream.skipToEnd();return["comment","comment"]}else if(stream.eat("*")){state.tokenize=tokenCComment;return tokenCComment(stream,state)}else return["operator",\n"operator"]},"@":function(stream){if(stream.eat("{"))return[null,"interpolation"];if(stream.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\\b/i,false))return false;stream.eatWhile(/[\\w\\\\\\-]/);if(stream.match(/^\\s*:/,false))return["variable-2","variable-definition"];return["variable-2","variable"]},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"});CodeMirror.defineMIME("text/x-gss",{documentTypes:documentTypes,mediaTypes:mediaTypes,\nmediaFeatures:mediaFeatures,propertyKeywords:propertyKeywords,nonStandardPropertyKeywords:nonStandardPropertyKeywords,fontProperties:fontProperties,counterDescriptors:counterDescriptors,colorKeywords:colorKeywords,valueKeywords:valueKeywords,supportsAtComponent:true,tokenHooks:{"/":function(stream,state){if(!stream.eat("*"))return false;state.tokenize=tokenCComment;return tokenCComment(stream,state)}},name:"css",helperType:"gss"})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineMode("go",function(config){var indentUnit=config.indentUnit;var keywords={"break":true,"case":true,"chan":true,"const":true,"continue":true,"default":true,"defer":true,"else":true,"fallthrough":true,"for":true,"func":true,"go":true,"goto":true,"if":true,\n"import":true,"interface":true,"map":true,"package":true,"range":true,"return":true,"select":true,"struct":true,"switch":true,"type":true,"var":true,"bool":true,"byte":true,"complex64":true,"complex128":true,"float32":true,"float64":true,"int8":true,"int16":true,"int32":true,"int64":true,"string":true,"uint8":true,"uint16":true,"uint32":true,"uint64":true,"int":true,"uint":true,"uintptr":true,"error":true,"rune":true,"any":true,"comparable":true};var atoms={"true":true,"false":true,"iota":true,"nil":true,\n"append":true,"cap":true,"close":true,"complex":true,"copy":true,"delete":true,"imag":true,"len":true,"make":true,"new":true,"panic":true,"print":true,"println":true,"real":true,"recover":true};var isOperatorChar=/[+\\-*&^%:=<>!|\\/]/;var curPunc;function tokenBase(stream,state){var ch=stream.next();if(ch==\'"\'||ch=="\'"||ch=="`"){state.tokenize=tokenString(ch);return state.tokenize(stream,state)}if(/[\\d\\.]/.test(ch)){if(ch==".")stream.match(/^[0-9]+([eE][\\-+]?[0-9]+)?/);else if(ch=="0")stream.match(/^[xX][0-9a-fA-F]+/)||\nstream.match(/^0[0-7]+/);else stream.match(/^[0-9]*\\.?[0-9]*([eE][\\-+]?[0-9]+)?/);return"number"}if(/[\\[\\]{}\\(\\),;:\\.]/.test(ch)){curPunc=ch;return null}if(ch=="/"){if(stream.eat("*")){state.tokenize=tokenComment;return tokenComment(stream,state)}if(stream.eat("/")){stream.skipToEnd();return"comment"}}if(isOperatorChar.test(ch)){stream.eatWhile(isOperatorChar);return"operator"}stream.eatWhile(/[\\w\\$_\\xa1-\\uffff]/);var cur=stream.current();if(keywords.propertyIsEnumerable(cur)){if(cur=="case"||cur==\n"default")curPunc="case";return"keyword"}if(atoms.propertyIsEnumerable(cur))return"atom";return"variable"}function tokenString(quote){return function(stream,state){var escaped=false,next,end=false;while((next=stream.next())!=null){if(next==quote&&!escaped){end=true;break}escaped=!escaped&&quote!="`"&&next=="\\\\"}if(end||!(escaped||quote=="`"))state.tokenize=tokenBase;return"string"}}function tokenComment(stream,state){var maybeEnd=false,ch;while(ch=stream.next()){if(ch=="/"&&maybeEnd){state.tokenize=\ntokenBase;break}maybeEnd=ch=="*"}return"comment"}function Context(indented,column,type,align,prev){this.indented=indented;this.column=column;this.type=type;this.align=align;this.prev=prev}function pushContext(state,col,type){return state.context=new Context(state.indented,col,type,null,state.context)}function popContext(state){if(!state.context.prev)return;var t=state.context.type;if(t==")"||t=="]"||t=="}")state.indented=state.context.indented;return state.context=state.context.prev}return{startState:function(basecolumn){return{tokenize:null,\ncontext:new Context((basecolumn||0)-indentUnit,0,"top",false),indented:0,startOfLine:true}},token:function(stream,state){var ctx=state.context;if(stream.sol()){if(ctx.align==null)ctx.align=false;state.indented=stream.indentation();state.startOfLine=true;if(ctx.type=="case")ctx.type="}"}if(stream.eatSpace())return null;curPunc=null;var style=(state.tokenize||tokenBase)(stream,state);if(style=="comment")return style;if(ctx.align==null)ctx.align=true;if(curPunc=="{")pushContext(state,stream.column(),\n"}");else if(curPunc=="[")pushContext(state,stream.column(),"]");else if(curPunc=="(")pushContext(state,stream.column(),")");else if(curPunc=="case")ctx.type="case";else if(curPunc=="}"&&ctx.type=="}")popContext(state);else if(curPunc==ctx.type)popContext(state);state.startOfLine=false;return style},indent:function(state,textAfter){if(state.tokenize!=tokenBase&&state.tokenize!=null)return CodeMirror.Pass;var ctx=state.context,firstChar=textAfter&&textAfter.charAt(0);if(ctx.type=="case"&&/^(?:case|default)\\b/.test(textAfter)){state.context.type=\n"}";return ctx.indented}var closing=firstChar==ctx.type;if(ctx.align)return ctx.column+(closing?0:1);else return ctx.indented+(closing?0:indentUnit)},electricChars:"{}):",closeBrackets:"()[]{}\'\'\\"\\"``",fold:"brace",blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//"}});CodeMirror.defineMIME("text/x-go","go")});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"),require("../htmlmixed/htmlmixed"),require("../clike/clike"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror","../htmlmixed/htmlmixed","../clike/clike"],mod);else mod(CodeMirror)})(function(CodeMirror){function keywords(str){var obj={},words=str.split(" ");for(var i=0;i<words.length;++i)obj[words[i]]=true;return obj}function matchSequence(list,end,escapes){if(list.length==\n0)return phpString(end);return function(stream,state){var patterns=list[0];for(var i=0;i<patterns.length;i++)if(stream.match(patterns[i][0])){state.tokenize=matchSequence(list.slice(1),end);return patterns[i][1]}state.tokenize=phpString(end,escapes);return"string"}}function phpString(closing,escapes){return function(stream,state){return phpString_(stream,state,closing,escapes)}}function phpString_(stream,state,closing,escapes){if(escapes!==false&&stream.match("${",false)||stream.match("{$",false)){state.tokenize=\nnull;return"string"}if(escapes!==false&&stream.match(/^\\$[a-zA-Z_][a-zA-Z0-9_]*/)){if(stream.match("[",false))state.tokenize=matchSequence([[["[",null]],[[/\\d[\\w\\.]*/,"number"],[/\\$[a-zA-Z_][a-zA-Z0-9_]*/,"variable-2"],[/[\\w\\$]+/,"variable"]],[["]",null]]],closing,escapes);if(stream.match(/^->\\w/,false))state.tokenize=matchSequence([[["->",null]],[[/[\\w]+/,"variable"]]],closing,escapes);return"variable-2"}var escaped=false;while(!stream.eol()&&(escaped||escapes===false||!stream.match("{$",false)&&\n!stream.match(/^(\\$[a-zA-Z_][a-zA-Z0-9_]*|\\$\\{)/,false))){if(!escaped&&stream.match(closing)){state.tokenize=null;state.tokStack.pop();state.tokStack.pop();break}escaped=stream.next()=="\\\\"&&!escaped}return"string"}var phpKeywords="abstract and array as break case catch class clone const continue declare default "+"do else elseif enddeclare endfor endforeach endif endswitch endwhile enum extends final "+"for foreach function global goto if implements interface instanceof namespace "+"new or private protected public static switch throw trait try use var while xor "+\n"die echo empty exit eval include include_once isset list require require_once return "+"print unset __halt_compiler self static parent yield insteadof finally readonly match";var phpAtoms="true false null TRUE FALSE NULL __CLASS__ __DIR__ __FILE__ __LINE__ __METHOD__ __FUNCTION__ __NAMESPACE__ __TRAIT__";var phpBuiltin="func_num_args func_get_arg func_get_args strlen strcmp strncmp strcasecmp strncasecmp each error_reporting define defined trigger_error user_error set_error_handler restore_error_handler get_declared_classes get_loaded_extensions extension_loaded get_extension_funcs debug_backtrace constant bin2hex hex2bin sleep usleep time mktime gmmktime strftime gmstrftime strtotime date gmdate getdate localtime checkdate flush wordwrap htmlspecialchars htmlentities html_entity_decode md5 md5_file crc32 getimagesize image_type_to_mime_type phpinfo phpversion phpcredits strnatcmp strnatcasecmp substr_count strspn strcspn strtok strtoupper strtolower strpos strrpos strrev hebrev hebrevc nl2br basename dirname pathinfo stripslashes stripcslashes strstr stristr strrchr str_shuffle str_word_count strcoll substr substr_replace quotemeta ucfirst ucwords strtr addslashes addcslashes rtrim str_replace str_repeat count_chars chunk_split trim ltrim strip_tags similar_text explode implode setlocale localeconv parse_str str_pad chop strchr sprintf printf vprintf vsprintf sscanf fscanf parse_url urlencode urldecode rawurlencode rawurldecode readlink linkinfo link unlink exec system escapeshellcmd escapeshellarg passthru shell_exec proc_open proc_close rand srand getrandmax mt_rand mt_srand mt_getrandmax base64_decode base64_encode abs ceil floor round is_finite is_nan is_infinite bindec hexdec octdec decbin decoct dechex base_convert number_format fmod ip2long long2ip getenv putenv getopt microtime gettimeofday getrusage uniqid quoted_printable_decode set_time_limit get_cfg_var magic_quotes_runtime set_magic_quotes_runtime get_magic_quotes_gpc get_magic_quotes_runtime import_request_variables error_log serialize unserialize memory_get_usage memory_get_peak_usage var_dump var_export debug_zval_dump print_r highlight_file show_source highlight_string ini_get ini_get_all ini_set ini_alter ini_restore get_include_path set_include_path restore_include_path setcookie header headers_sent connection_aborted connection_status ignore_user_abort parse_ini_file is_uploaded_file move_uploaded_file intval floatval doubleval strval gettype settype is_null is_resource is_bool is_long is_float is_int is_integer is_double is_real is_numeric is_string is_array is_object is_scalar ereg ereg_replace eregi eregi_replace split spliti join sql_regcase dl pclose popen readfile rewind rmdir umask fclose feof fgetc fgets fgetss fread fopen fpassthru ftruncate fstat fseek ftell fflush fwrite fputs mkdir rename copy tempnam tmpfile file file_get_contents file_put_contents stream_select stream_context_create stream_context_set_params stream_context_set_option stream_context_get_options stream_filter_prepend stream_filter_append fgetcsv flock get_meta_tags stream_set_write_buffer set_file_buffer set_socket_blocking stream_set_blocking socket_set_blocking stream_get_meta_data stream_register_wrapper stream_wrapper_register stream_set_timeout socket_set_timeout socket_get_status realpath fnmatch fsockopen pfsockopen pack unpack get_browser crypt opendir closedir chdir getcwd rewinddir readdir dir glob fileatime filectime filegroup fileinode filemtime fileowner fileperms filesize filetype file_exists is_writable is_writeable is_readable is_executable is_file is_dir is_link stat lstat chown touch clearstatcache mail ob_start ob_flush ob_clean ob_end_flush ob_end_clean ob_get_flush ob_get_clean ob_get_length ob_get_level ob_get_status ob_get_contents ob_implicit_flush ob_list_handlers ksort krsort natsort natcasesort asort arsort sort rsort usort uasort uksort shuffle array_walk count end prev next reset current key min max in_array array_search extract compact array_fill range array_multisort array_push array_pop array_shift array_unshift array_splice array_slice array_merge array_merge_recursive array_keys array_values array_count_values array_reverse array_reduce array_pad array_flip array_change_key_case array_rand array_unique array_intersect array_intersect_assoc array_diff array_diff_assoc array_sum array_filter array_map array_chunk array_key_exists array_intersect_key array_combine array_column pos sizeof key_exists assert assert_options version_compare ftok str_rot13 aggregate session_name session_module_name session_save_path session_id session_regenerate_id session_decode session_register session_unregister session_is_registered session_encode session_start session_destroy session_unset session_set_save_handler session_cache_limiter session_cache_expire session_set_cookie_params session_get_cookie_params session_write_close preg_match preg_match_all preg_replace preg_replace_callback preg_split preg_quote preg_grep overload ctype_alnum ctype_alpha ctype_cntrl ctype_digit ctype_lower ctype_graph ctype_print ctype_punct ctype_space ctype_upper ctype_xdigit virtual apache_request_headers apache_note apache_lookup_uri apache_child_terminate apache_setenv apache_response_headers apache_get_version getallheaders mysql_connect mysql_pconnect mysql_close mysql_select_db mysql_create_db mysql_drop_db mysql_query mysql_unbuffered_query mysql_db_query mysql_list_dbs mysql_list_tables mysql_list_fields mysql_list_processes mysql_error mysql_errno mysql_affected_rows mysql_insert_id mysql_result mysql_num_rows mysql_num_fields mysql_fetch_row mysql_fetch_array mysql_fetch_assoc mysql_fetch_object mysql_data_seek mysql_fetch_lengths mysql_fetch_field mysql_field_seek mysql_free_result mysql_field_name mysql_field_table mysql_field_len mysql_field_type mysql_field_flags mysql_escape_string mysql_real_escape_string mysql_stat mysql_thread_id mysql_client_encoding mysql_get_client_info mysql_get_host_info mysql_get_proto_info mysql_get_server_info mysql_info mysql mysql_fieldname mysql_fieldtable mysql_fieldlen mysql_fieldtype mysql_fieldflags mysql_selectdb mysql_createdb mysql_dropdb mysql_freeresult mysql_numfields mysql_numrows mysql_listdbs mysql_listtables mysql_listfields mysql_db_name mysql_dbname mysql_tablename mysql_table_name pg_connect pg_pconnect pg_close pg_connection_status pg_connection_busy pg_connection_reset pg_host pg_dbname pg_port pg_tty pg_options pg_ping pg_query pg_send_query pg_cancel_query pg_fetch_result pg_fetch_row pg_fetch_assoc pg_fetch_array pg_fetch_object pg_fetch_all pg_affected_rows pg_get_result pg_result_seek pg_result_status pg_free_result pg_last_oid pg_num_rows pg_num_fields pg_field_name pg_field_num pg_field_size pg_field_type pg_field_prtlen pg_field_is_null pg_get_notify pg_get_pid pg_result_error pg_last_error pg_last_notice pg_put_line pg_end_copy pg_copy_to pg_copy_from pg_trace pg_untrace pg_lo_create pg_lo_unlink pg_lo_open pg_lo_close pg_lo_read pg_lo_write pg_lo_read_all pg_lo_import pg_lo_export pg_lo_seek pg_lo_tell pg_escape_string pg_escape_bytea pg_unescape_bytea pg_client_encoding pg_set_client_encoding pg_meta_data pg_convert pg_insert pg_update pg_delete pg_select pg_exec pg_getlastoid pg_cmdtuples pg_errormessage pg_numrows pg_numfields pg_fieldname pg_fieldsize pg_fieldtype pg_fieldnum pg_fieldprtlen pg_fieldisnull pg_freeresult pg_result pg_loreadall pg_locreate pg_lounlink pg_loopen pg_loclose pg_loread pg_lowrite pg_loimport pg_loexport http_response_code get_declared_traits getimagesizefromstring socket_import_stream stream_set_chunk_size trait_exists header_register_callback class_uses session_status session_register_shutdown echo print global static exit array empty eval isset unset die include require include_once require_once json_decode json_encode json_last_error json_last_error_msg curl_close curl_copy_handle curl_errno curl_error curl_escape curl_exec curl_file_create curl_getinfo curl_init curl_multi_add_handle curl_multi_close curl_multi_exec curl_multi_getcontent curl_multi_info_read curl_multi_init curl_multi_remove_handle curl_multi_select curl_multi_setopt curl_multi_strerror curl_pause curl_reset curl_setopt_array curl_setopt curl_share_close curl_share_init curl_share_setopt curl_strerror curl_unescape curl_version mysqli_affected_rows mysqli_autocommit mysqli_change_user mysqli_character_set_name mysqli_close mysqli_commit mysqli_connect_errno mysqli_connect_error mysqli_connect mysqli_data_seek mysqli_debug mysqli_dump_debug_info mysqli_errno mysqli_error_list mysqli_error mysqli_fetch_all mysqli_fetch_array mysqli_fetch_assoc mysqli_fetch_field_direct mysqli_fetch_field mysqli_fetch_fields mysqli_fetch_lengths mysqli_fetch_object mysqli_fetch_row mysqli_field_count mysqli_field_seek mysqli_field_tell mysqli_free_result mysqli_get_charset mysqli_get_client_info mysqli_get_client_stats mysqli_get_client_version mysqli_get_connection_stats mysqli_get_host_info mysqli_get_proto_info mysqli_get_server_info mysqli_get_server_version mysqli_info mysqli_init mysqli_insert_id mysqli_kill mysqli_more_results mysqli_multi_query mysqli_next_result mysqli_num_fields mysqli_num_rows mysqli_options mysqli_ping mysqli_prepare mysqli_query mysqli_real_connect mysqli_real_escape_string mysqli_real_query mysqli_reap_async_query mysqli_refresh mysqli_rollback mysqli_select_db mysqli_set_charset mysqli_set_local_infile_default mysqli_set_local_infile_handler mysqli_sqlstate mysqli_ssl_set mysqli_stat mysqli_stmt_init mysqli_store_result mysqli_thread_id mysqli_thread_safe mysqli_use_result mysqli_warning_count";\nCodeMirror.registerHelper("hintWords","php",[phpKeywords,phpAtoms,phpBuiltin].join(" ").split(" "));CodeMirror.registerHelper("wordChars","php",/[\\w$]/);var phpConfig={name:"clike",helperType:"php",keywords:keywords(phpKeywords),blockKeywords:keywords("catch do else elseif for foreach if switch try while finally"),defKeywords:keywords("class enum function interface namespace trait"),atoms:keywords(phpAtoms),builtin:keywords(phpBuiltin),multiLineStrings:true,hooks:{"$":function(stream){stream.eatWhile(/[\\w\\$_]/);\nreturn"variable-2"},"<":function(stream,state){var before;if(before=stream.match(/^<<\\s*/)){var quoted=stream.eat(/[\'"]/);stream.eatWhile(/[\\w\\.]/);var delim=stream.current().slice(before[0].length+(quoted?2:1));if(quoted)stream.eat(quoted);if(delim){(state.tokStack||(state.tokStack=[])).push(delim,0);state.tokenize=phpString(delim,quoted!="\'");return"string"}}return false},"#":function(stream){while(!stream.eol()&&!stream.match("?>",false))stream.next();return"comment"},"/":function(stream){if(stream.eat("/")){while(!stream.eol()&&\n!stream.match("?>",false))stream.next();return"comment"}return false},\'"\':function(_stream,state){(state.tokStack||(state.tokStack=[])).push(\'"\',0);state.tokenize=phpString(\'"\');return"string"},"{":function(_stream,state){if(state.tokStack&&state.tokStack.length)state.tokStack[state.tokStack.length-1]++;return false},"}":function(_stream,state){if(state.tokStack&&state.tokStack.length>0&&!--state.tokStack[state.tokStack.length-1])state.tokenize=phpString(state.tokStack[state.tokStack.length-2]);return false}}};\nCodeMirror.defineMode("php",function(config,parserConfig){var htmlMode=CodeMirror.getMode(config,parserConfig&&parserConfig.htmlMode||"text/html");var phpMode=CodeMirror.getMode(config,phpConfig);function dispatch(stream,state){var isPHP=state.curMode==phpMode;if(stream.sol()&&state.pending&&state.pending!=\'"\'&&state.pending!="\'")state.pending=null;if(!isPHP){if(stream.match(/^<\\?\\w*/)){state.curMode=phpMode;if(!state.php)state.php=CodeMirror.startState(phpMode,htmlMode.indent(state.html,"",""));\nstate.curState=state.php;return"meta"}if(state.pending==\'"\'||state.pending=="\'"){while(!stream.eol()&&stream.next()!=state.pending);var style="string"}else if(state.pending&&stream.pos<state.pending.end){stream.pos=state.pending.end;var style=state.pending.style}else var style=htmlMode.token(stream,state.curState);if(state.pending)state.pending=null;var cur=stream.current(),openPHP=cur.search(/<\\?/),m;if(openPHP!=-1){if(style=="string"&&(m=cur.match(/[\'"]$/))&&!/\\?>/.test(cur))state.pending=m[0];\nelse state.pending={end:stream.pos,style:style};stream.backUp(cur.length-openPHP)}return style}else if(isPHP&&state.php.tokenize==null&&stream.match("?>")){state.curMode=htmlMode;state.curState=state.html;if(!state.php.context.prev)state.php=null;return"meta"}else return phpMode.token(stream,state.curState)}return{startState:function(){var html=CodeMirror.startState(htmlMode);var php=parserConfig.startOpen?CodeMirror.startState(phpMode):null;return{html:html,php:php,curMode:parserConfig.startOpen?\nphpMode:htmlMode,curState:parserConfig.startOpen?php:html,pending:null}},copyState:function(state){var html=state.html,htmlNew=CodeMirror.copyState(htmlMode,html),php=state.php,phpNew=php&&CodeMirror.copyState(phpMode,php),cur;if(state.curMode==htmlMode)cur=htmlNew;else cur=phpNew;return{html:htmlNew,php:phpNew,curMode:state.curMode,curState:cur,pending:state.pending}},token:dispatch,indent:function(state,textAfter,line){if(state.curMode!=phpMode&&/^\\s*<\\//.test(textAfter)||state.curMode==phpMode&&\n/^\\?>/.test(textAfter))return htmlMode.indent(state.html,textAfter,line);return state.curMode.indent(state.curState,textAfter,line)},blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",innerMode:function(state){return{state:state.curState,mode:state.curMode}}}},"htmlmixed","clike");CodeMirror.defineMIME("application/x-httpd-php","php");CodeMirror.defineMIME("application/x-httpd-php-open",{name:"php",startOpen:true});CodeMirror.defineMIME("text/x-php",phpConfig)});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function wordRegexp(words){return new RegExp("^(("+words.join(")|(")+"))\\\\b")}var wordOperators=wordRegexp(["and","or","not","is"]);var commonKeywords=["as","assert","break","class","continue","def","del","elif","else","except","finally","for","from","global","if","import",\n"lambda","pass","raise","return","try","while","with","yield","in"];var commonBuiltins=["abs","all","any","bin","bool","bytearray","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","property","range","repr","reversed",\n"round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip","__import__","NotImplemented","Ellipsis","__debug__"];CodeMirror.registerHelper("hintWords","python",commonKeywords.concat(commonBuiltins));function top(state){return state.scopes[state.scopes.length-1]}CodeMirror.defineMode("python",function(conf,parserConf){var ERRORCLASS="error";var delimiters=parserConf.delimiters||parserConf.singleDelimiters||/^[\\(\\)\\[\\]\\{\\}@,:`=;\\.\\\\]/;var operators=[parserConf.singleOperators,\nparserConf.doubleOperators,parserConf.doubleDelimiters,parserConf.tripleDelimiters,parserConf.operators||/^([-+*/%\\/&|^]=?|[<>=]+|\\/\\/=?|\\*\\*=?|!=|[~!@]|\\.\\.\\.)/];for(var i=0;i<operators.length;i++)if(!operators[i])operators.splice(i--,1);var hangingIndent=parserConf.hangingIndent||conf.indentUnit;var myKeywords=commonKeywords,myBuiltins=commonBuiltins;if(parserConf.extra_keywords!=undefined)myKeywords=myKeywords.concat(parserConf.extra_keywords);if(parserConf.extra_builtins!=undefined)myBuiltins=\nmyBuiltins.concat(parserConf.extra_builtins);var py3=!(parserConf.version&&Number(parserConf.version)<3);if(py3){var identifiers=parserConf.identifiers||/^[_A-Za-z\\u00A1-\\uFFFF][_A-Za-z0-9\\u00A1-\\uFFFF]*/;myKeywords=myKeywords.concat(["nonlocal","False","True","None","async","await"]);myBuiltins=myBuiltins.concat(["ascii","bytes","exec","print"]);var stringPrefixes=new RegExp("^(([rbuf]|(br)|(rb)|(fr)|(rf))?(\'{3}|\\"{3}|[\'\\"]))","i")}else{var identifiers=parserConf.identifiers||/^[_A-Za-z][_A-Za-z0-9]*/;\nmyKeywords=myKeywords.concat(["exec","print"]);myBuiltins=myBuiltins.concat(["apply","basestring","buffer","cmp","coerce","execfile","file","intern","long","raw_input","reduce","reload","unichr","unicode","xrange","False","True","None"]);var stringPrefixes=new RegExp("^(([rubf]|(ur)|(br))?(\'{3}|\\"{3}|[\'\\"]))","i")}var keywords=wordRegexp(myKeywords);var builtins=wordRegexp(myBuiltins);function tokenBase(stream,state){var sol=stream.sol()&&state.lastToken!="\\\\";if(sol)state.indent=stream.indentation();\nif(sol&&top(state).type=="py"){var scopeOffset=top(state).offset;if(stream.eatSpace()){var lineOffset=stream.indentation();if(lineOffset>scopeOffset)pushPyScope(state);else if(lineOffset<scopeOffset&&dedent(stream,state)&&stream.peek()!="#")state.errorToken=true;return null}else{var style=tokenBaseInner(stream,state);if(scopeOffset>0&&dedent(stream,state))style+=" "+ERRORCLASS;return style}}return tokenBaseInner(stream,state)}function tokenBaseInner(stream,state,inFormat){if(stream.eatSpace())return null;\nif(!inFormat&&stream.match(/^#.*/))return"comment";if(stream.match(/^[0-9\\.]/,false)){var floatLiteral=false;if(stream.match(/^[\\d_]*\\.\\d+(e[\\+\\-]?\\d+)?/i))floatLiteral=true;if(stream.match(/^[\\d_]+\\.\\d*/))floatLiteral=true;if(stream.match(/^\\.\\d+/))floatLiteral=true;if(floatLiteral){stream.eat(/J/i);return"number"}var intLiteral=false;if(stream.match(/^0x[0-9a-f_]+/i))intLiteral=true;if(stream.match(/^0b[01_]+/i))intLiteral=true;if(stream.match(/^0o[0-7_]+/i))intLiteral=true;if(stream.match(/^[1-9][\\d_]*(e[\\+\\-]?[\\d_]+)?/)){stream.eat(/J/i);\nintLiteral=true}if(stream.match(/^0(?![\\dx])/i))intLiteral=true;if(intLiteral){stream.eat(/L/i);return"number"}}if(stream.match(stringPrefixes)){var isFmtString=stream.current().toLowerCase().indexOf("f")!==-1;if(!isFmtString){state.tokenize=tokenStringFactory(stream.current(),state.tokenize);return state.tokenize(stream,state)}else{state.tokenize=formatStringFactory(stream.current(),state.tokenize);return state.tokenize(stream,state)}}for(var i=0;i<operators.length;i++)if(stream.match(operators[i]))return"operator";\nif(stream.match(delimiters))return"punctuation";if(state.lastToken=="."&&stream.match(identifiers))return"property";if(stream.match(keywords)||stream.match(wordOperators))return"keyword";if(stream.match(builtins))return"builtin";if(stream.match(/^(self|cls)\\b/))return"variable-2";if(stream.match(identifiers)){if(state.lastToken=="def"||state.lastToken=="class")return"def";return"variable"}stream.next();return inFormat?null:ERRORCLASS}function formatStringFactory(delimiter,tokenOuter){while("rubf".indexOf(delimiter.charAt(0).toLowerCase())>=\n0)delimiter=delimiter.substr(1);var singleline=delimiter.length==1;var OUTCLASS="string";function tokenNestedExpr(depth){return function(stream,state){var inner=tokenBaseInner(stream,state,true);if(inner=="punctuation")if(stream.current()=="{")state.tokenize=tokenNestedExpr(depth+1);else if(stream.current()=="}")if(depth>1)state.tokenize=tokenNestedExpr(depth-1);else state.tokenize=tokenString;return inner}}function tokenString(stream,state){while(!stream.eol()){stream.eatWhile(/[^\'"\\{\\}\\\\]/);if(stream.eat("\\\\")){stream.next();\nif(singleline&&stream.eol())return OUTCLASS}else if(stream.match(delimiter)){state.tokenize=tokenOuter;return OUTCLASS}else if(stream.match("{{"))return OUTCLASS;else if(stream.match("{",false)){state.tokenize=tokenNestedExpr(0);if(stream.current())return OUTCLASS;else return state.tokenize(stream,state)}else if(stream.match("}}"))return OUTCLASS;else if(stream.match("}"))return ERRORCLASS;else stream.eat(/[\'"]/)}if(singleline)if(parserConf.singleLineStringErrors)return ERRORCLASS;else state.tokenize=\ntokenOuter;return OUTCLASS}tokenString.isString=true;return tokenString}function tokenStringFactory(delimiter,tokenOuter){while("rubf".indexOf(delimiter.charAt(0).toLowerCase())>=0)delimiter=delimiter.substr(1);var singleline=delimiter.length==1;var OUTCLASS="string";function tokenString(stream,state){while(!stream.eol()){stream.eatWhile(/[^\'"\\\\]/);if(stream.eat("\\\\")){stream.next();if(singleline&&stream.eol())return OUTCLASS}else if(stream.match(delimiter)){state.tokenize=tokenOuter;return OUTCLASS}else stream.eat(/[\'"]/)}if(singleline)if(parserConf.singleLineStringErrors)return ERRORCLASS;\nelse state.tokenize=tokenOuter;return OUTCLASS}tokenString.isString=true;return tokenString}function pushPyScope(state){while(top(state).type!="py")state.scopes.pop();state.scopes.push({offset:top(state).offset+conf.indentUnit,type:"py",align:null})}function pushBracketScope(stream,state,type){var align=stream.match(/^[\\s\\[\\{\\(]*(?:#|$)/,false)?null:stream.column()+1;state.scopes.push({offset:state.indent+hangingIndent,type:type,align:align})}function dedent(stream,state){var indented=stream.indentation();\nwhile(state.scopes.length>1&&top(state).offset>indented){if(top(state).type!="py")return true;state.scopes.pop()}return top(state).offset!=indented}function tokenLexer(stream,state){if(stream.sol()){state.beginningOfLine=true;state.dedent=false}var style=state.tokenize(stream,state);var current=stream.current();if(state.beginningOfLine&&current=="@")return stream.match(identifiers,false)?"meta":py3?"operator":ERRORCLASS;if(/\\S/.test(current))state.beginningOfLine=false;if((style=="variable"||style==\n"builtin")&&state.lastToken=="meta")style="meta";if(current=="pass"||current=="return")state.dedent=true;if(current=="lambda")state.lambda=true;if(current==":"&&!state.lambda&&top(state).type=="py"&&stream.match(/^\\s*(?:#|$)/,false))pushPyScope(state);if(current.length==1&&!/string|comment/.test(style)){var delimiter_index="[({".indexOf(current);if(delimiter_index!=-1)pushBracketScope(stream,state,"])}".slice(delimiter_index,delimiter_index+1));delimiter_index="])}".indexOf(current);if(delimiter_index!=\n-1)if(top(state).type==current)state.indent=state.scopes.pop().offset-hangingIndent;else return ERRORCLASS}if(state.dedent&&stream.eol()&&top(state).type=="py"&&state.scopes.length>1)state.scopes.pop();return style}var external={startState:function(basecolumn){return{tokenize:tokenBase,scopes:[{offset:basecolumn||0,type:"py",align:null}],indent:basecolumn||0,lastToken:null,lambda:false,dedent:0}},token:function(stream,state){var addErr=state.errorToken;if(addErr)state.errorToken=false;var style=tokenLexer(stream,\nstate);if(style&&style!="comment")state.lastToken=style=="keyword"||style=="punctuation"?stream.current():style;if(style=="punctuation")style=null;if(stream.eol()&&state.lambda)state.lambda=false;return addErr?style+" "+ERRORCLASS:style},indent:function(state,textAfter){if(state.tokenize!=tokenBase)return state.tokenize.isString?CodeMirror.Pass:0;var scope=top(state);var closing=scope.type==textAfter.charAt(0)||scope.type=="py"&&!state.dedent&&/^(else:|elif |except |finally:)/.test(textAfter);if(scope.align!=\nnull)return scope.align-(closing?1:0);else return scope.offset-(closing?hangingIndent:0)},electricInput:/^\\s*([\\}\\]\\)]|else:|elif |except |finally:)$/,closeBrackets:{triples:"\'\\""},lineComment:"#",fold:"indent"};return external});CodeMirror.defineMIME("text/x-python","python");var words=function(str){return str.split(" ")};CodeMirror.defineMIME("text/x-cython",{name:"python",extra_keywords:words("by cdef cimport cpdef ctypedef enum except "+"extern gil include nogil property public "+"readonly struct union DEF IF ELIF ELSE")})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.registerHelper("wordChars","r",/[\\w.]/);CodeMirror.defineMode("r",function(config){function wordObj(words){var res={};for(var i=0;i<words.length;++i)res[words[i]]=true;return res}var commonAtoms=["NULL","NA","Inf","NaN","NA_integer_","NA_real_","NA_complex_",\n"NA_character_","TRUE","FALSE"];var commonBuiltins=["list","quote","bquote","eval","return","call","parse","deparse"];var commonKeywords=["if","else","repeat","while","function","for","in","next","break"];var commonBlockKeywords=["if","else","repeat","while","function","for"];CodeMirror.registerHelper("hintWords","r",commonAtoms.concat(commonBuiltins,commonKeywords));var atoms=wordObj(commonAtoms);var builtins=wordObj(commonBuiltins);var keywords=wordObj(commonKeywords);var blockkeywords=wordObj(commonBlockKeywords);\nvar opChars=/[+\\-*\\/^<>=!&|~$:]/;var curPunc;function tokenBase(stream,state){curPunc=null;var ch=stream.next();if(ch=="#"){stream.skipToEnd();return"comment"}else if(ch=="0"&&stream.eat("x")){stream.eatWhile(/[\\da-f]/i);return"number"}else if(ch=="."&&stream.eat(/\\d/)){stream.match(/\\d*(?:e[+\\-]?\\d+)?/);return"number"}else if(/\\d/.test(ch)){stream.match(/\\d*(?:\\.\\d+)?(?:e[+\\-]\\d+)?L?/);return"number"}else if(ch=="\'"||ch==\'"\'){state.tokenize=tokenString(ch);return"string"}else if(ch=="`"){stream.match(/[^`]+`/);\nreturn"variable-3"}else if(ch=="."&&stream.match(/.(?:[.]|\\d+)/))return"keyword";else if(/[a-zA-Z\\.]/.test(ch)){stream.eatWhile(/[\\w\\.]/);var word=stream.current();if(atoms.propertyIsEnumerable(word))return"atom";if(keywords.propertyIsEnumerable(word)){if(blockkeywords.propertyIsEnumerable(word)&&!stream.match(/\\s*if(\\s+|$)/,false))curPunc="block";return"keyword"}if(builtins.propertyIsEnumerable(word))return"builtin";return"variable"}else if(ch=="%"){if(stream.skipTo("%"))stream.next();return"operator variable-2"}else if(ch==\n"<"&&stream.eat("-")||ch=="<"&&stream.match("<-")||ch=="-"&&stream.match(/>>?/))return"operator arrow";else if(ch=="="&&state.ctx.argList)return"arg-is";else if(opChars.test(ch)){if(ch=="$")return"operator dollar";stream.eatWhile(opChars);return"operator"}else if(/[\\(\\){}\\[\\];]/.test(ch)){curPunc=ch;if(ch==";")return"semi";return null}else return null}function tokenString(quote){return function(stream,state){if(stream.eat("\\\\")){var ch=stream.next();if(ch=="x")stream.match(/^[a-f0-9]{2}/i);else if((ch==\n"u"||ch=="U")&&stream.eat("{")&&stream.skipTo("}"))stream.next();else if(ch=="u")stream.match(/^[a-f0-9]{4}/i);else if(ch=="U")stream.match(/^[a-f0-9]{8}/i);else if(/[0-7]/.test(ch))stream.match(/^[0-7]{1,2}/);return"string-2"}else{var next;while((next=stream.next())!=null){if(next==quote){state.tokenize=tokenBase;break}if(next=="\\\\"){stream.backUp(1);break}}return"string"}}}var ALIGN_YES=1,ALIGN_NO=2,BRACELESS=4;function push(state,type,stream){state.ctx={type:type,indent:state.indent,flags:0,column:stream.column(),\nprev:state.ctx}}function setFlag(state,flag){var ctx=state.ctx;state.ctx={type:ctx.type,indent:ctx.indent,flags:ctx.flags|flag,column:ctx.column,prev:ctx.prev}}function pop(state){state.indent=state.ctx.indent;state.ctx=state.ctx.prev}return{startState:function(){return{tokenize:tokenBase,ctx:{type:"top",indent:-config.indentUnit,flags:ALIGN_NO},indent:0,afterIdent:false}},token:function(stream,state){if(stream.sol()){if((state.ctx.flags&3)==0)state.ctx.flags|=ALIGN_NO;if(state.ctx.flags&BRACELESS)pop(state);\nstate.indent=stream.indentation()}if(stream.eatSpace())return null;var style=state.tokenize(stream,state);if(style!="comment"&&(state.ctx.flags&ALIGN_NO)==0)setFlag(state,ALIGN_YES);if((curPunc==";"||curPunc=="{"||curPunc=="}")&&state.ctx.type=="block")pop(state);if(curPunc=="{")push(state,"}",stream);else if(curPunc=="("){push(state,")",stream);if(state.afterIdent)state.ctx.argList=true}else if(curPunc=="[")push(state,"]",stream);else if(curPunc=="block")push(state,"block",stream);else if(curPunc==\nstate.ctx.type)pop(state);else if(state.ctx.type=="block"&&style!="comment")setFlag(state,BRACELESS);state.afterIdent=style=="variable"||style=="keyword";return style},indent:function(state,textAfter){if(state.tokenize!=tokenBase)return 0;var firstChar=textAfter&&textAfter.charAt(0),ctx=state.ctx,closing=firstChar==ctx.type;if(ctx.flags&BRACELESS)ctx=ctx.prev;if(ctx.type=="block")return ctx.indent+(firstChar=="{"?0:config.indentUnit);else if(ctx.flags&ALIGN_YES)return ctx.column+(closing?0:1);else return ctx.indent+\n(closing?0:config.indentUnit)},lineComment:"#"}});CodeMirror.defineMIME("text/x-rsrc","r")});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function wordObj(words){var o={};for(var i=0,e=words.length;i<e;++i)o[words[i]]=true;return o}var keywordList=["alias","and","BEGIN","begin","break","case","class","def","defined?","do","else","elsif","END","end","ensure","false","for","if","in","module","next","not","or",\n"redo","rescue","retry","return","self","super","then","true","undef","unless","until","when","while","yield","nil","raise","throw","catch","fail","loop","callcc","caller","lambda","proc","public","protected","private","require","load","require_relative","extend","autoload","__END__","__FILE__","__LINE__","__dir__"],keywords=wordObj(keywordList);var indentWords=wordObj(["def","class","case","for","while","until","module","catch","loop","proc","begin"]);var dedentWords=wordObj(["end","until"]);var opening=\n{"[":"]","{":"}","(":")"};var closing={"]":"[","}":"{",")":"("};CodeMirror.defineMode("ruby",function(config){var curPunc;function chain(newtok,stream,state){state.tokenize.push(newtok);return newtok(stream,state)}function tokenBase(stream,state){if(stream.sol()&&stream.match("=begin")&&stream.eol()){state.tokenize.push(readBlockComment);return"comment"}if(stream.eatSpace())return null;var ch=stream.next(),m;if(ch=="`"||ch=="\'"||ch==\'"\')return chain(readQuoted(ch,"string",ch==\'"\'||ch=="`"),stream,\nstate);else if(ch=="/")if(regexpAhead(stream))return chain(readQuoted(ch,"string-2",true),stream,state);else return"operator";else if(ch=="%"){var style="string",embed=true;if(stream.eat("s"))style="atom";else if(stream.eat(/[WQ]/))style="string";else if(stream.eat(/[r]/))style="string-2";else if(stream.eat(/[wxq]/)){style="string";embed=false}var delim=stream.eat(/[^\\w\\s=]/);if(!delim)return"operator";if(opening.propertyIsEnumerable(delim))delim=opening[delim];return chain(readQuoted(delim,style,\nembed,true),stream,state)}else if(ch=="#"){stream.skipToEnd();return"comment"}else if(ch=="<"&&(m=stream.match(/^<([-~])[`"\']?([a-zA-Z_?]\\w*)[`"\']?(?:;|$)/)))return chain(readHereDoc(m[2],m[1]),stream,state);else if(ch=="0"){if(stream.eat("x"))stream.eatWhile(/[\\da-fA-F]/);else if(stream.eat("b"))stream.eatWhile(/[01]/);else stream.eatWhile(/[0-7]/);return"number"}else if(/\\d/.test(ch)){stream.match(/^[\\d_]*(?:\\.[\\d_]+)?(?:[eE][+\\-]?[\\d_]+)?/);return"number"}else if(ch=="?"){while(stream.match(/^\\\\[CM]-/));\nif(stream.eat("\\\\"))stream.eatWhile(/\\w/);else stream.next();return"string"}else if(ch==":"){if(stream.eat("\'"))return chain(readQuoted("\'","atom",false),stream,state);if(stream.eat(\'"\'))return chain(readQuoted(\'"\',"atom",true),stream,state);if(stream.eat(/[<>]/)){stream.eat(/[<>]/);return"atom"}if(stream.eat(/[\\+\\-\\*\\/&\\|:!]/))return"atom";if(stream.eat(/[a-zA-Z$@_\\xa1-\\uffff]/)){stream.eatWhile(/[\\w$\\xa1-\\uffff]/);stream.eat(/[\\?!=]/);return"atom"}return"operator"}else if(ch=="@"&&stream.match(/^@?[a-zA-Z_\\xa1-\\uffff]/)){stream.eat("@");\nstream.eatWhile(/[\\w\\xa1-\\uffff]/);return"variable-2"}else if(ch=="$"){if(stream.eat(/[a-zA-Z_]/))stream.eatWhile(/[\\w]/);else if(stream.eat(/\\d/))stream.eat(/\\d/);else stream.next();return"variable-3"}else if(/[a-zA-Z_\\xa1-\\uffff]/.test(ch)){stream.eatWhile(/[\\w\\xa1-\\uffff]/);stream.eat(/[\\?!]/);if(stream.eat(":"))return"atom";return"ident"}else if(ch=="|"&&(state.varList||state.lastTok=="{"||state.lastTok=="do")){curPunc="|";return null}else if(/[\\(\\)\\[\\]{}\\\\;]/.test(ch)){curPunc=ch;return null}else if(ch==\n"-"&&stream.eat(">"))return"arrow";else if(/[=+\\-\\/*:\\.^%<>~|]/.test(ch)){var more=stream.eatWhile(/[=+\\-\\/*:\\.^%<>~|]/);if(ch=="."&&!more)curPunc=".";return"operator"}else return null}function regexpAhead(stream){var start=stream.pos,depth=0,next,found=false,escaped=false;while((next=stream.next())!=null)if(!escaped){if("[{(".indexOf(next)>-1)depth++;else if("]})".indexOf(next)>-1){depth--;if(depth<0)break}else if(next=="/"&&depth==0){found=true;break}escaped=next=="\\\\"}else escaped=false;stream.backUp(stream.pos-\nstart);return found}function tokenBaseUntilBrace(depth){if(!depth)depth=1;return function(stream,state){if(stream.peek()=="}")if(depth==1){state.tokenize.pop();return state.tokenize[state.tokenize.length-1](stream,state)}else state.tokenize[state.tokenize.length-1]=tokenBaseUntilBrace(depth-1);else if(stream.peek()=="{")state.tokenize[state.tokenize.length-1]=tokenBaseUntilBrace(depth+1);return tokenBase(stream,state)}}function tokenBaseOnce(){var alreadyCalled=false;return function(stream,state){if(alreadyCalled){state.tokenize.pop();\nreturn state.tokenize[state.tokenize.length-1](stream,state)}alreadyCalled=true;return tokenBase(stream,state)}}function readQuoted(quote,style,embed,unescaped){return function(stream,state){var escaped=false,ch;if(state.context.type==="read-quoted-paused"){state.context=state.context.prev;stream.eat("}")}while((ch=stream.next())!=null){if(ch==quote&&(unescaped||!escaped)){state.tokenize.pop();break}if(embed&&ch=="#"&&!escaped)if(stream.eat("{")){if(quote=="}")state.context={prev:state.context,type:"read-quoted-paused"};\nstate.tokenize.push(tokenBaseUntilBrace());break}else if(/[@\\$]/.test(stream.peek())){state.tokenize.push(tokenBaseOnce());break}escaped=!escaped&&ch=="\\\\"}return style}}function readHereDoc(phrase,mayIndent){return function(stream,state){if(mayIndent)stream.eatSpace();if(stream.match(phrase))state.tokenize.pop();else stream.skipToEnd();return"string"}}function readBlockComment(stream,state){if(stream.sol()&&stream.match("=end")&&stream.eol())state.tokenize.pop();stream.skipToEnd();return"comment"}\nreturn{startState:function(){return{tokenize:[tokenBase],indented:0,context:{type:"top",indented:-config.indentUnit},continuedLine:false,lastTok:null,varList:false}},token:function(stream,state){curPunc=null;if(stream.sol())state.indented=stream.indentation();var style=state.tokenize[state.tokenize.length-1](stream,state),kwtype;var thisTok=curPunc;if(style=="ident"){var word=stream.current();style=state.lastTok=="."?"property":keywords.propertyIsEnumerable(stream.current())?"keyword":/^[A-Z]/.test(word)?\n"tag":state.lastTok=="def"||state.lastTok=="class"||state.varList?"def":"variable";if(style=="keyword"){thisTok=word;if(indentWords.propertyIsEnumerable(word))kwtype="indent";else if(dedentWords.propertyIsEnumerable(word))kwtype="dedent";else if((word=="if"||word=="unless")&&stream.column()==stream.indentation())kwtype="indent";else if(word=="do"&&state.context.indented<state.indented)kwtype="indent"}}if(curPunc||style&&style!="comment")state.lastTok=thisTok;if(curPunc=="|")state.varList=!state.varList;\nif(kwtype=="indent"||/[\\(\\[\\{]/.test(curPunc))state.context={prev:state.context,type:curPunc||style,indented:state.indented};else if((kwtype=="dedent"||/[\\)\\]\\}]/.test(curPunc))&&state.context.prev)state.context=state.context.prev;if(stream.eol())state.continuedLine=curPunc=="\\\\"||style=="operator";return style},indent:function(state,textAfter){if(state.tokenize[state.tokenize.length-1]!=tokenBase)return CodeMirror.Pass;var firstChar=textAfter&&textAfter.charAt(0);var ct=state.context;var closed=\nct.type==closing[firstChar]||ct.type=="keyword"&&/^(?:end|until|else|elsif|when|rescue)\\b/.test(textAfter);return ct.indented+(closed?0:config.indentUnit)+(state.continuedLine?config.indentUnit:0)},electricInput:/^\\s*(?:end|rescue|elsif|else|\\})$/,lineComment:"#",fold:"indent"}});CodeMirror.defineMIME("text/x-ruby","ruby");CodeMirror.registerHelper("hintWords","ruby",keywordList)});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineMode("shell",function(){var words={};function define(style,dict){for(var i=0;i<dict.length;i++)words[dict[i]]=style}var commonAtoms=["true","false"];var commonKeywords=["if","then","do","else","elif","while","until","for","in","esac","fi","fin","fil","done",\n"exit","set","unset","export","function"];var commonCommands=["ab","awk","bash","beep","cat","cc","cd","chown","chmod","chroot","clear","cp","curl","cut","diff","echo","find","gawk","gcc","get","git","grep","hg","kill","killall","ln","ls","make","mkdir","openssl","mv","nc","nl","node","npm","ping","ps","restart","rm","rmdir","sed","service","sh","shopt","shred","source","sort","sleep","ssh","start","stop","su","sudo","svn","tee","telnet","top","touch","vi","vim","wall","wc","wget","who","write","yes",\n"zsh"];CodeMirror.registerHelper("hintWords","shell",commonAtoms.concat(commonKeywords,commonCommands));define("atom",commonAtoms);define("keyword",commonKeywords);define("builtin",commonCommands);function tokenBase(stream,state){if(stream.eatSpace())return null;var sol=stream.sol();var ch=stream.next();if(ch==="\\\\"){stream.next();return null}if(ch==="\'"||ch===\'"\'||ch==="`"){state.tokens.unshift(tokenString(ch,ch==="`"?"quote":"string"));return tokenize(stream,state)}if(ch==="#"){if(sol&&stream.eat("!")){stream.skipToEnd();\nreturn"meta"}stream.skipToEnd();return"comment"}if(ch==="$"){state.tokens.unshift(tokenDollar);return tokenize(stream,state)}if(ch==="+"||ch==="=")return"operator";if(ch==="-"){stream.eat("-");stream.eatWhile(/\\w/);return"attribute"}if(ch=="<"){if(stream.match("<<"))return"operator";var heredoc=stream.match(/^<-?\\s*[\'"]?([^\'"]*)[\'"]?/);if(heredoc){state.tokens.unshift(tokenHeredoc(heredoc[1]));return"string-2"}}if(/\\d/.test(ch)){stream.eatWhile(/\\d/);if(stream.eol()||!/\\w/.test(stream.peek()))return"number"}stream.eatWhile(/[\\w-]/);\nvar cur=stream.current();if(stream.peek()==="="&&/\\w+/.test(cur))return"def";return words.hasOwnProperty(cur)?words[cur]:null}function tokenString(quote,style){var close=quote=="("?")":quote=="{"?"}":quote;return function(stream,state){var next,escaped=false;while((next=stream.next())!=null){if(next===close&&!escaped){state.tokens.shift();break}else if(next==="$"&&!escaped&&quote!=="\'"&&stream.peek()!=close){escaped=true;stream.backUp(1);state.tokens.unshift(tokenDollar);break}else if(!escaped&&quote!==\nclose&&next===quote){state.tokens.unshift(tokenString(quote,style));return tokenize(stream,state)}else if(!escaped&&/[\'"]/.test(next)&&!/[\'"]/.test(quote)){state.tokens.unshift(tokenStringStart(next,"string"));stream.backUp(1);break}escaped=!escaped&&next==="\\\\"}return style}}function tokenStringStart(quote,style){return function(stream,state){state.tokens[0]=tokenString(quote,style);stream.next();return tokenize(stream,state)}}var tokenDollar=function(stream,state){if(state.tokens.length>1)stream.eat("$");\nvar ch=stream.next();if(/[\'"({]/.test(ch)){state.tokens[0]=tokenString(ch,ch=="("?"quote":ch=="{"?"def":"string");return tokenize(stream,state)}if(!/\\d/.test(ch))stream.eatWhile(/\\w/);state.tokens.shift();return"def"};function tokenHeredoc(delim){return function(stream,state){if(stream.sol()&&stream.string==delim)state.tokens.shift();stream.skipToEnd();return"string-2"}}function tokenize(stream,state){return(state.tokens[0]||tokenBase)(stream,state)}return{startState:function(){return{tokens:[]}},\ntoken:function(stream,state){return tokenize(stream,state)},closeBrackets:"()[]{}\'\'\\"\\"``",lineComment:"#",fold:"brace"}});CodeMirror.defineMIME("text/x-sh","shell");CodeMirror.defineMIME("application/x-sh","shell")});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineMode("sql",function(config,parserConfig){var client=parserConfig.client||{},atoms=parserConfig.atoms||{"false":true,"true":true,"null":true},builtin=parserConfig.builtin||set(defaultBuiltin),keywords=parserConfig.keywords||set(sqlKeywords),operatorChars=\nparserConfig.operatorChars||/^[*+\\-%<>!=&|~^\\/]/,support=parserConfig.support||{},hooks=parserConfig.hooks||{},dateSQL=parserConfig.dateSQL||{"date":true,"time":true,"timestamp":true},backslashStringEscapes=parserConfig.backslashStringEscapes!==false,brackets=parserConfig.brackets||/^[\\{}\\(\\)\\[\\]]/,punctuation=parserConfig.punctuation||/^[;.,:]/;function tokenBase(stream,state){var ch=stream.next();if(hooks[ch]){var result=hooks[ch](stream,state);if(result!==false)return result}if(support.hexNumber&&\n(ch=="0"&&stream.match(/^[xX][0-9a-fA-F]+/)||(ch=="x"||ch=="X")&&stream.match(/^\'[0-9a-fA-F]+\'/)))return"number";else if(support.binaryNumber&&((ch=="b"||ch=="B")&&stream.match(/^\'[01]+\'/)||ch=="0"&&stream.match(/^b[01]+/)))return"number";else if(ch.charCodeAt(0)>47&&ch.charCodeAt(0)<58){stream.match(/^[0-9]*(\\.[0-9]+)?([eE][-+]?[0-9]+)?/);support.decimallessFloat&&stream.match(/^\\.(?!\\.)/);return"number"}else if(ch=="?"&&(stream.eatSpace()||stream.eol()||stream.eat(";")))return"variable-3";else if(ch==\n"\'"||ch==\'"\'&&support.doubleQuote){state.tokenize=tokenLiteral(ch);return state.tokenize(stream,state)}else if((support.nCharCast&&(ch=="n"||ch=="N")||support.charsetCast&&ch=="_"&&stream.match(/[a-z][a-z0-9]*/i))&&(stream.peek()=="\'"||stream.peek()==\'"\'))return"keyword";else if(support.escapeConstant&&(ch=="e"||ch=="E")&&(stream.peek()=="\'"||stream.peek()==\'"\'&&support.doubleQuote)){state.tokenize=function(stream,state){return(state.tokenize=tokenLiteral(stream.next(),true))(stream,state)};return"keyword"}else if(support.commentSlashSlash&&\nch=="/"&&stream.eat("/")){stream.skipToEnd();return"comment"}else if(support.commentHash&&ch=="#"||ch=="-"&&stream.eat("-")&&(!support.commentSpaceRequired||stream.eat(" "))){stream.skipToEnd();return"comment"}else if(ch=="/"&&stream.eat("*")){state.tokenize=tokenComment(1);return state.tokenize(stream,state)}else if(ch=="."){if(support.zerolessFloat&&stream.match(/^(?:\\d+(?:e[+-]?\\d+)?)/i))return"number";if(stream.match(/^\\.+/))return null;if(support.ODBCdotTable&&stream.match(/^[\\w\\d_$#]+/))return"variable-2"}else if(operatorChars.test(ch)){stream.eatWhile(operatorChars);\nreturn"operator"}else if(brackets.test(ch))return"bracket";else if(punctuation.test(ch)){stream.eatWhile(punctuation);return"punctuation"}else if(ch=="{"&&(stream.match(/^( )*(d|D|t|T|ts|TS)( )*\'[^\']*\'( )*}/)||stream.match(/^( )*(d|D|t|T|ts|TS)( )*"[^"]*"( )*}/)))return"number";else{stream.eatWhile(/^[_\\w\\d]/);var word=stream.current().toLowerCase();if(dateSQL.hasOwnProperty(word)&&(stream.match(/^( )+\'[^\']*\'/)||stream.match(/^( )+"[^"]*"/)))return"number";if(atoms.hasOwnProperty(word))return"atom";\nif(builtin.hasOwnProperty(word))return"type";if(keywords.hasOwnProperty(word))return"keyword";if(client.hasOwnProperty(word))return"builtin";return null}}function tokenLiteral(quote,backslashEscapes){return function(stream,state){var escaped=false,ch;while((ch=stream.next())!=null){if(ch==quote&&!escaped){state.tokenize=tokenBase;break}escaped=(backslashStringEscapes||backslashEscapes)&&!escaped&&ch=="\\\\"}return"string"}}function tokenComment(depth){return function(stream,state){var m=stream.match(/^.*?(\\/\\*|\\*\\/)/);\nif(!m)stream.skipToEnd();else if(m[1]=="/*")state.tokenize=tokenComment(depth+1);else if(depth>1)state.tokenize=tokenComment(depth-1);else state.tokenize=tokenBase;return"comment"}}function pushContext(stream,state,type){state.context={prev:state.context,indent:stream.indentation(),col:stream.column(),type:type}}function popContext(state){state.indent=state.context.indent;state.context=state.context.prev}return{startState:function(){return{tokenize:tokenBase,context:null}},token:function(stream,state){if(stream.sol())if(state.context&&\nstate.context.align==null)state.context.align=false;if(state.tokenize==tokenBase&&stream.eatSpace())return null;var style=state.tokenize(stream,state);if(style=="comment")return style;if(state.context&&state.context.align==null)state.context.align=true;var tok=stream.current();if(tok=="(")pushContext(stream,state,")");else if(tok=="[")pushContext(stream,state,"]");else if(state.context&&state.context.type==tok)popContext(state);return style},indent:function(state,textAfter){var cx=state.context;if(!cx)return CodeMirror.Pass;\nvar closing=textAfter.charAt(0)==cx.type;if(cx.align)return cx.col+(closing?0:1);else return cx.indent+(closing?0:config.indentUnit)},blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:support.commentSlashSlash?"//":support.commentHash?"#":"--",closeBrackets:"()[]{}\'\'\\"\\"``"}});function hookIdentifier(stream){var ch;while((ch=stream.next())!=null)if(ch=="`"&&!stream.eat("`"))return"variable-2";stream.backUp(stream.current().length-1);return stream.eatWhile(/\\w/)?"variable-2":null}function hookIdentifierDoublequote(stream){var ch;\nwhile((ch=stream.next())!=null)if(ch==\'"\'&&!stream.eat(\'"\'))return"variable-2";stream.backUp(stream.current().length-1);return stream.eatWhile(/\\w/)?"variable-2":null}function hookVar(stream){if(stream.eat("@")){stream.match("session.");stream.match("local.");stream.match("global.")}if(stream.eat("\'")){stream.match(/^.*\'/);return"variable-2"}else if(stream.eat(\'"\')){stream.match(/^.*"/);return"variable-2"}else if(stream.eat("`")){stream.match(/^.*`/);return"variable-2"}else if(stream.match(/^[0-9a-zA-Z$\\._]+/))return"variable-2";\nreturn null}function hookClient(stream){if(stream.eat("N"))return"atom";return stream.match(/^[a-zA-Z.#!?]/)?"variable-2":null}var sqlKeywords="alter and as asc between by count create delete desc distinct drop from group having in insert into is join like not on or order select set table union update values where limit ";function set(str){var obj={},words=str.split(" ");for(var i=0;i<words.length;++i)obj[words[i]]=true;return obj}var defaultBuiltin="bool boolean bit blob enum long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision real date datetime year unsigned signed decimal numeric";\nCodeMirror.defineMIME("text/x-sql",{name:"sql",keywords:set(sqlKeywords+"begin"),builtin:set(defaultBuiltin),atoms:set("false true null unknown"),dateSQL:set("date time timestamp"),support:set("ODBCdotTable doubleQuote binaryNumber hexNumber")});CodeMirror.defineMIME("text/x-mssql",{name:"sql",client:set("$partition binary_checksum checksum connectionproperty context_info current_request_id error_line error_message error_number error_procedure error_severity error_state formatmessage get_filestream_transaction_context getansinull host_id host_name isnull isnumeric min_active_rowversion newid newsequentialid rowcount_big xact_state object_id"),\nkeywords:set(sqlKeywords+"begin trigger proc view index for add constraint key primary foreign collate clustered nonclustered declare exec go if use index holdlock nolock nowait paglock readcommitted readcommittedlock readpast readuncommitted repeatableread rowlock serializable snapshot tablock tablockx updlock with"),builtin:set("bigint numeric bit smallint decimal smallmoney int tinyint money float real char varchar text nchar nvarchar ntext binary varbinary image cursor timestamp hierarchyid uniqueidentifier sql_variant xml table "),\natoms:set("is not null like and or in left right between inner outer join all any some cross unpivot pivot exists"),operatorChars:/^[*+\\-%<>!=^&|\\/]/,brackets:/^[\\{}\\(\\)]/,punctuation:/^[;.,:/]/,backslashStringEscapes:false,dateSQL:set("date datetimeoffset datetime2 smalldatetime datetime time"),hooks:{"@":hookVar}});CodeMirror.defineMIME("text/x-mysql",{name:"sql",client:set("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),\nkeywords:set(sqlKeywords+"accessible action add after algorithm all analyze asensitive at authors auto_increment autocommit avg avg_row_length before binary binlog both btree cache call cascade cascaded case catalog_name chain change changed character check checkpoint checksum class_origin client_statistics close coalesce code collate collation collations column columns comment commit committed completion concurrent condition connection consistent constraint contains continue contributors convert cross current current_date current_time current_timestamp current_user cursor data database databases day_hour day_microsecond day_minute day_second deallocate dec declare default delay_key_write delayed delimiter des_key_file describe deterministic dev_pop dev_samp deviance diagnostics directory disable discard distinctrow div dual dumpfile each elseif enable enclosed end ends engine engines enum errors escape escaped even event events every execute exists exit explain extended fast fetch field fields first flush for force foreign found_rows full fulltext function general get global grant grants group group_concat handler hash help high_priority hosts hour_microsecond hour_minute hour_second if ignore ignore_server_ids import index index_statistics infile inner innodb inout insensitive insert_method install interval invoker isolation iterate key keys kill language last leading leave left level limit linear lines list load local localtime localtimestamp lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters match max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modifies modify mutex mysql_errno natural next no no_write_to_binlog offline offset one online open optimize option optionally out outer outfile pack_keys parser partition partitions password phase plugin plugins prepare preserve prev primary privileges procedure processlist profile profiles purge query quick range read read_write reads real rebuild recover references regexp relaylog release remove rename reorganize repair repeatable replace require resignal restrict resume return returns revoke right rlike rollback rollup row row_format rtree savepoint schedule schema schema_name schemas second_microsecond security sensitive separator serializable server session share show signal slave slow smallint snapshot soname spatial specific sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sqlexception sqlstate sqlwarning ssl start starting starts status std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace temporary terminated to trailing transaction trigger triggers truncate uncommitted undo uninstall unique unlock upgrade usage use use_frm user user_resources user_statistics using utc_date utc_time utc_timestamp value variables varying view views warnings when while with work write xa xor year_month zerofill begin do then else loop repeat"),\nbuiltin:set("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision date datetime year unsigned signed numeric"),atoms:set("false true null unknown"),operatorChars:/^[*+\\-%<>!=&|^]/,dateSQL:set("date time timestamp"),support:set("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber doubleQuote nCharCast charsetCast commentHash commentSpaceRequired"),\nhooks:{"@":hookVar,"`":hookIdentifier,"\\\\":hookClient}});CodeMirror.defineMIME("text/x-mariadb",{name:"sql",client:set("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:set(sqlKeywords+"accessible action add after algorithm all always analyze asensitive at authors auto_increment autocommit avg avg_row_length before binary binlog both btree cache call cascade cascaded case catalog_name chain change changed character check checkpoint checksum class_origin client_statistics close coalesce code collate collation collations column columns comment commit committed completion concurrent condition connection consistent constraint contains continue contributors convert cross current current_date current_time current_timestamp current_user cursor data database databases day_hour day_microsecond day_minute day_second deallocate dec declare default delay_key_write delayed delimiter des_key_file describe deterministic dev_pop dev_samp deviance diagnostics directory disable discard distinctrow div dual dumpfile each elseif enable enclosed end ends engine engines enum errors escape escaped even event events every execute exists exit explain extended fast fetch field fields first flush for force foreign found_rows full fulltext function general generated get global grant grants group group_concat handler hard hash help high_priority hosts hour_microsecond hour_minute hour_second if ignore ignore_server_ids import index index_statistics infile inner innodb inout insensitive insert_method install interval invoker isolation iterate key keys kill language last leading leave left level limit linear lines list load local localtime localtimestamp lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters match max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modifies modify mutex mysql_errno natural next no no_write_to_binlog offline offset one online open optimize option optionally out outer outfile pack_keys parser partition partitions password persistent phase plugin plugins prepare preserve prev primary privileges procedure processlist profile profiles purge query quick range read read_write reads real rebuild recover references regexp relaylog release remove rename reorganize repair repeatable replace require resignal restrict resume return returns revoke right rlike rollback rollup row row_format rtree savepoint schedule schema schema_name schemas second_microsecond security sensitive separator serializable server session share show shutdown signal slave slow smallint snapshot soft soname spatial specific sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sqlexception sqlstate sqlwarning ssl start starting starts status std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace temporary terminated to trailing transaction trigger triggers truncate uncommitted undo uninstall unique unlock upgrade usage use use_frm user user_resources user_statistics using utc_date utc_time utc_timestamp value variables varying view views virtual warnings when while with work write xa xor year_month zerofill begin do then else loop repeat"),\nbuiltin:set("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision date datetime year unsigned signed numeric"),atoms:set("false true null unknown"),operatorChars:/^[*+\\-%<>!=&|^]/,dateSQL:set("date time timestamp"),support:set("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber doubleQuote nCharCast charsetCast commentHash commentSpaceRequired"),\nhooks:{"@":hookVar,"`":hookIdentifier,"\\\\":hookClient}});CodeMirror.defineMIME("text/x-sqlite",{name:"sql",client:set("auth backup bail binary changes check clone databases dbinfo dump echo eqp exit explain fullschema headers help import imposter indexes iotrace limit lint load log mode nullvalue once open output print prompt quit read restore save scanstats schema separator session shell show stats system tables testcase timeout timer trace vfsinfo vfslist vfsname width"),keywords:set(sqlKeywords+\n"abort action add after all analyze attach autoincrement before begin cascade case cast check collate column commit conflict constraint cross current_date current_time current_timestamp database default deferrable deferred detach each else end escape except exclusive exists explain fail for foreign full glob if ignore immediate index indexed initially inner instead intersect isnull key left limit match natural no notnull null of offset outer plan pragma primary query raise recursive references regexp reindex release rename replace restrict right rollback row savepoint temp temporary then to transaction trigger unique using vacuum view virtual when with without"),\nbuiltin:set("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text clob bigint int int2 int8 integer float double char varchar date datetime year unsigned signed numeric real"),atoms:set("null current_date current_time current_timestamp"),operatorChars:/^[*+\\-%<>!=&|/~]/,dateSQL:set("date time timestamp datetime"),support:set("decimallessFloat zerolessFloat"),identifierQuote:\'"\',hooks:{"@":hookVar,":":hookVar,\n"?":hookVar,"$":hookVar,\'"\':hookIdentifierDoublequote,"`":hookIdentifier}});CodeMirror.defineMIME("text/x-cassandra",{name:"sql",client:{},keywords:set("add all allow alter and any apply as asc authorize batch begin by clustering columnfamily compact consistency count create custom delete desc distinct drop each_quorum exists filtering from grant if in index insert into key keyspace keyspaces level limit local_one local_quorum modify nan norecursive nosuperuser not of on one order password permission permissions primary quorum rename revoke schema select set storage superuser table three to token truncate ttl two type unlogged update use user users using values where with writetime"),\nbuiltin:set("ascii bigint blob boolean counter decimal double float frozen inet int list map static text timestamp timeuuid tuple uuid varchar varint"),atoms:set("false true infinity NaN"),operatorChars:/^[<>=]/,dateSQL:{},support:set("commentSlashSlash decimallessFloat"),hooks:{}});CodeMirror.defineMIME("text/x-plsql",{name:"sql",client:set("appinfo arraysize autocommit autoprint autorecovery autotrace blockterminator break btitle cmdsep colsep compatibility compute concat copycommit copytypecheck define describe echo editfile embedded escape exec execute feedback flagger flush heading headsep instance linesize lno loboffset logsource long longchunksize markup native newpage numformat numwidth pagesize pause pno recsep recsepchar release repfooter repheader serveroutput shiftinout show showmode size spool sqlblanklines sqlcase sqlcode sqlcontinue sqlnumber sqlpluscompatibility sqlprefix sqlprompt sqlterminator suffix tab term termout time timing trimout trimspool ttitle underline verify version wrap"),\nkeywords:set("abort accept access add all alter and any array arraylen as asc assert assign at attributes audit authorization avg base_table begin between binary_integer body boolean by case cast char char_base check close cluster clusters colauth column comment commit compress connect connected constant constraint crash create current currval cursor data_base database date dba deallocate debugoff debugon decimal declare default definition delay delete desc digits dispose distinct do drop else elseif elsif enable end entry escape exception exception_init exchange exclusive exists exit external fast fetch file for force form from function generic goto grant group having identified if immediate in increment index indexes indicator initial initrans insert interface intersect into is key level library like limited local lock log logging long loop master maxextents maxtrans member minextents minus mislabel mode modify multiset new next no noaudit nocompress nologging noparallel not nowait number_base object of off offline on online only open option or order out package parallel partition pctfree pctincrease pctused pls_integer positive positiven pragma primary prior private privileges procedure public raise range raw read rebuild record ref references refresh release rename replace resource restrict return returning returns reverse revoke rollback row rowid rowlabel rownum rows run savepoint schema segment select separate session set share snapshot some space split sql start statement storage subtype successful synonym tabauth table tables tablespace task terminate then to trigger truncate type union unique unlimited unrecoverable unusable update use using validate value values variable view views when whenever where while with work"),\nbuiltin:set("abs acos add_months ascii asin atan atan2 average bfile bfilename bigserial bit blob ceil character chartorowid chr clob concat convert cos cosh count dec decode deref dual dump dup_val_on_index empty error exp false float floor found glb greatest hextoraw initcap instr instrb int integer isopen last_day least length lengthb ln lower lpad ltrim lub make_ref max min mlslabel mod months_between natural naturaln nchar nclob new_time next_day nextval nls_charset_decl_len nls_charset_id nls_charset_name nls_initcap nls_lower nls_sort nls_upper nlssort no_data_found notfound null number numeric nvarchar2 nvl others power rawtohex real reftohex round rowcount rowidtochar rowtype rpad rtrim serial sign signtype sin sinh smallint soundex sqlcode sqlerrm sqrt stddev string substr substrb sum sysdate tan tanh to_char text to_date to_label to_multi_byte to_number to_single_byte translate true trunc uid unlogged upper user userenv varchar varchar2 variance varying vsize xml"),\noperatorChars:/^[*\\/+\\-%<>!=~]/,dateSQL:set("date time timestamp"),support:set("doubleQuote nCharCast zerolessFloat binaryNumber hexNumber")});CodeMirror.defineMIME("text/x-hive",{name:"sql",keywords:set("select alter $elem$ $key$ $value$ add after all analyze and archive as asc before between binary both bucket buckets by cascade case cast change cluster clustered clusterstatus collection column columns comment compute concatenate continue create cross cursor data database databases dbproperties deferred delete delimited desc describe directory disable distinct distribute drop else enable end escaped exclusive exists explain export extended external fetch fields fileformat first format formatted from full function functions grant group having hold_ddltime idxproperties if import in index indexes inpath inputdriver inputformat insert intersect into is items join keys lateral left like limit lines load local location lock locks mapjoin materialized minus msck no_drop nocompress not of offline on option or order out outer outputdriver outputformat overwrite partition partitioned partitions percent plus preserve procedure purge range rcfile read readonly reads rebuild recordreader recordwriter recover reduce regexp rename repair replace restrict revoke right rlike row schema schemas semi sequencefile serde serdeproperties set shared show show_database sort sorted ssl statistics stored streamtable table tables tablesample tblproperties temporary terminated textfile then tmp to touch transform trigger unarchive undo union uniquejoin unlock update use using utc utc_tmestamp view when where while with admin authorization char compact compactions conf cube current current_date current_timestamp day decimal defined dependency directories elem_type exchange file following for grouping hour ignore inner interval jar less logical macro minute month more none noscan over owner partialscan preceding pretty principals protection reload rewrite role roles rollup rows second server sets skewed transactions truncate unbounded unset uri user values window year"),\nbuiltin:set("bool boolean long timestamp tinyint smallint bigint int float double date datetime unsigned string array struct map uniontype key_type utctimestamp value_type varchar"),atoms:set("false true null unknown"),operatorChars:/^[*+\\-%<>!=]/,dateSQL:set("date timestamp"),support:set("ODBCdotTable doubleQuote binaryNumber hexNumber")});CodeMirror.defineMIME("text/x-pgsql",{name:"sql",client:set("source"),keywords:set(sqlKeywords+"a abort abs absent absolute access according action ada add admin after aggregate alias all allocate also alter always analyse analyze and any are array array_agg array_max_cardinality as asc asensitive assert assertion assignment asymmetric at atomic attach attribute attributes authorization avg backward base64 before begin begin_frame begin_partition bernoulli between bigint binary bit bit_length blob blocked bom boolean both breadth by c cache call called cardinality cascade cascaded case cast catalog catalog_name ceil ceiling chain char char_length character character_length character_set_catalog character_set_name character_set_schema characteristics characters check checkpoint class class_origin clob close cluster coalesce cobol collate collation collation_catalog collation_name collation_schema collect column column_name columns command_function command_function_code comment comments commit committed concurrently condition condition_number configuration conflict connect connection connection_name constant constraint constraint_catalog constraint_name constraint_schema constraints constructor contains content continue control conversion convert copy corr corresponding cost count covar_pop covar_samp create cross csv cube cume_dist current current_catalog current_date current_default_transform_group current_path current_role current_row current_schema current_time current_timestamp current_transform_group_for_type current_user cursor cursor_name cycle data database datalink datatype date datetime_interval_code datetime_interval_precision day db deallocate debug dec decimal declare default defaults deferrable deferred defined definer degree delete delimiter delimiters dense_rank depends depth deref derived desc describe descriptor detach detail deterministic diagnostics dictionary disable discard disconnect dispatch distinct dlnewcopy dlpreviouscopy dlurlcomplete dlurlcompleteonly dlurlcompletewrite dlurlpath dlurlpathonly dlurlpathwrite dlurlscheme dlurlserver dlvalue do document domain double drop dump dynamic dynamic_function dynamic_function_code each element else elseif elsif empty enable encoding encrypted end end_frame end_partition endexec enforced enum equals errcode error escape event every except exception exclude excluding exclusive exec execute exists exit exp explain expression extension external extract false family fetch file filter final first first_value flag float floor following for force foreach foreign fortran forward found frame_row free freeze from fs full function functions fusion g general generated get global go goto grant granted greatest group grouping groups handler having header hex hierarchy hint hold hour id identity if ignore ilike immediate immediately immutable implementation implicit import in include including increment indent index indexes indicator info inherit inherits initially inline inner inout input insensitive insert instance instantiable instead int integer integrity intersect intersection interval into invoker is isnull isolation join k key key_member key_type label lag language large last last_value lateral lead leading leakproof least left length level library like like_regex limit link listen ln load local localtime localtimestamp location locator lock locked log logged loop lower m map mapping match matched materialized max max_cardinality maxvalue member merge message message_length message_octet_length message_text method min minute minvalue mod mode modifies module month more move multiset mumps name names namespace national natural nchar nclob nesting new next nfc nfd nfkc nfkd nil no none normalize normalized not nothing notice notify notnull nowait nth_value ntile null nullable nullif nulls number numeric object occurrences_regex octet_length octets of off offset oids old on only open operator option options or order ordering ordinality others out outer output over overlaps overlay overriding owned owner p pad parallel parameter parameter_mode parameter_name parameter_ordinal_position parameter_specific_catalog parameter_specific_name parameter_specific_schema parser partial partition pascal passing passthrough password path percent percent_rank percentile_cont percentile_disc perform period permission pg_context pg_datatype_name pg_exception_context pg_exception_detail pg_exception_hint placing plans pli policy portion position position_regex power precedes preceding precision prepare prepared preserve primary print_strict_params prior privileges procedural procedure procedures program public publication query quote raise range rank read reads real reassign recheck recovery recursive ref references referencing refresh regr_avgx regr_avgy regr_count regr_intercept regr_r2 regr_slope regr_sxx regr_sxy regr_syy reindex relative release rename repeatable replace replica requiring reset respect restart restore restrict result result_oid return returned_cardinality returned_length returned_octet_length returned_sqlstate returning returns reverse revoke right role rollback rollup routine routine_catalog routine_name routine_schema routines row row_count row_number rows rowtype rule savepoint scale schema schema_name schemas scope scope_catalog scope_name scope_schema scroll search second section security select selective self sensitive sequence sequences serializable server server_name session session_user set setof sets share show similar simple size skip slice smallint snapshot some source space specific specific_name specifictype sql sqlcode sqlerror sqlexception sqlstate sqlwarning sqrt stable stacked standalone start state statement static statistics stddev_pop stddev_samp stdin stdout storage strict strip structure style subclass_origin submultiset subscription substring substring_regex succeeds sum symmetric sysid system system_time system_user t table table_name tables tablesample tablespace temp template temporary text then ties time timestamp timezone_hour timezone_minute to token top_level_count trailing transaction transaction_active transactions_committed transactions_rolled_back transform transforms translate translate_regex translation treat trigger trigger_catalog trigger_name trigger_schema trim trim_array true truncate trusted type types uescape unbounded uncommitted under unencrypted union unique unknown unlink unlisten unlogged unnamed unnest until untyped update upper uri usage use_column use_variable user user_defined_type_catalog user_defined_type_code user_defined_type_name user_defined_type_schema using vacuum valid validate validator value value_of values var_pop var_samp varbinary varchar variable_conflict variadic varying verbose version versioning view views volatile warning when whenever where while whitespace width_bucket window with within without work wrapper write xml xmlagg xmlattributes xmlbinary xmlcast xmlcomment xmlconcat xmldeclaration xmldocument xmlelement xmlexists xmlforest xmliterate xmlnamespaces xmlparse xmlpi xmlquery xmlroot xmlschema xmlserialize xmltable xmltext xmlvalidate year yes zone"),\nbuiltin:set("bigint int8 bigserial serial8 bit varying varbit boolean bool box bytea character char varchar cidr circle date double precision float8 inet integer int int4 interval json jsonb line lseg macaddr macaddr8 money numeric decimal path pg_lsn point polygon real float4 smallint int2 smallserial serial2 serial serial4 text time without zone with timetz timestamp timestamptz tsquery tsvector txid_snapshot uuid xml"),atoms:set("false true null unknown"),operatorChars:/^[*\\/+\\-%<>!=&|^\\/#@?~]/,\nbackslashStringEscapes:false,dateSQL:set("date time timestamp"),support:set("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber nCharCast charsetCast escapeConstant")});CodeMirror.defineMIME("text/x-gql",{name:"sql",keywords:set("ancestor and asc by contains desc descendant distinct from group has in is limit offset on order select superset where"),atoms:set("false true"),builtin:set("blob datetime first key __key__ string integer double boolean null"),operatorChars:/^[*+\\-%<>!=]/});\nCodeMirror.defineMIME("text/x-gpsql",{name:"sql",client:set("source"),keywords:set("abort absolute access action active add admin after aggregate all also alter always analyse analyze and any array as asc assertion assignment asymmetric at authorization backward before begin between bigint binary bit boolean both by cache called cascade cascaded case cast chain char character characteristics check checkpoint class close cluster coalesce codegen collate column comment commit committed concurrency concurrently configuration connection constraint constraints contains content continue conversion copy cost cpu_rate_limit create createdb createexttable createrole createuser cross csv cube current current_catalog current_date current_role current_schema current_time current_timestamp current_user cursor cycle data database day deallocate dec decimal declare decode default defaults deferrable deferred definer delete delimiter delimiters deny desc dictionary disable discard distinct distributed do document domain double drop dxl each else enable encoding encrypted end enum errors escape every except exchange exclude excluding exclusive execute exists explain extension external extract false family fetch fields filespace fill filter first float following for force foreign format forward freeze from full function global grant granted greatest group group_id grouping handler hash having header hold host hour identity if ignore ilike immediate immutable implicit in including inclusive increment index indexes inherit inherits initially inline inner inout input insensitive insert instead int integer intersect interval into invoker is isnull isolation join key language large last leading least left level like limit list listen load local localtime localtimestamp location lock log login mapping master match maxvalue median merge minute minvalue missing mode modifies modify month move name names national natural nchar new newline next no nocreatedb nocreateexttable nocreaterole nocreateuser noinherit nologin none noovercommit nosuperuser not nothing notify notnull nowait null nullif nulls numeric object of off offset oids old on only operator option options or order ordered others out outer over overcommit overlaps overlay owned owner parser partial partition partitions passing password percent percentile_cont percentile_disc placing plans position preceding precision prepare prepared preserve primary prior privileges procedural procedure protocol queue quote randomly range read readable reads real reassign recheck recursive ref references reindex reject relative release rename repeatable replace replica reset resource restart restrict returning returns revoke right role rollback rollup rootpartition row rows rule savepoint scatter schema scroll search second security segment select sequence serializable session session_user set setof sets share show similar simple smallint some split sql stable standalone start statement statistics stdin stdout storage strict strip subpartition subpartitions substring superuser symmetric sysid system table tablespace temp template temporary text then threshold ties time timestamp to trailing transaction treat trigger trim true truncate trusted type unbounded uncommitted unencrypted union unique unknown unlisten until update user using vacuum valid validation validator value values varchar variadic varying verbose version view volatile web when where whitespace window with within without work writable write xml xmlattributes xmlconcat xmlelement xmlexists xmlforest xmlparse xmlpi xmlroot xmlserialize year yes zone"),\nbuiltin:set("bigint int8 bigserial serial8 bit varying varbit boolean bool box bytea character char varchar cidr circle date double precision float float8 inet integer int int4 interval json jsonb line lseg macaddr macaddr8 money numeric decimal path pg_lsn point polygon real float4 smallint int2 smallserial serial2 serial serial4 text time without zone with timetz timestamp timestamptz tsquery tsvector txid_snapshot uuid xml"),atoms:set("false true null unknown"),operatorChars:/^[*+\\-%<>!=&|^\\/#@?~]/,\ndateSQL:set("date time timestamp"),support:set("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber nCharCast charsetCast")});CodeMirror.defineMIME("text/x-sparksql",{name:"sql",keywords:set("add after all alter analyze and anti archive array as asc at between bucket buckets by cache cascade case cast change clear cluster clustered codegen collection column columns comment commit compact compactions compute concatenate cost create cross cube current current_date current_timestamp database databases data dbproperties defined delete delimited deny desc describe dfs directories distinct distribute drop else end escaped except exchange exists explain export extended external false fields fileformat first following for format formatted from full function functions global grant group grouping having if ignore import in index indexes inner inpath inputformat insert intersect interval into is items join keys last lateral lazy left like limit lines list load local location lock locks logical macro map minus msck natural no not null nulls of on optimize option options or order out outer outputformat over overwrite partition partitioned partitions percent preceding principals purge range recordreader recordwriter recover reduce refresh regexp rename repair replace reset restrict revoke right rlike role roles rollback rollup row rows schema schemas select semi separated serde serdeproperties set sets show skewed sort sorted start statistics stored stratify struct table tables tablesample tblproperties temp temporary terminated then to touch transaction transactions transform true truncate unarchive unbounded uncache union unlock unset use using values view when where window with"),\nbuiltin:set("abs acos acosh add_months aggregate and any approx_count_distinct approx_percentile array array_contains array_distinct array_except array_intersect array_join array_max array_min array_position array_remove array_repeat array_sort array_union arrays_overlap arrays_zip ascii asin asinh assert_true atan atan2 atanh avg base64 between bigint bin binary bit_and bit_count bit_get bit_length bit_or bit_xor bool_and bool_or boolean bround btrim cardinality case cast cbrt ceil ceiling char char_length character_length chr coalesce collect_list collect_set concat concat_ws conv corr cos cosh cot count count_if count_min_sketch covar_pop covar_samp crc32 cume_dist current_catalog current_database current_date current_timestamp current_timezone current_user date date_add date_format date_from_unix_date date_part date_sub date_trunc datediff day dayofmonth dayofweek dayofyear decimal decode degrees delimited dense_rank div double e element_at elt encode every exists exp explode explode_outer expm1 extract factorial filter find_in_set first first_value flatten float floor forall format_number format_string from_csv from_json from_unixtime from_utc_timestamp get_json_object getbit greatest grouping grouping_id hash hex hour hypot if ifnull in initcap inline inline_outer input_file_block_length input_file_block_start input_file_name inputformat instr int isnan isnotnull isnull java_method json_array_length json_object_keys json_tuple kurtosis lag last last_day last_value lcase lead least left length levenshtein like ln locate log log10 log1p log2 lower lpad ltrim make_date make_dt_interval make_interval make_timestamp make_ym_interval map map_concat map_entries map_filter map_from_arrays map_from_entries map_keys map_values map_zip_with max max_by md5 mean min min_by minute mod monotonically_increasing_id month months_between named_struct nanvl negative next_day not now nth_value ntile nullif nvl nvl2 octet_length or outputformat overlay parse_url percent_rank percentile percentile_approx pi pmod posexplode posexplode_outer position positive pow power printf quarter radians raise_error rand randn random rank rcfile reflect regexp regexp_extract regexp_extract_all regexp_like regexp_replace repeat replace reverse right rint rlike round row_number rpad rtrim schema_of_csv schema_of_json second sentences sequence sequencefile serde session_window sha sha1 sha2 shiftleft shiftright shiftrightunsigned shuffle sign signum sin sinh size skewness slice smallint some sort_array soundex space spark_partition_id split sqrt stack std stddev stddev_pop stddev_samp str_to_map string struct substr substring substring_index sum tan tanh textfile timestamp timestamp_micros timestamp_millis timestamp_seconds tinyint to_csv to_date to_json to_timestamp to_unix_timestamp to_utc_timestamp transform transform_keys transform_values translate trim trunc try_add try_divide typeof ucase unbase64 unhex uniontype unix_date unix_micros unix_millis unix_seconds unix_timestamp upper uuid var_pop var_samp variance version weekday weekofyear when width_bucket window xpath xpath_boolean xpath_double xpath_float xpath_int xpath_long xpath_number xpath_short xpath_string xxhash64 year zip_with"),\natoms:set("false true null"),operatorChars:/^[*\\/+\\-%<>!=~&|^]/,dateSQL:set("date time timestamp"),support:set("ODBCdotTable doubleQuote zerolessFloat")});CodeMirror.defineMIME("text/x-esper",{name:"sql",client:set("source"),keywords:set("alter and as asc between by count create delete desc distinct drop from group having in insert into is join like not on or order select set table union update values where limit after all and as at asc avedev avg between by case cast coalesce count create current_timestamp day days delete define desc distinct else end escape events every exists false first from full group having hour hours in inner insert instanceof into irstream is istream join last lastweekday left limit like max match_recognize matches median measures metadatasql min minute minutes msec millisecond milliseconds not null offset on or order outer output partition pattern prev prior regexp retain-union retain-intersection right rstream sec second seconds select set some snapshot sql stddev sum then true unidirectional until update variable weekday when where window"),\nbuiltin:{},atoms:set("false true null"),operatorChars:/^[*+\\-%<>!=&|^\\/#@?~]/,dateSQL:set("time"),support:set("decimallessFloat zerolessFloat binaryNumber hexNumber")})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineMode("vb",function(conf,parserConf){var ERRORCLASS="error";function wordRegexp(words){return new RegExp("^(("+words.join(")|(")+"))\\\\b","i")}var singleOperators=new RegExp("^[\\\\+\\\\-\\\\*/%&\\\\\\\\|\\\\^~<>!]");var singleDelimiters=new RegExp("^[\\\\(\\\\)\\\\[\\\\]\\\\{\\\\}@,:`=;\\\\.]");\nvar doubleOperators=new RegExp("^((==)|(<>)|(<=)|(>=)|(<>)|(<<)|(>>)|(//)|(\\\\*\\\\*))");var doubleDelimiters=new RegExp("^((\\\\+=)|(\\\\-=)|(\\\\*=)|(%=)|(/=)|(&=)|(\\\\|=)|(\\\\^=))");var tripleDelimiters=new RegExp("^((//=)|(>>=)|(<<=)|(\\\\*\\\\*=))");var identifiers=new RegExp("^[_A-Za-z][_A-Za-z0-9]*");var openingKeywords=["class","module","sub","enum","select","while","if","function","get","set","property","try","structure","synclock","using","with"];var middleKeywords=["else","elseif","case","catch","finally"];\nvar endKeywords=["next","loop"];var operatorKeywords=["and","andalso","or","orelse","xor","in","not","is","isnot","like"];var wordOperators=wordRegexp(operatorKeywords);var commonKeywords=["#const","#else","#elseif","#end","#if","#region","addhandler","addressof","alias","as","byref","byval","cbool","cbyte","cchar","cdate","cdbl","cdec","cint","clng","cobj","compare","const","continue","csbyte","cshort","csng","cstr","cuint","culng","cushort","declare","default","delegate","dim","directcast","each",\n"erase","error","event","exit","explicit","false","for","friend","gettype","goto","handles","implements","imports","infer","inherits","interface","isfalse","istrue","lib","me","mod","mustinherit","mustoverride","my","mybase","myclass","namespace","narrowing","new","nothing","notinheritable","notoverridable","of","off","on","operator","option","optional","out","overloads","overridable","overrides","paramarray","partial","private","protected","public","raiseevent","readonly","redim","removehandler",\n"resume","return","shadows","shared","static","step","stop","strict","then","throw","to","true","trycast","typeof","until","until","when","widening","withevents","writeonly"];var commontypes=["object","boolean","char","string","byte","sbyte","short","ushort","int16","uint16","integer","uinteger","int32","uint32","long","ulong","int64","uint64","decimal","single","double","float","date","datetime","intptr","uintptr"];var keywords=wordRegexp(commonKeywords);var types=wordRegexp(commontypes);var stringPrefixes=\n\'"\';var opening=wordRegexp(openingKeywords);var middle=wordRegexp(middleKeywords);var closing=wordRegexp(endKeywords);var doubleClosing=wordRegexp(["end"]);var doOpening=wordRegexp(["do"]);var indentInfo=null;CodeMirror.registerHelper("hintWords","vb",openingKeywords.concat(middleKeywords).concat(endKeywords).concat(operatorKeywords).concat(commonKeywords).concat(commontypes));function indent(_stream,state){state.currentIndent++}function dedent(_stream,state){state.currentIndent--}function tokenBase(stream,\nstate){if(stream.eatSpace())return null;var ch=stream.peek();if(ch==="\'"){stream.skipToEnd();return"comment"}if(stream.match(/^((&H)|(&O))?[0-9\\.a-f]/i,false)){var floatLiteral=false;if(stream.match(/^\\d*\\.\\d+F?/i))floatLiteral=true;else if(stream.match(/^\\d+\\.\\d*F?/))floatLiteral=true;else if(stream.match(/^\\.\\d+F?/))floatLiteral=true;if(floatLiteral){stream.eat(/J/i);return"number"}var intLiteral=false;if(stream.match(/^&H[0-9a-f]+/i))intLiteral=true;else if(stream.match(/^&O[0-7]+/i))intLiteral=\ntrue;else if(stream.match(/^[1-9]\\d*F?/)){stream.eat(/J/i);intLiteral=true}else if(stream.match(/^0(?![\\dx])/i))intLiteral=true;if(intLiteral){stream.eat(/L/i);return"number"}}if(stream.match(stringPrefixes)){state.tokenize=tokenStringFactory(stream.current());return state.tokenize(stream,state)}if(stream.match(tripleDelimiters)||stream.match(doubleDelimiters))return null;if(stream.match(doubleOperators)||stream.match(singleOperators)||stream.match(wordOperators))return"operator";if(stream.match(singleDelimiters))return null;\nif(stream.match(doOpening)){indent(stream,state);state.doInCurrentLine=true;return"keyword"}if(stream.match(opening)){if(!state.doInCurrentLine)indent(stream,state);else state.doInCurrentLine=false;return"keyword"}if(stream.match(middle))return"keyword";if(stream.match(doubleClosing)){dedent(stream,state);dedent(stream,state);return"keyword"}if(stream.match(closing)){dedent(stream,state);return"keyword"}if(stream.match(types))return"keyword";if(stream.match(keywords))return"keyword";if(stream.match(identifiers))return"variable";\nstream.next();return ERRORCLASS}function tokenStringFactory(delimiter){var singleline=delimiter.length==1;var OUTCLASS="string";return function(stream,state){while(!stream.eol()){stream.eatWhile(/[^\'"]/);if(stream.match(delimiter)){state.tokenize=tokenBase;return OUTCLASS}else stream.eat(/[\'"]/)}if(singleline)if(parserConf.singleLineStringErrors)return ERRORCLASS;else state.tokenize=tokenBase;return OUTCLASS}}function tokenLexer(stream,state){var style=state.tokenize(stream,state);var current=stream.current();\nif(current==="."){style=state.tokenize(stream,state);if(style==="variable")return"variable";else return ERRORCLASS}var delimiter_index="[({".indexOf(current);if(delimiter_index!==-1)indent(stream,state);if(indentInfo==="dedent")if(dedent(stream,state))return ERRORCLASS;delimiter_index="])}".indexOf(current);if(delimiter_index!==-1)if(dedent(stream,state))return ERRORCLASS;return style}var external={electricChars:"dDpPtTfFeE ",startState:function(){return{tokenize:tokenBase,lastToken:null,currentIndent:0,\nnextLineIndent:0,doInCurrentLine:false}},token:function(stream,state){if(stream.sol()){state.currentIndent+=state.nextLineIndent;state.nextLineIndent=0;state.doInCurrentLine=0}var style=tokenLexer(stream,state);state.lastToken={style:style,content:stream.current()};return style},indent:function(state,textAfter){var trueText=textAfter.replace(/^\\s+|\\s+$/g,"");if(trueText.match(closing)||trueText.match(doubleClosing)||trueText.match(middle))return conf.indentUnit*(state.currentIndent-1);if(state.currentIndent<\n0)return 0;return state.currentIndent*conf.indentUnit},lineComment:"\'"};return external});CodeMirror.defineMIME("text/x-vb","vb")});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){var htmlConfig={autoSelfClosers:{"area":true,"base":true,"br":true,"col":true,"command":true,"embed":true,"frame":true,"hr":true,"img":true,"input":true,"keygen":true,"link":true,"meta":true,"param":true,"source":true,"track":true,"wbr":true,"menuitem":true},implicitlyClosed:{"dd":true,\n"li":true,"optgroup":true,"option":true,"p":true,"rp":true,"rt":true,"tbody":true,"td":true,"tfoot":true,"th":true,"tr":true},contextGrabbers:{"dd":{"dd":true,"dt":true},"dt":{"dd":true,"dt":true},"li":{"li":true},"option":{"option":true,"optgroup":true},"optgroup":{"optgroup":true},"p":{"address":true,"article":true,"aside":true,"blockquote":true,"dir":true,"div":true,"dl":true,"fieldset":true,"footer":true,"form":true,"h1":true,"h2":true,"h3":true,"h4":true,"h5":true,"h6":true,"header":true,"hgroup":true,\n"hr":true,"menu":true,"nav":true,"ol":true,"p":true,"pre":true,"section":true,"table":true,"ul":true},"rp":{"rp":true,"rt":true},"rt":{"rp":true,"rt":true},"tbody":{"tbody":true,"tfoot":true},"td":{"td":true,"th":true},"tfoot":{"tbody":true},"th":{"td":true,"th":true},"thead":{"tbody":true,"tfoot":true},"tr":{"tr":true}},doNotIndent:{"pre":true},allowUnquoted:true,allowMissing:true,caseFold:true};var xmlConfig={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:false,\nallowMissing:false,allowMissingTagName:false,caseFold:false};CodeMirror.defineMode("xml",function(editorConf,config_){var indentUnit=editorConf.indentUnit;var config={};var defaults=config_.htmlMode?htmlConfig:xmlConfig;for(var prop in defaults)config[prop]=defaults[prop];for(var prop in config_)config[prop]=config_[prop];var type,setStyle;function inText(stream,state){function chain(parser){state.tokenize=parser;return parser(stream,state)}var ch=stream.next();if(ch=="<")if(stream.eat("!"))if(stream.eat("["))if(stream.match("CDATA["))return chain(inBlock("atom",\n"]]\\x3e"));else return null;else if(stream.match("--"))return chain(inBlock("comment","--\\x3e"));else if(stream.match("DOCTYPE",true,true)){stream.eatWhile(/[\\w\\._\\-]/);return chain(doctype(1))}else return null;else if(stream.eat("?")){stream.eatWhile(/[\\w\\._\\-]/);state.tokenize=inBlock("meta","?>");return"meta"}else{type=stream.eat("/")?"closeTag":"openTag";state.tokenize=inTag;return"tag bracket"}else if(ch=="&"){var ok;if(stream.eat("#"))if(stream.eat("x"))ok=stream.eatWhile(/[a-fA-F\\d]/)&&stream.eat(";");\nelse ok=stream.eatWhile(/[\\d]/)&&stream.eat(";");else ok=stream.eatWhile(/[\\w\\.\\-:]/)&&stream.eat(";");return ok?"atom":"error"}else{stream.eatWhile(/[^&<]/);return null}}inText.isInText=true;function inTag(stream,state){var ch=stream.next();if(ch==">"||ch=="/"&&stream.eat(">")){state.tokenize=inText;type=ch==">"?"endTag":"selfcloseTag";return"tag bracket"}else if(ch=="="){type="equals";return null}else if(ch=="<"){state.tokenize=inText;state.state=baseState;state.tagName=state.tagStart=null;var next=\nstate.tokenize(stream,state);return next?next+" tag error":"tag error"}else if(/[\'"]/.test(ch)){state.tokenize=inAttribute(ch);state.stringStartCol=stream.column();return state.tokenize(stream,state)}else{stream.match(/^[^\\s\\u00a0=<>"\']*[^\\s\\u00a0=<>"\'\\/]/);return"word"}}function inAttribute(quote){var closure=function(stream,state){while(!stream.eol())if(stream.next()==quote){state.tokenize=inTag;break}return"string"};closure.isInAttribute=true;return closure}function inBlock(style,terminator){return function(stream,\nstate){while(!stream.eol()){if(stream.match(terminator)){state.tokenize=inText;break}stream.next()}return style}}function doctype(depth){return function(stream,state){var ch;while((ch=stream.next())!=null)if(ch=="<"){state.tokenize=doctype(depth+1);return state.tokenize(stream,state)}else if(ch==">")if(depth==1){state.tokenize=inText;break}else{state.tokenize=doctype(depth-1);return state.tokenize(stream,state)}return"meta"}}function lower(tagName){return tagName&&tagName.toLowerCase()}function Context(state,\ntagName,startOfLine){this.prev=state.context;this.tagName=tagName||"";this.indent=state.indented;this.startOfLine=startOfLine;if(config.doNotIndent.hasOwnProperty(tagName)||state.context&&state.context.noIndent)this.noIndent=true}function popContext(state){if(state.context)state.context=state.context.prev}function maybePopContext(state,nextTagName){var parentTagName;while(true){if(!state.context)return;parentTagName=state.context.tagName;if(!config.contextGrabbers.hasOwnProperty(lower(parentTagName))||\n!config.contextGrabbers[lower(parentTagName)].hasOwnProperty(lower(nextTagName)))return;popContext(state)}}function baseState(type,stream,state){if(type=="openTag"){state.tagStart=stream.column();return tagNameState}else if(type=="closeTag")return closeTagNameState;else return baseState}function tagNameState(type,stream,state){if(type=="word"){state.tagName=stream.current();setStyle="tag";return attrState}else if(config.allowMissingTagName&&type=="endTag"){setStyle="tag bracket";return attrState(type,\nstream,state)}else{setStyle="error";return tagNameState}}function closeTagNameState(type,stream,state){if(type=="word"){var tagName=stream.current();if(state.context&&state.context.tagName!=tagName&&config.implicitlyClosed.hasOwnProperty(lower(state.context.tagName)))popContext(state);if(state.context&&state.context.tagName==tagName||config.matchClosing===false){setStyle="tag";return closeState}else{setStyle="tag error";return closeStateErr}}else if(config.allowMissingTagName&&type=="endTag"){setStyle=\n"tag bracket";return closeState(type,stream,state)}else{setStyle="error";return closeStateErr}}function closeState(type,_stream,state){if(type!="endTag"){setStyle="error";return closeState}popContext(state);return baseState}function closeStateErr(type,stream,state){setStyle="error";return closeState(type,stream,state)}function attrState(type,_stream,state){if(type=="word"){setStyle="attribute";return attrEqState}else if(type=="endTag"||type=="selfcloseTag"){var tagName=state.tagName,tagStart=state.tagStart;\nstate.tagName=state.tagStart=null;if(type=="selfcloseTag"||config.autoSelfClosers.hasOwnProperty(lower(tagName)))maybePopContext(state,tagName);else{maybePopContext(state,tagName);state.context=new Context(state,tagName,tagStart==state.indented)}return baseState}setStyle="error";return attrState}function attrEqState(type,stream,state){if(type=="equals")return attrValueState;if(!config.allowMissing)setStyle="error";return attrState(type,stream,state)}function attrValueState(type,stream,state){if(type==\n"string")return attrContinuedState;if(type=="word"&&config.allowUnquoted){setStyle="string";return attrState}setStyle="error";return attrState(type,stream,state)}function attrContinuedState(type,stream,state){if(type=="string")return attrContinuedState;return attrState(type,stream,state)}return{startState:function(baseIndent){var state={tokenize:inText,state:baseState,indented:baseIndent||0,tagName:null,tagStart:null,context:null};if(baseIndent!=null)state.baseIndent=baseIndent;return state},token:function(stream,\nstate){if(!state.tagName&&stream.sol())state.indented=stream.indentation();if(stream.eatSpace())return null;type=null;var style=state.tokenize(stream,state);if((style||type)&&style!="comment"){setStyle=null;state.state=state.state(type||style,stream,state);if(setStyle)style=setStyle=="error"?style+" error":setStyle}return style},indent:function(state,textAfter,fullLine){var context=state.context;if(state.tokenize.isInAttribute)if(state.tagStart==state.indented)return state.stringStartCol+1;else return state.indented+\nindentUnit;if(context&&context.noIndent)return CodeMirror.Pass;if(state.tokenize!=inTag&&state.tokenize!=inText)return fullLine?fullLine.match(/^(\\s*)/)[0].length:0;if(state.tagName)if(config.multilineTagIndentPastTag!==false)return state.tagStart+state.tagName.length+2;else return state.tagStart+indentUnit*(config.multilineTagIndentFactor||1);if(config.alignCDATA&&/<!\\[CDATA\\[/.test(textAfter))return 0;var tagAfter=textAfter&&/^<(\\/)?([\\w_:\\.-]*)/.exec(textAfter);if(tagAfter&&tagAfter[1])while(context)if(context.tagName==\ntagAfter[2]){context=context.prev;break}else if(config.implicitlyClosed.hasOwnProperty(lower(context.tagName)))context=context.prev;else break;else if(tagAfter)while(context){var grabbers=config.contextGrabbers[lower(context.tagName)];if(grabbers&&grabbers.hasOwnProperty(lower(tagAfter[2])))context=context.prev;else break}while(context&&context.prev&&!context.startOfLine)context=context.prev;if(context)return context.indent+indentUnit;else return state.baseIndent||0},electricInput:/<\\/[\\s\\w:]+>$/,\nblockCommentStart:"\\x3c!--",blockCommentEnd:"--\\x3e",configuration:config.htmlMode?"html":"xml",helperType:config.htmlMode?"html":"xml",skipAttribute:function(state){if(state.state==attrValueState)state.state=attrState},xmlCurrentTag:function(state){return state.tagName?{name:state.tagName,close:state.type=="closeTag"}:null},xmlCurrentContext:function(state){var context=[];for(var cx=state.context;cx;cx=cx.prev)context.push(cx.tagName);return context.reverse()}}});CodeMirror.defineMIME("text/xml",\n"xml");CodeMirror.defineMIME("application/xml","xml");if(!CodeMirror.mimeModes.hasOwnProperty("text/html"))CodeMirror.defineMIME("text/html",{name:"xml",htmlMode:true})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineMode("yaml",function(){var cons=["true","false","on","off","yes","no"];var keywordRegex=new RegExp("\\\\b(("+cons.join(")|(")+"))$","i");return{token:function(stream,state){var ch=stream.peek();var esc=state.escaped;state.escaped=false;if(ch=="#"&&(stream.pos==\n0||/\\s/.test(stream.string.charAt(stream.pos-1)))){stream.skipToEnd();return"comment"}if(stream.match(/^(\'([^\']|\\\\.)*\'?|"([^"]|\\\\.)*"?)/))return"string";if(state.literal&&stream.indentation()>state.keyCol){stream.skipToEnd();return"string"}else if(state.literal)state.literal=false;if(stream.sol()){state.keyCol=0;state.pair=false;state.pairStart=false;if(stream.match("---"))return"def";if(stream.match("..."))return"def";if(stream.match(/\\s*-\\s+/))return"meta"}if(stream.match(/^(\\{|\\}|\\[|\\])/)){if(ch==\n"{")state.inlinePairs++;else if(ch=="}")state.inlinePairs--;else if(ch=="[")state.inlineList++;else state.inlineList--;return"meta"}if(state.inlineList>0&&!esc&&ch==","){stream.next();return"meta"}if(state.inlinePairs>0&&!esc&&ch==","){state.keyCol=0;state.pair=false;state.pairStart=false;stream.next();return"meta"}if(state.pairStart){if(stream.match(/^\\s*(\\||>)\\s*/)){state.literal=true;return"meta"}if(stream.match(/^\\s*(&|\\*)[a-z0-9\\._-]+\\b/i))return"variable-2";if(state.inlinePairs==0&&stream.match(/^\\s*-?[0-9\\.,]+\\s?$/))return"number";\nif(state.inlinePairs>0&&stream.match(/^\\s*-?[0-9\\.,]+\\s?(?=(,|}))/))return"number";if(stream.match(keywordRegex))return"keyword"}if(!state.pair&&stream.match(/^\\s*(?:[,\\[\\]{}&*!|>\'"%@`][^\\s\'":]|[^,\\[\\]{}#&*!|>\'"%@`])[^#]*?(?=\\s*:($|\\s))/)){state.pair=true;state.keyCol=stream.indentation();return"atom"}if(state.pair&&stream.match(/^:\\s*/)){state.pairStart=true;return"meta"}state.pairStart=false;state.escaped=ch=="\\\\";stream.next();return null},startState:function(){return{pair:false,pairStart:false,\nkeyCol:0,inlinePairs:0,inlineList:0,literal:false,escaped:false}},lineComment:"#",fold:"indent"}});CodeMirror.defineMIME("text/x-yaml","yaml");CodeMirror.defineMIME("text/yaml","yaml")});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.registerHelper("lint","coffeescript",function(text){var found=[];if(!window.coffeelint){if(window.console)window.console.error("Error: window.coffeelint not defined, CodeMirror CoffeeScript linting cannot run.");return found}var parseError=function(err){var loc=\nerr.lineNumber;found.push({from:CodeMirror.Pos(loc-1,0),to:CodeMirror.Pos(loc,0),severity:err.level,message:err.message})};try{var res=coffeelint.lint(text);for(var i=0;i<res.length;i++)parseError(res[i])}catch(e){found.push({from:CodeMirror.Pos(e.location.first_line,0),to:CodeMirror.Pos(e.location.last_line,e.location.last_column),severity:"error",message:e.message})}return found})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.registerHelper("lint","css",function(text,options){var found=[];if(!window.CSSLint){if(window.console)window.console.error("Error: window.CSSLint not defined, CodeMirror CSS linting cannot run.");return found}var results=CSSLint.verify(text,options),messages=\nresults.messages,message=null;for(var i=0;i<messages.length;i++){message=messages[i];var startLine=message.line-1,endLine=message.line-1,startCol=message.col-1,endCol=message.col;found.push({from:CodeMirror.Pos(startLine,startCol),to:CodeMirror.Pos(endLine,endCol),message:message.message,severity:message.type})}return found})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"),require("htmlhint"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror","htmlhint"],mod);else mod(CodeMirror,window.HTMLHint)})(function(CodeMirror,HTMLHint){var defaultRules={"tagname-lowercase":true,"attr-lowercase":true,"attr-value-double-quotes":true,"doctype-first":false,"tag-pair":true,"spec-char-escape":true,"id-unique":true,"src-not-empty":true,"attr-no-duplication":true};\nCodeMirror.registerHelper("lint","html",function(text,options){var found=[];if(HTMLHint&&!HTMLHint.verify)if(typeof HTMLHint.default!=="undefined")HTMLHint=HTMLHint.default;else HTMLHint=HTMLHint.HTMLHint;if(!HTMLHint)HTMLHint=window.HTMLHint;if(!HTMLHint){if(window.console)window.console.error("Error: HTMLHint not found, not defined on window, or not available through define/require, CodeMirror HTML linting cannot run.");return found}var messages=HTMLHint.verify(text,options&&options.rules||defaultRules);\nfor(var i=0;i<messages.length;i++){var message=messages[i];var startLine=message.line-1,endLine=message.line-1,startCol=message.col-1,endCol=message.col;found.push({from:CodeMirror.Pos(startLine,startCol),to:CodeMirror.Pos(endLine,endCol),message:message.message,severity:message.type})}return found})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function validator(text,options){if(!window.JSHINT){if(window.console)window.console.error("Error: window.JSHINT not defined, CodeMirror JavaScript linting cannot run.");return[]}if(!options.indent)options.indent=1;JSHINT(text,options,options.globals);var errors=JSHINT.data().errors,\nresult=[];if(errors)parseErrors(errors,result);return result}CodeMirror.registerHelper("lint","javascript",validator);function parseErrors(errors,output){for(var i=0;i<errors.length;i++){var error=errors[i];if(error){if(error.line<=0){if(window.console)window.console.warn("Cannot display JSHint error (invalid line "+error.line+")",error);continue}var start=error.character-1,end=start+1;if(error.evidence){var index=error.evidence.substring(start).search(/.\\b/);if(index>-1)end+=index}var hint={message:error.reason,\nseverity:error.code?error.code.startsWith("W")?"warning":"error":"error",from:CodeMirror.Pos(error.line-1,start),to:CodeMirror.Pos(error.line-1,end)};output.push(hint)}}}});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.registerHelper("lint","json",function(text){var found=[];if(!window.jsonlint){if(window.console)window.console.error("Error: window.jsonlint not defined, CodeMirror JSON linting cannot run.");return found}var jsonlint=window.jsonlint.parser||window.jsonlint;\njsonlint.parseError=function(str,hash){var loc=hash.loc;found.push({from:CodeMirror.Pos(loc.first_line-1,loc.first_column),to:CodeMirror.Pos(loc.last_line-1,loc.last_column),message:str})};try{jsonlint.parse(text)}catch(e){}return found})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){var GUTTER_ID="CodeMirror-lint-markers";var LINT_LINE_ID="CodeMirror-lint-line-";function showTooltip(cm,e,content){var tt=document.createElement("div");tt.className="CodeMirror-lint-tooltip cm-s-"+cm.options.theme;tt.appendChild(content.cloneNode(true));if(cm.state.lint.options.selfContain)cm.getWrapperElement().appendChild(tt);\nelse document.body.appendChild(tt);function position(e){if(!tt.parentNode)return CodeMirror.off(document,"mousemove",position);tt.style.top=Math.max(0,e.clientY-tt.offsetHeight-5)+"px";tt.style.left=e.clientX+5+"px"}CodeMirror.on(document,"mousemove",position);position(e);if(tt.style.opacity!=null)tt.style.opacity=1;return tt}function rm(elt){if(elt.parentNode)elt.parentNode.removeChild(elt)}function hideTooltip(tt){if(!tt.parentNode)return;if(tt.style.opacity==null)rm(tt);tt.style.opacity=0;setTimeout(function(){rm(tt)},\n600)}function showTooltipFor(cm,e,content,node){var tooltip=showTooltip(cm,e,content);function hide(){CodeMirror.off(node,"mouseout",hide);if(tooltip){hideTooltip(tooltip);tooltip=null}}var poll=setInterval(function(){if(tooltip)for(var n=node;;n=n.parentNode){if(n&&n.nodeType==11)n=n.host;if(n==document.body)return;if(!n){hide();break}}if(!tooltip)return clearInterval(poll)},400);CodeMirror.on(node,"mouseout",hide)}function LintState(cm,conf,hasGutter){this.marked=[];if(conf instanceof Function)conf=\n{getAnnotations:conf};if(!conf||conf===true)conf={};this.options={};this.linterOptions=conf.options||{};for(var prop in defaults)this.options[prop]=defaults[prop];for(var prop in conf)if(defaults.hasOwnProperty(prop)){if(conf[prop]!=null)this.options[prop]=conf[prop]}else if(!conf.options)this.linterOptions[prop]=conf[prop];this.timeout=null;this.hasGutter=hasGutter;this.onMouseOver=function(e){onMouseOver(cm,e)};this.waitingFor=0}var defaults={highlightLines:false,tooltips:true,delay:500,lintOnChange:true,\ngetAnnotations:null,async:false,selfContain:null,formatAnnotation:null,onUpdateLinting:null};function clearMarks(cm){var state=cm.state.lint;if(state.hasGutter)cm.clearGutter(GUTTER_ID);if(state.options.highlightLines)clearErrorLines(cm);for(var i=0;i<state.marked.length;++i)state.marked[i].clear();state.marked.length=0}function clearErrorLines(cm){cm.eachLine(function(line){var has=line.wrapClass&&/\\bCodeMirror-lint-line-\\w+\\b/.exec(line.wrapClass);if(has)cm.removeLineClass(line,"wrap",has[0])})}\nfunction makeMarker(cm,labels,severity,multiple,tooltips){var marker=document.createElement("div"),inner=marker;marker.className="CodeMirror-lint-marker CodeMirror-lint-marker-"+severity;if(multiple){inner=marker.appendChild(document.createElement("div"));inner.className="CodeMirror-lint-marker CodeMirror-lint-marker-multiple"}if(tooltips!=false)CodeMirror.on(inner,"mouseover",function(e){showTooltipFor(cm,e,labels,inner)});return marker}function getMaxSeverity(a,b){if(a=="error")return a;else return b}\nfunction groupByLine(annotations){var lines=[];for(var i=0;i<annotations.length;++i){var ann=annotations[i],line=ann.from.line;(lines[line]||(lines[line]=[])).push(ann)}return lines}function annotationTooltip(ann){var severity=ann.severity;if(!severity)severity="error";var tip=document.createElement("div");tip.className="CodeMirror-lint-message CodeMirror-lint-message-"+severity;tip.appendChild(document.createTextNode(ann.message));return tip}function lintAsync(cm,getAnnotations){var state=cm.state.lint;\nvar id=++state.waitingFor;function abort(){id=-1;cm.off("change",abort)}cm.on("change",abort);getAnnotations(cm.getValue(),function(annotations,arg2){cm.off("change",abort);if(state.waitingFor!=id)return;if(arg2&&annotations instanceof CodeMirror)annotations=arg2;cm.operation(function(){updateLinting(cm,annotations)})},state.linterOptions,cm)}function startLinting(cm){var state=cm.state.lint;if(!state)return;var options=state.options;var getAnnotations=options.getAnnotations||cm.getHelper(CodeMirror.Pos(0,\n0),"lint");if(!getAnnotations)return;if(options.async||getAnnotations.async)lintAsync(cm,getAnnotations);else{var annotations=getAnnotations(cm.getValue(),state.linterOptions,cm);if(!annotations)return;if(annotations.then)annotations.then(function(issues){cm.operation(function(){updateLinting(cm,issues)})});else cm.operation(function(){updateLinting(cm,annotations)})}}function updateLinting(cm,annotationsNotSorted){var state=cm.state.lint;if(!state)return;var options=state.options;clearMarks(cm);\nvar annotations=groupByLine(annotationsNotSorted);for(var line=0;line<annotations.length;++line){var anns=annotations[line];if(!anns)continue;var message=[];anns=anns.filter(function(item){return message.indexOf(item.message)>-1?false:message.push(item.message)});var maxSeverity=null;var tipLabel=state.hasGutter&&document.createDocumentFragment();for(var i=0;i<anns.length;++i){var ann=anns[i];var severity=ann.severity;if(!severity)severity="error";maxSeverity=getMaxSeverity(maxSeverity,severity);\nif(options.formatAnnotation)ann=options.formatAnnotation(ann);if(state.hasGutter)tipLabel.appendChild(annotationTooltip(ann));if(ann.to)state.marked.push(cm.markText(ann.from,ann.to,{className:"CodeMirror-lint-mark CodeMirror-lint-mark-"+severity,__annotation:ann}))}if(state.hasGutter)cm.setGutterMarker(line,GUTTER_ID,makeMarker(cm,tipLabel,maxSeverity,annotations[line].length>1,options.tooltips));if(options.highlightLines)cm.addLineClass(line,"wrap",LINT_LINE_ID+maxSeverity)}if(options.onUpdateLinting)options.onUpdateLinting(annotationsNotSorted,\nannotations,cm)}function onChange(cm){var state=cm.state.lint;if(!state)return;clearTimeout(state.timeout);state.timeout=setTimeout(function(){startLinting(cm)},state.options.delay)}function popupTooltips(cm,annotations,e){var target=e.target||e.srcElement;var tooltip=document.createDocumentFragment();for(var i=0;i<annotations.length;i++){var ann=annotations[i];tooltip.appendChild(annotationTooltip(ann))}showTooltipFor(cm,e,tooltip,target)}function onMouseOver(cm,e){var target=e.target||e.srcElement;\nif(!/\\bCodeMirror-lint-mark-/.test(target.className))return;var box=target.getBoundingClientRect(),x=(box.left+box.right)/2,y=(box.top+box.bottom)/2;var spans=cm.findMarksAt(cm.coordsChar({left:x,top:y},"client"));var annotations=[];for(var i=0;i<spans.length;++i){var ann=spans[i].__annotation;if(ann)annotations.push(ann)}if(annotations.length)popupTooltips(cm,annotations,e)}CodeMirror.defineOption("lint",false,function(cm,val,old){if(old&&old!=CodeMirror.Init){clearMarks(cm);if(cm.state.lint.options.lintOnChange!==\nfalse)cm.off("change",onChange);CodeMirror.off(cm.getWrapperElement(),"mouseover",cm.state.lint.onMouseOver);clearTimeout(cm.state.lint.timeout);delete cm.state.lint}if(val){var gutters=cm.getOption("gutters"),hasLintGutter=false;for(var i=0;i<gutters.length;++i)if(gutters[i]==GUTTER_ID)hasLintGutter=true;var state=cm.state.lint=new LintState(cm,val,hasLintGutter);if(state.options.lintOnChange)cm.on("change",onChange);if(state.options.tooltips!=false&&state.options.tooltips!="gutter")CodeMirror.on(cm.getWrapperElement(),\n"mouseover",state.onMouseOver);startLinting(cm)}});CodeMirror.defineExtension("performLint",function(){startLinting(this)})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.registerHelper("lint","yaml",function(text){var found=[];if(!window.jsyaml){if(window.console)window.console.error("Error: window.jsyaml not defined, CodeMirror YAML linting cannot run.");return found}try{jsyaml.loadAll(text)}catch(e){var loc=e.mark,from=loc?\nCodeMirror.Pos(loc.line,loc.column):CodeMirror.Pos(0,0),to=from;found.push({from:from,to:to,message:e.message})}return found})});if(_codeMirrorAMDLoaderBackup){if(_codeMirrorAMDLoaderBackup.define)define=_codeMirrorAMDLoaderBackup.define;if(_codeMirrorAMDLoaderBackup.require)require=_codeMirrorAMDLoaderBackup.require;_codeMirrorAMDLoaderBackup=undefined};}).call(this);\n'];
wHb.raw=[""];_.IFb(_.Wj(wHb[0]),!1);
_.xHb=window.CodeMirror;
var yHb,zHb;yHb={lineNumbers:!0,lineWrapping:!1};zHb=function(a){a.delayedSyntaxMode&&(a.editor.setOption("mode",a.delayedSyntaxMode),a.delayedSyntaxMode=null)};
_.yE=class{constructor(a,b){this.elementRef=a;this.ngZone=b;this.position="default";this.border=!0;this.copyButton=!1;this.copyButtonAriaLabel="Copy code editor contents";this.isFocused=!1;this.delayedSyntaxMode=null;this.isUpdatingProgramatically=this.visible=!1;this.onContentChangeSubject=new _.tf;this.onConfigChangeSubject=new _.tf;this.isAttached=!1;this.onContentChange=this.onContentChangeSubject.asObservable();this.onConfigChange=this.onConfigChangeSubject.asObservable();this.editor=this.ngZone.runOutsideAngular(()=>
{const c=(0,_.xHb)(a.nativeElement,yHb),d=this.elementRef.nativeElement.querySelector("textarea");d&&d.setAttribute("aria-label","Code Editor");return c})}set config(a){this.internalConfig=a;_.Fb(a,(b,c)=>{"mode"===c?this.delayedSyntaxMode=b:this.editor.setOption(c,b)});this.onConfigChangeSubject.next(a)}set height(a){this.editor.setSize(null,a)}set width(a){this.editor.setSize(a,null)}set blackLineNumbers(a){a?this.editor.getScrollerElement().classList.add("cfc-black-line-numbers"):this.editor.getScrollerElement().classList.remove("cfc-black-line-numbers")}get config(){return this.internalConfig}get value(){return this.editor.getDoc().getValue()}ngAfterViewChecked(){this.delayedSyntaxMode&&
Promise.resolve().then(()=>{zHb(this)});if(!this.isAttached&&this.elementRef.nativeElement.parentElement){this.isAttached=!0;this.domObserver=new MutationObserver(()=>{this.onVisibilityChange()});const a=this.elementRef.nativeElement.parentElement;if(a.className.includes("mat-tab-body-content"))this.onVisibilityChange();this.domObserver.observe(a,{attributes:!0,subtree:!0})}}ngOnDestroy(){this.editor.off("blur",this.onBlurFn);this.editor.off("changes",this.onContentChangeFn);this.domObserver&&this.domObserver.disconnect()}onFocusIn(){"inline"===
this.position&&(this.isFocused=!0)}onFocusOut(){this.isFocused=!1}writeValue(a){this.isUpdatingProgramatically=!0;a?(this.delayedSyntaxMode&&(this.editor.setValue(""),zHb(this)),this.editor.setValue(a),this.editor.operation(()=>{this.onContentChangeSubject.next(a)})):(this.editor.setValue(""),this.editor.operation(()=>{this.onContentChangeSubject.next("")}));this.isUpdatingProgramatically=!1}registerOnChange(a){this.onContentChangeFn=()=>{this.isUpdatingProgramatically||a(this.editor.getValue())};
this.editor.off("changes",this.onContentChangeFn);this.editor.on("changes",this.onContentChangeFn)}registerOnTouched(a){this.onBlurFn=()=>{a()};this.editor.off("blur",this.onBlurFn);this.editor.on("blur",this.onBlurFn)}setDisabledState(a){this.editor.setOption("readOnly",a)}scrollIntoView(){this.editor.getScrollerElement().scrollIntoView()}selectAllContents(){this.editor.focus();var a=this.editor.getDoc();const b={line:a.firstLine(),ch:0};a={line:a.lastLine(),ch:a.getLine(a.lastLine()).length};this.editor.getDoc().setSelection(b,
a)}onVisibilityChange(){const a=_.Txb(this.elementRef.nativeElement);this.visible!==a&&(this.visible=a)&&setTimeout(()=>{this.editor.refresh()})}};_.yE.\u0275fac=function(a){return new (a||_.yE)(_.A(_.ad),_.A(_.Jf))};
_.yE.\u0275cmp=_.q({type:_.yE,selectors:[["cfc-code-editor-deprecated"]],hostVars:8,hostBindings:function(a,b){a&1&&_.L("focusin",function(){return b.onFocusIn()})("focusout",function(){return b.onFocusOut()});a&2&&_.Bd("cfc-code-editor-inline","inline"===b.position)("cfc-code-editor-fill","fill"===b.position)("cfc-code-editor-border",b.border)("cfc-code-editor-focused",b.isFocused)},inputs:{config:"config",position:"position",border:"border",height:"height",width:"width",blackLineNumbers:"blackLineNumbers",
copyButton:"copyButton"},features:[_.Wd([{provide:_.qw,useExisting:_.yE,multi:!0}])],decls:1,vars:1,consts:[[3,"codeSnippet","ariaLabel",4,"ngIf"],[3,"codeSnippet","ariaLabel"]],template:function(a,b){a&1&&_.P(0,OGb,1,2,"ace-code-snippet-copy",0);a&2&&_.C("ngIf",b.copyButton)},dependencies:[_.ll,_.iE],styles:[".cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-primary[_ngcontent-%COMP%]{color:#000!important;fill:#000!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-secondary[_ngcontent-%COMP%]{color:rgba(0,0,0,.66)!important;fill:rgba(0,0,0,.66)!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-disabled[_ngcontent-%COMP%]{color:rgba(0,0,0,.54)!important;fill:rgba(0,0,0,.54)!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-danger[_ngcontent-%COMP%]{color:#d50000!important;fill:#d50000!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-warning[_ngcontent-%COMP%]{color:#f2a600!important;fill:#f2a600!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-good[_ngcontent-%COMP%]{color:#0b8043!important;fill:#0b8043!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-active[_ngcontent-%COMP%]{color:#3367d6!important;fill:#3367d6!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-primary-1[_ngcontent-%COMP%]{color:#4285f4!important;fill:#4285f4!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-primary-2[_ngcontent-%COMP%]{color:#ff5722!important;fill:#ff5722!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-primary-3[_ngcontent-%COMP%]{color:#ff8f00!important;fill:#ff8f00!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-primary-4[_ngcontent-%COMP%]{color:#7cb342!important;fill:#7cb342!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-primary-5[_ngcontent-%COMP%]{color:#ab47bc!important;fill:#ab47bc!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-primary-6[_ngcontent-%COMP%]{color:#00acc1!important;fill:#00acc1!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-primary-7[_ngcontent-%COMP%]{color:#f57c00!important;fill:#f57c00!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-primary-8[_ngcontent-%COMP%]{color:#9e9d24!important;fill:#9e9d24!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-primary-9[_ngcontent-%COMP%]{color:#5c6bc0!important;fill:#5c6bc0!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-primary-10[_ngcontent-%COMP%]{color:#f06292!important;fill:#f06292!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-primary-11[_ngcontent-%COMP%]{color:#00796b!important;fill:#00796b!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-primary-12[_ngcontent-%COMP%]{color:#c2185b!important;fill:#c2185b!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-secondary-1[_ngcontent-%COMP%]{color:#fa937f!important;fill:#fa937f!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-secondary-2[_ngcontent-%COMP%]{color:#0fbfff!important;fill:#0fbfff!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-secondary-3[_ngcontent-%COMP%]{color:#e91e63!important;fill:#e91e63!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-secondary-4[_ngcontent-%COMP%]{color:#31d8d0!important;fill:#31d8d0!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-secondary-5[_ngcontent-%COMP%]{color:#e26c28!important;fill:#e26c28!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-secondary-6[_ngcontent-%COMP%]{color:#9fabe4!important;fill:#9fabe4!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-secondary-7[_ngcontent-%COMP%]{color:#259fa7!important;fill:#259fa7!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-secondary-8[_ngcontent-%COMP%]{color:#673ab7!important;fill:#673ab7!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-secondary-9[_ngcontent-%COMP%]{color:#7ac6ff!important;fill:#7ac6ff!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-secondary-10[_ngcontent-%COMP%]{color:#f40bb2!important;fill:#f40bb2!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-secondary-11[_ngcontent-%COMP%]{color:#2e5d9e!important;fill:#2e5d9e!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-secondary-12[_ngcontent-%COMP%]{color:#e889ff!important;fill:#e889ff!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-unfilled[_ngcontent-%COMP%]{color:#e0e0e0!important;fill:#e0e0e0!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-background-base[_ngcontent-%COMP%]{background-color:#fafafa}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-background-contrast[_ngcontent-%COMP%]{background-color:#fff}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-background-disabled[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.54)}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-background-message[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.05)}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-background-row-active[_ngcontent-%COMP%]{background-color:rgba(161,194,250,.16)}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-background-code[_ngcontent-%COMP%]{background-color:#f7f7f7}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-align-left[_ngcontent-%COMP%]{text-align:left!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-align-center[_ngcontent-%COMP%]{text-align:center!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-align-right[_ngcontent-%COMP%]{text-align:right!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-vertical-align-middle[_ngcontent-%COMP%]{vertical-align:middle}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-white-space-normal[_ngcontent-%COMP%]{white-space:normal}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-nowrap[_ngcontent-%COMP%]{white-space:nowrap}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-pre-line[_ngcontent-%COMP%]{white-space:pre-line}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-pre-wrap[_ngcontent-%COMP%]{white-space:pre-wrap}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-break-word-wrap[_ngcontent-%COMP%]{word-wrap:break-word;word-break:break-word}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-heading-with-icon-button[_ngcontent-%COMP%]{display:flex;align-items:center}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-heading-with-icon-button[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(h1, h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6)[_ngcontent-%COMP%]{margin-right:4px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-heading-with-icon-button[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(h1, .cfc-heading-visual-level-1)[_ngcontent-%COMP%] ~ [_ngcontent-%COMP%]:is([mat-icon-button], cfc-help-button[_ngcontent-%COMP%], cfc-easy-copy)[_ngcontent-%COMP%]{margin-bottom:0;margin-top:0}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-heading-with-icon-button[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(h2, .cfc-heading-visual-level-2)[_ngcontent-%COMP%] ~ [_ngcontent-%COMP%]:is([mat-icon-button], cfc-help-button[_ngcontent-%COMP%], cfc-easy-copy)[_ngcontent-%COMP%]{margin-bottom:8px;margin-top:32px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-heading-with-icon-button[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(h3, .cfc-heading-visual-level-3)[_ngcontent-%COMP%] ~ [_ngcontent-%COMP%]:is([mat-icon-button], cfc-help-button[_ngcontent-%COMP%], cfc-easy-copy)[_ngcontent-%COMP%]{margin-bottom:8px;margin-top:28px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-heading-with-icon-button[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(h4, .cfc-heading-visual-level-4)[_ngcontent-%COMP%] ~ [_ngcontent-%COMP%]:is([mat-icon-button], cfc-help-button[_ngcontent-%COMP%], cfc-easy-copy)[_ngcontent-%COMP%]{margin-bottom:8px;margin-top:28px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-heading-with-icon-button[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(h5, .cfc-heading-visual-level-5)[_ngcontent-%COMP%] ~ [_ngcontent-%COMP%]:is([mat-icon-button], cfc-help-button[_ngcontent-%COMP%], cfc-easy-copy)[_ngcontent-%COMP%]{margin-bottom:8px;margin-top:24px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-heading-with-icon-button[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(h6, .cfc-heading-visual-level-6)[_ngcontent-%COMP%] ~ [_ngcontent-%COMP%]:is([mat-icon-button], cfc-help-button[_ngcontent-%COMP%], cfc-easy-copy)[_ngcontent-%COMP%]{margin-bottom:8px;margin-top:24px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-truncated-text[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-truncated-text-left[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;direction:rtl}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-truncated-text-inline[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:inline-block;line-height:normal;vertical-align:text-top}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-truncated-text-single-line[_ngcontent-%COMP%]{-webkit-line-clamp:1;-webkit-box-orient:vertical;display:-webkit-box;overflow:hidden}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-truncated-text-multi-line-2[_ngcontent-%COMP%]{-webkit-line-clamp:2;-webkit-box-orient:vertical;display:-webkit-box;overflow:hidden}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-truncated-text-multi-line-3[_ngcontent-%COMP%]{-webkit-line-clamp:3;-webkit-box-orient:vertical;display:-webkit-box;overflow:hidden}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-truncated-text-multi-line-4[_ngcontent-%COMP%]{-webkit-line-clamp:4;-webkit-box-orient:vertical;display:-webkit-box;overflow:hidden}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-font-weight-light[_ngcontent-%COMP%]{font-weight:300}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-font-weight-base[_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-font-weight-regular[_ngcontent-%COMP%]{font-weight:400}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-font-weight-bold[_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-font-weight-medium[_ngcontent-%COMP%]{font-weight:500}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-label-text[_ngcontent-%COMP%]{color:#000;font-family:Roboto;font-size:13px;font-weight:500;line-height:20px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-cursor-default[_ngcontent-%COMP%]{cursor:default}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-cursor-move[_ngcontent-%COMP%]{cursor:move}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-text-base[_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-text-body[_ngcontent-%COMP%]{color:#000;font-family:Roboto;font-size:13px;font-weight:400;line-height:20px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-text-body-strong[_ngcontent-%COMP%]{color:#000;font-family:Roboto;font-size:13px;font-weight:500;line-height:20px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-text-caption[_ngcontent-%COMP%]{color:rgba(0,0,0,.66);font-family:Roboto;font-size:12px;font-weight:400;line-height:16px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-text-caption-strong[_ngcontent-%COMP%]{color:#000;font-family:Roboto;font-size:12px;font-weight:500;line-height:16px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-text-headline[_ngcontent-%COMP%]{color:#000;font-family:Roboto;font-size:24px;font-weight:400;line-height:32px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-text-headline-strong[_ngcontent-%COMP%]{color:#000;font-family:Roboto;font-size:24px;font-weight:500;line-height:32px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-text-title-1[_ngcontent-%COMP%]{color:#000;font-family:Roboto;font-size:20px;font-weight:500;line-height:28px;margin-bottom:8px;margin-top:32px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-text-title-1-subtle[_ngcontent-%COMP%]{color:#000;font-family:Roboto;font-size:20px;font-weight:400;line-height:28px;margin-bottom:8px;margin-top:32px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-text-title-2[_ngcontent-%COMP%]{color:#000;font-family:Roboto;font-size:18px;font-weight:500;line-height:24px;margin-bottom:8px;margin-top:28px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-text-title-3[_ngcontent-%COMP%]{color:#000;font-family:Roboto;font-size:18px;font-weight:400;line-height:24px;margin-bottom:8px;margin-top:28px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-text-title-4[_ngcontent-%COMP%]{color:#000;font-family:Roboto;font-size:15px;font-weight:500;line-height:20px;margin-bottom:8px;margin-top:24px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-text-body-large[_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-text-title-5[_ngcontent-%COMP%]{color:#000;font-family:Roboto;font-size:15px;font-weight:400;line-height:20px;margin-bottom:8px;margin-top:24px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-fixed-font[_ngcontent-%COMP%]{font-family:Roboto Mono,monospace}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-italic-font[_ngcontent-%COMP%]{font-style:italic}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-below-minus-6[_ngcontent-%COMP%]{margin-bottom:2px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-below-minus-5[_ngcontent-%COMP%]{margin-bottom:4px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-below-minus-4[_ngcontent-%COMP%]{margin-bottom:8px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-below-minus-3[_ngcontent-%COMP%]{margin-bottom:12px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-below-minus-2[_ngcontent-%COMP%]{margin-bottom:16px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-below-minus-1[_ngcontent-%COMP%]{margin-bottom:20px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-below-base[_ngcontent-%COMP%]{margin-bottom:24px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-below-plus-1[_ngcontent-%COMP%]{margin-bottom:28px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-below-plus-2[_ngcontent-%COMP%]{margin-bottom:32px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-below-plus-3[_ngcontent-%COMP%]{margin-bottom:36px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-below-plus-4[_ngcontent-%COMP%]{margin-bottom:40px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-below-plus-5[_ngcontent-%COMP%]{margin-bottom:48px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-below-plus-6[_ngcontent-%COMP%]{margin-bottom:56px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-above-minus-6[_ngcontent-%COMP%]{margin-top:2px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-above-minus-5[_ngcontent-%COMP%]{margin-top:4px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-above-minus-4[_ngcontent-%COMP%]{margin-top:8px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-above-minus-3[_ngcontent-%COMP%]{margin-top:12px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-above-minus-2[_ngcontent-%COMP%]{margin-top:16px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-above-minus-1[_ngcontent-%COMP%]{margin-top:20px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-above-base[_ngcontent-%COMP%]{margin-top:24px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-above-plus-1[_ngcontent-%COMP%]{margin-top:28px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-above-plus-2[_ngcontent-%COMP%]{margin-top:32px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-above-plus-3[_ngcontent-%COMP%]{margin-top:36px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-above-plus-4[_ngcontent-%COMP%]{margin-top:40px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-above-plus-5[_ngcontent-%COMP%]{margin-top:48px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-above-plus-6[_ngcontent-%COMP%]{margin-top:56px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-first[_ngcontent-%COMP%]{margin-top:0!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-last[_ngcontent-%COMP%]{margin-bottom:0!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-indent[_ngcontent-%COMP%]{margin-left:24px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-prefix[_ngcontent-%COMP%]{margin-right:12px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-width-xsmall[_ngcontent-%COMP%]{width:256px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-width-small[_ngcontent-%COMP%]{width:320px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-width-base[_ngcontent-%COMP%]{width:512px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-width-large[_ngcontent-%COMP%]{width:768px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-width-xlarge[_ngcontent-%COMP%]{width:1024px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-width-jumbo[_ngcontent-%COMP%]{width:1280px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-width-increment[_ngcontent-%COMP%]{width:64px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-max-width-base[_ngcontent-%COMP%]{max-width:512px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-max-width-small[_ngcontent-%COMP%]{max-width:320px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-max-width-xsmall[_ngcontent-%COMP%]{max-width:256px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-max-width-large[_ngcontent-%COMP%]{max-width:768px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-max-width-xlarge[_ngcontent-%COMP%]{max-width:1024px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-max-width-full[_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-max-width-full[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(p, h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6)[_ngcontent-%COMP%]{max-width:100%!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-width-full[_ngcontent-%COMP%]{width:100%}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-height-full[_ngcontent-%COMP%]{height:100%}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-width-none[_ngcontent-%COMP%]{width:0}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-height-none[_ngcontent-%COMP%]{height:0}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-gutter-none[_ngcontent-%COMP%]{padding:0!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-gutter-minus-4[_ngcontent-%COMP%]{padding:8px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-gutter-minus-2[_ngcontent-%COMP%]{padding:16px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-gutter-base[_ngcontent-%COMP%]{padding:24px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-form-control-hint[_ngcontent-%COMP%]{color:rgba(0,0,0,.66);font-family:Roboto;font-size:12px;font-weight:400;line-height:16px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-small[_ngcontent-%COMP%]{--cm-button-line-height:24px;--cm-icon-button-height:24px;--cm-icon-button-width:24px;--cm-icon-button-line-height:24px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-small.mat-button-toggle-label-content[_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-small[_ngcontent-%COMP%]   .mat-button-toggle-label-content[_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-small[mat-button][_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-small[_ngcontent-%COMP%]   [mat-button][_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-small[mat-raised-button][_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-small[_ngcontent-%COMP%]   [mat-raised-button][_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-small[mat-stroked-button][_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-small[_ngcontent-%COMP%]   [mat-stroked-button][_ngcontent-%COMP%]{line-height:24px;padding:0 8px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-small[mat-icon-button][_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-small[_ngcontent-%COMP%]   [mat-icon-button][_ngcontent-%COMP%]{--cm-focus-indicator-offset:2px;padding:0}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-small[mat-icon-button][_ngcontent-%COMP%]:where(:not(.cm-button)), .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-small[_ngcontent-%COMP%]   [mat-icon-button][_ngcontent-%COMP%]:where(:not(.cm-button)){height:24px;line-height:24px;width:24px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-small.cfc-split-button-menu-button[_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-small[_ngcontent-%COMP%]   .cfc-split-button-menu-button[_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-small.cfc-split-button-menu-button.cm-button[_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-small[_ngcontent-%COMP%]   .cfc-split-button-menu-button.cm-button[_ngcontent-%COMP%]{padding:0}body.cfc-focus-indicators-enabled[_ngcontent-%COMP%]   .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-small.mat-icon-button[_ngcontent-%COMP%]:before, body.cfc-focus-indicators-enabled[_ngcontent-%COMP%]   .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-small[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]:before{margin:-2px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-medium[_ngcontent-%COMP%]{--cm-icon-button-height:32px;--cm-icon-button-width:32px;--cm-icon-button-line-height:32px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-medium[mat-icon-button][_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-medium[_ngcontent-%COMP%]   [mat-icon-button][_ngcontent-%COMP%]{padding:0}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-medium[mat-icon-button][_ngcontent-%COMP%]:where(:not(.cm-button)), .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-medium[_ngcontent-%COMP%]   [mat-icon-button][_ngcontent-%COMP%]:where(:not(.cm-button)){height:32px;line-height:32px;width:32px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-small-icon-button[_ngcontent-%COMP%]{--cm-button-line-height:24px;--cm-icon-button-height:24px;--cm-icon-button-width:24px;--cm-icon-button-line-height:24px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-small-icon-button.mat-button-toggle-label-content[_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-small-icon-button[_ngcontent-%COMP%]   .mat-button-toggle-label-content[_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-small-icon-button[mat-button][_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-small-icon-button[_ngcontent-%COMP%]   [mat-button][_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-small-icon-button[mat-raised-button][_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-small-icon-button[_ngcontent-%COMP%]   [mat-raised-button][_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-small-icon-button[mat-stroked-button][_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-small-icon-button[_ngcontent-%COMP%]   [mat-stroked-button][_ngcontent-%COMP%]{line-height:24px;padding:0 8px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-small-icon-button[mat-icon-button][_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-small-icon-button[_ngcontent-%COMP%]   [mat-icon-button][_ngcontent-%COMP%]{--cm-focus-indicator-offset:2px;padding:0}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-small-icon-button[mat-icon-button][_ngcontent-%COMP%]:where(:not(.cm-button)), .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-small-icon-button[_ngcontent-%COMP%]   [mat-icon-button][_ngcontent-%COMP%]:where(:not(.cm-button)){height:24px;line-height:24px;width:24px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-small-icon-button.cfc-split-button-menu-button[_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-small-icon-button[_ngcontent-%COMP%]   .cfc-split-button-menu-button[_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-small-icon-button.cfc-split-button-menu-button.cm-button[_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-small-icon-button[_ngcontent-%COMP%]   .cfc-split-button-menu-button.cm-button[_ngcontent-%COMP%]{padding:0}body.cfc-focus-indicators-enabled[_ngcontent-%COMP%]   .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-small-icon-button.mat-icon-button[_ngcontent-%COMP%]:before, body.cfc-focus-indicators-enabled[_ngcontent-%COMP%]   .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-small-icon-button[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]:before{margin:-2px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-small-icon-button[_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-small-icon-button.cm-button[_ngcontent-%COMP%]{margin-top:-8px;margin-bottom:-4px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-align-left[_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-align-left.cm-button[_ngcontent-%COMP%]{margin:12px 0 -12px -12px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-full-bleed[_ngcontent-%COMP%]{margin-left:-24px;margin-right:-24px;max-width:none}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-full-bleed[_ngcontent-%COMP%]:first-child:not(.cfc-full-bleed-keep-top-padding){margin-top:-24px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-full-bleed[_ngcontent-%COMP%]:last-child:not(.cfc-full-bleed-keep-bottom-padding){margin-bottom:-24px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-hover-display[_ngcontent-%COMP%]{opacity:0;will-change:opacity}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-hover-display-container[_ngcontent-%COMP%]:hover   .cfc-hover-display[_ngcontent-%COMP%]{opacity:1}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-text-caption[_ngcontent-%COMP%]{color:rgba(0,0,0,.66);font-family:Roboto;font-size:12px;font-weight:400;line-height:16px;--cm-button-text-color:rgba(0,0,0,0.66);--cm-button-line-height:16px}@media screen and (hover:none){.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-disable-user-select-on-touch-device[_ngcontent-%COMP%]{-webkit-touch-callout:none;user-select:none;-webkit-user-select:none}}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-scroll-vertical[_ngcontent-%COMP%]{overflow-y:auto}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-scroll-horizontal[_ngcontent-%COMP%]{overflow-x:auto}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-no-scroll-vertical[_ngcontent-%COMP%]{overflow-y:hidden}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-no-scroll-horizontal[_ngcontent-%COMP%]{overflow-x:hidden}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-list-item-icons-left[_ngcontent-%COMP%]   .ace-icon[_ngcontent-%COMP%]{padding-right:8px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-list-item-icons-left[_ngcontent-%COMP%]   [mat-button][_ngcontent-%COMP%]   .ace-icon[_ngcontent-%COMP%]{padding-right:0}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-list-item-icons-left[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .mat-list-item-content[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-list-item-icons-left[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .mat-list-item-content[_ngcontent-%COMP%]   [mat-button][_ngcontent-%COMP%]{padding-right:8px;margin-right:4px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-mat-tab-expand-content[_ngcontent-%COMP%]   .mat-tab-body-wrapper[_ngcontent-%COMP%]{flex-grow:1}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-border-none[_ngcontent-%COMP%]{border:0}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-border-primary[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12)}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-border-top-primary[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.12)}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-container-item[_ngcontent-%COMP%]{margin:12px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-flex-container[_ngcontent-%COMP%]{display:flex}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-flex-direction-column[_ngcontent-%COMP%]{flex-direction:column}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-flex-container[_ngcontent-%COMP%]{display:inline-flex!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-flex-wrap-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-flex-center-aligned[_ngcontent-%COMP%]{align-items:center}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-flex-end-aligned[_ngcontent-%COMP%]{align-items:flex-end}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-flex-baseline-aligned[_ngcontent-%COMP%]{align-items:baseline}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-flex-space-between-content[_ngcontent-%COMP%]{justify-content:space-between}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-flex-justify-start[_ngcontent-%COMP%]{justify-content:start}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-flex-justify-center[_ngcontent-%COMP%]{justify-content:center}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-flex-justify-end[_ngcontent-%COMP%]{justify-content:flex-end}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-flex-grow-content[_ngcontent-%COMP%]{flex-grow:1}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-flex-no-shrink[_ngcontent-%COMP%]{flex-shrink:0}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-hidden[_ngcontent-%COMP%]{display:none!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-visibility-hidden[_ngcontent-%COMP%]{visibility:hidden}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-icon-button-right-align[_ngcontent-%COMP%]{float:right}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-full-screen[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:100%;width:100%;z-index:1}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-position-relative[_ngcontent-%COMP%]{position:relative}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-print-only[_ngcontent-%COMP%]{display:none}@media print{.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-print-only[_ngcontent-%COMP%]{display:block}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-print-never[_ngcontent-%COMP%]{display:none!important}}.cfc-ng2-region[_ngcontent-%COMP%]   .screen-reader-only-content[_ngcontent-%COMP%]{clip:rect(1px,1px,1px,1px);height:1px;margin:0;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px;z-index:-1000}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-third-party-icon-list[_ngcontent-%COMP%]{vertical-align:middle}[_nghost-%COMP%]{display:block;margin-bottom:16px}.cfc-code-editor-inline[_nghost-%COMP%]{display:inline-block;margin-bottom:0;width:768px}.cfc-code-editor-fill[_nghost-%COMP%]{margin-bottom:0}[_nghost-%COMP%]:not(.cfc-code-editor-fill){position:relative}.cfc-code-editor-focused[_nghost-%COMP%]     .CodeMirror:not(.cfc-code-editor-error){border:2px solid #3b78e7}.cfc-code-editor-border[_nghost-%COMP%]     .CodeMirror{border:1px solid #ddd}.cfc-code-editor-fill[_nghost-%COMP%]     .CodeMirror{position:absolute;height:100%;width:100%}[_nghost-%COMP%]     .CodeMirror-placeholder{color:rgba(0,0,0,.54)}[_nghost-%COMP%]     .cfc-black-line-numbers .CodeMirror-linenumber{color:#000}[_nghost-%COMP%]     .CodeMirror-lint-marker-error{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100%25' height='100%25' viewBox='0 0 24 24' fit='' preserveAspectRatio='xMidYMid meet' focusable='false'%3E%3Cpath d='M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z' fill='%23DA4236' fill-rule='evenodd'%3E%3C/path%3E%3C/svg%3E\")}[_nghost-%COMP%]     .CodeMirror-lint-marker-warning{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100%25' height='100%25' viewBox='0 0 24 24' fit='' preserveAspectRatio='xMidYMid meet' focusable='false'%3E%3Cpath d='M21.01 21c1.1 0 1.545-.768.985-1.736l-8.99-15.528c-.555-.96-1.45-.968-2.01 0l-8.99 15.528C1.45 20.224 1.89 21 2.99 21h18.02zM13 18h-2v-2h2v2zm0-4h-2v-4h2v4z' fill='%23F3B300' fill-rule='evenodd'%3E%3C/path%3E%3C/svg%3E\")}"],
changeDetection:0});
_.zE=class{};_.zE.\u0275fac=function(a){return new (a||_.zE)};_.zE.\u0275mod=_.Bc({type:_.zE});_.zE.\u0275inj=_.tc({imports:[_.ql,_.kE]});

}catch(e){_._DumpException(e)}
try{
/*

Copyright 2010-2017 Mike Bostock
All rights reserved.

Redistribution and use in source and binary forms, with or without modification,
are permitted provided that the following conditions are met:

 Redistributions of source code must retain the above copyright notice, this
  list of conditions and the following disclaimer.

 Redistributions in binary form must reproduce the above copyright notice,
  this list of conditions and the following disclaimer in the documentation
  and/or other materials provided with the distribution.

 Neither the name of the author nor the names of contributors may be used to
  endorse or promote products derived from this software without specific prior
  written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/
var n5b,o5b,p5b,q5b,r5b,s5b,t5b,z5b,A5b,C5b,D5b,E5b,ZK,F5b,G5b;_.SK=function(a){return _.jwa(a.getConstructor(),_.fwa(a))};_.TK=function(){this._events={}};n5b=function(a){var b=d=>!("string"===typeof d&&/^\s*$/.test(d));const c=a.findIndex(b);b=m5b(a,b);return 0<=c&&0<=b?a.slice(c,b+1):[]};o5b=function(a){let b=[];for(let c=0;c<a.subtokens_.length;++c)b.push(a.subtoken(c));b=n5b(b);return b=b.map(c=>c instanceof UK?new UK(c.toString().trim()):c.trim())};
p5b=function(a){if(a instanceof UK)return new UK(a.toString().trim());if(a instanceof VK){var b=o5b(a);if(0<b.length){var c=a=new VK(b.shift());for(var d of b)c.append(d);return a}return new VK("")}if(a instanceof WK){b=o5b(a);if(0<b.length){d=a=new WK(b.shift());for(c of b)d.append(c);return a}return new WK("")}return"string"===typeof a?a.trim():a};_.XK=function(a){a=a.split("/");return a[a.length-1]};q5b=function(a,b,c){const d={};`${b.category}/${_.XK(b.name)}`===a&&c&&c(d);return d};
r5b=function(a){const b={category:a.category,name:_.XK(a.name),displayName:a.displayName};a.hasLabels&&(b.labels=a.labels);return b};s5b=function(a){return a.hasTiles?a.tiles.map(b=>b.hasContent?b.content:void 0):[]};t5b=function(a,b){return YK.addOne(b,YK.removeOne(`${b.category}/${_.XK(b.name)}`,Object.assign({},a)))};
z5b=function(a,b,c,d){return _.Bh(u5b,_.Ah(v5b,e=>{e.widgets.splice(-1,1);return d?t5b(e,d):e}),_.Ah(w5b,(e,f)=>c?(e.widgets[f.index]=c,t5b(e,f.dashboard)):Object.assign({},e)),_.Ah(x5b,(e,f)=>{e.widgets.splice(f.index,0,c);return t5b(e,f.dashboard)}),_.Ah(y5b,(e,f)=>{const g=Object.assign({},e,{widgets:f.order.map(h=>e.widgets[h])});return t5b(g,f.dashboard)}))(a,b)};A5b=function(a,b){b=b.filter(c=>c!==a);10<b.unshift(a)&&(b.length=10);return b};
C5b=function(a,b){return B5b.includes(b.category)?Object.assign({},a,{[`${b.category}/${b.name}`]:b}):Object.assign({},a)};D5b=function(a,b){a=Object.assign({},a);for(const c of b)a=C5b(a,c);return a};
E5b=function(a){const b=new Date,c=new Date(b.getTime());switch(a){case "1h":c.setHours(c.getHours()-1);break;case "6h":c.setHours(c.getHours()-6);break;case "1d":c.setDate(c.getDate()-1);break;case "1w":c.setDate(c.getDate()-7);break;case "1m":c.setMonth(c.getMonth()-1);break;case "6w":c.setDate(c.getDate()-42)}return[c,b]};ZK=function(a){return a.split("/").pop()};
F5b=function(a,b){return Object.values(b).filter(c=>{var d;if(d=!!c)a:{for(c=b[ZK(c.parentName)];c;){if(c.name===a.name){d=!0;break a}c=b[ZK(c.parentName)]}d=!1}return d})};G5b=function(a){return void 0===a?"undefined":null===a?"null":a.toString()};_.H5b=function(a,b){if((0,_.gDa)())for(;a.lastChild;)a.removeChild(a.lastChild);a.innerHTML=_.Ob(b)};d3={};
(function(){function $K(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}function I5b(a){1===a.length&&(a=J5b(a));return{left:function(b,c,d,e){null==d&&(d=0);null==e&&(e=b.length);for(;d<e;){var f=d+e>>>1;0>a(b[f],c)?d=f+1:e=f}return d},right:function(b,c,d,e){null==d&&(d=0);null==e&&(e=b.length);for(;d<e;){var f=d+e>>>1;0<a(b[f],c)?e=f:d=f+1}return d}}}function J5b(a){return function(b,c){return $K(a(b),c)}}function K5b(a,b){return[a,b]}function aL(a){return null===a?NaN:+a}function L5b(a,b){var c=a.length,
d=0,e=-1,f=0,g,h=0;if(null==b)for(;++e<c;){if(!isNaN(g=aL(a[e]))){var l=g-f;f+=l/++d;h+=l*(g-f)}}else for(;++e<c;)isNaN(g=aL(b(a[e],e,a)))||(l=g-f,f+=l/++d,h+=l*(g-f));if(1<d)return h/(d-1)}function M5b(a,b){return(a=L5b(a,b))?Math.sqrt(a):a}function N5b(a,b){var c=a.length,d=-1,e,f,g;if(null==b)for(;++d<c;){if(null!=(e=a[d])&&e>=e)for(f=g=e;++d<c;)null!=(e=a[d])&&(f>e&&(f=e),g<e&&(g=e))}else for(;++d<c;)if(null!=(e=b(a[d],d,a))&&e>=e)for(f=g=e;++d<c;)null!=(e=b(a[d],d,a))&&(f>e&&(f=e),g<e&&(g=e));
return[f,g]}function O5b(a){return function(){return a}}function P5b(a){return a}function bL(a,b,c){a=+a;b=+b;c=2>(e=arguments.length)?(b=a,a=0,1):3>e?1:+c;for(var d=-1,e=Math.max(0,Math.ceil((b-a)/c))|0,f=Array(e);++d<e;)f[d]=a+d*c;return f}function Q5b(a,b,c){var d,e=-1,f;b=+b;a=+a;c=+c;if(a===b&&0<c)return[a];if(d=b<a){var g=a;a=b;b=g}if(0===(f=R5b(a,b,c))||!isFinite(f))return[];if(0<f)for(a=Math.ceil(a/f),b=Math.floor(b/f),b=Array(g=Math.ceil(b-a+1));++e<g;)b[e]=(a+e)*f;else for(a=Math.floor(a*
f),b=Math.ceil(b*f),b=Array(g=Math.ceil(a-b+1));++e<g;)b[e]=(a-e)/f;d&&b.reverse();return b}function R5b(a,b,c){b=(b-a)/Math.max(0,c);a=Math.floor(Math.log(b)/Math.LN10);b/=Math.pow(10,a);return 0<=a?(b>=S5b?10:b>=T5b?5:b>=U5b?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(b>=S5b?10:b>=T5b?5:b>=U5b?2:1)}function cL(a,b,c){var d=Math.abs(b-a)/Math.max(0,c);c=Math.pow(10,Math.floor(Math.log(d)/Math.LN10));d/=c;d>=S5b?c*=10:d>=T5b?c*=5:d>=U5b&&(c*=2);return b<a?-c:c}function V5b(a){return Math.ceil(Math.log(a.length)/
Math.LN2)+1}function W5b(a,b,c){null==c&&(c=aL);if(d=a.length){if(0>=(b=+b)||2>d)return+c(a[0],0,a);if(1<=b)return+c(a[d-1],d-1,a);var d;b*=d-1;d=Math.floor(b);var e=+c(a[d],d,a);a=+c(a[d+1],d+1,a);return e+(a-e)*(b-d)}}function X5b(a,b){var c=a.length,d=-1,e,f;if(null==b)for(;++d<c;){if(null!=(e=a[d])&&e>=e)for(f=e;++d<c;)null!=(e=a[d])&&e>f&&(f=e)}else for(;++d<c;)if(null!=(e=b(a[d],d,a))&&e>=e)for(f=e;++d<c;)null!=(e=b(a[d],d,a))&&e>f&&(f=e);return f}function Y5b(a){var b=a.length;var c=-1;for(var d=
0,e,f;++c<b;)d+=a[c].length;for(e=Array(d);0<=--b;)for(f=a[b],c=f.length;0<=--c;)e[--d]=f[c];return e}function Z5b(a,b){var c=a.length,d=-1,e,f;if(null==b)for(;++d<c;){if(null!=(e=a[d])&&e>=e)for(f=e;++d<c;)null!=(e=a[d])&&f>e&&(f=e)}else for(;++d<c;)if(null!=(e=b(a[d],d,a))&&e>=e)for(f=e;++d<c;)null!=(e=b(a[d],d,a))&&f>e&&(f=e);return f}function $5b(a){if(!(f=a.length))return[];for(var b=-1,c=Z5b(a,a6b),d=Array(c);++b<c;)for(var e=-1,f,g=d[b]=Array(f);++e<f;)g[e]=a[e][b];return d}function a6b(a){return a.length}
function b6b(a){return a}function c6b(a){return"translate("+(a+.5)+",0)"}function d6b(a){return"translate(0,"+(a+.5)+")"}function e6b(a){return function(b){return+a(b)}}function f6b(a){var b=Math.max(0,a.bandwidth()-1)/2;a.round()&&(b=Math.round(b));return function(c){return+a(c)+b}}function g6b(){return!this.__axis}function h6b(a,b){function c(w){var y=null==e?b.ticks?b.ticks.apply(b,d):b.domain():e,B=null==f?b.tickFormat?b.tickFormat.apply(b,d):b6b:f,G=Math.max(g,0)+l,O=b.range(),T=+O[0]+.5;O=+O[O.length-
1]+.5;var J=(b.bandwidth?f6b:e6b)(b.copy()),R=w.selection?w.selection():w,ra=R.selectAll(".domain").data([null]);y=R.selectAll(".tick").data(y,b).order();var Ba=y.exit(),Ka=y.enter().append("g").attr("class","tick"),Va=y.select("line"),cb=y.select("text");ra=ra.merge(ra.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor"));y=y.merge(Ka);Va=Va.merge(Ka.append("line").attr("stroke","currentColor").attr(r+"2",n*g));cb=cb.merge(Ka.append("text").attr("fill","currentColor").attr(r,
n*G).attr("dy",1===a?"0em":3===a?"0.71em":"0.32em"));w!==R&&(ra=ra.transition(w),y=y.transition(w),Va=Va.transition(w),cb=cb.transition(w),Ba=Ba.transition(w).attr("opacity",1E-6).attr("transform",function(H){return isFinite(H=J(H))?v(H):this.getAttribute("transform")}),Ka.attr("opacity",1E-6).attr("transform",function(H){var Y=this.parentNode.__axis;return v(Y&&isFinite(Y=Y(H))?Y:J(H))}));Ba.remove();ra.attr("d",4===a||2==a?h?"M"+n*h+","+T+"H0.5V"+O+"H"+n*h:"M0.5,"+T+"V"+O:h?"M"+T+","+n*h+"V0.5H"+
O+"V"+n*h:"M"+T+",0.5H"+O);y.attr("opacity",1).attr("transform",function(H){return v(J(H))});Va.attr(r+"2",n*g);cb.attr(r,n*G).text(B);R.filter(g6b).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===a?"start":4===a?"end":"middle");R.each(function(){this.__axis=J})}var d=[],e=null,f=null,g=6,h=6,l=3,n=1===a||4===a?-1:1,r=4===a||2===a?"x":"y",v=1===a||3===a?c6b:d6b;c.scale=function(w){return arguments.length?(b=w,c):b};c.ticks=function(){return d=i6b.call(arguments),
c};c.tickArguments=function(w){return arguments.length?(d=null==w?[]:i6b.call(w),c):d.slice()};c.tickValues=function(w){return arguments.length?(e=null==w?null:i6b.call(w),c):e&&e.slice()};c.tickFormat=function(w){return arguments.length?(f=w,c):f};c.tickSize=function(w){return arguments.length?(g=h=+w,c):g};c.tickSizeInner=function(w){return arguments.length?(g=+w,c):g};c.tickSizeOuter=function(w){return arguments.length?(h=+w,c):h};c.tickPadding=function(w){return arguments.length?(l=+w,c):l};return c}
function dL(){for(var a=0,b=arguments.length,c={},d;a<b;++a){if(!(d=arguments[a]+"")||d in c)throw Error("ei`"+d);c[d]=[]}return new j6b(c)}function j6b(a){this._=a}function k6b(a,b){return a.trim().split(/^|\s+/).map(function(c){var d="",e=c.indexOf(".");0<=e&&(d=c.slice(e+1),c=c.slice(0,e));if(c&&!b.hasOwnProperty(c))throw Error("fi`"+c);return{type:c,name:d}})}function l6b(a,b,c){for(var d=0,e=a.length;d<e;++d)if(a[d].name===b){a[d]=m6b;a=a.slice(0,d).concat(a.slice(d+1));break}null!=c&&a.push({name:b,
value:c});return a}function n6b(a){var b=a,c=b.indexOf(":");0<=c&&"xmlns"!==(b=a.slice(0,c))&&(a=a.slice(c+1));return eL.hasOwnProperty(b)?{space:eL[b],local:a}:a}function o6b(a){return function(){var b=this.ownerDocument,c=this.namespaceURI;return"http://www.w3.org/1999/xhtml"===c&&"http://www.w3.org/1999/xhtml"===b.documentElement.namespaceURI?b.createElement(a):b.createElementNS(c,a)}}function p6b(a){return function(){return this.ownerDocument.createElementNS(a.space,a.local)}}function q6b(a){a=
n6b(a);return(a.local?p6b:o6b)(a)}function r6b(){}function s6b(a){return null==a?r6b:function(){return this.querySelector(a)}}function t6b(){return[]}function u6b(a){return null==a?t6b:function(){return this.querySelectorAll(a)}}function v6b(a){return Array(a.length)}function w6b(a,b){this.ownerDocument=a.ownerDocument;this.namespaceURI=a.namespaceURI;this._next=null;this._parent=a;this.__data__=b}function x6b(a){return function(){return a}}function y6b(a,b,c,d,e,f){for(var g=0,h,l=b.length,n=f.length;g<
n;++g)(h=b[g])?(h.__data__=f[g],d[g]=h):c[g]=new w6b(a,f[g]);for(;g<l;++g)if(h=b[g])e[g]=h}function z6b(a,b,c,d,e,f,g){var h,l,n={},r=b.length,v=f.length,w=Array(r),y;for(h=0;h<r;++h)if(l=b[h])w[h]=y="$"+g.call(l,l.__data__,h,b),y in n?e[h]=l:n[y]=l;for(h=0;h<v;++h)y="$"+g.call(a,f[h],h,f),(l=n[y])?(d[h]=l,l.__data__=f[h],n[y]=null):c[h]=new w6b(a,f[h]);for(h=0;h<r;++h)(l=b[h])&&n[w[h]]===l&&(e[h]=l)}function A6b(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}function B6b(a){return function(){this.removeAttribute(a)}}
function C6b(a){return function(){this.removeAttributeNS(a.space,a.local)}}function D6b(a,b){return function(){this.setAttribute(a,b)}}function E6b(a,b){return function(){this.setAttributeNS(a.space,a.local,b)}}function F6b(a,b){return function(){var c=b.apply(this,arguments);null==c?this.removeAttribute(a):this.setAttribute(a,c)}}function G6b(a,b){return function(){var c=b.apply(this,arguments);null==c?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,c)}}function H6b(a){return a.ownerDocument&&
a.ownerDocument.defaultView||a.document&&a||a.defaultView}function I6b(a){return function(){this.style.removeProperty(a)}}function J6b(a,b,c){return function(){this.style.setProperty(a,b,c)}}function K6b(a,b,c){return function(){var d=b.apply(this,arguments);null==d?this.style.removeProperty(a):this.style.setProperty(a,d,c)}}function fL(a,b){return a.style.getPropertyValue(b)||H6b(a).getComputedStyle(a,null).getPropertyValue(b)}function L6b(a){return function(){delete this[a]}}function M6b(a,b){return function(){this[a]=
b}}function N6b(a,b){return function(){var c=b.apply(this,arguments);null==c?delete this[a]:this[a]=c}}function O6b(a){return a.classList||new P6b(a)}function P6b(a){this._node=a;this._names=(a.getAttribute("class")||"").trim().split(/^|\s+/)}function Q6b(a,b){a=O6b(a);for(var c=-1,d=b.length;++c<d;)a.add(b[c])}function R6b(a,b){a=O6b(a);for(var c=-1,d=b.length;++c<d;)a.remove(b[c])}function S6b(a){return function(){Q6b(this,a)}}function T6b(a){return function(){R6b(this,a)}}function U6b(a,b){return function(){(b.apply(this,
arguments)?Q6b:R6b)(this,a)}}function V6b(){this.textContent=""}function W6b(a){return function(){this.textContent=a}}function X6b(a){return function(){var b=a.apply(this,arguments);this.textContent=null==b?"":b}}function Y6b(){this.innerHTML=""}function Z6b(a){return function(){this.innerHTML=a}}function $6b(a){return function(){var b=a.apply(this,arguments);this.innerHTML=null==b?"":b}}function a7b(){this.nextSibling&&this.parentNode.appendChild(this)}function b7b(){this.previousSibling&&this.parentNode.insertBefore(this,
this.parentNode.firstChild)}function c7b(){return null}function d7b(){var a=this.parentNode;a&&a.removeChild(this)}function e7b(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function f7b(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}function g7b(a,b,c){a=h7b(a,b,c);return function(d){var e=d.relatedTarget;e&&(e===this||e.compareDocumentPosition(this)&8)||a.call(this,d)}}function h7b(a,b,c){return function(d){var e=d3.event;d3.event=d;try{a.call(this,
this.__data__,b,c)}finally{d3.event=e}}}function i7b(a){return a.trim().split(/^|\s+/).map(function(b){var c="",d=b.indexOf(".");0<=d&&(c=b.slice(d+1),b=b.slice(0,d));return{type:b,name:c}})}function j7b(a){return function(){var b=this.__on;if(b){for(var c=0,d=-1,e=b.length,f;c<e;++c)(f=b[c],a.type&&f.type!==a.type||f.name!==a.name)?b[++d]=f:this.removeEventListener(f.type,f.listener,f.capture);++d?b.length=d:delete this.__on}}}function k7b(a,b,c){var d=l7b.hasOwnProperty(a.type)?g7b:h7b;return function(e,
f,g){e=this.__on;var h;f=d(b,f,g);if(e){g=0;for(var l=e.length;g<l;++g)if((h=e[g]).type===a.type&&h.name===a.name){this.removeEventListener(h.type,h.listener,h.capture);this.addEventListener(h.type,h.listener=f,h.capture=c);h.value=b;return}}this.addEventListener(a.type,f,c);h={type:a.type,name:a.name,value:b,listener:f,capture:c};e?e.push(h):this.__on=[h]}}function m7b(a,b,c,d){var e=d3.event;a.sourceEvent=d3.event;d3.event=a;try{return b.apply(c,d)}finally{d3.event=e}}function n7b(a,b,c){var d=
H6b(a),e=d.CustomEvent;"function"===typeof e?e=new e(b,c):(e=d.document.createEvent("Event"),c?(e.initEvent(b,c.bubbles,c.cancelable),e.detail=c.detail):e.initEvent(b,!1,!1));a.dispatchEvent(e)}function o7b(a,b){return function(){return n7b(this,a,b)}}function p7b(a,b){return function(){return n7b(this,a,b.apply(this,arguments))}}function gL(a,b){this._groups=a;this._parents=b}function hL(){return new gL([[document.documentElement]],q7b)}function iL(a){return"string"===typeof a?new gL([[document.querySelector(a)]],
[document.documentElement]):new gL([[a]],q7b)}function r7b(){return new s7b}function s7b(){this._="@"+(++t7b).toString(36)}function u7b(){for(var a=d3.event,b;b=a.sourceEvent;)a=b;return a}function v7b(a,b){var c=a.ownerSVGElement||a;if(c.createSVGPoint)return c=c.createSVGPoint(),c.x=b.clientX,c.y=b.clientY,c=c.matrixTransform(a.getScreenCTM().inverse()),[c.x,c.y];c=a.getBoundingClientRect();return[b.clientX-c.left-a.clientLeft,b.clientY-c.top-a.clientTop]}function jL(a){var b=u7b();b.changedTouches&&
(b=b.changedTouches[0]);return v7b(a,b)}function w7b(a,b,c){3>arguments.length&&(c=b,b=u7b().changedTouches);for(var d=0,e=b?b.length:0,f;d<e;++d)if((f=b[d]).identifier===c)return v7b(a,f);return null}function kL(){d3.event.preventDefault();d3.event.stopImmediatePropagation()}function x7b(a){var b=a.document.documentElement;a=iL(a).on("dragstart.drag",kL,!0);if("onselectstart"in b)a.on("selectstart.drag",kL,!0);else b.__noselect=b.style.MozUserSelect,b.style.MozUserSelect="none"}function y7b(a,b){var c=
a.document.documentElement,d=iL(a).on("dragstart.drag",null);b&&(d.on("click.drag",kL,!0),setTimeout(function(){d.on("click.drag",null)},0));if("onselectstart"in c)d.on("selectstart.drag",null);else c.style.MozUserSelect=c.__noselect,delete c.__noselect}function z7b(a){return function(){return a}}function A7b(a,b,c,d,e,f,g,h,l,n){this.target=a;this.type=b;this.subject=c;this.identifier=d;this.active=e;this.x=f;this.y=g;this.dx=h;this.dy=l;this._=n}function B7b(){return!d3.event.button}function C7b(){return this.parentNode}
function D7b(a){return null==a?{x:d3.event.x,y:d3.event.y}:a}function E7b(){return"ontouchstart"in this}function lL(a,b,c){a.prototype=b.prototype=c;c.constructor=a}function F7b(a,b){a=Object.create(a.prototype);for(var c in b)a[c]=b[c];return a}function mL(){}function nL(a){var b;a=(a+"").trim().toLowerCase();return(b=G7b.exec(a))?(b=parseInt(b[1],16),new oL(b>>8&15|b>>4&240,b>>4&15|b&240,(b&15)<<4|b&15,1)):(b=H7b.exec(a))?I7b(parseInt(b[1],16)):(b=J7b.exec(a))?new oL(b[1],b[2],b[3],1):(b=K7b.exec(a))?
new oL(255*b[1]/100,255*b[2]/100,255*b[3]/100,1):(b=L7b.exec(a))?M7b(b[1],b[2],b[3],b[4]):(b=N7b.exec(a))?M7b(255*b[1]/100,255*b[2]/100,255*b[3]/100,b[4]):(b=O7b.exec(a))?P7b(b[1],b[2]/100,b[3]/100,1):(b=Q7b.exec(a))?P7b(b[1],b[2]/100,b[3]/100,b[4]):R7b.hasOwnProperty(a)?I7b(R7b[a]):"transparent"===a?new oL(NaN,NaN,NaN,0):null}function I7b(a){return new oL(a>>16&255,a>>8&255,a&255,1)}function M7b(a,b,c,d){0>=d&&(a=b=c=NaN);return new oL(a,b,c,d)}function S7b(a){a instanceof mL||(a=nL(a));if(!a)return new oL;
a=a.rgb();return new oL(a.r,a.g,a.b,a.opacity)}function pL(a,b,c,d){return 1===arguments.length?S7b(a):new oL(a,b,c,null==d?1:d)}function oL(a,b,c,d){this.r=+a;this.g=+b;this.b=+c;this.opacity=+d}function T7b(a){a=Math.max(0,Math.min(255,Math.round(a)||0));return(16>a?"0":"")+a.toString(16)}function P7b(a,b,c,d){0>=d?a=b=c=NaN:0>=c||1<=c?a=b=NaN:0>=b&&(a=NaN);return new qL(a,b,c,d)}function U7b(a){if(a instanceof qL)return new qL(a.h,a.s,a.l,a.opacity);a instanceof mL||(a=nL(a));if(!a)return new qL;
if(a instanceof qL)return a;a=a.rgb();var b=a.r/255,c=a.g/255,d=a.b/255,e=Math.min(b,c,d),f=Math.max(b,c,d),g=NaN,h=f-e,l=(f+e)/2;h?(g=b===f?(c-d)/h+6*(c<d):c===f?(d-b)/h+2:(b-c)/h+4,h/=.5>l?f+e:2-f-e,g*=60):h=0<l&&1>l?0:g;return new qL(g,h,l,a.opacity)}function V7b(a,b,c,d){return 1===arguments.length?U7b(a):new qL(a,b,c,null==d?1:d)}function qL(a,b,c,d){this.h=+a;this.s=+b;this.l=+c;this.opacity=+d}function W7b(a,b,c){return 255*(60>a?b+(c-b)*a/60:180>a?c:240>a?b+(c-b)*(240-a)/60:b)}function X7b(a){if(a instanceof
rL)return new rL(a.l,a.a,a.b,a.opacity);if(a instanceof sL){if(isNaN(a.h))return new rL(a.l,0,0,a.opacity);var b=a.h*Y7b;return new rL(a.l,Math.cos(b)*a.c,Math.sin(b)*a.c,a.opacity)}a instanceof oL||(a=S7b(a));var c=Z7b(a.r),d=Z7b(a.g),e=Z7b(a.b);b=$7b(.2225045*c+.7168786*d+.0606169*e);if(c===d&&d===e)var f=c=b;else f=$7b((.4360747*c+.3850649*d+.1430804*e)/.96422),c=$7b((.0139322*c+.0971045*d+.7141733*e)/.82521);return new rL(116*b-16,500*(f-b),200*(b-c),a.opacity)}function a8b(a,b,c,d){return 1===
arguments.length?X7b(a):new rL(a,b,c,null==d?1:d)}function rL(a,b,c,d){this.l=+a;this.a=+b;this.b=+c;this.opacity=+d}function $7b(a){return a>b8b?Math.pow(a,1/3):a/c8b+d8b}function e8b(a){return a>tL?a*a*a:c8b*(a-d8b)}function f8b(a){return 255*(.0031308>=a?12.92*a:1.055*Math.pow(a,1/2.4)-.055)}function Z7b(a){return.04045>=(a/=255)?a/12.92:Math.pow((a+.055)/1.055,2.4)}function g8b(a){if(a instanceof sL)return new sL(a.h,a.c,a.l,a.opacity);a instanceof rL||(a=X7b(a));if(0===a.a&&0===a.b)return new sL(NaN,
0,a.l,a.opacity);var b=Math.atan2(a.b,a.a)*h8b;return new sL(0>b?b+360:b,Math.sqrt(a.a*a.a+a.b*a.b),a.l,a.opacity)}function i8b(a,b,c,d){return 1===arguments.length?g8b(a):new sL(a,b,c,null==d?1:d)}function sL(a,b,c,d){this.h=+a;this.c=+b;this.l=+c;this.opacity=+d}function uL(a,b,c,d){if(1===arguments.length){var e=a;if(e instanceof vL)e=new vL(e.h,e.s,e.l,e.opacity);else{e instanceof oL||(e=S7b(e));var f=e.g/255,g=e.b/255,h=(j8b*g+e.r/255*-1.7884503806-3.5172982438*f)/(j8b+-1.7884503806-3.5172982438);
g-=h;var l=(1.97294*(f-h)- -.29227*g)/-.90649;g=(f=Math.sqrt(l*l+g*g)/(1.97294*h*(1-h)))?Math.atan2(l,g)*h8b-120:NaN;e=new vL(0>g?g+360:g,f,h,e.opacity)}}else e=new vL(a,b,c,null==d?1:d);return e}function vL(a,b,c,d){this.h=+a;this.s=+b;this.l=+c;this.opacity=+d}function k8b(a,b,c,d,e){var f=a*a,g=f*a;return((1-3*a+3*f-g)*b+(4-6*f+3*g)*c+(1+3*a+3*f-3*g)*d+g*e)/6}function l8b(a){var b=a.length-1;return function(c){var d=0>=c?c=0:1<=c?(c=1,b-1):Math.floor(c*b),e=a[d],f=a[d+1];return k8b((c-d/b)*b,0<
d?a[d-1]:2*e-f,e,f,d<b-1?a[d+2]:2*f-e)}}function m8b(a){var b=a.length;return function(c){var d=Math.floor((0>(c%=1)?++c:c)*b);return k8b((c-d/b)*b,a[(d+b-1)%b],a[d%b],a[(d+1)%b],a[(d+2)%b])}}function n8b(a){return function(){return a}}function o8b(a,b){return function(c){return a+c*b}}function p8b(a,b,c){return a=Math.pow(a,c),b=Math.pow(b,c)-a,c=1/c,function(d){return Math.pow(a+d*b,c)}}function q8b(a,b){var c=b-a;return c?o8b(a,180<c||-180>c?c-360*Math.round(c/360):c):n8b(isNaN(a)?b:a)}function r8b(a){return 1===
(a=+a)?wL:function(b,c){return c-b?p8b(b,c,a):n8b(isNaN(b)?c:b)}}function wL(a,b){var c=b-a;return c?o8b(a,c):n8b(isNaN(a)?b:a)}function s8b(a){return function(b){var c=b.length,d=Array(c),e=Array(c),f=Array(c),g;for(g=0;g<c;++g){var h=pL(b[g]);d[g]=h.r||0;e[g]=h.g||0;f[g]=h.b||0}d=a(d);e=a(e);f=a(f);h.opacity=1;return function(l){h.r=d(l);h.g=e(l);h.b=f(l);return h+""}}}function t8b(a,b){var c=b?b.length:0,d=a?Math.min(c,a.length):0,e=Array(d),f=Array(c),g;for(g=0;g<d;++g)e[g]=u8b(a[g],b[g]);for(;g<
c;++g)f[g]=b[g];return function(h){for(g=0;g<d;++g)f[g]=e[g](h);return f}}function v8b(a,b){var c=new Date;return a=+a,b-=a,function(d){return c.setTime(a+b*d),c}}function xL(a,b){return a=+a,b-=a,function(c){return a+b*c}}function w8b(a,b){var c={},d={},e;if(null===a||"object"!==typeof a)a={};if(null===b||"object"!==typeof b)b={};for(e in b)e in a?c[e]=u8b(a[e],b[e]):d[e]=b[e];return function(f){for(e in c)d[e]=c[e](f);return d}}function x8b(a){return function(){return a}}function y8b(a){return function(b){return a(b)+
""}}function z8b(a,b){var c=A8b.lastIndex=B8b.lastIndex=0,d,e,f,g=-1,h=[],l=[];a+="";for(b+="";(d=A8b.exec(a))&&(e=B8b.exec(b));)(f=e.index)>c&&(f=b.slice(c,f),h[g]?h[g]+=f:h[++g]=f),(d=d[0])===(e=e[0])?h[g]?h[g]+=e:h[++g]=e:(h[++g]=null,l.push({i:g,x:xL(d,e)})),c=B8b.lastIndex;c<b.length&&(f=b.slice(c),h[g]?h[g]+=f:h[++g]=f);return 2>h.length?l[0]?y8b(l[0].x):x8b(b):(b=l.length,function(n){for(var r=0,v;r<b;++r)h[(v=l[r]).i]=v.x(n);return h.join("")})}function u8b(a,b){var c=typeof b,d;return null==
b||"boolean"===c?n8b(b):("number"===c?xL:"string"===c?(d=nL(b))?(b=d,C8b):z8b:b instanceof nL?C8b:b instanceof Date?v8b:Array.isArray(b)?t8b:"function"!==typeof b.valueOf&&"function"!==typeof b.toString||isNaN(b)?w8b:xL)(a,b)}function D8b(a,b){return a=+a,b-=a,function(c){return Math.round(a+b*c)}}function E8b(a,b,c,d,e,f){var g,h,l;if(g=Math.sqrt(a*a+b*b))a/=g,b/=g;if(l=a*c+b*d)c-=a*l,d-=b*l;if(h=Math.sqrt(c*c+d*d))c/=h,d/=h,l/=h;a*d<b*c&&(a=-a,b=-b,l=-l,g=-g);return{translateX:e,translateY:f,rotate:Math.atan2(b,
a)*F8b,skewX:Math.atan(l)*F8b,scaleX:g,scaleY:h}}function G8b(a,b,c,d){function e(n){return n.length?n.pop()+" ":""}function f(n,r,v,w,y,B){n!==v||r!==w?(y=y.push("translate(",null,b,null,c),B.push({i:y-4,x:xL(n,v)},{i:y-2,x:xL(r,w)})):(v||w)&&y.push("translate("+v+b+w+c)}function g(n,r,v,w){n!==r?(180<n-r?r+=360:180<r-n&&(n+=360),w.push({i:v.push(e(v)+"rotate(",null,d)-2,x:xL(n,r)})):r&&v.push(e(v)+"rotate("+r+d)}function h(n,r,v,w){n!==r?w.push({i:v.push(e(v)+"skewX(",null,d)-2,x:xL(n,r)}):r&&v.push(e(v)+
"skewX("+r+d)}function l(n,r,v,w,y,B){n!==v||r!==w?(y=y.push(e(y)+"scale(",null,",",null,")"),B.push({i:y-4,x:xL(n,v)},{i:y-2,x:xL(r,w)})):1===v&&1===w||y.push(e(y)+"scale("+v+","+w+")")}return function(n,r){var v=[],w=[];n=a(n);r=a(r);f(n.translateX,n.translateY,r.translateX,r.translateY,v,w);g(n.rotate,r.rotate,v,w);h(n.skewX,r.skewX,v,w);l(n.scaleX,n.scaleY,r.scaleX,r.scaleY,v,w);n=r=null;return function(y){for(var B=-1,G=w.length,O;++B<G;)v[(O=w[B]).i]=O.x(y);return v.join("")}}}function H8b(a){return((a=
Math.exp(a))+1/a)/2}function I8b(a,b){var c=a[0],d=a[1],e=a[2];a=b[2];var f=b[0]-c,g=b[1]-d,h=f*f+g*g;if(1E-12>h){var l=Math.log(a/e)/J8b;a=function(v){return[c+v*f,d+v*g,e*Math.exp(J8b*v*l)]}}else{var n=Math.sqrt(h);b=(a*a-e*e+4*h)/(4*e*n);a=(a*a-e*e-4*h)/(4*a*n);var r=Math.log(Math.sqrt(b*b+1)-b);l=(Math.log(Math.sqrt(a*a+1)-a)-r)/J8b;a=function(v){v*=l;var w=H8b(r),y=J8b*v+r;var B=((y=Math.exp(2*y))-1)/(y+1);var G=r;y=((G=Math.exp(G))-1/G)/2;B=e/(2*n)*(w*B-y);return[c+B*f,d+B*g,e*w/H8b(J8b*v+r)]}}a.duration=
1E3*l;return a}function K8b(a){return function(b,c){var d=a((b=V7b(b)).h,(c=V7b(c)).h),e=wL(b.s,c.s),f=wL(b.l,c.l),g=wL(b.opacity,c.opacity);return function(h){b.h=d(h);b.s=e(h);b.l=f(h);b.opacity=g(h);return b+""}}}function L8b(a){return function(b,c){var d=a((b=i8b(b)).h,(c=i8b(c)).h),e=wL(b.c,c.c),f=wL(b.l,c.l),g=wL(b.opacity,c.opacity);return function(h){b.h=d(h);b.c=e(h);b.l=f(h);b.opacity=g(h);return b+""}}}function M8b(a){return function d(c){function e(f,g){var h=a((f=uL(f)).h,(g=uL(g)).h),
l=wL(f.s,g.s),n=wL(f.l,g.l),r=wL(f.opacity,g.opacity);return function(v){f.h=h(v);f.s=l(v);f.l=n(Math.pow(v,c));f.opacity=r(v);return f+""}}c=+c;e.gamma=d;return e}(1)}function yL(){return zL||(N8b(O8b),zL=P8b.now()+Q8b)}function O8b(){zL=0}function R8b(){this._call=this._time=this._next=null}function S8b(a,b,c){var d=new R8b;d.restart(a,b,c);return d}function T8b(){yL();++AL;for(var a=U8b,b;a;)0<=(b=zL-a._time)&&a._call.call(null,b),a=a._next;--AL}function V8b(){zL=(W8b=P8b.now())+Q8b;AL=X8b=0;try{T8b()}finally{AL=
0;for(var a,b=U8b,c,d=Infinity;b;)b._call?(d>b._time&&(d=b._time),a=b,b=b._next):(c=b._next,b._next=null,b=a?a._next=c:U8b=c);Y8b=a;Z8b(d);zL=0}}function $8b(){var a=P8b.now(),b=a-W8b;1E3<b&&(Q8b-=b,W8b=a)}function Z8b(a){AL||(X8b&&(X8b=clearTimeout(X8b)),24<a-zL?(Infinity>a&&(X8b=setTimeout(V8b,a-P8b.now()-Q8b)),a9b&&(a9b=clearInterval(a9b))):(a9b||(W8b=P8b.now(),a9b=setInterval($8b,1E3)),AL=1,N8b(V8b)))}function b9b(a,b,c){var d=new R8b;b=null==b?0:+b;d.restart(function(e){d.stop();a(e+b)},b,c);
return d}function c9b(a,b,c,d,e,f){var g=a.__transition;if(!g)a.__transition={};else if(c in g)return;d9b(a,c,{name:b,index:d,group:e,on:e9b,tween:f9b,time:f.time,delay:f.delay,duration:f.duration,ease:f.ease,timer:null,state:0})}function g9b(a,b){a=BL(a,b);if(0<a.state)throw Error("gi");return a}function CL(a,b){a=BL(a,b);if(2<a.state)throw Error("hi");return a}function BL(a,b){a=a.__transition;if(!a||!(a=a[b]))throw Error("ii");return a}function d9b(a,b,c){function d(l){var n,r;if(1!==c.state)return f();
for(w in g){var v=g[w];if(v.name===c.name){if(3===v.state)return b9b(d);4===v.state?(v.state=6,v.timer.stop(),v.on.call("interrupt",a,a.__data__,v.index,v.group),delete g[w]):+w<b&&(v.state=6,v.timer.stop(),delete g[w])}}b9b(function(){3===c.state&&(c.state=4,c.timer.restart(e,c.delay,c.time),e(l))});c.state=2;c.on.call("start",a,a.__data__,c.index,c.group);if(2===c.state){c.state=3;h=Array(r=c.tween.length);var w=0;for(n=-1;w<r;++w)if(v=c.tween[w].value.call(a,a.__data__,c.index,c.group))h[++n]=
v;h.length=n+1}}function e(l){l=l<c.duration?c.ease.call(null,l/c.duration):(c.timer.restart(f),c.state=5,1);for(var n=-1,r=h.length;++n<r;)h[n].call(null,l);5===c.state&&(c.on.call("end",a,a.__data__,c.index,c.group),f())}function f(){c.state=6;c.timer.stop();delete g[b];for(var l in g)return;delete a.__transition}var g=a.__transition,h;g[b]=c;c.timer=S8b(function(l){c.state=1;c.timer.restart(d,c.delay,c.time);c.delay<=l&&d(l-c.delay)},0,c.time)}function DL(a,b){var c=a.__transition,d,e=!0,f;if(c){b=
null==b?null:b+"";for(f in c)if((d=c[f]).name!==b)e=!1;else{var g=2<d.state&&5>d.state;d.state=6;d.timer.stop();g&&d.on.call("interrupt",a,a.__data__,d.index,d.group);delete c[f]}e&&delete a.__transition}}function h9b(a,b){var c,d;return function(){var e=CL(this,a),f=e.tween;if(f!==c){d=c=f;f=0;for(var g=d.length;f<g;++f)if(d[f].name===b){d=d.slice();d.splice(f,1);break}}e.tween=d}}function i9b(a,b,c){var d,e;if("function"!==typeof c)throw Error();return function(){var f=CL(this,a),g=f.tween;if(g!==
d){e=(d=g).slice();g={name:b,value:c};for(var h=0,l=e.length;h<l;++h)if(e[h].name===b){e[h]=g;break}h===l&&e.push(g)}f.tween=e}}function j9b(a,b,c){var d=a._id;a.each(function(){var e=CL(this,d);(e.value||(e.value={}))[b]=c.apply(this,arguments)});return function(e){return BL(e,d).value[b]}}function k9b(a,b){var c;return("number"===typeof b?xL:b instanceof nL?C8b:(c=nL(b))?(b=c,C8b):z8b)(a,b)}function l9b(a){return function(){this.removeAttribute(a)}}function m9b(a){return function(){this.removeAttributeNS(a.space,
a.local)}}function n9b(a,b,c){var d,e;return function(){var f=this.getAttribute(a);return f===c?null:f===d?e:e=b(d=f,c)}}function o9b(a,b,c){var d,e;return function(){var f=this.getAttributeNS(a.space,a.local);return f===c?null:f===d?e:e=b(d=f,c)}}function p9b(a,b,c){var d,e,f;return function(){var g=c(this);if(null==g)return void this.removeAttribute(a);var h=this.getAttribute(a);return h===g?null:h===d&&g===e?f:f=b(d=h,e=g)}}function q9b(a,b,c){var d,e,f;return function(){var g=c(this);if(null==
g)return void this.removeAttributeNS(a.space,a.local);var h=this.getAttributeNS(a.space,a.local);return h===g?null:h===d&&g===e?f:f=b(d=h,e=g)}}function r9b(a,b){function c(){var d=this,e=b.apply(d,arguments);return e&&function(f){d.setAttributeNS(a.space,a.local,e(f))}}c._value=b;return c}function s9b(a,b){function c(){var d=this,e=b.apply(d,arguments);return e&&function(f){d.setAttribute(a,e(f))}}c._value=b;return c}function t9b(a,b){return function(){g9b(this,a).delay=+b.apply(this,arguments)}}
function u9b(a,b){return b=+b,function(){g9b(this,a).delay=b}}function v9b(a,b){return function(){CL(this,a).duration=+b.apply(this,arguments)}}function w9b(a,b){return b=+b,function(){CL(this,a).duration=b}}function x9b(a,b){if("function"!==typeof b)throw Error();return function(){CL(this,a).ease=b}}function y9b(a){return(a+"").trim().split(/^|\s+/).every(function(b){var c=b.indexOf(".");0<=c&&(b=b.slice(0,c));return!b||"start"===b})}function z9b(a,b,c){var d,e,f=y9b(b)?g9b:CL;return function(){var g=
f(this,a),h=g.on;if(h!==d)(e=(d=h).copy()).on(b,c);g.on=e}}function A9b(a){return function(){var b=this.parentNode,c;for(c in this.__transition)if(+c!==a)return;b&&b.removeChild(this)}}function B9b(a,b){var c,d,e;return function(){var f=fL(this,a),g=(this.style.removeProperty(a),fL(this,a));return f===g?null:f===c&&g===d?e:e=b(c=f,d=g)}}function C9b(a){return function(){this.style.removeProperty(a)}}function D9b(a,b,c){var d,e;return function(){var f=fL(this,a);return f===c?null:f===d?e:e=b(d=f,c)}}
function E9b(a,b,c){var d,e,f;return function(){var g=fL(this,a),h=c(this);null==h&&(h=(this.style.removeProperty(a),fL(this,a)));return g===h?null:g===d&&h===e?f:f=b(d=g,e=h)}}function F9b(a,b,c){function d(){var e=this,f=b.apply(e,arguments);return f&&function(g){e.style.setProperty(a,f(g),c)}}d._value=b;return d}function G9b(a){return function(){this.textContent=a}}function H9b(a){return function(){var b=a(this);this.textContent=null==b?"":b}}function EL(a,b,c,d){this._groups=a;this._parents=b;
this._name=c;this._id=d}function I9b(a){return hL().transition(a)}function J9b(a){return(1>=(a*=2)?a*a:--a*(2-a)+1)/2}function K9b(a){return(1>=(a*=2)?a*a*a:(a-=2)*a*a+2)/2}function L9b(a){return(1-Math.cos(M9b*a))/2}function N9b(a){return(1>=(a*=2)?Math.pow(2,10*a-10):2-Math.pow(2,10-10*a))/2}function O9b(a){return(1>=(a*=2)?1-Math.sqrt(1-a*a):Math.sqrt(1-(a-=2)*a)+1)/2}function P9b(a){return(a=+a)<Q9b?R9b*a*a:a<S9b?R9b*(a-=T9b)*a+.75:a<U9b?R9b*(a-=V9b)*a+.9375:R9b*(a-=W9b)*a+.984375}function X9b(a){return function(){return a}}
function Y9b(a,b,c){this.target=a;this.type=b;this.selection=c}function Z9b(){d3.event.preventDefault();d3.event.stopImmediatePropagation()}function $9b(a){return{type:a}}function a$b(){return!d3.event.button}function b$b(){var a=this.ownerSVGElement||this;return[[0,0],[a.width.baseVal.value,a.height.baseVal.value]]}function c$b(a){for(;!a.__brush;)if(!(a=a.parentNode))return;return a.__brush}function d$b(a){return a[0][0]===a[1][0]||a[0][1]===a[1][1]}function e$b(a){function b(w){var y=w.property("__brush",
g).selectAll(".overlay").data([$9b("overlay")]);y.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",FL.overlay).merge(y).each(function(){var B=c$b(this).extent;iL(this).attr("x",B[0][0]).attr("y",B[0][1]).attr("width",B[1][0]-B[0][0]).attr("height",B[1][1]-B[0][1])});w.selectAll(".selection").data([$9b("selection")]).enter().append("rect").attr("class","selection").attr("cursor",FL.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering",
"crispEdges");y=w.selectAll(".handle").data(a.handles,function(B){return B.type});y.exit().remove();y.enter().append("rect").attr("class",function(B){return"handle handle--"+B.type}).attr("cursor",function(B){return FL[B.type]});w.each(c).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",f)}function c(){var w=iL(this),y=c$b(this).selection;y?(w.selectAll(".selection").style("display",null).attr("x",y[0][0]).attr("y",
y[0][1]).attr("width",y[1][0]-y[0][0]).attr("height",y[1][1]-y[0][1]),w.selectAll(".handle").style("display",null).attr("x",function(B){return"e"===B.type[B.type.length-1]?y[1][0]-r/2:y[0][0]-r/2}).attr("y",function(B){return"s"===B.type[0]?y[1][1]-r/2:y[0][1]-r/2}).attr("width",function(B){return"n"===B.type||"s"===B.type?y[1][0]-y[0][0]+r:r}).attr("height",function(B){return"e"===B.type||"w"===B.type?y[1][1]-y[0][1]+r:r})):w.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",
null).attr("width",null).attr("height",null)}function d(w,y){return w.__brush.emitter||new e(w,y)}function e(w,y){this.that=w;this.args=y;this.state=w.__brush;this.active=0}function f(){function w(){var Td=jL(T);!Ya||Ca||Ta||(Math.abs(Td[0]-va[0])>Math.abs(Td[1]-va[1])?Ta=!0:Ca=!0);va=Td;Qa=!0;Z9b();y()}function y(){na=va[0]-Pa[0];ya=va[1]-Pa[1];switch(R){case f$b:case g$b:ra&&(na=Math.max(H-Y,Math.min(Z-ua,na)),gb=Y+na,gc=ua+na);Ba&&(ya=Math.max(X-W,Math.min(ma-ea,ya)),Jb=W+ya,Zb=ea+ya);break;case GL:0>
ra?(na=Math.max(H-Y,Math.min(Z-Y,na)),gb=Y+na,gc=ua):0<ra&&(na=Math.max(H-ua,Math.min(Z-ua,na)),gb=Y,gc=ua+na);0>Ba?(ya=Math.max(X-W,Math.min(ma-W,ya)),Jb=W+ya,Zb=ea):0<Ba&&(ya=Math.max(X-ea,Math.min(ma-ea,ya)),Jb=W,Zb=ea+ya);break;case HL:ra&&(gb=Math.max(H,Math.min(Z,Y-na*ra)),gc=Math.max(H,Math.min(Z,ua+na*ra))),Ba&&(Jb=Math.max(X,Math.min(ma,W-ya*Ba)),Zb=Math.max(X,Math.min(ma,ea+ya*Ba)))}if(gc<gb){ra*=-1;var Td=Y;Y=ua;ua=Td;Td=gb;gb=gc;gc=Td;J in h$b&&Kc.attr("cursor",FL[J=h$b[J]])}Zb<Jb&&(Ba*=
-1,Td=W,W=ea,ea=Td,Td=Jb,Jb=Zb,Zb=Td,J in i$b&&Kc.attr("cursor",FL[J=i$b[J]]));Ka.selection&&(cb=Ka.selection);Ca&&(gb=cb[0][0],gc=cb[1][0]);Ta&&(Jb=cb[0][1],Zb=cb[1][1]);if(cb[0][0]!==gb||cb[0][1]!==Jb||cb[1][0]!==gc||cb[1][1]!==Zb)Ka.selection=[[gb,Jb],[gc,Zb]],c.call(T),ub.brush()}function B(){d3.event.stopImmediatePropagation();if(d3.event.touches){if(d3.event.touches.length)return;v&&clearTimeout(v);v=setTimeout(function(){v=null},500);hd.on("touchmove.brush touchend.brush touchcancel.brush",
null)}else y7b(d3.event.view,Qa),Nd.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);hd.attr("pointer-events","all");Kc.attr("cursor",FL.overlay);Ka.selection&&(cb=Ka.selection);d$b(cb)&&(Ka.selection=null,c.call(T));ub.end()}function G(){switch(d3.event.keyCode){case 16:Ya=ra&&Ba;break;case 18:R===GL&&(ra&&(ua=gc-na*ra,Y=gb+na*ra),Ba&&(ea=Zb-ya*Ba,W=Jb+ya*Ba),R=HL,y());break;case 32:if(R===GL||R===HL)0>ra?ua=gc-na:0<ra&&(Y=gb-na),0>Ba?ea=Zb-ya:0<Ba&&(W=Jb-ya),R=f$b,Kc.attr("cursor",
FL.selection),y();break;default:return}Z9b()}function O(){switch(d3.event.keyCode){case 16:Ya&&(Ca=Ta=Ya=!1,y());break;case 18:R===HL&&(0>ra?ua=gc:0<ra&&(Y=gb),0>Ba?ea=Zb:0<Ba&&(W=Jb),R=GL,y());break;case 32:R===f$b&&(d3.event.altKey?(ra&&(ua=gc-na*ra,Y=gb+na*ra),Ba&&(ea=Zb-ya*Ba,W=Jb+ya*Ba),R=HL):(0>ra?ua=gc:0<ra&&(Y=gb),0>Ba?ea=Zb:0<Ba&&(W=Jb),R=GL),Kc.attr("cursor",FL[J]),y());break;default:return}Z9b()}if(d3.event.touches){if(d3.event.changedTouches.length<d3.event.touches.length)return Z9b()}else if(v)return;
if(l.apply(this,arguments)){var T=this,J=d3.event.target.__data__.type,R="selection"===(d3.event.metaKey?J="overlay":J)?g$b:d3.event.altKey?HL:GL,ra=a===j$b?null:k$b[J],Ba=a===l$b?null:m$b[J],Ka=c$b(T),Va=Ka.extent,cb=Ka.selection,H=Va[0][0],Y,X=Va[0][1],W,Z=Va[1][0],ua,ma=Va[1][1],ea,na,ya,Qa,Ya=ra&&Ba&&d3.event.shiftKey,Ca,Ta,Pa=jL(T),va=Pa,ub=d(T,arguments).beforestart();"overlay"===J?Ka.selection=cb=[[Y=a===j$b?H:Pa[0],W=a===l$b?X:Pa[1]],[ua=a===j$b?Z:Y,ea=a===l$b?ma:W]]:(Y=cb[0][0],W=cb[0][1],
ua=cb[1][0],ea=cb[1][1]);var gb=Y;var Jb=W;var gc=ua;var Zb=ea;var hd=iL(T).attr("pointer-events","none"),Kc=hd.selectAll(".overlay").attr("cursor",FL[J]);if(d3.event.touches)hd.on("touchmove.brush",w,!0).on("touchend.brush touchcancel.brush",B,!0);else{var Nd=iL(d3.event.view).on("keydown.brush",G,!0).on("keyup.brush",O,!0).on("mousemove.brush",w,!0).on("mouseup.brush",B,!0);x7b(d3.event.view)}d3.event.stopImmediatePropagation();DL(T);c.call(T);ub.start()}}function g(){var w=this.__brush||{selection:null};
w.extent=h.apply(this,arguments);w.dim=a;return w}var h=b$b,l=a$b,n=dL(b,"start","brush","end"),r=6,v;b.move=function(w,y){w.selection?w.on("start.brush",function(){d(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){d(this,arguments).end()}).tween("brush",function(){function B(Ba){O.selection=1===Ba&&d$b(R)?null:ra(Ba);c.call(G);T.brush()}var G=this,O=G.__brush,T=d(G,arguments),J=O.selection,R=a.input("function"===typeof y?y.apply(this,arguments):y,O.extent),ra=u8b(J,
R);return J&&R?B:B(1)}):w.each(function(){var B=arguments,G=this.__brush,O=a.input("function"===typeof y?y.apply(this,B):y,G.extent);B=d(this,B).beforestart();DL(this);G.selection=null==O||d$b(O)?null:O;c.call(this);B.start().brush().end()})};e.prototype={beforestart:function(){1===++this.active&&(this.state.emitter=this,this.starting=!0);return this},start:function(){this.starting&&(this.starting=!1,this.emit("start"));return this},brush:function(){this.emit("brush");return this},end:function(){0===
--this.active&&(delete this.state.emitter,this.emit("end"));return this},emit:function(w){m7b(new Y9b(b,w,a.output(this.state.selection)),n.apply,n,[w,this.that,this.args])}};b.extent=function(w){return arguments.length?(h="function"===typeof w?w:X9b([[+w[0][0],+w[0][1]],[+w[1][0],+w[1][1]]]),b):h};b.filter=function(w){return arguments.length?(l="function"===typeof w?w:X9b(!!w),b):l};b.handleSize=function(w){return arguments.length?(r=+w,b):r};b.on=function(){var w=n.on.apply(n,arguments);return w===
n?b:w};return b}function n$b(a){return function(b,c){return a(b.source.value+b.target.value,c.source.value+c.target.value)}}function o$b(a){return function(){return a}}function p$b(){this._x0=this._y0=this._x1=this._y1=null;this._=""}function IL(){return new p$b}function q$b(a){return a.source}function r$b(a){return a.target}function s$b(a){return a.radius}function t$b(a){return a.startAngle}function u$b(a){return a.endAngle}function v$b(){}function JL(a,b){var c=new v$b;if(a instanceof v$b)a.each(function(g,
h){c.set(h,g)});else if(Array.isArray(a)){var d=-1,e=a.length,f;if(null==b)for(;++d<e;)c.set(d,a[d]);else for(;++d<e;)c.set(b(f=a[d],d,a),f)}else if(a)for(d in a)c.set(d,a[d]);return c}function w$b(){return{}}function x$b(a,b,c){a[b]=c}function y$b(){return JL()}function z$b(a,b,c){a.set(b,c)}function A$b(){}function B$b(a,b){var c=new A$b;if(a instanceof A$b)a.each(function(f){c.add(f)});else if(a){var d=-1,e=a.length;if(null==b)for(;++d<e;)c.add(a[d]);else for(;++d<e;)c.add(b(a[d],d,a))}return c}
function C$b(a,b){return a-b}function KL(a){return function(){return a}}function D$b(){}function E$b(){function a(l){var n=g(l);if(Array.isArray(n))n=n.slice().sort(C$b);else{var r=N5b(l),v=r[0];r=r[1];n=cL(v,r,n);n=bL(Math.floor(v/n)*n,Math.floor(r/n)*n,n)}return n.map(function(w){return b(l,w)})}function b(l,n){var r=[],v=[];c(l,n,function(w){h(w,l,n);for(var y=0,B=w.length,G=w[B-1][1]*w[0][0]-w[B-1][0]*w[0][1];++y<B;)G+=w[y-1][1]*w[y][0]-w[y-1][0]*w[y][1];0<G?r.push([w]):v.push(w)});v.forEach(function(w){for(var y=
0,B=r.length,G;y<B;++y){a:{var O=(G=r[y])[0];for(var T=w,J=-1,R=T.length;++J<R;){b:{var ra=O;for(var Ba=T[J],Ka=Ba[0],Va=Ba[1],cb=-1,H=0,Y=ra.length,X=Y-1;H<Y;X=H++){var W=ra[H],Z=W[0],ua=W[1],ma=ra[X];X=ma[0];var ea=ma[1],na,ya=W;W=ma;ma=Ba;if(na=(W[0]-ya[0])*(ma[1]-ya[1])===(ma[0]-ya[0])*(W[1]-ya[1]))ya=ya[na=+(ya[0]===W[0])],ma=ma[na],W=W[na],na=ya<=ma&&ma<=W||W<=ma&&ma<=ya;if(na){ra=0;break b}ua>Va!==ea>Va&&Ka<(X-Z)*(Va-ua)/(ea-ua)+Z&&(cb=-cb)}ra=cb}if(ra){O=ra;break a}}O=0}if(-1!==O){G.push(w);
break}}});return{type:"MultiPolygon",value:n,coordinates:r}}function c(l,n,r){function v(ra){var Ba=[ra[0][0]+G,ra[0][1]+B];ra=[ra[1][0]+G,ra[1][1]+B];var Ka=2*Ba[0]+Ba[1]*(e+1)*4,Va=2*ra[0]+ra[1]*(e+1)*4,cb,H;(cb=y[Ka])?(H=w[Va])?(delete y[cb.end],delete w[H.start],cb===H?(cb.ring.push(ra),r(cb.ring)):w[cb.start]=y[H.end]={start:cb.start,end:H.end,ring:cb.ring.concat(H.ring)}):(delete y[cb.end],cb.ring.push(ra),y[cb.end=Va]=cb):(cb=w[Va])?(H=y[Ka])?(delete w[cb.start],delete y[H.end],cb===H?(cb.ring.push(ra),
r(cb.ring)):w[H.start]=y[cb.end]={start:H.start,end:cb.end,ring:H.ring.concat(cb.ring)}):(delete w[cb.start],cb.ring.unshift(Ba),w[cb.start=Ka]=cb):w[Ka]=y[Va]={start:Ka,end:Va,ring:[Ba,ra]}}var w=[],y=[],B;var G=B=-1;var O=l[0]>=n;for(LL[O<<1].forEach(v);++G<e-1;){var T=O;O=l[G+1]>=n;LL[T|O<<1].forEach(v)}for(LL[O<<0].forEach(v);++B<f-1;){G=-1;O=l[B*e+e]>=n;var J=l[B*e]>=n;for(LL[O<<1|J<<2].forEach(v);++G<e-1;){T=O;O=l[B*e+e+G+1]>=n;var R=J;J=l[B*e+G+1]>=n;LL[T|O<<1|J<<2|R<<3].forEach(v)}LL[O|J<<
3].forEach(v)}G=-1;J=l[B*e]>=n;for(LL[J<<2].forEach(v);++G<e-1;)R=J,J=l[B*e+G+1]>=n,LL[J<<2|R<<3].forEach(v);LL[J<<3].forEach(v)}function d(l,n,r){l.forEach(function(v){var w=v[0],y=v[1],B=w|0,G=y|0,O=n[G*e+B];if(0<w&&w<e&&B===w){var T=n[G*e+B-1];v[0]=w+(r-T)/(O-T)-.5}0<y&&y<f&&G===y&&(T=n[(G-1)*e+B],v[1]=y+(r-T)/(O-T)-.5)})}var e=1,f=1,g=V5b,h=d;a.contour=b;a.size=function(l){if(!arguments.length)return[e,f];var n=Math.ceil(l[0]),r=Math.ceil(l[1]);if(!(0<n&&0<r))throw Error("ji");return e=n,f=r,
a};a.thresholds=function(l){return arguments.length?(g="function"===typeof l?l:Array.isArray(l)?KL(F$b.call(l)):KL(l),a):g};a.smooth=function(l){return arguments.length?(h=l?d:D$b,a):h===d};return a}function G$b(a,b,c){for(var d=a.width,e=a.height,f=(c<<1)+1,g=0;g<e;++g)for(var h=0,l=0;h<d+c;++h)h<d&&(l+=a.data[h+g*d]),h>=c&&(h>=f&&(l-=a.data[h-f+g*d]),b.data[h-c+g*d]=l/Math.min(h+1,d-1+f-h,f))}function H$b(a,b,c){for(var d=a.width,e=a.height,f=(c<<1)+1,g=0;g<d;++g)for(var h=0,l=0;h<e+c;++h)h<e&&
(l+=a.data[g+h*d]),h>=c&&(h>=f&&(l-=a.data[g+(h-f)*d]),b.data[g+(h-c)*d]=l/Math.min(h+1,e-1+f-h,f))}function I$b(a){return a[0]}function J$b(a){return a[1]}function K$b(){return 1}function L$b(a){return function(b){for(var c={},d=0;d<a.length;d++)c[a[d]]=b[d]||"";return c}}function M$b(a,b){var c=L$b(a);return function(d,e){return b(c(d),e,a)}}function N$b(a){var b=Object.create(null),c=[];a.forEach(function(d){for(var e in d)e in b||c.push(b[e]=e)});return c}function O$b(a){function b(g,h){function l(){if(B)return P$b;
if(G)return G=!1,Q$b;var T,J=v,R;if(34===g.charCodeAt(J)){for(;v++<r&&34!==g.charCodeAt(v)||34===g.charCodeAt(++v););(T=v)>=r?B=!0:10===(R=g.charCodeAt(v++))?G=!0:13===R&&(G=!0,10===g.charCodeAt(v)&&++v);return g.slice(J+1,T-1).replace(/""/g,'"')}for(;v<r;){if(10===(R=g.charCodeAt(T=v++)))G=!0;else if(13===R)G=!0,10===g.charCodeAt(v)&&++v;else if(R!==f)continue;return g.slice(J,T)}return B=!0,g.slice(J,r)}var n=[],r=g.length,v=0,w=0,y,B=0>=r,G=!1;10===g.charCodeAt(r-1)&&--r;for(13===g.charCodeAt(r-
1)&&--r;(y=l())!==P$b;){for(var O=[];y!==Q$b&&y!==P$b;)O.push(y),y=l();h&&null==(O=h(O,w++))||n.push(O)}return n}function c(g){return g.map(d).join(a)}function d(g){return null==g?"":e.test(g)?'"'+g.replace(/"/g,'""')+'"':g}var e=new RegExp('["'+a+"\n\r]"),f=a.charCodeAt(0);return{parse:function(g,h){var l,n;g=b(g,function(r,v){if(l)return l(r,v-1);n=r;l=h?M$b(r,h):L$b(r)});g.columns=n||[];return g},parseRows:b,format:function(g,h){null==h&&(h=N$b(g));return[h.map(d).join(a)].concat(g.map(function(l){return h.map(function(n){return d(l[n])}).join(a)})).join("\n")},
formatRows:function(g){return g.map(c).join("\n")}}}function R$b(a){if(!a.ok)throw Error("ki`"+a.status+"`"+a.statusText);return a.blob()}function S$b(a){if(!a.ok)throw Error("ki`"+a.status+"`"+a.statusText);return a.arrayBuffer()}function T$b(a){if(!a.ok)throw Error("ki`"+a.status+"`"+a.statusText);return a.text()}function U$b(a,b){return fetch(a,b).then(T$b)}function V$b(a){return function(b,c,d){2===arguments.length&&"function"===typeof c&&(d=c,c=void 0);return U$b(b,c).then(function(e){return a(e,
d)})}}function W$b(a){if(!a.ok)throw Error("ki`"+a.status+"`"+a.statusText);return a.json()}function ML(a){return function(){return a}}function NL(){return 1E-6*(Math.random()-.5)}function X$b(a,b,c,d){if(isNaN(b)||isNaN(c))return a;var e,f=a._root;d={data:d};var g=a._x0,h=a._y0,l=a._x1,n=a._y1,r,v,w,y,B;if(!f)return a._root=d,a;for(;f.length;)if((w=b>=(r=(g+l)/2))?g=r:l=r,(y=c>=(v=(h+n)/2))?h=v:n=v,e=f,!(f=f[B=y<<1|w]))return e[B]=d,a;var G=+a._x.call(null,f.data);var O=+a._y.call(null,f.data);if(b===
G&&c===O)return d.next=f,e?e[B]=d:a._root=d,a;do e=e?e[B]=Array(4):a._root=Array(4),(w=b>=(r=(g+l)/2))?g=r:l=r,(y=c>=(v=(h+n)/2))?h=v:n=v;while((B=y<<1|w)===(w=(O>=v)<<1|G>=r));return e[w]=f,e[B]=d,a}function OL(a,b,c,d,e){this.node=a;this.x0=b;this.y0=c;this.x1=d;this.y1=e}function Y$b(a){return a[0]}function Z$b(a){return a[1]}function $$b(a,b,c){b=new aac(null==b?Y$b:b,null==c?Z$b:c,NaN,NaN,NaN,NaN);return null==a?b:b.addAll(a)}function aac(a,b,c,d,e,f){this._x=a;this._y=b;this._x0=c;this._y0=
d;this._x1=e;this._y1=f;this._root=void 0}function bac(a){for(var b={data:a.data},c=b;a=a.next;)c=c.next={data:a.data};return b}function cac(a){return a.x+a.vx}function dac(a){return a.y+a.vy}function eac(a){return a.index}function fac(a,b){a=a.get(b);if(!a)throw Error("li`"+b);return a}function gac(a){return a.x}function hac(a){return a.y}function iac(a,b){if(0>(b=(a=b?a.toExponential(b-1):a.toExponential()).indexOf("e")))return null;var c=a.slice(0,b);return[1<c.length?c[0]+c.slice(2):c,+a.slice(b+
1)]}function PL(a){return a=iac(Math.abs(a)),a?a[1]:NaN}function jac(a,b){return function(c,d){for(var e=c.length,f=[],g=0,h=a[0],l=0;0<e&&0<h;){l+h+1>d&&(h=Math.max(1,d-l));f.push(c.substring(e-=h,e+h));if((l+=h+1)>d)break;h=a[g=(g+1)%a.length]}return f.reverse().join(b)}}function kac(a){return function(b){return b.replace(/[0-9]/g,function(c){return a[+c]})}}function lac(a){return new mac(a)}function mac(a){if(!(b=nac.exec(a)))throw Error("mi`"+a);var b;this.fill=b[1]||" ";this.align=b[2]||">";
this.sign=b[3]||"-";this.symbol=b[4]||"";this.zero=!!b[5];this.width=b[6]&&+b[6];this.comma=!!b[7];this.precision=b[8]&&+b[8].slice(1);this.trim=!!b[9];this.type=b[10]||""}function oac(a,b){b=iac(a,b);if(!b)return a+"";a=b[0];b=b[1];return 0>b?"0."+Array(-b).join("0")+a:a.length>b+1?a.slice(0,b+1)+"."+a.slice(b+1):a+Array(b-a.length+2).join("0")}function pac(a){return a}function qac(a){function b(h){function l(Va){var cb=R,H=ra,Y,X;if("c"===J)H=Ba(Va)+H,Va="";else{Va=+Va;var W=0>Va;Va=Ba(Math.abs(Va),
O);if(T){var Z=Va.length,ua=1,ma=-1;a:for(;ua<Z;++ua)switch(Va[ua]){case ".":ma=Y=ua;break;case "0":0===ma&&(ma=ua);Y=ua;break;default:if(!+Va[ua])break a;0<ma&&(ma=0)}Va=0<ma?Va.slice(0,ma)+Va.slice(Y+1):Va}W&&0===+Va&&(W=!1);cb=(W?"("===v?v:"-":"-"===v||"("===v?"":v)+cb;H=("s"===J?rac[8+sac/3]:"")+H+(W&&"("===v?")":"");if(Ka)for(W=-1,Y=Va.length;++W<Y;)if(X=Va.charCodeAt(W),48>X||57<X){H=(46===X?e+Va.slice(W+1):Va.slice(W))+H;Va=Va.slice(0,W);break}}G&&!y&&(Va=c(Va,Infinity));X=cb.length+Va.length+
H.length;W=X<B?Array(B-X+1).join(n):"";G&&y&&(Va=c(W+Va,W.length?B-H.length:Infinity),W="");switch(r){case "<":Va=cb+Va+H+W;break;case "=":Va=cb+W+Va+H;break;case "^":Va=W.slice(0,X=W.length>>1)+cb+Va+H+W.slice(X);break;default:Va=W+cb+Va+H}return f(Va)}h=lac(h);var n=h.fill,r=h.align,v=h.sign,w=h.symbol,y=h.zero,B=h.width,G=h.comma,O=h.precision,T=h.trim,J=h.type;"n"===J?(G=!0,J="g"):tac[J]||(null==O&&(O=12),T=!0,J="g");if(y||"0"===n&&"="===r)y=!0,n="0",r="=";var R="$"===w?d[0]:"#"===w&&/[boxX]/.test(J)?
"0"+J.toLowerCase():"",ra="$"===w?d[1]:/[%p]/.test(J)?g:"",Ba=tac[J],Ka=/[defgprs%]/.test(J);O=null==O?6:/[gprs]/.test(J)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));l.toString=function(){return h+""};return l}var c=a.grouping&&a.thousands?jac(a.grouping,a.thousands):pac,d=a.currency,e=a.decimal,f=a.numerals?kac(a.numerals):pac,g=a.percent||"%";return{format:b,formatPrefix:function(h,l){var n=b((h=lac(h),h.type="f",h));h=3*Math.max(-8,Math.min(8,Math.floor(PL(l)/3)));var r=Math.pow(10,-h),
v=rac[8+h/3];return function(w){return n(r*w)+v}}}}function uac(a){vac=qac(a);d3.format=vac.format;d3.formatPrefix=vac.formatPrefix;return vac}function wac(a){return Math.max(0,-PL(Math.abs(a)))}function xac(a,b){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(PL(b)/3)))-PL(Math.abs(a)))}function yac(a,b){a=Math.abs(a);b=Math.abs(b)-a;return Math.max(0,PL(b)-PL(a))+1}function QL(){this.reset()}function zac(a,b,c){var d=a.s=b+c,e=d-b;a.t=b-(d-e)+(c-e)}function Aac(a){return 1<a?0:-1>a?RL:Math.acos(a)}
function SL(a){return 1<a?TL:-1>a?-TL:Math.asin(a)}function Bac(a){return(a=UL(a/2))*a}function VL(){}function Cac(a,b){if(a&&Dac.hasOwnProperty(a.type))Dac[a.type](a,b)}function Eac(a,b,c){var d=-1;c=a.length-c;for(b.lineStart();++d<c;){var e=a[d];b.point(e[0],e[1],e[2])}b.lineEnd()}function Fac(a,b){var c=-1,d=a.length;for(b.polygonStart();++c<d;)Eac(a[c],b,1);b.polygonEnd()}function WL(a,b){if(a&&Gac.hasOwnProperty(a.type))Gac[a.type](a,b);else Cac(a,b)}function Hac(){XL.point=Iac}function Jac(){Kac(Lac,
Mac)}function Iac(a,b){XL.point=Kac;Lac=a;Mac=b;a*=YL;b*=YL;Nac=a;Oac=ZL(b=b/2+Pac);Qac=UL(b)}function Kac(a,b){a*=YL;b*=YL;b=b/2+Pac;var c=a-Nac,d=0<=c?1:-1,e=d*c;c=ZL(b);b=UL(b);var f=Qac*b,g=Oac*c+f*ZL(e);d=f*d*UL(e);Rac.add($L(d,g));Nac=a;Oac=c;Qac=b}function Sac(a){return[$L(a[1],a[0]),SL(a[2])]}function aM(a){var b=a[0];a=a[1];var c=ZL(a);return[c*ZL(b),c*UL(b),UL(a)]}function Tac(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function bM(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*
b[1]-a[1]*b[0]]}function Uac(a,b){a[0]+=b[0];a[1]+=b[1];a[2]+=b[2]}function Vac(a,b){return[a[0]*b,a[1]*b,a[2]*b]}function Wac(a){var b=cM(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);a[0]/=b;a[1]/=b;a[2]/=b}function Xac(a,b){dM.push(eM=[fM=a,gM=a]);b<hM&&(hM=b);b>iM&&(iM=b)}function Yac(a,b){var c=aM([a*YL,b*YL]);if(jM){var d=bM(jM,c);d=bM([d[1],-d[0],0],d);Wac(d);d=Sac(d);var e=a-kM,f=0<e?1:-1,g=d[0]*lM*f;e=180<mM(e);e^(f*kM<g&&g<f*a)?(d=d[1]*lM,d>iM&&(iM=d)):(g=(g+360)%360-180,e^(f*kM<g&&g<f*a))?(d=-d[1]*lM,
d<hM&&(hM=d)):(b<hM&&(hM=b),b>iM&&(iM=b));e?a<kM?nM(fM,a)>nM(fM,gM)&&(gM=a):nM(a,gM)>nM(fM,gM)&&(fM=a):gM>=fM?(a<fM&&(fM=a),a>gM&&(gM=a)):a>kM?nM(fM,a)>nM(fM,gM)&&(gM=a):nM(a,gM)>nM(fM,gM)&&(fM=a)}else dM.push(eM=[fM=a,gM=a]);b<hM&&(hM=b);b>iM&&(iM=b);jM=c;kM=a}function Zac(){oM.point=Yac}function $ac(){eM[0]=fM;eM[1]=gM;oM.point=Xac;jM=null}function abc(a,b){if(jM){var c=a-kM;bbc.add(180<mM(c)?c+(0<c?360:-360):c)}else cbc=a,dbc=b;XL.point(a,b);Yac(a,b)}function ebc(){XL.lineStart()}function fbc(){abc(cbc,
dbc);XL.lineEnd();1E-6<mM(bbc)&&(fM=-(gM=180));eM[0]=fM;eM[1]=gM;jM=null}function nM(a,b){return 0>(b-=a)?b+360:b}function gbc(a,b){return a[0]-b[0]}function hbc(a,b){return a[0]<=a[1]?a[0]<=b&&b<=a[1]:b<a[0]||a[1]<b}function ibc(a,b){a*=YL;b*=YL;var c=ZL(b);jbc(c*ZL(a),c*UL(a),UL(b))}function jbc(a,b,c){++kbc;lbc+=(a-lbc)/kbc;mbc+=(b-mbc)/kbc;nbc+=(c-nbc)/kbc}function obc(){pM.point=pbc}function pbc(a,b){a*=YL;b*=YL;var c=ZL(b);qM=c*ZL(a);rM=c*UL(a);sM=UL(b);pM.point=qbc;jbc(qM,rM,sM)}function qbc(a,
b){a*=YL;b*=YL;var c=ZL(b),d=c*ZL(a);a=c*UL(a);b=UL(b);var e=$L(cM((e=rM*b-sM*a)*e+(e=sM*d-qM*b)*e+(e=qM*a-rM*d)*e),qM*d+rM*a+sM*b);rbc+=e;sbc+=e*(qM+(qM=d));tbc+=e*(rM+(rM=a));ubc+=e*(sM+(sM=b));jbc(qM,rM,sM)}function vbc(){pM.point=ibc}function wbc(){pM.point=xbc}function ybc(){zbc(Abc,Bbc);pM.point=ibc}function xbc(a,b){Abc=a;Bbc=b;a*=YL;b*=YL;pM.point=zbc;var c=ZL(b);qM=c*ZL(a);rM=c*UL(a);sM=UL(b);jbc(qM,rM,sM)}function zbc(a,b){a*=YL;b*=YL;var c=ZL(b),d=c*ZL(a);a=c*UL(a);b=UL(b);c=rM*b-sM*a;
var e=sM*d-qM*b,f=qM*a-rM*d,g=cM(c*c+e*e+f*f),h=SL(g);g=g&&-h/g;Cbc+=g*c;Dbc+=g*e;Ebc+=g*f;rbc+=h;sbc+=h*(qM+(qM=d));tbc+=h*(rM+(rM=a));ubc+=h*(sM+(sM=b));jbc(qM,rM,sM)}function tM(a){return function(){return a}}function Fbc(a,b){function c(d,e){return d=a(d,e),b(d[0],d[1])}a.invert&&b.invert&&(c.invert=function(d,e){return d=b.invert(d,e),d&&a.invert(d[0],d[1])});return c}function Gbc(a,b){return[a>RL?a-uM:a<-RL?a+uM:a,b]}function Hbc(a,b,c){return(a%=uM)?b||c?Fbc(Ibc(a),Jbc(b,c)):Ibc(a):b||c?Jbc(b,
c):Gbc}function Kbc(a){return function(b,c){return b+=a,[b>RL?b-uM:b<-RL?b+uM:b,c]}}function Ibc(a){var b=Kbc(a);b.invert=Kbc(-a);return b}function Jbc(a,b){function c(h,l){var n=ZL(l),r=ZL(h)*n;h=UL(h)*n;l=UL(l);n=l*d+r*e;return[$L(h*f-n*g,r*d-l*e),SL(n*f+h*g)]}var d=ZL(a),e=UL(a),f=ZL(b),g=UL(b);c.invert=function(h,l){var n=ZL(l),r=ZL(h)*n;h=UL(h)*n;l=UL(l);n=l*f-h*g;return[$L(h*f+l*g,r*d+n*e),SL(n*d-r*e)]};return c}function Lbc(a){function b(c){c=a(c[0]*YL,c[1]*YL);return c[0]*=lM,c[1]*=lM,c}a=
Hbc(a[0]*YL,a[1]*YL,2<a.length?a[2]*YL:0);b.invert=function(c){c=a.invert(c[0]*YL,c[1]*YL);return c[0]*=lM,c[1]*=lM,c};return b}function Mbc(a,b,c,d,e,f){if(c){var g=ZL(b),h=UL(b);c*=d;if(null==e)e=b+d*uM,f=b-c/2;else if(e=Nbc(g,e),f=Nbc(g,f),0<d?e<f:e>f)e+=d*uM;for(;0<d?e>f:e<f;e-=c)b=Sac([g,-h*ZL(e),-h*UL(e)]),a.point(b[0],b[1])}}function Nbc(a,b){b=aM(b);b[0]-=a;Wac(b);a=Aac(-b[1]);return((0>-b[2]?-a:a)+uM-1E-6)%uM}function Obc(){var a=[],b;return{point:function(c,d){b.push([c,d])},lineStart:function(){a.push(b=
[])},lineEnd:VL,rejoin:function(){1<a.length&&a.push(a.pop().concat(a.shift()))},result:function(){var c=a;a=[];b=null;return c}}}function Pbc(a,b){return 1E-6>mM(a[0]-b[0])&&1E-6>mM(a[1]-b[1])}function Qbc(a,b,c,d){this.x=a;this.z=b;this.o=c;this.e=d;this.v=!1;this.n=this.p=null}function Rbc(a,b,c,d,e){var f=[],g=[];a.forEach(function(v){if(!(0>=(w=v.length-1))){var w,y=v[0],B=v[w];if(Pbc(y,B)){e.lineStart();for(h=0;h<w;++h)e.point((y=v[h])[0],y[1]);e.lineEnd()}else f.push(w=new Qbc(y,v,null,!0)),
g.push(w.o=new Qbc(y,null,w,!1)),f.push(w=new Qbc(B,v,null,!1)),g.push(w.o=new Qbc(B,null,w,!0))}});if(f.length){g.sort(b);Sbc(f);Sbc(g);var h=0;for(a=g.length;h<a;++h)g[h].e=c=!c;c=f[0];for(var l;;){for(var n=c,r=!0;n.v;)if((n=n.n)===c)return;b=n.z;e.lineStart();do{n.v=n.o.v=!0;if(n.e){if(r)for(h=0,a=b.length;h<a;++h)e.point((l=b[h])[0],l[1]);else d(n.x,n.n.x,1,e);n=n.n}else{if(r)for(b=n.p.z,h=b.length-1;0<=h;--h)e.point((l=b[h])[0],l[1]);else d(n.x,n.p.x,-1,e);n=n.p}n=n.o;b=n.z;r=!r}while(!n.v);
e.lineEnd()}}}function Sbc(a){if(b=a.length){for(var b,c=0,d=a[0],e;++c<b;)d.n=e=a[c],e.p=d,d=e;d.n=e=a[0];e.p=d}}function Tbc(a,b){var c=b[0];b=b[1];var d=UL(b),e=[UL(c),-ZL(c),0],f=0,g=0;Ubc.reset();1===d?b=TL+1E-6:-1===d&&(b=-TL-1E-6);d=0;for(var h=a.length;d<h;++d)if(n=(l=a[d]).length){var l,n,r=l[n-1],v=r[0],w=r[1]/2+Pac,y=UL(w),B=ZL(w);for(w=0;w<n;++w,v=O,y=T,B=J,r=G){var G=l[w],O=G[0];J=G[1]/2+Pac;var T=UL(J),J=ZL(J),R=O-v,ra=0<=R?1:-1,Ba=ra*R,Ka=Ba>RL;y*=T;Ubc.add($L(y*ra*UL(Ba),B*J+y*ZL(Ba)));
f+=Ka?R+ra*uM:R;Ka^v>=c^O>=c&&(r=bM(aM(r),aM(G)),Wac(r),v=bM(e,r),Wac(v),v=(Ka^0<=R?-1:1)*SL(v[2]),b>v||b===v&&(r[0]||r[1]))&&(g+=Ka^0<=R?1:-1)}}return(-1E-6>f||1E-6>f&&-1E-6>Ubc)^g&1}function Vbc(a,b,c,d){return function(e){function f(ra,Ba){a(ra,Ba)&&e.point(ra,Ba)}function g(ra,Ba){w.point(ra,Ba)}function h(){R.point=g;w.lineStart()}function l(){R.point=f;w.lineEnd()}function n(ra,Ba){J.push([ra,Ba]);B.point(ra,Ba)}function r(){B.lineStart();J=[]}function v(){n(J[0][0],J[0][1]);B.lineEnd();var ra=
B.clean(),Ba=y.result(),Ka=Ba.length,Va;J.pop();O.push(J);J=null;if(Ka)if(ra&1){if(Ka=Ba[0],0<(Ba=Ka.length-1)){G||(e.polygonStart(),G=!0);e.lineStart();for(ra=0;ra<Ba;++ra)e.point((Va=Ka[ra])[0],Va[1]);e.lineEnd()}}else 1<Ka&&ra&2&&Ba.push(Ba.pop().concat(Ba.shift())),T.push(Ba.filter(Wbc))}var w=b(e),y=Obc(),B=b(y),G=!1,O,T,J,R={point:f,lineStart:h,lineEnd:l,polygonStart:function(){R.point=n;R.lineStart=r;R.lineEnd=v;T=[];O=[]},polygonEnd:function(){R.point=f;R.lineStart=h;R.lineEnd=l;T=Y5b(T);
var ra=Tbc(O,d);T.length?(G||(e.polygonStart(),G=!0),Rbc(T,Xbc,ra,c,e)):ra&&(G||(e.polygonStart(),G=!0),e.lineStart(),c(null,null,1,e),e.lineEnd());G&&(e.polygonEnd(),G=!1);T=O=null},sphere:function(){e.polygonStart();e.lineStart();c(null,null,1,e);e.lineEnd();e.polygonEnd()}};return R}}function Wbc(a){return 1<a.length}function Xbc(a,b){return(0>(a=a.x)[0]?a[1]-TL-1E-6:TL-a[1])-(0>(b=b.x)[0]?b[1]-TL-1E-6:TL-b[1])}function Ybc(a){function b(l,n){return ZL(l)*ZL(n)>e}function c(l,n,r){var v=aM(l),
w=aM(n),y=[1,0,0];w=bM(v,w);var B=Tac(w,w);v=w[0];var G=B-v*v;if(!G)return!r&&l;B=e*B/G;G=-e*v/G;v=bM(y,w);y=Vac(y,B);w=Vac(w,G);Uac(y,w);w=Tac(y,v);B=Tac(v,v);G=w*w-B*(Tac(y,y)-1);if(!(0>G)){var O=cM(G);G=Vac(v,(-w-O)/B);Uac(G,y);G=Sac(G);if(!r)return G;r=l[0];var T=n[0];l=l[1];n=n[1];if(T<r){var J=r;r=T;T=J}var R=T-r,ra=1E-6>mM(R-RL);!ra&&n<l&&(J=l,l=n,n=J);if(ra||1E-6>R?ra?0<l+n^G[1]<(1E-6>mM(G[0]-r)?l:n):l<=G[1]&&G[1]<=n:R>RL^(r<=G[0]&&G[0]<=T))return n=Vac(v,(-w+O)/B),Uac(n,y),[G,Sac(n)]}}function d(l,
n){var r=g?a:RL-a,v=0;l<-r?v|=1:l>r&&(v|=2);n<-r?v|=4:n>r&&(v|=8);return v}var e=ZL(a),f=6*YL,g=0<e,h=1E-6<mM(e);return Vbc(b,function(l){var n,r,v,w,y;return{lineStart:function(){w=v=!1;y=1},point:function(B,G){var O=[B,G],T=b(B,G);G=g?T?0:d(B,G):T?d(B+(0>B?RL:-RL),G):0;!n&&(w=v=T)&&l.lineStart();T!==v&&(B=c(n,O),!B||Pbc(n,B)||Pbc(O,B))&&(O[0]+=1E-6,O[1]+=1E-6,T=b(O[0],O[1]));if(T!==v)y=0,T?(l.lineStart(),B=c(O,n),l.point(B[0],B[1])):(B=c(n,O),l.point(B[0],B[1]),l.lineEnd()),n=B;else if(h&&n&&g^
T){var J;G&r||!(J=c(O,n,!0))||(y=0,g?(l.lineStart(),l.point(J[0][0],J[0][1]),l.point(J[1][0],J[1][1]),l.lineEnd()):(l.point(J[1][0],J[1][1]),l.lineEnd(),l.lineStart(),l.point(J[0][0],J[0][1])))}!T||n&&Pbc(n,O)||l.point(O[0],O[1]);n=O;v=T;r=G},lineEnd:function(){v&&l.lineEnd();n=null},clean:function(){return y|(w&&v)<<1}}},function(l,n,r,v){Mbc(v,a,f,r,l,n)},g?[0,-a]:[-RL,a-RL])}function Zbc(a,b,c,d,e,f){var g=a[0],h=a[1],l=0,n=1,r=b[0]-g,v=b[1]-h;c-=g;if(r||!(0<c)){c/=r;if(0>r){if(c<l)return;c<n&&
(n=c)}else if(0<r){if(c>n)return;c>l&&(l=c)}c=e-g;if(r||!(0>c)){c/=r;if(0>r){if(c>n)return;c>l&&(l=c)}else if(0<r){if(c<l)return;c<n&&(n=c)}c=d-h;if(v||!(0<c)){c/=v;if(0>v){if(c<l)return;c<n&&(n=c)}else if(0<v){if(c>n)return;c>l&&(l=c)}c=f-h;if(v||!(0>c)){c/=v;if(0>v){if(c>n)return;c>l&&(l=c)}else if(0<v){if(c<l)return;c<n&&(n=c)}0<l&&(a[0]=g+l*r,a[1]=h+l*v);1>n&&(b[0]=g+n*r,b[1]=h+n*v);return!0}}}}}function $bc(a,b,c,d){function e(l,n,r,v){var w=0,y=0;if(null==l||(w=f(l,r))!==(y=f(n,r))||0>h(l,n)^
0<r){do v.point(0===w||3===w?a:c,1<w?d:b);while((w=(w+r+4)%4)!==y)}else v.point(n[0],n[1])}function f(l,n){return 1E-6>mM(l[0]-a)?0<n?0:3:1E-6>mM(l[0]-c)?0<n?2:1:1E-6>mM(l[1]-b)?0<n?1:0:0<n?3:2}function g(l,n){return h(l.x,n.x)}function h(l,n){var r=f(l,1),v=f(n,1);return r!==v?r-v:0===r?n[1]-l[1]:1===r?l[0]-n[0]:2===r?l[1]-n[1]:n[0]-l[0]}return function(l){function n(H,Y){a<=H&&H<=c&&b<=Y&&Y<=d&&v.point(H,Y)}function r(H,Y){var X=a<=H&&H<=c&&b<=Y&&Y<=d;B&&G.push([H,Y]);if(Ka)O=H,T=Y,J=X,Ka=!1,X&&
(v.lineStart(),v.point(H,Y));else if(X&&Ba)v.point(H,Y);else{var W=[R=Math.max(-1E9,Math.min(1E9,R)),ra=Math.max(-1E9,Math.min(1E9,ra))],Z=[H=Math.max(-1E9,Math.min(1E9,H)),Y=Math.max(-1E9,Math.min(1E9,Y))];Zbc(W,Z,a,b,c,d)?(Ba||(v.lineStart(),v.point(W[0],W[1])),v.point(Z[0],Z[1]),X||v.lineEnd(),Va=!1):X&&(v.lineStart(),v.point(H,Y),Va=!1)}R=H;ra=Y;Ba=X}var v=l,w=Obc(),y,B,G,O,T,J,R,ra,Ba,Ka,Va,cb={point:n,lineStart:function(){cb.point=r;B&&B.push(G=[]);Ka=!0;Ba=!1;R=ra=NaN},lineEnd:function(){y&&
(r(O,T),J&&Ba&&w.rejoin(),y.push(w.result()));cb.point=n;Ba&&v.lineEnd()},polygonStart:function(){v=w;y=[];B=[];Va=!0},polygonEnd:function(){for(var H,Y=H=0,X=B.length;Y<X;++Y){var W=B[Y],Z=1,ua=W.length,ma=W[0],ea=ma[0];for(ma=ma[1];Z<ua;++Z){var na=ea;var ya=ma;ma=W[Z];ea=ma[0];ma=ma[1];ya<=d?ma>d&&(ea-na)*(d-ya)>(ma-ya)*(a-na)&&++H:ma<=d&&(ea-na)*(d-ya)<(ma-ya)*(a-na)&&--H}}Y=Va&&H;X=(y=Y5b(y)).length;if(Y||X)l.polygonStart(),Y&&(l.lineStart(),e(null,null,1,l),l.lineEnd()),X&&Rbc(y,g,H,e,l),l.polygonEnd();
v=l;y=B=G=null}};return cb}}function acc(){vM.point=vM.lineEnd=VL}function bcc(a,b){a*=YL;b*=YL;ccc=a;dcc=UL(b);ecc=ZL(b);vM.point=fcc}function fcc(a,b){a*=YL;b*=YL;var c=UL(b);b=ZL(b);var d=mM(a-ccc),e=ZL(d);d=UL(d);d*=b;var f=ecc*c-dcc*b*e;e=dcc*c+ecc*b*e;gcc.add($L(cM(d*d+f*f),e));ccc=a;dcc=c;ecc=b}function hcc(a){gcc.reset();WL(a,vM);return+gcc}function wM(a,b){icc[0]=a;icc[1]=b;return hcc(jcc)}function kcc(a,b){return a&&lcc.hasOwnProperty(a.type)?lcc[a.type](a,b):!1}function mcc(a,b){var c=
wM(a[0],a[1]),d=wM(a[0],b);a=wM(b,a[1]);return d+a<=c+1E-6}function ncc(a,b){return!!Tbc(a.map(occ),pcc(b))}function occ(a){return a=a.map(pcc),a.pop(),a}function pcc(a){return[a[0]*YL,a[1]*YL]}function qcc(a,b,c){var d=bL(a,b-1E-6,c).concat(b);return function(e){return d.map(function(f){return[e,f]})}}function rcc(a,b,c){var d=bL(a,b-1E-6,c).concat(b);return function(e){return d.map(function(f){return[f,e]})}}function scc(){function a(){return{type:"MultiLineString",coordinates:b()}}function b(){return bL(tcc(f/
w)*w,e,w).map(O).concat(bL(tcc(n/y)*y,l,y).map(T)).concat(bL(tcc(d/r)*r,c,r).filter(function(R){return 1E-6<mM(R%w)}).map(B)).concat(bL(tcc(h/v)*v,g,v).filter(function(R){return 1E-6<mM(R%y)}).map(G))}var c,d,e,f,g,h,l,n,r=10,v=r,w=90,y=360,B,G,O,T,J=2.5;a.lines=function(){return b().map(function(R){return{type:"LineString",coordinates:R}})};a.outline=function(){return{type:"Polygon",coordinates:[O(f).concat(T(l).slice(1),O(e).reverse().slice(1),T(n).reverse().slice(1))]}};a.extent=function(R){return arguments.length?
a.extentMajor(R).extentMinor(R):a.extentMinor()};a.extentMajor=function(R){if(!arguments.length)return[[f,n],[e,l]];f=+R[0][0];e=+R[1][0];n=+R[0][1];l=+R[1][1];f>e&&(R=f,f=e,e=R);n>l&&(R=n,n=l,l=R);return a.precision(J)};a.extentMinor=function(R){if(!arguments.length)return[[d,h],[c,g]];d=+R[0][0];c=+R[1][0];h=+R[0][1];g=+R[1][1];d>c&&(R=d,d=c,c=R);h>g&&(R=h,h=g,g=R);return a.precision(J)};a.step=function(R){return arguments.length?a.stepMajor(R).stepMinor(R):a.stepMinor()};a.stepMajor=function(R){if(!arguments.length)return[w,
y];w=+R[0];y=+R[1];return a};a.stepMinor=function(R){if(!arguments.length)return[r,v];r=+R[0];v=+R[1];return a};a.precision=function(R){if(!arguments.length)return J;J=+R;B=qcc(h,g,90);G=rcc(d,c,J);O=qcc(n,l,90);T=rcc(f,e,J);return a};return a.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function xM(a){return a}function ucc(){yM.point=vcc}function vcc(a,b){yM.point=wcc;xcc=ycc=a;zcc=Acc=b}function wcc(a,b){Bcc.add(Acc*a-ycc*b);ycc=a;Acc=b}function Ccc(){wcc(xcc,
zcc)}function zM(a,b){Dcc+=a;Ecc+=b;++Fcc}function Gcc(){AM.point=Hcc}function Hcc(a,b){AM.point=Icc;zM(BM=a,CM=b)}function Icc(a,b){var c=a-BM,d=b-CM;c=cM(c*c+d*d);Jcc+=c*(BM+a)/2;Kcc+=c*(CM+b)/2;DM+=c;zM(BM=a,CM=b)}function Lcc(){AM.point=zM}function Mcc(){AM.point=Ncc}function Occ(){Pcc(Qcc,Rcc)}function Ncc(a,b){AM.point=Pcc;zM(Qcc=BM=a,Rcc=CM=b)}function Pcc(a,b){var c=a-BM,d=b-CM;c=cM(c*c+d*d);Jcc+=c*(BM+a)/2;Kcc+=c*(CM+b)/2;DM+=c;c=CM*a-BM*b;Scc+=c*(BM+a);Tcc+=c*(CM+b);Ucc+=3*c;zM(BM=a,CM=
b)}function Vcc(a){this._context=a}function Wcc(a,b){Xcc.point=Ycc;Zcc=$cc=a;adc=bdc=b}function Ycc(a,b){$cc-=a;bdc-=b;cdc.add(cM($cc*$cc+bdc*bdc));$cc=a;bdc=b}function ddc(){this._string=[]}function edc(a){return"m0,"+a+"a"+a+","+a+" 0 1,1 0,"+-2*a+"a"+a+","+a+" 0 1,1 0,"+2*a+"z"}function fdc(a){return function(b){var c=new gdc,d;for(d in a)c[d]=a[d];c.stream=b;return c}}function gdc(){}function hdc(a,b,c){var d=a.clipExtent&&a.clipExtent();a.scale(150).translate([0,0]);null!=d&&a.clipExtent(null);
WL(c,a.stream(idc));b(idc.result());null!=d&&a.clipExtent(d);return a}function EM(a,b,c){return hdc(a,function(d){var e=b[1][0]-b[0][0],f=b[1][1]-b[0][1],g=Math.min(e/(d[1][0]-d[0][0]),f/(d[1][1]-d[0][1]));e=+b[0][0]+(e-g*(d[1][0]+d[0][0]))/2;d=+b[0][1]+(f-g*(d[1][1]+d[0][1]))/2;a.scale(150*g).translate([e,d])},c)}function jdc(a,b,c){return hdc(a,function(d){var e=+b,f=e/(d[1][0]-d[0][0]);e=(e-f*(d[1][0]+d[0][0]))/2;d=-f*d[0][1];a.scale(150*f).translate([e,d])},c)}function kdc(a,b,c){return hdc(a,
function(d){var e=+b,f=e/(d[1][1]-d[0][1]),g=-f*d[0][0];d=(e-f*(d[1][1]+d[0][1]))/2;a.scale(150*f).translate([g,d])},c)}function ldc(a){return fdc({point:function(b,c){b=a(b,c);this.stream.point(b[0],b[1])}})}function mdc(a,b){function c(d,e,f,g,h,l,n,r,v,w,y,B,G,O){var T=n-d,J=r-e,R=T*T+J*J;if(R>4*b&&G--){var ra=g+w,Ba=h+y,Ka=l+B,Va=cM(ra*ra+Ba*Ba+Ka*Ka),cb=SL(Ka/=Va),H=1E-6>mM(mM(Ka)-1)||1E-6>mM(f-v)?(f+v)/2:$L(Ba,ra),Y=a(H,cb);cb=Y[0];Y=Y[1];var X=cb-d,W=Y-e,Z=J*X-T*W;if(Z*Z/R>b||.3<mM((T*X+J*
W)/R-.5)||g*w+h*y+l*B<ndc)c(d,e,f,g,h,l,cb,Y,H,ra/=Va,Ba/=Va,Ka,G,O),O.point(cb,Y),c(cb,Y,H,ra,Ba,Ka,n,r,v,w,y,B,G,O)}}return function(d){function e(cb,H){cb=a(cb,H);d.point(cb[0],cb[1])}function f(){J=NaN;Va.point=g;d.lineStart()}function g(cb,H){var Y=aM([cb,H]);H=a(cb,H);c(J,R,T,ra,Ba,Ka,J=H[0],R=H[1],T=cb,ra=Y[0],Ba=Y[1],Ka=Y[2],16,d);d.point(J,R)}function h(){Va.point=e;d.lineEnd()}function l(){f();Va.point=n;Va.lineEnd=r}function n(cb,H){g(v=cb,H);w=J;y=R;B=ra;G=Ba;O=Ka;Va.point=g}function r(){c(J,
R,T,ra,Ba,Ka,w,y,v,B,G,O,16,d);Va.lineEnd=h;h()}var v,w,y,B,G,O,T,J,R,ra,Ba,Ka,Va={point:e,lineStart:f,lineEnd:h,polygonStart:function(){d.polygonStart();Va.lineStart=l},polygonEnd:function(){d.polygonEnd();Va.lineStart=f}};return Va}}function odc(a){return fdc({point:function(b,c){b=a(b,c);return this.stream.point(b[0],b[1])}})}function pdc(a,b,c){function d(e,f){return[b+a*e,c-a*f]}d.invert=function(e,f){return[(e-b)/a,(c-f)/a]};return d}function qdc(a,b,c,d){function e(w,y){return[g*w-h*y+b,c-
h*w-g*y]}var f=ZL(d);d=UL(d);var g=f*a,h=d*a,l=f/a,n=d/a,r=(d*c-f*b)/a,v=(d*b+f*c)/a;e.invert=function(w,y){return[l*w-n*y+r,v-n*w-l*y]};return e}function FM(a){return rdc(function(){return a})()}function rdc(a){function b(Z){return Y(Z[0]*YL,Z[1]*YL)}function c(Z){return(Z=Y.invert(Z[0],Z[1]))&&[Z[0]*lM,Z[1]*lM]}function d(){var Z=qdc(g,0,0,G).apply(null,f(n,r));Z=(G?qdc:pdc)(g,h-Z[0],l-Z[1],G);B=Hbc(v,w,y);H=Fbc(f,Z);Y=Fbc(B,H);Z=H;cb=+Va?mdc(Z,Va):ldc(Z);return e()}function e(){X=W=null;return b}
var f,g=150,h=480,l=250,n=0,r=0,v=0,w=0,y=0,B,G=0,O=null,T=sdc,J=null,R,ra,Ba,Ka=xM,Va=.5,cb,H,Y,X,W;b.stream=function(Z){return X&&W===Z?X:X=tdc(odc(B)(T(cb(Ka(W=Z)))))};b.preclip=function(Z){return arguments.length?(T=Z,O=void 0,e()):T};b.postclip=function(Z){return arguments.length?(Ka=Z,J=R=ra=Ba=null,e()):Ka};b.clipAngle=function(Z){return arguments.length?(T=+Z?Ybc(O=Z*YL):(O=null,sdc),e()):O*lM};b.clipExtent=function(Z){return arguments.length?(Ka=null==Z?(J=R=ra=Ba=null,xM):$bc(J=+Z[0][0],
R=+Z[0][1],ra=+Z[1][0],Ba=+Z[1][1]),e()):null==J?null:[[J,R],[ra,Ba]]};b.scale=function(Z){return arguments.length?(g=+Z,d()):g};b.translate=function(Z){return arguments.length?(h=+Z[0],l=+Z[1],d()):[h,l]};b.center=function(Z){return arguments.length?(n=Z[0]%360*YL,r=Z[1]%360*YL,d()):[n*lM,r*lM]};b.rotate=function(Z){return arguments.length?(v=Z[0]%360*YL,w=Z[1]%360*YL,y=2<Z.length?Z[2]%360*YL:0,d()):[v*lM,w*lM,y*lM]};b.angle=function(Z){return arguments.length?(G=Z%360*YL,d()):G*lM};b.precision=
function(Z){if(arguments.length){var ua=H;var ma=Va=Z*Z;ua=(cb=+ma?mdc(ua,ma):ldc(ua),e())}else ua=cM(Va);return ua};b.fitExtent=function(Z,ua){return EM(b,Z,ua)};b.fitSize=function(Z,ua){return EM(b,[[0,0],Z],ua)};b.fitWidth=function(Z,ua){return jdc(b,Z,ua)};b.fitHeight=function(Z,ua){return kdc(b,Z,ua)};return function(){f=a.apply(this,arguments);b.invert=f.invert&&c;return d()}}function udc(a){var b=0,c=RL/3,d=rdc(a);a=d(b,c);a.parallels=function(e){return arguments.length?d(b=e[0]*YL,c=e[1]*
YL):[b*lM,c*lM]};return a}function vdc(a){function b(d,e){return[d*c,UL(e)/c]}var c=ZL(a);b.invert=function(d,e){return[d/c,SL(e*c)]};return b}function wdc(a,b){function c(h,l){l=cM(f-2*e*UL(l))/e;return[l*UL(h*=e),g-l*ZL(h)]}var d=UL(a),e=(d+UL(b))/2;if(1E-6>mM(e))return vdc(a);var f=1+d*(2*e-d),g=cM(f)/e;c.invert=function(h,l){l=g-l;return[$L(h,mM(l))/e*xdc(l),SL((f-(h*h+l*l)*e*e)/(2*e))]};return c}function ydc(){return udc(wdc).scale(155.424).center([0,33.6442])}function zdc(){return ydc().parallels([29.5,
45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Adc(a){var b=a.length;return{point:function(c,d){for(var e=-1;++e<b;)a[e].point(c,d)},sphere:function(){for(var c=-1;++c<b;)a[c].sphere()},lineStart:function(){for(var c=-1;++c<b;)a[c].lineStart()},lineEnd:function(){for(var c=-1;++c<b;)a[c].lineEnd()},polygonStart:function(){for(var c=-1;++c<b;)a[c].polygonStart()},polygonEnd:function(){for(var c=-1;++c<b;)a[c].polygonEnd()}}}function Bdc(a){return function(b,c){var d=
ZL(b),e=ZL(c);d=a(d*e);return[d*e*UL(b),d*UL(c)]}}function Cdc(a){return function(b,c){var d=cM(b*b+c*c),e=a(d),f=UL(e);e=ZL(e);return[$L(b*f,d*e),SL(d&&c*f/d)]}}function Ddc(a,b){return[a,Edc(GM((TL+b)/2))]}function Fdc(a){function b(){var v=RL*e(),w=c(Lbc(c.rotate()).invert([0,0]));return g(null==h?[[w[0]-v,w[1]-v],[w[0]+v,w[1]+v]]:a===Ddc?[[Math.max(w[0]-v,h),l],[Math.min(w[0]+v,n),r]]:[[h,Math.max(w[1]-v,l)],[n,Math.min(w[1]+v,r)]])}var c=FM(a),d=c.center,e=c.scale,f=c.translate,g=c.clipExtent,
h=null,l,n,r;c.scale=function(v){return arguments.length?(e(v),b()):e()};c.translate=function(v){return arguments.length?(f(v),b()):f()};c.center=function(v){return arguments.length?(d(v),b()):d()};c.clipExtent=function(v){return arguments.length?(null==v?h=l=n=r=null:(h=+v[0][0],l=+v[0][1],n=+v[1][0],r=+v[1][1]),b()):null==h?null:[[h,l],[n,r]]};return b()}function Gdc(a,b){function c(g,h){0<f?h<-TL+1E-6&&(h=-TL+1E-6):h>TL-1E-6&&(h=TL-1E-6);h=f/Hdc(GM((TL+h)/2),e);return[h*UL(e*g),f-h*ZL(e*g)]}var d=
ZL(a),e=a===b?UL(a):Edc(d/ZL(b))/Edc(GM((TL+b)/2)/GM((TL+a)/2)),f=d*Hdc(GM((TL+a)/2),e)/e;if(!e)return Ddc;c.invert=function(g,h){h=f-h;var l=xdc(e)*cM(g*g+h*h);return[$L(g,mM(h))/e*xdc(h),2*HM(Hdc(f/l,1/e))-TL]};return c}function Idc(a,b){return[a,b]}function Jdc(a,b){function c(g,h){h=f-h;g*=e;return[h*UL(g),f-h*ZL(g)]}var d=ZL(a),e=a===b?UL(a):(d-ZL(b))/(b-a),f=d/e+a;if(1E-6>mM(e))return Idc;c.invert=function(g,h){h=f-h;return[$L(g,mM(h))/e*xdc(h),f-xdc(e)*cM(g*g+h*h)]};return c}function Kdc(a,
b){b=SL(Ldc*UL(b));var c=b*b,d=c*c*c;return[a*ZL(b)/(Ldc*(1.340264+3*-.081106*c+d*(7*8.93E-4+.034164*c))),b*(1.340264+-.081106*c+d*(8.93E-4+.003796*c))]}function Mdc(a,b){var c=ZL(b),d=ZL(a)*c;return[c*UL(a)/d,UL(b)/d]}function Ndc(a,b,c,d){return 1===a&&1===b&&0===c&&0===d?xM:fdc({point:function(e,f){this.stream.point(e*a+c,f*b+d)}})}function Odc(a,b){var c=b*b,d=c*c;return[a*(.8707-.131979*c+d*(-.013791+d*(.003971*c-.001529*d))),b*(1.007226+c*(.015085+d*(-.044475+.028874*c-.005916*d)))]}function Pdc(a,
b){return[ZL(b)*UL(a),UL(b)]}function Qdc(a,b){var c=ZL(b),d=1+ZL(a)*c;return[c*UL(a)/d,UL(b)/d]}function Rdc(a,b){return[Edc(GM((TL+b)/2)),-a]}function Sdc(a,b){return a.parent===b.parent?1:2}function Tdc(a,b){return a+b.x}function Udc(a,b){return Math.max(a,b.y)}function Vdc(a){for(var b;b=a.children;)a=b[0];return a}function Wdc(a){for(var b;b=a.children;)a=b[b.length-1];return a}function Xdc(a){var b=0,c=a.children,d=c&&c.length;if(d)for(;0<=--d;)b+=c[d].value;else b=1;a.value=b}function Ydc(a,
b){var c=new IM(a);a=+a.value&&(c.value=a.value);var d,e=[c],f,g,h,l;for(null==b&&(b=Zdc);d=e.pop();)if(a&&(d.value=+d.data.value),(g=b(d.data))&&(l=g.length))for(d.children=Array(l),h=l-1;0<=h;--h)e.push(f=d.children[h]=new IM(g[h])),f.parent=d,f.depth=d.depth+1;return c.eachBefore($dc)}function Zdc(a){return a.children}function aec(a){a.data=a.data.data}function $dc(a){var b=0;do a.height=b;while((a=a.parent)&&a.height<++b)}function IM(a){this.data=a;this.depth=this.height=0;this.parent=null}function bec(a){var b=
0;a=cec.call(a);for(var c=a.length,d,e;c;)e=Math.random()*c--|0,d=a[c],a[c]=a[e],a[e]=d;c=a.length;d=[];for(var f;b<c;)if(e=a[b],f&&dec(f,e))++b;else{a:if(b=d,eec(e,b))b=[e];else{for(d=0;d<b.length;++d)if(fec(e,b[d])&&eec(gec(b[d],e),b)){b=[b[d],e];break a}for(d=0;d<b.length-1;++d)for(f=d+1;f<b.length;++f)if(fec(gec(b[d],b[f]),e)&&fec(gec(b[d],e),b[f])&&fec(gec(b[f],e),b[d])&&eec(hec(b[d],b[f],e),b)){b=[b[d],b[f],e];break a}throw Error();}a:{b=d=b;switch(b.length){case 1:b=b[0];f={x:b.x,y:b.y,r:b.r};
break a;case 2:f=gec(b[0],b[1]);break a;case 3:f=hec(b[0],b[1],b[2]);break a}f=void 0}b=0}return f}function fec(a,b){var c=a.r-b.r,d=b.x-a.x;a=b.y-a.y;return 0>c||c*c<d*d+a*a}function dec(a,b){var c=a.r-b.r+1E-6,d=b.x-a.x;a=b.y-a.y;return 0<c&&c*c>d*d+a*a}function eec(a,b){for(var c=0;c<b.length;++c)if(!dec(a,b[c]))return!1;return!0}function gec(a,b){var c=a.x,d=a.y;a=a.r;var e=b.x,f=b.y;b=b.r;var g=e-c,h=f-d,l=b-a,n=Math.sqrt(g*g+h*h);return{x:(c+e+g/n*l)/2,y:(d+f+h/n*l)/2,r:(n+a+b)/2}}function hec(a,
b,c){var d=a.x,e=a.y;a=a.r;var f=b.x,g=b.y,h=b.r,l=c.x,n=c.y,r=c.r;c=d-f;b=d-l;var v=e-g,w=e-n,y=h-a,B=r-a,G=d*d+e*e-a*a;g=G-f*f-g*g+h*h;n=G-l*l-n*n+r*r;l=b*v-c*w;f=(v*n-w*g)/(2*l)-d;v=(w*y-v*B)/l;w=(b*g-c*n)/(2*l)-e;c=(c*B-b*y)/l;b=v*v+c*c-1;y=2*(a+f*v+w*c);a=f*f+w*w-a*a;a=-(b?(y+Math.sqrt(y*y-4*b*a))/(2*b):a/y);return{x:d+f+v*a,y:e+w+c*a,r:a}}function iec(a,b,c){var d=a.x-b.x,e=a.y-b.y,f=d*d+e*e;if(f){var g=b.r+c.r;g*=g;var h=a.r+c.r;h*=h;if(g>h){var l=(f+h-g)/(2*f);g=Math.sqrt(Math.max(0,h/f-l*
l));c.x=a.x-l*d-g*e;c.y=a.y-l*e+g*d}else l=(f+g-h)/(2*f),g=Math.sqrt(Math.max(0,g/f-l*l)),c.x=b.x+l*d-g*e,c.y=b.y+l*e+g*d}else c.x=b.x+c.r,c.y=b.y}function jec(a,b){var c=a.r+b.r-1E-6,d=b.x-a.x;a=b.y-a.y;return 0<c&&c*c>d*d+a*a}function kec(a){var b=a._,c=a.next._,d=b.r+c.r;a=(b.x*c.r+c.x*b.r)/d;b=(b.y*c.r+c.y*b.r)/d;return a*a+b*b}function lec(a){this._=a;this.previous=this.next=null}function mec(a){if(!(c=a.length))return 0;var b,c;var d=a[0];d.x=0;d.y=0;if(!(1<c))return d.r;var e=a[1];d.x=-e.r;
e.x=d.r;e.y=0;if(!(2<c))return d.r+e.r;iec(e,d,b=a[2]);d=new lec(d);e=new lec(e);b=new lec(b);d.next=b.previous=e;e.next=d.previous=b;b.next=e.previous=d;var f=3;a:for(;f<c;++f){iec(d._,e._,b=a[f]);b=new lec(b);var g=e.next;var h=d.previous;var l=e._.r;var n=d._.r;do if(l<=n){if(jec(g._,b._)){e=g;d.next=e;e.previous=d;--f;continue a}l+=g._.r;g=g.next}else{if(jec(h._,b._)){d=h;d.next=e;e.previous=d;--f;continue a}n+=h._.r;h=h.previous}while(g!==h.next);b.previous=d;b.next=e;d.next=e.previous=e=b;for(g=
kec(d);(b=b.next)!==e;)(h=kec(b))<g&&(d=b,g=h);e=d.next}d=[e._];for(b=e;(b=b.next)!==e;)d.push(b._);b=bec(d);for(f=0;f<c;++f)d=a[f],d.x-=b.x,d.y-=b.y;return b.r}function nec(a){if("function"!==typeof a)throw Error();return a}function JM(){return 0}function KM(a){return function(){return a}}function oec(a){return Math.sqrt(a.value)}function pec(a){return function(b){b.children||(b.r=Math.max(0,+a(b)||0))}}function qec(a,b){return function(c){if(d=c.children){var d,e,f=d.length,g=a(c)*b||0;if(g)for(e=
0;e<f;++e)d[e].r+=g;var h=mec(d);if(g)for(e=0;e<f;++e)d[e].r-=g;c.r=h+g}}}function rec(a){return function(b){var c=b.parent;b.r*=a;c&&(b.x=c.x+a*b.x,b.y=c.y+a*b.y)}}function sec(a){a.x0=Math.round(a.x0);a.y0=Math.round(a.y0);a.x1=Math.round(a.x1);a.y1=Math.round(a.y1)}function tec(a,b,c,d,e){var f=a.children,g=-1,h=f.length;for(d=a.value&&(d-b)/a.value;++g<h;)a=f[g],a.y0=c,a.y1=e,a.x0=b,a.x1=b+=a.value*d}function uec(a){return a.id}function vec(a){return a.parentId}function wec(a,b){return a.parent===
b.parent?1:2}function xec(a){var b=a.children;return b?b[0]:a.t}function yec(a){var b=a.children;return b?b[b.length-1]:a.t}function zec(a,b){this._=a;this.A=this.children=this.parent=null;this.a=this;this.s=this.c=this.m=this.z=0;this.t=null;this.i=b}function Aec(a){a=new zec(a,0);for(var b,c=[a],d,e,f;b=c.pop();)if(e=b._.children)for(b.children=Array(d=e.length),f=d-1;0<=f;--f)c.push(d=b.children[f]=new zec(e[f],f)),d.parent=b;(a.parent=new zec(null,0)).children=[a];return a}function Bec(a,b,c,
d,e){var f=a.children,g=-1,h=f.length;for(e=a.value&&(e-c)/a.value;++g<h;)a=f[g],a.x0=b,a.x1=d,a.y0=c,a.y1=c+=a.value*e}function Cec(a,b,c,d,e,f){for(var g=[],h=b.children,l,n,r=l=0,v=h.length,w,y=b.value,B,G,O,T,J,R;l<v;){b=e-c;w=f-d;do B=h[r++].value;while(!B&&r<v);G=O=B;R=Math.max(w/b,b/w)/(y*a);T=B*B*R;for(J=Math.max(O/T,T/G);r<v;++r){B+=n=h[r].value;n<G&&(G=n);n>O&&(O=n);T=B*B*R;T=Math.max(O/T,T/G);if(T>J){B-=n;break}J=T}g.push(l={value:B,dice:b<w,children:h.slice(l,r)});l.dice?tec(l,c,d,e,y?
d+=w*B/y:f):Bec(l,c,d,y?c+=b*B/y:e,f);y-=B;l=r}return g}function Dec(a,b,c){return(b[0]-a[0])*(c[1]-a[1])-(b[1]-a[1])*(c[0]-a[0])}function Eec(a,b){return a[0]-b[0]||a[1]-b[1]}function Fec(a){for(var b=a.length,c=[0,1],d=2,e=2;e<b;++e){for(;1<d&&0>=Dec(a[c[d-2]],a[c[d-1]],a[e]);)--d;c[d++]=e}return c.slice(0,d)}function LM(){return Math.random()}function Gec(a){function b(f){var g=f+"",h=c.get(g);if(!h){if(e!==Hec)return e;c.set(g,h=d.push(f))}return a[(h-1)%a.length]}var c=JL(),d=[],e=Hec;a=null==
a?[]:MM.call(a);b.domain=function(f){if(!arguments.length)return d.slice();d=[];c=JL();for(var g=-1,h=f.length,l,n;++g<h;)c.has(n=(l=f[g])+"")||c.set(n,d.push(l));return b};b.range=function(f){return arguments.length?(a=MM.call(f),b):a.slice()};b.unknown=function(f){return arguments.length?(e=f,b):e};b.copy=function(){return Gec().domain(d).range(a).unknown(e)};return b}function Iec(){function a(){var v=c().length,w=e[1]<e[0],y=e[w-0],B=e[1-w];f=(B-y)/Math.max(1,v-l+2*n);h&&(f=Math.floor(f));y+=(B-
y-f*(v-l))*r;g=f*(1-l);h&&(y=Math.round(y),g=Math.round(g));v=bL(v).map(function(G){return y+f*G});return d(w?v.reverse():v)}var b=Gec().unknown(void 0),c=b.domain,d=b.range,e=[0,1],f,g,h=!1,l=0,n=0,r=.5;delete b.unknown;b.domain=function(v){return arguments.length?(c(v),a()):c()};b.range=function(v){return arguments.length?(e=[+v[0],+v[1]],a()):e.slice()};b.rangeRound=function(v){return e=[+v[0],+v[1]],h=!0,a()};b.bandwidth=function(){return g};b.step=function(){return f};b.round=function(v){return arguments.length?
(h=!!v,a()):h};b.padding=function(v){return arguments.length?(l=n=Math.max(0,Math.min(1,v)),a()):l};b.paddingInner=function(v){return arguments.length?(l=Math.max(0,Math.min(1,v)),a()):l};b.paddingOuter=function(v){return arguments.length?(n=Math.max(0,Math.min(1,v)),a()):n};b.align=function(v){return arguments.length?(r=Math.max(0,Math.min(1,v)),a()):r};b.copy=function(){return Iec().domain(c()).range(e).round(h).paddingInner(l).paddingOuter(n).align(r)};return a()}function Jec(a){var b=a.copy;a.padding=
a.paddingOuter;delete a.paddingInner;delete a.paddingOuter;a.copy=function(){return Jec(b())};return a}function Kec(a){return function(){return a}}function Lec(a){return+a}function Mec(a,b){return(b-=a=+a)?function(c){return(c-a)/b}:Kec(b)}function Nec(a){return function(b,c){var d=a(b=+b,c=+c);return function(e){return e<=b?0:e>=c?1:d(e)}}}function Oec(a){return function(b,c){var d=a(b=+b,c=+c);return function(e){return 0>=e?b:1<=e?c:d(e)}}}function Pec(a,b,c,d){var e=a[0];a=a[1];var f=b[0];b=b[1];
a<e?(e=c(a,e),f=d(b,f)):(e=c(e,a),f=d(f,b));return function(g){return f(e(g))}}function Qec(a,b,c,d){var e=Math.min(a.length,b.length)-1,f=Array(e),g=Array(e),h=-1;a[e]<a[0]&&(a=a.slice().reverse(),b=b.slice().reverse());for(;++h<e;)f[h]=c(a[h],a[h+1]),g[h]=d(b[h],b[h+1]);return function(l){var n=NM(a,l,1,e)-1;return g[n](f[n](l))}}function Rec(a,b){return b.domain(a.domain()).range(a.range()).interpolate(a.interpolate()).clamp(a.clamp())}function Sec(a,b){function c(){l=2<Math.min(e.length,f.length)?
Qec:Pec;n=r=null;return d}function d(v){return(n||(n=l(e,f,h?Nec(a):a,g)))(+v)}var e=Tec,f=Tec,g=u8b,h=!1,l,n,r;d.invert=function(v){return(r||(r=l(f,e,Mec,h?Oec(b):b)))(+v)};d.domain=function(v){return arguments.length?(e=Uec.call(v,Lec),c()):e.slice()};d.range=function(v){return arguments.length?(f=MM.call(v),c()):f.slice()};d.rangeRound=function(v){return f=MM.call(v),g=D8b,c()};d.clamp=function(v){return arguments.length?(h=!!v,c()):h};d.interpolate=function(v){return arguments.length?(g=v,c()):
g};return c()}function OM(a){var b=a.domain;a.ticks=function(c){var d=b();return Q5b(d[0],d[d.length-1],null==c?10:c)};a.tickFormat=function(c,d){var e;a:{var f=b(),g=f[0];f=f[f.length-1];c=cL(g,f,null==c?10:c);d=lac(null==d?",f":d);switch(d.type){case "s":g=Math.max(Math.abs(g),Math.abs(f));null!=d.precision||isNaN(e=xac(c,g))||(d.precision=e);e=d3.formatPrefix(d,g);break a;case "":case "e":case "g":case "p":case "r":null!=d.precision||isNaN(e=yac(c,Math.max(Math.abs(g),Math.abs(f))))||(d.precision=
e-("e"===d.type));break;case "f":case "%":null!=d.precision||isNaN(e=wac(c))||(d.precision=e-2*("%"===d.type))}e=d3.format(d)}return e};a.nice=function(c){null==c&&(c=10);var d=b(),e=0,f=d.length-1,g=d[e],h=d[f];if(h<g){var l=g;g=h;h=l;l=e;e=f;f=l}l=R5b(g,h,c);0<l?(g=Math.floor(g/l)*l,h=Math.ceil(h/l)*l,l=R5b(g,h,c)):0>l&&(g=Math.ceil(g*l)/l,h=Math.floor(h*l)/l,l=R5b(g,h,c));0<l?(d[e]=Math.floor(g/l)*l,d[f]=Math.ceil(h/l)*l,b(d)):0>l&&(d[e]=Math.ceil(g*l)/l,d[f]=Math.floor(h*l)/l,b(d));return a};
return a}function Vec(){var a=Sec(Mec,xL);a.copy=function(){return Rec(a,Vec())};return OM(a)}function Wec(){function a(c){return+c}var b=[0,1];a.invert=a;a.domain=a.range=function(c){return arguments.length?(b=Uec.call(c,Lec),a):b.slice()};a.copy=function(){return Wec().domain(b)};return OM(a)}function Xec(a,b){a=a.slice();var c=0,d=a.length-1,e=a[c],f=a[d];if(f<e){var g=c;c=d;d=g;g=e;e=f;f=g}a[c]=b.floor(e);a[d]=b.ceil(f);return a}function Yec(a,b){return(b=Math.log(b/a))?function(c){return Math.log(c/
a)/b}:Kec(b)}function Zec(a,b){return 0>a?function(c){return-Math.pow(-b,c)*Math.pow(-a,1-c)}:function(c){return Math.pow(b,c)*Math.pow(a,1-c)}}function $ec(a){return isFinite(a)?+("1e"+a):0>a?0:a}function afc(a){return 10===a?$ec:a===Math.E?Math.exp:function(b){return Math.pow(a,b)}}function bfc(a){return a===Math.E?Math.log:10===a&&Math.log10||2===a&&Math.log2||(a=Math.log(a),function(b){return Math.log(b)/a})}function cfc(a){return function(b){return-a(-b)}}function dfc(){function a(){e=bfc(d);
f=afc(d);0>c()[0]&&(e=cfc(e),f=cfc(f));return b}var b=Sec(Yec,Zec).domain([1,10]),c=b.domain,d=10,e=bfc(10),f=afc(10);b.base=function(g){return arguments.length?(d=+g,a()):d};b.domain=function(g){return arguments.length?(c(g),a()):c()};b.ticks=function(g){var h=c(),l=h[0];h=h[h.length-1];var n;if(n=h<l)r=l,l=h,h=r;var r=e(l),v=e(h);var w=null==g?10:+g;g=[];if(!(d%1)&&v-r<w)if(r=Math.round(r)-1,v=Math.round(v)+1,0<l)for(;r<v;++r){var y=1;for(w=f(r);y<d;++y){var B=w*y;if(!(B<l)){if(B>h)break;g.push(B)}}}else for(;r<
v;++r)for(y=d-1,w=f(r);1<=y;--y){if(B=w*y,!(B<l)){if(B>h)break;g.push(B)}}else g=Q5b(r,v,Math.min(v-r,w)).map(f);return n?g.reverse():g};b.tickFormat=function(g,h){null==h&&(h=10===d?".0e":",");"function"!==typeof h&&(h=d3.format(h));if(Infinity===g)return h;null==g&&(g=10);var l=Math.max(1,d*g/b.ticks().length);return function(n){var r=n/f(Math.round(e(n)));r*d<d-.5&&(r*=d);return r<=l?h(n):""}};b.nice=function(){return c(Xec(c(),{floor:function(g){return f(Math.floor(e(g)))},ceil:function(g){return f(Math.ceil(e(g)))}}))};
b.copy=function(){return Rec(b,dfc().base(d))};return b}function PM(a,b){return 0>a?-Math.pow(-a,b):Math.pow(a,b)}function efc(){var a=1,b=Sec(function(d,e){return(e=PM(e,a)-(d=PM(d,a)))?function(f){return(PM(f,a)-d)/e}:Kec(e)},function(d,e){e=PM(e,a)-(d=PM(d,a));return function(f){return PM(d+e*f,1/a)}}),c=b.domain;b.exponent=function(d){return arguments.length?(a=+d,c(c())):a};b.copy=function(){return Rec(b,efc().exponent(a))};return OM(b)}function ffc(){function a(){var f=0,g=Math.max(1,d.length);
for(e=Array(g-1);++f<g;)e[f-1]=W5b(c,f/g);return b}function b(f){if(!isNaN(f=+f))return d[NM(e,f)]}var c=[],d=[],e=[];b.invertExtent=function(f){f=d.indexOf(f);return 0>f?[NaN,NaN]:[0<f?e[f-1]:c[0],f<e.length?e[f]:c[c.length-1]]};b.domain=function(f){if(!arguments.length)return c.slice();c=[];for(var g=0,h=f.length,l;g<h;++g)(l=f[g],null==l||isNaN(l=+l))||c.push(l);c.sort($K);return a()};b.range=function(f){return arguments.length?(d=MM.call(f),a()):d.slice()};b.quantiles=function(){return e.slice()};
b.copy=function(){return ffc().domain(c).range(d)};return b}function gfc(){function a(h){if(h<=h)return g[NM(f,h,0,e)]}function b(){var h=-1;for(f=Array(e);++h<e;)f[h]=((h+1)*d-(h-e)*c)/(e+1);return a}var c=0,d=1,e=1,f=[.5],g=[0,1];a.domain=function(h){return arguments.length?(c=+h[0],d=+h[1],b()):[c,d]};a.range=function(h){return arguments.length?(e=(g=MM.call(h)).length-1,b()):g.slice()};a.invertExtent=function(h){h=g.indexOf(h);return 0>h?[NaN,NaN]:1>h?[c,f[0]]:h>=e?[f[e-1],d]:[f[h-1],f[h]]};a.copy=
function(){return gfc().domain([c,d]).range(g)};return OM(a)}function hfc(){function a(e){if(e<=e)return c[NM(b,e,0,d)]}var b=[.5],c=[0,1],d=1;a.domain=function(e){return arguments.length?(b=MM.call(e),d=Math.min(b.length,c.length-1),a):b.slice()};a.range=function(e){return arguments.length?(c=MM.call(e),d=Math.min(b.length,c.length-1),a):c.slice()};a.invertExtent=function(e){e=c.indexOf(e);return[b[e-1],b[e]]};a.copy=function(){return hfc().domain(b).range(c)};return a}function QM(a,b,c,d){function e(f){return a(f=
new Date(+f)),f}e.floor=e;e.ceil=function(f){return a(f=new Date(f-1)),b(f,1),a(f),f};e.round=function(f){var g=e(f),h=e.ceil(f);return f-g<h-f?g:h};e.offset=function(f,g){return b(f=new Date(+f),null==g?1:Math.floor(g)),f};e.range=function(f,g,h){var l=[],n;f=e.ceil(f);h=null==h?1:Math.floor(h);if(!(f<g&&0<h))return l;do l.push(n=new Date(+f)),b(f,h),a(f);while(n<f&&f<g);return l};e.filter=function(f){return QM(function(g){if(g>=g)for(;a(g),!f(g);)g.setTime(g-1)},function(g,h){if(g>=g)if(0>h)for(;0>=
++h;)for(;b(g,-1),!f(g););else for(;0<=--h;)for(;b(g,1),!f(g););})};c&&(e.count=function(f,g){ifc.setTime(+f);jfc.setTime(+g);a(ifc);a(jfc);return Math.floor(c(ifc,jfc))},e.every=function(f){f=Math.floor(f);return isFinite(f)&&0<f?1<f?e.filter(d?function(g){return 0===d(g)%f}:function(g){return 0===e.count(0,g)%f}):e:null});return e}function RM(a){return QM(function(b){b.setDate(b.getDate()-(b.getDay()+7-a)%7);b.setHours(0,0,0,0)},function(b,c){b.setDate(b.getDate()+7*c)},function(b,c){return(c-b-
6E4*(c.getTimezoneOffset()-b.getTimezoneOffset()))/6048E5})}function SM(a){return QM(function(b){b.setUTCDate(b.getUTCDate()-(b.getUTCDay()+7-a)%7);b.setUTCHours(0,0,0,0)},function(b,c){b.setUTCDate(b.getUTCDate()+7*c)},function(b,c){return(c-b)/6048E5})}function kfc(a){if(0<=a.y&&100>a.y){var b=new Date(-1,a.m,a.d,a.H,a.M,a.S,a.L);b.setFullYear(a.y);return b}return new Date(a.y,a.m,a.d,a.H,a.M,a.S,a.L)}function lfc(a){if(0<=a.y&&100>a.y){var b=new Date(Date.UTC(-1,a.m,a.d,a.H,a.M,a.S,a.L));b.setUTCFullYear(a.y);
return b}return new Date(Date.UTC(a.y,a.m,a.d,a.H,a.M,a.S,a.L))}function mfc(a){return{y:a,m:0,d:1,H:0,M:0,S:0,L:0}}function nfc(a){function b(H,Y){return function(X){var W=[],Z=-1,ua=0,ma=H.length,ea,na;for(X instanceof Date||(X=new Date(+X));++Z<ma;)if(37===H.charCodeAt(Z)){W.push(H.slice(ua,Z));null!=(ua=ofc[ea=H.charAt(++Z)])?ea=H.charAt(++Z):ua="e"===ea?" ":"0";if(na=Y[ea])ea=na(X,ua);W.push(ea);ua=Z+1}W.push(H.slice(ua,Z));return W.join("")}}function c(H,Y){return function(X){var W=mfc(1900);
if(d(W,H,X,0)!=X.length)return null;if("Q"in W)return new Date(W.Q);"p"in W&&(W.H=W.H%12+12*W.p);if("V"in W){if(1>W.V||53<W.V)return null;"w"in W||(W.w=1);if("Z"in W){X=lfc(mfc(W.y));var Z=X.getUTCDay();X=4<Z||0===Z?pfc.ceil(X):pfc(X);X=qfc.offset(X,7*(W.V-1));W.y=X.getUTCFullYear();W.m=X.getUTCMonth();W.d=X.getUTCDate()+(W.w+6)%7}else X=Y(mfc(W.y)),Z=X.getDay(),X=4<Z||0===Z?rfc.ceil(X):rfc(X),X=sfc.offset(X,7*(W.V-1)),W.y=X.getFullYear(),W.m=X.getMonth(),W.d=X.getDate()+(W.w+6)%7}else if("W"in W||
"U"in W)"w"in W||(W.w="u"in W?W.u%7:"W"in W?1:0),Z="Z"in W?lfc(mfc(W.y)).getUTCDay():Y(mfc(W.y)).getDay(),W.m=0,W.d="W"in W?(W.w+6)%7+7*W.W-(Z+5)%7:W.w+7*W.U-(Z+6)%7;return"Z"in W?(W.H+=W.Z/100|0,W.M+=W.Z%100,lfc(W)):Y(W)}}function d(H,Y,X,W){for(var Z=0,ua=Y.length,ma=X.length,ea;Z<ua;){if(W>=ma)return-1;ea=Y.charCodeAt(Z++);if(37===ea){if(ea=Y.charAt(Z++),ea=cb[ea in ofc?Y.charAt(Z++):ea],!ea||0>(W=ea(H,X,W)))return-1}else if(ea!=X.charCodeAt(W++))return-1}return W}var e=a.dateTime,f=a.date,g=a.time,
h=a.periods,l=a.days,n=a.shortDays,r=a.months,v=a.shortMonths,w=tfc(h),y=ufc(h),B=tfc(l),G=ufc(l),O=tfc(n),T=ufc(n),J=tfc(r),R=ufc(r),ra=tfc(v),Ba=ufc(v),Ka={a:function(H){return n[H.getDay()]},A:function(H){return l[H.getDay()]},b:function(H){return v[H.getMonth()]},B:function(H){return r[H.getMonth()]},c:null,d:vfc,e:vfc,f:wfc,H:xfc,I:yfc,j:zfc,L:Afc,m:Bfc,M:Cfc,p:function(H){return h[+(12<=H.getHours())]},Q:Dfc,s:Efc,S:Ffc,u:Gfc,U:Hfc,V:Ifc,w:Jfc,W:Kfc,x:null,X:null,y:Lfc,Y:Mfc,Z:Nfc,"%":Ofc},
Va={a:function(H){return n[H.getUTCDay()]},A:function(H){return l[H.getUTCDay()]},b:function(H){return v[H.getUTCMonth()]},B:function(H){return r[H.getUTCMonth()]},c:null,d:Pfc,e:Pfc,f:Qfc,H:Rfc,I:Sfc,j:Tfc,L:Ufc,m:Vfc,M:Wfc,p:function(H){return h[+(12<=H.getUTCHours())]},Q:Dfc,s:Efc,S:Xfc,u:Yfc,U:Zfc,V:$fc,w:agc,W:bgc,x:null,X:null,y:cgc,Y:dgc,Z:egc,"%":Ofc},cb={a:function(H,Y,X){return(Y=O.exec(Y.slice(X)))?(H.w=T[Y[0].toLowerCase()],X+Y[0].length):-1},A:function(H,Y,X){return(Y=B.exec(Y.slice(X)))?
(H.w=G[Y[0].toLowerCase()],X+Y[0].length):-1},b:function(H,Y,X){return(Y=ra.exec(Y.slice(X)))?(H.m=Ba[Y[0].toLowerCase()],X+Y[0].length):-1},B:function(H,Y,X){return(Y=J.exec(Y.slice(X)))?(H.m=R[Y[0].toLowerCase()],X+Y[0].length):-1},c:function(H,Y,X){return d(H,e,Y,X)},d:fgc,e:fgc,f:ggc,H:hgc,I:hgc,j:igc,L:jgc,m:kgc,M:lgc,p:function(H,Y,X){return(Y=w.exec(Y.slice(X)))?(H.p=y[Y[0].toLowerCase()],X+Y[0].length):-1},Q:mgc,s:ngc,S:ogc,u:pgc,U:qgc,V:rgc,w:sgc,W:tgc,x:function(H,Y,X){return d(H,f,Y,X)},
X:function(H,Y,X){return d(H,g,Y,X)},y:ugc,Y:vgc,Z:wgc,"%":xgc};Ka.x=b(f,Ka);Ka.X=b(g,Ka);Ka.c=b(e,Ka);Va.x=b(f,Va);Va.X=b(g,Va);Va.c=b(e,Va);return{format:function(H){var Y=b(H,Ka);Y.toString=function(){return H};return Y},parse:function(H){var Y=c(H,kfc);Y.toString=function(){return H};return Y},utcFormat:function(H){var Y=b(H,Va);Y.toString=function(){return H};return Y},utcParse:function(H){var Y=c(H,lfc);Y.toString=function(){return H};return Y}}}function TM(a,b,c){var d=0>a?"-":"";a=(d?-a:a)+
"";var e=a.length;return d+(e<c?Array(c-e+1).join(b)+a:a)}function ygc(a){return a.replace(zgc,"\\$&")}function tfc(a){return new RegExp("^(?:"+a.map(ygc).join("|")+")","i")}function ufc(a){for(var b={},c=-1,d=a.length;++c<d;)b[a[c].toLowerCase()]=c;return b}function sgc(a,b,c){return(b=UM.exec(b.slice(c,c+1)))?(a.w=+b[0],c+b[0].length):-1}function pgc(a,b,c){return(b=UM.exec(b.slice(c,c+1)))?(a.u=+b[0],c+b[0].length):-1}function qgc(a,b,c){return(b=UM.exec(b.slice(c,c+2)))?(a.U=+b[0],c+b[0].length):
-1}function rgc(a,b,c){return(b=UM.exec(b.slice(c,c+2)))?(a.V=+b[0],c+b[0].length):-1}function tgc(a,b,c){return(b=UM.exec(b.slice(c,c+2)))?(a.W=+b[0],c+b[0].length):-1}function vgc(a,b,c){return(b=UM.exec(b.slice(c,c+4)))?(a.y=+b[0],c+b[0].length):-1}function ugc(a,b,c){return(b=UM.exec(b.slice(c,c+2)))?(a.y=+b[0]+(68<+b[0]?1900:2E3),c+b[0].length):-1}function wgc(a,b,c){return(b=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(b.slice(c,c+6)))?(a.Z=b[1]?0:-(b[2]+(b[3]||"00")),c+b[0].length):-1}function kgc(a,
b,c){return(b=UM.exec(b.slice(c,c+2)))?(a.m=b[0]-1,c+b[0].length):-1}function fgc(a,b,c){return(b=UM.exec(b.slice(c,c+2)))?(a.d=+b[0],c+b[0].length):-1}function igc(a,b,c){return(b=UM.exec(b.slice(c,c+3)))?(a.m=0,a.d=+b[0],c+b[0].length):-1}function hgc(a,b,c){return(b=UM.exec(b.slice(c,c+2)))?(a.H=+b[0],c+b[0].length):-1}function lgc(a,b,c){return(b=UM.exec(b.slice(c,c+2)))?(a.M=+b[0],c+b[0].length):-1}function ogc(a,b,c){return(b=UM.exec(b.slice(c,c+2)))?(a.S=+b[0],c+b[0].length):-1}function jgc(a,
b,c){return(b=UM.exec(b.slice(c,c+3)))?(a.L=+b[0],c+b[0].length):-1}function ggc(a,b,c){return(b=UM.exec(b.slice(c,c+6)))?(a.L=Math.floor(b[0]/1E3),c+b[0].length):-1}function xgc(a,b,c){return(a=Agc.exec(b.slice(c,c+1)))?c+a[0].length:-1}function mgc(a,b,c){return(b=UM.exec(b.slice(c)))?(a.Q=+b[0],c+b[0].length):-1}function ngc(a,b,c){return(b=UM.exec(b.slice(c)))?(a.Q=1E3*+b[0],c+b[0].length):-1}function vfc(a,b){return TM(a.getDate(),b,2)}function xfc(a,b){return TM(a.getHours(),b,2)}function yfc(a,
b){return TM(a.getHours()%12||12,b,2)}function zfc(a,b){return TM(1+sfc.count(VM(a),a),b,3)}function Afc(a,b){return TM(a.getMilliseconds(),b,3)}function wfc(a,b){return Afc(a,b)+"000"}function Bfc(a,b){return TM(a.getMonth()+1,b,2)}function Cfc(a,b){return TM(a.getMinutes(),b,2)}function Ffc(a,b){return TM(a.getSeconds(),b,2)}function Gfc(a){a=a.getDay();return 0===a?7:a}function Hfc(a,b){return TM(Bgc.count(VM(a),a),b,2)}function Ifc(a,b){var c=a.getDay();a=4<=c||0===c?Cgc(a):Cgc.ceil(a);return TM(Cgc.count(VM(a),
a)+(4===VM(a).getDay()),b,2)}function Jfc(a){return a.getDay()}function Kfc(a,b){return TM(rfc.count(VM(a),a),b,2)}function Lfc(a,b){return TM(a.getFullYear()%100,b,2)}function Mfc(a,b){return TM(a.getFullYear()%1E4,b,4)}function Nfc(a){a=a.getTimezoneOffset();return(0<a?"-":(a*=-1,"+"))+TM(a/60|0,"0",2)+TM(a%60,"0",2)}function Pfc(a,b){return TM(a.getUTCDate(),b,2)}function Rfc(a,b){return TM(a.getUTCHours(),b,2)}function Sfc(a,b){return TM(a.getUTCHours()%12||12,b,2)}function Tfc(a,b){return TM(1+
qfc.count(WM(a),a),b,3)}function Ufc(a,b){return TM(a.getUTCMilliseconds(),b,3)}function Qfc(a,b){return Ufc(a,b)+"000"}function Vfc(a,b){return TM(a.getUTCMonth()+1,b,2)}function Wfc(a,b){return TM(a.getUTCMinutes(),b,2)}function Xfc(a,b){return TM(a.getUTCSeconds(),b,2)}function Yfc(a){a=a.getUTCDay();return 0===a?7:a}function Zfc(a,b){return TM(Dgc.count(WM(a),a),b,2)}function $fc(a,b){var c=a.getUTCDay();a=4<=c||0===c?Egc(a):Egc.ceil(a);return TM(Egc.count(WM(a),a)+(4===WM(a).getUTCDay()),b,2)}
function agc(a){return a.getUTCDay()}function bgc(a,b){return TM(pfc.count(WM(a),a),b,2)}function cgc(a,b){return TM(a.getUTCFullYear()%100,b,2)}function dgc(a,b){return TM(a.getUTCFullYear()%1E4,b,4)}function egc(){return"+0000"}function Ofc(){return"%"}function Dfc(a){return+a}function Efc(a){return Math.floor(+a/1E3)}function Fgc(a){XM=nfc(a);d3.timeFormat=XM.format;d3.timeParse=XM.parse;d3.utcFormat=XM.utcFormat;d3.utcParse=XM.utcParse;return XM}function Ggc(a){return a.toISOString()}function Hgc(a){a=
new Date(a);return isNaN(a)?null:a}function Igc(a){return new Date(a)}function Jgc(a){return a instanceof Date?+a:+new Date(+a)}function Kgc(a,b,c,d,e,f,g,h,l){function n(Va){return(g(Va)<Va?B:f(Va)<Va?G:e(Va)<Va?O:d(Va)<Va?T:b(Va)<Va?c(Va)<Va?J:R:a(Va)<Va?ra:Ba)(Va)}function r(Va,cb,H,Y){null==Va&&(Va=10);if("number"===typeof Va){Y=Math.abs(H-cb)/Va;var X=I5b(function(W){return W[2]}).right(Ka,Y);X===Ka.length?(Y=cL(cb/31536E6,H/31536E6,Va),Va=a):X?(X=Ka[Y/Ka[X-1][2]<Ka[X][2]/Y?X-1:X],Y=X[1],Va=
X[0]):(Y=Math.max(cL(cb,H,Va),1),Va=h)}return null==Y?Va:Va.every(Y)}var v=Sec(Mec,xL),w=v.invert,y=v.domain,B=l(".%L"),G=l(":%S"),O=l("%I:%M"),T=l("%I %p"),J=l("%a %d"),R=l("%b %d"),ra=l("%B"),Ba=l("%Y"),Ka=[[g,1,1E3],[g,5,5E3],[g,15,15E3],[g,30,3E4],[f,1,6E4],[f,5,3E5],[f,15,9E5],[f,30,18E5],[e,1,36E5],[e,3,108E5],[e,6,216E5],[e,12,432E5],[d,1,864E5],[d,2,1728E5],[c,1,6048E5],[b,1,2592E6],[b,3,7776E6],[a,1,31536E6]];v.invert=function(Va){return new Date(w(Va))};v.domain=function(Va){return arguments.length?
y(Uec.call(Va,Jgc)):y().map(Igc)};v.ticks=function(Va,cb){var H=y(),Y=H[0];H=H[H.length-1];var X=H<Y;if(X){var W=Y;Y=H;H=W}W=(W=r(Va,Y,H,cb))?W.range(Y,H+1):[];return X?W.reverse():W};v.tickFormat=function(Va,cb){return null==cb?n:l(cb)};v.nice=function(Va,cb){var H=y();return(Va=r(Va,H[0],H[H.length-1],cb))?y(Xec(H,Va)):v};v.copy=function(){return Rec(v,Kgc(a,b,c,d,e,f,g,h,l))};return v}function Lgc(a){function b(g){g=(g-c)*e;return a(f?Math.max(0,Math.min(1,g)):g)}var c=0,d=1,e=1,f=!1;b.domain=
function(g){return arguments.length?(c=+g[0],d=+g[1],e=c===d?0:1/(d-c),b):[c,d]};b.clamp=function(g){return arguments.length?(f=!!g,b):f};b.interpolator=function(g){return arguments.length?(a=g,b):a};b.copy=function(){return Lgc(a).domain([c,d]).clamp(f)};return OM(b)}function Mgc(a){function b(l){var n=.5+((l=+l)-d)*(l<d?f:g);return a(h?Math.max(0,Math.min(1,n)):n)}var c=0,d=.5,e=1,f=1,g=1,h=!1;b.domain=function(l){return arguments.length?(c=+l[0],d=+l[1],e=+l[2],f=c===d?0:.5/(d-c),g=d===e?0:.5/
(e-d),b):[c,d,e]};b.clamp=function(l){return arguments.length?(h=!!l,b):h};b.interpolator=function(l){return arguments.length?(a=l,b):a};b.copy=function(){return Mgc(a).domain([c,d,e]).clamp(h)};return OM(b)}function YM(a){for(var b=a.length/6|0,c=Array(b),d=0;d<b;)c[d]="#"+a.slice(6*d,6*++d);return c}function ZM(a){return Ngc(a[a.length-1])}function Ogc(a){var b=a.length;return function(c){return a[Math.max(0,Math.min(b-1,Math.floor(c*b)))]}}function $M(a){return function(){return a}}function Pgc(a){return 1<=
a?Qgc:-1>=a?-Qgc:Math.asin(a)}function Rgc(a){return a.innerRadius}function Sgc(a){return a.outerRadius}function Tgc(a){return a.startAngle}function Ugc(a){return a.endAngle}function Vgc(a){return a&&a.padAngle}function Wgc(a,b,c,d,e,f,g){var h=a-c,l=b-d;g=(g?f:-f)/aN(h*h+l*l);l*=g;h*=-g;var n=a+l,r=b+h,v=c+l,w=d+h;c=(n+v)/2;d=(r+w)/2;b=v-n;a=w-r;g=b*b+a*a;f=e-f;w=n*w-v*r;var y=(0>a?-1:1)*aN(Xgc(0,f*f*g-w*w));n=(w*a-b*y)/g;r=(-w*b-a*y)/g;v=(w*a+b*y)/g;b=(-w*b+a*y)/g;a=n-c;g=r-d;c=v-c;d=b-d;a*a+g*
g>c*c+d*d&&(n=v,r=b);return{cx:n,cy:r,x01:-l,y01:-h,x11:n*(e/f-1),y11:r*(e/f-1)}}function Ygc(a){this._context=a}function Zgc(a){return new Ygc(a)}function $gc(a){return a[0]}function ahc(a){return a[1]}function bhc(){function a(h){var l,n=h.length,r,v=!1,w;null==e&&(g=f(w=IL()));for(l=0;l<=n;++l)!(l<n&&d(r=h[l],l,h))===v&&((v=!v)?g.lineStart():g.lineEnd()),v&&g.point(+b(r,l,h),+c(r,l,h));if(w)return g=null,w+""||null}var b=$gc,c=ahc,d=$M(!0),e=null,f=Zgc,g=null;a.x=function(h){return arguments.length?
(b="function"===typeof h?h:$M(+h),a):b};a.y=function(h){return arguments.length?(c="function"===typeof h?h:$M(+h),a):c};a.defined=function(h){return arguments.length?(d="function"===typeof h?h:$M(!!h),a):d};a.curve=function(h){return arguments.length?(f=h,null!=e&&(g=f(e)),a):f};a.context=function(h){return arguments.length?(null==h?e=g=null:g=f(e=h),a):e};return a}function chc(){function a(r){var v,w,y=r.length,B,G=!1,O,T=Array(y),J=Array(y);null==h&&(n=l(O=IL()));for(v=0;v<=y;++v){if(!(v<y&&g(B=
r[v],v,r))===G)if(G=!G){var R=v;n.areaStart();n.lineStart()}else{n.lineEnd();n.lineStart();for(w=v-1;w>=R;--w)n.point(T[w],J[w]);n.lineEnd();n.areaEnd()}G&&(T[v]=+c(B,v,r),J[v]=+e(B,v,r),n.point(d?+d(B,v,r):T[v],f?+f(B,v,r):J[v]))}if(O)return n=null,O+""||null}function b(){return bhc().defined(g).curve(l).context(h)}var c=$gc,d=null,e=$M(0),f=ahc,g=$M(!0),h=null,l=Zgc,n=null;a.x=function(r){return arguments.length?(c="function"===typeof r?r:$M(+r),d=null,a):c};a.x0=function(r){return arguments.length?
(c="function"===typeof r?r:$M(+r),a):c};a.x1=function(r){return arguments.length?(d=null==r?null:"function"===typeof r?r:$M(+r),a):d};a.y=function(r){return arguments.length?(e="function"===typeof r?r:$M(+r),f=null,a):e};a.y0=function(r){return arguments.length?(e="function"===typeof r?r:$M(+r),a):e};a.y1=function(r){return arguments.length?(f=null==r?null:"function"===typeof r?r:$M(+r),a):f};a.lineX0=a.lineY0=function(){return b().x(c).y(e)};a.lineY1=function(){return b().x(c).y(f)};a.lineX1=function(){return b().x(d).y(e)};
a.defined=function(r){return arguments.length?(g="function"===typeof r?r:$M(!!r),a):g};a.curve=function(r){return arguments.length?(l=r,null!=h&&(n=l(h)),a):l};a.context=function(r){return arguments.length?(null==r?h=n=null:n=l(h=r),a):h};return a}function dhc(a,b){return b<a?-1:b>a?1:b>=a?0:NaN}function ehc(a){return a}function fhc(a){this._curve=a}function ghc(a){function b(c){return new fhc(a(c))}b._curve=a;return b}function hhc(a){var b=a.curve;a.angle=a.x;delete a.x;a.radius=a.y;delete a.y;a.curve=
function(c){return arguments.length?b(ghc(c)):b()._curve};return a}function ihc(){return hhc(bhc().curve(jhc))}function khc(){var a=chc().curve(jhc),b=a.curve,c=a.lineX0,d=a.lineX1,e=a.lineY0,f=a.lineY1;a.angle=a.x;delete a.x;a.startAngle=a.x0;delete a.x0;a.endAngle=a.x1;delete a.x1;a.radius=a.y;delete a.y;a.innerRadius=a.y0;delete a.y0;a.outerRadius=a.y1;delete a.y1;a.lineStartAngle=function(){return hhc(c())};delete a.lineX0;a.lineEndAngle=function(){return hhc(d())};delete a.lineX1;a.lineInnerRadius=
function(){return hhc(e())};delete a.lineY0;a.lineOuterRadius=function(){return hhc(f())};delete a.lineY1;a.curve=function(g){return arguments.length?b(ghc(g)):b()._curve};return a}function lhc(a,b){return[(b=+b)*Math.cos(a-=Math.PI/2),b*Math.sin(a)]}function mhc(a){return a.source}function nhc(a){return a.target}function ohc(a){function b(){var h,l=phc.call(arguments),n=c.apply(this,l),r=d.apply(this,l);g||(g=h=IL());a(g,+e.apply(this,(l[0]=n,l)),+f.apply(this,l),+e.apply(this,(l[0]=r,l)),+f.apply(this,
l));if(h)return g=null,h+""||null}var c=mhc,d=nhc,e=$gc,f=ahc,g=null;b.source=function(h){return arguments.length?(c=h,b):c};b.target=function(h){return arguments.length?(d=h,b):d};b.x=function(h){return arguments.length?(e="function"===typeof h?h:$M(+h),b):e};b.y=function(h){return arguments.length?(f="function"===typeof h?h:$M(+h),b):f};b.context=function(h){return arguments.length?(g=null==h?null:h,b):g};return b}function qhc(a,b,c,d,e){a.moveTo(b,c);a.bezierCurveTo(b=(b+d)/2,c,b,e,d,e)}function rhc(a,
b,c,d,e){a.moveTo(b,c);a.bezierCurveTo(b,c=(c+e)/2,d,c,d,e)}function shc(a,b,c,d,e){var f=lhc(b,c);b=lhc(b,c=(c+e)/2);c=lhc(d,c);d=lhc(d,e);a.moveTo(f[0],f[1]);a.bezierCurveTo(b[0],b[1],c[0],c[1],d[0],d[1])}function bN(){}function thc(a,b,c){a._context.bezierCurveTo((2*a._x0+a._x1)/3,(2*a._y0+a._y1)/3,(a._x0+2*a._x1)/3,(a._y0+2*a._y1)/3,(a._x0+4*a._x1+b)/6,(a._y0+4*a._y1+c)/6)}function uhc(a){this._context=a}function vhc(a){this._context=a}function whc(a){this._context=a}function xhc(a,b){this._basis=
new uhc(a);this._beta=b}function yhc(a,b,c){a._context.bezierCurveTo(a._x1+a._k*(a._x2-a._x0),a._y1+a._k*(a._y2-a._y0),a._x2+a._k*(a._x1-b),a._y2+a._k*(a._y1-c),a._x2,a._y2)}function zhc(a,b){this._context=a;this._k=(1-b)/6}function Ahc(a,b){this._context=a;this._k=(1-b)/6}function Bhc(a,b){this._context=a;this._k=(1-b)/6}function Chc(a,b,c){var d=a._x1,e=a._y1,f=a._x2,g=a._y2;if(1E-12<a._l01_a){var h=2*a._l01_2a+3*a._l01_a*a._l12_a+a._l12_2a,l=3*a._l01_a*(a._l01_a+a._l12_a);d=(d*h-a._x0*a._l12_2a+
a._x2*a._l01_2a)/l;e=(e*h-a._y0*a._l12_2a+a._y2*a._l01_2a)/l}1E-12<a._l23_a&&(h=2*a._l23_2a+3*a._l23_a*a._l12_a+a._l12_2a,l=3*a._l23_a*(a._l23_a+a._l12_a),f=(f*h+a._x1*a._l23_2a-b*a._l12_2a)/l,g=(g*h+a._y1*a._l23_2a-c*a._l12_2a)/l);a._context.bezierCurveTo(d,e,f,g,a._x2,a._y2)}function Dhc(a,b){this._context=a;this._alpha=b}function Ehc(a,b){this._context=a;this._alpha=b}function Fhc(a,b){this._context=a;this._alpha=b}function Ghc(a){this._context=a}function Hhc(a,b,c){var d=a._x1-a._x0;b-=a._x1;
var e=(a._y1-a._y0)/(d||0>b&&-0);a=(c-a._y1)/(b||0>d&&-0);return((0>e?-1:1)+(0>a?-1:1))*Math.min(Math.abs(e),Math.abs(a),.5*Math.abs((e*b+a*d)/(d+b)))||0}function Ihc(a,b){var c=a._x1-a._x0;return c?(3*(a._y1-a._y0)/c-b)/2:b}function Jhc(a,b,c){var d=a._x0,e=a._x1,f=a._y1,g=(e-d)/3;a._context.bezierCurveTo(d+g,a._y0+g*b,e-g,f-g*c,e,f)}function Khc(a){this._context=a}function Lhc(a){this._context=new Mhc(a)}function Mhc(a){this._context=a}function Nhc(a){this._context=a}function Ohc(a){var b,c=a.length-
1,d=Array(c),e=Array(c),f=Array(c);d[0]=0;e[0]=2;f[0]=a[0]+2*a[1];for(b=1;b<c-1;++b)d[b]=1,e[b]=4,f[b]=4*a[b]+2*a[b+1];d[c-1]=2;e[c-1]=7;f[c-1]=8*a[c-1]+a[c];for(b=1;b<c;++b){var g=d[b]/e[b-1];e[b]-=g;f[b]-=g*f[b-1]}d[c-1]=f[c-1]/e[c-1];for(b=c-2;0<=b;--b)d[b]=(f[b]-d[b+1])/e[b];e[c-1]=(a[c]+d[c-1])/2;for(b=0;b<c-1;++b)e[b]=2*a[b+1]-d[b+1];return[d,e]}function Phc(a,b){this._context=a;this._t=b}function cN(a,b){if(1<(g=a.length))for(var c=1,d,e,f=a[b[0]],g,h=f.length;c<g;++c)for(e=f,f=a[b[c]],d=0;d<
h;++d)f[d][1]+=f[d][0]=isNaN(e[d][1])?e[d][0]:e[d][1]}function dN(a){a=a.length;for(var b=Array(a);0<=--a;)b[a]=a;return b}function Qhc(a,b){return a[b]}function Rhc(a){var b=a.map(Shc);return dN(a).sort(function(c,d){return b[c]-b[d]})}function Shc(a){for(var b=0,c=-1,d=a.length,e;++c<d;)if(e=+a[c][1])b+=e;return b}function Thc(a){return function(){return a}}function Uhc(a){return a[0]}function Vhc(a){return a[1]}function Whc(){this._=null}function Xhc(a){a.U=a.C=a.L=a.R=a.P=a.N=null}function Yhc(a,
b){var c=b.R,d=b.U;d?d.L===b?d.L=c:d.R=c:a._=c;c.U=d;b.U=c;b.R=c.L;b.R&&(b.R.U=b);c.L=b}function Zhc(a,b){var c=b.L,d=b.U;d?d.L===b?d.L=c:d.R=c:a._=c;c.U=d;b.U=c;b.L=c.R;b.L&&(b.L.U=b);c.R=b}function $hc(a){for(;a.L;)a=a.L;return a}function aic(a,b,c,d){var e=[null,null],f=eN.push(e)-1;e.left=a;e.right=b;c&&bic(e,a,b,c);d&&bic(e,b,a,d);fN[a.index].halfedges.push(f);fN[b.index].halfedges.push(f);return e}function cic(a,b,c){b=[b,c];b.left=a;return b}function bic(a,b,c,d){a[0]||a[1]?a.left===c?a[1]=
d:a[0]=d:(a[0]=d,a.left=b,a.right=c)}function dic(a,b,c,d,e){var f=a[0],g=a[1],h=f[0];f=f[1];var l=0,n=1,r=g[0]-h;g=g[1]-f;b-=h;if(r||!(0<b)){b/=r;if(0>r){if(b<l)return;b<n&&(n=b)}else if(0<r){if(b>n)return;b>l&&(l=b)}b=d-h;if(r||!(0>b)){b/=r;if(0>r){if(b>n)return;b>l&&(l=b)}else if(0<r){if(b<l)return;b<n&&(n=b)}b=c-f;if(g||!(0<b)){b/=g;if(0>g){if(b<l)return;b<n&&(n=b)}else if(0<g){if(b>n)return;b>l&&(l=b)}b=e-f;if(g||!(0>b)){b/=g;if(0>g){if(b>n)return;b>l&&(l=b)}else if(0<g){if(b<l)return;b<n&&(n=
b)}if(!(0<l||1>n))return!0;0<l&&(a[0]=[h+l*r,f+l*g]);1>n&&(a[1]=[h+n*r,f+n*g]);return!0}}}}}function eic(a,b,c,d,e){var f=a[1];if(f)return!0;var g=a[0],h=a.left,l=a.right;f=h[0];h=h[1];var n=l[0];l=l[1];var r=(f+n)/2;if(l===h){if(r<b||r>=d)return;if(f>n){if(!g)g=[r,c];else if(g[1]>=e)return;f=[r,e]}else{if(!g)g=[r,e];else if(g[1]<c)return;f=[r,c]}}else{var v=(f-n)/(l-h);r=(h+l)/2-v*r;if(-1>v||1<v)if(f>n){if(!g)g=[(c-r)/v,c];else if(g[1]>=e)return;f=[(e-r)/v,e]}else{if(!g)g=[(e-r)/v,e];else if(g[1]<
c)return;f=[(c-r)/v,c]}else if(h<l){if(!g)g=[b,v*b+r];else if(g[0]>=d)return;f=[d,v*d+r]}else{if(!g)g=[d,v*d+r];else if(g[0]<b)return;f=[b,v*b+r]}}a[0]=g;a[1]=f;return!0}function fic(a,b){a=a.site;var c=b.left,d=b.right;a===d&&(d=c,c=a);if(d)return Math.atan2(d[1]-c[1],d[0]-c[0]);a===c?(c=b[1],d=b[0]):(c=b[0],d=b[1]);return Math.atan2(c[0]-d[0],d[1]-c[1])}function gic(a,b){return b[+(b.left!==a.site)]}function hic(){for(var a=0,b=fN.length,c,d,e,f;a<b;++a)if((c=fN[a])&&(f=(d=c.halfedges).length)){var g=
Array(f),h=Array(f);for(e=0;e<f;++e)g[e]=e,h[e]=fic(c,eN[d[e]]);g.sort(function(l,n){return h[n]-h[l]});for(e=0;e<f;++e)h[e]=d[g[e]];for(e=0;e<f;++e)d[e]=h[e]}}function iic(){Xhc(this);this.x=this.y=this.arc=this.site=this.cy=null}function gN(a){var b=a.P,c=a.N;if(b&&c){var d=b.site;b=a.site;var e=c.site;if(d!==e){c=b[0];var f=b[1],g=d[0]-c,h=d[1]-f;d=e[0]-c;var l=e[1]-f;e=2*(g*l-h*d);if(!(e>=-jic)){var n=g*g+h*h,r=d*d+l*l;h=(l*n-h*r)/e;d=(g*r-d*n)/e;g=kic.pop()||new iic;g.arc=a;g.site=b;g.x=h+c;
g.y=(g.cy=d+f)+Math.sqrt(h*h+d*d);a.circle=g;a=null;for(b=lic._;b;)if(g.y<b.y||g.y===b.y&&g.x<=b.x)if(b.L)b=b.L;else{a=b.P;break}else if(b.R)b=b.R;else{a=b;break}lic.insert(a,g);a||(mic=g)}}}}function hN(a){var b=a.circle;b&&(b.P||(mic=b.N),lic.remove(b),kic.push(b),Xhc(b),a.circle=null)}function nic(){Xhc(this);this.edge=this.site=this.circle=null}function oic(a){var b=pic.pop()||new nic;b.site=a;return b}function qic(a){hN(a);iN.remove(a);pic.push(a);Xhc(a)}function ric(a,b){var c=a.site,d=c[0],
e=c[1],f=e-b;if(!f)return d;a=a.P;if(!a)return-Infinity;c=a.site;a=c[0];c=c[1];b=c-b;if(!b)return a;var g=a-d,h=1/f-1/b,l=g/b;return h?(-l+Math.sqrt(l*l-2*h*(g*g/(-2*b)-c+b/2+e-f/2)))/h+d:(d+a)/2}function sic(a,b){return b[1]-a[1]||b[0]-a[0]}function tic(a,b){var c=a.sort(sic).pop(),d;eN=[];fN=Array(a.length);iN=new Whc;for(lic=new Whc;;){var e=mic;if(c&&(!e||c[1]<e.y||c[1]===e.y&&c[0]<e.x)){if(c[0]!==d||c[1]!==f){var f=d=void 0;e=c;for(var g=e[0],h=e[1],l=iN._;l;){var n=ric(l,h)-g;if(n>jN)l=l.L;
else{var r=l;var v=h;var w=r.N;w?v=ric(w,v):(r=r.site,v=r[1]===v?r[0]:Infinity);v=g-v;if(v>jN){if(!l.R){f=l;break}l=l.R}else{n>-jN?(f=l.P,d=l):v>-jN?(f=l,d=l.N):f=d=l;break}}}fN[e.index]={site:e,halfedges:[]};n=oic(e);iN.insert(f,n);if(f||d)if(f===d)hN(f),d=oic(f.site),iN.insert(n,d),n.edge=d.edge=aic(f.site,n.site),gN(f),gN(d);else if(d){hN(f);hN(d);g=f.site;l=g[0];v=g[1];r=e[0]-l;w=e[1]-v;h=d.site;var y=h[0]-l,B=h[1]-v,G=2*(r*B-w*y),O=r*r+w*w,T=y*y+B*B;l=[(B*O-w*T)/G+l,(r*T-y*O)/G+v];bic(d.edge,
g,h,l);n.edge=aic(g,e,null,l);d.edge=aic(e,h,null,l);gN(f);gN(d)}else n.edge=aic(f.site,n.site);d=c[0];f=c[1]}c=a.pop()}else if(e){h=e.arc;e=h.circle;g=e.x;l=e.cy;e=[g,l];r=h.P;v=h.N;n=[h];qic(h);for(h=r;h.circle&&Math.abs(g-h.circle.x)<jN&&Math.abs(l-h.circle.cy)<jN;)r=h.P,n.unshift(h),qic(h),h=r;n.unshift(h);hN(h);for(r=v;r.circle&&Math.abs(g-r.circle.x)<jN&&Math.abs(l-r.circle.cy)<jN;)v=r.N,n.push(r),qic(r),r=v;n.push(r);hN(r);l=n.length;for(g=1;g<l;++g)r=n[g],h=n[g-1],bic(r.edge,h.site,r.site,
e);h=n[0];r=n[l-1];r.edge=aic(h.site,r.site,null,e);gN(h);gN(r)}else break}hic();if(b){d=+b[0][0];a=+b[0][1];c=+b[1][0];b=+b[1][1];f=eN.length;for(var J;f--;)eic(J=eN[f],d,a,c,b)&&dic(J,d,a,c,b)&&(Math.abs(J[0][0]-J[1][0])>jN||Math.abs(J[0][1]-J[1][1])>jN)||delete eN[f];J=fN.length;f=!0;for(e=0;e<J;++e)if(n=fN[e]){var R=n.site;h=n.halfedges;for(g=h.length;g--;)eN[h[g]]||h.splice(g,1);g=0;for(l=h.length;g<l;)if(v=eN[h[g]],r=v[+(v.left===n.site)],w=r[0],y=r[1],B=gic(n,eN[h[++g%l]]),v=B[0],B=B[1],Math.abs(w-
v)>jN||Math.abs(y-B)>jN)h.splice(g,0,eN.push(cic(R,r,Math.abs(w-d)<jN&&b-y>jN?[d,Math.abs(v-d)<jN?B:b]:Math.abs(y-b)<jN&&c-w>jN?[Math.abs(B-b)<jN?v:c,b]:Math.abs(w-c)<jN&&y-a>jN?[c,Math.abs(v-c)<jN?B:a]:Math.abs(y-a)<jN&&w-d>jN?[Math.abs(B-a)<jN?v:d,a]:null))-1),++l;l&&(f=!1)}if(f){g=Infinity;e=0;for(f=null;e<J;++e)if(n=fN[e])R=n.site,h=R[0]-d,l=R[1]-a,h=h*h+l*l,h<g&&(g=h,f=n);f&&(e=[d,a],d=[d,b],b=[c,b],a=[c,a],f.halfedges.push(eN.push(cic(R=f.site,e,d))-1,eN.push(cic(R,d,b))-1,eN.push(cic(R,b,a))-
1,eN.push(cic(R,a,e))-1))}for(e=0;e<J;++e)if(n=fN[e])n.halfedges.length||delete fN[e]}this.edges=eN;this.cells=fN;iN=lic=eN=fN=null}function uic(a){return function(){return a}}function vic(a,b,c){this.target=a;this.type=b;this.transform=c}function kN(a,b,c){this.k=a;this.x=b;this.y=c}function wic(a){return a.__zoom||xic}function yic(){d3.event.preventDefault();d3.event.stopImmediatePropagation()}function zic(){return!d3.event.button}function Aic(){var a=this;if(a instanceof SVGElement){a=a.ownerSVGElement||
a;var b=a.width.baseVal.value;a=a.height.baseVal.value}else b=a.clientWidth,a=a.clientHeight;return[[0,0],[b,a]]}function Bic(){return this.__zoom||xic}function Cic(){return-d3.event.deltaY*(d3.event.deltaMode?120:1)/500}function Dic(){return"ontouchstart"in this}function Eic(a,b,c){var d=a.invertX(b[0][0])-c[0][0],e=a.invertX(b[1][0])-c[1][0],f=a.invertY(b[0][1])-c[0][1];b=a.invertY(b[1][1])-c[1][1];return a.translate(e>d?(d+e)/2:Math.min(0,d)||Math.max(0,e),b>f?(f+b)/2:Math.min(0,f)||Math.max(0,
b))}var Fic=I5b($K),NM=Fic.right,Gic=Fic.left,Hic=Array.prototype,Iic=Hic.slice,Jic=Hic.map,S5b=Math.sqrt(50),T5b=Math.sqrt(10),U5b=Math.sqrt(2),i6b=Array.prototype.slice,m6b={value:function(){}};j6b.prototype=dL.prototype={constructor:j6b,on:function(a,b){var c=this._,d=k6b(a+"",c),e,f=-1,g=d.length;if(2>arguments.length)for(;++f<g;){var h;if(h=e=(a=d[f]).type){a:{h=c[e];for(var l=0,n=h.length;l<n;++l)if((e=h[l]).name===a.name){e=e.value;break a}e=void 0}h=e}if(h)return e}else{if(null!=b&&"function"!==
typeof b)throw Error("ni`"+b);for(;++f<g;)if(e=(a=d[f]).type)c[e]=l6b(c[e],a.name,b);else if(null==b)for(e in c)c[e]=l6b(c[e],a.name,null);return this}},copy:function(){var a={},b=this._,c;for(c in b)a[c]=b[c].slice();return new j6b(a)},call:function(a,b){if(0<(e=arguments.length-2))for(var c=Array(e),d=0,e,f;d<e;++d)c[d]=arguments[d+2];if(!this._.hasOwnProperty(a))throw Error("fi`"+a);f=this._[a];d=0;for(e=f.length;d<e;++d)f[d].value.apply(b,c)},apply:function(a,b,c){if(!this._.hasOwnProperty(a))throw Error("fi`"+
a);a=this._[a];for(var d=0,e=a.length;d<e;++d)a[d].value.apply(b,c)}};var eL={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Kic=function(a){return function(){return this.matches(a)}};if("undefined"!==typeof document){var Lic=document.documentElement;if(!Lic.matches){var Mic=Lic.webkitMatchesSelector||Lic.msMatchesSelector||Lic.mozMatchesSelector||Lic.oMatchesSelector;
Kic=function(a){return function(){return Mic.call(this,a)}}}}var Nic=Kic;w6b.prototype={constructor:w6b,appendChild:function(a){return this._parent.insertBefore(a,this._next)},insertBefore:function(a,b){return this._parent.insertBefore(a,b)},querySelector:function(a){return this._parent.querySelector(a)},querySelectorAll:function(a){return this._parent.querySelectorAll(a)}};P6b.prototype={add:function(a){0>this._names.indexOf(a)&&(this._names.push(a),this._node.setAttribute("class",this._names.join(" ")))},
remove:function(a){a=this._names.indexOf(a);0<=a&&(this._names.splice(a,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(a){return 0<=this._names.indexOf(a)}};var l7b={};d3.event=null;"undefined"!==typeof document&&("onmouseenter"in document.documentElement||(l7b={mouseenter:"mouseover",mouseleave:"mouseout"}));var q7b=[null];gL.prototype=hL.prototype={constructor:gL,select:function(a){"function"!==typeof a&&(a=s6b(a));for(var b=this._groups,c=b.length,d=Array(c),e=0;e<
c;++e)for(var f=b[e],g=f.length,h=d[e]=Array(g),l,n,r=0;r<g;++r)(l=f[r])&&(n=a.call(l,l.__data__,r,f))&&("__data__"in l&&(n.__data__=l.__data__),h[r]=n);return new gL(d,this._parents)},selectAll:function(a){"function"!==typeof a&&(a=u6b(a));for(var b=this._groups,c=b.length,d=[],e=[],f=0;f<c;++f)for(var g=b[f],h=g.length,l,n=0;n<h;++n)if(l=g[n])d.push(a.call(l,l.__data__,n,g)),e.push(l);return new gL(d,e)},filter:function(a){"function"!==typeof a&&(a=Nic(a));for(var b=this._groups,c=b.length,d=Array(c),
e=0;e<c;++e)for(var f=b[e],g=f.length,h=d[e]=[],l,n=0;n<g;++n)(l=f[n])&&a.call(l,l.__data__,n,f)&&h.push(l);return new gL(d,this._parents)},data:function(a,b){if(!a)return y=Array(this.size()),n=-1,this.each(function(J){y[++n]=J}),y;var c=b?z6b:y6b,d=this._parents,e=this._groups;"function"!==typeof a&&(a=x6b(a));for(var f=e.length,g=Array(f),h=Array(f),l=Array(f),n=0;n<f;++n){var r=d[n],v=e[n],w=v.length,y=a.call(r,r&&r.__data__,n,d),B=y.length,G=h[n]=Array(B),O=g[n]=Array(B);w=l[n]=Array(w);c(r,
v,G,O,w,y,b);v=r=0;for(var T;r<B;++r)if(w=G[r]){for(r>=v&&(v=r+1);!(T=O[v])&&++v<B;);w._next=T||null}}g=new gL(g,d);g._enter=h;g._exit=l;return g},enter:function(){return new gL(this._enter||this._groups.map(v6b),this._parents)},exit:function(){return new gL(this._exit||this._groups.map(v6b),this._parents)},merge:function(a){var b=this._groups;a=a._groups;for(var c=b.length,d=Math.min(c,a.length),e=Array(c),f=0;f<d;++f)for(var g=b[f],h=a[f],l=g.length,n=e[f]=Array(l),r,v=0;v<l;++v)if(r=g[v]||h[v])n[v]=
r;for(;f<c;++f)e[f]=b[f];return new gL(e,this._parents)},order:function(){for(var a=this._groups,b=-1,c=a.length;++b<c;)for(var d=a[b],e=d.length-1,f=d[e],g;0<=--e;)if(g=d[e])f&&f!==g.nextSibling&&f.parentNode.insertBefore(g,f),f=g;return this},sort:function(a){function b(v,w){return v&&w?a(v.__data__,w.__data__):!v-!w}a||(a=A6b);for(var c=this._groups,d=c.length,e=Array(d),f=0;f<d;++f){for(var g=c[f],h=g.length,l=e[f]=Array(h),n,r=0;r<h;++r)if(n=g[r])l[r]=n;l.sort(b)}return(new gL(e,this._parents)).order()},
call:function(){var a=arguments[0];arguments[0]=this;a.apply(null,arguments);return this},nodes:function(){var a=Array(this.size()),b=-1;this.each(function(){a[++b]=this});return a},node:function(){for(var a=this._groups,b=0,c=a.length;b<c;++b)for(var d=a[b],e=0,f=d.length;e<f;++e){var g=d[e];if(g)return g}return null},size:function(){var a=0;this.each(function(){++a});return a},empty:function(){return!this.node()},each:function(a){for(var b=this._groups,c=0,d=b.length;c<d;++c)for(var e=b[c],f=0,
g=e.length,h;f<g;++f)(h=e[f])&&a.call(h,h.__data__,f,e);return this},attr:function(a,b){var c=n6b(a);if(2>arguments.length){var d=this.node();return c.local?d.getAttributeNS(c.space,c.local):d.getAttribute(c)}return this.each((null==b?c.local?C6b:B6b:"function"===typeof b?c.local?G6b:F6b:c.local?E6b:D6b)(c,b))},style:function(a,b,c){return 1<arguments.length?this.each((null==b?I6b:"function"===typeof b?K6b:J6b)(a,b,null==c?"":c)):fL(this.node(),a)},property:function(a,b){return 1<arguments.length?
this.each((null==b?L6b:"function"===typeof b?N6b:M6b)(a,b)):this.node()[a]},classed:function(a,b){var c=(a+"").trim().split(/^|\s+/);if(2>arguments.length){for(var d=O6b(this.node()),e=-1,f=c.length;++e<f;)if(!d.contains(c[e]))return!1;return!0}return this.each(("function"===typeof b?U6b:b?S6b:T6b)(c,b))},text:function(a){return arguments.length?this.each(null==a?V6b:("function"===typeof a?X6b:W6b)(a)):this.node().textContent},html:function(a){return arguments.length?this.each(null==a?Y6b:("function"===
typeof a?$6b:Z6b)(a)):this.node().innerHTML},raise:function(){return this.each(a7b)},lower:function(){return this.each(b7b)},append:function(a){var b="function"===typeof a?a:q6b(a);return this.select(function(){return this.appendChild(b.apply(this,arguments))})},insert:function(a,b){var c="function"===typeof a?a:q6b(a),d=null==b?c7b:"function"===typeof b?b:s6b(b);return this.select(function(){return this.insertBefore(c.apply(this,arguments),d.apply(this,arguments)||null)})},remove:function(){return this.each(d7b)},
clone:function(a){return this.select(a?f7b:e7b)},datum:function(a){return arguments.length?this.property("__data__",a):this.node().__data__},on:function(a,b,c){var d=i7b(a+""),e=d.length,f;if(2>arguments.length){var g=this.node().__on;if(g)for(var h=0,l=g.length,n;h<l;++h){var r=0;for(n=g[h];r<e;++r)if((f=d[r]).type===n.type&&f.name===n.name)return n.value}}else{g=b?k7b:j7b;null==c&&(c=!1);for(r=0;r<e;++r)this.each(g(d[r],b,c));return this}},dispatch:function(a,b){return this.each(("function"===typeof b?
p7b:o7b)(a,b))}};var t7b=0;s7b.prototype=r7b.prototype={constructor:s7b,get:function(a){for(var b=this._;!(b in a);)if(!(a=a.parentNode))return;return a[b]},set:function(a,b){return a[this._]=b},remove:function(a){return this._ in a&&delete a[this._]},toString:function(){return this._}};A7b.prototype.on=function(){var a=this._.on.apply(this._,arguments);return a===this._?this:a};var lN=1/.7,G7b=/^#([0-9a-f]{3})$/,H7b=/^#([0-9a-f]{6})$/,J7b=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),
K7b=RegExp("^rgb\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),L7b=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),N7b=RegExp("^rgba\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
O7b=RegExp("^hsl\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),Q7b=RegExp("^hsla\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),R7b={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,
blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,
darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,
lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,
mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,
purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};
lL(mL,nL,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}});lL(oL,pL,F7b(mL,{brighter:function(a){a=null==a?lN:Math.pow(lN,a);return new oL(this.r*a,this.g*a,this.b*a,this.opacity)},darker:function(a){a=null==a?.7:Math.pow(.7,a);return new oL(this.r*a,this.g*a,this.b*a,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&255>=this.r&&0<=this.g&&255>=this.g&&0<=this.b&&255>=this.b&&
0<=this.opacity&&1>=this.opacity},hex:function(){return"#"+T7b(this.r)+T7b(this.g)+T7b(this.b)},toString:function(){var a=this.opacity;a=isNaN(a)?1:Math.max(0,Math.min(1,a));return(1===a?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===a?")":", "+a+")")}}));lL(qL,V7b,F7b(mL,{brighter:function(a){a=null==a?lN:Math.pow(lN,a);return new qL(this.h,this.s,this.l*a,this.opacity)},
darker:function(a){a=null==a?.7:Math.pow(.7,a);return new qL(this.h,this.s,this.l*a,this.opacity)},rgb:function(){var a=this.h%360+360*(0>this.h),b=this.l,c=b+(.5>b?b:1-b)*(isNaN(a)||isNaN(this.s)?0:this.s);b=2*b-c;return new oL(W7b(240<=a?a-240:a+120,b,c),W7b(a,b,c),W7b(120>a?a+240:a-120,b,c),this.opacity)},displayable:function(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity}}));var Y7b=Math.PI/180,h8b=180/Math.PI,d8b=4/29,tL=6/29,c8b=3*tL*tL,
b8b=tL*tL*tL;lL(rL,a8b,F7b(mL,{brighter:function(a){return new rL(this.l+18*(null==a?1:a),this.a,this.b,this.opacity)},darker:function(a){return new rL(this.l-18*(null==a?1:a),this.a,this.b,this.opacity)},rgb:function(){var a=(this.l+16)/116,b=isNaN(this.a)?a:a+this.a/500,c=isNaN(this.b)?a:a-this.b/200;b=.96422*e8b(b);a=1*e8b(a);c=.82521*e8b(c);return new oL(f8b(3.1338561*b-1.6168667*a-.4906146*c),f8b(-.9787684*b+1.9161415*a+.033454*c),f8b(.0719453*b-.2289914*a+1.4052427*c),this.opacity)}}));lL(sL,
i8b,F7b(mL,{brighter:function(a){return new sL(this.h,this.c,this.l+18*(null==a?1:a),this.opacity)},darker:function(a){return new sL(this.h,this.c,this.l-18*(null==a?1:a),this.opacity)},rgb:function(){return X7b(this).rgb()}}));var j8b=1.78277*-.29227-.1347134789;lL(vL,uL,F7b(mL,{brighter:function(a){a=null==a?lN:Math.pow(lN,a);return new vL(this.h,this.s,this.l*a,this.opacity)},darker:function(a){a=null==a?.7:Math.pow(.7,a);return new vL(this.h,this.s,this.l*a,this.opacity)},rgb:function(){var a=
isNaN(this.h)?0:(this.h+120)*Y7b,b=+this.l,c=isNaN(this.s)?0:this.s*b*(1-b),d=Math.cos(a);a=Math.sin(a);return new oL(255*(b+c*(-.14861*d+1.78277*a)),255*(b+c*(-.29227*d+-.90649*a)),255*(b+1.97294*c*d),this.opacity)}}));var C8b=function c(b){function d(f,g){var h=e((f=pL(f)).r,(g=pL(g)).r),l=e(f.g,g.g),n=e(f.b,g.b),r=wL(f.opacity,g.opacity);return function(v){f.r=h(v);f.g=l(v);f.b=n(v);f.opacity=r(v);return f+""}}var e=r8b(b);d.gamma=c;return d}(1),Ngc=s8b(l8b),Oic=s8b(m8b),A8b=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,
B8b=new RegExp(A8b.source,"g"),F8b=180/Math.PI,Pic={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Qic,Ric,Sic,Tic,Uic=G8b(function(b){if("none"===b)return Pic;Qic||(Qic=document.createElement("DIV"),Ric=document.documentElement,Sic=document.defaultView);Qic.style.transform=b;b=Sic.getComputedStyle(Ric.appendChild(Qic),null).getPropertyValue("transform");Ric.removeChild(Qic);b=b.slice(7,-1).split(",");return E8b(+b[0],+b[1],+b[2],+b[3],+b[4],+b[5])},"px, ","px)","deg)"),Vic=G8b(function(b){if(null==
b)return Pic;Tic||(Tic=document.createElementNS("http://www.w3.org/2000/svg","g"));Tic.setAttribute("transform",b);if(!(b=Tic.transform.baseVal.consolidate()))return Pic;b=b.matrix;return E8b(b.a,b.b,b.c,b.d,b.e,b.f)},", ",")",")"),J8b=Math.SQRT2,Wic=K8b(q8b),Xic=K8b(wL),Yic=L8b(q8b),Zic=L8b(wL),$ic=M8b(q8b),ajc=M8b(wL),AL=0,X8b=0,a9b=0,U8b,Y8b,W8b=0,zL=0,Q8b=0,P8b="object"===typeof performance&&performance.now?performance:Date,N8b="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):
function(b){setTimeout(b,17)};R8b.prototype=S8b.prototype={constructor:R8b,restart:function(b,c,d){if("function"!==typeof b)throw new TypeError("oi");d=(null==d?yL():+d)+(null==c?0:+c);this._next||Y8b===this||(Y8b?Y8b._next=this:U8b=this,Y8b=this);this._call=b;this._time=d;Z8b()},stop:function(){this._call&&(this._call=null,this._time=Infinity,Z8b())}};var e9b=dL("start","end","interrupt"),f9b=[],bjc=hL.prototype.constructor,cjc=0,mN=hL.prototype;EL.prototype=I9b.prototype={constructor:EL,select:function(b){var c=
this._name,d=this._id;"function"!==typeof b&&(b=s6b(b));for(var e=this._groups,f=e.length,g=Array(f),h=0;h<f;++h)for(var l=e[h],n=l.length,r=g[h]=Array(n),v,w,y=0;y<n;++y)(v=l[y])&&(w=b.call(v,v.__data__,y,l))&&("__data__"in v&&(w.__data__=v.__data__),r[y]=w,c9b(r[y],c,d,y,r,BL(v,d)));return new EL(g,this._parents,c,d)},selectAll:function(b){var c=this._name,d=this._id;"function"!==typeof b&&(b=u6b(b));for(var e=this._groups,f=e.length,g=[],h=[],l=0;l<f;++l)for(var n=e[l],r=n.length,v,w=0;w<r;++w)if(v=
n[w]){for(var y=b.call(v,v.__data__,w,n),B,G=BL(v,d),O=0,T=y.length;O<T;++O)(B=y[O])&&c9b(B,c,d,O,y,G);g.push(y);h.push(v)}return new EL(g,h,c,d)},filter:function(b){"function"!==typeof b&&(b=Nic(b));for(var c=this._groups,d=c.length,e=Array(d),f=0;f<d;++f)for(var g=c[f],h=g.length,l=e[f]=[],n,r=0;r<h;++r)(n=g[r])&&b.call(n,n.__data__,r,g)&&l.push(n);return new EL(e,this._parents,this._name,this._id)},merge:function(b){if(b._id!==this._id)throw Error();var c=this._groups;b=b._groups;for(var d=c.length,
e=Math.min(d,b.length),f=Array(d),g=0;g<e;++g)for(var h=c[g],l=b[g],n=h.length,r=f[g]=Array(n),v,w=0;w<n;++w)if(v=h[w]||l[w])r[w]=v;for(;g<d;++g)f[g]=c[g];return new EL(f,this._parents,this._name,this._id)},selection:function(){return new bjc(this._groups,this._parents)},transition:function(){for(var b=this._name,c=this._id,d=++cjc,e=this._groups,f=e.length,g=0;g<f;++g)for(var h=e[g],l=h.length,n,r=0;r<l;++r)if(n=h[r]){var v=BL(n,c);c9b(n,b,d,r,h,{time:v.time+v.delay+v.duration,delay:0,duration:v.duration,
ease:v.ease})}return new EL(e,this._parents,b,d)},call:mN.call,nodes:mN.nodes,node:mN.node,size:mN.size,empty:mN.empty,each:mN.each,on:function(b,c){var d=this._id;return 2>arguments.length?BL(this.node(),d).on.on(b):this.each(z9b(d,b,c))},attr:function(b,c){var d=n6b(b),e="transform"===d?Vic:k9b;return this.attrTween(b,"function"===typeof c?(d.local?q9b:p9b)(d,e,j9b(this,"attr."+b,c)):null==c?(d.local?m9b:l9b)(d):(d.local?o9b:n9b)(d,e,c+""))},attrTween:function(b,c){var d="attr."+b;if(2>arguments.length)return(d=
this.tween(d))&&d._value;if(null==c)return this.tween(d,null);if("function"!==typeof c)throw Error();var e=n6b(b);return this.tween(d,(e.local?r9b:s9b)(e,c))},style:function(b,c,d){var e="transform"===b?Uic:k9b;return null==c?this.styleTween(b,B9b(b,e)).on("end.style."+b,C9b(b)):this.styleTween(b,"function"===typeof c?E9b(b,e,j9b(this,"style."+b,c)):D9b(b,e,c+""),d)},styleTween:function(b,c,d){var e="style."+b;if(2>arguments.length)return(e=this.tween(e))&&e._value;if(null==c)return this.tween(e,
null);if("function"!==typeof c)throw Error();return this.tween(e,F9b(b,c,null==d?"":d))},text:function(b){return this.tween("text","function"===typeof b?H9b(j9b(this,"text",b)):G9b(null==b?"":b+""))},remove:function(){return this.on("end.remove",A9b(this._id))},tween:function(b,c){var d=this._id;if(2>arguments.length){d=BL(this.node(),d).tween;for(var e=0,f=d.length,g;e<f;++e)if((g=d[e]).name===b)return g.value;return null}return this.each((null==c?h9b:i9b)(d,b,c))},delay:function(b){var c=this._id;
return arguments.length?this.each(("function"===typeof b?t9b:u9b)(c,b)):BL(this.node(),c).delay},duration:function(b){var c=this._id;return arguments.length?this.each(("function"===typeof b?v9b:w9b)(c,b)):BL(this.node(),c).duration},ease:function(b){var c=this._id;return arguments.length?this.each(x9b(c,b)):BL(this.node(),c).ease}};var djc=function d(c){function e(f){return Math.pow(f,c)}c=+c;e.exponent=d;return e}(3),ejc=function e(d){function f(g){return 1-Math.pow(1-g,d)}d=+d;f.exponent=e;return f}(3),
fjc=function f(e){function g(h){return(1>=(h*=2)?Math.pow(h,e):2-Math.pow(2-h,e))/2}e=+e;g.exponent=f;return g}(3),M9b=Math.PI,gjc=M9b/2,Q9b=4/11,T9b=6/11,S9b=8/11,V9b=9/11,U9b=10/11,W9b=21/22,R9b=1/Q9b/Q9b,hjc=function g(f){function h(l){return l*l*((f+1)*l-f)}f=+f;h.overshoot=g;return h}(1.70158),ijc=function h(g){function l(n){return--n*n*((g+1)*n+g)+1}g=+g;l.overshoot=h;return l}(1.70158),jjc=function l(h){function n(r){return(1>(r*=2)?r*r*((h+1)*r-h):(r-=2)*r*((h+1)*r+h)+2)/2}h=+h;n.overshoot=
l;return n}(1.70158),nN=2*Math.PI,kjc=function r(l,n){function v(y){return l*Math.pow(2,10*--y)*Math.sin((w-y)/n)}var w=Math.asin(1/(l=Math.max(1,l)))*(n/=nN);v.amplitude=function(y){return r(y,n*nN)};v.period=function(y){return r(l,y)};return v}(1,.3),ljc=function v(n,r){function w(B){return 1-n*Math.pow(2,-10*(B=+B))*Math.sin((B+y)/r)}var y=Math.asin(1/(n=Math.max(1,n)))*(r/=nN);w.amplitude=function(B){return v(B,r*nN)};w.period=function(B){return v(n,B)};return w}(1,.3),mjc=function w(r,v){function y(G){return(0>
(G=2*G-1)?r*Math.pow(2,10*G)*Math.sin((B-G)/v):2-r*Math.pow(2,-10*G)*Math.sin((B+G)/v))/2}var B=Math.asin(1/(r=Math.max(1,r)))*(v/=nN);y.amplitude=function(G){return w(G,v*nN)};y.period=function(G){return w(r,G)};return y}(1,.3),njc={time:null,delay:0,duration:250,ease:K9b};hL.prototype.interrupt=function(r){return this.each(function(){DL(this,r)})};hL.prototype.transition=function(r){var v;if(r instanceof EL){var w=r._id;r=r._name}else w=++cjc,(v=njc).time=yL(),r=null==r?null:r+"";for(var y=this._groups,
B=y.length,G=0;G<B;++G)for(var O=y[G],T=O.length,J,R=0;R<T;++R)if(J=O[R]){var ra=J,Ba=r,Ka=w,Va=R,cb=O,H;if(!(H=v))a:{H=void 0;for(var Y=w;!(H=J.__transition)||!(H=H[Y]);)if(!(J=J.parentNode)){H=(njc.time=yL(),njc);break a}}c9b(ra,Ba,Ka,Va,cb,H)}return new EL(y,this._parents,r,w)};var ojc=[null],g$b={name:"drag"},f$b={name:"space"},GL={name:"handle"},HL={name:"center"},l$b={name:"x",handles:["e","w"].map($9b),input:function(r,v){return r&&[[r[0],v[0][1]],[r[1],v[1][1]]]},output:function(r){return r&&
[r[0][0],r[1][0]]}},j$b={name:"y",handles:["n","s"].map($9b),input:function(r,v){return r&&[[v[0][0],r[0]],[v[1][0],r[1]]]},output:function(r){return r&&[r[0][1],r[1][1]]}},pjc={name:"xy",handles:"n e s w nw ne se sw".split(" ").map($9b),input:function(r){return r},output:function(r){return r}},FL={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},h$b={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",
sw:"se"},i$b={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},k$b={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},m$b={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1},qjc=Math.cos,rjc=Math.sin,sjc=Math.PI,tjc=sjc/2,ujc=2*sjc,vjc=Math.max,wjc=Array.prototype.slice,xjc=Math.PI,yjc=2*xjc,zjc=yjc-1E-6;p$b.prototype=IL.prototype={constructor:p$b,moveTo:function(r,v){this._+="M"+(this._x0=this._x1=+r)+","+(this._y0=this._y1=+v)},closePath:function(){null!==this._x1&&
(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(r,v){this._+="L"+(this._x1=+r)+","+(this._y1=+v)},quadraticCurveTo:function(r,v,w,y){this._+="Q"+ +r+","+ +v+","+(this._x1=+w)+","+(this._y1=+y)},bezierCurveTo:function(r,v,w,y,B,G){this._+="C"+ +r+","+ +v+","+ +w+","+ +y+","+(this._x1=+B)+","+(this._y1=+G)},arcTo:function(r,v,w,y,B){r=+r;v=+v;w=+w;y=+y;B=+B;var G=this._x1,O=this._y1,T=w-r,J=y-v,R=G-r,ra=O-v,Ba=R*R+ra*ra;if(0>B)throw Error("pi`"+B);if(null===this._x1)this._+="M"+(this._x1=
r)+","+(this._y1=v);else if(1E-6<Ba)if(1E-6<Math.abs(ra*T-J*R)&&B){w-=G;y-=O;var Ka=T*T+J*J;O=Math.sqrt(Ka);G=Math.sqrt(Ba);Ba=B*Math.tan((xjc-Math.acos((Ka+Ba-(w*w+y*y))/(2*O*G)))/2);G=Ba/G;Ba/=O;1E-6<Math.abs(G-1)&&(this._+="L"+(r+G*R)+","+(v+G*ra));this._+="A"+B+","+B+",0,0,"+ +(ra*w>R*y)+","+(this._x1=r+Ba*T)+","+(this._y1=v+Ba*J)}else this._+="L"+(this._x1=r)+","+(this._y1=v)},arc:function(r,v,w,y,B,G){r=+r;v=+v;w=+w;var O=w*Math.cos(y),T=w*Math.sin(y),J=r+O,R=v+T,ra=1^G;y=G?y-B:B-y;if(0>w)throw Error("pi`"+
w);if(null===this._x1)this._+="M"+J+","+R;else if(1E-6<Math.abs(this._x1-J)||1E-6<Math.abs(this._y1-R))this._+="L"+J+","+R;w&&(0>y&&(y=y%yjc+yjc),y>zjc?this._+="A"+w+","+w+",0,1,"+ra+","+(r-O)+","+(v-T)+"A"+w+","+w+",0,1,"+ra+","+(this._x1=J)+","+(this._y1=R):1E-6<y&&(this._+="A"+w+","+w+",0,"+ +(y>=xjc)+","+ra+","+(this._x1=r+w*Math.cos(B))+","+(this._y1=v+w*Math.sin(B))))},rect:function(r,v,w,y){this._+="M"+(this._x0=this._x1=+r)+","+(this._y0=this._y1=+v)+"h"+ +w+"v"+ +y+"h"+-w+"Z"},toString:function(){return this._}};
v$b.prototype=JL.prototype={constructor:v$b,has:function(r){return" "+r in this},get:function(r){return this[" "+r]},set:function(r,v){this[" "+r]=v;return this},remove:function(r){r=" "+r;return r in this&&delete this[r]},clear:function(){for(var r in this)" "===r[0]&&delete this[r]},keys:function(){var r=[],v;for(v in this)" "===v[0]&&r.push(v.slice(1));return r},values:function(){var r=[],v;for(v in this)" "===v[0]&&r.push(this[v]);return r},entries:function(){var r=[],v;for(v in this)" "===v[0]&&
r.push({key:v.slice(1),value:this[v]});return r},size:function(){var r=0,v;for(v in this)" "===v[0]&&++r;return r},empty:function(){for(var r in this)if(" "===r[0])return!1;return!0},each:function(r){for(var v in this)" "===v[0]&&r(this[v],v.slice(1),this)}};var oN=JL.prototype;A$b.prototype=B$b.prototype={constructor:A$b,has:oN.has,add:function(r){this[" "+r]=r;return this},remove:oN.remove,clear:oN.clear,values:oN.keys,size:oN.size,empty:oN.empty,each:oN.each};var F$b=Array.prototype.slice,LL=[[],
[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]],Q$b={},P$b={},Ajc=O$b(","),Bjc=Ajc.parse,Cjc=Ajc.parseRows,Djc=Ajc.format,Ejc=Ajc.formatRows,Fjc=O$b("\t"),Gjc=Fjc.parse,Hjc=Fjc.parseRows,Ijc=Fjc.format,Jjc=Fjc.formatRows,Kjc=V$b(Bjc),Ljc=V$b(Gjc),
pN=$$b.prototype=aac.prototype;pN.copy=function(){var r=new aac(this._x,this._y,this._x0,this._y0,this._x1,this._y1),v=this._root,w,y;if(!v)return r;if(!v.length)return r._root=bac(v),r;for(w=[{source:v,target:r._root=Array(4)}];v=w.pop();)for(var B=0;4>B;++B)if(y=v.source[B])y.length?w.push({source:y,target:v.target[B]=Array(4)}):v.target[B]=bac(y);return r};pN.add=function(r){var v=+this._x.call(null,r),w=+this._y.call(null,r);return X$b(this.cover(v,w),v,w,r)};pN.addAll=function(r){var v,w,y=r.length,
B,G,O=Array(y),T=Array(y),J=Infinity,R=Infinity,ra=-Infinity,Ba=-Infinity;for(w=0;w<y;++w)isNaN(B=+this._x.call(null,v=r[w]))||isNaN(G=+this._y.call(null,v))||(O[w]=B,T[w]=G,B<J&&(J=B),B>ra&&(ra=B),G<R&&(R=G),G>Ba&&(Ba=G));ra<J&&(J=this._x0,ra=this._x1);Ba<R&&(R=this._y0,Ba=this._y1);this.cover(J,R).cover(ra,Ba);for(w=0;w<y;++w)X$b(this,O[w],T[w],r[w]);return this};pN.cover=function(r,v){if(isNaN(r=+r)||isNaN(v=+v))return this;var w=this._x0,y=this._y0,B=this._x1,G=this._y1;if(isNaN(w))B=(w=Math.floor(r))+
1,G=(y=Math.floor(v))+1;else if(w>r||r>B||y>v||v>G){var O=B-w,T=this._root,J;switch(J=(v<(y+G)/2)<<1|r<(w+B)/2){case 0:do{var R=Array(4);R[J]=T;T=R}while(O*=2,B=w+O,G=y+O,r>B||v>G);break;case 1:do R=Array(4),R[J]=T,T=R;while(O*=2,w=B-O,G=y+O,w>r||v>G);break;case 2:do R=Array(4),R[J]=T,T=R;while(O*=2,B=w+O,y=G-O,r>B||y>v);break;case 3:do R=Array(4),R[J]=T,T=R;while(O*=2,w=B-O,y=G-O,w>r||y>v)}this._root&&this._root.length&&(this._root=T)}else return this;this._x0=w;this._y0=y;this._x1=B;this._y1=G;
return this};pN.data=function(){var r=[];this.visit(function(v){if(!v.length){do r.push(v.data);while(v=v.next)}});return r};pN.extent=function(r){return arguments.length?this.cover(+r[0][0],+r[0][1]).cover(+r[1][0],+r[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]};pN.find=function(r,v,w){var y=this._x0,B=this._y0,G,O,T,J,R=this._x1,ra=this._y1,Ba=[],Ka=this._root,Va;Ka&&Ba.push(new OL(Ka,y,B,R,ra));null==w?w=Infinity:(y=r-w,B=v-w,R=r+w,ra=v+w,w*=w);for(;Va=Ba.pop();)if(!(!(Ka=
Va.node)||(G=Va.x0)>R||(O=Va.y0)>ra||(T=Va.x1)<y||(J=Va.y1)<B))if(Ka.length){Va=(G+T)/2;var cb=(O+J)/2;Ba.push(new OL(Ka[3],Va,cb,T,J),new OL(Ka[2],G,cb,Va,J),new OL(Ka[1],Va,O,T,cb),new OL(Ka[0],G,O,Va,cb));if(Ka=(v>=cb)<<1|r>=Va)Va=Ba[Ba.length-1],Ba[Ba.length-1]=Ba[Ba.length-1-Ka],Ba[Ba.length-1-Ka]=Va}else if(Va=r-+this._x.call(null,Ka.data),cb=v-+this._y.call(null,Ka.data),Va=Va*Va+cb*cb,Va<w){var H=Math.sqrt(w=Va);y=r-H;B=v-H;R=r+H;ra=v+H;H=Ka.data}return H};pN.remove=function(r){if(isNaN(J=
+this._x.call(null,r))||isNaN(R=+this._y.call(null,r)))return this;var v,w=this._root,y,B=this._x0,G=this._y0,O=this._x1,T=this._y1,J,R,ra,Ba,Ka,Va,cb;if(!w)return this;if(w.length)for(;;){(Ka=J>=(ra=(B+O)/2))?B=ra:O=ra;(Va=R>=(Ba=(G+T)/2))?G=Ba:T=Ba;if(!(v=w,w=w[cb=Va<<1|Ka]))return this;if(!w.length)break;if(v[cb+1&3]||v[cb+2&3]||v[cb+3&3]){var H=v;var Y=cb}}for(;w.data!==r;)if(!(y=w,w=w.next))return this;(r=w.next)&&delete w.next;if(y)return r?y.next=r:delete y.next,this;if(!v)return this._root=
r,this;r?v[cb]=r:delete v[cb];(w=v[0]||v[1]||v[2]||v[3])&&w===(v[3]||v[2]||v[1]||v[0])&&!w.length&&(H?H[Y]=w:this._root=w);return this};pN.removeAll=function(r){for(var v=0,w=r.length;v<w;++v)this.remove(r[v]);return this};pN.root=function(){return this._root};pN.size=function(){var r=0;this.visit(function(v){if(!v.length){do++r;while(v=v.next)}});return r};pN.visit=function(r){var v=[],w,y=this._root,B,G,O,T,J;for(y&&v.push(new OL(y,this._x0,this._y0,this._x1,this._y1));w=v.pop();)if(!r(y=w.node,
G=w.x0,O=w.y0,T=w.x1,J=w.y1)&&y.length){w=(G+T)/2;var R=(O+J)/2;(B=y[3])&&v.push(new OL(B,w,R,T,J));(B=y[2])&&v.push(new OL(B,G,R,w,J));(B=y[1])&&v.push(new OL(B,w,O,T,R));(B=y[0])&&v.push(new OL(B,G,O,w,R))}return this};pN.visitAfter=function(r){var v=[],w=[],y;for(this._root&&v.push(new OL(this._root,this._x0,this._y0,this._x1,this._y1));y=v.pop();){var B=y.node;if(B.length){var G,O=y.x0,T=y.y0,J=y.x1,R=y.y1,ra=(O+J)/2,Ba=(T+R)/2;(G=B[0])&&v.push(new OL(G,O,T,ra,Ba));(G=B[1])&&v.push(new OL(G,ra,
T,J,Ba));(G=B[2])&&v.push(new OL(G,O,Ba,ra,R));(G=B[3])&&v.push(new OL(G,ra,Ba,J,R))}w.push(y)}for(;y=w.pop();)r(y.node,y.x0,y.y0,y.x1,y.y1);return this};pN.x=function(r){return arguments.length?(this._x=r,this):this._x};pN.y=function(r){return arguments.length?(this._y=r,this):this._y};var Mjc=Math.PI*(3-Math.sqrt(5)),nac=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;lac.prototype=mac.prototype;mac.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+
(this.zero?"0":"")+(null==this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};var sac,tac={"%":function(r,v){return(100*r).toFixed(v)},b:function(r){return Math.round(r).toString(2)},c:function(r){return r+""},d:function(r){return Math.round(r).toString(10)},e:function(r,v){return r.toExponential(v)},f:function(r,v){return r.toFixed(v)},g:function(r,v){return r.toPrecision(v)},o:function(r){return Math.round(r).toString(8)},
p:function(r,v){return oac(100*r,v)},r:oac,s:function(r,v){var w=iac(r,v);if(!w)return r+"";var y=w[0];w=w[1];w=w-(sac=3*Math.max(-8,Math.min(8,Math.floor(w/3))))+1;var B=y.length;return w===B?y:w>B?y+Array(w-B+1).join("0"):0<w?y.slice(0,w)+"."+y.slice(w):"0."+Array(1-w).join("0")+iac(r,Math.max(0,v+w-1))[0]},X:function(r){return Math.round(r).toString(16).toUpperCase()},x:function(r){return Math.round(r).toString(16)}},rac="y z a f p n \u00b5 m  k M G T P E Z Y".split(" "),vac;uac({decimal:".",thousands:",",
grouping:[3],currency:["$",""]});QL.prototype={constructor:QL,reset:function(){this.s=this.t=0},add:function(r){zac(Njc,r,this.t);zac(this,Njc.s,this.s);this.s?this.t+=Njc.t:this.s=Njc.t},valueOf:function(){return this.s}};var Njc=new QL,RL=Math.PI,TL=RL/2,Pac=RL/4,uM=2*RL,lM=180/RL,YL=RL/180,mM=Math.abs,HM=Math.atan,$L=Math.atan2,ZL=Math.cos,tcc=Math.ceil,Ojc=Math.exp,Edc=Math.log,Hdc=Math.pow,UL=Math.sin,xdc=Math.sign||function(r){return 0<r?1:0>r?-1:0},cM=Math.sqrt,GM=Math.tan,Gac={Feature:function(r,
v){Cac(r.geometry,v)},FeatureCollection:function(r,v){r=r.features;for(var w=-1,y=r.length;++w<y;)Cac(r[w].geometry,v)}},Dac={Sphere:function(r,v){v.sphere()},Point:function(r,v){r=r.coordinates;v.point(r[0],r[1],r[2])},MultiPoint:function(r,v){for(var w=r.coordinates,y=-1,B=w.length;++y<B;)r=w[y],v.point(r[0],r[1],r[2])},LineString:function(r,v){Eac(r.coordinates,v,0)},MultiLineString:function(r,v){r=r.coordinates;for(var w=-1,y=r.length;++w<y;)Eac(r[w],v,0)},Polygon:function(r,v){Fac(r.coordinates,
v)},MultiPolygon:function(r,v){r=r.coordinates;for(var w=-1,y=r.length;++w<y;)Fac(r[w],v)},GeometryCollection:function(r,v){r=r.geometries;for(var w=-1,y=r.length;++w<y;)Cac(r[w],v)}},Rac=new QL,Pjc=new QL,Lac,Mac,Nac,Oac,Qac,XL={point:VL,lineStart:VL,lineEnd:VL,polygonStart:function(){Rac.reset();XL.lineStart=Hac;XL.lineEnd=Jac},polygonEnd:function(){var r=+Rac;Pjc.add(0>r?uM+r:r);this.lineStart=this.lineEnd=this.point=VL},sphere:function(){Pjc.add(uM)}},fM,hM,gM,iM,kM,cbc,dbc,jM,bbc=new QL,dM,eM,
oM={point:Xac,lineStart:Zac,lineEnd:$ac,polygonStart:function(){oM.point=abc;oM.lineStart=ebc;oM.lineEnd=fbc;bbc.reset();XL.polygonStart()},polygonEnd:function(){XL.polygonEnd();oM.point=Xac;oM.lineStart=Zac;oM.lineEnd=$ac;0>Rac?(fM=-(gM=180),hM=-(iM=90)):1E-6<bbc?iM=90:-1E-6>bbc&&(hM=-90);eM[0]=fM;eM[1]=gM}},kbc,rbc,lbc,mbc,nbc,sbc,tbc,ubc,Cbc,Dbc,Ebc,Abc,Bbc,qM,rM,sM,pM={sphere:VL,point:ibc,lineStart:obc,lineEnd:vbc,polygonStart:function(){pM.lineStart=wbc;pM.lineEnd=ybc},polygonEnd:function(){pM.lineStart=
obc;pM.lineEnd=vbc}};Gbc.invert=Gbc;var Ubc=new QL,sdc=Vbc(function(){return!0},function(r){var v=NaN,w=NaN,y=NaN,B;return{lineStart:function(){r.lineStart();B=1},point:function(G,O){var T=0<G?RL:-RL,J=mM(G-v);if(1E-6>mM(J-RL))r.point(v,w=0<(w+O)/2?TL:-TL),r.point(y,w),r.lineEnd(),r.lineStart(),r.point(T,w),r.point(G,w),B=0;else if(y!==T&&J>=RL){1E-6>mM(v-y)&&(v-=1E-6*y);1E-6>mM(G-T)&&(G-=1E-6*T);J=v;var R=w,ra=G,Ba,Ka,Va=UL(J-ra);w=1E-6<mM(Va)?HM((UL(R)*(Ka=ZL(O))*UL(ra)-UL(O)*(Ba=ZL(R))*UL(J))/
(Ba*Ka*Va)):(R+O)/2;r.point(y,w);r.lineEnd();r.lineStart();r.point(T,w);B=0}r.point(v=G,w=O);y=T},lineEnd:function(){r.lineEnd();v=w=NaN},clean:function(){return 2-B}}},function(r,v,w,y){null==r?(w*=TL,y.point(-RL,w),y.point(0,w),y.point(RL,w),y.point(RL,0),y.point(RL,-w),y.point(0,-w),y.point(-RL,-w),y.point(-RL,0),y.point(-RL,w)):1E-6<mM(r[0]-v[0])?(r=r[0]<v[0]?RL:-RL,w=w*r/2,y.point(-r,w),y.point(0,w),y.point(r,w)):y.point(v[0],v[1])},[-RL,-TL]),gcc=new QL,ccc,dcc,ecc,vM={sphere:VL,point:VL,lineStart:function(){vM.point=
bcc;vM.lineEnd=acc},lineEnd:VL,polygonStart:VL,polygonEnd:VL},icc=[null,null],jcc={type:"LineString",coordinates:icc},Qjc={Feature:function(r,v){return kcc(r.geometry,v)},FeatureCollection:function(r,v){r=r.features;for(var w=-1,y=r.length;++w<y;)if(kcc(r[w].geometry,v))return!0;return!1}},lcc={Sphere:function(){return!0},Point:function(r,v){return 0===wM(r.coordinates,v)},MultiPoint:function(r,v){r=r.coordinates;for(var w=-1,y=r.length;++w<y;)if(0===wM(r[w],v))return!0;return!1},LineString:function(r,
v){return mcc(r.coordinates,v)},MultiLineString:function(r,v){r=r.coordinates;for(var w=-1,y=r.length;++w<y;)if(mcc(r[w],v))return!0;return!1},Polygon:function(r,v){return ncc(r.coordinates,v)},MultiPolygon:function(r,v){r=r.coordinates;for(var w=-1,y=r.length;++w<y;)if(ncc(r[w],v))return!0;return!1},GeometryCollection:function(r,v){r=r.geometries;for(var w=-1,y=r.length;++w<y;)if(kcc(r[w],v))return!0;return!1}},Rjc=new QL,Bcc=new QL,xcc,zcc,ycc,Acc,yM={point:VL,lineStart:VL,lineEnd:VL,polygonStart:function(){yM.lineStart=
ucc;yM.lineEnd=Ccc},polygonEnd:function(){yM.lineStart=yM.lineEnd=yM.point=VL;Rjc.add(mM(Bcc));Bcc.reset()},result:function(){var r=Rjc/2;Rjc.reset();return r}},qN=Infinity,Sjc=qN,Tjc=-qN,Ujc=Tjc,idc={point:function(r,v){r<qN&&(qN=r);r>Tjc&&(Tjc=r);v<Sjc&&(Sjc=v);v>Ujc&&(Ujc=v)},lineStart:VL,lineEnd:VL,polygonStart:VL,polygonEnd:VL,result:function(){var r=[[qN,Sjc],[Tjc,Ujc]];Tjc=Ujc=-(Sjc=qN=Infinity);return r}},Dcc=0,Ecc=0,Fcc=0,Jcc=0,Kcc=0,DM=0,Scc=0,Tcc=0,Ucc=0,Qcc,Rcc,BM,CM,AM={point:zM,lineStart:Gcc,
lineEnd:Lcc,polygonStart:function(){AM.lineStart=Mcc;AM.lineEnd=Occ},polygonEnd:function(){AM.point=zM;AM.lineStart=Gcc;AM.lineEnd=Lcc},result:function(){var r=Ucc?[Scc/Ucc,Tcc/Ucc]:DM?[Jcc/DM,Kcc/DM]:Fcc?[Dcc/Fcc,Ecc/Fcc]:[NaN,NaN];Dcc=Ecc=Fcc=Jcc=Kcc=DM=Scc=Tcc=Ucc=0;return r}};Vcc.prototype={_radius:4.5,pointRadius:function(r){return this._radius=r,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&
this._context.closePath();this._point=NaN},point:function(r,v){switch(this._point){case 0:this._context.moveTo(r,v);this._point=1;break;case 1:this._context.lineTo(r,v);break;default:this._context.moveTo(r+this._radius,v),this._context.arc(r,v,this._radius,0,uM)}},result:VL};var cdc=new QL,Vjc,Zcc,adc,$cc,bdc,Xcc={point:VL,lineStart:function(){Xcc.point=Wcc},lineEnd:function(){Vjc&&Ycc(Zcc,adc);Xcc.point=VL},polygonStart:function(){Vjc=!0},polygonEnd:function(){Vjc=null},result:function(){var r=+cdc;
cdc.reset();return r}};ddc.prototype={_radius:4.5,_circle:edc(4.5),pointRadius:function(r){(r=+r)!==this._radius&&(this._radius=r,this._circle=null);return this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z");this._point=NaN},point:function(r,v){switch(this._point){case 0:this._string.push("M",r,",",v);this._point=1;break;case 1:this._string.push("L",r,",",v);break;default:null==
this._circle&&(this._circle=edc(this._radius)),this._string.push("M",r,",",v,this._circle)}},result:function(){if(this._string.length){var r=this._string.join("");this._string=[];return r}return null}};gdc.prototype={constructor:gdc,point:function(r,v){this.stream.point(r,v)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};
var ndc=ZL(30*YL),tdc=fdc({point:function(r,v){this.stream.point(r*YL,v*YL)}}),Wjc=Bdc(function(r){return cM(2/(1+r))});Wjc.invert=Cdc(function(r){return 2*SL(r/2)});var Xjc=Bdc(function(r){return(r=Aac(r))&&r/UL(r)});Xjc.invert=Cdc(function(r){return r});Ddc.invert=function(r,v){return[r,2*HM(Ojc(v))-TL]};Idc.invert=Idc;var Ldc=cM(3)/2;Kdc.invert=function(r,v){for(var w=v,y=w*w,B=y*y*y,G=0,O;12>G&&!(O=w*(1.340264+-.081106*y+B*(8.93E-4+.003796*y))-v,y=1.340264+3*-.081106*y+B*(7*8.93E-4+.034164*y),
w-=O/=y,y=w*w,B=y*y*y,1E-12>mM(O));++G);return[Ldc*r*(1.340264+3*-.081106*y+B*(7*8.93E-4+.034164*y))/ZL(w),SL(UL(w)/Ldc)]};Mdc.invert=Cdc(HM);Odc.invert=function(r,v){var w=v,y=25;do{var B=w*w;var G=B*B;w-=G=(w*(1.007226+B*(.015085+G*(-.044475+.028874*B-.005916*G)))-v)/(1.007226+B*(.045255+G*(-.311325+.259866*B-.005916*11*G)))}while(1E-6<mM(G)&&0<--y);return[r/(.8707+(B=w*w)*(-.131979+B*(-.013791+B*B*B*(.003971-.001529*B)))),w]};Pdc.invert=Cdc(SL);Qdc.invert=Cdc(function(r){return 2*HM(r)});Rdc.invert=
function(r,v){return[-v,2*HM(Ojc(r))-TL]};IM.prototype=Ydc.prototype={constructor:IM,count:function(){return this.eachAfter(Xdc)},each:function(r){var v,w=[this],y;do{var B=w.reverse();for(w=[];v=B.pop();)if(r(v),v=v.children){var G=0;for(y=v.length;G<y;++G)w.push(v[G])}}while(w.length);return this},eachAfter:function(r){for(var v,w=[this],y=[],B,G;v=w.pop();)if(y.push(v),v=v.children)for(B=0,G=v.length;B<G;++B)w.push(v[B]);for(;v=y.pop();)r(v);return this},eachBefore:function(r){for(var v,w=[this],
y;v=w.pop();)if(r(v),v=v.children)for(y=v.length-1;0<=y;--y)w.push(v[y]);return this},sum:function(r){return this.eachAfter(function(v){for(var w=+r(v.data)||0,y=v.children,B=y&&y.length;0<=--B;)w+=y[B].value;v.value=w})},sort:function(r){return this.eachBefore(function(v){v.children&&v.children.sort(r)})},path:function(r){var v=this;var w=v;var y=r;if(w!==y){var B=w.ancestors(),G=y.ancestors(),O=null;w=B.pop();for(y=G.pop();w===y;)O=w,w=B.pop(),y=G.pop();w=O}for(y=[v];v!==w;)v=v.parent,y.push(v);
for(v=y.length;r!==w;)y.splice(v,0,r),r=r.parent;return y},ancestors:function(){for(var r=this,v=[r];r=r.parent;)v.push(r);return v},descendants:function(){var r=[];this.each(function(v){r.push(v)});return r},leaves:function(){var r=[];this.eachBefore(function(v){v.children||r.push(v)});return r},links:function(){var r=this,v=[];r.each(function(w){w!==r&&v.push({source:w.parent,target:w})});return v},copy:function(){return Ydc(this).eachBefore(aec)}};var cec=Array.prototype.slice,Yjc={depth:-1},Zjc=
{};zec.prototype=Object.create(IM.prototype);var $jc=(1+Math.sqrt(5))/2,akc=function w(v){function y(B,G,O,T,J){Cec(v,B,G,O,T,J)}y.ratio=function(B){return w(1<(B=+B)?B:1)};return y}($jc),bkc=function y(w){function B(G,O,T,J,R){if((ra=G._squarify)&&ra.ratio===w)for(var ra,Ba,Ka,Va=-1,cb,H=ra.length,Y=G.value;++Va<H;){G=ra[Va];Ba=G.children;Ka=G.value=0;for(cb=Ba.length;Ka<cb;++Ka)G.value+=Ba[Ka].value;G.dice?tec(G,O,T,J,T+=(R-T)*G.value/Y):Bec(G,O,T,O+=(J-O)*G.value/Y,R);Y-=G.value}else G._squarify=
ra=Cec(w,G,O,T,J,R),ra.ratio=w}B.ratio=function(G){return y(1<(G=+G)?G:1)};return B}($jc),ckc=function B(y){function G(O,T){O=null==O?0:+O;T=null==T?1:+T;1===arguments.length?(T=O,O=0):T-=O;return function(){return y()*T+O}}G.source=B;return G}(LM),dkc=function G(B){function O(T,J){var R,ra;T=null==T?0:+T;J=null==J?1:+J;return function(){if(null!=R){var Ba=R;R=null}else{do R=2*B()-1,Ba=2*B()-1,ra=R*R+Ba*Ba;while(!ra||1<ra)}return T+J*Ba*Math.sqrt(-2*Math.log(ra)/ra)}}O.source=G;return O}(LM),ekc=
function O(G){function T(){var J=dkc.source(G).apply(this,arguments);return function(){return Math.exp(J())}}T.source=O;return T}(LM),fkc=function T(O){function J(R){return function(){for(var ra=0,Ba=0;Ba<R;++Ba)ra+=O();return ra}}J.source=T;return J}(LM),gkc=function J(T){function R(ra){var Ba=fkc.source(T)(ra);return function(){return Ba()/ra}}R.source=J;return R}(LM),hkc=function R(J){function ra(Ba){return function(){return-Math.log(1-J())/Ba}}ra.source=R;return ra}(LM),ikc=Array.prototype,Uec=
ikc.map,MM=ikc.slice,Hec={name:"implicit"},Tec=[0,1],ifc=new Date,jfc=new Date,rN=QM(function(){},function(J,R){J.setTime(+J+R)},function(J,R){return R-J});rN.every=function(J){J=Math.floor(J);return isFinite(J)&&0<J?1<J?QM(function(R){R.setTime(Math.floor(R/J)*J)},function(R,ra){R.setTime(+R+ra*J)},function(R,ra){return(ra-R)/J}):rN:null};var jkc=rN.range,kkc=QM(function(J){J.setTime(1E3*Math.floor(J/1E3))},function(J,R){J.setTime(+J+1E3*R)},function(J,R){return(R-J)/1E3},function(J){return J.getUTCSeconds()}),
lkc=kkc.range,mkc=QM(function(J){J.setTime(6E4*Math.floor(J/6E4))},function(J,R){J.setTime(+J+6E4*R)},function(J,R){return(R-J)/6E4},function(J){return J.getMinutes()}),nkc=mkc.range,okc=QM(function(J){var R=6E4*J.getTimezoneOffset()%36E5;0>R&&(R+=36E5);J.setTime(36E5*Math.floor((+J-R)/36E5)+R)},function(J,R){J.setTime(+J+36E5*R)},function(J,R){return(R-J)/36E5},function(J){return J.getHours()}),pkc=okc.range,sfc=QM(function(J){J.setHours(0,0,0,0)},function(J,R){J.setDate(J.getDate()+R)},function(J,
R){return(R-J-6E4*(R.getTimezoneOffset()-J.getTimezoneOffset()))/864E5},function(J){return J.getDate()-1}),qkc=sfc.range,Bgc=RM(0),rfc=RM(1),rkc=RM(2),skc=RM(3),Cgc=RM(4),tkc=RM(5),ukc=RM(6),vkc=Bgc.range,wkc=rfc.range,xkc=rkc.range,ykc=skc.range,zkc=Cgc.range,Akc=tkc.range,Bkc=ukc.range,Ckc=QM(function(J){J.setDate(1);J.setHours(0,0,0,0)},function(J,R){J.setMonth(J.getMonth()+R)},function(J,R){return R.getMonth()-J.getMonth()+12*(R.getFullYear()-J.getFullYear())},function(J){return J.getMonth()}),
Dkc=Ckc.range,VM=QM(function(J){J.setMonth(0,1);J.setHours(0,0,0,0)},function(J,R){J.setFullYear(J.getFullYear()+R)},function(J,R){return R.getFullYear()-J.getFullYear()},function(J){return J.getFullYear()});VM.every=function(J){return isFinite(J=Math.floor(J))&&0<J?QM(function(R){R.setFullYear(Math.floor(R.getFullYear()/J)*J);R.setMonth(0,1);R.setHours(0,0,0,0)},function(R,ra){R.setFullYear(R.getFullYear()+ra*J)}):null};var Ekc=VM.range,Fkc=QM(function(J){J.setUTCSeconds(0,0)},function(J,R){J.setTime(+J+
6E4*R)},function(J,R){return(R-J)/6E4},function(J){return J.getUTCMinutes()}),Gkc=Fkc.range,Hkc=QM(function(J){J.setUTCMinutes(0,0,0)},function(J,R){J.setTime(+J+36E5*R)},function(J,R){return(R-J)/36E5},function(J){return J.getUTCHours()}),Ikc=Hkc.range,qfc=QM(function(J){J.setUTCHours(0,0,0,0)},function(J,R){J.setUTCDate(J.getUTCDate()+R)},function(J,R){return(R-J)/864E5},function(J){return J.getUTCDate()-1}),Jkc=qfc.range,Dgc=SM(0),pfc=SM(1),Kkc=SM(2),Lkc=SM(3),Egc=SM(4),Mkc=SM(5),Nkc=SM(6),Okc=
Dgc.range,Pkc=pfc.range,Qkc=Kkc.range,Rkc=Lkc.range,Skc=Egc.range,Tkc=Mkc.range,Ukc=Nkc.range,Vkc=QM(function(J){J.setUTCDate(1);J.setUTCHours(0,0,0,0)},function(J,R){J.setUTCMonth(J.getUTCMonth()+R)},function(J,R){return R.getUTCMonth()-J.getUTCMonth()+12*(R.getUTCFullYear()-J.getUTCFullYear())},function(J){return J.getUTCMonth()}),Wkc=Vkc.range,WM=QM(function(J){J.setUTCMonth(0,1);J.setUTCHours(0,0,0,0)},function(J,R){J.setUTCFullYear(J.getUTCFullYear()+R)},function(J,R){return R.getUTCFullYear()-
J.getUTCFullYear()},function(J){return J.getUTCFullYear()});WM.every=function(J){return isFinite(J=Math.floor(J))&&0<J?QM(function(R){R.setUTCFullYear(Math.floor(R.getUTCFullYear()/J)*J);R.setUTCMonth(0,1);R.setUTCHours(0,0,0,0)},function(R,ra){R.setUTCFullYear(R.getUTCFullYear()+ra*J)}):null};var Xkc=WM.range,ofc={"-":"",_:" ",0:"0"},UM=/^\s*\d+/,Agc=/^%/,zgc=/[\\^$*+?|[\]().{}]/g,XM;Fgc({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});var Ykc=Date.prototype.toISOString?Ggc:d3.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),Zkc=+new Date("2000-01-01T00:00:00.000Z")?Hgc:d3.utcParse("%Y-%m-%dT%H:%M:%S.%LZ"),$kc=YM("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),alc=YM("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),
blc=YM("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),clc=YM("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),dlc=YM("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),elc=YM("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),flc=YM("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),glc=YM("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),
hlc=YM("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),ilc=YM("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),jlc=YM("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),klc=YM("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),llc=Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e",
"8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(YM),mlc=ZM(llc),nlc=Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837",
"40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(YM),olc=ZM(nlc),plc=Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419",
"8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(YM),qlc=ZM(plc),rlc=Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(YM),
slc=ZM(rlc),tlc=Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(YM),ulc=ZM(tlc),vlc=Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040",
"ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(YM),wlc=ZM(vlc),xlc=Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4",
"d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(YM),ylc=ZM(xlc),zlc=Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850",
"d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(YM),Alc=ZM(zlc),Blc=Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd",
"9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(YM),Clc=ZM(Blc),Dlc=Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(YM),Elc=ZM(Dlc),Flc=Array(3).concat("e0ecf49ebcda8856a7",
"edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(YM),Glc=ZM(Flc),Hlc=Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e",
"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(YM),Ilc=ZM(Hlc),Jlc=Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(YM),Klc=ZM(Jlc),Llc=Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59",
"f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(YM),Mlc=ZM(Llc),Nlc=Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(YM),Olc=ZM(Nlc),Plc=Array(3).concat("e7e1efc994c7dd1c77",
"f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(YM),Qlc=ZM(Plc),Rlc=Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177",
"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(YM),Slc=ZM(Rlc),Tlc=Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(YM),Ulc=ZM(Tlc),Vlc=Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837",
"ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(YM),Wlc=ZM(Vlc),Xlc=Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(YM),Ylc=ZM(Xlc),Zlc=Array(3).concat("ffeda0feb24cf03b20",
"ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(YM),$lc=ZM(Zlc),amc=Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594",
"f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(YM),bmc=ZM(amc),cmc=Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(YM),dmc=ZM(cmc),emc=Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525",
"f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(YM),fmc=ZM(emc),gmc=Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(YM),hmc=ZM(gmc),imc=Array(3).concat("fee0d2fc9272de2d26",
"fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(YM),jmc=ZM(imc),kmc=Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04",
"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(YM),lmc=ZM(kmc),mmc=ajc(uL(300,.5,0),uL(-240,.5,1)),nmc=ajc(uL(-100,.75,.35),uL(80,1.5,.8)),omc=ajc(uL(260,.75,.35),uL(80,1.5,.8)),pmc=uL(),qmc=pL(),rmc=Math.PI/3,smc=2*Math.PI/3,tmc=Ogc(YM("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),
umc=Ogc(YM("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),
vmc=Ogc(YM("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),
wmc=Ogc(YM("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),
xmc=Math.abs,sN=Math.atan2,tN=Math.cos,Xgc=Math.max,ymc=Math.min,uN=Math.sin,aN=Math.sqrt,vN=Math.PI,Qgc=vN/2,wN=2*vN;Ygc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(J,R){J=+J;R=+R;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(J,R):this._context.moveTo(J,R);break;case 1:this._point=
2;default:this._context.lineTo(J,R)}}};var jhc=ghc(Zgc);fhc.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(J,R){this._curve.point(R*Math.sin(J),R*-Math.cos(J))}};var phc=Array.prototype.slice,zmc={draw:function(J,R){R=Math.sqrt(R/vN);J.moveTo(R,0);J.arc(0,0,R,0,wN)}},Amc={draw:function(J,R){R=Math.sqrt(R/5)/2;J.moveTo(-3*R,-R);J.lineTo(-R,-R);J.lineTo(-R,
-3*R);J.lineTo(R,-3*R);J.lineTo(R,-R);J.lineTo(3*R,-R);J.lineTo(3*R,R);J.lineTo(R,R);J.lineTo(R,3*R);J.lineTo(-R,3*R);J.lineTo(-R,R);J.lineTo(-3*R,R);J.closePath()}},Bmc=Math.sqrt(1/3),Cmc=2*Bmc,Dmc={draw:function(J,R){R=Math.sqrt(R/Cmc);var ra=R*Bmc;J.moveTo(0,-R);J.lineTo(ra,0);J.lineTo(0,R);J.lineTo(-ra,0);J.closePath()}},Emc=Math.sin(vN/10)/Math.sin(7*vN/10),Fmc=Math.sin(wN/10)*Emc,Gmc=-Math.cos(wN/10)*Emc,Hmc={draw:function(J,R){R=Math.sqrt(.8908130915292852*R);var ra=Fmc*R,Ba=Gmc*R;J.moveTo(0,
-R);J.lineTo(ra,Ba);for(var Ka=1;5>Ka;++Ka){var Va=wN*Ka/5,cb=Math.cos(Va);Va=Math.sin(Va);J.lineTo(Va*R,-cb*R);J.lineTo(cb*ra-Va*Ba,Va*ra+cb*Ba)}J.closePath()}},Imc={draw:function(J,R){R=Math.sqrt(R);var ra=-R/2;J.rect(ra,ra,R,R)}},Jmc=Math.sqrt(3),Kmc={draw:function(J,R){R=-Math.sqrt(R/(3*Jmc));J.moveTo(0,2*R);J.lineTo(-Jmc*R,-R);J.lineTo(Jmc*R,-R);J.closePath()}},xN=Math.sqrt(3)/2,Lmc=1/Math.sqrt(12),Mmc=3*(Lmc/2+1),Nmc={draw:function(J,R){var ra=Math.sqrt(R/Mmc);R=ra/2;var Ba=ra*Lmc;ra=ra*Lmc+
ra;var Ka=-R;J.moveTo(R,Ba);J.lineTo(R,ra);J.lineTo(Ka,ra);J.lineTo(-.5*R-xN*Ba,xN*R+-.5*Ba);J.lineTo(-.5*R-xN*ra,xN*R+-.5*ra);J.lineTo(-.5*Ka-xN*ra,xN*Ka+-.5*ra);J.lineTo(-.5*R+xN*Ba,-.5*Ba-xN*R);J.lineTo(-.5*R+xN*ra,-.5*ra-xN*R);J.lineTo(-.5*Ka+xN*ra,-.5*ra-xN*Ka);J.closePath()}},Omc=[zmc,Amc,Dmc,Imc,Hmc,Kmc,Nmc];uhc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){switch(this._point){case 3:thc(this,
this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(J,R){J=+J;R=+R;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(J,R):this._context.moveTo(J,R);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:thc(this,J,R)}this._x0=this._x1;this._x1=J;this._y0=this._y1;this._y1=R}};
vhc.prototype={areaStart:bN,areaEnd:bN,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2);this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3);this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3);this._context.closePath();break;case 3:this.point(this._x2,this._y2),
this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(J,R){J=+J;R=+R;switch(this._point){case 0:this._point=1;this._x2=J;this._y2=R;break;case 1:this._point=2;this._x3=J;this._y3=R;break;case 2:this._point=3;this._x4=J;this._y4=R;this._context.moveTo((this._x0+4*this._x1+J)/6,(this._y0+4*this._y1+R)/6);break;default:thc(this,J,R)}this._x0=this._x1;this._x1=J;this._y0=this._y1;this._y1=R}};whc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=
this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(J,R){J=+J;R=+R;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var ra=(this._x0+4*this._x1+J)/6,Ba=(this._y0+4*this._y1+R)/6;this._line?this._context.lineTo(ra,Ba):this._context.moveTo(ra,Ba);break;case 3:this._point=4;default:thc(this,J,R)}this._x0=this._x1;this._x1=J;this._y0=
this._y1;this._y1=R}};xhc.prototype={lineStart:function(){this._x=[];this._y=[];this._basis.lineStart()},lineEnd:function(){var J=this._x,R=this._y,ra=J.length-1;if(0<ra)for(var Ba=J[0],Ka=R[0],Va=J[ra]-Ba,cb=R[ra]-Ka,H=-1,Y;++H<=ra;)Y=H/ra,this._basis.point(this._beta*J[H]+(1-this._beta)*(Ba+Y*Va),this._beta*R[H]+(1-this._beta)*(Ka+Y*cb));this._x=this._y=null;this._basis.lineEnd()},point:function(J,R){this._x.push(+J);this._y.push(+R)}};var Pmc=function ra(R){function Ba(Ka){return 1===R?new uhc(Ka):
new xhc(Ka,R)}Ba.beta=function(Ka){return ra(+Ka)};return Ba}(.85);zhc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:yhc(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(R,ra){R=+R;ra=+ra;
switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(R,ra):this._context.moveTo(R,ra);break;case 1:this._point=2;this._x1=R;this._y1=ra;break;case 2:this._point=3;default:yhc(this,R,ra)}this._x0=this._x1;this._x1=this._x2;this._x2=R;this._y0=this._y1;this._y1=this._y2;this._y2=ra}};var Qmc=function Ba(ra){function Ka(Va){return new zhc(Va,ra)}Ka.tension=function(Va){return Ba(+Va)};return Ka}(0);Ahc.prototype={areaStart:bN,areaEnd:bN,lineStart:function(){this._x0=this._x1=this._x2=
this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(ra,Ba){ra=+ra;Ba=+Ba;switch(this._point){case 0:this._point=1;this._x3=ra;this._y3=Ba;break;
case 1:this._point=2;this._context.moveTo(this._x4=ra,this._y4=Ba);break;case 2:this._point=3;this._x5=ra;this._y5=Ba;break;default:yhc(this,ra,Ba)}this._x0=this._x1;this._x1=this._x2;this._x2=ra;this._y0=this._y1;this._y1=this._y2;this._y2=Ba}};var Rmc=function Ka(Ba){function Va(cb){return new Ahc(cb,Ba)}Va.tension=function(cb){return Ka(+cb)};return Va}(0);Bhc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=
this._y1=this._y2=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Ba,Ka){Ba=+Ba;Ka=+Ka;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:yhc(this,Ba,Ka)}this._x0=this._x1;this._x1=this._x2;this._x2=Ba;this._y0=this._y1;this._y1=
this._y2;this._y2=Ka}};var Smc=function Va(Ka){function cb(H){return new Bhc(H,Ka)}cb.tension=function(H){return Va(+H)};return cb}(0);Dhc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,
this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Ka,Va){Ka=+Ka;Va=+Va;if(this._point){var cb=this._x2-Ka,H=this._y2-Va;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(cb*cb+H*H,this._alpha))}switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Ka,Va):this._context.moveTo(Ka,Va);break;case 1:this._point=2;break;case 2:this._point=3;default:Chc(this,Ka,Va)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=
this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=Ka;this._y0=this._y1;this._y1=this._y2;this._y2=Va}};var Tmc=function cb(Va){function H(Y){return Va?new Dhc(Y,Va):new zhc(Y,0)}H.alpha=function(Y){return cb(+Y)};return H}(.5);Ehc.prototype={areaStart:bN,areaEnd:bN,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=
this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(Va,cb){Va=+Va;cb=+cb;if(this._point){var H=this._x2-Va,Y=this._y2-cb;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(H*H+Y*Y,this._alpha))}switch(this._point){case 0:this._point=1;
this._x3=Va;this._y3=cb;break;case 1:this._point=2;this._context.moveTo(this._x4=Va,this._y4=cb);break;case 2:this._point=3;this._x5=Va;this._y5=cb;break;default:Chc(this,Va,cb)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=Va;this._y0=this._y1;this._y1=this._y2;this._y2=cb}};var Umc=function H(cb){function Y(X){return cb?new Ehc(X,cb):new Ahc(X,0)}Y.alpha=function(X){return H(+X)};return Y}(.5);Fhc.prototype=
{areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(cb,H){cb=+cb;H=+H;if(this._point){var Y=this._x2-cb,X=this._y2-H;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Y*Y+X*X,this._alpha))}switch(this._point){case 0:this._point=
1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Chc(this,cb,H)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=cb;this._y0=this._y1;this._y1=this._y2;this._y2=H}};var Vmc=function Y(H){function X(W){return H?new Fhc(W,H):new Bhc(W,0)}X.alpha=function(W){return Y(+W)};return X}(.5);
Ghc.prototype={areaStart:bN,areaEnd:bN,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(H,Y){H=+H;Y=+Y;this._point?this._context.lineTo(H,Y):(this._point=1,this._context.moveTo(H,Y))}};Khc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);
break;case 3:Jhc(this,this._t0,Ihc(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(H,Y){var X=NaN;H=+H;Y=+Y;if(H!==this._x1||Y!==this._y1){switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(H,Y):this._context.moveTo(H,Y);break;case 1:this._point=2;break;case 2:this._point=3;Jhc(this,Ihc(this,X=Hhc(this,H,Y)),X);break;default:Jhc(this,this._t0,X=Hhc(this,H,Y))}this._x0=this._x1;this._x1=H;this._y0=
this._y1;this._y1=Y;this._t0=X}}};(Lhc.prototype=Object.create(Khc.prototype)).point=function(H,Y){Khc.prototype.point.call(this,Y,H)};Mhc.prototype={moveTo:function(H,Y){this._context.moveTo(Y,H)},closePath:function(){this._context.closePath()},lineTo:function(H,Y){this._context.lineTo(Y,H)},bezierCurveTo:function(H,Y,X,W,Z,ua){this._context.bezierCurveTo(Y,H,W,X,ua,Z)}};Nhc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[];this._y=[]},
lineEnd:function(){var H=this._x,Y=this._y,X=H.length;if(X)if(this._line?this._context.lineTo(H[0],Y[0]):this._context.moveTo(H[0],Y[0]),2===X)this._context.lineTo(H[1],Y[1]);else for(var W=Ohc(H),Z=Ohc(Y),ua=0,ma=1;ma<X;++ua,++ma)this._context.bezierCurveTo(W[0][ua],Z[0][ua],W[1][ua],Z[1][ua],H[ma],Y[ma]);(this._line||0!==this._line&&1===X)&&this._context.closePath();this._line=1-this._line;this._x=this._y=null},point:function(H,Y){this._x.push(+H);this._y.push(+Y)}};Phc.prototype={areaStart:function(){this._line=
0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN;this._point=0},lineEnd:function(){0<this._t&&1>this._t&&2===this._point&&this._context.lineTo(this._x,this._y);(this._line||0!==this._line&&1===this._point)&&this._context.closePath();0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},point:function(H,Y){H=+H;Y=+Y;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(H,Y):this._context.moveTo(H,Y);break;case 1:this._point=2;default:if(0>=this._t)this._context.lineTo(this._x,
Y),this._context.lineTo(H,Y);else{var X=this._x*(1-this._t)+H*this._t;this._context.lineTo(X,this._y);this._context.lineTo(X,Y)}}this._x=H;this._y=Y}};Whc.prototype={constructor:Whc,insert:function(H,Y){var X;if(H){Y.P=H;if(Y.N=H.N)H.N.P=Y;H.N=Y;if(H.R){for(H=H.R;H.L;)H=H.L;H.L=Y}else H.R=Y;var W=H}else this._?(H=$hc(this._),Y.P=null,Y.N=H,H.P=H.L=Y,W=H):(Y.P=Y.N=null,this._=Y,W=null);Y.L=Y.R=null;Y.U=W;Y.C=!0;for(H=Y;W&&W.C;)Y=W.U,W===Y.L?(X=Y.R)&&X.C?(W.C=X.C=!1,Y.C=!0,H=Y):(H===W.R&&(Yhc(this,
W),H=W,W=H.U),W.C=!1,Y.C=!0,Zhc(this,Y)):(X=Y.L)&&X.C?(W.C=X.C=!1,Y.C=!0,H=Y):(H===W.L&&(Zhc(this,W),H=W,W=H.U),W.C=!1,Y.C=!0,Yhc(this,Y)),W=H.U;this._.C=!1},remove:function(H){H.N&&(H.N.P=H.P);H.P&&(H.P.N=H.N);H.N=H.P=null;var Y=H.U,X=H.L,W=H.R;var Z=X?W?$hc(W):X:W;Y?Y.L===H?Y.L=Z:Y.R=Z:this._=Z;if(X&&W){var ua=Z.C;Z.C=H.C;Z.L=X;X.U=Z;Z!==W?(Y=Z.U,Z.U=H.U,H=Z.R,Y.L=H,Z.R=W,W.U=Z):(Z.U=Y,Y=Z,H=Z.R)}else ua=H.C,H=Z;H&&(H.U=Y);if(!ua)if(H&&H.C)H.C=!1;else{do{if(H===this._)break;if(H===Y.L){if(H=Y.R,
H.C&&(H.C=!1,Y.C=!0,Yhc(this,Y),H=Y.R),H.L&&H.L.C||H.R&&H.R.C){H.R&&H.R.C||(H.L.C=!1,H.C=!0,Zhc(this,H),H=Y.R);H.C=Y.C;Y.C=H.R.C=!1;Yhc(this,Y);H=this._;break}}else if(H=Y.L,H.C&&(H.C=!1,Y.C=!0,Zhc(this,Y),H=Y.L),H.L&&H.L.C||H.R&&H.R.C){H.L&&H.L.C||(H.R.C=!1,H.C=!0,Yhc(this,H),H=Y.L);H.C=Y.C;Y.C=H.L.C=!1;Zhc(this,Y);H=this._;break}H.C=!0;H=Y;Y=Y.U}while(!H.C);H&&(H.C=!1)}}};var kic=[],mic,pic=[],jN=1E-6,jic=1E-12,iN,fN,lic,eN;tic.prototype={constructor:tic,polygons:function(){var H=this.edges;return this.cells.map(function(Y){var X=
Y.halfedges.map(function(W){return gic(Y,H[W])});X.data=Y.site.data;return X})},triangles:function(){var H=[],Y=this.edges;this.cells.forEach(function(X,W){if(ma=(Z=X.halfedges).length){X=X.site;var Z,ua=-1,ma,ea=Y[Z[ma-1]];for(ea=ea.left===X?ea.right:ea.left;++ua<ma;){var na=ea;ea=Y[Z[ua]];ea=ea.left===X?ea.right:ea.left;na&&ea&&W<na.index&&W<ea.index&&0>(X[0]-ea[0])*(na[1]-X[1])-(X[0]-na[0])*(ea[1]-X[1])&&H.push([X.data,na.data,ea.data])}}});return H},links:function(){return this.edges.filter(function(H){return H.right}).map(function(H){return{source:H.left.data,
target:H.right.data}})},find:function(H,Y,X){var W=this,Z=W._found||0;var ua=W.cells.length;for(var ma;!(ma=W.cells[Z]);)if(++Z>=ua)return null;ua=H-ma.site[0];var ea=Y-ma.site[1],na=ua*ua+ea*ea;do ma=W.cells[ua=Z],Z=null,ma.halfedges.forEach(function(ya){var Qa=W.edges[ya];ya=Qa.left;if(ya!==ma.site&&ya||(ya=Qa.right)){Qa=H-ya[0];var Ya=Y-ya[1];Qa=Qa*Qa+Ya*Ya;Qa<na&&(na=Qa,Z=ya.index)}});while(null!==Z);W._found=ua;return null==X||na<=X*X?ma.site:null}};kN.prototype={constructor:kN,scale:function(H){return 1===
H?this:new kN(this.k*H,this.x,this.y)},translate:function(H,Y){return 0===H&0===Y?this:new kN(this.k,this.x+this.k*H,this.y+this.k*Y)},apply:function(H){return[H[0]*this.k+this.x,H[1]*this.k+this.y]},applyX:function(H){return H*this.k+this.x},applyY:function(H){return H*this.k+this.y},invert:function(H){return[(H[0]-this.x)/this.k,(H[1]-this.y)/this.k]},invertX:function(H){return(H-this.x)/this.k},invertY:function(H){return(H-this.y)/this.k},rescaleX:function(H){return H.copy().domain(H.range().map(this.invertX,
this).map(H.invert,H))},rescaleY:function(H){return H.copy().domain(H.range().map(this.invertY,this).map(H.invert,H))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var xic=new kN(1,0,0);wic.prototype=kN.prototype;d3.version="5.7.0";d3.bisect=NM;d3.bisectRight=NM;d3.bisectLeft=Gic;d3.ascending=$K;d3.bisector=I5b;d3.cross=function(H,Y,X){var W=H.length,Z=Y.length,ua=Array(W*Z),ma,ea,na;null==X&&(X=K5b);for(ma=na=0;ma<W;++ma){var ya=H[ma];for(ea=0;ea<Z;++ea,++na)ua[na]=
X(ya,Y[ea])}return ua};d3.descending=function(H,Y){return Y<H?-1:Y>H?1:Y>=H?0:NaN};d3.deviation=M5b;d3.extent=N5b;d3.histogram=function(){function H(Z){var ua,ma=Z.length,ea=Array(ma);for(ua=0;ua<ma;++ua)ea[ua]=Y(Z[ua],ua,Z);ua=X(ea);var na=ua[0],ya=ua[1],Qa=W(ea,na,ya);Array.isArray(Qa)||(Qa=cL(na,ya,Qa),Qa=bL(Math.ceil(na/Qa)*Qa,ya,Qa));for(var Ya=Qa.length;Qa[0]<=na;)Qa.shift(),--Ya;for(;Qa[Ya-1]>ya;)Qa.pop(),--Ya;var Ca=Array(Ya+1);for(ua=0;ua<=Ya;++ua){var Ta=Ca[ua]=[];Ta.x0=0<ua?Qa[ua-1]:na;
Ta.x1=ua<Ya?Qa[ua]:ya}for(ua=0;ua<ma;++ua)Ta=ea[ua],na<=Ta&&Ta<=ya&&Ca[NM(Qa,Ta,0,Ya)].push(Z[ua]);return Ca}var Y=P5b,X=N5b,W=V5b;H.value=function(Z){return arguments.length?(Y="function"===typeof Z?Z:O5b(Z),H):Y};H.domain=function(Z){return arguments.length?(X="function"===typeof Z?Z:O5b([Z[0],Z[1]]),H):X};H.thresholds=function(Z){return arguments.length?(W="function"===typeof Z?Z:Array.isArray(Z)?O5b(Iic.call(Z)):O5b(Z),H):W};return H};d3.thresholdFreedmanDiaconis=function(H,Y,X){H=Jic.call(H,
aL).sort($K);return Math.ceil((X-Y)/(2*(W5b(H,.75)-W5b(H,.25))*Math.pow(H.length,-1/3)))};d3.thresholdScott=function(H,Y,X){return Math.ceil((X-Y)/(3.5*M5b(H)*Math.pow(H.length,-1/3)))};d3.thresholdSturges=V5b;d3.max=X5b;d3.mean=function(H,Y){var X=H.length,W=X,Z=-1,ua,ma=0;if(null==Y)for(;++Z<X;)isNaN(ua=aL(H[Z]))?--W:ma+=ua;else for(;++Z<X;)isNaN(ua=aL(Y(H[Z],Z,H)))?--W:ma+=ua;if(W)return ma/W};d3.median=function(H,Y){var X=H.length,W=-1,Z,ua=[];if(null==Y)for(;++W<X;)isNaN(Z=aL(H[W]))||ua.push(Z);
else for(;++W<X;)isNaN(Z=aL(Y(H[W],W,H)))||ua.push(Z);return W5b(ua.sort($K),.5)};d3.merge=Y5b;d3.min=Z5b;d3.pairs=function(H,Y){null==Y&&(Y=K5b);for(var X=0,W=H.length-1,Z=H[0],ua=Array(0>W?0:W);X<W;)ua[X]=Y(Z,Z=H[++X]);return ua};d3.permute=function(H,Y){for(var X=Y.length,W=Array(X);X--;)W[X]=H[Y[X]];return W};d3.quantile=W5b;d3.range=bL;d3.scan=function(H,Y){if(X=H.length){var X,W=0,Z=0,ua,ma=H[Z];for(null==Y&&(Y=$K);++W<X;)if(0>Y(ua=H[W],ma)||0!==Y(ma,ma))ma=ua,Z=W;if(0===Y(ma,ma))return Z}};
d3.shuffle=function(H,Y,X){X=(null==X?H.length:X)-(Y=null==Y?0:+Y);for(var W,Z;X;)Z=Math.random()*X--|0,W=H[X+Y],H[X+Y]=H[Z+Y],H[Z+Y]=W;return H};d3.sum=function(H,Y){var X=H.length,W=-1,Z,ua=0;if(null==Y)for(;++W<X;){if(Z=+H[W])ua+=Z}else for(;++W<X;)if(Z=+Y(H[W],W,H))ua+=Z;return ua};d3.ticks=Q5b;d3.tickIncrement=R5b;d3.tickStep=cL;d3.transpose=$5b;d3.variance=L5b;d3.zip=function(){return $5b(arguments)};d3.axisTop=function(H){return h6b(1,H)};d3.axisRight=function(H){return h6b(2,H)};d3.axisBottom=
function(H){return h6b(3,H)};d3.axisLeft=function(H){return h6b(4,H)};d3.brush=function(){return e$b(pjc)};d3.brushX=function(){return e$b(l$b)};d3.brushY=function(){return e$b(j$b)};d3.brushSelection=function(H){return(H=H.__brush)?H.dim.output(H.selection):null};d3.chord=function(){function H(ua){var ma=ua.length,ea=[],na=bL(ma),ya=[],Qa=[],Ya=Qa.groups=Array(ma),Ca=Array(ma*ma),Ta,Pa;var va=0;for(Ta=-1;++Ta<ma;){var ub=0;for(Pa=-1;++Pa<ma;)ub+=ua[Ta][Pa];ea.push(ub);ya.push(bL(ma));va+=ub}X&&na.sort(function(Td,
fe){return X(ea[Td],ea[fe])});W&&ya.forEach(function(Td,fe){Td.sort(function(Re,yb){return W(ua[fe][Re],ua[fe][yb])})});var gb=(va=vjc(0,ujc-Y*ma)/va)?Y:ujc/ma;ub=0;for(Ta=-1;++Ta<ma;){var Jb=ub;for(Pa=-1;++Pa<ma;){var gc=na[Ta],Zb=ya[gc][Pa],hd=ua[gc][Zb],Kc=ub,Nd=ub+=hd*va;Ca[Zb*ma+gc]={index:gc,subindex:Zb,startAngle:Kc,endAngle:Nd,value:hd}}Ya[gc]={index:gc,startAngle:Jb,endAngle:ub,value:ea[gc]};ub+=gb}for(Ta=-1;++Ta<ma;)for(Pa=Ta-1;++Pa<ma;)na=Ca[Pa*ma+Ta],ya=Ca[Ta*ma+Pa],(na.value||ya.value)&&
Qa.push(na.value<ya.value?{source:ya,target:na}:{source:na,target:ya});return Z?Qa.sort(Z):Qa}var Y=0,X=null,W=null,Z=null;H.padAngle=function(ua){return arguments.length?(Y=vjc(0,ua),H):Y};H.sortGroups=function(ua){return arguments.length?(X=ua,H):X};H.sortSubgroups=function(ua){return arguments.length?(W=ua,H):W};H.sortChords=function(ua){return arguments.length?(null==ua?Z=null:(Z=n$b(ua))._=ua,H):Z&&Z._};return H};d3.ribbon=function(){function H(){var ea,na=wjc.call(arguments),ya=Y.apply(this,
na),Qa=X.apply(this,na);ya=+W.apply(this,(na[0]=ya,na));var Ya=Z.apply(this,na)-tjc,Ca=ua.apply(this,na)-tjc,Ta=ya*qjc(Ya),Pa=ya*rjc(Ya);Qa=+W.apply(this,(na[0]=Qa,na));var va=Z.apply(this,na)-tjc;na=ua.apply(this,na)-tjc;ma||(ma=ea=IL());ma.moveTo(Ta,Pa);ma.arc(0,0,ya,Ya,Ca);if(Ya!==va||Ca!==na)ma.quadraticCurveTo(0,0,Qa*qjc(va),Qa*rjc(va)),ma.arc(0,0,Qa,va,na);ma.quadraticCurveTo(0,0,Ta,Pa);ma.closePath();if(ea)return ma=null,ea+""||null}var Y=q$b,X=r$b,W=s$b,Z=t$b,ua=u$b,ma=null;H.radius=function(ea){return arguments.length?
(W="function"===typeof ea?ea:o$b(+ea),H):W};H.startAngle=function(ea){return arguments.length?(Z="function"===typeof ea?ea:o$b(+ea),H):Z};H.endAngle=function(ea){return arguments.length?(ua="function"===typeof ea?ea:o$b(+ea),H):ua};H.source=function(ea){return arguments.length?(Y=ea,H):Y};H.target=function(ea){return arguments.length?(X=ea,H):X};H.context=function(ea){return arguments.length?(ma=null==ea?null:ea,H):ma};return H};d3.nest=function(){function H(ea,na,ya,Qa){if(na>=X.length)return null!=
Z&&ea.sort(Z),null!=ua?ua(ea):ea;for(var Ya=-1,Ca=ea.length,Ta=X[na++],Pa,va,ub=JL(),gb,Jb=ya();++Ya<Ca;)(gb=ub.get(Pa=Ta(va=ea[Ya])+""))?gb.push(va):ub.set(Pa,[va]);ub.each(function(gc,Zb){Qa(Jb,Zb,H(gc,na,ya,Qa))});return Jb}function Y(ea,na){if(++na>X.length)return ea;var ya=W[na-1];if(null!=ua&&na>=X.length)var Qa=ea.entries();else Qa=[],ea.each(function(Ya,Ca){Qa.push({key:Ca,values:Y(Ya,na)})});return null!=ya?Qa.sort(function(Ya,Ca){return ya(Ya.key,Ca.key)}):Qa}var X=[],W=[],Z,ua,ma;return ma=
{object:function(ea){return H(ea,0,w$b,x$b)},map:function(ea){return H(ea,0,y$b,z$b)},entries:function(ea){return Y(H(ea,0,y$b,z$b),0)},key:function(ea){X.push(ea);return ma},sortKeys:function(ea){W[X.length-1]=ea;return ma},sortValues:function(ea){Z=ea;return ma},rollup:function(ea){ua=ea;return ma}}};d3.set=B$b;d3.map=JL;d3.keys=function(H){var Y=[],X;for(X in H)Y.push(X);return Y};d3.values=function(H){var Y=[],X;for(X in H)Y.push(H[X]);return Y};d3.entries=function(H){var Y=[],X;for(X in H)Y.push({key:X,
value:H[X]});return Y};d3.color=nL;d3.rgb=pL;d3.hsl=V7b;d3.lab=a8b;d3.hcl=i8b;d3.lch=function(H,Y,X,W){return 1===arguments.length?g8b(H):new sL(X,Y,H,null==W?1:W)};d3.gray=function(H,Y){return new rL(H,0,0,null==Y?1:Y)};d3.cubehelix=uL;d3.contours=E$b;d3.contourDensity=function(){function H(gb){var Jb=new Float32Array(Pa*va),gc=new Float32Array(Pa*va);gb.forEach(function(Zb,hd,Kc){var Nd=+ma(Zb,hd,Kc)+Ta>>Ca,Td=+ea(Zb,hd,Kc)+Ta>>Ca;Zb=+na(Zb,hd,Kc);0<=Nd&&Nd<Pa&&0<=Td&&Td<va&&(Jb[Nd+Td*Pa]+=Zb)});
G$b({width:Pa,height:va,data:Jb},{width:Pa,height:va,data:gc},Ya>>Ca);H$b({width:Pa,height:va,data:gc},{width:Pa,height:va,data:Jb},Ya>>Ca);G$b({width:Pa,height:va,data:Jb},{width:Pa,height:va,data:gc},Ya>>Ca);H$b({width:Pa,height:va,data:gc},{width:Pa,height:va,data:Jb},Ya>>Ca);G$b({width:Pa,height:va,data:Jb},{width:Pa,height:va,data:gc},Ya>>Ca);H$b({width:Pa,height:va,data:gc},{width:Pa,height:va,data:Jb},Ya>>Ca);gb=ub(Jb);Array.isArray(gb)||(gc=X5b(Jb),gb=cL(0,gc,gb),gb=bL(0,Math.floor(gc/gb)*
gb,gb),gb.shift());return E$b().thresholds(gb).size([Pa,va])(Jb).map(Y)}function Y(gb){gb.value*=Math.pow(2,-2*Ca);gb.coordinates.forEach(X);return gb}function X(gb){gb.forEach(W)}function W(gb){gb.forEach(Z)}function Z(gb){gb[0]=gb[0]*Math.pow(2,Ca)-Ta;gb[1]=gb[1]*Math.pow(2,Ca)-Ta}function ua(){Ta=3*Ya;Pa=ya+2*Ta>>Ca;va=Qa+2*Ta>>Ca;return H}var ma=I$b,ea=J$b,na=K$b,ya=960,Qa=500,Ya=20,Ca=2,Ta=3*Ya,Pa=ya+2*Ta>>Ca,va=Qa+2*Ta>>Ca,ub=KL(20);H.x=function(gb){return arguments.length?(ma="function"===
typeof gb?gb:KL(+gb),H):ma};H.y=function(gb){return arguments.length?(ea="function"===typeof gb?gb:KL(+gb),H):ea};H.weight=function(gb){return arguments.length?(na="function"===typeof gb?gb:KL(+gb),H):na};H.size=function(gb){if(!arguments.length)return[ya,Qa];var Jb=Math.ceil(gb[0]),gc=Math.ceil(gb[1]);if(!(0<=Jb||0<=Jb))throw Error("ji");return ya=Jb,Qa=gc,ua()};H.cellSize=function(gb){if(!arguments.length)return 1<<Ca;if(!(1<=(gb=+gb)))throw Error("qi");return Ca=Math.floor(Math.log(gb)/Math.LN2),
ua()};H.thresholds=function(gb){return arguments.length?(ub="function"===typeof gb?gb:Array.isArray(gb)?KL(F$b.call(gb)):KL(gb),H):ub};H.bandwidth=function(gb){if(!arguments.length)return Math.sqrt(Ya*(Ya+1));if(!(0<=(gb=+gb)))throw Error("ri");return Ya=Math.round((Math.sqrt(4*gb*gb+1)-1)/2),ua()};return H};d3.dispatch=dL;d3.drag=function(){function H(Zb){Zb.on("mousedown.drag",Y).filter(Ya).on("touchstart.drag",Z).on("touchmove.drag",ua).on("touchend.drag touchcancel.drag",ma).style("touch-action",
"none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function Y(){if(!Jb&&na.apply(this,arguments)){var Zb=ea("mouse",ya.apply(this,arguments),jL,this,arguments);Zb&&(iL(d3.event.view).on("mousemove.drag",X,!0).on("mouseup.drag",W,!0),x7b(d3.event.view),d3.event.stopImmediatePropagation(),gb=!1,va=d3.event.clientX,ub=d3.event.clientY,Zb("start"))}}function X(){kL();if(!gb){var Zb=d3.event.clientX-va,hd=d3.event.clientY-ub;gb=Zb*Zb+hd*hd>gc}Ca.mouse("drag")}function W(){iL(d3.event.view).on("mousemove.drag mouseup.drag",
null);y7b(d3.event.view,gb);kL();Ca.mouse("end")}function Z(){if(na.apply(this,arguments)){var Zb=d3.event.changedTouches,hd=ya.apply(this,arguments),Kc=Zb.length,Nd,Td;for(Nd=0;Nd<Kc;++Nd)if(Td=ea(Zb[Nd].identifier,hd,w7b,this,arguments))d3.event.stopImmediatePropagation(),Td("start")}}function ua(){var Zb=d3.event.changedTouches,hd=Zb.length,Kc,Nd;for(Kc=0;Kc<hd;++Kc)if(Nd=Ca[Zb[Kc].identifier])kL(),Nd("drag")}function ma(){var Zb=d3.event.changedTouches,hd=Zb.length,Kc,Nd;Jb&&clearTimeout(Jb);
Jb=setTimeout(function(){Jb=null},500);for(Kc=0;Kc<hd;++Kc)if(Nd=Ca[Zb[Kc].identifier])d3.event.stopImmediatePropagation(),Nd("end")}function ea(Zb,hd,Kc,Nd,Td){var fe=Kc(hd,Zb),Re,yb,Ic,Od=Ta.copy();if(m7b(new A7b(H,"beforestart",Re,Zb,Pa,fe[0],fe[1],0,0,Od),function(){if(null==(d3.event.subject=Re=Qa.apply(Nd,Td)))return!1;yb=Re.x-fe[0]||0;Ic=Re.y-fe[1]||0;return!0}))return function lf(vg){var Vi=fe;switch(vg){case "start":Ca[Zb]=lf;var Aq=Pa++;break;case "end":delete Ca[Zb],--Pa;case "drag":fe=
Kc(hd,Zb),Aq=Pa}m7b(new A7b(H,vg,Re,Zb,Aq,fe[0]+yb,fe[1]+Ic,fe[0]-Vi[0],fe[1]-Vi[1],Od),Od.apply,Od,[vg,Nd,Td])}}var na=B7b,ya=C7b,Qa=D7b,Ya=E7b,Ca={},Ta=dL("start","drag","end"),Pa=0,va,ub,gb,Jb,gc=0;H.filter=function(Zb){return arguments.length?(na="function"===typeof Zb?Zb:z7b(!!Zb),H):na};H.container=function(Zb){return arguments.length?(ya="function"===typeof Zb?Zb:z7b(Zb),H):ya};H.subject=function(Zb){return arguments.length?(Qa="function"===typeof Zb?Zb:z7b(Zb),H):Qa};H.touchable=function(Zb){return arguments.length?
(Ya="function"===typeof Zb?Zb:z7b(!!Zb),H):Ya};H.on=function(){var Zb=Ta.on.apply(Ta,arguments);return Zb===Ta?H:Zb};H.clickDistance=function(Zb){return arguments.length?(gc=(Zb=+Zb)*Zb,H):Math.sqrt(gc)};return H};d3.dragDisable=x7b;d3.dragEnable=y7b;d3.dsvFormat=O$b;d3.csvParse=Bjc;d3.csvParseRows=Cjc;d3.csvFormat=Djc;d3.csvFormatRows=Ejc;d3.tsvParse=Gjc;d3.tsvParseRows=Hjc;d3.tsvFormat=Ijc;d3.tsvFormatRows=Jjc;d3.easeLinear=function(H){return+H};d3.easeQuad=J9b;d3.easeQuadIn=function(H){return H*
H};d3.easeQuadOut=function(H){return H*(2-H)};d3.easeQuadInOut=J9b;d3.easeCubic=K9b;d3.easeCubicIn=function(H){return H*H*H};d3.easeCubicOut=function(H){return--H*H*H+1};d3.easeCubicInOut=K9b;d3.easePoly=fjc;d3.easePolyIn=djc;d3.easePolyOut=ejc;d3.easePolyInOut=fjc;d3.easeSin=L9b;d3.easeSinIn=function(H){return 1-Math.cos(H*gjc)};d3.easeSinOut=function(H){return Math.sin(H*gjc)};d3.easeSinInOut=L9b;d3.easeExp=N9b;d3.easeExpIn=function(H){return Math.pow(2,10*H-10)};d3.easeExpOut=function(H){return 1-
Math.pow(2,-10*H)};d3.easeExpInOut=N9b;d3.easeCircle=O9b;d3.easeCircleIn=function(H){return 1-Math.sqrt(1-H*H)};d3.easeCircleOut=function(H){return Math.sqrt(1- --H*H)};d3.easeCircleInOut=O9b;d3.easeBounce=P9b;d3.easeBounceIn=function(H){return 1-P9b(1-H)};d3.easeBounceOut=P9b;d3.easeBounceInOut=function(H){return(1>=(H*=2)?1-P9b(1-H):P9b(H-1)+1)/2};d3.easeBack=jjc;d3.easeBackIn=hjc;d3.easeBackOut=ijc;d3.easeBackInOut=jjc;d3.easeElastic=ljc;d3.easeElasticIn=kjc;d3.easeElasticOut=ljc;d3.easeElasticInOut=
mjc;d3.blob=function(H,Y){return fetch(H,Y).then(R$b)};d3.buffer=function(H,Y){return fetch(H,Y).then(S$b)};d3.dsv=function(H,Y,X,W){3===arguments.length&&"function"===typeof X&&(W=X,X=void 0);var Z=O$b(H);return U$b(Y,X).then(function(ua){return Z.parse(ua,W)})};d3.csv=Kjc;d3.tsv=Ljc;d3.json=function(H,Y){return fetch(H,Y).then(W$b)};d3.text=U$b;d3.forceCenter=function(H,Y){function X(){var Z,ua=W.length,ma=0,ea=0;for(Z=0;Z<ua;++Z){var na=W[Z];ma+=na.x;ea+=na.y}ma=ma/ua-H;ea=ea/ua-Y;for(Z=0;Z<ua;++Z)na=
W[Z],na.x-=ma,na.y-=ea}var W;null==H&&(H=0);null==Y&&(Y=0);X.initialize=function(Z){W=Z};X.x=function(Z){return arguments.length?(H=+Z,X):H};X.y=function(Z){return arguments.length?(Y=+Z,X):Y};return X};d3.forceCollide=function(H){function Y(){function na(Jb,gc,Zb,hd,Kc){var Nd=Jb.data;Jb=Jb.r;var Td=va+Jb;if(Nd)Nd.index>Ca.index&&(gc=Ta-Nd.x-Nd.vx,Zb=Pa-Nd.y-Nd.vy,hd=gc*gc+Zb*Zb,hd<Td*Td&&(0===gc&&(gc=NL(),hd+=gc*gc),0===Zb&&(Zb=NL(),hd+=Zb*Zb),hd=(Td-(hd=Math.sqrt(hd)))/hd*ma,Ca.vx+=(gc*=hd)*(Td=
(Jb*=Jb)/(ub+Jb)),Ca.vy+=(Zb*=hd)*Td,Nd.vx-=gc*(Td=1-Td),Nd.vy-=Zb*Td));else return gc>Ta+Td||hd<Ta-Td||Zb>Pa+Td||Kc<Pa-Td}for(var ya,Qa=Z.length,Ya,Ca,Ta,Pa,va,ub,gb=0;gb<ea;++gb)for(Ya=$$b(Z,cac,dac).visitAfter(X),ya=0;ya<Qa;++ya)Ca=Z[ya],va=ua[Ca.index],ub=va*va,Ta=Ca.x+Ca.vx,Pa=Ca.y+Ca.vy,Ya.visit(na)}function X(na){if(na.data)return na.r=ua[na.data.index];for(var ya=na.r=0;4>ya;++ya)na[ya]&&na[ya].r>na.r&&(na.r=na[ya].r)}function W(){if(Z){var na,ya=Z.length;ua=Array(ya);for(na=0;na<ya;++na){var Qa=
Z[na];ua[Qa.index]=+H(Qa,na,Z)}}}var Z,ua,ma=1,ea=1;"function"!==typeof H&&(H=ML(null==H?1:+H));Y.initialize=function(na){Z=na;W()};Y.iterations=function(na){return arguments.length?(ea=+na,Y):ea};Y.strength=function(na){return arguments.length?(ma=+na,Y):ma};Y.radius=function(na){return arguments.length?(H="function"===typeof na?na:ML(+na),W(),Y):H};return Y};d3.forceLink=function(H){function Y(Pa){for(var va=0,ub=H.length;va<Ta;++va)for(var gb=0,Jb,gc,Zb,hd,Kc;gb<ub;++gb)Jb=H[gb],gc=Jb.source,Jb=
Jb.target,Zb=Jb.x+Jb.vx-gc.x-gc.vx||NL(),hd=Jb.y+Jb.vy-gc.y-gc.vy||NL(),Kc=Math.sqrt(Zb*Zb+hd*hd),Kc=(Kc-ya[gb])/Kc*Pa*ea[gb],Zb*=Kc,hd*=Kc,Jb.vx-=Zb*(Kc=Ca[gb]),Jb.vy-=hd*Kc,gc.vx+=Zb*(Kc=1-Kc),gc.vy+=hd*Kc}function X(){if(Qa){var Pa=Qa.length,va=H.length,ub=JL(Qa,ua);var gb=0;for(Ya=Array(Pa);gb<va;++gb)Pa=H[gb],Pa.index=gb,"object"!==typeof Pa.source&&(Pa.source=fac(ub,Pa.source)),"object"!==typeof Pa.target&&(Pa.target=fac(ub,Pa.target)),Ya[Pa.source.index]=(Ya[Pa.source.index]||0)+1,Ya[Pa.target.index]=
(Ya[Pa.target.index]||0)+1;gb=0;for(Ca=Array(va);gb<va;++gb)Pa=H[gb],Ca[gb]=Ya[Pa.source.index]/(Ya[Pa.source.index]+Ya[Pa.target.index]);ea=Array(va);W();ya=Array(va);Z()}}function W(){if(Qa)for(var Pa=0,va=H.length;Pa<va;++Pa)ea[Pa]=+ma(H[Pa],Pa,H)}function Z(){if(Qa)for(var Pa=0,va=H.length;Pa<va;++Pa)ya[Pa]=+na(H[Pa],Pa,H)}var ua=eac,ma=function(Pa){return 1/Math.min(Ya[Pa.source.index],Ya[Pa.target.index])},ea,na=ML(30),ya,Qa,Ya,Ca,Ta=1;null==H&&(H=[]);Y.initialize=function(Pa){Qa=Pa;X()};Y.links=
function(Pa){return arguments.length?(H=Pa,X(),Y):H};Y.id=function(Pa){return arguments.length?(ua=Pa,Y):ua};Y.iterations=function(Pa){return arguments.length?(Ta=+Pa,Y):Ta};Y.strength=function(Pa){return arguments.length?(ma="function"===typeof Pa?Pa:ML(+Pa),W(),Y):ma};Y.distance=function(Pa){return arguments.length?(na="function"===typeof Pa?Pa:ML(+Pa),Z(),Y):na};return Y};d3.forceManyBody=function(){function H(Ca){var Ta,Pa=Z.length,va=$$b(Z,gac,hac).visitAfter(X);ma=Ca;for(Ta=0;Ta<Pa;++Ta)ua=
Z[Ta],va.visit(W)}function Y(){if(Z){var Ca,Ta=Z.length;na=Array(Ta);for(Ca=0;Ca<Ta;++Ca){var Pa=Z[Ca];na[Pa.index]=+ea(Pa,Ca,Z)}}}function X(Ca){var Ta=0,Pa,va,ub=0,gb,Jb,gc;if(Ca.length){for(gb=Jb=gc=0;4>gc;++gc)(Pa=Ca[gc])&&(va=Math.abs(Pa.value))&&(Ta+=Pa.value,ub+=va,gb+=va*Pa.x,Jb+=va*Pa.y);Ca.x=gb/ub;Ca.y=Jb/ub}else{Pa=Ca;Pa.x=Pa.data.x;Pa.y=Pa.data.y;do Ta+=na[Pa.data.index];while(Pa=Pa.next)}Ca.value=Ta}function W(Ca,Ta,Pa,va){if(!Ca.value)return!0;var ub=Ca.x-ua.x,gb=Ca.y-ua.y;Ta=va-Ta;
va=ub*ub+gb*gb;if(Ta*Ta/Ya<va)return va<Qa&&(0===ub&&(ub=NL(),va+=ub*ub),0===gb&&(gb=NL(),va+=gb*gb),va<ya&&(va=Math.sqrt(ya*va)),ua.vx+=ub*Ca.value*ma/va,ua.vy+=gb*Ca.value*ma/va),!0;if(!(Ca.length||va>=Qa)){if(Ca.data!==ua||Ca.next)0===ub&&(ub=NL(),va+=ub*ub),0===gb&&(gb=NL(),va+=gb*gb),va<ya&&(va=Math.sqrt(ya*va));do Ca.data!==ua&&(Ta=na[Ca.data.index]*ma/va,ua.vx+=ub*Ta,ua.vy+=gb*Ta);while(Ca=Ca.next)}}var Z,ua,ma,ea=ML(-30),na,ya=1,Qa=Infinity,Ya=.81;H.initialize=function(Ca){Z=Ca;Y()};H.strength=
function(Ca){return arguments.length?(ea="function"===typeof Ca?Ca:ML(+Ca),Y(),H):ea};H.distanceMin=function(Ca){return arguments.length?(ya=Ca*Ca,H):Math.sqrt(ya)};H.distanceMax=function(Ca){return arguments.length?(Qa=Ca*Ca,H):Math.sqrt(Qa)};H.theta=function(Ca){return arguments.length?(Ya=Ca*Ca,H):Math.sqrt(Ya)};return H};d3.forceRadial=function(H,Y,X){function W(ya){for(var Qa=0,Ya=ua.length;Qa<Ya;++Qa){var Ca=ua[Qa],Ta=Ca.x-Y||1E-6,Pa=Ca.y-X||1E-6,va=Math.sqrt(Ta*Ta+Pa*Pa);va=(na[Qa]-va)*ea[Qa]*
ya/va;Ca.vx+=Ta*va;Ca.vy+=Pa*va}}function Z(){if(ua){var ya,Qa=ua.length;ea=Array(Qa);na=Array(Qa);for(ya=0;ya<Qa;++ya)na[ya]=+H(ua[ya],ya,ua),ea[ya]=isNaN(na[ya])?0:+ma(ua[ya],ya,ua)}}var ua,ma=ML(.1),ea,na;"function"!==typeof H&&(H=ML(+H));null==Y&&(Y=0);null==X&&(X=0);W.initialize=function(ya){ua=ya;Z()};W.strength=function(ya){return arguments.length?(ma="function"===typeof ya?ya:ML(+ya),Z(),W):ma};W.radius=function(ya){return arguments.length?(H="function"===typeof ya?ya:ML(+ya),Z(),W):H};W.x=
function(ya){return arguments.length?(Y=+ya,W):Y};W.y=function(ya){return arguments.length?(X=+ya,W):X};return W};d3.forceSimulation=function(H){function Y(){X();Ta.call("tick",ua);ma<ea&&(Ca.stop(),Ta.call("end",ua))}function X(){var Pa,va=H.length;ma+=(ya-ma)*na;Ya.each(function(gb){gb(ma)});for(Pa=0;Pa<va;++Pa){var ub=H[Pa];null==ub.fx?ub.x+=ub.vx*=Qa:(ub.x=ub.fx,ub.vx=0);null==ub.fy?ub.y+=ub.vy*=Qa:(ub.y=ub.fy,ub.vy=0)}}function W(){for(var Pa=0,va=H.length,ub;Pa<va;++Pa){ub=H[Pa];ub.index=Pa;
if(isNaN(ub.x)||isNaN(ub.y)){var gb=10*Math.sqrt(Pa),Jb=Pa*Mjc;ub.x=gb*Math.cos(Jb);ub.y=gb*Math.sin(Jb)}if(isNaN(ub.vx)||isNaN(ub.vy))ub.vx=ub.vy=0}}function Z(Pa){Pa.initialize&&Pa.initialize(H);return Pa}var ua,ma=1,ea=.001,na=1-Math.pow(ea,1/300),ya=0,Qa=.6,Ya=JL(),Ca=S8b(Y),Ta=dL("tick","end");null==H&&(H=[]);W();return ua={tick:X,restart:function(){return Ca.restart(Y),ua},stop:function(){return Ca.stop(),ua},nodes:function(Pa){return arguments.length?(H=Pa,W(),Ya.each(Z),ua):H},alpha:function(Pa){return arguments.length?
(ma=+Pa,ua):ma},alphaMin:function(Pa){return arguments.length?(ea=+Pa,ua):ea},alphaDecay:function(Pa){return arguments.length?(na=+Pa,ua):+na},alphaTarget:function(Pa){return arguments.length?(ya=+Pa,ua):ya},velocityDecay:function(Pa){return arguments.length?(Qa=1-Pa,ua):1-Qa},force:function(Pa,va){return 1<arguments.length?(null==va?Ya.remove(Pa):Ya.set(Pa,Z(va)),ua):Ya.get(Pa)},find:function(Pa,va,ub){var gb,Jb=H.length;ub=null==ub?Infinity:ub*ub;for(gb=0;gb<Jb;++gb){var gc=H[gb];var Zb=Pa-gc.x;
var hd=va-gc.y;Zb=Zb*Zb+hd*hd;if(Zb<ub){var Kc=gc;ub=Zb}}return Kc},on:function(Pa,va){return 1<arguments.length?(Ta.on(Pa,va),ua):Ta.on(Pa)}}};d3.forceX=function(H){function Y(ea){for(var na=0,ya=Z.length,Qa;na<ya;++na)Qa=Z[na],Qa.vx+=(ma[na]-Qa.x)*ua[na]*ea}function X(){if(Z){var ea,na=Z.length;ua=Array(na);ma=Array(na);for(ea=0;ea<na;++ea)ua[ea]=isNaN(ma[ea]=+H(Z[ea],ea,Z))?0:+W(Z[ea],ea,Z)}}var W=ML(.1),Z,ua,ma;"function"!==typeof H&&(H=ML(null==H?0:+H));Y.initialize=function(ea){Z=ea;X()};Y.strength=
function(ea){return arguments.length?(W="function"===typeof ea?ea:ML(+ea),X(),Y):W};Y.x=function(ea){return arguments.length?(H="function"===typeof ea?ea:ML(+ea),X(),Y):H};return Y};d3.forceY=function(H){function Y(ea){for(var na=0,ya=Z.length,Qa;na<ya;++na)Qa=Z[na],Qa.vy+=(ma[na]-Qa.y)*ua[na]*ea}function X(){if(Z){var ea,na=Z.length;ua=Array(na);ma=Array(na);for(ea=0;ea<na;++ea)ua[ea]=isNaN(ma[ea]=+H(Z[ea],ea,Z))?0:+W(Z[ea],ea,Z)}}var W=ML(.1),Z,ua,ma;"function"!==typeof H&&(H=ML(null==H?0:+H));
Y.initialize=function(ea){Z=ea;X()};Y.strength=function(ea){return arguments.length?(W="function"===typeof ea?ea:ML(+ea),X(),Y):W};Y.y=function(ea){return arguments.length?(H="function"===typeof ea?ea:ML(+ea),X(),Y):H};return Y};d3.formatDefaultLocale=uac;d3.formatLocale=qac;d3.formatSpecifier=lac;d3.precisionFixed=wac;d3.precisionPrefix=xac;d3.precisionRound=yac;d3.geoArea=function(H){Pjc.reset();WL(H,XL);return 2*Pjc};d3.geoBounds=function(H){var Y,X,W;iM=gM=-(fM=hM=Infinity);dM=[];WL(H,oM);if(Y=
dM.length){dM.sort(gbc);H=1;var Z=dM[0];for(X=[Z];H<Y;++H){var ua=dM[H];hbc(Z,ua[0])||hbc(Z,ua[1])?(nM(Z[0],ua[1])>nM(Z[0],Z[1])&&(Z[1]=ua[1]),nM(ua[0],Z[1])>nM(Z[0],Z[1])&&(Z[0]=ua[0])):X.push(Z=ua)}var ma=-Infinity;Y=X.length-1;H=0;for(Z=X[Y];H<=Y;Z=ua,++H)ua=X[H],(W=nM(Z[1],ua[0]))>ma&&(ma=W,fM=ua[0],gM=Z[1])}dM=eM=null;return Infinity===fM||Infinity===hM?[[NaN,NaN],[NaN,NaN]]:[[fM,hM],[gM,iM]]};d3.geoCentroid=function(H){kbc=rbc=lbc=mbc=nbc=sbc=tbc=ubc=Cbc=Dbc=Ebc=0;WL(H,pM);H=Cbc;var Y=Dbc,X=
Ebc,W=H*H+Y*Y+X*X;return 1E-12>W&&(H=sbc,Y=tbc,X=ubc,1E-6>rbc&&(H=lbc,Y=mbc,X=nbc),W=H*H+Y*Y+X*X,1E-12>W)?[NaN,NaN]:[$L(Y,H)*lM,SL(X/cM(W))*lM]};d3.geoCircle=function(){function H(){var ea=Y.apply(this,arguments),na=X.apply(this,arguments)*YL,ya=W.apply(this,arguments)*YL;Z=[];ua=Hbc(-ea[0]*YL,-ea[1]*YL,0).invert;Mbc(ma,na,ya,1);ea={type:"Polygon",coordinates:[Z]};Z=ua=null;return ea}var Y=tM([0,0]),X=tM(90),W=tM(6),Z,ua,ma={point:function(ea,na){Z.push(ea=ua(ea,na));ea[0]*=lM;ea[1]*=lM}};H.center=
function(ea){return arguments.length?(Y="function"===typeof ea?ea:tM([+ea[0],+ea[1]]),H):Y};H.radius=function(ea){return arguments.length?(X="function"===typeof ea?ea:tM(+ea),H):X};H.precision=function(ea){return arguments.length?(W="function"===typeof ea?ea:tM(+ea),H):W};return H};d3.geoClipAntimeridian=sdc;d3.geoClipCircle=Ybc;d3.geoClipExtent=function(){var H=0,Y=0,X=960,W=500,Z,ua,ma;return ma={stream:function(ea){return Z&&ua===ea?Z:Z=$bc(H,Y,X,W)(ua=ea)},extent:function(ea){return arguments.length?
(H=+ea[0][0],Y=+ea[0][1],X=+ea[1][0],W=+ea[1][1],Z=ua=null,ma):[[H,Y],[X,W]]}}};d3.geoClipRectangle=$bc;d3.geoContains=function(H,Y){return(H&&Qjc.hasOwnProperty(H.type)?Qjc[H.type]:kcc)(H,Y)};d3.geoDistance=wM;d3.geoGraticule=scc;d3.geoGraticule10=function(){return scc()()};d3.geoInterpolate=function(H,Y){var X=H[0]*YL,W=H[1]*YL;H=Y[0]*YL;Y=Y[1]*YL;var Z=ZL(W),ua=UL(W),ma=ZL(Y),ea=UL(Y),na=Z*ZL(X),ya=Z*UL(X),Qa=ma*ZL(H),Ya=ma*UL(H),Ca=2*SL(cM(Bac(Y-W)+Z*ma*Bac(H-X))),Ta=UL(Ca);H=Ca?function(Pa){var va=
UL(Pa*=Ca)/Ta,ub=UL(Ca-Pa)/Ta;Pa=ub*na+va*Qa;var gb=ub*ya+va*Ya;va=ub*ua+va*ea;return[$L(gb,Pa)*lM,$L(va,cM(Pa*Pa+gb*gb))*lM]}:function(){return[X*lM,W*lM]};H.distance=Ca;return H};d3.geoLength=hcc;d3.geoPath=function(H,Y){function X(ma){ma&&("function"===typeof W&&ua.pointRadius(+W.apply(this,arguments)),WL(ma,Z(ua)));return ua.result()}var W=4.5,Z,ua;X.area=function(ma){WL(ma,Z(yM));return yM.result()};X.measure=function(ma){WL(ma,Z(Xcc));return Xcc.result()};X.bounds=function(ma){WL(ma,Z(idc));
return idc.result()};X.centroid=function(ma){WL(ma,Z(AM));return AM.result()};X.projection=function(ma){return arguments.length?(Z=null==ma?(H=null,xM):(H=ma).stream,X):H};X.context=function(ma){if(!arguments.length)return Y;ua=null==ma?(Y=null,new ddc):new Vcc(Y=ma);"function"!==typeof W&&ua.pointRadius(W);return X};X.pointRadius=function(ma){if(!arguments.length)return W;W="function"===typeof ma?ma:(ua.pointRadius(+ma),+ma);return X};return X.projection(H).context(Y)};d3.geoAlbers=zdc;d3.geoAlbersUsa=
function(){function H(Ca){var Ta=Ca[0];Ca=Ca[1];return Qa=null,(ua.point(Ta,Ca),Qa)||(ea.point(Ta,Ca),Qa)||(ya.point(Ta,Ca),Qa)}function Y(){X=W=null;return H}var X,W,Z=zdc(),ua,ma=ydc().rotate([154,0]).center([-2,58.5]).parallels([55,65]),ea,na=ydc().rotate([157,0]).center([-3,19.9]).parallels([8,18]),ya,Qa,Ya={point:function(Ca,Ta){Qa=[Ca,Ta]}};H.invert=function(Ca){var Ta=Z.scale(),Pa=Z.translate(),va=(Ca[0]-Pa[0])/Ta;Ta=(Ca[1]-Pa[1])/Ta;return(.12<=Ta&&.234>Ta&&-.425<=va&&-.214>va?ma:.166<=Ta&&
.234>Ta&&-.214<=va&&-.115>va?na:Z).invert(Ca)};H.stream=function(Ca){return X&&W===Ca?X:X=Adc([Z.stream(W=Ca),ma.stream(Ca),na.stream(Ca)])};H.precision=function(Ca){if(!arguments.length)return Z.precision();Z.precision(Ca);ma.precision(Ca);na.precision(Ca);return Y()};H.scale=function(Ca){if(!arguments.length)return Z.scale();Z.scale(Ca);ma.scale(.35*Ca);na.scale(Ca);return H.translate(Z.translate())};H.translate=function(Ca){if(!arguments.length)return Z.translate();var Ta=Z.scale(),Pa=+Ca[0],va=
+Ca[1];ua=Z.translate(Ca).clipExtent([[Pa-.455*Ta,va-.238*Ta],[Pa+.455*Ta,va+.238*Ta]]).stream(Ya);ea=ma.translate([Pa-.307*Ta,va+.201*Ta]).clipExtent([[Pa-.425*Ta+1E-6,va+.12*Ta+1E-6],[Pa-.214*Ta-1E-6,va+.234*Ta-1E-6]]).stream(Ya);ya=na.translate([Pa-.205*Ta,va+.212*Ta]).clipExtent([[Pa-.214*Ta+1E-6,va+.166*Ta+1E-6],[Pa-.115*Ta-1E-6,va+.234*Ta-1E-6]]).stream(Ya);return Y()};H.fitExtent=function(Ca,Ta){return EM(H,Ca,Ta)};H.fitSize=function(Ca,Ta){return EM(H,[[0,0],Ca],Ta)};H.fitWidth=function(Ca,
Ta){return jdc(H,Ca,Ta)};H.fitHeight=function(Ca,Ta){return kdc(H,Ca,Ta)};return H.scale(1070)};d3.geoAzimuthalEqualArea=function(){return FM(Wjc).scale(124.75).clipAngle(179.999)};d3.geoAzimuthalEqualAreaRaw=Wjc;d3.geoAzimuthalEquidistant=function(){return FM(Xjc).scale(79.4188).clipAngle(179.999)};d3.geoAzimuthalEquidistantRaw=Xjc;d3.geoConicConformal=function(){return udc(Gdc).scale(109.5).parallels([30,30])};d3.geoConicConformalRaw=Gdc;d3.geoConicEqualArea=ydc;d3.geoConicEqualAreaRaw=wdc;d3.geoConicEquidistant=
function(){return udc(Jdc).scale(131.154).center([0,13.9389])};d3.geoConicEquidistantRaw=Jdc;d3.geoEqualEarth=function(){return FM(Kdc).scale(177.158)};d3.geoEqualEarthRaw=Kdc;d3.geoEquirectangular=function(){return FM(Idc).scale(152.63)};d3.geoEquirectangularRaw=Idc;d3.geoGnomonic=function(){return FM(Mdc).scale(144.049).clipAngle(60)};d3.geoGnomonicRaw=Mdc;d3.geoIdentity=function(){function H(){Ca=Ta=null;return Pa}var Y=1,X=0,W=0,Z=1,ua=1,ma=xM,ea=null,na,ya,Qa,Ya=xM,Ca,Ta,Pa;return Pa={stream:function(va){return Ca&&
Ta===va?Ca:Ca=ma(Ya(Ta=va))},postclip:function(va){return arguments.length?(Ya=va,ea=na=ya=Qa=null,H()):Ya},clipExtent:function(va){return arguments.length?(Ya=null==va?(ea=na=ya=Qa=null,xM):$bc(ea=+va[0][0],na=+va[0][1],ya=+va[1][0],Qa=+va[1][1]),H()):null==ea?null:[[ea,na],[ya,Qa]]},scale:function(va){return arguments.length?(ma=Ndc((Y=+va)*Z,Y*ua,X,W),H()):Y},translate:function(va){return arguments.length?(ma=Ndc(Y*Z,Y*ua,X=+va[0],W=+va[1]),H()):[X,W]},reflectX:function(va){return arguments.length?
(ma=Ndc(Y*(Z=va?-1:1),Y*ua,X,W),H()):0>Z},reflectY:function(va){return arguments.length?(ma=Ndc(Y*Z,Y*(ua=va?-1:1),X,W),H()):0>ua},fitExtent:function(va,ub){return EM(Pa,va,ub)},fitSize:function(va,ub){return EM(Pa,[[0,0],va],ub)},fitWidth:function(va,ub){return jdc(Pa,va,ub)},fitHeight:function(va,ub){return kdc(Pa,va,ub)}}};d3.geoProjection=FM;d3.geoProjectionMutator=rdc;d3.geoMercator=function(){return Fdc(Ddc).scale(961/uM)};d3.geoMercatorRaw=Ddc;d3.geoNaturalEarth1=function(){return FM(Odc).scale(175.295)};
d3.geoNaturalEarth1Raw=Odc;d3.geoOrthographic=function(){return FM(Pdc).scale(249.5).clipAngle(90.000001)};d3.geoOrthographicRaw=Pdc;d3.geoStereographic=function(){return FM(Qdc).scale(250).clipAngle(142)};d3.geoStereographicRaw=Qdc;d3.geoTransverseMercator=function(){var H=Fdc(Rdc),Y=H.center,X=H.rotate;H.center=function(W){return arguments.length?Y([-W[1],W[0]]):(W=Y(),[W[1],-W[0]])};H.rotate=function(W){return arguments.length?X([W[0],W[1],2<W.length?W[2]+90:90]):(W=X(),[W[0],W[1],W[2]-90])};return X([0,
0,90]).scale(159.155)};d3.geoTransverseMercatorRaw=Rdc;d3.geoRotation=Lbc;d3.geoStream=WL;d3.geoTransform=function(H){return{stream:fdc(H)}};d3.cluster=function(){function H(ua){var ma,ea=0;ua.eachAfter(function(Ca){var Ta=Ca.children;if(Ta){var Pa=Ta.reduce(Tdc,0)/Ta.length;Ca.x=Pa;Ca.y=1+Ta.reduce(Udc,0)}else Ca.x=ma?ea+=Y(Ca,ma):0,Ca.y=0,ma=Ca});var na=Vdc(ua),ya=Wdc(ua),Qa=na.x-Y(na,ya)/2,Ya=ya.x+Y(ya,na)/2;return ua.eachAfter(Z?function(Ca){Ca.x=(Ca.x-ua.x)*X;Ca.y=(ua.y-Ca.y)*W}:function(Ca){Ca.x=
(Ca.x-Qa)/(Ya-Qa)*X;Ca.y=(1-(ua.y?Ca.y/ua.y:1))*W})}var Y=Sdc,X=1,W=1,Z=!1;H.separation=function(ua){return arguments.length?(Y=ua,H):Y};H.size=function(ua){return arguments.length?(Z=!1,X=+ua[0],W=+ua[1],H):Z?null:[X,W]};H.nodeSize=function(ua){return arguments.length?(Z=!0,X=+ua[0],W=+ua[1],H):Z?[X,W]:null};return H};d3.hierarchy=Ydc;d3.pack=function(){function H(ua){ua.x=X/2;ua.y=W/2;Y?ua.eachBefore(pec(Y)).eachAfter(qec(Z,.5)).eachBefore(rec(1)):ua.eachBefore(pec(oec)).eachAfter(qec(JM,1)).eachAfter(qec(Z,
ua.r/Math.min(X,W))).eachBefore(rec(Math.min(X,W)/(2*ua.r)));return ua}var Y=null,X=1,W=1,Z=JM;H.radius=function(ua){return arguments.length?(Y=null==ua?null:nec(ua),H):Y};H.size=function(ua){return arguments.length?(X=+ua[0],W=+ua[1],H):[X,W]};H.padding=function(ua){return arguments.length?(Z="function"===typeof ua?ua:KM(+ua),H):Z};return H};d3.packSiblings=function(H){mec(H);return H};d3.packEnclose=bec;d3.partition=function(){function H(ma){var ea=ma.height+1;ma.x0=ma.y0=Z;ma.x1=X;ma.y1=W/ea;ma.eachBefore(Y(W,
ea));ua&&ma.eachBefore(sec);return ma}function Y(ma,ea){return function(na){na.children&&tec(na,na.x0,ma*(na.depth+1)/ea,na.x1,ma*(na.depth+2)/ea);var ya=na.x0,Qa=na.y0,Ya=na.x1-Z,Ca=na.y1-Z;Ya<ya&&(ya=Ya=(ya+Ya)/2);Ca<Qa&&(Qa=Ca=(Qa+Ca)/2);na.x0=ya;na.y0=Qa;na.x1=Ya;na.y1=Ca}}var X=1,W=1,Z=0,ua=!1;H.round=function(ma){return arguments.length?(ua=!!ma,H):ua};H.size=function(ma){return arguments.length?(X=+ma[0],W=+ma[1],H):[X,W]};H.padding=function(ma){return arguments.length?(Z=+ma,H):Z};return H};
d3.stratify=function(){function H(W){var Z,ua=W.length,ma=Array(ua),ea,na={};for(Z=0;Z<ua;++Z){var ya=W[Z];var Qa=ma[Z]=new IM(ya);null!=(ea=Y(ya,Z,W))&&ea&&(ya="$"+(Qa.id=ea),na[ya]=ya in na?Zjc:Qa)}for(Z=0;Z<ua;++Z)if(Qa=ma[Z],ea=X(W[Z],Z,W),null!=ea&&ea){ya=na["$"+ea];if(!ya)throw Error("li`"+ea);if(ya===Zjc)throw Error("si`"+ea);ya.children?ya.children.push(Qa):ya.children=[Qa];Qa.parent=ya}else{if(Ya)throw Error("ti");var Ya=Qa}if(!Ya)throw Error("ui");Ya.parent=Yjc;Ya.eachBefore(function(Ca){Ca.depth=
Ca.parent.depth+1;--ua}).eachBefore($dc);Ya.parent=null;if(0<ua)throw Error("vi");return Ya}var Y=uec,X=vec;H.id=function(W){return arguments.length?(Y=nec(W),H):Y};H.parentId=function(W){return arguments.length?(X=nec(W),H):X};return H};d3.tree=function(){function H(na){var ya=Aec(na);ya.eachAfter(Y);ya.parent.m=-ya.z;ya.eachBefore(X);if(ea)na.eachBefore(W);else{var Qa=na,Ya=na,Ca=na;na.eachBefore(function(ub){ub.x<Qa.x&&(Qa=ub);ub.x>Ya.x&&(Ya=ub);ub.depth>Ca.depth&&(Ca=ub)});ya=Qa===Ya?1:Z(Qa,Ya)/
2;var Ta=ya-Qa.x,Pa=ua/(Ya.x+ya+Ta),va=ma/(Ca.depth||1);na.eachBefore(function(ub){ub.x=(ub.x+Ta)*Pa;ub.y=ub.depth*va})}return na}function Y(na){var ya=na.children,Qa=na.parent.children,Ya=na.i?Qa[na.i-1]:null;if(ya){for(var Ca=0,Ta=0,Pa=na.children,va=Pa.length,ub;0<=--va;)ub=Pa[va],ub.z+=Ca,ub.m+=Ca,Ca+=ub.s+(Ta+=ub.c);ya=(ya[0].z+ya[ya.length-1].z)/2;Ya?(na.z=Ya.z+Z(na._,Ya._),na.m=na.z-ya):na.z=ya}else Ya&&(na.z=Ya.z+Z(na._,Ya._));ya=na.parent;Qa=na.parent.A||Qa[0];if(Ya){Ta=Ca=na;Pa=Ca.parent.children[0];
va=Ca.m;ub=Ta.m;for(var gb=Ya.m,Jb=Pa.m,gc;Ya=yec(Ya),Ca=xec(Ca),Ya&&Ca;){Pa=xec(Pa);Ta=yec(Ta);Ta.a=na;gc=Ya.z+gb-Ca.z-va+Z(Ya._,Ca._);if(0<gc){var Zb=Ya.a.parent===na.parent?Ya.a:Qa,hd=na,Kc=gc,Nd=Kc/(hd.i-Zb.i);hd.c-=Nd;hd.s+=Kc;Zb.c+=Nd;hd.z+=Kc;hd.m+=Kc;va+=gc;ub+=gc}gb+=Ya.m;va+=Ca.m;Jb+=Pa.m;ub+=Ta.m}Ya&&!yec(Ta)&&(Ta.t=Ya,Ta.m+=gb-ub);Ca&&!xec(Pa)&&(Pa.t=Ca,Pa.m+=va-Jb,Qa=na)}ya.A=Qa}function X(na){na._.x=na.z+na.parent.m;na.m+=na.parent.m}function W(na){na.x*=ua;na.y=na.depth*ma}var Z=wec,
ua=1,ma=1,ea=null;H.separation=function(na){return arguments.length?(Z=na,H):Z};H.size=function(na){return arguments.length?(ea=!1,ua=+na[0],ma=+na[1],H):ea?null:[ua,ma]};H.nodeSize=function(na){return arguments.length?(ea=!0,ua=+na[0],ma=+na[1],H):ea?[ua,ma]:null};return H};d3.treemap=function(){function H(Ca){Ca.x0=Ca.y0=0;Ca.x1=Z;Ca.y1=ua;Ca.eachBefore(Y);ma=[0];W&&Ca.eachBefore(sec);return Ca}function Y(Ca){var Ta=ma[Ca.depth],Pa=Ca.x0+Ta,va=Ca.y0+Ta,ub=Ca.x1-Ta,gb=Ca.y1-Ta;ub<Pa&&(Pa=ub=(Pa+
ub)/2);gb<va&&(va=gb=(va+gb)/2);Ca.x0=Pa;Ca.y0=va;Ca.x1=ub;Ca.y1=gb;Ca.children&&(Ta=ma[Ca.depth+1]=ea(Ca)/2,Pa+=Ya(Ca)-Ta,va+=na(Ca)-Ta,ub-=ya(Ca)-Ta,gb-=Qa(Ca)-Ta,ub<Pa&&(Pa=ub=(Pa+ub)/2),gb<va&&(va=gb=(va+gb)/2),X(Ca,Pa,va,ub,gb))}var X=akc,W=!1,Z=1,ua=1,ma=[0],ea=JM,na=JM,ya=JM,Qa=JM,Ya=JM;H.round=function(Ca){return arguments.length?(W=!!Ca,H):W};H.size=function(Ca){return arguments.length?(Z=+Ca[0],ua=+Ca[1],H):[Z,ua]};H.tile=function(Ca){return arguments.length?(X=nec(Ca),H):X};H.padding=function(Ca){return arguments.length?
H.paddingInner(Ca).paddingOuter(Ca):H.paddingInner()};H.paddingInner=function(Ca){return arguments.length?(ea="function"===typeof Ca?Ca:KM(+Ca),H):ea};H.paddingOuter=function(Ca){return arguments.length?H.paddingTop(Ca).paddingRight(Ca).paddingBottom(Ca).paddingLeft(Ca):H.paddingTop()};H.paddingTop=function(Ca){return arguments.length?(na="function"===typeof Ca?Ca:KM(+Ca),H):na};H.paddingRight=function(Ca){return arguments.length?(ya="function"===typeof Ca?Ca:KM(+Ca),H):ya};H.paddingBottom=function(Ca){return arguments.length?
(Qa="function"===typeof Ca?Ca:KM(+Ca),H):Qa};H.paddingLeft=function(Ca){return arguments.length?(Ya="function"===typeof Ca?Ca:KM(+Ca),H):Ya};return H};d3.treemapBinary=function(H,Y,X,W,Z){function ua(Ya,Ca,Ta,Pa,va,ub,gb){if(Ya>=Ca-1)Ya=ma[Ya],Ya.x0=Pa,Ya.y0=va,Ya.x1=ub,Ya.y1=gb;else{for(var Jb=Qa[Ya],gc=Ta/2+Jb,Zb=Ya+1,hd=Ca-1;Zb<hd;){var Kc=Zb+hd>>>1;Qa[Kc]<gc?Zb=Kc+1:hd=Kc}gc-Qa[Zb-1]<Qa[Zb]-gc&&Ya+1<Zb&&--Zb;Jb=Qa[Zb]-Jb;gc=Ta-Jb;ub-Pa>gb-va?(Ta=(Pa*gc+ub*Jb)/Ta,ua(Ya,Zb,Jb,Pa,va,Ta,gb),ua(Zb,
Ca,gc,Ta,va,ub,gb)):(Ta=(va*gc+gb*Jb)/Ta,ua(Ya,Zb,Jb,Pa,va,ub,Ta),ua(Zb,Ca,gc,Pa,Ta,ub,gb))}}var ma=H.children,ea,na=ma.length,ya,Qa=Array(na+1);for(Qa[0]=ya=ea=0;ea<na;++ea)Qa[ea+1]=ya+=ma[ea].value;ua(0,na,H.value,Y,X,W,Z)};d3.treemapDice=tec;d3.treemapSlice=Bec;d3.treemapSliceDice=function(H,Y,X,W,Z){(H.depth&1?Bec:tec)(H,Y,X,W,Z)};d3.treemapSquarify=akc;d3.treemapResquarify=bkc;d3.interpolate=u8b;d3.interpolateArray=t8b;d3.interpolateBasis=l8b;d3.interpolateBasisClosed=m8b;d3.interpolateDate=
v8b;d3.interpolateDiscrete=function(H){var Y=H.length;return function(X){return H[Math.max(0,Math.min(Y-1,Math.floor(X*Y)))]}};d3.interpolateHue=function(H,Y){var X=q8b(+H,+Y);return function(W){W=X(W);return W-360*Math.floor(W/360)}};d3.interpolateNumber=xL;d3.interpolateObject=w8b;d3.interpolateRound=D8b;d3.interpolateString=z8b;d3.interpolateTransformCss=Uic;d3.interpolateTransformSvg=Vic;d3.interpolateZoom=I8b;d3.interpolateRgb=C8b;d3.interpolateRgbBasis=Ngc;d3.interpolateRgbBasisClosed=Oic;d3.interpolateHsl=
Wic;d3.interpolateHslLong=Xic;d3.interpolateLab=function(H,Y){var X=wL((H=a8b(H)).l,(Y=a8b(Y)).l),W=wL(H.a,Y.a),Z=wL(H.b,Y.b),ua=wL(H.opacity,Y.opacity);return function(ma){H.l=X(ma);H.a=W(ma);H.b=Z(ma);H.opacity=ua(ma);return H+""}};d3.interpolateHcl=Yic;d3.interpolateHclLong=Zic;d3.interpolateCubehelix=$ic;d3.interpolateCubehelixLong=ajc;d3.piecewise=function(H,Y){for(var X=0,W=Y.length-1,Z=Y[0],ua=Array(0>W?0:W);X<W;)ua[X]=H(Z,Z=Y[++X]);return function(ma){var ea=Math.max(0,Math.min(W-1,Math.floor(ma*=
W)));return ua[ea](ma-ea)}};d3.quantize=function(H,Y){for(var X=Array(Y),W=0;W<Y;++W)X[W]=H(W/(Y-1));return X};d3.path=IL;d3.polygonArea=function(H){for(var Y=-1,X=H.length,W,Z=H[X-1],ua=0;++Y<X;)W=Z,Z=H[Y],ua+=W[1]*Z[0]-W[0]*Z[1];return ua/2};d3.polygonCentroid=function(H){for(var Y=-1,X=H.length,W=0,Z=0,ua,ma=H[X-1],ea,na=0;++Y<X;)ua=ma,ma=H[Y],na+=ea=ua[0]*ma[1]-ma[0]*ua[1],W+=(ua[0]+ma[0])*ea,Z+=(ua[1]+ma[1])*ea;return na*=3,[W/na,Z/na]};d3.polygonHull=function(H){if(3>(X=H.length))return null;
var Y,X,W=Array(X),Z=Array(X);for(Y=0;Y<X;++Y)W[Y]=[+H[Y][0],+H[Y][1],Y];W.sort(Eec);for(Y=0;Y<X;++Y)Z[Y]=[W[Y][0],-W[Y][1]];X=Fec(W);Z=Fec(Z);var ua=Z[0]===X[0],ma=Z[Z.length-1]===X[X.length-1],ea=[];for(Y=X.length-1;0<=Y;--Y)ea.push(H[W[X[Y]][2]]);for(Y=+ua;Y<Z.length-ma;++Y)ea.push(H[W[Z[Y]][2]]);return ea};d3.polygonContains=function(H,Y){var X=H.length,W=H[X-1],Z=Y[0];Y=Y[1];for(var ua=W[0],ma=W[1],ea,na=!1,ya=0;ya<X;++ya)W=H[ya],ea=W[0],W=W[1],W>Y!==ma>Y&&Z<(ua-ea)*(Y-W)/(ma-W)+ea&&(na=!na),
ua=ea,ma=W;return na};d3.polygonLength=function(H){var Y=-1,X=H.length,W=H[X-1],Z=W[0];W=W[1];for(var ua=0;++Y<X;){var ma=Z;var ea=W;W=H[Y];Z=W[0];W=W[1];ma-=Z;ea-=W;ua+=Math.sqrt(ma*ma+ea*ea)}return ua};d3.quadtree=$$b;d3.randomUniform=ckc;d3.randomNormal=dkc;d3.randomLogNormal=ekc;d3.randomBates=gkc;d3.randomIrwinHall=fkc;d3.randomExponential=hkc;d3.scaleBand=Iec;d3.scalePoint=function(){return Jec(Iec().paddingInner(1))};d3.scaleIdentity=Wec;d3.scaleLinear=Vec;d3.scaleLog=dfc;d3.scaleOrdinal=Gec;
d3.scaleImplicit=Hec;d3.scalePow=efc;d3.scaleSqrt=function(){return efc().exponent(.5)};d3.scaleQuantile=ffc;d3.scaleQuantize=gfc;d3.scaleThreshold=hfc;d3.scaleTime=function(){return Kgc(VM,Ckc,Bgc,sfc,okc,mkc,kkc,rN,d3.timeFormat).domain([new Date(2E3,0,1),new Date(2E3,0,2)])};d3.scaleUtc=function(){return Kgc(WM,Vkc,Dgc,qfc,Hkc,Fkc,kkc,rN,d3.utcFormat).domain([Date.UTC(2E3,0,1),Date.UTC(2E3,0,2)])};d3.scaleSequential=Lgc;d3.scaleDiverging=Mgc;d3.schemeCategory10=$kc;d3.schemeCategory20b=alc;d3.schemeCategory20c=
blc;d3.schemeCategory20=clc;d3.schemeAccent=dlc;d3.schemeDark2=elc;d3.schemePaired=flc;d3.schemePastel1=glc;d3.schemePastel2=hlc;d3.schemeSet1=ilc;d3.schemeSet2=jlc;d3.schemeSet3=klc;d3.interpolateBrBG=mlc;d3.schemeBrBG=llc;d3.interpolatePRGn=olc;d3.schemePRGn=nlc;d3.interpolatePiYG=qlc;d3.schemePiYG=plc;d3.interpolatePuOr=slc;d3.schemePuOr=rlc;d3.interpolateRdBu=ulc;d3.schemeRdBu=tlc;d3.interpolateRdGy=wlc;d3.schemeRdGy=vlc;d3.interpolateRdYlBu=ylc;d3.schemeRdYlBu=xlc;d3.interpolateRdYlGn=Alc;d3.schemeRdYlGn=
zlc;d3.interpolateSpectral=Clc;d3.schemeSpectral=Blc;d3.interpolateBuGn=Elc;d3.schemeBuGn=Dlc;d3.interpolateBuPu=Glc;d3.schemeBuPu=Flc;d3.interpolateGnBu=Ilc;d3.schemeGnBu=Hlc;d3.interpolateOrRd=Klc;d3.schemeOrRd=Jlc;d3.interpolatePuBuGn=Mlc;d3.schemePuBuGn=Llc;d3.interpolatePuBu=Olc;d3.schemePuBu=Nlc;d3.interpolatePuRd=Qlc;d3.schemePuRd=Plc;d3.interpolateRdPu=Slc;d3.schemeRdPu=Rlc;d3.interpolateYlGnBu=Ulc;d3.schemeYlGnBu=Tlc;d3.interpolateYlGn=Wlc;d3.schemeYlGn=Vlc;d3.interpolateYlOrBr=Ylc;d3.schemeYlOrBr=
Xlc;d3.interpolateYlOrRd=$lc;d3.schemeYlOrRd=Zlc;d3.interpolateBlues=bmc;d3.schemeBlues=amc;d3.interpolateGreens=dmc;d3.schemeGreens=cmc;d3.interpolateGreys=fmc;d3.schemeGreys=emc;d3.interpolatePurples=hmc;d3.schemePurples=gmc;d3.interpolateReds=jmc;d3.schemeReds=imc;d3.interpolateOranges=lmc;d3.schemeOranges=kmc;d3.interpolateCubehelixDefault=mmc;d3.interpolateRainbow=function(H){if(0>H||1<H)H-=Math.floor(H);var Y=Math.abs(H-.5);pmc.h=360*H-100;pmc.s=1.5-1.5*Y;pmc.l=.8-.9*Y;return pmc+""};d3.interpolateWarm=
nmc;d3.interpolateCool=omc;d3.interpolateSinebow=function(H){var Y;H=(.5-H)*Math.PI;qmc.r=255*(Y=Math.sin(H))*Y;qmc.g=255*(Y=Math.sin(H+rmc))*Y;qmc.b=255*(Y=Math.sin(H+smc))*Y;return qmc+""};d3.interpolateViridis=tmc;d3.interpolateMagma=umc;d3.interpolateInferno=vmc;d3.interpolatePlasma=wmc;d3.create=function(H){return iL(q6b(H).call(document.documentElement))};d3.creator=q6b;d3.local=r7b;d3.matcher=Nic;d3.mouse=jL;d3.namespace=n6b;d3.namespaces=eL;d3.clientPoint=v7b;d3.select=iL;d3.selectAll=function(H){return"string"===
typeof H?new gL([document.querySelectorAll(H)],[document.documentElement]):new gL([null==H?[]:H],q7b)};d3.selection=hL;d3.selector=s6b;d3.selectorAll=u6b;d3.style=fL;d3.touch=w7b;d3.touches=function(H,Y){null==Y&&(Y=u7b().touches);for(var X=0,W=Y?Y.length:0,Z=Array(W);X<W;++X)Z[X]=v7b(H,Y[X]);return Z};d3.window=H6b;d3.customEvent=m7b;d3.arc=function(){function H(){var ya,Qa=+Y.apply(this,arguments),Ya=+X.apply(this,arguments),Ca=ua.apply(this,arguments)-Qgc,Ta=ma.apply(this,arguments)-Qgc,Pa=xmc(Ta-
Ca),va=Ta>Ca;na||(na=ya=IL());if(Ya<Qa){var ub=Ya;Ya=Qa;Qa=ub}if(1E-12<Ya)if(Pa>wN-1E-12)na.moveTo(Ya*tN(Ca),Ya*uN(Ca)),na.arc(0,0,Ya,Ca,Ta,!va),1E-12<Qa&&(na.moveTo(Qa*tN(Ta),Qa*uN(Ta)),na.arc(0,0,Qa,Ta,Ca,va));else{var gb=Ca,Jb=Ta;ub=Ca;var gc=Ta,Zb=Pa,hd=Pa,Kc=ea.apply(this,arguments)/2,Nd=1E-12<Kc&&(Z?+Z.apply(this,arguments):aN(Qa*Qa+Ya*Ya)),Td=ymc(xmc(Ya-Qa)/2,+W.apply(this,arguments)),fe=Td,Re=Td;if(1E-12<Nd){var yb=Pgc(Nd/Qa*uN(Kc));Kc=Pgc(Nd/Ya*uN(Kc));1E-12<(Zb-=2*yb)?(yb*=va?1:-1,ub+=yb,
gc-=yb):(Zb=0,ub=gc=(Ca+Ta)/2);1E-12<(hd-=2*Kc)?(Kc*=va?1:-1,gb+=Kc,Jb-=Kc):(hd=0,gb=Jb=(Ca+Ta)/2)}Ca=Ya*tN(gb);Ta=Ya*uN(gb);yb=Qa*tN(gc);Kc=Qa*uN(gc);if(1E-12<Td){var Ic=Ya*tN(Jb),Od=Ya*uN(Jb),Ce=Qa*tN(ub),vg=Qa*uN(ub);if(Pa<vN){1E-12<Zb?(fe=Ce-Ca,Re=vg-Ta,Pa=yb-Ic,Nd=Kc-Od,Pa=(Pa*(Ta-Od)-Nd*(Ca-Ic))/(Nd*fe-Pa*Re),fe=[Ca+Pa*fe,Ta+Pa*Re]):fe=[yb,Kc];Re=Ca-fe[0];Pa=Ta-fe[1];Nd=Ic-fe[0];var lf=Od-fe[1];Re=(Re*Nd+Pa*lf)/(aN(Re*Re+Pa*Pa)*aN(Nd*Nd+lf*lf));Re=1/uN((1<Re?0:-1>Re?vN:Math.acos(Re))/2);Pa=
aN(fe[0]*fe[0]+fe[1]*fe[1]);fe=ymc(Td,(Qa-Pa)/(Re-1));Re=ymc(Td,(Ya-Pa)/(Re+1))}}1E-12<hd?1E-12<Re?(gb=Wgc(Ce,vg,Ca,Ta,Ya,Re,va),Jb=Wgc(Ic,Od,yb,Kc,Ya,Re,va),na.moveTo(gb.cx+gb.x01,gb.cy+gb.y01),Re<Td?na.arc(gb.cx,gb.cy,Re,sN(gb.y01,gb.x01),sN(Jb.y01,Jb.x01),!va):(na.arc(gb.cx,gb.cy,Re,sN(gb.y01,gb.x01),sN(gb.y11,gb.x11),!va),na.arc(0,0,Ya,sN(gb.cy+gb.y11,gb.cx+gb.x11),sN(Jb.cy+Jb.y11,Jb.cx+Jb.x11),!va),na.arc(Jb.cx,Jb.cy,Re,sN(Jb.y11,Jb.x11),sN(Jb.y01,Jb.x01),!va))):(na.moveTo(Ca,Ta),na.arc(0,0,
Ya,gb,Jb,!va)):na.moveTo(Ca,Ta);1E-12<Qa&&1E-12<Zb?1E-12<fe?(gb=Wgc(yb,Kc,Ic,Od,Qa,-fe,va),Jb=Wgc(Ca,Ta,Ce,vg,Qa,-fe,va),na.lineTo(gb.cx+gb.x01,gb.cy+gb.y01),fe<Td?na.arc(gb.cx,gb.cy,fe,sN(gb.y01,gb.x01),sN(Jb.y01,Jb.x01),!va):(na.arc(gb.cx,gb.cy,fe,sN(gb.y01,gb.x01),sN(gb.y11,gb.x11),!va),na.arc(0,0,Qa,sN(gb.cy+gb.y11,gb.cx+gb.x11),sN(Jb.cy+Jb.y11,Jb.cx+Jb.x11),va),na.arc(Jb.cx,Jb.cy,fe,sN(Jb.y11,Jb.x11),sN(Jb.y01,Jb.x01),!va))):na.arc(0,0,Qa,gc,ub,va):na.lineTo(yb,Kc)}else na.moveTo(0,0);na.closePath();
if(ya)return na=null,ya+""||null}var Y=Rgc,X=Sgc,W=$M(0),Z=null,ua=Tgc,ma=Ugc,ea=Vgc,na=null;H.centroid=function(){var ya=(+Y.apply(this,arguments)+ +X.apply(this,arguments))/2,Qa=(+ua.apply(this,arguments)+ +ma.apply(this,arguments))/2-vN/2;return[tN(Qa)*ya,uN(Qa)*ya]};H.innerRadius=function(ya){return arguments.length?(Y="function"===typeof ya?ya:$M(+ya),H):Y};H.outerRadius=function(ya){return arguments.length?(X="function"===typeof ya?ya:$M(+ya),H):X};H.cornerRadius=function(ya){return arguments.length?
(W="function"===typeof ya?ya:$M(+ya),H):W};H.padRadius=function(ya){return arguments.length?(Z=null==ya?null:"function"===typeof ya?ya:$M(+ya),H):Z};H.startAngle=function(ya){return arguments.length?(ua="function"===typeof ya?ya:$M(+ya),H):ua};H.endAngle=function(ya){return arguments.length?(ma="function"===typeof ya?ya:$M(+ya),H):ma};H.padAngle=function(ya){return arguments.length?(ea="function"===typeof ya?ya:$M(+ya),H):ea};H.context=function(ya){return arguments.length?(na=null==ya?null:ya,H):
na};return H};d3.area=chc;d3.line=bhc;d3.pie=function(){function H(ea){var na,ya=ea.length;var Qa=0;var Ya=Array(ya),Ca=Array(ya),Ta=+Z.apply(this,arguments);var Pa=Math.min(wN,Math.max(-wN,ua.apply(this,arguments)-Ta));var va=Math.min(Math.abs(Pa)/ya,ma.apply(this,arguments)),ub=va*(0>Pa?-1:1),gb;for(na=0;na<ya;++na)0<(gb=Ca[Ya[na]=na]=+Y(ea[na],na,ea))&&(Qa+=gb);null!=X?Ya.sort(function(gc,Zb){return X(Ca[gc],Ca[Zb])}):null!=W&&Ya.sort(function(gc,Zb){return W(ea[gc],ea[Zb])});na=0;for(Pa=Qa?(Pa-
ya*ub)/Qa:0;na<ya;++na,Ta=Jb){Qa=Ya[na];gb=Ca[Qa];var Jb=Ta+(0<gb?gb*Pa:0)+ub;Ca[Qa]={data:ea[Qa],index:na,value:gb,startAngle:Ta,endAngle:Jb,padAngle:va}}return Ca}var Y=ehc,X=dhc,W=null,Z=$M(0),ua=$M(wN),ma=$M(0);H.value=function(ea){return arguments.length?(Y="function"===typeof ea?ea:$M(+ea),H):Y};H.sortValues=function(ea){return arguments.length?(X=ea,W=null,H):X};H.sort=function(ea){return arguments.length?(W=ea,X=null,H):W};H.startAngle=function(ea){return arguments.length?(Z="function"===
typeof ea?ea:$M(+ea),H):Z};H.endAngle=function(ea){return arguments.length?(ua="function"===typeof ea?ea:$M(+ea),H):ua};H.padAngle=function(ea){return arguments.length?(ma="function"===typeof ea?ea:$M(+ea),H):ma};return H};d3.areaRadial=khc;d3.radialArea=khc;d3.lineRadial=ihc;d3.radialLine=ihc;d3.pointRadial=lhc;d3.linkHorizontal=function(){return ohc(qhc)};d3.linkVertical=function(){return ohc(rhc)};d3.linkRadial=function(){var H=ohc(shc);H.angle=H.x;delete H.x;H.radius=H.y;delete H.y;return H};
d3.symbol=function(){function H(){var Z;W||(W=Z=IL());Y.apply(this,arguments).draw(W,+X.apply(this,arguments));if(Z)return W=null,Z+""||null}var Y=$M(zmc),X=$M(64),W=null;H.type=function(Z){return arguments.length?(Y="function"===typeof Z?Z:$M(Z),H):Y};H.size=function(Z){return arguments.length?(X="function"===typeof Z?Z:$M(+Z),H):X};H.context=function(Z){return arguments.length?(W=null==Z?null:Z,H):W};return H};d3.symbols=Omc;d3.symbolCircle=zmc;d3.symbolCross=Amc;d3.symbolDiamond=Dmc;d3.symbolSquare=
Imc;d3.symbolStar=Hmc;d3.symbolTriangle=Kmc;d3.symbolWye=Nmc;d3.curveBasisClosed=function(H){return new vhc(H)};d3.curveBasisOpen=function(H){return new whc(H)};d3.curveBasis=function(H){return new uhc(H)};d3.curveBundle=Pmc;d3.curveCardinalClosed=Rmc;d3.curveCardinalOpen=Smc;d3.curveCardinal=Qmc;d3.curveCatmullRomClosed=Umc;d3.curveCatmullRomOpen=Vmc;d3.curveCatmullRom=Tmc;d3.curveLinearClosed=function(H){return new Ghc(H)};d3.curveLinear=Zgc;d3.curveMonotoneX=function(H){return new Khc(H)};d3.curveMonotoneY=
function(H){return new Lhc(H)};d3.curveNatural=function(H){return new Nhc(H)};d3.curveStep=function(H){return new Phc(H,.5)};d3.curveStepAfter=function(H){return new Phc(H,1)};d3.curveStepBefore=function(H){return new Phc(H,0)};d3.stack=function(){function H(ua){var ma=Y.apply(this,arguments),ea,na=ua.length,ya=ma.length,Qa=Array(ya);for(ea=0;ea<ya;++ea){for(var Ya=ma[ea],Ca=Qa[ea]=Array(na),Ta=0,Pa;Ta<na;++Ta)Ca[Ta]=Pa=[0,+Z(ua[Ta],Ya,Ta,ua)],Pa.data=ua[Ta];Ca.key=Ya}ea=0;for(ma=X(Qa);ea<ya;++ea)Qa[ma[ea]].index=
ea;W(Qa,ma);return Qa}var Y=$M([]),X=dN,W=cN,Z=Qhc;H.keys=function(ua){return arguments.length?(Y="function"===typeof ua?ua:$M(phc.call(ua)),H):Y};H.value=function(ua){return arguments.length?(Z="function"===typeof ua?ua:$M(+ua),H):Z};H.order=function(ua){return arguments.length?(X=null==ua?dN:"function"===typeof ua?ua:$M(phc.call(ua)),H):X};H.offset=function(ua){return arguments.length?(W=null==ua?cN:ua,H):W};return H};d3.stackOffsetExpand=function(H,Y){if(0<(W=H.length)){for(var X,W,Z=0,ua=H[0].length,
ma;Z<ua;++Z){for(ma=X=0;X<W;++X)ma+=H[X][Z][1]||0;if(ma)for(X=0;X<W;++X)H[X][Z][1]/=ma}cN(H,Y)}};d3.stackOffsetDiverging=function(H,Y){if(1<(na=H.length))for(var X,W=0,Z,ua,ma,ea,na,ya=H[Y[0]].length;W<ya;++W)for(X=ma=ea=0;X<na;++X)0<=(ua=(Z=H[Y[X]][W])[1]-Z[0])?(Z[0]=ma,Z[1]=ma+=ua):0>ua?(Z[1]=ea,Z[0]=ea+=ua):Z[0]=ma};d3.stackOffsetNone=cN;d3.stackOffsetSilhouette=function(H,Y){if(0<(Z=H.length)){for(var X=0,W=H[Y[0]],Z,ua=W.length;X<ua;++X){for(var ma=0,ea=0;ma<Z;++ma)ea+=H[ma][X][1]||0;W[X][1]+=
W[X][0]=-ea/2}cN(H,Y)}};d3.stackOffsetWiggle=function(H,Y){if(0<(ma=H.length)&&0<(ua=(Z=H[Y[0]]).length)){for(var X=0,W=1,Z,ua,ma;W<ua;++W){for(var ea=0,na=0,ya=0;ea<ma;++ea){var Qa=H[Y[ea]],Ya=Qa[W][1]||0;Qa=(Ya-(Qa[W-1][1]||0))/2;for(var Ca=0;Ca<ea;++Ca){var Ta=H[Y[Ca]];Qa+=(Ta[W][1]||0)-(Ta[W-1][1]||0)}na+=Ya;ya+=Qa*Ya}Z[W-1][1]+=Z[W-1][0]=X;na&&(X-=ya/na)}Z[W-1][1]+=Z[W-1][0]=X;cN(H,Y)}};d3.stackOrderAscending=Rhc;d3.stackOrderDescending=function(H){return Rhc(H).reverse()};d3.stackOrderInsideOut=
function(H){var Y=H.length,X=H.map(Shc),W=dN(H).sort(function(ya,Qa){return X[Qa]-X[ya]}),Z=0,ua=0,ma=[],ea=[];for(H=0;H<Y;++H){var na=W[H];Z<ua?(Z+=X[na],ma.push(na)):(ua+=X[na],ea.push(na))}return ea.reverse().concat(ma)};d3.stackOrderNone=dN;d3.stackOrderReverse=function(H){return dN(H).reverse()};d3.timeInterval=QM;d3.timeMillisecond=rN;d3.timeMilliseconds=jkc;d3.utcMillisecond=rN;d3.utcMilliseconds=jkc;d3.timeSecond=kkc;d3.timeSeconds=lkc;d3.utcSecond=kkc;d3.utcSeconds=lkc;d3.timeMinute=mkc;
d3.timeMinutes=nkc;d3.timeHour=okc;d3.timeHours=pkc;d3.timeDay=sfc;d3.timeDays=qkc;d3.timeWeek=Bgc;d3.timeWeeks=vkc;d3.timeSunday=Bgc;d3.timeSundays=vkc;d3.timeMonday=rfc;d3.timeMondays=wkc;d3.timeTuesday=rkc;d3.timeTuesdays=xkc;d3.timeWednesday=skc;d3.timeWednesdays=ykc;d3.timeThursday=Cgc;d3.timeThursdays=zkc;d3.timeFriday=tkc;d3.timeFridays=Akc;d3.timeSaturday=ukc;d3.timeSaturdays=Bkc;d3.timeMonth=Ckc;d3.timeMonths=Dkc;d3.timeYear=VM;d3.timeYears=Ekc;d3.utcMinute=Fkc;d3.utcMinutes=Gkc;d3.utcHour=
Hkc;d3.utcHours=Ikc;d3.utcDay=qfc;d3.utcDays=Jkc;d3.utcWeek=Dgc;d3.utcWeeks=Okc;d3.utcSunday=Dgc;d3.utcSundays=Okc;d3.utcMonday=pfc;d3.utcMondays=Pkc;d3.utcTuesday=Kkc;d3.utcTuesdays=Qkc;d3.utcWednesday=Lkc;d3.utcWednesdays=Rkc;d3.utcThursday=Egc;d3.utcThursdays=Skc;d3.utcFriday=Mkc;d3.utcFridays=Tkc;d3.utcSaturday=Nkc;d3.utcSaturdays=Ukc;d3.utcMonth=Vkc;d3.utcMonths=Wkc;d3.utcYear=WM;d3.utcYears=Xkc;d3.timeFormatDefaultLocale=Fgc;d3.timeFormatLocale=nfc;d3.isoFormat=Ykc;d3.isoParse=Zkc;d3.now=yL;
d3.timer=S8b;d3.timerFlush=T8b;d3.timeout=b9b;d3.interval=function(H,Y,X){var W=new R8b,Z=Y;if(null==Y)return W.restart(H,Y,X),W;Y=+Y;X=null==X?yL():+X;W.restart(function ea(ma){ma+=Z;W.restart(ea,Z+=Y,X);H(ma)},Y,X);return W};d3.transition=I9b;d3.active=function(H,Y){var X=H.__transition,W,Z;if(X)for(Z in Y=null==Y?null:Y+"",X)if(1<(W=X[Z]).state&&W.name===Y)return new EL([[H]],ojc,Y,+Z);return null};d3.interrupt=DL;d3.voronoi=function(){function H(Z){return new tic(Z.map(function(ua,ma){var ea=
[Math.round(Y(ua,ma,Z)/jN)*jN,Math.round(X(ua,ma,Z)/jN)*jN];ea.index=ma;ea.data=ua;return ea}),W)}var Y=Uhc,X=Vhc,W=null;H.polygons=function(Z){return H(Z).polygons()};H.links=function(Z){return H(Z).links()};H.triangles=function(Z){return H(Z).triangles()};H.x=function(Z){return arguments.length?(Y="function"===typeof Z?Z:Thc(+Z),H):Y};H.y=function(Z){return arguments.length?(X="function"===typeof Z?Z:Thc(+Z),H):X};H.extent=function(Z){return arguments.length?(W=null==Z?null:[[+Z[0][0],+Z[0][1]],
[+Z[1][0],+Z[1][1]]],H):W&&[[W[0][0],W[0][1]],[W[1][0],W[1][1]]]};H.size=function(Z){return arguments.length?(W=null==Z?null:[[0,0],[+Z[0],+Z[1]]],H):W&&[W[1][0]-W[0][0],W[1][1]-W[0][1]]};return H};d3.zoom=function(){function H(yb){yb.property("__zoom",Bic).on("wheel.zoom",ea).on("mousedown.zoom",na).on("dblclick.zoom",ya).filter(gb).on("touchstart.zoom",Qa).on("touchmove.zoom",Ya).on("touchend.zoom touchcancel.zoom",Ca).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}
function Y(yb,Ic){Ic=Math.max(Jb[0],Math.min(Jb[1],Ic));return Ic===yb.k?yb:new kN(Ic,yb.x,yb.y)}function X(yb,Ic,Od){var Ce=Ic[0]-Od[0]*yb.k;Ic=Ic[1]-Od[1]*yb.k;return Ce===yb.x&&Ic===yb.y?yb:new kN(yb.k,Ce,Ic)}function W(yb){return[(+yb[0][0]+ +yb[1][0])/2,(+yb[0][1]+ +yb[1][1])/2]}function Z(yb,Ic,Od){yb.on("start.zoom",function(){ua(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){ua(this,arguments).end()}).tween("zoom",function(){var Ce=arguments,vg=ua(this,Ce),lf=Pa.apply(this,
Ce),Vi=Od||W(lf),Aq=Math.max(lf[1][0]-lf[0][0],lf[1][1]-lf[0][1]);lf=this.__zoom;var zra="function"===typeof Ic?Ic.apply(this,Ce):Ic,hLa=hd(lf.invert(Vi).concat(Aq/lf.k),zra.invert(Vi).concat(Aq/zra.k));return function(Dv){if(1===Dv)Dv=zra;else{Dv=hLa(Dv);var Ara=Aq/Dv[2];Dv=new kN(Ara,Vi[0]-Dv[0]*Ara,Vi[1]-Dv[1]*Ara)}vg.zoom(null,Dv)}})}function ua(yb,Ic){for(var Od=0,Ce=Kc.length,vg;Od<Ce;++Od)if((vg=Kc[Od]).that===yb)return vg;return new ma(yb,Ic)}function ma(yb,Ic){this.that=yb;this.args=Ic;this.index=
-1;this.active=0;this.extent=Pa.apply(yb,Ic)}function ea(){if(Ta.apply(this,arguments)){var yb=ua(this,arguments),Ic=this.__zoom,Od=Math.max(Jb[0],Math.min(Jb[1],Ic.k*Math.pow(2,ub.apply(this,arguments)))),Ce=jL(this);if(yb.wheel){if(yb.mouse[0][0]!==Ce[0]||yb.mouse[0][1]!==Ce[1])yb.mouse[1]=Ic.invert(yb.mouse[0]=Ce);clearTimeout(yb.wheel)}else{if(Ic.k===Od)return;yb.mouse=[Ce,Ic.invert(Ce)];DL(this);yb.start()}yic();yb.wheel=setTimeout(function(){yb.wheel=null;yb.end()},150);yb.zoom("mouse",va(X(Y(Ic,
Od),yb.mouse[0],yb.mouse[1]),yb.extent,gc))}}function na(){if(!fe&&Ta.apply(this,arguments)){var yb=ua(this,arguments),Ic=iL(d3.event.view).on("mousemove.zoom",function(){yic();if(!yb.moved){var lf=d3.event.clientX-Ce,Vi=d3.event.clientY-vg;yb.moved=lf*lf+Vi*Vi>Re}yb.zoom("mouse",va(X(yb.that.__zoom,yb.mouse[0]=jL(yb.that),yb.mouse[1]),yb.extent,gc))},!0).on("mouseup.zoom",function(){Ic.on("mousemove.zoom mouseup.zoom",null);y7b(d3.event.view,yb.moved);yic();yb.end()},!0),Od=jL(this),Ce=d3.event.clientX,
vg=d3.event.clientY;x7b(d3.event.view);d3.event.stopImmediatePropagation();yb.mouse=[Od,this.__zoom.invert(Od)];DL(this);yb.start()}}function ya(){if(Ta.apply(this,arguments)){var yb=this.__zoom,Ic=jL(this),Od=yb.invert(Ic);yb=va(X(Y(yb,yb.k*(d3.event.shiftKey?.5:2)),Ic,Od),Pa.apply(this,arguments),gc);yic();0<Zb?iL(this).transition().duration(Zb).call(Z,yb,Ic):iL(this).call(H.transform,yb)}}function Qa(){if(Ta.apply(this,arguments)){var yb=ua(this,arguments),Ic=d3.event.changedTouches,Od=Ic.length,
Ce;d3.event.stopImmediatePropagation();for(Ce=0;Ce<Od;++Ce){var vg=Ic[Ce];var lf=w7b(this,Ic,vg.identifier);lf=[lf,this.__zoom.invert(lf),vg.identifier];if(yb.touch0)yb.touch1||(yb.touch1=lf);else{yb.touch0=lf;var Vi=!0}}if(Td&&(Td=clearTimeout(Td),!yb.touch1)){yb.end();(lf=iL(this).on("dblclick.zoom"))&&lf.apply(this,arguments);return}Vi&&(Td=setTimeout(function(){Td=null},500),DL(this),yb.start())}}function Ya(){var yb=ua(this,arguments),Ic=d3.event.changedTouches,Od=Ic.length,Ce;yic();Td&&(Td=
clearTimeout(Td));for(Ce=0;Ce<Od;++Ce){var vg=Ic[Ce];var lf=w7b(this,Ic,vg.identifier);yb.touch0&&yb.touch0[2]===vg.identifier?yb.touch0[0]=lf:yb.touch1&&yb.touch1[2]===vg.identifier&&(yb.touch1[0]=lf)}vg=yb.that.__zoom;if(yb.touch1){lf=yb.touch0[0];Ic=yb.touch0[1];Ce=yb.touch1[0];Od=yb.touch1[1];var Vi=(Vi=Ce[0]-lf[0])*Vi+(Vi=Ce[1]-lf[1])*Vi;var Aq=(Aq=Od[0]-Ic[0])*Aq+(Aq=Od[1]-Ic[1])*Aq;vg=Y(vg,Math.sqrt(Vi/Aq));lf=[(lf[0]+Ce[0])/2,(lf[1]+Ce[1])/2];Vi=[(Ic[0]+Od[0])/2,(Ic[1]+Od[1])/2]}else if(yb.touch0)lf=
yb.touch0[0],Vi=yb.touch0[1];else return;yb.zoom("touch",va(X(vg,lf,Vi),yb.extent,gc))}function Ca(){var yb=ua(this,arguments),Ic=d3.event.changedTouches,Od=Ic.length,Ce;d3.event.stopImmediatePropagation();fe&&clearTimeout(fe);fe=setTimeout(function(){fe=null},500);for(Ce=0;Ce<Od;++Ce){var vg=Ic[Ce];yb.touch0&&yb.touch0[2]===vg.identifier?delete yb.touch0:yb.touch1&&yb.touch1[2]===vg.identifier&&delete yb.touch1}yb.touch1&&!yb.touch0&&(yb.touch0=yb.touch1,delete yb.touch1);yb.touch0?yb.touch0[1]=
this.__zoom.invert(yb.touch0[0]):yb.end()}var Ta=zic,Pa=Aic,va=Eic,ub=Cic,gb=Dic,Jb=[0,Infinity],gc=[[-Infinity,-Infinity],[Infinity,Infinity]],Zb=250,hd=I8b,Kc=[],Nd=dL("start","zoom","end"),Td,fe,Re=0;H.transform=function(yb,Ic){var Od=yb.selection?yb.selection():yb;Od.property("__zoom",Bic);yb!==Od?Z(yb,Ic):Od.interrupt().each(function(){ua(this,arguments).start().zoom(null,"function"===typeof Ic?Ic.apply(this,arguments):Ic).end()})};H.scaleBy=function(yb,Ic){H.scaleTo(yb,function(){var Od=this.__zoom.k,
Ce="function"===typeof Ic?Ic.apply(this,arguments):Ic;return Od*Ce})};H.scaleTo=function(yb,Ic){H.transform(yb,function(){var Od=Pa.apply(this,arguments),Ce=this.__zoom,vg=W(Od),lf=Ce.invert(vg),Vi="function"===typeof Ic?Ic.apply(this,arguments):Ic;return va(X(Y(Ce,Vi),vg,lf),Od,gc)})};H.translateBy=function(yb,Ic,Od){H.transform(yb,function(){return va(this.__zoom.translate("function"===typeof Ic?Ic.apply(this,arguments):Ic,"function"===typeof Od?Od.apply(this,arguments):Od),Pa.apply(this,arguments),
gc)})};H.translateTo=function(yb,Ic,Od){H.transform(yb,function(){var Ce=Pa.apply(this,arguments),vg=this.__zoom,lf=W(Ce);return va(xic.translate(lf[0],lf[1]).scale(vg.k).translate("function"===typeof Ic?-Ic.apply(this,arguments):-Ic,"function"===typeof Od?-Od.apply(this,arguments):-Od),Ce,gc)})};ma.prototype={start:function(){1===++this.active&&(this.index=Kc.push(this)-1,this.emit("start"));return this},zoom:function(yb,Ic){this.mouse&&"mouse"!==yb&&(this.mouse[1]=Ic.invert(this.mouse[0]));this.touch0&&
"touch"!==yb&&(this.touch0[1]=Ic.invert(this.touch0[0]));this.touch1&&"touch"!==yb&&(this.touch1[1]=Ic.invert(this.touch1[0]));this.that.__zoom=Ic;this.emit("zoom");return this},end:function(){0===--this.active&&(Kc.splice(this.index,1),this.index=-1,this.emit("end"));return this},emit:function(yb){m7b(new vic(H,yb,this.that.__zoom),Nd.apply,Nd,[yb,this.that,this.args])}};H.wheelDelta=function(yb){return arguments.length?(ub="function"===typeof yb?yb:uic(+yb),H):ub};H.filter=function(yb){return arguments.length?
(Ta="function"===typeof yb?yb:uic(!!yb),H):Ta};H.touchable=function(yb){return arguments.length?(gb="function"===typeof yb?yb:uic(!!yb),H):gb};H.extent=function(yb){return arguments.length?(Pa="function"===typeof yb?yb:uic([[+yb[0][0],+yb[0][1]],[+yb[1][0],+yb[1][1]]]),H):Pa};H.scaleExtent=function(yb){return arguments.length?(Jb[0]=+yb[0],Jb[1]=+yb[1],H):[Jb[0],Jb[1]]};H.translateExtent=function(yb){return arguments.length?(gc[0][0]=+yb[0][0],gc[1][0]=+yb[1][0],gc[0][1]=+yb[0][1],gc[1][1]=+yb[1][1],
H):[[gc[0][0],gc[0][1]],[gc[1][0],gc[1][1]]]};H.constrain=function(yb){return arguments.length?(va=yb,H):va};H.duration=function(yb){return arguments.length?(Zb=+yb,H):Zb};H.interpolate=function(yb){return arguments.length?(hd=yb,H):hd};H.on=function(){var yb=Nd.on.apply(Nd,arguments);return yb===Nd?H:yb};H.clickDistance=function(yb){return arguments.length?(Re=(yb=+yb)*yb,H):Math.sqrt(Re)};return H};d3.zoomTransform=wic;d3.zoomIdentity=xic;eL.svg=eL.svg;eL.xhtml=eL.xhtml;eL.xlink=eL.xlink;eL.xml=
eL.xml;eL.xmlns=eL.xmlns})();
var yN=function(){this.eventsDomainSelector_=this.metricsDomainSelector_=this.appDomainSelector_=null};_.nh("awesomecharts.config.RestDomainsConfig",yN);yN.prototype.getApp=function(){return this.appDomainSelector_};yN.prototype.getApp=yN.prototype.getApp;yN.prototype.setApp=function(a){this.appDomainSelector_=Wmc(this,a);return this};yN.prototype.setApp=yN.prototype.setApp;yN.prototype.getPublicApi=function(){return this.publicApiSelector_};yN.prototype.getPublicApi=yN.prototype.getPublicApi;
yN.prototype.setPublicApi=function(a){this.publicApiSelector_=Wmc(this,a);return this};yN.prototype.setPublicApi=yN.prototype.setPublicApi;yN.prototype.getPublicCharts=function(){return this.publicChartsSelector_};yN.prototype.getPublicCharts=yN.prototype.getPublicCharts;yN.prototype.setPublicCharts=function(a){this.publicChartsSelector_=Wmc(this,a);return this};yN.prototype.setPublicCharts=yN.prototype.setPublicCharts;yN.prototype.getMetrics=function(){return this.metricsDomainSelector_};
yN.prototype.getMetrics=yN.prototype.getMetrics;yN.prototype.setMetrics=function(a){this.metricsDomainSelector_=Wmc(this,a);return this};yN.prototype.setMetrics=yN.prototype.setMetrics;yN.prototype.getEvents=function(){return this.eventsDomainSelector_};yN.prototype.getEvents=yN.prototype.getEvents;yN.prototype.setEvents=function(a){this.eventsDomainSelector_=Wmc(this,a);return this};yN.prototype.setEvents=yN.prototype.setEvents;yN.prototype.setIterFactory=function(a){this.iterFactory_=a};
yN.prototype.setIterFactory=yN.prototype.setIterFactory;var Wmc=function(a,b){if(!b)return null;"string"===typeof b&&(b=[b]);Array.isArray(b)&&(b=a.iterFactory_(b));return b};
var Xmc=function(){};_.nh("awesomecharts.interfaces.AnalyticsInterface",Xmc);Xmc.prototype.sinceLoad=function(){};Xmc.prototype.sinceLoad=Xmc.prototype.sinceLoad;Xmc.prototype.sendTiming=function(){};
var zN=function(){};_.nh("awesomecharts.interfaces.AuthInterface",zN);zN.prototype.checkAuth=function(){};zN.prototype.checkAuth=zN.prototype.checkAuth;zN.prototype.isAuthInProgress=function(){};zN.prototype.isAuthInProgress=zN.prototype.isAuthInProgress;zN.prototype.isReady=function(){};zN.prototype.isReady=zN.prototype.isReady;zN.prototype.request=function(){};zN.prototype.request=zN.prototype.request;zN.prototype.clear=function(){};zN.prototype.clear=zN.prototype.clear;
zN.prototype.handleRequestError=function(){};zN.prototype.handleRequestError=zN.prototype.handleRequestError;zN.prototype.authorizeRequest=function(){};zN.prototype.authorizeRequest=zN.prototype.authorizeRequest;
var Ymc=function(){};Ymc.prototype.sinceLoad=function(){};Ymc.prototype.sendTiming=function(){};
var AN=function(){this.qnAuth_=this.auth_=null;this.throwPartials_=!0;this.restDomainsConfig_=new yN;this.colorTheme_=this.dateTimeDisplayFormatter_=this.timezonePreference_=null;this.whitelist_={};this.baseUrls_={gcm_v3:"https://monitoring.googleapis.com"};this.asyncEventWrapperFn_=null;this.analytics_=new Ymc;this.forceSync_=!1;this.stats_={transportRead:[],chartLoading:[],dashboardLoading:[],chartErrors:0};this.timezoneUtils_={timezoneOffset:()=>-(new Date).getTimezoneOffset(),localOffset:()=>
-(new Date).getTimezoneOffset()};this.useTerminatingDrawQueue=!1};AN.prototype.setAuth=function(a){this.auth_=a;return this};AN.prototype.setAuth=AN.prototype.setAuth;AN.prototype.setQnAuth=function(a){this.qnAuth_=a;return this};AN.prototype.setQnAuth=AN.prototype.setQnAuth;AN.prototype.getAuth=function(){return this.auth_};AN.prototype.getAuth=AN.prototype.getAuth;AN.prototype.getQnAuth=function(){return this.qnAuth_};AN.prototype.getQnAuth=AN.prototype.getQnAuth;
AN.prototype.setThrowPartials=function(a){this.throwPartials_=a;return this};AN.prototype.setThrowPartials=AN.prototype.setThrowPartials;AN.prototype.getThrowPartials=function(){return this.throwPartials_};AN.prototype.getThrowPartials=AN.prototype.getThrowPartials;AN.prototype.setTimezoneUtils=function(a){this.timezoneUtils_=a;return this};AN.prototype.setTimezoneUtils=AN.prototype.setTimezoneUtils;AN.prototype.getTimezoneUtils=function(){return this.timezoneUtils_};
AN.prototype.getTimezoneUtils=AN.prototype.getTimezoneUtils;AN.prototype.setAnalytics=function(a){this.analytics_=a;return this};AN.prototype.setAnalytics=AN.prototype.setAnalytics;AN.prototype.getAnalytics=function(){return this.analytics_||null};AN.prototype.getAnalytics=AN.prototype.getAnalytics;AN.prototype.setTimezone=function(a){this.timezonePreference_=a;return this};AN.prototype.setTimezone=AN.prototype.setTimezone;
AN.prototype.getTimezone=function(){return this.timezonePreference_?this.timezonePreference_:window&&window.sd&&window.sd.timezonePreference?window.sd.timezonePreference:"LocalTime"};AN.prototype.getTimezone=AN.prototype.getTimezone;AN.prototype.setDateTimeDisplayFormatter=function(a){this.dateTimeDisplayFormatter_=a;return this};AN.prototype.setDateTimeDisplayFormatter=AN.prototype.setDateTimeDisplayFormatter;AN.prototype.getDateTimeDisplayFormatter=function(){return this.dateTimeDisplayFormatter_};
AN.prototype.getDateTimeDisplayFormatter=AN.prototype.getDateTimeDisplayFormatter;AN.prototype.setColorTheme=function(a){this.colorTheme_=a;return this};AN.prototype.setColorTheme=AN.prototype.setColorTheme;AN.prototype.getColorTheme=function(){return this.colorTheme_?this.colorTheme_:window&&window.sd&&window.sd.colorTheme?window.sd.colorTheme:null};AN.prototype.getColorTheme=AN.prototype.getColorTheme;AN.prototype.getRestDomainsConfig=function(){return this.restDomainsConfig_};
AN.prototype.getRestDomainsConfig=AN.prototype.getRestDomainsConfig;AN.prototype.setWhitelist=function(a,b){this.whitelist_[a]=b;return this};AN.prototype.setWhitelist=AN.prototype.setWhitelist;var Zmc=function(a,b,c){Array.isArray(c)||(c=[]);return Object.keys(a.whitelist_).concat(c).some(d=>0===d.indexOf(b)&&(!!a.whitelist_[d]||0<=c.indexOf(d)))};AN.prototype.isWhitelisted=function(a,b){return Array.isArray(b)&&b.includes(a)?!0:!!this.whitelist_[a]};
_.CN=function(a,b){let c=null;_.BN(a).forEach(d=>{0===d.indexOf(b+"-")&&(c=Math.min(d.substring((b+"-").length),null===c?Infinity:c))});return c};_.BN=function(a){return Object.keys(a.whitelist_).filter(b=>a.whitelist_[b])};AN.prototype.setBaseUrl=function(a,b){this.baseUrls_[a]=b};AN.prototype.setBaseUrl=AN.prototype.setBaseUrl;_.$mc=function(){return _.DN.baseUrls_.gcm_v3};AN.prototype.setAsyncEventWrapperFn=function(a){this.asyncEventWrapperFn_=a};AN.prototype.setAsyncEventWrapperFn=AN.prototype.setAsyncEventWrapperFn;
_.EN=function(){return _.DN.asyncEventWrapperFn_||(a=>a())};AN.prototype.setForceSync=function(a){this.forceSync_=a};AN.prototype.setForceSync=AN.prototype.setForceSync;AN.prototype.isForceSync=function(){return this.forceSync_};AN.prototype.isForceSync=AN.prototype.isForceSync;AN.prototype.transportReadEvent=function(a){const b=this.stats_.transportRead;b.push(a);1E3<b.length&&b.shift()};AN.prototype.transportReadEvent=AN.prototype.transportReadEvent;
AN.prototype.chartLoadingEvent=function(a,b){const c=this.stats_.chartLoading;c.push(a);1E3<c.length&&c.shift();b&&this.stats_.chartErrors++};AN.prototype.chartLoadingEvent=AN.prototype.chartLoadingEvent;AN.prototype.dashboardLoadingEvent=function(a){const b=this.stats_.dashboardLoading;b.push(a);1E3<b.length&&b.shift()};AN.prototype.dashboardLoadingEvent=AN.prototype.dashboardLoadingEvent;
AN.prototype.showStats=function(){this.isWhitelisted("chart-adaptive")?console.log("tile loading is on."):console.log("tile loading is off.");this.isWhitelisted("chart-grpc")?console.log("grpc is on."):console.log("grpc is off.");console.log("throttle is "+_.CN(this,"chart-throttle"));let a=0,b=0;performance&&performance.getEntries&&performance.getEntries().forEach(c=>{!c.name||-1===c.name.indexOf("/batch")&&-1===c.name.indexOf("/timeSeries?")&&-1===c.name.indexOf("/ListTimeSeries")||(a+=.5,b+=+c.duration)});
0<a&&(console.log("XHRs:",a),console.log("average XHR latency:",b/a));a=this.stats_.transportRead.length;b=0;this.stats_.transportRead.forEach(c=>{b+=+c});console.log("transport reads:",a);console.log("average transport read latency:",0===a?"n/a":b/a);a=this.stats_.chartLoading.length;b=0;this.stats_.chartLoading.forEach(c=>{b+=+c});console.log("charts:",a);console.log("average chart latency:",0===a?"n/a":b/a);console.log("chart errors:",this.stats_.chartErrors);this.stats_.dashboardLoading.forEach(c=>
{console.log("dashboard latency:",c)});console.log("XHR latency includes stalled time and network time, per tile.");console.log("transport latency includes stalled time, network time, and parse time, per tile.");console.log("chart latency includes stalled time, network time, parse time, translate, and merge, per chart.");console.log("dashboard latency includes stalled, network, parse, translate, merge, and draw, per dashboard.")};AN.prototype.showStats=AN.prototype.showStats;
AN.prototype.doUseDataWorkers=function(a){return"function"===typeof self.Worker?this.isWhitelisted("chart-data-workers",a)||Zmc(this,"chart-override-performance-",a)?!0:Zmc(this,"chart-performance-",a)&&this.isWhitelisted("chart-rollout-performance",a):!1};AN.prototype.doUseDataWorkers=AN.prototype.doUseDataWorkers;AN.prototype.setUseTerminatingDrawQueue=function(a){this.useTerminatingDrawQueue=a};AN.prototype.setUseTerminatingDrawQueue=AN.prototype.setUseTerminatingDrawQueue;
AN.prototype.getUseTerminatingDrawQueue=function(){return this.useTerminatingDrawQueue};AN.prototype.getUseTerminatingDrawQueue=AN.prototype.getUseTerminatingDrawQueue;_.DN=new AN;_.nh("awesomecharts.config.settings",_.DN);
/*


 Copyright (c) 2014 Irene Ros & Mike Pennisi

 Permission is hereby granted, free of charge, to any person
 obtaining a copy of this software and associated documentation
 files (the "Software"), to deal in the Software without
 restriction, including without limitation the rights to use,
 copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the
 Software is furnished to do so, subject to the following
 conditions:

 The above copyright notice and this permission notice shall be
 included in all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 Date: 2014-06-24
*/
var anc=function(a,b){var c,d,e;if(a){var f=arguments.length;for(c=1;c<f;c++)if(d=arguments[c])for(e in d)a[e]=d[e]}},bnc=Object.hasOwnProperty,FN=function(a,b){if(!a)throw Error("wi`"+b);};FN(d3,"d3.js is required");var cnc=/^(enter|update|merge|exit)(:transition)?$/,dnc=function(a){FN(a,"Layers must be initialized with a base.");this._base=a;this._handlers={}};_.aa=dnc.prototype;_.aa.dataBind=function(){FN(!1,"Layers must specify a `dataBind` method.")};_.aa.insert=function(){FN(!1,"Layers must specify an `insert` method.")};
_.aa.on=function(a,b,c){c=c||{};FN(cnc.test(a),"Unrecognized lifecycle event name specified to `Layer#on`: '"+a+"'.");a in this._handlers||(this._handlers[a]=[]);this._handlers[a].push({callback:b,chart:c.chart||null});return this._base};
_.aa.off=function(a,b){var c=this._handlers[a],d;FN(cnc.test(a),"Unrecognized lifecycle event name specified to `Layer#off`: '"+a+"'.");if(!c)return this._base;if(1===arguments.length)return c.length=0,this._base;for(d=c.length-1;-1<d;--d)c[d].callback===b&&c.splice(d,1);return this._base};
_.aa.draw=function(a){var b;var c=this.dataBind.call(this._base,a);FN(c&&c.call===d3.selection.prototype.call,"Invalid selection defined by `Layer#dataBind` method.");FN(void 0!==c.enter,"Layer selection not properly bound.");var d=c.enter();d._chart=this._base._chart;a=[{name:"update",selection:c},{name:"enter",selection:this.insert.bind(d)},{name:"merge",selection:this.dataBind.bind(this._base,a)},{name:"exit",selection:this.dataBind.call(this._base,a).exit.bind(c)}];for(var e=0,f=a.length;e<f;++e){var g=
a[e].name;c=a[e].selection;"function"===typeof c&&(c=c());if(!c.empty()){FN(c&&c.call===d3.selection.prototype.call,"Invalid selection defined for '"+g+"' lifecycle event.");if(d=this._handlers[g]){var h=0;for(b=d.length;h<b;++h)c._chart=d[h].chart||this._base._chart,d[h].callback.apply(c)}if((d=this._handlers[g+":transition"])&&d.length)for(c=c.transition(),h=0,b=d.length;h<b;++h)c._chart=d[h].chart||this._base._chart,d[h].callback.apply(c)}}};d3.selection.prototype.off=void 0;
d3.selection.prototype.draw=void 0;d3.selection.prototype.layer=function(a){var b=new dnc(this),c;b.dataBind=a.dataBind;b.insert=a.insert;if("events"in a)for(c in a.events)b.on(c,a.events[c]);this.on=function(){return b.on.apply(b,arguments)};this.off=function(){return b.off.apply(b,arguments)};this.draw=function(){return b.draw.apply(b,arguments)};return this};
var enc=function(a,b){var c=this.constructor,d=c.__super__;d&&enc.call(d,a,b);bnc.call(c.prototype,"initialize")&&this.initialize.apply(a,b)},fnc=function(a,b){var c=this.constructor,d=c.__super__;this===a&&bnc.call(this,"transform")&&(b=this.transform(b));bnc.call(c.prototype,"transform")&&(b=c.prototype.transform.call(a,b));d&&(b=fnc.call(d,a,b));return b},GN=function(a,b){this.base=a;this._layers={};this._attached={};this._events={};b&&b.transform&&(this.transform=b.transform);enc.call(this,this,
[b])};_.aa=GN.prototype;_.aa.initialize=function(){};_.aa.unlayer=function(a){var b=this.layer(a);delete this._layers[a];delete b._chart;return b};_.aa.layer=function(a,b,c){if(1===arguments.length)return this._layers[a];if(2===arguments.length){if("function"===typeof b.draw)return b._chart=this,this._layers[a]=b,this._layers[a];FN(!1,"When reattaching a layer, the second argument must be a d3.chart layer")}var d=b.layer(c);this._layers[a]=d;b._chart=this;return d};
_.aa.attach=function(a,b){return 1===arguments.length?this._attached[a]:this._attached[a]=b};_.aa.draw=function(a){var b;a=fnc.call(this,this,a);for(c in this._layers)this._layers[c].draw(a);for(b in this._attached){var c=a;this._attached[b].draw(c)}};_.aa.on=function(a,b,c){(this._events[a]||(this._events[a]=[])).push({callback:b,context:c||this,_chart:this});return this};_.aa.once=function(a,b,c){var d=this,e=function(){d.off(a,e);b.apply(d,arguments)};return this.on(a,e,c)};
_.aa.off=function(a,b,c){var d,e,f;if(0===arguments.length){for(a in this._events)this._events[a].length=0;return this}if(1===arguments.length){if(d=this._events[a])d.length=0;return this}var g=a?[a]:Object.keys(this._events);for(e=0;e<g.length;e++)for(d=g[e],d=this._events[d],f=d.length;f--;){var h=d[f];(b&&b===h.callback||c&&c===h.context)&&d.splice(f,1)}return this};
_.aa.trigger=function(a){var b=Array.prototype.slice.call(arguments,1),c=this._events[a],d;if(void 0!==c)for(d=0;d<c.length;d++){var e=c[d];e.callback.apply(e.context,b)}return this};var gnc=function(a,b,c){var d=this;var e=function(){return d.apply(this,arguments)};anc(e,d,c);c=function(){};c.prototype=d.prototype;e.prototype=new c;e.prototype.constructor=e;b&&anc(e.prototype,b);e.__super__=d.prototype;e.extend=gnc;return GN[a]=e};
d3.chart=function(a,b){return 0===arguments.length?GN:1===arguments.length?GN[a]:gnc.apply(GN,arguments)};d3.selection.prototype.chart=function(a,b){if(0===arguments.length)return this._chart;var c=GN[a];FN(c,"No chart registered with name '"+a+"'");return new c(this,b)};d3.selection.prototype._chart=void 0;d3.selection.prototype.enter.prototype.chart=function(){return this._chart};d3.transition.prototype.chart=d3.selection.prototype.enter.prototype.chart;
var HN=function(){};_.nh("awesomecharts.interfaces.Fetchable",HN);HN.prototype.id=function(){};HN.prototype.id=HN.prototype.id;HN.prototype.fetch=function(){};HN.prototype.getData=function(){};HN.prototype.getData=HN.prototype.getData;HN.prototype.hasData=function(){};HN.prototype.hasData=HN.prototype.hasData;HN.prototype.getState=function(){};HN.prototype.getState=HN.prototype.getState;_.aa=HN.prototype;_.aa.addDataChangeHandler=function(){};_.aa.removeDataChangeHandler=function(){};
_.aa.setTimeshiftOffset=function(){};_.aa.getTimeshiftOffset=function(){};_.aa.gapThreshold=function(){};
var hnc;_.IN=function(a,b){var c,d=-1;if(a)if(Array.isArray(a))for(c=a.length;++d<c&&!1!==b(a[d],d,a););else{var e=Object.keys(a);for(c=e.length;++d<c;){var f=e[d];if(!1===b(a[f],f,a))break}}};_.JN=function(a,b){for(var c=0,d=arguments.length;++c<d;)_.IN(arguments[c],function(e,f){a[f]=e});return a};_.KN=function(a){return a?Array.isArray(a)?a.map(function(b){return b}):_.JN({},a):a};
hnc=function(a,b){var c;if(a){if(Array.isArray(a)){if(a.__acClonedRef)return a.__acClonedRef;var d=a.__acClonedRef=[];b.push(a);for(c=0;c<a.length;++c)d.push(hnc(a[c],b));return d}if("object"===typeof a){if(a.__acClonedRef)return a.__acClonedRef;b.push(a);a instanceof Number?d=a.__acClonedRef=new Number(a):a instanceof String?d=a.__acClonedRef=new String(a):a instanceof Boolean?d=a.__acClonedRef=new Boolean(a):a instanceof Date?d=a.__acClonedRef=new Date(a):(d=a.__acClonedRef={},_.IN(a,function(e,
f){e!==a.__acClonedRef&&(d[f]=hnc(e,b))}));return d}}return a};_.LN=function(a){var b=[];a=hnc(a,b);var c;for(c=0;c<b.length;++c){var d=b[c];delete d.__acClonedRef}return a};
_.TK.prototype.on=function(a,b,c){(this._events[a]||(this._events[a]=[])).push({callback:b,context:c||this,_chart:this});return this};_.TK.prototype.on=_.TK.prototype.on;_.TK.prototype.once=function(a,b,c){const d=()=>{this.off(a,d);b.apply(this,arguments)};return this.on(a,d,c)};_.TK.prototype.once=_.TK.prototype.once;
_.TK.prototype.off=function(a,b,c){let d;let e,f,g;if(0===arguments.length){for(a in this._events)this._events[a].length=0;return this}if(1===arguments.length){if(e=this._events[a])e.length=0;return this}d=a?[a]:Object.keys(this._events);for(f=0;f<d.length;f++){var h=d[f];e=this._events[h];e||(console.error(`Event ${h} not in ${JSON.stringify(this._events)}`),e=[]);for(g=e.length;g--;)h=e[g],(b&&b===h.callback||c&&c===h.context)&&e.splice(g,1)}return this};_.TK.prototype.off=_.TK.prototype.off;
_.TK.prototype.trigger=function(a,b){var c=Array.prototype.slice.call(arguments,1),d=this._events[a],e;if(void 0!==d)for(e=0;e<d.length;e++){var f=d[e];f.callback.apply(f.context,c)}return this};_.TK.prototype.trigger=_.TK.prototype.trigger;
var inc,jnc,knc,lnc,mnc,ON,nnc,m5b;_.MN=function(a,b,c){return Array.isArray(a)?void 0!==c?a.map(b,c):a.map(b):[]};
_.NN=function(a,b,c){if(!Array.isArray(a)||0===a.length)return 0;var d=function(l){return l};void 0!==c&&("string"===typeof c?d=function(l){return l[c]}:"function"===typeof c&&(d=function(l){return c(l)}));b=d(b);for(var e=a.length,f=e-1,g=0,h;;){h=d(a[g]);if(b<=h){if(0===g)return 0;g-=f}else if(b>h){if(g===e-1)return e;g+=f}f=Math.floor(f/2);if(0===f){for(;0<g-1&&d(a[g])>=b;)--g;for(;g<e&&d(a[g])<b;)g+=1;return g}}};inc=function(a,b){return Array.isArray(a)?a.filter(b):[]};
jnc=function(a,b){if(!Array.isArray(a)||!Array.isArray(b)||0===a.length||0===b.length)return[];var c=[],d={},e;for(e=0;e<a.length;++e){var f=b[e];d[f]=!0}for(e=0;e<a.length;++e)f=a[e],(b=d[f])&&c.push(f);return c};knc=function(a,b){if(!Array.isArray(b)||0===b.length)return Array.isArray(a)?a.concat():[];if(!Array.isArray(a)||0===a.length)return[];var c={},d=[],e;for(e=0;e<b.length;e++){var f=b[e];c[f]=!0}for(e=0;e<a.length;++e)f=a[e],(b=c[f])||d.push(f);return d};
lnc=function(a,b){return Array.isArray(a)&&0!==a.length?a.reduce(b?function(c,d){return(void 0==d||null===d[b]||isNaN(d[b])?Infinity:d[b])<(void 0==c||null===c[b]||isNaN(c[b])?Infinity:c[b])?d:c}:function(c,d){if(null===c||isNaN(c))c=Infinity;if(null===d||isNaN(d))d=Infinity;return Math.min(c,d)},Infinity):Infinity};
mnc=function(a,b){return Array.isArray(a)&&0!==a.length?a.reduce(b?function(c,d){return(void 0==d||null===d[b]||isNaN(d[b])?-Infinity:d[b])>(void 0==c||null===c[b]||isNaN(c[b])?-Infinity:c[b])?d:c}:function(c,d){if(null===c||isNaN(c))c=-Infinity;if(null===d||isNaN(d))d=-Infinity;return Math.max(c,d)},-Infinity):-Infinity};ON=function(a,b,c){if(Array.isArray(a)&&(0!==a.length||void 0!==c))return 1===a.length&&void 0===c?a[0]:void 0!==c?a.reduce(b,c):a.reduce(b)};
nnc=function(a){if(!Array.isArray(a))return null;var b=[],c;for(c=0;c<a.length;++c){var d=a[c];Array.isArray(d)?b=b.concat(d):b.push(d)}return b};m5b=function(a,b){if(!Array.isArray(a))return-1;var c=a.length;for(--c;0<=c;--c)if(b(a[c]))return c;return-1};
var qnc;_.onc=[[".%L",a=>a.getMilliseconds()],[":%S",a=>a.getSeconds()],["%-I:%M",a=>a.getMinutes()],["%-I %p",a=>a.getHours()],["%a %d",a=>a.getDay()&&1!==a.getDate()],["%b %d",a=>1!==a.getDate()],["%b %d",a=>a.getMonth()],["%Y",()=>!0]];_.pnc=[[".%L",a=>a.getMilliseconds()],[":%S",a=>a.getSeconds()],["%-I:%M",a=>a.getMinutes()],["%-I %p",a=>a.getHours()],["%a %d",a=>1!==a.getDate()],["%b %d",a=>a.getMonth()],["%Y",()=>!0]];qnc=[["%b %d",a=>!(0===a.getMonth()&&1===a.getDate())],["%Y",()=>!0]];
_.PN=function(a,b,c){c=c||1;if(b&&"LocalTime"!==b){const d=_.DN.timezoneUtils_,e=d.localOffset();b=6E4*(d.timezoneOffset(b)-e);return new Date(+a+b*c)}return new Date(a)};_.rnc=a=>b=>(c,d=!1)=>{c=_.PN(c,a);if(d)d="%Y";else{let f=_.onc;b&&(f=6E8<=b?qnc:_.pnc);d=0;for(var e=f[d];!e[1](c);)e=f[++d];d=e[0]}return d3.timeFormat(d)(c)};_.snc=(a,b)=>b.map(c=>_.PN(c,a,-1));
var wnc,znc,Bnc,Dnc,Fnc;_.tnc="%b %-d, %Y %-I:%M %p";_.unc="%b %-d, %-I %p";_.vnc="%-I %p";wnc=[{millis:2419E6,name:"Month"},{millis:6048E5,name:"Week"},{millis:864E5,name:"Day",single:"Yesterday"},{millis:36E5,name:"Hour"},{millis:6E4,name:"Minute"},{millis:1E3,name:"Second"},{millis:1,name:"Millisecond"}];_.QN=function(a){return Math.floor(+a/1E3)};_.RN=function(a,b){return a.map(function(c){return new Date(c.valueOf()+b)})};
_.xnc=function(a,b){if(b){var c=new Date;c=c.getDate()===b.getDate()&&c.getMonth()===b.getMonth()&&c.getFullYear()===b.getFullYear()}if(b&&!c){var d=d3.timeFormat("%b %-d")(b);a=d3.timeFormat("%b %-d")(new Date(b.valueOf()+a));return[d,a]}a*=-1;b=0;c=NaN;let e;for(e=0;0!==c&&e<wnc.length;e++)d=wnc[e],b=Math.floor(a/d.millis),c=a%d.millis;return 1==b?["Today",d.single||`Last ${d.name}`]:["Today",`${b} ${d.name}s ago`]};_.ync=a=>{const b=_.DN.dateTimeDisplayFormatter_;return b?b(a):d3.timeFormat(_.tnc)(a)};
znc=a=>d3.timeFormat("%B %-d, %Y")(a);_.Anc=a=>d3.timeFormat("%b %-d")(a);Bnc=a=>d3.timeFormat("%B, %Y")(a);_.Cnc=a=>d3.timeFormat("%b")(a);Dnc=a=>d3.timeFormat(_.unc)(a);_.Enc=a=>d3.timeFormat(_.vnc)(a);Fnc=(a,b,c,d)=>{d=d||0;b=parseInt(b||0,10);var e=new Date(1E3*(_.QN(a[0])-b));a=new Date(1E3*(_.QN(a[1])+b));"number"===typeof c&&(e=_.QN(e),e=new Date(1E3*(e-(e+d)%c)),a=_.QN(a),a=new Date(1E3*(a+(c-(a+d)%c)%c)));return[e,a]};
_.Gnc=function(a,b,c,d,e){a=Fnc(a,c,d,e);b=b||(f=>f);return{oldest:b(a[0]),youngest:b(a[1])}};_.Hnc=a=>{var b=null;if(null===a||"null"===a||""===a)return b;const c=a.slice(-1),d=a.slice(0,-1);switch(c){case "s":b=1E3*d;break;case "m":b=6E4*d;break;case "h":b=36E5*d;break;case "d":b=864E5*d;break;default:window.console.warn("Invalid duration specifier: "+a)}return b};
var SN={},Inc=function(a){return a[0]<=a[1]};_.nh("awesomecharts.utils.DomainUtils.isValidDomain",Inc);_.TN=function(a,b){if(a===b)return!0;if(!a||!b||a.length!==b.length)return!1;for(var c=0;c<a.length;c++){var d=a[c],e=b[c];d.getTime&&(d=d.getTime());e.getTime&&(e=e.getTime());if(d!==e)return!1}return!0};_.nh("awesomecharts.utils.DomainUtils.isEqual",_.TN);SN.x=function(a){if(arguments.length){var b=this.scale("x").domain();_.TN(b,a)||this.scale("x","domain",a);return a}return this.scale("x").domain()};
SN.y=function(a){if(arguments.length){if(null===a)return this;var b=this.scale("y").domain();_.TN(b,a)||this.scale("y","domain",a);return this}return this.scale("y").domain()};SN.yDelta=function(){var a=this.scale("y").domain();return a?a[1]-a[0]:null};_.nh("awesomecharts.utils.DomainUtils.yDelta",SN.yDelta);_.UN=function(a){return+a[1]-+a[0]};_.nh("awesomecharts.utils.DomainUtils.getLength",_.UN);_.Jnc=function(a){return!a||2>a.length?null:_.QN(a[0]).toString()+_.QN(a[1]).toString()};
_.nh("awesomecharts.utils.DomainUtils.hash",_.Jnc);_.Knc=function(a,b){return a[1]>=b[0]&&b[1]>=a[0]};_.nh("awesomecharts.utils.DomainUtils.intersects",_.Knc);_.VN=function(a){if(!(1>=a.length)){var b=[],c=null;a=a.sort((d,e)=>+d[0]-+e[0]);b.push(a[0]);for(let d=1;d<a.length;d++)c=b[b.length-1],c[1]<a[d][0]?b.push(a[d]):c[1]<a[d][1]&&(c=[c[0],a[d][1]],b.pop(),b.push(c));for(;a.length;)a.pop();for(;b.length;)a.unshift(b.pop())}};_.nh("awesomecharts.utils.DomainUtils.mergeIntervals",_.VN);
var Lnc=function(){};_.nh("awesomecharts.interfaces.LabelFormatterInterface",Lnc);Lnc.prototype.format=function(){};
var Mnc,Nnc,Onc,Pnc,Qnc,Rnc,WN,UK,Snc;Mnc=/(["'])(?:(?=(\\?))\2.)*?\1/;Nnc=/\$\{\s*\w[^\(\}]*?(?:\(\))?\s*}/;Onc=/^\w[\w\.]*?(?:\(\))$/;Pnc=/([^\\\][^\.]|\\\.)+/g;Qnc=/\\([\\"])/g;Rnc=/\\([\\'])/g;WN=class{};UK=class extends WN{constructor(a){super();this.quoteType_=a[0];this.quotedValue_=a;const b='"'===this.quoteType_?Qnc:Rnc;this.unquotedValue_=a.slice(1,a.length-1).replace(b,"$1")}toString(){return this.quotedValue_}value(){return this.unquotedValue_}};
Snc=class extends WN{constructor(a){super();this.identifier_=a.slice(2,a.length-1).trim();if(this.isFunction_=!!this.identifier_.match(Onc))this.identifier_=this.identifier_.slice(0,-2);this.identifier_.indexOf("\\.")?this.identifierParts_=this.identifier_.match(Pnc).map(b=>b.replace(/\\\./g,".")):this.identifierParts_=this.identifier_.split(".")}toString(){let a=this.identifier_;this.isFunction_&&(a+="()");return a}value(){return this.identifier_}};_.Tnc=class{format(){}};
_.Unc=function(a,b){b=a.parseQuoted(b);b=b.map(c=>c instanceof WN?c:a.parseToken_(Nnc,Snc,c));return nnc(b)};
_.XN=class extends _.Tnc{constructor(a){super();this.originalString_=a;this.parsed=this.parse_()}get originalString(){return this.originalString_}parse_(){return this.parsed?this.parsed:_.Unc(this,this.originalString)}parseToken_(a,b,c){const d=[];a=a.toString();a=a.substring(1,a.length-1);a=new RegExp(a,"g");let e,f=0;for(c||(c="");null!==(e=a.exec(c));)f!==e.index&&d.push(e.input.slice(f,e.index)),d.push(new b(e[0])),f=a.lastIndex;f!==c.length&&d.push(c.slice(f));return d}parseQuoted(a){return this.parseToken_(Mnc,
UK,a)}format(a,b){let c=null,d=null,e=[];const f=this.parsed.map((g,h)=>{if(g instanceof UK)var l=c instanceof Snc&&""===d?"":g.value();else if(g instanceof Snc){l=a;if(b&&g.isFunction_&&1===g.identifierParts_.length){var n=g.identifierParts_[0];(l=b[n])||(l=a[n])}else for(n of g.identifierParts_)if(l=l[n],!l)break;l=g.isFunction_?l&&"function"===typeof l?l(a):"#ERR":void 0===l||null===l?null:l;if(void 0===l||null===l)l="";c instanceof UK&&""===l&&(e.push(h-1),l="")}else l=g;c=g;return d=l});for(let g of e)f[g]=
"";return f.join("")}};
/*

 MIT License
 Copyright (c) 2018 Alex Okrushko
 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 SOFTWARE.
*/
var YN;YN={};_.ZN=function(a){this.name=this.name||"ACError";this.code=this.code||500;this.message=this.message||a||"An unknown error occurred";this.details={}};_.nh("awesomecharts.utils.errors.ACError",_.ZN);YN.ACError=_.ZN;_.Ui(_.ZN,Error);_.ZN.prototype.addDetails=function(a){this.details=_.JN(this.details,a)};_.Vnc=function(a){this.name="RequestAbortedError";this.message=a||"";this.code=499;_.ZN.call(this)};YN.RequestAbortedError=_.Vnc;_.Ui(_.Vnc,_.ZN);
_.Wnc=function(a){this.name="ServiceUnavailableError";this.message=a||"";this.code=503;_.ZN.call(this)};YN.ServiceUnavailableError=_.Wnc;_.Ui(_.Wnc,_.ZN);_.Xnc=function(a){this.name="TooManyRequestsError";this.message=a||"";this.code=429;_.ZN.call(this)};YN.TooManyRequestsError=_.Xnc;_.Ui(_.Xnc,_.ZN);_.$N=function(a,b){this.code=415;this.name="ContentTypeError";this.message=a||this.name+" for path "+b;_.ZN.call(this)};_.nh("awesomecharts.utils.errors.ContentTypeError",_.$N);YN.ContentTypeError=_.$N;
_.Ui(_.$N,_.ZN);_.aO=function(a){this.code=200;this.name="NoDataError";this.message=a||"Query response did not contain any data.";_.ZN.call(this)};_.nh("awesomecharts.utils.errors.NoDataError",_.aO);YN.NoDataError=_.aO;_.Ui(_.aO,_.ZN);_.Ync=function(a,b){this.status=b;this.code=403;this.name="UnauthorizedError";this.message=a||"You do not have permissions for this request.";_.ZN.call(this)};_.nh("awesomecharts.utils.errors.UnauthorizedError",_.Ync);YN.UnauthorizedError=_.Ync;_.Ui(_.Ync,_.ZN);
var Znc=function(a,b){this.code=404;this.name="NotFoundError";this.message=a||"One or more resources could not be found.";this.status=b;_.ZN.call(this)};_.nh("awesomecharts.utils.errors.NotFoundError",Znc);YN.NotFoundError=Znc;_.Ui(Znc,_.ZN);_.$nc=function(a,b){this.status=b||null;this.code=400;this.name="InvalidRequestError";this.message=a||"Request was invalid.";_.ZN.call(this)};_.nh("awesomecharts.utils.errors.InvalidRequestError",_.$nc);YN.InvalidRequestError=_.$nc;_.Ui(_.$nc,_.ZN);
_.bO=function(a){this.message=a||"Request timed out";this.code=504;this.name="TimeoutError";_.ZN.call(this)};_.nh("awesomecharts.utils.errors.TimeoutError",_.bO);YN.TimeoutError=_.bO;_.Ui(_.bO,_.ZN);_.aoc=function(a){this.code=499;this.name="FetchStrategyError";this.message=a||"Encountered error executing fetch strategy.";_.ZN.call(this)};_.nh("awesomecharts.utils.errors.FetchStrategyError",_.aoc);YN.FetchStrategyError=_.aoc;_.Ui(_.aoc,_.ZN);
_.boc=function(a){this.code=-1;this.name="CustomError";this.message=a||"Unknown error.";_.ZN.call(this)};_.nh("awesomecharts.utils.errors.CustomError",_.boc);YN.CustomError=_.boc;_.Ui(_.boc,_.ZN);_.coc={};_.IN(YN,function(a){var b=(new a).code;b&&(_.coc[b]=a)});var doc=class extends Error{constructor(a){super(a)}};_.nh("awesomecharts.utils.errors.ValidationError",doc);
var eoc=/\s?<=|>=|!=|=|<|>\s?/,foc=/\sAND\s|\sOR\s/,goc=/^\sAND\s$/,hoc=/(\sAND\s)$/,ioc=/^\sOR\s$/,joc=/(\sOR\s)$/,koc=/^(.*?)(\sAND\s|\sOR\s|\s)?(\S+)$/,loc=/^(\w[\w\.]*?\()(.*)(\))$/,moc=/(select_.*?)(\(.+\)+)/,noc=class extends WN{constructor(a){super();this.value_=a}toString(){return String(this.value_)}value(){return this.value_}equals(a){return a instanceof this.constructor&&(a.toString().trim()===this.toString().trim()||a.toString().replace(/\(|\)/g,"").trim()===this.toString().replace(/\(|\)/g,
"").trim())}},cO=class extends noc{constructor(a){super("");this.subtokens_=[a]}numSubtokens(){return this.subtokens_.length}subtoken(a){return this.subtokens_.length>a?this.subtokens_[a]:null}append(a){this.subtokens_.push(a)}prepend(a){this.subtokens_.unshift(a)}toString(){return this.subtokens_.map(a=>a instanceof UK?a.toString():a).join("")}},ooc,VK,WK,poc,dO,qoc,roc,soc,toc;cO.prototype.toString=cO.prototype.toString;cO.prototype.prepend=cO.prototype.prepend;cO.prototype.append=cO.prototype.append;
cO.prototype.subtoken=cO.prototype.subtoken;cO.prototype.numSubtokens=cO.prototype.numSubtokens;ooc=class extends noc{};VK=class extends cO{};WK=class extends cO{constructor(a){if(a instanceof UK)super(a);else{let b=a.match(loc);b?(super(b[1]),0<b[2].length&&this.append(b[2]),this.append(b[3])):super(a)}}};poc=class extends noc{};dO=class extends poc{};qoc=class extends poc{};roc=[{token:VK},{token:ooc},{token:WK,canBeLast:!0},{token:poc}];
_.eO=function(a){return a.parsed?a.parsed.map(b=>p5b(b)):void 0};soc=function(a){throw new doc(`Invalid metric filter. Can not parse '${a.originalString}'.`);};
toc=function(a,b){let c=[];var d=foc.toString();d=d.substring(1,d.length-1);d=new RegExp(d,"g");let e=0;const f=d.exec(b);f||(b=b.trim());f?(e!==f.index&&(a=f.input.slice(e,f.index),c.push(new WK(a))),goc.test(f[0])?c.push(new dO(f[0])):ioc.test(f[0])&&c.push(new qoc(f[0])),e=d.lastIndex,e!==b.length&&c.push(new VK(b.slice(e)))):(d=b.split(" "),c.push(new WK(d.shift())),0<d.length&&(""!==d[d.length-1]?(b=new VK(d.pop()),d=d.join(" "),d.match(/[^ ]/)&&soc(a),c.push(new dO(d||" ")),c.push(b)):c.push(new dO(" "))));
return c};
_.fO=class{constructor(a){this.originalString=a;this.parsed=this.parse_();this.validate()}parse_(){if(this.parsed)return this.parsed;var a=this.parseTss(this.originalString);a=this.parseQuoted(a);if(a instanceof Array){var b=[];for(a=a.slice();a.length;){var c=a.shift();if("string"===typeof c&&c.endsWith(".")&&a[0]instanceof UK){c=koc.exec(c);const [f,g,h]=[c&&c[1]?c[1]:"",c&&c[2]?c[2]:"",c&&c[3]?c[3]:""];f.length&&b.push(f);g.length&&(goc.test(g)||/^\s*$/.test(g)?b.push(new dO(g)):ioc.test(g)?b.push(new qoc(g)):
b.push(g));c=new VK(h);c.append(a[0]);b.push(c);a.shift()}else b.push(c)}a=b}a=this.parseExpressions(a);b=a=nnc(a);a=[];var d=null;for(c=0;c<b.length;c++){var e=b[c];if(e instanceof UK)!d||d instanceof poc?(d=new VK(e),a.push(d)):d instanceof ooc?(d=new WK(e),a.push(d)):d instanceof cO&&d.append(e);else if(e instanceof VK)if(d instanceof VK)d.append(e.toString());else if(d instanceof WK){e=e.toString();const f=e.match(/^\s+/);f?(d=f[0],a.push(new dO(d)),d=new VK(e.slice(d.length)),a.push(d)):soc(this)}else a.push(e),
d=e;else e instanceof WK?d instanceof WK?d.append(e.toString()):d instanceof VK?soc(this):(a.push(e),d=e):(a.push(e),d=e)}return a}validate(){let a=0;for(let b=0;b<this.parsed.length;b++){const c=roc[a],d=this.parsed[b+1];this.parsed[b]instanceof c.token&&(d||c.canBeLast)||soc(this);a++;a===roc.length&&(a=0)}}parseToken_(a,b,c){const d=[];a=a.toString();a=a.substring(1,a.length-1);a=new RegExp(a,"g");let e,f=0;for(c||(c="");null!==(e=a.exec(c));)f!==e.index&&d.push(e.input.slice(f,e.index)),d.push(new b(e[0])),
f=a.lastIndex;f!==c.length&&d.push(c.slice(f));return d}parseTss(a){const b=a.match(moc);if(!b)return[a];const c=new VK(b[1]),d=new WK(b[2].slice(1,b[2].length-1));d.prepend("(");d.append(")");a=a.replace(moc,"");0<b.index&&(a=` ${a}`);return[c,new ooc(""),d,a]}parseQuoted(a){a=a.map(b=>b instanceof WN?b:this.parseToken_(Mnc,UK,b));return nnc(a)}parseExpressions(a){a=a.map(b=>{if(!(b instanceof WN)){var c=b;b=[];var d=eoc.toString();d=d.substring(1,d.length-1);d=new RegExp(d,"g");var e,f=0;for(c||
(c="");null!==(e=d.exec(c));){if(f!==e.index){const g=e.input.slice(f,e.index);0===f?(f=toc(this,g),1<f.length?b.push(f):b.push(new VK(g))):b.push(toc(this,g))}b.push(new ooc(e[0]));f=d.lastIndex}f!==c.length&&(c=c.slice(f),0===f?b.push(toc(this,c)):(d=hoc.exec(c),e=joc.exec(c),d?(b.push(new WK(c.substr(0,c.length-d[1].length))),b.push(new dO(d[1]))):e?(b.push(new WK(c.substr(0,c.length-e[1].length))),b.push(new qoc(e[1]))):b.push(new WK(c))))}return b});return nnc(a)}toString(){return this.parsed.reduce((a,
b)=>a+b.toString(),"")}hasToken(a){return-1<this.parsed.findIndex(b=>b.equals(a))}addExpression(a,b,c,d){0<this.parsed.length&&(""===a.trim()||"AND"===a.trim()?this.parsed.push(new dO(a)):this.parsed.push(new qoc(a)));var e=`${b} ${c} ${d}`;a=(e.toString().match(/\(/g)||[]).length;e=(e.toString().match(/\)/g)||[]).length;this.parsed.push(new VK(b));a<e&&this.parsed[this.parsed.length-1].prepend("(");this.parsed.push(new ooc(c));this.parsed.push(new WK(d));a>e&&this.parsed[this.parsed.length-1].append(")");
this.validate()}removeLhsExpression(a){const b=new VK(a);a=this.parsed.findIndex(f=>f.equals(b));if(-1!==a){var c=this.parsed.splice(a,3),d=(c.toString().match(/\(/g)||[]).length,e=(c.toString().match(/\)/g)||[]).length;if(d!==e)if(d>e){for(d=a+1;d<this.parsed.length&&!(this.parsed[d]instanceof cO);)d++;this.parsed[d].prepend("(")}else{for(d=a-1;0<=d&&!(this.parsed[d]instanceof cO);)d--;this.parsed[d].append(")")}0<a?c.unshift(this.parsed.splice(a-1,1)[0]):c.unshift(new poc(""));return c}}};
_.fO.prototype.removeLhsExpression=_.fO.prototype.removeLhsExpression;_.fO.prototype.addExpression=_.fO.prototype.addExpression;_.fO.prototype.hasToken=_.fO.prototype.hasToken;_.fO.prototype.toString=_.fO.prototype.toString;_.fO.prototype.parseExpressions=_.fO.prototype.parseExpressions;_.fO.prototype.parseQuoted=_.fO.prototype.parseQuoted;_.fO.prototype.parseTss=_.fO.prototype.parseTss;
var uoc=function(a,b){const c={};c.resource=b.resourceType;c.projectId=b.project||a.projectId;return c},voc=function(a,b){const c={};c.metric=b.metricType;c.projectId=b.project||a.projectId;return c},woc=function(a,b,c,d,e,f,g,h,l,n){let r=c.headers&&c.headers.batchContainer;if(!r){const v=e.newBatch&&e.newBatch();v&&(r={interceptor:function(w){v.add(w)},finishBatch:function(){v.then(()=>{},w=>{console.log("batch errored",w)})}},d.headers=d.headers||{},d.headers.batchContainer=r,c.headers=c.headers||
{},c.headers.batchContainer=r)}r&&(d=e.pathTemplate,e.pathTemplate=f,a.transportRead(e,b,c,l,n,g,h),e.pathTemplate=d)},gO=class{constructor(){this.resourceDescriptors_={};this.resourcePromises_={};this.resourceInFlight_={};this.metricDescriptors_={};this.metricPromises_={};this.metricInFlight_={};this.headersDescriptors_={};this.headersPromises_={};this.headersInFlight_={};this.headersPending_=[];this.requestParamsTemplate_=this.timeSeriesTransport_=null;this.onError_={};this.errorHandlerIdCounter_=
1}getResourceDescriptor(a){return this.resourceDescriptors_[a]||null}getMetricDescriptor(a){return this.metricDescriptors_[a]||null}getHeadersTimeSeriesData(a){return a?this.headersDescriptors_[a]||null:null}getResourceDescriptorPromise(a){let b,c;const d=new Promise((f,g)=>{b=f;c=g}),e=this.resourceDescriptors_[a];e?b(e):(this.resourcePromises_[a]=this.resourcePromises_[a]||[],this.resourcePromises_[a].push({promise:d,resolve:b,reject:c}));return d}getMetricDescriptorPromise(a){let b,c;const d=new Promise((f,
g)=>{b=f;c=g}),e=this.metricDescriptors_[a];e?b(e):(this.metricPromises_[a]=this.metricPromises_[a]||[],this.metricPromises_[a].push({promise:d,resolve:b,reject:c}));return d}getHeadersTimeSeriesDataPromise(a,b,c){if(!c)return null;let d,e;const f=new Promise((n,r)=>{d=n;e=r});var g=this.headersDescriptors_[c];if(g)return d(g),f;this.headersPromises_[c]=this.headersPromises_[c]||[];this.headersPromises_[c].push({promise:f,resolve:d,reject:e});if(this.headersInFlight_[c])return f;if(!this.timeSeriesTransport_||
!this.requestParamsTemplate_)return this.headersPending_.push({project:a,resourceType:b,metricType:c}),f;const h={};g=n=>{const r=this.requestParamsTemplate_[n];r&&(h[n]=r)};h.view="HEADERS";g("interval.startTime");g("interval.endTime");g("aggregation.alignmentPeriod");g("projectId");h["aggregation.crossSeriesReducer"]="REDUCE_NONE";h["aggregation.perSeriesAligner"]="ALIGN_MEAN";let l="";g=(n,r)=>{r&&(l&&(l+=" "),l+=n+'="'+r+'"')};g("project",a);g("resource.type",b);g("metric.type",c);l&&(h.filter=
l);this.headersInFlight_[c]=!0;this.transportRead(this.timeSeriesTransport_,h,{},this.headersInFlight_,c,this.headersDescriptors_,this.headersPromises_);return f}getFilterDescriptor(a){if(!a)return null;var b=g=>{(g=g.toString())&&'"'===g[0]&&1<g.length&&'"'===g[g.length-1]&&(g=g.substring(1),g=g.substring(0,g.length-1));return g};let c,d,e,f=[];try{const g=_.eO(new _.fO(a));for(a=0;g&&a<g.length;){const h=g[a++],l=g[a++],n=g[a++];a++;if(h&&l&&"="===l.toString()&&n)switch(h.toString()){case "metric.type":c=
b(n);break;case "resource.type":d=b(n);break;case "project":e=b(n);break;default:f.push(h+l+n)}}}catch(g){}if(!c&&!d)return null;b={};c&&(b.metricType=c);d&&(b.resourceType=d);e&&(b.project=e);b.filters=f;return b}getFilterString(a){const b=a.filters.slice();a.metricType&&b.unshift('metric.type="'+a.metricType+'"');a.resourceType&&b.unshift('resource.type="'+a.resourceType+'"');a.project&&b.unshift('project="'+a.project+'"');return b.join(" ")}transportRead(a,b,c,d,e,f,g){a.read(b,c).then(h=>{delete d[e];
if(h){let l=h;h.metricDescriptors&&0<h.metricDescriptors.length&&(l=h.metricDescriptors[0]);f[e]=l;(g[e]||[]).forEach(n=>{n.resolve(l)});g&&delete g[e]}}).catch(h=>{this.handleError(h)})}addErrorHandler(a){var b=this.errorHandlerIdCounter_.toString();this.onError_[b]=a;this.errorHandlerIdCounter_++;return b}removeErrorHandler(a){var b=this.onError_[a];delete this.onError_[a];return b}handleError(a){_.IN(this.onError_,function(b){"function"===typeof b&&b(a)})}attachDescriptorRequest(a,b,c,d){d=d||
_.$mc()||"";if(!_.DN.isWhitelisted("chart-subtitles"))return b;!this.timeSeriesTransport_&&c.pathTemplate&&-1!==c.pathTemplate.indexOf("/v3/projects/:projectId/timeSeries")&&a["aggregation.alignmentPeriod"]&&(this.timeSeriesTransport_=c,this.requestParamsTemplate_=a,this.headersPending_.forEach(g=>{this.getHeadersTimeSeriesDataPromise(g.project,g.resourceType,g.metricType)}),this.headersPending_=[]);b=b||{};var e=a.filter;if(!e)return b;e=this.getFilterDescriptor(e);if(!e)return b;var f=e.metricType;
if(f&&!this.metricDescriptors_[f]&&!this.metricInFlight_[f]){const g=voc(a,e),h=_.LN(b);this.metricInFlight_[f]=!0;woc(this,g,h,b,c,d+"/v3/projects/:projectId/metricDescriptors?filter=metric.type%20%3D%20%22::metric%22",this.metricDescriptors_,this.metricPromises_,this.metricInFlight_,f)}!(f=e.resourceType)||this.resourceDescriptors_[f]||this.resourceInFlight_[f]||(a=uoc(a,e),e=_.LN(b),this.resourceInFlight_[f]=!0,woc(this,a,e,b,c,d+"/v3/projects/:projectId/monitoredResourceDescriptors/::resource",
this.resourceDescriptors_,this.resourcePromises_,this.resourceInFlight_,f));return b}finishBatch(a){a&&a.headers&&a.headers.batchContainer&&a.headers.batchContainer.finishBatch&&a.headers.batchContainer.finishBatch()}};gO.prototype.finishBatch=gO.prototype.finishBatch;gO.prototype.attachDescriptorRequest=gO.prototype.attachDescriptorRequest;gO.prototype.removeErrorHandler=gO.prototype.removeErrorHandler;gO.prototype.addErrorHandler=gO.prototype.addErrorHandler;gO.prototype.getFilterString=gO.prototype.getFilterString;
gO.prototype.getFilterDescriptor=gO.prototype.getFilterDescriptor;gO.prototype.getHeadersTimeSeriesDataPromise=gO.prototype.getHeadersTimeSeriesDataPromise;gO.prototype.getMetricDescriptorPromise=gO.prototype.getMetricDescriptorPromise;gO.prototype.getResourceDescriptorPromise=gO.prototype.getResourceDescriptorPromise;gO.prototype.getHeadersTimeSeriesData=gO.prototype.getHeadersTimeSeriesData;gO.prototype.getMetricDescriptor=gO.prototype.getMetricDescriptor;gO.prototype.getResourceDescriptor=gO.prototype.getResourceDescriptor;
_.hO=new gO;_.nh("awesomecharts.utils.Descriptor",_.hO);
var xoc;xoc=/^(?:[+-]){0,1}(\d*)s{0,1}$/;_.yoc=function(a){return a&&(a["secondaryAggregation.alignmentPeriod"]||a["aggregation.alignmentPeriod"])?xoc.exec(a["secondaryAggregation.alignmentPeriod"]||a["aggregation.alignmentPeriod"])[1]:"0"};_.zoc=function(a){return a.startsWith("custom.googleapis.com/")||a.startsWith("external/prometheus/")?"10s":"60s"};_.nh("awesomecharts.utils.AlignmentPeriod.minGranularityForMetric",_.zoc);var Aoc=a=>isNaN(a)||""===a?(a=_.Hnc(a)||null)?a/1E3:a:a;
_.nh("awesomecharts.utils.AlignmentPeriod.granularityToSeconds",Aoc);
_.Boc=function(a,b){!b&&a["aggregation.perSeriesAligner"]&&(b="1m");var c=_.yoc(a),d=0,e=a["secondaryAggregation.perSeriesAligner"];e&&"ALIGN_NONE"!==e&&(d=1);e=null;b&&(e=Aoc(b));c&&(e=Math.max(c,e||0));b="+60s";e&&(b="+"+e.toString()+"s");1===d?(a["secondaryAggregation.alignmentPeriod"]=b,d=null,a&&a.filter&&(c=_.hO.getFilterDescriptor(a.filter))&&c.metricType&&(d=c.metricType),d&&a.useOnlySamplingRateWhenApplicable&&(d=_.zoc(d),a["aggregation.alignmentPeriod"]=d)):a["aggregation.alignmentPeriod"]=
b;a["denominatorAggregation.perSeriesAligner"]&&(a["denominatorAggregation.alignmentPeriod"]=b);return e};_.nh("awesomecharts.utils.AlignmentPeriod.applyThreeMinAlg",_.Boc);
var Coc,Doc,jO,iO;Coc={X:"x",Y:"y",HOVER:"hover",FOCUS:"focus",ACTIVE:"active",SELECTED:"selected",VISIBILITY:"visibility",TITLE:"title",DISABLE_SELECTION:"disable_selection",ON_SELECT_HANDLER:"on_select_handler"};Doc=function(a){a._db={};a._db.x=null;a._db.y=null;a._db.hover=null;a._db.focus=null;a._db.active=null;a._db.title=null;a._db.disable_selection=!1;a._db.selected=new Set;a._db.visibility={}};jO=function(a,b,c){c!==a._db[b]&&(a._db[b]=c,iO(a,b,c))};
iO=function(a,b,c){c=c||a._db[b];a.trigger(`change:${b}`,a._fetchable,c)};
_.kO=class extends _.TK{constructor(a){super();this._fetchable=a||null;Doc(this)}get x(){return this._db.x}set x(a){jO(this,"x",a)}get y(){return this._db.y}set y(a){jO(this,"y",a)}get hover(){return this._db.hover}set hover(a){jO(this,"hover",a)}get focus(){return this._db.focus}set focus(a){jO(this,"focus",a)}get active(){return this._db.active}set active(a){jO(this,"active",a)}get title(){return this._db.title}set title(a){jO(this,"title",a)}get selected(){return new Set(this._db.selected)}set selected(a){if(!this._db.disable_selection){var b=
this._db.selected;for(const c of b)a.has(c)||this.removeSelected(c);for(const c of a)b.has(c)||this.addSelected(c)}}get disableSelection(){return this._db.disable_selection||!1}set disableSelection(a){const b=a&&!this._db.disable_selection;this._db.disable_selection=a;b&&this.clearSelected()}get onSelectHandler(){return this._db.on_select_handler||null}set onSelectHandler(a){this._db.on_select_handler=a}isSelected(a){return this._db.selected.has(a)}addSelected(a){this._db.disable_selection||this.isSelected(a)||
(this._db.selected.add(a),iO(this,"selected",this.selected))}removeSelected(a){this.isSelected(a)&&(this._db.selected.delete(a),iO(this,"selected",this.selected))}clearSelected(){const a=0<this._db.selected.size;this._db.selected.clear();a&&iO(this,"selected",this.selected)}toggleSelected(a){if(this.isSelected(a))return this.removeSelected(a),!1;this.addSelected(a);return!0}isVisible(a){return"visible"===this.getVisibility(a)}getVisibility(a){return this._db.visibility[a]||"visible"}setVisible(a,
b){b=!1===b?"hidden":"visible";let c=this.getVisibility(a);this._db.visibility[a]=b;"hidden"===b&&this.removeSelected(a);c!==b&&iO(this,"visibility")}queryState(a,b){b=b||Object.values(Coc);let c={};for(const d of b)b=this._db[d],"visibility"===d?c[d]=this.getVisibility(a):b instanceof Set?b.has(a)&&(c[d]=!0):b===a&&(c[d]=!0);return c}clearStates(){Doc(this);for(const a in Coc)iO(this,Coc[a])}};_.kO.prototype.queryState=_.kO.prototype.queryState;_.kO.prototype.setVisible=_.kO.prototype.setVisible;
_.kO.prototype.getVisibility=_.kO.prototype.getVisibility;_.kO.prototype.toggleSelected=_.kO.prototype.toggleSelected;_.kO.prototype.clearSelected=_.kO.prototype.clearSelected;_.kO.prototype.removeSelected=_.kO.prototype.removeSelected;_.kO.prototype.addSelected=_.kO.prototype.addSelected;_.kO.prototype.isSelected=_.kO.prototype.isSelected;
_.lO=class{constructor(a,b){this.transport=a;this.translate=b;this.defaultNamingFn_=this._namingFn=null;this.alignmentPeriod_=6E4;this.invalidateTimeout=this._onDataChange=this.warningHandler_=this.streamLimitFunction_=null}setAlignmentPeriod(a){this.alignmentPeriod_=a}setDefaultNamingFunction(a){this.defaultNamingFn_=a}setNamingFunction(a){this._namingFn=a}applyNamingFunction_(a){const b=this.defaultNamingFn_,c=this._namingFn;c?_.IN(a,function(d){c&&(d.name=c(d,b),d.hasCustomNamingFcn=!0)}):b&&_.IN(a,
function(d){b&&(d.name=b(d),d.hasCustomNamingFcn=!1)})}setStreamLimitFunction(a){this.streamLimitFunction_=a}setWarningHandler(a){this.warningHandler_=a}onDataChange(a){if(0===arguments.length)return this._onDataChange;this._onDataChange=a||null;return this}dataChanged(a,b){"function"===typeof this._onDataChange&&this._onDataChange(a,b)}cleanup(){this.invalidateTimeout&&window.clearInterval(this.invalidateTimeout);this.transport&&this.transport.cleanup&&this.transport.cleanup()}};
_.lO.prototype.setWarningHandler=_.lO.prototype.setWarningHandler;_.lO.prototype.setStreamLimitFunction=_.lO.prototype.setStreamLimitFunction;_.lO.prototype.setNamingFunction=_.lO.prototype.setNamingFunction;_.lO.prototype.setAlignmentPeriod=_.lO.prototype.setAlignmentPeriod;
var Eoc,Foc,Goc;Eoc=0;Foc=[{cutoff:432E8,granularity:"2d"},{cutoff:3024E7,granularity:"1d"},{cutoff:15552E6,granularity:"12h"},{cutoff:6912E6,granularity:"6h"},{cutoff:19872E5,granularity:"3h"},{cutoff:5184E5,granularity:"1h"},{cutoff:828E5,granularity:"5m"},{cutoff:66E5,granularity:"1m"},{cutoff:0,granularity:"10s"}];
Goc=[{cutoff:432E8,granularity:"2d"},{cutoff:3024E7,granularity:"1d"},{cutoff:15552E6,granularity:"12h"},{cutoff:6912E6,granularity:"6h"},{cutoff:19872E5,granularity:"3h"},{cutoff:5184E5,granularity:"1h"},{cutoff:828E5,granularity:"5m"},{cutoff:0,granularity:"1m"}];
_.Hoc=[{cutoff:432E8,granularity:"56d"},{cutoff:3024E7,granularity:"28d"},{cutoff:15552E6,granularity:"14d"},{cutoff:6912E6,granularity:"7d"},{cutoff:19872E5,granularity:"2d"},{cutoff:5184E5,granularity:"1d"},{cutoff:828E5,granularity:"2h"},{cutoff:18E6,granularity:"30m"},{cutoff:12E5,granularity:"5m"},{cutoff:0,granularity:"1m"}];
_.mO=function(a){var b=this;this._state=new _.kO(this);if(!(this instanceof _.mO))return new _.mO(a);if("undefined"===typeof a)throw Error("xi");this.timeshiftoffset_=null;this.serverPagingEnabled_=!0;this._timeMargin=300;this.cacheChangeHandler_=function(c,d){_.IN(b._onDataChange,function(e){"function"===typeof e&&e(c,d)})};a instanceof _.lO?(this._caches={null:a},this.attachCache(a,null)):(this._caches=a,_.IN(a,function(c,d){this.attachCache(c,d)}.bind(this)));this._onDataFetch={};this._onDataFetchComplete=
{};this._onDataChange={};this._onError={};this._onWarning={};this.__id=Eoc.toString();this._errorHandlerIdCounter=this._dataChangeHandlerIdCounter=this._dataFetchCompleteHandlerIdCounter=this._dataFetchHandlerIdCounter=1;this._lastFetchedGranularity=this._lastFetchedDomain=null;this._warningHandlerIdCounter=1;this._fineGranularity=_.DN.isWhitelisted("chart-two-year-retention")?Foc:Goc;this.granularityCutoffs_=this._fineGranularity.sort((c,d)=>d.cutoff-c.cutoff);this.minGranularity_=this.maxGranularity_=
null;this.forceAlignment_=!0;this.independentOutputPeriod_=!1;this.maxDataPointsPerSeriesAtLastFetch_=null;this.flags_={};Eoc++;Eoc===Number.MAX_VALUE&&(Eoc=0)};_.nh("awesomecharts.datalayer.BaseDataLayer",_.mO);_.mO.TimeBoundries={SIX_DAYS:5184E5,TWENTY_THREE_HOURS:828E5,FIVE_HOURS:18E6};_.mO.FINE_GRANULARITY_10_SECOND=Foc;_.mO.FINE_GRANULARITY_1_MINUTE=Goc;_.mO.COARSE_GRANULARITY=_.Hoc;_.mO.prototype.preSeed=function(a,b,c){_.IN(this._caches,function(d){d.preSeed(a,b,c)})};
_.mO.prototype.setTimeshiftOffset=function(a){0<a&&(a=0);_.IN(this._caches,function(b){b.setTimeshiftOffset(a)});this.timeshiftoffset_=a};_.mO.prototype.getTimeshiftOffset=function(){return this.timeshiftoffset_||0};_.mO.prototype.setServerPagingEnabled=function(a){this.serverPagingEnabled_=a};_.mO.prototype.setServerPagingEnabled=_.mO.prototype.setServerPagingEnabled;_.aa=_.mO.prototype;_.aa.setStreamName=function(a){_.IN(this._caches,function(b){b.setNamingFunction(function(){return a})})};
_.aa.setNamingFunction=function(a){_.IN(this._caches,function(b){b.setNamingFunction(a)})};_.aa.setGranularityCutoffs=function(a){if(!Array.isArray(a))switch(a){case "coarse":a=_.Hoc;break;case "fine":a=this._fineGranularity;break;default:a=this._fineGranularity}this.granularityCutoffs_=a.sort((b,c)=>c.cutoff-b.cutoff);_.IN(this.granularityCutoffs_,b=>{if(!this._caches[b.granularity]){const c=this.buildCache();this.attachCache(c,b.granularity)}})};
_.aa.cacheKeyForGranularity=function(a){return a||""};_.aa.attachCache=function(a,b){const c=1E3*(this.granularityToSeconds(b)||60);this._caches[this.cacheKeyForGranularity(b)]=a;a.setAlignmentPeriod(c);a.onDataChange(this.cacheChangeHandler_);a.setStreamLimitFunction(()=>this.getStreamLimit());a.setWarningHandler(()=>this.handleWarning())};_.aa.buildCache=()=>{throw Error("yi");};_.aa.setupCacheChangeHandler=function(a){_.IN(this._caches,function(b){b.onDataChange(a)})};
_.mO.prototype.setupCacheChangeHandler=_.mO.prototype.setupCacheChangeHandler;_.mO.prototype.id=function(){return this.__id};_.mO.prototype.id=_.mO.prototype.id;_.mO.prototype.fetch=function(){throw Error("yi");};_.mO.prototype.fetch=_.mO.prototype.fetch;_.mO.prototype.requestFetch=function(a,b,c,d,e){if(!d&&this._lastFetchedDomain&&_.TN(this._lastFetchedDomain,a))return null;this._lastFetchedDomain=a;e||(e=this.getCache(""));return e.fetch(a,b,c)};
_.mO.prototype.isLastFetched=function(a,b,c){if(this._lastFetchedDomain&&_.TN(this._lastFetchedDomain,a)&&this._lastFetchedTimeshiftOffset===b&&(!this._lastFetchedGranularity||this._lastFetchedGranularity&&this._lastFetchedGranularity===c))return!0;this._lastFetchedDomain=a;this._lastFetchedTimeshiftOffset=b;this._lastFetchedGranularity=c;return!1};_.mO.prototype.fetchTileForCache=function(a,b,c,d,e){d||(d=this.getCache(""));return d.preFetch?d.preFetch(a,b,c,e):d.fetch(a,b,c,e)};
_.mO.prototype.getData=function(){throw Error("yi");};_.mO.prototype.getData=_.mO.prototype.getData;_.mO.prototype.getDataArray=function(a,b){return[this.getData(a,b)]};_.mO.prototype.getDataArray=_.mO.prototype.getDataArray;_.mO.prototype.hasData=function(a){return this.getCache(a||null).hasData()};_.mO.prototype.getState=function(){return this._state};_.mO.prototype.getState=_.mO.prototype.getState;_.mO.prototype.clearStates=function(){this._state.clearStates()};_.mO.prototype.clearStates=_.mO.prototype.clearStates;
_.mO.prototype.requestGetData=function(a,b){a=a||this._lastFetchedDomain;b||(b=this.getCache(a));return b.getData(a)};_.mO.prototype.dataSeries=function(){throw Error("Cb");};_.mO.prototype.dataSeries=_.mO.prototype.dataSeries;_.mO.prototype.handleDataFetch=function(){_.IN(this._onDataFetch,function(a){"function"===typeof a&&a()})};_.mO.prototype.handleDataFetch=_.mO.prototype.handleDataFetch;
_.mO.prototype.addDataFetchHandler=function(a){var b=this._dataFetchHandlerIdCounter.toString();this._onDataFetch[b]=a;this._dataFetchHandlerIdCounter++;return b};_.mO.prototype.addDataFetchHandler=_.mO.prototype.addDataFetchHandler;_.mO.prototype.removeDataFetchHandler=function(a){var b=this._onDataFetch[a];delete this._onDataFetch[a];return b};_.mO.prototype.removeDataFetchHandler=_.mO.prototype.removeDataFetchHandler;
_.mO.prototype.handleDataFetchComplete=function(){_.IN(this._onDataFetchComplete,function(a){"function"===typeof a&&a()})};_.mO.prototype.handleDataFetchComplete=_.mO.prototype.handleDataFetchComplete;_.mO.prototype.addDataFetchCompleteHandler=function(a){var b=this._dataFetchCompleteHandlerIdCounter.toString();this._onDataFetchComplete[b]=a;this._dataFetchCompleteHandlerIdCounter++;return b};_.mO.prototype.addDataFetchCompleteHandler=_.mO.prototype.addDataFetchCompleteHandler;
_.mO.prototype.removeDataFetchCompleteHandler=function(a){var b=this._onDataFetchComplete[a];delete this._onDataFetchComplete[a];return b};_.mO.prototype.removeDataFetchCompleteHandler=_.mO.prototype.removeDataFetchCompleteHandler;_.mO.prototype.addDataChangeHandler=function(a){var b=this._dataChangeHandlerIdCounter.toString();this._onDataChange[b]=a;this._dataChangeHandlerIdCounter++;return b};_.mO.prototype.addDataChangeHandler=_.mO.prototype.addDataChangeHandler;
_.mO.prototype.getDataChangeHandlers=function(){return this._onDataChange};_.mO.prototype.getDataChangeHandlers=_.mO.prototype.getDataChangeHandlers;_.mO.prototype.setDataChangeHandlers=function(a){this._onDataChange=a;a=Math.max(...Object.keys(a))+1;this._dataChangeHandlerIdCounter=isFinite(a)?a:0};_.mO.prototype.setDataChangeHandlers=_.mO.prototype.setDataChangeHandlers;_.mO.prototype.removeDataChangeHandler=function(a){var b=this._onDataChange[a];delete this._onDataChange[a];return b};
_.mO.prototype.removeDataChangeHandler=_.mO.prototype.removeDataChangeHandler;_.mO.prototype.addWarningHandler=function(a){var b=this._warningHandlerIdCounter.toString();this._onWarning[b]=a;this._warningHandlerIdCounter++;return b};_.mO.prototype.addWarningHandler=_.mO.prototype.addWarningHandler;_.mO.prototype.getWarningHandlers=function(){return this._onWarning};_.mO.prototype.getWarningHandlers=_.mO.prototype.getWarningHandlers;
_.mO.prototype.setWarningHandlers=function(a){this._onWarning=a;a=Math.max(...Object.keys(a))+1;this._warningHandlerIdCounter=isFinite(a)?a:0};_.mO.prototype.setWarningHandlers=_.mO.prototype.setWarningHandlers;_.mO.prototype.getStreamLimit=function(){if(this.serverPagingEnabled_)return null;var a=_.BN(_.DN);if(_.CN(_.DN,"chart-server-stream-limit"))return null;a=a.filter(c=>0===c.indexOf("chart-stream-limit-"));const b=a.map(c=>+c.substring(19));b.sort((c,d)=>c-d);return a&&a.length?b[0]:null};
_.mO.prototype.getStreamLimit=_.mO.prototype.getStreamLimit;_.mO.prototype.handleWarning=function(){_.IN(this._onWarning,function(a){"function"===typeof a&&a()})};_.mO.prototype.handleWarning=_.mO.prototype.handleWarning;_.mO.prototype.removeWarningHandler=function(a){var b=this._onWarning[a];delete this._onWarning[a];return b};_.mO.prototype.removeWarningHandler=_.mO.prototype.removeWarningHandler;
_.mO.prototype.handleError=function(a){a=this.processError(a);_.IN(this._onError,function(b){"function"===typeof b&&b(a)})};_.mO.prototype.handleError=_.mO.prototype.handleError;_.mO.prototype.addErrorHandler=function(a){var b=this._errorHandlerIdCounter.toString();this._onError[b]=a;this._errorHandlerIdCounter++;return b};_.mO.prototype.addErrorHandler=_.mO.prototype.addErrorHandler;_.mO.prototype.removeErrorHandler=function(a){var b=this._onError[a];delete this._onError[a];return b};
_.mO.prototype.removeErrorHandler=_.mO.prototype.removeErrorHandler;_.mO.prototype.processError=function(a){a.details&&a.details.domain&&a.addDetails({transient:this.hasData(a.details.domain)});return a};_.mO.prototype.setManager=function(a){this._manager=a};_.mO.prototype.setManager=_.mO.prototype.setManager;_.mO.prototype.hasWaiters=function(){return this._manager&&this._manager.hasWaiters()};_.mO.prototype.hasWaiters=_.mO.prototype.hasWaiters;
_.mO.prototype.timeMargin=function(a){if(0===arguments.length)return this._timeMargin;this._timeMargin=a;return this};_.mO.prototype.timeMargin=_.mO.prototype.timeMargin;_.mO.prototype.getTransport=function(a){return(a=this.getCache(a||""))&&a.transport};_.mO.prototype.getTransport=_.mO.prototype.getTransport;_.mO.prototype.getCache=function(a,b){a="string"==typeof a?a:this.granularityForDomain(a,b);return this._caches[a||""]};_.mO.prototype.getCache=_.mO.prototype.getCache;
_.mO.prototype.cleanup=function(){this.cleanupCalled_=!0;_.IN(this._caches,function(a){a&&a.cleanup()});this.cleanupChildren&&this.cleanupChildren()};_.mO.prototype.cleanup=_.mO.prototype.cleanup;_.mO.prototype.resetCleanupFlag=function(){this.cleanupCalled_=!1;this.resetCleanupFlagForChildren&&this.resetCleanupFlagForChildren()};_.mO.prototype.resetCleanupFlag=_.mO.prototype.resetCleanupFlag;_.mO.prototype.setMaxGranularity=function(a){this.maxGranularity_=a};_.mO.prototype.setMaxGranularity=_.mO.prototype.setMaxGranularity;
_.mO.prototype.maxGranularity=function(){return this.maxGranularity_};_.mO.prototype.maxGranularity=_.mO.prototype.maxGranularity;_.mO.prototype.setMinGranularity=function(a){this.minGranularity_=a};_.mO.prototype.setMinGranularity=_.mO.prototype.setMinGranularity;_.mO.prototype.getMinGranularity=function(){return this.minGranularity_};_.mO.prototype.getMinGranularity=_.mO.prototype.getMinGranularity;
_.mO.prototype.granularityForDomain=function(a,b){var c=null;if(!a||2!==a.length)return c;a=a[1]-a[0];for(let d of this.granularityCutoffs_)if(a>d.cutoff){c=d.granularity;break}b&&(c=this.getMaxGranularity(c,b));(b=this.maxGranularity())&&(c=this.calculateMinGranularity(c,b));this.getForceAlignment()&&!c&&(c="1m");return c};_.mO.prototype.granularityForDomain=_.mO.prototype.granularityForDomain;var Ioc=a=>Aoc(a);_.mO.granularityToSeconds=Ioc;_.mO.prototype.granularityToSeconds=Ioc;
_.mO.prototype.granularityToSeconds=_.mO.prototype.granularityToSeconds;_.mO.prototype.getMaxGranularity=function(a,b){var c=this.granularityToSeconds(a),d=this.granularityToSeconds(b);return c>d?a:b};_.mO.prototype.getMaxGranularity=_.mO.prototype.getMaxGranularity;_.mO.prototype.calculateMinGranularity=function(a,b){var c=this.granularityToSeconds(a),d=this.granularityToSeconds(b);return c<d?a:b};_.mO.prototype.calculateMinGranularity=_.mO.prototype.calculateMinGranularity;
_.mO.prototype.getAlignmentPeriod=function(){return null};_.mO.prototype.getAlignmentPeriod=_.mO.prototype.getAlignmentPeriod;_.mO.prototype.gapThreshold=function(){if(this.dontDrawGaps())return Infinity;const a=this.getAlignmentPeriod()||0;var b=this.getLastFetchedDomain();b=this.granularityToSeconds(this.granularityForDomain(b));return 2E3*Math.max(a,b,300)};_.mO.prototype.gapThreshold=_.mO.prototype.gapThreshold;_.mO.prototype.getLastFetchedDomain=function(){return this._lastFetchedDomain};
_.mO.prototype.getLastFetchedDomain=_.mO.prototype.getLastFetchedDomain;_.mO.prototype.setForceAlignment=function(a){this.forceAlignment_=a};_.mO.prototype.setForceAlignment=_.mO.prototype.setForceAlignment;_.mO.prototype.getForceAlignment=function(){return this.forceAlignment_};_.mO.prototype.getForceAlignment=_.mO.prototype.getForceAlignment;_.mO.prototype.getIsLoadingInterval=function(){return[]};_.mO.prototype.getIsLoadingInterval=_.mO.prototype.getIsLoadingInterval;_.mO.prototype.isCapped=function(){return!1};
_.mO.prototype.isCapped=_.mO.prototype.isCapped;_.mO.prototype.dontDrawGaps=function(){return this.forceInterpolation_};_.mO.prototype.setForceInterpolation=function(a){this.forceInterpolation_=a};_.mO.prototype.setForceInterpolation=_.mO.prototype.setForceInterpolation;_.mO.prototype.getStrategyWhitelists=function(){return[]};_.mO.prototype.getStrategyWhitelists=_.mO.prototype.getStrategyWhitelists;_.mO.prototype.setSuppressHighlighting=function(a){this.suppressHighlighting_=a};
_.mO.prototype.setSuppressHighlighting=_.mO.prototype.setSuppressHighlighting;_.mO.prototype.setIndependentOutputPeriod=function(a){this.independentOutputPeriod_=a};_.mO.prototype.setIndependentOutputPeriod=_.mO.prototype.setIndependentOutputPeriod;
var nO,oO,Joc,Koc,Loc,sO,Moc,Noc,Ooc,Poc,Qoc,Roc,tO,uO,vO,Xoc,apc,Uoc,Voc,Soc,Woc,Toc,bpc,Yoc,dpc,cpc;
nO={REDUCE_COUNT:"REDUCE_COUNT",REDUCE_COUNT_FALSE:"REDUCE_COUNT_FALSE",REDUCE_COUNT_TRUE:"REDUCE_COUNT_TRUE",REDUCE_FRACTION_LESS_THAN:"REDUCE_FRACTION_LESS_THAN",REDUCE_FRACTION_TRUE:"REDUCE_FRACTION_TRUE",REDUCE_MAKE_DISTRIBUTION:"REDUCE_MAKE_DISTRIBUTION",REDUCE_MAX:"REDUCE_MAX",REDUCE_MEAN:"REDUCE_MEAN",REDUCE_MIN:"REDUCE_MIN",REDUCE_NONE:"REDUCE_NONE",REDUCE_PERCENTILE_05:"REDUCE_PERCENTILE_05",REDUCE_PERCENTILE_50:"REDUCE_PERCENTILE_50",REDUCE_PERCENTILE_95:"REDUCE_PERCENTILE_95",REDUCE_PERCENTILE_99:"REDUCE_PERCENTILE_99",
REDUCE_STDDEV:"REDUCE_STDDEV",REDUCE_SUM:"REDUCE_SUM",values(){return[nO.REDUCE_NONE,nO.REDUCE_MEAN,nO.REDUCE_MIN,nO.REDUCE_MAX,nO.REDUCE_SUM,nO.REDUCE_STDDEV,nO.REDUCE_COUNT,nO.REDUCE_COUNT_TRUE,nO.REDUCE_COUNT_FALSE,nO.REDUCE_FRACTION_TRUE,nO.REDUCE_PERCENTILE_99,nO.REDUCE_PERCENTILE_95,nO.REDUCE_PERCENTILE_50,nO.REDUCE_PERCENTILE_05,nO.REDUCE_FRACTION_LESS_THAN,nO.REDUCE_MAKE_DISTRIBUTION]}};
oO={ALIGN_COUNT:"ALIGN_COUNT",ALIGN_COUNT_FALSE:"ALIGN_COUNT_FALSE",ALIGN_COUNT_TRUE:"ALIGN_COUNT_TRUE",ALIGN_DELTA:"ALIGN_DELTA",ALIGN_FRACTION_TRUE:"ALIGN_FRACTION_TRUE",ALIGN_INTERPOLATE:"ALIGN_INTERPOLATE",ALIGN_MAKE_DISTRIBUTION:"ALIGN_MAKE_DISTRIBUTION",ALIGN_MAX:"ALIGN_MAX",ALIGN_MEAN:"ALIGN_MEAN",ALIGN_MIN:"ALIGN_MIN",ALIGN_NEXT_OLDER:"ALIGN_NEXT_OLDER",ALIGN_NONE:"ALIGN_NONE",ALIGN_PERCENTILE_05:"ALIGN_PERCENTILE_05",ALIGN_PERCENTILE_50:"ALIGN_PERCENTILE_50",ALIGN_PERCENTILE_95:"ALIGN_PERCENTILE_95",
ALIGN_PERCENTILE_99:"ALIGN_PERCENTILE_99",ALIGN_PERCENT_CHANGE:"ALIGN_PERCENT_CHANGE",ALIGN_RATE:"ALIGN_RATE",ALIGN_STDDEV:"ALIGN_STDDEV",ALIGN_SUM:"ALIGN_SUM",values(){return[oO.ALIGN_NONE,oO.ALIGN_DELTA,oO.ALIGN_RATE,oO.ALIGN_INTERPOLATE,oO.ALIGN_NEXT_OLDER,oO.ALIGN_MIN,oO.ALIGN_MAX,oO.ALIGN_MEAN,oO.ALIGN_COUNT,oO.ALIGN_SUM,oO.ALIGN_STDDEV,oO.ALIGN_COUNT_TRUE,oO.ALIGN_COUNT_FALSE,oO.ALIGN_FRACTION_TRUE,oO.ALIGN_PERCENTILE_99,oO.ALIGN_PERCENTILE_95,oO.ALIGN_PERCENTILE_50,oO.ALIGN_PERCENTILE_05,oO.ALIGN_MAKE_DISTRIBUTION,
oO.ALIGN_PERCENT_CHANGE]}};_.pO={LINEAR:"LINEAR",LOG10:"LOG10",values(){return[_.pO.LINEAR,_.pO.LOG10]}};_.qO={COLOR:"COLOR",STATS:"STATS",X_RAY:"X_RAY",values(){return[_.qO.COLOR,_.qO.X_RAY,_.qO.STATS]}};Joc={Y1:"Y1",Y2:"Y2",values(){return[Joc.Y1,Joc.Y2]}};_.rO={HEATMAP:"HEATMAP",LINE:"LINE",STACKED_AREA:"STACKED_AREA",STACKED_BAR:"STACKED_BAR",values(){return[_.rO.LINE,_.rO.STACKED_AREA,_.rO.STACKED_BAR,_.rO.HEATMAP]}};Koc={Y1:"Y1",Y2:"Y2",values(){return[Koc.Y1,Koc.Y2]}};
Loc={BOTTOM:"BOTTOM",DIRECTION_UNSPECIFIED:"DIRECTION_UNSPECIFIED",TOP:"TOP",values(){return[Loc.DIRECTION_UNSPECIFIED,Loc.TOP,Loc.BOTTOM]}};sO={METHOD_LATEST:"METHOD_LATEST",METHOD_MAX:"METHOD_MAX",METHOD_MEAN:"METHOD_MEAN",METHOD_MIN:"METHOD_MIN",METHOD_SUM:"METHOD_SUM",METHOD_UNSPECIFIED:"METHOD_UNSPECIFIED",values(){return[sO.METHOD_UNSPECIFIED,sO.METHOD_MEAN,sO.METHOD_MAX,sO.METHOD_MIN,sO.METHOD_SUM,sO.METHOD_LATEST]}};
Moc={ASCENDING:"ASCENDING",DESCENDING:"DESCENDING",DIRECTION_UNSPECIFIED:"DIRECTION_UNSPECIFIED",values(){return[Moc.DIRECTION_UNSPECIFIED,Moc.ASCENDING,Moc.DESCENDING]}};Noc={METHOD_CLUSTER_OUTLIER:"METHOD_CLUSTER_OUTLIER",METHOD_UNSPECIFIED:"METHOD_UNSPECIFIED",values(){return[Noc.METHOD_UNSPECIFIED,Noc.METHOD_CLUSTER_OUTLIER]}};Ooc={CATEGORY_UNSPECIFIED:"CATEGORY_UNSPECIFIED",DANGER:"DANGER",WARNING:"WARNING",values(){return[Ooc.CATEGORY_UNSPECIFIED,Ooc.WARNING,Ooc.DANGER]}};
Poc={TARGET_AXIS_UNSPECIFIED:"TARGET_AXIS_UNSPECIFIED",Y1:"Y1",Y2:"Y2",values(){return[Poc.TARGET_AXIS_UNSPECIFIED,Poc.Y1,Poc.Y2]}};Qoc={ABOVE:"ABOVE",BELOW:"BELOW",TRIGGER_DIRECTION_UNSPECIFIED:"TRIGGER_DIRECTION_UNSPECIFIED",values(){return[Qoc.TRIGGER_DIRECTION_UNSPECIFIED,Qoc.ABOVE,Qoc.BELOW]}};Roc={AUTO:"AUTO",DEFAULT_CLOUD:"DEFAULT_CLOUD",values(){return[Roc.DEFAULT_CLOUD,Roc.AUTO]}};
tO={REDUCE_COUNT:"REDUCE_COUNT",REDUCE_COUNT_FALSE:"REDUCE_COUNT_FALSE",REDUCE_COUNT_TRUE:"REDUCE_COUNT_TRUE",REDUCE_FRACTION_LESS_THAN:"REDUCE_FRACTION_LESS_THAN",REDUCE_FRACTION_TRUE:"REDUCE_FRACTION_TRUE",REDUCE_MAKE_DISTRIBUTION:"REDUCE_MAKE_DISTRIBUTION",REDUCE_MAX:"REDUCE_MAX",REDUCE_MEAN:"REDUCE_MEAN",REDUCE_MIN:"REDUCE_MIN",REDUCE_NONE:"REDUCE_NONE",REDUCE_PERCENTILE_05:"REDUCE_PERCENTILE_05",REDUCE_PERCENTILE_50:"REDUCE_PERCENTILE_50",REDUCE_PERCENTILE_95:"REDUCE_PERCENTILE_95",REDUCE_PERCENTILE_99:"REDUCE_PERCENTILE_99",
REDUCE_STDDEV:"REDUCE_STDDEV",REDUCE_SUM:"REDUCE_SUM",values(){return[tO.REDUCE_NONE,tO.REDUCE_MEAN,tO.REDUCE_MIN,tO.REDUCE_MAX,tO.REDUCE_SUM,tO.REDUCE_STDDEV,tO.REDUCE_COUNT,tO.REDUCE_COUNT_TRUE,tO.REDUCE_COUNT_FALSE,tO.REDUCE_FRACTION_TRUE,tO.REDUCE_PERCENTILE_99,tO.REDUCE_PERCENTILE_95,tO.REDUCE_PERCENTILE_50,tO.REDUCE_PERCENTILE_05,tO.REDUCE_FRACTION_LESS_THAN,tO.REDUCE_MAKE_DISTRIBUTION]}};
uO={ALIGN_COUNT:"ALIGN_COUNT",ALIGN_COUNT_FALSE:"ALIGN_COUNT_FALSE",ALIGN_COUNT_TRUE:"ALIGN_COUNT_TRUE",ALIGN_DELTA:"ALIGN_DELTA",ALIGN_FRACTION_TRUE:"ALIGN_FRACTION_TRUE",ALIGN_INTERPOLATE:"ALIGN_INTERPOLATE",ALIGN_MAKE_DISTRIBUTION:"ALIGN_MAKE_DISTRIBUTION",ALIGN_MAX:"ALIGN_MAX",ALIGN_MEAN:"ALIGN_MEAN",ALIGN_MIN:"ALIGN_MIN",ALIGN_NEXT_OLDER:"ALIGN_NEXT_OLDER",ALIGN_NONE:"ALIGN_NONE",ALIGN_PERCENTILE_05:"ALIGN_PERCENTILE_05",ALIGN_PERCENTILE_50:"ALIGN_PERCENTILE_50",ALIGN_PERCENTILE_95:"ALIGN_PERCENTILE_95",
ALIGN_PERCENTILE_99:"ALIGN_PERCENTILE_99",ALIGN_PERCENT_CHANGE:"ALIGN_PERCENT_CHANGE",ALIGN_RATE:"ALIGN_RATE",ALIGN_STDDEV:"ALIGN_STDDEV",ALIGN_SUM:"ALIGN_SUM",values(){return[uO.ALIGN_NONE,uO.ALIGN_DELTA,uO.ALIGN_RATE,uO.ALIGN_INTERPOLATE,uO.ALIGN_NEXT_OLDER,uO.ALIGN_MIN,uO.ALIGN_MAX,uO.ALIGN_MEAN,uO.ALIGN_COUNT,uO.ALIGN_SUM,uO.ALIGN_STDDEV,uO.ALIGN_COUNT_TRUE,uO.ALIGN_COUNT_FALSE,uO.ALIGN_FRACTION_TRUE,uO.ALIGN_PERCENTILE_99,uO.ALIGN_PERCENTILE_95,uO.ALIGN_PERCENTILE_50,uO.ALIGN_PERCENTILE_05,uO.ALIGN_MAKE_DISTRIBUTION,
uO.ALIGN_PERCENT_CHANGE]}};
vO={REDUCE_COUNT:"REDUCE_COUNT",REDUCE_COUNT_FALSE:"REDUCE_COUNT_FALSE",REDUCE_COUNT_TRUE:"REDUCE_COUNT_TRUE",REDUCE_FRACTION_LESS_THAN:"REDUCE_FRACTION_LESS_THAN",REDUCE_FRACTION_TRUE:"REDUCE_FRACTION_TRUE",REDUCE_MAKE_DISTRIBUTION:"REDUCE_MAKE_DISTRIBUTION",REDUCE_MAX:"REDUCE_MAX",REDUCE_MEAN:"REDUCE_MEAN",REDUCE_MIN:"REDUCE_MIN",REDUCE_NONE:"REDUCE_NONE",REDUCE_PERCENTILE_05:"REDUCE_PERCENTILE_05",REDUCE_PERCENTILE_50:"REDUCE_PERCENTILE_50",REDUCE_PERCENTILE_95:"REDUCE_PERCENTILE_95",REDUCE_PERCENTILE_99:"REDUCE_PERCENTILE_99",
REDUCE_STDDEV:"REDUCE_STDDEV",REDUCE_SUM:"REDUCE_SUM",values(){return[vO.REDUCE_NONE,vO.REDUCE_MEAN,vO.REDUCE_MIN,vO.REDUCE_MAX,vO.REDUCE_SUM,vO.REDUCE_STDDEV,vO.REDUCE_COUNT,vO.REDUCE_COUNT_TRUE,vO.REDUCE_COUNT_FALSE,vO.REDUCE_FRACTION_TRUE,vO.REDUCE_PERCENTILE_99,vO.REDUCE_PERCENTILE_95,vO.REDUCE_PERCENTILE_50,vO.REDUCE_PERCENTILE_05,vO.REDUCE_FRACTION_LESS_THAN,vO.REDUCE_MAKE_DISTRIBUTION]}};
_.wO=class extends _.ci{constructor(a={}){super();this.Serializable$values.alignmentPeriod=null==a.alignmentPeriod?null:a.alignmentPeriod;this.Serializable$values.perSeriesAligner=null==a.perSeriesAligner?null:a.perSeriesAligner;this.Serializable$values.crossSeriesReducer=null==a.crossSeriesReducer?null:a.crossSeriesReducer;this.Serializable$values.groupByFields=null==a.groupByFields?null:a.groupByFields;this.Serializable$values.reduceFractionLessThanParams=null==a.reduceFractionLessThanParams?null:
a.reduceFractionLessThanParams;this.Serializable$values.reduceMakeDistributionParams=null==a.reduceMakeDistributionParams?null:a.reduceMakeDistributionParams}get alignmentPeriod(){return _.gr(this,"alignmentPeriod")?_.V(this,"alignmentPeriod"):""}set alignmentPeriod(a){this.Serializable$values.alignmentPeriod=a}get crossSeriesReducer(){return _.gr(this,"crossSeriesReducer")?_.V(this,"crossSeriesReducer"):"REDUCE_NONE"}set crossSeriesReducer(a){this.Serializable$values.crossSeriesReducer=a}get hasGroupByFields(){return null!==
_.V(this,"groupByFields")}get groupByFields(){return _.gr(this,"groupByFields")?_.V(this,"groupByFields"):this.groupByFields=[]}set groupByFields(a){this.Serializable$values.groupByFields=a}get perSeriesAligner(){return _.gr(this,"perSeriesAligner")?_.V(this,"perSeriesAligner"):"ALIGN_NONE"}set perSeriesAligner(a){this.Serializable$values.perSeriesAligner=a}get hasReduceFractionLessThanParams(){return null!==_.V(this,"reduceFractionLessThanParams")}get reduceFractionLessThanParams(){return _.gr(this,
"reduceFractionLessThanParams")?_.V(this,"reduceFractionLessThanParams"):this.reduceFractionLessThanParams=new Soc}set reduceFractionLessThanParams(a){this.Serializable$values.reduceFractionLessThanParams=a}get hasReduceMakeDistributionParams(){return null!==_.V(this,"reduceMakeDistributionParams")}get reduceMakeDistributionParams(){return _.gr(this,"reduceMakeDistributionParams")?_.V(this,"reduceMakeDistributionParams"):this.reduceMakeDistributionParams=new Toc}set reduceMakeDistributionParams(a){this.Serializable$values.reduceMakeDistributionParams=
a}getConstructor(){return _.wO}getPartialClassMetadata(){return{enums:{crossSeriesReducer:nO,perSeriesAligner:oO},keys:"alignmentPeriod crossSeriesReducer groupByFields perSeriesAligner reduceFractionLessThanParams reduceMakeDistributionParams".split(" "),objects:{reduceFractionLessThanParams:Soc,reduceMakeDistributionParams:Toc}}}};
_.xO=class extends _.ci{constructor(a={}){super();this.Serializable$values.label=null==a.label?null:a.label;this.Serializable$values.scale=null==a.scale?null:a.scale}static get Scale(){return _.pO}get label(){return _.gr(this,"label")?_.V(this,"label"):""}set label(a){this.Serializable$values.label=a}get scale(){return _.gr(this,"scale")?_.V(this,"scale"):"LINEAR"}set scale(a){this.Serializable$values.scale=a}getConstructor(){return _.xO}getPartialClassMetadata(){return{enums:{scale:_.pO},keys:["label",
"scale"]}}};
Xoc=class extends _.ci{constructor(a={}){super();this.Serializable$values.linearBuckets=null==a.linearBuckets?null:a.linearBuckets;this.Serializable$values.exponentialBuckets=null==a.exponentialBuckets?null:a.exponentialBuckets;this.Serializable$values.explicitBuckets=null==a.explicitBuckets?null:a.explicitBuckets}get hasExplicitBuckets(){return null!==_.V(this,"explicitBuckets")}get explicitBuckets(){return _.gr(this,"explicitBuckets")?_.V(this,"explicitBuckets"):this.explicitBuckets=new Uoc}set explicitBuckets(a){this.Serializable$values.explicitBuckets=
a}get hasExponentialBuckets(){return null!==_.V(this,"exponentialBuckets")}get exponentialBuckets(){return _.gr(this,"exponentialBuckets")?_.V(this,"exponentialBuckets"):this.exponentialBuckets=new Voc}set exponentialBuckets(a){this.Serializable$values.exponentialBuckets=a}get hasLinearBuckets(){return null!==_.V(this,"linearBuckets")}get linearBuckets(){return _.gr(this,"linearBuckets")?_.V(this,"linearBuckets"):this.linearBuckets=new Woc}set linearBuckets(a){this.Serializable$values.linearBuckets=
a}getConstructor(){return Xoc}getPartialClassMetadata(){return{keys:["explicitBuckets","exponentialBuckets","linearBuckets"],objects:{explicitBuckets:Uoc,exponentialBuckets:Voc,linearBuckets:Woc}}}};
_.yO=class extends _.ci{constructor(a={}){super();this.Serializable$values.mode=null==a.mode?null:a.mode;this.Serializable$values.hideOnNoData=null==a.hideOnNoData?null:a.hideOnNoData;this.Serializable$values.showLegend=null==a.showLegend?null:a.showLegend;this.Serializable$values.sortingOptions=null==a.sortingOptions?null:a.sortingOptions}static get Mode(){return _.qO}get hideOnNoData(){return _.gr(this,"hideOnNoData")?_.V(this,"hideOnNoData"):!1}set hideOnNoData(a){this.Serializable$values.hideOnNoData=
a}get mode(){return _.gr(this,"mode")?_.V(this,"mode"):"COLOR"}set mode(a){this.Serializable$values.mode=a}get showLegend(){return _.gr(this,"showLegend")?_.V(this,"showLegend"):!1}set showLegend(a){this.Serializable$values.showLegend=a}get hasSortingOptions(){return null!==_.V(this,"sortingOptions")}get sortingOptions(){return _.gr(this,"sortingOptions")?_.V(this,"sortingOptions"):this.sortingOptions=new Yoc}set sortingOptions(a){this.Serializable$values.sortingOptions=a}getConstructor(){return _.yO}getPartialClassMetadata(){return{enums:{mode:_.qO},
keys:["hideOnNoData","mode","showLegend","sortingOptions"],objects:{sortingOptions:Yoc}}}};
_.Zoc=class extends _.ci{constructor(a={}){super();this.Serializable$values.label=null==a.label?null:a.label;this.Serializable$values.value=null==a.value?null:a.value;this.Serializable$values.targetAxis=null==a.targetAxis?null:a.targetAxis}static get TargetAxis(){return Joc}get label(){return _.gr(this,"label")?_.V(this,"label"):""}set label(a){this.Serializable$values.label=a}get targetAxis(){return _.gr(this,"targetAxis")?_.V(this,"targetAxis"):"Y1"}set targetAxis(a){this.Serializable$values.targetAxis=
a}get value(){return _.gr(this,"value")?_.V(this,"value"):0}set value(a){this.Serializable$values.value=a}getConstructor(){return _.Zoc}getPartialClassMetadata(){return{enums:{targetAxis:Joc},keys:["label","targetAxis","value"]}}};
_.$oc=class extends _.ci{constructor(a={}){super();this.Serializable$values.timeSeriesFilter=null==a.timeSeriesFilter?null:a.timeSeriesFilter;this.Serializable$values.timeSeriesFilterRatio=null==a.timeSeriesFilterRatio?null:a.timeSeriesFilterRatio;this.Serializable$values.timeSeriesQueryLanguage=null==a.timeSeriesQueryLanguage?null:a.timeSeriesQueryLanguage;this.Serializable$values.timeSeriesQuery=null==a.timeSeriesQuery?null:a.timeSeriesQuery;this.Serializable$values.prometheusQuery=null==a.prometheusQuery?
null:a.prometheusQuery;this.Serializable$values.targetAxis=null==a.targetAxis?null:a.targetAxis;this.Serializable$values.plotType=null==a.plotType?null:a.plotType;this.Serializable$values.legendTemplate=null==a.legendTemplate?null:a.legendTemplate}static get PlotType(){return _.rO}static get TargetAxis(){return Koc}get legendTemplate(){return _.gr(this,"legendTemplate")?_.V(this,"legendTemplate"):""}set legendTemplate(a){this.Serializable$values.legendTemplate=a}get plotType(){return _.gr(this,"plotType")?
_.V(this,"plotType"):"LINE"}set plotType(a){this.Serializable$values.plotType=a}get prometheusQuery(){return _.gr(this,"prometheusQuery")?_.V(this,"prometheusQuery"):""}set prometheusQuery(a){this.Serializable$values.prometheusQuery=a}get targetAxis(){return _.gr(this,"targetAxis")?_.V(this,"targetAxis"):"Y1"}set targetAxis(a){this.Serializable$values.targetAxis=a}get hasTimeSeriesFilter(){return null!==_.V(this,"timeSeriesFilter")}get timeSeriesFilter(){return _.gr(this,"timeSeriesFilter")?_.V(this,
"timeSeriesFilter"):this.timeSeriesFilter=new _.zO}set timeSeriesFilter(a){this.Serializable$values.timeSeriesFilter=a}get hasTimeSeriesFilterRatio(){return null!==_.V(this,"timeSeriesFilterRatio")}get timeSeriesFilterRatio(){return _.gr(this,"timeSeriesFilterRatio")?_.V(this,"timeSeriesFilterRatio"):this.timeSeriesFilterRatio=new _.AO}set timeSeriesFilterRatio(a){this.Serializable$values.timeSeriesFilterRatio=a}get timeSeriesQuery(){return _.gr(this,"timeSeriesQuery")?_.V(this,"timeSeriesQuery"):
""}set timeSeriesQuery(a){this.Serializable$values.timeSeriesQuery=a}get hasTimeSeriesQueryLanguage(){return null!==_.V(this,"timeSeriesQueryLanguage")}get timeSeriesQueryLanguage(){return _.gr(this,"timeSeriesQueryLanguage")?_.V(this,"timeSeriesQueryLanguage"):this.timeSeriesQueryLanguage=new _.BO}set timeSeriesQueryLanguage(a){this.Serializable$values.timeSeriesQueryLanguage=a}getConstructor(){return _.$oc}getPartialClassMetadata(){return{enums:{plotType:_.rO,targetAxis:Koc},keys:"legendTemplate plotType prometheusQuery targetAxis timeSeriesFilter timeSeriesFilterRatio timeSeriesQuery timeSeriesQueryLanguage".split(" "),
objects:{timeSeriesFilter:_.zO,timeSeriesFilterRatio:_.AO,timeSeriesQueryLanguage:_.BO}}}};apc=class extends _.ci{constructor(a={}){super();this.Serializable$values.minimumValue=null==a.minimumValue?null:a.minimumValue}get minimumValue(){return _.gr(this,"minimumValue")?_.V(this,"minimumValue"):0}set minimumValue(a){this.Serializable$values.minimumValue=a}getConstructor(){return apc}getPartialClassMetadata(){return{keys:["minimumValue"]}}};
Uoc=class extends _.ci{constructor(a={}){super();this.Serializable$values.bounds=null==a.bounds?null:a.bounds}get hasBounds(){return null!==_.V(this,"bounds")}get bounds(){return _.gr(this,"bounds")?_.V(this,"bounds"):this.bounds=[]}set bounds(a){this.Serializable$values.bounds=a}getConstructor(){return Uoc}getPartialClassMetadata(){return{keys:["bounds"]}}};
Voc=class extends _.ci{constructor(a={}){super();this.Serializable$values.numFiniteBuckets=null==a.numFiniteBuckets?null:a.numFiniteBuckets;this.Serializable$values.growthFactor=null==a.growthFactor?null:a.growthFactor;this.Serializable$values.scale=null==a.scale?null:a.scale}get growthFactor(){return _.gr(this,"growthFactor")?_.V(this,"growthFactor"):0}set growthFactor(a){this.Serializable$values.growthFactor=a}get numFiniteBuckets(){return _.gr(this,"numFiniteBuckets")?_.V(this,"numFiniteBuckets"):
0}set numFiniteBuckets(a){this.Serializable$values.numFiniteBuckets=a}get scale(){return _.gr(this,"scale")?_.V(this,"scale"):0}set scale(a){this.Serializable$values.scale=a}getConstructor(){return Voc}getPartialClassMetadata(){return{keys:["growthFactor","numFiniteBuckets","scale"]}}};
Soc=class extends _.ci{constructor(a={}){super();this.Serializable$values.threshold=null==a.threshold?null:a.threshold}get threshold(){return _.gr(this,"threshold")?_.V(this,"threshold"):0}set threshold(a){this.Serializable$values.threshold=a}getConstructor(){return Soc}getPartialClassMetadata(){return{keys:["threshold"]}}};
Woc=class extends _.ci{constructor(a={}){super();this.Serializable$values.numFiniteBuckets=null==a.numFiniteBuckets?null:a.numFiniteBuckets;this.Serializable$values.width=null==a.width?null:a.width;this.Serializable$values.offset=null==a.offset?null:a.offset}get numFiniteBuckets(){return _.gr(this,"numFiniteBuckets")?_.V(this,"numFiniteBuckets"):0}set numFiniteBuckets(a){this.Serializable$values.numFiniteBuckets=a}get offset(){return _.gr(this,"offset")?_.V(this,"offset"):0}set offset(a){this.Serializable$values.offset=
a}get width(){return _.gr(this,"width")?_.V(this,"width"):0}set width(a){this.Serializable$values.width=a}getConstructor(){return Woc}getPartialClassMetadata(){return{keys:["numFiniteBuckets","offset","width"]}}};
Toc=class extends _.ci{constructor(a={}){super();this.Serializable$values.bucketOptions=null==a.bucketOptions?null:a.bucketOptions;this.Serializable$values.exemplarSampling=null==a.exemplarSampling?null:a.exemplarSampling}get hasBucketOptions(){return null!==_.V(this,"bucketOptions")}get bucketOptions(){return _.gr(this,"bucketOptions")?_.V(this,"bucketOptions"):this.bucketOptions=new Xoc}set bucketOptions(a){this.Serializable$values.bucketOptions=a}get hasExemplarSampling(){return null!==_.V(this,
"exemplarSampling")}get exemplarSampling(){return _.gr(this,"exemplarSampling")?_.V(this,"exemplarSampling"):this.exemplarSampling=new apc}set exemplarSampling(a){this.Serializable$values.exemplarSampling=a}getConstructor(){return Toc}getPartialClassMetadata(){return{keys:["bucketOptions","exemplarSampling"],objects:{bucketOptions:Xoc,exemplarSampling:apc}}}};
bpc=class extends _.ci{constructor(a={}){super();this.Serializable$values.rankingMethod=null==a.rankingMethod?null:a.rankingMethod;this.Serializable$values.numTimeSeries=null==a.numTimeSeries?null:a.numTimeSeries;this.Serializable$values.direction=null==a.direction?null:a.direction}static get Direction(){return Loc}get direction(){return _.gr(this,"direction")?_.V(this,"direction"):"DIRECTION_UNSPECIFIED"}set direction(a){this.Serializable$values.direction=a}get numTimeSeries(){return _.gr(this,"numTimeSeries")?
_.V(this,"numTimeSeries"):0}set numTimeSeries(a){this.Serializable$values.numTimeSeries=a}get rankingMethod(){return _.gr(this,"rankingMethod")?_.V(this,"rankingMethod"):"METHOD_UNSPECIFIED"}set rankingMethod(a){this.Serializable$values.rankingMethod=a}getConstructor(){return bpc}getPartialClassMetadata(){return{enums:{direction:Loc,rankingMethod:sO},keys:["direction","numTimeSeries","rankingMethod"]}}};
Yoc=class extends _.ci{constructor(a={}){super();this.Serializable$values.valueColumn=null==a.valueColumn?null:a.valueColumn;this.Serializable$values.direction=null==a.direction?null:a.direction}static get Direction(){return Moc}get direction(){return _.gr(this,"direction")?_.V(this,"direction"):"DIRECTION_UNSPECIFIED"}set direction(a){this.Serializable$values.direction=a}get hasValueColumn(){return null!==_.V(this,"valueColumn")}get valueColumn(){return _.gr(this,"valueColumn")?_.V(this,"valueColumn"):
this.valueColumn=new cpc}set valueColumn(a){this.Serializable$values.valueColumn=a}getConstructor(){return Yoc}getPartialClassMetadata(){return{enums:{direction:Moc},keys:["direction","valueColumn"],objects:{valueColumn:cpc}}}};
dpc=class extends _.ci{constructor(a={}){super();this.Serializable$values.rankingMethod=null==a.rankingMethod?null:a.rankingMethod;this.Serializable$values.numTimeSeries=null==a.numTimeSeries?null:a.numTimeSeries}get numTimeSeries(){return _.gr(this,"numTimeSeries")?_.V(this,"numTimeSeries"):0}set numTimeSeries(a){this.Serializable$values.numTimeSeries=a}get rankingMethod(){return _.gr(this,"rankingMethod")?_.V(this,"rankingMethod"):"METHOD_UNSPECIFIED"}set rankingMethod(a){this.Serializable$values.rankingMethod=
a}getConstructor(){return dpc}getPartialClassMetadata(){return{enums:{rankingMethod:Noc},keys:["numTimeSeries","rankingMethod"]}}};
_.CO=class extends _.ci{constructor(a={}){super();this.Serializable$values.label=null==a.label?null:a.label;this.Serializable$values.value=null==a.value?null:a.value;this.Serializable$values.category=null==a.category?null:a.category;this.Serializable$values.triggerDirection=null==a.triggerDirection?null:a.triggerDirection;this.Serializable$values.targetAxis=null==a.targetAxis?null:a.targetAxis}static get Category(){return Ooc}static get TargetAxis(){return Poc}static get TriggerDirection(){return Qoc}get category(){return _.gr(this,
"category")?_.V(this,"category"):"CATEGORY_UNSPECIFIED"}set category(a){this.Serializable$values.category=a}get label(){return _.gr(this,"label")?_.V(this,"label"):""}set label(a){this.Serializable$values.label=a}get targetAxis(){return _.gr(this,"targetAxis")?_.V(this,"targetAxis"):"TARGET_AXIS_UNSPECIFIED"}set targetAxis(a){this.Serializable$values.targetAxis=a}get triggerDirection(){return _.gr(this,"triggerDirection")?_.V(this,"triggerDirection"):"TRIGGER_DIRECTION_UNSPECIFIED"}set triggerDirection(a){this.Serializable$values.triggerDirection=
a}get value(){return _.gr(this,"value")?_.V(this,"value"):0}set value(a){this.Serializable$values.value=a}getConstructor(){return _.CO}getPartialClassMetadata(){return{enums:{category:Ooc,targetAxis:Poc,triggerDirection:Qoc},keys:["category","label","targetAxis","triggerDirection","value"]}}};
_.zO=class extends _.ci{constructor(a={}){super();this.Serializable$values.filter=null==a.filter?null:a.filter;this.Serializable$values.perSeriesAligner=null==a.perSeriesAligner?null:a.perSeriesAligner;this.Serializable$values.crossSeriesReducer=null==a.crossSeriesReducer?null:a.crossSeriesReducer;this.Serializable$values.groupByFields=null==a.groupByFields?null:a.groupByFields;this.Serializable$values.secondaryCrossSeriesReducer=null==a.secondaryCrossSeriesReducer?null:a.secondaryCrossSeriesReducer;
this.Serializable$values.secondaryGroupByFields=null==a.secondaryGroupByFields?null:a.secondaryGroupByFields;this.Serializable$values.pickTimeSeriesFilter=null==a.pickTimeSeriesFilter?null:a.pickTimeSeriesFilter;this.Serializable$values.statisticalTimeSeriesFilter=null==a.statisticalTimeSeriesFilter?null:a.statisticalTimeSeriesFilter;this.Serializable$values.unitOverride=null==a.unitOverride?null:a.unitOverride;this.Serializable$values.minAlignmentPeriod=null==a.minAlignmentPeriod?null:a.minAlignmentPeriod;
this.Serializable$values.apiSource=null==a.apiSource?null:a.apiSource;this.Serializable$values.aggregations=null==a.aggregations?null:a.aggregations}static get ApiSource(){return Roc}get hasAggregations(){return null!==_.V(this,"aggregations")}get aggregations(){return _.gr(this,"aggregations")?_.V(this,"aggregations"):this.aggregations=[]}set aggregations(a){this.Serializable$values.aggregations=a}get apiSource(){return _.gr(this,"apiSource")?_.V(this,"apiSource"):"DEFAULT_CLOUD"}set apiSource(a){this.Serializable$values.apiSource=
a}get crossSeriesReducer(){return _.gr(this,"crossSeriesReducer")?_.V(this,"crossSeriesReducer"):"REDUCE_NONE"}set crossSeriesReducer(a){this.Serializable$values.crossSeriesReducer=a}get filter(){return _.gr(this,"filter")?_.V(this,"filter"):""}set filter(a){this.Serializable$values.filter=a}get hasGroupByFields(){return null!==_.V(this,"groupByFields")}get groupByFields(){return _.gr(this,"groupByFields")?_.V(this,"groupByFields"):this.groupByFields=[]}set groupByFields(a){this.Serializable$values.groupByFields=
a}get minAlignmentPeriod(){return _.gr(this,"minAlignmentPeriod")?_.V(this,"minAlignmentPeriod"):""}set minAlignmentPeriod(a){this.Serializable$values.minAlignmentPeriod=a}get perSeriesAligner(){return _.gr(this,"perSeriesAligner")?_.V(this,"perSeriesAligner"):"ALIGN_NONE"}set perSeriesAligner(a){this.Serializable$values.perSeriesAligner=a}get hasPickTimeSeriesFilter(){return null!==_.V(this,"pickTimeSeriesFilter")}get pickTimeSeriesFilter(){return _.gr(this,"pickTimeSeriesFilter")?_.V(this,"pickTimeSeriesFilter"):
this.pickTimeSeriesFilter=new bpc}set pickTimeSeriesFilter(a){this.Serializable$values.pickTimeSeriesFilter=a}get secondaryCrossSeriesReducer(){return _.gr(this,"secondaryCrossSeriesReducer")?_.V(this,"secondaryCrossSeriesReducer"):"REDUCE_NONE"}set secondaryCrossSeriesReducer(a){this.Serializable$values.secondaryCrossSeriesReducer=a}get hasSecondaryGroupByFields(){return null!==_.V(this,"secondaryGroupByFields")}get secondaryGroupByFields(){return _.gr(this,"secondaryGroupByFields")?_.V(this,"secondaryGroupByFields"):
this.secondaryGroupByFields=[]}set secondaryGroupByFields(a){this.Serializable$values.secondaryGroupByFields=a}get hasStatisticalTimeSeriesFilter(){return null!==_.V(this,"statisticalTimeSeriesFilter")}get statisticalTimeSeriesFilter(){return _.gr(this,"statisticalTimeSeriesFilter")?_.V(this,"statisticalTimeSeriesFilter"):this.statisticalTimeSeriesFilter=new dpc}set statisticalTimeSeriesFilter(a){this.Serializable$values.statisticalTimeSeriesFilter=a}get unitOverride(){return _.gr(this,"unitOverride")?
_.V(this,"unitOverride"):""}set unitOverride(a){this.Serializable$values.unitOverride=a}getConstructor(){return _.zO}getPartialClassMetadata(){return{arrays:{aggregations:_.wO},enums:{apiSource:Roc,crossSeriesReducer:tO,perSeriesAligner:uO,secondaryCrossSeriesReducer:vO},keys:"aggregations apiSource crossSeriesReducer filter groupByFields minAlignmentPeriod perSeriesAligner pickTimeSeriesFilter secondaryCrossSeriesReducer secondaryGroupByFields statisticalTimeSeriesFilter unitOverride".split(" "),
objects:{pickTimeSeriesFilter:bpc,statisticalTimeSeriesFilter:dpc}}}};
_.AO=class extends _.ci{constructor(a={}){super();this.Serializable$values.numeratorFilter=null==a.numeratorFilter?null:a.numeratorFilter;this.Serializable$values.denominatorFilter=null==a.denominatorFilter?null:a.denominatorFilter;this.Serializable$values.pickTimeSeriesFilter=null==a.pickTimeSeriesFilter?null:a.pickTimeSeriesFilter;this.Serializable$values.statisticalTimeSeriesFilter=null==a.statisticalTimeSeriesFilter?null:a.statisticalTimeSeriesFilter}get denominatorFilter(){return _.gr(this,"denominatorFilter")?
_.V(this,"denominatorFilter"):this.denominatorFilter=new _.zO}set denominatorFilter(a){this.Serializable$values.denominatorFilter=a}get hasNumeratorFilter(){return null!==_.V(this,"numeratorFilter")}get numeratorFilter(){return _.gr(this,"numeratorFilter")?_.V(this,"numeratorFilter"):this.numeratorFilter=new _.zO}set numeratorFilter(a){this.Serializable$values.numeratorFilter=a}get hasPickTimeSeriesFilter(){return null!==_.V(this,"pickTimeSeriesFilter")}get pickTimeSeriesFilter(){return _.gr(this,
"pickTimeSeriesFilter")?_.V(this,"pickTimeSeriesFilter"):this.pickTimeSeriesFilter=new bpc}set pickTimeSeriesFilter(a){this.Serializable$values.pickTimeSeriesFilter=a}get hasStatisticalTimeSeriesFilter(){return null!==_.V(this,"statisticalTimeSeriesFilter")}get statisticalTimeSeriesFilter(){return _.gr(this,"statisticalTimeSeriesFilter")?_.V(this,"statisticalTimeSeriesFilter"):this.statisticalTimeSeriesFilter=new dpc}set statisticalTimeSeriesFilter(a){this.Serializable$values.statisticalTimeSeriesFilter=
a}getConstructor(){return _.AO}getPartialClassMetadata(){return{keys:["denominatorFilter","numeratorFilter","pickTimeSeriesFilter","statisticalTimeSeriesFilter"],objects:{denominatorFilter:_.zO,numeratorFilter:_.zO,pickTimeSeriesFilter:bpc,statisticalTimeSeriesFilter:dpc}}}};_.BO=class extends _.ci{constructor(a={}){super();this.Serializable$values.query=null==a.query?null:a.query}get query(){return _.gr(this,"query")?_.V(this,"query"):""}set query(a){this.Serializable$values.query=a}getConstructor(){return _.BO}getPartialClassMetadata(){return{keys:["query"]}}};
cpc=class extends _.ci{getConstructor(){return cpc}getPartialClassMetadata(){return{keys:[]}}};
_.DO=class extends _.ci{constructor(a={}){super();this.Serializable$values.dataSets=null==a.dataSets?null:a.dataSets;this.Serializable$values.timeshiftDuration=null==a.timeshiftDuration?null:a.timeshiftDuration;this.Serializable$values.constantLines=null==a.constantLines?null:a.constantLines;this.Serializable$values.options=null==a.options?null:a.options;this.Serializable$values.xAxis=null==a.xAxis?null:a.xAxis;this.Serializable$values.y1Axis=null==a.y1Axis?null:a.y1Axis;this.Serializable$values.y2Axis=
null==a.y2Axis?null:a.y2Axis;this.Serializable$values.thresholds=null==a.thresholds?null:a.thresholds}get hasConstantLines(){return null!==_.V(this,"constantLines")}get constantLines(){return _.gr(this,"constantLines")?_.V(this,"constantLines"):this.constantLines=[]}set constantLines(a){this.Serializable$values.constantLines=a}get hasDataSets(){return null!==_.V(this,"dataSets")}get dataSets(){return _.gr(this,"dataSets")?_.V(this,"dataSets"):this.dataSets=[]}set dataSets(a){this.Serializable$values.dataSets=
a}get hasOptions(){return null!==_.V(this,"options")}get options(){return _.gr(this,"options")?_.V(this,"options"):this.options=new _.yO}set options(a){this.Serializable$values.options=a}get hasThresholds(){return null!==_.V(this,"thresholds")}get thresholds(){return _.gr(this,"thresholds")?_.V(this,"thresholds"):this.thresholds=[]}set thresholds(a){this.Serializable$values.thresholds=a}get timeshiftDuration(){return _.gr(this,"timeshiftDuration")?_.V(this,"timeshiftDuration"):""}set timeshiftDuration(a){this.Serializable$values.timeshiftDuration=
a}get hasXAxis(){return null!==_.V(this,"xAxis")}get xAxis(){return _.gr(this,"xAxis")?_.V(this,"xAxis"):this.xAxis=new _.xO}set xAxis(a){this.Serializable$values.xAxis=a}get hasY1Axis(){return null!==_.V(this,"y1Axis")}get y1Axis(){return _.gr(this,"y1Axis")?_.V(this,"y1Axis"):this.y1Axis=new _.xO}set y1Axis(a){this.Serializable$values.y1Axis=a}get hasY2Axis(){return null!==_.V(this,"y2Axis")}get y2Axis(){return _.gr(this,"y2Axis")?_.V(this,"y2Axis"):this.y2Axis=new _.xO}set y2Axis(a){this.Serializable$values.y2Axis=
a}getConstructor(){return _.DO}getPartialClassMetadata(){return{arrays:{constantLines:_.Zoc,dataSets:_.$oc,thresholds:_.CO},keys:"constantLines dataSets options thresholds timeshiftDuration xAxis y1Axis y2Axis".split(" "),objects:{options:_.yO,xAxis:_.xO,y1Axis:_.xO,y2Axis:_.xO}}}};new _.Zc("API_VERSION");new _.Zc("REQUEST_SERVICE");
var epc=_.wh("[IncidentsFeature] Toggle incidents page auto refresh",_.xh());
var fpc=_.Bh({autoRefreshEnabled:!1},_.Ah(epc,(a,b)=>Object.assign({},a,{autoRefreshEnabled:b.autoRefresh})));
var gpc=_.wh("[DashboardFeature] Create a new dashboard",_.xh()),hpc=_.wh("[DashboardFeature] create dashboard successful",_.xh());_.wh("[DashboardFeature] Create new dashboards",_.xh());var ipc=_.wh("[DashboardFeature] Create new dashboards successful",_.xh()),jpc=_.wh("[DashboardFeature] Create new dashboards failed",_.xh());_.wh("[DashboardFeature] Copy a dashboard",_.xh());var kpc=_.wh("[DashboardFeature] copy dashboard successful",_.xh());_.wh("[DashboardFeature] Delete a dashboard",_.xh());
var lpc=_.wh("[DashboardFeature] Delete dashboard successful",_.xh());_.wh("[DashboardFeature] Bulk load workspace's full custom dashboards");var mpc=_.wh("[DashboardFeature] Bulk full dashboard load successful",_.xh());_.wh("[DashboardFeature] Bulk load workspace's dashboard list items",_.xh());var npc=_.wh("[DashboardFeature] Bulk dashboard list items load successful",_.xh()),opc=_.wh("[DashboardFeature] Error loading dashboard list items data",_.xh());
_.wh("[DashboardFeature] Load specific dashboards",_.xh());var ppc=_.wh("[DashboardFeature] Bulk load dashboard favorties successful",_.xh());_.wh("[DashboardFeature] Failed to load dashboards favorties",_.xh());_.wh("[DashboardFeature] Load recent dashboards");var qpc=_.wh("[DashboardFeature] Successfully loaded recent dashboards",_.xh());_.wh("[DashboardFeature] Failed to load recent dashboards",_.xh());_.wh("[DashboardFeature] Add recent dashboard",_.xh());
var rpc=_.wh("[DashboardFeature] Successfully added recent dashboard",_.xh());_.wh("[DashboardFeature] Failed to add recent dashboard",_.xh());_.wh("[DashboardFeature] Load the dashboard by specified id",_.xh());
var spc=_.wh("[DashboardFeature] Set the currently selected dashboard id",_.xh()),tpc=_.wh("[DashboardFeature] Successfully loaded a single dashboard from the API",_.xh()),upc=_.wh("[DashboardFeature] Error occurring loading given dashboard",_.xh()),vpc=_.wh("[DashboardFeature] Error updating or reading dashboard data",_.xh());_.wh("[DashboardFeature] Error bulk loading full dashboard data",_.xh());_.wh("[DashboardFeature] Change dashboard title",_.xh());
var wpc=_.wh("[DashboardFeature] Copy a chart to a target dashboard",_.xh()),x5b=_.wh("[DashboardFeature] Delete chart from target dashboard",_.xh()),y5b=_.wh("[DashboardFeature] Reorder charts on the target dashboard",_.xh()),v5b=_.wh("[DashboardFeature] Add chart to target dashboard",_.xh()),w5b=_.wh("[DashboardFeature] Edit chart in target dashboard",_.xh()),xpc=_.wh("[DashboardFeature] Patch dashboard successful",_.xh()),ypc=_.wh("[DashboardFeature] batch Patch dashboard successful",_.xh());
_.wh("[Dashboard Feature] Load dashboard favorite status",_.xh());var zpc=_.wh("[Dashboard Feature]  Dashboard favorite status loaded",_.xh()),Apc=_.wh("[DashboardFeatures] Toggle given dashboard's favorite status",_.xh());
var B5b=["application","","resource_list","summary","integration"];[...B5b];
_.Bpc=class extends _.wm{constructor(){super();_.um(this,["monitoring"])}};
_.Cpc=new Map([["application","application"],["","custom"],["resource_detail","resourceDetail"],["resource_list","resourceList"],["summary","summary"],["integration","integration"],["customized_curation","curation"]]);
_.wh("[Core] Noop Action",_.xh());_.wh("[Core] Bootstrapped effects have been loaded and are available");var Dpc=_.wh("[Filters] Add Filter",_.xh()),Epc=_.wh("[Filters] Remove Filter",_.xh()),Fpc=_.wh("[Filters] Set Filter",_.xh()),Gpc=_.wh("[Filters] Clear Filters"),Hpc=_.wh("[Filters] Set All Filters",_.xh()),Ipc=_.wh("[Stackdriver Workspace] Workspace has been loaded",_.xh()),Jpc=_.wh("[Stackdriver Workspace] Workspace has been switched");_.wh("[Stackdriver Workspace] Refreshing current workspace.");
var Kpc=_.wh("[Stackdriver workspace] Add project to workspace",_.xh()),Lpc=_.wh("[Stackdriver workspace] Remove project from workspace",_.xh());
var YK=_.bx({selectId:({name:a,category:b})=>`${b}/${_.XK(a)}`}),u5b=YK.getInitialState({currentDashId:null,currentDashboardError:null,dashboardListItemMap:{},favorites:{},recents:[],widgets:[],haveFullDashboardsLoaded:!1,haveDashboardListItemsLoaded:!1,haveFavoritesLoaded:!1,errors:{list:null}}),Mpc=_.Bh(u5b,_.Ah(Ipc,Jpc,()=>u5b),_.Ah(gpc,(a,b)=>{b=b.newDashboard;b.hasRoot?(b=b.root,b.hasGridLayout?(b=b.gridLayout,b=b.hasWidgets?b.widgets:[]):b=b.hasMosaicLayout?s5b(b.mosaicLayout):[]):b=[];return b.length?
a:Object.assign({},a,{widgets:[],currentDashId:null})}),_.Ah(spc,(a,b)=>{const c=a.entities[b.dashboardId];return Object.assign({},a,{currentDashId:b.dashboardId,currentDashboardError:null,widgets:c&&c.root.hasGridLayout?[...c.root.gridLayout.widgets]:[]})}),_.Ah(mpc,(a,b)=>{b=b.dashboards.map(c=>{if(""===c.displayName){const d=_.SK(c);d.displayName=c.name;return d}return c});return YK.addMany(b,Object.assign({},a,{haveFullDashboardsLoaded:!0}))}),_.Ah(npc,(a,b)=>Object.assign({},a,{dashboardListItemMap:b.dashboardListItems.reduce(C5b,
{}),haveDashboardListItemsLoaded:!0,errors:Object.assign({},a.errors,{list:null})})),_.Ah(opc,(a,b)=>Object.assign({},a,{dashboardListItemMap:{},haveDashboardListItemsLoaded:!0,errors:Object.assign({},a.errors,{list:b.error})})),_.Ah(ppc,(a,b)=>Object.assign({},a,{favorites:b.favorites})),_.Ah(tpc,(a,b)=>{let c=b.dashboard;""===c.displayName&&(c=_.SK(c),c.displayName=c.name);const d=`${c.category}/${_.XK(c.name)}`,e=q5b(a.currentDashId,c,f=>{f.widgets=c.root.hasGridLayout?[...c.root.gridLayout.widgets]:
[]});e.errors=Object.assign({},a.errors,{[d]:null});return b.reload?YK.addOne(c,YK.removeOne(d,Object.assign({},a,e))):a.ids.includes(d)?(b=a.entities[d])&&b.revision===c.revision?a:YK.addOne(c,YK.removeOne(d,Object.assign({},a,e))):YK.addOne(c,Object.assign({},a,e))}),_.Ah(zpc,(a,b)=>{a.favorites[b.id]?b.favorite?a.favorites[b.id]=b.favorite:delete a.favorites[b.id]:b.favorite&&(a.favorites[b.id]=b.favorite);return Object.assign({},a)}),_.Ah(Apc,(a,b)=>{b=b.id;var c=Object.assign({},a.favorites);
c[b]?delete c[b]:c[b]=!0;return Object.assign({},a,{favorites:c})}),_.Ah(qpc,(a,b)=>Object.assign({},a,{recents:b.recents})),_.Ah(rpc,(a,b)=>{b=A5b(b.id,a.recents);return Object.assign({},a,{recents:b})}),_.Ah(xpc,(a,b)=>YK.addOne(b.dashboard,Object.assign({},YK.removeOne(`${b.dashboard.category}/${_.XK(b.dashboard.name)}`,a),{dashboardListItemMap:C5b(a.dashboardListItemMap,r5b(b.dashboard))}))),_.Ah(ypc,(a,b)=>{const c=b.dashboards.map(d=>`${d.category}/${_.XK(d.name)}`);return YK.addMany(b.dashboards,
Object.assign({},YK.removeMany(c,a),{dashboardListItemMap:b.dashboards.map(r5b).reduce(C5b,a.dashboardListItemMap)}))}),_.Ah(x5b,(a,b)=>{const c=_.XK(b.dashboard.name),d=_.SK(b.dashboard);d.root.gridLayout.widgets.splice(b.index,1);const e=q5b(a.currentDashId,b.dashboard,f=>{f.widgets=[...a.widgets];f.widgets.splice(b.index,1)});return YK.addOne(d,YK.removeOne(`${""}/${c}`,Object.assign({},a,e)))}),_.Ah(y5b,(a,b)=>{const c=_.XK(b.dashboard.name),d=_.SK(b.dashboard);d.root.gridLayout.widgets=b.order.map(f=>
d.root.gridLayout.widgets[f]);const e=q5b(a.currentDashId,b.dashboard,f=>{f.widgets=b.order.map(g=>a.widgets[g])});return YK.addOne(d,YK.removeOne(`${""}/${c}`,Object.assign({},a,e)))}),_.Ah(v5b,wpc,(a,b)=>{var c=a.entities[b.dashboardId];if(!c)return a;c=q5b(a.currentDashId,c,d=>{d.widgets=[...a.widgets];d.widgets.push(b.widget)});return Object.assign({},a,c)}),_.Ah(w5b,(a,b)=>{const c=`${b.dashboard.category}/${_.XK(b.dashboard.name)}`,d=_.SK(b.dashboard);d.root.gridLayout.widgets[b.index]=b.widget;
const e=q5b(a.currentDashId,b.dashboard,f=>{f.widgets=[...a.widgets];f.widgets[b.index]=b.widget});return YK.addOne(d,YK.removeOne(c,Object.assign({},a,e)))}),_.Ah(hpc,kpc,(a,b)=>YK.addOne(b.dashboard,Object.assign({},a,{dashboardListItemMap:C5b(a.dashboardListItemMap,r5b(b.dashboard))}))),_.Ah(ipc,jpc,(a,b)=>Object.assign({},a,{dashboardListItemMap:D5b(a.dashboardListItemMap,b.dashboardsCreated.map(c=>r5b(c)))})),_.Ah(lpc,(a,b)=>{var c=YK.removeOne,d=b.dashboardId,e=Object,f=e.assign,g=b.dashboardId;
const h=Object.assign({},a.dashboardListItemMap);delete h[g];return c.call(YK,d,f.call(e,{},a,{currentDashboardError:null,dashboardListItemMap:h,widgets:[],errors:Object.assign({},a.errors,{[b.dashboardId]:null})}))}),_.Ah(vpc,(a,b)=>z5b(a,b.failedAction,b.widget,b.originalDashboard)),_.Ah(upc,(a,b)=>{const c={};a.currentDashId===b.id&&(c.currentDashboardError=b.error);return Object.assign({},a,c,{errors:Object.assign({},a.errors,{[b.id]:b.error})})}));
_.EO=new _.Zc("API_VERSION");_.FO=new _.Zc("REQUEST_SERVICE");
_.Npc=["resourcemanager.projects.get","stackdriver.projects.get"];_.Opc=_.Npc.concat(["serviceusage.services.enable","stackdriver.projects.edit"]);[..._.Npc];
var Ppc=_.wh("[DashboardFeature] Set the domain for a dashboard domain key.",_.xh()),Qpc=_.wh("[DashboardFeature] Set a preset domain for the dashboard default domain.",_.xh()),Rpc=_.wh("[DashboardFeature] Set a custom domain for the dashboard default domain.",_.xh()),Spc=_.wh("[DashboardFeature] Update the domain's end time to match the current time for refresh purposes."),Tpc=_.wh("[DashboardFeature] Reset chart group zoom."),Upc=_.wh("[DashboardFeature] Set chart group zoom"),Vpc=_.wh("[DashboardFeature] Set dashboard columns",
_.xh()),Wpc=_.wh("[DashboardFeature] toggle dashboard auto refresh",_.xh());
var Xpc=E5b("1h"),Ypc=_.Bh({columns:void 0,chartsZoomed:!1,autoRefreshEnabled:!1,defaultDomainOption:"1h",domains:{default:Xpc}},_.Ah(Vpc,(a,b)=>Object.assign({},a,{columns:b.columns})),_.Ah(Ppc,(a,b)=>Object.assign({},a,{domains:Object.assign({},a.domains,{[b.key]:b.domain})})),_.Ah(Spc,a=>"custom"===a.defaultDomainOption?a:Object.assign({},a,{domains:Object.assign({},a.domains,{default:E5b(a.defaultDomainOption)})})),_.Ah(Qpc,(a,b)=>b.reload||b.option!==a.defaultDomainOption?Object.assign({},a,
{defaultDomainOption:b.option,domains:Object.assign({},a.domains,{default:E5b(b.option)})}):a),_.Ah(Rpc,(a,b)=>Object.assign({},a,{defaultDomainOption:"custom",domains:Object.assign({},a.domains,{default:b.domain})})),_.Ah(Tpc,a=>Object.assign({},a,{chartsZoomed:!1})),_.Ah(Upc,a=>Object.assign({},a,{chartsZoomed:!0})),_.Ah(Wpc,(a,b)=>Object.assign({},a,{autoRefreshEnabled:b.autoRefresh})));
_.wh("[Stackdriver Group] Load groups from the API",_.xh());_.wh("[Stackdriver Group] Load a single group from the API",_.xh());_.wh("[Stackdriver Group Favorite] Load group favorites setting from Taberna");_.wh("[Stackdriver Group Favorite] Toggle a group favorite setting in Taberna",_.xh());_.wh("[Stackdriver Group] Load a group's members",_.xh());_.wh("[Stackdriver Group] Delete a group",_.xh());_.wh("[Stackdriver Group] Create a group",_.xh());_.wh("[Stackdriver Group] Update a group",_.xh());
var Zpc=_.wh("[Stackdriver Group] Loaded groups successfully from the API",_.xh()),$pc=_.wh("[Stackdriver Group] Failed to load groups from the API",_.xh());_.wh("[Stackdriver Group] Failed to load single group from the API",_.xh());
var aqc=_.wh("[Stackdriver Group] Loaded the group successfully from the API",_.xh()),bqc=_.wh("[Stackdriver Group Favorite] Group Favorites Setting Loaded",_.xh()),cqc=_.wh("[Stackdriver Group Favorite] Group Favorites Setting Failed to Load",_.xh()),dqc=_.wh("[Stackdriver Group Favorite] A group favorite setting has been toggled",_.xh()),eqc=_.wh("[Stackdriver Group] A Group's members has been loaded",_.xh()),fqc=_.wh("[Stackdriver Group] A Group's members have been failed to load",_.xh()),gqc=
_.wh("[Stackdriver Group] A Group's has been created",_.xh()),hqc=_.wh("[Stackdriver Group] A Group's has been updated",_.xh()),iqc=_.wh("[Stackdriver Group] A group has been deleted",_.xh()),jqc=_.wh("[Stackdriver Group] A group has been failed to mutate",_.xh());
var GO=_.bx({selectId:a=>{({name:a}=a);return ZK(a)}}),HO=_.bx({selectId:a=>{({groupId:a}=a);return a}}),kqc=GO.getInitialState({favorites:new Set,hasLoaded:!1,hasFavoritesLoaded:!1}),lqc=HO.getInitialState({}),mqc=_.Bh(kqc,_.Ah(Ipc,Jpc,()=>kqc),_.Ah(Zpc,(a,b)=>{a=Object.assign({},a);a=(delete a.error,a);return GO.addMany(b.groups,Object.assign({},a,{hasLoaded:!0}))}),_.Ah($pc,(a,b)=>Object.assign({},a,{hasLoaded:!0,error:b.error})),_.Ah(bqc,(a,b)=>Object.assign({},a,{hasFavoritesLoaded:!0,favorites:b.favorites,
loadFavoritesFailed:!1})),_.Ah(cqc,a=>Object.assign({},a,{hasFavoritesLoaded:!0,loadFavoritesFailed:!0})),_.Ah(dqc,(a,b)=>{const c=new Set(a.favorites);b.isFavorite?c.add(b.groupId):c.delete(b.groupId);return Object.assign({},a,{favorites:c})}),_.Ah(gqc,(a,b)=>GO.addOne(b.group,a)),_.Ah(hqc,aqc,(a,b)=>{const c=ZK(b.group.name);return GO.addOne(b.group,GO.removeOne(c,a))}),_.Ah(iqc,(a,b)=>{const c=ZK(b.groupName);let d=a;if(b.recursive&&(a=a.entities,b=a[c])){a=F5b(b,a);for(const e of a)a=ZK(e.name),
d=GO.removeOne(a,d)}return GO.removeOne(c,d)}),_.Ah(jqc,(a,b)=>Object.assign({},a,{latestCompletedMutation:{action:b.failedAction,error:b.error}}))),nqc=_.Bh(lqc,_.Ah(Ipc,Jpc,()=>lqc),_.Ah(eqc,(a,b)=>HO.addOne({groupId:b.groupId,members:b.members},HO.removeOne(b.groupId,a))),_.Ah(fqc,(a,b)=>HO.addOne({groupId:b.groupId,hasError:!0,members:[]},HO.removeOne(b.groupId,a))),_.Ah(hqc,(a,b)=>{b=ZK(b.group.name);return HO.removeOne(b,a)}),_.Ah(iqc,(a,b)=>{b=ZK(b.groupName);return HO.removeOne(b,a)})),oqc=
_.Ch({projectGroups:mqc,projectGroupMembers:nqc});
var pqc=_.Bh({currentWorkspace:null},_.Ah(Ipc,(a,b)=>Object.assign({},a,{currentWorkspace:b.workspace})),_.Ah(Kpc,(a,b)=>{const c={};let d;(null==(d=a.currentWorkspace)?void 0:d.hostProjectId)===b.workspace.hostProjectId&&(c.currentWorkspace=Object.assign({},a.currentWorkspace,{monitoredProjects:[...a.currentWorkspace.monitoredProjects,b.project]}));return Object.assign({},a,c)}),_.Ah(Lpc,(a,b)=>{const c={};let d;(null==(d=a.currentWorkspace)?void 0:d.hostProjectId)===b.workspace.hostProjectId&&(c.currentWorkspace=
Object.assign({},a.currentWorkspace,{monitoredProjects:a.currentWorkspace.monitoredProjects.filter(e=>e.projectId!==b.project.projectId)}));return Object.assign({},a,c)})),IO=_.bx({selectId:a=>a.getId()}),qqc=IO.getInitialState({latestFilterId:null}),rqc=(a,b)=>b?IO.removeOne(b.getId(),a):a,sqc=_.Bh(qqc,_.Ah(Dpc,(a,{filter:b})=>IO.addOne(b,Object.assign({},a,{latestFilterId:b.getId()}))),_.Ah(Fpc,(a,{filter:b})=>IO.setOne(b,Object.assign({},a,{latestFilterId:b.getId()}))),_.Ah(Epc,(a,{filter:b})=>
[b,b.previous].reduce(rqc,a)),_.Ah(Gpc,a=>IO.removeAll(a)),_.Ah(Hpc,(a,{filters:b})=>IO.setAll(b,a)));
var tqc=_.Ch({ui:Ypc,api:Mpc});_.Ch({workspace:pqc,dashboard:tqc,filters:sqc,groups:oqc,incidents:fpc});var uqc=_.Jta("stackdriver");
var vqc,wqc,xqc;IO.getSelectors();_.zh(uqc,({filters:a})=>a);vqc=_.zh(uqc,({dashboard:a})=>a);_.JO=_.zh(vqc,({api:a})=>a);_.zh(uqc,a=>a.incidents);({selectEntities:wqc,selectAll:xqc}=YK.getSelectors());_.yqc=_.zh(vqc,({ui:a})=>a);_.zqc=_.zh(_.JO,wqc);_.zh(_.JO,xqc);var Aqc=_.zh(uqc,a=>a?a.workspace:null),Bqc=_.zh(Aqc,a=>a?a.currentWorkspace:null);_.zh(Bqc,a=>a?a.hostProjectId:null);
var KO;KO=null;_.LO=function(a){if(window.CHART_PROFILE&&console&&"function"===typeof console.timeEnd){if(!KO&&Array.isArray(window.CHART_PROFILE)){KO={};for(var b=0;b<window.CHART_PROFILE.length;b++)KO[window.CHART_PROFILE[b]]=!0}return{time:function(c){c=a+":"+c;(!KO||KO[a]||KO[c])&&console.time(c)},timeEnd:function(c){c=a+":"+c;(!KO||KO[a]||KO[c])&&console.timeEnd(c)}}}return{time:function(){},timeEnd:function(){}}};
var Cqc=function(){};_.nh("awesomecharts.interfaces.Drawable",Cqc);_.aa=Cqc.prototype;_.aa.setColorManager=function(){};_.aa.setParent=function(){};_.aa.getParent=function(){};_.aa.innerHeight=function(){};_.aa.innerWidth=function(){};_.aa.cleanup=function(){};_.aa.brushLock=function(){};_.aa.brush=function(){};_.aa.resize=function(){};_.aa.domainX=function(){};_.aa.draw=function(){};
var MO=function(){};_.nh("awesomecharts.interfaces.DataDrawContainer",MO);MO.prototype.add=function(){};MO.prototype.remove=function(){};MO.prototype.remove=MO.prototype.remove;MO.prototype.domainX=function(){};
var Dqc=function(a){a.eventWrapper(()=>{document.addEventListener("visibilitychange",()=>{for(const b of a.listeners)b()})})},NO=class{constructor(){this.wasPageHidden=this.isPageHidden;this.listeners=[];this.eventWrapper=_.EN();this.hiddenPageMeasurements=new Map;Dqc(this);this.listenForChanges(()=>{if(this.isPageHidden&&!this.wasPageHidden){var a=performance.now();for(var b of this.hiddenPageMeasurements.values())b.lastChangeTime=a}else if(!this.isPageHidden&&this.wasPageHidden){b=performance.now();
for(a of this.hiddenPageMeasurements.values())a.totalTime+=b-a.lastChangeTime,a.lastChangeTime=b}this.wasPageHidden=this.isPageHidden})}get isPageHidden(){return"visible"!==document.visibilityState}startHiddenMeasurement(a){void 0!==this.hiddenPageMeasurements.get(a)&&console.warn(`This key is already being used to measure page visibility ${a}, overwriting the previous measurement.`);this.hiddenPageMeasurements.set(a,{lastChangeTime:performance.now(),totalTime:0})}getHiddenMeasurementTime(a){var b=
this.hiddenPageMeasurements.get(a);if(void 0===b)return console.warn("This isn't a known measurement key",a),-1;a=b.totalTime;b=b.lastChangeTime;return this.wasPageHidden?a+performance.now()-b:a}endHiddenMeasurement(a){const b=this.getHiddenMeasurementTime(a);this.hiddenPageMeasurements.delete(a);return b}listenForChanges(a){this.listeners.push(a)}};NO.prototype.listenForChanges=NO.prototype.listenForChanges;NO.prototype.endHiddenMeasurement=NO.prototype.endHiddenMeasurement;
NO.prototype.getHiddenMeasurementTime=NO.prototype.getHiddenMeasurementTime;NO.prototype.startHiddenMeasurement=NO.prototype.startHiddenMeasurement;var OO=new NO;
var Eqc=[],PO={METRICS_EXPLORER_SAVE:"metrics-explorer-save",METRIC_CHOSEN:"metric-chosen",DASHBOARD_PAGE:"dashboard-page",FETCH_REQUEST:"fetch-request",FETCH_RESPONSE:"fetch-response",QUEUE_EMPTIED:"queue-emptied",CREATE_DASHBOARD:"create-dashboard",DASHBOARD_LOADED:"dashboard-loaded"},Hqc=class{constructor(){this.dashboardState={state:"CLEAR",counter:0,contexts:[]};this.newDashboardState={state:"CLEAR",startTime:null};this._callbacks={};this._measurements=null;this.pageVisibilityObserver=OO}sendPointEvent(a,
b={}){if(_.DN.isWhitelisted("chart-analytics-events"))switch(a){case PO.METRICS_EXPLORER_SAVE:"CLEAR"===this.dashboardState.state&&(this.dashboardState.state="BEGIN",this.dashboardState.counter=0,this.dashboardState.contexts=[{startTime:performance.now(),contextName:PO.METRICS_EXPLORER_SAVE}]);break;case PO.METRIC_CHOSEN:"CLEAR"===this.dashboardState.state&&(this.dashboardState.state="BEGIN",this.dashboardState.counter=0,this.dashboardState.contexts=[{startTime:performance.now(),contextName:"metric-chosen"}]);
break;case PO.DASHBOARD_PAGE:this.dashboardState.state="BEGIN";this.dashboardState.counter=0;this.dashboardState.contexts=this.dashboardState.contexts.filter(({contextName:f})=>f!==PO.DASHBOARD_PAGE);this.dashboardState.contexts.push({startTime:performance.now(),contextName:PO.DASHBOARD_PAGE});performance.mark("dashboard-page");this._measurements&&Fqc(this._measurements);break;case PO.FETCH_REQUEST:"BEGIN"===this.dashboardState.state&&(this.dashboardState.state="PENDING");this.dashboardState.counter++;
break;case PO.FETCH_RESPONSE:"PENDING"===this.dashboardState.state&&null!==this.dashboardState.counter&&0===--this.dashboardState.counter&&(this.dashboardState.state="DRAWING",void 0!==this.dashboardState.contexts.find(f=>f.contextName===PO.DASHBOARD_PAGE)&&this.pageVisibilityObserver.startHiddenMeasurement("dashboardLoading"));break;case PO.QUEUE_EMPTIED:if("DRAWING"===this.dashboardState.state){var c=this.pageVisibilityObserver.getHiddenMeasurementTime("dashboardLoading"),d=performance.now();performance.getEntriesByName("dashboard-page").length&&
performance.measure("dashboardLoading","dashboard-page");var e=_.DN.getAnalytics();if(e)for(let {startTime:f,contextName:g}of this.dashboardState.contexts)switch(g){case PO.METRICS_EXPLORER_SAVE:e.sendTiming("interval","saveChart",d-f,"Time from save chart clicked to when the chart is drawn on the dashboard",b,{prohibitGa:!0});break;case PO.METRIC_CHOSEN:e.sendTiming("interval","chartPreview",d-f,"Time from metric chosen to chart preview",b,{prohibitGa:!0});break;case PO.DASHBOARD_PAGE:const h=d-
f;this.pageVisibilityObserver.endHiddenMeasurement("dashboardLoading");let l,n;this._measurements&&(l=this._measurements.stuckTime,n=this._measurements.totalDrawTime,Gqc(this._measurements));e.sendTiming("interval","dashboardLoading",h,"dashboard loading time",Object.assign({},b,{pageHiddenMs:c,stuckTime:l,totalDrawTime:n}),{prohibitGa:!0});_.DN.dashboardLoadingEvent(h);this.trigger(PO.DASHBOARD_PAGE)}this.dashboardState.state="CLEAR";this.dashboardState.contexts=[]}break;case PO.CREATE_DASHBOARD:this.newDashboardState.state=
"PENDING";this.newDashboardState.startTime=performance.now();break;case PO.DASHBOARD_LOADED:"PENDING"===this.newDashboardState.state&&(this.newDashboardState.state="CLEAR",c=performance.now(),d=this.newDashboardState.startTime,this.newDashboardState.startTime=null,(e=_.DN.getAnalytics())&&e.sendTiming("interval","createDashboard",c-d,"dashboard creation time",b,{prohibitGa:!0}))}(_.DN.isWhitelisted("chart-hermetic")||_.DN.isWhitelisted("chart-hermetic-performance-test")&&(a.startsWith("create")||
a.startsWith("dashboard")||a.startsWith("metric")||a.startsWith("fetch")||a.startsWith("queue")))&&(c=_.DN.getAnalytics())&&c.sendTiming("pointEvent",a,0,"point event "+a,b,{prohibitGa:!0})}instrument(a,b){return function(){Eqc.push(a);const c=performance.now();try{return b.apply(this,arguments)}catch(d){throw d;}finally{const d=performance.now();Eqc.pop();if(_.DN.isWhitelisted("chart-hermetic")||_.DN.isWhitelisted("chart-hermetic-performance-test")&&(a.startsWith("create")||a.startsWith("dashboard")||
a.startsWith("metric")||a.startsWith("fetch")||a.startsWith("queue"))){const e=_.DN.getAnalytics();if(e){const f={};Eqc.length&&(f.stack=JSON.stringify(Eqc));e.sendTiming("hermetic",a,d-c,"hermetic "+a,f,{prohibitGa:!0})}}}}}trigger(a){(a=this._callbacks[a])&&0<a.length&&a.forEach(b=>{b()});return this}off(a,b){let c=this._callbacks[a];c&&0<c.length&&(b?(a=c.indexOf(b),-1!==a&&c.splice(a,1)):this._callbacks[a]=[]);return this}on(a,b){let c=this._callbacks[a]||(this._callbacks[a]=[]);c.some(d=>d===
b)||c.push(b);return()=>{this.off(a,b)}}};Hqc.prototype.instrument=Hqc.prototype.instrument;Hqc.prototype.sendPointEvent=Hqc.prototype.sendPointEvent;_.QO=new Hqc;_.nh("awesomecharts.utils.Instrument",_.QO);
var TO;_.RO=function(a,b=0){let c=null;_.DN.forceSync_?a():_.EN()(()=>{c=setTimeout(a,b)});return c};_.SO=function(a,b){b||(b=0);var c=null;return function(d){var e=this,f=arguments;return _.EN()(()=>{clearTimeout(c);c=_.RO(_.QO.instrument("debounce",function(){a.apply(e,f)}),b)})}};TO=function(a,b){const c=_.SO(()=>a(!1),b);return d=>d?a(!0):c()};
var Iqc;Iqc={};_.UO=function(a){var b=Iqc[a];if(b){var c=a+b.toString();b++;Iqc[a]=b;b=c}else Iqc[a]=1,b=a+"0";return b};_.nh("awesomecharts.utils.IdUniqueUtils.page",_.UO);_.VO=function(a){return a?a.id||a.name:null};
var Fqc,Gqc,Jqc,Kqc,Lqc,Mqc,Nqc;Fqc=function(a){a.stuckTime=0;a.totalDrawTime=0;a.computeStuckTime=!0;a.fps_=[];a.runningFpsSum=0;a.currentRunningFps_=0;a.previousRead_=-1;a.isCollectingMetrics=!0};Gqc=function(a){a.computeStuckTime=!1;a.isCollectingMetrics=!1};Jqc=function(a){a.timeToFirstQueue={durationMs:performance.now()-a.initTime,pageHiddenMs:OO.endHiddenMeasurement("timeToFirstQueue")}};
Kqc=function(a){function b(v){++r;void 0===g&&(g=v);h=v;if(void 0===l||v<l)l=v;if(void 0===n||v>n)n=v}if(!a.failedFps_){var c=!1,d=!1,e=performance.now(),f=e-5E3,g=void 0,h=void 0,l=void 0,n=void 0,r=0;for(let v=0;!c&&v<a.fps_.length;++v){const w=a.fps_[v];if(w.timestamp<f){0<v&&(d=a.fps_[v-1],f=(d.fps-w.fps)/(d.timestamp-w.timestamp)*(f-w.timestamp)+w.fps,b(f),5<=f&&(c=!0));d=!0;break}b(w.fps);5<=w.fps&&(c=!0)}a.failedFps_=d&&!c;a.failedFps_&&_.DN.isWhitelisted("chart-analytics-events")&&_.DN.getAnalytics().sendTiming("interval",
"fpsFailure",e,"FPS under 5 for 5000ms",{latestFps:G5b(g),earliestFps:G5b(h),minFps:G5b(l),maxFps:G5b(n),numEntriesConsidered:G5b(r)},{prohibitGa:!0})}};Lqc=function({durationMs:a,pageHiddenMs:b}){_.DN.isWhitelisted("chart-analytics-events")&&_.DN.getAnalytics().sendTiming("interval","pageLoadTime",a,"page load time by time to interactivity",{pageHiddenMs:b},{prohibitGa:!0})};
Mqc=class{constructor(){this.initTime=performance.now();this.fps_=[];this.failedFps_=!1;this.runningFpsSum=0;this.timeToFirstQueue={durationMs:0,pageHiddenMs:0};this.timeToFirstDraw={durationMs:0,pageHiddenMs:0};this.timeToInteractivity={durationMs:0,pageHiddenMs:0};this.fpsStartOfRun_={timestamp:0,pageHiddenMs:0};this.currentRunningFps_=0;this.previousRead_=-1;this.computeStuckTime=!0;this.drawsExecuted=this.drawsRequested=this.totalDrawTime=this.stuckTime=0;this.isCollectingMetrics=!0;OO.startHiddenMeasurement("timeToFirstQueue")}get snapshot(){return Object.freeze({initTime:this.initTime,
timeToFirstQueue:this.timeToFirstQueue,timeToFirstDraw:this.timeToFirstDraw,timeToInteractivity:this.timeToInteractivity,stuckTime:this.stuckTime,totalDrawTime:this.totalDrawTime,fps:this.currentRunningFps_,drawsRequested:this.drawsRequested,drawsExecuted:this.drawsExecuted,drawPercent:this.drawsRequested?this.drawsExecuted/this.drawsRequested*100|0:0})}set currentRunningFps(a){this.currentRunningFps_=a}get currentRunningFps(){return this.currentRunningFps_}};
Nqc=class extends _.TK{constructor(){super();this.queue_=new Map;this.highQueue_=new Map;this.animationLoop_=null;this.measurements_=new Mqc;_.QO._measurements=this.measurements_}reset(){this.queue_=new Map;this.highQueue_=new Map;this.measurements_=new Mqc;this.animationLoop_&&(cancelAnimationFrame(this.animationLoop_),this.animationLoop_=null)}enqueue(a,b,c){if(!this.animationLoop_){0===this.measurements_.timeToFirstQueue.durationMs&&(Jqc(this.measurements_),OO.startHiddenMeasurement("timeToFirstDraw"));
const d=_.EN();let e=f=>{this.flush(f);this.animationLoop_=_.DN.useTerminatingDrawQueue||!this.measurements_.isCollectingMetrics?0<this.size?d(()=>requestAnimationFrame(e)):null:d(()=>requestAnimationFrame(e))};this.animationLoop_=d(()=>requestAnimationFrame(f=>{if(0===this.measurements_.timeToFirstDraw.durationMs){var g=this.measurements_;g.timeToFirstDraw={durationMs:performance.now()-(g.initTime+g.timeToFirstQueue.durationMs),pageHiddenMs:OO.endHiddenMeasurement("timeToFirstDraw")};OO.startHiddenMeasurement("timeToInteractivity")}e(f)}))}"lines"!==
a.layerName&&"selected"!==a.layerName&&"band"!==a.layerName||!c||!c.length||a.lowPriority&&!a._chart.isPanning&&!a._chart.isZooming?(this.highQueue_.delete(a),this.queue_.set(a,[b,c])):(this.queue_.delete(a),this.highQueue_.set(a,[b,c]))}dequeue(){let a=null;0<this.highQueue_.size&&(a=this.highQueue_.entries().next().value,this.highQueue_.delete(a[0]),a[0].lowPriority=!0);a||(a=this.queue_.entries().next().value,this.queue_.delete(a[0]));return a}executeNext(){let a=this.dequeue();a[1][0].call(a[0],
a[1][1])}flush(a){var b=0,c=performance.now();for(this.measurements_.drawsRequested=this.queue_.size+this.highQueue_.size;this.highQueue_.size||this.queue_.size+this.highQueue_.size&&8>b;)this.executeNext(),b=performance.now()-c;this.measurements_.drawsExecuted=this.measurements_.drawsRequested-(this.queue_.size+this.highQueue_.size);b=this.measurements_;if(-1===b.previousRead_)b.previousRead_=a,b=!1;else if(c=a-b.previousRead_,0===c)b=!1;else{var d=Math.round(1E3/c);b.previousRead_=a;b.runningFpsSum+=
d;a=performance.now();b.fps_.unshift({timestamp:a,fps:d});Kqc(b);for(a-=5E3;b.fps_[b.fps_.length-1].timestamp<a;)b.runningFpsSum-=b.fps_.pop().fps;a=!!b.timeToInteractivity.durationMs;let e=b.fps_.length;b.currentRunningFps=0===e?0:Math.round(b.runningFpsSum/e);b.computeStuckTime&&(15>d&&(b.stuckTime+=c),b.totalDrawTime+=c);a?b=!1:(15<b.currentRunningFps?(c=b.fpsStartOfRun_.timestamp)?2500<performance.now()-c&&(b.timeToInteractivity={durationMs:b.fpsStartOfRun_.timestamp-b.timeToFirstDraw.durationMs-
b.timeToFirstQueue.durationMs-b.initTime,pageHiddenMs:b.fpsStartOfRun_.pageHiddenMs},OO.endHiddenMeasurement("timeToInteractivity"),Lqc(b.timeToInteractivity)):b.fpsStartOfRun_={timestamp:performance.now(),pageHiddenMs:OO.getHiddenMeasurementTime("timeToInteractivity")}:b.fpsStartOfRun_={timestamp:0,pageHiddenMs:0},b=!!b.timeToInteractivity)}b&&this.trigger("perf:interactive",this.measurements_.snapshot);0<this.measurements_.drawsExecuted&&0===this.size&&_.QO.sendPointEvent("queue-emptied")}get measurements(){return this.measurements_.snapshot}get size(){return this.queue_.size+
this.highQueue_.size}};_.Oqc=new Nqc;
var Pqc=function(a){var b=0,c;if(0===a.length)return b;var d=0;for(c=a.length;d<c;d++){var e=a.charCodeAt(d);b=(b<<5)-b+e;b|=0;b=Math.abs(b)}return b},XO=function(a){a=window.btoa(escape(encodeURIComponent(a)));return a=WO(a)},WO=function(a){return a.replace(/[^A-Za-z0-9]/g,"_")};
var Qqc,Rqc,Sqc,Tqc,Uqc,Vqc,Wqc,Xqc,Yqc,$qc;Qqc="#4184F3 #FF5722 #FF8F00 #7CB342 #AA46BB #00ABC0 #F57C00 #9D9C23 #5B6ABF #EF6191 #00786A #C1175A #FA937F #0FBFFF #E91E63 #31D8D0 #E26C28 #9FABE4 #259FA7 #673AB7 #7AC6FF #F40BB2 #2E5D9E #E889FF".split(" ");Rqc={changes:"rgba(0, 255, 0, .2)",cloud_status:"rgba(255, 235, 59, .5)",annotations:"rgba(0, 204, 255, .2)",anomalies:"rgba(255, 153, 0, .5)",incident:"rgba(255, 0, 0, .5)"};Sqc={Incidents:"rgba(213, 0, 0, .4)",Anomalies:"rgba(255, 172, 65, .4)",Lifecycle:"rgba(15, 157, 88, .4)"};
Tqc={lightTheme:{background:"#ffffff",minor:"#f5f5f5",major:"#ebebeb","x-axis":"#d6d6d6",label:"#757575"},darkTheme:{background:"#000000",minor:"#151515",major:"#1f1f1f","x-axis":"#333333",label:"#949494"}};Uqc={lightTheme:"rgba(7, 60, 103, .03)",darkTheme:"rgba(255, 255, 255, .1)"};Vqc={lightTheme:{outline:"rgba(0, 0, 0, .16)",fill:"rgba(0, 0, 0, .08)"},darkTheme:{outline:"rgba(255, 255, 255, .3)",fill:"rgba(255, 255, 255, .2)"}};
Wqc={lightTheme:{outline:"rgba(0, 0, 0, .16)",fill:"rgba(0, 0, 0, .08)"},darkTheme:{outline:"rgba(255, 255, 255, .3)",fill:"rgba(255, 255, 255, .2)"}};Xqc={lightTheme:{outline:"rgba(0, 0, 0, .06)",fill:"rgba(0, 0, 0, .02)"},darkTheme:{outline:"rgba(255, 255, 255, .06)",fill:"rgba(255, 255, 255, .02)"}};Yqc={lightTheme:"#FFFFFF",darkTheme:"#FFFFFF"};_.Zqc="#263238 #1935AC #3E4EB8 #6734BA #8F19AC #DA135F #FF0C3E #FF6D00 #F6B500 #FFFF00 #FFFFFF".split(" ");$qc={lightTheme:"#44ff44",darkTheme:"#44ff44"};
_.YO=function(a){return Qqc[Pqc(a)%Qqc.length]};_.nh("awesomecharts.utils.ColorUtils.getColor",_.YO);_.nh("awesomecharts.utils.ColorUtils.getMDColors",function(){return Qqc});var arc=function(a){return Rqc[a]||"#00ccff"};_.nh("awesomecharts.utils.ColorUtils.getLegacyEventCategoryColor",arc);var brc=function(a){return Sqc[a]||"#00ccff"};_.nh("awesomecharts.utils.ColorUtils.getEventCategoryColor",brc);_.ZO=function(a,b){return(Tqc[b]||Tqc.lightTheme)[a]||"#efefef"};
_.nh("awesomecharts.utils.ColorUtils.getAxisColor",_.ZO);_.$O=function(a,b){b=Vqc[b]||Vqc.lightTheme;return b[a]||b.fill};_.nh("awesomecharts.utils.ColorUtils.getBandColor",_.$O);var crc=function(a,b){b=Wqc[b]||Wqc.lightTheme;return b[a]||b.fill};_.nh("awesomecharts.utils.ColorUtils.getCircleColor",crc);var drc=function(a,b){b=Xqc[b]||Xqc.lightTheme;return b[a]||b.fill};_.nh("awesomecharts.utils.ColorUtils.getExpandedMuxColor",drc);var erc=function(a,b){return b?Yqc[a]||Yqc.lightTheme:"rgba(255,255,255,0)"};
_.nh("awesomecharts.utils.ColorUtils.getPercentileColor",erc);var frc=function(a){return $qc[a]||$qc.lightTheme};_.nh("awesomecharts.utils.ColorUtils.getScatterplotColor",frc);_.nh("awesomecharts.utils.ColorUtils.getHeatmapColorPivots",function(){return _.Zqc});_.grc=function(a){return Uqc[a]||Uqc.lightTheme};_.nh("awesomecharts.utils.ColorUtils.getTileColor",_.grc);
var hrc=function(a){return(a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a))?{r:parseInt(a[1],16),g:parseInt(a[2],16),b:parseInt(a[3],16)}:null};_.nh("awesomecharts.utils.ColorUtils.hexToRgb",hrc);
var irc={},aP=_.LO("lineChart"),jrc,krc,lrc,mrc,nrc;_.nh("awesomecharts.utils.NearestLineUtils.DirectionEnum",{UNKNOWN:0,ASCENDING:1,DESCENDING:2});jrc=function(a,b){return[a[0]+b[0],a[1]+b[1]]};krc=function(a,b){return[a[0]-b[0],a[1]-b[1]]};lrc=function(a,b){return[a[0]*b[0]-a[1]*b[1],a[1]*b[0]+a[0]*b[1]]};mrc=function(a){return(0,Math.sqrt)(a[0]*a[0]+a[1]*a[1])};_.bP=function(a){return a&&1<a.length?a[0].x>a[a.length-1].x?2:1:0};
nrc=function(a,b,c,d){d=(0,Math.max)(d||0,0);if(0===b.length)return[0,0];c=2===c;var e="x";c&&(e=function(g){return-g.x});var f=_.NN(b,{x:a-d},e);0===d?e=f:(e=_.NN(b,{x:+a+d},e),c&&([f,e]=[e,f]));return 0===e&&(0,Math.abs)(a-b[0].x)<=d?[0,1]:[(0,Math.max)(f-1,0),(0,Math.min)(e,b.length-1)]};
irc.findNearestLine=function(a,b){let c=this,d=c.data||[],e={data:{apply:f=>[c.mapX1(f),c.mapY1(f)],invert:f=>({x:+c.scale("x").invert(f[0]),y:f[1]})}};if(c.getTimeshiftOffset&&c.getTimeshiftOffset()){const f=c.getTimeshiftOffset();e.shiftedData={apply:g=>[c.shiftedMapX1(g),c.mapY1(g)],invert:g=>({x:+c.scale("x").invert(g[0])+f,y:g[1]})}}a=_.orc(d,a,b,e);return null===a?null:d[a]};
irc.findCoveredArea=function(a){aP.time("coveredArea");const b=this;a=_.prc(b.data||[],a,{data:{apply:c=>{c=b.mapping(c);return[c.x1,(0,Math.min)(c.y0,c.y1),(0,Math.max)(c.y0,c.y1)]},invert:c=>({x:+b.scale("x").invert(c[0]),y:c[1]})}});return null===a?null:b.data[a]};
_.orc=function(a,b,c,d){aP.time("nearestLine");const [e,f]=b;let g,h,l,n=null,r=Infinity;for(let Ba=0;Ba<a.length;Ba++)for(const Ka of Object.keys(d)){let Va=d[Ka],cb=a[Ba][Ka]||[];var v=_.bP(cb);if(1<cb.length){var w=Va.invert(b).x,y=Va.invert([b[0]-c,b[1]]).x;w=nrc(w,cb,v,w-y);v=Infinity;for(y=w[0];y<w[1]&&!(y+1>=cb.length);y++){[ra,g]=Va.apply(cb[y]);[h,l]=Va.apply(cb[y+1]);for(var B,G,O=.5,T=O/2,J=32,R=Infinity;0<J--;){G=[ra,g];G=mrc(krc(jrc(G,lrc([O-T,0],krc([h,l],G))),[e,f]));B=[ra,g];B=mrc(krc(jrc(B,
lrc([O+T,0],krc([h,l],B))),[e,f]));G<B?O-=T:(G=B,O+=T);T/=2;if(1E-5>(0,Math.abs)(G-R)){R=G;break}R=G}var ra=R;.001<v-ra&&(v=ra)}}else if(1===cb.length)[ra,g]=Va.apply(cb[0]),v=mrc(krc([e,f],[ra,g]));else continue;!(isNaN(v)||v>c)&&.001<r-v&&(r=v,n=Ba)}aP.timeEnd("nearestLine");return r>c||!isFinite(r)||isNaN(r)||0>r?null:n};
_.prc=function(a,b,c){aP.time("coveredArea");const [d,e]=b;for(let h=0;h<a.length;h++)for(const l of Object.keys(c)){var f=c[l];let n=a[h][l]||[];if(2>n.length)continue;var g=_.bP(n);const r=f.invert(b).x;g=nrc(r,n,g);if(g[0]===g[1])continue;let [v,w]=g,[y,B,G]=f.apply(n[v]),[O,T,J]=f.apply(n[w]);f=(T-B)/(O-y)*(d-y)+B;if((J-G)/(O-y)*(d-O)+J>=e&&e>=f)return aP.timeEnd("coveredArea"),h}aP.timeEnd("coveredArea");return null};
var cP=function(){this.data=null;this.stat={value:0};this.config_={};this.name_="";this.displayed_=!0},Grc,rrc,Hrc,urc,xrc,wrc,zrc;_.nh("awesomecharts.utils.Stats.Stat",cP);_.aa=cP.prototype;_.aa.setData=function(a){this.data=a;this.compute()};_.aa.setName=function(a){this.name_=a};_.aa.compute=function(){};_.aa.draw=function(){};_.aa.isDisplayed=function(){return this.displayed_};cP.prototype.isDisplayed=cP.prototype.isDisplayed;cP.prototype.getStat=function(){return this.stat.value};
cP.prototype.getStat=cP.prototype.getStat;cP.prototype.getLineColor=function(){};cP.prototype.getLineColor=cP.prototype.getLineColor;cP.prototype.getValueAtTime=function(){};cP.prototype.getValueAtTime=cP.prototype.getValueAtTime;var dP=function(){cP.call(this);this.LABEL_COORDS={x:0,y:0};this.STAT_COORDS={x:0,y:20};this.label=""};_.Ui(dP,cP);dP.prototype.draw=function(a){_.eP(a,this.label,this.LABEL_COORDS,"statLabelText");a.drawValueText(this.stat.value,this.STAT_COORDS,"statValueText");a.endText()};
var qrc=function(){dP.call(this);this.label="Sum"};_.Ui(qrc,dP);qrc.prototype.draw=function(a){if("/s"===a.unitizer(1).substr(-2)){_.eP(a,this.label,this.LABEL_COORDS,"statLabelText");var b=a.unitizer(this.stat.value,"*s");_.eP(a,b,this.STAT_COORDS,"statValueText");a.endText()}else this.displayed_=!1};qrc.prototype.compute=function(){var a=_.MN(this.data,function(b){var c=0;ON(b,function(d,e){c+=Math.abs(e.x.getTime()-d.x.getTime())*(e.y+d.y)/2E3;return e});return c});this.stat.value=rrc(a)};
var src=function(){dP.call(this);this.label="Maximum"};_.Ui(src,dP);src.prototype.compute=function(){var a=_.MN(this.data,function(b){return mnc(b,"y")});a=mnc(a,"y");this.stat.value=a&&a.y};var trc=function(){dP.call(this);this.label="Minimum"};_.Ui(trc,dP);trc.prototype.compute=function(){var a=_.MN(this.data,function(b){return lnc(b,"y")});a=lnc(a,"y");this.stat.value=a&&a.y};var fP=function(){dP.call(this);this.label="Similarity";this.alignedData=null};_.Ui(fP,dP);
fP.prototype.setAlignedData=function(a){this.alignedData=a;this.compute()};fP.prototype.draw=function(a){_.eP(a,this.label,this.LABEL_COORDS,"statLabelText");_.eP(a,this.stat.value.toFixed(2),this.STAT_COORDS,"statValueText");a.endText()};
fP.prototype.compute=function(){null===this.alignedData&&(this.alignedData=urc(this.data||[]));var a=_.MN(this.alignedData,function(b){return b.y});a=_.MN(a,function(b){return{range:b[b.length-1]-b[0],mad:vrc(b)}});a=_.MN(a,this.normalize);a=rrc(a)/(a.length||1);this.stat.value=this.scale(a)};var vrc=function(a){var b=wrc(a,.5);a=_.MN(a,function(c){return Math.abs(c-b)});return xrc(a)};fP.prototype.normalize=function(a){var b=a.range;a=a.mad;return 0===b?1:b/(b+a)/(a+1)};
fP.prototype.scale=function(a){return Math.sqrt(Math.log2(a+1))};var gP=function(){cP.call(this);this.stat.data=[];this.alignedData=null;this.sampleCounts=[];this.config_={strokeFn:this.getLineColor.bind(this),strokeWidth:2.5}};_.Ui(gP,cP);gP.prototype.setAlignedData=function(a){this.alignedData=a;this.compute()};gP.prototype.setSampleCounts=function(a){this.sampleCounts=a};var yrc=function(a,b){return a.interpolate(a.sampleCounts,b,function(c,d,e){return Math.min(d.y,e.y)})||0};_.aa=gP.prototype;
_.aa.draw=function(a){gP.superClass_.draw.call(this,a);a.setConfig(this.config_);a.drawLine(this.getTimeSeries())};_.aa.compute=function(){this.alignedData||(this.alignedData=urc(this.data||[]))};_.aa.getTimeSeries=function(){return this.stat.data};
_.aa.interpolate=function(a,b,c){if(0===a.length)return null;for(var d=0,e=a.length-1,f;d<=e;){f=Math.floor((d+e)/2);f=a[f];var g=f.x,h=b;g.getTime&&(g=g.getTime());h.getTime&&(h=h.getTime());if(g==h)return f.y;f.x<b?d+=1:--e}return d>=a.length?a[a.length-1].y:0>e?a[0].y:c(b,a[e],a[d])};_.aa.getValueAtTime=function(a){return this.interpolate(this.stat.data,a,zrc)};_.aa.getLineColor=function(){var a={r:0,g:0,b:0};a=hrc(_.YO(this.name_))||a;return"rgba("+a.r+", "+a.g+", "+a.b+", 0.5)"};var Arc=function(){gP.call(this)};
_.Ui(Arc,gP);Arc.prototype.compute=function(){Arc.superClass_.compute.call(this);var a=0,b=0;this.stat.data=_.MN(this.alignedData,function(c){var d=c.x,e=ON(c.y,function(f,g){return f+g},0);b+=c.y.length;a+=e;e/=c.y.length||1;return{x:d,y:e}});this.stat.value=a/(b||1)};var Brc=function(){gP.call(this)};_.Ui(Brc,gP);
Brc.prototype.compute=function(){Brc.superClass_.compute.call(this);var a=0,b=0,c=0;this.stat.data=_.MN(this.alignedData,function(d){var e=d.x,f=ON(d.y,function(h,l){return h+l},0);f/=d.y.length||1;var g=ON(d.y,function(h,l){var n=l-b;a++;b+=n/a;c+=n*(l-b);return h+Math.pow(l-f,2)},0);g/=d.y.length-1||1;return{x:e,y:Math.sqrt(g)}});a=a-1||1;this.stat.value=Math.sqrt(c/a)};var hP=function(a){gP.call(this);1<a?a=1:0>a&&(a=0);this.percentile_=a};_.Ui(hP,gP);
hP.prototype.compute=function(){hP.superClass_.compute.call(this);var a=this.percentile_;this.stat.data=_.MN(this.alignedData,function(c){return{x:c.x,y:wrc(c.y,a)}});var b=_.MN(this.alignedData,function(c){return c.y});b=nnc(b);this.stat.value=Crc(this,b)};
var Crc=function(a,b){if(0===b.length)return 0;var c=(b.length+1)*a.percentile_;if(1>c)return lnc(b);if(c>=b.length)return mnc(b);var d=Math.floor(c);c-=d;var e=Drc(a,b,d-1);a=Drc(a,b,d);return e+c*(a-e)},Drc=function(a,b,c){for(var d,e,f=0,g=b.length;g--;)if(d=[],e=[],f=a.pivot(b),_.IN(b,function(h){h<f?d.push(h):h>f&&e.push(h)}),c<d.length)b=d;else if(c>=b.length-e.length)c-=b.length-e.length,b=e;else break;return f};hP.prototype.pivot=function(a){return a[Math.random()*a.length|0]};
var iP=function(a){gP.call(this);this.window_=a;this.stat.value=NaN};_.Ui(iP,gP);iP.prototype.setData=function(a){this.displayed_=void 0!==a&&0<a.length&&Erc(this,a[0]);iP.superClass_.setData.call(this,a)};iP.prototype.setAlignedData=function(a){this.displayed_=Erc(this,a);iP.superClass_.setAlignedData.call(this,a)};
iP.prototype.compute=function(){if(this.isDisplayed()){iP.superClass_.compute.call(this);var a=_.MN(this.alignedData,function(n){return{sum:rrc(n.y),cnt:n.y.length}}),b=Frc(this.alignedData);b=this.window_/b;var c=a.slice(0,b),d=rrc(_.MN(c,function(n){return n.sum}));c=rrc(_.MN(c,function(n){return n.cnt}));for(var e={sum:0,cnt:0},f=[],g=0;g<a.length;g++){var h=a[g+b]||e,l=a[g-b-1]||e;d+=h.sum-l.sum;c+=h.cnt-l.cnt;f.push({x:this.alignedData[g].x,y:d/(c||1)})}this.stat.data=f}else this.stat.data=[]};
iP.prototype.draw=function(a){this.isDisplayed()&&iP.superClass_.draw.call(this,a)};var Erc=function(a,b){var c=Frc(b),d=a.getDomain(b);if(1<b.length){a=Grc[a.window_.toString()];var e;if(!a)return!1;for(e=0;e<a.length;++e)if(b=a[e],b.granularity===c&&b.lowDomain<=d&&b.highDomain>d)return!0}return!1},Frc=function(a){if(1>=a.length)return 0;var b=Infinity;ON(a,function(c,d){c=d.x.getTime()-c.x.getTime();c<b&&(b=c);return d});return b/6E4};
iP.prototype.getDomain=function(a){return 1<a.length?(a[a.length-1].x.getTime()-a[0].x.getTime())/6E4:0};Grc={5:[{granularity:.5,lowDomain:0,highDomain:1440},{granularity:1,lowDomain:0,highDomain:1440}],15:[{granularity:1,lowDomain:360,highDomain:1440},{granularity:5,lowDomain:1440,highDomain:8640}],60:[{granularity:5,lowDomain:1440,highDomain:8640}],120:[{granularity:60,lowDomain:8640,highDomain:60480}]};rrc=function(a){return ON(a,function(b,c){return b+c},0)};
Hrc=function(a){return Array.isArray(a)?a.concat().sort(function(b,c){return b.x-c.x}):[]};urc=function(a){var b={},c=function(e){var f=e.x.getTime().toString(),g=b[f];g?g.y.push(e.y):b[f]={x:e.x,y:[e.y]}};_.IN(a,function(e){_.IN(e,c)});var d=[];_.IN(b,function(e){d.push(e)});_.IN(d,function(e){e.y.sort(function(f,g){return f-g})});return Hrc(d)};
_.Irc=function(a){if(0===a.length)return[];var b=Infinity,c=Infinity,d=-Infinity,e=[];_.IN(a,function(h){var l=_.bP(h);e.push(l);var n=0,r=h.length,v=1;1===l&&(n=h.length-1,v=r=-1);for(l=n;l!=r;l+=v)if(n=h[l].x.getTime(),n<c&&(c=n),n>d&&(d=n),l+v!=r){let w=h[l+v].x.getTime();n-=w;0<n&&n<b&&(b=n)}});if(!isFinite(c)||!isFinite(d))return[];isFinite(b)||(b=60);var f=[],g=1+Math.floor((d-c)/b);for(let h=0;h<g;h++)f.push({begin:new Date(c+h*b),end:new Date(c+(h+1)*b),points:[]});_.IN(a,function(h,l){var n=
f.length-1,r=0,v=-1,w=function(y,B){return y.begin.getTime()>B};1===e[l]&&(n=0,r=f.length-1,v=1,w=function(y,B){return y.end.getTime()<=B});_.IN(h,function(y){for(var B=y.x.getTime();n!=r&&w(f[n],B);n+=v);f[n].points.push({index:l,value:y.y})})});_.IN(f,function(h){h.points.sort(function(l,n){return isFinite(l.value)?isFinite(n.value)?l.value-n.value:-1:1})});return f};
xrc=function(a){if(0===a.length)return 0;var b=a.concat().sort(function(c,d){return c-d});a=a.length;return a%2?b[a/2|0]:(b[a/2]+b[a/2-1])/2};wrc=function(a,b){b*=a.length+1;if(1>b)return a[0];if(b>=a.length)return a[a.length-1];var c=Math.floor(b),d=a[c-1];return d+(b-c)*(a[c]-d)};zrc=function(a,b,c){var d=c.x.getTime()-b.x.getTime();return b.y+(c.y-b.y)/(d||1)*(a.getTime()-b.x.getTime())};
_.jP=class{constructor(){this._onSetChangeSubject=new _.tf;this.onSetChange=this._onSetChangeSubject.asObservable();this._onTrackNowChangeSubject=new _.tf;this.onTrackNowChange=this._onTrackNowChangeSubject.asObservable();this._isLocked=!1;this._date=null;this._isTrackingNow=!1}isLocked(){return this._isLocked}isTrackingNow(){return this._isTrackingNow}getDate(){return this._date}set(a,b){this._isLocked=b||"undefined"===typeof b;this._date=a;this._onSetChangeSubject.next()}unset(){this._isLocked=
!1;this._date=null;this._onSetChangeSubject.next()}enableTrackNow(){this._isTrackingNow=!0;this._onTrackNowChangeSubject.next()}disableTrackNow(){this._isTrackingNow=!1;this._onTrackNowChangeSubject.next()}};
var Jrc=_.LO("baseChart"),Krc=function(a,b){if(!a)throw Error("Ci`"+b);},Lrc=function(a,b){b=b||{};var c=a._width-a._margins.left-a._margins.right;0>c&&(c=0);c!==a._innerWidth&&(a._innerWidth=c,b.init||a.trigger("change:innerWidth",c,b.synchronous));c=a._height-a._margins.top-a._margins.bottom;0>c&&(c=0);c!==a._innerHeight&&(a._innerHeight=c,b.init||a.trigger("change:innerHeight",c,b.synchronous))},kP=function(a,b){b=b||{};var c;const d=_.QO.instrument("reflow",function(){if(b.retry){if(b.retry++,
10<b.retry){_.DN.isWhitelisted("chart-debug")&&console.warn("Width or height of chart == 0");return}}else b.retry=1;try{c=a.base.node().getBoundingClientRect()}catch(g){c={}}var e=Math.round(c.width)||a._width||0,f=Math.round(c.height)||a._height||0;b.widthChanged=!1;e!==a._width&&(a._width=e,b.init||a.trigger("change:width",e,b.synchronous),b.widthChanged=!0);f!==a._height&&(a._height=f,b.init||a.trigger("change:height",f,b.synchronous));!b.init&&!a.isPlot&&"band"!==a.chartType||0!==a._width&&0!==
a._height&&!b.widthChanged||_.RO(()=>{b.init=!1;kP(a,b)},150)});b.synchronous?d():_.EN()(d)},lP=function(){};_.nh("awesomecharts.charts.BaseChart",lP);lP.prototype.group=function(){};lP.prototype.group=lP.prototype.group;lP.prototype.setParent=function(){};lP.prototype.setParent=lP.prototype.setParent;lP.prototype.getParent=function(){};lP.prototype.getParent=lP.prototype.getParent;lP.prototype.hideText=function(){};lP.prototype.hideText=lP.prototype.hideText;lP.prototype.height=function(){};
lP.prototype.height=lP.prototype.height;lP.prototype.width=function(){};lP.prototype.width=lP.prototype.width;lP.prototype.innerHeight=function(){};lP.prototype.innerHeight=lP.prototype.innerHeight;lP.prototype.innerWidth=function(){};lP.prototype.innerWidth=lP.prototype.innerWidth;lP.prototype.draw=function(){};lP.prototype.margin=function(){};lP.prototype.margin=lP.prototype.margin;lP.prototype.setColorManager=function(){};lP.prototype.setColorManager=lP.prototype.setColorManager;
lP.prototype.getColorManager=function(){};lP.prototype.getColorManager=lP.prototype.getColorManager;lP.prototype.unlayer=function(){};lP.prototype.unlayer=lP.prototype.unlayer;lP.prototype.cleanup=function(){};lP.prototype.cleanup=lP.prototype.cleanup;lP.prototype.brush=function(){};lP.prototype.brush=lP.prototype.brush;lP.prototype.brushLock=function(){};lP.prototype.brushLock=lP.prototype.brushLock;lP.prototype.domainX=function(){};lP.prototype.domainX=lP.prototype.domainX;lP.prototype.resize=function(){};
lP.prototype.resize=lP.prototype.resize;lP.prototype.unit=function(){};lP.prototype.unit=lP.prototype.unit;lP.extend=function(){};lP.extend=lP.extend;lP.prototype.once=function(){};lP.prototype.once=lP.prototype.once;lP.prototype.on=function(){};lP.prototype.on=lP.prototype.on;lP.prototype.off=function(){};lP.prototype.off=lP.prototype.off;lP.prototype.trigger=function(){};lP.prototype.trigger=lP.prototype.trigger;lP.prototype.scale=function(){};lP.prototype.scale=lP.prototype.scale;
lP.prototype.addFilter=function(){};lP.prototype.addFilter=lP.prototype.addFilter;lP.prototype.applyFilter=function(){};lP.prototype.applyFilter=lP.prototype.applyFilter;lP.prototype.getStats=function(){};lP.prototype.getStats=lP.prototype.getStats;lP.prototype.getTimezonePreference=function(){};lP.prototype.getTimezonePreference=lP.prototype.getTimezonePreference;lP.prototype.setTimezonePreference=function(){};lP.prototype.setTimezonePreference=lP.prototype.setTimezonePreference;
lP.prototype.timePinEnabled=function(){};lP.prototype.timePinEnabled=lP.prototype.timePinEnabled;lP.prototype.mousePosInMargin=function(){var a=d3.mouse(this.svg.node());a[0]-=this._margins.left;a[1]-=this._margins.top;return a};lP.prototype.isPosInMargin=function(a,b){return this.isXPosInMargin(a)&&0<=b&&b<=this.innerHeight()};lP.prototype.isXPosInMargin=function(a){return 0<=a&&a<=this.innerWidth()};lP.prototype.xStateFromPos=function(a){return this.scale("x").invert(a)};
lP.prototype.xStateFromPos=lP.prototype.xStateFromPos;lP.prototype.yStateFromPos=function(a){return this.scale("y").invert(a)};lP.prototype.yStateFromPos=lP.prototype.yStateFromPos;lP.prototype.streamIdFromXY=function(){};lP.prototype.streamIdFromXY=lP.prototype.streamIdFromXY;lP.prototype.streamValuesFromXY=function(){};lP.prototype.streamValuesFromXY=lP.prototype.streamValuesFromXY;lP.prototype.streamValuesFromX=function(){};lP.prototype.streamValuesFromX=lP.prototype.streamValuesFromX;
lP.prototype.streamValuesFromY=function(){};lP.prototype.streamValuesFromY=lP.prototype.streamValuesFromY;lP.prototype.syncForTesting=function(){};lP.prototype.syncForTesting=lP.prototype.syncForTesting;
lP=d3.chart("awesomecharts.base",{initialize:function(){this.base.node()._chart=this;this.base.classed("sd-chart-base",!0);this._margins={top:0,right:0,bottom:0,left:0};this._scales={};this._domainCache={};this._filterLayer=null;this.prop("responsive");this.responsive(!0);var a=this.syncForTesting();kP(this,{init:!0,synchronous:a});Lrc(this,{init:!0,synchronous:a});a=function(c,d){Lrc(this,{synchronous:d})};this.on("change:width",a);this.on("change:height",a);this.on("change:margin",a);this.on("proxy:mousemove",
()=>{if(null!=this._dataLayer){var c=this._dataLayer.getState();if(this.isDragging)c.x=null,c.y=null;else{var [d,e]=this.mousePosInMargin();if(this.isPosInMargin(d,e)){const f=this.xStateFromPos(d),g=this.yStateFromPos(e);this.titleFromXY&&(c.title=this.titleFromXY(f,g));c.x=f;c.y=g;this.streamIdFromXY&&(c.hover=this.streamIdFromXY(f,g))}else c.hover=null,c.x=null,c.y=null}}});this.on("proxy:mousedown",()=>{if(null!=this._dataLayer&&this.streamIdFromXY){var c=this._dataLayer.getState(),d=this.disableSelection||
c.disableSelection,[e,f]=this.mousePosInMargin();if(0<=e&&e<=this.innerWidth()&&0<=f&&f<=this.innerHeight()){var g=this.xStateFromPos(e);const h=this.yStateFromPos(f);if(g=this.streamIdFromXY(g,h))if(this.singleSelection&&c.clearSelected(),d||(c.toggleSelected(g)?this.trigger("ave:lineSelect"):this.trigger("ave:lineDeselect")),c.onSelectHandler)c.onSelectHandler(this.streamFromStreamId(g))}}});this.on("proxy:mouseout",()=>{if(null!=this._dataLayer){var c=this._dataLayer.getState();c.x=null;c.y=null;
c.hover=null;c.title=null}});a=c=>d=>{const e=d.getState();c(e)&&this.updateHighlight(d)};this.bindStateEvent_("change:selected",this.updateHighlight,a(c=>c.selected&&c.selected.size));this.bindStateEvent_("change:hover",this.updateHighlight,a(c=>c.hover));var b=this;this._resize=_.SO(()=>kP(b),150);_.EN()(()=>{window.addEventListener("resize",this._resize)});this.chartType="base";this.id=this.id||_.UO("chart")},destroy:function(){window.removeEventListener("resize",this._resize)},addBase:function(a,
b,c){c=c||this.svg;return c.append(b||"g").classed(a,!0)},mousePosInMargin:lP.prototype.mousePosInMargin,isPosInMargin:lP.prototype.isPosInMargin,isXPosInMargin:lP.prototype.isXPosInMargin,xStateFromPos:lP.prototype.xStateFromPos,yStateFromPos:lP.prototype.yStateFromPos,streamIdFromXY:lP.prototype.streamIdFromXY,streamValuesFromXY:lP.prototype.streamValuesFromXY,streamValuesFromX:lP.prototype.streamValuesFromX,streamValuesFromY:lP.prototype.streamValuesFromY,syncForTesting:lP.prototype.syncForTesting,
timePinEnabled:function(a){a?this.timePin||(this.timePin=new _.jP):delete this.timePin},streamFromStreamId:function(a){if(this.data){for(let b=0;b<this.data.length;b++){const c=this.data[b];if(_.VO(c)===a)return c}return null}},updateHighlight:function(){},margin:function(a,b){var c;if(0===arguments.length)return _.JN({},this._margins);if("object"===typeof a)for(c in a)Object.prototype.hasOwnProperty.call(a,c)&&(this._margins[c]=+a[c]);else if(2===arguments.length)this._margins[a]=+b;else return this._margins[a];
this.trigger("change:margin",this._margins);return this},hideText:function(a){if(void 0===a)return this._hideText;"boolean"===typeof a&&(this._hideText=a);return this},width:function(a){if(0===arguments.length)return this._width;"number"===typeof a&&(a+="px");this.base.style("width",a);kP(this);return this},height:function(a){if(0===arguments.length)return this._height;"number"===typeof a&&(a+="px");this.base.style("height",a);kP(this);return this},innerHeight:function(){return this._innerHeight},
innerWidth:function(){return this._innerWidth},setColorManager:function(a){this.colorManager_=a},getColorManager:function(){return this.colorManager_},proxyEvent:function(a,b){Krc("function"===typeof a.on,"Selection must be a d3 selection");_.EN()(()=>{a.on(b,()=>{const c="proxy:"+b;this.trigger(c,d3.event);this.trigger("proxyEvent",c)})})},scale:function(a,b,c){var d=arguments.length;if(0===d)return _.JN({},this._scales);if("string"===typeof a){if(1===d)return this._scales[a];if("string"===typeof b){if(2===
d)return this._scales[a][b]();d=this._scales[a][b]();d&&d.some&&!d.some(function(e,f){if(c[f]!==e)return!0})||(this._scales[a][b](c),this.trigger("change:scale",a,this._scales[a]))}else Krc("function"===typeof b,"Setting a scale, must be a function"),Krc("function"===typeof b.domain,"Setting a scale, must have domain method"),Krc("function"===typeof b.range,"Setting a scale, must have range method"),this._scales[a]=b,this.trigger("change:scale",a,b)}return this},addFilter:function(a){this._filterLayer=
a;return this},applyFilter:function(a){return null!=this._filterLayer?(Jrc.time("filterData"),a=this._filterLayer.filter(a),Jrc.timeEnd("filterData"),a):a},setParent:function(a){this._parentContainer=a},getParent:function(){return this._parentContainer},group:function(a){if(0===arguments.length)return this.getParent();this.setParent(a);return this},props:function(a){Array.prototype.forEach.call(a,this.prop,this)},prop:function(a,b){this[a]=function(c){if(0===arguments.length)return this["_"+a];var d=
this["_"+a];if("function"===typeof b&&!1===b.call(this,c,d))return this;this["_"+a]=c;this.trigger("change:"+a,c,d);return this}},setDataLayer:function(a){const b=this._dataLayer;this._dataLayer=a;this.trigger("change:dataLayer",a,b)},getTimezonePreference:function(){return this._timezonePreference||"LocalTime"},setTimezonePreference:function(a){this._timezonePreference=a;return this},resize:function(a=!1){kP(this,{synchronous:a})},draw:function(a,b){const c=_.QO.instrument("chart-draw-"+this.chartType,
()=>{a&&a.dataLayer&&this.setDataLayer(a.dataLayer);this.trigger("draw:start");d3.chart().prototype.draw.call(this,a,b);this.trigger("draw:end")});b?c():_.EN()(c)},unlayer:function(a){var b=arguments;_.EN()(()=>{d3.chart().prototype.unlayer.apply(this,b)})},layer:function(a){var b=arguments;return _.EN()(()=>{var c=d3.chart().prototype.layer.apply(this,b),d=this;if(!c)return c;if(!c.acWrapped_){var e=c.draw;c.draw=function(f,g){d.trigger("layerDraw:start",a);_.DN.isWhitelisted("chart-draw-queue")&&
!g?_.Oqc.enqueue(c,_.QO.instrument("layer-draw-"+a,e),f):e.call(c,f);d.trigger("layerDraw:end",a)};c.acWrapped_=!0}c.layerName=a;return c})},cleanup:function(){this.off(null,null,this.group());this.group(null);this._dataLayer&&this._dataLayer.getState().off(null,null,this)},domainX:null,domainY:null,unit:null,supportAxis:function(a){return"x"===a},responsiveForm:function(){return this.base.attr("form")?this.base.attr("form").toLowerCase():120>=this.width()?this.ResponsiveFormEnum.COMPACT:400<=this.height?
this.ResponsiveFormEnum.EXPANDED:this.ResponsiveFormEnum.STANDARD},on:function(a,b,c){return _.EN()(()=>Object.getPrototypeOf(lP.prototype).on.call(this,a,b,c))},bindStateEvent_:function(a,b,c){b=b.bind(this);c=c||(()=>{});this.on("change:dataLayer",function(d,e){d!==e&&(null!=e&&e.getState().off(a,b),null!=d&&(d.getState().on(a,b,this),c(d)))});null!=this._dataLayer&&(this._dataLayer.getState().on(a,b,this),c(this._dataLayer))},ResponsiveFormEnum:{COMPACT:"compact",STANDARD:"standard",EXPANDED:"expanded"},
dataX0:function(a){return a.x0||a.x||void 0},dataX1:function(a){return a.x1||a.x||void 0},dataY0:function(a){return a.y0||(0===a.y0?0:a.y||(0===a.y?0:void 0))},dataY1:function(a){return a.y1||(0===a.y1?0:a.y||(0===a.y?0:void 0))}});
var Mrc;Mrc=[4,2];_.Nrc=[5,5];
var mP,Orc,Src,Trc,Vrc;mP=_.LO("canvas");
_.nP=function(a){this.canvas=a.canvas;this.background=(this.colorChartModeBackground=a.background)||"transparent";this.fillStyle=a.fillStyle||"transparent";this.strokeStyle=a.strokeStyle||"rgba(255,255,255,0.2)";this.font=a.font||"sans-serif";this.textBaseline=a.textBaseline||"bottom";this.textAlign=a.textAlign||"start";this.map=a.map||function(b){return b};this.shiftedMap=a.map||function(b){return b};this.globalAlpha=a.globalAlpha||1;this.globalCompositeOperation=a.globalCompositeOperation||"source-over";
this.fillFn=a.fillFn;this.strokeFn=a.strokeFn;this.textFillStyle=a.textFillStyle||null;this.canvas.style.height=a.height+"px";this.canvas.style.width=a.width+"px";this.scale=a.scale||2;if(0===this.scale)throw"Canvas scale can not be 0";this.SHARP_LINE_OFFSET=.5/this.scale;this.strokeWidth=a.strokeWidth||1.25;this.dashPattern=a.dashPattern||[];this.canvas.width=this.width=a.width*this.scale;this.canvas.height=this.height=a.height*this.scale;this.ctx=this.canvas.getContext("2d");this.ctx.save();this.ctx.globalCompositeOperation=
"screen";this._supportsOverlay="screen"===this.ctx.globalCompositeOperation;this.ctx.restore()};Orc=2*Math.PI;_.nP.prototype.resize=function(a,b){this.canvas.style.height=b+"px";this.canvas.style.width=a+"px";this.canvas.width=this.width=a*this.scale;this.canvas.height=this.height=b*this.scale;this.clear();return this};
_.nP.prototype.clear=function(){_.DN.isWhitelisted("chart-disable-clear-workaround")||(this.canvas.width+=1,--this.canvas.width);this.ctx.save();"transparent"===this.background?this.ctx.clearRect(0,0,this.width,this.height):(this.ctx.fillStyle=this.background,this.ctx.fillRect(0,0,this.width,this.height),this.ctx.fill());this.ctx.restore();return this};
var Prc=function(a,b){var c=frc();if(b&&b.length){var d=a.map,e=a.ctx;e.save();e.globalCompositeOperation="source-over";e.scale(a.scale,a.scale);mP.time("render points");a=b.dataLayer.getState().selected;var f=b.dataLayer.getState().hover;for(const h of b){var g=h.data;if(!g||!g.length)return;e.globalAlpha=.4;e.lineWidth=1;b=h.color||c;a&&0<a.size?(e.strokeStyle="#9aa0a6",e.fillStyle="#9aa0a6"):(e.strokeStyle=b,e.fillStyle=b);const l=[];let n;for(const r of g){const [v,w]=d(r);e.beginPath();e.arc(v,
w,4,0,2*Math.PI,!1);e.fill();e.stroke();e.stroke();r.id&&(a.has(r.id)&&l.push([v,w]),r.id===f&&(n=[v,w]))}a&&0<a.size&&(e.strokeStyle=b,e.fillStyle=b);e.globalAlpha=1;e.fillStyle="rgba(255, 255, 255, .75)";g=[...l];n&&g.push(n);for(const [r,v]of g)e.beginPath(),e.arc(r,v,7.5,0,2*Math.PI,!1),e.fill();e.fillStyle=b;e.globalAlpha=1;e.lineWidth=1;for(const [r,v]of l)e.beginPath(),e.arc(r,v,4,0,2*Math.PI,!1),e.fill(),e.beginPath(),e.arc(r,v,7.5,0,2*Math.PI,!1),e.stroke();if(n){const [r,v]=n;e.globalAlpha=
1;e.beginPath();e.arc(r,v,4,0,2*Math.PI,!1);e.fill();e.globalAlpha=.3;e.lineWidth=3.5;e.beginPath();e.arc(r,v,5.75,0,2*Math.PI,!1);e.stroke()}}mP.timeEnd("render points");e.restore()}},oP=function(a,b,c=0,d){if(b&&b.length){var e=a.map,f=a.ctx;f.save();f.globalCompositeOperation="source-over";f.scale(a.scale,a.scale);f.fillStyle=d||a.fillStyle;mP.time("render points");for(let g of b)a=e(g),b=a[0],f.fillRect(b,c,a[1]-b,a[2]);mP.timeEnd("render points");f.restore()}};
_.nP.prototype.drawLines=function(a,b,c,d){a=a||[];if(a.length){var e=this.map,f=this.shiftedMap,g=this.ctx,h=_.DN.isWhitelisted("chart-show-data-gaps");g.save();g.globalCompositeOperation=this.globalCompositeOperation;g.globalAlpha=this.globalAlpha;var l=a.length;mP.time("render_lines_"+a.length);if(c)for(g.lineWidth="0";l--;){var n=a[l].data;if(0!==n.length){c=[];for(let T=0,J=n.length;T<J;T++){var r=(({x:R,x0:ra,y:Ba})=>({x:R,x0:ra,y:Ba}))(n[T]);r.y=n[T].min;c.push(r)}for(let T=n.length,J=T-1;0<=
J;J--)r=(({x:R,x0:ra,y:Ba})=>({x:R,x0:ra,y:Ba}))(n[J]),r.y=n[J].max,c.push(r);n=c.length;this.strokeFn&&(g.strokeStyle=this.strokeFn(a[l],l)+"1A",g.fillStyle=g.strokeStyle);g.save();g.beginPath();g.scale(this.scale,this.scale);var v=e(c[0],0,l);g.moveTo((v[0]|0)+this.SHARP_LINE_OFFSET,(v[1]|0)+this.SHARP_LINE_OFFSET);for(r=1;r<n;r++)v=e(c[r],r,l),g.lineTo((v[0]|0)+this.SHARP_LINE_OFFSET,(v[1]|0)+this.SHARP_LINE_OFFSET);g.closePath();g.fill();g.stroke();g.restore()}}g.fillStyle="transparent";g.lineWidth=
this.strokeWidth;this.strokeFn||(g.strokeStyle=this.strokeStyle);for(l=a.length;l--;)for(c=[{lineName:"data",mapFn:e,dashPattern:this.dashPattern}],a[l].shiftedData&&f&&c.push({lineName:"shiftedData",mapFn:f,dashPattern:Mrc}),n=0;n<c.length;n++){r=c[n].mapFn;let T=a[l][c[n].lineName]||[],J=T.length;g.setLineDash(c[n].dashPattern);if(0!==J){this.strokeFn&&(g.strokeStyle=this.strokeFn(a[l],l));g.save();g.beginPath();g.scale(this.scale,this.scale);var w,y=0;v=!1;a[l]&&a[l].metadata&&(v=a[l].metadata,
y=v.gapThreshold||0,v=v.dontDrawGaps||!1);v||(y=Math.max(y,b));if(h&&0<y){var B=function(Ka,Va){Ka-=2;g.moveTo(Ka,Va);g.lineTo(Ka+4,Va)}.bind(this);let R=0,ra,Ba;for(w=0;w<J;w++){var G=T[w];(v=T[w+1])||(v={x:-Infinity,y:Infinity});Ba=Math.abs(G.x-v.x)>y;ra=R===w;v=r(G,w,l);var O=r({x:G.x,y:0});G=(v[0]|0)+this.SHARP_LINE_OFFSET;v=(v[1]|0)+this.SHARP_LINE_OFFSET;O=(O[1]|0)+this.SHARP_LINE_OFFSET;d?0===w?g.moveTo(G,v):(ra&&g.lineTo(G,O),g.lineTo(G,v),Ba&&w!==J-1&&g.lineTo(G,O)):ra?Ba?B(G,v):g.moveTo(G,
v):g.lineTo(G,v);Ba&&(R=w+1)}}else if(1<J)for(w=0,B=null;w<J;)for(v=r(T[w],0,l),y=B,B=T[w].tileDomain,y&&B&&y[0]<=B[1]&&B[0]<=y[1]?g.lineTo((v[0]|0)+this.SHARP_LINE_OFFSET,(v[1]|0)+this.SHARP_LINE_OFFSET):g.moveTo((v[0]|0)+this.SHARP_LINE_OFFSET,(v[1]|0)+this.SHARP_LINE_OFFSET),w++;w<J&&T[w].tileDomain===B;w++)v=r(T[w],w,l),g.lineTo((v[0]|0)+this.SHARP_LINE_OFFSET,(v[1]|0)+this.SHARP_LINE_OFFSET);else v=e(T[0],0,l),G=(v[0]|0)+this.SHARP_LINE_OFFSET,v=(v[1]|0)+this.SHARP_LINE_OFFSET,g.fillStyle=g.strokeStyle,
g.arc(G,v,2,0,Orc),g.closePath(),g.fill();g.stroke();g.restore()}}g.restore();mP.timeEnd("render_lines_"+a.length)}};
_.pP=function(a,b,c){b=b||[];if(b.length){var d=a.map,e=a.ctx;e.save();e.globalCompositeOperation=a.globalCompositeOperation;e.globalAlpha=a.globalAlpha;e.lineWidth=a.strokeWidth;a.strokeFn||(e.strokeStyle=a.strokeStyle);a.fillFn||(e.fillStyle=a.fillStyle);mP.time("render rects");for(var f=b.length,g=b.length-1,h;f--;){const l=b[f].data,n=l.length;if(0!==n){a.strokeFn&&(a.strokeStyle=e.strokeStyle=a.strokeFn(b[f],f));a.fillFn&&(a.fillStyle=e.fillStyle=a.fillFn(b[f],f));e.save();e.scale(a.scale,a.scale);
for(let r=0;r<n;r++){h=d(l[r],r,f);Array.isArray(h)||(h=[h]);for(let v=0;v<h.length;v++){const w=h[v];3===c&&w.explicitValue&&_.eP(a,w.explicitValue,w.x+w.w/2,w.y,!0);0!==w.h&&(w.fillStyle&&(e.fillStyle=w.fillStyle),w.globalAlpha&&(e.globalAlpha=w.globalAlpha),e.fillRect(w.x+a.SHARP_LINE_OFFSET,w.y+a.SHARP_LINE_OFFSET,w.w,w.h),1===c&&f===g&&_.eP(a,w.stackedValue,w.x+w.w/2,w.y,!0))}}e.restore()}}e.restore();mP.timeEnd("render rects")}};
_.nP.prototype.drawAreas=function(a,b,c){this.globalAlpha=.12;this.strokeStyle="transparent";for(let f=0;f<a.length;f++){const g=a[f].data,h=[];for(var d=0;d<g.length;d++){var e=c(g[d]);h.push(e)}for(d=g.length-1;0<=d;d--)e=b(g[d]),h.push(e);this.fillFn&&(this.fillStyle=this.fillFn(a[f]));_.qP(this,h,!0)}};
_.qP=function(a,b,c,d,e){b=b||[];var f=b.length;if(f){var g=a.map,h=a.ctx;h.save();h.globalCompositeOperation=a.globalCompositeOperation;h.globalAlpha=a.globalAlpha;h.fillStyle=a.fillStyle;h.lineWidth=a.strokeWidth;h.strokeStyle=a.strokeFn?a.strokeFn(b):a.strokeStyle;mP.time("draw path");h.scale(a.scale,a.scale);h.beginPath();var l=g(b[0],0);h.moveTo((l[0]|0)+a.SHARP_LINE_OFFSET,(l[1]|0)+a.SHARP_LINE_OFFSET);for(var n=1;n<f;n++)l=g(b[n],n),d&&h.setLineDash(d),h.lineTo((l[0]|0)+a.SHARP_LINE_OFFSET,
(l[1]|0)+a.SHARP_LINE_OFFSET),d&&h.setLineDash(d),e&&n<f/2&&h.stroke();c&&h.closePath();h.fill();e||h.stroke();h.restore();mP.timeEnd("draw path")}};_.Qrc=function(a,b,c){var d=a.ctx;d.save();d.globalCompositeOperation=a.globalCompositeOperation;d.globalAlpha=a.globalAlpha;d.fillStyle=a.fillStyle;d.lineWidth=a.strokeWidth;d.strokeStyle=a.strokeStyle;d.scale(a.scale,a.scale);const e=c(b[0]);b=c(b[1]);d.fillRect(e,0,b,a.height);d.restore()};
_.Rrc=function(a,b,c){b=b||[];if(b.length){var d=a.map,e=a.ctx;e.save();e.globalCompositeOperation=a.globalCompositeOperation;e.globalAlpha=a.globalAlpha;e.fillStyle=a.fillStyle;e.strokeStyle=a.strokeStyle;e.lineWidth=a.strokeWidth;mP.time("draw shapes");b.forEach((f,g)=>{f=d(f,g);e.save();e.scale(a.scale,a.scale);e.fillStyle=a.fillFn?a.fillFn(f):a.fillStyle;e.strokeStyle=a.strokeFn?a.strokeFn(f):a.strokeStyle;c(a,e,f.x,f.y,f.h,f.w,f.data);e.restore()});e.restore();mP.timeEnd("draw shapes")}};
Src=function(a,b){var c=a.ctx;b||c.scale(a.scale,a.scale);c.globalAlpha=a.globalAlpha;c.font=a.font;c.fillStyle=a.textFillStyle||a.fillStyle;c.textAlign=a.textAlign;c.textBaseline=a.textBaseline};_.eP=function(a,b,c,d,e,f){var g=a.ctx;g.save();Src(a,e);if(0<f){b=b.split(" ");e="";for(let h=0;h<b.length;h++){const l=e+(0<e.length?" ":"")+b[h];a.measureText(l)>f&&0<e.length?(g.fillText(e,c,d),e=b[h],d+=10):e=l}g.fillText(e,c,d)}else g.fillText(b,c,d);g.restore()};
_.nP.prototype.measureText=function(a){return Trc(this,[a])};Trc=function(a,b){var c=a.ctx;c.save();Src(a);a=Math.max(...b.map(d=>c.measureText(d).width));c.restore();return a};_.Urc=function(a){var b=a.ctx;b.save();b.globalCompositeOperation="multiply";b.globalAlpha=a.globalAlpha;b.fillStyle="rgba(178,197,255,1)";b.fillRect(0,0,a.width,a.height);b.restore()};
Vrc=function(a,b,c,d,e,f,g){if(Infinity!==g.gain){f/=2;var h=e/2;e=d-h;h=d+h;var l=c-f;f=c+f;b.beginPath();b.moveTo(l+4,e);b.lineTo(f-4,e);b.quadraticCurveTo(f,e,f,e+4);b.lineTo(f,h-4);b.quadraticCurveTo(f,h,f-4,h);b.lineTo(l+4,h);b.quadraticCurveTo(l,h,l,h-4);b.lineTo(l,e+4);b.quadraticCurveTo(l,e,l+4,e);b.closePath();b.fill();b.save();Src(a,!0);b.strokeStyle=b.fillStyle;f=a.measureText(g.label);c+=5;f=c-(f/2+10);b.lineWidth=2;0<g.gain?(e=d+1,b.translate(4,5),b.rotate(Math.PI),b.translate(-(f+4),
-e)):b.translate(f,d-5+1);b.beginPath();b.moveTo(4,0);b.lineTo(4,10);b.moveTo(0,6);b.lineTo(4,10);b.lineTo(8,6);b.stroke();b.restore();_.eP(a,g.label,c,d,!0)}};
var Wrc=function(a,b){var c=a.length,d=0;for(b=+b;d<c&&+a[d].x<b;)d++;var e=a[d?d-1:0];a=a[d===c?d-1:d];c=+e.x;e=e.y;b=(b-c)/(+a.x-c);return isNaN(b)?e:e*(1-b)+a.y*b};_.nh("awesomecharts.utils.InterpolateUtils.interpolatePointInData",Wrc);var Xrc=function(a,b){if(2===_.bP(a))return null===b&&(b=a[0].x),_.NN(a,{x:b},function(c){return-c.x});null===b&&(b=a[a.length-1].x);return _.NN(a,{x:b},"x")};_.nh("awesomecharts.utils.InterpolateUtils.getInsertionIndex",Xrc);
var Yrc=function(a,b,c,d){const e=a.length;if(0===a.length||-1===c)return-1;const f=c-1,g={x:null,x0:null},{x:h,x0:l}=a[f]||g,{x:n,x0:r}=a[c]||g,[v,w,y,B]=[h,l,n,r].map(G=>null==G?NaN:Number(G));a=!Number.isNaN(w)||!Number.isNaN(B);return d&&a&&(v>w||y>B)?b>=B&&b<=y?c:b>=w&&b<=v?f:-1:0===c?0:c===e?e-1:Math.abs(v-b)<Math.abs(y-b)?f:c};_.nh("awesomecharts.utils.InterpolateUtils.getClosestIndexFromInsertionIndex",Yrc);
_.rP=function(a,b,c){if(null===a)return-1;const d=a.length;if(0===d)return-1;null===b&&(b=2===_.bP(a)?a[0].x:a[a.length-1].x);null===b&&(b=a[0].x);const e=Xrc(a,b);a=Yrc(a,b,e,c);return 0>a||a>=d?-1:a};_.nh("awesomecharts.utils.InterpolateUtils.closestIndexInData",_.rP);_.sP=function(a,b,c){b=_.rP(a,b,c);return-1!==b&&null!=a[b].y?a[b].y:0};_.nh("awesomecharts.utils.InterpolateUtils.closestPointInData",_.sP);_.Zrc=function(a,b,c){b=_.rP(a,b,c);return-1!==b&&null!=a[b].y?[a[b].y,b]:[0,b]};
_.nh("awesomecharts.utils.InterpolateUtils.closestPointInDataWithIndex",_.Zrc);
var tP=function(a,b){return 1E-9>Math.abs(a-b)};
var uP={RAW:function(){return{symbol:"",scale:1,iter:function(){return null}}},SI:function(a,b,c=" K M G T P E Z Y".split(" ")){var d=c.length-1;b||(b=1E3);return uP.__POWER_BASED__(a,b,0,d,function(e){return c[e]})},SI_BYTE:function(a){return uP.SI(a,1024," Ki Mi Gi Ti Pi Ei Zi Yi".split(" "))},SCIENTIFIC:function(a,b){b||(b=10);return uP.__POWER_BASED__(a,b,-9,99,function(c){return 0===c?"":"e"+c})},TIME:function(a){var b=["ms","s","m","h"],c=[1,1E3,6E4,36E5];1>a&&(b=["ns","us"],c=[1E-6,.001]);
return uP.__LIST_BASED__(a,b,c)},INTERVAL_TIME:function(a){let b=" msec; sec; min; hr; day; week".split(";"),c=[1,1E3,6E4,36E5,864E5,6048E5];1>a&&(b=["ns","us"],c=[1E-6,.001]);return uP.__LIST_BASED_EXACT__(a,b,c)},CURRENCY:function(a){return uP.__LIST_BASED__(a,["","k","m","b","t"],[1,1E3,1E6,1E9,1E12])},AUTO:function(a){return.01>Math.abs(a)?uP.SCIENTIFIC(a):1E6>10/9.999*Math.abs(a)?{symbol:"",scale:1,iter:function(b){return b?uP.SI(1E6):uP.SCIENTIFIC(.005)}}:uP.SI(a)},AUTO_NO_E:function(a){return 1E6>
10/9.999*Math.abs(a)?{symbol:"",scale:1,iter:function(b){return b?uP.SI(1E6):null}}:uP.SI(a)},AUTO_BYTE:function(a){return.01>Math.abs(a)?uP.SCIENTIFIC(a):uP.SI_BYTE(a)},__POWER_BASED__:function(a,b,c,d,e){var f=function(r,v){return function(w){return w?r===d?null:uP.__POWER_BASED__(v*b,b,c,d,e):r===c?null:uP.__POWER_BASED__(v/b,b,c,d,e)}},g=function(r,v){return{symbol:e(r),scale:v,iter:f(r,v)}};a=Math.abs(a);if(1>a){for(var h=1,l=-1;l>=c;l--)if(h/=b,h<=a)return g(l,h);return g(0,1)}h=1;var n=b;for(l=
0;l<=d;l++)if(0!=l&&(h=n,n=h*b),n>a)return g(l,h);return g(d,h)},__LIST_BASED_EXACT__:function(a,b,c){let d;for(d=1;d<b.length&&!(a<c[d]);d++);return{symbol:b[d-1],scale:c[d-1],iter:null}},__LIST_BASED__:function(a,b,c){for(var d=b.length-1,e=function(h){return function(l){return l?h===d?null:uP.__LIST_BASED__(1.77983738757*c[h+1],b,c):0===h?null:uP.__LIST_BASED__(1.77983738757*c[h-1],b,c)}},f=function(h){return{symbol:b[h],scale:c[h],iter:e(h)}},g=0;g<d;g++)if(1.6180339887>a/c[g+1])return f(g);return f(d)}};
var $rc={COUNT:1,BYTE:2,CURRENCY:3,PERCENT:4,TIME:5,INTERVAL_TIME:6,BIT:7},asc,bsc,csc,dsc,esc,fsc,gsc,hsc,usc;_.nh("$jscomp$scope$m1669823062$8$BaseUnit",$rc);_.nh("awesomecharts.utils.UnitUtils.BaseUnit",$rc);asc=Math.pow(1E3,1);bsc=Math.pow(1E3,2);csc=Math.pow(1E3,3);dsc=Math.pow(1E3,4);esc=Math.pow(1024,2);fsc=Math.pow(1024,3);gsc=Math.pow(1024,4);
hsc=Object.entries({1:{aliases:["count","load","Count","Cycles"],config:["{n}",1,"AUTO",!0,1]},version:{aliases:[],config:["{n}",1,"RAW",!0,1]},"1/s":{aliases:["count/s"],config:["{n}/s",1,"AUTO_NO_E",!0,1]},"%":{aliases:["whole_percent"],config:["{n}%",1,"RAW",!1,4]},"10^2.%":{aliases:["percent","ratio"],config:["{n}%",100,"RAW",!1,4]},s:{aliases:["second","seconds"],config:["{n}",1E3,"TIME",!1,5]},"s/s":{config:["{n}/s",1E3,"TIME",!1,5]},ms:{config:["{n}",1,"TIME",!1,5]},us:{config:["{n}",Math.pow(1E3,
-1),"TIME",!1,5]},ns:{config:["{n}",Math.pow(1E3,-2),"TIME",!1,5]},min:{aliases:["minute","minutes"],config:["{n}",6E4,"TIME",!1,5]},"{INTERVAL_TIME}":{config:["{n}",1,"INTERVAL_TIME",!1,6]},bit:{config:["{n}bit",1,"SI_BYTE",!1,7]},"bit/s":{config:["{n}bit/s",1,"SI_BYTE",!1,7]},ByteAsBit:{config:["{n}bit",8,"SI",!1,1]},"ByteAsBit/s":{config:["{n}bit/s",8,"SI",!1,1]},By:{aliases:["byte","bytes","BY"],config:["{n}B",1,"SI_BYTE",!1,2]},"By/s":{aliases:["byte/s","bytes/s","BY/s"],config:["{n}B/s",1,"SI_BYTE",
!1,2]},"By/min":{aliases:["BY/min"],config:["{n}B/min",1,"SI_BYTE",!1,2]},"By.s":{config:["{n}B.s",1,"SI_BYTE",!1,2]},"By.d":{config:["{n}B.d",1,"SI_BYTE",!1,2]},kBy:{aliases:["k","kB"],config:["{n}B",asc,"SI",!1,1]},"kBy/s":{aliases:["k/s","kB/s"],config:["{n}B/s",asc,"SI",!1,1]},"kBy/min":{aliases:["k/min","kB/min"],config:["{n}B/min",asc,"SI",!1,1]},"kBy.s":{config:["{n}B.s",asc,"SI",!1,1]},MBy:{aliases:["M","MB"],config:["{n}B",bsc,"SI",!1,1]},"MBy/s":{aliases:["M/s","MB/s"],config:["{n}B/s",
bsc,"SI",!1,1]},"MBy/min":{aliases:["M/min","MB/min"],config:["{n}B/min",bsc,"SI",!1,1]},"MBy.s":{config:["{n}B.s",bsc,"SI",!1,1]},GBy:{aliases:["G","GB"],config:["{n}B",csc,"SI",!1,1]},"GBy/s":{aliases:["G/s","GB/s"],config:["{n}B/s",csc,"SI",!1,1]},"GBy.s":{config:["{n}B.s",csc,"SI",!1,1]},"GBy/min":{aliases:["G/min","GB/min"],config:["{n}B/min",csc,"SI",!1,1]},TBy:{aliases:["T","TB"],config:["{n}B",dsc,"SI",!1,1]},"TBy/s":{aliases:["T/s","TB/s"],config:["{n}B/s",dsc,"SI",!1,1]},"TBy/min":{aliases:["T/min",
"TB/min"],config:["{n}B/min",dsc,"SI",!1,1]},MiBy:{aliases:"megabyte megabytes mebibyte mebibytes Mi MIB".split(" "),config:["{n}B",esc,"SI_BYTE",!1,2]},"MiBy/s":{aliases:"megabyte/s megabytes/s mebibyte/s mebibytes/s Mi/s MIB/s".split(" "),config:["{n}B/s",esc,"SI_BYTE",!1,2]},"MiBy/min":{aliases:["Mi/min","MIB/min"],config:["{n}B/min",esc,"SI_BYTE",!1,2]},"MiBy.s":{config:["{n}B.s",esc,"SI_BYTE",!1,2]},GiBy:{aliases:"gigabyte gigabytes gibibyte gibibytes Gi GIB".split(" "),config:["{n}B",fsc,"SI_BYTE",
!1,2]},"GiBy/s":{aliases:"gigabyte/s gigabytes/s gibibyte/s gibibytes/s Gi/s GIB/s".split(" "),config:["{n}B/s",fsc,"SI_BYTE",!1,2]},"GiBy.s":{config:["{n}B.s",fsc,"SI_BYTE",!1,2]},"GiBy.s/s":{config:["{n}B.s/s",fsc,"SI_BYTE",!1,2]},"GiBy/min":{aliases:["Gi/min","GIB/min"],config:["{n}B/min",fsc,"SI_BYTE",!1,2]},TiBy:{aliases:"terabyte terabytes tebibyte tebibytes Ti TIB".split(" "),config:["{n}B",gsc,"SI_BYTE",!1,2]},"TiBy/s":{aliases:"terabyte/s terabytes/s tebibyte/s tebibytes/s Ti/s TIB/s".split(" "),
config:["{n}B/s",gsc,"SI_BYTE",!1,2]},"TiBy/min":{aliases:["Ti/min","TIB/min"],config:["{n}B/min",gsc,"SI_BYTE",!1,2]},us_cent:{config:["${n}",.01,"CURRENCY",!0,3]},us_dollar:{config:["${n}",1,"CURRENCY",!0,3]}}).reduce((a,[b,{aliases:c=[],config:d}])=>{for(const e of[b].concat(c))a[e]=d,b=d.slice(),b[0]=`${b[0]}/s`,a[`${e}(rate)`]=b;return a},{});_.isc=function(a){return(a=hsc[a])?a[4]:1};_.nh("awesomecharts.utils.UnitUtils.getBaseUnit",_.isc);_.jsc=function(a){return(a=hsc[a])?a[1]:1};
_.nh("awesomecharts.utils.UnitUtils.getCoefficient",_.jsc);var ksc=function(a){return(a=hsc[a])?a[0]:"{n}"};_.nh("awesomecharts.utils.UnitUtils.getFormatString",ksc);_.nh("awesomecharts.utils.UnitUtils.scaleToRaw",function(a,b){return a/_.jsc(b)});_.nh("awesomecharts.utils.UnitUtils.scaleToDisplay",function(a,b){return a*_.jsc(b)});_.nh("awesomecharts.utils.UnitUtils.getBaseUnitSuffix",function(a){return ksc(a).replace("{n}",5===_.isc(a)?"ms":"")});
_.vP=function(){this._unitFormat="{n}";this._unitCoef=1;this._suffixType="AUTO";this._comma=!0;this._includeSpace=!1;this._maxLength=7;this._maxDigits=Infinity;this._maxPrecision=2;this._minPrecision=0;this.suffixConf=this._customFormatter=null};
_.vP.prototype.clone=function(){var a=new _.vP;a._unitFormat=this._unitFormat;a._unitCoef=this._unitCoef;a._suffixType=this._suffixType;a._comma=this._comma;a._includeSpace=this._includeSpace;a._maxLength=this._maxLength;a._maxPrecision=this._maxPrecision;a._minPrecision=this._minPrecision;a.suffixConf=this.suffixConf;a._customFormatter=this._customFormatter;return a};
_.vP.prototype.unit=function(a){return(a=hsc[a])?(this._unitFormat=a[0],this._unitCoef=a[1],this._suffixType=a[2],this._comma=a[3],this):this.unit("count")};_.vP.prototype.setCustomFormatter=function(a){this._customFormatter=a};var lsc=function(a,b){100<b&&(b=100);a._maxLength=b;return a},msc=function(a,b){a._maxDigits=b;return a},nsc=function(a,b){20<b&&(b=20);a._maxPrecision=b;return a},osc=function(a,b){0>b&&(b=0);a._minPrecision=b;return a};
_.vP.prototype.format=function(a,b){if(null==a||!isFinite(a))return"";if(this._customFormatter)return this._customFormatter(a);a*=this._unitCoef;if("string"===typeof b)a:{var c=b.charAt(0);b=b.substr(1);if("*"===c)var d="/";else if("/"===c)d="*";else{c=this._unitFormat;break a}c=-1!==this._unitFormat.indexOf(d+b)?this._unitFormat.replace(d+b,""):this._unitFormat+c+b}else c=this._unitFormat;b=psc(this,a,c);a=qsc(this,a/b.scale,this._maxLength-(c.length-3)-b.symbol.length);if(tP(0,parseFloat(a.replace(",",
""))))return"0";d=this._includeSpace&&!c.startsWith("{n}/")?" ":"";return c.replace("{n}",a+d+b.symbol)};_.vP.prototype.formatter=function(){return this.format.bind(this)};
var ssc=function(a,b){var c=b*a._unitCoef;b=psc(a,c);c=rsc(a,c/b.scale,a._maxLength-(a._unitFormat.length-3)-b.symbol.length);for(var d=1,e=0;e<c;e++)d/=10;return d*b.scale/a._unitCoef},qsc=function(a,b,c){c=rsc(a,b,c);return(new _.Yp((a._comma?"#,##0":"0")+tsc(a,c))).format(b)},tsc=function(a,b){a=a._minPrecision>b?b:a._minPrecision;b-=a;var c=".";for(let d=0;d<a;d++)c+="0";for(a=0;a<b;a++)c+="#";return 1<c.length?c:""},psc=function(a,b,c){if(void 0===c||null===c)c=a._unitFormat;if(void 0===a.suffixConf||
null===a.suffixConf){var d=uP[a._suffixType](Math.abs(b));b=qsc(a,b/d.scale,a._maxLength-(c.length-3)-d.symbol.length);return uP[a._suffixType](Math.abs(parseFloat(b.replace(",",""))*d.scale))}return a.suffixConf},rsc=function(a,b,c){for(var d=a._comma?"#,##0":"0",e=a._maxPrecision;0<e;e--){var f=(new _.Yp(d+tsc(a,e))).format(b);if(!(f.length>c)){f=Math.abs(parseFloat(f.replace(",","")));if(tP(0,f))return e;for(var g=0;1<f;)f/=10,g+=1;for(;1>f;)f*=10,--g;if(!(e+g+1>a._maxDigits))return e}}return 0};
_.vP.prototype.optimize=function(a){if(null==a||0===a.length)return this;for(var b=[],c=0;c<a.length;c++){if(!isFinite(a[c]))return this;b.push(a[c]*this._unitCoef)}if("AUTO_BYTE"===this._suffixType||"AUTO"===this._suffixType){a=!1;for(c=0;c<b.length;c++)if(.01>Math.abs(b[c])&&!tP(b[c],0)){a=!0;break}a&&(this._suffixType="SCIENTIFIC")}a={};var d=[];for(c=0;c<b.length;c++){d[c]=uP[this._suffixType](b[c]);var e=d[c].scale;a[e]||(a[e]=0);a[e]+=1}var f=0;for(c=0;c<b.length;c++)if(e=d[c].scale,a[e]>=f){var g=
d[c];f=a[e]}this.suffixConf=g;for(c=d=0;c<b.length;c++)g=Math,a=g.max,e=b[c],f=psc(this,e),e=qsc(this,e/f.scale,this._maxLength-(this._unitFormat.length-3)-f.symbol.length),f=e.indexOf("."),d=a.call(g,d,-1!==f?e.length-f-1:0);osc(this,d);return this};usc=function(a){return Math.floor(Math.log(Math.abs(a))/Math.LN10)};_.wP=function(a,b,c){b=usc(b)-3;let d=Math.pow(10,b);b=Math.max(Math.max(0,usc(a+d/2)-b),usc(a-d/2)-b);isFinite(b)||(b=Infinity);return msc(osc(nsc(lsc(c.clone(),Infinity),3),3),b).format(a)};
_.nh("awesomecharts.utils.UnitUtils.humanFormat",_.wP);
var xP=function(a){this.HARD_MAXIMUM_TICKS=10;this._yManager=a};_.nh("awesomecharts.utils.YStrategy.BaseStrategy",xP);xP.prototype.detectBaseScale=function(){throw Error("Di");};xP.prototype.detectDomain=function(){throw Error("Di");};xP.prototype.detectYAxisTick=function(){throw Error("Di");};
var vsc=function(a,b,c){return function(){var d=c.apply(b,arguments);return d===b?a:d}},wsc=function(a,b,c){for(var d=1,e=arguments.length,f;++d<e;)a[f=arguments[d]]=vsc(a,b,b[f]);return a};_.nh("awesomecharts.scale.rebind",wsc);
var xsc="B KiB MiB GiB TiB PiB EiB".split(" "),ysc=Math.log(1024),Asc=function(a){var b=function(c){return a(c)};b.nice=function(c){var d=b.domain();d=d3.extent(d);c=Math.pow(2,Math.floor(Math.log((d[1]-d[0])/("number"===typeof c?c:8))/Math.LN2));return 0===c?b.domain([0,0]):b.domain([Math.floor(d[0]/c)*c,Math.ceil(d[1]/c)*c])};b.ticks=function(c){return d3.range.apply(d3,zsc(b.domain(),c))};b.tickFormat=function(){return function(c){let d=Math.log(c)/ysc|0;c/=Math.pow(1024,d);return(new _.Yp("0.######"+
xsc[d])).format(c)}};b.copy=function(){return Asc(a.copy())};return wsc(b,a,"invert","domain","range","rangeRound","interpolate","clamp")},zsc=function(a,b){null==b&&(b=8);a=d3.extent(a);var c=a[1]-a[0],d=Math.pow(2,Math.floor(Math.log(c/b)/Math.LN2));b=b/c*d;.15>=b?d*=8:.35>=b?d*=4:.75>=b&&(d*=2);a[0]=Math.ceil(a[0]/d)*d;a[1]=Math.floor(a[1]/d)*d+.5*d;a[2]=d;return a};_.nh("awesomecharts.scale.Byte.tickRange",zsc);var Bsc=function(){return Asc(d3.scaleLinear())};
_.nh("awesomecharts.scale.Byte.scale",Bsc);
var Csc=function(a){if(!a)return a;var b=a.length;if(2<=b&&0>a[0]&&0<a[b-1]){const c=a[b-1]-a[0];let d=a.slice();for(let e=0;e<b-1;++e)if(0>a[e]&&0<a[e+1]){b=.05>-a[e]/c;a=.05>a[e+1]/c;b&&a?d.splice(e,2,0):b?d.splice(e,1,0):a?d.splice(e+1,1,0):d.splice(e+1,0,0);break}return d}return a},yP=function(a){xP.call(this,a)};_.Ui(yP,xP);_.nh("awesomecharts.utils.YStrategy.LinearStrategy",yP);yP.prototype.detectBaseScale=function(){switch(_.isc(this._yManager._unit)){case 2:return Bsc();default:return d3.scaleLinear()}};
yP.prototype.detectDomain=function(){var a=this._yManager._yRange,b=this._yManager._lastDomain;if(null==a||!isFinite(a[0])||!isFinite(a[1]))return this._yManager._userBound||b||[0,1];null!=this._yManager._userDomain?b=this._yManager._userDomain:(a=[this._yManager._yRange[0],this._yManager._yRange[1]],b=a[1]-a[0],tP(.05*b,0)?20>Math.abs(a[0])&&!tP(.05*a[0],0)?b=.05*Math.abs(a[0]):this._yManager.firstYRange?(b=this._yManager.firstYRange,b=b[1]-b[0],b*=.05):b=1:b*=.05,a[0]-=b,a[1]+=b,b=this._yManager._yRange[0],
(!(0>b)||tP(0,b))&&0>a[0]&&(a[0]=0),"%"===this._yManager._unit&&100<a[1]&&100>=this._yManager._yRange[1]&&(a[1]=this._yManager._yRange[1]),b=a,!this._yManager._userPauseBound&&this._yManager._userBound&&(b[0]=Math.min(b[0],this._yManager._userBound[0]),b[1]=Math.max(b[1],this._yManager._userBound[1])));if(a=Dsc(this,b))return a;a=b;b=this._yManager._tickBaseFormat.clone().optimize(a);if(null==b.suffixConf)b=a;else{for(;;){var c=b.suffixConf,d=c.iter(!1);if(null==d)break;b.suffixConf=d;if(b.format(a[0]).length>
this._yManager.TICK_LIMIT_LENGTH||b.format(a[1]).length>this._yManager.TICK_LIMIT_LENGTH){b.suffixConf=c;break}}b=Math.max(ssc(b,a[0]),ssc(b,a[1]),1E-8);c=a[0]/b;a=a[1]/b;d=Math.floor(c);var e=Math.ceil(a);tP(d+1,c)&&(d+=1);tP(e-1,a)&&--e;d===e&&(e+=1);b=[d*b,e*b]}return(a=Dsc(this,b))?a:b};
var Dsc=function(a,b){var c=a._yManager.scale.copy().domain(b).nice().ticks(4);if(2>c.length)return null;var d=c[1]-c[0];for(c=[c[0],c[c.length-1]];c[0]>b[0];)c[0]-=d;for(;c[1]<b[1];)c[1]+=d;return a.detectYAxisTick(c).good?c:null};yP.prototype.detectYAxisTick=function(a){for(var b=[this.detectTraditionalTick_.bind(this),this.detectSplittingTick_.bind(this),this.detectFallbackTick_.bind(this)],c=0;c<b.length;c++){var d=b[c](a);if(null!=d)return d.good=!0,d}return{good:!1,ticks:Csc([a[0],a[1]]),format:this._yManager._tickBaseFormat.clone()}};
var Esc=function(a,b){if(2>b.length)return!1;for(var c=0;c<b.length;c++){var d=b[c]/ssc(a,b[c]);if(!tP(Math.abs(Math.round(d)-d),0))return!1}return!0};
yP.prototype.detectTraditionalTick_=function(a){var b=this._yManager.scale.copy().domain(a).ticks(5);if(2>b.length)return null;for(var c=b[1]-b[0];b[0]>a[0];)b.unshift(b[0]-c);for(;b[b.length-1]<a[1];)b.push(b[b.length-1]+c);b=Csc(b);if(7<b.length)return null;c=this._yManager._tickBaseFormat.clone().optimize(b);return tP(b[0],a[0])&&tP(b[b.length-1],a[1])&&Esc(c,b)?{ticks:b,format:c}:null};
yP.prototype.detectSplittingTick_=function(a){for(var b=2;7>b;b++){for(var c=a[0],d=(a[1]-c)/b,e=[c],f=1;f<=b;f++)e.push(c+d*f);e=Csc(e);c=this._yManager._tickBaseFormat.clone().optimize(e);if(Esc(c,e))return{ticks:e,format:c}}return null};
yP.prototype.detectFallbackTick_=function(a){a=Csc(a);for(var b=this._yManager._tickBaseFormat.clone().optimize(a);;){if(Esc(b,a))return{ticks:a,format:b};b.suffixConf=b.suffixConf.iter(!1);if(null==b.suffixConf)break;var c=a.map(b.formatter()).map(function(d){return d.length});if(Math.max.apply(null,c)>this._yManager.TICK_LIMIT_LENGTH)break}return null};
var Fsc=function(a,b){var c=function(d){d<=b&&(d=b);return a(d)};c.copy=function(){return Fsc(a.copy(),b)};return wsc(c,a,"nice","ticks","tickFormat","invert","domain","range","rangeRound","interpolate","clamp")},Gsc=function(a){return Fsc(d3.scaleLog(),a)};_.nh("awesomecharts.scale.Log.scale",Gsc);
var zP=function(a){xP.call(this,a)};_.Ui(zP,xP);_.nh("awesomecharts.utils.YStrategy.LogStrategy",zP);zP.prototype.detectBaseScale=function(){return Gsc(1E-9)};Math.log10=Math.log10||function(a){return Math.log(a)/Math.LN10};
zP.prototype.detectDomain=function(){var a=this._yManager._lastDomain;var b=null!=this._yManager._userDomain?this._yManager._userDomain:this._yManager._yRange;if(null==b||!isFinite(b[0])||!isFinite(b[1]))return a||[1E-6,1];var c=Math.ceil(Math.log10(Math.max(20*1E-6,b[1]))),d=Math.pow(10,c),e=Math.floor(Math.log10(Math.max(2E-6,b[0])));a=Math.pow(10,Math.max(e,c-7-1));var f=[1,2,5,10,20],g=[10,5,2,1,.5];10<3*(c-e+1)+1&&(f=[1,10],g=[10,1]);var h=this._yManager._userDomain?1:.95;c=d;for(e=0;e<f.length;e++)if(b[1]<=
d*f[e]*h){c=d*f[e];break}d=this._yManager._userDomain?1:1.1;f=a;for(e=0;e<g.length;e++)if(b[0]>=a*g[e]*d){f=a*g[e];break}this._yManager._userDomain||this._yManager._userPauseBound||!this._yManager._userBound||(0<this._yManager._userBound[0]&&(f=Math.min(f,this._yManager._userBound[0])),0<this._yManager._userBound[1]&&(c=Math.max(c,this._yManager._userBound[1])));tP(f,c)&&(f/=10,c*=10);return[f,c]};
zP.prototype.detectYAxisTick=function(a){for(var b=[this.detectSmallSpreadTick_.bind(this),Hsc([1,2,5]).bind(this),Hsc([1,5]).bind(this),Hsc([1]).bind(this)],c=0;c<b.length;c++){var d=b[c](a);if(null!=d){a=d.ticks;b=[];var e=this._yManager._tickBaseFormat.clone();b.push(a[0]);for(c=1;c<a.length-1;c++)e.format(a[c])!==e.format(a[c-1])&&b.push(a[c]);b.push(a[a.length-1]);d.ticks=b;d.good=!0;return d}}return{good:!1,ticks:[a[0],a[1]],format:this._yManager._tickBaseFormat.clone()}};
zP.prototype.detectSmallSpreadTick_=function(a){a=Gsc(1E-9).domain(a).ticks();if(10<a.length)return null;var b=this._yManager._tickBaseFormat.clone().optimize(a);return{ticks:a,format:b}};
var Hsc=function(a){return function(b){for(var c=Math.ceil(Math.log10(b[1])),d=[],e=Math.floor(Math.log10(b[0]));e<=c;e++)for(var f=0;f<a.length;f++){var g=a[f]*Math.pow(10,e),h=b[0];if(h=g>h||tP(g,h))h=b[1],h=h>g||tP(h,g);h&&d.push(g)}if(d.length>this.HARD_MAXIMUM_TICKS)return null;b=this._yManager._tickBaseFormat.clone();return{ticks:d,format:b}}};
var Jsc,Ksc,Lsc,Msc,Nsc,Isc,Osc;Jsc=function(a,b){b.call(a);a.scale=Isc(a);a.trigger("change:scale",a.scale)};Ksc=function(a,b){var c=a.scale.domain();b.call(a);a.scale=Isc(a);b=a.scale.domain();c[0]===b[0]&&c[1]===b[1]||a.trigger("change:scale",a.scale)};Lsc=function(a,b,c){Ksc(a,function(){a._userDomain=b;a._userForceDomain=null!=c&&!0===c?!0:!1})};Msc=function(a,b){Ksc(a,function(){a._userBound=b})};Nsc=function(a,b){Jsc(a,function(){a._userBaseScale=b})};
Isc=function(a){var b=null!=a._userBaseScale?a._userBaseScale:a._yStrategy.detectBaseScale();var c=a._userForceDomain?a._userDomain:a._yStrategy.detectDomain();a._lastDomain=c;return b.domain(c).range([a._height,0])};Osc=function(a){return!!("LOG10"===a._usingScaleMode&&a._yRange&&0>a._yRange[0])};
_.AP=class extends _.TK{constructor(){super();this.TICK_LIMIT_LENGTH=7;this._unit="count";this._userBound=this._userBaseScale=this._height=this.firstYRange=this._yRange=null;this._userPauseBound=!1;this._userDomain=null;this._userForceDomain=!1;this._tickBaseFormat=nsc(lsc(new _.vP,7),4);this._customFormatter=this._lastDomain=null;this._circleIdCounter=this._bandIdCounter=0;this._bandYRanges=[];this._circleYRanges=[];this._mainChartYRange=this._percentileYRange=null;this._yStrategy=new yP(this);this._usingScaleMode=
"LINEAR";this.yFormat=new _.vP;this.axisFormat=new _.vP;this.axisTicks=null;this.scale=d3.scaleLinear();this.on("change:scale",this.updateYAxis_)}setCustomFormatter(a){this._customFormatter=a}unit(a){var b=this;if(0===arguments.length)return b._unit;if(null==a||b._unit===a)return b;Jsc(b,function(){b._unit=a});b.yFormat.unit(a);b._tickBaseFormat.unit(a);b.trigger("change:format");b.updateYAxis_();return b}changeScaleMode(a){var b=this;a!==b._usingScaleMode&&(b._usingScaleMode=a,Jsc(b,function(){switch(a){case "LOG10":b._yStrategy=
new zP(b);break;default:b._yStrategy=new yP(b)}}))}getScaleMode(){return this._usingScaleMode}changeYRange(a){if(null===a||this.rangeIsValid_(a))this._mainChartYRange=a?a.slice():null,[...this._bandYRanges,...this._circleYRanges].forEach(c=>{this.rangeIsValid_(c)&&(null===a?a=[c[0],c[1]]:(a[0]=Math.min(a[0],c[0]),a[1]=Math.max(a[1],c[1])))}),this.rangeIsValid_(this._percentileYRange)&&(null===a?a=[this._percentileYRange[0],this._percentileYRange[1]]:(a[0]=Math.min(a[0],this._percentileYRange[0]),
a[1]=Math.max(a[1],this._percentileYRange[1])));if(null!==a){var b=this;Ksc(b,function(){!b.firstYRange&&this.rangeIsValid_(a)&&1E-5<a[1]-a[0]&&(b.firstYRange=a);b._yRange=a})}}changeBandYRange(a,b){this._bandYRanges[b]=a;this.rangeIsValid_(this._mainChartYRange)?this.changeYRange(this._mainChartYRange):this.changeYRange(null)}changeCircleYRange(a,b){this._circleYRanges[b]=a;this.yRangeIsValid()?this.changeYRange(this._yRange):this.changeYRange(null)}changePercentileYRange(a){this._percentileYRange=
a;this.rangeIsValid_(this._mainChartYRange)?this.changeYRange(this._mainChartYRange):this.changeYRange(null)}getUniqueBandId(){return this._bandIdCounter++}getUniqueCircleId(){return this._circleIdCounter++}rangeIsValid_(a){if(!a||!a.length||2!==a.length)return!1;let b=a[0];if(void 0===b||null===b||Number.isNaN(b))return!1;b=a[1];return void 0===b||null===b||Number.isNaN(b)?!1:!0}yRangeIsValid(){return this.rangeIsValid_(this._yRange)}changeHeight(a){var b=this;Jsc(b,function(){b._height=a})}forceDomain(a){Lsc(this,
a,!0)}userDomain(a){Lsc(this,a,!1)}getUserDomain(){return this._userDomain}autoDomain(){Lsc(this,null,!1)}userBound(a){Msc(this,a)}pauseBound(a){var b=this;Ksc(b,function(){b._userPauseBound=a})}noBound(){Msc(this,null)}userBaseScale(a){Nsc(this,a)}autoBaseScale(){Nsc(this,null)}domainYDelta(){var a=this.scale.domain();return a?a[1]-a[0]:null}updateYAxis_(){var a=this._yStrategy.detectYAxisTick(this.scale.domain());a.good||console.warn("Failed in detectYAxisTick_(domain =",this.scale.domain(),").");
this.axisTicks=a.ticks;this.axisFormat=a.format;this._customFormatter&&this.axisFormat.setCustomFormatter(this._customFormatter);this.trigger("change:axis")}};_.AP.prototype.domainYDelta=_.AP.prototype.domainYDelta;_.AP.prototype.autoBaseScale=_.AP.prototype.autoBaseScale;_.AP.prototype.userBaseScale=_.AP.prototype.userBaseScale;_.AP.prototype.noBound=_.AP.prototype.noBound;_.AP.prototype.pauseBound=_.AP.prototype.pauseBound;_.AP.prototype.userBound=_.AP.prototype.userBound;
_.AP.prototype.autoDomain=_.AP.prototype.autoDomain;_.AP.prototype.getUserDomain=_.AP.prototype.getUserDomain;_.AP.prototype.userDomain=_.AP.prototype.userDomain;_.AP.prototype.forceDomain=_.AP.prototype.forceDomain;_.AP.prototype.changeHeight=_.AP.prototype.changeHeight;_.AP.prototype.yRangeIsValid=_.AP.prototype.yRangeIsValid;_.AP.prototype.rangeIsValid_=_.AP.prototype.rangeIsValid_;_.AP.prototype.getUniqueCircleId=_.AP.prototype.getUniqueCircleId;_.AP.prototype.getUniqueBandId=_.AP.prototype.getUniqueBandId;
_.AP.prototype.changePercentileYRange=_.AP.prototype.changePercentileYRange;_.AP.prototype.changeCircleYRange=_.AP.prototype.changeCircleYRange;_.AP.prototype.changeBandYRange=_.AP.prototype.changeBandYRange;_.AP.prototype.changeYRange=_.AP.prototype.changeYRange;_.AP.prototype.getScaleMode=_.AP.prototype.getScaleMode;_.AP.prototype.changeScaleMode=_.AP.prototype.changeScaleMode;_.AP.prototype.unit=_.AP.prototype.unit;
_.nh("module$contents$awesomecharts$utils$YAxisManager_YAxisManager.ScaleModeEnum",{LINEAR:"LINEAR",LOG:"LOG10"});
var Psc=function(a){return a.data&&a.data[0]&&a.data[0].y&&a.data[0].y.bucketCounts};_.nh("awesomecharts.utils.DistributionUtils.isDistributionType",Psc);_.Qsc=function(a){return a&&a[0]&&a[0].data[0]&&Psc(a[0])?a[0].data[0].y.bucketOptions.exponentialBuckets?"LOG10":"LINEAR":"LINEAR"};_.nh("awesomecharts.utils.DistributionUtils.dataScaleMode",_.Qsc);
_.BP=function(a,b){a=a.y.bucketOptions;return a.exponentialBuckets?(a=a.exponentialBuckets,[(a.scale||1)*Math.pow(a.growthFactor,b-1),(a.scale||1)*Math.pow(a.growthFactor,b)]):a.linearBuckets?(a=a.linearBuckets,[(a.offset||0)+a.width*(b-1),(a.offset||0)+a.width*b]):a.explicitBuckets?(a=a.explicitBuckets,[0<b?a.bounds[b-1]:-Infinity,b<a.bounds.length?a.bounds[b]:Infinity]):[void 0,void 0]};_.nh("awesomecharts.utils.DistributionUtils.bucketRange",_.BP);
_.Rsc=function(a){var b=a.y.bucketCounts;if(!b)return[void 0,void 0];for(var c=null,d=0;d<b.length;d++)if(0!==b[d]){c=d;break}var e=void 0;null!=c&&(e=0===c?_.BP(a,0)[1]:_.BP(a,c)[0]);c=null;for(d=b.length-1;0<=d;d--)if(0!==b[d]){c=d;break}d=void 0;null!=c&&(d=c===b.length-1?_.BP(a,b.length-1)[0]:_.BP(a,c)[1]);return[e,d]};_.nh("awesomecharts.utils.DistributionUtils.pointRange",_.Rsc);var Ssc=function(a,b,c){return _.CP(a,b,c).count};
_.nh("awesomecharts.utils.DistributionUtils.bucketCountInData",Ssc);_.CP=function(a,b,c){b=_.rP(a,b,!0);if(-1!==b&&null!=a[b].y&&null!=a[b].y.bucketCounts){const d=a[b].y.bucketCounts;let e=_.BP(a[b],0);if(e[0]>=c)return{count:0,range:[-Infinity,e[0]]};if(e[0]<=c&&e[1]>=c)return{count:d[0],range:e};for(let f=1;f<d.length;f++)if(e=_.BP(a[b],f),e[0]<=c&&e[1]>=c)return{count:d[f],range:e};if(e[1]<=c)return{count:0,range:[e[1],Infinity]}}return{count:0,range:[]}};
_.nh("awesomecharts.utils.DistributionUtils.bucketCountAndRangeInData",_.CP);
var Tsc,Usc,Wsc,DP;Tsc=_.LO("dataRange");Usc=function(a,b){b=1===_.bP(a)?[_.NN(a,{x:b[0]},"x"),_.NN(a,{x:b[1]},"x")-1]:[_.NN(a,{x:b[1]},function(c){return-c.x}),_.NN(a,{x:b[0]},function(c){return-c.x})-1];return[Math.max(0,Math.min(a.length-1,b[0])),Math.max(0,Math.min(a.length-1,b[1]))]};
Wsc=function(a,b){let c=a.scale("category","domain");c=[0,c.length];const d=a.getTimeshiftOffset?a.getTimeshiftOffset():void 0,e=a.stacked?a.stacked():void 0,f=a.threshold?a.threshold():[];return(0,_.Vsc)(b,c,a._domainCache,g=>({y0:a.dataY0(g),y1:a.dataY1(g)}),e,f,d,!0)};
DP=function(a,b){const c=a.scale("x","domain"),d=a.getTimeshiftOffset?a.getTimeshiftOffset():void 0,e=a.stacked?a.stacked():void 0,f=a.threshold?a.threshold():[];return(0,_.Vsc)(b,c,a._domainCache,g=>({y0:a.dataY0(g),y1:a.dataY1(g)}),e,f,d)};
_.Vsc=_.QO.instrument("get-y-range",function(a,b,c,d,e,f,g,h){var l=Infinity,n=-Infinity;f&&(l=Math.min.apply(null,f),n=Math.max.apply(null,f));if(!a||0===a.length)return null!=f?[l,n]:[void 0,void 0];var r=null!=a.dataLayer?a.dataLayer.getState().selected:new Set;Tsc.time("getYRange");if(a[0].hasMinMaxTuple&&!e)for(e=0;e<a.length;e++){var v=a[e];f=_.VO(v);var w=!v.data.length,y=0<r.size&&!r.has(f);if(!w&&!y)for(void 0===c[f]&&(c[f]={startX:null,stopX:null,yMin:Infinity,yMax:-Infinity}),f=c[f],d=
[{data:v.data,lineView:Usc(v.data,b)}],v.shiftedData&&v.shiftedData.length&&g&&d.push({data:v.shiftedData,lineView:Usc(v.shiftedData,_.RN(b,g))}),v=0;v<d.length;v++){var B=d[v].lineView,G=d[v].data;w=B[0];y=B[1];var O=G[w].x,T=G[y].x;if(h||f.startX!==O||f.stopX!==T)for(f.startX=O,f.stopX=T,f.yMin=Infinity,f.yMax=-Infinity;w<=y;w++)B=G[w],isFinite(B.y)&&(f.yMax=Math.max(f.yMax,B.max),f.yMin=Math.min(f.yMin,B.min));l=Math.min(l,f.yMin);n=Math.max(n,f.yMax)}}else for(G=a.map(J=>_.VO(J)),B=new Set(G.filter(J=>
r.has(J))),e=0;e<a.length;e++){v=a[e];f=G[e];w=!v.data.length;y=0<B.size&&!B.has(f);if(w||y)continue;void 0===c[f]&&(c[f]={startX:null,stopX:null,yMin:Infinity,yMax:-Infinity});f=c[f];let J=[{data:v.data,lineView:Usc(v.data,b)}];v.shiftedData&&v.shiftedData.length&&g&&J.push({data:v.shiftedData,lineView:Usc(v.shiftedData,_.RN(b,g))});for(v=0;v<J.length;v++){y=J[v].lineView;let R=J[v].data;w=y[0];y=y[1];O=R[w].x;T=R[y].x;if(h||f.startX!==O||f.stopX!==T)for(f.startX=O,f.stopX=T,f.yMin=Infinity,f.yMax=
-Infinity;w<=y;w++){const {y1:ra,y0:Ba}=d(R[w]);isFinite(ra)&&(f.yMax=Math.max(f.yMax,ra),f.yMin=Math.min(f.yMin,ra));isFinite(Ba)&&(f.yMax=Math.max(f.yMax,Ba),f.yMin=Math.min(f.yMin,Ba))}l=Math.min(l,f.yMin);n=Math.max(n,f.yMax)}}Tsc.timeEnd("getYRange");Infinity===l&&-Infinity===n&&(n=l=void 0);return[l,n]});
_.Xsc=function(a,b,c){var d=-Infinity;if(!a||0===a.length)return[void 0,void 0];b=b.domain();c=c?c.domain():[void 0,void 0];var e=null!=a.dataLayer?a.dataLayer.getState().selected:new Set;Tsc.time("getDistributionCountRange");for(var f=0;f<a.length;f++){var g=a[f],h=!g.data.length,l=_.VO(g);l=0<e.size&&!e.has(l);if(!h&&!l)for(l=Usc(g.data,b),h=l[1],l=l[0];l<=h;l++){var n=g.data[l].y.bucketCounts;if(!n)return;for(var r=0;r<n.length;r++){var v=_.BP(g.data[l],r);v[1]>=c[0]&&v[0]<=c[1]&&(d=Math.max(d,
n[r]))}}}Tsc.timeEnd("getDistributionCountRange");return-Infinity===d?[void 0,void 0]:[0,d]};
_.LO("yAxisChart");var EP=function(){};_.nh("awesomecharts.charts.YAxisChart",EP);EP.prototype.displayYAxis=function(){};EP.prototype.displayYAxis=EP.prototype.displayYAxis;EP.prototype.setYAxisValueFormatter=function(){};EP.prototype.setYAxisValueFormatter=EP.prototype.setYAxisValueFormatter;EP.prototype.setYAxisPrecisionLimit=function(){};EP.prototype.setYAxisPrecisionLimit=EP.prototype.setYAxisPrecisionLimit;EP.prototype.setdrawYAxisLines=function(){};EP.prototype.setdrawYAxisLines=EP.prototype.setdrawYAxisLines;
EP.prototype.setYAxisPosition=function(){};EP.prototype.setYAxisPosition=EP.prototype.setYAxisPosition;
EP=lP.extend("awesomecharts.y-axis",{initialize:function(){this._displayYAxis=!0;this._yAxisPosition="right";this._drawYAxisLines=!0;this.margin({top:10,bottom:10,left:10,right:60});this.scale("x",d3.scaleTime());this.scale("y",d3.scaleLinear());this.theme=_.DN.getColorTheme();this.axisDiv=this.base.append("div").classed("sd-chart-base-axis",!0).style("position","absolute").style("top","0").style("left","0");this.axisCanvas=this.axisDiv.append("canvas").classed("sd-chart-base-axis-canvas",!0).node();
this.axisBuffer=new _.nP({width:this.width(),height:this.height(),canvas:this.axisCanvas,fillStyle:_.ZO("label",this.theme),font:"smaller sans-serif",textBaseline:"middle",strokeWidth:1});this.yManager=new _.AP;this.yManager.on("change:scale",function(b){this.scale("y",b);this.trigger("change:scale","y",b);b=this.yManager._usingScaleMode;this.axisDiv.classed("ac-scale-linear","LINEAR"===b);this.axisDiv.classed("ac-scale-log","LOG10"===b)},this);this.yManager.on("change:axis",function(){this.trigger("should:redraw")},
this);this.on("change:pan",function(b,c){this.yManager.trigger("change:pan",b,c)});this.on("change:zoom",function(b){this.yManager.trigger("change:zoom",b)});this.on("should:redraw",this.redrawYAxis_.bind(this));this.on("change:scale",function(b){"x"===b&&this.data&&this.updateYRange();this.trigger("should:redraw")});this.on("change:threshold",function(){this.updateYRange()});this.on("change:displayYAxis",function(){this.displayYAxis()?this.margin("right",60):this.margin("right",10);this.trigger("should:redraw")},
this);this.on("data",function(){this.updateYRange()});this.on("change:yAxisPosition",()=>{this.margin("left","left"===this._yAxisPosition?60:10);this.margin("right","right"===this._yAxisPosition?60:10);this.trigger("should:redraw")},this);this.bindStateEvent_("change:selected",this.updateYRange);this.bindStateEvent_("change:selected",this.yRebound);var a=function(){this.yManager.changeHeight(this._innerHeight)}.bind(this);a();this.on("change:innerHeight",a);a=function(){this.axisBuffer.resize(this.width(),
this.height());this.redrawYAxis_()}.bind(this);a();this.on("change:innerWidth",a);this.on("change:innerHeight",a);a=function(){this.responsive()&&(this.responsiveForm()===this.ResponsiveFormEnum.COMPACT?this.displayYAxis(!1):this.displayYAxis(!0))}.bind(this);a();this.on("change:width",a);this.on("change:height",a)},setYAxisPrecisionLimit:function(a){void 0!==a&&this.yManager&&nsc(this.yManager._tickBaseFormat,a)},unit:function(a){return 0===arguments.length?this.yManager.unit():this.yManager.unit(a)},
domainX:SN.x,domainY:function(a){void 0!==a&&null!==a?this.yManager.forceDomain(a):this.yManager.autoDomain()},boundDomainY:function(a){void 0!==a&&null!==a?this.yManager.userBound(a):this.yManager.noBound()},domainYDelta:function(){return this.yManager.domainYDelta()},redrawYAxis_:function(){this.axisBuffer.clear();if(this.displayYAxis()&&"none"!==this._yAxisPosition){var a=this.yManager.axisTicks;if(a)for(var b=0;b<a.length;b++){var c=a[b],d=this.yManager.scale(c);this.axisBuffer.strokeStyle=0==
b?_.ZO("x-axis",this.theme):_.ZO("major",this.theme);(this._drawYAxisLines||0==b)&&this.axisBuffer.drawLines([{data:[[this.margin().left,this.margin().top+d],[this.width()-this.margin().right,this.margin().top+d]]}]);if("left"===this._yAxisPosition||"right"===this._yAxisPosition){const e="right"===this._yAxisPosition?this.width()-this.margin().right:0;_.eP(this.axisBuffer,this.yManager.axisFormat.format(c),e+7,this.margin().top+d)}}}},supportAxis:function(a){return"x"===a||"y"===a},updateYRange:function(){this.yManager.changeYRange(DP(this,
this.data))},yRebound:function(a,b){0<b.size?this.yManager.pauseBound(!0):this.yManager.pauseBound(!1);this.yManager.autoDomain()},displayYAxis:function(a){if(0===arguments.length)return this._displayYAxis;this._displayYAxis=a},setYAxisValueFormatter:function(a){this.yManager.setCustomFormatter(a)},setdrawYAxisLines:function(a){this._drawYAxisLines=a;this.trigger("should:redraw")},setYAxisPosition:function(a){this._yAxisPosition=a;this.trigger("change:yAxisPosition")}});EP.yManager=EP.yManager;
var Ysc,Zsc,$sc,atc,btc,ctc;Ysc=function(a){a.eventRegistry_.off("global:mousemove");a.eventRegistry_.off("global:mouseup");d3.select(window).on("mousemove",null);d3.select(window).on("mouseup",null)};Zsc=function(a){a.eventRegistry_.off("global:keyup");d3.select(window).on("keyup",null)};
$sc=function(a,b){a.proxyEvent(d3.select(window),"keyup");a.eventWrapper(()=>{a.eventRegistry_.on("global:keyup",c=>{a.modifiers.ctrl&&!c.ctrlKey&&(a.modifiers.ctrl=!1);a.modifiers.cmd&&!c.metaKey&&(a.modifiers.cmd=!1);a.modifiers.shift&&!c.shiftKey&&(a.modifiers.shift=!1);b();c.ctrlKey||c.metaKey||c.shiftKey||(a.keyPressed_=!1,Zsc(a))})})};
atc=function(a,b){var c=_.FP;c.keyDownEventRegistered_||(c.proxyEvent(d3.select(window),"keydown"),c.keyDownEventRegistered_=!0,c.eventWrapper(()=>{c.eventRegistry_.on("global:keydown",d=>{(d.ctrlKey||d.metaKey||d.shiftKey)&&!c.keyPressed_&&(c.keyPressed_=!0,$sc(c,b),d.ctrlKey&&(c.modifiers.ctrl=!0),d.metaKey&&(c.modifiers.cmd=!0),d.shiftKey&&(c.modifiers.shift=!0),a())})}))};
btc=function(a,b,c,d){var e=_.FP;e.eventWrapper(()=>{let f={};b(a,f);e.eventRegistry_.on("global:mousemove",()=>{c(f)});e.eventRegistry_.on("global:mouseup",()=>{d(f);Ysc(e)})})};
ctc=class{constructor(){this.modifiers={};this.eventWrapper=_.EN();this.keyPressed_=this.keyDownEventRegistered_=!1;this.eventRegistry_=new _.TK}proxyEvent(a,b){this.eventWrapper(()=>{a.on(b,()=>{this.eventRegistry_.trigger("global:"+b,d3.event)})})}enabled(){return _.DN.isWhitelisted("chart-panning-interactions")&&_.DN.isWhitelisted("chart-translated-dashboard")}init(){this.proxyEvent(d3.select(window),"mousemove");this.proxyEvent(d3.select(window),"mouseup")}cleanup(){Ysc(this);Zsc(this)}};
_.FP=new ctc;
var dtc=["transform","width","height","d"],etc=function(a,b){b.style("stroke-width",c=>"outline"===c.action||c.action.startsWith("time-pin-marker")?a.responsiveForm()===a.ResponsiveFormEnum.COMPACT?.5:2:0)},ftc=function(a,b){b.attr("width",c=>c.dimensions[1]-c.dimensions[0]||2).attr("height",a.innerHeight()).attr("transform",c=>`translate(${c.dimensions[0]||0},0)`).attr("d",c=>{let d=c.dimensions[1]-c.dimensions[0],e=a.innerHeight();if(Number.isNaN(d)||0==d||!c.action)return c.dimensions[0]?`M0,0L0,${e}`:
"";if("outline"===c.action)return`M0,0l0,${e}m${d},0l0,${-1*e}`;if("fill"===c.action)return`M0,0l0,${e}l${d},0l0,${-1*e}z`});etc(a,b)},gtc=function(a,b){b.attr("width",a.innerWidth()).attr("height",c=>c.dimensions[1]-c.dimensions[0]||2).attr("transform",c=>`translate(0,${c.dimensions[0]||0})`).attr("d",c=>{let d=c.dimensions[1]-c.dimensions[0],e=a.innerWidth();if(Number.isNaN(d)||0==d||!c.action)return`M0,0L${e},0`;if("outline"===c.action)return`M0,0l${e},0m0,${d}l${-1*e},0`;if("fill"===c.action)return`M0,0l${e},0l0,${d}l${-1*
e},0z`});etc(a,b)},htc=(a,b)=>{b.classed("time-pin-marker-locked",c=>"time-pin-marker-locked"===c.action).classed("time-pin-marker-unlocked",c=>"time-pin-marker-unlocked"===c.action).attr("d",c=>{c=c.dimensions[0];const d=a.innerHeight();return`M${c},0 l0,${d+10}`});etc(a,b)},itc=(a,b)=>{if(a.defs&&a.svgDefIdPrefix){var c=a.innerHeight(),d=a.innerWidth(),e=.95*d,f=3E5>Date.now()-a.domainX()[1].getTime();b.classed("time-pin-snap-threshold",!0).attr("d",`M${e},0 l0,${c} L${d},${c} l0,${-1*c}z`).style("fill",
`url(#${a.defs&&a.svgDefIdPrefix?a.svgDefIdPrefix+"-snap-threshold-gradient":null})`).classed("time-pin-hidden",g=>!f||g.dimensions[0]<.75*d)}},jtc=a=>{a.attr("class","brush-marker");for(const b of dtc)a.attr(b,null)},ktc=a=>{a.defs&&a.svgDefIdPrefix&&(a=a.defs.append("linearGradient").attr("id",a.defs&&a.svgDefIdPrefix?a.svgDefIdPrefix+"-snap-threshold-gradient":null),a.append("stop").attr("offset","0%").attr("stop-color","black").attr("stop-opacity","0"),a.append("stop").attr("offset","100%").attr("stop-color",
"black").attr("stop-opacity","0.2"))},ltc=function(a,b,c){c=c||a;var d=+c._currentDomain[1]-+c._currentDomain[0];c.chartLength=d;b=+b-a.mouseValue("x",c._prevMousePos);let e=0;a.isPlot&&(e=a.mouseValue("y")-a.mouseValue("y",c._prevMousePos),c._currentYDomain[0]<=a._bottomEdgeLimit&&0<e&&(c._currentYDomain[0]=a._bottomEdgeLimit,e=0),c._currentYDomain[1]>=a._topEdgeLimit&&0>e&&(c._currentYDomain[1]=a._topEdgeLimit,e=0));if(c._currentDomain[1]>=a._rightEdgeUpperLimit&&0>b||c._currentDomain[0]<=a._leftEdgeLowerLimit&&
0<b){if(a._leftEdgeUpperLimit||(a._leftEdgeUpperLimit=new Date(a._rightEdgeUpperLimit-d)),a._rightEdgeLowerLimit||(a._rightEdgeLowerLimit=new Date(a._leftEdgeLowerLimit+d)),b*=.03,a.outOfBound=!0,a._leftEdgeUpperLimit&&+c._currentDomain[1]>a._rightEdgeUpperLimit+.05*(a._rightEdgeUpperLimit-+a._leftEdgeUpperLimit)||a._rightEdgeLowerLimit&&+c._currentDomain[0]<a._leftEdgeLowerLimit-.05*(+a._rightEdgeLowerLimit-a._leftEdgeLowerLimit))b=0}else a.outOfBound=!1;c._currentDomain[0]=new Date(+c._currentDomain[0]-
b);c._currentDomain[1]=new Date(+c._currentDomain[1]-b);a.isPlot&&(c._currentYDomain[0]=+c._currentYDomain[0]-e,c._currentYDomain[1]=+c._currentYDomain[1]-e);if(b||e&&a._yZoomed)d=a._yZoomed?c._currentYDomain:null,a.isPlot||(d=null),a.trigger("change:pan",c._currentDomain,d,a),a.panned=!0;c._prevMousePos=a.mousePosInMargin()},mtc=function(a,b){b=b||a;a=a.mousePosInMargin();const c=Math.abs(a[1]-b._startPoint[1]);let d=null;10<=Math.abs(a[0]-b._startPoint[0])?d="x":b.supportAxis("y")&&b._brushAllowYSelection&&
10<=c&&(d="y");return d};
var GP={dataBind:function(){var a=this.chart(),b=a.brush().sort().map(a.scale(a._trackingAxis));const c=[];b&&(c.push({action:"outline",dimensions:b}),1<b.length&&c.push({action:"fill",dimensions:b}));a.timePin&&a.timePin instanceof _.jP&&(this._timePinSub&&this._timePinSub.unsubscribe(),this._timePinSub=a.timePin.onSetChange.subscribe(GP.drawBrush.bind(a)),b=a.timePin.getDate())&&(b=[a.scale("x")(b)],a="time-pin-marker-"+(a.timePin.isLocked()?"locked":"unlocked"),c.push({action:a,dimensions:b}),
c.push({action:"time-pin-snap-threshold",dimensions:b}));return this.selectAll(".brush-marker").data(c)},insert:function(){return this.append("path").classed("brush-marker",!0)},events:{merge:function(){const a=this.chart();if(a.trackCursorLocation()){jtc(this);htc(a,this.filter(c=>c.action.startsWith("time-pin-marker")));itc(a,this.filter(c=>"time-pin-snap-threshold"===c.action));var b=this.filter(c=>!c.action.startsWith("time-pin"));"x"===a._trackingAxis?ftc(a,b):"y"===a._trackingAxis&&gtc(a,b)}},
exit:function(){this.remove()}},brush:function(a){this._brush||(this._brush=[]);if(void 0===a)return this._brush.slice();const b=JSON.stringify(this._brush);this._brush=a.slice?a.slice():Array.prototype.slice.call(arguments);JSON.stringify(this._brush)!==b&&this.trigger("change:brush",this._brush,this._trackingAxis);return this},brushLock:function(a){this._isLocked=a},mouseValue:function(a,b){b=b||this.mousePosInMargin();const c="x"===a?0:1;return this.supportAxis("y")||"y"!==a?this.scale(a).invert(b[c]):
null},brushSelection:function(a){if(void 0===a)return this._brushAllowSelection;this.isDragging=!1;this._brushAllowSelection=a;return this},allowScrollZoomAndPan:function(a){if(void 0===a)return this._allowScrollZoomAndPan;this.isDragging=this.isPanning=!1;this._allowScrollZoomAndPan=a;return this},enableScrollZoom:function(a){if(0===arguments.length)return this._enableScrollZoom;this.isDragging=this.isPanning=!1;(this._scrollZoomOn=this._enableScrollZoom=a)&&!this._scrollZoomEventsRegistered&&this.registerScrollZoomEvents();
return this},enableDragPan:function(a){if(0===arguments.length)return this._enableDragPan;this.isDragging=this.isPanning=!1;this._enableDragPan=a;return this},enableAxisZoom:function(a){if(0===arguments.length)return this._enableAxisZoom;this.isDragging=this.isPanning=!1;this._axisZoomOn=this._enableAxisZoom=a;return this},brushAllowYSelection:function(a){if(void 0===a)return this._brushAllowYSelection;this.isDragging=!1;this._brushAllowYSelection=a;return this},trackCursorLocation:function(a){if(void 0===
a)return this._brushAllowYSelection;this.isDragging=!1;this._trackCursorLocation=a;return this},showTooltip:function(){this._tooltip&&!this._tooltip.shown&&this._allowScrollZoomAndPan&&this._enableScrollZoom&&this._enableDragPan&&this._enableAxisZoom&&(this._tooltip.style.opacity=1,this._tooltip.shown=!0,_.RO(()=>{this._tooltip.style.opacity=0},1E4))},setDomainLimits:function(a,b){arguments.length?(this._leftEdgeLowerLimit=a,this._rightEdgeUpperLimit=b):(this._leftEdgeLowerLimit=Date.now()-36288E5,
this._rightEdgeUpperLimit=Date.now())},getBrushContainer:function(){var a=this.layer("brush").node();for(a=a&&a.tagName&&"BODY"!==a.tagName.toUpperCase()?d3.select(a):null;a&&!a.classed("chart-widget-container");)a=(a=a.node().parentElement)&&a.tagName&&"BODY"!==a.tagName.toUpperCase()?d3.select(a):null;return a},styleCursorOnKeyDown:function(){this._eventWrapper(()=>{(_.FP.modifiers.ctrl||_.FP.modifiers.cmd)&&this._cursorOverChart&&!this.isDragging&&this.setCursorToCrosshair(this._cursorBody)})},
styleCursorOnKeyUp:function(){this._eventWrapper(()=>{_.FP.modifiers.ctrl||_.FP.modifiers.cmd||this.isDragging||(this._cursorOverChart?this.setCursorToMove(this._cursorBody):this._cursorOverAxis&&this._enableAxisZoom&&this.setCursorToDefault(this._cursorBody))})},startZooming:function(){const a=this.getBrushContainer();this._startZooming=!0;this._allowScrollZoomAndPan&&this._enableScrollZoom&&a&&a.classed("chart-widget-container")&&a.style("box-shadow","0 5px 8px rgba(0, 0, 0, 0.14)")},stopZooming:function(){const a=
this.getBrushContainer();this._startZooming=!1;this._allowScrollZoomAndPan&&this._enableScrollZoom&&a&&a.classed("chart-widget-container")&&a.style("box-shadow","0 1px 3px rgba(0, 0, 0, 0.12)")},populateContext:function(a,b){this._eventWrapper(()=>{const c=this.mousePosInMargin();b._startPoint=c;b.enablePan=this.canDragPan();b.enableZoom=this._enableScrollZoom&&this._allowScrollZoomAndPan&&!a.ctrlKey&&!a.metaKey;b._prevMousePos=c;b.mouseMoved=!1;b.isDragging=!0;b._isBrushing=this._isBrushing;b.isPanning=
b.enablePan;b.trackingAxis=this._trackingAxis;b.supportAxis=this.supportAxis;b._brushAllowYSelection=this._brushAllowYSelection;b.startingPosition=this.mouseValue(this._trackingAxis);b.chartLength=0;b._currentDomain=this.scale("x","domain");b._currentYDomain=null;this.isPlot&&(b._currentYDomain=this.scale("y","domain"));b.brush=[]})},userDraggingDifferentChart:function(){return this._isLocked&&!this.isDragging},userPreventedCursorTracking:function(){return!this._trackCursorLocation&&!this.isDragging},
canDragPan:function(a,b){const c=this._enableDragPan&&this._allowScrollZoomAndPan;return void 0!==a&&void 0!==b?c&&!a&&!b:c},mouseMove:function(){if(!this.userDraggingDifferentChart()&&!this.userPreventedCursorTracking()){if(this._enableDragPan&&this._axisZoomOn&&!this.isDragging&&!this._cursorOut){var a=_.FP;a=a.enabled()?a.modifiers.cmd||a.modifiers.ctrl:!1;var b=this._cursorBody;this.mousePosInMargin()[0]>this.innerWidth()||"timeLegend"==this.chartType?(this._cursorOverChart=!1,this._cursorOverAxis=
!0,a||this.setCursorToResize(b,this.chartType)):(this._cursorOverAxis=!1,this._cursorOverChart=!0,a||this.setCursorToMove(b))}this.isDragging&&!this._isBrushing&&!this.canDragPan()&&null!==this._startPoint&&(a=mtc(this))&&(this.brush([]),this._isBrushing=!0,this._trackingAxis=a,this.brush([this.mouseValue(a,this._startPoint)]));this.canDragPan()&&(this._trackingAxis="x");b=this.scale(this._trackingAxis,"domain");this._currentDomain=this.scale(this._trackingAxis,"domain");var c=this.mouseValue(this._trackingAxis);
a=this.brush();if(c<b[0]||c>b[1])if(b=Math.min(+b[1],Math.max(+b[0],+c)),this.isDragging)c="x"===this._trackingAxis?new Date(b):b;else return this.brush([]);this._isBrushing?(a[1]=c,this.canDragPan()||(this.brushDragged=!0)):(a.length=1,a[0]=c);this.brush(a);this.isPanning&&ltc(this,c)}},mouseDrag:function(a){this._eventWrapper(()=>{this.setDomainLimits();a.mouseMoved=!0;if(a.isDragging&&!a.isBrushing&&!a.enablePan&&null!==a._startPoint){var b=mtc(this,a);b&&(this.brush([]),this.isBrushing=!0,a.isBrushing=
!0,this._trackingAxis=a.trackingAxis=b,this.brush([this.mouseValue(b,a._startPoint)]))}a.enablePan&&(a.trackingAxis="x");b=this.scale(a.trackingAxis,"domain");a.brush=this.brush();let c=this.mouseValue(a.trackingAxis);if(c<b[0]||c>b[1]){const d=Math.min(+b[1],Math.max(+b[0],+c));a.isDragging&&(c="x"===a.trackingAxis?new Date(d):d)}a.isBrushing&&(a.brush[1]=c,a.enablePan||(this.brushDragged=!0));this.brush(a.brush);a.isPanning&&(this.brush([]),a.domain=b,ltc(this,this.mouseValue(a.trackingAxis),a))})},
mouseUp:function(a){this._eventWrapper(()=>{this.setDomainLimits();d3.select("body").on(".brush",null);a.isDragging&&a.mouseMoved&&(a.enablePan?(+a._currentDomain[1]>this._rightEdgeUpperLimit&&(a._currentDomain[1]=new Date(this._rightEdgeUpperLimit),a._currentDomain[0]=new Date(this._rightEdgeUpperLimit-a.chartLength)),+a._currentDomain[0]<this._leftEdgeLowerLimit&&(a._currentDomain[0]=new Date(this._leftEdgeLowerLimit),a._currentDomain[1]=new Date(this._leftEdgeLowerLimit+a.chartLength)),this.trigger("pan_finished",
a._currentDomain,a._currentYDomain,this)):(a.brush.sort(),"y"==a.trackingAxis&&a.brush[0]!=a.brush[1]&&this._axisZoomOn&&(this._yZoomed=!0),this.trigger("brushed",a.brush,a.trackingAxis,this)),this.brush([]));this._cursorOverChart||this._cursorOverAxis?this._cursorOverAxis&&this._axisZoomOn?this.setCursorToResize(this._cursorBody,this.chartType):_.FP.modifiers.cmd||_.FP.modifiers.ctrl||!this._enableDragPan||this.setCursorToMove(this._cursorBody):this.setCursorToDefault(this._cursorBody);this._scrollZoomOn=
this._enableScrollZoom&&this._allowScrollZoomAndPan;this._isBrushing=this.isPanning=this.isDragging=!1;this._trackingAxis="x";this.mouseMove()})},mouseScroll:function(a){if(!this.isDragging&&!this.isPanning&&this._scrollZoomOn&&this._startZooming&&this._allowScrollZoomAndPan&&!a.ctrlKey&&!a.metaKey&&this._cursorOverChart){this.setCursorToZoom(this._cursorBody,a.wheelDelta);var b=this.scale("x","domain"),c=this.mouseValue("x");this.isZooming=!0;this._currentDomain=b;var d=a.wheelDelta/120;b=+this._currentDomain[0];
var e=+this._currentDomain[1]-b;this._changePerScroll=Math.floor(e/60);d=e+-2*d*this._changePerScroll;e=d/e;c=(1-e)*+c+e*b;d=c+d;d>this._rightEdgeUpperLimit||c<this._leftEdgeLowerLimit?(this.outOfBound=!0,d>this._rightEdgeUpperLimit+.04*(this._rightEdgeUpperLimit-c)&&(d=this._rightEdgeUpperLimit+.04*(this._rightEdgeUpperLimit-c)),c=c<this._leftEdgeLowerLimit-.04*(this._rightEdgeUpperLimit-this._leftEdgeLowerLimit)?this._leftEdgeLowerLimit-.04*(this._rightEdgeUpperLimit-this._leftEdgeLowerLimit):(1-
e)*this._rightEdgeUpperLimit+e*b):this.outOfBound=!1;c<d&&(this._currentDomain[0]=new Date(c),this._currentDomain[1]=new Date(d),this.trigger("change:zoom",this._currentDomain,this));a=a||window.event;a.preventDefault&&a.preventDefault();a.returnValue=!1}},mouseEnter:function(){this._cursorOverChart=!0;this._cursorOut=!1;_.FP.enabled()&&this.isPlot&&atc(this.styleCursorOnKeyDown,this.styleCursorOnKeyUp);const a=this.mousePosInMargin();this._enableDragPan&&!this._isLocked&&!this.isDragging&&this._allowScrollZoomAndPan&&
(a[0]>this.innerWidth()||"timeLegend"==this.chartType?(this._cursorOverChart=!1,this._cursorOverAxis=!0,this._axisZoomOn&&this.setCursorToResize(this._cursorBody,this.chartType)):(this._cursorOverAxis=!1,this._cursorOverChart=!0,this.setCursorToMove(this._cursorBody)))},mouseLeave:function(){this._cursorOverChart=!1;this._cursorOut=!0;if(!this.isDragging&&!this._isLocked){this.stopZooming();this.setCursorToDefault(this._cursorBody);if(_.FP.enabled()&&this.isPlot){var a=_.FP;a.keyDownEventRegistered_=
!1;a.eventRegistry_.off("global:keydown");d3.select(window).on("keydown",null)}this.brush([])}},mouseDown:function(a){this.showTooltip();if(this._brushAllowSelection&&!this.userDraggingDifferentChart()){var b=d3.event;if(b&&(b.preventDefault(),1!==b.which))return;this.isPlot&&this.startZooming();!this.canDragPan(a&&!!a.ctrlKey,a&&!!a.metaKey)||this._axisZoomOn&&this._cursorOverAxis?this._cursorOverAxis&&this.setCursorToResize(this._cursorBody,this.chartType):this.setCursorToMoving(this._cursorBody);
b=this.mouseValue("x");var c=this.scale("x","domain");if(this.isPlot){const d=this.scale("y","domain");this._currentYDomain=d;null==this._topEdgeLimit&&(this._topEdgeLimit=d[1]);null==this._bottomEdgeLimit&&(this._bottomEdgeLimit=d[0])}if(!(b<c[0])){if(b>c[1]&&!this.canDragPan()){if(!this.supportAxis("y")||!this._brushAllowYSelection)return;this.brush([]);this._trackingAxis="y";this._isBrushing=!0;b=this.mouseValue("y")}else this._trackingAxis="x";b>c[1]&&this.canDragPan()&&(b=c[1]);this.brush([b]);
this.panned=this.brushDragged=!1;this.isPanning=this.canDragPan();this.isDragging=!0;if(_.FP.enabled()&&this._allowScrollZoomAndPan)this.isPanning&&this.brush([]),_.FP.init(),btc(a,this.populateContext.bind(this),this.mouseDrag.bind(this),this.mouseUp.bind(this));else{this._currentDomain=c;this._startPoint=this.mousePosInMargin();this._prevMousePos=this.mousePosInMargin();const d=d3.select("body");d.on("mousemove.brush",()=>{this.isDragging&&this.mouseMove()}).on("mouseup.brush",()=>{d.on(".brush",
null);if(this.isDragging){this.mouseMove();if(this.canDragPan())+this._currentDomain[1]>this._rightEdgeUpperLimit&&(this._currentDomain[1]=new Date(this._rightEdgeUpperLimit)),+this._currentDomain[0]<this._leftEdgeLowerLimit&&(this._currentDomain[0]=new Date(this._leftEdgeLowerLimit)),this.trigger("pan_finished",this._currentDomain,this._currentYDomain,this);else{let e=this.brush();e.sort();"y"==this._trackingAxis&&e[0]!=e[1]&&this._axisZoomOn&&(this._yZoomed=!0);this.trigger("brushed",e,this._trackingAxis,
this);!this._ctrlZoom&&this._enableScrollZoom&&(this._scrollZoomOn=!0)}this._cursorOverChart||this._cursorOverAxis?this._cursorOverAxis&&this._axisZoomOn?this.setCursorToResize(this._cursorBody,this.chartType):this.canDragPan()&&this.setCursorToMove(this._cursorBody):this.setCursorToDefault(this._cursorBody);this._isBrushing=this.isPanning=this.isDragging=!1;this._startPoint=null;this._trackingAxis="x";this.brush([])}})}}}},drawBrush:function(){this.layer("brush").draw()},mouseScrollWhenZooming:function(){this._startZooming&&
(+this._currentDomain[1]>this._rightEdgeUpperLimit&&(this._currentDomain[1]=new Date(this._rightEdgeUpperLimit)),+this._currentDomain[0]<this._leftEdgeLowerLimit&&(this._currentDomain[0]=new Date(this._leftEdgeLowerLimit)),Inc(this._currentDomain)&&this.trigger("zoom_finished",this._currentDomain,this),this.isZooming=!1)},mouseScrollWhenPanning:function(){!this.isDragging&&this._allowScrollZoomAndPan&&(this._cursorOverChart||this._cursorOverAxis?this._cursorOverAxis&&this._axisZoomOn?this.setCursorToResize(this._cursorBody,
this.chartType):_.FP.modifiers.cmd||_.FP.modifiers.ctrl||!this._enableDragPan||this.setCursorToMove(this._cursorBody):this.setCursorToDefault(this._cursorBody))},setCursorToMove:function(a){a.style.cursor="move";a.style.cursor="-webkit-grab";a.style.cursor="-moz-grab";a.style.cursor="grab"},setCursorToMoving:function(a){a.style.cursor="-webkit-grabbing";a.style.cursor="-moz-grabbing";a.style.cursor="grabbing"},setCursorToCrosshair:function(a){a.style.cursor="crosshair"},setCursorToDefault:function(a){a.style.cursor=
"auto"},setCursorToColResize:function(a){a.style.cursor="col-resize"},setCursorToZoom:function(a,b){a.style.cursor=0<b?"zoom-in":"zoom-out"},setCursorToResize:function(a,b){a.style.cursor="timeLegend"==b?"col-resize":"row-resize"},initialize:function(a){this.chart=a;ktc(a);a.brush=GP.brush;a.brushLock=GP.brushLock;a.mouseValue=GP.mouseValue;a.brushSelection=GP.brushSelection;a.allowScrollZoomAndPan=GP.allowScrollZoomAndPan;a.enableScrollZoom=GP.enableScrollZoom;a.enableDragPan=GP.enableDragPan;a.enableAxisZoom=
GP.enableAxisZoom;a.brushAllowYSelection=GP.brushAllowYSelection;a.trackCursorLocation=GP.trackCursorLocation;a.setCursorToMove=GP.setCursorToMove;a.setCursorToMoving=GP.setCursorToMoving;a.setCursorToCrosshair=GP.setCursorToCrosshair;a.setCursorToDefault=GP.setCursorToDefault;a.setCursorToColResize=GP.setCursorToColResize;a.setCursorToZoom=GP.setCursorToZoom;a.setCursorToResize=GP.setCursorToResize;a.showTooltip=GP.showTooltip;a.setDomainLimits=GP.setDomainLimits;a.getBrushContainer=GP.getBrushContainer;
a.styleCursorOnKeyDown=GP.styleCursorOnKeyDown;a.styleCursorOnKeyUp=GP.styleCursorOnKeyUp;a.startZooming=GP.startZooming;a.stopZooming=GP.stopZooming;a.populateContext=GP.populateContext;a.userDraggingDifferentChart=GP.userDraggingDifferentChart;a.userPreventedCursorTracking=GP.userPreventedCursorTracking;a.canDragPan=GP.canDragPan;a.mouseMove=GP.mouseMove;a.mouseDrag=GP.mouseDrag;a.mouseUp=GP.mouseUp;a.mouseScroll=GP.mouseScroll;a.mouseEnter=GP.mouseEnter;a.mouseLeave=GP.mouseLeave;a.mouseDown=GP.mouseDown;
a.drawBrush=GP.drawBrush;a.mouseScrollWhenZooming=GP.mouseScrollWhenZooming;a.brushSelection=a.brushSelection;a.allowScrollZoomAndPan=a.allowScrollZoomAndPan;a.enableScrollZoom=a.enableScrollZoom;a.enableDragPan=a.enableDragPan;a.enableAxisZoom=a.enableAxisZoom;a.brushAllowYSelection=a.brushAllowYSelection;a.trackCursorLocation=a.trackCursorLocation;a._enableScrollZoom=!1;a._enableDragPan=!1;a._enableAxisZoom=!1;a._scrollZoomOn=a._enableScrollZoom;a._axisZoomOn=a._enableAxisZoom;a._isBrushing=!1;
a._isLocked=!1;a._trackingAxis="x";a._startPoint=null;a._brushAllowSelection=!0;a._allowScrollZoomAndPan=a._enableDragPan&&a._enableScrollZoom;a._brushAllowYSelection=!0;a._trackCursorLocation=!0;a._changePerScroll=6E4;a._scrolledAmount=0;a._startZooming=!1;a._currentDomain=[];a._currentYDomain=[];a._leftEdgeLowerLimit=Date.now()-36288E5;a._rightEdgeUpperLimit=Date.now();a._bottomEdgeLimit=null;a._topEdgeLimit=null;a._yZoomed=!1;a._prevMousePos=null;a._ctrlZoom=!1;a._tooltip=document.querySelector(".reset-tip");
a._cursorOverChart=!1;a._cursorOverAxis=!1;a._cursorOut=!0;a._cursorBody=document.querySelector("body");a._eventWrapper=_.EN();a._scrollZoomEventsRegistered=!1;a._timePinSub=!1;a.brushDragged=!1;a.isDragging=!1;a.isPanning=!1;a.isZooming=!1;a.panned=!1;a.outOfBound=!1;a.registerScrollZoomEvents=()=>{a.on("proxy:mousewheel",GP.mouseScroll);a.on("proxy:mousewheel",_.SO(GP.mouseScrollWhenZooming,300).bind(this));a.on("proxy:mousewheel",_.SO(GP.mouseScrollWhenPanning,400).bind(this));a._scrollZoomEventsRegistered=
!0};a.on("proxy:mouseenter",GP.mouseEnter);a.on("proxy:mouseleave",GP.mouseLeave);a.on("proxy:mousemove",GP.mouseMove);a.on("proxy:mousedown",GP.mouseDown);a.on("change:scale",GP.drawBrush);a.on("change:brush",GP.drawBrush)}};
var ntc={initialize:function(a,b,c){a._showLatestValue=!1;a.showLatestValue=function(d){if(!arguments.length)return this._showLatestValue;if(this._showLatestValue!==d)return(this._showLatestValue=d)?this.layer("latestValue",this.addBase("latestValue","g",b),c):this.unlayer("latestValue"),this}},dataBind:function(){var a=[],b=this.chart();1===b.data.length&&0<b.data[0].data.length&&(b=b.data[0].data,b=b[b.length-1],a.push({val:b.y,ts:b.x}));return this.selectAll("text").data(a)},insert:function(){return this.append("text").classed("sd-chart-latest-value-overlay",
!0)},events:{merge:function(){var a=this.chart();this.attr("text-anchor","middle").attr("font-family","sans-serif").attr("font-size","50px").attr("fill-opacity",.5).text(function(d){return a.yManager.yFormat.format(d.val)});var b=this.node().getComputedTextLength(),c=a.innerHeight();b=a.innerWidth()-b/2;this.attr("transform","translate("+b+","+c+")")},exit:function(){this.remove()}}};
var otc={initialize:function(a,b,c){a._isLoading=!1;a.isLoading=function(d){if(0===arguments.length)return this._isLoading;if(this._isLoading===d)return this;(this._isLoading=d)?this.layer("loading",this.addBase("loading","g",b),c):(this.layer("loading").remove(),this.unlayer("loading"));return this}},dataBind:function(){return this.selectAll("text").data(["Loading"])},insert:function(){return this.append("text").classed("sd-chart-loading-text",!0)},events:{merge:function(){var a=this.chart(),b=a.innerWidth();
a=a.innerHeight();this.attr("text-anchor","middle").attr("font-size","18px").attr("fill-opacity",.15).text("Loading...");this.attr("y",a/2-9).attr("x",b/2)},exit:function(){this.remove()}}};
var ptc={initialize:function(a,b,c){a._isSample=!1;a.isSample=function(d){if(!arguments.length)return this._isSample;if(this._isSample!==d)return(this._isSample=d)?(this.layer("sample",this.addBase("sample","g",b),c),this.domainY([0,100])):this.unlayer("sample"),this}},dataBind:function(){return this.selectAll("text").data(["Sample"])},insert:function(){return this.append("text").classed("sd-chart-sample-text",!0)},events:{merge:function(){this.attr("text-anchor","middle").attr("font-family","sans-serif").attr("font-size",
"150px").attr("fill-opacity",.15).attr("transform","rotate(-10) translate(300, 195)").text(function(a){console.log(a);return a})},exit:function(){this.remove()}}};
var qtc={dataBind:function(a){var b=this.chart();a=b.threshold()||[];a.length&&(a=a.map(b.scale("y")));return this.selectAll(".threshold-group").data(a)},insert:function(){var a=this.append("g").classed("threshold-group",!0);a.append("path").classed("threshold-line",!0);a.append("path").classed("threshold-text-box",!0);a.append("text").classed("threshold-text",!0);a.append("rect").classed("threshold-label-box",!0);a.append("text").classed("threshold-label",!0);return a},events:{merge:function(){const a=
this.chart(),b=a.innerWidth(),c=a.yManager.axisFormat.formatter(),d=a.threshold();var e=a.hideText();const f=a.thresholdLabels();var g=a.showThresholdLabels(),h=a._yAxisPosition;const l="left"!==h||e?0:a.margin().left-7,n=v=>(w,y)=>{if(v){w=[];y=v[y];for(const [B,G]of Object.entries(y))w.push(B+": "+G);return w.join(";")}};this.attr("transform",function(v){return`translate(${-l}, ${v})`});if(!e){e=this.select(".threshold-text").text((B,G)=>d&&d.length?c(d[G]):"").attr("style",n(a._labelOptions));
const v="left"===h?0:b+8;var r=e.node().getBBox();const w=r.width;r=r.height;const y=r/2;e.attr("x",v).attr("y",4);h="left"===h?`M 0 ${y} l 0 ${-r} l ${w} 0 l 8 `+`${y} l -8 ${y} l ${-w} 0`:`M ${b} 0 l 8 ${-y} l ${w} 0 l 0 `+`${r} l ${-w} 0 l -8 ${-y}`;this.select(".threshold-text-box").attr("d",h).attr("style",n(a._thresholdOptions))}if(g&&f){g=-8;a._labelPosition&&("below"===a._labelPosition.vertical?g=16:"center"===a._labelPosition.vertical&&(g=4));h=this.select(".threshold-label").text((y,B)=>
f&&f.length?f[B]||"":"").attr("y",g).attr("style",n(a._labelOptions));e=a._labelPosition&&"right"===a._labelPosition.horizontal?b-h.node().getBBox().width+l:0;h.attr("x",e);const v=a._labelPosition&&"center"===a._labelPosition.vertical?0:4,w=a._labelPosition&&"center"===a._labelPosition.vertical?0:g;this.select(".threshold-label-box").data(h.nodes().map(y=>y.getBBox())).attr("x",e-2).attr("y",y=>w-y.height/2-v-2).attr("width",y=>y.width+4).attr("height",y=>y.height+4).attr("rx",2).attr("ry",2).attr("style",
n(a._thresholdOptions))}else this.select(".threshold-label").remove(),this.select(".threshold-label-box").remove();this.select(".threshold-line").attr("d",`M 0 0 L ${b+l} 0`).attr("style",n(a._thresholdOptions))},exit:function(){this.remove()}},threshold:function(a,b){if(0===arguments.length)return this._threshold;const c=this._threshold;this._threshold=a?Array.isArray(a)?a:[a]:null;Array.isArray(b)&&b.length&&(this._thresholdOptions=b.map(d=>{const e={};e.fill=d.fill;e.stroke=d.color;e["stroke-width"]=
d.strokeWidth?d.strokeWidth.toString()+"px":void 0;d.dashArray&&(e["stroke-dasharray"]=d.dashArray.toString());return e}));this._threshold!==c&&this.trigger("change:threshold",this._threshold);return this},thresholdLabels:function(a,b,c){if(0===arguments.length)return this._thresholdLabels;this._thresholdLabels=a?Array.isArray(a)?a:[a]:null;Array.isArray(b)&&b.length&&(this._labelOptions=b.map(d=>{const e={};d&&(e.fill=d.fontColor,e["font-family"]=d.fontFamily);return e}));this._labelPosition=c;return this},
showThresholdLabels:function(a){0<arguments.length&&(this._showThresholdLabels=a);return this._showThresholdLabels},initialize:function(a){this._labelPosition=this._labelOptions=this._thresholdLabels=this._thresholdOptions=this._threshold=null;this._showThresholdLabels=!1;a.threshold=qtc.threshold;a.thresholdLabels=qtc.thresholdLabels;a.showThresholdLabels=qtc.showThresholdLabels;a.on("change:threshold",function(){a.layer("threshold").draw()})}};
var rtc={initialize:function(a){a.tileBuffer=new _.nP({width:a.innerWidth(),height:a.innerHeight(),canvas:document.createElement("canvas")});var b=TO(function(c){a.tileBuffer.resize(a.innerWidth(),a.innerHeight());a.layer("tile").draw(a.data,c)},50);a.on("change:innerWidth",(c,d)=>b(d));a.on("change:innerHeight",(c,d)=>b(d))},dataBind:function(){var a=this.chart();a.tileBuffer.strokeStyle="transparent";return this.selectAll(".fill-tile").data([a.data])},insert:function(){return this.append("div").classed("fill-tile",
!0)},events:{merge:function(){var a=this.chart();let b=null;a.data&&a.data.dataLayer&&a.data.dataLayer.getIsLoadingInterval&&(b=a.data.dataLayer.getIsLoadingInterval());a.tileBuffer.clear();this.each(function(){b&&(a.tileBuffer.globalAlpha=1,a.tileBuffer.fillStyle=_.grc(a.theme),_.Qrc(a.tileBuffer,b,a.scale("x")));this.appendChild(a.tileBuffer.canvas)})},exit:function(){this.remove()}}};
_.stc=function(a){a._stacked=!0;const b={},c={};for(let d=a.length-1;0<=d;d--)for(let e=0;e<a[d].data.length;e++){const f=a[d].data[e],g=0>f.y?c:b,h=f.x;let l=0;h in g&&(l=g[h]);f.y0=l;f.y1=l+f.y;g[h]=f.y1}};
_.HP=class{constructor(){this.palette_=Qqc;this.colorUsed_=Array(this.palette_.length);this.colorUsed_.fill(!1);this.colorMap_=new Map}getColor(a,b,c){if(this.colorMap_.has(a))return this.colorMap_.get(a);if(this.colorMap_.size==this.palette_.length)return _.YO(a);b=Math.min(c&&c.data?c.data.length:this.palette_.length,this.palette_.length);if(this.colorMap_.size<b)for(c=Pqc(a)%b;this.colorUsed_[c];)c=(c+1)%b;else for(c=b;this.colorUsed_[c];)c+=1;this.colorUsed_[c]=!0;this.colorMap_.set(a,this.palette_[c]);
return this.palette_[c]}};_.HP.prototype.getColor=_.HP.prototype.getColor;
var xtc=function(){this.modeDict={"x-ray":ttc,color:utc,stats:vtc,outlier:wtc}};_.nh("awesomecharts.utils.ChartModes.ModeManager",xtc);
var ytc=function(){var a="_modeObj",b=new xtc;a=a||"_modeObj";return function(c){c=b.modeDict[c];return c&&c.verify&&!c.verify(this)?!1:(this[a]=c,!0)}},ttc={preDraw:function(a){a.strokeFn=null;a.fillFn=null;a._supportsOverlay?(a.strokeStyle="rgba(255,255,255,0.3)",a.fillStyle="rgba(255,255,255,0.3)"):(a.strokeStyle="rgba(178,197,255,0.3)",a.fillStyle="rgba(178,197,255,0.3)")},postDraw:function(a){a._supportsOverlay&&_.Urc(a)},onChange:function(a,b){a.background="#1a1712";b&&b.draw&&b.rawData&&b.rawData()&&
b.draw(b.rawData())},onDeselect:function(a){a.style("opacity",1)}},utc={preDraw:function(a){a.strokeFn=function(b){return b.color};a.fillFn=function(b){return b.color}},onChange:function(a,b){a.background=a.colorChartModeBackground||"transparent";b&&b.draw&&b.rawData&&b.rawData()&&b.draw(b.rawData())},onSelect:function(a){a.style("opacity",.33)},onDeselect:function(a){a.style("opacity",1)}},vtc={preDraw:function(a){a.strokeFn=function(b){return b.color};a.fillFn=function(b){return b.color}},onChange:function(a,
b){a.background=a.colorChartModeBackground||"transparent";b&&b.draw&&b.rawData&&b.rawData()&&b.draw(b.rawData())},onSelect:function(a){a.style("opacity",.33)},onDeselect:function(a){a.style("opacity",1)}},wtc={preDraw:function(a){a.strokeFn=function(b){return b.color};a.fillFn=function(b){return b.color}},onChange:function(a,b){a.background=a.colorChartModeBackground||"transparent";b&&b.draw&&b.rawData&&b.rawData()&&b.draw(b.rawData())},onSelect:function(a){a.style("opacity",.33)},onDeselect:function(a){a.style("opacity",
1)}};
var Atc;_.ztc=function(){this.stats={mean:new Arc,stdev:new Brc,median:new hP(.5),"95th":new hP(.95),"5th":new hP(.05),max:new src,min:new trc,sum:new qrc,similarity:new fP,"5minMovAvg":new iP(5),"15minMovAvg":new iP(15),"60minMovAvg":new iP(60),"120minMovAvg":new iP(120)};_.IN(this.stats,function(a,b){a.setName(b)})};
Atc=function(a,b){a.flattenedData=_.MN(b,function(c){return c.data});a.alignedData=urc(a.flattenedData);_.Irc(a.flattenedData);a.sampleCounts=_.MN(a.alignedData,function(c){return{x:c.x,y:c.y.length}})};_.ztc.prototype.compute=function(a){this.flattenedData&&this.alignedData&&this.sampleCounts||Atc(this,a);var b=this;_.IN(this.stats,function(c){c.setAlignedData?(c.setAlignedData(b.alignedData),c.setSampleCounts&&c.setSampleCounts(b.sampleCounts)):c.setData(b.flattenedData)});return this.stats};
_.Btc=function(a){var b=[];_.IN(a,function(c,d){if("getTimeSeries"in c){c=c.getTimeSeries();for(let e=1;e<c.length;e++)c[e].x0=c[e-1].x;b.push({data:c,name:d,id:d})}});return b};
_.LO("twoDimChart");var IP=function(){};_.nh("awesomecharts.charts.TwoDimChart",IP);IP.prototype.trackCursorLocation=function(){};IP.prototype.trackCursorLocation=IP.prototype.trackCursorLocation;IP.prototype.stacked=function(){};IP.prototype.stacked=IP.prototype.stacked;IP.prototype.rawData=function(){};IP.prototype.generateLegendTokenizer=function(){const a=this._dataLayer;if(a&&a.generateLabelTemplate)return a.generateLabelTemplate()};
IP.prototype.setResourceMetadataNamingFunctions=function(a){this.resourceMetadataNamingFunctions_=a};IP.prototype.setTimeshiftOffset=function(a){this._timeshiftOffset=a};IP.prototype.setTimeshiftOffset=IP.prototype.setTimeshiftOffset;
IP=EP.extend("awesomecharts.two-dim",{initialize:function(){this._mode="color";this._modeObj=utc;this._zerofill=this._isSample=!1;this.isPlot=!0;this._interpolateFn=null;this.props(["highlightEnabled","colors","fullscreenMode","locks","stacked"]);this.prop("mode",ytc());this.highlightEnabled(!0);this.stacked(!1);this.base.classed("sd-2d-chart",!0);this.underlay=this.addBase("underlay","div",this.base).style("position","absolute").style("top",this._margins.top+"px").style("left",this._margins.left+
"px");this.content=this.addBase("content","div",this.base).style("position","absolute").style("top",this._margins.top+"px").style("left",this._margins.left+"px");this.overlay=this.addBase("overlay","div",this.base).style("position","absolute").style("top",this._margins.top+"px").style("left",this._margins.left+"px");this.addBase("mode-underlay","div",this.underlay).style("position","absolute").style("top",0).style("left",0);this.svg=this.base.append("svg");this.graphGroup=this.svg.append("g").attr("transform",
"translate("+this._margins.left+", "+this._margins.top+")");this.defs=this.graphGroup.append("defs");this.svgDefIdPrefix=_.UO("svg-def-");this.clipId=_.UO("graph-clip");this.graphClipRect=this.defs.append("clipPath").attr("id",this.clipId).append("rect");this.on("change:margin",function(){this.underlay.style("top",this._margins.top+"px").style("left",this._margins.left+"px");this.content.style("top",this._margins.top+"px").style("left",this._margins.left+"px");this.overlay.style("top",this._margins.top+
"px").style("left",this._margins.left+"px");this.graphGroup.attr("transform","translate("+this._margins.left+", "+this._margins.top+")")});this.scale("x",d3.scaleTime());this.locks([]);this.layer("threshold",this.addBase("threshold","g",this.graphGroup),qtc);this.overlayLayer=this.addBase("infoOverlay","g",this.graphGroup).style("clip-path","url(#"+this.clipId+")");ntc.initialize(this,this.overlayLayer,ntc);ptc.initialize(this,this.overlayLayer,ptc);otc.initialize(this,this.overlayLayer,otc);this.layer("brush",
this.addBase("brush","g",this.graphGroup),GP).style("pointer-events","none");GP.initialize(this);qtc.initialize(this);this.layer("tile",this.addBase("tile","div",this.content),rtc).style("position","absolute").style("top",0).style("left",0);rtc.initialize(this);this.on("should:redraw",TO(()=>{this.graphClipRect.attr("width",this.innerWidth()).attr("height",this.innerHeight()+1)}));this.on("change:stacked",function(){this._domainCache={};this._rawData&&this.draw(this._rawData)});this.on("change:mode",
function(b,c){b!==c&&(this.layer("mode-underlay")&&this.unlayer("mode-underlay"),this._modeObj.underlay&&(b=this._modeObj.underlay(this),this.layer("mode-underlay",this.underlay.select(".mode-underlay"),b)))});this.proxyEvent(this.svg,"mouseenter");this.proxyEvent(this.svg,"mouseleave");this.proxyEvent(this.svg,"mouseout");this.proxyEvent(this.svg,"mousedown");this.proxyEvent(this.svg,"mousemove");this.proxyEvent(this.svg,"mouseup");this.proxyEvent(this.svg,"mousewheel");this.proxyEvent(this.svg,
"click");this.svg.on("touchstart",()=>{this.highlightEnabled(!1)});var a=function(b,c){this.scale("x","range",[0,this._innerWidth]);this.trigger("should:redraw",c)}.bind(this);this.on("change:innerWidth",a);this.scale("x","range",[0,this._innerWidth]);this.getColorManager()||this.setColorManager(new _.HP)},getZerofill(){return this._zerofill},setZerofill(a){this._zerofill=a},transform:function(a){this._rawData=a=a||[];this.data=this.filter(a,this.searchFilter());if("stats"===this.mode()){var b=(new _.ztc).compute(this.data);
a=_.Btc(b);a.dataLayer=this.data.dataLayer;this.data=a;this.trigger("change:stats",b)}this.stacked()&&!this.data._stacked&&(this.data=this.interpolate(this.data),_.stc(this.data));for(a=0;a<this.data.length;a++){b=this.data[a];let c=b.color;c||(c=this.colorManager_.getColor(_.VO(b),b,this));b.color=c;b.lock=this.locks()[a]||!1}this.count=this.data.length;if(!this.count)return this.data;this.trigger("data",this.data);return this.data},searchFilter:function(a){if(0===arguments.length)return this._filterProp;
this._filterProp=a;this.draw(this.rawData());return this},filter:function(a,b){return b?a.filter(function(c){return-1!==c.name.indexOf(b)||-1!==c.resource_id.indexOf(b)?!0:!1}):a},rawData:function(){return this._rawData||this.data||[]},setInterpolateFn:function(a){this._interpolateFn=a},interpolate:function(a){return this._interpolateFn?this._interpolateFn(a):a},mapping:function(a){return{x0:this.mapX0(a),x1:this.mapX1(a),y0:this.mapY0(a),y1:this.mapY1(a)}},mapX0:function(a){return this.scale("x")(this.dataX0(a))},
mapX1:function(a){return this.scale("x")(this.dataX1(a))},mapY0:function(a){return this.scale("y")(this.dataY0(a))},mapY1:function(a){return this.scale("y")(this.dataY1(a))},closestIndexInData_:function(){return-1},closestPointInData_:function(){return 0},get disableSelection(){return this.disableSelection_},set disableSelection(a){this.disableSelection_=a},generateLegendTokenizer:IP.prototype.generateLegendTokenizer,setResourceMetadataNamingFunctions:IP.prototype.setResourceMetadataNamingFunctions,
setTimeshiftOffset:IP.prototype.setTimeshiftOffset});IP.brushSelection=IP.brushSelection;IP.brushAllowYSelection=IP.brushAllowYSelection;
var Ctc={initialize:function(a){a.bandBuffer=new _.nP({width:a.innerWidth(),height:a.innerHeight()+1,canvas:document.createElement("canvas")});a.data=[];const b=TO(function(c){a.bandBuffer.resize(a.innerWidth(),a.innerHeight());a.layer("band").draw(a.data,c)},50);a.on("change:innerWidth",(c,d)=>b(d));a.on("change:innerHeight",(c,d)=>b(d))},dataBind:function(){const a=this.chart();a.bandBuffer.strokeStyle=_.$O(a.theme);a.bandBuffer.map=function(b){return[a.mapX1(b),a.mapY1(b)]};return this.selectAll(".buffered-image").data([a.data])},
insert:function(){return this.append("div").classed("buffered-image",!0)},getClosedPath:function(a,b){const c=[];for(let d=0;d<a.length;d++)c.push(a[d]);for(a=b.length-1;0<=a;a--)c.push(b[a]);return c},events:{merge:function(){const a=this.chart();this.each(function(){a.bandBuffer.clear();var b=!1;if(1===a.data.length&&a.data[0].metadata&&a.data[0].metadata.requestParams){var c=a.data[0].metadata.requestParams;"REDUCE_SUM"===(c["secondaryAggregation.crossSeriesReducer"]||c["aggregation.crossSeriesReducer"])&&
(b=!0)}b&&1===a.data.length&&a.data[0].data.length&&a.yManager&&a.yManager.yRangeIsValid()&&(c=a.data[0].data.length,c=Ctc.getClosedPath(a.data[0].data,[{x:a.data[0].data[0].x,x0:a.data[0].data[0].x0,y:0},{x:a.data[0].data[c-1].x,x0:a.data[0].data[c-1].x0,y:0}]),a.bandBuffer.globalAlpha=1,a.bandBuffer.fillStyle=_.$O("fill",a.theme),_.qP(a.bandBuffer,c,!0));!b&&2===a.data.length&&a.yManager&&a.yManager.yRangeIsValid()&&(b=Ctc.getClosedPath(a.data[0].data,a.data[1].data),a.bandBuffer.globalAlpha=1,
a.bandBuffer.fillStyle=_.$O("fill",a.theme),c=!0,a.getChartConfig()&&(a.bandBuffer.strokeStyle=a.getChartConfig().strokeStyle||a.bandBuffer.strokeStyle,a.bandBuffer.strokeWidth=a.getChartConfig().strokeWidth||a.bandBuffer.strokeWidth,a.bandBuffer.fillStyle=a.getChartConfig().fillStyle||a.bandBuffer.fillStyle,"drawClosedPath"in a.getChartConfig()&&(c=a.getChartConfig().drawClosedPath)),_.qP(a.bandBuffer,b,c,a.getChartConfig()&&a.getChartConfig().drawDashedLine?_.Nrc:null,a.getChartConfig()&&a.getChartConfig().strokeUpperLine));
this.appendChild(a.bandBuffer.canvas)})},exit:function(){this.remove()}}};
var JP=function(){};_.nh("awesomecharts.charts.Band",JP);JP.prototype.setYManager=function(){};JP.prototype.setYManager=JP.prototype.setYManager;JP.prototype.unsetYManager=function(){};JP.prototype.unsetYManager=JP.prototype.unsetYManager;JP.prototype.setChartConfig=function(){};JP.prototype.setChartConfig=JP.prototype.setChartConfig;JP.prototype.getChartConfig=function(){};JP.prototype.getChartConfig=JP.prototype.getChartConfig;
JP=lP.extend("awesomecharts.band",{initialize:function(){this.base.classed("sd-band",!0);this.chartType="band";this.bandId_=null;this.yManagerCallbacks_=[];this.chartConfig_=null;this.scale("x",d3.scaleTime());this.scale("y",d3.scaleLinear());this.margin({top:10,bottom:10,left:10,right:60});this.theme=_.DN.getColorTheme();this.on("change:innerWidth",(a,b)=>{this.scale("x","range",[0,this._innerWidth]);this.trigger("should:redraw",b)});this.on("change:innerHeight",(a,b)=>{this.trigger("should:redraw",
b)});this.on("change:scale",function(){this.trigger("should:redraw")});this.scale("x","range",[0,this._innerWidth]);this.layer("band",this.addBase("band","div",this.base),Ctc).style("position","absolute").style("top",this._margins.top+"px").style("left",this._margins.left+"px");Ctc.initialize(this);this.on("should:redraw",TO(a=>{this._rawData&&this.draw(this._rawData,a)}));this.on("change:mode",function(){this.layer("band").draw([])});this.bindStateEvent_("change:selected",function(){this.trigger("should:redraw")})},
transform:function(a){this.data=this._rawData=a=a||[];for(a=0;a<this.data.length;a++){let b=this.data[a].color;const c=this.data[a];b||(b=_.YO(_.VO(c)));c.color=b}this.count=this.data.length;if(!this.count)return this.yManager&&(this.bandId_||0===this.bandId_)&&this.yManager.changeBandYRange([],this.bandId_),this.data;this.trigger("data",this.data);return this.data},mapX0:function(a){return this.scale("x")(this.dataX0(a))},mapX1:function(a){return this.scale("x")(this.dataX1(a))},mapY0:function(a){return this.scale("y")(this.dataY0(a))},
mapY1:function(a){return this.scale("y")(this.dataY1(a))},domainX:function(a){if(arguments.length){var b=this.scale("x").domain();_.TN(b,a)||this.scale("x","domain",a);return a}return this.scale("x").domain()},setYManager:function(a){const b=(c,d)=>{this.yManagerCallbacks_.push({name:c,callback:d});this.yManager.on(c,d)};this.yManager=a;this.bandId_=a.getUniqueBandId();this.scale("y",a.scale);b("change:scale",c=>{this.scale("y",c);this.trigger("change:scale","y",c)});b("change:axis",()=>{this.trigger("should:redraw")});
this.yManager.changeBandYRange(DP(this,this.data),this.bandId_);this.on("data",function(){this.yManager&&this.yManager.changeBandYRange(DP(this,this.data),this.bandId_)});b("change:pan",(c,d)=>{this.layer("band").lowPriority=!1;this.isPanning=!0;this.trigger("change:pan",c,d,this);this.isPanning=!1});b("change:zoom",c=>{this.layer("band").lowPriority=!1;this.isZooming=!0;this.trigger("change:zoom",c,this);this.isZooming=!1})},unsetYManager:function(){this.yManager&&(this.yManagerCallbacks_.forEach(a=>
{this.yManager.off(a.name,a.callback)}),this.yManagerCallbacks_=[],this.yManager.changeBandYRange([],this.bandId_),this.yManager=null)},setChartConfig:function(a){this.chartConfig_=a},getChartConfig:function(){return this.chartConfig_},streamValuesFromXY:function(a){return a instanceof Date?(this.data||[]).reduce((b,c)=>{const d=_.sP(c.data,a,!1);b[c.id]={rawValue:d,value:this.yManager.yFormat.format(d),rawStream:c,labels:{name:c.id}};return b},{}):{}}});
var KP={VALUE_DISPLAY:{NONE:0,TOTAL_TOP:1,SEGMENTS_CENTERED:2,IF_VALUE_DEFINED:3}};_.nh("awesomecharts.layers.BarsLayer.VALUE_DISPLAY",KP.VALUE_DISPLAY);
KP.initialize=function(a){a.barBuffer=new _.nP({width:a.innerWidth(),height:a.innerHeight(),canvas:document.createElement("canvas"),font:"16px roboto",textFillStyle:_.ZO("label",a.theme),textAlign:"center"});var b=TO(function(c){a.barBuffer.resize(a.innerWidth(),a.innerHeight());a.layer("bars").draw(a.data,c)},50);a.barShowValue_=KP.VALUE_DISPLAY.NONE;a.setBarShowValue=function(c){a.barShowValue_=c};a.on("change:innerWidth",(c,d)=>b(d));a.on("change:innerHeight",(c,d)=>b(d))};
KP.map=function(a){var b=a.scale("y")(0)|0;return function(c){var d=a.mapY1(c)|0,e=a.mapY0(c)|0;a._drawBarBorder&&(e<b?--e:e>b&&(e+=1));var f=Math.min(d,e);d=Math.max(d,e)-f;e={x0:a.dataX0(c),x:c.x};e=a.mapX0(e);var g=a.mapX1(c)-e;0>g&&-1<g?g=-1:0<g&&1>g&&(g=1);var h=a.dataY1(c);let l=a.dataY0(c),n=a.yManager.axisFormat.format(h);h=a.yManager.axisFormat.format(h-l);f={x:e|0,y:f|0,w:g|0,h:d|0,stackedValue:n,segmentValue:h};a.value&&null!=a.value(c)&&(f.explicitValue=a.yManager.axisFormat.format(a.value(c)));
return f}};KP.failSoftX0=function(a,b){var c=2===_.bP(a)?b+1:b-1;return 0<=c&&c<a.length?a[c].x:a[b].x};KP.dataBind=function(){var a=this.chart();a.mode();var b=a._modeObj;b.preDraw&&b.preDraw(a.barBuffer);a.barBuffer.strokeStyle="transparent";return this.selectAll(".chart-bars").data([a.data])};KP.insert=function(){return this.append("div").classed("chart-bars",!0)};
KP.events={merge:function(){var a=this.chart();a.mode();var b=a._modeObj;this.each(function(){a.barBuffer.clear();a.barBuffer.map=KP.map(a);_.pP(a.barBuffer,a.data,a.barShowValue_);b.postDraw&&b.postDraw(a.barBuffer);this.appendChild(a.barBuffer.canvas)})},exit:function(){this.remove()}};
var Dtc={initialize:function(a){a.barSelectedBuffer=new _.nP({width:a.innerWidth(),height:a.innerHeight(),canvas:document.createElement("canvas"),strokeWidth:0,fillFn:function(c){return c.color}});var b=TO(function(c){a.barSelectedBuffer.resize(a.innerWidth(),a.innerHeight());a.layer("selected").draw(a.data,c)},50);a.on("change:innerWidth",(c,d)=>b(d));a.on("change:innerHeight",(c,d)=>b(d))},dataBind:function(){var a=this.chart();return this.selectAll(".selected-bars").data([a.data])},insert:function(){return this.append("div").classed("selected-bars",
!0)},events:{merge:function(){const a=this.chart(),b=a._dataLayer;if(b){var c=b.getState();a.barSelectedBuffer.clear();(c.x||0!==c.selected.size||c.hover)&&this.each(function(){a.barSelectedBuffer.map=KP.map(a);const d=_.KN(a.data);for(let f=0;f<d.length;f++){d[f]=_.KN(d[f]);var e=_.VO(d[f]);c.isSelected(e)||c.hover===e||0===c.selected.size&&!c.hover?null!=c.x&&(e=a.closestIndexInData_(d[f].data,c.x),d[f].data=-1!==e?[d[f].data[e]]:[]):d[f].data=[]}_.pP(a.barSelectedBuffer,d);this.appendChild(a.barSelectedBuffer.canvas)})}},
exit:function(){this.remove()}}};
_.LO("barChart");var LP=function(){};_.nh("awesomecharts.charts.BarChart",LP);
LP.prototype.streamValuesFromXY=function(a){if(!(a instanceof Date))return{};const b=this.data||[],c=this.getColorManager(),d=this.resourceMetadataNamingFunctions_?this.resourceMetadataNamingFunctions_.getBoundGlobalFunctions():null;return b.reduce((e,f)=>{const g=_.sP(f.data,a,!0);let h=this.generateLegendTokenizer();"stats"===this.mode()&&(h=null);e[f.id]={rawValue:g,value:this.yManager.yFormat.format(g),rawStream:f,labels:{name:h?h.format(f.metadata||null,d):f.id,color:c?c.getColor(f.id):""}};
return e},{})};LP.prototype.streamValuesFromXY=LP.prototype.streamValuesFromXY;LP.prototype.showPointsOutsideDomain=function(){};LP.prototype.showPointsOutsideDomain=LP.prototype.showPointsOutsideDomain;
LP=IP.extend("awesomecharts.bar",{initialize:function(){this.chartType="bar";this.yManager.userBound([0,0]);this.stacked(!0);this._drawBarBorder=!1;this.prop("showPointsOutsideDomain",!1);this.base.classed("sd-bar-chart",!0);this.layer("bars",this.addBase("bars","div",this.content),KP).style("position","absolute").style("top",0).style("left",0);this.layer("selected",this.addBase("selected","div",this.overlay),Dtc).style("position","absolute").style("top",0).style("left",0);KP.initialize(this);Dtc.initialize(this);
this.on("should:redraw",TO(()=>{const a=this.rawData();0<a.length?this.draw(a):this.layer("bars").draw([])}));this.on("change:mode",function(){if(this._modeObj.onChange)this._modeObj.onChange(this.barBuffer,this);if(this._modeObj.onDeselect)this._modeObj.onDeselect(this.layer("bars").select("canvas"));this.updateHighlight();this.layer("bars").draw(this.data)});this.svg.on("click",function(){}.bind(this));this.bindStateEvent_("change:x",this.updateHighlight)},domainX:SN.x,showPointsOutsideDomain:LP.prototype.showPointsOutsideDomain,
streamIdFromXY(a,b){for(const d of this.data){var c=this.closestIndexInData_(d.data,a);if(-1===c)continue;let e;null!=d.data[c].y1?(e=d.data[c].y1,c=d.data[c].y0):(e=d.data[c].y,c=0);if(Math.max(e,c)>=b&&Math.min(e,c)<=b)return _.VO(d)}return null},updateHighlight(a){if(null!=a&&!a.suppressHighlighting_){a=this._dataLayer.getState();var b=this.layer("bars").select("canvas");if(this._modeObj.onSelect&&(0<a.selected.size||null!=a.hover))this._modeObj.onSelect(b);else if(this._modeObj.onDeselect)this._modeObj.onDeselect(b);
this.layer("selected").draw(this.data)}},transform:function(a){a=a||[];const b=this.domainX();this.showPointsOutsideDomain()||(a=a.map(c=>Object.assign({},c,{data:c.data.filter(d=>d.x<=b[1])})).filter(c=>0<c.data.length));return a},mapX0:function(a){const b=this.scale("x")(this.dataX0(a));a=this.scale("x")(this.dataX1(a))-b;return b+.175*a},mapX1:function(a){const b=this.scale("x")(this.dataX0(a));a=this.scale("x")(this.dataX1(a));return a-.175*(a-b)},dataX0:function(a){return a.x0||a.x},dataX1:function(a){return a.x},
dataY0:function(a){return this.stacked()?a.y0||0:0},dataY1:function(a){return this.stacked()?a.y1||a.y:a.y},closestIndexInData_:function(a,b){return _.rP(a,b,!0)},closestPointInData_:function(a,b){return _.sP(a,b,!0)},streamValuesFromXY:LP.prototype.streamValuesFromXY});
var Etc={initialize:function(a,b,c){a.funnelArrowBuffer=new _.nP({width:a.innerWidth(),height:a.innerHeight(),canvas:document.createElement("canvas"),font:"16px roboto",strokeStyle:"#AEAEAE",textFillStyle:"#F1F1F1",textAlign:"center",textBaseline:"middle"});a.funnelArrowBuffer.chooseFunnelColor=function(e){return 0<e?c:b};let d=TO(function(e){a.funnelArrowBuffer.resize(a.innerWidth(),a.innerHeight());a.layer("funnelArrows").draw(a.data,e)},50);a.on("change:innerWidth",(e,f)=>d(f));a.on("change:innerHeight",
(e,f)=>d(f))},map:function(a){return function(b,c){var d=a.scale("category"),e=d.domain()[c+1];c=d.step()*d.paddingInner();d=d(e)-c/2;c-=.75*c;50>c&&(c=50);e=c/2;const f=e/2,g=a.innerHeight();let h=g-b.volumetricHeight/2;0>=h-f&&(h=f);h+f>=g-5&&(h=g-f-5);return{x:d,y:h,h:e,w:c,data:{label:`${Math.round(100*Math.abs(b.gain))}%`,gain:b.gain},color:a.funnelArrowBuffer.chooseFunnelColor(b.gain)}}},dataBind:function(){const a=this.chart();var b=a._modeObj;b.preDraw&&b.preDraw(a.funnelArrowBuffer);var c=
a.data;b=[];if(c.length&&(c=c[0].data))for(let g=1;g<c.length;g++){var d=c[g-1].y1||c[g-1].y,e=c[g].y1||c[g].y,f=Infinity;0!==d&&(f=e/d);let h={gain:0,retention:0,volumetricHeight:0};h.gain=f-1;h.retention=f;const l=a.scale("y");f=a.innerHeight();d=l(d);e=l(e);h.volumetricHeight=f-e+(e-d)/2;b.push(h)}return this.selectAll(".chart-funnel-arrow").data([b])},insert:function(){return this.append("div").classed("chart-funnel-arrow",!0)},events:{merge:function(){const a=this.chart(),b=a._modeObj;this.each(function(c){a.funnelArrowBuffer.clear();
a.funnelArrowBuffer.map=Etc.map(a);_.Rrc(a.funnelArrowBuffer,c,Vrc);b.postDraw&&b.postDraw(a.funnelArrowBuffer);this.appendChild(a.funnelArrowBuffer.canvas)})},exit:function(){this.remove()}}};
var Ftc={initialize:function(a){a.funnelFillBuffer=new _.nP({width:a.innerWidth(),height:a.innerHeight(),canvas:document.createElement("canvas"),font:"16px roboto",fillStyle:"rgba(225, 225, 225, 0.60)"});let b=TO(function(c){a.funnelFillBuffer.resize(a.innerWidth(),a.innerHeight());a.layer("funnelFill").draw(a.data,c)},50);a.on("change:innerWidth",(c,d)=>b(d));a.on("change:innerHeight",(c,d)=>b(d))},map:function(a){return function(b,c){var d=a.scale("category");const e=d.step(),f=d.paddingOuter()*
e;d=f+e*c+d.bandwidth();return{x:f+e*(c+1)+2,x0:d,y:b.y,y0:b.y0}}},dataBind:function(){const a=this.chart();var b=a._modeObj;b.preDraw&&b.preDraw(a.funnelFillBuffer);var c=a.data;b=[];if(c.length&&(c=c[0].data))for(let g=1;g<c.length;g++){var d=c[g-1].y1||c[g-1].y,e=c[g].y1||c[g].y,f=Infinity;0!==d&&(f=e/d);let h={gain:0,retention:0,y:0,y0:0};h.gain=f-1;h.retention=f;f=a.scale("y");a.innerHeight();d=f(d);e=f(e);h.y=e;h.y0=d;b.push(h)}return this.selectAll(".chart-funnel-fill").data([b])},insert:function(){return this.append("div").classed("chart-funnel-fill",
!0)},events:{merge:function(){const a=this.chart(),b=a._modeObj,c=a.innerHeight();this.each(function(d){a.funnelFillBuffer.clear();a.funnelFillBuffer.map=Ftc.map(a);d.forEach((e,f)=>{if(Infinity!==e.gain){var g=a.funnelFillBuffer.ctx;e=a.funnelFillBuffer.map(e,f);g.save();g.fillStyle=a.funnelFillBuffer.fillStyle;g.strokeStyle=a.funnelFillBuffer.fillStyle;g.scale(a.funnelFillBuffer.scale,a.funnelFillBuffer.scale);g.beginPath();g.moveTo(e.x0,e.y0);g.lineTo(e.x,e.y);g.lineTo(e.x,c);g.lineTo(e.x0,c);
g.closePath();g.fill();g.stroke();g.restore()}});b.postDraw&&b.postDraw(a.funnelFillBuffer);this.appendChild(a.funnelFillBuffer.canvas)})},exit:function(){this.remove()}}};
var MP=function(){};
MP=IP.extend("awesomecharts.category",{initialize:function(){this.chartType="category";this.yManager.userBound([0,0]);this._drawBarBorder=!1;this.scale("category",d3.scaleBand());this.on("change:scale",function(a){"category"===a&&this.trigger("should:redraw")});this.setCategories([]);this.stacked(!0);this.base.classed("sd-category-chart",!0);this.layer("bars",this.addBase("bars","div",this.content),KP).style("position","absolute").style("top",0).style("left",0);this.layer("selected",this.addBase("selected",
"div",this.overlay),Dtc).style("position","absolute").style("top",0).style("left",0);KP.initialize(this);Dtc.initialize(this);this.trackCursorLocation(!1);this.brushSelection(!1);this.on("should:redraw",TO(()=>{const a=this.rawData();0<a.length?this.draw(a):this.layer("bars").draw([])}));this.on("change:innerWidth",()=>{let a=.65,b=a/2;void 0!==this.innerPadding&&(a=this.innerPadding);void 0!==this.outerPadding&&(b=this.outerPadding);this.scale("category").rangeRound([0,this._innerWidth]).paddingInner(a).paddingOuter(b)});
this.on("change:mode",function(){if(this._modeObj.onChange)this._modeObj.onChange(this.barBuffer);if(this._modeObj.onDeselect)this._modeObj.onDeselect(this.layer("bars").select("canvas"));this.updateHighlight();this.layer("bars").draw(this.data)});this.svg.on("click",function(){}.bind(this))},streamIdFromXY(a,b){if(null==a)return null;for(const d of this.data){let e;var c=void 0;if(c=d.data[a])if(null!=c.y1?(e=c.y1,c=c.y0):(e=c.y,c=0),Math.max(e,c)>=b&&Math.min(e,c)<=b)return _.VO(d)}return null},
updateHighlight(a){if(null!=a&&!a.suppressHighlighting_){a=this._dataLayer.getState();var b=this.layer("bars").select("canvas");if(this._modeObj.onSelect&&(0<a.selected.size||null!=a.hover))this._modeObj.onSelect(b);else if(this._modeObj.onDeselect)this._modeObj.onDeselect(b);this.layer("selected").draw(this.data)}},titleFromXY:function(a){return this.scale("category").domain()[a]||""},closestIndexInData_(a,b){if(!a||!a.length)return-1;let c,d,e=0;do{if(null==a[e].x)return-1;let f=a[e].x-b;0>f&&(f*=
-1);if(null==c||f<c)c=f,d=e;e++}while(e<a.length);return null==d?-1:d},xStateFromPos:MP.prototype.xStateFromPos,setCategories:MP.prototype.setCategories,funnel:MP.prototype.funnel,transform:function(a){return a?this.data=this.applyFilter(a):this.data||[]},supportAxis:function(a){return"x"===a||"y"===a||"category"===a},updateYRange:function(){this.yManager.changeYRange(Wsc(this,this.data))},mapX1:function(a){var b=this.dataX1(a);a=this.scale("category");b=a(b);return void 0===b?0:b+a.bandwidth()},
mapX0:function(a){a=this.dataX0(a);a=this.scale("category")(a);return void 0===a?0:a},dataX1:function(a){if(!a||void 0===a.x&&void 0===a.x1)return 0;const b=this.scale("category").domain();return void 0!==a.x1?b[a.x1]:b[a.x]},dataX0:function(a){return a&&void 0!==a.x?this.scale("category").domain()[a.x]:0},dataY0:function(a){return this.stacked()?a.y0||0:0},dataY1:function(a){return this.stacked()?a.y1||a.y:a.y},value:function(a){return a.value}});
MP.prototype.funnel=function(a){a&&(this.layer("funnelFill",this.addBase("funnel-fill","div",this.underlay),Ftc).style("position","absolute").style("top",0).style("left",0),this.layer("funnelArrows",this.addBase("funnel-arrows","div",this.content),Etc).style("position","absolute").style("top",0).style("left",0),Ftc.initialize(this),Etc.initialize(this,"rgba(33, 33, 33, 0.48)","rgba(33, 33, 33, 0.48)"))};
MP.prototype.setCategories=function(a){let b=this.scale("category");a&&a.length&&a[0].id&&(a=a.map(c=>c.id));b.domain(a);this.trigger("change:innerWidth");this.trigger("should:redraw")};MP.prototype.xStateFromPos=function(a){if(!this.data)return null;var b=this.scale("category");const c=b.step();var d=c*b.paddingOuter();if(a<d)return null;a-=d;d=Math.floor(a/c);a-=d*c;b=c*b.paddingInner();return 0>a||a>c-b?null:d};
var Gtc={initialize:function(a){a.circleBuffer=new _.nP({width:a.innerWidth(),height:a.innerHeight()+1,canvas:document.createElement("canvas")});a.data=[];const b=_.SO(()=>{a.circleBuffer.resize(a.innerWidth(),a.innerHeight());a.layer("circle").draw(a.data)},50);a.on("change:innerWidth",b);a.on("change:innerHeight",b)},dataBind:function(){const a=this.chart();a.circleBuffer.strokeStyle=crc(a.theme);a.circleBuffer.map=function(b){return[a.mapX1(b),a.mapY1(b)]};return this.selectAll(".buffered-image").data([a.data])},
insert:function(){return this.append("div").classed("buffered-image",!0)},events:{merge:function(){const a=this.chart();this.each(function(){a.circleBuffer.clear();Prc(a.circleBuffer,a.data);this.appendChild(a.circleBuffer.canvas)})},exit:function(){this.remove()}}};
var NP=function(){};_.nh("awesomecharts.charts.Circle",NP);NP.prototype.setYManager=function(){};NP.prototype.setYManager=NP.prototype.setYManager;NP.prototype.unsetYManager=function(){};NP.prototype.unsetYManager=NP.prototype.unsetYManager;NP.prototype.setChartConfig=function(){};NP.prototype.setChartConfig=NP.prototype.setChartConfig;NP.prototype.getChartConfig=function(){};NP.prototype.getChartConfig=NP.prototype.getChartConfig;
NP=lP.extend("awesomecharts.circle",{initialize:function(){this.base.classed("sd-circle",!0);this.chartType="circle";this.circleId_=null;this.yManagerCallbacks_=[];this.chartConfig_=null;this.scale("x",d3.scaleTime());this.scale("y",d3.scaleLinear());this.margin({top:10,bottom:10,left:10,right:60});this.theme=_.DN.getColorTheme();this.on("change:innerWidth",()=>{this.scale("x","range",[0,this._innerWidth]);this.trigger("should:redraw")});this.on("change:innerHeight",()=>{this.trigger("should:redraw")});
this.on("change:scale",()=>{this.trigger("should:redraw")});this.scale("x","range",[0,this._innerWidth]);this.layer("circle",this.addBase("circle","div",this.base),Gtc).style("position","absolute").style("top",this._margins.top+"px").style("left",this._margins.left+"px");Gtc.initialize(this);this.on("should:redraw",TO(()=>{this._rawData&&this.draw(this._rawData)}));this.bindStateEvent_("change:selected",()=>{this.trigger("should:redraw")})},transform:function(a){this.data=this._rawData=a=a||[];for(a=
0;a<this.data.length;a++){let b=this.data[a].color;const c=this.data[a];b||(b=_.YO(_.VO(c)));c.color=b}this.count=this.data.length;if(!this.count)return this.yManager&&(this.circleId_||0===this.circleId_)&&this.yManager.changeCircleYRange([],this.circleId_),this.data;this.trigger("data",this.data);return this.data},mapX0:function(a){return this.scale("x")(this.dataX0(a))},mapX1:function(a){return this.scale("x")(this.dataX1(a))},mapY0:function(a){return this.scale("y")(this.dataY0(a))},mapY1:function(a){return this.scale("y")(this.dataY1(a))},
domainX:function(a){if(arguments.length){var b=this.scale("x").domain();_.TN(b,a)||this.scale("x","domain",a);return a}return this.scale("x").domain()},setYManager:function(a){const b=(c,d)=>{this.yManagerCallbacks_.push({name:c,callback:d});this.yManager.on(c,d)};this.yManager=a;this.circleId_=a.getUniqueCircleId();this.scale("y",a.scale);b("change:scale",c=>{this.scale("y",c);this.trigger("change:scale","y",c)});b("change:axis",()=>{this.trigger("should:redraw")});this.yManager.changeCircleYRange(DP(this,
this.data),this.circleId_);this.on("data",()=>{this.yManager&&this.yManager.changeCircleYRange(DP(this,this.data),this.circleId_)});b("change:pan",(c,d)=>{this.layer("circle").lowPriority=!1;this.isPanning=!0;this.trigger("change:pan",c,d,this);this.isPanning=!1});b("change:zoom",c=>{this.layer("circle").lowPriority=!1;this.isZooming=!0;this.trigger("change:zoom",c,this);this.isZooming=!1})},unsetYManager:function(){this.yManager&&(this.yManagerCallbacks_.forEach(a=>{this.yManager.off(a.name,a.callback)}),
this.yManagerCallbacks_=[],this.yManager.changeCircleYRange([],this.circleId_),this.yManager=null)},setChartConfig:function(a){this.chartConfig_=a},getChartConfig:function(){return this.chartConfig_},streamValuesFromXY:function(a){return a instanceof Date?(this.data||[]).reduce((b,c)=>{const d=_.sP(c.data,a,!1);b[c.id]={rawValue:d,value:this.yManager.yFormat.format(d),rawStream:c,labels:{name:c.id}};return b},{}):{}}});
var Htc=_.DN.getColorTheme(),Itc=d3.timeFormat("%c"),OP=(a,b)=>{a.layer("domain-select",b.append("div").classed("domain-select",!0).style("position","absolute").style("top","0px").style("left","0px"),OP);OP.initialize(a)};
OP.initialize=function(a){a.height(a.height()+18);a.margin("top",a.margin("top")+18);a.trigger("change:height");a.domainSelectBuffer=new _.nP({width:a.width(),height:a.height(),canvas:document.createElement("canvas"),strokeStyle:"rgba(0,0,0,0.25)",fillStyle:_.ZO("label",a.theme),font:"smaller sans-serif",textAlign:"center",textBaseline:"top"});const b=a.scale("x"),c=document.querySelector("body");a._selections={grabbedRight:null,left:b.domain()[0],right:b.domain()[1],mousePos:null};const d=a._selections,
e=function(h){d.left=h[0];d.right=h[1]},f=TO(function(h){a.domainSelectBuffer.resize(a.width(),a.height());a.layer("domain-select").draw(a._selections,h)},50);a.on("change:innerWidth",(h,l)=>f(l));a.on("change:innerHeight",(h,l)=>f(l));a.on("change:height",()=>f());a.on("change:scale",h=>{"x"===h&&(h=b.domain(),d.right<=h[0]||d.left>=h[1]||d.left<h[0]&&d.right>h[1]?(e(h),a.trigger("change:domain-selected",[d.left,d.right])):d.left<h[0]?(e([h[0],d.right]),a.trigger("change:domain-selected",[d.left,
d.right])):d.right>h[1]&&(e([d.left,h[1]]),a.trigger("change:domain-selected",[d.left,d.right])));f()});const g=function(h,l){return h<b(l)+10&&h>b(l)-10};a.on("change:domain-select-move",()=>{a.layer("domain-select").draw(d)});a.on("proxy:mousedown",()=>{const h=a.mousePosInMargin()[0];if(!(0>h||h>a.innerWidth())){var l=b.invert(h);g(h,d.right)?d.grabbedRight=!0:g(h,d.left)?d.grabbedRight=!1:(e([l,l]),d.grabbedRight=!0);a.trigger("change:domain-select-move")}});d3.select(window).on("mousemove",()=>
{const [h,l]=a.mousePosInMargin();if(a.isPosInMargin(h,l)||null!=d.grabbedRight){var n=b.invert(h);null!=d.grabbedRight?d.grabbedRight?n>d.left?d.right=n:(d.left=n,d.grabbedRight=!1):n<d.right?d.left=n:(d.right=n,d.grabbedRight=!0):g(h,d.right)?(GP.setCursorToColResize(c),d.mousePos=d.right):g(h,d.left)?(GP.setCursorToColResize(c),d.mousePos=d.left):(GP.setCursorToDefault(c),d.mousePos=n);a.trigger("change:domain-select-move")}});d3.select(window).on("mouseup",()=>{null!=d.grabbedRight&&(d.grabbedRight=
null,a.trigger("change:domain-select-move"),e([d.left,d.right]),a.trigger("change:domain-selected",[d.left,d.right]))})};OP.dataBind=function(){return this.selectAll(".domain-select-buffered").data([this.chart()._selections])};OP.insert=function(){return this.append("div").classed("domain-select-buffered",!0)};
OP.events={merge:function(){const a=this.chart(),b=a.scale("x");this.each(function(c){a.domainSelectBuffer.clear();var d=a.innerHeight(),e=a.margin("top")-3;a.margin("top");var f=a.margin("left")+b(c.left),g=a.margin("left")+b(c.right);oP(a.domainSelectBuffer,[[f,g,d]],a.margin("top"),"rgba(43, 185, 255, 0.25)");oP(a.domainSelectBuffer,[[f-4,f,d+6],[g,g+4,d+6]],e,"rgba(43, 185, 255, 0.5)");if(null!==c.mousePos){f=a.margin("left")+b(c.mousePos);null==c.grabbedRight&&oP(a.domainSelectBuffer,[[f-1,f+
1,d+6]],e,_.ZO("x-axis",Htc));d=a.domainSelectBuffer;var h=[{text:Itc(c.mousePos),x:f,y:a.margin("top")-18}];c=a.margin("left");e=a.margin("left")+a.innerWidth();f=d.ctx;f.save();Src(d);g=e-c;for(const l of h){h=l.text;const n=d.measureText(h);if(g<n){for(;g<d.measureText(h+"...");)h=h.slice(0,h.length-1);h+="...";f.textAlign="left";f.fillText(h,c,l.y)}else l.x<c+n/2?(f.textAlign="left",f.fillText(h,c,l.y)):l.x>e-n/2?(f.textAlign="right",f.fillText(h,e,l.y)):(f.textAlign="center",f.fillText(h,l.x,
l.y))}f.restore()}this.appendChild(a.domainSelectBuffer.canvas)})},exit:function(){this.remove()}};
var Jtc=function(a,b){var c=PP.CIRCLE_HEIGHT_;const d=WO(b),e=new _.nP({width:a.innerWidth(),height:a.innerHeight(),canvas:document.createElement("canvas")});e.map=function(g){var h=a.scale("x");g.__category__.start||(g.__category__.start=g.__category__.end);g.__category__.end||(g.__category__.end=g.__category__.start);let l=h(new Date(g.__category__.start));g=h(new Date(g.__category__.end));g-l<c&&(h=c-(g-l),l-=h/2,g+=h/2);return[l,g,a.innerHeight()/2]};a[d+"EventBuffer"]=e;e.fillStyle=arc(d);e.strokeStyle=
null;const f=_.SO(()=>{e.resize(a.innerWidth(),a.innerHeight());a.draw()},50);a.on("change:width",f);a.on("change:height",f);return{dataBind:function(g){return this.selectAll("."+d+"-buffered-image").data([g.filter(function(h){return h.__category__.name===b})])},insert:function(){return this.append("div").classed(d+"-buffered-image",!0)},events:{merge:function(){this.each(function(g){e.clear();if(g&&g.length){var h=c/2||5,l=e.map,n=e.ctx;n.save();n.globalCompositeOperation="source-over";n.globalAlpha=
Math.min(.75,e.globalAlpha);n.scale(e.scale,e.scale);n.fillStyle=e.fillStyle;mP.time("render points");for(let v of g.reverse()){var r=l(v);g=r[0]+h;const w=r[1]-h;r=r[2];n.beginPath();n.arc(g,r,h,.5*Math.PI,1.5*Math.PI,!1);n.lineTo(w,r-h);n.arc(w,r,h,.5*Math.PI,1.5*Math.PI,!0);n.lineTo(w,r+h);n.fill();n.closePath()}mP.timeEnd("render points");n.restore()}this.appendChild(e.canvas)})},exit:function(){this.remove()}}}},Ktc=function(a,b,c){const d=WO(b),e=new _.nP({width:a.innerWidth(),height:c,canvas:document.createElement("canvas")});
e.map=function(g){var h=a.scale("x");let l=h(g.start);g=h(g.end);4>g-l&&(h=4-(g-l),l-=h/2,g+=h/2);return[l,g,c]};a[d+"EventBuffer"]=e;e.fillStyle=brc(d);e.strokeStyle=null;const f=_.SO(()=>{e.resize(a.innerWidth(),c);a.draw()},50);a.on("change:width",f);a.on("change:height",f);return{dataBind:function(g){return this.selectAll("."+d+"-buffered-image").data([g.filter(function(h){return h.category===b})])},insert:function(){return this.append("div").classed(d+"-buffered-image",!0)},events:{merge:function(){this.each(function(g){e.clear();
oP(e,g);this.appendChild(e.canvas)})},exit:function(){this.remove()}}}};
var Ltc=function(a,b,c){const d=_.DN.getColorTheme();b=b.append("canvas").classed("manual-y-axis",!!a).node();const e=new _.nP({width:a.width(),height:a.height(),canvas:b,fillStyle:_.ZO("label",a.theme),font:"smaller sans-serif",textBaseline:"middle",strokeWidth:1}),f=function(){e.clear();const h=a.margin("top");var l=Trc(e,c.map(r=>r.text))+10;const n=[0,l,a.innerHeight()];oP(e,[n],h,_.ZO("background",d));l=[l,l+1,a.innerHeight()];oP(e,[l],h,_.ZO("minor",d));for(const r of c)_.eP(e,r.text,5,h+r.y)},
g=_.SO(()=>{e.resize(a.width(),a.height());f()},50);a.on("change:width",g);a.on("change:height",g);a.on("change:margin",g);f();return b};
var Mtc=["Incidents","Anomalies","Lifecycle"],Ntc=_.DN.getColorTheme(),QP=function(){},Ptc=function(a){var b="single-line"===a._displayMode,c=_.ZO("minor",Ntc);const d=b?"transparent":c,e=[];for(let f=0;f<a._categories.length;f++){const g=a._categories[f],h=Otc(a,f);e.push({text:g,y:h+(a._rowHeight+a._rowPadding)/2});a.layer("category-"+WO(g)).style("background-color",0===f?c:d).style("top",(b?0:h)+a.margin("top")+a._rowPadding/2+"px").style("left",a.margin("left")+"px").style("position","absolute").style("height",
"25px")}a.yAxis&&a.yAxis.remove();b||(a.yAxis=Ltc(a,a.yAxisLabels,b?[{text:"Events",y:a._rowHeight/2}]:e));b=a.height;c=Otc(a)+a.margin("top")+a.margin("bottom");b.call(a,c)},Otc=function(a,b=a._categories.length){"single-line"===a._displayMode&&(b=1);return b*(a._rowHeight+a._rowPadding)};
QP=lP.extend("awesomecharts.rawEvent",{initialize(){this.base.classed("sd-event",!0);this.margin({top:5,bottom:5,left:10,right:10});this._rowHeight=25;this._rowPadding=4;this._categories=[];this._filterLayer=null;this.scale("x",d3.scaleTime());this.scale("x","range",[0,this.innerWidth()]);this.scale("y",d3.scaleBand());Qtc(this);this.eventRows=this.base.append("div").classed("event-rows",!0).style("position","absolute").style("top","0px").style("left","0px");this.yAxisLabels=this.base.append("div").classed("manual-y-axis",
!0).style("position","absolute").style("top","0").style("left","0");this.domainSelectContainer=this.base.append("div");this.svg=this.base.append("svg");this.graphGroup=this.svg.append("g").attr("transform",`translate(${this._margins.left}, ${this._margins.top})`);this.brushContainer=this.graphGroup.append("g").classed("brush",!0);this.categories(Mtc);this.displayMode("single-line");this.proxyEvent(this.svg,"mouseenter");this.proxyEvent(this.svg,"mousemove");this.proxyEvent(this.svg,"mousedown");this.proxyEvent(this.svg,
"mouseup");this.proxyEvent(this.svg,"mouseleave");this.on("change:scale",()=>{Qtc(this);this.draw()});this.on("change:width",()=>{this.responsive()&&(this.responsiveForm()===this.ResponsiveFormEnum.COMPACT?this.margin("right",10):this.margin("right",60));this.scale("x","range",[0,this.innerWidth()])});this.on("change:height",()=>Ptc(this));this.initializeBrusher()},displayMode:QP.prototype.displayMode,categories:QP.prototype.categories,yStateFromPos:QP.prototype.yStateFromPos,streamIdFromXY:QP.prototype.streamIdFromXY,
streamValuesFromX:QP.prototype.streamValuesFromX,streamValuesFromY:QP.prototype.streamValuesFromY,transform(a){return a?this.data=this.applyFilter(a):this.data||[]},addFilter(a){this._filterLayer=a},domainX:SN.x,domainY:SN.y});var Qtc=function(a){const b=a.domainX();a._xPadding=(b[1]-b[0])*(4/a.scale("x").range()[1])};_.aa=QP.prototype;
_.aa.displayMode=function(a){if(void 0===a)return this._displayMode;if("multi-line"!==a&&"single-line"!==a)throw Error("Ei");this._displayMode!==a&&(this._displayMode=a,a="single-line"===a,this.base.classed("single-line",a),this.base.classed("multi-line",!a),Ptc(this));return this._displayMode};
_.aa.categories=function(a){if(void 0===a)return this._categories;this._categories.forEach(b=>{b="category-"+WO(b);var c=this.layer(b);delete this._layers[b];c.remove()});this._categories=a;this.scale("y").domain(this._categories).range([0,Otc(this)]);this._categories.forEach(b=>{const c="category-"+WO(b);this.layer(c,this.eventRows.append("div").classed(c,!0),Ktc(this,b,this._rowHeight))});Ptc(this)};
_.aa.yStateFromPos=function(a){if("single-line"===this._displayMode)return this._categories;a=a/(this._rowHeight+this._rowPadding)|0;return[this.scale("y").domain()[a]]};_.aa.streamIdFromXY=function(){};_.aa.streamValuesFromX=function(a){a=this._dataLayer.getData([new Date(Number(a)-this._xPadding),new Date(Number(a)+this._xPadding)]).filter(c=>this._categories.includes(c.category));const b={};for(const c of a)b[c.id]={value:c.id,rawStream:c};return b};_.aa.streamValuesFromY=function(){return{iAmAStreamId:{value:"A X value"}}};
QP.extend("awesomecharts.event",{initializeBrusher(){this.layer("brush",this.brushContainer,GP);GP.initialize(this)}});QP.extend("awesomecharts.domainSelectEvent",{initializeBrusher(){OP(this,this.domainSelectContainer)}});
var RP={PADDING_THRESHOLD:5,PADDING_PIXELS:0,MIN_PIXELS:1,initialize:function(a){a.heatmapBuffer=new _.nP({width:a.innerWidth(),height:a.innerHeight(),canvas:document.createElement("canvas"),background:a.colorPivots[0]});var b=TO(function(c){a.heatmapBuffer.resize(a.innerWidth(),a.innerHeight());a.layer("heatmap").draw(a.data,c)},50);a.on("change:innerWidth",(c,d)=>b(d));a.on("change:innerHeight",(c,d)=>b(d))},map:function(a){var b=a.scale("y"),c=a.scale("color");return function(d){for(var e=[],f=
d.y.bucketCounts,g=0;f&&g<f.length;g++)if(0!==f[g]){var h=b(a.bucketY1(d,g)),l=b(a.bucketY0(d,g)),n=a.mapX1(d),r=a.mapX0(d),v=n-r>RP.PADDING_THRESHOLD&&l-h>RP.PADDING_THRESHOLD?RP.PADDING_PIXELS:0;n=n-r-v;l=l-h-v;n<RP.MIN_PIXELS&&(r-=RP.MIN_PIXELS/2,n=RP.MIN_PIXELS);l<RP.MIN_PIXELS&&(h-=RP.MIN_PIXELS/2,l=RP.MIN_PIXELS);e.push({x:r,w:n,y:h,h:l,fillStyle:c(f[g]),globalAlpha:"1.0"})}return e}},dataBind:function(){var a=this.chart();a.mode();var b=a._modeObj;b.preDraw&&b.preDraw(a.heatmapBuffer);a.heatmapBuffer.globalCompositeOperation=
"source-over";b=a.data;if(null!=a._dataLayer){var c=a._dataLayer.getState();0<c.selected.size&&(b=(a.data||[]).filter(function(d){return c.isSelected(_.VO(d))}))}return this.selectAll(".chart-heatmaps").data([b])},insert:function(){return this.append("div").classed("chart-heatmaps",!0)},events:{merge:function(){var a=this.chart();a.mode();var b=a._modeObj;this.each(function(c){a.heatmapBuffer.clear();a.heatmapBuffer.map=RP.map(a);_.pP(a.heatmapBuffer,c);b.postDraw&&b.postDraw(a.heatmapBuffer);this.appendChild(a.heatmapBuffer.canvas)})},
exit:function(){this.remove()}}};
_.LO("heatmapChart");var SP=function(){};_.nh("awesomecharts.charts.HeatmapChart",SP);
SP.prototype.streamValuesFromXY=function(a,b){if(!(a instanceof Date&&"number"===typeof b&&this.rawData))return{};var c=this.rawData()||[];const d=this.generateLegendTokenizer(),e=this.yManager.yFormat,f=this.resourceMetadataNamingFunctions_?this.resourceMetadataNamingFunctions_.getBoundGlobalFunctions():null,g=(new _.vP).unit("count"),h=(new _.vP).unit("ratio"),l=this.getColorManager(),n={};for(const y of c){c=y.id;var r=_.CP(y.data,a,b),v=Math.max.apply(this,y.data.map(O=>Math.max.apply(this,O.y.bucketCounts)));
let B,G;var w=_.rP(y.data,a,!0);-1!==w&&y.data[w]&&(B=y.data[w].y.count,G=_.wP(r.count/B,1,h));v=_.wP(r.count,v,g);w=e.format(r.range[0]);r=e.format(r.range[1]);n[c]={value:v,rawStream:y,labels:{percent:G,totalCount:B,yStart:w,yEnd:r,name:d?d.format(y.metadata||null,f):c,color:l?l.getColor(c):""}}}return n};SP.prototype.streamValuesFromXY=SP.prototype.streamValuesFromXY;
SP=IP.extend("awesomecharts.heatmap",{initialize:function(){this.chartType="heatmap";this.colorPivots=_.Zqc;this.scale("color",d3.scaleLinear().range(this.colorPivots).interpolate(d3.interpolateHcl));this.base.classed("sd-heatmap-chart",!0);this.layer("heatmap",this.addBase("heatmap","div",this.content),RP).style("position","absolute").style("top",0).style("left",0);RP.initialize(this);this.on("should:redraw",TO(()=>{this.draw(this.rawData())}));this.on("change:mode",function(){if(this._modeObj.onChange)this._modeObj.onChange(this.heatmapBuffer);
if(this._modeObj.onDeselect)this._modeObj.onDeselect(this.layer("heatmap").select("canvas"));this.layer("heatmap").draw(this.data)});this.on("data",function(a){this.yManager.changeScaleMode(_.Qsc(a))});this.on("data",this.updateColorRange_);this.on("change:scale",function(a){"x"!==a&&"y"!==a||this.updateColorRange_()});this.bindStateEvent_("change:selected",this.updateColorRange_);this.bindStateEvent_("change:selected",function(){this.trigger("should:redraw")})},dataX0:function(a){return a.x0||a.x},
dataX1:function(a){return a.x},dataY0:function(a){return _.Rsc(a)[0]},dataY1:function(a){return _.Rsc(a)[1]},bucketY0:function(a,b){return _.BP(a,b)[0]},bucketY1:function(a,b){return _.BP(a,b)[1]},updateColorRange_:function(){var a=this.scale("color").domain(),b=_.Xsc(this.data,this.scale("x"),this.scale("y"));if(a&&b&&(2!==b.length||void 0!==b[0]||void 0!==b[1])&&(a[0]!==b[0]||a[a.length-1]!==b[b.length-1])){a=b[0];var c=b[1];b=[0];c=(c-a)/(this.colorPivots.length-2);for(let d=0;d<this.colorPivots.length-
1;d++)b.push(a+d*c);this.scale("color").domain(b);this.trigger("change:scale","color",b)}},closestIndexInData_:function(a,b){return _.rP(a,b,!0)},closestPointInData_:function(a,b,c){return null==c?(a=_.sP(a,b,!0))&&a.mean?a.mean:0:Ssc(a,b,c)},streamValuesFromXY:SP.prototype.streamValuesFromXY});
var TP=function(){};TP=lP.extend("awesomecharts.categoryLegend",{initialize:TP.prototype.initialize,setCategories:TP.prototype.setCategories,redrawXAxis_:TP.prototype.redrawXAxis_});
TP.prototype.initialize=function(){this.axisCanvas=null;this.theme="light";this.buffer=null;this.bucketMapping={};this.chartType="categoryLegend";this.base.classed("ac-category-legend",!0);this.svg=this.base.append("svg");this.margin({top:0,bottom:20,left:10,right:60}).height(20);this.bucketMapping={};this.theme=_.DN.getColorTheme();this.axisCanvas=this.base.append("canvas").node();this.buffer=new _.nP({width:this.width(),height:this.height(),canvas:this.axisCanvas,fillStyle:_.ZO("label",this.theme),
strokeStyle:_.ZO("x-axis",this.theme),font:"smaller roboto",textAlign:"center",textBaseline:"top",strokeWidth:1});this.proxyEvent(this.svg,"mousedown");this.proxyEvent(this.svg,"mousemove");this.scale("category",d3.scaleBand());this.on("change:scale",function(c){"category"===c&&this.redrawXAxis_()});var a=()=>{this.scale("category").rangeRound([0,this._innerWidth]).paddingInner(.35).paddingOuter(.175);this.buffer.resize(this.width(),20);this.redrawXAxis_()},b=function(){this.responsive()&&(this.responsiveForm()===
this.ResponsiveFormEnum.COMPACT?this.margin("right",10):this.margin("right",60));a()}.bind(this);b();this.on("change:width",b);this.on("change:height",b)};TP.prototype.setCategories=function(a){let b=this.scale("category");a&&a.length&&a[0].id&&(a=a.map(c=>{this.bucketMapping[c.id]=c.label;return c.id}));b.domain(a);this.trigger("change:width")};
TP.prototype.redrawXAxis_=function(){this.buffer.clear();var a="true"===this.base.attr("with-lines")?!0:!1;let b=this.scale("category"),c=b.bandwidth(),d=b.domain();for(var e=0;e<d.length;e++){var f=d[e];let g=f;Object.keys(this.bucketMapping).length&&(g=this.bucketMapping[f]);f=b(f)+10+c/2;a&&this.buffer.drawLines([{data:[[f,0],[f,5]]}]);_.eP(this.buffer,g,f,0,!1,c/.7)}};
var Rtc=lP.extend("awesomecharts.eventSummaryLegend",{initialize:function(){this.chartType="eventSummaryLegend";this.div=this.base.append("div");this.div.classed("event-summary-legend",!0);this.layer("rows",this.addBase("legend","ul",this.div),{dataBind:function(a){return this.selectAll("li").data(a)},insert:function(){return this.append("li")},events:{enter:function(){this.append("span");this.append("div").attr("class",function(a){return"circle "+a});return this},merge:function(){this.select("span").text(function(a){return a});
this.select("div").attr("class",function(a){return"circle "+a})},exit:function(){this.remove()}}})},forChart:function(a){if(0===arguments.length)return this._forChart;this._forChart=a;var b=function(){this.data&&!this.hidden&&this.layer("rows").draw(this.data)}.bind(this);this._forChart.on("change:order",this.draw.bind(this));this._forChart.on("change:selected",b);this._forChart.on("change:mode",b);return this},transform:function(a){return a||[]}});
_.nh("awesomecharts.charts.legends.EventSummaryLegend",Rtc);
var UP=function(){};_.nh("awesomecharts.charts.legends.HovercardChart",UP);UP.prototype.setResourceMetadataNamingFunctions=function(a){this.cleanupMetadataNamingFunctions();if(this.resourceMetadataNamingFunctions_=a)this.resourceMetadataSubscription_=a.getOnNewResourceMetadataStream().subscribe(()=>{this.layer("list").draw(this.data)})};UP.prototype.setLegendLabelTemplate=function(a){this.labelTemplate_=a;this.labelTemplateFormatter_=new _.XN(a)};UP.prototype.setTimeFormatter=function(){};
UP.prototype.setTimeFormatter=UP.prototype.setTimeFormatter;UP.prototype.setTimeFormat=function(){};UP.prototype.setTimeFormat=UP.prototype.setTimeFormat;UP.prototype.setValueFormatter=function(){};UP.prototype.setValueFormatter=UP.prototype.setValueFormatter;
UP=lP.extend("awesomecharts.hovercard",{initialize:function(){var a=this;this.chartType="hovercard";this._formatter=new _.vP;this._customFormatter=null;this._domainDelta=1;this.resourceMetadataNamingFunctions_=this.resourceMetadataSubscription_=this._unit=null;const b={"default":_.ync,month:Bnc,date:znc,hour:Dnc};this.prop("threshold");this.scale("x",d3.scaleTime());this.base.classed("sd-chart-base-hovercard",!0);this.base.classed("hidden",!0);this.table=this.base.append("table");var c=this.table.append("thead").append("tr");
this.timeDisplay=c.append("td").attr("colspan",2).classed("datetime",!0);this.valueColumn1=c.append("td");this.valueColumn2=c.append("td");const d=this.draw;this.draw=e=>{d.call(this,e);(e=this._dataLayer)&&!this.labelTemplate_&&e.generateLabelTemplate&&(this.labelTemplateFormatter_=e.generateLabelTemplate())};this.layer("list",this.addBase("list","tbody",this.table),{dataBind:function(e){e=e||[];const f=a._dataLayer;if(null==f||null==f.getState().x||null==f.getState().y)e=[];else{var g=f.getState();
const h=f.getTimeshiftOffset&&f.getTimeshiftOffset();e=e.filter(function(l){l.id=_.VO(l);l.timeshiftOffset=h;return g.isVisible(l.id)});0<g.selected.size?e=e.filter(function(l){const n=g.isSelected(l.id);l=g.hover===l.id;return n||l}):4<e.length&&(e=e.filter(function(l){return g.hover===l.id}))}0===e.length?a.base.classed("hidden",!0):a.base.classed("hidden",!1);return this.selectAll("tr").data(e)},insert:function(){return this.append("tr")},events:{enter:function(){this.append("td").classed("key",
!0).append("span").append("i").classed("icon",!0).text(" ");this.append("td").classed("name",!0);this.append("td").classed("value",!0);this.append("td").classed("value2",!0)},merge:function(){var e=a._dataLayer;if(null!=e){var f=a._dataLayer.getState();if(f.title)a.timeDisplay.text(f.title);else{var g=a.getTimeFormatter();const h=_.DN.getTimezone(),l=b[a.timeFormat_]||b["default"];g=g&&g(f.x)||l(_.PN(f.x,h));a.timeDisplay.text(g)}(e=e.getTimeshiftOffset&&e.getTimeshiftOffset())?(e=_.xnc(e,f.x),a.valueColumn1.text(e[1]),
a.valueColumn2.text(e[0])):(a.valueColumn1.text(""),a.valueColumn2.text(""));this.each(function(h){var l=d3.select(this),n=l.select(".icon"),r=l.select(".name");const v=l.select(".value");var w=l.select(".value2");l.classed("focus",!1);l.classed("fade",!1);f.hover&&(f.hover!==h.id?l.classed("fade",!0):l.classed("focus",!0));n.style("background-color",h.color);if(a.labelTemplateFormatter_&&h.metadata)try{l={},a.resourceMetadataNamingFunctions_&&(l=a.resourceMetadataNamingFunctions_.getBoundGlobalFunctions()),
r.text(a.labelTemplateFormatter_.format(h.metadata,l))}catch(G){console.error(G),r.text(h.name)}else r.text(h.name);if(Psc(h)&&h.data[0]){w=_.CP(h.data,f.x,f.y);r=(new _.vP).unit("count");l=(new _.vP).unit("ratio");n=Math.max.apply(this,h.data.map(O=>Math.max.apply(this,O.y.bucketCounts)));const G=_.rP(h.data,f.x,!0);if(-1!==G&&h.data[G]){var y=h.data[G].y.count;var B=_.wP(w.count/y,1,l)}h=_.wP(w.count,n,r);r=_.wP(w.range[0],a._domainDelta,a._formatter);w=_.wP(w.range[1],a._domainDelta,a._formatter);
y?w?v.text(`${h} (${B}) between ${r} and ${w}`):v.text(`${h} (${B}) above ${r}`):w?v.text(`${h} between ${r} and ${w}`):v.text(`${h} above ${r}`)}else y="-",h.data.length&&(y=_.sP(h.data,f.x,!!h.data[0].x0&&h.data[0].x0<h.data[0].x)),B=a._customFormatter?a._customFormatter:_.wP,h.timeshiftOffset?(r="-",h.shiftedData.length&&(r=_.sP(h.shiftedData,new Date(+f.x+h.timeshiftOffset),!1)||"-"),v.text(B(r,a._domainDelta,a._formatter)),w.text(B(y,a._domainDelta,a._formatter))):v.text(B(y,a._domainDelta,a._formatter))})}},
exit:function(){this.remove()}}});c=function(){this.layer("list").draw(this.data)};this.bindStateEvent_("change:x",c);this.bindStateEvent_("change:hover",c);this.bindStateEvent_("change:selected",c);this.on("data",this.updateDomainDelta_);this.on("change:scale",this.updateDomainDelta_);this.on("change:threshold",this.updateDomainDelta_);this.bindStateEvent_("change:selected",this.updateDomainDelta_)},unit:function(a){return a?(this._formatter.unit(a),this._unit=a,this):this._unit},height:function(){},
domainX:SN.x,supportAxis:function(a){return"x"===a},transform:function(a){this.data=a;this.trigger("data",a)},updateDomainDelta_:function(){let a;a=this.data&&Psc(this.data)&&this.data.data[0]?_.Xsc(this.data,this.scale("x"),this.scale("y")):DP(this,this.data);this._domainDelta=a[1]-a[0]},setValueFormatter:function(a){this._customFormatter=a},setTimeFormat:function(a){this.timeFormat_=a},getTimeFormat:function(){return this.timeFormat_},setTimeFormatter:function(a){this.timeFormatter_=a},getTimeFormatter:function(){return this.timeFormatter_},
setResourceMetadataNamingFunctions:UP.prototype.setResourceMetadataNamingFunctions,setLegendLabelTemplate:UP.prototype.setLegendLabelTemplate,cleanupMetadataNamingFunctions:function(){this.resourceMetadataSubscription_&&(this.resourceMetadataSubscription_.unsubscribe(),this.resourceMetadataSubscription_=null)}});
var VP=_.LO("lineLegend"),Stc=function(){};_.nh("awesomecharts.charts.legends.LineLegend",Stc);Stc.prototype.forChart=function(){};Stc.prototype.forChart=Stc.prototype.forChart;
Stc=lP.extend("awesomecharts.lineLegend",{initialize:function(){this.chartType="lineLegend";var a=this;this.scale("max",d3.scaleLinear().range([1,100]));this.scale("stdev",d3.scaleLinear().range([1,100]));this.setTimezonePreference(_.DN.getTimezone());this.selectedX=Infinity;this._lastSelected=[];this._lastHover=null;this.columns=[{name:"",key:"key"},{name:"Value",key:"value"},{name:"Name",key:"name",sortable:!0},{name:"Average",key:"average",sortable:!0,extraClasses:"stats"},{name:"Peak",key:"max",
sortable:!0,extraClasses:"stats"},{name:"Volatility",key:"stdev",sortable:!0,extraClasses:"stats"}];var b=function(e,f){null==f&&(f=!1);var g=function(l){return String(l)};if(a._forChart&&(g=a._forChart.yManager.yFormat.clone(),!g))throw Error("Fi");var h=a._forChart.yManager.domainYDelta();msc(g,Math.max(0,Math.ceil(Math.log(e)/Math.LN10)-(Math.ceil(Math.log(h)/Math.LN10)-3)));f?nsc(lsc(g,6),2):nsc(lsc(g,Infinity),3);return g.format(e)},c=function(e,f){null==f&&(f=!1);if(!e.data||0===e.data.length)return"-";
e=a._forChart.closestPointInData_(e.data,a.selectedX);return isNaN(e)?"-":b(e,f)};this.layer("selected",this.addBase("selected","div",this.base),{dataBind:function(e){var f=(this.chart().data||[]).filter(function(g){return e===_.VO(g)});f&&1<f.length&&(console.error("Hover matched more than one stream. Using the first."),f=[f[0]]);return this.selectAll("span").data(f)},insert:function(){return this.append("span").style("word-wrap","break-word")},events:{merge:function(){VP.time("merge");var e=a.selectedX,
f=d3.timeFormat("%b %-d, %Y %-I:%M:%S %p %Z")(e);(e=a.getTimezonePreference())&&"LocalTime"!==e&&(f=_.PN(a.selectedX,e),f=d3.timeFormat("%b %-d, %Y %-I:%M:%S %p")(f)+" ["+e+"]");this.append("span").text(function(g){return c(g,!1)}).style("color",function(g){return _.YO(_.VO(g))}).style("font-weight","bold").style("padding-right","1em");this.append("span").text(function(g){return g.name}).style("color",function(g){return _.YO(_.VO(g))}).style("font-weight","normal").style("padding-right","1em");this.append("span").text(f).style("font-weight",
"normal");VP.timeEnd("merge")},exit:function(){this.remove()}}});this.table=this.base.append("table");this.table.classed("chart-legend",!0);this.table.append("thead").append("tr").selectAll("th").data(this.columns).enter().append("th").attr("class",function(e){var f=(e.name||e.key)+"-column";e.sortable&&(f+=" sortable");e.extraClasses&&(f+=" "+e.extraClasses);return f}).text(function(e){return e.name}).on("click",this.sort.bind(this)).append("span").attr("class","sort-arrow");this.layer("rows",this.addBase("rows",
"tbody",this.table),{dataBind:function(e){return this.selectAll("tr").data(e,function(f){return _.VO(f)})},insert:function(){return this.append("tr").attr("class",function(e){return XO(_.VO(e))}).style("color",function(e){return e.color}).on("click",function(e){null!=a._forChart._dataLayer&&a._forChart._dataLayer.getState().toggleSelected(_.VO(e))}).on("mousemove",function(e){null!=a._forChart._dataLayer&&(a._forChart._dataLayer.getState().hover=_.VO(e))}).on("mouseleave",function(){null!=a._forChart._dataLayer&&
(a._forChart._dataLayer.getState().hover=null)})},events:{enter:function(){VP.time("rowEnter");this.append("td").classed("key",!0).append("span").append("i").classed("icon",!0).text(" ");this.append("td").classed("value",!0);this.append("td").classed("name",!0).attr("data-name",Ttc).attr("title",Ttc).append("span").text(Ttc);this.append("td").classed("average stats",!0).append("div").classed("bar-outer",!0).append("div").classed("bar",!0).append("div").classed("bar-inner",!0);this.append("td").classed("peak stats",
!0).append("div").classed("bar-outer",!0).append("div").classed("bar",!0).append("div").classed("bar-inner",!0);this.append("td").classed("volatility stats",!0).append("div").classed("bar-outer",!0).append("div").classed("bar",!0).append("div").classed("bar-inner",!0);VP.timeEnd("rowEnter")},merge:function(){VP.time("rowMerge");this.each(function(e){var f=d3.select(this),g=c(e,!0),h=f.select(".value"),l=h.text(),n=a.scale("max"),r={"background-color":e.color};f.select("td.key .icon").style("background-color",
e.color);if(e.summary&&null!=e.summary.average){r.width=n(e.summary.average)+"%";f.select(".average .bar-outer").attr("title",b(e.summary.average,!1));var v=f.select(".average .bar");v.style("width")!==r.width&&v.style("background-color",r["background-color"]).style("width",r.width)}e.summary&&null!=e.summary.max&&(r.width=n(e.summary.max)+"%",f.select(".peak .bar-outer").attr("title",b(e.summary.max,!1)),v=f.select(".peak .bar"),v.style("width")!==r.width&&v.style("background-color",r["background-color"]).style("width",
r.width));e.summary&&null!=e.summary.stdev&&(r.width=n(e.summary.stdev)+"%",f.select(".volatility .bar-outer").attr("title",b(e.summary.stdev,!1)),v=f.select(".volatility .bar"),v.style("width")!==r.width&&v.style("background-color",r["background-color"]).style("width",r.width));g!==l&&h.text(g)});VP.timeEnd("rowMerge")},exit:function(){this.remove()}}});var d=this.height.bind(this);this.height=function(e){var f=a.table.select(".rows");d(e);null===e?f.style("height",null):f.style("height",e-20+"px")};
this.height=this.height.bind(this)},ascending:!0,sort:function(a){var b=a.key;if(a.sortable){var c=this.ascending=!this.ascending,d=c?1:-1;this.table.selectAll("th").classed("sort-ascending",!1).classed("sort-decending",!1);this.table.select("th."+a.name+"-column").classed(c?"sort-ascending":"sort-decending",!0);a=function(e,f){e=e[b]||(e.summary&&null!=e.summary[b]?e.summary[b]:Infinity*d);f=f[b]||(f.summary&&null!=f.summary[b]?f.summary[b]:Infinity*d);var g;e===f&&(g=0);e>f&&(g=1);e<f&&(g=-1);return g*
d};this.data.sort(a);this.table.selectAll("tbody tr").sort(a)}},setVisibility:function(a,b){this.base.classed(a,!b);this.hidden=!b;b&&this.data&&this.layer("rows").draw(this.data)},forChart:function(a){var b=this;if(0===arguments.length)return this._forChart;this._forChart=a;var c=function(){this.data&&!this.hidden&&this.layer("rows").draw(this.data)};c=c.bind(this);var d=function(){this._lastHover&&this.layer("selected").draw(this._lastHover)};d=d.bind(this);var e=function(g){g&&g[0]&&(this.selectedX=
g[0],c(),d())};e=e.bind(this);this._forChart.on("change:brush",e);this._forChart.on("data",function(g){b._hideStats?b.table.classed("hidestats",!0):b.table.classed("hidestats",!1);b.draw(g)});e=function(g,h){null==h&&0<this._lastSelected.length&&(h=this._lastSelected[0]);this.layer("selected").draw(h);this._lastHover=h}.bind(this);var f=function(g){VP.time("changeHightlight");var h=Array.from(g.getState().selected);h.push(g.getState().hover);var l=jnc(this._lastSelected,h);g=knc(this._lastSelected,
l);l=knc(h,l);this._lastSelected=h.slice();for(h=0;h<g.length;h++)this.table.select("."+XO(g[h])).classed("selected",!1);for(h=0;h<l.length;h++)this.table.select("."+XO(l[h])).classed("selected",!0);VP.timeEnd("changeHightlight")}.bind(this);this._forChart.bindStateEvent_("change:selected",f);this._forChart.bindStateEvent_("change:hover",f);this._forChart.bindStateEvent_("change:hover",e);this._forChart.on("change:mode",c);return this},transform:function(a){VP.time("transform");this.data=a;var b=
a[0],c=b&&b.data;c&&0<c.length&&Infinity===this.selectedX&&(this.selectedX=c[c.length-1].x);b&&(this._hideStats=!b.summary||null==b.summary.max&&null==b.summary.average&&null==b.summary.stdev?!0:!1);["max","stdev"].forEach(function(d){var e=d3.max(this.data,function(f){return f.summary?f.summary[d]:null});this.scale(d).domain([0,e])},this);VP.timeEnd("transform");return a}});var Ttc=function(a){return a.name};
var WP=_.LO("statsLegend"),Utc=function(){};_.nh("awesomecharts.charts.legends.StatsLegend",Utc);Utc.prototype.forChart=function(){};Utc.prototype.forChart=Utc.prototype.forChart;
Utc=lP.extend("awesomecharts.statsLegend",{initialize:function(){this.chartType="statsLegend";var a=this;this.selectedX=Infinity;this._lastSelected=[];this.columns=[{name:"",key:"key"},{name:"Value",key:"Value"},{name:"Name",key:"Name"},{name:"All Values",key:"All",extraClasses:"last-legend-column"}];this.displayNames={mean:"Average",stdev:"Standard Deviation",median:"Median","95th":"95th Percentile","5th":"5th Percentile","5minMovAvg":"5-minute Moving Average","15minMovAvg":"15-minute Moving Average",
"60minMovAvg":"60-minute Moving Average","120minMovAvg":"120-minute Moving Average"};this.statsOrder="mean stdev median 95th 5th 5minMovAvg 15minMovAvg 60minMovAvg 120minMovAvg".split(" ");var b=function(g){if(!isFinite(g))return"-";var h=function(l){return null===l?l.toString():""};if(a._forChart){if(!a._forChart.yManager.yFormat)throw Error("Gi");h=a._forChart.yManager.yFormat.clone().formatter()}return h(g)},c=function(g){g=g.stat;if(!g.getValueAtTime)return"-";g=g.getValueAtTime(a.selectedX);
return null===g||isNaN(g)?"-":b(g)},d=function(g){if(!g.data||0===g.data.length)return"-";g=a._forChart.closestPointInData_(g.data,a.selectedX);return isNaN(g)?"-":b(g)},e=function(g){return this.displayNames[g]}.bind(this);this.layer("selected",this.addBase("selected","div",this.base),{dataBind:function(g){var h=this.chart();g=g||[];var l=(h.data||[]).filter(function(n){return g[g.length-1]===n.name});0===l.length&&(g=h._forChart.selected?h._forChart.selected.getAllSelected():[],l=(h._forChart.data||
[]).filter(function(n){return g[g.length-1]===_.VO(n)}));return this.selectAll("span").data(l)},insert:function(){return this.append("span").style("word-wrap","break-word")},events:{merge:function(){WP.time("merge");var g=a.selectedX;g=d3.timeFormat("%b %-d, %Y %-I:%M:%S %p %Z")(g);var h=a.getTimezonePreference();h&&"LocalTime"!==h&&(g=_.PN(a.selectedX,h),g=d3.timeFormat("%b %-d, %Y %-I:%M:%S %p")(g)+" ["+h+"]");if(this.data()[0].stat){var l=c;h=function(r){return r.stat.getLineColor()};var n=e}else l=
d,h=function(r){return _.YO(_.VO(r))},n=function(r){return r};this.append("span").text(function(r){return l(r)}).style("color",h).style("font-weight","bold").style("padding-right","1em");this.append("span").text(function(r){return n(r.name)}).style("color",h).style("font-weight","normal").style("padding-right","1em");this.append("span").text(g).style("font-weight","normal");WP.timeEnd("merge")},exit:function(){this.remove()}}});this.table=this.base.append("table");this.table.classed("chart-legend",
!0);this.table.append("thead").append("tr").selectAll("th").data(this.columns).enter().append("th").attr("class",function(g){var h=(g.key||g.name)+"-column";g.extraClasses&&(h+=" "+g.extraClasses);return h}).text(function(g){return g.name});this.layer("rows",this.addBase("rows","tbody",this.table),{dataBind:function(g){return this.selectAll("tr").data(g,function(h){return h.name})},insert:function(){return this.append("tr").attr("class",function(g){return XO(g.name)}).style("color",function(g){return g.stat.getLineColor()}).on("click",
function(g){a._forChart.statsSelected.toggleSelection(g.name);a._forChart.statsHighlight(null);a._forChart.trigger("change:statsSelected",a._forChart.statsSelected.getAllSelected())}).on("mousemove",function(g){a._forChart.statsHighlight(g)}).on("mouseleave",function(){a._forChart.statsHighlight(null)})},events:{enter:function(){WP.time("rowEnter");this.append("td").classed("key",!0).append("span").append("i").classed("icon",!0).text(" ");this.append("td").classed("value",!0);var g=this.append("td").classed("name",
!0).attr("data-name",Vtc).attr("title",Vtc);g.append("span").text(function(h){return a.displayNames[h.name]});g.append("span").classed("sampleCount",!0);this.append("td").classed("all last-legend-column",!0).append("span").text(function(h){return b(h.stat.getStat())});WP.timeEnd("rowEnter")},merge:function(){WP.time("rowMerge");this.each(function(g){var h=d3.select(this),l=c(g),n=h.select(".value"),r=n.text(),v=h.select(".all"),w=v.text(),y=b(g.stat.getStat()),B=h.select(".sampleCount"),G=B.text();
var O=yrc(g.stat,a.selectedX);O=isNaN(O)?"":"("+O+(1===O?" sample)":" samples)");g=g.stat.getLineColor();h.select("td.key .icon").style("background-color",g);l!==r&&n.text(l);O!==G&&B.text(O);y!==w&&v.text(y)});WP.timeEnd("rowMerge")},exit:function(){this.remove()}}});var f=this.height.bind(this);this.height=function(g){var h=a.table.select(".rows");f(g);null===g?h.style("height",null):h.style("height",g-20+"px")};this.height=this.height.bind(this)},setVisibility:function(a,b){this.base.classed(a,
!b);this.hidden=!b;b&&this.data&&this.layer("rows").draw(this.data)},forChart:function(a){var b=this;if(0===arguments.length)return this._forChart;this._forChart=a;var c=function(){this.data&&!this.hidden&&this.layer("rows").draw(this.data)};c=c.bind(this);var d=function(){this._lastSelected&&this.layer("selected").draw(this._lastSelected)};d=d.bind(this);var e=function(f){f&&f[0]&&(this.selectedX=f[0],c(),d())};e=e.bind(this);this._forChart.on("change:brush",e);this._forChart.on("change:stats",function(){var f=
this._stats;if(f){var g=_.MN(b.statsOrder,function(l){return{name:l,stat:f[l]}}),h=inc(g,function(l){return l.stat.isDisplayed()});g=h;h=_.MN(h,function(l){return l.name});b._lastSelected=jnc(this._lastSelected,h);b.draw(g)}});this._forChart.on("change:statsSelected",function(f){WP.time("changeSelected");var g=jnc(this._lastSelected,f),h=knc(this._lastSelected,g);g=knc(f,g);this.layer("selected").draw(f);this._lastSelected=f.slice();for(f=0;f<h.length;f++)this.table.select("."+XO(h[f])).classed("selected",
!1);for(f=0;f<g.length;f++)this.table.select("."+XO(g[f])).classed("selected",!0);WP.timeEnd("changeSelected")}.bind(this));this._forChart.on("change:mode",c);return this},transform:function(a){WP.time("transform");this.data=a;var b=a[0];(b=b&&b.data)&&0<b.length&&Infinity===this.selectedX&&(this.selectedX=b[b.length-1].x);WP.timeEnd("transform");return a}});var Vtc=function(a){return a.name};
var Wtc=function(a,b){null==b||isNaN(b)||a.push(b)};
var XP={},Xtc=function(a){a=a||{};a.start||(a.start=function(b){return b[0]});a.end||(a.end=function(b){return b[1]});a.boxAttrs||(a.boxAttrs={});a.boxAttrs.x||(a.boxAttrs.x=function(b){return Math.min(b[0],b[1])});a.boxAttrs.width||(a.boxAttrs.width=function(b){return Math.abs(b[1]-b[0])||.5});a.boxAttrs.y||(a.boxAttrs.y=10);a.boxAttrs.height||(a.boxAttrs.height=10);a.circleAttrs||(a.circleAttrs={});a.circleAttrs["class"]||(a.circleAttrs["class"]=function(b,c){return c?"range-end":"range-start"});
a.circleAttrs.cx||(a.circleAttrs.cx=function(b){return b});a.circleAttrs.cy||(a.circleAttrs.cy=15);a.circleAttrs.r||(a.circleAttrs.r=5);return function(b){return b.each(function(c){var d=[];c=c&&"outline"===c.action&&c.dimensions;Wtc(d,a.start(c));Wtc(d,a.end(c));d.sort(function(f,g){return+f-+g});c=d3.select(this);var e=c.selectAll(".range-box").data(2===d.length?[d]:[]);e.attr("x",a.boxAttrs.x).attr("y",a.boxAttrs.y).attr("width",a.boxAttrs.width).attr("height",a.boxAttrs.height);e.enter().append("rect").classed("range-box",
!0).attr("x",a.boxAttrs.x).attr("y",a.boxAttrs.y).attr("width",a.boxAttrs.width).attr("height",a.boxAttrs.height);e.exit().remove();e=c.selectAll("circle").data(d);e.attr("cx",a.circleAttrs.cx).attr("cy",a.circleAttrs.cy).attr("class",a.circleAttrs.class).attr("r",a.circleAttrs.r);e.enter().append("circle").attr("cx",a.circleAttrs.cx).attr("cy",a.circleAttrs.cy).attr("class",a.circleAttrs.class).attr("r",a.circleAttrs.r);e.exit().remove()})}}();XP.dataBind=GP.dataBind;XP.initialize=GP.initialize;
XP.insert=function(){return this.append("g").classed("brush-marker",!0)};XP.events={merge:function(){this.call(Xtc)}};
var Ytc=d3.timeInterval(a=>{15>a.getDate()&&a.setMonth(a.getMonth()-1);a.setDate(15);a.setHours(0,0,0,0)},(a,b)=>{a.setMonth(a.getMonth()+b)}),Ztc=d3.timeInterval(a=>{12>a.getHours()&&a.setDate(a.getDate()-1);a.setHours(12,0,0,0)},(a,b)=>{a.setDate(a.getDate()+b)}),$tc=d3.timeInterval(a=>{30>a.getMinutes()&&a.setHours(a.getHours()-1);a.setMinutes(30,0,0)},(a,b)=>{a.setHours(a.getHours()+b)}),auc={month:{formatter:_.Cnc,interval:d3.timeMonth},midMonth:{formatter:_.Cnc,interval:Ytc},date:{formatter:_.Anc,
interval:d3.timeDay},midDate:{formatter:_.Anc,interval:Ztc},hour:{formatter:_.Enc,interval:d3.timeHour},midHour:{formatter:_.Enc,interval:$tc}},YP=function(){};_.nh("awesomecharts.charts.legends.TimeLegend",YP);YP.prototype.setTick=function(){};YP.prototype.setTick=YP.prototype.setTick;YP.prototype.setTickStyle=function(){};YP.prototype.setTickStyle=YP.prototype.setTickStyle;YP.prototype.setTimeFormatter=function(){};YP.prototype.setTimeFormatter=YP.prototype.setTimeFormatter;
YP.prototype.redrawXAxis=function(){};YP.prototype.redrawXAxis=YP.prototype.redrawXAxis;YP.prototype.mousePosInMargin=()=>[];YP.prototype.mousePosInMargin=YP.prototype.mousePosInMargin;YP.prototype.mouseValue=()=>new Date;YP.prototype.mouseValue=YP.prototype.mouseValue;YP.prototype.isXPosInMargin=()=>!0;YP.prototype.isXPosInMargin=YP.prototype.isXPosInMargin;YP.prototype.innerWidth=()=>0;YP.prototype.innerWidth=YP.prototype.innerWidth;YP.prototype.domainX=()=>[];YP.prototype.domainX=YP.prototype.domainX;
YP.prototype.getExternalTickFormat=()=>()=>"";YP.prototype.getExternalTickFormat=YP.prototype.getExternalTickFormat;YP.prototype.setYAxisPosition=function(){};YP.prototype.setYAxisPosition=YP.prototype.setYAxisPosition;YP.prototype.timePin=new _.jP;
YP=lP.extend("awesomecharts.timeLegend",{initialize:function(){this.chartType="timeLegend";this._yAxisPosition="right";this.base.classed("sd-time-legend",!0);this.svg=this.base.append("svg");this.margin({top:0,bottom:20,left:10,right:60}).height(20);this.graphGroup=this.svg.append("g").attr("transform","translate("+this._margins.left+", "+this._margins.top+")");this.theme=_.DN.getColorTheme();var a=this.base.append("div").style("position","absolute");const b=a.append("canvas");this.axisCanvas=b.node();
this.buffer=new _.nP({width:this.width(),height:this.height(),canvas:this.axisCanvas,fillStyle:_.ZO("label",this.theme),strokeStyle:_.ZO("x-axis",this.theme),font:"smaller sans-serif",textAlign:"center",textBaseline:"top",strokeWidth:1});_.DN.isWhitelisted("chart-time-pin")||(this.proxyEvent(a,"mousedown"),this.proxyEvent(a,"mousemove"),this.proxyEvent(a,"mouseup"),this.proxyEvent(a,"mouseenter"),this.proxyEvent(a,"mouseleave"),this.proxyEvent(b,"mousedown"),this.proxyEvent(b,"mousemove"),this.proxyEvent(b,
"mouseup"),this.proxyEvent(b,"mouseenter"),this.proxyEvent(b,"mouseleave"),this.proxyEvent(this.svg,"mousedown"),this.proxyEvent(this.svg,"mousemove"),this.proxyEvent(this.svg,"mouseup"),this.proxyEvent(this.svg,"mouseenter"),this.proxyEvent(this.svg,"mouseleave"),this.proxyEvent(this.base,"mousedown"),this.proxyEvent(this.base,"mousemove"),this.proxyEvent(this.base,"mouseup"),this.proxyEvent(this.base,"mouseenter"),this.proxyEvent(this.base,"mouseleave"));this.scale("x",d3.scaleTime());this.prop("userTickArgument",
d=>{this.xAxis.ticks(d)});this.xAxis=d3.axisBottom(d3.scaleTime());this.setTimezonePreference(_.DN.getTimezone());this.layer("brush",this.addBase("brush","g",this.graphGroup),XP);XP.initialize(this);this.on("change:scale",function(d,e){"x"===d&&(this.xAxis.scale(e),this.redrawXAxis(),this.layer("brush").draw())});this.on("change:yAxisPosition",()=>{this.margin("left","left"===this._yAxisPosition?60:10);this.margin("right","right"===this._yAxisPosition?60:10);this.graphGroup.attr("transform",`translate(${this._margins.left}, ${this._margins.top})`);
this.redrawXAxis()});var c=function(){this.xAxis.ticks(this.userTickArgument()||Math.floor(this.innerWidth()/80));this.scale("x","range",[0,this._innerWidth]);this.buffer.resize(this.width(),20);this.redrawXAxis()}.bind(this);a=function(){this.responsive()&&(this.responsiveForm()===this.ResponsiveFormEnum.COMPACT?this.margin("right",10):this.margin("right","right"===this._yAxisPosition?60:10));c()}.bind(this);a();this.on("change:width",a);this.on("change:height",a)},domainX:SN.x,domainY:SN.y,getInitialTicks:function(){var a=
this.xAxis.tickArguments?this.xAxis.tickArguments()[0]:this.xAxis.ticks()[0],b=this.xAxis.tickValues();if(!b){const d=this.getTimezonePreference();b=this.xAxis.scale().copy();var c=b.domain();let e=c[0];c=c[1];e=_.PN(e,d,1);c=_.PN(c,d,1);b.domain([e,c]);b=b.ticks(a);b=_.snc(d,b)}return b},computeTicksAndFormat:function(){let a=5,b=this.getInitialTicks();var c=b.reduce((f,g,h)=>h+1===b.length?f:Math.min(f,Math.abs(+b[h+1]-g)),Infinity);const d=this.getTimeFormatter(),e=this.getTickStyle();if(d){const f=
this.getTimezonePreference();c=(g,h)=>d(_.PN(g,f),h)}else if(e&&auc[e]){const f=_.DN.getTimezone(),g=auc[e];c=h=>{const l=g.formatter;return l(_.PN(h,f))};b=this.xAxis.scale().ticks(g.interval);a=10}else c=_.rnc(this.getTimezonePreference())(c);return{tickLength:5,tickTextOffset:7,textPadding:a,ticks:b,tickFormat:c}},redrawXAxis:function(){this.buffer.clear();var a="true"===this.base.attr("with-lines")?!0:!1;const {tickLength:b,tickTextOffset:c,textPadding:d,ticks:e,tickFormat:f}=this.computeTicksAndFormat();
if(e){e.reverse();for(var g=[],h=this.width()-d,l=0;l<e.length;l++){var n=e[l],r=this.xAxis.scale()(n);if(n instanceof Date){var v=f(n),w=this.buffer.measureText(v);r=this.margin().left+r;var y=r-w/2;y<d||r+w/2>h||(g.push({date:n,text:v,textCenter:r}),h=y-d)}}for(h=1;h<g.length;h++)this.updateLaterTickDataForYearBoundary(g[h],g[h-1],f);g.forEach(B=>{_.eP(this.buffer,B.text,B.textCenter,c);a&&this.buffer.drawLines([{data:[[B.textCenter,0],[B.textCenter,b]]}])})}},setTickStyle:function(a){a&&(this.tickStyle_=
a,this.redrawXAxis())},getTickStyle:function(){return this.tickStyle_},getExternalTickFormat:function(){return this.computeTicksAndFormat().tickFormat},setTimeFormatter:function(a){a&&(this.timeFormatter_=a,this.redrawXAxis())},getTimeFormatter:function(){return this.timeFormatter_},updateLaterTickDataForYearBoundary:function(a,b,c){var d=this.getTimezonePreference();a=_.PN(a.date,d);d=_.PN(b.date,d);a.getYear()<d.getYear()&&(c=c(d,!0),d=this.buffer.measureText(c),a=this.buffer.measureText(b.text),
d<=a&&(b.text=c))},setYAxisPosition:function(a){this._yAxisPosition=a;this.trigger("change:yAxisPosition")}});
var buc={initialize:function(a){a.areaBuffer=new _.nP({width:a.innerWidth(),height:a.innerHeight(),canvas:document.createElement("canvas")});var b=TO(function(c){a.areaBuffer.resize(a.innerWidth(),a.innerHeight());a.drawArea()&&a.layer("areafill").draw(a.data,c)},50);a.on("change:innerWidth",(c,d)=>b(d));a.on("change:innerHeight",(c,d)=>b(d))},getClosedPath:function(a,b){for(var c=[],d=0;d<b.length;d++)c.push({x:a.mapX1(b[d]),y:a.mapY1(b[d])});for(d=b.length-1;0<=d;d--)c.push({x:a.mapX1(b[d]),y:a.mapY0(b[d])});
return c},dataBind:function(){var a=this.chart();a.areaBuffer.strokeStyle="transparent";return this.selectAll(".fill-area").data([a.data])},insert:function(){return this.append("div").classed("fill-area",!0)},events:{merge:function(){var a=this.chart();this.each(function(){a.areaBuffer.clear();a.areaBuffer.map=function(d){return[d.x,d.y]};if(a.data)for(var b=0;b<a.data.length;b++){var c=buc.getClosedPath(a,a.data[b].data);a.areaBuffer.globalAlpha=.12;a.areaBuffer.fillStyle=a.data[b].color;_.qP(a.areaBuffer,
c,!0)}this.appendChild(a.areaBuffer.canvas)})},exit:function(){this.remove()}}};
var cuc={initialize:function(a){a.areaSelectedBuffer=new _.nP({width:a.innerWidth(),height:a.innerHeight(),canvas:document.createElement("canvas")});var b=TO(function(c){a.areaSelectedBuffer.resize(a.innerWidth(),a.innerHeight());a.drawArea()&&a.layer("areafill-selected").draw(a.data,c)},50);a.on("change:innerWidth",(c,d)=>b(d));a.on("change:innerHeight",(c,d)=>b(d))},dataBind:function(){var a=this.chart();a.areaSelectedBuffer.strokeStyle="transparent";return this.selectAll(".fill-area").data([a.data])},
insert:function(){return this.append("div").classed("fill-area",!0)},events:{merge:function(){var a=this.chart();if(null!=a._dataLayer){var b=a._dataLayer.getState();this.each(function(){a.areaSelectedBuffer.clear();if(!(0< !b.selected.size)||b.hover){a.areaSelectedBuffer.map=function(e){return[e.x,e.y]};for(var c=0;c<a.data.length;c++){var d=_.VO(a.data[c]);if(b.isSelected(d)||b.hover===d)d=buc.getClosedPath(a,a.data[c].data),a.areaSelectedBuffer.globalAlpha=.2,a.areaSelectedBuffer.fillStyle=a.data[c].color,
_.qP(a.areaSelectedBuffer,d,!0)}this.appendChild(a.areaSelectedBuffer.canvas)}})}},exit:function(){this.remove()}}};
var ZP={},duc=_.LO("line-selection-layer");
ZP.dataBind=function(){var a=this.chart(),b=[];if(null!=a._dataLayer){duc.time("data_bind_"+a.rawData().length);var c=a._dataLayer.getState();b=a.data.filter(function(d){d=_.VO(d);return c.isSelected(d)||c.hover===d}).reduce(function(d,e){d.push(e);if(e.shiftedData&&0<e.shiftedData.length){var f=_.KN(e);f.data=e.shiftedData;f.mapX1=a.shiftedMapX1.bind(a);f.dash=Mrc;d.push(f)}if(e.hasMinMaxTuple){f=e.data.map(h=>Object.assign({},h,{y:h.min}));const g=e.data.map(h=>Object.assign({},h,{y:h.max}));d.push(Object.assign({},
e,{data:f.concat(g.reverse()),isMinMaxSeries:!0}))}return d},[]);duc.timeEnd("data_bind_"+a.rawData().length)}return this.selectAll(".line").data(b)};ZP.insert=function(){return this.append("path").classed("line",!0).attr("d","").style("stroke","white").style("stroke-opacity",1)};ZP.encodePoint=function(){return"m -3,0 l 6,0"};
ZP.encodePath=function(a,b,c,d){var e,f,g=0,h=[];for(e=0;e<a.length;++e){var l=!1;var n=a[e];(f=a[e+1])||(f={x:-Infinity,y:Infinity});b&&Math.abs(n.x-f.x)>b&&(l=!0);!n.tileDomain||!f.tileDomain||n.tileDomain[0]<=f.tileDomain[1]&&f.tileDomain[0]<=n.tileDomain[1]||(l=!0);n=c(a[e]);f=d(a[e]);g===e?(h.push("M"+n+","+f),l&&h.push("m -3,0 l 6,0")):h.push("L "+n+","+f);l&&(g=e+1)}return h.join(" ")};
ZP.events={merge:function(){var a=this.chart();duc.time("merge_data_"+a.rawData().length);if(_.DN.isWhitelisted("chart-show-data-gaps")){var b=a._dataLayer.gapThreshold();this.attr("d",c=>ZP.encodePath(c.data,c.isMinMaxSeries?null:b,(c.mapX1||a.mapX1).bind(a),a.mapY1.bind(a))).style("stroke",c=>c.isMinMaxSeries?c.color+"66":c.color).style("stroke-width",c=>c.isMinMaxSeries?1:2).style("stroke-dasharray",c=>(c.dash||[]).join(",")).style("fill",c=>c.isMinMaxSeries?c.color+"66":null)}else this.attr("d",
function(c){if(c.data&&0<c.data.length){var d=(c.mapX1||a.mapX1).bind(a);if(1<c.data.length)return ZP.encodePath(c.data,null,(c.mapx1||a.mapX1).bind(a),a.mapY1.bind(a));d=d(c.data[0]);c=a.mapY1(c.data[0]);return"M"+(d-3)+","+c+" a3,3 0 1,0 6,0a3,3 0 1,0 -6,0"}return""}).style("stroke",function(c){return c.color}).style("fill",function(c){return c.data&&1<c.data.length?"none":c.color}).style("stroke-width",function(c){return c.data&&1<c.data.length?2:0}).style("stroke-dasharray",function(c){return(c.dash||
[]).join(",")});duc.timeEnd("merge_data_"+a.rawData().length)},exit:function(){this.remove()}};
var euc={initialize:function(a){a.lineBuffer=new _.nP({width:a.innerWidth(),height:a.innerHeight()+1,canvas:document.createElement("canvas")});var b=TO(function(c){a.lineBuffer.resize(a.innerWidth(),a.innerHeight()+1);a.layer("lines").draw(a.data,c)},50);a.on("change:innerWidth",(c,d)=>b(d));a.on("change:innerHeight",(c,d)=>b(d))},dataBind:function(){var a=this.chart();a.mode();var b=a._modeObj;b.preDraw&&b.preDraw(a.lineBuffer);a.lineBuffer.map=function(c){return[a.mapX1(c),a.mapY1(c)]};a.getTimeshiftOffset&&
(a.lineBuffer.shiftedMap=function(c){return[a.shiftedMapX1(c),a.mapY1(c)]});return this.selectAll(".buffered-image").data([a.data])},insert:function(){return this.append("div").classed("buffered-image",!0)},events:{merge:function(){var a=this.chart();a.mode();var b=a._modeObj;this.each(function(){a.lineBuffer.clear();var c=Infinity;a._dataLayer&&(c=a._dataLayer.gapThreshold());a.lineBuffer.drawLines(a.data,c,a.data&&a.data[0]&&a.data[0].hasMinMaxTuple,a.getZerofill&&a._zerofill);b.postDraw&&b.postDraw(a.lineBuffer);
this.appendChild(a.lineBuffer.canvas)})},exit:function(){this.remove()}},takeColor_:function(a){return a.color}};
var fuc={dataBind:function(){var a=this.chart();return this.selectAll(".topn-group").data([a.data])},insert:function(){var a=this.append("g").classed("topn-group",!0);a.append("text").classed("topn-text",!0);return a},events:{merge:function(){var a=this.chart(),b="";a.data&&a.data.dataLayer&&a.data.dataLayer.topNLabel&&(b=a.data.dataLayer.topNLabel());b=this.select(".topn-text").text(b);a=_.ZO("label",a.theme);b.attr("x",0).attr("y",12).style("font-size","12px").style("font-family","sans-serif").style("fill",
a)},exit:function(){this.remove()}},initialize:function(a){this.chart=a}};
var guc=_.LO("lineChart"),$P=function(){};_.nh("awesomecharts.charts.LineChart",$P);$P.prototype.drawArea=function(){};$P.prototype.drawArea=$P.prototype.drawArea;$P.prototype.setTimeshiftOffset=function(){};$P.prototype.setTimeshiftOffset=$P.prototype.setTimeshiftOffset;$P.prototype.getTimeshiftOffset=function(){};$P.prototype.getTimeshiftOffset=$P.prototype.getTimeshiftOffset;
$P.prototype.streamValuesFromXY=function(a){if(!(a instanceof Date))return{};const b=this.data||[],c=this.getColorManager();let d=this.generateLegendTokenizer();"stats"===this.mode()&&(d=null);const e=this.yManager.yFormat,f=this.resourceMetadataNamingFunctions_?this.resourceMetadataNamingFunctions_.getBoundGlobalFunctions():null;return b.reduce((g,h)=>{if(h.hasMinMaxTuple){var l=_.Zrc(h.data,a,!1),n=l[0];l=l[1];var r=h.data[l].min,v=h.data[l].max;l=e.format(n);r=e.format(r);v=e.format(v);const w=
this.getTimeshiftOffset();let y="";h.shiftedData&&h.shiftedData.length&&w&&(y=e.format(_.sP(h.shiftedData,new Date(+a+w),!1))||"");g[h.id]={rawValue:n,value:l,formattedMinValue:r,formattedMaxValue:v,rawStream:h,labels:{name:d?d.format(h.metadata||null,f):h.id,color:c?c.getColor(h.id):"",timeShiftedValue:y}}}else n=_.sP(h.data,a,!1),l=e.format(n),r=this.getTimeshiftOffset(),v="",h.shiftedData&&h.shiftedData.length&&r&&(v=e.format(_.sP(h.shiftedData,new Date(+a+r),!1))||""),g[h.id]={rawValue:n,value:l,
rawStream:h,labels:{name:d?d.format(h.metadata||null,f):h.id,color:c?c.getColor(h.id):"",timeShiftedValue:v}};return g},{})};$P.prototype.streamValuesFromXY=$P.prototype.streamValuesFromXY;
$P=IP.extend("awesomecharts.line",{initialize:function(){this._drawArea=!1;this.props(["lineType","interpolateZeros"]);this.interpolateZeros(_.DN.isWhitelisted("chart-stacked-area-zeros"));this.chartType="line";this.base.classed("sd-line-chart",!0);this.layer("lines",this.addBase("lines","div",this.content),euc).style("position","absolute").style("top",0).style("left",0);this.line=this.mapX1Line(this.mapX1.bind(this));this.layer("selected",this.addBase("selected","g",this.graphGroup),ZP).style("clip-path",
"url(#"+this.clipId+")").style("pointer-events","none");this.addBase("areafill","div",this.underlay).style("position","absolute").style("top",0).style("left",0);this.addBase("areafill-selected","div",this.underlay).style("position","absolute").style("top",0).style("left",0);_.DN.isWhitelisted("chart-subtitles")||this.layer("topn",this.addBase("topn","g",this.graphGroup),fuc);euc.initialize(this);buc.initialize(this);cuc.initialize(this);this.on("should:redraw",TO(()=>{const b=this.rawData();0<b.length?
this.draw(b):this.layer("lines").draw([])}));this.on("change:lineType",function(){this.line.curve(d3.curveLinear)});this.lineType("linear");this.on("change:timeshiftOffset",b=>{let c=this._dataLayer;c&&c.setTimeshiftOffset&&c.setTimeshiftOffset(b)});this.bindStateEvent_("change:visibility",function(){this.draw(this.rawData())});this.on("change:mode",function(){if(this._modeObj.onChange)this._modeObj.onChange(this.lineBuffer,this);if(this._modeObj.onDeselect)this._modeObj.onDeselect(this.layer("lines").select("canvas"));
this.updateHighlight();this.data&&this.data.length&&this.layer("lines").draw(this.data)});var a=()=>{this.responsive()&&(this.responsiveForm()===this.ResponsiveFormEnum.COMPACT?this.highlightEnabled(!1):this.highlightEnabled(!0))};a();this.on("change:width",a);this.on("change:height",a)},streamIdFromXY(){if(!this.brushDragged&&!this.panned){var a=this.mousePosInMargin();return _.VO(this.findPointStream(a))}},updateHighlight(a){if(null!=a&&!a.suppressHighlighting_){a=a.getState();if(this._modeObj.onSelect&&
(0<a.selected.size||null!=a.hover)){if(this._modeObj.onSelect(this.layer("lines").select("canvas")),this.drawArea())this._modeObj.onSelect(this.layer("areafill").select("canvas"))}else if(this._modeObj.onDeselect&&(this._modeObj.onDeselect(this.layer("lines").select("canvas")),this.drawArea()))this._modeObj.onDeselect(this.layer("areafill").select("canvas"));this.layer("selected").draw();this.drawArea()&&this.layer("areafill-selected").draw()}},transform:function(a){this._rawLineData=a=a||[];return this.data=
this.applyFilter(a)},rawData:function(){return this._rawLineData||this.data||[]},setTimeshiftOffset:function(a){const b=this.getTimeshiftOffset();b!==a&&(this._timeshiftOffset=a,this.trigger("change:timeshiftOffset",a,b));return this},getTimeshiftOffset:function(){return this._timeshiftOffset||0},mapX1Line:function(a){return d3.line().x(function(b){return a(b)}.bind(this)).y(function(b){return this.mapY1(b)}.bind(this)).curve(d3.curveLinear)},findPointStream:function(a){return this.drawArea()?this.findCoveredArea(a)||
this.findNearestLine(a,15)||{}:this.findNearestLine(a,15)||{}},findNearestLine:irc.findNearestLine,findCoveredArea:irc.findCoveredArea,drawArea:function(a){if(!arguments.length)return this._drawArea;var b=this._drawArea;this._drawArea=!!a;b!==this._drawArea&&(this._drawArea?(this.layer("areafill",this.underlay.select(".areafill"),buc),this.layer("areafill-selected",this.underlay.select(".areafill-selected"),cuc),this.setInterpolateFn(this.interpolateFn_)):(this.unlayer("areafill"),this.unlayer("areafill-selected"),
this.setInterpolateFn(null)));return this},interpolateFn_:function(a){guc.time("interpolate stream points");if(a&&a.length){var b=0;for(var c=0;c<a.length&&0===b;c++)b=_.bP(a[c].data);if(0===b)return a;var d=Array(a.length).fill(0);c=[];let l=0;for(var e=0;e<a.length;e++)c.push([]),0===a[e].data.length&&l++;e=1;let n=Array.prototype.push;if(1===b)for(e=-1,n=Array.prototype.unshift,b=0;b<a.length;b++)d[b]=a[b].data.length-1;for(;l<a.length;){let r={},v=-Infinity;d.reduce((w,y,B)=>{let G=a[B].data[y],
O=-Infinity;void 0!==G&&(O=+G.x);let T=Math.max(O,w);T!==w?(r={},r[B]=y,v=G.x):O===w&&(r[B]=y);return T},-Infinity);for(b=0;b<a.length;b++){var f=a[b],g=c[b];if(void 0!==r[b])n.call(g,f.data[r[b]]),g=d[b],g+=e,(g>=f.data.length||0>g)&&l++,d[b]=g;else if(this.interpolateZeros())n.call(g,{y:0,x:v});else{f=d[b];var h=a[b];f=[h.data[f],h.data[f-e]];void 0!==f[0]&&f[0].tileDomain&&(v<f[0].tileDomain[0]||v>f[0].tileDomain[1])&&(f[0]=void 0);void 0!==f[1]&&f[1].tileDomain&&(v<f[1].tileDomain[0]||v>f[1].tileDomain[1])&&
(f[1]=void 0);void 0===f[0]||void 0===f[1]?void 0===f[0]?n.call(g,{y:0,x:v}):n.call(g,{y:f[0].y,x:v}):(h=Wrc(f,v),isNaN(h)?n.call(g,{y:f[0].y,x:v}):n.call(g,{y:h,x:v}))}}}for(d=0;d<a.length;d++)a[d].data=c[d]}guc.timeEnd("interpolate stream points");return a},dataX0:function(a){return a.x},dataX1:function(a){return a.x},dataY0:function(a){return this.stacked()?a.y0||0:this.drawArea()?0:a.y},dataY1:function(a){return this.stacked()?a.y1||a.y:a.y},shiftedMapX1:function(a){return this.scale("x")(new Date(this.dataX1(a)-
this.getTimeshiftOffset()))},closestIndexInData_:function(a,b){return _.rP(a,b,!1)},closestPointInData_:function(a,b){return _.sP(a,b,!1)},streamValuesFromXY:$P.prototype.streamValuesFromXY});
var huc={initialize:function(a){a.percentileBuffer=new _.nP({width:a.innerWidth(),height:a.innerHeight()+1,canvas:document.createElement("canvas"),strokeFn:function(c){return erc(a.theme,c.isSelected)}});a.data=[];const b=TO(function(c){a.percentileBuffer.resize(a.innerWidth(),a.innerHeight());a.layer("percentile").draw(a.data,c)},50);a.on("change:innerWidth",(c,d)=>b(d));a.on("change:innerHeight",(c,d)=>b(d))},dataBind:function(){const a=this.chart();a.percentileBuffer.strokeStyle=erc(a.theme);a.percentileBuffer.map=
function(b){return[a.mapX1(b),a.mapY1(b)]};return this.selectAll(".buffered-image").data([a.data])},insert:function(){return this.append("div").classed("buffered-image",!0)},addLabel:function(a,b,c){if(c&&c.isSelected&&c.data&&c.data.length){var d=c.metadata&&c.metadata.requestParams&&c.metadata.requestParams["aggregation.crossSeriesReducer"];d&&(d={REDUCE_PERCENTILE_50:"50th",REDUCE_PERCENTILE_95:"95th",REDUCE_PERCENTILE_99:"99th"}[d])&&(a=a.scale("y")(c.data[0].y),b.append("span").classed("percentile-labels",
!0).style("top",a+"px").text(d))}},events:{merge:function(){const a=this.chart();this.each(function(){const b=a.layer("percentile").selectAll(".buffered-image");b.selectAll(".percentile-labels").remove();if(a.yManager&&a.yManager.yRangeIsValid()){a.percentileBuffer.clear();var c=Infinity;a._dataLayer&&(c=a._dataLayer.gapThreshold());a.percentileBuffer.strokeStyle=erc(a.theme);a.percentileBuffer.drawLines(a.data,c);a.data&&a.data.length&&a.data.forEach(d=>{huc.addLabel(a,b,d)});this.appendChild(a.percentileBuffer.canvas)}})},
exit:function(){this.remove()}}};
var aQ=function(){};_.nh("awesomecharts.charts.Percentile",aQ);aQ.prototype.setYManager=function(){};aQ.prototype.setYManager=aQ.prototype.setYManager;aQ.prototype.unsetYManager=function(){};aQ.prototype.unsetYManager=aQ.prototype.unsetYManager;aQ.prototype.setChartConfig=function(){};aQ.prototype.setChartConfig=aQ.prototype.setChartConfig;aQ.prototype.getChartConfig=function(){};aQ.prototype.getChartConfig=aQ.prototype.getChartConfig;
aQ=lP.extend("awesomecharts.percentile",{initialize:function(){this.base.classed("sd-percentile",!0);this.chartType="percentile";this.chartConfig_=null;this.scale("x",d3.scaleTime());this.scale("y",d3.scaleLinear());this.margin({top:10,bottom:10,left:10,right:60});this.theme=_.DN.getColorTheme();this.on("change:innerWidth",(a,b)=>{this.scale("x","range",[0,this._innerWidth]);this.trigger("should:redraw",b)});this.on("change:innerHeight",(a,b)=>{this.trigger("should:redraw",b)});this.on("change:scale",
function(){this.trigger("should:redraw")});this.scale("x","range",[0,this._innerWidth]);this.layer("percentile",this.addBase("percentile","div",this.base),huc).style("position","absolute").style("top",this._margins.top+"px").style("left",this._margins.left+"px");huc.initialize(this);this.on("should:redraw",TO(a=>this.drawSelectedStreams_(void 0,a)));this.on("change:mode",function(){this.layer("percentile").draw([])});this.bindStateEvent_("change:selected",function(){this.trigger("should:redraw")})},
drawSelectedStreams_:function(a,b=!1){if(this._rawData){for(const d of this._rawData)if(a&&a.size){var c=d.id.split(/REDUCE_PERCENTILE_\d\d/).join("REDUCE_SUM");d.isSelected=a&&a.has(c)}else c=d.metadata&&d.metadata.requestParams&&d.metadata.requestParams["aggregation.groupByFields"],d.isSelected=!(c&&c.length);this.draw(this._rawData,b)}},transform:function(a){this.data=this._rawData=a=a||[];this.count=this.data.length;if(!this.count)return this.yManager&&this.yManager.changePercentileYRange([]),
this.data;this.trigger("data",this.data);return this.data},mapX0:function(a){return this.scale("x")(this.dataX0(a))},mapX1:function(a){return this.scale("x")(this.dataX1(a))},mapY0:function(a){return this.scale("y")(this.dataY0(a))},mapY1:function(a){return this.scale("y")(this.dataY1(a))},domainX:function(a){if(arguments.length){var b=this.scale("x").domain();_.TN(b,a)||this.scale("x","domain",a);return a}return this.scale("x").domain()},setYManager:function(a){this.yManager=a;this.scale("y",a.scale);
this.yManager.on("change:scale",b=>{this.scale("y",b);this.trigger("change:scale","y",b)});this.yManager.on("change:axis",()=>{this.trigger("should:redraw")});this.yManager.changePercentileYRange(DP(this,this.data));this.on("data",function(){this.yManager&&this.yManager.changePercentileYRange(DP(this,this.data))});this.yManager.on("change:pan",(b,c)=>{this.layer("percentile").lowPriority=!1;this.isPanning=!0;this.trigger("change:pan",b,c,this);this.isPanning=!1});this.yManager.on("change:zoom",b=>
{this.layer("percentile").lowPriority=!1;this.isZooming=!0;this.trigger("change:zoom",b,this);this.isZooming=!1})},unsetYManager:function(){this.yManager&&(this.yManager.changePercentileYRange([]),this.yManager=null)},setChartConfig:function(a){this.chartConfig_=a},getChartConfig:function(){return this.chartConfig_}});
var iuc={initialize:function(a){a.scatterplotBuffer=new _.nP({width:a.innerWidth(),height:a.innerHeight()+1,canvas:document.createElement("canvas")});a.data=[];const b=TO(function(c){a.scatterplotBuffer.resize(a.innerWidth(),a.innerHeight());a.layer("scatterplot").draw(a.data,c)},50);a.on("change:innerWidth",(c,d)=>b(d));a.on("change:innerHeight",(c,d)=>b(d))},dataBind:function(){const a=this.chart();a.scatterplotBuffer.map=function(b){return[a.mapX1(b),a.mapY1(b)]};return this.selectAll(".buffered-image").data([a.data])},
insert:function(){return this.append("div").classed("buffered-image",!0)},events:{merge:function(){const a=this.chart();this.each(function(){a.scatterplotBuffer.clear();Prc(a.scatterplotBuffer,a.data);this.appendChild(a.scatterplotBuffer.canvas)})},exit:function(){this.remove()}}};
var juc=Math.pow(10,2),kuc={x:null,y:null,hit:null},luc=function(a,b,c){a=c(a);b=c(b);return Math.abs(a-b)},bQ=class{constructor(){this.pointCache_=kuc}nearestPointFromXY(a,b,c,d,e){if(!(a instanceof Date&&"number"===typeof b))return{stream:null,point:null};a=a.getTime();let f=null,g=Infinity,h=null;for(const l of e)for(const n of l.data){e=luc(a,n.x,c);const r=luc(b,n.y,d);e=Math.pow(e,2)+Math.pow(r,2);e<juc&&e<g&&(f=n,g=e,h=l)}return{stream:h,point:f}}cachedNearestPointFromXY(a,b,c,d,e){let f=null===
this.pointCache_.x?null:this.pointCache_.x.getDate()===a.getDate()&&this.pointCache_.y===b?this.pointCache_.hit:null;f||(this.pointCache_=(f=this.nearestPointFromXY(a,b,c,d,e))?{x:a,y:b,hit:f}:kuc);return f}};bQ.prototype.cachedNearestPointFromXY=bQ.prototype.cachedNearestPointFromXY;bQ.prototype.nearestPointFromXY=bQ.prototype.nearestPointFromXY;_.nh("awesomecharts.utils.Scatterplot",bQ);
var cQ=function(){};_.nh("awesomecharts.charts.ScatterplotExemplarsChart",cQ);cQ.prototype.setYManager=function(){};cQ.prototype.setYManager=cQ.prototype.setYManager;cQ.prototype.unsetYManager=function(){};cQ.prototype.unsetYManager=cQ.prototype.unsetYManager;cQ.prototype.setChartConfig=function(){};cQ.prototype.setChartConfig=cQ.prototype.setChartConfig;cQ.prototype.nearestPointFromXY=function(){};cQ.prototype.nearestPointFromXY=cQ.prototype.nearestPointFromXY;cQ.prototype.streamValuesFromXY=function(){};
cQ.prototype.streamValuesFromXY=cQ.prototype.streamValuesFromXY;cQ.prototype.streamIdFromXY=function(){};cQ.prototype.streamIdFromXY=cQ.prototype.streamIdFromXY;cQ.prototype.pointFromId=function(){};cQ.prototype.pointFromId=cQ.prototype.pointFromId;cQ.prototype.getChartConfig=function(){};cQ.prototype.getChartConfig=cQ.prototype.getChartConfig;
cQ=lP.extend("awesomecharts.exemplars",{initialize:function(){this.chartType="exemplars";this.base.classed("sd-scatterplot-chart",!0);this.chartConfig_=null;this.scale("x",d3.scaleTime());this.scale("y",d3.scaleLinear());this.margin({top:10,bottom:10,left:10,right:60});this.theme=_.DN.getColorTheme();this.on("change:innerWidth",()=>{this.scale("x","range",[0,this._innerWidth]);this.trigger("should:redraw")});this.on("change:innerHeight",()=>{this.trigger("should:redraw")});this.on("change:scale",
function(){this.trigger("should:redraw")});this.scale("x","range",[0,this._innerWidth]);this.layer("scatterplot",this.addBase("exemplars","div",this.base),iuc).style("position","absolute").style("top",this._margins.top+"px").style("left",this._margins.left+"px");iuc.initialize(this);this.svg=this.base.append("svg");this.proxyEvent(this.svg,"mouseenter");this.proxyEvent(this.svg,"mouseleave");this.proxyEvent(this.svg,"mouseout");this.proxyEvent(this.svg,"mousedown");this.proxyEvent(this.svg,"mousemove");
this.proxyEvent(this.svg,"mouseup");this.proxyEvent(this.svg,"mousewheel");this.on("should:redraw",TO(()=>{const a=this._rawData;a&&this.draw(a)}));this.bindStateEvent_("change:selected",(a,b)=>{this.trigger("should:redraw");this.trigger("change:selected",a,b)});this.scatterplotUtils=new bQ},transform:function(a){this.data=this._rawData=a;this.trigger("data",this.data);return a},dataX1:function(a){return a.x},dataY1:function(a){return a.y},mapX1:function(a){return this.scale("x")(this.dataX1(a))},
mapY1:function(a){return this.scale("y")(this.dataY1(a))},domainX:function(a){if(arguments.length){var b=this.scale("x").domain();_.TN(b,a)||this.scale("x","domain",a);return a}return this.scale("x").domain()},setYManager:function(a){this.yManager=a;this.scale("y",a.scale);this.yManager.on("change:scale",b=>{this.scale("y",b);this.trigger("change:scale","y",b)})},unsetYManager:function(){this.yManager&&(this.yManager.noBound(),this.yManager=null)},setChartConfig:function(a){this.chartConfig_=a},getChartConfig:function(){return this.chartConfig_},
nearestPointFromXY:function(a,b){return this.scatterplotUtils.nearestPointFromXY(a,b,this.scale("x"),this.scale("y"),this.data)},streamValuesFromXY:function(a,b){const {stream:c,point:d}=this.nearestPointFromXY(a,b);return d?{[c.name]:{value:d.y,rawStream:{},labels:Object.assign({},d)}}:{}},streamIdFromXY:function(a,b){({point:a}=this.nearestPointFromXY(a,b));return a&&a.id?a.id:null},pointFromId:function(a){for(const b of this.data)for(const c of b.data)if(c.id&&c.id===a)return c;return null},updateHighlight:function(){this.trigger("should:redraw")}});
var dQ=function(){};_.nh("awesomecharts.charts.ScatterplotChart",dQ);dQ.prototype.nearestPointFromXY=function(){};dQ.prototype.nearestPointFromXY=dQ.prototype.nearestPointFromXY;dQ.prototype.streamValuesFromXY=function(){};dQ.prototype.streamValuesFromXY=dQ.prototype.streamValuesFromXY;dQ.prototype.streamIdFromXY=function(){};dQ.prototype.streamIdFromXY=dQ.prototype.streamIdFromXY;dQ.prototype.pointFromId=function(){};dQ.prototype.pointFromId=dQ.prototype.pointFromId;
dQ=IP.extend("awesomecharts.scatterplot",{initialize:function(){this.chartType="scatterplot";this.base.classed("sd-scatterplot-chart",!0);this.scale("x",d3.scaleTime());this.scale("y",d3.scaleLinear());this.margin({top:10,bottom:10,left:10,right:60});this.theme=_.DN.getColorTheme();this.on("change:innerWidth",(a,b)=>{this.scale("x","range",[0,this._innerWidth]);this.trigger("should:redraw",b)});this.on("change:innerHeight",(a,b)=>{this.trigger("should:redraw",b)});this.on("change:scale",()=>{this.trigger("should:redraw")});
this.scale("x","range",[0,this._innerWidth]);this.layer("scatterplot",this.addBase("scatterplot","div",this.content),iuc).style("position","absolute").style("top",0).style("left",0);iuc.initialize(this);this.on("should:redraw",TO(a=>{this.draw(this.rawData(),a)}));this.bindStateEvent_("change:visibility",()=>{this.draw(this.rawData())});this.bindStateEvent_("change:selected",(a,b)=>{this.trigger("should:redraw");this.trigger("change:selected",a,b)});this.scatterplotUtils=new bQ},dataX1:function(a){return a.x},
dataY1:function(a){return a.y},mapX1:function(a){return this.scale("x")(this.dataX1(a))},mapY1:function(a){return this.scale("y")(this.dataY1(a))},nearestPointFromXY:function(a,b){return this.scatterplotUtils.nearestPointFromXY(a,b,this.scale("x"),this.scale("y"),this.data)},streamValuesFromXY:function(a,b){const {stream:c,point:d}=this.nearestPointFromXY(a,b);return d?{[c.name]:{value:d.y,rawStream:{},labels:Object.assign({},d)}}:{}},streamIdFromXY:function(a,b){({point:a}=this.nearestPointFromXY(a,
b));return a&&a.id?a.id:null},pointFromId:function(a){for(const b of this.data)for(const c of b.data)if(c.id&&c.id===a)return c;return null},updateHighlight:function(){this.trigger("should:redraw")}});
var muc=_.LO("sdEventChart"),PP=lP.extend("awesomecharts.eventSummary",{initialize:function(){this.margin({top:PP.MARGIN_TOP_,bottom:PP.MARGIN_BOTTOM_,left:10,right:60});var a=this;this.chartType="eventSummary";this._rowMode="multi";this.clipId=_.UO("graph-clip");this.base.classed("sd-event-summary",!0);this.base.classed("multi-line",!0);this.eventRows=this.base.append("div").classed("event-rows",!0).style("position","absolute").style("top",this._margins.top+"px").style("left",this._margins.left+
"px");this.svg=this.base.append("svg");this.graphGroup=this.svg.append("g").attr("transform","translate("+this._margins.left+", "+this._margins.top+")");this.defs=this.graphGroup.append("defs");this.graphClipRect=this.defs.append("clipPath").attr("id",this.clipId).append("rect");this.height(PP.CHART_HEIGHT_MULTI_);this.proxyEvent(this.svg,"mousedown");this.proxyEvent(this.svg,"mousemove");this.proxyEvent(this.svg,"mouseup");this.on("proxy:mousemove",function(){if(!this.isDragging){muc.time("eventDomain");
var e=this.eventDomainX(this.mousePosInMargin()[0]);muc.timeEnd("eventDomain");this.trigger("change:eventDomain",e)}}.bind(this));this.on("proxy:mouseup",function(){if(1===a.brush().length){var e=this.eventDomainX(this.mousePosInMargin()[0]);0!==e.length&&this.trigger("click:eventDomain",e)}});this.scale("x",d3.scaleTime());this.scale("y",d3.scaleOrdinal());var b=this.scale("y");this.order=PP.CATEGORY_ORDER_;this.trigger("change:order",this.order);b.domain(this.order);b.range(_.MN(b.domain(),function(e,
f){return f*(PP.CIRCLE_HEIGHT_+PP.CIRCLE_HEIGHT_/(b.domain().length-1))},this));this.proxyEvent(this.svg,"mouseover");this.proxyEvent(this.svg,"mouseleave");this.order.forEach(function(e){var f="category-"+WO(e);a.layer(f,a.addBase(f,"div",a.eventRows),Jtc(a,e))});this.layer("brush",this.addBase("brush","g",this.graphGroup),GP);GP.initialize(this);this.on("change:scale",function(e){"x"===e&&this.draw()});var c=function(){this.scale("x","range",[0,this._innerWidth]);this.graphClipRect.attr("width",
this.innerWidth()).attr("height",this.innerHeight())}.bind(this),d=function(){this.responsive()&&(this.responsiveForm()===this.ResponsiveFormEnum.COMPACT?this.margin("right",10):this.margin("right",60));c()}.bind(this);d();this.on("change:width",d);this.on("change:height",d)},positionRows:function(){var a=this;a.order.forEach(function(b){var c="category-"+WO(b);a.layer(c).style("top",function(){var d="multi"===a.rowMode()?b:a.order[0];return a.scale("y")(d)+"px"}).style("left","0px").style("position",
"absolute")})},transform:function(a){if(!a)return this.data||[];this.trigger("change:order",this.order);return this.data=this.applyFilter(a)},rowMode:function(a){if(0===arguments.length)return this._rowMode;if("multi"!==a&&"single"!==a)throw Error("Hi");this.base.classed("multi-line",!1);this.base.classed("single-line",!1);this._rowMode!==a&&(this._rowMode=a,"single"===a?(this.base.classed("single-line",!0),this.height(PP.CHART_HEIGHT_SINGLE_)):(this.base.classed("multi-line",!0),this.height(PP.CHART_HEIGHT_MULTI_)),
this.positionRows())},eventsInDomain:function(a){var b=this.data||[],c=b.reverse(),d=_.Gnc(a,_.QN,0);a=_.NN(b,{event_epoch:d.oldest},"event_epoch");c=_.NN(c,{event_epoch:d.youngest},"event_epoch");return b.slice(a,c).reverse()},eventDomainX:function(a){var b=this.scale("x").invert(a-PP.CIRCLE_RADIUS_);a=this.scale("x").invert(a+PP.CIRCLE_RADIUS_);return[b,a]},yStateFromPos:function(){return null},domainX:SN.x,domainY:SN.y});PP.CATEGORY_ORDER_=["changes","cloud status","annotations","anomalies","incident"];
PP.CIRCLE_RADIUS_=5;PP.CIRCLE_HEIGHT_=2*PP.CIRCLE_RADIUS_;PP.ROW_PADDING_=3;PP.PADDING_TOP_=4;PP.PADDING_BOTTOM_=4;PP.MARGIN_TOP_=0;PP.MARGIN_BOTTOM_=0;PP.MARGIN_LEFT_=10;PP.MARGIN_RIGHT_=60;PP.NUM_COLUMNS_=PP.CATEGORY_ORDER_.length;PP.CHART_HEIGHT_MULTI_=PP.NUM_COLUMNS_*PP.CIRCLE_HEIGHT_+PP.ROW_PADDING_*(PP.NUM_COLUMNS_-1)+2*PP.MARGIN_TOP_+PP.PADDING_TOP_+PP.PADDING_BOTTOM_;PP.CHART_HEIGHT_SINGLE_=PP.CIRCLE_HEIGHT_+PP.PADDING_TOP_+PP.PADDING_BOTTOM_;
var nuc,ouc;nuc=/(?:metric\.labels?|resource\.labels?|metadata\.system_labels|metadata\.user_labels)\.(.+)/;_.eQ=function(a){return'"'!==a[0]||2>a.length||'"'!==a[a.length-1]?a:a.substring(1,a.length-1).replace(/\\([\\"])/g,"$1")};_.fQ=function(a){return(a=nuc.exec(a))?_.eQ(a[1]):null};
ouc=class{updateLabelsModel(a,b){let c=!1;const d=g=>{const h=a.selectedColumns.filter(l=>l.uniqueId!==g.uniqueId);h.length<a.selectedColumns.length&&(c=!0,a.selectedColumns=h)},e=g=>{0===a.selectedColumns.filter(h=>h.uniqueId===g.uniqueId).length&&(c=!0,a.selectedColumns.push(g))};let f=1;a.selectableColumns.forEach(g=>{delete g.order});b.forEach((g,h)=>{g&&g.forEach(l=>{let n=!1;a.selectableColumns.forEach(r=>{l.title===r.title&&(n=!0,r.order=r.order||f++,r.isDefault!==l.isDefault&&((r.isDefault=
l.isDefault)?e(r):d(r)),l.template!==r.templates[h]&&(r.templates[h]=l.template,r.tokenizers[h]=l.tokenizer))});n||(l={isDefault:l.isDefault,title:l.title,templates:[l.template],tokenizers:[l.tokenizer],uniqueId:l.uniqueId},l.uniqueId=a.nextColumnId++,l.order=f++,a.selectableColumns.push(l),l.isDefault&&e(l))})});a.selectableColumns.forEach(g=>{g.order||d(g)});a.selectableColumns=a.selectableColumns.filter(g=>g.order);a.selectableColumns=a.selectableColumns.map(g=>g);a.selectableColumns.sort((g,h)=>
g.order-h.order);b=a.selectedColumns;a.selectedColumns=a.selectedColumns.map(g=>g);a.selectedColumns.sort((g,h)=>g.order-h.order);b.forEach((g,h)=>{g.uniqueId!==a.selectedColumns[h].uniqueId&&(c=!0)});return c}updatePercents(a,b,c,d){d=d||640;a.labelWidths=b.map((h,l)=>{let n=a.labelWidths&&a.labelWidths.length&&a.labelWidths[l]||0;0===n&&(n=a.labelHeaders&&a.labelHeaders[l]&&a.labelHeaders[l].length||0);return Math.max(n,h.length)});let e=0;a.labelWidths.forEach(h=>{e+=h});const f=Math.max(80,d/
8)-e;a.scale=0>f?c-1.25*f:c;const g=a.labelWidths.length;a.labelPercents=0<f&&g?a.labelWidths.map(h=>h+f/g):a.labelWidths.map(h=>h);e=0;a.labelPercents.forEach(h=>{e+=h});for(a.labelPercents=a.labelPercents.map(h=>Math.floor(h/e*c));a.labelPercents.includes(0);){d=Math.max(...a.labelPercents);if(1>=d)break;b=a.labelPercents.indexOf(0);d=a.labelPercents.indexOf(d);a.labelPercents[b]++;a.labelPercents[d]--}}};ouc.prototype.updatePercents=ouc.prototype.updatePercents;
ouc.prototype.updateLabelsModel=ouc.prototype.updateLabelsModel;_.puc=new ouc;_.nh("awesomecharts.utils.LabelUtils",_.puc);
(new _.vP).unit("{INTERVAL_TIME}");
var quc={ALIGN_NONE:"none",ALIGN_DELTA:"delta",ALIGN_RATE:"rate",ALIGN_INTERPOLATE:"interpolate",ALIGN_NEXT_OLDER:"next older",ALIGN_MIN:"min",ALIGN_MAX:"max",ALIGN_MEAN:"mean",ALIGN_COUNT:"count",ALIGN_SUM:"sum",ALIGN_STDDEV:"std. dev.",ALIGN_COUNT_TRUE:"count true",ALIGN_FRACTION_TRUE:"fraction true",ALIGN_PERCENTILE_99:"99th percentile",ALIGN_PERCENTILE_95:"95th percentile",ALIGN_PERCENTILE_50:"50th percentile",ALIGN_PERCENTILE_05:"5th percentile"},ruc={REDUCE_NONE:"none",REDUCE_MEAN:"mean",REDUCE_MIN:"min",
REDUCE_MAX:"max",REDUCE_SUM:"sum",REDUCE_STDDEV:"std. dev.",REDUCE_COUNT:"count",REDUCE_COUNT_TRUE:"count true",REDUCE_COUNT_FALSE:"count false",REDUCE_FRACTION_TRUE:"fraction true",REDUCE_PERCENTILE_99:"99th percentile",REDUCE_PERCENTILE_95:"95th percentile",REDUCE_PERCENTILE_50:"50th percentile",REDUCE_PERCENTILE_05:"5th percentile"},suc={TOP:"Top",BOTTOM:"Bottom",DIRECTION_UNSPECIFIED:"Unspecified"},tuc={METHOD_MEAN:"Mean",METHOD_MIN:"Min",METHOD_MAX:"Max",METHOD_SUM:"Sum",METHOD_LATEST:"Latest value",
METHOD_CLUSTER_OUTLIER:"Outlier score",METHOD_UNSPECIFIED:"Unspecified"},uuc={ALIGN_DELTA:"Number of {Counts} over {Alignment} window.",ALIGN_RATE:"Mean {Counts}/s over {Alignment} window.",ALIGN_INTERPOLATE:"Interpolated measurement of {Metric}at the boundaries of {Alignment} windows.",ALIGN_NEXT_OLDER:"Last measurement of {Metric} in a {Alignment} window.",ALIGN_MIN:"Min of {Metric} over {Alignment} window.",ALIGN_MAX:"Max of {Metric} over {Alignment} window.",ALIGN_MEAN:"Mean of {Metric} over {Alignment} window.",
ALIGN_SUM:"Sum of {Metric} over {Alignment} window.",ALIGN_STDDEV:"Std. dev. of {Metric} over {Alignment} window."},vuc={ALIGN_DELTA:"Number of {Counts} over {Alignment} window",ALIGN_RATE:"Mean {Counts}/s over {Alignment} window.",ALIGN_MIN:"Min of number of {Counts} per {Delta}, over {Alignment} window.",ALIGN_MAX:"Max of number of {Counts} per {Delta}, over {Alignment} window.",ALIGN_MEAN:"Mean of number of {Counts} per {Delta}, over {Alignment} window.",ALIGN_STDDEV:"Std. dev. of number of {Counts} per {Delta}, over {Alignment} window."},
wuc=a=>{var b=_.fQ(a);b?a=b:(b=a.lastIndexOf("."),a=-1===b?a:a.substring(b+1));return a.replace(/_/g," ")},gQ=class{titleText(a){let b="";a&&a.resourceType&&(b+=a.resourceType.replace(/"/g,""));a&&a.metricType&&(b&&(b+=" - "),b+=a.metricType.replace(/"/g,""));return b}neglogChip(a){return a?{text:"i",tooltip:"This chart has negative data on a log scale.  Not all data is shown."}:null}cappedChip(a){return a&&"forced"===a.cause?a.direction&&a.numTimeSeries&&a.rankingMethod?{text:"i",tooltip:"Capped:  "+
(suc[a.direction]||a.direction)+" "+a.numTimeSeries+" ranked by "+(tuc[a.rankingMethod].toLowerCase()||a.rankingMethod)}:null:null}filterChip(a,b){if(a&&a.filters&&a.filters.length){let d=0,e="";for(let f=0;f<a.filters.length;f++){const g=a.filters[f];let h=g.lhs,l=g.rhs.replace(/"/g,"");if("group.id"===h){var c=b(l);c&&(h="group",l=c)}else(c=_.fQ(h))&&(h=c);c="";c+=h;c="="===g.op?c+": ":c+g.op;c+=l;f<a.filters.length-1&&(c+="\n");e+=c;d++}if(d)return{text:d+"",tooltip:e}}return null}groupByChip(a){if(a&&
a.groups&&a.groups.length){var b=a.groups.map(wuc).join(", ");let c="by "+b;b="Group by: "+b;a.reducer&&(a=ruc[a.reducer]||a.reducer,c+=" ("+a+")",b+="\nAggregation: "+a);return{text:c,tooltip:b}}return!a||!a.reducer||a.groups&&a.groups.length?null:{text:ruc[a.reducer]||a.reducer,tooltip:"Aggregation"}}secondaryChip(a){if(a&&a.secondaryGroups&&a.secondaryGroups.length){var b=a.secondaryGroups.map(wuc).join(", ");let c="by "+b;b="Secondary Group by: "+b;a.secondaryReducer&&(a=ruc[a.secondaryReducer]||
a.secondaryReducer,c+=" ("+a+")",b+="\nSecondary Aggregation: "+a);return{text:c,tooltip:b}}return!a||!a.secondaryReducer||a.secondaryGroups&&a.secondaryGroups.length?null:{text:ruc[a.secondaryReducer]||a.secondaryReducer,tooltip:"Secondary Aggregation"}}formatTime(a){if(null===a||void 0===a)return a;const b=Math.floor(a/604800);a%=604800;const c=Math.floor(a/86400);a%=86400;const d=Math.floor(a/3600);a%=3600;const e=Math.floor(a/60);a%=60;let f="";b&&(f=f+(f?" ":"")+(b+" week"));c&&(f=f+(f?" ":"")+
(c+" day"));d&&(f=f+(f?" ":"")+(d+" hr"));e&&(f=f+(f?" ":"")+(e+" min"));a&&(f=f+(f?" ":"")+(a+" sec"));return f}alignmentChip(a,b){let c=null;var d=null;let e=null,f="chip-status-ok";a&&(a.alignmentPeriod?(c=this.formatTime(a.alignmentPeriod),a.requestedAlignmentPeriod&&"0"!==a.requestedAlignmentPeriod&&a.alignmentPeriod!==a.requestedAlignmentPeriod&&"60"!==a.requestedAlignmentPeriod&&(e="\n"+this.formatTime(a.requestedAlignmentPeriod)+" was requested but can not be displayed.",f="chip-status-warn")):
a.granularity&&(c=a.granularity.replace("m"," min").replace("h"," hr")),a.aligner&&(d=quc[a.aligner]||a.aligner));if(!c&&!d)return null;let g="";c&&(g+=c+" interval");c&&d&&(g+=" ");d&&(g+="("+d+")");var h="";h||!a||"GAUGE"!==a.kind&&"CUMULATIVE"!==a.kind||(h=a.aligner?uuc[a.aligner]:"Metric kind is "+a.kind+", no aligner.");!h&&a&&"DELTA"===a.kind&&(h=a.aligner?vuc[a.aligner]:"Metric kind is Delta, no aligner.");!h&&a&&a.aligner&&(h=["Alignment period"],c&&h.push(`: ${c}`),h.push(`\nAligner: ${d}`),
h=h.join(""));d=h;c&&(d=d.replace("{Alignment}",c));a&&a.metricName&&(d=d.replace("{Metric}",a.metricName));d=d.replace("{Delta}","sampling period");b&&(b=b.replace("(rate)",""),"1 "===b&&(b="count"),d=d.replace("{Counts}",b));e&&(d+=e);return{text:g,tooltip:d,status:f}}outlierChip(a){if(!a||"forced"===a.cause)return null;if(a.direction&&a.numTimeSeries&&a.rankingMethod){const b=suc[a.direction]||a.direction;return{text:b+" "+a.numTimeSeries,tooltip:b+" "+a.numTimeSeries+" ranked by "+(tuc[a.rankingMethod].toLowerCase()||
a.rankingMethod)}}return null}basicModeChip(a){return a?{text:a.mode,tooltip:a.description}:null}queryTextChip(a){return a?{text:"query",tooltip:a}:null}valueDomainChip(a){if(!a)return null;const b=this.formatTime((a[1].valueOf()-a[0].valueOf())/1E3),c=_.ync(a[0]);a=_.ync(a[1]);return{text:b,tooltip:`Displaying data for ${c} to ${a}`}}thresholdTooComplexChip(a){return a?{text:"Complex Threshold",tooltip:"Alerting condition expression is too complex to be visualized",status:"chip-status-warn"}:null}};
gQ.prototype.thresholdTooComplexChip=gQ.prototype.thresholdTooComplexChip;gQ.prototype.valueDomainChip=gQ.prototype.valueDomainChip;gQ.prototype.queryTextChip=gQ.prototype.queryTextChip;gQ.prototype.basicModeChip=gQ.prototype.basicModeChip;gQ.prototype.outlierChip=gQ.prototype.outlierChip;gQ.prototype.alignmentChip=gQ.prototype.alignmentChip;gQ.prototype.secondaryChip=gQ.prototype.secondaryChip;gQ.prototype.groupByChip=gQ.prototype.groupByChip;gQ.prototype.filterChip=gQ.prototype.filterChip;
gQ.prototype.cappedChip=gQ.prototype.cappedChip;gQ.prototype.neglogChip=gQ.prototype.neglogChip;gQ.prototype.titleText=gQ.prototype.titleText;var hQ=new gQ;_.nh("awesomecharts.utils.Subtitles",hQ);
var iQ={},xuc=function(a,b){const c=a&&a.tooltip||null,d=b&&b.tooltip||null;return(a&&a.text||null)===(b&&b.text||null)&&c===d},yuc=function(a,b,c,d){if(b){var e=b.text,f=b.tooltip;b=b.status;if(e&&(a=a.append("div").classed("subtitle-chip",!0),b&&a.classed("subtitle-"+b,!0),c&&(c=a.append("svg").classed("filter-icon",!0).attr("viewBox","0 0 24 24").attr("id","").attr("xmlns","http://www.w3.org/2000/svg").attr("fit","").attr("height","16px").attr("width","16px").attr("preserveAspectRatio","xMidYMid meet").attr("focusable",
"false"),c.append("path").attr("d","M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"),c.append("path").attr("d","M0 0h24v24H0z").style("fill","none")),d&&a.classed("subtitle-capped",!0),a.append("span").classed("subtitle-text",!0).text(e),f)){f instanceof _.bk?d=f:(d=_.ck(f),d=_.Qb(_.Ob(d).toString().replace(/  /g," &#160;").replace(/(\r\n|\r|\n)/g,"<br>")));a=a.append("span").style("white-space","nowrap").classed("subtitle-tooltip",!0);e=a.node();_.H5b(e,d);var g;d=((g=document.documentElement)||
(g=document.body.parentNode))&&"number"===typeof g.scrollLeft?g:document.body;g=d.scrollLeft;d=d.getBoundingClientRect().width/2;e=a.node().getBoundingClientRect();e.width>d&&(a.style("white-space","normal").style("width",`${d}px`),e=a.node().getBoundingClientRect());g=g+e.left+e.width+20;d=window.innerWidth;g>d&&a.style("left",16-(g-d)+"px")}}},Auc=function(a,b){a=a.append("div").classed("subtitle-chips",!0);const c=1<b.length,d=[];for(var e of b){const n=[];let r="";c&&(e.title?(n.push(e.title),
r="    "):n.push(""));for(const v of e.chipData){b=n;var f=b.push,g=r,h=v.chip;var l=[];h.text&&l.push(h.text);h.tooltip&&(h=h.tooltip.replace(/\r\n|\n|\r/gm,"; "),l.push(`(${h})`));l=l.join(" ");f.call(b,`${g}${l}`)}d.push(n.join("\n"))}e={text:"Configuration",tooltip:d.join("\n\n")};yuc(a,e,!1,!1);zuc(a)},zuc=function(a){a.append("div").classed("subtitle-div",!0)},Buc=function(a,b){a=a.append("div").classed("subtitle-chips",!0);for(const c of b)yuc(a,c.chip,c.isFilter,c.isCapped);zuc(a)},jQ=function(a,
b,c,d){b&&a.push({chip:b,isFilter:c,isCapped:d})},Cuc=function(a,b=!1){var c=a.chart();a.selectAll(".subtitle-chips").remove();a.selectAll(".subtitle-chip").remove();a.selectAll(".subtitle-title").remove();a.selectAll(".subtitle-div").remove();a.selectAll(".subtitle-collapsible").remove();var d=null,e=null;c.data&&c.data.dataLayer&&("qn"===c.data.dataLayer.dlType?e=c.data.dataLayer.originalQueryText:c.data.dataLayer.getInfoObjects&&(d=c.data.dataLayer.getInfoObjects()));const f=d&&1<d.length,g=c.isExpanded(),
h=c.showingResponsive,l=c.combinedToSingleChip||b||h&&f;a.classed("single-subtitle-row",h);f&&!l?(a.style("padding-left",null),g?a.style("background-color",drc("fill",c.theme)).style("border-color",drc("outline",c.theme)):a.style("background-color","").style("border-color","rgba(0, 0, 0, 0)"),a.classed("subtitle-mux",!0),a.append("svg").classed("subtitle-collapsible",!0).attr("viewBox","0 0 24 24").attr("id","").attr("xmlns","http://www/w3/org/2000/svg").attr("fit","").attr("height","24px").attr("width",
"24px").attr("vertical-align","middle").style("left","unset").style("right","10px").style("top","0").on("click",()=>{c.toggleExpanded();c.layer("subtitle").draw(c.data)}).append("path").attr("d",c.isExpanded()?"M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z":"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z")):a.style("padding-left","5px");const n=c.groupNameLookupFunction;c.isGroupNameLookupSet||(new Promise(G=>{c.groupNameLookupResolver=()=>{G(c.data)}})).then(G=>{c.layer("subtitle").draw(G)});
let r=hQ.neglogChip(c.yManager&&Osc(c.yManager)),v=hQ.basicModeChip(c.basicModeInfo),w=hQ.valueDomainChip(c.valueDomain);if(e)d={title:"",chipData:[]},jQ(d.chipData,hQ.queryTextChip(e),!1,!1),c.complexThreshold&&jQ(d.chipData,c.complexThreshold&&hQ.thresholdTooComplexChip(c.complexThreshold),!1,!1),l?Auc(a,[d]):Buc(a,d.chipData);else if(!f||g||l){const G=[];(d||[]).forEach(O=>{const T=O.topNInfo||null;var J=O.filterInfo||null,R=O.groupByInfo||null;const ra=O.alignmentInfo||null;O={title:hQ.titleText(J),
chipData:[]};G.push(O);f&&(g||l)&&T&&"forced"===T.cause&&jQ(O.chipData,hQ.cappedChip(T),!1,!0);jQ(O.chipData,r,!1,!0);jQ(O.chipData,v,!1,!1);jQ(O.chipData,w,!1,!1);f&&(g||l)||T&&"forced"===T.cause&&jQ(O.chipData,hQ.cappedChip(T),!1,!0);J&&(J=hQ.filterChip(J,n),jQ(O.chipData,J,!0,!1));R&&(J=hQ.groupByChip(R),jQ(O.chipData,J,!1,!1));R&&(R=hQ.secondaryChip(R),jQ(O.chipData,R,!1,!1));if(ra&&!c.hideAlignmentChip){ra.promise&&ra.promise.then(()=>{c.layer("subtitle").draw(c.data)});var Ba;c.unit&&(Ba=c.unit());
Ba=hQ.alignmentChip(ra,Ba);jQ(O.chipData,Ba,!1,!1)}T&&"forced"!==T.cause&&jQ(O.chipData,hQ.outlierChip(T),!1,!1)});if(l)Auc(a,G);else for(var y of G)f&&g&&(d=a.append("div").classed("subtitle-title",!0),y.title&&d.text(y.title)),Buc(a,y.chipData)}else{const G=c.unit&&c.unit();var B=d.shift();e=B.topNInfo||null;y=B.filterInfo||null;b=B.groupByInfo||null;B=B.alignmentInfo||null;B.promise&&B.promise.then(()=>{c.layer("subtitle").draw(c.data)});let O=e&&"forced"===e.cause&&hQ.cappedChip(e),T=y&&hQ.filterChip(y,
n),J=b&&hQ.groupByChip(b),R=b&&hQ.secondaryChip(b),ra=c.hideAlignmentChip?null:B&&hQ.alignmentChip(B,G),Ba=e&&"forced"!==e.cause&&hQ.outlierChip(e);d.forEach(Ka=>{const Va=Ka.topNInfo||null,cb=Ka.filterInfo||null,H=Ka.groupByInfo||null;Ka=Ka.alignmentInfo||null;Ka.promise&&Ka.promise.then(()=>{c.layer("subtitle").draw(c.data)});O||(O=hQ.cappedChip(Va));xuc(T,hQ.filterChip(cb,n))||(T=null);xuc(J,hQ.groupByChip(H))&&xuc(R,hQ.secondaryChip(H))||(R=J=null);xuc(ra,hQ.alignmentChip(Ka,G))||(ra=null);xuc(Ba,
hQ.outlierChip(Va))||(Ba=null)});d=[];jQ(d,r,!1,!0);jQ(d,O,!1,!0);jQ(d,T,!0,!1);jQ(d,J,!1,!1);jQ(d,R,!1,!1);jQ(d,ra,!1,!1);jQ(d,Ba,!1,!1);jQ(d,v,!1,!1);jQ(d,w,!1,!1);Buc(a,d)}d=a.node();d=d.scrollWidth>d.offsetWidth;!l&&d&&h?Cuc(a,!0):a.selectAll(".subtitle-chip").attr("class",function(){return this.classList.toString()+" position-relative"})};iQ.dataBind=function(){var a=this.chart();return this.selectAll(".subtitle-div").data([a.data])};
iQ.insert=function(){return this.append("div").classed("subtitle-div",!0)};iQ.events={merge:function(){Cuc(this)},exit:function(){this.remove()}};iQ.initialize=function(a){this.chart=a};
var kQ=function(){};_.nh("awesomecharts.charts.Subtitle",kQ);kQ.prototype.setGroupNameLookupFunction=function(){};kQ.prototype.setGroupNameLookupFunction=kQ.prototype.setGroupNameLookupFunction;kQ.prototype.setComplexThreshold=function(){};kQ.prototype.setComplexThreshold=kQ.prototype.setComplexThreshold;kQ.prototype.setYManager=function(){};kQ.prototype.setYManager=kQ.prototype.setYManager;kQ.prototype.setBasicModeInfo=function(){};kQ.prototype.setBasicModeInfo=kQ.prototype.setBasicModeInfo;
kQ.prototype.setHideAlignmentChip=function(){};kQ.prototype.setHideAlignmentChip=kQ.prototype.setHideAlignmentChip;kQ.prototype.setValueDomain=function(){};kQ.prototype.setValueDomain=kQ.prototype.setValueDomain;kQ.prototype.combineToSingleChip=function(){};kQ.prototype.combineToSingleChip=kQ.prototype.combineToSingleChip;kQ.prototype.showResponsive=function(){};kQ.prototype.showResponsive=kQ.prototype.showResponsive;
kQ=lP.extend("awesomecharts.subtitle",{initialize:function(){this.base.classed("sd-subtitle",!0);this.chartType="subtitle";this.isExpanded_=!1;this.basicModeInfo=this.complexThreshold=this.groupNameLookupResolver=null;this.hideAlignmentChip=!1;this.valueDomain=null;this.showingResponsive=this.combinedToSingleChip=!1;this.scale("x",d3.scaleTime());this.scale("y",d3.scaleLinear());this.margin({top:0,bottom:0,left:0,right:0});this.theme=_.DN.getColorTheme();this.on("change:innerWidth",(a,b)=>{this.scale("x",
"range",[0,this._innerWidth]);this.trigger("should:redraw",b)});this.on("change:innerHeight",(a,b)=>{this.trigger("should:redraw",b)});this.on("change:scale",function(){this.trigger("should:redraw")});this.scale("x","range",[0,this._innerWidth]);this.layer("subtitle",this.addBase("subtitle","div",this.base),iQ).style("top",this._margins.top+"px").style("left",this._margins.left+"px").style("min-height","24px");this.groupNameLookupFunction=()=>"";this.isGroupNameLookupSet=!1;iQ.initialize(this);this.on("should:redraw",
TO(a=>{this._rawData&&this.draw(this._rawData,a)}));this.on("change:mode",function(){this.layer("subtitle").draw([])});this.bindStateEvent_("change:selected",function(){this.trigger("should:redraw")})},isExpanded:function(){return this.isExpanded_},toggleExpanded:function(){this.isExpanded_=!this.isExpanded_;this.trigger("ave:subtitleToggle")},transform:function(a){this.data=this._rawData=a=a||[];this.count=this.data.length;if(!this.count)return this.data;this.trigger("data",this.data);return this.data},
domainX:function(a){if(arguments.length){var b=this.scale("x").domain();_.TN(b,a)||this.scale("x","domain",a);return this}return this.scale("x").domain()},setComplexThreshold:function(a){this.complexThreshold=!!a;this.trigger("should:redraw")},setYManager:function(a){this.yManager=a},setBasicModeInfo:function(a){this.basicModeInfo=a},setHideAlignmentChip:function(a){this.hideAlignmentChip=a;this.trigger("should:redraw")},setValueDomain:function(a){this.valueDomain=a;this.trigger("should:redraw")},
setGroupNameLookupFunction:function(a){this.groupNameLookupFunction=a;!this.isGroupNameLookupSet&&this.groupNameLookupResolver&&(this.groupNameLookupResolver(),this.groupNameLookupResolver=null);this.isGroupNameLookupSet=!0},combineToSingleChip:function(a){this.combinedToSingleChip=a;this.trigger("should:redraw")},showResponsive:function(a){this.showingResponsive=a;this.trigger("should:redraw")}});

}catch(e){_._DumpException(e)}
try{
var SAc,TAc,UAc,WAc,XAc,YAc,$Ac,aBc,cBc,dBc,eBc,fBc,gBc,hBc;SAc=function(a){a&1&&(_.E(0,"div"),_.I(1,"cfc-loader",5),_.F());a&2&&(a=_.N(),_.x(1),_.C("promise",a.dialogData.contentPromise))};TAc=function(a){a&1&&(_.E(0,"a",16),_.Q(1),_.F());a&2&&(a=_.N(3),_.C("cfcDocHref",a.dialogData.descriptionMessage.docLink.href),_.x(1),_.Sd(" ",a.dialogData.descriptionMessage.docLink.label," "))};
UAc=function(a){a&1&&(_.E(0,"cfc-message",14)(1,"cfc-message-text"),_.Q(2),_.P(3,TAc,2,2,"a",15),_.F()());a&2&&(a=_.N(2),_.C("type",a.dialogData.descriptionMessage.type),_.x(2),_.Sd(" ",a.dialogData.descriptionMessage.message," "),_.x(1),_.C("ngIf",a.dialogData.descriptionMessage.docLink))};WAc=function(a,b){a&1&&(_.E(0,"div",17),_.Fd(1,18),_.I(2,"br"),_.F());if(a&2){a=b.$implicit;b=_.N(2);const c=_.Rd(8);_.x(1);_.C("ngTemplateOutlet",c)("ngTemplateOutletContext",_.Zx(2,VAc,a,b.dialogData))}};
XAc=function(a){a&1&&(_.E(0,"div"),_.Q(1),_.F());a&2&&(a=_.N(2),_.x(1),_.Sd(" ",a.dialogData.secondaryDescription," "))};YAc=function(a,b){a&1&&(_.E(0,"div"),_.Fd(1,18),_.I(2,"br"),_.F());if(a&2){a=b.$implicit;b=_.N(3);const c=_.Rd(8);_.x(1);_.C("ngTemplateOutlet",c)("ngTemplateOutletContext",_.Zx(2,VAc,a,b.dialogData))}};
$Ac=function(a){a&1&&(_.E(0,"div",9),_.P(1,YAc,3,5,"div",19),_.F());a&2&&(a=_.N(2),_.C("ngClass",_.Zx(3,ZAc,!a.dialogData.showShortVersionContent&&a.dialogData.showSecondaryContent,a.dialogData.showShortVersionContent)),_.x(1),_.C("ngForOf",a.dialogData.secondaryContent)("ngForTrackBy",a.$index))};
aBc=function(a){if(a&1){const b=_.Pc();_.E(0,"div")(1,"div",6);_.Q(2);_.I(3,"a",7);_.F();_.P(4,UAc,4,3,"cfc-message",8);_.E(5,"div",9);_.P(6,WAc,3,5,"div",10);_.F();_.P(7,XAc,2,1,"div",2);_.P(8,$Ac,2,6,"div",11);_.E(9,"mat-checkbox",12);_.L("ngModelChange",function(c){_.t(b);const d=_.N();return _.u(d.dialogData.lineWrap=c)});_.K(10,13);_.F()()}a&2&&(a=_.N(),_.x(2),_.Sd(" ",a.dialogData.description," "),_.x(1),_.fv("linkText",a.dialogData.docLink.label),_.fv("track-name",a.dialogData.docLink.trackAs),
_.C("cfc-external-link",a.dialogData.docLink.href),_.x(1),_.C("ngIf",a.dialogData.descriptionMessage),_.x(1),_.C("ngClass",_.Zx(11,ZAc,!a.dialogData.showShortVersionContent&&a.dialogData.showSecondaryContent,a.dialogData.showShortVersionContent)),_.x(1),_.C("ngForOf",a.dialogData.content)("ngForTrackBy",a.$index),_.x(1),_.C("ngIf",a.dialogData.showSecondaryContent),_.x(1),_.C("ngIf",a.dialogData.showSecondaryContent),_.x(1),_.C("ngModel",a.dialogData.lineWrap))};
cBc=function(a){a&1&&(_.E(0,"cfc-easy-copy",25),_.K(1,26),_.F());a&2&&(a=_.N(2),_.C("copyText",bBc(a))("isDefaultButton",!0)("primary",!0)("copyButtonAriaLabel",a.dialogData.showDevShellButton?a.cmdLineCopyButtonAriaLabel:a.restCopyButtonAriaLabel))};dBc=function(a){if(a&1){const b=_.Pc();_.E(0,"button",27);_.L("click",function(){_.t(b);const c=_.N(2);return _.u(c.onClick())});_.K(1,28);_.F()}};
eBc=function(a){a&1&&(_.E(0,"div",20),_.P(1,cBc,2,4,"cfc-easy-copy",21),_.P(2,dBc,2,0,"button",22),_.E(3,"button",23),_.K(4,24),_.F()());a&2&&(a=_.N(),_.x(1),_.C("ngIf",!a.dialogData.contentPromise),_.x(1),_.C("ngIf",a.dialogData.showDevShellButton&&!a.dialogData.contentPromise))};fBc=function(a){a&1&&(_.E(0,"pre",31),_.Q(1),_.F());if(a&2){a=_.N();const b=a.contentBlock;_.C("wrapLines",a.dialogData.lineWrap);_.x(1);_.Sd("    ",b,"\n  ")}};
gBc=function(a){a&1&&(_.E(0,"pre",32),_.Q(1),_.F());if(a&2){a=_.N();const b=a.contentBlock;_.C("wrapLines",a.dialogData.lineWrap);_.x(1);_.Sd("    ",b,"\n  ")}};hBc=function(a,b){a&1&&(_.P(0,fBc,2,2,"pre",29),_.P(1,gBc,2,2,"pre",30));a&2&&(a=b.dialogData,_.C("ngIf",!a.showDevShellButton),_.x(1),_.C("ngIf",a.showDevShellButton))};
_.NR=class{constructor(a,b){this.embeddedToolsService=a;this.cacheService=b;this.initializedCache=this.cacheService.create("globalDevShellInitializedCacheId","Globally-shared cache storing the dev shell intialized status.");this.openCache=this.cacheService.create("globalDevShellOpenacheId","Globally-shared cache storing the dev shell open status.");this.initialized=this.initializedCache.onValueChangeFiltered("devShellInitializedCacheKey");this.initializedCache.has("devShellInitializedCacheKey")||
this.initializedCache.set("devShellInitializedCacheKey",!1);this.openCache.has("devShellOpenCacheKey")||this.openCache.set("devShellOpenCacheKey",!1);_.Kf()||(a.isCloudShellConfigured.subscribe(c=>{this.initializedCache.set("devShellInitializedCacheKey",c)}),a.isCloudShellOpen.subscribe(c=>{this.openCache.set("devShellOpenCacheKey",c)}))}get devShellInitialized(){return{promise:this.initialized.pipe(_.Ge(a=>a),_.df()).toPromise(),resolve:()=>{this.initializedCache.set("devShellInitializedCacheKey",
!0)},reject:()=>{},notify:()=>{}}}activate(){this.embeddedToolsService.openCloudShell()}};_.NR.\u0275fac=function(a){return new (a||_.NR)(_.p(_.wi),_.p(_.Wl))};_.NR.\u0275prov=_.m({token:_.NR,factory:_.NR.\u0275fac,providedIn:"root"});
var OR=class extends _.KR{constructor(){super(...arguments);this.copyButtonLabel="Copy code"}};OR.\u0275fac=function(){let a;return function(b){return(a||(a=_.Xc(OR)))(b||OR)}}();
OR.\u0275cmp=_.q({type:OR,selectors:[["","ace-code-snippet-plain",""]],features:[_.wd],attrs:["ace-code-snippet-plain",""],ngContentSelectors:["*"],decls:9,vars:5,consts:[[1,"ace-code-snippet-plain","cfc-code-snippet-plain",3,"ve"],["tabindex","0",1,"mat-focus-indicator",3,"focusin","focusout"],[1,"ace-code-snippet-plain-transcluded-content"],["transcludedContent",""],[1,"ace-code-snippet-plain-content-container"],[1,"ace-code-snippet-plain-content","cfc-code-snippet-plain-content"],["content",""],
[3,"codeSnippet","ariaLabel","focusout"]],template:function(a,b){a&1&&(_.Pd(),_.E(0,"div",0)(1,"div",1),_.L("focusin",function(){b.selectAllContents()})("focusout",function(){_.ER()}),_.E(2,"div",2,3),_.Qd(4),_.F(),_.E(5,"div",4),_.I(6,"span",5,6),_.F()(),_.E(8,"ace-code-snippet-copy",7),_.L("focusout",function(){_.ER()}),_.F()());a&2&&(_.C("ve",b.ve.CfcCodeSnippetPlain),_.x(6),_.Bd("ace-wrap-snippet-content",b.wrapLines),_.x(2),_.C("codeSnippet",b)("ariaLabel",b.copyButtonLabel))},dependencies:[_.iE,
_.wt],styles:['[_nghost-%COMP%]{display:block;margin-bottom:16px}[_nghost-%COMP%]   .ace-code-snippet-plain[_ngcontent-%COMP%]{font-family:"Roboto Mono",monospace;background-color:#f7f7f7;line-height:initial;padding-right:32px;position:relative;width:100%}[_nghost-%COMP%]   .ace-code-snippet-plain-content[_ngcontent-%COMP%]{white-space:pre}[_nghost-%COMP%]   .ace-code-snippet-plain-content.ace-wrap-snippet-content[_ngcontent-%COMP%]{white-space:pre-wrap}[_nghost-%COMP%]   .ace-code-snippet-plain-content-container[_ngcontent-%COMP%]{overflow-x:auto;padding-left:8px;padding-top:8px;padding-bottom:8px;min-height:40px}'],
changeDetection:0});
var PR=class{};PR.\u0275fac=function(a){return new (a||PR)};PR.\u0275mod=_.Bc({type:PR});PR.\u0275inj=_.tc({imports:[_.ql,_.kE,_.yt]});
var VAc=function(a,b){return{contentBlock:a,dialogData:b}},ZAc=function(a,b){return{"rest-gcloud-content-medium":a,"rest-gcloud-content-small":b}},bBc=function(a){if("string"===typeof a.dialogData.content)a=a.dialogData.content;else if(Array.isArray(a.dialogData.content))a=a.dialogData.content.join(" && ");else return;return a},iBc=class extends _.gs{constructor(a,b){super();this.devShellService=a;this.data=b;this.restCopyButtonAriaLabel="Copy REST request to clipboard";this.cmdLineCopyButtonAriaLabel=
"Copy GCloud command line to clipboard";this.dialogData=b.dialogData;this.sendAnalyticsEvent=b.sendAnalyticsEvent;if(a=window.getSelection())if(a.empty)try{a.empty()}catch(c){}else try{a.removeAllRanges()}catch(c){}}executeInDevShell(){if(this.devShellService){const a=bBc(this);a&&(this.devShellService.embeddedToolsService.openCloudShellAndEnterCommand(a),this.sendAnalyticsEvent("openGcloudCommandInDevShell"))}}onClick(){const a=this.executeInDevShell();this.dialogRef.close(a)}},jBc;
iBc.\u0275fac=function(a){return new (a||iBc)(_.A(_.NR),_.A(_.up))};
iBc.\u0275cmp=_.q({type:iBc,selectors:[["ng-component"]],features:[_.wd],decls:9,vars:6,consts:function(){return[["matDialogTitle","","cdkFocusInitial","","tabindex","-1",1,"rest-dialog-title","mat-focus-indicator"],["matDialogContent","",1,"rest-dialog-content"],[4,"ngIf"],["matDialogActions","","class","rest-dialog-actions",4,"ngIf"],["codeSnippet",""],[1,"restgcloud_content_loader",3,"promise"],[1,"cfc-text-caption"],["target","_blank","cfcTrackedEvent","","track-type","Leave",3,"cfc-external-link",
"linkText","track-name"],["class","cfc-space-above-plus-1",3,"type",4,"ngIf"],[1,"rest-gcloud-content","cfc-fixed-font",3,"ngClass"],["class","p6ntest-compute-rest-gcloud-content-container",4,"ngFor","ngForOf","ngForTrackBy"],["class","rest-gcloud-content cfc-fixed-font",3,"ngClass",4,"ngIf"],[3,"ngModel","ngModelChange"]," Line wrapping ",[1,"cfc-space-above-plus-1",3,"type"],[3,"cfcDocHref",4,"ngIf"],[3,"cfcDocHref"],[1,"p6ntest-compute-rest-gcloud-content-container"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],
[4,"ngFor","ngForOf","ngForTrackBy"],["matDialogActions","",1,"rest-dialog-actions"],["iconSize","medium",3,"copyText","isDefaultButton","primary","copyButtonAriaLabel",4,"ngIf"],["color","primary","mat-button","","name","execute",3,"click",4,"ngIf"],"color primary mat-button  matDialogClose ".split(" ")," Close ",["iconSize","medium",3,"copyText","isDefaultButton","primary","copyButtonAriaLabel"]," Copy to clipboard ",["color","primary","mat-button","","name","execute",3,"click"]," Run in Cloud Shell ",
["ace-code-snippet-plain","",3,"wrapLines",4,"ngIf"],["ace-code-snippet-shell","",3,"wrapLines",4,"ngIf"],["ace-code-snippet-plain","",3,"wrapLines"],["ace-code-snippet-shell","",3,"wrapLines"]]},template:function(a,b){a&1&&(_.E(0,"h1",0),_.Q(1),_.F(),_.E(2,"div",1),_.P(3,SAc,2,1,"div",2),_.P(4,aBc,11,14,"div",2),_.F(),_.P(5,eBc,5,2,"div",3),_.Zd(6,"async"),_.P(7,hBc,2,2,"ng-template",null,4,_.Te));a&2&&(_.x(1),_.Sd(" ",b.dialogData.title,"\n"),_.x(2),_.C("ngIf",b.dialogData.contentPromise),_.x(1),
_.C("ngIf",!b.dialogData.contentPromise),_.x(1),_.C("ngIf",_.$d(6,4,b.dialogRendered)))},dependencies:[_.Uu,OR,_.LR,_.qx,_.kl,_.ll,_.ol,_.Xu,_.HR,_.BR,_.jD,_.cy,_.Cw,_.CE,_.ot,_.lt,_.jt,_.Vx,_.wp,_.xp,_.yp,_.zp,_.yo,_.zo,_.pl],styles:[".rest-dialog-title[_ngcontent-%COMP%]{margin-bottom:16px}.rest-dialog-content[_ngcontent-%COMP%]{margin-bottom:-8px;min-width:512px;max-width:768px}.rest-dialog-actions[_ngcontent-%COMP%]{margin-bottom:-24px}.rest-gcloud-content[_ngcontent-%COMP%]{padding:24px;margin:24px -24px 8px;background-color:#fafafa;border-top:1px solid rgba(0,0,0,.16);border-bottom:1px solid rgba(0,0,0,.16);font-size:12px;line-height:16px;white-space:pre;height:400px;overflow:scroll}.rest-gcloud-content-medium[_ngcontent-%COMP%]{height:200px}.rest-gcloud-content-small[_ngcontent-%COMP%]{height:100px}"]});
jBc=[_.Vu,PR,_.MR,_.ql,_.Yu,_.IR,_.CR,_.kD,_.fy,_.DE,_.qt,_.Yx,_.Ap,_.Jo];_.QR=class{};_.QR.\u0275fac=function(a){return new (a||_.QR)};_.QR.\u0275mod=_.Bc({type:_.QR,id:"pm_rest_gcloud_dialog"});_.QR.\u0275inj=_.tc({providers:[{provide:_.bm,useValue:{RestGcloudDialogController:iBc}}],imports:[_.ly,_.JR,jBc]});_.vd(_.QR,"pm_rest_gcloud_dialog");

}catch(e){_._DumpException(e)}
try{
_.og("pm_functions_v2_details");

var r9d=function(a){return a.filter(b=>b.onlyInPredefinedRoles||"NOT_SUPPORTED"===b.customRolesSupportLevel).map(b=>b.name)},s9d=function(a){return a.filter(b=>"TESTING"===b.customRolesSupportLevel&&"DEPRECATED"!==b.stage).map(b=>b.name)},t9d=function(a){var b={};a=a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;");b.preserveSpaces&&(a=a.replace(/(^|[\r\n\t ]) /g,"$1&#160;"));b.preserveNewlines&&(a=a.replace(/(\r\n|\n|\r)/g,"<br>"));b.preserveTabs&&
(a=a.replace(/(\t+)/g,'<span style="white-space:pre">$1</span>'));return _.Qb(a)},v9d=function(a){let b=_.Xb(u9d).toString();if(/#/.test(b))throw Error("S");let c=/\?/.test(b)?"&":"?";a.forEach((d,e)=>{d=d instanceof Array?d:[d];for(let f=0;f<d.length;f++){const g=d[f];null!==g&&void 0!==g&&(b+=c+encodeURIComponent(e)+"="+encodeURIComponent(String(g)),c="&")}});return _.Ub(b)},w9d=function(a){a=_.RCa(a).toString();return _.Ub(URL.createObjectURL(new Blob([a],{type:"text/javascript"})))},x9d=function(a){const b=
a.subject;b.next(a.value);b.complete()},y9d=function(a){const b=a.args,c=a.subscriber;var d=a.params;a=d.callbackFunc;const e=d.context,f=d.scheduler;let {subject:g}=d;if(!g){g=d.subject=new _.mza;d=(...h)=>{this.add(f.schedule(x9d,0,{value:1>=h.length?h[0]:h,subject:g}))};try{a.apply(e,[...b,d])}catch(h){g.error(h)}}this.add(g.subscribe(c))},z9d=function(a,b){if(b)if(_.he(b))var c=b;else return(...d)=>z9d(a,c)(...d).pipe(_.U(e=>(0,_.pe)(e)?b(...e):b(e)));return function(...d){const e=this;let f;
const g={context:e,subject:void 0,callbackFunc:a,scheduler:c};return new _.ge(h=>{if(c)return c.schedule(y9d,0,{args:d,subscriber:h,params:g});if(!f){f=new _.mza;const l=(...n)=>{f.next(1>=n.length?n[0]:n);f.complete()};try{a.apply(e,[...d,l])}catch(n){_.Ria(f)?f.error(n):console.warn(n)}}return f.subscribe(h)})}},A9d=function(a,b){return new _.ge(c=>{let d;try{d=a()}catch(g){c.error(g);return}let e;try{e=b(d)}catch(g){c.error(g);return}const f=(e?_.re(e):_.$e).subscribe(c);return()=>{f.unsubscribe();
d&&d.unsubscribe()}})},C9d=function(a){return b=>_.le(b,new B9d(a))},D9d=function(a){a.subscriber.clearThrottle()},k5=function(a,b=_.Ae){return c=>_.le(c,new E9d(a,b))},l5=function(a,b){if(typeof a!==typeof b||Array.isArray(a)!==Array.isArray(b))throw Error("Ae");const c=Object.keys(a);b=Object.keys(b);if(c.length!==b.length)return!1;Array.isArray(a)||(c.sort(),b.sort());for(a=0;a<c.length;a++)if(c[a]!==b[a])return!1;return!0},F9d=function(a,b,c){if(!_.gr(a,b))return!1;if(!c.emptyArrayIsUnset)return!0;
a=_.V(a,b);return Array.isArray(a)?0!==a.length:!0},I9d=function(a,b){const c=_.awa(a.getPartialClassMetadata());var d=c.keys||[];const e=c.arrays||{},f=c.objects||{},g=c.objectMaps||{},h=_.awa(b.getPartialClassMetadata());var l=h.arrays||{};const n=h.objects||{},r=h.objectMaps||{};if(!(l5(d,h.keys||[])&&l5(e,l)&&l5(f,n)&&l5(g,r)))return!1;for(const v of d){d=F9d(a,v,c);l=F9d(b,v,h);if(d!==l)return!1;if(!d)continue;d=_.V(a,v);const w=_.V(b,v);if(e.hasOwnProperty(v)){if(!G9d(d,w,!0,!0))return!1}else if(f.hasOwnProperty(v)){if(!G9d(d,
w,!1,!0))return!1}else if(g.hasOwnProperty(v)){const y=g[v];if(y.isPropertyArray){if(!l5(d,w)||d.some((B,G)=>!H9d(B,w[G],y)))return!1}else if(!H9d(d,w,y))return!1}else if(Array.isArray(d)){if(!G9d(d,w,!0,!1))return!1}else if(!G9d(d,w,!1,!1))return!1}return!0},H9d=function(a,b,c){if(!l5(a,b))return!1;for(const d of Object.keys(a))if(!G9d(a[d],b[d],c.isValueArray,c.isSerializable))return!1;return!0},G9d=function(a,b,c,d){if(null==a&&null==b)return!0;if(c&&d){if(!l5(a,b)||a.some((e,f)=>!I9d(e,b[f])))return!1}else if(c&&
!d){if(!l5(a,b)||a.some((e,f)=>e!==b[f]))return!1}else{if(d)return I9d(a,b);if("object"===typeof a){if(JSON.stringify(a)!==JSON.stringify(b))return!1}else if(a!==b)return!1}return!0},J9d=function(a){return a.replace(/\{0\}/g,"%x").replace(/\{1\}/g,"%X").replace(/d{1,2}/g,b=>1===b.length?"%-d":"%d").replace(/M{1,2}/g,b=>1===b.length?"%-m":"%m").replace(/y{1,2}/g,b=>1===b.length?"%-y":"%y").replace(/H{1,2}/g,b=>1===b.length?"%-H":"%H").replace(/h/g,"%-I").replace(/mm/g,"%M").replace(/ss/g,"%S").replace(/a/g,
"%p")},K9d=function(){var a=_.mz(_.Ki);return{dateTime:J9d(a.DATETIMEFORMATS[3]),date:J9d(a.DATEFORMATS[3]),time:J9d(a.TIMEFORMATS[2]),periods:a.AMPMS,days:a.WEEKDAYS,shortDays:a.SHORTWEEKDAYS,months:a.MONTHS,shortMonths:a.SHORTMONTHS}},L9d=function(a){return _.PHb(a,{title:"",description:"",expression:"",location:""})},M9d=function(a){a=a.reduce((b,c)=>b.concat(c.includedPermissions||[]),[]).sort();_.za(a);return a},N9d=function(a=[]){return(new _.ji("{NUM_PERMISSIONS, plural,   =0 {No assigned permissions} =1 {1 assigned permission} other {# assigned permissions}}")).format({NUM_PERMISSIONS:a.length})},
O9d=function(a){if(!a)return"Alpha";switch(a){case "ALPHA":return"Alpha";case "BETA":return"Beta";case "GA":return"General Availability";case "DISABLED":return"Disabled";case "DEPRECATED":return"Deprecated";case "EAP":return"EAP";default:_.Wb(a,"role stage had an unknown type")}},P9d=function(a){a=a.value;a instanceof _.mE&&(a=a.date);return a instanceof Date?a:null},Q9d=function(){return a=>{a=P9d(a);return null===a?null:a.getTime()<Date.now()?null:{pastDate:!0}}},R9d=function(a){return b=>{b=P9d(b);
if(null===b)return null;let c=!0;a&&(c=a<=b);return c?null:{validDateRange:!0}}},S9d=function(a){if(""!==a)return a},T9d=function(a){const b=a.fullName,c=a.isV2Function()?164:76;return new _.fi(b,c,a.name,_.sQc(b))},U9d=function(a){switch(a){case "docker":return"DOCKER";case "maven":return"MAVEN";case "npm":return"NPM";case "python":return"PYTHON";case "apt":return"APT";case "yum":return"YUM";case "kfp":return"KFP"}},V9d=function(a){switch(a){case "DOCKER":return"docker";case "MAVEN":return"maven";
case "NPM":return"npm";case "PYTHON":return"python";case "APT":return"apt";case "YUM":return"yum";case "KFP":return"kfp";default:return"browse"}},W9d=function(a){return{format:U9d(a.format),projectId:a.projectId,locationName:a.locationName,repositoryName:a.repositoryName,packageName:a.packageName,versionName:a.versionName,tagName:a.tagName}},X9d=function(a,b){a=new Date(a.getTime());b=b[1].getTime()-b[0].getTime();1E4<b&&a.setMilliseconds(0);6E5<b&&a.setSeconds(0);864E5<b&&a.setMinutes(0);864E6<b&&
a.setHours(0);return a},Y9d=function(a,b){return Object.assign({},{kind:"listPartialApiError",successfulEntities:a,getErrors:b},{errorExperience:1})},Z9d=function(a){return Object.assign({},{kind:"listFullApiError"},a)},$9d=function(a,b){return Object.assign({},{kind:"getApiError",entityName:b},a)},a$d=function(a){switch(a.kind){case "iamPolicy":return a.member;case "lateralMove":return a.impersonationPolicyBinding.member;default:_.Wb(a,`Invalid binding insight: ${a}`)}},b$d=function(a){switch(a.kind){case "iamPolicy":return a.roleName;
case "lateralMove":return a.impersonationPolicyBinding.roleName;default:_.Wb(a,`Invalid binding insight: ${a}`)}},c$d=function(a){let b=0;const c=new Set;for(const d of a)"ACTIVE"===d.state&&(b++,c.add(d.kind));return{activeInsightCount:b,activeInsightTypes:c}},d$d=function(a){let b=0;const c=new Set;for(const d of a){b+=d.activeInsightCount;for(const e of d.activeInsightTypes)c.add(e)}return{activeInsightCount:b,activeInsightTypes:c}},e$d=function(a){return a.impersonationPermissionUsages.map(b=>
b.lastUsedTime).filter(_.hi).sort((b,c)=>(new Date(c)).getTime()-(new Date(b)).getTime())[0]},f$d=function(a){let b,c;return{name:a.name,description:a.description,lastRefreshTime:a.lastRefreshTime,lastModifiedUser:a.lastModifiedUser,userLastUpdateTime:a.userLastUpdateTime,severity:a.severity,category:a.category,state:a.stateInfo.state,observationPeriod:a.observationPeriod,targetFullResourceNames:a.targetResources,associatedRecommendationNames:null!=(c=null==(b=a.associatedRecommendations)?void 0:
b.map(d=>d.recommendation))?c:[]}},g$d=function(a){const b=a.content,c=b.role,d=b.member,e=b.currentTotalPermissionsCount;let f,g,h,l;a=Object.assign({},f$d(a),{kind:"iamPolicy",roleName:c,member:d,currentTotalPermissionsCount:e,exercisedPermissions:null!=(h=null==(f=b.exercisedPermissions)?void 0:f.map(n=>n.permission))?h:[],inferredPermissions:null!=(l=null==(g=b.inferredPermissions)?void 0:g.map(n=>n.permission))?l:[]});b.condition&&!L9d(b.condition)&&(a.condition=b.condition);return a},h$d=function(a){var b=
a.content;const c={emailAddress:b.impersonator.serviceAccount,ownerFullResourceName:b.impersonator.serviceAccountOwner,isGoogleManaged:b.impersonator.isGoogleManaged},d={fullResourceName:b.impersonationPolicy.resource,roleName:b.impersonationPolicy.role,member:b.impersonationPolicy.member};b.impersonationPolicy.condition&&!L9d(b.impersonationPolicy.condition)&&(d.condition=b.impersonationPolicy.condition);const e=b.targetServiceAccounts;b=b.impersonationPermissionUsage;return Object.assign({},f$d(a),
{kind:"lateralMove",impersonationPermissionUsages:b,targetServiceAccountEmailAddresses:e,impersonatingServiceAccount:c,impersonationPolicyBinding:d})},i$d=function(a){const b=a.getResourceId();switch(a.getResourceType()){case 0:return`projects/${b}`;case 2:return`organizations/${b}`;case 43:return`folders/${b}`}},j$d=function(a){a=a.justification;return{policyLastUpdateTime:a.policyLastUpdateTime,accessObservationStartTime:a.accessObservationStartTime,accessObservationEndTime:a.accessObservationEndTime}},
k$d=function(a){a=a.justification;return{currentTotalPermissionsCount:a.currentTotalPermissionsCount,recommendedTotalPermissionsCount:a.recommendedTotalPermissionsCount,usedPermissionsCount:a.usedPermissionsCount,sampledUsedPermissions:a.sampledUsedPermissions||[],inferredPermissions:a.inferredPermissions||[]}},m$d=function(a,b,c){if(1===b.operationGroups.length){var d=b.operationGroups[0].operations;if(0!==d.length){var e=d.map(B=>B.value||B.pathFilters["/iamPolicy/bindings/*/members/*"]).filter(B=>
!!B);if(!(1<(new Set(e)).size)){var [f,g]=e[0].split(":");e=d.filter(B=>"remove"===B.action);if(1===e.length&&(e=e[0].pathFilters["/iamPolicy/bindings/*/role"],d=d.filter(B=>"add"===B.action).map(B=>B.pathFilters["/iamPolicy/bindings/*/role"]),d.every(B=>!!B))){var h=0<d.length?"NEW_ROLE":"INACTIVE",l="REPLACE_ROLE_CUSTOMIZABLE"===a.recommenderSubtype,n=j$d(b);b=k$d(b);var r=a.stateInfo,v=r.stateMetadata,w=v&&v.google_created_custom_role_name,y;return{resourceName:c,state:r.state,reverted:!(!v||!v.reverted),
lastModifiedUser:a.lastModifiedUser,userLastUpdateTime:a.userLastUpdateTime,name:a.name,id:a.name.split("/").slice(2).join("/"),etag:a.etag,associatedInsightNames:l$d(a),priority:null!=(y=a.priority)?y:"PRIORITY_UNSPECIFIED",properties:{recommendationType:h,recommendedRoles:w?[w]:d,currentRole:e,allowCreateCustomRole:l,createdCustomRole:!!w,userType:f,userId:g,metadata:n,justification:b}}}}}}},n$d=function(a,b){var c=a.content;const d=b.getFullResourcePath();if(a.originalContent&&a.originalContent.bindingTuple){var e=
a.originalContent,f=e.bindingTuple.member;b=f.split(":")[1];f=f.split(":")[0];e=e.bindingTuple.role;const g=j$d(c);c=k$d(c);const h=a.stateInfo,l=h.stateMetadata;let n;a={resourceName:d,state:h.state,reverted:!(!l||!l.reverted),name:a.name,id:a.name.split("/").slice(2).join("/"),etag:a.etag,googleServiceAccount:!!a.description&&a.description.startsWith("This is a Google managed service account"),associatedInsightNames:l$d(a),priority:null!=(n=a.priority)?n:"PRIORITY_UNSPECIFIED",properties:{recommendationType:"OK",
currentRole:e,userType:f,userId:b,metadata:g,justification:c}}}else a=m$d(a,c,d);return a},o$d=function(a){return a.associatedInsightNames.find(b=>b.includes("google.iam.policy.LateralMovementInsight"))},l$d=function(a){let b,c;return null!=(c=null==(b=a.associatedInsights)?void 0:b.map(d=>d.insight))?c:[]},q$d=function(a,b=!1){return _.qe(a).pipe(_.U(c=>{const d=[];let e=[];for(const f of c)"Left"===f.tag?d.push(f.left):e.push(f.right);e=b?e.filter(f=>p$d.includes(f.state)):e;return 0<d.length?{tag:"Left",
left:Y9d(e,d)}:m5(e)}))},u$d=function(a){const b=a.values;b.sort((n,r)=>n.x-r.x);const c=b.map(n=>n.x),d=b.map(n=>n.y),e=a.earcons||[];e.sort((n,r)=>n.x-r.x);var f=e.map(n=>n.x);let g;f=r$d([...c,...f],null!=(g=a.xAxis)?g:{});let h,l;return{values:b,earcons:e,xAxis:Object.assign({},f,{density:null!=(l=null==(h=a.xAxis)?void 0:h.density)?l:s$d([c,...t$d(e).values()],f)}),yAxis:Object.assign({},r$d(d,a.yAxis||{}))}},t$d=function(a){const b=new Map;for(const {x:c,earcon:d}of a)a=b.get(d),void 0===a?
b.set(d,[c]):a.push(c);return b},s$d=function(a,b){a=a.map(v$d).filter(c=>null!==c);if(0===a.length)return 1;a=Math.min(...a);return 1+(b.max-b.min)/a},v$d=function(a){a=[...(new Set(a))];if(2>a.length)return null;const b=[];a.sort((c,d)=>c-d);for(let c=0;c<a.length-1;c++)b.push(a[c+1]-a[c]);b.sort((c,d)=>c-d);a=(b.length-1)/2;return b[Math.ceil(a)]/2+b[Math.floor(a)]/2},r$d=function(a,b){const c=b.min;b=b.max;const d=Math.min(...a);a=Math.max(...a);return{min:void 0===c?d:c,max:void 0===b?a:b}},
w$d=function(a,b,c,d,e){return c+(e-a)*(c-d)/(a-b)},x$d=function(a){const b=a.min,c=a.max,d=c===b?()=>-6:e=>w$d(b,c,-24,12,e);return e=>440*Math.pow(2,d(e)/12)},A$d=function(a){const b=y$d(a.xAxis),c=z$d(a.xAxis),d=x$d(a.yAxis),e=a.values.map(({x:g,y:h})=>({frequency:d(h),onset:c(g),pan:b(g)})),f=a.earcons.map(({x:g,earcon:h})=>({earcon:h,onset:c(g),pan:b(g)}));return{notes:e,earcons:f,durationSeconds:.13*(a.xAxis.density-1)}},z$d=function(a){const b=a.min,c=a.max,d=.13*(a.density-1);return b===c?
()=>0:e=>w$d(b,c,0,d,e)},y$d=function(a){const b=a.min,c=a.max;return b===c?()=>0:d=>w$d(b,c,-1,1,d)},C$d=function(a){var b=B$d;return _.ne(function*(){const c=w9d(b);yield a.audioWorklet.addModule(c.toString());URL.revokeObjectURL(c.toString())})},D$d=function(a){return _.ne(function*(){var b=a.context,c=b.createBuffer(1,5*b.sampleRate,b.sampleRate);for(var d=0;1>d;d++){var e=c.getChannelData(d),f=0;for(let g=0;g<e.length;g++)f=(f+.02*(2*Math.random()-1))/1.02,e[g]=f}e=b.createBufferSource();e.buffer=
c;e.loop=!0;e.start(b.currentTime);c=b.createGain();c.gain.value=0;d=b.createGain();e.connect(c).connect(d);yield C$d(b);e=new AudioWorkletNode(b,"rectifier-worklet");e.channelCountMode="explicit";e.channelCount=1;f=new AudioWorkletNode(b,"threshold-worklet");f.channelCountMode="explicit";f.channelCount=1;b=new AudioWorkletNode(b,"slew-worklet");b.channelCountMode="explicit";b.channelCount=1;a.connect(e).connect(f).connect(b).connect(c.gain);return d})},E$d=function(a){return a.data.map(b=>({x:b.x.getTime(),
y:b.y}))},F$d=function(a,b,c,d){b=b.map(E$d).map(e=>s$d([e.map(f=>f.x)],{min:c.min.getTime(),max:c.max.getTime()}));b=Math.max(...b);return{values:E$d(a),xAxis:{min:c.min.getTime(),max:c.max.getTime(),density:b},yAxis:d}},n5=function(a){const b=_.KN(a);a.params&&(b.params=_.KN(a.params),b.params.clientRequestId=_.qm());a.headers&&(b.headers=_.KN(a.headers));return b},G$d=function(a,b){const c=b+"-";return a.filter(d=>0===d.indexOf(c)).map(d=>d.substring(c.length))},o5=function(a,b){a=G$d(a,b);1<a.length&&
console.warn("more than one "+b+"-... whitelist");if(0===a.length)return null;b=a.map(c=>Number(c));b.sort((c,d)=>c-d);return b[0]},S$d=function(a){var b=!1;let c=!1,d=!1,e=!1,f=!1,g=!1,h=!1,l=!1,n=!1,r=!1,v=!1,w=null,y=null,B=null,G=0,O=!1,T=!1;var J=-1!=a.whitelistedKeys.indexOf("chart-panning-interactions")&&-1!=a.whitelistedKeys.indexOf("chart-translated-dashboard");if("PAN"===a.cause&&J)return new H$d;if("ZOOM"===a.cause&&J)return new I$d;if(a.whitelistedKeys&&a.whitelistedKeys.length){J=G$d(a.whitelistedKeys,
"chart-single");if(1<J.length)throw Error("Sk");if(1===J.length)switch(J[0]){case "adaptive":f=!0;break;case "pan":g=!0;break;case "zoom":h=!0;break;case "lookahead":l=!0;break;case "smart":n=!0;break;case "batch":r=!0}var R=o5(a.whitelistedKeys,"chart-single-throttle");null!==R&&(e=!0,y=R);R=o5(a.whitelistedKeys,"chart-single-streaming");null!==R&&(c=!0,G=R);R=o5(a.whitelistedKeys,"chart-single-parallel");null!==R&&(d=!0,G=R);R=o5(a.whitelistedKeys,"chart-streaming");null!==R&&(O=b=!0,T=!1,B=R);
R=o5(a.whitelistedKeys,"chart-parallel");null!==R&&(T=b=!0,O=!1,B=R);R=o5(a.whitelistedKeys,"chart-throttle");null!==R&&(b=!0,w=R);-1!=a.whitelistedKeys.indexOf("chart-adaptive")&&(v=b=!0);var ra=o5(a.whitelistedKeys,"chart-performance");const Ba=-1!=a.whitelistedKeys.indexOf("chart-rollout-performance");R=o5(a.whitelistedKeys,"chart-webworkers-throttle");null!==ra&&Ba&&(w=null!==R?R:0,T=!0,v=!1,b=!0,B=ra);ra=o5(a.whitelistedKeys,"chart-override-performance");null!==ra&&(w=null!==R?R:0,T=!0,v=!1,
b=!0,B=ra);0<B&&100>B&&(v=!1);B||(B=100);J.length&&(console.warn(J[0]+" is overriding"),b=!1);if(b){if(O)return b=new J$d(B,v,w),b.setPurpose(a.purpose),b;if(T)return b=new K$d(B,v,w),b.setPurpose(a.purpose),b;b=new J$d(B,v,w);b.setPurpose(a.purpose);return b}if(c)return new L$d(G);if(d)return new M$d(G);if(f)return new N$d;if(e)return new O$d(y);if(g)return new H$d;if(h)return new I$d;if(l)return new P$d;if(n)return new Q$d;if(r)return new R$d}},T$d=function(a){return b=>Object.assign({},b,{labelType:a})},
U$d=function(a){const b=[];var c=a.metricType;a=a.resourceType;if(c){const d=_.hO.getMetricDescriptor(c);c=d?_.S(d):_.re(_.hO.getMetricDescriptorPromise(c));b.push(c.pipe(_.yf([]),_.U(T$d("metric"))))}a&&(a=(c=_.hO.getResourceDescriptor(a))?_.S(c):_.re(_.hO.getResourceDescriptorPromise(a)),b.push(a.pipe(_.yf([]),_.U(T$d("resource")))));return b},V$d=function(a){return a.filter((b,c,d)=>d.findIndex(e=>b.equals(e))===c)},W$d=function([a,b],c){c=c.getTime();return a.getTime()<=c&&b.getTime()>=c},X$d=
function([a,b],[c,d]){return a.getTime()===c.getTime()&&b.getTime()===d.getTime()},Y$d=function(a){return a?Array.isArray(a)?!!a.length:!0:!1},Z$d=function(a){return{selected:a.pipe(_.zf(b=>b.selected)),hover:a.pipe(_.zf(b=>b.hover)),x:a.pipe(_.zf(b=>b.x)),y:a.pipe(_.zf(b=>b.y))}},$$d=function(a,b){return a[1]>=b[0]&&b[1]>=a[0]},aae=function(a,b){return b[0]>=a[0]&&b[1]<=a[1]},bae=function(a){if(1>=a.length)return a;const b=[];var c=[-1,-1];a=a.sort((d,e)=>+d[0]-+e[0]);b.push(a[0]);for(let d=1;d<
a.length;d++)c=b[b.length-1],c[1]<a[d][0]?b.push(a[d]):c[1]<a[d][1]&&(c=[c[0],a[d][1]],b.pop(),b.push(c));for(;a.length;)a.pop();for(;b.length;)(c=b.pop())&&a.unshift(c);return a},cae=function(a,b){const c=[];if((null==a?0:a.incompleteCloudRegions)&&b&&b[0]){a=a.incompleteCloudRegions;for(const d of a){let e;a=null==(e=d.retriableErrorFreeTimeInterval)?void 0:e.startTime;let f;if(d.cloudRegion&&a&&(null==(f=d.incompleteReasons)?0:f.length)){a=(new Date(a)).valueOf();const g=(new Date(b[0])).valueOf();
a>g&&c.push({cloudRegion:d.cloudRegion,incompleteInterval:{startTime:new Date(g),endTime:new Date(a)},incompleteReasons:d.incompleteReasons})}}}return c},dae=function(a,b){let c=null!=a?a:[];if(null==b?0:b.length){a=(null!=b?b:[]).concat(null!=a?a:[]);a.sort((d,e)=>d.incompleteInterval.startTime.valueOf()-e.incompleteInterval.startTime.valueOf());c=[];for(const d of a)a=c.findIndex(e=>e.cloudRegion===d.cloudRegion&&$$d([e.incompleteInterval.startTime.valueOf(),e.incompleteInterval.endTime.valueOf()],
[d.incompleteInterval.startTime.valueOf(),d.incompleteInterval.endTime.valueOf()])&&e.incompleteReasons.length===d.incompleteReasons.length&&e.incompleteReasons.every(f=>d.incompleteReasons.includes(f))),b=c[a],-1<a&&b?c[a]=Object.assign({},b,{incompleteInterval:{startTime:new Date(Math.min(d.incompleteInterval.startTime.valueOf(),d.incompleteInterval.endTime.valueOf(),b.incompleteInterval.startTime.valueOf(),b.incompleteInterval.endTime.valueOf())),endTime:new Date(Math.max(d.incompleteInterval.startTime.valueOf(),
d.incompleteInterval.endTime.valueOf(),b.incompleteInterval.startTime.valueOf(),b.incompleteInterval.endTime.valueOf()))}}):c.push(d)}return c},hae=function(){eae||(eae=new fae,gae(eae))},jae=function(a){a=iae(a);if("select_slo_compliance"===a.tssFunction)return{slo:a.args[0]}},kae=function(a){a=iae(a);if("select_slo_health"===a.tssFunction)return{slo:a.args[0]}},lae=function(a){a=iae(a);if("select_slo_budget"===a.tssFunction)return{slo:a.args[0]}},mae=function(a){a=iae(a);if("select_slo_budget_fraction"===
a.tssFunction)return{slo:a.args[0]}},oae=function(a){a=iae(a);if("select_slo_recent_loss"===a.tssFunction)return{slo:a.args[0],lookbackInMinutes:nae(a.args[1])}},pae=function(a){a=iae(a);if("select_slo_burn_rate"===a.tssFunction)return{slo:a.args[0],lookbackInMinutes:nae(a.args[1])}},iae=function(a){const b=a.replace(/^(select_[A-z_]+)\(.*/,"$1");a=a.replace(/^select_[A-z_]+\((.*)\)/,"$1").split(/,\s?/).map(c=>c.replace(/["'](.*)["']/,"$1"));return{tssFunction:b,args:a}},nae=function(a){a=a.match(qae);
if(null==a)return 0;a={sign:a[1],h:a[2],m:a[4],s:a[6],ms:a[8],us:a[10],ns:a[12]};let b=Object.entries(a).map(([c,d])=>"sign"===c?0:Number((d||"0").replace(/[A-z]+/,""))*rae[c]).reduce((c,d)=>c+d,0);"-"===a.sign&&(b*=-1);return b},sae=function(a){return a.map(b=>{var c=b.locator;const d=c?c.startPosition:null;c=c?c.endPosition:null;return{message:b.message,startLine:Math.max(d?d.line-1:0,0),startCol:Math.max(d?d.column-1:0,0),endLine:Math.max(c?c.line-1:0,0),endCol:Math.max(c?c.column-1:0,0)}})},tae=
function(){return{series:[],unit:null,empty:"empty"}},uae=function(a){return-1===a.search("| graph_window")?a:a.split("| graph_window")[0]},xae=function(a,b){const c=tae();return a?a.response?vae(a,b):a.aggregatedGrpcResponse?wae(a,b):c:c},vae=function(a,b){const c=tae();var d=a.response;if(!d)return c;d.nextPageToken&&(c.nextPageToken=d.nextPageToken);d.partialErrors&&(c.partialErrors=d.partialErrors);var e=cae(d.queryDataQuality,a.tileDomain);e.length&&(c.incompleteCloudRegions=e);var f=d.timeSeriesDescriptor;
if(!f)return c;e=f.labelDescriptors;let g=[""];e&&0<e.length&&(g=e.map(G=>G.key));let h=0;var l=f.valueDescriptors;if(!l)return c;f=!1;3===(null==l?void 0:l.length)&&0<=l[0].key.indexOf(".min")&&0<=l[1].key.indexOf(".mean")&&0<=l[2].key.indexOf(".max")&&(h=1,f=!0);var n=l[h];if(!n)return c;l=yae(n.valueType);const r=zae(n.metricKind),v=Aae(n.valueType);var w;n=null!=(w=n.unit)?w:null;d=d.timeSeriesData;for(const G of d){d=G.labelValues;var y=[""];d&&0<d.length&&(y=d.map(O=>O.stringValue?O.stringValue:
O.boolValue?String(O.boolValue):O.int64Value?String(O.int64Value):""));d=uae(a.originalQueryText||"");e&&0<e.length&&(d=Bae(g,y));w=btoa(encodeURIComponent(d));e&&0<e.length&&(w=d);y={labels:Cae(g,y),kind:r,valueType:l,name:d};if("NUMERIC"===v){var B=Dae("NUMERIC",G.pointData,h,f,b);c.series.push({name:d,id:w,metadata:y,data:B,hasMinMaxTuple:f,value_type:v})}else if("DISTRIBUTION"===v)B=Dae("DISTRIBUTION",G.pointData,h,!1,b),c.series.push({name:d,id:w,metadata:y,data:B,value_type:v});else throw Error("cl`"+
v);c.empty="data";c.unit=n}return c},Dae=function(a,b,c,d,e){b=b.map(f=>{const g=new Date(f.timeInterval.endTime);let h=new Date(f.timeInterval.startTime);g.getTime()===h.getTime()&&(h=new Date(g.getTime()-(e||0)));var l=f.values[c];if("NUMERIC"===a){l=Eae(l);if(d){var n=f.values[2];f=Eae(f.values[0]);n=Eae(n);return{min:f,max:n,x:g,x0:h,y:l}}return{x:g,x0:h,y:l}}if("DISTRIBUTION"===a){if(l.distributionValue)l=l.distributionValue;else throw Error("el`"+l);l=Fae(l);return{x:g,x0:h,y:l}}throw Error("cl`"+
a);});if("NUMERIC"===a||"DISTRIBUTION"===a)return b;throw Error("cl`"+a);},Fae=function(a){return{bucketCounts:(a.bucketCounts||[]).map(b=>Number(b)),count:Number(a.count),mean:a.mean,sumOfSquaredDeviation:a.sumOfSquaredDeviation,range:a.range,bucketOptions:a.bucketOptions,exemplars:a.exemplars}},Bae=function(a,b){return a.map((c,d)=>`${c}=${b[d]}`).join(", ")},Cae=function(a,b){const c={};for(let d=0;d<a.length;d++)c[a[d]]=b[d];return c},Eae=function(a){if(a.doubleValue||0===a.doubleValue)return a.doubleValue;
if(a.int64Value)return Number(a.int64Value);throw Error("dl`"+a);},Aae=function(a){switch(a){case "DOUBLE":case "INT64":return"NUMERIC";case "DISTRIBUTION":return"DISTRIBUTION";default:throw Error("fl`"+a);}},zae=function(a){if(["GAUGE","DELTA","CUMULATIVE"].includes(a))return a;throw Error("gl`"+a);},yae=function(a){if(["DOUBLE","INT64","DISTRIBUTION"].includes(a))return a;throw Error("fl`"+a);},wae=function(a,b){const c=tae(),d=a.aggregatedGrpcResponse;if(!d||!d.length)return c;var e=d[0];if(!(e instanceof
Gae))return c;e=_.kb(e,Hae,101).getTimeSeriesDescriptor();const f=_.jb(e,Iae,1),g=0===f.length?[""]:f.map(w=>w.getKey());let h=0;e=_.jb(e,Jae,2);let l=!1;3===e.length&&0<=e[0].getKey().indexOf(".min")&&0<=e[1].getKey().indexOf(".mean")&&0<=e[2].getKey().indexOf(".max")&&(h=1,l=!0);e=e[h];const n=Kae(e.getValueType()),r=Lae(e.getMetricKind()),v=Mae(e.getValueType());d.forEach(w=>{w=_.kb(w,Hae,101).getTimeSeriesDataList();for(const G of w){w=_.jb(G,Nae,1);var y=0===w.length?[""]:w.map(T=>T.hasStringValue()?
T.getStringValue():T.hasBoolValue()?String(T.getBoolValue()):T.hasInt64Value()?String(T.getInt64Value()):"");w=uae(a.originalQueryText||"");f&&0<f.length&&(w=Bae(g,y));let O=btoa(encodeURIComponent(w));f&&0<f.length&&(O=w);y={labels:Cae(g,y),kind:r,valueType:n,name:w};if("NUMERIC"===v){var B=Oae(_.jb(G,Pae,2),h,l,b);c.series.push({name:w,id:O,metadata:y,data:B,hasMinMaxTuple:l,value_type:v})}else if("DISTRIBUTION"===v)B=Qae(_.jb(G,Pae,2),h,b),c.series.push({name:w,id:O,metadata:y,data:B,value_type:v});
else throw Error("cl`"+v);c.empty="data"}});return c},Uae=function(a,b,c,d,e){b=b.map(f=>{var g=_.kb(f,p5,2).getStartTime();const h=_.RS(_.kb(f,p5,2).getEndTime());g=_.RS(g);h.getTime()===g.getTime()&&(g=new Date(h.getTime()-(e||0)));var l=f.getValuesList()[c];if("NUMERIC"===a){l=Rae(l);if(d){var n=f.getValuesList()[0];f=f.getValuesList()[2];n=Rae(n);f=Rae(f);return{min:n,max:f,x:h,x0:g,y:l}}return{x:h,x0:g,y:l}}if("DISTRIBUTION"===a){if(l.hasDistributionValue())l=_.si(l,Sae,5,q5);else throw Error("el`"+
l);l=Tae(l);return{x:h,x0:g,y:l}}throw Error("cl`"+a);});if("NUMERIC"===a||"DISTRIBUTION"===a)return b;throw Error("cl`"+a);},Tae=function(a){let b,c;return{bucketCounts:_.Za(a,7),count:a.getCount(),mean:_.dZ(a,2),sumOfSquaredDeviation:_.dZ(a,3),range:null==(b=a.getRange())?void 0:b.toObject(),bucketOptions:null==(c=a.getBucketOptions())?void 0:c.toObject(),exemplars:_.jb(a,Vae,10).map(d=>d.toObject())}},Oae=function(a,b,c,d){return Uae("NUMERIC",a,b,c,d)},Qae=function(a,b,c){return Uae("DISTRIBUTION",
a,b,!1,c)},Rae=function(a){if(a.hasDoubleValue())return a.getDoubleValue();if(a.hasInt64Value())return a.getInt64Value();throw Error("dl`"+a);},Mae=function(a){switch(a){case 3:case 2:return"NUMERIC";case 5:return"DISTRIBUTION";default:throw Error("fl`"+a);}},Lae=function(a){switch(a){case 1:return"GAUGE";case 2:return"DELTA";case 3:return"CUMULATIVE";default:throw Error("gl`"+a);}},Kae=function(a){switch(a){case 3:return"DOUBLE";case 2:return"INT64";case 5:return"DISTRIBUTION";default:throw Error("fl`"+
a);}},Wae=function(a=1){return(b,c)=>(a||1)*(b.name||b.theStream.name||"").localeCompare(c.name||c.theStream.name||"")},Xae=function(a,b=1){b=b||1;return(c,d)=>(b||1)*(c.labels&&c.labels[a]||"").localeCompare(d.labels&&d.labels[a]||"")},Yae=function(a=1){const b=a||1;return(c,d)=>{c="undefined"!==typeof c.rawValue?+c.rawValue:-Infinity*b;d="undefined"!==typeof d.rawValue?+d.rawValue:-Infinity*b;return d>c?-1*b:d<c?b:0}},r5=function(a){return"number"===typeof a},Zae=function(a){a=a.data[0];return void 0===
a?!0:"number"===typeof a.y},$ae=function(a){a&1&&(_.E(0,"span",8),_.Q(1),_.F());a&2&&(a=_.N(),_.x(1),_.Ud(a.placeholder))},abe=function(a){a&1&&(_.E(0,"span",12),_.Q(1),_.F());a&2&&(a=_.N(2),_.x(1),_.Ud(a.triggerValue))},bbe=function(a){a&1&&_.Qd(0,0,["*ngSwitchCase","true"])},cbe=function(a){a&1&&(_.E(0,"span",9),_.P(1,abe,2,1,"span",10),_.P(2,bbe,1,0,"ng-content",11),_.F());a&2&&(a=_.N(),_.C("ngSwitch",!!a.customTrigger),_.x(2),_.C("ngSwitchCase",!0))},dbe=function(a){if(a&1){const b=_.Pc();_.E(0,
"div",13)(1,"div",14,15);_.L("@transformPanel.done",function(c){_.t(b);const d=_.N();return _.u(d._panelDoneAnimatingStream.next(c.toState))})("keydown",function(c){_.t(b);const d=_.N();return _.u(d._handleKeydown(c))});_.Qd(3,1);_.F()()}a&2&&(a=_.N(),_.C("@transformPanelWrap",void 0),_.x(1),_.tx("mat-select-panel ",a._getPanelTheme(),""),_.Ad("transform-origin",a._transformOrigin)("font-size",a._triggerFontSize,"px"),_.C("ngClass",a.panelClass)("@transformPanel",a.multiple?"showing-multiple":"showing"),
_.zd("id",a.id+"-panel")("aria-multiselectable",a.multiple)("aria-label",a.ariaLabel||null)("aria-labelledby",a._getPanelAriaLabelledby()))},ebe=function(a){a&1&&_.Fd(0)},fbe=function(a){a&1&&(_.E(0,"div"),_.P(1,ebe,1,0,"ng-container",28),_.F());a&2&&(a=_.N(),_.x(1),_.C("ngTemplateOutlet",a.placeholderTemplate))},gbe=function(a){a&1&&_.Q(0," Select a metric to start ")},hbe=function(a,b){return(new _.ji(a.replace(/'/g,"''"))).format(b)},ibe=function(a,b){a&1&&(_.Dd(0),_.E(1,"div",1)(2,"table")(3,
"thead")(4,"tr")(5,"td",2),_.Q(6),_.F()()(),_.E(7,"tbody",3)(8,"tr")(9,"td",4),_.Q(10,"URI: "),_.F(),_.E(11,"td",5),_.Q(12),_.F()(),_.E(13,"tr")(14,"td",4),_.Q(15,"Latency: "),_.F(),_.E(16,"td",5),_.Q(17),_.F()()()()(),_.Ed());a&2&&(a=b.ngIf,_.x(6),_.Sd(" ",a.time," "),_.x(6),_.Ud(a.name),_.x(5),_.Ud(a.duration))},jbe=function(a){return a===s5.NONE?null:a},kbe=function(a){if(a&1){const b=_.Pc();_.E(0,"span");_.Q(1);_.E(2,"a",19);_.L("click",function(){_.t(b);const c=_.N(3);return _.u(c.useMeanAggregationClicked.emit())});
_.Q(3);_.F()()}a&2&&(a=_.N(3),_.x(1),_.Sd(" ",a.messages.TOO_MANY_LINES_CONJUNCTION," "),_.x(2),_.Sd(" ",a.messages.TOO_MANY_LINES_MEAN_AGGREGATION_LINK," "))},nbe=function(a){if(a&1){const b=_.Pc();_.E(0,"span");_.Q(1);_.E(2,"a",19);_.L("click",function(){_.t(b);const c=_.N(2);return _.u(lbe(c))});_.Q(3);_.F();_.P(4,kbe,4,2,"span",5);_.F()}a&2&&(a=_.N(2),_.x(1),_.Sd(" ",a.messages.TOO_MANY_LINES_SUGGESTION_PREFIX," "),_.x(2),_.Sd(" ",a.messages.TOO_MANY_LINES_LINK," "),_.x(1),_.C("ngIf",mbe(a.dataLayerManager)))},
obe=function(a){a&1&&(_.E(0,"a",20),_.Q(1),_.F());a&2&&(a=_.N(2),_.x(1),_.Sd(" ",a.messages.TOO_MANY_LINES_LINK_MQL," "))},pbe=function(a){a&1&&(_.E(0,"div",15),_.I(1,"mat-icon",16),_.E(2,"span",17),_.Q(3),_.P(4,nbe,5,3,"span",5),_.P(5,obe,2,1,"a",18),_.F()());a&2&&(a=_.N(),_.x(3),_.Sd(" ",a.messages.TOO_MANY_LINES_QUESTION," "),_.x(1),_.C("ngIf",!a.tooManyLinesQnWarning),_.x(1),_.C("ngIf",a.tooManyLinesQnWarning))},qbe=function(a,b){a&1&&(_.E(0,"div",21),_.I(1,"mat-icon",22),_.E(2,"div",23),_.Q(3),
_.F()());a&2&&(a=b.$implicit,b=_.N(),_.x(3),_.Ud(b.messages.ERROR_PARTIAL_DATA+a.message))},rbe=function(a){if(a&1){const b=_.Pc();_.E(0,"div",24)(1,"ac-subtitle",25);_.L("drawn",function(){_.t(b);const c=_.N();return _.u(c.subtitlesDrawn.emit())});_.F()()}a&2&&(a=_.N(),_.x(1),_.C("dataLayerManager",a.dataLayerManager)("groupId",a.outlierGroupId)("groupNameLookupFunction",a.groupNameLookupFunction)("complexThreshold",a.complexThreshold)("unitFunction",a.unitFunction)("yManager",a.yManager)("basicMode",
a.basicMode)("showResponsive",a.showResponsiveSubtitles))},sbe=function(a){a&1&&(_.E(0,"div",26)(1,"span",27),_.I(2,"mat-icon",28),_.F(),_.E(3,"span",27),_.Q(4),_.F()());a&2&&(a=_.N(),_.x(4),_.Sd(" ",a.messages.DATA_LARGE,""))},tbe=function(a){a&1&&_.I(0,"ac-band",35);if(a&2){a=_.N().$implicit;const b=_.N(2);_.C("groupId",b.outlierGroupId)("dataLayerManager",a)("yManager",b.yManager)("yAxisScale",b.yAxisScale)("useLegacyCoreChart",b.useLegacyCoreChart)("height",b.height)("bandStyle",b.bandStyle)}},
wbe=function(a){a&1&&(_.E(0,"div",33),_.P(1,tbe,1,7,"ac-band",34),_.F());a&2&&(a=_.N(2),_.C("ngClass",_.Yd(2,ube,a.bandStyle&&a.bandStyle.bandOnTop)),_.x(1),_.C("ngIf",vbe(a)))},xbe=function(a,b){if(a&1){const c=_.Pc();_.E(0,"div",33)(1,"ac-band",36);_.L("bandChart",function(d){_.t(c);const e=_.N(2);return _.u(e.acSubcharts.push(d))});_.F()()}a&2&&(a=b.$implicit,b=_.N(2),_.C("ngClass",_.Yd(8,ube,b.bandStyle&&b.bandStyle.bandOnTop)),_.x(1),_.C("groupId",b.outlierGroupId)("dataLayerManager",a)("yManager",
b.yManager)("yAxisScale",b.yAxisScale)("height",b.height)("useLegacyCoreChart",b.useLegacyCoreChart)("bandStyle",b.bandStyle))},ybe=function(a,b){if(a&1){const c=_.Pc();_.E(0,"div",37)(1,"ac-circle",38);_.L("circleChart",function(d){_.t(c);const e=_.N(2);return _.u(e.acSubcharts.push(d))});_.F()()}a&2&&(a=b.$implicit,b=_.N(2),_.x(1),_.C("groupId",b.outlierGroupId)("dataLayerManager",a)("yManager",b.yManager)("yAxisScale",b.yAxisScale)("height",b.height)("circleStyle",b.circleStyle)("timePinEnabled",
!0))},zbe=function(a){a&1&&(_.E(0,"div",39),_.I(1,"ac-percentile",40),_.F());a&2&&(a=_.N(2),_.x(1),_.C("dataLayerManager",a.percentileDataLayerManager)("groupId",a.outlierGroupId)("yManager",a.yManager)("yAxisScale",a.yAxisScale)("height",a.height)("selectionSetSubject",a.state.selected))},Abe=function(a){if(a&1){const b=_.Pc();_.E(0,"div",41)(1,"ac-exemplars",42);_.L("proxyEvent",function(c){_.t(b);_.N(2).acChart.trigger(c);return _.u()})("traceSelected",function(c){_.t(b);_.N(2).traceSelected.emit(c);
return _.u()});_.F()()}a&2&&(a=_.N(2),_.x(1),_.C("dataLayerManager",a.exemplarsDataLayerManager)("groupId",a.outlierGroupId)("yManager",a.yManager)("yAxisScale",a.yAxisScale)("height",a.height)("hovercardComponent",a.exemplarsHovercard))},Cbe=function(a){a&1&&(_.Dd(0),_.P(1,wbe,2,4,"div",29),_.P(2,xbe,2,10,"div",29),_.P(3,ybe,2,7,"div",30),_.P(4,zbe,2,6,"div",31),_.P(5,Abe,2,6,"div",32),_.Ed());a&2&&(a=_.N(),_.x(1),_.C("ngForOf",a.outlierDataLayerManagers||_.Xd(5,Bbe)),_.x(1),_.C("ngForOf",a.optionalDataLayerManagers),
_.x(1),_.C("ngForOf",a.optionalCircleDataLayerManagers),_.x(1),_.C("ngIf",a.percentileDataLayerManager&&a.isWhitelisted("chart-percentiles")),_.x(1),_.C("ngIf",a.exemplarsDataLayerManager&&a.isWhitelisted("chart-percentiles")))},Dbe=function(a){a&1&&(_.I(0,"ac-audio-chart",43),_.Zd(1,"async"));a&2&&(a=_.N(),_.C("chartOptions",a.audioChartOptions)("session",a.audioChartsLocal)("axesDescription",a.a11yAxesDescription)("ngStyle",_.$d(1,4,a.a11yLeapfrogPositions[a.a11yLeapfrogLabelIds[a.a11yActiveLeapfrogIndex]])))},
Ebe=function(a,b){if(a&1){const c=_.Pc();_.E(0,"span",44,45);_.L("focus",function(d){_.t(c);const e=_.N();return _.u(t5(e,d,!0))})("blur",function(d){_.t(c);const e=_.N();return _.u(t5(e,d,!1))});_.Zd(2,"async");_.Zd(3,"async");_.Q(4);_.F()}a&2&&(a=b.$implicit,b=_.N(),_.C("id",a)("ngStyle",_.$d(2,4,b.a11yLeapfrogPositions[a])),_.zd("tabindex",b.a11yLeapfrogLabelIds[b.a11yActiveLeapfrogIndex]===a&&_.$d(3,6,b.timePinFocusable)?0:-1),_.x(4),_.Sd(" ",b.a11yLeapfrogTexts.get(a)," "))},Fbe=function(a){a&
1&&(_.E(0,"div",46)(1,"div",47),_.I(2,"ac-three-dot-loading-indicator",48),_.Q(3),_.F()());a&2&&(a=_.N(),_.x(3),_.Sd(" \u00a0 ",a.messages.LOADING," "))},Gbe=function(a){a&1&&(_.E(0,"div",49)(1,"div",47),_.I(2,"mat-icon",50)(3,"span",51),_.F()());a&2&&(a=_.N(),_.Bd("fatal",a.error.details.isFatal),_.C("id",a.a11yChartErrorId),_.x(1),_.Bd("y-axis-left","left"===a.yAxisPosition)("y-axis-right","right"===a.yAxisPosition),_.x(2),_.C("innerHTML",a.error.displayMessage,_.md))},Hbe=function(a){a&1&&(_.Dd(0),
_.E(1,"p"),_.Q(2),_.F(),_.Ed());a&2&&(a=_.N(2),_.x(2),_.Ud(a.a11yLegendPrefaceNoLines))},Ibe=function(a){a&1&&(_.Dd(0),_.K(1,53),_.Ed())},Jbe=function(a){a&1&&(_.Dd(0),_.Q(1),_.Zd(2,"async"),_.Ed());a&2&&(a=_.N().$implicit,_.x(1),_.Sd(" ",_.$d(2,1,a.displayValueStream)," "))},Kbe=function(a,b){a&1&&(_.E(0,"li"),_.Q(1),_.P(2,Ibe,2,0,"ng-container",5),_.P(3,Jbe,3,3,"ng-container",5),_.F());a&2&&(a=b.$implicit,_.x(1),_.Sd(" ",a.name||a.theStream.name,": "),_.x(1),_.C("ngIf",0===a.theStream.data.length),
_.x(1),_.C("ngIf",0!==a.theStream.data.length))},Lbe=function(a){a&1&&(_.Dd(0),_.E(1,"p"),_.Q(2),_.F(),_.E(3,"ol"),_.P(4,Kbe,4,3,"li",52),_.F(),_.Ed());if(a&2){a=_.N().ngIf;const b=_.N();_.x(2);_.Ud(b.a11yLegendPreface);_.x(2);_.C("ngForOf",a)}},Mbe=function(a,b){a&1&&(_.Dd(0),_.P(1,Hbe,3,1,"ng-container",5),_.P(2,Lbe,5,2,"ng-container",5),_.Ed());a&2&&(a=b.ngIf,_.x(1),_.C("ngIf",0===a.length),_.x(1),_.C("ngIf",0!==a.length))},Nbe=function(a){a&1&&_.I(0,"p");a&2&&(a=_.N(),_.zd("aria-labelledby",a.a11yChartErrorId))},
Tbe=function(a,b){a&1&&(_.E(0,"tr")(1,"td",5)(2,"span"),_.I(3,"i",6),_.F()(),_.E(4,"td",1),_.Q(5),_.F(),_.E(6,"td",1),_.Q(7),_.F(),_.E(8,"td",1),_.Q(9),_.F(),_.E(10,"td",1),_.Q(11),_.F()());a&2&&(a=b.$implicit,_.x(3),_.C("ngStyle",_.Yd(9,Obe,a.color)),_.x(1),_.C("ngClass",_.Xd(11,Pbe)),_.x(1),_.Ud(a.name),_.x(1),_.C("ngClass",_.Xd(12,Qbe)),_.x(1),_.Ud(a.value),_.x(1),_.C("ngClass",_.Xd(13,Rbe)),_.x(1),_.Sd("(",a.percent,")"),_.x(1),_.C("ngClass",_.Xd(14,Sbe)),_.x(1),_.Ud(a.yRange))},Vbe=function(a,
b){a&1&&(_.Dd(0),_.E(1,"div",1)(2,"table")(3,"thead")(4,"tr")(5,"td",2),_.Q(6),_.Zd(7,"async"),_.F()()(),_.E(8,"tbody",3),_.P(9,Tbe,12,15,"tr",4),_.F()()(),_.Ed());a&2&&(a=b.ngIf,b=_.N(),_.x(1),_.C("ngClass",_.Xd(5,Ube)),_.x(5),_.Sd(" ",_.$d(7,3,b.timeDisplay)," "),_.x(3),_.C("ngForOf",a))},Wbe=function(a){a&1&&(_.E(0,"td",7),_.Q(1),_.F());a&2&&(a=_.N().ngIf,_.x(1),_.Sd(" ",a.timeShiftedColumn," "))},Xbe=function(a){a&1&&(_.E(0,"td",8),_.Q(1),_.F());a&2&&(a=_.N().ngIf,_.x(1),_.Sd(" ",a.currentColumn,
" "))},Ybe=function(a,b){a&1&&(_.E(0,"tr")(1,"td",4),_.Q(2),_.F(),_.P(3,Wbe,2,1,"td",5),_.P(4,Xbe,2,1,"td",6),_.F());a&2&&(a=b.ngIf,_.x(2),_.Sd(" ",a.timeDisplay," "),_.x(1),_.C("ngIf",a.timeShiftedColumn),_.x(1),_.C("ngIf",a.currentColumn))},$be=function(a){a&1&&(_.E(0,"td",1),_.Q(1),_.F());a&2&&(a=_.N().$implicit,_.C("ngClass",_.Yd(2,Zbe,a.styleClass)),_.x(1),_.Sd(" ",a.timeShiftedValue," "))},bce=function(a){a&1&&(_.E(0,"td",1),_.Q(1),_.F());a&2&&(a=_.N().$implicit,_.C("ngClass",_.Yd(2,ace,a.styleClass)),
_.x(1),_.Sd(" ",a.value," "))},cce=function(a){a&1&&(_.E(0,"td",1),_.Q(1),_.I(2,"br"),_.Q(3),_.I(4,"br"),_.Q(5),_.F());a&2&&(a=_.N().$implicit,_.C("ngClass",_.Yd(4,ace,a.styleClass)),_.x(1),_.Sd(" max: ",a.maxValue," "),_.x(2),_.Sd(" mean: ",a.value," "),_.x(2),_.Sd(" min: ",a.minValue," "))},fce=function(a,b){a&1&&(_.E(0,"tr")(1,"td",9)(2,"span"),_.I(3,"i",10),_.F()(),_.E(4,"td",1),_.Q(5),_.F(),_.P(6,$be,2,4,"td",11),_.P(7,bce,2,4,"td",11),_.P(8,cce,6,6,"td",11),_.F());a&2&&(a=b.$implicit,_.x(3),
_.C("ngStyle",_.Yd(6,dce,a.color)),_.x(1),_.C("ngClass",_.Yd(8,ece,a.styleClass)),_.x(1),_.Sd(" ",a.name," "),_.x(1),_.C("ngIf",a.timeShiftedValue),_.x(1),_.C("ngIf",!a.minValue),_.x(1),_.C("ngIf",a.minValue))},hce=function(a,b){a&1&&(_.Dd(0),_.E(1,"div",1)(2,"table")(3,"thead"),_.P(4,Ybe,5,3,"tr",0),_.Zd(5,"async"),_.F(),_.E(6,"tbody",2),_.P(7,fce,9,10,"tr",3),_.F()()(),_.Ed());a&2&&(a=b.ngIf,b=_.N(),_.x(1),_.C("ngClass",_.Yd(5,gce,!a.length)),_.x(3),_.C("ngIf",_.$d(5,3,b.headers)),_.x(3),_.C("ngForOf",
a))},ice=function(a){a&1&&(_.E(0,"td",13),_.Q(1),_.F());a&2&&(a=_.N().ngIf,_.x(1),_.Sd(" ",a.timeShiftedColumn," "))},jce=function(a){a&1&&(_.E(0,"td",14),_.Q(1),_.F());a&2&&(a=_.N().ngIf,_.x(1),_.Sd(" ",a.currentColumn," "))},kce=function(a,b){a&1&&(_.E(0,"tr")(1,"td",10),_.Q(2),_.F(),_.P(3,ice,2,1,"td",11),_.P(4,jce,2,1,"td",12),_.F());a&2&&(a=b.ngIf,_.x(2),_.Sd(" ",a.timeDisplay," "),_.x(1),_.C("ngIf",a.timeShiftedColumn),_.x(1),_.C("ngIf",a.currentColumn))},lce=function(a){a&1&&(_.E(0,"tr")(1,
"td",15),_.Q(2,"SELECTED LINES"),_.F()())},nce=function(a){a&1&&(_.E(0,"td",1),_.Q(1),_.F());a&2&&(a=_.N().$implicit,_.C("ngClass",_.Yd(2,mce,a.styleClass)),_.x(1),_.Sd(" ",a.timeShiftedValue," "))},pce=function(a){a&1&&(_.E(0,"td",1),_.Q(1),_.F());a&2&&(a=_.N().$implicit,_.C("ngClass",_.Yd(2,oce,a.styleClass)),_.x(1),_.Sd(" ",a.value," "))},rce=function(a){a&1&&(_.E(0,"td",1),_.Q(1),_.I(2,"br"),_.Q(3),_.I(4,"br"),_.Q(5),_.F());a&2&&(a=_.N().$implicit,_.C("ngClass",_.Yd(4,qce,a.styleClass)),_.x(1),
_.Sd(" max: ",a.maxValue," "),_.x(2),_.Sd(" mean: ",a.value," "),_.x(2),_.Sd(" min: ",a.minValue," "))},uce=function(a,b){a&1&&(_.E(0,"tr")(1,"td",5)(2,"span"),_.I(3,"i",6),_.F()(),_.E(4,"td",1)(5,"div"),_.Q(6),_.F()(),_.P(7,nce,2,4,"td",16),_.P(8,pce,2,4,"td",16),_.P(9,rce,6,6,"td",16),_.F());a&2&&(a=b.$implicit,_.x(3),_.C("ngStyle",_.Yd(6,sce,a.color)),_.x(1),_.C("ngClass",_.Yd(8,tce,a.styleClass)),_.x(2),_.Sd(" ",a.name," "),_.x(1),_.C("ngIf",a.timeShiftedValue),_.x(1),_.C("ngIf",!a.minValue),
_.x(1),_.C("ngIf",a.minValue))},vce=function(a){a&1&&(_.E(0,"span"),_.Q(1," \u2014 "),_.F())},wce=function(a){a&1&&(_.E(0,"span"),_.Q(1),_.F());a&2&&(a=_.N(4),_.x(1),_.Sd(" ",a.linesAbove," lines above "))},xce=function(a){a&1&&(_.E(0,"tr")(1,"td",17),_.P(2,vce,2,0,"span",0),_.P(3,wce,2,1,"span",0),_.F()());a&2&&(a=_.N(3),_.x(2),_.C("ngIf",!a.linesAbove),_.x(1),_.C("ngIf",a.linesAbove))},yce=function(a){a&1&&(_.E(0,"td",1),_.Q(1),_.F());a&2&&(a=_.N().$implicit,_.C("ngClass",_.Yd(2,mce,a.styleClass)),
_.x(1),_.Sd(" ",a.timeShiftedValue," "))},zce=function(a){a&1&&(_.E(0,"td",1),_.Q(1),_.F());a&2&&(a=_.N().$implicit,_.C("ngClass",_.Yd(2,oce,a.styleClass)),_.x(1),_.Sd(" ",a.value," "))},Ace=function(a){a&1&&(_.E(0,"td",1),_.Q(1),_.I(2,"br"),_.Q(3),_.I(4,"br"),_.Q(5),_.F());a&2&&(a=_.N().$implicit,_.C("ngClass",_.Yd(4,oce,a.styleClass)),_.x(1),_.Sd(" max: ",a.maxValue," "),_.x(2),_.Sd(" mean: ",a.value," "),_.x(2),_.Sd(" min: ",a.minValue," "))},Cce=function(a,b){a&1&&(_.E(0,"tr")(1,"td",5)(2,"span"),
_.I(3,"i",6),_.F()(),_.E(4,"td",1)(5,"div",18),_.Q(6),_.F()(),_.P(7,yce,2,4,"td",16),_.P(8,zce,2,4,"td",16),_.P(9,Ace,6,6,"td",16),_.F());a&2&&(a=b.$implicit,b=_.N(3),_.x(3),_.C("ngStyle",_.Yd(7,sce,a.color)),_.x(1),_.C("ngClass",_.Yd(9,tce,a.styleClass)),_.x(1),_.C("ngStyle",_.Yd(11,Bce,b.minWidth+"px")),_.x(1),_.Sd(" ",a.name," "),_.x(1),_.C("ngIf",a.timeShiftedValue),_.x(1),_.C("ngIf",!a.minValue),_.x(1),_.C("ngIf",a.minValue))},Dce=function(a){a&1&&(_.E(0,"span"),_.Q(1," \u2014 "),_.F())},Ece=
function(a){a&1&&(_.E(0,"span"),_.Q(1),_.F());a&2&&(a=_.N(4),_.x(1),_.Sd(" ",a.linesBelow," lines below "))},Fce=function(a){a&1&&(_.E(0,"tr")(1,"td",19),_.P(2,Dce,2,0,"span",0),_.P(3,Ece,2,1,"span",0),_.F()());a&2&&(a=_.N(3),_.x(2),_.C("ngIf",!a.linesBelow),_.x(1),_.C("ngIf",a.linesBelow))},Mce=function(a,b){a&1&&(_.Dd(0),_.E(1,"div",1)(2,"table")(3,"thead"),_.P(4,kce,5,3,"tr",0),_.Zd(5,"async"),_.F(),_.E(6,"tbody",2),_.P(7,lce,3,0,"tr",0),_.P(8,uce,10,10,"tr",3),_.P(9,xce,4,2,"tr",0),_.E(10,"tr",
4)(11,"td",5)(12,"span"),_.I(13,"i",6),_.F()(),_.E(14,"td",1),_.I(15,"div",7,8),_.F(),_.E(17,"td",1),_.Q(18," 1.0 "),_.F()(),_.E(19,"tr",4)(20,"td",5)(21,"span"),_.I(22,"i",6),_.F()(),_.E(23,"td",1),_.I(24,"div",7,9),_.F(),_.E(26,"td",1),_.Q(27," 1.0 "),_.F()(),_.P(28,Cce,10,13,"tr",3),_.P(29,Fce,4,2,"tr",0),_.F()()(),_.Ed());if(a&2){a=b.ngIf;b=_.N().ngIf;const c=_.N();_.x(1);_.C("ngClass",_.Yd(15,Gce,!a.length));_.x(3);_.C("ngIf",_.$d(5,13,c.headers));_.x(3);_.C("ngIf",b.length);_.x(1);_.C("ngForOf",
b);_.x(1);_.C("ngIf",b.length||c.linesAbove||c.linesBelow);_.x(4);_.C("ngStyle",_.Xd(17,Hce));_.x(1);_.C("ngClass",_.Xd(18,Ice));_.x(3);_.C("ngClass",_.Xd(19,Jce));_.x(5);_.C("ngStyle",_.Xd(20,Hce));_.x(1);_.C("ngClass",_.Xd(21,Kce));_.x(3);_.C("ngClass",_.Xd(22,Lce));_.x(2);_.C("ngForOf",a);_.x(1);_.C("ngIf",c.linesAbove||c.linesBelow)}},Nce=function(a){a&1&&(_.Dd(0),_.P(1,Mce,30,23,"ng-container",0),_.Zd(2,"async"),_.Ed());a&2&&(a=_.N(),_.x(1),_.C("ngIf",_.$d(2,1,a.values)))},Oce=function(a){if(a&
1){const b=_.Pc();_.E(0,"span");_.Q(1);_.E(2,"a",19);_.L("click",function(){_.t(b);const c=_.N(3);return _.u(c.useMeanAggregationClicked.emit())});_.Q(3);_.F()()}a&2&&(a=_.N(3),_.x(1),_.Sd(" ",a.messages.TOO_MANY_LINES_CONJUNCTION," "),_.x(2),_.Sd(" ",a.messages.TOO_MANY_LINES_MEAN_AGGREGATION_LINK," "))},Pce=function(a){if(a&1){const b=_.Pc();_.E(0,"span");_.Q(1);_.E(2,"a",19);_.L("click",function(){_.t(b);const c=_.N(2);return _.u(lbe(c))});_.Q(3);_.F();_.P(4,Oce,4,2,"span",5);_.F()}a&2&&(a=_.N(2),
_.x(1),_.Sd(" ",a.messages.TOO_MANY_LINES_SUGGESTION_PREFIX," "),_.x(2),_.Sd(" ",a.messages.TOO_MANY_LINES_LINK," "),_.x(1),_.C("ngIf",mbe(a.dataLayerManager)))},Qce=function(a){a&1&&(_.E(0,"a",20),_.Q(1),_.F());a&2&&(a=_.N(2),_.x(1),_.Sd(" ",a.messages.TOO_MANY_LINES_LINK_MQL," "))},Rce=function(a){a&1&&(_.E(0,"div",15),_.I(1,"mat-icon",16),_.E(2,"span",17),_.Q(3),_.P(4,Pce,5,3,"span",5),_.P(5,Qce,2,1,"a",18),_.F()());a&2&&(a=_.N(),_.x(3),_.Sd(" ",a.messages.TOO_MANY_LINES_QUESTION," "),_.x(1),_.C("ngIf",
!a.tooManyLinesQnWarning),_.x(1),_.C("ngIf",a.tooManyLinesQnWarning))},Sce=function(a,b){a&1&&(_.E(0,"div",21),_.I(1,"mat-icon",22),_.E(2,"div",23),_.Q(3),_.F()());a&2&&(a=b.$implicit,b=_.N(),_.x(3),_.Ud(b.messages.ERROR_PARTIAL_DATA+a.message))},Tce=function(a){if(a&1){const b=_.Pc();_.E(0,"div",24)(1,"ac-subtitle",25);_.L("drawn",function(){_.t(b);const c=_.N();return _.u(c.subtitlesDrawn.emit())});_.F()()}a&2&&(a=_.N(),_.x(1),_.C("dataLayerManager",a.dataLayerManager)("groupId",a.outlierGroupId)("groupNameLookupFunction",
a.groupNameLookupFunction)("complexThreshold",a.complexThreshold)("unitFunction",a.unitFunction)("yManager",a.yManager)("basicMode",a.basicMode)("showResponsive",a.showResponsiveSubtitles))},Uce=function(a){a&1&&(_.E(0,"div",26)(1,"span",27),_.I(2,"mat-icon",28),_.F(),_.E(3,"span",27),_.Q(4),_.F()());a&2&&(a=_.N(),_.x(4),_.Sd(" ",a.messages.DATA_LARGE,""))},Vce=function(a){a&1&&_.I(0,"ac-band",35);if(a&2){a=_.N().$implicit;const b=_.N(2);_.C("groupId",b.outlierGroupId)("dataLayerManager",a)("yManager",
b.yManager)("yAxisScale",b.yAxisScale)("useLegacyCoreChart",b.useLegacyCoreChart)("height",b.height)("bandStyle",b.bandStyle)}},Xce=function(a){a&1&&(_.E(0,"div",33),_.P(1,Vce,1,7,"ac-band",34),_.F());a&2&&(a=_.N(2),_.C("ngClass",_.Yd(2,Wce,a.bandStyle&&a.bandStyle.bandOnTop)),_.x(1),_.C("ngIf",vbe(a)))},Yce=function(a,b){if(a&1){const c=_.Pc();_.E(0,"div",33)(1,"ac-band",36);_.L("bandChart",function(d){_.t(c);const e=_.N(2);return _.u(e.acSubcharts.push(d))});_.F()()}a&2&&(a=b.$implicit,b=_.N(2),
_.C("ngClass",_.Yd(8,Wce,b.bandStyle&&b.bandStyle.bandOnTop)),_.x(1),_.C("groupId",b.outlierGroupId)("dataLayerManager",a)("yManager",b.yManager)("yAxisScale",b.yAxisScale)("height",b.height)("useLegacyCoreChart",b.useLegacyCoreChart)("bandStyle",b.bandStyle))},Zce=function(a,b){if(a&1){const c=_.Pc();_.E(0,"div",37)(1,"ac-circle",38);_.L("circleChart",function(d){_.t(c);const e=_.N(2);return _.u(e.acSubcharts.push(d))});_.F()()}a&2&&(a=b.$implicit,b=_.N(2),_.x(1),_.C("groupId",b.outlierGroupId)("dataLayerManager",
a)("yManager",b.yManager)("yAxisScale",b.yAxisScale)("height",b.height)("circleStyle",b.circleStyle)("timePinEnabled",!0))},$ce=function(a){a&1&&(_.E(0,"div",39),_.I(1,"ac-percentile",40),_.F());a&2&&(a=_.N(2),_.x(1),_.C("dataLayerManager",a.percentileDataLayerManager)("groupId",a.outlierGroupId)("yManager",a.yManager)("yAxisScale",a.yAxisScale)("height",a.height)("selectionSetSubject",a.state.selected))},ade=function(a){if(a&1){const b=_.Pc();_.E(0,"div",41)(1,"ac-exemplars",42);_.L("proxyEvent",
function(c){_.t(b);_.N(2).acChart.trigger(c);return _.u()})("traceSelected",function(c){_.t(b);_.N(2).traceSelected.emit(c);return _.u()});_.F()()}a&2&&(a=_.N(2),_.x(1),_.C("dataLayerManager",a.exemplarsDataLayerManager)("groupId",a.outlierGroupId)("yManager",a.yManager)("yAxisScale",a.yAxisScale)("height",a.height)("hovercardComponent",a.exemplarsHovercard))},cde=function(a){a&1&&(_.Dd(0),_.P(1,Xce,2,4,"div",29),_.P(2,Yce,2,10,"div",29),_.P(3,Zce,2,7,"div",30),_.P(4,$ce,2,6,"div",31),_.P(5,ade,2,
6,"div",32),_.Ed());a&2&&(a=_.N(),_.x(1),_.C("ngForOf",a.outlierDataLayerManagers||_.Xd(5,bde)),_.x(1),_.C("ngForOf",a.optionalDataLayerManagers),_.x(1),_.C("ngForOf",a.optionalCircleDataLayerManagers),_.x(1),_.C("ngIf",a.percentileDataLayerManager&&a.isWhitelisted("chart-percentiles")),_.x(1),_.C("ngIf",a.exemplarsDataLayerManager&&a.isWhitelisted("chart-percentiles")))},dde=function(a){a&1&&(_.I(0,"ac-audio-chart",43),_.Zd(1,"async"));a&2&&(a=_.N(),_.C("chartOptions",a.audioChartOptions)("session",
a.audioChartsLocal)("axesDescription",a.a11yAxesDescription)("ngStyle",_.$d(1,4,a.a11yLeapfrogPositions[a.a11yLeapfrogLabelIds[a.a11yActiveLeapfrogIndex]])))},ede=function(a,b){if(a&1){const c=_.Pc();_.E(0,"span",44,45);_.L("focus",function(d){_.t(c);const e=_.N();return _.u(t5(e,d,!0))})("blur",function(d){_.t(c);const e=_.N();return _.u(t5(e,d,!1))});_.Zd(2,"async");_.Zd(3,"async");_.Q(4);_.F()}a&2&&(a=b.$implicit,b=_.N(),_.C("id",a)("ngStyle",_.$d(2,4,b.a11yLeapfrogPositions[a])),_.zd("tabindex",
b.a11yLeapfrogLabelIds[b.a11yActiveLeapfrogIndex]===a&&_.$d(3,6,b.timePinFocusable)?0:-1),_.x(4),_.Sd(" ",b.a11yLeapfrogTexts.get(a)," "))},fde=function(a){a&1&&(_.E(0,"div",46)(1,"div",47),_.I(2,"ac-three-dot-loading-indicator",48),_.Q(3),_.F()());a&2&&(a=_.N(),_.x(3),_.Sd(" \u00a0 ",a.messages.LOADING," "))},gde=function(a){a&1&&(_.E(0,"div",49)(1,"div",47),_.I(2,"mat-icon",50)(3,"span",51),_.F()());a&2&&(a=_.N(),_.Bd("fatal",a.error.details.isFatal),_.C("id",a.a11yChartErrorId),_.x(1),_.Bd("y-axis-left",
"left"===a.yAxisPosition)("y-axis-right","right"===a.yAxisPosition),_.x(2),_.C("innerHTML",a.error.displayMessage,_.md))},hde=function(a){a&1&&(_.Dd(0),_.E(1,"p"),_.Q(2),_.F(),_.Ed());a&2&&(a=_.N(2),_.x(2),_.Ud(a.a11yLegendPrefaceNoLines))},ide=function(a){a&1&&(_.Dd(0),_.K(1,53),_.Ed())},jde=function(a){a&1&&(_.Dd(0),_.Q(1),_.Zd(2,"async"),_.Ed());a&2&&(a=_.N().$implicit,_.x(1),_.Sd(" ",_.$d(2,1,a.displayValueStream)," "))},kde=function(a,b){a&1&&(_.E(0,"li"),_.Q(1),_.P(2,ide,2,0,"ng-container",
5),_.P(3,jde,3,3,"ng-container",5),_.F());a&2&&(a=b.$implicit,_.x(1),_.Sd(" ",a.name||a.theStream.name,": "),_.x(1),_.C("ngIf",0===a.theStream.data.length),_.x(1),_.C("ngIf",0!==a.theStream.data.length))},lde=function(a){a&1&&(_.Dd(0),_.E(1,"p"),_.Q(2),_.F(),_.E(3,"ol"),_.P(4,kde,4,3,"li",52),_.F(),_.Ed());if(a&2){a=_.N().ngIf;const b=_.N();_.x(2);_.Ud(b.a11yLegendPreface);_.x(2);_.C("ngForOf",a)}},mde=function(a,b){a&1&&(_.Dd(0),_.P(1,hde,3,1,"ng-container",5),_.P(2,lde,5,2,"ng-container",5),_.Ed());
a&2&&(a=b.ngIf,_.x(1),_.C("ngIf",0===a.length),_.x(1),_.C("ngIf",0!==a.length))},nde=function(a){a&1&&_.I(0,"p");a&2&&(a=_.N(),_.zd("aria-labelledby",a.a11yChartErrorId))},ode=function(){let a,b,c=!1;return function(d,e){let f;e.theStream.id!==a?c=!0:d!==b&&(c=!1);f=c?`${e.name||e.theStream.name} ${d}`:`${d}`;b=d;a=e.theStream.id;return f}},pde=function(a){if(a&1){const b=_.Pc();_.E(0,"span");_.Q(1);_.E(2,"a",19);_.L("click",function(){_.t(b);const c=_.N(3);return _.u(c.useMeanAggregationClicked.emit())});
_.Q(3);_.F()()}a&2&&(a=_.N(3),_.x(1),_.Sd(" ",a.messages.TOO_MANY_LINES_CONJUNCTION," "),_.x(2),_.Sd(" ",a.messages.TOO_MANY_LINES_MEAN_AGGREGATION_LINK," "))},qde=function(a){if(a&1){const b=_.Pc();_.E(0,"span");_.Q(1);_.E(2,"a",19);_.L("click",function(){_.t(b);const c=_.N(2);return _.u(lbe(c))});_.Q(3);_.F();_.P(4,pde,4,2,"span",5);_.F()}a&2&&(a=_.N(2),_.x(1),_.Sd(" ",a.messages.TOO_MANY_LINES_SUGGESTION_PREFIX," "),_.x(2),_.Sd(" ",a.messages.TOO_MANY_LINES_LINK," "),_.x(1),_.C("ngIf",mbe(a.dataLayerManager)))},
rde=function(a){a&1&&(_.E(0,"a",20),_.Q(1),_.F());a&2&&(a=_.N(2),_.x(1),_.Sd(" ",a.messages.TOO_MANY_LINES_LINK_MQL," "))},sde=function(a){a&1&&(_.E(0,"div",15),_.I(1,"mat-icon",16),_.E(2,"span",17),_.Q(3),_.P(4,qde,5,3,"span",5),_.P(5,rde,2,1,"a",18),_.F()());a&2&&(a=_.N(),_.x(3),_.Sd(" ",a.messages.TOO_MANY_LINES_QUESTION," "),_.x(1),_.C("ngIf",!a.tooManyLinesQnWarning),_.x(1),_.C("ngIf",a.tooManyLinesQnWarning))},tde=function(a,b){a&1&&(_.E(0,"div",21),_.I(1,"mat-icon",22),_.E(2,"div",23),_.Q(3),
_.F()());a&2&&(a=b.$implicit,b=_.N(),_.x(3),_.Ud(b.messages.ERROR_PARTIAL_DATA+a.message))},ude=function(a){if(a&1){const b=_.Pc();_.E(0,"div",24)(1,"ac-subtitle",25);_.L("drawn",function(){_.t(b);const c=_.N();return _.u(c.subtitlesDrawn.emit())});_.F()()}a&2&&(a=_.N(),_.x(1),_.C("dataLayerManager",a.dataLayerManager)("groupId",a.outlierGroupId)("groupNameLookupFunction",a.groupNameLookupFunction)("complexThreshold",a.complexThreshold)("unitFunction",a.unitFunction)("yManager",a.yManager)("basicMode",
a.basicMode)("showResponsive",a.showResponsiveSubtitles))},vde=function(a){a&1&&(_.E(0,"div",26)(1,"span",27),_.I(2,"mat-icon",28),_.F(),_.E(3,"span",27),_.Q(4),_.F()());a&2&&(a=_.N(),_.x(4),_.Sd(" ",a.messages.DATA_LARGE,""))},wde=function(a){a&1&&_.I(0,"ac-band",35);if(a&2){a=_.N().$implicit;const b=_.N(2);_.C("groupId",b.outlierGroupId)("dataLayerManager",a)("yManager",b.yManager)("yAxisScale",b.yAxisScale)("useLegacyCoreChart",b.useLegacyCoreChart)("height",b.height)("bandStyle",b.bandStyle)}},
yde=function(a){a&1&&(_.E(0,"div",33),_.P(1,wde,1,7,"ac-band",34),_.F());a&2&&(a=_.N(2),_.C("ngClass",_.Yd(2,xde,a.bandStyle&&a.bandStyle.bandOnTop)),_.x(1),_.C("ngIf",vbe(a)))},zde=function(a,b){if(a&1){const c=_.Pc();_.E(0,"div",33)(1,"ac-band",36);_.L("bandChart",function(d){_.t(c);const e=_.N(2);return _.u(e.acSubcharts.push(d))});_.F()()}a&2&&(a=b.$implicit,b=_.N(2),_.C("ngClass",_.Yd(8,xde,b.bandStyle&&b.bandStyle.bandOnTop)),_.x(1),_.C("groupId",b.outlierGroupId)("dataLayerManager",a)("yManager",
b.yManager)("yAxisScale",b.yAxisScale)("height",b.height)("useLegacyCoreChart",b.useLegacyCoreChart)("bandStyle",b.bandStyle))},Ade=function(a,b){if(a&1){const c=_.Pc();_.E(0,"div",37)(1,"ac-circle",38);_.L("circleChart",function(d){_.t(c);const e=_.N(2);return _.u(e.acSubcharts.push(d))});_.F()()}a&2&&(a=b.$implicit,b=_.N(2),_.x(1),_.C("groupId",b.outlierGroupId)("dataLayerManager",a)("yManager",b.yManager)("yAxisScale",b.yAxisScale)("height",b.height)("circleStyle",b.circleStyle)("timePinEnabled",
!0))},Bde=function(a){a&1&&(_.E(0,"div",39),_.I(1,"ac-percentile",40),_.F());a&2&&(a=_.N(2),_.x(1),_.C("dataLayerManager",a.percentileDataLayerManager)("groupId",a.outlierGroupId)("yManager",a.yManager)("yAxisScale",a.yAxisScale)("height",a.height)("selectionSetSubject",a.state.selected))},Cde=function(a){if(a&1){const b=_.Pc();_.E(0,"div",41)(1,"ac-exemplars",42);_.L("proxyEvent",function(c){_.t(b);_.N(2).acChart.trigger(c);return _.u()})("traceSelected",function(c){_.t(b);_.N(2).traceSelected.emit(c);
return _.u()});_.F()()}a&2&&(a=_.N(2),_.x(1),_.C("dataLayerManager",a.exemplarsDataLayerManager)("groupId",a.outlierGroupId)("yManager",a.yManager)("yAxisScale",a.yAxisScale)("height",a.height)("hovercardComponent",a.exemplarsHovercard))},Ede=function(a){a&1&&(_.Dd(0),_.P(1,yde,2,4,"div",29),_.P(2,zde,2,10,"div",29),_.P(3,Ade,2,7,"div",30),_.P(4,Bde,2,6,"div",31),_.P(5,Cde,2,6,"div",32),_.Ed());a&2&&(a=_.N(),_.x(1),_.C("ngForOf",a.outlierDataLayerManagers||_.Xd(5,Dde)),_.x(1),_.C("ngForOf",a.optionalDataLayerManagers),
_.x(1),_.C("ngForOf",a.optionalCircleDataLayerManagers),_.x(1),_.C("ngIf",a.percentileDataLayerManager&&a.isWhitelisted("chart-percentiles")),_.x(1),_.C("ngIf",a.exemplarsDataLayerManager&&a.isWhitelisted("chart-percentiles")))},Fde=function(a){a&1&&(_.I(0,"ac-audio-chart",43),_.Zd(1,"async"));a&2&&(a=_.N(),_.C("chartOptions",a.audioChartOptions)("session",a.audioChartsLocal)("axesDescription",a.a11yAxesDescription)("ngStyle",_.$d(1,4,a.a11yLeapfrogPositions[a.a11yLeapfrogLabelIds[a.a11yActiveLeapfrogIndex]])))},
Gde=function(a,b){if(a&1){const c=_.Pc();_.E(0,"span",44,45);_.L("focus",function(d){_.t(c);const e=_.N();return _.u(t5(e,d,!0))})("blur",function(d){_.t(c);const e=_.N();return _.u(t5(e,d,!1))});_.Zd(2,"async");_.Zd(3,"async");_.Q(4);_.F()}a&2&&(a=b.$implicit,b=_.N(),_.C("id",a)("ngStyle",_.$d(2,4,b.a11yLeapfrogPositions[a])),_.zd("tabindex",b.a11yLeapfrogLabelIds[b.a11yActiveLeapfrogIndex]===a&&_.$d(3,6,b.timePinFocusable)?0:-1),_.x(4),_.Sd(" ",b.a11yLeapfrogTexts.get(a)," "))},Hde=function(a){a&
1&&(_.E(0,"div",46)(1,"div",47),_.I(2,"ac-three-dot-loading-indicator",48),_.Q(3),_.F()());a&2&&(a=_.N(),_.x(3),_.Sd(" \u00a0 ",a.messages.LOADING," "))},Ide=function(a){a&1&&(_.E(0,"div",49)(1,"div",47),_.I(2,"mat-icon",50)(3,"span",51),_.F()());a&2&&(a=_.N(),_.Bd("fatal",a.error.details.isFatal),_.C("id",a.a11yChartErrorId),_.x(1),_.Bd("y-axis-left","left"===a.yAxisPosition)("y-axis-right","right"===a.yAxisPosition),_.x(2),_.C("innerHTML",a.error.displayMessage,_.md))},Jde=function(a){a&1&&(_.Dd(0),
_.E(1,"p"),_.Q(2),_.F(),_.Ed());a&2&&(a=_.N(2),_.x(2),_.Ud(a.a11yLegendPrefaceNoLines))},Kde=function(a){a&1&&(_.Dd(0),_.K(1,53),_.Ed())},Lde=function(a){a&1&&(_.Dd(0),_.Q(1),_.Zd(2,"async"),_.Ed());a&2&&(a=_.N().$implicit,_.x(1),_.Sd(" ",_.$d(2,1,a.displayValueStream)," "))},Mde=function(a,b){a&1&&(_.E(0,"li"),_.Q(1),_.P(2,Kde,2,0,"ng-container",5),_.P(3,Lde,3,3,"ng-container",5),_.F());a&2&&(a=b.$implicit,_.x(1),_.Sd(" ",a.name||a.theStream.name,": "),_.x(1),_.C("ngIf",0===a.theStream.data.length),
_.x(1),_.C("ngIf",0!==a.theStream.data.length))},Nde=function(a){a&1&&(_.Dd(0),_.E(1,"p"),_.Q(2),_.F(),_.E(3,"ol"),_.P(4,Mde,4,3,"li",52),_.F(),_.Ed());if(a&2){a=_.N().ngIf;const b=_.N();_.x(2);_.Ud(b.a11yLegendPreface);_.x(2);_.C("ngForOf",a)}},Ode=function(a,b){a&1&&(_.Dd(0),_.P(1,Jde,3,1,"ng-container",5),_.P(2,Nde,5,2,"ng-container",5),_.Ed());a&2&&(a=b.ngIf,_.x(1),_.C("ngIf",0===a.length),_.x(1),_.C("ngIf",0!==a.length))},Pde=function(a){a&1&&_.I(0,"p");a&2&&(a=_.N(),_.zd("aria-labelledby",a.a11yChartErrorId))},
Qde=function(a){if(a&1){const b=_.Pc();_.E(0,"span");_.Q(1);_.E(2,"a",19);_.L("click",function(){_.t(b);const c=_.N(3);return _.u(c.useMeanAggregationClicked.emit())});_.Q(3);_.F()()}a&2&&(a=_.N(3),_.x(1),_.Sd(" ",a.messages.TOO_MANY_LINES_CONJUNCTION," "),_.x(2),_.Sd(" ",a.messages.TOO_MANY_LINES_MEAN_AGGREGATION_LINK," "))},Rde=function(a){if(a&1){const b=_.Pc();_.E(0,"span");_.Q(1);_.E(2,"a",19);_.L("click",function(){_.t(b);const c=_.N(2);return _.u(lbe(c))});_.Q(3);_.F();_.P(4,Qde,4,2,"span",
5);_.F()}a&2&&(a=_.N(2),_.x(1),_.Sd(" ",a.messages.TOO_MANY_LINES_SUGGESTION_PREFIX," "),_.x(2),_.Sd(" ",a.messages.TOO_MANY_LINES_LINK," "),_.x(1),_.C("ngIf",mbe(a.dataLayerManager)))},Sde=function(a){a&1&&(_.E(0,"a",20),_.Q(1),_.F());a&2&&(a=_.N(2),_.x(1),_.Sd(" ",a.messages.TOO_MANY_LINES_LINK_MQL," "))},Tde=function(a){a&1&&(_.E(0,"div",15),_.I(1,"mat-icon",16),_.E(2,"span",17),_.Q(3),_.P(4,Rde,5,3,"span",5),_.P(5,Sde,2,1,"a",18),_.F()());a&2&&(a=_.N(),_.x(3),_.Sd(" ",a.messages.TOO_MANY_LINES_QUESTION,
" "),_.x(1),_.C("ngIf",!a.tooManyLinesQnWarning),_.x(1),_.C("ngIf",a.tooManyLinesQnWarning))},Ude=function(a,b){a&1&&(_.E(0,"div",21),_.I(1,"mat-icon",22),_.E(2,"div",23),_.Q(3),_.F()());a&2&&(a=b.$implicit,b=_.N(),_.x(3),_.Ud(b.messages.ERROR_PARTIAL_DATA+a.message))},Vde=function(a){if(a&1){const b=_.Pc();_.E(0,"div",24)(1,"ac-subtitle",25);_.L("drawn",function(){_.t(b);const c=_.N();return _.u(c.subtitlesDrawn.emit())});_.F()()}a&2&&(a=_.N(),_.x(1),_.C("dataLayerManager",a.dataLayerManager)("groupId",
a.outlierGroupId)("groupNameLookupFunction",a.groupNameLookupFunction)("complexThreshold",a.complexThreshold)("unitFunction",a.unitFunction)("yManager",a.yManager)("basicMode",a.basicMode)("showResponsive",a.showResponsiveSubtitles))},Wde=function(a){a&1&&(_.E(0,"div",26)(1,"span",27),_.I(2,"mat-icon",28),_.F(),_.E(3,"span",27),_.Q(4),_.F()());a&2&&(a=_.N(),_.x(4),_.Sd(" ",a.messages.DATA_LARGE,""))},Xde=function(a){a&1&&_.I(0,"ac-band",35);if(a&2){a=_.N().$implicit;const b=_.N(2);_.C("groupId",b.outlierGroupId)("dataLayerManager",
a)("yManager",b.yManager)("yAxisScale",b.yAxisScale)("useLegacyCoreChart",b.useLegacyCoreChart)("height",b.height)("bandStyle",b.bandStyle)}},Zde=function(a){a&1&&(_.E(0,"div",33),_.P(1,Xde,1,7,"ac-band",34),_.F());a&2&&(a=_.N(2),_.C("ngClass",_.Yd(2,Yde,a.bandStyle&&a.bandStyle.bandOnTop)),_.x(1),_.C("ngIf",vbe(a)))},$de=function(a,b){if(a&1){const c=_.Pc();_.E(0,"div",33)(1,"ac-band",36);_.L("bandChart",function(d){_.t(c);const e=_.N(2);return _.u(e.acSubcharts.push(d))});_.F()()}a&2&&(a=b.$implicit,
b=_.N(2),_.C("ngClass",_.Yd(8,Yde,b.bandStyle&&b.bandStyle.bandOnTop)),_.x(1),_.C("groupId",b.outlierGroupId)("dataLayerManager",a)("yManager",b.yManager)("yAxisScale",b.yAxisScale)("height",b.height)("useLegacyCoreChart",b.useLegacyCoreChart)("bandStyle",b.bandStyle))},aee=function(a,b){if(a&1){const c=_.Pc();_.E(0,"div",37)(1,"ac-circle",38);_.L("circleChart",function(d){_.t(c);const e=_.N(2);return _.u(e.acSubcharts.push(d))});_.F()()}a&2&&(a=b.$implicit,b=_.N(2),_.x(1),_.C("groupId",b.outlierGroupId)("dataLayerManager",
a)("yManager",b.yManager)("yAxisScale",b.yAxisScale)("height",b.height)("circleStyle",b.circleStyle)("timePinEnabled",!0))},bee=function(a){a&1&&(_.E(0,"div",39),_.I(1,"ac-percentile",40),_.F());a&2&&(a=_.N(2),_.x(1),_.C("dataLayerManager",a.percentileDataLayerManager)("groupId",a.outlierGroupId)("yManager",a.yManager)("yAxisScale",a.yAxisScale)("height",a.height)("selectionSetSubject",a.state.selected))},cee=function(a){if(a&1){const b=_.Pc();_.E(0,"div",41)(1,"ac-exemplars",42);_.L("proxyEvent",
function(c){_.t(b);_.N(2).acChart.trigger(c);return _.u()})("traceSelected",function(c){_.t(b);_.N(2).traceSelected.emit(c);return _.u()});_.F()()}a&2&&(a=_.N(2),_.x(1),_.C("dataLayerManager",a.exemplarsDataLayerManager)("groupId",a.outlierGroupId)("yManager",a.yManager)("yAxisScale",a.yAxisScale)("height",a.height)("hovercardComponent",a.exemplarsHovercard))},eee=function(a){a&1&&(_.Dd(0),_.P(1,Zde,2,4,"div",29),_.P(2,$de,2,10,"div",29),_.P(3,aee,2,7,"div",30),_.P(4,bee,2,6,"div",31),_.P(5,cee,2,
6,"div",32),_.Ed());a&2&&(a=_.N(),_.x(1),_.C("ngForOf",a.outlierDataLayerManagers||_.Xd(5,dee)),_.x(1),_.C("ngForOf",a.optionalDataLayerManagers),_.x(1),_.C("ngForOf",a.optionalCircleDataLayerManagers),_.x(1),_.C("ngIf",a.percentileDataLayerManager&&a.isWhitelisted("chart-percentiles")),_.x(1),_.C("ngIf",a.exemplarsDataLayerManager&&a.isWhitelisted("chart-percentiles")))},fee=function(a){a&1&&(_.I(0,"ac-audio-chart",43),_.Zd(1,"async"));a&2&&(a=_.N(),_.C("chartOptions",a.audioChartOptions)("session",
a.audioChartsLocal)("axesDescription",a.a11yAxesDescription)("ngStyle",_.$d(1,4,a.a11yLeapfrogPositions[a.a11yLeapfrogLabelIds[a.a11yActiveLeapfrogIndex]])))},gee=function(a,b){if(a&1){const c=_.Pc();_.E(0,"span",44,45);_.L("focus",function(d){_.t(c);const e=_.N();return _.u(t5(e,d,!0))})("blur",function(d){_.t(c);const e=_.N();return _.u(t5(e,d,!1))});_.Zd(2,"async");_.Zd(3,"async");_.Q(4);_.F()}a&2&&(a=b.$implicit,b=_.N(),_.C("id",a)("ngStyle",_.$d(2,4,b.a11yLeapfrogPositions[a])),_.zd("tabindex",
b.a11yLeapfrogLabelIds[b.a11yActiveLeapfrogIndex]===a&&_.$d(3,6,b.timePinFocusable)?0:-1),_.x(4),_.Sd(" ",b.a11yLeapfrogTexts.get(a)," "))},hee=function(a){a&1&&(_.E(0,"div",46)(1,"div",47),_.I(2,"ac-three-dot-loading-indicator",48),_.Q(3),_.F()());a&2&&(a=_.N(),_.x(3),_.Sd(" \u00a0 ",a.messages.LOADING," "))},iee=function(a){a&1&&(_.E(0,"div",49)(1,"div",47),_.I(2,"mat-icon",50)(3,"span",51),_.F()());a&2&&(a=_.N(),_.Bd("fatal",a.error.details.isFatal),_.C("id",a.a11yChartErrorId),_.x(1),_.Bd("y-axis-left",
"left"===a.yAxisPosition)("y-axis-right","right"===a.yAxisPosition),_.x(2),_.C("innerHTML",a.error.displayMessage,_.md))},jee=function(a){a&1&&(_.Dd(0),_.E(1,"p"),_.Q(2),_.F(),_.Ed());a&2&&(a=_.N(2),_.x(2),_.Ud(a.a11yLegendPrefaceNoLines))},kee=function(a){a&1&&(_.Dd(0),_.K(1,53),_.Ed())},lee=function(a){a&1&&(_.Dd(0),_.Q(1),_.Zd(2,"async"),_.Ed());a&2&&(a=_.N().$implicit,_.x(1),_.Sd(" ",_.$d(2,1,a.displayValueStream)," "))},mee=function(a,b){a&1&&(_.E(0,"li"),_.Q(1),_.P(2,kee,2,0,"ng-container",
5),_.P(3,lee,3,3,"ng-container",5),_.F());a&2&&(a=b.$implicit,_.x(1),_.Sd(" ",a.name||a.theStream.name,": "),_.x(1),_.C("ngIf",0===a.theStream.data.length),_.x(1),_.C("ngIf",0!==a.theStream.data.length))},nee=function(a){a&1&&(_.Dd(0),_.E(1,"p"),_.Q(2),_.F(),_.E(3,"ol"),_.P(4,mee,4,3,"li",52),_.F(),_.Ed());if(a&2){a=_.N().ngIf;const b=_.N();_.x(2);_.Ud(b.a11yLegendPreface);_.x(2);_.C("ngForOf",a)}},oee=function(a,b){a&1&&(_.Dd(0),_.P(1,jee,3,1,"ng-container",5),_.P(2,nee,5,2,"ng-container",5),_.Ed());
a&2&&(a=b.ngIf,_.x(1),_.C("ngIf",0===a.length),_.x(1),_.C("ngIf",0!==a.length))},pee=function(a){a&1&&_.I(0,"p");a&2&&(a=_.N(),_.zd("aria-labelledby",a.a11yChartErrorId))},qee=function(a){a&1&&_.I(0,"ac-empty-chart",5);a&2&&(a=_.N(),_.C("height",a.height)("placeholderTemplate",a.emptyChartPlaceholderTemplate))},ree=function(a){if(a&1){const b=_.Pc();_.E(0,"ac-line-chart",6);_.L("chartModeChange",function(c){_.t(b);const d=_.N();return _.u(d.chartModeChange.emit(c))})("onClick",function(c){_.t(b);
const d=_.N();return _.u(d.onClick.emit(c))})("suggestionShown",function(){_.t(b);const c=_.N();return _.u(c.suggestionShown.emit())})("useMeanAggregationClicked",function(){_.t(b);const c=_.N();return _.u(c.useMeanAggregationClicked.emit())})("onSelect",function(c){_.t(b);const d=_.N();return _.u(d.onSelect.emit(c))})("subtitlesDrawn",function(){_.t(b);const c=_.N();return _.u(c.subtitlesDrawn.emit())})("unitsChange",function(c){_.t(b);const d=_.N();return _.u(d.updateUnit(c))});_.F()}a&2&&(a=_.N(),
_.C("a11yEnabled",a.a11yEnabled)("chartMode",a.chartMode)("colorManager",a.colorManager)("componentFactoryResolver",a.componentFactoryResolver)("dataLayerManager",a.dataLayerManager)("disableZoom",a.disableZoom)("disableSelection",a.disableSelection)("enablePanningInteractions",a.enablePanningInteractions)("enableSizeWarnings",a.enableSizeWarnings)("groupId",a.groupId)("groupNameLookupFunction",a.groupNameLookupFunction)("height",a.height)("hovercardComponent",a.lineBarHovercard)("messageOverrides",
a.messageOverrides)("outlierDataLayerManagers",a.outlierDataLayerManagers)("resourceMetadataNamingFunctions",a.resourceMetadataNamingFunctions)("statsManager",a.statsManager)("thresholdLines",a.thresholdLinesWithDefault)("showThresholdLabels",a.showThresholdLabels)("complexThreshold",a.complexThreshold)("timePinEnabled",a.timePinEnabled)("timePinSnapToData",a.timePinSnapToData)("timePinDisableSnapToNow",a.timePinDisableSnapToNow)("timeshiftDuration",a.timeshiftDuration)("title",a.title)("unitOverride",
a.unitOverride)("useLegacyCoreChart",a.useLegacyCoreChart)("forcePercentZoom",a.forcePercentZoom)("forceUnitChangeForRate",a.forceUnitChangeForRate)("yAxisScale",a.yAxisScale)("yTopMin",a.yTopMin)("yBottomMax",a.yBottomMax)("zerofill",a.zerofill)("showSubtitles",a.showSubtitles)("showResponsiveSubtitles",a.showResponsiveSubtitles)("yAxisPrecisionLimit",a.yAxisPrecisionLimit)("yAxisValueFormatter",a.yAxisValueFormatter)("setFocusStream",a.setFocusStream)("basicMode",a.basicMode)("showDataTooCoarseError",
a.showDataTooCoarseError))},see=function(a){if(a&1){const b=_.Pc();_.E(0,"ac-time-bar-chart",7);_.L("chartModeChange",function(c){_.t(b);const d=_.N();return _.u(d.chartModeChange.emit(c))})("onClick",function(c){_.t(b);const d=_.N();return _.u(d.onClick.emit(c))})("suggestionShown",function(){_.t(b);const c=_.N();return _.u(c.suggestionShown.emit())})("useMeanAggregationClicked",function(){_.t(b);const c=_.N();return _.u(c.useMeanAggregationClicked.emit())})("onSelect",function(c){_.t(b);const d=
_.N();return _.u(d.onSelect.emit(c))})("subtitlesDrawn",function(){_.t(b);const c=_.N();return _.u(c.subtitlesDrawn.emit())})("unitsChange",function(c){_.t(b);const d=_.N();return _.u(d.updateUnit(c))});_.F()}a&2&&(a=_.N(),_.C("chartMode",a.chartMode)("colorManager",a.colorManager)("componentFactoryResolver",a.componentFactoryResolver)("dataLayerManager",a.dataLayerManager)("disableZoom",a.disableZoom)("disableSelection",a.disableSelection)("enablePanningInteractions",a.enablePanningInteractions)("enableSizeWarnings",
a.enableSizeWarnings)("timePinEnabled",a.timePinEnabled)("timePinSnapToData",a.timePinSnapToData)("timePinDisableSnapToNow",a.timePinDisableSnapToNow)("groupId",a.groupId)("groupNameLookupFunction",a.groupNameLookupFunction)("height",a.height)("hovercardComponent",a.lineBarHovercard)("messageOverrides",a.messageOverrides)("resourceMetadataNamingFunctions",a.resourceMetadataNamingFunctions)("statsManager",a.statsManager)("thresholdLines",a.thresholdLinesWithDefault)("showThresholdLabels",a.showThresholdLabels)("complexThreshold",
a.complexThreshold)("timeshiftDuration","0s")("title",a.title)("unitOverride",a.unitOverride)("useLegacyCoreChart",a.useLegacyCoreChart)("forcePercentZoom",a.forcePercentZoom)("forceUnitChangeForRate",a.forceUnitChangeForRate)("yAxisScale",a.yAxisScale)("yTopMin",a.yTopMin)("yBottomMax",a.yBottomMax)("zerofill",a.zerofill)("showSubtitles",a.showSubtitles)("showResponsiveSubtitles",a.showResponsiveSubtitles)("yAxisPrecisionLimit",a.yAxisPrecisionLimit)("yAxisValueFormatter",a.yAxisValueFormatter)("setFocusStream",
a.setFocusStream)("basicMode",a.basicMode)("showDataTooCoarseError",a.showDataTooCoarseError)("showPointsOutsideDomain",a.showPointsOutsideDomain))},tee=function(a){if(a&1){const b=_.Pc();_.E(0,"ac-stacked-area-chart",8);_.L("chartModeChange",function(c){_.t(b);const d=_.N();return _.u(d.chartModeChange.emit(c))})("onClick",function(c){_.t(b);const d=_.N();return _.u(d.onClick.emit(c))})("suggestionShown",function(){_.t(b);const c=_.N();return _.u(c.suggestionShown.emit())})("useMeanAggregationClicked",
function(){_.t(b);const c=_.N();return _.u(c.useMeanAggregationClicked.emit())})("onSelect",function(c){_.t(b);const d=_.N();return _.u(d.onSelect.emit(c))})("subtitlesDrawn",function(){_.t(b);const c=_.N();return _.u(c.subtitlesDrawn.emit())})("unitsChange",function(c){_.t(b);const d=_.N();return _.u(d.updateUnit(c))});_.F()}a&2&&(a=_.N(),_.C("chartMode",a.chartMode)("colorManager",a.colorManager)("componentFactoryResolver",a.componentFactoryResolver)("dataLayerManager",a.dataLayerManager)("disableZoom",
a.disableZoom)("disableSelection",a.disableSelection)("enablePanningInteractions",a.enablePanningInteractions)("enableSizeWarnings",a.enableSizeWarnings)("groupId",a.groupId)("groupNameLookupFunction",a.groupNameLookupFunction)("height",a.height)("messageOverrides",a.messageOverrides)("hovercardComponent",a.lineBarHovercard)("outlierDataLayerManagers",a.outlierDataLayerManagers)("resourceMetadataNamingFunctions",a.resourceMetadataNamingFunctions)("statsManager",a.statsManager)("thresholdLines",a.thresholdLinesWithDefault)("showThresholdLabels",
a.showThresholdLabels)("complexThreshold",a.complexThreshold)("timePinEnabled",a.timePinEnabled)("timePinSnapToData",a.timePinSnapToData)("timePinDisableSnapToNow",a.timePinDisableSnapToNow)("timeshiftDuration","0s")("title",a.title)("unitOverride",a.unitOverride)("useLegacyCoreChart",a.useLegacyCoreChart)("forcePercentZoom",a.forcePercentZoom)("forceUnitChangeForRate",a.forceUnitChangeForRate)("yAxisScale",a.yAxisScale)("yTopMin",a.yTopMin)("yBottomMax",a.yBottomMax)("zerofill",a.zerofill)("showSubtitles",
a.showSubtitles)("showResponsiveSubtitles",a.showResponsiveSubtitles)("yAxisPrecisionLimit",a.yAxisPrecisionLimit)("yAxisValueFormatter",a.yAxisValueFormatter)("setFocusStream",a.setFocusStream)("basicMode",a.basicMode)("showDataTooCoarseError",a.showDataTooCoarseError))},uee=function(a){if(a&1){const b=_.Pc();_.E(0,"ac-heatmap-chart",9);_.L("chartModeChange",function(c){_.t(b);const d=_.N();return _.u(d.chartModeChange.emit(c))})("onClick",function(c){_.t(b);const d=_.N();return _.u(d.onClick.emit(c))})("suggestionShown",
function(){_.t(b);const c=_.N();return _.u(c.suggestionShown.emit())})("useMeanAggregationClicked",function(){_.t(b);const c=_.N();return _.u(c.useMeanAggregationClicked.emit())})("onSelect",function(c){_.t(b);const d=_.N();return _.u(d.onSelect.emit(c))})("subtitlesDrawn",function(){_.t(b);const c=_.N();return _.u(c.subtitlesDrawn.emit())})("unitsChange",function(c){_.t(b);const d=_.N();return _.u(d.updateUnit(c))});_.F()}a&2&&(a=_.N(),_.C("chartMode",a.chartMode)("colorManager",a.colorManager)("componentFactoryResolver",
a.componentFactoryResolver)("dataLayerManager",a.dataLayerManager)("disableZoom",a.disableZoom)("disableSelection",a.disableSelection)("enablePanningInteractions",a.enablePanningInteractions)("enableSizeWarnings",a.enableSizeWarnings)("groupId",a.groupId)("groupNameLookupFunction",a.groupNameLookupFunction)("hovercardComponent",a.heatmapHovercard)("height",a.height)("messageOverrides",a.messageOverrides)("percentileDataLayerManager",a.percentileDataLayerManager)("resourceMetadataNamingFunctions",
a.resourceMetadataNamingFunctions)("statsManager",a.statsManager)("timePinEnabled",a.timePinEnabled)("timePinSnapToData",a.timePinSnapToData)("timePinDisableSnapToNow",a.timePinDisableSnapToNow)("timeshiftDuration","0s")("title",a.title)("thresholdLines",a.thresholdLinesWithDefault)("showThresholdLabels",a.showThresholdLabels)("complexThreshold",a.complexThreshold)("unitOverride",a.unitOverride)("useLegacyCoreChart",a.useLegacyCoreChart)("forcePercentZoom",a.forcePercentZoom)("forceUnitChangeForRate",
a.forceUnitChangeForRate)("showSubtitles",a.showSubtitles)("showResponsiveSubtitles",a.showResponsiveSubtitles)("yAxisPrecisionLimit",a.yAxisPrecisionLimit)("yAxisValueFormatter",a.yAxisValueFormatter)("setFocusStream",a.setFocusStream)("basicMode",a.basicMode)("showDataTooCoarseError",a.showDataTooCoarseError))},vee=function(a){return(...b)=>new a(...b)},xee=function(a){if(a&1){const b=_.Pc();_.E(0,"div",4);_.L("click",function(){_.t(b);const c=_.N().$implicit,d=_.N();return _.u(d.toggleSelected(c))})("mouseover",
function(){_.t(b);const c=_.N().$implicit,d=_.N();return _.u(d.hover(c))})("mouseleave",function(){_.t(b);const c=_.N(2);return _.u(c.clearHover())});_.E(1,"span");_.I(2,"span",5);_.Q(3);_.F();_.E(4,"span",6);_.Q(5);_.Zd(6,"async");_.F()()}a&2&&(a=_.N().$implicit,_.C("ngStyle",a.style),_.x(2),_.C("ngStyle",_.Yd(7,wee,a.color)),_.x(1),_.Sd(" ",a.name||a.theStream.name,": "),_.x(1),_.C("hidden",!(a.theStream&&a.theStream.data&&a.theStream.data.length)),_.x(1),_.Sd(" ",_.$d(6,5,a.displayValueStream),
" "))},yee=function(a,b){a&1&&(_.E(0,"div",2),_.P(1,xee,7,9,"div",3),_.F());a&2&&(a=b.$implicit,_.x(1),_.C("ngIf",a.theStream&&a.theStream.data&&a.theStream.data.length))},Bee=function(a){a&1&&(_.E(0,"div")(1,"div",5,6)(3,"span",7),_.Q(4),_.F(),_.E(5,"span",8,9),_.I(7,"mat-icon",10),_.F(),_.E(8,"span",8),_.I(9,"mat-icon",11),_.F()()());a&2&&(a=_.N(),_.x(1),_.Ad("visibility",a.canShowTimePinHandle?"visible":"hidden")("left",a.timePinHandleOffset+"px"),_.C("ngClass",_.eY(10,zee,a.isTimePinLocked,a.isTimePinDraggable,
a.isTimePinDragging||!a.isTimePinLocked)),_.x(3),_.Sd("",Aee(a)," "),_.x(1),_.Ad("display",a.isTimePinLocked?"inline-block":"none"),_.x(3),_.Ad("display",a.isTimePinLocked?"none":"inline-block"))},Cee=function(a){return()=>{d3.event.preventDefault();a()}},Dee=function(a,b){a&1&&(_.E(0,"span",6),_.Q(1),_.F());a&2&&(a=b.$implicit,b=_.N(),_.fv("fxFlex",b.columnFlexWidth),_.x(1),_.Sd(" ",a," "))},Eee=function(a){let b=null;a.timeSeriesQuery?b=a.timeSeriesQuery:a.hasTimeSeriesQueryLanguage&&a.timeSeriesQueryLanguage.query&&
(b=a.timeSeriesQueryLanguage.query);return b},Fee=function(a){a&1&&(_.E(0,"div",6)(1,"span",7),_.Q(2),_.F(),_.E(3,"span",8),_.Q(4),_.F()());a&2&&(a=_.N(2).$implicit,_.C("matTooltip",a.tooltip),_.x(2),_.Ud(a.tooltip),_.x(2),_.Ud(a.text))},Gee=function(a){a&1&&(_.Dd(0),_.P(1,Fee,5,3,"div",5),_.Ed());if(a&2){a=_.N().$implicit;const b=_.N(3);_.x(1);_.C("ngIf",b.isHeader(a.chipDescriptor))}},Hee=function(a,b){a&1&&(_.Dd(0),_.P(1,Gee,2,1,"ng-container",2),_.Ed());a&2&&(a=b.$implicit,_.x(1),_.C("ngIf",a.chipDescriptor.showOnSingle))},
Iee=function(a){a&1&&_.I(0,"mat-icon",12)},Kee=function(a){a&1&&(_.E(0,"mat-chip",10)(1,"span",7),_.Q(2),_.F(),_.P(3,Iee,1,0,"mat-icon",11),_.E(4,"span",8),_.Q(5),_.F()());if(a&2){a=_.N(2).$implicit;const b=_.N(3);_.C("matTooltip",a.tooltip)("ngClass",_.eY(6,Jee,b.isInfoChip(a.chipDescriptor),b.isWarnStatusChip(a),b.isErrorStatusChip(a)))("matTooltipClass",b.singleChipTooltipClass);_.x(2);_.Ud(a.tooltip);_.x(1);_.C("ngIf",b.isFilter(a.chipDescriptor));_.x(2);_.Ud(a.text)}},Lee=function(a){a&1&&(_.Dd(0),
_.P(1,Kee,6,10,"mat-chip",9),_.Ed());if(a&2){a=_.N().$implicit;const b=_.N(3);_.x(1);_.C("ngIf",!b.isHeader(a.chipDescriptor))}},Mee=function(a,b){a&1&&(_.Dd(0),_.P(1,Lee,2,1,"ng-container",2),_.Ed());a&2&&(a=b.$implicit,_.x(1),_.C("ngIf",a.chipDescriptor.showOnSingle))},Nee=function(a,b){a&1&&(_.Dd(0),_.P(1,Hee,2,1,"ng-container",4),_.E(2,"mat-chip-list"),_.P(3,Mee,2,1,"ng-container",4),_.F(),_.Ed());a&2&&(a=b.$implicit,_.x(1),_.C("ngForOf",a),_.x(2),_.C("ngForOf",a))},Oee=function(a){a&1&&(_.Dd(0),
_.P(1,Nee,4,2,"ng-container",4),_.Ed());a&2&&(a=_.N(),_.x(1),_.C("ngForOf",a.chips))},Pee=function(a){a&1&&(_.E(0,"div",6)(1,"span",7),_.Q(2),_.F(),_.E(3,"span",8),_.Q(4),_.F()());a&2&&(a=_.N(2).$implicit,_.C("matTooltip",a.tooltip),_.x(2),_.Ud(a.tooltip),_.x(2),_.Ud(a.text))},Qee=function(a){a&1&&(_.Dd(0),_.P(1,Pee,5,3,"div",5),_.Ed());if(a&2){a=_.N().$implicit;const b=_.N(3);_.x(1);_.C("ngIf",b.isHeader(a.chipDescriptor))}},Ree=function(a,b){a&1&&(_.Dd(0),_.P(1,Qee,2,1,"ng-container",2),_.Ed());
a&2&&(a=b.$implicit,_.x(1),_.C("ngIf",a.chipDescriptor.showOnMuxExpanded))},See=function(a){a&1&&_.I(0,"mat-icon",12)},Tee=function(a){a&1&&(_.E(0,"mat-chip",17)(1,"span",7),_.Q(2),_.F(),_.P(3,See,1,0,"mat-icon",11),_.E(4,"span",8),_.Q(5),_.F()());if(a&2){a=_.N(2).$implicit;const b=_.N(3);_.C("ngClass",_.eY(5,Jee,b.isInfoChip(a.chipDescriptor),b.isWarnStatusChip(a),b.isErrorStatusChip(a)))("matTooltip",a.tooltip);_.x(2);_.Ud(a.tooltip);_.x(1);_.C("ngIf",b.isFilter(a.chipDescriptor));_.x(2);_.Ud(a.text)}},
Uee=function(a){a&1&&(_.Dd(0),_.P(1,Tee,6,9,"mat-chip",16),_.Ed());if(a&2){a=_.N().$implicit;const b=_.N(3);_.x(1);_.C("ngIf",!b.isHeader(a.chipDescriptor))}},Vee=function(a,b){a&1&&(_.Dd(0),_.P(1,Uee,2,1,"ng-container",2),_.Ed());a&2&&(a=b.$implicit,_.x(1),_.C("ngIf",a.chipDescriptor.showOnMuxExpanded))},Wee=function(a,b){a&1&&(_.Dd(0),_.P(1,Ree,2,1,"ng-container",4),_.E(2,"mat-chip-list"),_.P(3,Vee,2,1,"ng-container",4),_.F(),_.Ed());a&2&&(a=b.$implicit,_.x(1),_.C("ngForOf",a),_.x(2),_.C("ngForOf",
a))},Xee=function(a){if(a&1){const b=_.Pc();_.E(0,"div")(1,"div",13)(2,"div");_.P(3,Wee,4,2,"ng-container",4);_.F();_.E(4,"div",14);_.L("click",function(){_.t(b);const c=_.N();return _.u(c.expanded=!1)});_.I(5,"mat-icon",15);_.F()()()}a&2&&(a=_.N(),_.x(3),_.C("ngForOf",a.chips))},Yee=function(a){a&1&&(_.E(0,"div",6)(1,"span",7),_.Q(2),_.F(),_.E(3,"span",8),_.Q(4),_.F()());a&2&&(a=_.N().$implicit,_.C("matTooltip",a.tooltip),_.x(2),_.Ud(a.tooltip),_.x(2),_.Ud(a.text))},Zee=function(a,b){a&1&&(_.Dd(0),
_.P(1,Yee,5,3,"div",5),_.Ed());a&2&&(a=b.$implicit,b=_.N(2),_.x(1),_.C("ngIf",b.isHeader(a.chipDescriptor)))},$ee=function(a){a&1&&_.I(0,"mat-icon",12)},afe=function(a){a&1&&(_.E(0,"mat-chip",17)(1,"span",7),_.Q(2),_.F(),_.P(3,$ee,1,0,"mat-icon",11),_.E(4,"span",8),_.Q(5),_.F()());if(a&2){a=_.N().$implicit;const b=_.N(2);_.C("ngClass",_.eY(5,Jee,b.isInfoChip(a.chipDescriptor),b.isWarnStatusChip(a),b.isErrorStatusChip(a)))("matTooltip",a.tooltip);_.x(2);_.Ud(a.tooltip);_.x(1);_.C("ngIf",b.isFilter(a.chipDescriptor));
_.x(2);_.Ud(a.text)}},bfe=function(a,b){a&1&&(_.Dd(0),_.P(1,afe,6,9,"mat-chip",16),_.Ed());a&2&&(a=b.$implicit,b=_.N(2),_.x(1),_.C("ngIf",!b.isHeader(a.chipDescriptor)))},cfe=function(a){if(a&1){const b=_.Pc();_.E(0,"div",18)(1,"div",19)(2,"div");_.P(3,Zee,2,1,"ng-container",4);_.E(4,"mat-chip-list");_.P(5,bfe,2,1,"ng-container",4);_.F()();_.E(6,"div",20);_.L("click",function(){_.t(b);const c=_.N();return _.u(c.expanded=!0)});_.I(7,"mat-icon",21);_.F()()()}a&2&&(a=_.N(),_.x(3),_.C("ngForOf",a.collapsedChips(a.chips)),
_.x(2),_.C("ngForOf",a.collapsedChips(a.chips)))},dfe=function(a){a&1&&_.I(0,"mat-icon",18)},efe=function(a){a&1&&_.I(0,"mat-icon",19)},ffe=function(a,b){if(a&1){const c=_.Pc();_.E(0,"span",17);_.L("click",function(){_.t(c);var d=_.N(2);d.toggleSortColumn("MAIN",1);u5(d);return _.u()});_.Q(1);_.P(2,dfe,1,0,"mat-icon",11);_.P(3,efe,1,0,"mat-icon",12);_.F()}a&2&&(a=b.$implicit,b=_.N(2),_.tx("sortable-column legend-table-cell ",a,""),_.fv("fxFlex",b.columnFlexWidth),_.fv("matTooltip",a),_.x(1),_.Sd(" ",
a," "),_.x(1),_.C("ngIf",1===b.currentSortColumn.id&&0<(b.currentSortColumn.direction||0)),_.x(1),_.C("ngIf",1===b.currentSortColumn.id&&0>(b.currentSortColumn.direction||0)))},gfe=function(a){a&1&&(_.E(0,"div",15),_.P(1,ffe,4,8,"span",16),_.F());a&2&&(a=_.N(),_.x(1),_.C("ngForOf",a.columnKeys))},hfe=function(a){a&1&&_.I(0,"mat-icon",24)},ife=function(a){a&1&&_.I(0,"mat-icon",18)},jfe=function(a){a&1&&_.I(0,"mat-icon",19)},kfe=function(a,b){if(a&1){const c=_.Pc();_.E(0,"span",22);_.L("mouseenter",
function(){const d=_.t(c).index,e=_.N(2);return _.u(e.labelSortColumnHovered(e.labelsModel.selectedColumns[d].uniqueId))})("mouseleave",function(){_.t(c);_.N(2).hoveredColumn=null;return _.u()})("click",function(){const d=_.t(c).index,e=_.N(2);return _.u(e.labelSortColumnClicked(e.labelsModel.selectedColumns[d].uniqueId))});_.Q(1);_.P(2,hfe,1,0,"mat-icon",23);_.P(3,ife,1,0,"mat-icon",11);_.P(4,jfe,1,0,"mat-icon",12);_.F()}if(a&2){a=b.$implicit;b=b.index;const c=_.N(2);_.tx("ac-table-legend-label-header legend-table-cell sortable-column ",
c.labelToClass(a),"");_.ev("fxFlex","",c.labelsModel.labelPercents[b],"%");_.fv("matTooltip",a);_.C("ve",c.ve.ColumnSortButton)("veClick",!0);_.x(1);_.Sd(" ",a," ");_.x(1);_.C("ngIf",c.isLabelColumnHovered(c.labelsModel.selectedColumns[b].uniqueId));_.x(1);_.C("ngIf",c.isLabelSortColumnAscending(c.labelsModel.selectedColumns[b].uniqueId));_.x(1);_.C("ngIf",c.isLabelSortColumnDescending(c.labelsModel.selectedColumns[b].uniqueId))}},lfe=function(a){a&1&&(_.E(0,"div",20),_.P(1,kfe,5,11,"span",21),_.F());
a&2&&(a=_.N(),_.x(1),_.C("ngForOf",a.labelsModel.labelHeaders))},nfe=function(a){a&1&&(_.E(0,"span",25),_.Q(1),_.F());a&2&&(a=_.N(),_.fv("matTooltip",a.timeshiftName),_.C("ngStyle",_.Yd(4,mfe,"translateX("+(-1*a.widthDifference+a.scrollLeft)+"px)"))("ngClass",100<a.scale?"leftmost-frozen":""),_.x(1),_.Sd(" ",a.timeshiftName," "))},pfe=function(a){a&1&&_.I(0,"mat-icon",26);a&2&&(a=_.N(),_.C("ngClass",_.Yd(1,ofe,!a.isValueColumnHovered())))},qfe=function(a){a&1&&_.I(0,"mat-icon",18)},rfe=function(a){a&
1&&_.I(0,"mat-icon",19)},sfe=function(a){a&1&&(_.E(0,"mat-option",36),_.Q(1),_.F());a&2&&(a=_.N(2),_.C("value",-2),_.x(1),_.Ud(a.timeshiftName))},tfe=function(a,b){a&1&&(_.E(0,"mat-option",41),_.Q(1),_.F());a&2&&(a=b.$implicit,b=_.N(2),_.fv("matTooltip",a.title),_.C("value",a.uniqueId)("ve",b.ve.ChartLegendMenuItem)("veClick",!0),_.x(1),_.Sd(" ",a.title," "))},wfe=function(a){if(a&1){const b=_.Pc();_.E(0,"span",27)(1,"mat-select",28,29);_.L("valueChange",function(c){_.t(b);const d=_.N();return _.u(d.columnsModelCopy=
c)})("openedChange",function(c){_.t(b);var d=_.N();c&&(d.columnsModelCopy=d.labelsModel.columnsModel?d.labelsModel.columnsModel.slice(0):[],d.timeshiftName&&d.columnsModelCopy.unshift(-2),d.columnsModelCopy.unshift(-1));return _.u()});_.E(3,"mat-select-trigger",30);_.I(4,"mat-icon",31);_.F();_.E(5,"div",32);_.Q(6,"Legend Columns");_.F();_.E(7,"div",33)(8,"div",34);_.P(9,sfe,2,2,"mat-option",35);_.E(10,"mat-option",36);_.Q(11);_.F();_.P(12,tfe,2,5,"mat-option",37);_.F()();_.E(13,"div",38)(14,"button",
39);_.L("click",function(){_.t(b);const c=_.N();c.matSelect&&c.matSelect.close();return _.u()});_.Q(15,"Cancel");_.F();_.E(16,"button",40);_.L("click",function(){_.t(b);const c=_.N();return _.u(ufe(c))});_.Q(17,"Save");_.F()()()()}a&2&&(a=_.N(),_.C("ngStyle",_.Yd(16,mfe,"translateX("+(-1*a.widthDifference+a.scrollLeft)+"px)")),_.x(1),_.C("value",a.columnsModelCopy)("panelClass","legend-column-selector-panel"),_.x(2),_.C("ve",a.ve.ColumnMenuToggle)("veClick",!0),_.x(4),_.C("ve",a.ve.ChartLegendMenu),
_.x(2),_.C("ngIf",a.timeshiftName),_.x(1),_.C("value",-1),_.x(1),_.Ud(a.valueName),_.x(1),_.C("ngForOf",a.labelsModel.selectableColumns),_.x(1),_.C("ve",a.ve.ChartLegendMenu),_.x(1),_.C("ve",a.ve.CancelButton)("veClick",!0),_.x(2),_.C("disabled",vfe(a))("ve",a.ve.SaveButton)("veClick",!0))},xfe=function(a){a&1&&(_.E(0,"div",10)(1,"span",11),_.Q(2),_.F()());a&2&&(a=_.N(),_.x(1),_.fv("matTooltip",a.getStreamName()),_.x(1),_.Sd(" ",a.getStreamName()," "))},zfe=function(a,b){a&1&&(_.E(0,"span",14),_.Q(1),
_.F());if(a&2){a=b.$implicit;b=b.index;const c=_.N(2);_.ev("fxFlex","",c.labelPercents[b],"%");_.fv("matTooltip",a);_.C("ngStyle",_.Xd(4,yfe));_.x(1);_.Sd(" ",a," ")}},Afe=function(a){a&1&&(_.E(0,"div",12),_.P(1,zfe,2,5,"span",13),_.F());a&2&&(a=_.N(),_.x(1),_.C("ngForOf",a.stream.labels))},Cfe=function(a){a&1&&(_.E(0,"div",15),_.Zd(1,"async"),_.Q(2),_.Zd(3,"async"),_.F());a&2&&(a=_.N(),_.fv("matTooltip",_.$d(1,4,a.stream.timeshiftValueStream)),_.C("ngStyle",_.Yd(8,Bfe,"translateX("+(-1*a.widthDifference+
a.scrollLeft)+"px)"))("ngClass",100<a.scale?"leftmost-frozen":""),_.x(2),_.Sd(" ",_.$d(3,6,a.stream.timeshiftValueStream)," "))},Dfe=function(a){a&1&&_.I(0,"div",16);a&2&&(a=_.N(),_.C("ngStyle",_.Yd(1,Bfe,"translateX("+(-1*a.widthDifference+a.scrollLeft)+"px)")))},Ffe=function(a){if(a&1){const b=_.Pc();_.E(0,"ac-table-legend-header",6,7);_.L("sortFunc",function(c){_.t(b);const d=_.N(2);return _.u(d.setSortFunc(c))})("selectedColumnsChanged",function(){_.t(b);const c=_.N(2);return _.u(c.selectedColumnsChangedHandler())})("setAndSnapTimePin",
function(){_.t(b);const c=_.N(2);return _.u(c.setAndSnapTimePin())});_.F()}a&2&&(a=_.N(2),_.C("columnKeys",a.columnKeys)("labelsModel",a.labelsModel)("valueName",a.valueName)("timeshiftName",a.timeshiftName)("columnFlexWidth",Efe(a))("scrollLeft",a.scrollLeft)("widthDifference",a.widthDifference)("scale",a.scale)("timePinUpdated",a.timePinUpdated)("timePinEnabled",a.timePinEnabled)("defaultSortingColumn",a.defaultSortingColumn)("defaultSortingDirection",a.defaultSortingDirection))},Gfe=function(a){if(a&
1){const b=_.Pc();_.E(0,"ac-table-legend-row",9);_.L("toggleSelected",function(){_.t(b);const c=_.N().$implicit,d=_.N(2);return _.u(d.toggleSelected(c))})("mouseover",function(){_.t(b);const c=_.N().$implicit,d=_.N(2);return _.u(d.hover(c))})("mouseleave",function(){_.t(b);const c=_.N(3);return _.u(c.clearHover())});_.F()}if(a&2){a=_.N().$implicit;const b=_.N(2);_.C("ve",b.ve.SelectLineButton)("veClick",!0)("stream",a)("timeshift",!!b.timeshiftName)("ngStyle",a.style)("ngClass",a.cssClass)("labelPercents",
b.labelsModel.labelPercents)("columnFlexWidth",Efe(b))("scrollLeft",b.scrollLeft)("scale",b.scale)("widthDifference",b.widthDifference)}},Hfe=function(a,b){a&1&&(_.E(0,"div"),_.P(1,Gfe,1,11,"ac-table-legend-row",8),_.F());a&2&&(a=b.$implicit,b=_.N(2),_.x(1),_.C("ngIf",a!==b.HEADER))},Ife=function(a){if(a&1){const b=_.Pc();_.E(0,"div",1,2);_.L("scroll",function(){_.t(b);const c=_.N();return _.u(c.onScroll(!0))});_.E(2,"virtual-scroll",3);_.L("update",function(c){_.t(b);const d=_.N();return _.u(d.viewPortStreams=
c)});_.P(3,Ffe,2,12,"ac-table-legend-header",4);_.P(4,Hfe,2,1,"div",5);_.F()()}a&2&&(a=_.N(),_.C("draggable",a.isOnSdDashboard)("ve",a.ve.ChartLegendPane),_.x(2),_.C("items",a.streams)("childHeight",42)("ngStyle",a.virtualScrollStyle(a.labelsModel.scale))("scrollTop",a.scrollTop)("hasHeader",!0),_.x(1),_.C("ngIf",0<(null==a.streams?null:a.streams.length)),_.x(1),_.C("ngForOf",a.viewPortStreams))},Jfe=function(a){a&1&&_.I(0,"ac-stats-legend-header",11,7);a&2&&(a=_.N(2),_.C("columnKeys",a.statsColumnKeys)("valueName",
a.statsValueName)("allValuesName",a.allValuesName))},Kfe=function(a){if(a&1){const b=_.Pc();_.E(0,"ac-stats-legend-row",13);_.L("click",function(){_.t(b);const c=_.N().$implicit,d=_.N(2);return _.u(d.toggleSelected(c))})("mouseover",function(){_.t(b);const c=_.N().$implicit,d=_.N(2);return _.u(d.hover(c))})("mouseleave",function(){_.t(b);const c=_.N(3);return _.u(c.clearHover())});_.F()}if(a&2){a=_.N().$implicit;const b=_.N(2);_.C("ve",b.ve.SelectLineButton)("veClick",!0)("ngStyle",a.style)("ngClass",
a.cssClass)("stream",a)}},Lfe=function(a,b){a&1&&(_.E(0,"div"),_.P(1,Kfe,1,5,"ac-stats-legend-row",12),_.F());a&2&&(a=b.$implicit,b=_.N(2),_.x(1),_.C("ngIf",a!==b.HEADER))},Mfe=function(a){if(a&1){const b=_.Pc();_.E(0,"div",1,2);_.L("scroll",function(){_.t(b);const c=_.N();return _.u(c.onScroll(!0))});_.E(2,"virtual-scroll",3);_.L("update",function(c){_.t(b);const d=_.N();return _.u(d.statsViewPortStreams=c)});_.P(3,Jfe,2,3,"ac-stats-legend-header",10);_.P(4,Lfe,2,1,"div",5);_.F()()}a&2&&(a=_.N(),
_.C("draggable",a.isOnSdDashboard)("ve",a.ve.ChartLegendPane),_.x(2),_.C("items",a.statsStreams)("childHeight",42)("ngStyle",a.virtualScrollStyle(a.labelsModel.scale))("scrollTop",a.scrollTop)("hasHeader",!0),_.x(1),_.C("ngIf",0<a.statsStreams.length),_.x(1),_.C("ngForOf",a.statsViewPortStreams))},Nfe=function(a,b){b=b.map(c=>`configurationBuilder.${c}`).join(" or ");return`${a} of configurationBuilder has not been set.`+` Please call ${b} before trying to construct`+" a Configuration."},Ofe=function(a,
b){if("undefined"!==typeof gapi&&gapi.auth)if(a.preAuthenticatedAccessToken)a={access_token:a.preAuthenticatedAccessToken},gapi.auth.setToken(a),b(a);else{if(a.authenticationClientId)var c=a.authenticationClientId;else throw Error("nl");gapi.auth.authorize({client_id:c,scope:a.authScopes,immediate:a.authImmediate},b)}else setTimeout(Ofe.bind(void 0,a,b),1E3)},Pfe=function(a,b="fine",c=!1){const d={};let e;var f=null;a.hasNumeratorFilter?(e=a.numeratorFilter,f=a.denominatorFilter,d.denominatorFilter=
f.filter,d["denominatorAggregation.perSeriesAligner"]=f.perSeriesAligner,d["denominatorAggregation.groupByFields"]=f.groupByFields,d["denominatorAggregation.alignmentPeriod"]=f.minAlignmentPeriod,d["denominatorAggregation.crossSeriesReducer"]=f.crossSeriesReducer):e=a;d.filter=e.filter;e.minAlignmentPeriod&&(d["aggregation.alignmentPeriod"]=e.minAlignmentPeriod,d.minGranularity=e.minAlignmentPeriod);if(e.aggregations&&0<e.aggregations.length){a=e.aggregations[0];d["aggregation.groupByFields"]=a.groupByFields;
d["aggregation.perSeriesAligner"]=a.perSeriesAligner;d["aggregation.crossSeriesReducer"]=a.crossSeriesReducer;a.alignmentPeriod&&(d["aggregation.alignmentPeriod"]=a.alignmentPeriod);if(a.hasReduceMakeDistributionParams&&a.reduceMakeDistributionParams.hasBucketOptions){const l=a.reduceMakeDistributionParams.bucketOptions;l.hasLinearBuckets&&(d["aggregation.reduceMakeDistributionParams.bucketOptions.linearBuckets.numFiniteBuckets"]=l.linearBuckets.numFiniteBuckets,d["aggregation.reduceMakeDistributionParams.bucketOptions.linearBuckets.width"]=
l.linearBuckets.width,d["aggregation.reduceMakeDistributionParams.bucketOptions.linearBuckets.offset"]=l.linearBuckets.offset);l.hasExponentialBuckets&&(d["aggregation.reduceMakeDistributionParams.bucketOptions.exponentialBuckets.numFiniteBuckets"]=l.exponentialBuckets.numFiniteBuckets,d["aggregation.reduceMakeDistributionParams.bucketOptions.exponentialBuckets.growthFactor"]=l.exponentialBuckets.growthFactor,d["aggregation.reduceMakeDistributionParams.bucketOptions.exponentialBuckets.scale"]=l.exponentialBuckets.scale);
a.reduceMakeDistributionParams.hasExemplarSampling&&(d["aggregation.reduceMakeDistributionParams.exemplarSampling.minimumValue"]=a.reduceMakeDistributionParams.exemplarSampling.minimumValue)}2<=e.aggregations.length&&(a=e.aggregations[1],d["secondaryAggregation.perSeriesAligner"]=a.perSeriesAligner,d["secondaryAggregation.crossSeriesReducer"]=a.crossSeriesReducer,d["secondaryAggregation.groupByFields"]=a.groupByFields,a.alignmentPeriod&&(d["secondaryAggregation.alignmentPeriod"]=a.alignmentPeriod))}else d["aggregation.groupByFields"]=
e.groupByFields,d["aggregation.perSeriesAligner"]=e.perSeriesAligner,d["aggregation.crossSeriesReducer"]=e.crossSeriesReducer,d["secondaryAggregation.crossSeriesReducer"]=e.secondaryCrossSeriesReducer,d["secondaryAggregation.groupByFields"]=e.secondaryGroupByFields;let g,h;(null==(g=f)?0:g.aggregations)&&0<(null==(h=f)?void 0:h.aggregations.length)&&(f=f.aggregations[0],d["denominatorAggregation.groupByFields"]=f.groupByFields,d["denominatorAggregation.perSeriesAligner"]=f.perSeriesAligner,d["denominatorAggregation.crossSeriesReducer"]=
f.crossSeriesReducer,f.alignmentPeriod&&(d["denominatorAggregation.alignmentPeriod"]=f.alignmentPeriod));e.hasPickTimeSeriesFilter&&(d["pickTimeSeriesFilter.rankingMethod"]=e.pickTimeSeriesFilter.rankingMethod,d["pickTimeSeriesFilter.numTimeSeries"]=e.pickTimeSeriesFilter.numTimeSeries,d["pickTimeSeriesFilter.direction"]=e.pickTimeSeriesFilter.direction);d.granularity=b;d.useOnlySamplingRateWhenApplicable=c;return JSON.parse(JSON.stringify(d))},Qfe=function(a){if(a&1){const b=_.Pc();_.E(0,"div",9)(1,
"ac-subtitle-ng2",10);_.L("drawn",function(){_.t(b);const c=_.N();return _.u(c.subtitlesDrawn.emit())});_.Zd(2,"async");_.Zd(3,"async");_.F()()}a&2&&(a=_.N(),_.x(1),_.C("xyChart",a.xyChart)("domain",_.$d(2,4,a.domainStream))("data",_.$d(3,6,a.dataStream))("showResponsive",a.showResponsiveSubtitles))},Sfe=function(a){a&1&&_.I(0,"ac-table-legend",14,15);a&2&&(a=_.N(2),_.C("groupId",a.groupId)("chartType",Rfe.get(a.plotType))("dataLayerManager",a.dataLayerManager)("unitOverride",a.unitOverrideInternal)("resourceMetadataNamingFunctions",
a.resourceMetadataNamingFunctions)("colorManager",a.colorManager)("chartMode",a.forceChartMode||a.chartMode)("forceUnitChangeForRate",a.forceUnitChangeForRate)("isOnSdDashboard",a.isOnSdDashboard)("statsManager",a.statsManager)("height",a.tableLegendHeight)("ngStyle",{"min-height":a.tableLegendMinHeight.toString()+"px"})("timePinEnabled",a.timePinEnabled)("defaultSortingColumn",a.defaultSortingColumn)("defaultSortingDirection",a.defaultSortingDirection)("timePinDisableSnapToNow",a.timePinDisableSnapToNow)("valueFormatter",
a.legendValueFormatter||a.yAxisValueFormatter)("valueName",a.valueName))},Tfe=function(a){a&1&&_.I(0,"ac-inline-legend",16,15);a&2&&(a=_.N(2),_.C("colorManager",a.colorManager)("chartType",Rfe.get(a.plotType))("groupId",a.groupId)("forceUnitChangeForRate",a.forceUnitChangeForRate)("dataLayerManager",a.dataLayerManager)("unitOverride",a.unitOverrideInternal)("resourceMetadataNamingFunctions",a.resourceMetadataNamingFunctions)("timePinEnabled",a.timePinEnabled)("valueFormatter",a.legendValueFormatter||
a.yAxisValueFormatter))},Ufe=function(a){a&1&&(_.E(0,"div",11),_.P(1,Sfe,2,18,"ac-table-legend",12),_.P(2,Tfe,2,9,"ac-inline-legend",13),_.F());a&2&&(a=_.N(),_.C("ngSwitch",a.legendType),_.x(1),_.C("ngSwitchCase","table"),_.x(1),_.C("ngSwitchCase","inline"))},Vfe=function(a){a&1&&_.I(0,"ac-legacy-hovercard",17);a&2&&(a=_.N(),_.C("groupId",a.groupId)("dataLayerManager",a.dataLayerManager)("hintUnit",a.unitOverrideInternal)("resourceMetadataNamingFunctions",a.resourceMetadataNamingFunctions)("valueFormatter",
a.legendValueFormatter||a.yAxisValueFormatter))},Wfe=function(a,b,c=!1){"STACKED_BAR"===a.plotType&&(b=b||"coarse");return Pfe(a.hasTimeSeriesFilterRatio?a.timeSeriesFilterRatio:a.timeSeriesFilter,b||"fine",c)},Xfe=function({ds:a,projectId:b,appliedDrilldowns:c,queryAnalysis:d}){let e="fine";"STACKED_BAR"===a.plotType&&(e="coarse");let f;c={drilldownState:c,timingState:null==d?void 0:null==(f=d.timingAnalysis)?void 0:f.initialState};return{dlType:"qn",projectId:b,originalQueryText:a.timeSeriesQuery,
annotatedQueryText:null==d?void 0:d.annotatedQuery,granularity:e,transformations:c}},Yfe=function(a){const b=a.dataSets[0];a:{if(a.options.hasSortingOptions){if("ASCENDING"===a.options.sortingOptions.direction){var c=1;break a}if("DESCENDING"===a.options.sortingOptions.direction){c=-1;break a}}c=null}return{chartMode:(a.options.mode||_.qO.COLOR).toLowerCase().replace("_","-"),isOutlierMode:a.dataSets[0].hasTimeSeriesFilter&&a.dataSets[0].timeSeriesFilter.hasPickTimeSeriesFilter,plotType:b.plotType,
thresholdLines:a.constantLines||[],timeshiftDuration:a.timeshiftDuration||"",unitOverride:b.hasTimeSeriesFilterRatio&&b.timeSeriesFilterRatio.numeratorFilter.unitOverride||b.hasTimeSeriesFilter&&b.timeSeriesFilter.unitOverride||void 0,yAxisScale:a.y1Axis.scale||"LINEAR",defaultSortingColumn:a.options.hasSortingOptions&&a.options.sortingOptions.hasValueColumn?"VALUE":"",defaultSortingDirection:c}},$fe=function({xyChart:a,projectId:b,legendTemplates:c,shouldGenerateOutlierParams:d,granularity:e,strategyWhitelists:f,
appliedDrilldowns:g,queryAnalyses:h,applyFullSecondaryAggregation:l}){let n=[],r=[];(a=a.dataSets.map((v,w)=>{if(v.timeSeriesQuery){var y=Xfe({ds:v,projectId:b||"",appliedDrilldowns:g,queryAnalysis:null==h?void 0:h[w]});n=n||[];n.push([]);v.legendTemplate&&(y.legendTemplate=v.legendTemplate);f&&(y.strategyWhitelists=f);return y}const B=Wfe(v,e,!!l);B.projectId=b;y=v.plotType;c&&c.length>w?B.legendTemplate=c[w]:v.legendTemplate&&(B.legendTemplate=v.legendTemplate);f&&(B.strategyWhitelists=f);v={dlType:"gcmv3",
params:B};if(y=d?(new v5).getOutlierParams([v],"STACKED_AREA"===y):[])n=n||[],n.push(y);return v}))&&1===a.length&&(r=(new Zfe).getPercentileParams(a[0])||[]);return{dataLayerParams:a,outlierDLParams:n,percentileDLParams:r}},age=function(a){a=a.response;a=(a&&a.timeSeriesData||[]).flatMap(b=>b.pointData).filter(b=>b&&b.timeInterval&&b.timeInterval.startTime&&b.timeInterval.endTime).flatMap(b=>[b.timeInterval.startTime,b.timeInterval.endTime]).map(b=>Date.parse(b)).filter(b=>!isNaN(b));if(0===a.length)return[new Date,
new Date];a=a.reduce((b,c)=>[Math.min(b[0],c),Math.max(b[1],c)],[Number.MAX_VALUE,0]);return[new Date(a[0]),new Date(a[1])]},bge=function(a){let b,c;if((null==a?0:a.forcePercentZoom)&&void 0===(null==a?void 0:null==(b=a.includeRange)?void 0:b.min)&&void 0===(null==a?void 0:null==(c=a.includeRange)?void 0:c.max))return{min:0,max:100,unit:"%"};let d;return void 0!==(null==a?void 0:a.yTopMin)&&void 0===(null==a?void 0:null==(d=a.includeRange)?void 0:d.max)?Object.assign({},null==a?void 0:a.includeRange,
{max:a.yTopMin}):Object.assign({},null==a?void 0:a.includeRange)},cge=function(a){return null!==a},dge=function(a){a&1&&(_.E(0,"div")(1,"a",2),_.K(2,3),_.F()());a&2&&(a=_.N(),_.x(1),_.C("cfcDocHref",a.config.learnMoreLink)("ve",a.ve.MetricHelpLearnMoreButton)("veClick",!0),_.zd("aria-label",a.config.learnMoreLinkAriaLabel||"Learn more about the metric definition"))},ege=function(a,b){if(a&1){const c=_.Pc();_.E(0,"cfc-menu-item",7);_.L("click",function(){const d=_.t(c).$implicit;return _.u(d.callback())});
_.I(1,"span",8);_.F()}if(a&2){a=b.$implicit;b=_.N();let c;_.C("ve",a.ve)("veClick",!0)("veImpression",a.veImpression||b.defaultVeImpression)("label",a.label)("cfcDisable",null!==(c=a.disabled)&&void 0!==c?c:!1)("cfcDisableTooltip",a.disabledReason)("ngClass",a.className)("internalLink",a.internalLink)("internalLinkQueryParams",a.internalLinkQueryParams);_.x(1);_.C("ve",a.ve)("veImpression",a.veImpression||b.defaultVeImpression)}},fge=function(a,b){if(a&1){const c=_.Pc();_.Dd(0);_.E(1,"cfc-menu-item",
9);_.L("click",function(){const d=_.t(c).$implicit;return _.u(d.callback())});_.I(2,"span",8);_.F();_.Ed()}a&2&&(a=b.$implicit,b=_.N(),_.x(1),_.C("ve",a.ve)("veClick",!0)("veImpression",a.veImpression||b.defaultVeImpression)("label",a.label)("disabled",a.disabled)("ngClass",a.className),_.x(1),_.C("ve",a.ve)("veImpression",a.veImpression||b.defaultVeImpression))},gge=function(a,b){if(a&1){const c=_.Pc();_.E(0,"button",10);_.L("click",function(){const d=_.t(c).$implicit;return _.u(d.callback())});
_.I(1,"ace-icon",11);_.F()}a&2&&(a=b.$implicit,b=_.N(),_.C("ve",a.ve)("veClick",!0)("veImpression",a.veImpression||b.defaultVeImpression)("cmNativeDisabled",a.disabled)("cfcTooltip",a.tooltip||a.label)("ngClass",a.className)("type",a.buttonType?a.buttonType:"button"),_.zd("aria-label",a.tooltip||a.label)("aria-pressed",a.ariaPressed),_.x(1),_.C("iconset",a.iconset||b.defaultIconset)("icon",a.icon)("size",a.iconSize||b.defaultIconSize),_.zd("aria-hidden",a.iconAriaHidden||b.defaultAriaIconHidden))},
hge=function(a){if(a&1){const b=_.Pc();_.E(0,"button",12);_.L("click",function(){_.t(b);const c=_.N();return _.u(c.moreOptionsClick.emit())});_.I(1,"ace-icon",13);_.F()}if(a&2){a=_.N();const b=_.Rd(1);_.C("cfcMenuTriggerFor",b)("ve",a.ve.MoreButton)("veClick",!0)}},ige=function(a){a&1&&(_.E(0,"cfc-heading",12),_.Q(1),_.Zd(2,"async"),_.F());a&2&&(a=_.N(),_.C("semanticLevel",a.semanticHeadingLevel)("visualLevel",6)("removeMargins",!0)("textOverflowEllipsis",!0)("cfcTooltip",a.title),_.x(1),_.Sd(" ",
_.$d(2,6,a.displayTitle$)," "))},jge=function(a){a&1&&_.I(0,"cfc-chart-header-help-button",13);a&2&&(a=_.N(),_.C("config",a.chartHelpConfig))},kge=function(a){a&1&&_.Qd(0,4,["*ngIf","collapseHeader === false"])},lge=function(a){return null!==a},mge=function(a,b){return new Promise(c=>{const d=e=>{e.source===a.contentWindow&&e.data===b&&(window.removeEventListener("message",d),c(e))};window.addEventListener("message",d)})},nge=function(a){const b=_.mk(document,"IFRAME");if(!b.sandbox)throw Error("ql");
b.sandbox.value="allow-scripts";b.sandbox.supports&&b.sandbox.add&&b.sandbox.supports("allow-downloads")&&b.sandbox.add("allow-downloads");if(""==u9d){const c=_.Qb(`<!DOCTYPE html><body><input type="hidden" id="nonce" value="${t9d(a)}" /><script nonce="${t9d(_.dk())}">${'/*\n\n Copyright The Closure Library Authors.\n SPDX-License-Identifier: Apache-2.0\n*/\nvar f=function(){for(var b=Number(this),a=[],c=b;c<arguments.length;c++)a[c-b]=arguments[c];return a},h=this||self,k=function(b){return b};/*\n\n SPDX-License-Identifier: Apache-2.0\n*/\nvar l;var m={},n=function(b,a){this.g=a===m?b:""};n.prototype.toString=function(){return this.g.toString()};var p=function(b){return b instanceof n&&b.constructor===n?b.g:"type_error:SafeScript"},q=function(b){if(void 0===l){var a=null;var c=h.trustedTypes;if(c&&c.createPolicy)try{a=c.createPolicy("goog#html",{createHTML:k,createScript:k,createScriptURL:k})}catch(d){h.console&&h.console.error(d.message)}l=a}b=(a=l)?a.createScript(b):b;return new n(b,m)};function r(b,a){b.textContent=p(a);var c,d;(c=(a=null==(d=(c=(b.ownerDocument&&b.ownerDocument.defaultView||window).document).querySelector)?void 0:d.call(c,"script[nonce]"))?a.nonce||a.getAttribute("nonce")||"":"")&&b.setAttribute("nonce",c)};var t=function(b){var a=f.apply(1,arguments),c,d;"evalCspCompatiblyData"in window||(window.evalCspCompatiblyData={index:0});var e=window.evalCspCompatiblyData.index++;window.evalCspCompatiblyData[e]={args:a,callback:function(g,u){c=g;d=u}};a=document.createElement("script");a.async=!1;a.setAttribute("data-index",e);e=q(\'"use strict";\\v(function(){var idx=parseInt((document.currentScript||Array.prototype.slice.call(document.querySelectorAll("head script[data-index]"),-1)[0]).getAttribute("data-index"),10),curEvalData=evalCspCompatiblyData[idx];delete evalCspCompatiblyData[idx];(function(){var callback=curEvalData.callback;try{callback(true,(\'+\nString(p(b))+"\\n));}catch(ex){callback(false, ex);}}).apply(this, curEvalData.args);})()");r(a,e);e=function(g){c=!1;d=g.error||g};window.addEventListener("error",e);document.head.appendChild(a);window.removeEventListener("error",e);document.head.removeChild(a);if(!c)throw d;return d};var v=document.getElementById("nonce"),w=v?v.value:(new URL(location.href)).searchParams.get("nonce");function x(){if(self.origin)return"null"==self.origin;if(""!=location.host)return!1;try{return window.parent.escape(""),!1}catch(b){return!0}}\n(function(){if(!x())throw"sandboxing error";var b=new MessageChannel;b.port1.onmessage=function(a){try{var c=t.apply(null,[q("(function("+a.data.paramNames.join(", ")+") {\\n"+a.data.code+"\\n}).apply(null, arguments)")].concat(a.data.values));a.ports[0].postMessage({result:c})}catch(d){a.ports[0].postMessage({error:d.toString()})}};window.parent.postMessage(w,"*",[b.port2])})();\n'}\x3c/script></body>`);
a=_.Ub("data:text/html;charset=UTF-8;base64,"+btoa(c.toString()));b.srcdoc=_.Ob(c)}else a=v9d(new Map([["nonce",a]]));b.src=_.Xb(a).toString();b.style.cssText="height: 0; left: 0; position: absolute; top: 0; width: 0;";b.setAttribute("aria-hidden","true");return b},oge=function(){return new Promise(a=>{setTimeout(a,500)})},pge=function(a){switch(a){case "1h":return 36E5;case "6h":return 216E5;case "1d":return 864E5;case "1w":return 6048E5;case "1m":return 2592E6;case "6w":return 36288E5;default:throw Error("rl`"+
a);}},qge=function(a){if(a&1){const b=_.Pc();_.E(0,"button",1);_.L("click",function(){_.t(b);const c=_.N();return _.u(c.resetZoom.emit())});_.I(1,"mat-icon",2);_.F()}},rge=function(a){a&1&&(_.Uc(),_.E(0,"svg",3),_.I(1,"path",4),_.F())},sge=function(a){a&1&&(_.E(0,"tr",2)(1,"td",3),_.Q(2),_.F()());a&2&&(a=_.N(),_.x(1),_.Ad("padding-top",a._cellPadding)("padding-bottom",a._cellPadding),_.zd("colspan",a.numCols),_.x(1),_.Sd(" ",a.label," "))},tge=function(a){a&1&&(_.E(0,"td",3),_.Q(1),_.F());a&2&&(a=
_.N(2),_.Ad("padding-top",a._cellPadding)("padding-bottom",a._cellPadding),_.zd("colspan",a._firstRowOffset),_.x(1),_.Sd(" ",a._firstRowOffset>=a.labelMinRequiredCells?a.label:""," "))},uge=function(a,b){if(a&1){const c=_.Pc();_.E(0,"td",7)(1,"button",8);_.L("click",function(d){const e=_.t(c).$implicit,f=_.N(2);return _.u(f._cellClicked(e,d))})("focus",function(d){const e=_.t(c).$implicit,f=_.N(2);return _.u(f._emitActiveDateChange(e,d))});_.E(2,"div",9);_.Q(3);_.F();_.I(4,"div",10);_.F()()}if(a&
2){a=b.$implicit;b=b.index;const c=_.N().index,d=_.N();_.Ad("width",d._cellWidth)("padding-top",d._cellPadding)("padding-bottom",d._cellPadding);_.zd("data-mat-row",c)("data-mat-col",b);_.x(1);_.Bd("mat-calendar-body-disabled",!a.enabled)("mat-calendar-body-active",d._isActiveCell(c,b))("mat-calendar-body-range-start",d._isRangeStart(a.compareValue))("mat-calendar-body-range-end",d._isRangeEnd(a.compareValue))("mat-calendar-body-in-range",d._isInRange(a.compareValue))("mat-calendar-body-comparison-bridge-start",
d._isComparisonBridgeStart(a.compareValue,c,b))("mat-calendar-body-comparison-bridge-end",d._isComparisonBridgeEnd(a.compareValue,c,b))("mat-calendar-body-comparison-start",d._isComparisonStart(a.compareValue))("mat-calendar-body-comparison-end",d._isComparisonEnd(a.compareValue))("mat-calendar-body-in-comparison-range",d._isInComparisonRange(a.compareValue))("mat-calendar-body-preview-start",d._isPreviewStart(a.compareValue))("mat-calendar-body-preview-end",d._isPreviewEnd(a.compareValue))("mat-calendar-body-in-preview",
d._isInPreview(a.compareValue));_.C("ngClass",a.cssClasses)("tabindex",d._isActiveCell(c,b)?0:-1);_.zd("aria-label",a.ariaLabel)("aria-disabled",!a.enabled||null)("aria-pressed",d._isSelected(a.compareValue))("aria-current",d.todayValue===a.compareValue?"date":null);_.x(1);_.Bd("mat-calendar-body-selected",d._isSelected(a.compareValue))("mat-calendar-body-comparison-identical",d._isComparisonIdentical(a.compareValue))("mat-calendar-body-today",d.todayValue===a.compareValue);_.x(1);_.Sd(" ",a.displayValue,
" ")}},vge=function(a,b){a&1&&(_.E(0,"tr",4),_.P(1,tge,2,6,"td",5),_.P(2,uge,5,47,"td",6),_.F());if(a&2){a=b.$implicit;b=b.index;const c=_.N();_.x(1);_.C("ngIf",0===b&&c._firstRowOffset);_.x(1);_.C("ngForOf",a)}},wge=function(a,b,c){return null!==c&&b!==c&&a<c&&a===b},xge=function(a,b,c){return null!==b&&b!==c&&a>=b&&a===c},yge=function(a,b,c,d){return d&&null!==b&&null!==c&&b!==c&&a>=b&&a<=c},zge=function(a,b){a&1&&(_.E(0,"th",5)(1,"span",6),_.Q(2),_.F(),_.E(3,"span",7),_.Q(4),_.F()());a&2&&(a=b.$implicit,
_.x(2),_.Ud(a.long),_.x(2),_.Ud(a.narrow))},Bge=function(a,b,c,d,e){d=Age(a,d,e);return Math.floor((a.getYear(b)-d)/24)===Math.floor((a.getYear(c)-d)/24)},Cge=function(a,b,c,d){return((a.getYear(b)-Age(a,c,d))%24+24)%24},Age=function(a,b,c){let d=0;c?d=a.getYear(c)-24+1:b&&(d=a.getYear(b));return d},Dge=function(){},Ege=function(a){if(a&1){const b=_.Pc();_.E(0,"mat-month-view",5);_.L("activeDateChange",function(c){_.t(b);const d=_.N();return _.u(d.activeDate=c)})("_userSelection",function(c){_.t(b);
const d=_.N();return _.u(d._dateSelected(c))});_.F()}a&2&&(a=_.N(),_.C("activeDate",a.activeDate)("selected",a.selected)("dateFilter",a.dateFilter)("maxDate",a.maxDate)("minDate",a.minDate)("dateClass",a.dateClass)("comparisonStart",a.comparisonStart)("comparisonEnd",a.comparisonEnd))},Fge=function(a){if(a&1){const b=_.Pc();_.E(0,"mat-year-view",6);_.L("activeDateChange",function(c){_.t(b);const d=_.N();return _.u(d.activeDate=c)})("monthSelected",function(c){_.t(b);const d=_.N();return _.u(d._monthSelectedInYearView(c))})("selectedChange",
function(c){_.t(b);const d=_.N();return _.u(d._goToDateInView(c,"month"))});_.F()}a&2&&(a=_.N(),_.C("activeDate",a.activeDate)("selected",a.selected)("dateFilter",a.dateFilter)("maxDate",a.maxDate)("minDate",a.minDate)("dateClass",a.dateClass))},Gge=function(a){if(a&1){const b=_.Pc();_.E(0,"mat-multi-year-view",7);_.L("activeDateChange",function(c){_.t(b);const d=_.N();return _.u(d.activeDate=c)})("yearSelected",function(c){_.t(b);const d=_.N();return _.u(d._yearSelectedInMultiYearView(c))})("selectedChange",
function(c){_.t(b);const d=_.N();return _.u(d._goToDateInView(c,"year"))});_.F()}a&2&&(a=_.N(),_.C("activeDate",a.activeDate)("selected",a.selected)("dateFilter",a.dateFilter)("maxDate",a.maxDate)("minDate",a.minDate)("dateClass",a.dateClass))},Hge=function(){},Ige=function(a){a&1&&(_.E(0,"mat-error"),_.Q(1),_.F());a&2&&(a=_.N(),_.x(1),_.Sd(" Start date cannot be older than ",a.maxWeeksAgo," weeks. "))},Jge=function(a){a&1&&(_.E(0,"mat-error"),_.Q(1," Start date cannot be after today. "),_.F())},
Kge=function(a){a&1&&(_.E(0,"mat-error"),_.Q(1," End date cannot be after today. "),_.F())},Lge=function(a){a&1&&(_.E(0,"mat-error"),_.Q(1," End date must be after start date. "),_.F())},Mge=function(){const a=new Date;return[new Date(a.getTime()-36E5),a]},Nge=function(a){return`${a.getHours().toString().padStart(2,"0")}:${a.getMinutes().toString().padStart(2,"0")}`},Qge=function(a){if(a&1){const b=_.Pc();_.E(0,"button",4);_.L("click",function(){_.t(b);const c=_.N().$implicit;_.N().selectedTimeRangeChange.emit(Oge(c));
return _.u()});_.Q(1);_.F()}if(a&2){a=_.N().$implicit;const b=_.N();_.Bd("enabled",a===b.selectedTimeRange.timeRange);_.C("ve",Pge(b,a))("veClick",!0);_.x(1);_.Sd(" ",a," ")}},Rge=function(a,b){a&1&&(_.E(0,"span"),_.P(1,Qge,2,5,"button",3),_.F());a&2&&(a=b.$implicit,_.x(1),_.C("ngIf","custom"!==a))},Uge=function(a){if(a&1){const b=_.Pc();_.E(0,"span")(1,"mat-menu",5,6)(3,"sd-domain-range-selector",7);_.L("click",function(c){return c.stopPropagation()})("close",function(c){_.t(b);var d=_.N();c&&2===
c.length&&d.selectedTimeRangeChange.emit(new Sge("custom",new Tge(c[0],c[1])));d.customMenuTrigger.closeMenu();return _.u()});_.F()();_.E(4,"button",8,9);_.Q(6," custom ");_.F()()}if(a&2){const b=_.Rd(2);a=_.N();_.x(3);_.C("currentDomain",a.currentDomain);_.x(1);_.Bd("enabled","custom"===a.selectedTimeRange.timeRange);_.C("ve",a.ve.CustomRangeButton)("veClick",!0)("mat-menu-trigger-for",b)}},Wge=function(a,b){return"object"===typeof a&&null!==a&&void 0!==a&&"object"===typeof b&&null!==b&&void 0!==
b?(null==a?void 0:a.scaleType)===(null==b?void 0:b.scaleType)&&(null==a?void 0:a.min)===(null==b?void 0:b.min)&&(null==a?void 0:a.max)===(null==b?void 0:b.max)&&(null==a?void 0:a.unit)===(null==b?void 0:b.unit)&&(null==a?void 0:a.tickIncrement)===(null==b?void 0:b.tickIncrement)&&(null==a?void 0:a.absoluteMin)===(null==b?void 0:b.absoluteMin)&&Vge(null==a?void 0:a.ticks,null==b?void 0:b.ticks):a===b},Vge=function(a,b){if(a&&b&&Array.isArray(a)&&Array.isArray(b)){if(a.length!==b.length)return!1;for(let c=
0;c<a.length;c++){const d=a[c],e=b[c];if(!d||!e||d.label!==e.label||d.value!==e.value)return!1}return!0}return a===b},w5=function(a,b,c,d,e){return(e-a)/(b-a)*(d-c)+c},Xge=function(a,b,c,d,e){return a===c?b:(b*(c-e)+d*(e-a))/(c-a)},Yge=function(a,b,c,d,e){return c.map((f,g)=>w5(a,b,c[g],d[g],e))},Zge=function(a,b,c=.001,d=1){a*=d;b*=d;c=c*d/2;const e=Math.log;d=-e(-(0>a?a:-c));const f=-e(-(0>b?b:-c));a=e(0<a?a:c);b=e(0<b?b:c);return{fakeZero:c,negMin:d,negMax:f,posMin:a,posMax:b,difference:a-f}},
$ge=function(a,b,c,d,e,f=.001,g=1){const {negMin:h,posMax:l,posMin:n,difference:r}=Zge(a,b,f,g);a=Math.log;b=n;0>e?b=-a(-e)+r:0<e&&(b=a(e));return w5(h+r,l,c,d,b)},ahe=function(a,b,c,d,e,f=.001,g=1){const {fakeZero:h,negMin:l,posMax:n,difference:r}=Zge(a,b,f,g);a=w5(c,d,l+r,n,e);return 1E-12<Math.log(h)-a?-Math.exp(-(a-r)):1E-12<a-Math.log(h)?Math.exp(a):0},bhe=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},che=function(a){return{key:a,coef:1,suffix:a,base:0,scale:0}},dhe=function(a){return{key:a,
coef:1,suffix:a,compatibilityKeys:["0"],operators:[],components:[che(a)]}},hhe=function(a){var b=a.match(ehe);if(!b)return che(a);const c=b[1]||"";b=b[2]||"";if(!c&&!b)return che(a);c&&!b&&(b="1");a=fhe[b];if(c){const d=ghe[c];return Object.assign({},a,{key:"1"===b?c:`${c}${a.key}`,coef:a.coef*d.coef,suffix:`${c}${a.suffix||""}`,scale:d.scale})}return a},x5=function(a){a=a.trim();a=a.replace(/\s/g,"");a=a.replace("(rate)","/s");a=a.replace(/([^\.\/\{\}]+)(\{[^\{\}]+\})/g,"$1");a=a.replace(/\{[^\{\}]+\}/g,
"1");return ihe(a)},ihe=function(a){var b=/^(.*?)(\.|\/)?([^\/\.]*)$/;let [,c,d,e]=a.match(b)||[];var f=c;let g=d;if(e){a=jhe[e]||e;const [,l,n,r]=a.match(b)||[];l&&(f=(f||"").concat(g||"",l),g=n,a=r);b=hhe(a);if(f&&g){f=ihe(f);const v=hhe(a);a="/"===g?f.coef/v.coef:f.coef*v.coef;b="/"===g&&5===v.base;const w=1===f.components.length&&f.components[0].base===v.base;if(!b&&w){var h=khe(v.scale,v.base,a);if(h)return{key:h.key,coef:h.coef,prefix:h.prefix,suffix:h.suffix,compatibilityKeys:1===a&&"/"===
g?[String(h.base),"1"]:[String(h.base)],operators:[],components:[h]}}h=f.compatibilityKeys.map(y=>`${y}${g}${v.base}`);return{key:`${f.key}${g}${v.key}`,coef:a,prefix:f.prefix||"",suffix:`${f.suffix||""}${g}`+`${v.prefix||""}${v.suffix||""}`,compatibilityKeys:w&&b?h.concat(["1"]):h,operators:f.operators.concat([g]),components:f.components.concat([v])}}return{key:b.key,coef:b.coef,prefix:b.prefix,suffix:b.suffix,compatibilityKeys:[String(b.base)],operators:[],components:[b]}}return dhe(a)},khe=function(a=
1,b,c){b=lhe[`${a},${b}`];a=null;for(const d of b)b=hhe(d),b.coef===c&&(a=b);return a},mhe=function(a,b,c={}){a=x5(a);if(0===a.components.length)return null;var d=null;for(let l=0;l<a.components.length;l++){var e=a.operators[l-1],f=a.components[l];if(!(c.neverScaleRates&&0<l&&"/"===e&&5===f.base)){{e="."!==e&&e?!b:b;const n=lhe[`${f.scale||1},${f.base}`];n?(f=n.indexOf(f.key),e=0>f?null:(e=n[f+(e?1:-1)])?hhe(e):null):e=null}if(e){b=a.components.slice(0,l).concat([e]).concat(a.components.slice(l+1));
c="";for(d=0;d<b.length;d++)c+=(a.operators[d-1]||"")+b[d].key;d=x5(c);break}}}let g,h;return null!=(h=null==(g=d)?void 0:g.key)?h:null},y5=function(a){return null!==a&&"{not_a_unit}"!==a},z5=function(a,b){if(0===a)return 0;var c=Infinity;if(b)for(c=0;1>Math.abs(b);)c++,b*=10;for(b=0;1>Math.abs(a)&&b<c;)b++,a*=10;c=Number(a.toFixed(4));if(b){a=b+4;try{return Number((c/10**b).toFixed(a))}catch(d){if(d instanceof RangeError){if(0>a)throw Error("sl");return 0}throw d;}}return c},nhe=function(a){return/^((.*)[/]\2)|1$/.test(a)},
ohe=function(a,b){return a.compatibilityKeys.some(c=>b.compatibilityKeys.includes(c))||nhe(a.key)&&nhe(b.key)},phe=function(a,b){if(a===b)return!0;if(!y5(a)||!y5(b))return!1;a=x5(a);b=x5(b);return ohe(a,b)},A5=function(a,b){if(a===b)return 1;if(!y5(a)||!y5(b))return null;a=x5(a);b=x5(b);return ohe(a,b)?a.coef/b.coef:null},B5=function(a,b,c){return null===c||void 0===c?null:a===b?z5(c):y5(a)&&y5(b)?(a=A5(a,b))?z5(c*a):null:null},qhe=function(a,b={}){return mhe(a,!0,b)},rhe=function(a,b={}){return mhe(a,
!1,b)},vhe=function(a,b=3){const c=Math.floor(Math.log(a)/Math.LN10);a/=Math.pow(10,c);switch(b){case 1:b=5<a?10:2<a?5:1<a?2:1;break;case 2:b=2>a?1:5>a?2:10>a?5:10;break;default:b=a>=she?10:a>=the?5:a>=uhe?2:1}return b*Math.pow(10,c)},C5=function(a,b,c){b=y5(b)&&x5(b)||dhe("");const d=0>a?"-":"";a=z5(Math.abs(a));if(0===a)return"0";let e=new _.Yp(1);(null==c?0:c.maximumFractionDigits)&&_.Zp(e,c.maximumFractionDigits);(null==c?0:c.significantDigits)&&_.gZa(e,c.significantDigits);if(1E-9>a||1E12<a)if(e=
new _.Yp(2),_.gZa(e,3),1!==b.coef){c=b;for(var f=1<c.coef;null!==c&&1!==c.coef&&(f&&1<c.coef||!f&&1>c.coef);){let g;g=f?rhe(c.key):qhe(c.key);if(!g)break;c=x5(g)}f=A5(b.key,c.key);null!==f&&c&&(a*=f,b=c)}0<b.components.length&&3===b.components[0].base&&1===b.components[0].coef&&0!==a%1&&(e=new _.Yp("#,##0.00"));return`${d}${b.prefix||""}`+`${e.format(a)}${b.suffix||""}`},yhe=function(a,b){var c=z5(Math.abs(a.min)),d=z5(Math.abs(a.max)),e=Math.min(c,d);d=Math.max(c,d);var f=b.idealMaxMagnitude-b.idealMinMagnitude;
if(0===e&&0===d)return a;c=a.unit;if(phe(a.unit,"%"))c="%";else{f=Math.log10(d)-Math.log10(e)>f;e=0===e||f?d:e;var g=Math.log10(e);d=a.unit;f=g>b.idealMaxMagnitude?2:g<b.idealMinMagnitude?1:0;if(0===f)return a;for(;whe(f,g,b,a.unit);){c=d;d=xhe(f,d,b);if(!d)break;g=B5(a.unit,d,e);if(null===g)break;g=Math.log10(g)}}b=B5(a.unit,c,a.min);e=B5(a.unit,c,a.max);return null===b||null===e?a:{min:b,max:e,unit:c}},whe=function(a,b,c,d){if((b>c.countPrefixMaxMagnitude||b<c.countPrefixMinMagnitude)&&phe(d,"1"))return!1;
switch(a){case 2:return b>c.idealMinMagnitude;case 1:return b<c.idealMaxMagnitude;default:return!1}},xhe=function(a,b,c={}){if(!b)return null;switch(a){case 2:return qhe(b,c);case 1:return rhe(b,c);default:return null}},Ahe=function(a,b){return zhe.format(a,b)},D5=function(a){const b=a.previousValue;a=a.currentValue;return!(!a||null===a.min||null===a.max||b&&a.min===b.min&&a.max===b.max)},Bhe=function(a){const b=a.previousValue;a=a.currentValue;return!((!b||a)&&(!a||b&&(null==a?void 0:a.ticks)===
(null==b?void 0:b.ticks)))},Che=function(a){const b=a.previousValue;a=a.currentValue;return!(!a||(null==b?void 0:b.timezoneOffset)===a.timezoneOffset)},Dhe=function(a){const b=a.previousValue;a=a.currentValue;return!(!a||(null==b?void 0:b.timeZoneId)===a.timeZoneId)},E5=function(a,b,c){const d=a.min,e=a.max;return null!==d&&null!==e?f=>w5(1*d,1*e,b,c,f):null},F5=function(a,b,c){const d=a.min,e=a.max;return null!==d&&null!==e?f=>w5(b,c,1*d,1*e,f.valueOf()):null},Ehe=function(a,b){const c=a.getTransform&&
a.getTransform()||a.getTransform&&a.getTransform();let d,e,f,g,h,l;c&&(null!=(d=c.a)?d:c.a)===b&&0===(null!=(e=c.b)?e:c.b)&&0===(null!=(f=c.c)?f:c.c)&&(null!=(g=c.d)?g:c.d)===b&&0===(null!=(h=c.e)?h:c.e)&&0===(null!=(l=c.f)?l:c.f)||a.setTransform(b,0,0,b,0,0)},G5=function(a,b={}){var c;c||(c=window.devicePixelRatio||2);b.globalAlpha&&a.globalAlpha!==b.globalAlpha&&(a.globalAlpha=b.globalAlpha);b.font&&a.font!==b.font&&(a.font=b.font);b.fillStyle&&a.fillStyle!==b.fillStyle&&(a.fillStyle=b.fillStyle);
b.textAlign&&a.textAlign!==b.textAlign&&(a.textAlign=b.textAlign);b.textBaseline&&a.textBaseline!==b.textBaseline&&(a.textBaseline=b.textBaseline);b.strokeStyle&&a.strokeStyle!==b.strokeStyle&&(a.strokeStyle=b.strokeStyle);b.lineWidth&&a.lineWidth!==b.lineWidth&&(a.lineWidth=b.lineWidth);b.lineCap&&a.lineCap!==b.lineCap&&(a.lineCap=b.lineCap);const d=a.getLineDash();!b.lineDash||(null==d?0:d.length)&&!b.lineDash.some((e,f)=>d[f]!==e)||a.setLineDash(b.lineDash);b.globalCompositeOperation&&a.globalCompositeOperation!==
b.globalCompositeOperation&&(a.globalCompositeOperation=b.globalCompositeOperation);Ehe(a,c)},H5=function(a,b,c,d="transparent",e){const f=a.getContext("2d");if(!f)throw Error("tl");e||(e=window.devicePixelRatio||2);a.style.height=`${b}px`;a.style.width=`${c}px`;a.width=c*e;a.height=b*e;Ehe(f,e);Fhe(a,d,e)},Fhe=function(a,b="transparent",c){const d=a.getContext("2d");if(!d)throw Error("tl");c||(c=window.devicePixelRatio||2);d.save();"transparent"===b?d.clearRect(0,0,a.width/c,a.height/c):(d.fillStyle=
b,d.fillRect(0,0,a.width/c,a.height/c),d.fill());d.restore()},I5=function(a,b=1){return b%2?a.map(c=>Math.round(c+.5)-.5):a.map(c=>Math.round(c))},Ghe=function(a,b,c,d){a.fillText(b,c,d);return a.measureText(b).width},Hhe=function(a,b,c,d=.6){c=new Path2D(c);const e=new Path2D;e.addPath(c,{a:d,b:0,c:0,d,e:a,f:b});return e},Ihe=function(a,b,c,d,e){if(!d)return a;b=d.x<b?{x0:d.x,y0:d.y,x1:b,y1:c}:{x0:b,y0:c,x1:d.x,y1:d.y};return b.x0>=e.left-1&&b.x0<=e.right+1&&b.y0>=e.top-1&&b.y0<=e.bottom+1&&(!a||
Math.max(a.x0,a.x1)<=b.x0)?b:a},J5=function(a){const b=a.previousValue;a=a.currentValue;return!a||b&&a.height===b.height&&a.width===b.width&&a.margins.top===b.margins.top&&a.margins.right===b.margins.right&&a.margins.bottom===b.margins.bottom&&a.margins.left===b.margins.left?!1:!0},Jhe=function(a){var b=a.previousValue,c=a.currentValue;if(!b||!c)return!b&&c||b&&!c?!0:!1;a=b.width-b.margins.left-b.margins.right;b=b.height-b.margins.top-b.margins.bottom;const d=c.width-c.margins.left-c.margins.right;
c=c.height-c.margins.top-c.margins.bottom;return!a||!d||.4<=Math.abs(d/a-1)||!b||!c||.4<=Math.abs(c/b-1)},K5=function(a){const b=a.previousValue;a=a.currentValue;return!a||null===a.min||null===a.max||b&&(null===b.min||null===b.max||a.min===b.min&&a.max===b.max&&a.absoluteMin===b.absoluteMin&&a.scaleType===b.scaleType)?!1:!0},L5=function(a,b,c,d){const e=a.unit,f=a.min,g=a.max,h=a.absoluteMin;a=a.scaleType;if(null!==f&&null!==g&&b!==c){const l=A5(e,d)||1;return 1===a&&null!==h?n=>$ge(f,g,c,b,n,h,l):
n=>w5(f*l,g*l,c,b,n)}return null},Khe=function(a,b,c,d){const e=a.unit,f=a.min,g=a.max,h=a.absoluteMin;a=a.scaleType;if(null!==f&&null!==g){const l=A5(e,d)||1;return 1===a&&null!==h?n=>ahe(f,g,c,b,n,h,l):n=>w5(c,b,f*l,g*l,n)}return null},M5=function(a){return a.filter(b=>!b.ignoreSeriesForHighlighting)},Lhe=function(a){var b=a.previousValue;if(a=a.currentValue){if(!b)return!0;b=b.byLayer.entities;a=Object.values(a.byLayer.entities).filter(c=>!!c);b=Object.values(b).filter(c=>!!c);if(a.length){if(!b.length)return!0;
a=Array.from(new Set(a.reduce((c,d)=>c.concat(M5(d.selectedSeries)).concat(M5(d.hoveredSeries)),[])));b=Array.from(new Set(b.reduce((c,d)=>c.concat(M5(d.selectedSeries)).concat(M5(d.hoveredSeries)),[])));return 0===a.length&&0<b.length||0===b.length&&0<a.length}}return!1},Mhe=function(a,b){return a.some(c=>{const d=b.find(g=>g.seriesId===c.seriesId);let e,f;return d&&(null==(e=c.datumIndices)?void 0:e.length)===(null==(f=d.datumIndices)?void 0:f.length)?c.datumIndices&&d.datumIndices?c.datumIndices.some(g=>
!d.datumIndices.find(h=>g===h)):!1:!0})},N5=function(a,b){return a.length!==b.length||Mhe(a,b)||Mhe(b,a)},Nhe=function(a,b){const c=a.previousValue,d=a.currentValue;if(d){if(!c)return!0;a=[];let e=[];if(b)a=d.byLayer.entities[b],a=((null==a?void 0:a.selectedSeries)||[]).concat((null==a?void 0:a.hoveredSeries)||[]),b=c.byLayer.entities[b],e=((null==b?void 0:b.selectedSeries)||[]).concat((null==b?void 0:b.hoveredSeries)||[]);else{for(const f of Object.values(d.byLayer.entities))f&&(a=a.concat(f.selectedSeries).concat(f.hoveredSeries));
for(const f of Object.values(c.byLayer.entities))f&&(e=e.concat(f.selectedSeries).concat(f.hoveredSeries))}return N5(M5(a),M5(e))}return!1},Ohe=function(a,b){var c=a.previousValue;a=a.currentValue;if(!a||!c)return[];let d=[],e=[];if(b){c=c.byLayer.entities[b];let g;d=(null==(g=a.byLayer.entities[b])?void 0:g.selectedSeries)||[];e=(null==c?void 0:c.selectedSeries)||[]}else{for(const g of Object.values(a.byLayer.entities))g&&(d=d.concat(g.selectedSeries));for(const g of Object.values(c.byLayer.entities))g&&
(e=e.concat(g.selectedSeries))}b=d.map(g=>g.seriesId);const f=e.map(g=>g.seriesId);return b.filter(g=>!f.includes(g))},Phe=function(a,b){return a.some(c=>!b.find(d=>d.annotationId===c.annotationId))},Qhe=function(a,b){return a.length!==b.length||Phe(a,b)||Phe(b,a)},P5=function(a){return(b,c)=>{if(c.type===O5.type&&0<c.actions.length){const [d,...e]=c.actions;b=a(b,d);for(const f of e)b=a(b,f);return b}return a(b,c)}},Q5=function(a){const [b,c]=a;return{previousValue:b,currentValue:c}},R5=function(a,
b){return{previousValue:a.previousValue&&b(a.previousValue)||null,currentValue:a.currentValue&&b(a.currentValue)||null}},T5=function(a,b,c,d,e,f,g,h){return new S5({getKey:a,getSelector:(l,n)=>{const r=n.getSelector(c,l),v=d?n.getSelector(d,l):void 0,w=e?n.getSelector(e,l):void 0,y=f?n.getSelector(f,l):void 0,B=g?n.getSelector(g,l):void 0;l=h?n.getSelector(h,l):void 0;return v&&w&&y&&B&&l?_.qe([r,v,w,y,B,l]).pipe(_.U(([G,O,T,J,R,ra])=>Rhe(G,O,T,J,R,ra,b))):v&&w&&y&&B?_.qe([r,v,w,y,B]).pipe(_.U(([G,
O,T,J,R])=>Rhe(G,O,T,J,R,b))):v&&w&&y?_.qe([r,v,w,y]).pipe(_.U(([G,O,T,J])=>Rhe(G,O,T,J,b))):v&&w?_.qe([r,v,w]).pipe(_.U(([G,O,T])=>Rhe(G,O,T,b))):v?_.qe([r,v]).pipe(_.U(([G,O])=>Rhe(G,O,b))):r.pipe(_.U(G=>Rhe(G,b)))}})},She=function(a,b){return a===b},The=function(a,b){return null!=a&&Object.getPrototypeOf(a)===Object.prototype&&null!=b&&Object.getPrototypeOf(b)===Object.prototype?_.lz(a,b):Array.isArray(a)&&Array.isArray(b)?_.qy(a,b):a===b},U5=function({chartGroupId:a,chartId:b,xAxisId:c}){return`chartGroupId:${a},chartId:${b},xAxisId:${c}`},
Uhe=function({chartGroupId:a,chartId:b,xAxisId:c,layerId:d}){return`chartGroupId:${a},chartId:${b},xAxisId:${c},layerId:${d}`},Vhe=function({chartId:a}){return`chartId:${a}`},V5=function({chartGroupId:a}){return`chartGroupId:${a}`},Whe=function(){return _.zh(W5,a=>a.focus)},Yhe=function({chartId:a}){return _.zh(Xhe,b=>b.entities[a])},X5=function({chartId:a}){return _.zh(Zhe,b=>b.entities[a])},aie=function({chartId:a}){return _.zh($he,b=>b.entities[a])},bie=function({chartId:a}){let b=[];return _.zh($he,
c=>{const d=[];if(c=c.entities[a])for(const e of Object.values(c.byLayer.entities))if(e)for(const f of Object.values(e.bySeries.entities))f&&f.dataSeriesMetadata&&d.push(f.dataSeriesMetadata);return d.length===b.length&&b.every((e,f)=>e===d[f])?b:b=d})},die=function({chartId:a}){return _.zh(bie({chartId:a}),b=>{const c={metric:new Set,shortMetric:new Set,aligner:new Set,primaryReducer:new Set,secondaryReducer:new Set,filter:{}};for(const l of b){var d=c,e=l,f=null;e&&e.metric&&e.metric.type&&(f=e.metric.type);
f&&d.metric.add(f);e&&e.shortMetric&&d.shortMetric.add(e.shortMetric);if(e.requestParams&&(e.requestParams["aggregation.perSeriesAligner"]&&d.aligner.add(e.requestParams["aggregation.perSeriesAligner"]),e.requestParams["aggregation.crossSeriesReducer"]&&d.primaryReducer.add(e.requestParams["aggregation.crossSeriesReducer"]),e.requestParams["secondaryAggregation.crossSeriesReducer"]&&d.secondaryReducer.add(e.requestParams["secondaryAggregation.crossSeriesReducer"]),f&&e.requestParams.filter))for(d.filter[f]||
(d.filter[f]={count:0,entries:{}}),b=d.filter[f].entries,d.filter[f].count++,d=_.eO(new _.fO(e.requestParams.filter)),e=0;d&&e<d.length;){var g=d[e++],h=d[e++];f=d[e++];g=g&&g.toString();h=h&&h.toString();f=f&&f.toString();g&&h&&f&&(g=g.replace(/\./g,"").replace(/"/g,"")+(cie[h]||""),b[g]||(b[g]={count:0,set:new Set}),b[g].count++,b[g].set.add(h+f))}}return{metric:c.metric.size,shortMetric:c.shortMetric.size,aligner:c.aligner.size,primaryReducer:c.primaryReducer.size,secondaryReducer:c.secondaryReducer.size,
filter:c.filter}})},fie=function({chartGroupId:a}){return _.zh(eie,b=>b.entities[a])},gie=function(...a){return _.S(null).pipe(_.Gf(...a),_.af(1),_.U(([,...b])=>b))},hie=function(...a){return b=>b.pipe(_.Gf(...a),_.U(([,...c])=>c))},Y5=function(a,b){const c=null==b?void 0:b.runOutsideAngular;return d=>new _.ge(e=>d.subscribe({next:f=>{c?a.runOutsideAngular(()=>{e.next(f)}):a.run(()=>{e.next(f)})},error:f=>{c?a.runOutsideAngular(()=>{e.error(f)}):a.run(()=>{e.error(f)})},complete:()=>{c?a.runOutsideAngular(()=>
{e.complete()}):a.run(()=>{e.complete()})}}))},iie=function(a){return a.viewHandler&&void 0===a.viewHandlerUsingContext},jie=function(a){return a.viewHandlerUsingContext&&void 0===a.viewHandler},kie=function(a){return a.componentHandler&&void 0===a.componentHandlerUsingContext},lie=function(a){return a.componentHandlerUsingContext&&void 0===a.componentHandler},nie=function({chartGroupId:a}){return _.zh(mie,b=>b.entities[a])},pie=function({chartId:a}){return _.zh(oie,b=>b.entities[a])},rie=function({chartId:a}){return _.zh(qie,
b=>b.entities[a])},tie=function({chartId:a}){return _.zh(sie,b=>b.entities[a])},vie=function({chartId:a}){return _.zh(uie,b=>b.entities[a])},xie=function({chartId:a}){return _.zh(wie,b=>b.entities[a])},zie=function({chartId:a}){return _.zh(yie,b=>b.entities[a])},Aie=function(a){let b,c;return _.zh(zie(a),d=>{let e=c,f=void 0;if(d){f=Object.values(d.byLayer.entities).reduce((h,l)=>{let n;return h.concat(null!=(n=null==l?void 0:l.tooltipAnnotations)?n:[])},[]);let g;Qhe(null!=(g=b)?g:[],f)&&(e={annotationIds:f.map(h=>
h.annotationId)})}else e=void 0;b=f;return c=e})},Cie=function({chartId:a}){return _.zh(Bie,b=>b.entities[a])},Z5=function(a){return a.chartId},$5=function(a,b){return(c,{chartId:d})=>c.entities[d]?c:a.addOne(Object.assign({},b,{chartId:d}),c)},a6=function(a){return(b,{chartId:c})=>a.removeOne(c,b)},b6=function(a,b){return(c,{previousChartId:d,currentChartId:e})=>d&&e&&c.entities[d]?a.mapOne({id:d,map:f=>Object.assign({},f,{chartId:e})},c):d&&c.entities[d]||c.entities[e]?c:a.addOne(Object.assign({},
b,{chartId:e}),c)},Die=function(a,b){return(c,{chartId:d,previousLayerId:e,currentLayerId:f})=>{d=c.entities[d];if(!d||!e||!d.byLayer.entities[e])return c;e=b.mapOne({id:e,map:g=>Object.assign({},g,{layerId:f})},d.byLayer);return a.upsertOne(Object.assign({},d,{byLayer:e}),c)}},Eie=function(a){return a.chartGroupId},Fie=function(a,b){return(c,{chartGroupId:d})=>c.entities[d]?c:a.addOne(Object.assign({},b,{chartGroupId:d}),c)},Gie=function(a){return(b,{chartGroupId:c})=>a.removeOne(c,b)},Hie=function(a){return a.layerId},
Jie=function(){var a=c6,b=Iie;return(c,{chartId:d,yAxisId:e})=>c.entities[`${d},${e}`]?c:a.addOne(Object.assign({},b,{chartId:d,yAxisId:e}),c)},d6=function(a,b,c){return c&&b&&"chart_group"!==c?`chartId:${b},xAxisId:${c}`:`chartGroupId:${a}`},Kie=function(a){if(3===a.length)return a.toUpperCase();a=a.replace(/\//g,"").replace(/_/g,"").replace(/-/g,"");return a=a.charAt(0).toLowerCase()+a.substring(1)},Nie=function(a){if(a){let b;const c=null!=(b=Lie[a])?b:Lie[Kie(a)];if(c)return _.Rr(c)}a=Intl.DateTimeFormat().resolvedOptions().timeZone;
return(a=Lie[Kie(a)])?_.Rr(a):_.Rr(Mie)},e6=function(a,b){return b?Nie(b):_.Rr(null!=a?a:Mie)},Oie=function(a,b){return"object"===typeof a&&null!==a&&void 0!==a&&"object"===typeof b&&null!==b&&void 0!==b?Wge(a,b)&&(null==a?void 0:a.maximumFractionDigits)===(null==b?void 0:b.maximumFractionDigits):a===b},Pie=function(a,b){return"object"===typeof a&&null!==a&&void 0!==a&&"object"===typeof b&&null!==b&&void 0!==b?Wge(a,b)&&(null==a?void 0:a.maximumFractionDigits)===(null==b?void 0:b.maximumFractionDigits):
a===b},Qie=function(a,b,c){if(!a)return null;let d=-Infinity,e=Infinity,f=Infinity;for(const g of a.series)for(const h of g.data){let l;if(null!==b&&(null!=(l=h.x0)?l:h.x).valueOf()<b||null!==c&&h.x.valueOf()>c)continue;let n,r;d=Math.max(d,h.y,null!=(n=h.y0)?n:d,null!=(r=h.y1)?r:d);let v,w;e=Math.min(e,h.y,null!=(v=h.y0)?v:e,null!=(w=h.y1)?w:e);f=Math.min(f,Math.abs(h.y||f),Math.abs(h.y0||f),Math.abs(h.y1||f))}return-Infinity===d||Infinity===e?null:{priority:1,absoluteMin:f,min:e,max:d,unit:a.unit}},
Rie=function(a,b){return{x0:b,x1:a,max:-Infinity,min:Infinity,absoluteMin:Infinity}},Sie=function(a){if(null==a||!a.series)return null;const b=new Map;for(const c of a.series)for(const d of c.data){a=d.x.valueOf();let e,f;const g=b.get(a)||Rie(a,null!=(f=null==(e=d.x0)?void 0:e.valueOf())?f:void 0);let h,l,n;g.max=Math.max(g.max,d.y,null!=(h=d.y0)?h:-Infinity,null!=(l=d.y1)?l:-Infinity,null!=(n=d.max)?n:-Infinity);let r,v,w;g.min=Math.min(g.min,d.y,null!=(r=d.y0)?r:Infinity,null!=(v=d.y1)?v:Infinity,
null!=(w=d.min)?w:Infinity);g.absoluteMin=Math.min(g.absoluteMin,Math.abs(d.y||Infinity),Math.abs(d.y0||Infinity),Math.abs(d.y1||Infinity),Math.abs(d.min||Infinity));b.set(a,g)}return 0===b.size?null:Array.from(b.values()).sort((c,d)=>c.x1-d.x1)},Tie=function(a,b,c,d){if(!a)return null;if(c)a:{var e=0,f=a.length-1;let l=Math.floor((e+f)/2);for(;e<f;){if(c<a[l].x1)f=l;else if(c>a[l].x1)e=l+1;else{c=l;break a}l=Math.floor((e+f)/2)}var g;c=null!=(g=l)?g:0}else c=0;g=c;if(d)a:{c=0;e=a.length-1;for(f=
Math.ceil((c+e)/2);c<e;){let l;if(d<(null!=(l=a[f].x0)?l:a[f].x1))e=f-1;else{let n;if(d>(null!=(n=a[f].x0)?n:a[f].x1))c=f;else{d=f;break a}}f=Math.ceil((c+e)/2)}var h;d=null!=(h=f)?h:a.length-1}else d=a.length;h=d;d={max:-Infinity,min:Infinity,absoluteMin:Infinity};for(const l of a.slice(g,h+1))d.max=Math.max(d.max,l.max),d.min=Math.min(d.min,l.min),d.absoluteMin=Math.min(d.absoluteMin,l.absoluteMin||Infinity);return Object.assign({},{priority:1},d,{unit:b})},Uie=function(a,b){return!!(!a&&b||a&&
!b||a&&b&&(a.min!==b.min||a.max!==b.max||a.absoluteMin!==b.absoluteMin||a.unit!==b.unit||a.priority!==b.priority))},Vie=function(a){if(!a)return null;const b=a.xAxisUnit||"ms_since_epoch";let c=-Infinity,d=Infinity;for(const f of a.series){var e=f.data;0!==e.length&&(a=e[0],e=e[e.length-1],c=Math.max(c,a.x.valueOf(),e.x.valueOf()),d=Math.min(d,(a.x0||a.x).valueOf(),(e.x0||e.x).valueOf()))}return-Infinity===c||Infinity===d?null:{priority:1,min:d,max:c,unit:b}},Wie=function(a,b,c,d,e,f){return isFinite(a)?
void 0===f&&b>d?[b,a]:b===d||void 0!==f&&f.includes(b)?[b,e(c,a)]:[d,c]:[d,c]},Xie=function(a){return!a.min||0<a.min?Object.assign({},a,{min:0}):!a.max||0>a.max?Object.assign({},a,{max:0}):a},Yie=function(a,b){if(0===a.length)return null;let c=0,d=0,e=Infinity,f=-Infinity;for(const {priority:g,unit:h,min:l,max:n}of a){if("ms_since_epoch"!==h||void 0!==b&&!b.includes(g))continue;let r;a=null!=(r=l)?r:e;let v;const w=null!=(v=n)?v:f;[c,e]=Wie(a,g,e,c,Math.min);[d,f]=Wie(w,g,f,d,Math.max)}return Infinity===
e||-Infinity===f?null:{min:e,max:f}},$ie=function(a,b,c){const d=Yie(a);var e=Yie(a,[0,1]);if(!d)return{max:null,min:null,ticks:[],tickIncrement:null,scaleType:0,unit:"ms_since_epoch"};a=d.max-d.min;e&&(e=.01*(e.max-e.min),4===b.lastUpdateCausedBy&&a<e&&(e=z5((e-(d.max-d.min))/2),d.min-=e,d.max+=e));if(!b.axisWidth||0>b.axisWidth)return Object.assign({},d,{ticks:[],tickIncrement:null,scaleType:0,unit:"ms_since_epoch"});e=Math.max(1,b.axisWidth/75);let f=f6.FIVE_MINUTES,g=Infinity;for(h of Zie){const l=
Math.abs(e-a/h)/e;l>g||(f=h,g=l)}var h=f;a=e6(b.timezoneOffset,b.timeZoneId);b.shift&&(d.min+=b.shift,d.max+=b.shift);b=c(d,h,a);return Object.assign({},d,{ticks:b,tickIncrement:h,scaleType:0,unit:"ms_since_epoch"})},cje=function(a,b){return $ie(a,b,(c,d,e)=>{const f=[];var g=6E4*e.getOffset(new Date(c.min));var h=c.min-g;h=h+(d-h%d)%d+g;var l;g=null==(l=aje[d])?void 0:l.format(new Date(h-d),e);for(l=e.getOffset(new Date(h));h<=c.max;h+=d){var n=e.getOffset(new Date(h));n!==l&&(l=6E4*(n-l),0!==l%
d&&(h+=l));l=n;n=bje[d].format(new Date(h),e);let r;const v=null==(r=aje[d])?void 0:r.format(new Date(h),e);g&&v&&v!==g?f.push({label:v,value:h}):f.push({label:n,value:h});g=v}return f})},dje=function(a,b){if(0===a.length)return{min:0,max:1,unit:null};var c=0;let d=0,e=Infinity,f=-Infinity,g=null;for(const {unit:r,constraints:v}of a){var h=void 0,l;if(!(l=!r)&&(l=g)){var n=g;l=x5(r);n=x5(n);l=!(ohe(l,n)&&l.components.length<n.components.length)}l||(null==(h=v)?0:h.onlyApplyIfUnitCompatible)||(g=r)}if(h=
g)h=x5(g),h=nhe(h.key);h&&(g=((h=g.match(/(\{[^}]*\})/))?h[1]:null)||g);for(const {priority:r,min:v,max:w,unit:y}of a){let B;h=null!=(B=y)?B:g;a=void 0!==v&&null!==v?B5(h,g,v):null;h=void 0!==w&&null!==w?B5(h,g,w):null;null!==a&&([c,e]=Wie(a,r,e,c,Math.min,b));null!==h&&([d,f]=Wie(h,r,f,d,Math.max,b))}b=Math.max(Math.abs(e),Math.abs(f));if(Infinity===e||-Infinity===f)return null;e=z5(e,b);f=z5(f,b);e>f&&(f=e=c=d>c?f:e);return{min:e,max:f,unit:g}},eje=function(a){const b=a.min,c=a.max;var d=Math.abs(c-
b);const e=c+.5*d;d=b-.5*d;return{min:0<=b&&0>=d?0:d,max:0>=c&&0<=e?0:e,unit:a.unit}},fje=function(a,b){const c=z5(a.max-a.min);if(0===c)return 0===z5(a.max)?1:10**Math.floor(Math.log10(a.max));a=Math.max(2,Math.min(10,Math.floor(b/40)));b=Infinity;let d=c;for(let f=1;f<a;f++){var e=c/f;const g=vhe(e,f===a-1?1:3);e=Math.abs(g-e);e<=b&&(b=e,d=g)}return d},gje=function(a,b){let c=a.min-(0>a.min?(b-Math.abs(a.min)%b)%b:a.min%b),d=a.max+(0>a.max?Math.abs(a.max)%b:(b-Math.abs(a.max)%b)%b);if(z5(c)===z5(d)){const e=
c-b;c=0<=c&&0>e?0:e;d+=b}return{min:z5(c),max:z5(d),unit:a.unit}},hje=function(a,b){const c=[];let d=a.min;for(;d<=a.max;){c.push({label:C5(d,a.unit||"1",{maximumFractionDigits:9}),value:d});const e=z5(d+b);if(e===d||e<a.min){c.push({label:C5(a.max,a.unit||"1",{maximumFractionDigits:9}),value:a.max});break}d=e}return c},ije=function(a){return a.reduce((b,c)=>{c=String(c.value).split(".")[1];return Math.max(b,c?c.length:0)},0)+2},lje=function(a,{axisHeight:b=500,lastUpdateCausedBy:c=0}={},{neverScaleRates:d}=
{}){var e=dje(a,[0,1]),f=e?eje(e):null;a=dje(a);if(!a)return{min:null,max:null,unit:null,tickIncrement:null,absoluteMin:void 0,ticks:[],scaleType:0,maximumFractionDigits:void 0};4===c&&f&&f.unit===a.unit&&(f.min>a.min&&(a.min=f.min),f.max<a.max&&(a.max=f.max));d=yhe(a,{neverScaleRates:d,idealMaxMagnitude:1,idealMinMagnitude:0,countPrefixMaxMagnitude:jje,countPrefixMinMagnitude:kje});e&&(f=A5(e.unit,d.unit)||1,e=.01*(f*e.max-f*e.min),4===c&&d.max-d.min<e&&(e=z5((e-(d.max-d.min))/2),d={min:d.min-e,
max:d.max+e,unit:d.unit}));b=fje(d,b);f=gje(d,b);e=hje(f,b);let g=f;f=d.max-d.min;(4===c||2===c)&&0<f&&(g=d,c=e.filter(h=>h.value>=g.min&&h.value<=g.max),e=2<=c.length?c:hje(d,b));c=ije(e);return Object.assign({},g,{ticks:e,scaleType:0,maximumFractionDigits:c})},mje=function(){var a={neverScaleRates:!0};return(b,c={})=>lje(b,c,a)},oje=function({chartId:a}){return _.zh(nje,b=>b.entities[a])},qje=function({chartGroupId:a}){return _.zh(pje,b=>b.entities[a])},rje=function(a,b){a&1&&(_.Dd(0),_.E(1,"div",
1)(2,"table")(3,"tbody",2)(4,"tr")(5,"td",3)(6,"div",4),_.I(7,"div",5),_.F()(),_.E(8,"td",6),_.Q(9,"Sample trace"),_.F(),_.E(10,"td",7),_.Q(11),_.Zd(12,"number"),_.F()(),_.E(13,"tr"),_.I(14,"td"),_.E(15,"td"),_.Q(16),_.F()()()()(),_.Ed());a&2&&(a=b.ngIf,b=_.N(),_.x(6),_.C("ngClass",b.heatmapCss?"outer-heatmap":"outer-linechart"),_.x(1),_.C("ngClass",b.heatmapCss?"inner-heatmap":"inner-linechart"),_.x(4),_.Vd(" ",_.CC(12,5,a.value,"1.1-3"),"",a.unit," "),_.x(5),_.Sd(" ",a.timestamp," "))},sje=function(){return _.zh(W5,
a=>a.hierarchy)},tje=function(a,b){let c=0,d=0;const e=a.data;b=b.data;const f=[],g=1<e.length&&0<e[e.length-1].x.valueOf()-e[0].x.valueOf();for(;c<e.length||d<b.length;){const h=e[c],l=b[d];h&&!l?(f.push(Object.assign({},h,{y0:h.y,y1:h.y})),c++):!h&&l?(f.push(Object.assign({},l,{y0:l.y,y1:l.y})),d++):h&&l&&(h.x.valueOf()===l.x.valueOf()?(f.push(Object.assign({},h,{y0:Math.min(h.y,l.y),y1:Math.max(h.y,l.y)})),c++,d++):g&&h.x.valueOf()<l.x.valueOf()||!g&&h.x.valueOf()>l.x.valueOf()?(f.push(Object.assign({},
h,{y0:h.y,y1:h.y})),c++):(f.push(Object.assign({},l,{y0:l.y,y1:l.y})),d++))}return Object.assign({},a,{data:f})},uje=function(a){const b=a.data.map(c=>Object.assign({},c,{y:0}));return Object.assign({},a,{data:b})},vje=function(a,b,c){var d=0<a.length&&0<a[a.length-1].x.valueOf()-a[0].x.valueOf();const e=g6(a,b,h6(c));if(e===a.length-1||2>a.length)return e;d=e+(d?1:-1);var f=a[e],g=a[d];if(!f&&!g)return 0;if(!f&&g)return d;if(!g&&f)return e;a=f.x.valueOf();var h;f=(null==(h=f.x0)?void 0:h.valueOf())||
(c?a-c:void 0);h=g.x.valueOf();let l;g=(null==(l=g.x0)?void 0:l.valueOf())||(c?h-c:void 0);return(f&&b>=f&&b<=a?0:Math.abs(b-a))<=Math.abs(b-(g||h))?e:d},h6=function(a){return b=>{let c;return(null==(c=b.x0)?void 0:c.valueOf())||(a?b.x.valueOf()-a:void 0)}},i6=function(a,b,c,d){b=Math.abs(c.x.valueOf()-b.x.valueOf());return a?d?{gapDetected:b>Math.max(2*a,6E5),gapWidthMs:b}:{gapDetected:b>=2*a,gapWidthMs:b}:{gapDetected:!1,gapWidthMs:b}},g6=function(a,b,c){if(0<a.length?0<a[a.length-1].x.valueOf()-
a[0].x.valueOf():1){for(var d=0,e=a.length-1,f=Math.ceil((e+d)/2);d<e;){var g=a[f],h=g.x.valueOf();g=c?c(g):void 0;if(b>h)d=f;else if(b<h&&(void 0===g||b<=g))e=f-1;else break;f=Math.ceil((e+d)/2)}return f||0}d=a.length-1;e=0;for(f=Math.floor((e+d)/2);e<d;){g=a[f];h=g.x.valueOf();g=c?c(g):void 0;if(b>h)d=f;else if(b<h&&(void 0===g||b<=g))e=f+1;else break;f=Math.floor((e+d)/2)}return f},wje=function(a,b,c){const d=0<a.data.length&&0<a.data[a.data.length-1].x.valueOf()-a.data[0].x.valueOf(),e=g6(a.data,
b-c);a=g6(a.data,b+c);return e===a?d?[e,e+1]:[a-1,a]:[Math.min(e,a),Math.max(e,a)]},xje=function(a,b,c,d,e,f){if(!a)return null;let g=null!=b?b:(new Date).valueOf();return{values:a.series.map(h=>{var l=h.data;if(0===l.length||!b)return{seriesId:h.id,value:null};const n=0<l[l.length-1].x.valueOf()-l[0].x.valueOf(),r=vje(l,b,d),v=l[r];let w=v;var y=!1;if((!f||Math.abs(v.x.valueOf()-b)>f)&&d){const B=l[r+(n?-1:1)];l=l[r+(n?1:-1)];let G,O;if(b<=(null!=(O=null==(G=v.x0)?void 0:G.valueOf())?O:v.x.valueOf())&&
B)y=i6(d,B,v,e).gapDetected;else if(b>=v.x.valueOf()&&l)y=i6(d,v,l,e).gapDetected;else if(b>v.x.valueOf()&&!l)y=Math.abs(b-v.x.valueOf())>d;else{let T,J;if(b<(null!=(J=null==(T=v.x0)?void 0:T.valueOf())?J:v.x.valueOf())&&!B){let R;y=null==(R=v.x0)?void 0:R.valueOf();y=void 0===y?Math.abs(b-v.x.valueOf())>2*d:Math.abs(b-y)>d}}}if(y)switch(c){case "gap_detection":w=null;break;case "zero_fill":w={x:new Date(g),y:0}}else g=v.x.valueOf();return{seriesId:h.id,value:w}}),timeRange:{x:g}}},yje=function(a,
b,c){return Infinity===c?!1:Math.abs(b.x.valueOf()-a.x.valueOf())>2*c},zje=function(a,b,c){return Infinity===c||!a.tileDomain||!b.tileDomain||a.tileDomain[0]===b.tileDomain[0]&&a.tileDomain[1]===b.tileDomain[1]?!1:Math.min(Math.abs(b.tileDomain[0]-a.tileDomain[1]),Math.abs(a.tileDomain[0]-b.tileDomain[1]))>2*c},Bje=function(a,b=Infinity,c=yje){const d=a.shiftedData;return{data:Aje(a.data,b,c),shiftedData:d&&Aje(d,b)}},Aje=function(a,b=Infinity,c=yje){return a.reduceRight((d,e)=>{const [f]=d,[g]=f;
g&&c(g,e,b)?d.unshift([e]):f.unshift(e);return d},[[]])},Cje=function(a,b){a=a.y.bucketOptions;return(null==a?0:a.exponentialBuckets)?(a=a.exponentialBuckets,a.growthFactor?[Math.round((a.scale||1)*Math.pow(a.growthFactor,b-1)*1E9)/1E9,Math.round((a.scale||1)*Math.pow(a.growthFactor,b)*1E9)/1E9]:[void 0,void 0]):(null==a?0:a.linearBuckets)?(a=a.linearBuckets,a.width?[Math.round(1E9*((a.offset||0)+a.width*(b-1)))/1E9,Math.round(1E9*((a.offset||0)+a.width*b))/1E9]:[void 0,void 0]):(null==a?0:a.explicitBuckets)?
(a=a.explicitBuckets,a.bounds?[0<b?a.bounds[b-1]:-Infinity,-1<b?b<a.bounds.length?a.bounds[b]:Infinity:a.bounds[0]]:[void 0,void 0]):[void 0,void 0]},Dje=function(a,b){const c=a.y.bucketCounts;let [d,e]=Cje(a,0),f=d,g=e;if(void 0!==f&&void 0!==g){if(f>=b)return-1;if(f<=b&&g>=b)return 0}for(let h=1;h<c.length;h++)if([f,g]=Cje(a,h),void 0!==f&&void 0!==g&&f<=b&&g>=b)return h;if(void 0!==g&&g<=b)return c.length},Eje=function(a,b){if(null===a)throw Error("yl");return null===b?(new _.ji("above {LOWER}")).format({LOWER:a}):
(new _.ji("between {LOWER} and {UPPER}")).format({LOWER:a,UPPER:b})},Fje=function(a){return a.name||a.id},Gje=function(a){return{label:String(a),value:a}},Hje=function(a){return{label:String(a),value:a}},Ije=function(){return{x:0,y:0,height:0,width:0}},Jje=function(a){return`${a[0]} - ${a[1]}`},Kje=function(a,b){let c;return String(null!=(c=a.bucketCounts[b])?c:"-")},Lje=function(){return{x:0,y:0,height:0,width:0}},Mje=function(a,b,c,d){return e=>{var f=e.x,g=e.x0,h=e.y,l=e.y0,n=e.y1;let r=0;var v=
0;e=Math.round(a(f.valueOf())||0);if((null==d?0:d.centerInOutputPeriod)&&(void 0!==g||(null==d?0:d.outputPeriodMs))&&(g=null==g?void 0:g.valueOf(),void 0===g&&(null==d?0:d.outputPeriodMs)&&(g=f.valueOf()-(null==d?NaN:d.outputPeriodMs)),void 0!==g)){e=Math.round(a((f.valueOf()+g)/2)||0);v=Math.floor(a(f.valueOf())||0);f=Math.floor(a(g)||0);let w;v=Math.abs(v-f)*(null!=(w=null==d?void 0:d.widthMultiplier)?w:1)}h=Math.round(b(h)||0);void 0!==l&&void 0!==n&&(h=Math.round(b((n+l)/2)||0),n=Math.floor(b(n)||
0),l=Math.floor(b(l)||0),r=Math.abs(n-l));return e<c.left&&e+v/2<c.left||e>c.right&&e-v/2>c.right||h<c.top&&h+r/2<c.top||h>c.bottom&&h-r/2>c.bottom?{x:e,y:h,height:r,width:v,outOfBounds:!0}:{x:e,y:h,height:r,width:v}}},Nje=function(a,b){return(c,d)=>{const e=c.x;var f=c.x0;const g=c.y;var h=0;let l;c=Math.floor(null!=(l=a(e.valueOf()))?l:0);f=null==f?void 0:f.valueOf();if(void 0!==f){let B;c=Math.floor(null!=(B=a((e.valueOf()+f)/2))?B:0);var n;h=Math.floor(null!=(n=a(e.valueOf()))?n:0);var r;n=Math.floor(null!=
(r=a(f))?r:0);h=Math.abs(h-n)}let [v,w]=j6(g,d);r=w;d=Math.floor(b(null!=v?v:0));let y;r=Math.floor(b(null!=(y=r)?y:0));return{x:c,y:(d+r)/2,height:Math.abs(r-d),width:h}}},Oje=function(a,b){return c=>{const d=B5(a,b,c);return{label:null!==d?C5(d,b):C5(c,a),value:null!=d?d:void 0}}},Pje=function(){return(a,b)=>{const c=a.bucketCounts[b]||0;b=c.toString();a=(100*c/a.count).toFixed();return(new _.ji("{COUNT} ({PERCENT}%)")).format({COUNT:b,PERCENT:a})}},Qje=function(a,b,c){return d=>{const e=d[0];let f;
d=null!=(f=d[1])?f:null;const [g,h]=[e,d].map(l=>{if(null===l)return null;l=B5(a,b,l)||0;return C5(l,b,{maximumFractionDigits:c})});return Eje(g,h)}},Rje=function(a,b){const c=[];for(let d=0;d<a;d++){c.push([]);for(let e=0;e<b;e++)c[d].push({position:{x:0,y:0,height:0,width:0},label:"-"})}return c},Sje=function(a,b){const c=[],d=new Map;for(let e=0;e<a.length;e++){const f=a[e];d.set(f,e);const {label:g,value:h}=b(f);c.push({label:g,value:h,metadata:{timeMs:f}})}return{columns:c,xToColIndex:d}},Tje=
function({data:a,xAxisState:b,yAxisState:c,rowFormatter:d,columnFormatter:e,valueFormatter:f,positionMap:g,audioChartContext:h}){d||(d=Fje);e||(e=Gje);f||(f=Hje);g||(g=Ije);const l=[];var n=new Set;for(var r of a.series){l.push({label:d(r),metadata:{seriesId:r.id}});for(const y of r.data)g(y).outOfBounds||n.add(y.x.valueOf())}d=Array.from(n);d.sort();const {columns:v,xToColIndex:w}=Sje(d,e);e=Rje(l.length,v.length);for(d=0;d<a.series.length;d++){r=a.series[d];n=e[d];for(const y of r.data){r=w.get(y.x.valueOf());
if(void 0===r)continue;r=n[r];if(!r)continue;r.position=g(y);const {label:B,value:G}=f(y.y);r.label=B;r.value=G}}return{rows:l,columns:v,values:e,xAxisState:b,yAxisState:c,audioChartContext:h}},Uje=function({data:a,xAxisState:b,yAxisState:c,rowFormatter:d,columnFormatter:e,valueFormatter:f,positionMap:g}){d||(d=Jje);e||(e=Gje);f||(f=Kje);g||(g=Lje);a=a.series[0];if(!a)return null;var h,l=null==(h=a.data[0])?void 0:h.y;if(!l)return null;var n=a.data.reduce((y,B)=>Math.max(y,B.y.bucketCounts.length),
0);h=[];for(--n;0<=n;n--)h.push({label:d(j6(l,n)),metadata:{seriesId:a.id,bucketIndex:n}});d=new Set;for(var r of a.data)0<=g(r,0).x&&d.add(r.x.valueOf());r=Array.from(d);r.sort();const {columns:v,xToColIndex:w}=Sje(r,e);e=Rje(h.length,v.length);for(const y of a.data)if(a=w.get(y.x.valueOf()),void 0!==a)for(r=y.y,d=0;d<h.length;d++)l=h[d].metadata.bucketIndex,(n=e[d][a])&&void 0!==l&&(n.position=g(y,l),n.label=f(r,l));return{rows:h,columns:v,values:e,xAxisState:b,yAxisState:c}},Vje=function({ticks:a,
grid:b}){b=b.columns;const c=b.map(()=>!1);1<=c.length&&(c[0]=!0);2<=c.length&&(c[b.length-1]=!0);if(!a||0===a.length)return c;for(const d of a){a=Infinity;let e=0;for(let f=0;f<b.length;f++){const g=Math.abs(b[f].metadata.timeMs-d.value);if(g<a)a=g,e=f;else break}c[e]=!0}return c},k6=function(a,b=1){if(!a)return[null,null];const [c,d]=a;let e=a=null;1<=c&&(a=c-1);d>=b&&(e=d-b);return[a,e]},Xje=function(a){if(a&1){const b=_.Pc();_.E(0,"th",15,16);_.L("focus",function(c){_.t(b);const d=_.N();return _.u(d.focus(c))})("blur",
function(c){_.t(b);const d=_.N();return _.u(d.blur(c))});_.E(2,"span",7);_.Q(3);_.F()()}a&2&&(a=_.N(),_.zd("aria-colindex",2)("tabindex",Wje(a)?0:-1),_.x(3),_.Ud(a.AUDIO_HEADER))},ake=function(a,b){if(a&1){const c=_.Pc();_.Dd(0);_.E(1,"th",17)(2,"button",18,19);_.L("click",function(){const d=_.t(c).$implicit,e=_.N();return _.u(Yje(e,d.colIndex))})("focus",function(d){_.t(c);const e=_.N();return _.u(e.focus(d))})("blur",function(d){_.t(c);const e=_.N();return _.u(e.blur(d))});_.Q(4);_.F()();_.Ed()}a&
2&&(a=b.$implicit,b=_.N(),_.x(1),_.C("ngStyle",_.Zx(7,Zje,a.column.position.x,a.column.position.y)),_.zd("aria-colindex",a.colIndex+b.numberOfHeaderColumns+1),_.x(1),_.zd("id",a.column.id)("tabindex",a.column.tabindex)("aria-describedby",b.columnToggleDescriptionId)("aria-expanded",$je(b,a.colIndex+1)),_.x(2),_.Sd(" ",a.column.label," "))},cke=function(a){a&1&&(_.Dd(0),_.I(1,"mat-icon",28),_.Ed());a&2&&(a=_.N(3),_.x(1),_.C("svgIcon",bke(a)?"ac:music_off":"ac:music_note"))},gke=function(a){if(a&1){const b=
_.Pc();_.E(0,"td",24)(1,"button",25,26);_.L("click",function(){_.t(b);const c=_.N().$implicit,d=_.N();dke(d,c.rowIndex,!0);return _.u()})("focus",function(c){_.t(b);const d=_.N(2);return _.u(d.focus(c))})("blur",function(c){_.t(b);const d=_.N(2);return _.u(d.blur(c))});_.E(3,"span");_.Q(4);_.F();_.E(5,"span",27);_.Q(6);_.F();_.P(7,cke,2,1,"ng-container",11);_.F()()}if(a&2){a=_.N().$implicit;const b=_.N();_.C("ngStyle",_.Zx(10,Zje,a.row.position.x,a.row.position.y));_.zd("aria-colindex",2);_.x(1);
_.C("disabled",!b.internalAudioValues[a.rowIndex].audioChartOptions);_.zd("id",b.internalAudioValues[a.rowIndex].id)("tabindex",b.internalAudioValues[a.rowIndex].tabindex)("aria-describedby",b.audioChartButtonDescriptionId);_.x(3);_.Ud(eke(b,a.rowIndex));_.x(1);_.zd("id",b.audioChartButtonDescriptionId);_.x(1);_.Sd(" ",fke(b,a.rowIndex)," ");_.x(1);_.C("ngIf",!!b.internalAudioValues[a.rowIndex].audioChartOptions)}},ike=function(a,b){if(a&1){const c=_.Pc();_.Dd(0);_.E(1,"td",29)(2,"button",30,31);
_.L("click",function(d){_.t(c);const e=_.N(2);d.target instanceof HTMLElement&&e.onGridCellActivate.emit(d.target);return _.u()})("focus",function(d){_.t(c);const e=_.N(2);return _.u(e.focus(d))})("blur",function(d){_.t(c);const e=_.N(2);return _.u(e.blur(d))});_.Q(4);_.F()();_.Ed()}a&2&&(a=b.$implicit,b=_.N(2),_.x(1),_.C("ngStyle",_.gGb(6,hke,a.column.position.x,a.column.position.y,a.column.position.height,a.column.position.width)),_.zd("aria-colindex",a.colIndex+b.numberOfHeaderColumns+1),_.x(1),
_.zd("tabindex",a.column.tabindex)("id",a.column.id)("aria-describedby",b.activateGridCellDescriptionId),_.x(2),_.Sd(" ",a.column.label," "))},kke=function(a,b){if(a&1){const c=_.Pc();_.E(0,"tr",20)(1,"th",21)(2,"button",18,22);_.L("click",function(){const d=_.t(c).$implicit,e=_.N();return _.u(e.toggleRow(d.rowIndex))})("focus",function(d){_.t(c);const e=_.N();return _.u(e.focus(d))})("blur",function(d){_.t(c);const e=_.N();return _.u(e.blur(d))});_.E(4,"span");_.Q(5);_.F()()();_.P(6,gke,8,13,"td",
23);_.P(7,ike,5,11,"ng-container",9);_.F()}a&2&&(a=b.$implicit,b=_.N(),_.zd("aria-rowindex",a.rowIndex+2),_.x(1),_.C("ngStyle",_.Zx(11,Zje,a.row.position.x,a.row.position.y)),_.zd("aria-colindex",1),_.x(1),_.zd("id",a.row.id)("tabindex",a.row.tabindex)("aria-describedby",b.rowToggleDescriptionId)("aria-expanded",jke(b,a.rowIndex+1)),_.x(3),_.Ud(a.row.label),_.x(1),_.C("ngIf",b.audioChartsEnabled),_.x(1),_.C("ngForOf",b.shownColumns(b.internalValues[a.rowIndex]))("ngForTrackBy",b.trackColumnById))},
lke=function(a){a&1&&(_.E(0,"tr")(1,"td",32)(2,"span",7),_.K(3,33),_.F()()())},nke=function(a){a&1&&(_.E(0,"tr")(1,"td",32)(2,"span",7),_.K(3,34),_.F()()());a&2&&(a=_.N(),_.x(3),_.Kd(mke(a)),_.Ld(3))},oke=function(){return _.zh(W5,a=>a.dashboard)},l6=function({timeZone:a,position:b=null,tickIncrement:c=null,trackingNow:d=!1}){if(d)return"Now";if(!b||null===c)return"";b=new Date(b);a=null!=a?a:e6();if(!(d=pke[c])){let e=d=Infinity;for(const f of Zie){const g=Math.abs(c/f);g<e&&(e=g,d=f)}d=(c=pke[d])?
c:qke}return d(b,a)},tke=function(a,b){b=void 0===b?!0:b;const c=rke(),d=[...a.series].reverse();b=(b?ske(d):d).map(e=>{const f=e.data.map(c);let g;const h=null==(g=e.shiftedData)?void 0:g.map(c);return Object.assign({},e,{shiftedData:h,data:f})});b.reverse();return Object.assign({},a,{series:b})},rke=function(){const a=new Map,b=new Map;return c=>{var d=c.y;const e=c.x.valueOf(),f=0<=d?a:b;let g;const h=null!=(g=f.get(e))?g:0;d=h+d;f.set(e,d);return Object.assign({},c,{y0:h,y1:d})}},ske=function(a){const b=
uke(a),c=vke(b);return a.map(d=>{var e=Object.assign({},d),f=d.data;d=d.shiftedData;e=(delete e.data,delete e.shiftedData,e);f=0===f.length||f[0].x<f[f.length-1].x?f:[...f].reverse();f=wke(f,b);d=d&&wke(d,b);f=f.flatMap(c);let g;d=null==(g=d)?void 0:g.flatMap(c);return Object.assign({},e,{data:f,shiftedData:d})})},wke=function(a,b){if(!b.length)return a;const c=b[0];b=b[b.length-1];if(0===a.length)return[c,b];b=b.x.valueOf()<=a[a.length-1].x.valueOf()?[]:[b];return[...(a[0].x.valueOf()<=c.x.valueOf()?
[]:[c]),...a,...b]},xke=function(a,b,c){const [d,e]=[b,c].sort((f,g)=>f-g);b=a.findIndex(f=>f.x.valueOf()===d);c=a.findIndex(f=>f.x.valueOf()===e);return-1===b||-1===c?[]:a.slice(b+1,c)},uke=function(a){return[...a.reduce((b,c)=>{var {data:d,shiftedData:e=[]}=c;for(const f of[d,e])for(const g of f)c=g.x.valueOf(),b.has(c)||b.set(c,Object.assign({},g,{y:0}));return b},new Map).entries()].sort((b,c)=>{[b]=b;[c]=c;return b-c}).map(b=>{[,b]=b;return b})},vke=function(a){const b=a[a.length-1];return(c,
d,e)=>{e=e[d+1];d=c.x.valueOf();e=e?e.x.valueOf():null==b?void 0:b.x.valueOf();d=null==e?[]:xke(a,d,e);return[c,...d]}},yke=function(a){return 0===a.series.length||a.series.some(b=>b.data.some(c=>"number"===typeof c.y))||a.series.every(b=>0===b.data.length)},zke=function(a){return 0===a.series.length||a.series.some(b=>b.data.some(c=>{let d;return null==(d=c.y)?void 0:d.bucketOptions}))||a.series.every(b=>0===b.data.length)},Ake=function(a){if(a&1){const b=_.Pc();_.Dd(0);_.I(1,"mat-icon",6)(2,"span",
7);_.E(3,"button",8);_.L("click",function(){_.t(b);_.N(3).installAgentRequest.emit();return _.u()});_.K(4,9);_.F();_.Ed()}a&2&&(a=_.N(3),_.x(2),_.C("innerHTML",a.opsAgentInstallPrompt,_.md),_.x(1),_.C("ve",a.ve.InstallAgentButton)("veClick",!0))},Bke=function(a){a&1&&_.I(0,"mat-icon",10)(1,"span",7);a&2&&(a=_.N(2).ngIf,_.x(1),_.C("innerHTML",a[0].displayMessage,_.md))},Cke=function(a){a&1&&(_.E(0,"div",2),_.Zd(1,"async"),_.E(2,"div",3),_.P(3,Ake,5,3,"ng-container",4),_.P(4,Bke,2,1,"ng-template",null,
5,_.Te),_.F()());if(a&2){const b=_.Rd(5);a=_.N(2);_.C("ngStyle",_.$d(1,3,a.styleObservable));_.x(3);_.C("ngIf",a.installAgentHandled&&a.isAgentMetric)("ngIfElse",b)}},Dke=function(a,b){a&1&&(_.Dd(0),_.P(1,Cke,6,5,"div",1),_.Ed());a&2&&(a=b.ngIf,_.x(1),_.C("ngIf",0<a.length))},Fke=function(a,b){var c=Eke;const d=b.length-2,e=c(a)/d;return f=>{if(0>=f)return b[0];if(f>=a)return b[b.length-1];f=c(f);const g=Math.floor(f/e)+1;return Yge(e*(g-1),e*g,b[g],b[g+1],f)}},Gke=function(a){const [b,c,d]=a;return`rgb(${b}, ${c}, ${d})`},
Eke=function(a){return a},Hke=function(a){a&1&&(_.E(0,"div",1),_.I(1,"mat-spinner",2),_.F());a&2&&(a=_.N(),_.Ad("height",a.bodyHeight,"px")("width",a.bodyWidth,"px")("top",a.bodyTop,"px")("left",a.bodyLeft,"px"),_.x(1),_.C("diameter",a.spinnerDiameter)("strokeWidth",a.spinnerDiameter/10),_.zd("aria-label",a.spinnerLabel))},Ike=function(a,b,c=!1){if(!a)return!0;const [d,e]=a,[f,g]=b;return c?f<=e&&d<=g:d<=g&&f<=e},Kke=function(a,b=Infinity,c=!1){const d=a.shiftedData;return{data:Jke(a.data,b,c),shiftedData:d&&
Jke(d,b,c)}},Jke=function(a,b=Infinity,c=!1){return a.reduceRight((d,e)=>{const [f]=d,[g]=f;g&&i6(b,g,e,c).gapDetected?d.unshift([e]):f.unshift(e);return d},[[]])},Lke=function(a){if(!a)return null;const b=a.slice(-1);a=a.slice(0,-1);switch(b){case "s":return 1E3*Number(a);case "m":return 6E4*Number(a);case "h":return 36E5*Number(a);case "d":return 864E5*Number(a);case "w":return-6048E5*Number(a)}return null},Mke=function(a){const b=Math.abs(a);let c=7,d=a/1E3;1<=b/6E4&&(c=6,d=a/6E4);1<=b/36E5&&(c=
5,d=a/36E5);1<=b/864E5&&0===b%864E5&&(c=4,d=a/864E5);1<=b/6048E5&&(0===b%6048E5||3<b/6048E5||1<b/6048E5&&0!==b%864E5)&&(c=3,d=a/6048E5);return(new _.mIc).format(d,c)},Pke=function(a,b){if(a&1){const c=_.Pc();_.E(0,"div",6);_.L("mouseenter",function(){_.t(c);_.N(2).isActionButtonBeingHovered$.next(!0);return _.u()})("mouseleave",function(){_.t(c);_.N(2).isActionButtonBeingHovered$.next(!1);return _.u()});_.E(1,"button",7);_.L("click",function(){_.t(c);const d=_.N(2);return _.u(Nke(d))});_.Uc();_.E(2,
"svg",8);_.I(3,"path");_.F()()()}a&2&&(a=b.ngIf,b=_.N(2),_.C("ngStyle",_.Zx(2,Oke,a.left+"px",a.top+"px")),_.x(3),_.zd("d",b.topButtonIconPath))},Qke=function(a){a&1&&(_.Dd(0),_.P(1,Pke,4,5,"div",5),_.Zd(2,"async"),_.Ed());a&2&&(a=_.N(),_.x(1),_.C("ngIf",_.$d(2,1,a.actionButtonPosition$)))},Ske=function(a){if(a&1){const b=_.Pc();_.E(0,"button",15);_.L("click",function(c){_.t(b);const d=_.N(2);return _.u(Rke(d,c))});_.I(1,"mat-icon",16);_.F()}a&2&&(a=_.N(2),_.zd("aria-describedby",a.xAxisCursorDescribedById))},
Tke=function(a){a&1&&_.I(0,"mat-icon",17)},Yke=function(a,b){a&1&&(_.E(0,"div",9,10)(2,"div",11),_.Q(3),_.F(),_.E(4,"div",12),_.P(5,Ske,2,1,"button",13),_.P(6,Tke,1,0,"mat-icon",14),_.F()());a&2&&(a=b.ngIf,_.C("ngClass",_.eY(7,Uke,a.locked,a.draggable,a.dragging))("ngStyle",_.eY(11,Vke,a.top+"px",a.height+"px",a.height/2+"px")),_.x(2),_.C("ngStyle",_.Zx(15,Wke,a.height/2+"px",a.height/4+"px")),_.x(1),_.Sd(" ",a.label," "),_.x(1),_.C("ngStyle",_.eY(18,Xke,a.height+"px",a.height+"px",.1*a.height+"px")),
_.x(1),_.C("ngIf",a.locked),_.x(1),_.C("ngIf",!a.locked))},$ke=function(a,b,c){if(a.timeSeriesQuery||a.timeSeriesQueryLanguage){let e;var d={dlType:"qn",originalQueryText:a.timeSeriesQuery||(null==(e=a.timeSeriesQueryLanguage)?void 0:e.query)||"",granularity:1===a.plotType?"coarse":"fine",projectId:b,strategyWhitelists:c}}else d=a.prometheusQuery?{dlType:"promql",query:a.prometheusQuery||"",granularity:1===a.plotType?"coarse":"fine",projectId:b,strategyWhitelists:c}:Zke(a,b,c);return d},Zke=function(a,
b,c){var d=a.timeSeriesFilterRatio?a.timeSeriesFilterRatio:a.timeSeriesFilter;if(!d)return null;d=ale(d,1===a.plotType?"coarse":"fine");if(!d)return null;d.projectId=b;d.legendTemplate=a.legendTemplate;d.strategyWhitelists=c;return{dlType:"gcmv3",params:d}},ale=function(a,b="fine"){const c={};let d;var e=null;a.numeratorFilter?(d=a.numeratorFilter,e=a.denominatorFilter,c.denominatorFilter=e.filter,c["denominatorAggregation.perSeriesAligner"]=e.perSeriesAligner,c["denominatorAggregation.groupByFields"]=
e.groupByFields,c["denominatorAggregation.alignmentPeriod"]=e.minAlignmentPeriod,c["denominatorAggregation.crossSeriesReducer"]=e.crossSeriesReducer):d=a;c.filter=d.filter;c["aggregation.alignmentPeriod"]=d.minAlignmentPeriod;c.minGranularity=d.minAlignmentPeriod;if(d.aggregations&&0<d.aggregations.length){a=d.aggregations[0];c["aggregation.groupByFields"]=a.groupByFields;c["aggregation.perSeriesAligner"]=a.perSeriesAligner;c["aggregation.crossSeriesReducer"]=a.crossSeriesReducer;a.alignmentPeriod&&
(c["aggregation.alignmentPeriod"]=a.alignmentPeriod);var f;if(null==(f=a.reduceMakeDistributionParams)?0:f.bucketOptions)f=a.reduceMakeDistributionParams.bucketOptions,f.linearBuckets&&(c["aggregation.reduceMakeDistributionParams.bucketOptions.linearBuckets.numFiniteBuckets"]=f.linearBuckets.numFiniteBuckets,c["aggregation.reduceMakeDistributionParams.bucketOptions.linearBuckets.width"]=f.linearBuckets.width,c["aggregation.reduceMakeDistributionParams.bucketOptions.linearBuckets.offset"]=f.linearBuckets.offset),
f.exponentialBuckets&&(c["aggregation.reduceMakeDistributionParams.bucketOptions.exponentialBuckets.numFiniteBuckets"]=f.exponentialBuckets.numFiniteBuckets,c["aggregation.reduceMakeDistributionParams.bucketOptions.exponentialBuckets.growthFactor"]=f.exponentialBuckets.growthFactor,c["aggregation.reduceMakeDistributionParams.bucketOptions.exponentialBuckets.scale"]=f.exponentialBuckets.scale),a.reduceMakeDistributionParams.exemplarSampling&&(c["aggregation.reduceMakeDistributionParams.exemplarSampling.minimumValue"]=
a.reduceMakeDistributionParams.exemplarSampling.minimumValue);2<=d.aggregations.length&&(a=d.aggregations[1],c["secondaryAggregation.perSeriesAligner"]=a.perSeriesAligner,c["secondaryAggregation.crossSeriesReducer"]=a.crossSeriesReducer,c["secondaryAggregation.groupByFields"]=a.groupByFields,a.alignmentPeriod&&(c["secondaryAggregation.alignmentPeriod"]=a.alignmentPeriod))}else c["aggregation.groupByFields"]=d.groupByFields,c["aggregation.perSeriesAligner"]=d.perSeriesAligner,c["aggregation.crossSeriesReducer"]=
d.crossSeriesReducer,c["secondaryAggregation.crossSeriesReducer"]=d.secondaryCrossSeriesReducer,c["secondaryAggregation.groupByFields"]=d.secondaryGroupByFields;let g,h;(null==(g=e)?0:g.aggregations)&&0<(null==(h=e)?void 0:h.aggregations.length)&&(e=e.aggregations[0],c["denominatorAggregation.groupByFields"]=e.groupByFields,c["denominatorAggregation.perSeriesAligner"]=e.perSeriesAligner,c["denominatorAggregation.crossSeriesReducer"]=e.crossSeriesReducer,e.alignmentPeriod&&(c["denominatorAggregation.alignmentPeriod"]=
e.alignmentPeriod));d.pickTimeSeriesFilter&&(c["pickTimeSeriesFilter.rankingMethod"]=d.pickTimeSeriesFilter.rankingMethod,c["pickTimeSeriesFilter.numTimeSeries"]=d.pickTimeSeriesFilter.numTimeSeries,c["pickTimeSeriesFilter.direction"]=d.pickTimeSeriesFilter.direction);c.granularity=b;return JSON.parse(JSON.stringify(c))},ble=function(a,b){switch(a.name){case "NoDataError":a.displayMessage=a.details.group?(null==b?0:b.ERROR_NO_DATA_GROUP)?b.ERROR_NO_DATA_GROUP:"This group does not contain any of these resources.":
(null==b?0:b.ERROR_NO_DATA)?b.ERROR_NO_DATA:"No data is available for the selected time frame.";break;case "InvalidRequestError":a.displayMessage=`${"Chart definition invalid."} ${a.message}`;break;case "UnauthorizedError":a.displayMessage="You don't have access to this data.";break;case "ServiceUnavailableError":a.displayMessage='Your request timed out. Try \n          <a href="https://cloud.google.com/monitoring/charts/#chart-limits"\n             target="_blank">reducing chart data</a>.';break;
case "TimeoutError":a.displayMessage="Request timed out. Some data missing.";break;case "Error":a.displayMessage=a.details.isTimeout?"Request timed out. Some data missing.":`${"An error occurred requesting data."} ${a.message}`;break;case "NotFoundError":a.message.includes("group definition")?a.displayMessage="Group definition not found.":a.displayMessage=`${"An error occurred requesting data."} ${a.message}`;break;case "CustomError":a.displayMessage=a.message;break;default:a.displayMessage=`${"An error occurred requesting data."} ${a.message}`}return a},
cle=function(a,b){if(a.length===b.length)for(let e=0;e<a.length;++e)if(null!==a[e]){var c=void 0;null==(c=a[e])||c.series.forEach(f=>{f.legendTemplate=b[e]})}a=a.filter(e=>null!==e);var d;c=null!=(d=a.filter(e=>{let f;return 0<(null!=(f=null==e?void 0:e.series.length)?f:0)&&null!==e.unit}).map(e=>e.unit)[0])?d:null;d=a.map(e=>e.empty).reduce((e,f)=>void 0===f?e:"empty"===f?null!=e?e:"empty":"empty"===e||void 0===e?f:e,void 0);return{series:a.map(e=>e.series).flat(),partialErrors:a.map(e=>e.partialErrors).filter(e=>
!!e).flat(1),incompleteCloudRegions:a.map(e=>e.incompleteCloudRegions).filter(e=>!!e).flat(1),empty:d,hideStats:a.some(e=>{let f;return null!=(f=e.hideStats)?f:!1}),unit:c}},dle=function(a,b){let c=0;for(const {absoluteMin:d,unit:e}of a)d&&(a=B5(e,b,d))&&0<a&&(c=Math.min(c||Infinity,a));return c||.001},ele=function(a){if(!(a.max>=a.min)||0>=a.min||0>=a.max||Infinity===a.max)return[a.min,a.max];const b=10**Math.ceil(Math.log10(a.max));a=10**Math.floor(Math.log10(a.min));const c=[a];for(;a<b;)a*=10,
c.push(a);return c},fle=function(a){return ele({min:-a.max,max:-a.min}).map(b=>-b)},gle=function(a,b){const c=[];for(let d=0;d<a.length;d++)if(0!==a[d])for(let e=0;e<b.length;e++)c.push(a[d]*b[e]);else c.push(a[d]);return c},hle=function(a,b="1"){const c=Math.abs(a);var d=c;let e=b;if(phe(b,"%"))e="%";else{for(;2<d;){const f=qhe(e);if(!f)break;e=f;d=B5(b,e,c)||0}for(;0<d&&2>d&&1!==d;){d=rhe(e);if(!d)break;e=d;d=B5(b,e,c)||0}}d=B5(b,e,a)||0;b=C5(d,e,{significantDigits:3});return{value:a,label:b}},
ile=function(a,b,c,d,e){a=a.sort((f,g)=>f-g);if(4===e)return[a.filter(f=>f<=c&&f>=b),b,c];a=a.filter((f,g)=>(f>=b||a[g+1]>=b)&&(f<=c||a[g-1]<=c)&&(Math.abs(f)>=d||0===f));return[a,Math.min(...a,b),Math.max(...a,c)]},kle=function(a,{lastUpdateCausedBy:b=0}={}){var c=dje(a);if(!c)return{min:null,max:null,unit:null,tickIncrement:null,absoluteMin:void 0,ticks:[],scaleType:1,maximumFractionDigits:void 0};let {min:d,max:e,unit:f}=c;a=dle(a,f);c=[];0<=d?(c=ele({min:d||a,max:e}),0===d&&c.push(0)):0>=e?(c=
fle({min:d,max:e||-a}),0===e&&c.push(0)):(c=ele({min:a,max:e}),c=[...fle({min:d,max:-a}),0,...c]);let g=c;for(const h of jle){const l=gle(c,h);10>l.length&&(g=l)}c=g.filter(h=>h>=d&&h<=e).sort((h,l)=>h-l);[c,d,e]=ile(c,d,e,a,b);b=c.map(h=>hle(h,f||void 0));return{min:d,max:e,unit:f,ticks:b,absoluteMin:a,scaleType:1}},m6=function(a){return _.Ke(a)?a:_.S(a)},lle=function(a,b){let c,d,e,f=(null==(c=a.timeSeriesFilterRatio)?void 0:null==(d=c.numeratorFilter)?void 0:d.unitOverride)||(null==(e=a.timeSeriesFilter)?
void 0:e.unitOverride)||null;f&&b.params&&"ALIGN_RATE"===b.params["aggregation.perSeriesAligner"]&&!f.endsWith("/s")&&(f+="(rate)");return f},qle=function(a,b={},c=null){const d=[];for(const g of[0,1]){var e=a.filter(n=>n.dataSet.targetAxis===g);if(0===e.length)continue;if(1===e.length){const {dataSet:n,params:r}=e[0];d.push(mle(n,r,b,c));continue}let h;const l=null!=(h=e.map(n=>{const r=n.dataSet;n=n.params;return"gcmv3"===n.dlType?lle(r,n):null}).filter(n=>!!n)[0])?h:null;var f=e.map(n=>n.dataSet.legendTemplate?
n.dataSet.legendTemplate:"gcmv3"===n.params.dlType?n.params.params.legendTemplate:n.params.legendTemplate);e=e.map(n=>{n=n.params;null==c&&(c=nle);return c(n,b)});f=new ole(e,f);e=f.dataObservable.pipe(_.U(n=>{if(!n)return n;let r,v;n.unit=null!=(v=null!=(r=l)?r:n.unit)?v:null;return n}));d.push({fetchable:f,layerId:`ac-composable-layer-configured-${ple++}`,yAxisId:1===g?"left":"right",xAxisId:"chart_group",data:e.pipe(_.We(50)),loading:(f.loadingObservable||_.S(null)).pipe(_.We(50)),error:(f.errorObservable||
_.S(null)).pipe(_.Ye(0)),alignmentPeriodMs:(f.alignmentPeriodMsObservable||_.S(null)).pipe(_.Ye(0)),outputPeriodMs:(f.outputPeriodMsObservable||_.S(null)).pipe(_.Ye(0))})}return d},mle=function(a,b,c={},d=null){let e=null,f=void 0;"gcmv3"===b.dlType?(e=lle(a,b),f=b.params.legendTemplate):f=b.legendTemplate;null==d&&(d=nle);b=d(b,c);c=b.dataObservable.pipe(_.U(g=>{if(!g)return g;let h,l;g.unit=null!=(l=null!=(h=e)?h:g.unit)?l:null;return g}));return{fetchable:b,layerId:`ac-composable-layer-configured-${ple++}`,
yAxisId:1===a.targetAxis?"left":"right",xAxisId:"chart_group",data:c.pipe(_.We(50)),loading:(b.loadingObservable||_.S(null)).pipe(_.We(50)),error:(b.errorObservable||_.S(null)).pipe(_.Ye(0)),alignmentPeriodMs:(b.alignmentPeriodMsObservable||_.S(null)).pipe(_.Ye(0)),outputPeriodMs:(b.outputPeriodMsObservable||_.S(null)).pipe(_.Ye(0)),legendTemplate:a.legendTemplate||f,dataSet:a}},sle=function(a,b,c,d,e){var f;const g=b.featureFlags;var h=b.instrumentationService;b=[];const l=[],n=[],r=[],v=[],w=[];
let y=[];const B={left:null,right:null,none:null},G=[];var O=[];for(var T of c)for(const Ka of a.dataSets){var J=1===Ka.targetAxis?"left":"right";B[J]||(B[J]=Ka);if(J=$ke(Ka,T,d))switch(Ka.plotType){case 0:const Va=mle(Ka,J,{independentOutputPeriod:!0,requestPrism:g.requestPrism,instrumentationService:h},e);b.push(Va);a.timeshiftDuration&&(J=mle(Ka,J,{independentOutputPeriod:!0,requestPrism:g.requestPrism,instrumentationService:h},e),b.push(Object.assign({},J,{xAxisId:"bottom",styles:{lineDash:[5,
5]}})));break;case 1:G.push({dataSet:Ka,params:J});break;case 2:O.push({dataSet:Ka,params:J});break;case 3:J=mle(Ka,J,{streamLimit:null,independentOutputPeriod:!1,requestPrism:g.requestPrism,instrumentationService:h},e),n.push(J)}}T=qle(G,{independentOutputPeriod:!1,requestPrism:g.requestPrism,instrumentationService:h},e);l.push(...T);e=qle(O,{independentOutputPeriod:!0,requestPrism:g.requestPrism,instrumentationService:h},e);r.push(...e);v.push({xAxisId:"chart_group",layerId:`x-axis-layer-id-${ple++}`,
interactions:{dragZoom:!0,ctrlScrollZoom:!0,ctrlDragPan:!0,hoverBrush:!0,clickTimePin:!0,hoverTimePin:!0}});a.timeshiftDuration&&v.push({xAxisId:"bottom",layerId:`x-axis-layer-id-${ple++}`,relativeTo:{xAxisId:"chart_group",shift:a.timeshiftDuration},styles:{lineDash:[5,5]},interactions:{dragZoom:!1,ctrlScrollZoom:!1,ctrlDragPan:!1,hoverBrush:!1,clickTimePin:!1,hoverTimePin:!1}});e=[[a.y1Axis,"right"],[a.y2Axis,"left"]];for(const [Ka,Va]of e){e=Ka;const cb=Va;e&&(h=mje(),(O=n.find(H=>H.yAxisId===cb))?
h=m6(O.data).pipe(_.df(H=>!(!H||!H.series.length)),_.U(rle),_.yf(h)):1===e.scale&&(h=kle),w.push({yAxisId:cb,layerId:`y-axis-layer-id-${ple++}`,position:cb,tickStrategy:h}))}w.length||w.push({yAxisId:"right",layerId:`y-axis-layer-id-${ple++}`,position:"right",tickStrategy:mje()});const R={left:null,right:null,none:null};e=[...b,...l,...n,...r];for(const Ka of e)if(Ka.yAxisId&&(R[f=Ka.yAxisId]||(R[f]=Ka),R.left&&R.right))break;let ra,Ba;(null==(ra=a.constantLines)?0:ra.length)&&(null==(Ba=a.dataSets)?
0:Ba.length)&&c[0]&&(y=a.constantLines.map(Ka=>{const Va=1===Ka.targetAxis?"left":"right";var cb=R[Va];if(cb){var H=cb.dataSet,Y=null;H&&(Y=(Y=Zke(H,c[0],d))?lle(H,Y):null);cb=cb.data?m6(cb.data):null;return{data:cb&&!Y?cb.pipe(_.U(X=>({threshold:Ka.value||0,unit:(null==X?void 0:X.unit)||null,label:Ka.label||void 0}))):{threshold:Ka.value||0,unit:Y,label:Ka.label||void 0},color:"#d2191d",yAxisId:Va}}}).filter(Ka=>!!Ka));if(g.useLegacyGapDetection){for(const Ka of b)Ka.useLegacyGapDetection=!0;for(const Ka of r)Ka.useLegacyGapDetection=
!0}return{xAxisLayers:v,yAxisLayers:w,lineLayers:b,barLayers:l,stackedAreaLayers:r,heatmapLayers:n,thresholdLineLayers:y,loadingLayers:[{}],errorLayers:[{}]}},rle=function(a){let b,c,d,e;var f;let g,h,l;var n;(n=null==a?0:null==(b=a.series[0])?0:null==(c=b.data[0])?0:null==(d=c.y)?0:null==(e=d.bucketOptions)?0:e.exponentialBuckets)||(a=null==a?void 0:null==(f=a.series[0])?void 0:null==(g=f.data[0])?void 0:null==(h=g.y)?void 0:null==(l=h.bucketOptions)?void 0:l.explicitBuckets,!a||!a.bounds||3>a.bounds.length?
n=!1:(f=a.bounds,n=1<Math.abs(Math.log10(Math.abs(f[f.length-1]-f[f.length-2]))-Math.log10(Math.abs(f[1]-f[0])))));return n?kle:mje()},tle=function(a,b,c,d){return(e,f)=>_.qe([a,b,c,d]).pipe(_.U(([g,,h,l])=>sle(e,f,g,h,l)))},ule=function(a){switch(a){case "STACKED_BAR":return 1;case "STACKED_AREA":return 2;case "HEATMAP":return 3}return 0},vle=function(a){return{scale:a.scale===_.pO.LOG10?1:0,label:a.label||void 0}},wle=function(a){return{value:a.value,targetAxis:"Y2"===a.targetAxis?1:0,label:a.label&&
"label"!==a.label?a.label:void 0}},xle=function(a){if(a.hasReduceMakeDistributionParams){var b=a.reduceMakeDistributionParams;if(b.hasBucketOptions){var c=b.bucketOptions;c={linearBuckets:c.hasLinearBuckets?{numFiniteBuckets:c.linearBuckets.numFiniteBuckets,width:c.linearBuckets.width,offset:c.linearBuckets.offset}:void 0,exponentialBuckets:c.hasExponentialBuckets?{numFiniteBuckets:c.exponentialBuckets.numFiniteBuckets,growthFactor:c.exponentialBuckets.growthFactor,scale:c.exponentialBuckets.scale}:
void 0,explicitBuckets:c.hasExplicitBuckets?{bounds:c.explicitBuckets.hasBounds?c.explicitBuckets.bounds:[]}:void 0}}else c=void 0;b={bucketOptions:c,exemplarSampling:b.hasExemplarSampling?{minimumValue:b.exemplarSampling.minimumValue||void 0}:void 0}}else b=void 0;return{alignmentPeriod:a.alignmentPeriod||void 0,perSeriesAligner:a.perSeriesAligner||void 0,crossSeriesReducer:a.crossSeriesReducer||void 0,groupByFields:a.hasGroupByFields?a.groupByFields:[],reduceFractionLessThanParams:a.hasReduceFractionLessThanParams?
{threshold:a.reduceFractionLessThanParams.threshold||void 0}:void 0,reduceMakeDistributionParams:b}},Ale=function(a){return{filter:a.filter,perSeriesAligner:a.perSeriesAligner||void 0,crossSeriesReducer:a.crossSeriesReducer||void 0,groupByFields:a.hasGroupByFields?a.groupByFields:[],secondaryCrossSeriesReducer:a.secondaryCrossSeriesReducer||void 0,secondaryGroupByFields:a.hasSecondaryGroupByFields?a.secondaryGroupByFields:[],unitOverride:a.unitOverride||void 0,minAlignmentPeriod:a.minAlignmentPeriod||
void 0,apiSource:a.apiSource||void 0,aggregations:a.hasAggregations?a.aggregations.map(xle):void 0,pickTimeSeriesFilter:a.hasPickTimeSeriesFilter?yle(a.pickTimeSeriesFilter):void 0,statisticalTimeSeriesFilter:a.hasStatisticalTimeSeriesFilter?zle(a.statisticalTimeSeriesFilter):void 0}},yle=function(a){return{rankingMethod:a.rankingMethod,numTimeSeries:a.numTimeSeries,direction:a.direction}},zle=function(a){return{rankingMethod:a.rankingMethod,numTimeSeries:a.numTimeSeries}},Ble=function(a){var b=ule(a.plotType),
c="Y2"===a.targetAxis?1:0,d=a.hasTimeSeriesFilter?Ale(a.timeSeriesFilter):void 0;if(a.hasTimeSeriesFilterRatio){var e=a.timeSeriesFilterRatio;e={numeratorFilter:Ale(e.numeratorFilter),denominatorFilter:Ale(e.denominatorFilter),pickTimeSeriesFilter:e.hasPickTimeSeriesFilter?yle(e.pickTimeSeriesFilter):void 0,statisticalTimeSeriesFilter:e.hasStatisticalTimeSeriesFilter?zle(e.statisticalTimeSeriesFilter):void 0}}else e=void 0;return{plotType:b,targetAxis:c,timeSeriesFilter:d,timeSeriesFilterRatio:e,
timeSeriesQuery:a.timeSeriesQuery||void 0,prometheusQuery:a.prometheusQuery||void 0,legendTemplate:a.legendTemplate||void 0}},Cle=function(a){const b=a.timeshiftDuration&&Lke(a.timeshiftDuration);return{dataSets:(a.hasDataSets?a.dataSets.map(Ble):[]).map((c,d)=>Object.assign({},c,{dataSetId:`data-set-${d}`})),constantLines:a.hasConstantLines?a.constantLines.map(wle):void 0,xAxis:a.hasXAxis?vle(a.xAxis):void 0,y1Axis:a.hasY1Axis?vle(a.y1Axis):void 0,y2Axis:a.hasY2Axis?vle(a.y2Axis):void 0,timeshiftDuration:b?
-b:void 0}},Dle=function(a){a&1&&(_.I(0,"ac-loading",15),_.Zd(1,"async"));a&2&&(a=_.N(2),_.C("chartTitle",a.title)("showPausedBeforeFirstLoad",_.$d(1,2,a.showPausedBeforeFirstLoadObservable)))},Ele=function(a,b){a&1&&(_.I(0,"ac-y-axis",16),_.Zd(1,"async"),_.Zd(2,"async"),_.Zd(3,"async"),_.Zd(4,"async"));a&2&&(a=b.$implicit,b=_.N(2),_.C("layerId",a.layerId)("position",_.$d(1,6,b.asObservable(a.position)))("yAxisId",_.$d(2,8,b.asObservable(a.yAxisId)))("includeRange",_.$d(3,10,b.asObservable(a.includeRange)))("tickStrategy",
_.$d(4,12,b.asObservable(a.tickStrategy)))("interactions",b.yAxisInteractions))},Fle=function(a,b){a&1&&(_.I(0,"ac-x-axis",17),_.Zd(1,"async"),_.Zd(2,"async"),_.Zd(3,"async"),_.Zd(4,"async"),_.Zd(5,"async"));if(a&2){b=b.$implicit;const d=_.N(2);a=_.C("layerId",b.layerId)("xAxisId",_.$d(1,9,d.asObservable(b.xAxisId)))("timezoneOffset",d.timezoneOffset)("timeZoneId",d.timeZoneId)("xAxisBrushActionButtonConfig",d.xAxisBrushActionButtonConfig);var c=_.$d(2,11,d.asObservable(b.interactions));c=Object.assign({},
c,d.timeAxisInteractions);a("interactions",c)("interactionBounds",_.$d(3,13,d.asObservable(b.interactionBounds)))("relativeTo",_.$d(4,15,d.asObservable(b.relativeTo)))("styles",_.$d(5,17,d.asObservable(b.styles)))}},Gle=function(a,b){a&1&&_.I(0,"ac-background",18);a&2&&_.C("color",b.ngIf.color)},Hle=function(a,b){a&1&&(_.I(0,"ac-heatmap",19),_.Zd(1,"async"),_.Zd(2,"async"),_.Zd(3,"async"),_.Zd(4,"async"),_.Zd(5,"async"));if(a&2){a=b.$implicit;b=b.index;const c=_.N(2);_.C("layerId",a.layerId)("layerName",
b+1)("data",_.$d(1,7,c.asObservable(a.data)))("loading",_.$d(2,9,c.asObservable(a.loading)))("error",_.$d(3,11,c.asObservable(a.error)))("yAxisId",_.$d(4,13,c.asObservable(a.yAxisId)))("legendTemplate",_.$d(5,15,c.asObservable(a.legendTemplate)))}},Ile=function(a,b){a&1&&(_.I(0,"ac-band",20),_.Zd(1,"async"),_.Zd(2,"async"),_.Zd(3,"async"),_.Zd(4,"async"),_.Zd(5,"async"),_.Zd(6,"async"),_.Zd(7,"async"),_.Zd(8,"async"));a&2&&(a=b.$implicit,b=_.N(2),_.C("layerId",a.layerId)("data",_.$d(1,9,b.asObservable(a.data)))("loading",
_.$d(2,11,b.asObservable(a.loading)))("error",_.$d(3,13,b.asObservable(a.error)))("alignmentPeriodMs",_.$d(4,15,b.asObservable(a.alignmentPeriodMs)))("outputPeriodMs",_.$d(5,17,b.asObservable(a.outputPeriodMs)))("yAxisId",_.$d(6,19,b.asObservable(a.yAxisId)))("showBand",_.$d(7,21,b.asObservable(a.showBand)))("useLegacyGapDetection",_.$d(8,23,b.asObservable(a.useLegacyGapDetection))))},Jle=function(a,b){if(a&1){const c=_.Pc();_.E(0,"ac-stacked-area",21);_.L("onSelect",function(d){const e=_.t(c).$implicit;
return _.u(e.onSelect&&e.onSelect(d))});_.Zd(1,"async");_.Zd(2,"async");_.Zd(3,"async");_.Zd(4,"async");_.Zd(5,"async");_.Zd(6,"async");_.Zd(7,"async");_.Zd(8,"async");_.Zd(9,"async");_.F()}if(a&2){a=b.$implicit;b=b.index;const c=_.N(2);_.C("layerId",a.layerId)("layerName",b+1)("data",_.$d(1,11,c.asObservable(a.data)))("loading",_.$d(2,13,c.asObservable(a.loading)))("error",_.$d(3,15,c.asObservable(a.error)))("alignmentPeriodMs",_.$d(4,17,c.asObservable(a.alignmentPeriodMs)))("outputPeriodMs",_.$d(5,
19,c.asObservable(a.outputPeriodMs)))("yAxisId",_.$d(6,21,c.asObservable(a.yAxisId)))("legendTemplate",_.$d(7,23,c.asObservable(a.legendTemplate)))("useLegacyGapDetection",_.$d(8,25,c.asObservable(a.useLegacyGapDetection)))("colorStrategy",_.$d(9,27,c.asObservable(a.colorStrategy)))}},Kle=function(a,b){if(a&1){const c=_.Pc();_.E(0,"ac-bar",22);_.L("onSelect",function(d){const e=_.t(c).$implicit;return _.u(e.onSelect&&e.onSelect(d))});_.Zd(1,"async");_.Zd(2,"async");_.Zd(3,"async");_.Zd(4,"async");
_.Zd(5,"async");_.Zd(6,"async");_.Zd(7,"async");_.Zd(8,"async");_.F()}if(a&2){a=b.$implicit;b=b.index;const c=_.N(2);_.C("layerId",a.layerId)("layerName",b+1)("data",_.$d(1,10,c.asObservable(a.data)))("loading",_.$d(2,12,c.asObservable(a.loading)))("error",_.$d(3,14,c.asObservable(a.error)))("alignmentPeriodMs",_.$d(4,16,c.asObservable(a.alignmentPeriodMs)))("outputPeriodMs",_.$d(5,18,c.asObservable(a.outputPeriodMs)))("yAxisId",_.$d(6,20,c.asObservable(a.yAxisId)))("legendTemplate",_.$d(7,22,c.asObservable(a.legendTemplate)))("colorStrategy",
_.$d(8,24,c.asObservable(a.colorStrategy)))}},Mle=function(a,b){if(a&1){const c=_.Pc();_.E(0,"ac-line",23);_.L("onSelect",function(d){const e=_.t(c).$implicit;return _.u(e.onSelect&&e.onSelect(d))});_.Zd(1,"async");_.Zd(2,"async");_.Zd(3,"async");_.Zd(4,"async");_.Zd(5,"async");_.Zd(6,"async");_.Zd(7,"async");_.Zd(8,"async");_.Zd(9,"async");_.Zd(10,"async");_.Zd(11,"async");_.Zd(12,"async");_.F()}if(a&2){a=b.$implicit;b=b.index;const c=_.N(2);_.C("layerId",a.layerId)("layerName",b+1)("data",_.$d(1,
14,c.asObservable(a.data)))("loading",_.$d(2,16,c.asObservable(a.loading)))("error",_.$d(3,18,c.asObservable(a.error)))("alignmentPeriodMs",_.$d(4,20,c.asObservable(a.alignmentPeriodMs)))("outputPeriodMs",_.$d(5,22,c.asObservable(a.outputPeriodMs)))("yAxisId",_.$d(6,24,c.asObservable(a.yAxisId)))("xAxisId",_.$d(7,26,c.asObservable(a.xAxisId)))("colorStrategy",_.$d(8,28,c.asObservable(a.colorStrategy)))("styles",_.$d(9,30,c.asObservable(a.styles)))("legendTemplate",_.$d(10,32,c.asObservable(a.legendTemplate)))("useLegacyGapDetection",
_.$d(11,34,c.asObservable(a.useLegacyGapDetection)))("pointConnectionMethod",Lle(_.$d(12,36,c.asObservable(a.zerofill))))}},Nle=function(a,b){a&1&&(_.I(0,"ac-threshold-line",24),_.Zd(1,"async"),_.Zd(2,"async"),_.Zd(3,"async"));a&2&&(a=b.$implicit,b=_.N(2),_.C("data",_.$d(1,3,b.asObservable(a.data)))("color",_.$d(2,5,b.asObservable(a.color)))("yAxisId",_.$d(3,7,b.asObservable(a.yAxisId))))},Ole=function(a){a&1&&_.I(0,"ac-error")},Ple=function(a,b){a&1&&(_.E(0,"div",3),_.P(1,Dle,2,4,"ac-loading",4),
_.Zd(2,"async"),_.P(3,Ele,5,14,"ac-y-axis",5),_.Zd(4,"async"),_.P(5,Fle,6,19,"ac-x-axis",6),_.Zd(6,"async"),_.P(7,Gle,1,1,"ac-background",7),_.Zd(8,"async"),_.P(9,Hle,6,17,"ac-heatmap",8),_.Qd(10,2),_.P(11,Ile,9,25,"ac-band",9),_.P(12,Jle,10,29,"ac-stacked-area",10),_.P(13,Kle,9,26,"ac-bar",11),_.P(14,Mle,13,38,"ac-line",12),_.P(15,Nle,4,9,"ac-threshold-line",13),_.P(16,Ole,1,0,"ac-error",14),_.Zd(17,"async"),_.F());a&2&&(a=b.ngIf,b=_.N(),_.C("ve",b.ve.AwesomeChartImage)("veImpression",!0),_.x(1),
_.C("ngForOf",_.$d(2,23,b.asObservable(a.loadingLayers)))("ngForTrackBy",b.trackByIndex),_.x(2),_.C("ngForOf",_.$d(4,25,b.asObservable(a.yAxisLayers)))("ngForTrackBy",b.trackByIndex),_.x(2),_.C("ngForOf",_.$d(6,27,b.asObservable(a.xAxisLayers)))("ngForTrackBy",b.trackByIndex),_.x(2),_.C("ngIf",_.$d(8,29,b.asObservable(a.background))),_.x(2),_.C("ngForOf",a.heatmapLayers)("ngForTrackBy",b.trackByIndex),_.x(2),_.C("ngForOf",a.bandLayers)("ngForTrackBy",b.trackByIndex),_.x(1),_.C("ngForOf",a.stackedAreaLayers)("ngForTrackBy",
b.trackByIndex),_.x(1),_.C("ngForOf",a.barLayers)("ngForTrackBy",b.trackByIndex),_.x(1),_.C("ngForOf",a.lineLayers)("ngForTrackBy",b.trackByIndex),_.x(1),_.C("ngForOf",a.thresholdLineLayers)("ngForTrackBy",b.trackByIndex),_.x(1),_.C("ngForOf",_.$d(17,31,b.asObservable(a.errorLayers)))("ngForTrackBy",b.trackByIndex))},Rle=function(a){return 0===a.button&&!(Qle&&a.ctrlKey)},Sle=function(a,b){a=null==b?void 0:b.byYAxis.entities[a.yAxisId];const c=null==b?void 0:b.domain;var d;let e;b={x:null!=(d=null==
c?void 0:c.hover)?d:null,y:null!=(e=null==a?void 0:a.hover)?e:null};var f;let g;d={x:null!=(f=null==c?void 0:c.click)?f:null,y:null!=(g=null==a?void 0:a.click)?g:null};let h,l;f={x:null!=(h=null==c?void 0:c.focus)?h:null,y:null!=(l=null==a?void 0:a.focus)?l:null};return{hover:null===b.x&&null===b.y?null:b,click:null===d.x&&null===d.y?null:d,focus:null===f.x&&null===f.y?null:f}},Tle=function(a,b){return b.pipe(_.zf(c=>a.select(nie(c))),_.vf(1),_.U(c=>!(null==c||!c.brushing)))},Ule=function(a,b,c,d){if(b&&
c){var e=b.getTimezoneOffset(),f=d.getOffset(b);a=new Date(b);a.setMinutes(b.getMinutes()+(e-f));e=c.getTimezoneOffset();f=d.getOffset(c);const g=new Date(c);g.setMinutes(c.getMinutes()+(e-f));const [h,l]=a.getFullYear()===g.getFullYear()&&a.getMonth()===g.getMonth()&&a.getDate()===g.getDate()?[10,6]:[10,10];return`${(new _.Sr(h)).format(b,d)} - ${(new _.Sr(l)).format(c,d)}`}return c?(new _.Sr(10)).format(c,d):a?(new _.Sr(10)).format(a,d):""},Vle=function(a,b){a&1&&(_.Dd(0),_.E(1,"div",1),_.Q(2),
_.F(),_.Ed());a&2&&(a=b.ngIf,_.x(2),_.Sd(" ",a," "))},Wle=function(a,b){var c=Object.keys(a).sort();for(const d of c)c=b.get(d),c||(c=new Set,b.set(d,c)),c.add(a[d])},Xle=function(a){const b=new Map,c=new Map,d=new Map;for(const e of a)e&&(Wle(e.resource&&e.resource.labels||{},b),Wle(e.metric&&e.metric.labels||{},c),Wle(e.metadata||{},d));return{resource:b,metric:c,metadata:d}},Yle=function(a){var b=a.indexOf(".");return(b=0<=b?[a.slice(0,b),a.slice(b+1)]:null)?`${b[0]}.${_.eQ(b[1])}`:_.eQ(a)},Zle=
function(a){const b=[];try{const c=_.eO(new _.fO(a));for(a=0;c&&a<c.length;){const d=c[a++];a++;a++;a++;const e=d&&d.toString();e&&b.push(e)}}catch(c){}return b},$le=function(a){const b=[];for(const [c,d]of a){a=c;const e=d;1<e.size&&b.push([a,e.size])}return b.sort((c,d)=>d[1]-c[1]).map(c=>c[0])},ame=function(a){const b=[];for(const [c,d]of a){a=c;const e=d;1===e.size&&b.push([a,e.size])}return b.sort((c,d)=>d[1]-c[1]).map(c=>c[0])},bme=function(){return[[{isDefault:!0,title:"Name",template:"${getName()}",
tokenizer:new _.XN("${getName()}")}]]},dme=function(a){var b;return(null==(b=a[0])?0:b.labels)?(b=a.filter(c=>!!c).map(c=>c.labels).reduce((c,d)=>{if(!d)return c;for(const e of Object.keys(d))e&&!c.includes(e)&&c.push(e);return c},[]),0===b.length?[[{isDefault:!0,title:"Name",template:"${name}",tokenizer:new _.XN("${name}")}]]:[b.map(c=>{const d=cme(c);return{isDefault:1===a.length||!a.every(e=>{let f,g,h;return(null==e?void 0:null==(f=e.labels)?void 0:f[c])===(null==(g=a[0])?void 0:null==(h=g.labels)?
void 0:h[c])}),title:c,template:"${labels."+d+"}",tokenizer:new _.XN("${labels."+d+"}")}})]):[[{isDefault:!0,title:"Name",template:"${name}",tokenizer:new _.XN("${name}")}]]},eme=function(a,b){let c=1;const d=[],e=(T,J)=>{d.push({isDefault:!0,title:T,template:J,tokenizer:new _.XN(J),uniqueId:c++})},f=(T,J)=>{d.push({isDefault:!1,title:T,template:J,tokenizer:new _.XN(J),uniqueId:c++})};var g=a[0];if(!g)return null;g=g.requestParams;var h=Xle(a);a=h.resource;const l=h.metric;h=h.metadata;const n=[];
g&&g["aggregation.groupByFields"]&&g["aggregation.groupByFields"].forEach(T=>{"resource.label.*"!==T&&"resource.*"!==T&&("project"===T&&n.push("resource.labels.project"),0===T.indexOf("resource.labels.")?n.push(T):0===T.indexOf("resource.label.")?n.push("resource.labels."+T.substring(15)):0===T.indexOf("resource.")&&n.push("resource.labels."+T.substring(9)),0===T.indexOf("metric.labels.")?n.push(T):0===T.indexOf("metric.label.")?n.push("metric.labels."+T.substring(13)):0===T.indexOf("metric.")&&n.push("metric.labels."+
T.substring(7)),0===T.indexOf("metadata.")&&n.push("metadata."+T.substring(9)))});const r=$le(a),v=$le(l),w=$le(h),y=ame(a),B=ame(l),G=ame(h),O=(T,J)=>{J=T.indexOf(J);-1!==J&&delete T[J]};n.forEach(T=>{if(0===T.indexOf("resource.labels.")){var J=_.eQ(T.substring(16));O(r,J);O(y,J);"project"===J&&(O(r,"project_id"),O(y,"project_id"))}0===T.indexOf("metric.labels.")&&(J=_.eQ(T.substring(14)),O(v,J),O(B,J));0===T.indexOf("metadata.")&&(T=Yle(T.substring(9)),O(w,T),O(G,T))});if(!b&&0===r.length&&0===
v.length&&0===w.length&&g&&(e("Metric","${shortMetric}"),g.filter&&(b=Zle(g.filter))))for(const T of b)0===T.indexOf("metric.label.")&&(b=_.eQ(T.substring(13)),e(b,"${metric.labels."+b+"}"),O(v,b),O(B,b),O(n,"metric.labels."+b)),0===T.indexOf("resource.label.")&&(b=_.eQ(T.substring(15)),e(b,"${resource.labels."+b+"}"),O(r,b),O(y,b),O(n,"resource.labels."+b),"project"===b&&(O(r,"project_id"),O(y,"project_id"),O(n,"resource.labels.project_id"))),0===T.indexOf("metadata.")&&(b=Yle(T.substring(9)),e(b,
"${metadata."+cme(b)+"}"),O(w,b),O(G,b),O(n,"metadata."+b)),0===T.indexOf("select_slo_")&&(e("SLO","${tssData.slo}"),T.includes("recent_loss")&&e("Lookback","${tssData.lookback}"));n.forEach(T=>{if("resource.labels.project"===T||'resource.labels."project"'===T)e("project","${resource.labels.project_id}");else if("resource.labels.instance_id"===T||'resource.labels."instance_id"'===T)e("Name (from instance_id)","${instanceNameOrId()}"),f("instance_id","${resource.labels.instance_id}");else{let J=T;
0===J.indexOf("resource.labels.")&&(J=_.eQ(J.substring(16)),T=`resource.labels.${J}`);0===J.indexOf("metric.labels.")&&(J=_.eQ(J.substring(14)),T=`metric.labels.${J}`);0===J.indexOf("metadata.")&&(J=Yle(J.substring(9)),T="metadata."+cme(J));e(J,"${"+T+"}")}});r.forEach(T=>{"instance_id"===T||'"instance_id"'===T?(e("Name (from instance_id)","${instanceNameOrId()}"),T=_.eQ(T),f(T,"${resource.labels."+T+"}")):(T=_.eQ(T),e(T,"${resource.labels."+T+"}"))});v.forEach(T=>{T=_.eQ(T);e(T,"${metric.labels."+
T+"}")});w.forEach(T=>{T=Yle(T);e(T,"${metadata."+cme(T)+"}")});y.forEach(T=>{"instance_id"!==T&&'"instance_id"'!==T||f("Name (from instance_id)","${instanceNameOrId()}");T=_.eQ(T);f(T,"${resource.labels."+T+"}")});B.forEach(T=>{T=_.eQ(T);f(T,"${metric.labels."+T+"}")});G.forEach(T=>{T=Yle(T);f(T,"${metadata."+cme(T)+"}")});return 0===d.length?null:[d]},cme=function(a){return a.replace(/\./g,"\\.").replace(/'/g,"\\'")},fme=function(a){a&1&&(_.Uc(),_.E(0,"g",11),_.I(1,"path",12)(2,"path"),_.F());a&
2&&(a=_.N(2),_.x(1),_.zd("d",a.shape),_.x(1),_.zd("d",a.shape))},gme=function(a){a&1&&(_.Uc(),_.E(0,"svg",8),_.I(1,"path",9),_.P(2,fme,3,2,"g",10),_.F());a&2&&(a=_.N(),_.x(2),_.C("ngIf",a.shape))},hme=function(a){a&1&&(_.Uc(),_.E(0,"g",11),_.I(1,"path",12)(2,"path"),_.F());a&2&&(a=_.N(2),_.x(1),_.zd("d",a.shape),_.x(1),_.zd("d",a.shape))},ime=function(a){a&1&&(_.Uc(),_.E(0,"svg",13),_.I(1,"path",14)(2,"path",9),_.P(3,hme,3,2,"g",10),_.F());a&2&&(a=_.N(),_.x(3),_.C("ngIf",a.shape))},jme=function(a){a&
1&&(_.Uc(),_.E(0,"svg",15),_.I(1,"path",16)(2,"path",17),_.F())},kme=function(a){a&1&&(_.Uc(),_.E(0,"svg",18),_.I(1,"path",19)(2,"path",20),_.F())},lme=function(a){a&1&&(_.Uc(),_.E(0,"svg",21),_.I(1,"path",22),_.F())},mme=function(a){a&1&&(_.Uc(),_.I(0,"path",26))},nme=function(a){a&1&&(_.Uc(),_.E(0,"g",27),_.I(1,"path",12)(2,"path"),_.F());a&2&&(a=_.N(2),_.x(1),_.zd("d",a.shape),_.x(1),_.zd("d",a.shape))},ome=function(a){a&1&&(_.Uc(),_.E(0,"svg",23),_.P(1,mme,1,0,"path",24),_.P(2,nme,3,2,"g",25),
_.F());a&2&&(a=_.N(),_.x(1),_.C("ngIf",!a.shape),_.x(1),_.C("ngIf",a.shape))},pme=function(a){a&1&&(_.Uc(),_.E(0,"svg",28),_.I(1,"circle",29),_.F())},qme=function(a){a&1&&(_.E(0,"td",6),_.Q(1),_.F());a&2&&(a=_.N(3),_.x(1),_.Sd(" ",a.timeshiftColumnLabel," "))},rme=function(a){a&1&&(_.E(0,"td",6),_.Q(1),_.F());a&2&&(a=_.N(3),_.x(1),_.Sd(" ",a.valueColumnLabel," "))},sme=function(a){a&1&&(_.E(0,"tr")(1,"td",6),_.Q(2," SELECTED "),_.F(),_.P(3,qme,2,1,"td",7),_.P(4,rme,2,1,"td",7),_.F());a&2&&(a=_.N(2),
_.x(1),_.zd("colspan",a.timeshiftColumnLabel?2:4),_.x(2),_.C("ngIf",a.timeshiftColumnLabel),_.x(1),_.C("ngIf",a.timeshiftColumnLabel))},tme=function(a){a&1&&(_.E(0,"td",13),_.Q(1),_.F());a&2&&(a=_.N().$implicit,_.x(1),_.Sd(" ",a.timeshiftDisplayValue||"-"," "))},ume=function(a,b){a&1&&(_.E(0,"tr")(1,"td",8),_.I(2,"ac-key",9),_.F(),_.E(3,"td",10)(4,"div",11),_.Q(5),_.F()(),_.P(6,tme,2,1,"td",12),_.E(7,"td",13),_.Q(8),_.F()());a&2&&(a=b.$implicit,b=_.N(2),_.x(2),_.C("color",a.color)("drawnAs",a.drawnAs)("shape",
a.shape),_.x(3),_.Sd(" ",a.name," "),_.x(1),_.C("ngIf",b.timeshiftColumnLabel),_.x(2),_.Sd(" ",a.displayValue," "))},vme=function(a){a&1&&(_.E(0,"span"),_.Q(1," \u2014 "),_.F())},wme=function(a){a&1&&(_.E(0,"span"),_.Q(1),_.F());a&2&&(a=_.N(3),_.x(1),_.Sd(" ",a.streamsAboveCount," above "))},xme=function(a){a&1&&(_.E(0,"td",6),_.Q(1),_.F());a&2&&(a=_.N(3),_.x(1),_.Sd(" ",a.timeshiftColumnLabel," "))},yme=function(a){a&1&&(_.E(0,"td",6),_.Q(1),_.F());a&2&&(a=_.N(3),_.x(1),_.Sd(" ",a.valueColumnLabel,
" "))},zme=function(a){a&1&&(_.E(0,"tr",14)(1,"td",15),_.P(2,vme,2,0,"span",0),_.P(3,wme,2,1,"span",0),_.F(),_.P(4,xme,2,1,"td",7),_.P(5,yme,2,1,"td",7),_.F());a&2&&(a=_.N(2),_.x(1),_.zd("colspan",a.timeshiftColumnLabel?2:4),_.x(1),_.C("ngIf",!a.streamsAboveCount),_.x(1),_.C("ngIf",a.streamsAboveCount),_.x(1),_.C("ngIf",a.timeshiftColumnLabel),_.x(1),_.C("ngIf",a.timeshiftColumnLabel))},Ame=function(a){a&1&&(_.E(0,"td",6),_.Q(1),_.F());a&2&&(a=_.N(3),_.x(1),_.Sd(" ",a.timeshiftColumnLabel," "))},
Bme=function(a){a&1&&(_.E(0,"td",6),_.Q(1),_.F());a&2&&(a=_.N(3),_.x(1),_.Sd(" ",a.valueColumnLabel," "))},Cme=function(a){a&1&&(_.E(0,"tr",14)(1,"td",15)(2,"span"),_.Q(3," \u2014 "),_.F()(),_.P(4,Ame,2,1,"td",7),_.P(5,Bme,2,1,"td",7),_.F());a&2&&(a=_.N(2),_.x(1),_.zd("colspan",a.timeshiftColumnLabel?2:4),_.x(3),_.C("ngIf",a.timeshiftColumnLabel),_.x(1),_.C("ngIf",a.timeshiftColumnLabel))},Eme=function(a){a&1&&(_.E(0,"td",19),_.Q(1),_.F());a&2&&(a=_.N().$implicit,_.C("ngClass",_.Yd(2,Dme,a.isInteracted)),
_.x(1),_.Sd(" ",a.timeshiftDisplayValue||"-"," "))},Fme=function(a){a&1&&(_.E(0,"td",19),_.Q(1),_.F());a&2&&(a=_.N().$implicit,_.C("ngClass",_.Yd(2,Dme,a.isInteracted)),_.x(1),_.Sd(" ",a.displayValue," "))},Gme=function(a){a&1&&(_.E(0,"td",19),_.Q(1),_.I(2,"br"),_.Q(3),_.I(4,"br"),_.Q(5),_.F());a&2&&(a=_.N().$implicit,_.C("ngClass",_.Yd(4,Dme,a.isInteracted)),_.x(1),_.Sd(" max: ",a.maxDisplayValue," "),_.x(2),_.Sd(" mean: ",a.displayValue," "),_.x(2),_.Sd(" min: ",a.minDisplayValue," "))},Ime=function(a,
b){a&1&&(_.E(0,"tr")(1,"td",8),_.I(2,"ac-key",9),_.F(),_.E(3,"td",16)(4,"div",17),_.Q(5),_.F()(),_.P(6,Eme,2,4,"td",18),_.P(7,Fme,2,4,"td",18),_.P(8,Gme,6,6,"td",18),_.F());a&2&&(a=b.$implicit,b=_.N(2),_.x(2),_.C("color",a.color)("drawnAs",a.drawnAs)("shape",a.shape),_.x(1),_.C("ngClass",_.Yd(9,Dme,a.isInteracted)),_.x(1),_.C("ngStyle",_.Yd(11,Hme,b.minWidth+"px")),_.x(1),_.Sd(" ",a.name," "),_.x(1),_.C("ngIf",b.timeshiftColumnLabel),_.x(1),_.C("ngIf",void 0===a.minDisplayValue),_.x(1),_.C("ngIf",
void 0!==a.minDisplayValue))},Jme=function(a){a&1&&(_.E(0,"span"),_.Q(1," \u2014 "),_.F())},Kme=function(a){a&1&&(_.E(0,"span"),_.Q(1),_.F());a&2&&(a=_.N(3),_.x(1),_.Sd(" ",a.streamsBelowCount," below "))},Lme=function(a){a&1&&(_.E(0,"span"),_.Q(1),_.F());a&2&&(a=_.N(3),_.x(1),_.Sd(" ",a.streamsBelowCount+a.streamsAboveCount," additional values "))},Mme=function(a){a&1&&(_.E(0,"tr",20)(1,"td",21),_.P(2,Jme,2,0,"span",0),_.P(3,Kme,2,1,"span",0),_.P(4,Lme,2,1,"span",0),_.F()());a&2&&(a=_.N(2),_.x(2),
_.C("ngIf",!a.compact&&!a.streamsBelowCount),_.x(1),_.C("ngIf",!a.compact&&a.streamsBelowCount),_.x(1),_.C("ngIf",a.compact))},Nme=function(a){a&1&&(_.Dd(0),_.E(1,"div",1)(2,"table")(3,"tbody",2),_.P(4,sme,5,3,"tr",0),_.P(5,ume,9,6,"tr",3),_.P(6,zme,6,5,"tr",4),_.P(7,Cme,6,3,"tr",4),_.P(8,Ime,9,13,"tr",3),_.P(9,Mme,5,3,"tr",5),_.F()()(),_.Ed());a&2&&(a=_.N(),_.x(3),_.Bd("compact",a.compact),_.x(1),_.C("ngIf",0<(null==a.selectedStreams?null:a.selectedStreams.length)),_.x(1),_.C("ngForOf",a.selectedStreams),
_.x(1),_.C("ngIf",!a.compact&&(0<(null==a.selectedStreams?null:a.selectedStreams.length)||a.streamsAboveCount||a.streamsBelowCount||a.timeshiftColumnLabel)),_.x(1),_.C("ngIf",a.compact&&(0<(null==a.selectedStreams?null:a.selectedStreams.length)||a.timeshiftColumnLabel)),_.x(1),_.C("ngForOf",a.streams),_.x(1),_.C("ngIf",a.streamsAboveCount||a.streamsBelowCount))},Ome=function(a,b){return void 0!==a.stackingIndex&&void 0!==b.stackingIndex?b.stackingIndex-a.stackingIndex:void 0!==a.pxValue&&void 0!==
b.pxValue?a.pxValue-b.pxValue:a.scaledValue?b.scaledValue?2===a.valueType||2===b.valueType?0:b.scaledValue-a.scaledValue:-1:1},Qme=function({chartId:a}){return _.zh(Pme,b=>b.entities[a])},Rme=function(a){let b=null;if(a.timeSeriesQuery)b=a.timeSeriesQuery;else{let c;if(null==(c=a.timeSeriesQueryLanguage)?0:c.query)b=a.timeSeriesQueryLanguage.query}return b},Sme=function(a){a&1&&(_.E(0,"div",7)(1,"span",8),_.Q(2),_.F(),_.E(3,"span",9),_.Q(4),_.F()());a&2&&(a=_.N(2).$implicit,_.C("matTooltip",a.tooltip),
_.x(2),_.Ud(a.tooltip),_.x(2),_.Ud(a.text))},Tme=function(a){a&1&&(_.Dd(0),_.P(1,Sme,5,3,"div",6),_.Ed());if(a&2){a=_.N().$implicit;const b=_.N(3);_.x(1);_.C("ngIf",b.isHeader(a.chipDescriptor))}},Ume=function(a,b){a&1&&(_.Dd(0),_.P(1,Tme,2,1,"ng-container",2),_.Ed());a&2&&(a=b.$implicit,_.x(1),_.C("ngIf",a.chipDescriptor.showOnSingle))},Vme=function(a){a&1&&_.I(0,"mat-icon",13)},Yme=function(a){a&1&&(_.E(0,"mat-chip",11)(1,"span",8),_.Q(2),_.F(),_.P(3,Vme,1,0,"mat-icon",12),_.E(4,"span",9),_.Q(5),
_.F()());if(a&2){a=_.N(2).$implicit;const b=_.N(3);_.C("matTooltip",a.tooltip)("ngClass",_.eY(8,Wme,b.isInfoChip(a.chipDescriptor),b.isWarnStatusChip(a),b.isErrorStatusChip(a)))("matTooltipClass",b.singleChipTooltipClass)("ve",Xme(a))("veHover",!0);_.x(2);_.Ud(a.tooltip);_.x(1);_.C("ngIf",b.isFilter(a.chipDescriptor));_.x(2);_.Ud(a.text)}},Zme=function(a){a&1&&(_.Dd(0),_.P(1,Yme,6,12,"mat-chip",10),_.Ed());if(a&2){a=_.N().$implicit;const b=_.N(3);_.x(1);_.C("ngIf",!b.isHeader(a.chipDescriptor))}},
$me=function(a,b){a&1&&(_.Dd(0),_.P(1,Zme,2,1,"ng-container",2),_.Ed());a&2&&(a=b.$implicit,_.x(1),_.C("ngIf",a.chipDescriptor.showOnSingle))},ane=function(a,b){a&1&&(_.Dd(0),_.P(1,Ume,2,1,"ng-container",5),_.E(2,"mat-chip-list"),_.Dd(3),_.Qd(4),_.Ed(),_.P(5,$me,2,1,"ng-container",5),_.Dd(6),_.Qd(7,1),_.Ed(),_.F(),_.Ed());a&2&&(a=b.$implicit,_.x(1),_.C("ngForOf",a),_.x(4),_.C("ngForOf",a))},bne=function(a){a&1&&(_.Dd(0),_.P(1,ane,8,2,"ng-container",5),_.Ed());a&2&&(a=_.N(),_.x(1),_.C("ngForOf",a.chips))},
cne=function(a){a&1&&(_.E(0,"div",19)(1,"span",8),_.Q(2),_.F(),_.E(3,"span",9),_.Q(4),_.F()());a&2&&(a=_.N(2).$implicit,_.N(3),_.C("matTooltip",a.tooltip)("ve",Xme(a))("veHover",!0),_.x(2),_.Ud(a.tooltip),_.x(2),_.Ud(a.text))},dne=function(a){a&1&&(_.Dd(0),_.P(1,cne,5,5,"div",18),_.Ed());if(a&2){a=_.N().$implicit;const b=_.N(3);_.x(1);_.C("ngIf",b.isHeader(a.chipDescriptor))}},ene=function(a,b){a&1&&(_.Dd(0),_.P(1,dne,2,1,"ng-container",2),_.Ed());a&2&&(a=b.$implicit,_.x(1),_.C("ngIf",a.chipDescriptor.showOnMuxExpanded))},
fne=function(a){a&1&&_.I(0,"mat-icon",23)},gne=function(a){a&1&&(_.E(0,"mat-chip",21)(1,"span",8),_.Q(2),_.F(),_.P(3,fne,1,0,"mat-icon",22),_.E(4,"span",9),_.Q(5),_.F()());if(a&2){a=_.N(2).$implicit;const b=_.N(3);_.C("ngClass",_.eY(7,Wme,b.isInfoChip(a.chipDescriptor),b.isWarnStatusChip(a),b.isErrorStatusChip(a)))("matTooltip",a.tooltip)("ve",Xme(a))("veHover",!0);_.x(2);_.Ud(a.tooltip);_.x(1);_.C("ngIf",b.isFilter(a.chipDescriptor));_.x(2);_.Ud(a.text)}},hne=function(a){a&1&&(_.Dd(0),_.P(1,gne,
6,11,"mat-chip",20),_.Ed());if(a&2){a=_.N().$implicit;const b=_.N(3);_.x(1);_.C("ngIf",!b.isHeader(a.chipDescriptor))}},ine=function(a,b){a&1&&(_.Dd(0),_.P(1,hne,2,1,"ng-container",2),_.Ed());a&2&&(a=b.$implicit,_.x(1),_.C("ngIf",a.chipDescriptor.showOnMuxExpanded))},jne=function(a,b){a&1&&(_.Dd(0),_.P(1,ene,2,1,"ng-container",5),_.E(2,"mat-chip-list"),_.P(3,ine,2,1,"ng-container",5),_.F(),_.Ed());a&2&&(a=b.$implicit,_.x(1),_.C("ngForOf",a),_.x(2),_.C("ngForOf",a))},kne=function(a){if(a&1){const b=
_.Pc();_.E(0,"div",14)(1,"div",15)(2,"div");_.P(3,jne,4,2,"ng-container",5);_.F();_.E(4,"div",16);_.L("click",function(){_.t(b);const c=_.N();return _.u(c.expanded=!1)});_.I(5,"mat-icon",17);_.F()()()}a&2&&(a=_.N(),_.x(3),_.C("ngForOf",a.chips))},lne=function(a){a&1&&(_.E(0,"div",7)(1,"span",8),_.Q(2),_.F(),_.E(3,"span",9),_.Q(4),_.F()());a&2&&(a=_.N().$implicit,_.C("matTooltip",a.tooltip),_.x(2),_.Ud(a.tooltip),_.x(2),_.Ud(a.text))},mne=function(a,b){a&1&&(_.Dd(0),_.P(1,lne,5,3,"div",6),_.Ed());
a&2&&(a=b.$implicit,b=_.N(2),_.x(1),_.C("ngIf",b.isHeader(a.chipDescriptor)))},nne=function(a){a&1&&_.I(0,"mat-icon",23)},one=function(a){a&1&&(_.E(0,"mat-chip",21)(1,"span",8),_.Q(2),_.F(),_.P(3,nne,1,0,"mat-icon",22),_.E(4,"span",9),_.Q(5),_.F()());if(a&2){a=_.N().$implicit;const b=_.N(2);_.C("ngClass",_.eY(7,Wme,b.isInfoChip(a.chipDescriptor),b.isWarnStatusChip(a),b.isErrorStatusChip(a)))("matTooltip",a.tooltip)("ve",Xme(a))("veHover",!0);_.x(2);_.Ud(a.tooltip);_.x(1);_.C("ngIf",b.isFilter(a.chipDescriptor));
_.x(2);_.Ud(a.text)}},pne=function(a,b){a&1&&(_.Dd(0),_.P(1,one,6,11,"mat-chip",20),_.Ed());a&2&&(a=b.$implicit,b=_.N(2),_.x(1),_.C("ngIf",!b.isHeader(a.chipDescriptor)))},qne=function(a){if(a&1){const b=_.Pc();_.E(0,"div",24)(1,"div",25)(2,"div");_.P(3,mne,2,1,"ng-container",5);_.E(4,"mat-chip-list");_.P(5,pne,2,1,"ng-container",5);_.F()();_.E(6,"div",26);_.L("click",function(){_.t(b);const c=_.N();return _.u(c.expanded=!0)});_.I(7,"mat-icon",27);_.F()()()}a&2&&(a=_.N(),_.x(3),_.C("ngForOf",a.collapsedChips(a.chips)),
_.x(2),_.C("ngForOf",a.collapsedChips(a.chips)))},rne=function(a=1){return(b,c)=>(a||1)*(b.name||"").localeCompare(c.name||"")},sne=function(a,b=1){b=b||1;return(c,d)=>{c=c.labels&&c.labels[a]||"";d=d.labels&&d.labels[a]||"";return(b||1)*c.localeCompare(d,void 0,{numeric:!isNaN(Number(c))&&!isNaN(Number(d))})}},tne=function(a=1){const b=a||1;return(c,d)=>{let e=Infinity*b,f=Infinity*b;"number"===typeof c.rawValue&&(e="number"===typeof c.pxValue?-c.pxValue:c.rawValue);"number"===typeof d.rawValue&&
(f="number"===typeof d.pxValue?-d.pxValue:d.rawValue);return f>e?-1*b:f<e?b:0}},une=function(a=1){const b=a||1;return(c,d)=>{c=c.isSelected;return c===d.isSelected?0:c?b:-1*b}},vne=function(a){a&1&&(_.E(0,"span"),_.Q(1,":"),_.F())},wne=function(a,b){if(a&1){const c=_.Pc();_.E(0,"div",3)(1,"div",4);_.L("mouseenter",function(){const d=_.t(c).$implicit,e=_.N();return _.u(e.hover(d))})("mouseleave",function(){const d=_.t(c).$implicit,e=_.N();return _.u(e.clearHover(d))});_.E(2,"span",5);_.I(3,"ac-key",
6);_.Q(4);_.P(5,vne,2,0,"span",7);_.F();_.E(6,"span",8)(7,"span",2);_.Q(8);_.F();_.Q(9);_.F()()()}a&2&&(a=b.$implicit,b=_.N(),_.x(1),_.C("ngStyle",a.style),_.x(2),_.C("color",a.color)("drawnAs",a.drawnAs)("shape",a.shape),_.x(1),_.Sd(" ",a.name,""),_.x(1),_.C("ngIf",a.displayValue),_.x(3),_.Ud(b.valueLabel),_.x(1),_.Sd(" ",a.displayValue," "))},xne=function(a){a&1&&(_.E(0,"mat-option",6),_.K(1,9),_.F());a&2&&(a=_.N(),_.C("value",a.TIMESHIFT_COLUMN_UNIQUE_ID),_.x(1),_.Kd(a.timeshiftName),_.Ld(1))},
yne=function(a,b){a&1&&(_.E(0,"mat-option",10),_.Q(1),_.F());a&2&&(a=b.$implicit,b=_.N(),_.C("value",a.uniqueId)("ve",b.ve.ChartLegendMenuItem)("veClick",!0),_.x(1),_.Sd(" ",a.title," "))},zne=function(a,b){return a===b?!0:a&&b?_.qy(a,b):!1},Bne=function(a){a&1&&_.I(0,"mat-icon",22);a&2&&(a=_.N(),_.C("ngClass",_.Yd(1,Ane,!(a.xAxisPinEnabled&&2===a.hoveredColumn&&(2!==a.currentSortColumn.id||0===(a.currentSortColumn.direction||0))))))},Cne=function(a){a&1&&_.I(0,"mat-icon",23)},Dne=function(a){a&1&&
_.I(0,"mat-icon",24)},Ene=function(a){a&1&&_.I(0,"mat-icon",28)},Fne=function(a){a&1&&_.I(0,"mat-icon",29)},Gne=function(a,b){if(a&1){const c=_.Pc();_.E(0,"span",27);_.L("click",function(){_.t(c);var d=_.N(2);d.toggleSortColumn("MAIN",1);u5(d);return _.u()});_.Q(1);_.P(2,Ene,1,0,"mat-icon",17);_.P(3,Fne,1,0,"mat-icon",18);_.F()}a&2&&(a=b.$implicit,b=_.N(2),_.tx("sortable-column legend-table-cell ",a,""),_.fv("fxFlex",b.columnFlexWidth),_.fv("matTooltip",a),_.zd("aria-label",a),_.x(1),_.Sd(" ",a," "),
_.x(1),_.C("ngIf",1===b.currentSortColumn.id&&0<(b.currentSortColumn.direction||0)),_.x(1),_.C("ngIf",1===b.currentSortColumn.id&&0>(b.currentSortColumn.direction||0)))},Hne=function(a){a&1&&(_.E(0,"div",25),_.P(1,Gne,4,9,"span",26),_.F());a&2&&(a=_.N(),_.x(1),_.C("ngForOf",a.columnKeys))},Ine=function(a){a&1&&_.I(0,"mat-icon",22);if(a&2){a=_.N().index;const b=_.N(2);_.C("ngClass",_.Yd(1,Ane,!b.isLabelColumnHovered(b.labelsModel.selectedColumns[a].uniqueId)))}},Jne=function(a){a&1&&_.I(0,"mat-icon",
28)},Kne=function(a){a&1&&_.I(0,"mat-icon",29)},Mne=function(a,b){if(a&1){const c=_.Pc();_.E(0,"div",31)(1,"button",32);_.L("mouseenter",function(){const d=_.t(c).index,e=_.N(2);return _.u(e.labelSortColumnHovered(e.labelsModel.selectedColumns[d].uniqueId))})("mouseleave",function(){_.t(c);_.N(2).hoveredColumn=null;return _.u()})("click",function(){const d=_.t(c).index,e=_.N(2);return _.u(e.labelSortColumnClicked(e.labelsModel.selectedColumns[d].uniqueId))});_.Q(2);_.P(3,Ine,1,3,"mat-icon",4);_.P(4,
Jne,1,0,"mat-icon",17);_.P(5,Kne,1,0,"mat-icon",18);_.F()()}if(a&2){a=b.$implicit;b=b.index;const c=_.N(2);_.tx("ac-legend-key sortable-column ",c.labelToClass(a)," ac-a11y-keyboard-focusable ac-table-legend-label-header-container");_.ev("fxFlex","",c.labelsModel.labelPercents[b],"%");_.zd("aria-sort",Lne(c,c.labelsModel.selectedColumns[b].uniqueId))("aria-colindex",2+b);_.x(1);_.fv("matTooltip",a);_.C("ve",c.ve.ColumnSortButton)("veClick",!0);_.zd("title",c.isLabelSortColumnAscending(c.labelsModel.selectedColumns[b].uniqueId)?
"Sort in descending order.":"Sort in ascending order.")("aria-label",a);_.x(1);_.Sd(" ",a," ");_.x(1);_.C("ngIf",!(c.isLabelSortColumnAscending(c.labelsModel.selectedColumns[b].uniqueId)||c.isLabelSortColumnDescending(c.labelsModel.selectedColumns[b].uniqueId)));_.x(1);_.C("ngIf",c.isLabelSortColumnAscending(c.labelsModel.selectedColumns[b].uniqueId));_.x(1);_.C("ngIf",c.isLabelSortColumnDescending(c.labelsModel.selectedColumns[b].uniqueId))}},Nne=function(a){a&1&&(_.Dd(0),_.P(1,Mne,6,15,"div",30),
_.Ed());a&2&&(a=_.N(),_.x(1),_.C("ngForOf",a.labelsModel.labelHeaders))},Pne=function(a){a&1&&(_.E(0,"span",33),_.Q(1),_.F());a&2&&(a=_.N(),_.fv("matTooltip",a.timeshiftName),_.C("ngStyle",_.Zx(6,One,"translateX("+(-1*a.widthDifference+a.scrollLeft)+"px)",a.valueColumnWidth+"px"))("ngClass",100<a.scale?"leftmost-frozen":""),_.zd("aria-colindex",3+a.getColIndexOffset())("aria-label",a.timeshiftName),_.x(1),_.Sd(" ",a.timeshiftName," "))},Qne=function(a){a&1&&(_.E(0,"span",34),_.Q(1),_.F());a&2&&(a=
_.N(),_.fv("matTooltip",a.statsModeSummaryColumnLabel),_.C("ngStyle",_.Zx(6,One,"translateX("+(-1*a.widthDifference+a.scrollLeft)+"px)",a.valueColumnWidth+"px"))("ngClass",!a.timeshiftName&&100<a.scale?"leftmost-frozen":""),_.zd("aria-colindex",a.getColIndexOffsetForStatsMode())("aria-label",a.statsModeSummaryColumnLabel),_.x(1),_.Sd(" ",a.statsModeSummaryColumnLabel," "))},Rne=function(a){a&1&&_.I(0,"mat-icon",22);a&2&&(a=_.N(),_.C("ngClass",_.Yd(1,Ane,!a.isValueColumnHovered())))},Sne=function(a){a&
1&&_.I(0,"mat-icon",28)},Tne=function(a){a&1&&_.I(0,"mat-icon",29)},Vne=function(a){a&1&&_.I(0,"span",35);a&2&&(a=_.N(),_.C("ngStyle",_.Yd(1,Une,"translateX("+(-1*a.widthDifference+a.scrollLeft)+"px)")))},Wne=function(a){a&1&&(_.E(0,"span",36)(1,"span",37),_.Q(2,' {{streamActionsColumnTooltip"}} '),_.F()());a&2&&(a=_.N(),_.C("ngStyle",_.Yd(1,Une,"translateX("+(-1*a.widthDifference+a.scrollLeft)+"px)")))},Xne=function(a){a&1&&(_.E(0,"div",18)(1,"span",19),_.Q(2),_.F()());a&2&&(a=_.N(),_.x(1),_.fv("matTooltip",
a.getStreamName()),_.x(1),_.Sd(" ",a.getStreamName()," "))},Zne=function(a,b){a&1&&(_.E(0,"span",20),_.Q(1),_.F());if(a&2){a=b.$implicit;b=b.index;const c=_.N();_.ev("fxFlex","",c.labelPercents[b],"%");_.fv("matTooltip",a);_.C("ngStyle",_.Xd(6,Yne));_.zd("role",0===b?"rowheader":"cell")("aria-colindex",2+b);_.x(1);_.Sd(" ",a," ")}},aoe=function(a){a&1&&(_.E(0,"div",21),_.Q(1),_.F());a&2&&(a=_.N(),_.fv("matTooltip",a.stream.timeshiftValue),_.C("ngStyle",_.Zx(5,$ne,"translateX("+(-1*a.widthDifference+
a.scrollLeft)+"px)",a.valueColumnWidth+"px"))("ngClass",100<a.scale?"leftmost-frozen":""),_.zd("aria-colindex",3+a.getColIndexOffset()),_.x(1),_.Sd(" ",a.stream.timeshiftValue," "))},boe=function(a){a&1&&(_.E(0,"div",22),_.Q(1),_.F());a&2&&(a=_.N(),_.fv("matTooltip",a.stream.statsModeSummaryValue),_.C("ngStyle",_.Zx(5,$ne,"translateX("+(-1*a.widthDifference+a.scrollLeft)+"px)",a.valueColumnWidth+"px"))("ngClass",!a.timeshift&&100<a.scale?"leftmost-frozen":""),_.zd("aria-colindex",a.getColIndexOffsetForStatsMode()),
_.x(1),_.Sd(" ",a.stream.statsModeSummaryValue," "))},doe=function(a){a&1&&_.I(0,"div",23);a&2&&(a=_.N(),_.C("ngStyle",_.Yd(1,coe,"translateX("+(-1*a.widthDifference+a.scrollLeft)+"px)")))},eoe=function(a){a&1&&(_.E(0,"div",24)(1,"button",25),_.I(2,"mat-icon",26),_.F()());if(a&2){a=_.N();const b=_.Rd(17);_.C("ngStyle",_.Yd(4,coe,"translateX("+(-1*a.widthDifference+a.scrollLeft)+"px)"));_.x(1);_.C("matTooltip",a.streamActionsMenuTooltip)("matMenuTriggerFor",b);_.zd("aria-label",a.streamActionsMenuTooltip)}},
goe=function(a){if(a&1){const b=_.Pc();_.E(0,"div",8)(1,"ac-table-legend-header",9,10);_.L("sortFunc",function(c){_.t(b);const d=_.N();return _.u(d.setSortFunc(c))});_.Zd(3,"async");_.F()()}a&2&&(a=_.N(),_.x(1),_.C("columnKeys",a.columnKeys)("labelsModel",_.$d(3,13,a.labelsModelSubject))("valueName",a.valueName)("columnFlexWidth",Efe(a))("scrollLeft",a.scrollLeft)("widthDifference",a.widthDifference)("scale",a.scale)("valueColumnWidth",foe(a))("streamActions",a.streamActions)("defaultSortingColumn",
a.defaultSortingColumn)("defaultSortingDirection",a.defaultSortingDirection)("timeshiftName",a.timeshiftName)("statsModeSummaryColumnLabel",a.statsModeSummaryColumnLabel))},ioe=function(a,b){if(a&1){const c=_.Pc();_.E(0,"ac-table-legend-row",13);_.L("mouseenter",function(){const d=_.t(c).$implicit,e=_.N(2);return _.u(e.hover(d))})("mouseleave",function(){const d=_.t(c).$implicit,e=_.N(2);return _.u(e.clearHover(d))});_.F()}a&2&&(a=b.$implicit,b=_.N(2),_.C("stream",a)("labelPercents",b.labelsModel.labelPercents)("columnFlexWidth",
Efe(b))("scrollLeft",b.scrollLeft)("scale",b.scale)("valueColumnWidth",foe(b))("streamActions",b.streamActions)("widthDifference",b.widthDifference)("timeshift",!!b.timeshiftName)("showStatsModeSummaryColumn",!!b.statsModeSummaryColumnLabel),_.zd("aria-rowindex",hoe(b,a)))},joe=function(a){a&1&&(_.E(0,"div",11),_.P(1,ioe,1,11,"ac-table-legend-row",12),_.F());a&2&&(a=_.N(),_.x(1),_.C("ngForOf",a.viewPortStreams)("ngForTrackBy",a.trackByStreamName))},moe=function(a,b){a&1&&(_.Dd(0),_.E(1,"i",8),_.Uc(),
_.E(2,"svg",9),_.I(3,"path",10)(4,"path",11),_.F()(),_.Ed());if(a&2){a=b.$implicit;b=b.index;const c=_.N().$implicit,d=_.N();_.x(1);_.C("ngStyle",_.Zx(3,koe,a.color,(c.icons.length-1-b)*d.groupedIconOffset+"px"));_.x(2);_.zd("d",loe(a.icon));_.x(1);_.zd("d",loe(a.icon))}},noe=function(a){a&1&&(_.E(0,"span",12),_.Q(1),_.F());a&2&&(a=_.N().$implicit,_.x(1),_.Sd(" ",a.annotationIds.length," "))},soe=function(a,b){if(a&1){const c=_.Pc();_.E(0,"button",3);_.L("click",function(){const d=_.t(c).$implicit,
e=_.N();return _.u(ooe(e,d))})("mouseenter",function(){const d=_.t(c).$implicit,e=_.N();return _.u(ooe(e,d))});_.E(1,"div",4)(2,"div",5);_.P(3,moe,5,6,"ng-container",6);_.F();_.P(4,noe,2,1,"span",7);_.F()()}if(a&2){a=b.$implicit;b=_.N();const c=_.Rd(3);_.C("ngStyle",_.Zx(7,poe,a.left+"px",a.top+"px"))("aceTooltip",c)("aceTooltipTemplateData",_.Yd(10,qoe,a))("aceTooltipInteractive",!0);_.x(2);_.C("ngStyle",_.Yd(12,roe,b.iconSize+(a.icons.length-1)*b.groupedIconOffset+"px"));_.x(1);_.C("ngForOf",a.icons.slice().reverse());
_.x(1);_.C("ngIf",1<a.annotationIds.length)}},toe=function(a){a&1&&(_.Dd(0),_.E(1,"div"),_.Q(2),_.F(),_.Ed());a&2&&(a=_.N().$implicit,_.x(2),_.Ud(a))},uoe=function(a){a&1&&(_.Dd(0),_.Q(1),_.Ed());a&2&&(a=_.N().$implicit,_.x(1),_.Sd(" ",a," "))},voe=function(a,b){a&1&&(_.Dd(0)(1,15),_.P(2,toe,3,1,"ng-container",16),_.P(3,uoe,2,1,"ng-container",17),_.Ed()());a&2&&(a=b.$implicit,_.N(3),_.x(1),_.C("ngSwitch",typeof a),_.x(1),_.C("ngSwitchCase","string"))},woe=function(a){a&1&&(_.Dd(0),_.P(1,voe,4,2,"ng-container",
6),_.Ed());a&2&&(a=_.N().$implicit,_.x(1),_.C("ngForOf",a.annotationContents))},xoe=function(a){a&1&&_.Fd(0)},yoe=function(a){a&1&&(_.Dd(0),_.P(1,xoe,1,0,"ng-container",18),_.Ed());if(a&2){a=_.N(2).$implicit;const b=_.N();_.x(1);_.C("ngTemplateOutlet",b.tooltipContentTemplate)("ngTemplateOutletContext",_.Yd(2,qoe,a.annotationIds))}},zoe=function(a){a&1&&_.P(0,yoe,2,4,"ng-container",13);if(a&2){a=_.N(2);const b=_.Rd(5);_.C("ngIf",a.tooltipContentTemplate)("ngIfElse",b)}},Aoe=function(a,b){a&1&&(_.P(0,
woe,2,1,"ng-container",13),_.P(1,zoe,1,2,"ng-template",null,14,_.Te));if(a&2){a=b.$implicit;const c=_.Rd(2);_.C("ngIf",0<(null==a.annotationContents?null:a.annotationContents.length))("ngIfElse",c)}},Boe=function(a){a&1&&_.Qd(0)},Coe=function(a,b,c,d){if(c.offsets){var e=a.clientX-c.offsets.left,f=a.clientY-c.offsets.top;if(!(f<c.margins.top-1||f>c.height-c.margins.bottom+1||e<c.margins.left-1||e>c.width-c.margins.right+1)){c=25+b.height;e=25+b.width;f=a.clientY+15;var g=a.clientX+15;b=a.clientX-
15-b.width;3===d&&0<=b&&(g=b);a.clientY+c>window.innerHeight&&(f=Math.max(10,a.clientY-c+10));a.clientX+e>window.innerWidth&&(g=Math.max(10,a.clientX-e+10));return{x:g,y:f}}}},Doe=function(a){if(a&1){const b=_.Pc();_.E(0,"button",4);_.L("click",function(){_.t(b);var c=_.N(3);c.onClose();c.detachHovercard();c.grabFocusAndUseAsModalSubject.next(!1);return _.u()})("focus",function(c){_.t(b);_.N(3).onFocus(c);return _.u()});_.I(1,"mat-icon",5);_.F()}a&2&&(a=_.N(3),_.zd("aria-label",a.closeAriaLabel))},
Eoe=function(a){if(a&1){const b=_.Pc();_.E(0,"ac-hovercard-dialog",2);_.L("focusin",function(c){_.t(b);const d=_.N(2);return _.u(d.onFocusIn(c))});_.Zd(1,"async");_.P(2,Doe,2,1,"button",3);_.Zd(3,"async");_.Qd(4);_.F()}a&2&&(a=_.N(2),_.C("grabFocusAndUseAsModal",_.$d(1,2,a.grabFocusAndUseAsModalObservable)),_.x(2),_.C("ngIf",_.$d(3,4,a.grabFocusAndUseAsModalObservable)))},Foe=function(a){a&1&&(_.P(0,Eoe,5,6,"ac-hovercard-dialog",1),_.Zd(1,"async"));a&2&&(a=_.N(),_.C("ngIf",_.$d(1,1,a.showHovercard)))},
Hoe=function(a){if(a&1){const b=_.Pc();_.E(0,"ac-full-panel-chart-control-panel",7);_.L("resetZoom",function(){_.t(b);const c=_.N();return _.u(c.resetZoom())})("timeRangeAndDomainChange",function(c){_.t(b);var d=_.N();d.timeRangeAndDomain=c;d.chartGroupManagerService.get(d.groupId).domain=Goe(d.timeRangeAndDomain.domain);return _.u()})("onClose",function(){_.t(b);const c=_.N();return _.u(c.onClose())});_.F()}a&2&&(a=_.N(),_.C("isZoomed",a.isZoomed)("showCustom",!0)("timeRangeAndDomain",a.timeRangeAndDomain))},
Ioe=function(){},Joe=function(a){a&1&&(_.I(0,"ac-dashboard-chart",8),_.Zd(1,"async"),_.Zd(2,"async"));a&2&&(a=_.N(),_.C("xyChart",a.xyChart)("forceV2Hovercard",!0)("showLegend",!0)("showSubtitles",!0)("timePinEnabled",!0)("groupId",a.groupId)("projectId",_.$d(1,11,a.projectIdObservable))("enablePanningInteractions",!1)("height",_.$d(2,13,a.heightObservable))("resourceMetadataNamingFunctions",a.resourceMetadataNamingFunctions)("componentFactoryResolver",a.componentFactoryResolver))},Loe=function(a){a&
1&&_.I(0,"cola-subtitle",9);a&2&&(a=_.N(),_.C("scope",_.Zx(1,Koe,a.groupId,a.chartId)))},Moe=function(a){if(a&1){const b=_.Pc();_.E(0,"ac-exemplar",14);_.L("onClickExemplarId",function(c){_.t(b);const d=_.N(2);return _.u(d.exemplarConfig.onExemplarClickCallback(c))});_.Zd(1,"async");_.Zd(2,"async");_.Zd(3,"async");_.F()}a&2&&(a=_.N(2),_.C("data",_.$d(1,5,a.exemplarConfig.exemplarDataObservable))("loading",_.$d(2,7,a.exemplarConfig.exemplarLoadingObservable))("loadingDescription",a.exemplarConfig.exemplarLoadingDescription)("yAxisId",
a.defaultYAxisId)("chartConfig",_.$d(3,9,a.exemplarConfig.chartConfigObservable)))},Noe=function(a){a&1&&(_.I(0,"ac-exemplar-hover-widget",15),_.Zd(1,"async"));a&2&&(a=_.N(2),_.C("chartConfig",_.$d(1,1,a.exemplarConfig.chartConfigObservable)))},Ooe=function(a){if(a&1){const b=_.Pc();_.E(0,"ac-chart",10);_.L("renderedChartConfig",function(c){_.t(b);const d=_.N();return _.u(d.chartConfigObservable.next(c))});_.Zd(1,"async");_.P(2,Moe,4,11,"ac-exemplar",11);_.E(3,"ac-hovercard",12);_.I(4,"ac-date-time")(5,
"ac-series-snapshot");_.P(6,Noe,2,3,"ac-exemplar-hover-widget",13);_.F()()}a&2&&(a=_.N(),_.C("chartConfigTransformationStrategies",a.chartConfigTransformationStrategies)("chartGroupId",a.groupId)("chartId",a.chartId)("projectId",_.$d(1,9,a.projectIdObservable))("xyChart",a.xyChart)("defaultFetchableFactory",a.fetchableFactory),_.x(2),_.C("ngIf",a.exemplarConfig&&a.exemplarConfig.showExemplars),_.x(1),_.C("yAxisId",a.defaultYAxisId),_.x(3),_.C("ngIf",a.exemplarConfig&&a.exemplarConfig.showExemplars))},
Qoe=function(a){a&1&&_.I(0,"cola-table-legend",9);a&2&&(a=_.N(),_.C("scope",_.Zx(1,Poe,a.chartId,a.defaultYAxisId)))},Roe=function(a){a&1&&(_.E(0,"div",3)(1,"h2"),_.Q(2,"Highlighting time series"),_.F(),_.E(3,"p")(4,"b"),_.Q(5,"Click"),_.F(),_.Q(6," a time series to highlight it. Hold down "),_.E(7,"b"),_.Q(8,"Shift"),_.F(),_.Q(9," while clicking a second time series to highlight both time series and all time series in between. Hold down "),_.E(10,"b"),_.Q(11,"Ctrl"),_.F(),_.Q(12," (or "),_.E(13,
"b"),_.Q(14,"Cmd"),_.F(),_.Q(15," on Mac) to highlight multiple specific time series. "),_.E(16,"b"),_.Q(17,"Click"),_.F(),_.Q(18," the background of the chart to deselect all time series. "),_.F(),_.E(19,"h2"),_.Q(20,"Changing the resolution"),_.F(),_.E(21,"p")(22,"b"),_.Q(23,"Click and drag"),_.F(),_.Q(24," horizontally or vertically to expand a specific region. Hold down "),_.E(25,"b"),_.Q(26,"Ctrl"),_.F(),_.Q(27," (or "),_.E(28,"b"),_.Q(29,"Cmd"),_.F(),_.Q(30," on Mac) while scrolling to expand or shrink a region. "),
_.F(),_.E(31,"h2"),_.Q(32,"Panning"),_.F(),_.E(33,"p"),_.Q(34," Hold down "),_.E(35,"b"),_.Q(36,"Ctrl"),_.F(),_.Q(37," (or "),_.E(38,"b"),_.Q(39,"Cmd"),_.F(),_.Q(40," on Mac) while "),_.E(41,"b"),_.Q(42,"Clicking and Dragging"),_.F(),_.Q(43," horizontally to pan left or right. "),_.F()(),_.I(44,"ace-tooltip-action",4));a&2&&(a=_.N(),_.x(44),_.C("action",a.action))},Soe=function(a){return b=>a.pipe(_.U(c=>{if(!c)return b;const d=w=>{let y;null==(y=w.fetchable)||y.updateOptions({messageOverrides:c})};
let e,f;for(const w of null!=(f=null==(e=b)?void 0:e.lineLayers)?f:[])d(w);let g,h;for(const w of null!=(h=null==(g=b)?void 0:g.barLayers)?h:[])d(w);let l,n;for(const w of null!=(n=null==(l=b)?void 0:l.stackedAreaLayers)?n:[])d(w);let r,v;for(const w of null!=(v=null==(r=b)?void 0:r.heatmapLayers)?v:[])d(w);return b}))},Toe=function(a){return b=>a.pipe(_.U(c=>{if(c){let d;const e=null!=(d=null==b?void 0:b.thresholdLineLayers)?d:[];for(const f of e)f.color=c}return b}))},Uoe=function(a){return b=>
a.pipe(_.U(c=>c?Object.assign({},b,{errorLayers:[]}):b))},Voe=function(a){return b=>a.pipe(_.U(c=>{if(!b||!b.yAxisLayers||0===b.yAxisLayers.length||void 0===c.min&&void 0===c.max&&void 0===c.unit)return b;const d=b.yAxisLayers.map(e=>{if(e.includeRange){const f=Object.assign({},e.includeRange,c);return Object.assign({},e,{includeRange:f})}return Object.assign({},e,{includeRange:c})});return Object.assign({},b,{yAxisLayers:d})}))},Woe=function(a){return b=>a.pipe(_.U(c=>{if(c){let d,e,f;const g=(null!=
(d=null==b?void 0:b.lineLayers)?d:[]).concat(null!=(e=null==b?void 0:b.barLayers)?e:[]).concat(null!=(f=null==b?void 0:b.stackedAreaLayers)?f:[]);for(const h of g)h.colorStrategy=c}return b}))},Xoe=function(a){return b=>a.pipe(_.U(c=>{if(c){let d,e,f;const g=(null!=(d=null==b?void 0:b.lineLayers)?d:[]).concat(null!=(e=null==b?void 0:b.barLayers)?e:[]).concat(null!=(f=null==b?void 0:b.stackedAreaLayers)?f:[]);for(const h of g)h.onSelect=c}return b}))},bpe=function(a){const b=Yoe(a.series),c=[];for(const {seriesTemplate:h,
computeFunction:l}of Zoe){var d=[];for(var e=0;e<b.length;e++){const {timestamp:n,x0:r,values:v}=b[e];var f=l(v,e,b);null!==f&&d.push({x:new Date(n),x0:void 0!==r?new Date(r):void 0,y:f})}e=l(b.map(n=>n.values).flat(),0,b);var g=void 0;c.push(Object.assign({},h,{data:d,statsModeSummaryValue:null!=(g=e)?g:void 0}))}d=$oe(b);g=0<b.length?b[b.length-1].timestamp-b[0].timestamp:0;for(const {seriesTemplate:h,computeFunction:l,granularity:n,lowDomain:r,highDomain:v}of ape)if(n===d&&g>=r&&g<=v){e=[];for(f=
0;f<b.length;f++){const {timestamp:w,values:y}=b[f],B=l(y,f,b);null!==B&&e.push({x:new Date(w),y:B})}c.push(Object.assign({},h,{data:e}))}return Object.assign({},a,{series:c})},Yoe=function(a){const b={},c={},d=[];for(var e of a)for(const f of e.data){a=f.x.getTime();b[a]?b[a].push(f.y):b[a]=[f.y];let g;c[a]=null==(g=f.x0)?void 0:g.getTime()}e=Object.keys(b).map(Number).filter(f=>!isNaN(f)).sort((f,g)=>f-g);for(const f of e)d.push({timestamp:f,x0:c[f],values:b[f]});return d},$oe=function(a){let b=
Infinity;if(1<a.length){for(let c=1;c<a.length;c++)b=Math.min(b,a[c].timestamp-a[c-1].timestamp);return b}return 0},cpe=function(a){return a.reduce((b,c)=>b+c,0)},dpe=function(a){return a.length?cpe(a)/a.length:null},epe=function(a){if(2>a.length)return 0;let b=0,c=0,d=0;for(const e of a)b++,a=e-c,c+=a/b,d+=a*(e-c);return Math.sqrt(d/(b-1))},fpe=function(a){return b=>{b.sort((e,f)=>e-f);var c=(b.length+1)*a-1;if(1>c)return b[0];if(c>=b.length-1)return b[b.length-1];const d=Math.floor(c);c-=d;return(1-
c)*b[d]+c*b[d+1]}},gpe=function(a){return(b,c,d)=>{let e=b=0;const f=d[c].timestamp-a;for(;0<=c&&d[c].timestamp>f;c--)e+=d[c].values.length,b+=cpe(d[c].values);return b/e}},hpe=function(a){return a.map(b=>_.Ke(b)?b:_.S(b))},ipe=function(a){return _.qe(a).pipe(_.U(b=>{const c=b.map(e=>null==e?void 0:e.unit).find(e=>!!e)||null,d=b.map(e=>e&&e.partialErrors||[]).flat();return{series:b.reduce((e,f)=>{if(!f)return e;if(null!==f.unit&&null!==c&&f.unit===c){const g=A5(f.unit,c);if(null!==g)return e.concat(f.series.map(h=>
Object.assign({},h,{data:h.data.map(l=>Object.assign({},l,{y:l.y*g,y0:void 0!==l.y0?l.y0*g:l.y0,y1:void 0!==l.y1?l.y1*g:l.y1,min:void 0!==l.min?l.min*g:l.min,max:void 0!==l.max?l.max*g:l.max}))})))}return e.concat(f.series)},[]),unit:c,partialErrors:d.length?d:void 0,hideStats:b.map(e=>null==e?void 0:e.hideStats).find(e=>void 0!==e)}}))},jpe=function(a,b){return _.qe([_.qe(a),b]).pipe(_.U(([c,d])=>{c=c.filter(f=>!!f);let e;c.length&&(null==d?0:null==(e=d.series)?0:e.length)&&(c=c.filter(f=>"NoDataError"!==
f.name));return c[0]||null}))},kpe=function(a){return _.qe(a).pipe(_.U(b=>{b=b.filter(d=>!!d).flat().sort((d,e)=>d[0].valueOf()-e[0].valueOf());if(!b.length)return null;const c=[];for(let d=0;d<b.length;d++){const e=b[d],f=c[c.length-1];f&&e[0].valueOf()<=f[1].valueOf()?c[c.length-1]=[f[0],new Date(Math.max(e[1].valueOf(),f[1].valueOf()))]:c.push(e)}return c}))},lpe=function(a){return _.qe(a).pipe(_.U(b=>{const c=b[0];b.some(d=>d!==c);return null!=c?c:null}))},mpe=function(a){if(0!==a.length){if(1===
a.length)return a[0];var b=ipe(a.map(c=>c.dataObservable));return{alignmentPeriodMsObservable:lpe(a.map(c=>c.alignmentPeriodMsObservable).filter(c=>!!c)),outputPeriodMsObservable:lpe(a.map(c=>c.outputPeriodMsObservable).filter(c=>!!c)),dataObservable:b,errorObservable:jpe(a.map(c=>c.errorObservable).filter(c=>!!c),b),loadingObservable:kpe(a.map(c=>c.loadingObservable).filter(c=>!!c)),fetch:function(c,d){const e=[];for(const f of a)e.push(f.fetch(c,d));return Promise.all(e).then(()=>null)},getGranularityCutoff:()=>
a[0].getGranularityCutoff()}}},npe=function(a){if(0!==a.length){if(1===a.length)return a[0];var b=a[0],c=mpe(a.map(g=>g.fetchable).filter(g=>!!g)),d=c?c.dataObservable:ipe(hpe(a.map(g=>g.data))),e,f=c?null!=(e=c.errorObservable)?e:_.S(null):jpe(hpe(a.map(g=>g.error).filter(g=>void 0!==g)),d);return{fetchable:c,yAxisId:b.yAxisId,xAxisId:b.xAxisId,layerId:a.reduce((g,h)=>`${g}-${h.layerId}`,"merged"),data:d,error:f,loading:c?c.loadingObservable:kpe(hpe(a.map(g=>g.loading).filter(g=>void 0!==g))),alignmentPeriodMs:c?
c.alignmentPeriodMsObservable||_.S(null):lpe(hpe(a.map(g=>g.alignmentPeriodMs))),outputPeriodMs:c?c.outputPeriodMsObservable||_.S(null):lpe(hpe(a.map(g=>g.outputPeriodMs))),colorStrategy:b.colorStrategy,legendTemplate:b.legendTemplate}}},ope=function(a){const b=npe(a);if(b)return Object.assign({},b,{interactions:a.map(c=>c.interactions).find(c=>!!c),styles:a.map(c=>c.styles).find(c=>!!c)})},ppe=function(a){const b=npe(a);if(b)return Object.assign({},b,{interactions:a.map(c=>c.interactions).find(c=>
!!c)})},qpe=function(a){const b=npe(a);if(b)return Object.assign({},b,{interactions:a.map(c=>c.interactions).find(c=>!!c)})},rpe=function(a){const b=new Map;for(const c of a)a=`${c.xAxisId}-${c.yAxisId}`,b.set(a,(b.get(a)||[]).concat([c]));return Array.from(b.values())},spe=function(a){return Object.assign({},a,{lineLayers:a.lineLayers&&rpe(a.lineLayers).map(b=>ope(b)).filter(b=>!!b),barLayers:a.barLayers&&rpe(a.barLayers).map(b=>ppe(b)).filter(b=>!!b),stackedAreaLayers:a.stackedAreaLayers&&rpe(a.stackedAreaLayers).map(b=>
qpe(b)).filter(b=>!!b)})},tpe=function(a=_.S(void 0)){function b(c){return c.map(d=>Object.assign({},d,{data:_.Ke(d.data)?d.data.pipe(_.U(e=>e&&bpe(e))):d.data&&bpe(d.data),legendTemplate:void 0}))}return c=>c?a.pipe(_.U(d=>"STATS"===d?(d=spe(c),Object.assign({},d,{lineLayers:d.lineLayers?b(d.lineLayers):void 0,barLayers:d.barLayers?b(d.barLayers):void 0,stackedAreaLayers:d.stackedAreaLayers?b(d.stackedAreaLayers):void 0})):c)):_.S(null)},upe=function(a){a&1&&_.I(0,"cfc-icon",14)},vpe=function(a){a&
1&&_.Q(0);a&2&&(a=_.N(4),_.Sd(" ",a.createAlertingPolicyLabel," "))},xpe=function(a){a&1&&(_.E(0,"a",11),_.P(1,upe,1,0,"cfc-icon",12),_.P(2,vpe,1,1,"ng-template",null,13,_.Te),_.F());if(a&2){const b=_.Rd(3);a=_.N().ngIf;const c=_.N(2);_.C("ngClass",_.Zx(9,wpe,!a.buttonUseIcon,a.buttonUseIcon))("cfcRouterLink",a.link.build())("queryParams",a.link.buildQueryParams())("ve",c.ve.CreateAlertingPolicyButton)("veClick",!0)("cfcTooltip",a.buttonUseIcon?c.createAlertingPolicyLabel:void 0);_.zd("aria-label",
c.createAlertingPolicyLabel);_.x(1);_.C("ngIf",a.buttonUseIcon)("ngIfElse",b)}},ype=function(a,b){a&1&&(_.Dd(0),_.P(1,xpe,4,12,"a",10),_.Ed());a&2&&(a=b.ngIf,b=_.N(2),_.x(1),_.C("ngIf",a.link&&a.buttonPosition===b.ButtonPosition.HEADER_TOOLBAR))},Ape=function(a){a&1&&(_.E(0,"a",16),_.Q(1),_.F());if(a&2){a=_.N().ngIf;const b=_.N(2);_.C("cfcRouterLink",a.link.build())("queryParams",a.link.buildQueryParams())("ve",b.ve.OpenMetricsExplorerButton)("veClick",!0);_.x(1);_.Sd(" ",zpe(a)," ")}},Bpe=function(a,
b){a&1&&(_.Dd(0),_.P(1,Ape,2,5,"a",15),_.Ed());a&2&&(a=b.ngIf,b=_.N(2),_.x(1),_.C("ngIf",a.showLink&&a.link&&a.buttonPosition===b.ButtonPosition.HEADER_TOOLBAR))},Dpe=function(a){if(a&1){const b=_.Pc();_.E(0,"cfc-chart-header-view",7);_.L("requestToCollapseHeader",function(c){_.t(b);const d=_.N();return _.u(d.isHeaderLarge$.next(c))})("moreOptionsClick",function(){_.t(b);const c=_.N();return _.u(Cpe(c))});_.Zd(1,"async");_.Zd(2,"async");_.Qd(3,1,["title",""]);_.Qd(4,2,["subtitle",""]);_.Qd(5,3,["menu-item",
""]);_.Qd(6,4,["info-button",""]);_.Dd(7,8);_.P(8,ype,2,1,"ng-container",9);_.Zd(9,"async");_.P(10,Bpe,2,1,"ng-container",9);_.Zd(11,"async");_.Ed();_.Qd(12,5,["cola-actions",""]);_.F()}a&2&&(a=_.N(),_.C("title",a.config.title)("semanticHeadingLevel",a.semanticHeadingLevel)("subMenu",a.headerMenu)("chartHelpConfig",a.config.chartHelpConfig)("showHelp",a.showChartDataHelp)("stretchTitle",a.stretchTitle)("collapseHeader",a.headerCollapsed)("collapseSpaceBelow",a.collapseSpaceBelowHeader)("showResponsive",
a.config.useResponsiveHeader)("actions",_.$d(1,13,a.allActionItems$))("menuItems",_.$d(2,15,a.allMenuItems$)),_.x(8),_.C("ngIf",_.$d(9,17,a.alertPolicyConfig$)),_.x(2),_.C("ngIf",_.$d(11,19,a.metricsExplorerConfig$)))},Fpe=function(a){if(a&1){const b=_.Pc();_.E(0,"ac-dashboard-chart",17);_.L("dataErrorStream",function(c){_.t(b);var d=_.N();d.config.isSecondaryContentForSlo&&c&&500<=c.code&&600>c.code&&c.details.authDetail instanceof Epe&&c.details.authDetail.setErrorExperience(6);d.dataErrorStream.emit(c);
return _.u()})("chartData",function(c){_.t(b);var d=_.N();d.chartData.emit(c);d.latestChartData=c;return _.u()})("onSelect",function(c){_.t(b);const d=_.N();return _.u(d.config.onSelect&&d.config.onSelect(c))})("subtitlesDrawn",function(){_.t(b);const c=_.N();c.config.marginsDrawnHandler&&c.config.marginsDrawnHandler();return _.u()})("unitsChange",function(c){_.t(b);const d=_.N();d.config.unitsChangeHandler&&d.config.unitsChangeHandler(c);return _.u()});_.Zd(1,"async");_.F()}a&2&&(a=_.N(),_.C("xyChart",
a.config.xyChart)("yTopMin",(null==a.config.includeRange?null:a.config.includeRange.max)||a.config.yTopMin)("yBottomMax",(null==a.config.includeRange?null:a.config.includeRange.min)||void 0)("height",a.config.chartHeight)("showSubtitles",a.config.showSubtitles)("showResponsiveSubtitles",a.config.showResponsiveSubtitles)("forcePercentZoom",a.config.forcePercentZoom)("groupId",a.config.groupId)("legendValueFormatter",a.config.legendValueFormatter)("complexThreshold",a.config.hasComplexThreshold)("legendTemplates",
a.config.legendTemplates)("useProxy",a.config.useProxy)("projectId",a.config.projectId)("showLegend",a.showLegend)("enablePanningInteractions",a.config.enablePanningInteractions)("legendType",a.config.legendType)("colorManager",a.config.colorManager)("resourceMetadataNamingFunctions",a.config.resourceMetadataNamingFunctions)("messageOverrides",a.config.messageOverrides)("zerofill",a.config.zerofill)("yAxisPrecisionLimit",a.config.yAxisPrecisionLimit)("yAxisValueFormatter",a.config.yAxisValueFormatter)("showThresholdLabels",
a.config.showThresholdLabels)("strategyWhitelists",a.config.strategyWhitelists)("enableSizeWarnings",!1)("isOnSdDashboard",a.config.dragAndDropEnabled&&!1===_.$d(1,32,a.isFullscreenSubject))("forceV2Hovercard",!0)("timePinEnabled",!0)("forceUnitChangeForRate",a.forceUnitChangeForRate)("unitOverride",a.config.unitOverride)("disableSelection",a.config.disableSelection)("directDataInput",a.config.directDataInput))},Gpe=function(a){a&1&&(_.E(0,"div",18,19),_.Qd(2,6),_.F())},Hpe=function(a){a&1&&_.I(0,
"ac-annotation",25);a&2&&(a=_.N(2),_.C("data",a.config.dataAnnotations))},Ipe=function(a){a&1&&_.I(0,"ac-help")},Jpe=function(a){if(a&1){const b=_.Pc();_.E(0,"ac-error",26);_.L("installAgentRequest",function(){_.t(b);_.N(2).installAgentRequest.emit();return _.u()});_.F()}},Lpe=function(a){a&1&&_.I(0,"cola-inline-legend",29);a&2&&(a=_.N(3),_.C("customTranslationFunctions",a.config.resourceMetadataNamingFunctions)("scope",_.Zx(2,Kpe,a.config.groupId||"default",a.config.chartId||a.colaChartId)))},Mpe=
function(a){a&1&&_.I(0,"cola-table-legend",29);a&2&&(a=_.N(3),_.C("customTranslationFunctions",a.config.resourceMetadataNamingFunctions)("scope",_.Zx(2,Kpe,a.config.groupId||"default",a.config.chartId||a.colaChartId)))},Npe=function(a){a&1&&(_.E(0,"div",27),_.P(1,Lpe,1,5,"cola-inline-legend",28),_.P(2,Mpe,1,5,"cola-table-legend",28),_.F());a&2&&(a=_.N(2),_.C("ngSwitch",a.config.legendType),_.x(1),_.C("ngSwitchCase","inline"),_.x(1),_.C("ngSwitchCase","table"))},Ppe=function(a){a&1&&(_.E(0,"div",18)(1,
"ac-chart",20),_.P(2,Hpe,1,1,"ac-annotation",21),_.P(3,Ipe,1,0,"ac-help",9),_.E(4,"ac-hovercard"),_.I(5,"ac-date-time")(6,"ac-series-snapshot",22),_.F(),_.P(7,Jpe,1,0,"ac-error",23),_.F()(),_.P(8,Npe,3,3,"div",24));if(a&2){a=_.N();_.x(1);var b=_.C("title",a.config.title)("projectId",a.config.projectId)("chartGroupId",a.config.groupId||"default")("chartId",a.config.chartId||a.colaChartId)("height",a.config.chartHeight);var c=a.config.xyChart,d=a.config.legendTemplates;if(d)for(var e=0;e<d.length;e++){var f=
d[e],g=void 0,h=c.dataSets&&(null==(g=c.dataSets)?void 0:g[e]);f&&h&&(h.legendTemplate=f)}g=b("xyChart",c);b=a.applyMessageOverridesTransformation;c=a.disableErrorsTransformation;d=a.includeRangeTransformation;e=a.numericColorStrategyTransformation;f=a.onSelectTransformation;h=a.statsModeTransformation;var l=a.constantLineColorTransformation;const n=_.Sc()+14,r=_.Pc();let v=_.xDb(r,n,b,c,d,e);b=_.yha(r,n+4,f,h,l)||v?_.xd(r,n+7,[b,c,d,e,f,h,l]):r[n+7];g("chartConfigTransformationStrategies",b)("interactions",
_.Yd(22,Ope,a.showColaRefreshButton()))("timezoneOffset",a.config.timezoneOffset);_.x(1);_.C("ngIf",0<(null==a.config.dataAnnotations?null:a.config.dataAnnotations.length));_.x(1);_.C("ngIf",a.showChartInteractionsHelp);_.x(3);_.C("customTranslationFunctions",a.config.resourceMetadataNamingFunctions);_.x(1);_.C("ngIf",a.allowAgentInstall);_.x(1);_.C("ngIf",a.showLegend)}},Rpe=function(a,b){return Qpe(a,b)},Tpe=function(a,b){return Spe(a,b)},Vpe=function(a,b){return Upe(a,b)},Xpe=function(a,b){return Wpe(a,
b)},Zpe=function(a,b){return Ype(a,b)},aqe=function(a,b){return $pe(a,b)},eqe=function(a,b,c,d){let e=a.entities[b];e||(e=bqe(b));(b=e.byLayer.entities[c])||(b={layerId:c,selectedExemplar:null,hoveredExemplar:null});const {chartState:f,layerState:g}={chartState:e,layerState:b};c=Object.assign({},g,d);c=Object.assign({},f,{byLayer:cqe.upsertOne(c,f.byLayer)});return dqe.upsertOne(c,a)},gqe=function(a,b){return fqe(a,b)},iqe=function(a,b){return hqe(a,b)},kqe=function(a,b){return jqe(a,b)},mqe=function(a,
b){return lqe(a,b)},nqe=function(a){var b=[];for(var c of Object.values(a))if(Array.isArray(c))b=b.concat(c);else if(c)return!0;if(0===b.length)return!1;b=b.sort((d,e)=>d[0].valueOf()-e[0].valueOf());a=[];for(const [d,e]of b){b=d;c=e;const f=a[a.length-1];0===a.length||b>f[1]?a.push([b,c]):c>f[1]&&(f[1]=c)}return a},pqe=function(a,b){return oqe(a,b)},rqe=function(a,b){return qqe(a,b)},tqe=function(a,b){return sqe(a,b)},vqe=function(a,b,c){for(const d of c)({margins:c}=uqe(d.requirements)),c.left>
a&&(a=c.left),c.right>b&&(b=c.right);return{left:a,right:b}},xqe=function(a,b){if((null==a?0:a.useChartGroupHorizontalMargins)||b.some(c=>c.useChartGroupHorizontalMargins)){const {left:c,right:d}=vqe(a.margins.left,a.margins.right,b);a.useChartGroupHorizontalMargins&&(a.margins.left=c,a.margins.right=d);return wqe(b,c,d)}return[]},wqe=function(a,b,c){const d=[];for(const e of a.filter(f=>f.useChartGroupHorizontalMargins))b===e.margins.left&&c===e.margins.right||d.push(Object.assign({},e,{margins:Object.assign({},
e.margins,{left:b,right:c})}));return d},yqe=function(a,b,c){return Object.values(a.entities).filter(d=>!!d).filter(d=>d.chartGroupId===b&&d.chartId!==c)},uqe=function(a){let b=zqe.getInitialState({});var c=0,d=0,e=0,f=0;for(const g of a)g.reservedMargins&&(g.reservedMargins.top&&(b=zqe.upsertOne(Object.assign({},b.entities[g.layerId],{layerId:g.layerId,top:c}),b),c+=g.reservedMargins.top),g.reservedMargins.right&&(b=zqe.upsertOne(Object.assign({},b.entities[g.layerId],{layerId:g.layerId,right:d}),
b),d+=g.reservedMargins.right),g.reservedMargins.bottom&&(b=zqe.upsertOne(Object.assign({},b.entities[g.layerId],{layerId:g.layerId,bottom:e}),b),e+=g.reservedMargins.bottom),g.reservedMargins.left&&(b=zqe.upsertOne(Object.assign({},b.entities[g.layerId],{layerId:g.layerId,left:f}),b),f+=g.reservedMargins.left));for(const g of a)g.overlappingMargins&&(g.overlappingMargins.top&&(c=Math.max(c,g.overlappingMargins.top)),g.overlappingMargins.right&&(d=Math.max(d,g.overlappingMargins.right)),g.overlappingMargins.bottom&&
(e=Math.max(e,g.overlappingMargins.bottom)),g.overlappingMargins.left&&(f=Math.max(f,g.overlappingMargins.left)));return{margins:{top:Math.max(0,c),right:Math.max(0,d),bottom:Math.max(0,e),left:Math.max(0,f)},reservedMarginsByLayer:b}},Bqe=function(a,b){return Aqe(a,b)},n6=function(a,b,c){(a=a.entities[b])||(a=Cqe(b));(b=a.byLayer.entities[c])||(b=Object.assign({},Dqe,{layerId:c,selectedSeries:[],hoveredSeries:[],lastClickedSeries:[]}));return{chartState:a,layerState:b}},Fqe=function(a,b){return Eqe(a,
b)},Hqe=function(a,b){return Gqe(a,b)},Lqe=function(a,b,c,d){b=a.entities[b]||Object.assign({},Iqe,{chartId:b});const e=b.byLayer.entities[c];if(d=d(e))c=Jqe.upsertOne(d,b.byLayer);else if(e)c=Jqe.removeOne(c,b.byLayer);else return a;return Kqe.upsertOne(Object.assign({},b,{byLayer:c}),a)},Nqe=function(a,b){return Mqe(a,b)},Pqe=function(a,b){return Oqe(a,b)},Rqe=function(a,b){return Qqe(a,b)},Tqe=function(a,b){return Sqe(a,b)},Uqe=function(a,b){return _.Ch({brush:Rpe,chart:Tpe,colorMap:Vpe,chartSpec:Hqe,
colorScale:Xpe,dashboard:Zpe,error:aqe,exemplarSelection:gqe,focus:iqe,hierarchy:kqe,lastInteraction:mqe,loading:pqe,map:rqe,refresh:tqe,resize:Bqe,seriesSelection:Fqe,xAxisPin:Rqe,timeSeries:Nqe,xAxis:Pqe,yAxis:Tqe})(a,b)},Wqe=function(a){a&1&&(_.E(0,"span",3),_.Q(1),_.F());a&2&&(a=_.N(2),_.C("ngClass","aa-priority-indicator-"+a.priority.toLowerCase())("cfcTooltip",Vqe(a.priority))("cfcTooltipTapToShow",!0)("cfcTooltipName",a.priority+"-recommendation-tooltip"),_.x(1),_.Sd(" ",a.priority," "))},
Xqe=function(a){a&1&&(_.E(0,"cfc-icon",4),_.Q(1),_.F());a&2&&(a=_.N(2),_.C("cfcTooltip",a.shownInGroupIndicator?"There are recommended actions that may have a critical impact on your resources.":"This recommended action may have a critical impact on your resources.")("cfcTooltipTapToShow",!0)("cfcTooltipName",a.priority+"-recommendation-tooltip"),_.x(1),_.Sd(" ",a.priority," "))},Zqe=function(a){a&1&&(_.Dd(0),_.P(1,Wqe,2,5,"span",1),_.P(2,Xqe,2,4,"cfc-icon",2),_.Ed());a&2&&(a=_.N(),_.x(1),_.C("ngIf",
a.type===a.IndicatorType.GRANULAR),_.x(1),_.C("ngIf",a.type===a.IndicatorType.BINARY&&Yqe.includes(a.priority)))},$qe=function(a){if(a&1){const b=_.Pc();_.E(0,"a",6);_.L("click",function(){_.t(b);const c=_.N(2);return _.u(c.sendAnalyticsEvent())});_.Q(1);_.F()}a&2&&(a=_.N(2),_.C("ve",a.ve.CrashSourceLocationLink)("veClick",!0)("cfcRouterLink",a.sourceLink.build())("queryParams",a.sourceLink.buildQueryParams()),_.x(1),_.Ud(a.fileLine))},are=function(a){a&1&&(_.E(0,"span",4),_.Q(1," ( "),_.P(2,$qe,
2,5,"a",5),_.Q(3," )\n"),_.F());if(a&2){a=_.N();const b=_.Rd(6);_.x(2);_.C("ngIf",!!a.sourceLink&&!a.hideLink)("ngIfElse",b)}},bre=function(a){a&1&&(_.E(0,"span",7),_.Q(1),_.F());a&2&&(a=_.N(),_.x(1),_.Ud(a.fileLine))},cre=function(a,b){a&1&&(_.Uc(),_.I(0,"rect",15));a&2&&(a=b.$implicit,_.zd("x",a.x)("y",a.y)("width",a.width)("height",a.height))},ere=function(a,b){a&1&&(_.E(0,"div",13),_.Uc(),_.E(1,"svg"),_.P(2,cre,1,4,"rect",14),_.F()());a&2&&(a=b.rowData,b=_.N(2),_.x(1),_.zd("height",b.MAX_HEIGHT),
_.x(1),_.C("ngForOf",dre(a.timedCounts)))},fre=function(a,b){a&1&&(_.Dd(0),_.Q(1),_.Zd(2,"localizeNumber"),_.Ed());a&2&&(a=b.rowData,_.x(1),_.Sd(" ",_.$d(2,1,a.count)," "))},gre=function(a){a&1&&_.I(0,"crash-source-location",19);if(a&2){a=_.N().rowData;_.N(2);const b=a.representative.exception;_.C("sourceLocation",((null==b?0:b.stackFrames)?b.stackFrames[0].frameLocation:void 0)||(null==b?void 0:b.causeLocation)||a.representative.context.reportLocation)("serviceContext",a.representative.serviceContext)("programmingLanguage",
null==a.representative.exception?null:a.representative.exception.language)("hideLink",!0)}},hre=function(a){a&1&&(_.E(0,"div"),_.Q(1),_.F());a&2&&(a=_.N().rowData,_.x(1),_.Sd(" ",null==a.group?null:null==a.group.attachedErrorInfo?null:a.group.attachedErrorInfo.description," "))},ire=function(a,b){a&1&&(_.Dd(0),_.I(1,"crash-error-table-title",16),_.P(2,gre,1,4,"crash-source-location",17),_.P(3,hre,2,1,"div",18),_.Ed());if(a&2){a=b.rowData;b=_.N(2);_.x(1);_.C("errorGroup",a)("linkType",b.linkType)("linkTimeRange",
b.linkTimeRange)("timeWindowSeconds",b.timeWindowSeconds);_.x(1);_.C("ngIf",b.hasLocation(a));_.x(1);let c,d,e;a=null!=(e=!!(null==(c=a.group)?0:null==(d=c.attachedErrorInfo)?0:d.description))?e:!1;_.C("ngIf",a)}},jre=function(a,b){a&1&&(_.Dd(0),_.Q(1),_.Zd(2,"localizeNumber"),_.Ed());a&2&&(a=b.rowData,_.x(1),_.Sd(" ",a.affectedUsersCount?_.$d(2,1,a.affectedUsersCount):"-"," "))},kre=function(a,b){a&1&&(_.Dd(0),_.Q(1),_.Zd(2,"relativeDate"),_.Ed());a&2&&(a=b.rowData,_.x(1),_.Sd(" ",_.CC(2,1,a.firstSeenTime,
!0)," "))},lre=function(a,b){a&1&&(_.Dd(0),_.Q(1),_.Zd(2,"relativeDate"),_.Ed());a&2&&(a=b.rowData,_.x(1),_.Sd(" ",_.CC(2,1,a.lastSeenTime,!0)," "))},mre=function(a){a&1&&(_.Dd(0),_.E(1,"a",21),_.K(2,22),_.F(),_.I(3,"ace-icon",23),_.Ed());a&2&&(a=_.N().rowData,_.x(1),_.fv("href",null==a.group?null:null==a.group.attachedErrorInfo?null:a.group.attachedErrorInfo.playbookUri,_.Su))},nre=function(a,b){a&1&&(_.Dd(0),_.P(1,mre,4,1,"ng-container",20),_.Ed());a&2&&(a=b.rowData,b=_.N(2),_.x(1),_.C("ngIf",null==
a.group?null:null==a.group.attachedErrorInfo?null:a.group.attachedErrorInfo.playbookUri)("ngIfElse",b.empty))},ore=function(a,b){a&1&&(_.Dd(0),_.Q(1),_.Zd(2,"localizeNumber"),_.Ed());a&2&&(a=b.ngIf,_.x(1),_.Sd(" ",_.$d(2,1,a)," "))},pre=function(a){a&1&&_.Q(0,"-")},rre=function(a,b){a&1&&(_.Dd(0),_.P(1,ore,3,3,"ng-container",20),_.P(2,pre,1,0,"ng-template",null,24,_.Te),_.Ed());if(a&2){a=b.rowData;const c=_.Rd(3);_.N(2);_.x(1);_.C("ngIf",qre(a))("ngIfElse",c)}},sre=function(a){a&1&&(_.E(0,"cfc-table",
2)(1,"cfc-table-column",3),_.P(2,ere,3,2,"div",4),_.F(),_.E(3,"cfc-table-column",5),_.P(4,fre,3,3,"ng-container",6),_.F(),_.E(5,"cfc-table-column",7),_.P(6,ire,4,6,"ng-container",6),_.F(),_.E(7,"cfc-table-column",8),_.P(8,jre,3,3,"ng-container",6),_.F(),_.E(9,"cfc-table-column",9),_.P(10,kre,3,4,"ng-container",6),_.F(),_.E(11,"cfc-table-column",10),_.P(12,lre,3,4,"ng-container",6),_.F(),_.E(13,"cfc-table-column",11),_.P(14,nre,2,2,"ng-container",6),_.F(),_.E(15,"cfc-table-column",12),_.P(16,rre,4,
2,"ng-container",6),_.F()());a&2&&(a=_.N(),_.C("columnsConfig",a.config)("fillContainerWidth",a.fillContainerWidth)("tableManager",a.clientTableManager)("pagination",!0),_.x(1),_.C("hidden",!a.columns.sparkline)("maxWidth",a.COL_WIDTH+"px")("width",a.COL_WIDTH+"px"),_.x(1),_.C("cfcTableTemplate","body"),_.x(1),_.C("hidden",!a.columns.count)("maxWidth","15em"),_.x(1),_.C("cfcTableTemplate","body"),_.x(1),_.C("hidden",!a.columns.error),_.x(1),_.C("cfcTableTemplate","body"),_.x(1),_.C("hidden",!a.columns.users),
_.x(1),_.C("cfcTableTemplate","body"),_.x(1),_.C("hidden",!a.columns.firstSeen),_.x(1),_.C("cfcTableTemplate","body"),_.x(1),_.C("hidden",!a.columns.lastSeen),_.x(1),_.C("cfcTableTemplate","body"),_.x(1),_.C("hidden",!a.columns.playbookUri),_.x(1),_.C("cfcTableTemplate","body"),_.x(1),_.C("hidden",!a.columns.status),_.x(1),_.C("cfcTableTemplate","body"))},tre=function(a){a&1&&(_.E(0,"div",25),_.K(1,26),_.F())},ure=function(a){a&1&&(_.E(0,"span"),_.K(1,3),_.F())},vre=function(a){a&1&&(_.E(0,"span"),
_.Q(1),_.F());a&2&&(a=_.N(),_.x(1),_.Sd(" ",a.label," "))},wre=function(a){a&1&&(_.E(0,"a",5),_.K(1,6),_.Zd(2,"async"),_.F());a&2&&(a=_.N(3),_.C("href",_.$d(2,1,a.tooltipLearnMoreAction),_.Su))},xre=function(a){a&1&&(_.E(0,"cfc-help-button",2),_.Zd(1,"async"),_.Q(2),_.Zd(3,"async"),_.E(4,"div",3),_.P(5,wre,3,3,"a",4),_.Zd(6,"async"),_.F()());a&2&&(a=_.N(2),_.C("disabled",""===_.$d(1,3,a.tooltipText)),_.x(2),_.Sd(" ",_.$d(3,5,a.tooltipText)," "),_.x(3),_.C("ngIf",_.$d(6,7,a.tooltipLearnMoreAction)))},
yre=function(a){a&1&&(_.Dd(0),_.Q(1),_.Zd(2,"async"),_.P(3,xre,7,9,"cfc-help-button",1),_.Zd(4,"async"),_.Ed());a&2&&(a=_.N(),_.x(1),_.Sd(" ",_.$d(2,2,a.description)," "),_.x(2),_.C("ngIf",_.$d(4,4,a.tooltipText)))},zre=function(a){a&1&&(_.E(0,"div",2),_.I(1,"br"),_.F())},Are=function(a,b){a&1&&(_.Dd(0),_.P(1,zre,2,0,"div",1),_.Ed());a&2&&(a=b.ngIf,_.x(1),_.C("ngForOf",a))},Cre=function(a,b){if(a&1){const c=_.Pc();_.E(0,"a",4);_.L("click",function(d){const e=_.t(c).ngVar,f=_.N(2);d.preventDefault();
return _.u(f.showConditionsDialog(e,f.sourcedRole.condition))});_.Q(1);_.F()}a&2&&(a=b.ngVar,b=_.N(2),_.C("ve",b.ve.IamMembersTableConditionLink)("veClick",!0),_.zd("aria-label",Bre(b.sourcedRole.condition.displayName,a)),_.x(1),_.Sd(" ",b.sourcedRole.condition.displayName," "))},Dre=function(a){a&1&&(_.Dd(0),_.P(1,Cre,2,4,"a",3),_.Zd(2,"toRoleDisplayTitle"),_.Ed());a&2&&(a=_.N(),_.x(1),_.C("ngVar",_.$d(2,1,a.sourcedRole.role)))},Ere=function(a){a&1&&(_.E(0,"div",5),_.I(1,"br"),_.F())},Fre=function(a,
b){a&1&&_.I(0,"cfc-iam-inheritance",5);a&2&&(a=b.ngIf,b=_.N(2),_.C("resource",a)("associatedRole",b.sourcedRole.role))},Gre=function(a){a&1&&(_.Dd(0),_.P(1,Fre,1,2,"cfc-iam-inheritance",4),_.Zd(2,"async"),_.Ed());a&2&&(a=_.N(),_.x(1),_.C("ngIf",_.$d(2,1,a.roleInheritanceResource$)))},Hre=function(a){a&1&&(_.E(0,"span",6),_.Q(1),_.F());a&2&&(a=_.N(),_.x(1),a=a.sourcedRole.role.title,a=(new _.ji("{ELEMENT_LABEL}, for role {ROLE_TITLE}")).format({ELEMENT_LABEL:"No inheritance",ROLE_TITLE:a}),_.Sd(" ",
a," "))},Ire=function(a){a&1&&(_.E(0,"button",1),_.I(1,"ace-icon",2),_.F())},o6=function(a,b){a=new Date(a);return _.nz(b).format(a)},Jre=function(a){var b=a.metadata.accessObservationStartTime;a=a.metadata.accessObservationEndTime;if(b&&a)return b=(new Date(a)).getTime()-(new Date(b)).getTime(),Math.round(b/1E3/60/60/24)},p6=function(a){return"string"===typeof a?a:a.title||a.name},q6=function(a,b){var c,d=null!=(c=null==a?void 0:a.type)?c:"NONE";if(c=null==a?void 0:a.granularity)if("all"===c)c="all";
else{var e;c=null!=(e=_.MLb.get(c))?e:"unknown"}else c="n/a";d={opportunityMetricImpression:d,opportunityMetricImpressionGranularity:c};b&&(d.applicableToOpportunityMetric=Kre(b,a));return d},Kre=function(a,b){return b?Array.from(b.recommendations.values()).flat().some(c=>c.name===a.name):"n/a"},Lre=function(a){a&1&&_.I(0,"ace-icon",12)},Mre=function(a){a&1&&_.I(0,"ace-icon",13)},Nre=function(a){a&1&&(_.E(0,"div",14),_.Q(1,"-"),_.F())},Ore=function(a){a&1&&(_.E(0,"div",15),_.Q(1,"+"),_.F())},Pre=
function(a){a&1&&(_.E(0,"div",16),_.I(1,"ace-icon",17),_.F())},Qre=function(a){a&1&&(_.E(0,"span",18),_.Q(1),_.F());a&2&&(a=_.N(),_.x(1),_.Sd(" ",a.label," "))},Rre=function(a){a&1&&(_.E(0,"span",19),_.K(1,20),_.F())},Sre=function(a,b){a&1&&(_.Dd(0),_.Q(1),_.Ed());a&2&&(a=b.rowData,_.x(1),_.Sd(" ",a.permission," "))},Tre=function(a,b){a&1&&(_.Dd(0),_.Q(1),_.Ed());a&2&&(a=b.rowData,_.x(1),_.Sd(" ",a.service," "))},Ure=function(a,b){a&1&&(_.Dd(0),_.Q(1),_.Ed());a&2&&(a=b.rowData,_.x(1),_.Sd(" ",a.type,
" "))},Vre=function(a){a&1&&_.I(0,"ace-icon",9);a&2&&(a=_.N().rowData,_.fv("icon",a.permissionState.icon),_.C("cfcTooltip",a.permissionState.tooltip))},Wre=function(a,b){a&1&&(_.Dd(0),_.E(1,"span",7),_.Q(2),_.P(3,Vre,1,2,"ace-icon",8),_.F(),_.Ed());a&2&&(a=b.rowData,_.x(2),_.Sd(" ",a.permissionState.status," "),_.x(1),_.C("ngIf",a.permissionState.icon))},Xre=function(a,b){a&1&&(_.E(0,"cfc-message",12)(1,"cfc-message-text"),_.Q(2),_.F()());a&2&&(a=b.ngIf,_.x(2),_.Ud(a))},Yre=function(a,b){a&1&&(_.E(0,
"mat-option",13),_.Q(1),_.F());a&2&&(a=b.$implicit,_.C("value",a),_.x(1),_.Sd(" ",a.title||a.name," "))},Zre=function(a,b){a&1&&(_.E(0,"li"),_.Q(1),_.F());a&2&&(a=b.$implicit,_.x(1),_.Sd(" ",a," "))},$re=function(a,b){a&1&&(_.E(0,"li",5),_.Q(1),_.F());if(a&2){a=b.$implicit;b=b.index;const c=_.N(2);_.C("id",c.hiddenPermissionsIds[b]);_.x(1);_.Sd(" ",a," ")}},ase=function(a){a&1&&(_.E(0,"cfc-extender",3)(1,"ul"),_.P(2,$re,2,2,"li",4),_.F()());a&2&&(a=_.N(),_.x(2),_.C("ngForOf",a.hiddenPermissions))},
bse=function(a){a&1&&(_.E(0,"mat-error"),_.K(1,23),_.F())},cse=function(a){a&1&&(_.E(0,"mat-error"),_.K(1,24),_.F())},dse=function(a){a&1&&(_.E(0,"mat-error"),_.K(1,27),_.F())},ese=function(a){a&1&&(_.E(0,"mat-error"),_.K(1,28),_.F())},fse=function(a){a&1&&(_.E(0,"mat-error"),_.K(1,29),_.F());a&2&&(a=_.N(2),_.x(1),_.Kd(a.maxId),_.Ld(1))},gse=function(a){a&1&&(_.E(0,"mat-error"),_.K(1,30),_.F())},hse=function(a){a&1&&(_.E(0,"mat-error"),_.K(1,31),_.F())},ise=function(a){a&1&&(_.E(0,"mat-form-field")(1,
"mat-label"),_.K(2,25),_.F(),_.I(3,"input",26),_.P(4,dse,2,0,"mat-error",5),_.P(5,ese,2,0,"mat-error",5),_.P(6,fse,2,1,"mat-error",5),_.P(7,gse,2,0,"mat-error",5),_.P(8,hse,2,0,"mat-error",5),_.F());a&2&&(_.x(4),_.C("cfcDebounceErrorFor","required"),_.x(1),_.C("cfcDebounceErrorFor","minlength"),_.x(1),_.C("cfcDebounceErrorFor","maxlength"),_.x(1),_.C("cfcDebounceErrorFor","forbiddenId"),_.x(1),_.C("cfcDebounceErrorFor","pattern"))},jse=function(a,b){a&1&&(_.E(0,"mat-option",32),_.Q(1),_.F());a&2&&
(a=b.$implicit,_.N(),_.C("value",a),_.x(1),_.Sd(" ",O9d(a)," "))},kse=function(a){a&1&&(_.E(0,"cfc-form-error",33),_.K(1,34),_.F());a&2&&(a=_.N(),_.C("control",a.permissionFormControl))},lse=function(a){a&1&&(_.E(0,"cfc-form-error",33),_.K(1,35),_.F());a&2&&(a=_.N(),_.C("control",a.permissionFormControl))},mse=function(a){a&1&&(_.E(0,"cfc-message",41)(1,"cfc-message-text")(2,"h3",42),_.K(3,43),_.F(),_.E(4,"div"),_.Id(5,44),_.I(6,"a",45),_.Jd(),_.F(),_.I(7,"iam-truncated-permission-list",46),_.F()());
a&2&&(a=_.N(2),_.x(7),_.C("permissions",a.removedForbiddenPermissions.notSupported))},nse=function(a){a&1&&(_.E(0,"cfc-message",47)(1,"cfc-message-text")(2,"h3",42),_.K(3,48),_.F(),_.E(4,"div"),_.K(5,49),_.F(),_.I(6,"iam-truncated-permission-list",46),_.F()());a&2&&(a=_.N(2),_.x(6),_.C("permissions",a.removedForbiddenPermissions.notApplicable))},ose=function(a){a&1&&(_.E(0,"cfc-message",47)(1,"cfc-message-text")(2,"h3",42),_.K(3,50),_.F(),_.E(4,"div"),_.K(5,51),_.F(),_.I(6,"iam-truncated-permission-list",
46),_.F()());a&2&&(a=_.N(2),_.x(6),_.C("permissions",a.removedForbiddenPermissions.notApplicable))},pse=function(a){a&1&&(_.E(0,"cfc-message",47)(1,"cfc-message-text")(2,"h3",42),_.K(3,52),_.F(),_.E(4,"div"),_.K(5,53),_.F(),_.I(6,"iam-truncated-permission-list",46),_.F()());a&2&&(a=_.N(2),_.x(6),_.C("permissions",a.removedForbiddenPermissions.notApplicable))},qse=function(a){a&1&&(_.E(0,"cfc-message",54)(1,"cfc-message-text")(2,"h3",42),_.K(3,55),_.F(),_.E(4,"div"),_.K(5,56),_.F(),_.I(6,"iam-truncated-permission-list",
46),_.F()());a&2&&(a=_.N(2),_.x(6),_.C("permissions",a.removedForbiddenPermissions.testing))},rse=function(a){a&1&&(_.E(0,"h3"),_.K(1,57),_.F())},sse=function(a,b){a&1&&(_.E(0,"li"),_.Q(1),_.F());a&2&&(a=b.$implicit,_.x(1),_.Sd(" ",a," "))},tse=function(a){a&1&&(_.E(0,"h3"),_.K(1,58),_.F())},use=function(a,b){a&1&&(_.E(0,"li"),_.Q(1),_.F());a&2&&(a=b.$implicit,_.x(1),_.Sd(" ",a," "))},vse=function(a){a&1&&(_.E(0,"cfc-extender",36),_.P(1,mse,8,1,"cfc-message",37),_.P(2,nse,7,1,"cfc-message",38),_.P(3,
ose,7,1,"cfc-message",38),_.P(4,pse,7,1,"cfc-message",38),_.P(5,qse,7,1,"cfc-message",39),_.P(6,rse,2,0,"h3",10),_.E(7,"ul"),_.P(8,sse,2,1,"li",40),_.F(),_.P(9,tse,2,0,"h3",10),_.E(10,"ul"),_.P(11,use,2,1,"li",40),_.F()());a&2&&(a=_.N(),_.C("startExtended",a.removedForbiddenPermissions.notApplicable.length||a.removedForbiddenPermissions.notSupported.length||a.removedForbiddenPermissions.testing.length),_.x(1),_.C("ngIf",a.removedForbiddenPermissions.notSupported.length),_.x(1),_.C("ngIf",a.removedForbiddenPermissions.notApplicable.length&&
a.isEditing),_.x(1),_.C("ngIf",a.removedForbiddenPermissions.notApplicable.length&&a.organizationScoped&&!a.isEditing),_.x(1),_.C("ngIf",a.removedForbiddenPermissions.notApplicable.length&&!a.organizationScoped&&!a.isEditing),_.x(1),_.C("ngIf",a.removedForbiddenPermissions.testing.length),_.x(1),_.C("ngIf",0<a.addedPermissions.length),_.x(2),_.C("ngForOf",a.addedPermissions),_.x(1),_.C("ngIf",0<a.removedPermissions.length),_.x(2),_.C("ngForOf",a.removedPermissions))},wse=function(a,b){a&1&&(_.E(0,
"li",62),_.Q(1),_.F());a&2&&(a=b.$implicit,_.x(1),_.Sd(" ",a," "))},xse=function(a){a&1&&(_.E(0,"p"),_.K(1,59),_.F(),_.E(2,"ul",60),_.P(3,wse,2,1,"li",61),_.F());a&2&&(a=_.N(),_.x(3),_.C("ngForOf",a.removedPermissions))},yse=function(a){a&1&&(_.E(0,"p"),_.K(1,63),_.F())},zse=function(a){return b=>{b=b.value;return a.includes(b)?{forbiddenId:{id:b}}:null}},Ase=function(a){return a.value&&0<a.value.length?null:{requiredList:{valid:!1}}},Bse=function(a){a&1&&(_.E(0,"cfc-message"),_.K(1,7),_.F())},Cse=
function(a){a&1&&(_.E(0,"dt"),_.Q(1,"Impersonating service account"),_.F())},Dse=function(a,b){a&1&&(_.Dd(0),_.P(1,Cse,2,0,"dt",2),_.Ed());if(a&2){a=b.ngIf;b=_.N();const c=_.Rd(32);_.x(1);_.C("ngIf",a.impersonatingServiceAccount.emailAddress===b.log.recommendation.userId)("ngIfElse",c)}},Ese=function(a){a&1&&(_.E(0,"div")(1,"dt"),_.K(2,10),_.F(),_.E(3,"dd"),_.Q(4),_.F()());a&2&&(a=_.N().ngIf,_.x(4),_.Ud(a.impersonatingServiceAccount.emailAddress))},Fse=function(a){a&1&&(_.E(0,"div")(1,"dt"),_.K(2,
11),_.F(),_.E(3,"dd"),_.Q(4),_.F()());a&2&&(a=_.N().ngIf,_.x(4),_.Ud(a.lastImpersonationDate))},Gse=function(a,b){a&1&&(_.Dd(0),_.P(1,Ese,5,1,"div",0),_.E(2,"div")(3,"dt"),_.K(4,8),_.F(),_.E(5,"dd"),_.Q(6),_.F()(),_.E(7,"div")(8,"dt"),_.K(9,9),_.F(),_.E(10,"dd"),_.Q(11),_.F()(),_.P(12,Fse,5,1,"div",0),_.Ed());a&2&&(a=b.ngIf,b=_.N(),_.x(1),_.C("ngIf",a.impersonatingServiceAccount.emailAddress!==b.log.recommendation.userId),_.x(5),_.Ud(a.impersonatingServiceAccount.ownerFullResourceName),_.x(5),_.Ud(a.targetServiceAccountEmailAddresses.length),
_.x(1),_.C("ngIf",a.lastImpersonationDate))},Hse=function(a){a&1&&(_.E(0,"dt"),_.K(1,12),_.F())},Ise=function(a){a&1&&(_.E(0,"dt"),_.K(1,13),_.F())},Jse=function(a){a&1&&(_.E(0,"dt"),_.K(1,14),_.F())},Kse=function(a){a&1&&(_.E(0,"dd"),_.Q(1),_.F());a&2&&(a=_.N(),_.x(1),_.Ud(a.log.appliedMsg))},Lse=function(a){a&1&&(_.E(0,"dd")(1,"a",15),_.K(2,16),_.F()());a&2&&(a=_.N(),_.x(1),_.C("cfcRouterLink",a.log.createdCustomRoleUrl))},Mse=function(a){a&1&&(_.E(0,"dt"),_.K(1,20),_.F())},Nse=function(a){a&1&&
(_.E(0,"dt"),_.K(1,21),_.F())},Ose=function(a){a&1&&(_.E(0,"dt"),_.K(1,22),_.F())},Pse=function(a){a&1&&(_.Dd(0,17),_.P(1,Mse,2,0,"dt",18),_.P(2,Nse,2,0,"dt",18),_.P(3,Ose,2,0,"dt",19),_.Ed());a&2&&(a=_.N(),_.C("ngSwitch",a.log.recommendation.userType),_.x(1),_.C("ngSwitchCase","serviceAccount"),_.x(1),_.C("ngSwitchCase","group"))},Rse=function(a){a&1&&(_.Dd(0),_.I(1,"iam-role-permission-list",1)(2,"iam-role-permission-list",2),_.Ed());a&2&&(a=_.N(),_.x(1),_.C("items",a.oldPermissions)("unused",a.oldUnusedPermissions)("label",
a.date)("title",a.removedTitle)("isError",!a.canAccessOldRole),_.x(1),_.C("items",a.allPermissions)("added",a.highlightAddedPermissions?a.addedPermissions:_.Xd(13,Qse))("inferred",a.inferredPermissions)("removed",a.removedPermissions)("unused",a.allUnusedPermissions)("title",a.addedTitle)("showTitleIcon",a.canAccessNewRole)("isError",!a.canAccessNewRole))},Sse=function(a){switch(a.recommendationType){case "OK":return"ok";case "INACTIVE":return"remove";case "NEW_ROLE":return a.allowCreateCustomRole?
"replace_customizable":"replace";default:return"unknown"}},Tse=function(a){switch(a.kind){case "iamPolicy":return"membersTable";case "lateralMove":return"membersTableLateralMovementInsightMenu";default:_.Wb(a,`Invalid insight: ${a}`)}},Use=function(a,b){if(void 0!==a.oldRole&&"string"!==typeof a.oldRole&&a.oldRole.includedPermissions)return a=a.oldRole.includedPermissions.filter(c=>!b.includes(c)),a.sort(),a},Vse=function(a){for(const [b,{resourceIdExtractor:c}]of _.Yq.entries())if(c&&c.test(a))return new _.fi(c.exec(a)[1],
b,void 0,a)},Zse=function(a){if(a&1){const b=_.Pc();_.E(0,"cfc-progress-button",4);_.Zd(1,"async");_.E(2,"button",5);_.L("click",function(){_.t(b);const c=_.N(2).ngIf,d=_.N();return _.u(Wse(d,Xse(d,c)))});_.K(3,6);_.F()()}a&2&&(a=_.N(3),_.C("inProgress",_.$d(1,6,a.applyInProgress$)),_.x(2),_.C("ve",a.ve.IamRecommendationSubtaskApply)("veClick",!0)("cfcIamCheck",_.Zx(8,Yse,a.state.updatePolicyPermission,a.updateRecommendationPermission))("cfcIamResource",a.state.resource)("cfcIamOperator",a.IamCheckOperator.AND))},
$se=function(a){if(a&1){const b=_.Pc();_.E(0,"cfc-progress-button",7);_.Zd(1,"async");_.E(2,"button",5);_.L("click",function(){_.t(b);const c=_.N(2).ngIf,d=_.N();return _.u(Wse(d,Xse(d,c,!0)))});_.K(3,8);_.F()()}a&2&&(a=_.N(3),_.C("inProgress",_.$d(1,6,a.applyInProgress$)),_.x(2),_.C("ve",a.ve.IamRecommendationSubtaskApply)("veClick",!0)("cfcIamCheck",_.Zx(8,Yse,a.state.updatePolicyPermission,a.updateRecommendationPermission))("cfcIamResource",a.state.resource)("cfcIamOperator",a.IamCheckOperator.AND))},
ate=function(a){a&1&&(_.Dd(0),_.P(1,Zse,4,11,"cfc-progress-button",2),_.Zd(2,"async"),_.P(3,$se,4,11,"cfc-progress-button",3),_.Zd(4,"async"),_.Ed());a&2&&(a=_.N(2),_.x(1),_.C("ngIf",!_.$d(2,2,a.state.createCustomRoleFlowIsActive$)),_.x(2),_.C("ngIf",_.$d(4,4,a.state.createCustomRoleFlowIsActive$)))},bte=function(a,b){a&1&&(_.Dd(0),_.P(1,ate,5,6,"ng-container",0),_.Ed());a&2&&(a=b.ngIf,_.x(1),_.C("ngIf","OK"!==a.recommendationData.recommendationType))},cte=function(a){a&1&&_.I(0,"cfc-iam-recommendation-log-entry",
9);a&2&&(a=_.N(),_.C("log",a.appliedLog))},dte=function(a){a&1&&(_.E(0,"span"),_.K(1,3),_.F())},ete=function(a){a&1&&(_.E(0,"span"),_.K(1,4),_.F())},fte=function(a){if(a&1){const b=_.Pc();_.E(0,"button",2);_.L("click",function(){_.t(b);var c=_.N().ngIf,d=_.N();c=c.analyticsData;d.state.createCustomRoleFlowIsActive$.next(!d.state.createCustomRoleFlowIsActive$.value);d.subtaskService.sendAnalyticsEvent({type:"iamRecommendation",name:"switchView",metadata:{newView:d.state.createCustomRoleFlowIsActive$.value?
"customRole":"existingRole",source:d.sourceAnalyticsMetadata}},c);return _.u()});_.Zd(1,"customRoleButtonDisabledMessage");_.P(2,dte,2,0,"span",0);_.Zd(3,"async");_.P(4,ete,2,0,"span",0);_.Zd(5,"async");_.F()}if(a&2){a=_.N().ngIf;const b=_.N();_.C("cfcDisable",!a.canCreateRoles)("cfcDisableTooltip",_.$d(1,4,a.roleParent));_.x(2);_.C("ngIf",_.$d(3,6,b.state.createCustomRoleFlowIsActive$));_.x(2);_.C("ngIf",!_.$d(5,8,b.state.createCustomRoleFlowIsActive$))}},gte=function(a,b){a&1&&(_.Dd(0),_.P(1,fte,
6,10,"button",1),_.Ed());a&2&&(a=b.ngIf,_.x(1),_.C("ngIf",a.recommendation.allowCreateCustomRole))},jte=function(a){if(a&1){const b=_.Pc();_.E(0,"cfc-progress-button",2);_.Zd(1,"async");_.E(2,"button",3);_.L("click",function(){_.t(b);const c=_.N().ngIf,d=_.N();return _.u(hte(d,c.cloudRoleRecommendation))});_.K(3,4);_.F()()}a&2&&(a=_.N(2),_.C("inProgress",_.$d(1,5,a.dismissInProgress$)),_.x(2),_.C("ve",a.ve.IamRecommendationSubtaskDismiss)("veClick",!0)("cfcIamCheck",_.Yd(7,ite,a.updateRecommendationPermission))("cfcIamResource",
a.state.resource))},kte=function(a,b){a&1&&(_.Dd(0),_.P(1,jte,4,9,"cfc-progress-button",1),_.Ed());a&2&&(a=b.ngIf,_.x(1),_.C("ngIf","OK"!==a.recommendationData.recommendationType))},lte=function(a){a&1&&(_.Dd(0),_.Q(1),_.Ed());a&2&&(a=_.N(3).ngIf,_.x(1),_.Sd(" ",a.recommendationData.message," "))},mte=function(a,b){a&1&&(_.E(0,"li"),_.K(1,10),_.F());a&2&&(a=b.$implicit,_.x(1),_.Kd(a.includedPermissions.length)(a.title||a.name)(a.includedPermissions.length),_.Ld(1))},nte=function(a,b){a&1&&(_.E(0,
"p"),_.K(1,11),_.F());a&2&&(a=b.ngIf,_.x(1),_.Kd(a)(a),_.Ld(1))},ote=function(a){a&1&&(_.E(0,"p"),_.Q(1),_.F(),_.E(2,"ul"),_.P(3,mte,2,3,"li",9),_.F(),_.P(4,nte,2,2,"p",4));a&2&&(a=_.N(3).ngIf,_.x(1),_.Ud(a.recommendationData.message),_.x(2),_.C("ngForOf",a.recommendationData.newRoles),_.x(1),_.C("ngIf",a.recommendationData.numDaysObserved))},pte=function(a){a&1&&(_.E(0,"cfc-message-actions"),_.I(1,"iam-role-recommendation-subtask-create-custom-role-button",12),_.F());a&2&&(a=_.N(4),_.x(1),_.C("state",
a.state))},qte=function(a){a&1&&(_.Dd(0),_.E(1,"cfc-message",5)(2,"cfc-message-text"),_.P(3,lte,2,1,"ng-container",6),_.Zd(4,"hasOneNewRole"),_.P(5,ote,5,3,"ng-template",null,7,_.Te),_.F(),_.P(7,pte,2,1,"cfc-message-actions",4),_.F(),_.I(8,"cfc-role-diff",8),_.Ed());if(a&2){const b=_.Rd(6);a=_.N(2).ngIf;const c=_.N();_.x(3);_.C("ngIf",_.$d(4,9,a.recommendationData))("ngIfElse",b);_.x(4);_.C("ngIf",c.migrationExp);_.x(1);_.C("date",a.recommendationData.dateObserved)("oldRole",a.recommendationData.oldRole)("newRoles",
a.recommendationData.newRoles)("sampledUsedPermissions",a.recommendationData.sampledUsedPermissions)("inferredPermissions",a.recommendationData.inferredPermissions)("highlightAddedPermissions",!1)}},rte=function(a){a&1&&(_.E(0,"cfc-message-actions"),_.I(1,"iam-role-recommendation-subtask-create-custom-role-button",12),_.F());a&2&&(a=_.N(4),_.x(1),_.C("state",a.state))},ste=function(a,b){a&1&&(_.E(0,"li"),_.Q(1),_.F());a&2&&(a=b.$implicit,_.x(1),_.Sd(" ",a," "))},tte=function(a,b){a&1&&(_.E(0,"li"),
_.Q(1),_.F());a&2&&(a=b.$implicit,_.x(1),_.Sd(" ",a," "))},ute=function(a){a&1&&(_.E(0,"cfc-extender",19)(1,"h3"),_.K(2,20),_.F(),_.E(3,"ul"),_.P(4,tte,2,1,"li",9),_.F()());a&2&&(a=_.N().ngIf,_.x(4),_.C("ngForOf",a.overgrantedPermissions))},vte=function(a,b){a&1&&(_.Dd(0),_.I(1,"create-role-fields",15),_.E(2,"cfc-extender",16)(3,"h3"),_.K(4,17),_.F(),_.E(5,"ul"),_.P(6,ste,2,1,"li",9),_.F()(),_.P(7,ute,5,1,"cfc-extender",18),_.Ed());a&2&&(a=b.ngIf,b=_.N(4),_.x(1),_.C("allRoles",a.allRoles)("organizationScoped",
b.shouldCreateRoleOnOrganization)("rolesToCopy",a.rolesToCopy)("initialLaunchStage",b.RoleStageEnum.GA)("forbiddenPermissions",a.forbiddenPermissions)("grantablePermissions",a.grantablePermissions)("parentFormGroup",b.createRoleForm),_.x(5),_.C("ngForOf",a.recommendedPermissions),_.x(1),_.C("ngIf",a.overgrantedPermissions))},wte=function(a){a&1&&(_.Dd(0),_.E(1,"cfc-message",5)(2,"cfc-message-text"),_.Q(3),_.Zd(4,"createCustomRoleSummary"),_.F(),_.P(5,rte,2,1,"cfc-message-actions",4),_.F(),_.E(6,"form",
13)(7,"cfc-loader",14),_.P(8,vte,8,9,"ng-container",4),_.Zd(9,"async"),_.F()(),_.Ed());if(a&2){a=_.N(2).ngIf;const b=_.N();_.x(3);_.Sd(" ",_.$d(4,6,a.recommendationData)," ");_.x(2);_.C("ngIf",b.migrationExp);_.x(1);_.C("formGroup",b.createRoleForm);_.x(1);_.C("observable",b.state.ccrData$)("renderOnNext",!0);_.x(1);_.C("ngIf",_.$d(9,8,b.state.ccrData$))}},xte=function(a){a&1&&(_.Dd(0),_.P(1,qte,9,11,"ng-container",4),_.Zd(2,"async"),_.P(3,wte,10,10,"ng-container",4),_.Zd(4,"async"),_.Ed());a&2&&
(a=_.N(2),_.x(1),_.C("ngIf",!_.$d(2,2,a.state.createCustomRoleFlowIsActive$)),_.x(2),_.C("ngIf",_.$d(4,4,a.state.createCustomRoleFlowIsActive$)))},yte=function(a){a&1&&(_.Dd(0),_.I(1,"iam-role-permission-list",21),_.Ed());a&2&&(a=_.N(2).ngIf,_.x(1),_.C("label",a.recommendationData.dateObserved)("items",a.recommendationData.role.includedPermissions)("removed",a.recommendationData.role.includedPermissions)("unused",a.recommendationData.role.includedPermissions)("inferred",a.recommendationData.inferredPermissions)("title",
a.recommendationData.title)("showTitleIcon",!0))},zte=function(a){a&1&&(_.Dd(0),_.E(1,"cfc-message",5)(2,"cfc-message-text"),_.Q(3),_.F()(),_.P(4,yte,2,7,"ng-container",4),_.Ed());a&2&&(a=_.N().ngIf,_.x(3),_.Sd(" ",a.recommendationData.message," "),_.x(1),_.C("ngIf",a.recommendationData.showPermissionList))},Ate=function(a){a&1&&_.I(0,"iam-role-permission-list",24);a&2&&(a=_.N(2).ngIf,_.C("label",a.recommendationData.dateObserved)("items",a.recommendationData.role.includedPermissions)("unused",a.recommendationData.unusedPermissions)("title",
a.recommendationData.title))},Bte=function(a){a&1&&(_.E(0,"cfc-message",5)(1,"cfc-message-text"),_.Q(2),_.F()());a&2&&(a=_.N(2).ngIf,_.x(2),_.Sd(" ",a.recommendationData.message," "))},Cte=function(a){a&1&&(_.Dd(0),_.P(1,Ate,1,4,"iam-role-permission-list",22),_.P(2,Bte,3,1,"ng-template",null,23,_.Te),_.Ed());if(a&2){const b=_.Rd(3);a=_.N().ngIf;_.x(1);_.C("ngIf",a.recommendationData.showPermissionList)("ngIfElse",b)}},Dte=function(a,b){a&1&&(_.Dd(0,1),_.P(1,xte,5,6,"ng-container",2),_.P(2,zte,5,2,
"ng-container",2),_.P(3,Cte,4,2,"ng-container",3),_.Ed());a&2&&(_.C("ngSwitch",b.ngIf.recommendationData.recommendationType),_.x(1),_.C("ngSwitchCase","NEW_ROLE"),_.x(1),_.C("ngSwitchCase","INACTIVE"))},Ete=function(a){a&1&&(_.E(0,"div",11),_.I(1,"aa-priority-indicator",12),_.F());a&2&&(a=_.N().ngIf,_.x(1),_.C("priority",a.cloudRoleRecommendation.priority))},Fte=function(a,b){if(a&1){const c=_.Pc();_.Dd(0);_.E(1,"cfc-action-bar",2);_.P(2,Ete,2,1,"div",3);_.E(3,"div",4);_.I(4,"iam-feedback-button")(5,
"iam-role-recommendation-subtask-create-custom-role-button",5);_.F()();_.E(6,"cfc-panel-body");_.I(7,"iam-role-recommendation-subtask-body",6);_.F();_.E(8,"cfc-panel-footer");_.I(9,"iam-role-recommendation-subtask-apply-button",7)(10,"iam-role-recommendation-subtask-dismiss-button",8);_.E(11,"button",9);_.L("click",function(){_.t(c);const d=_.N();return _.u(d.cancel())});_.K(12,10);_.F()();_.Ed()}a&2&&(a=b.ngIf,b=_.N(),_.x(1),_.fv("cfcTitle",a.recommendationData.actionBarTitle),_.x(1),_.C("ngIf",
b.showPriorityIndicator),_.x(3),_.C("state",b.state)("sourceAnalyticsMetadata",b.sourceAnalyticsMetadata),_.x(2),_.C("state",b.state)("createRoleForm",b.createRoleForm)("shouldCreateRoleOnOrganization",b.shouldCreateRoleOnOrganization),_.x(2),_.C("state",b.state)("subtaskRef",b.subtaskRef)("sourceAnalyticsMetadata",b.sourceAnalyticsMetadata)("createRoleForm",b.createRoleForm),_.x(1),_.C("state",b.state)("subtaskRef",b.subtaskRef)("sourceAnalyticsMetadata",b.sourceAnalyticsMetadata),_.x(1),_.C("ve",
b.ve.IamRecommendationSubtaskCancel)("veClick",!0))},Gte=function(a){a&1&&(_.Dd(0),_.I(1,"iam-role-permission-list",9),_.Ed());a&2&&(a=_.N().ngIf,_.x(1),_.C("label",a.right.label)("items",a.right.includedPermissions)("inferred",a.right.inferredPermissions)("unused",a.right.unusedPermissions)("title",a.right.title))},Hte=function(a){a&1&&(_.E(0,"cfc-message",10)(1,"cfc-message-text")(2,"span"),_.Q(3),_.F()()());a&2&&(a=_.N(2),_.x(3),_.Ud(a.rolePermissionsErrorMessage))},Ite=function(a,b){a&1&&(_.Dd(0),
_.P(1,Gte,2,5,"ng-container",7),_.P(2,Hte,4,1,"ng-template",null,8,_.Te),_.Ed());if(a&2){a=b.ngIf;const c=_.Rd(3);b=_.N();_.x(1);_.C("ngIf",b.isRight(a))("ngIfElse",c)}},Jte=function(a,b){a&1&&(_.Dd(0),_.E(1,"cfc-heading",1),_.K(2,2),_.F(),_.E(3,"cfc-table",3),_.I(4,"cfc-table-column",4),_.F(),_.Ed());a&2&&(a=b.ngIf,b=_.N(),_.x(1),_.C("semanticLevel",b.headerSemanticLevel)("visualLevel",b.headerVisualLevel||b.headerSemanticLevel),_.x(1),_.Kd(a),_.Ld(2),_.x(1),_.C("tableManager",b.clientTableManager)("columnsConfig",
b.columnsConfig)("rowsPerPage",10)("hideTooltip",!0)("showFilter",!0)("pagination",!0))},Ote=function(a,b){a={NUM_SA:a.targetServiceAccountEmailAddresses.length};switch(b.getResourceType()){case 0:return Kte.format(a);case 2:return Lte.format(a);case 43:return Mte.format(a);default:return Nte.format(a)}},Pte=function(a){a&1&&(_.E(0,"span"),_.K(1,6),_.F())},Qte=function(a){a&1&&(_.E(0,"span"),_.K(1,7),_.F())},Rte=function(a,b){a&1&&(_.P(0,Pte,2,0,"span",5),_.P(1,Qte,2,0,"span",5));a&2&&(a=b.rowData,
_.C("ngIf",a.isUsed),_.x(1),_.C("ngIf",!a.isUsed))},Ste=function(a){a&1&&(_.E(0,"span"),_.Q(1),_.F());a&2&&(a=_.N().rowData,_.x(1),_.Sd(" ",a.lastUsedDate," "))},Tte=function(a,b){a&1&&_.P(0,Ste,2,1,"span",5);a&2&&_.C("ngIf",b.rowData.lastUsedDate)},Ute=function(a,b){a&1&&(_.E(0,"cfc-message")(1,"cfc-message-text"),_.K(2,1),_.F()());a&2&&(a=b.ngIf,_.x(2),_.Kd(a),_.Ld(2))},Zte=function(a){const b={RESOURCE_NAME:a.getDisplayName()};switch(a.getResourceType()){case 0:return Vte.format(b);case 2:return Wte.format(b);
case 43:return Xte.format(b);default:return Yte.format(b)}},due=function(a,b){a={RESOURCE_NAME:b.getDisplayName(),SERVICE_ACCOUNT:a.impersonatingServiceAccount.emailAddress};switch(b.getResourceType()){case 0:return $te.format(a);case 2:return aue.format(a);case 43:return bue.format(a);default:return cue.format(a)}},eue=function(a){a&1&&(_.Dd(0),_.I(1,"iam-role-permission-list",4),_.Ed());a&2&&(a=_.N().ngIf,_.x(1),_.C("label",a.right.label)("items",a.right.includedPermissions)("title",a.right.title))},
fue=function(a){a&1&&(_.E(0,"cfc-message",5)(1,"cfc-message-text")(2,"span"),_.Q(3),_.Zd(4,"async"),_.F()()());a&2&&(a=_.N(2),_.x(3),_.Ud(_.$d(4,1,a.rolePermissionsErrorMessage$)))},gue=function(a,b){a&1&&(_.Dd(0),_.P(1,eue,2,3,"ng-container",2),_.P(2,fue,5,3,"ng-template",null,3,_.Te),_.Ed());if(a&2){a=b.ngIf;const c=_.Rd(3);b=_.N();_.x(1);_.C("ngIf",b.isRight(a))("ngIfElse",c)}},hue=function(a,b){a&1&&(_.E(0,"cfc-message",3)(1,"cfc-message-text")(2,"span"),_.Q(3),_.F()()());a&2&&(a=b.ngIf,_.x(3),
_.Ud(a))},iue=function(a,b){a&1&&(_.E(0,"div")(1,"dt"),_.Id(2,4),_.I(3,"cfc-help-button"),_.Jd(),_.F(),_.E(4,"dd"),_.Q(5),_.F()());a&2&&(a=b.ngIf,_.x(5),_.Ud(a.impersonatingServiceAccount.ownerFullResourceName))},jue=function(a,b){a&1&&(_.Id(0,5,1),_.I(1,"cfc-help-button"),_.Jd());a&2&&(a=b.ngIf,_.x(1),_.Kd(a),_.Ld(0))},kue=function(a,b){a&1&&(_.E(0,"div")(1,"dt"),_.Id(2,5),_.P(3,jue,2,1,"cfc-help-button",2),_.Zd(4,"async"),_.Jd(),_.F(),_.E(5,"dd"),_.Q(6),_.F()());a&2&&(a=b.ngIf,b=_.N(),_.x(3),_.C("ngIf",
_.$d(4,2,b.lastImpersonationDateHelpText$)),_.x(3),_.Ud(a))},pue=function(a,b){a={RESOURCE_NAME:b.getDisplayName(),SERVICE_ACCOUNT:a.impersonatingServiceAccount.emailAddress,NUM_SA:a.targetServiceAccountEmailAddresses.length};switch(b.getResourceType()){case 0:return lue.format(a);case 2:return mue.format(a);case 43:return nue.format(a);default:return oue.format(a)}},uue=function(a){const b={RESOURCE_NAME:a.getDisplayName()};switch(a.getResourceType()){case 0:return que.format(b);case 2:return rue.format(b);
case 43:return sue.format(b);default:return tue.format(b)}},vue=function(a){a&1&&_.I(0,"iam-role-recommendation-subtask-create-custom-role-button",21);a&2&&(a=_.N(),_.C("state",a.recommendationSubtaskState)("sourceAnalyticsMetadata",a.sourceAnalyticsMetadata))},wue=function(a){a&1&&(_.Dd(0),_.I(1,"iam-role-recommendation-subtask-body",22),_.Ed());a&2&&(a=_.N(),_.x(1),_.C("state",a.recommendationSubtaskState)("createRoleForm",a.createRoleForm)("shouldCreateRoleOnOrganization",a.shouldCreateRoleOnOrganization))},
xue=function(a){a&1&&_.I(0,"iam-impersonation-permissions-table",23)(1,"iam-lateral-insight-permission-list",23);a&2&&(a=_.N(),_.C("insight",a.data.insight),_.x(1),_.C("insight",a.data.insight))},yue=function(a){a&1&&(_.Dd(0),_.I(1,"iam-role-recommendation-subtask-apply-button",24)(2,"iam-role-recommendation-subtask-dismiss-button",25),_.Ed());a&2&&(a=_.N(),_.x(1),_.C("state",a.recommendationSubtaskState)("subtaskRef",a.subtaskRef)("sourceAnalyticsMetadata",a.sourceAnalyticsMetadata)("createRoleForm",
a.createRoleForm),_.x(1),_.C("state",a.recommendationSubtaskState)("subtaskRef",a.subtaskRef)("sourceAnalyticsMetadata",a.sourceAnalyticsMetadata))},Aue=function(a){if(a&1){const b=_.Pc();_.E(0,"cfc-menu-item",3);_.L("click",function(){_.t(b);const c=_.N().ngIf,d=_.N();zue(d.menuService,c.params);return _.u()});_.F()}if(a&2){a=_.N(2);a:{switch(a.params.insight.kind){case "iamPolicy":a=132331;break a;case "lateralMove":a=132326;break a;default:_.Wb(a.params.insight,`Invalid insight: ${a.params.insight}`)}a=
void 0}_.C("ve",a)("veClick",!0)}},Bue=function(a){if(a&1){const b=_.Pc();_.E(0,"cfc-menu-item",4);_.L("click",function(){_.t(b);const c=_.N().ngIf,d=_.N();zue(d.menuService,c.params);return _.u()});_.F()}if(a&2){a=_.N(2);a:{switch(a.params.insight.kind){case "iamPolicy":a=132335;break a;case "lateralMove":a=132327;break a;default:_.Wb(a.params.insight,`Invalid insight: ${a.params.insight}`)}a=void 0}_.C("ve",a)("veClick",!0)}},Cue=function(a){if(a&1){const d=_.Pc();_.Dd(0);_.E(1,"cfc-menu-item",
5);_.L("click",function(){_.t(d);const e=_.N().ngIf;_.N().menuService.applyRoleRecommendation(e.params);return _.u()});_.F();_.E(2,"cfc-menu-item",6);_.L("click",function(){_.t(d);const e=_.N().ngIf;_.N().menuService.dismissRoleRecommendation(e.params);return _.u()});_.F();_.Ed()}if(a&2){a=_.N().ngIf;const d=_.N();_.x(1);var b=_.C("cfcDisable",a.disableApplyButton)("cfcIamCheck",a.permissionsToApplyRecommendations)("cfcIamResource",a.params.resource)("cfcIamOperator",d.IamCheckOperator.AND);a:{switch(d.params.insight.kind){case "iamPolicy":var c=
132332;break a;case "lateralMove":c=132328;break a;default:_.Wb(d.params.insight,`Invalid insight: ${d.params.insight}`)}c=void 0}b("ve",c)("veClick",!0);_.x(1);a:{switch(d.params.insight.kind){case "iamPolicy":b=132333;break a;case "lateralMove":b=132329;break a;default:_.Wb(d.params.insight,`Invalid insight: ${d.params.insight}`)}b=void 0}_.C("ve",b)("veClick",!0)("cfcIamResource",a.params.resource)}},Due=function(a,b){a&1&&(_.E(0,"cfc-menu")(1,"cfc-menu-section"),_.P(2,Aue,1,2,"cfc-menu-item",
1),_.P(3,Bue,1,2,"ng-template",null,2,_.Te),_.P(5,Cue,3,9,"ng-container",0),_.F()());if(a&2){a=b.ngIf;const c=_.Rd(4);_.x(2);_.C("ngIf",a.showAnalyzedPermissions)("ngIfElse",c);_.x(3);_.C("ngIf",a.showApplyDismiss)}},Eue=function(a){a&1&&_.Fd(0)},Hue=function(a){a&1&&(_.Dd(0),_.P(1,Eue,1,0,"ng-container",2),_.Ed());if(a&2){a=_.N();const b=_.Rd(3);_.x(1);_.C("ngTemplateOutlet",b)("ngTemplateOutletContext",_.Yd(7,Fue,_.gGb(2,Gue,a.params.insight,a.params.recommendations[0],a.params.resource,a.params.impactMetric)))}},
Iue=function(a,b){a&1&&(_.E(0,"cfc-menu-item",4),_.jW(1,5),_.F());if(a&2){a=b.$implicit;b=b.index;const c=_.N(2),d=_.Rd(3);_.Kd(1+b);_.Ld(1);_.C("cfcMenuTriggerFor",d)("cfcMenuTriggerData",_.gGb(3,Gue,c.params.insight,a,c.params.resource,c.params.impactMetric))}},Jue=function(a){a&1&&(_.Dd(0),_.E(1,"cfc-menu")(2,"cfc-menu-section"),_.P(3,Iue,2,8,"cfc-menu-item",3),_.F()(),_.Ed());a&2&&(a=_.N(),_.x(3),_.C("ngForOf",a.params.recommendations))},Kue=function(a,b){a&1&&_.I(0,"iam-grant-recommendation-menu",
6);a&2&&_.C("params",b.$implicit)},Lue=function(a){a&1&&_.I(0,"iam-grant-recommendation-fetch-error-icon")},Mue=function(a){a&1&&_.I(0,"ace-icon",7)},Oue=function(a,b){if(a&1){const c=_.Pc();_.E(0,"div",2);_.P(1,Lue,1,0,"iam-grant-recommendation-fetch-error-icon",3);_.Zd(2,"async");_.E(3,"cfc-split-button",4)(4,"button",5);_.L("click",function(){const d=_.t(c).ngIf,e=_.N();zue(e.menuService,{insight:e.insight,recommendation:d[0],resource:e.resource,impactMetric:e.impactMetric});return _.u()});_.P(5,
Mue,1,0,"ace-icon",6);_.Qd(6);_.F()();_.I(7,"br");_.F()}if(a&2){a=b.ngIf;b=_.N();const c=_.Rd(3);_.x(1);_.C("ngIf",_.$d(2,7,b.activeRoleRecommendationsErrors$));_.x(2);_.C("menuTemplate",c)("menuTemplateData",_.gGb(9,Nue,b.insight,a,b.resource,b.impactMetric))("primary",!0);_.x(1);_.C("ve",0<a.length?b.veWithRecommendation:b.veWithoutRecommendation)("veClick",!0);_.x(1);_.C("ngIf",0<a.length)}},Pue=function(a,b){a&1&&_.I(0,"iam-grant-recommendation-list-menu",8);a&2&&_.C("params",b.$implicit)},Que=
function(a){a&1&&(_.Dd(0),_.Id(1,3),_.I(2,"b")(3,"span")(4,"b")(5,"span"),_.Jd(),_.Ed());if(a&2){a=_.N().ngVar;const b=_.N();_.x(5);_.Kd(b.policyInsight.currentTotalPermissionsCount-b.policyInsight.exercisedPermissions.length)(b.policyInsight.currentTotalPermissionsCount)(a)(a);_.Ld(1)}},Rue=function(a){a&1&&(_.Dd(0),_.Id(1,4),_.I(2,"b")(3,"span"),_.Jd(),_.Ed());a&2&&(a=_.N().ngVar,_.x(3),_.Kd(a)(a),_.Ld(1))},Sue=function(a){a&1&&(_.E(0,"iam-grant-insight-split-button",1),_.P(1,Que,6,4,"ng-container",
2),_.P(2,Rue,4,2,"ng-container",2),_.F());a&2&&(a=_.N(),_.C("resource",a.resource)("insight",a.lateralMovementInsight)("impactMetric",a.impactMetric)("associatedRecommendationNames",a.associatedRecommendationNames)("veWithRecommendation",a.IamLateralMoveInsightSubtaskWithRecommendationOpen)("veWithoutRecommendation",a.IamLateralMoveInsightSubtaskWithoutRecommendationOpen),_.x(1),_.C("ngIf",a.policyInsight),_.x(1),_.C("ngIf",!a.policyInsight))},Tue=function(a){a&1&&_.I(0,"iam-grant-policy-insight-item",
3);a&2&&(a=_.N(3),_.C("resource",a.resource)("policyInsight",a.insightGroup.iamPolicyInsight)("impactMetric",a.impactMetric)("associatedRecommendationNames",a.insightGroup.associatedRecommendationNames))},Uue=function(a){a&1&&_.I(0,"iam-grant-lateral-movement-insight-item",4);if(a&2){a=_.N(2).ngVar;const b=_.N();_.C("resource",b.resource)("lateralMovementInsight",b.insightGroup.lateralMovementInsight)("policyInsight",a?b.insightGroup.iamPolicyInsight:void 0)("impactMetric",b.impactMetric)("associatedRecommendationNames",
b.insightGroup.associatedRecommendationNames)}},Vue=function(a,b){a&1&&(_.Dd(0),_.P(1,Tue,1,4,"iam-grant-policy-insight-item",1),_.P(2,Uue,1,5,"iam-grant-lateral-movement-insight-item",2),_.Ed());a&2&&(a=b.ngVar,b=_.N().ngVar,_.x(1),_.C("ngIf",b&&!a),_.x(1),_.C("ngIf",a))},Wue=function(a){a&1&&(_.Dd(0),_.P(1,Vue,3,2,"ng-container",0),_.Zd(2,"isInsightActive"),_.Ed());a&2&&(a=_.N(),_.x(1),_.C("ngVar",_.$d(2,1,a.insightGroup.lateralMovementInsight)))},Xue=function(a,b){a&1&&(_.Dd(0),_.I(1,"iam-grant-insight-group-item",
3),_.Ed());if(a&2){a=b.ngIf;b=_.N().$implicit;const c=_.N(2);_.x(1);_.C("resource",a)("insightGroup",b)("impactMetric",c.impactMetric)}},Yue=function(a){a&1&&(_.Dd(0),_.P(1,Xue,2,3,"ng-container",0),_.Zd(2,"async"),_.Ed());a&2&&(a=_.N(2),_.x(1),_.C("ngIf",_.$d(2,1,a.resource$)))},Zue=function(a){a&1&&(_.Dd(0),_.P(1,Yue,3,3,"ng-container",2),_.Zd(2,"sortInsightsByRecommendations"),_.Ed());a&2&&(a=_.N(),_.x(1),_.C("ngForOf",_.$d(2,1,a.insightGroup.insightsByRecommendations)))},$ue=function(a){a&1&&
(_.E(0,"div",4),_.I(1,"br"),_.F())},ave=function(a){a&1&&_.I(0,"iam-owner-pending-invite-button")},bve=function(a){a&1&&_.I(0,"non-grantable-role-button")},cve=function(a){const b=[],c=new Map,d=new Map;var e=new Map;for(var f of a)if(0===f.associatedRecommendationNames.length)switch(f.kind){case "iamPolicy":b.push({iamPolicyInsight:f,associatedRecommendationNames:[],activeInsightMetadata:c$d([f])});break;case "lateralMove":b.push({lateralMovementInsight:f,associatedRecommendationNames:[],activeInsightMetadata:c$d([f])});
break;default:_.Wb(f,`Invalid binding insight: ${f}`)}else{a=f.associatedRecommendationNames.sort();var g=a.join(",");e.set(g,a);switch(f.kind){case "iamPolicy":d.set(g,f);break;case "lateralMove":c.set(g,f);break;default:_.Wb(f,`Invalid binding insight: ${f}`)}}for(const [h,l]of e)a=h,f=l,e=c.get(a),a=d.get(a),g=[],f={associatedRecommendationNames:f,activeInsightMetadata:c$d(g)},e&&(f.lateralMovementInsight=e,g.push(e)),a&&(f.iamPolicyInsight=a,g.push(a)),f.activeInsightMetadata=c$d(g),b.push(f);
return b},dve=function(a){var b=new Map;const c=new Map;for(var d of a){a=b$d(d);const g=a$d(d);a:{switch(d.kind){case "iamPolicy":var e=d.condition;break a;case "lateralMove":e=d.impersonationPolicyBinding.condition;break a;default:_.Wb(d,`Invalid binding insight: ${d}`)}e=void 0}a:{switch(d.kind){case "iamPolicy":var f=d.targetFullResourceNames[0];break a;case "lateralMove":f=d.impersonationPolicyBinding.fullResourceName;break a;default:_.Wb(d,`Invalid binding insight: ${d}`)}f=void 0}const h=f;
f=`${h} ${g} ${a} ${e?_.cZb(e):""}`;a={roleName:a,member:g,fullResourceName:h};e&&(a.condition=e);c.set(f,a);b.get(f)||b.set(f,[]);b.get(f).push(d)}d=[];for(const [g,h]of b)b=h,a=c.get(g),d.push(Object.assign({},a,{insights:b}));return d},eve=function(a){a&1&&(_.E(0,"cfc-iam-member-type-icon",15),_.Q(1,"\n        "),_.F());a&2&&(a=_.N().rowData,_.C("type",a.type))},fve=function(a){a&1&&(_.E(0,"ace-icon",16),_.Q(1,"\n        "),_.F())},gve=function(a,b){a&1&&(_.Dd(0),_.Q(1,"\n        "),_.P(2,eve,
2,1,"cfc-iam-member-type-icon",13),_.Q(3,"\n        "),_.P(4,fve,2,0,"ace-icon",14),_.Q(5,"\n      "),_.Ed());a&2&&(a=b.rowData,_.x(2),_.C("ngIf","google-managed"!==a.type),_.x(2),_.C("ngIf","google-managed"===a.type))},hve=function(a,b){a&1&&(_.Dd(0),_.Q(1),_.Ed());a&2&&(a=b.rowData,_.x(1),_.Sd("\n        ",a.displayName,"\n      "))},ive=function(a){a&1&&(_.Dd(0),_.Q(1),_.Zd(2,"async"),_.Ed());a&2&&(a=_.N().rowData,_.x(1),_.Sd("\n          ",_.$d(2,1,a.description),"\n        "))},jve=function(a){a&
1&&(_.Dd(0),_.Q(1,"\n          "),_.E(2,"cfc-service-account-description",18),_.Q(3,"\n          "),_.F(),_.Q(4,"\n        "),_.Ed());if(a&2){a=_.N().rowData;const b=_.N().ngIf;_.x(2);_.C("serviceAccount",a.displayName)("projectIds",b)}},kve=function(a,b){a&1&&(_.Dd(0),_.Q(1,"\n        "),_.P(2,ive,3,3,"ng-container",1),_.Q(3,"\n        "),_.P(4,jve,5,2,"ng-container",1),_.Q(5,"\n      "),_.Ed());a&2&&(a=b.rowData,b=_.N(4),_.x(2),_.C("ngIf",a.type!==b.serviceAccountType),_.x(2),_.C("ngIf",a.type===
b.serviceAccountType))},lve=function(a){a&1&&(_.E(0,"cfc-table-column",17),_.Q(1,"\n      "),_.P(2,kve,6,2,"ng-container",5),_.Q(3,"\n    "),_.F());a&2&&(_.x(2),_.C("cfcTableTemplate","body"))},mve=function(a,b){a&1&&(_.E(0,"div"),_.Q(1,"\n          "),_.E(2,"iam-grant-role-title",20),_.Q(3,"\n          "),_.F(),_.Q(4,"\n        "),_.F());a&2&&(a=b.$implicit,_.Bd("cfc-space-above-minus-3",0<b.index),_.x(2),_.C("insightGroup",a.insightGroup)("sourcedRole",a.sourcedRole))},nve=function(a,b){a&1&&(_.Dd(0),
_.Q(1,"\n        "),_.P(2,mve,5,4,"div",19),_.Zd(3,"async"),_.Q(4,"\n      "),_.Ed());a&2&&(a=b.rowData,_.x(2),_.C("ngForOf",_.$d(3,1,a.sourcedRolesWithInsightGroups)))},ove=function(a){a&1&&(_.Dd(0),_.Q(1,"\n        "),_.Dd(2),_.K(3,22),_.Ed(),_.Q(4,"\n        "),_.E(5,"cfc-help-button"),_.Id(6,23),_.E(7,"div",24),_.I(8,"a",25),_.F(),_.Jd(),_.F(),_.Q(9,"\n      "),_.Ed())},pve=function(a,b){a&1&&(_.E(0,"div",27),_.Q(1,"\n            "),_.E(2,"iam-role-insight-group",28),_.Q(3,"\n            "),_.F(),
_.Q(4,"\n          "),_.F());if(a&2){a=b.$implicit;b=b.index;const c=_.N(6);_.Bd("cfc-space-above-minus-3",0<b);_.x(2);_.C("insightGroup",a.insightGroup)("impactMetric",c.impactMetric)}},qve=function(a){a&1&&(_.Dd(0),_.Q(1,"\n          "),_.P(2,pve,5,4,"div",26),_.Zd(3,"async"),_.Q(4,"\n        "),_.Ed());a&2&&(a=_.N().rowData,_.x(2),_.C("ngForOf",_.$d(3,1,a.sourcedRolesWithInsightGroups)))},rve=function(a){a&1&&(_.Dd(0),_.Q(1,"\n        "),_.P(2,qve,5,3,"ng-container",1),_.Zd(3,"async"),_.Zd(4,"async"),
_.Q(5,"\n      "),_.Ed());a&2&&(a=_.N(4),_.x(2),_.C("ngIf",_.$d(3,1,a.canViewInsightGroups$)&&!_.$d(4,3,a.listInsightGroupsError$)))},sve=function(a){a&1&&(_.E(0,"cfc-table-column",21),_.Q(1,"\n      "),_.P(2,ove,10,0,"ng-container",5),_.Q(3,"\n      "),_.P(4,rve,6,5,"ng-container",5),_.Q(5,"\n    "),_.F());a&2&&(a=_.N(3),_.C("header",a.RECOMMENDATION_FILTER_HEADER)("sortDisabled",!0),_.x(2),_.C("cfcTableTemplate","header"),_.x(2),_.C("cfcTableTemplate","body"))},tve=function(a,b){a&1&&(_.E(0,"div"),
_.Q(1,"\n          "),_.E(2,"iam-grant-role-inheritance",29),_.Q(3,"\n          "),_.F(),_.Q(4,"\n        "),_.F());if(a&2){a=b.$implicit;b=b.index;const c=_.N(2).ngIf;_.Bd("cfc-space-above-minus-3",0<b);_.x(2);_.C("insightGroup",a.insightGroup)("sourcedRole",a.sourcedRole)("tableResource",c)}},uve=function(a,b){a&1&&(_.Dd(0),_.Q(1,"\n        "),_.P(2,tve,5,5,"div",19),_.Zd(3,"async"),_.Q(4,"\n      "),_.Ed());a&2&&(a=b.rowData,_.x(2),_.C("ngForOf",_.$d(3,1,a.sourcedRolesWithInsightGroups)))},vve=
function(a,b){a&1&&(_.E(0,"div"),_.Q(1,"\n          "),_.E(2,"iam-grant-role-condition",20),_.Q(3,"\n          "),_.F(),_.Q(4,"\n        "),_.F());a&2&&(a=b.$implicit,_.Bd("cfc-space-above-minus-3",0<b.index),_.x(2),_.C("insightGroup",a.insightGroup)("sourcedRole",a.sourcedRole))},wve=function(a,b){a&1&&(_.Dd(0),_.Q(1,"\n        "),_.P(2,vve,5,4,"div",19),_.Zd(3,"async"),_.Q(4,"\n      "),_.Ed());a&2&&(a=b.rowData,_.x(2),_.C("ngForOf",_.$d(3,1,a.sourcedRolesWithInsightGroups)))},xve=function(a){a&
1&&(_.E(0,"cfc-table-column",30),_.Q(1,"\n      "),_.P(2,wve,5,3,"ng-container",5),_.Q(3,"\n    "),_.F());a&2&&(_.x(2),_.C("cfcTableTemplate","body"))},yve=function(a,b){a&1&&(_.Dd(0),_.Q(1,"\n        "),_.E(2,"cfc-iam-edit-button",32),_.Q(3,"\n        "),_.F(),_.Q(4,"\n      "),_.Ed());if(a&2){a=b.rowData;b=_.N().ngIf;const c=_.N().ngIf;_.x(2);_.C("member",a)("inherited",a.allInherited)("resourceLabel",b)("resource",c)}},zve=function(a){a&1&&(_.E(0,"cfc-table-column",31),_.Q(1,"\n      "),_.P(2,
yve,5,4,"ng-container",5),_.Q(3,"\n    "),_.F());a&2&&(_.C("sortDisabled",!0)("nonHideable",!0)("noPadding",!0),_.x(2),_.C("cfcTableTemplate","body"))},Cve=function(a){if(a&1){const b=_.Pc();_.E(0,"cfc-table",3);_.L("bulkActionRowsChanged",function(c){_.t(b);const d=_.N(2);return _.u(d.bulkActionRowsChanged.emit(c))});_.Q(1,"\n    ");_.E(2,"cfc-table-column",4);_.Q(3,"\n      ");_.P(4,gve,6,2,"ng-container",5);_.Q(5,"\n    ");_.F();_.Q(6,"\n    ");_.E(7,"cfc-table-column",6);_.Q(8,"\n      ");_.P(9,
hve,2,1,"ng-container",5);_.Q(10,"\n    ");_.F();_.Q(11,"\n    ");_.P(12,lve,4,1,"cfc-table-column",7);_.Zd(13,"async");_.Q(14,"\n    ");_.E(15,"cfc-table-column",8);_.Q(16,"\n      ");_.P(17,nve,5,3,"ng-container",5);_.Q(18,"\n    ");_.F();_.Q(19,"\n    ");_.P(20,sve,6,4,"cfc-table-column",9);_.Zd(21,"async");_.Q(22,"\n    ");_.E(23,"cfc-table-column",10);_.Q(24,"\n      ");_.P(25,uve,5,3,"ng-container",5);_.Q(26,"\n    ");_.F();_.Q(27,"\n    ");_.P(28,xve,4,1,"cfc-table-column",11);_.Q(29,"\n    ");
_.P(30,zve,4,4,"cfc-table-column",12);_.Zd(31,"async");_.Q(32,"\n  ");_.F()}a&2&&(a=_.N(2),_.C("primaryColumnId","member")("columnsConfig",a.clientColumnsConfig)("sortKeys",_.Xd(33,Ave))("rowsPerPage",50)("showFilter",!0)("showColumnsChooser",!0)("selectionMode",a.selectionMode)("filterChips",a.filterChips)("showSelectionControls",!0)("disableRowClick",!0)("externalTableCaptionId",a.tableCaptionId)("tableManager",a.clientTableManager)("fullBleedConfig",a.fullBleed?a.tableFullBleedConfig:a.DEFAULT_FULL_BLEED_CONFIG)("pagination",
!0),_.x(2),_.C("header",a.PRINCIPAL_TYPE_FILTER_HEADER)("noPadding",!0)("shorthands",a.typeShorthands),_.x(2),_.C("cfcTableTemplate","body"),_.x(5),_.C("cfcTableTemplate","body"),_.x(3),_.C("ngIf",_.$d(13,27,a.projectIds$)),_.x(3),_.C("header",a.ROLE_FILTER_HEADER)("sortDisabled",!0),_.x(2),_.C("cfcTableTemplate","body"),_.x(3),_.C("ngIf",_.$d(21,29,a.showRecsColumn$)),_.x(5),_.C("cfcTableTemplate","body"),_.x(3),_.C("ngIf",!Bve(a.clientTableManager.rows)),_.x(2),_.C("ngIf",_.$d(31,31,a.resourceLabel$)))},
Dve=function(a){a&1&&(_.Dd(0),_.Q(1,"\n  "),_.P(2,Cve,33,34,"cfc-table",2),_.Zd(3,"async"),_.Q(4,"\n"),_.Ed());a&2&&(a=_.N(),_.x(2),_.C("ngIf",_.$d(3,1,a.resource$)))},Eve=function(a){if(a&1){const b=_.Pc();_.E(0,"a",11);_.L("click",function(c){_.t(b);const d=_.N(2).rowData,e=_.N(2);c.preventDefault();return _.u(e.showConditionsDialog(d.roleTitle,d.condition))});_.K(1,12);_.F()}a&2&&(a=_.N(2).rowData,_.x(1),_.Kd(a.condition.displayName),_.Ld(1))},Fve=function(a){a&1&&(_.E(0,"span",9),_.Q(1),_.P(2,
Eve,2,1,"a",10),_.Q(3),_.F());a&2&&(a=_.N().rowData,_.x(1),_.Sd(" ",a.roleTitle," "),_.x(1),_.C("ngIf",a.condition),_.x(1),_.Sd(" (",a.children.length,") "))},Gve=function(a){a&1&&_.I(0,"cfc-role-principal-viewer",13);a&2&&(a=_.N().rowData,_.C("rolePrincipal",a))},Hve=function(a,b){a&1&&(_.P(0,Fve,4,3,"span",7),_.P(1,Gve,1,1,"cfc-role-principal-viewer",8));a&2&&(a=b.rowData,b=_.N(2),_.C("ngIf",!b.isRoleMemberNode(a)),_.x(1),_.C("ngIf",b.isRoleMemberNode(a)))},Ive=function(a){a&1&&(_.Dd(0),_.Q(1),
_.Zd(2,"async"),_.Ed());a&2&&(a=_.N(2).rowData,_.x(1),_.Sd(" ",_.$d(2,1,a.description)," "))},Jve=function(a){a&1&&(_.Dd(0),_.I(1,"cfc-service-account-description",15),_.Ed());if(a&2){a=_.N(2).rowData;const b=_.N(2);_.x(1);_.C("serviceAccount",a.displayName)("projectIds",b.projectIds)}},Kve=function(a){a&1&&(_.E(0,"span"),_.P(1,Ive,3,3,"ng-container",14),_.P(2,Jve,2,2,"ng-container",14),_.F());if(a&2){a=_.N().rowData;const b=_.N(2);_.x(1);_.C("ngIf",b.showPrincipalNames&&a.type!==b.serviceAccountType);
_.x(1);_.C("ngIf",a.type===b.serviceAccountType)}},Lve=function(a,b){a&1&&_.P(0,Kve,3,2,"span",14);a&2&&(a=b.rowData,b=_.N(2),_.C("ngIf",b.isRoleMemberNode(a)))},Mve=function(a){a&1&&_.I(0,"cfc-iam-inheritance",17);a&2&&(a=_.N().rowData,_.C("resource",a.inheritedFrom))},Nve=function(a,b){a&1&&_.P(0,Mve,1,1,"cfc-iam-inheritance",16);a&2&&_.C("ngIf",b.rowData.inheritedFrom)},Ove=function(a){a&1&&(_.E(0,"div",19),_.I(1,"cfc-iam-edit-button-role-member",20)(2,"cfc-iam-remove-button-role-member",21),_.F());
if(a&2){a=_.N().rowData;const b=_.N(2);_.x(1);_.C("member",a)("resourceLabel",b.resourceLabel)("resource",b.resource)("conditionsDisabledTooltip",b.conditionsDisabledTooltip);_.x(1);_.C("member",a)("resource",b.resource)("oneOwner",b.oneOwner)}},Pve=function(a,b){a&1&&_.P(0,Ove,3,7,"div",18);a&2&&(a=b.rowData,b=_.N(2),_.C("ngIf",b.isRoleMemberNode(a)))},Rve=function(a){if(a&1){const b=_.Pc();_.E(0,"cfc-tree-grid",1);_.L("bulkActionRowsChanged",function(c){_.t(b);const d=_.N();return _.u(d.emitBulkActionRowsChanged(c))});
_.E(1,"cfc-tree-grid-column",2);_.P(2,Hve,2,2,"ng-template",3);_.F();_.E(3,"cfc-tree-grid-column",4);_.P(4,Lve,1,1,"ng-template",3);_.F();_.E(5,"cfc-tree-grid-column",5);_.P(6,Nve,1,1,"ng-template",3);_.F();_.E(7,"cfc-tree-grid-column",6);_.P(8,Pve,1,1,"ng-template",3);_.F()()}a&2&&(a=_.N(),_.C("primaryColumnId","displayName")("root",a.root)("columnsConfig",a.columnsConfig)("showSelectionControls",!0)("selectionMode",a.selectionMode)("sortKeys",_.Xd(15,Qve))("disableRowClick",!0)("depthIndent",0)("showFilter",
!0)("tableCaptionId",a.tableCaptionId)("fullBleedConfig",a.fullBleed?a.tableFullBleedConfig:a.DEFAULT_FULL_BLEED_CONFIG),_.x(1),_.C("nonHideable",!0),_.x(4),_.C("sortDisabled",!0),_.x(2),_.C("sortDisabled",!0)("noPadding",!0))},Sve=function(a){return!a.children.length},Tve=function(a){if(a&1){const b=_.Pc();_.E(0,"div",11)(1,"mat-checkbox",12);_.L("change",function(c){_.t(b);_.N().analyticsService.sendEvent({type:"iamCommon",name:"toggleShowGoogleManagedAccounts",metadata:{checked:c.checked}});return _.u()});
_.E(2,"span");_.K(3,13);_.F()();_.E(4,"cfc-help-button",14)(5,"span");_.K(6,15);_.F();_.E(7,"div",16)(8,"a",17);_.K(9,18);_.F()()()()}a&2&&(a=_.N(),_.x(1),_.C("formControl",a.showGoogleManagedAccounts))},Uve=function(a){if(a&1){const b=_.Pc();_.E(0,"cfc-iam-members-table",19);_.L("bulkActionRowsChanged",function(c){_.t(b);const d=_.N();return _.u(d.memberTableSelectedRows=c)})("listInsightGroupsErrorChanged",function(c){_.t(b);const d=_.N();return _.u(d.listInsightGroupsErrorChanged.emit(c))});_.Zd(1,
"async");_.F()}a&2&&(a=_.N(),_.C("fullBleed",a.fullBleed)("resource",a.resource)("tableCaptionId",a.tableCaptionId)("showGoogleManagedAccounts",!1===_.$d(1,8,a.shouldShowGoogleManagedFilter$)||a.showGoogleManagedAccounts.value)("selectionMode",a.selectionMode)("tableFilters",a.tableFilters)("impactMetric",a.impactMetric)("skipVisibilityChecks",a.skipVisibilityChecks))},Vve=function(a){if(a&1){const b=_.Pc();_.E(0,"cfc-iam-roles-table",21);_.L("bulkActionRowsChanged",function(c){_.t(b);const d=_.N(2);
return _.u(d.roleTableSelectedRows=c)});_.Zd(1,"async");_.F()}a&2&&(a=_.N(2),_.C("fullBleed",a.fullBleed)("canEdit",!0)("resource",a.resource)("roleData",a.roleData)("tableCaptionId",a.tableCaptionId)("showGoogleManagedAccounts",!1===_.$d(1,8,a.shouldShowGoogleManagedFilter$)||a.showGoogleManagedAccounts.value)("selectionMode",a.selectionMode)("conditionsDisabledTooltip",a.conditionsDisabledTooltip))},Wve=function(a){a&1&&(_.Dd(0),_.P(1,Vve,2,10,"cfc-iam-roles-table",20),_.Ed());a&2&&(a=_.N(),_.x(1),
_.C("ngIf","roles"===a.viewMode))},Xve=function(a){a&1&&(_.E(0,"mat-error"),_.Q(1),_.F());if(a&2){_.N();const b=_.Rd(3);_.x(1);_.Sd(" ",b.builtInErrorMessage," ")}},Yve=function(a){a&1&&(_.E(0,"mat-error"),_.Q(1),_.F());a&2&&(a=_.N(),_.x(1),_.Sd(" ",a.MSG_DATE_FIELD_HINT," "))},Zve=function(a){a&1&&(_.E(0,"mat-error"),_.K(1,15),_.F());a&2&&(a=_.N(),_.x(1),_.Kd(a.formattedMinCustomStartDatetime),_.Ld(1))},$ve=function(a){a&1&&(_.E(0,"mat-error"),_.Q(1),_.F());if(a&2){_.N();const b=_.Rd(14);_.x(1);
_.Sd(" ",b.builtInErrorMessage," ")}},awe=function(a){a&1&&(_.E(0,"mat-error"),_.Q(1),_.F());a&2&&(a=_.N(),_.x(1),_.Sd(" ",a.MSG_DATE_FIELD_HINT," "))},bwe=function(a){a&1&&(_.E(0,"mat-error"),_.Q(1),_.F());a&2&&(a=_.N(),_.x(1),_.Sd(" ",a.MSG_START_AFTER_END_ERROR," "))},cwe=function(a){a&1&&_.I(0,"ace-icon",9)},dwe=function(a,b){if(a&1){const c=_.Pc();_.E(0,"mat-button-toggle",6,7);_.L("keydown",function(d){const e=_.t(c).index,f=_.N();return _.u(f.onKeyDownButtonToggle(d,e))});_.P(2,cwe,1,0,"ace-icon",
8);_.Q(3);_.F()}if(a&2){a=b.$implicit;const c=_.Rd(1);b=_.N();_.C("value",a.isoDuration)("aria-label",a.label);_.x(2);_.C("ngIf",c.checked);_.x(1);_.Sd(" ",b.getLabel(a)," ")}},ewe=function(a){a&1&&_.I(0,"ace-icon",9)},gwe=function(a){if(a&1){const b=_.Pc();_.Dd(0);_.E(1,"button",10,11);_.L("click",function(){_.t(b);_.N().overlay.open();return _.u()})("keydown",function(c){_.t(b);const d=_.N();return _.u(d.onKeyDownButtonToggle(c,(d.isMenu?[]:d.fullModel).length))});_.P(3,ewe,1,0,"ace-icon",8);_.Q(4);
_.I(5,"ace-icon",12);_.F();_.Ed()}a&2&&(a=_.N(),_.x(1),_.Bd("cfc-interval-picker-custom-toggle-checked",a.customIntervalValue),_.zd("aria-pressed",!!a.customIntervalValue),_.x(2),_.C("ngIf",a.customIntervalValue),_.x(1),_.Sd(" ",fwe(a)," "))},hwe=function(a,b){if(a&1){const c=_.Pc();_.E(0,"cfc-menu-item",18);_.L("click",function(){const d=_.t(c).index,e=_.N(2);e.groupValue=e.fullModel[d].isoDuration;return _.u()});_.F()}a&2&&(a=b.$implicit,b=_.N(2),_.C("label",b.getLabel(a)))},iwe=function(a){if(a&
1){const b=_.Pc();_.E(0,"cfc-menu-section",19)(1,"cfc-menu-item",20,21);_.L("click",function(){_.t(b);_.N(2).overlay.open();return _.u()});_.F()()}},kwe=function(a){a&1&&(_.Dd(0),_.E(1,"button",13),_.K(2,14),_.F(),_.E(3,"cfc-menu",null,15)(5,"cfc-menu-section"),_.P(6,hwe,1,1,"cfc-menu-item",16),_.F(),_.P(7,iwe,3,0,"cfc-menu-section",17),_.F(),_.Ed());if(a&2){const b=_.Rd(4);a=_.N();_.x(1);_.C("cfcMenuTriggerFor",b);_.x(1);_.Kd(a.customIntervalValue?fwe(a):jwe(a));_.Ld(2);_.x(4);_.C("ngForOf",a.fullModel);
_.x(1);_.C("ngIf",a.showCustomIntervalOption)}},owe=function(a){if(a&1){const b=_.Pc();_.E(0,"cfc-interval-picker-custom-form",25);_.L("intervalSelected",function(c){_.t(b);const d=_.N(2);return _.u(lwe(d,c))});_.F()}a&2&&(a=_.N(2),_.C("initialInterval",mwe(a)?a.customIntervalValue:nwe(a.groupValue))("minStartDateTime",a.minCustomIntervalDateTime))},pwe=function(a){a&1&&(_.E(0,"ace-overlay",22,23),_.P(2,owe,1,2,"ng-template",24),_.F());a&2&&(a=_.N(),_.C("trigger",a.overlayTrigger)("positions",a.overlayPositions)("isModal",
!0))},qwe=function(a){a&1&&_.Fd(0)},rwe=function(a){a&1&&(_.E(0,"cfc-split-button",4),_.P(1,qwe,1,0,"ng-container",5),_.F());if(a&2){_.N();const b=_.Rd(3);a=_.N();_.C("menu",a.menuModel);_.x(1);_.C("ngTemplateOutlet",b)}},swe=function(a){if(a&1){const b=_.Pc();_.E(0,"button",6);_.L("click",function(){_.t(b);const c=_.N(2);return _.u(c.mainButton.dialogFunction())});_.Q(1);_.F()}a&2&&(a=_.N(2),_.C("ve",a.mainButton.ve)("veClick",!0)("color",a.buttonColor),_.zd("aria-label",a.mainButton.label),_.x(1),
_.Sd(" ",a.mainButton.label," "))},twe=function(a){a&1&&(_.E(0,"div",1),_.P(1,rwe,2,2,"cfc-split-button",2),_.P(2,swe,2,5,"ng-template",null,3,_.Te),_.F());if(a&2){const b=_.Rd(3);a=_.N();_.Bd("cfc-space-above-minus-1",a.addMargins)("cfc-space-below-minus-1",a.addMargins);_.x(1);_.C("ngIf",a.showMenu)("ngIfElse",b)}},uwe=function(a){var b=_.Sa(a);if("array"===b)return a.map(uwe);if("object"===b){b={};const c=Object.keys(a).sort();for(const d of c)b[d]=uwe(a[d]);return b}return a},vwe=function(a){a&
1&&_.I(0,"cfc-icon",11);a&2&&(a=_.N(),_.C("icon",a.config.icon))},wwe=function(a){a&1&&(_.E(0,"h4",12),_.Q(1),_.F());a&2&&(a=_.N(),_.x(1),_.Sd(" ",a.config.title," "))},xwe=function(a){a&1&&(_.E(0,"a",15),_.Q(1," Learn more "),_.F());a&2&&(a=_.N(2),_.C("cfcDocHref",a.config.helpButtonLearnMore))},ywe=function(a){a&1&&(_.E(0,"cfc-help-button",13),_.Q(1),_.P(2,xwe,2,1,"a",14),_.F());a&2&&(a=_.N(),_.x(1),_.Sd(" ",a.config.helpButtonText," "),_.x(1),_.C("ngIf",a.config.helpButtonLearnMore))},zwe=function(a){a&
1&&(_.E(0,"a",16),_.Q(1),_.F());a&2&&(a=_.N(),_.C("cfcRouterLink",a.link.build())("queryParams",a.link.buildQueryParams())("track-name",a.config.trackName)("track-type",a.config.trackType),_.x(1),_.Sd(" ",a.resourceName," "))},Awe=function(a){a&1&&(_.Dd(0),_.Q(1),_.Ed());a&2&&(a=_.N(),_.x(1),_.Sd(" ",a.resourceName," "))},Bwe=function(a){a&1&&(_.E(0,"div",17)(1,"span",18),_.Q(2),_.F(),_.Q(3,": "),_.E(4,"a",16),_.Q(5),_.F()());a&2&&(a=_.N(),_.x(2),_.Ud(a.config.title),_.x(2),_.C("cfcRouterLink",a.link.build())("queryParams",
a.link.buildQueryParams())("track-name",a.config.trackName)("track-type",a.config.trackType),_.x(1),_.Sd(" ",a.resourceName," "))},Cwe=function(a){const b=a.params;return`projects/${a.queryParams.project}/locations/${b.regionName}/functions/${b.resourceName}`},Dwe=function(a,b){a&1&&(_.E(0,"cfc-message",2)(1,"cfc-message-text"),_.Q(2),_.F()());a&2&&(a=b.$implicit,_.C("type",a.type),_.x(2),_.Sd(" ",a.message," "))},Fwe=function(a,b){a&1&&(_.E(0,"div")(1,"dt"),_.Q(2),_.F(),_.E(3,"dd"),_.I(4,"ace-icon",
7),_.Q(5),_.F()());a&2&&(a=b.$implicit,_.N(2),_.x(2),_.Sd(" ",a.name," "),_.x(2),_.C("icon",a.status),_.x(1),_.Sd(" ",a.message||Ewe[a.status]," "))},Gwe=function(a){a&1&&(_.E(0,"cfc-unfold",3)(1,"cfc-unfold-header",4),_.Q(2),_.F(),_.E(3,"cfc-unfold-hidden-content")(4,"dl",5),_.P(5,Fwe,6,3,"div",6),_.F()()());a&2&&(a=_.N(),_.C("unfolded",!0),_.x(1),_.C("headingLevel",2)("headingVisualLevel",4),_.x(1),_.Sd(" ",a.title," "),_.x(2),_.C("keyWidth",a.autoKeyWidth)("hidePinlines",!0),_.x(1),_.C("ngForOf",
a.statusDataArray))},Hwe=function(a){switch(a){case "COMPLETE":return"status-success";case "IN_PROGRESS":return"working";case "NOT_STARTED":return"pending";case "STATE_UNSPECIFIED":return"status-warning";default:return"status-warning"}},Iwe=function(a){switch(a){case "ARTIFACT_REGISTRY":return"Artifact registry";case "BUILD":return"Build";case "SERVICE":return"Service";case "TRIGGER":return"Trigger";case "SERVICE_ROLLBACK":return"Service rollback";case "TRIGGER_ROLLBACK":return"Trigger rollback";
default:return"Not specified"}},Jwe=function(a){switch(a){case "INFO":return"informational";case "WARNING":return"warning";case "ERROR":return"error";default:return"error"}},Lwe=function(a){a&1&&(_.E(0,"cfc-message",22)(1,"cfc-message-text"),_.Id(2,23),_.I(3,"pre",24),_.Jd(),_.F()());a&2&&(a=_.N(),_.x(3),_.Kd(Kwe(a.dataHolder)),_.Ld(2))},Mwe=function(a){a&1&&(_.E(0,"div")(1,"dt"),_.K(2,25),_.F(),_.E(3,"dd")(4,"a",26),_.Q(5),_.F()()());a&2&&(a=_.N(),_.x(4),_.C("cfcRouterLink",a.serviceAccountsUrl),
_.x(1),_.Sd(" ",a.model.serviceAccount," "))},Nwe=function(a){a&1&&(_.E(0,"div")(1,"dt"),_.K(2,27),_.F(),_.E(3,"dd"),_.Q(4),_.Zd(5,"placeholder"),_.F()());a&2&&(a=_.N(),_.x(4),_.Sd(" ",_.$d(5,1,a.nullify(a.model.buildWorkerPool))," "))},Owe=function(a){a&1&&(_.E(0,"div")(1,"dt"),_.K(2,28),_.F(),_.E(3,"dd")(4,"a",26),_.Q(5),_.F()()());if(a&2){a=_.N();_.x(4);var b=a.model;var c=_.CQc.create();b=`resource.type="build"
resource.labels.build_id="${b.buildId}"
logName="projects/${b.projectId}/logs/cloudbuild"`;const d={end:(new Date).toISOString()};c=c.link().set(c.query,b).set(c.timeRange,d).build();_.C("cfcRouterLink",c);_.x(1);_.Ud(a.model.buildId)}},Pwe=function(a){a&1&&(_.Dd(0),_.K(1,29),_.Ed())},Qwe=function(a){a&1&&(_.Dd(0),_.K(1,30),_.Ed())},Rwe=function(a){a&1&&(_.Dd(0),_.K(1,31),_.Ed())},Swe=function(a){a&1&&(_.Dd(0),_.Q(1),_.Zd(2,"placeholder"),_.Ed());a&2&&(_.x(1),_.Sd(" ",_.$d(2,1)," "))},Twe=function(a){a&1&&(_.Dd(0),_.K(1,32),_.Ed())},Uwe=
function(a){a&1&&(_.Dd(0),_.K(1,33),_.Ed())},Vwe=function(a){a&1&&(_.Dd(0),_.Q(1),_.Zd(2,"placeholder"),_.Ed());a&2&&(_.x(1),_.Sd(" ",_.$d(2,1)," "))},Wwe=function(a){a&1&&(_.E(0,"dd")(1,"a",26),_.Q(2),_.F()());a&2&&(a=_.N(2),_.x(1),_.C("cfcRouterLink",a.dockerRepositoryLink),_.x(1),_.Ud(a.dockerRepositoryShortName))},Xwe=function(a){a&1&&(_.E(0,"dd"),_.Q(1),_.Zd(2,"placeholder"),_.F());a&2&&(_.x(1),_.Sd(" ",_.$d(2,1)," "))},Ywe=function(a){a&1&&(_.E(0,"mat-card")(1,"mat-card-title"),_.K(2,34),_.F(),
_.E(3,"mat-card-content")(4,"strong"),_.K(5,35),_.F(),_.E(6,"dl",36)(7,"div")(8,"dt"),_.K(9,37),_.F(),_.E(10,"dd")(11,"a",26),_.Q(12),_.F()()(),_.E(13,"div")(14,"dt"),_.K(15,38),_.F(),_.P(16,Wwe,3,2,"dd",12),_.P(17,Xwe,3,3,"dd",12),_.F()()()());a&2&&(a=_.N(),_.x(6),_.C("hidePinlines",!0),_.x(5),_.C("cfcRouterLink",a.kmsKeyLink),_.x(1),_.Ud(a.model.kmsKeyName),_.x(4),_.C("ngIf",a.model.dockerRepositoryName),_.x(1),_.C("ngIf",!a.model.dockerRepositoryName))},Zwe=function(a){if(a&1){const b=_.Pc();_.E(0,
"gce-rest-gcloud",39);_.L("onInit",function(c){_.t(b);const d=_.N();return _.u(d.restGcloudDialog=c)});_.F()}a&2&&(a=_.N(),_.C("addMargins",!0)("showGcloud",!1)("isRestRequest",!1)("showRestDialog",a.showRestDialog.bind(a)))},$we=function(a){a=a.getBoundingClientRect();return{top:a.top,right:a.right,bottom:a.bottom,left:a.left,width:a.width,height:a.height,x:a.x,y:a.y}},axe=function(a,b,c){const d=a.bottom,e=a.left,f=a.right;return c>=a.top&&c<=d&&b>=e&&b<=f},bxe=function(a,b,c){a.top+=b;a.bottom=
a.top+a.height;a.left+=c;a.right=a.left+a.width},cxe=function(a,b,c){const d=a.right,e=a.bottom,f=a.left,g=.05*a.width,h=.05*a.height;return c>a.top-h&&c<e+h&&b>f-g&&b<d+g},gxe=function(a){const b=a.cloneNode(!0),c=b.querySelectorAll("[id]"),d=a.nodeName.toLowerCase();b.removeAttribute("id");for(let e=0;e<c.length;e++)c[e].removeAttribute("id");"canvas"===d?dxe(a,b):("input"===d||"select"===d||"textarea"===d)&&exe(a,b);fxe("canvas",a,b,dxe);fxe("input, textarea, select",a,b,exe);return b},fxe=function(a,
b,c,d){b=b.querySelectorAll(a);if(b.length)for(a=c.querySelectorAll(a),c=0;c<b.length;c++)d(b[c],a[c])},exe=function(a,b){"file"!==b.type&&(b.value=a.value);"radio"===b.type&&b.name&&(b.name=`mat-clone-${b.name}-${hxe++}`)},dxe=function(a,b){if(b=b.getContext("2d"))try{b.drawImage(a,0,0)}catch(c){}},ixe=function(a,b,c){for(let d in b)if(b.hasOwnProperty(d)){const e=b[d];if(e){let f;a.setProperty(d,e,(null==(f=c)?0:f.has(d))?"important":"")}else a.removeProperty(d)}},jxe=function(a,b){const c=b?"":
"none";ixe(a.style,{"touch-action":b?"":"none","-webkit-user-drag":b?"":"none","-webkit-tap-highlight-color":b?"":"transparent","user-select":c,"-ms-user-select":c,"-webkit-user-select":c,"-moz-user-select":c})},lxe=function(a,b){ixe(a.style,{position:b?"":"fixed",top:b?"":"0",opacity:b?"":"0",left:b?"":"-999em"},kxe)},mxe=function(a,b){return b&&"none"!=b?a+" "+b:a},nxe=function(a){const b=-1<a.toLowerCase().indexOf("ms")?1:1E3;return parseFloat(a)*b},pxe=function(a){a=getComputedStyle(a);var b=
oxe(a,"transition-property"),c=b.find(d=>"transform"===d||"all"===d);if(!c)return 0;b=b.indexOf(c);c=oxe(a,"transition-duration");a=oxe(a,"transition-delay");return nxe(c[b])+nxe(a[b])},oxe=function(a,b){return a.getPropertyValue(b).split(",").map(c=>c.trim())},qxe=function(a,b){return`translate3d(${Math.round(a)}px, ${Math.round(b)}px, 0)`},rxe=function(a){return"t"===a.type[0]},sxe=function(a,b){a=a.rootNodes;if(1===a.length&&a[0].nodeType===b.ELEMENT_NODE)return a[0];const c=b.createElement("div");
a.forEach(d=>c.appendChild(d));return c},txe=function(a,b){a.style.width=`${b.width}px`;a.style.height=`${b.height}px`;a.style.transform=qxe(b.left,b.top)},uxe=function(a,b,c){b=Math.max(0,Math.min(a.length-1,b));c=Math.max(0,Math.min(a.length-1,c));if(b!==c){for(var d=a[b],e=c<b?-1:1;b!==c;b+=e)a[b]=a[b+e];a[c]=d}},vxe=function(a,b){const c=a.top,d=a.bottom;a=.05*a.height;return b>=c-a&&b<=c+a?1:b>=d-a&&b<=d+a?2:0},wxe=function(a,b){const c=a.left,d=a.right;a=.05*a.width;return b>=c-a&&b<=c+a?1:
b>=d-a&&b<=d+a?2:0},xxe=function(a,b){a&1&&(_.E(0,"mat-option",10)(1,"div",11),_.Q(2),_.I(3,"ace-icon",12),_.F()());a&2&&(a=b.$implicit,_.C("value",a.id),_.x(2),_.Sd(" ",a.name," "))},zxe=function(a){if(a&1){const b=_.Pc();_.E(0,"div",8);_.L("cdkDropListDropped",function(c){_.t(b);const d=_.N(2);return _.u(d.drop(c))});_.P(1,xxe,4,2,"mat-option",9);_.F()}a&2&&(a=_.N(2),_.x(1),_.C("ngForOf",yxe(a)))},Axe=function(a,b){a&1&&(_.E(0,"mat-option",14),_.Q(1),_.F());a&2&&(a=b.$implicit,_.C("value",a.id),
_.x(1),_.Sd(" ",a.name," "))},Bxe=function(a){a&1&&_.P(0,Axe,2,2,"mat-option",13);a&2&&(a=_.N(2),_.C("ngForOf",yxe(a)))},Dxe=function(a){if(a&1){const b=_.Pc();_.E(0,"mat-form-field",4)(1,"cfc-select",5);_.L("ngModelChange",function(c){_.t(b);const d=_.N();return _.u(d.visibleItemIds=c)})("change",function(){_.t(b);var c=_.N();if(c.id){var d=Cxe(c),e={};for(const f of c.items)e[f.id]=c.visibleItemIds.includes(f.id);c.basicTypesService.update({key:d,value:{protoVal:{"@type":"type.googleapis.com/google.internal.cloud.usersettings.settings.cloudworkflows.ServerlessDashboardConfiguration",
ordered_items:c.orderedItemIds,visibility:e}}})}return _.u()});_.P(2,zxe,2,1,"div",6);_.P(3,Bxe,1,1,"ng-template",null,7,_.Te);_.F()()}if(a&2){const b=_.Rd(4);a=_.N();_.x(1);_.C("multiple",!0)("hasOkCancelButtons",!0)("hasSelectAllNoneCheckbox",!0)("requireSelection",!0)("triggerBuilder",a.triggerBuilder)("ngModel",a.visibleItemIds);_.x(1);_.C("ngIf",a.reorderingEnabled)("ngIfElse",b)}},Exe=function(){},Fxe=function(a){a&1&&(_.E(0,"div",16),_.P(1,Exe,0,0,"ng-template",17),_.F());a&2&&(a=_.N().$implicit,
_.C("ngClass","dashboard-item dashboard-item-colspan-"+a.colSpan),_.x(1),_.C("ngTemplateOutlet",a.template))},Gxe=function(a,b){a&1&&(_.Dd(0),_.P(1,Fxe,2,2,"div",15),_.Ed());a&2&&(a=b.$implicit,b=_.N(),_.x(1),_.C("ngIf",b.visibleItemIds.includes(a.id)))},Ixe=function(a){if(a&1){const b=_.Pc();_.E(0,"cfc-message",4)(1,"cfc-message-text");_.K(2,5);_.F();_.E(3,"cfc-message-actions")(4,"button",6);_.L("click",function(){_.t(b);var c=_.N(),d=Hxe.create();d=d.link().set(d.region,c.model.region).set(d.name,
c.model.name).build();c.router.navigate(d,{queryParams:{env:_.PPc(c.model.getProductVersion())}});return _.u()});_.K(5,7);_.F()()()}},Jxe=function(a){a&1&&(_.E(0,"cfc-chart-card",8)(1,"h3",9),_.K(2,10),_.F()());a&2&&(a=_.N(),_.C("config",a.invocationCountChart)("colaEnabled",!0)("exportCSVEnabled",!0))},Kxe=function(a){a&1&&(_.E(0,"cfc-chart-card",8)(1,"h3",9),_.K(2,11),_.F(),_.E(3,"p",12),_.K(4,13),_.F()());a&2&&(a=_.N(),_.C("config",a.executionTimeChart)("colaEnabled",!0)("exportCSVEnabled",!0))},
Lxe=function(a){a&1&&(_.E(0,"cfc-chart-card",8)(1,"h3",9),_.K(2,14),_.F(),_.E(3,"p",12),_.K(4,15),_.F()());a&2&&(a=_.N(),_.C("config",a.memoryUtilizationChart)("colaEnabled",!0)("exportCSVEnabled",!0))},Mxe=function(a){a&1&&(_.E(0,"cfc-chart-card",8)(1,"h3",9),_.K(2,16),_.F(),_.E(3,"p",12),_.Q(4,"\u00a0"),_.F()());a&2&&(a=_.N(),_.C("config",a.activeInstancesChart)("colaEnabled",!0)("exportCSVEnabled",!0))},Nxe=function(a){a&1&&(_.E(0,"cfc-message",5)(1,"cfc-message-text"),_.Q(2),_.F()());a&2&&(a=
_.N(),_.x(2),_.Ud(null==a.crashData?null:a.crashData.crashErrorGroupFailure))},Oxe=function(a){a&1&&_.I(0,"cfc-badge",11);a&2&&(a=_.N(),_.C("type",a.getRuntimeLaunchState(a.model.runtime)))},Pxe=function(a){a&1&&(_.E(0,"span",12)(1,"span",2),_.K(2,13),_.F(),_.Q(3," : "),_.E(4,"a",14),_.Q(5),_.F()());a&2&&(a=_.N(),_.x(4),_.C("storageObjectLink",a.model.gcsSourcePath),_.x(1),_.Ud(a.model.gcsSourcePath))},Qxe=function(a){a&1&&(_.E(0,"a",15),_.I(1,"cfc-icon",16),_.Dd(2),_.K(3,17),_.Ed(),_.F());a&2&&(a=
_.N(),_.C("cfc-external-link",a.model.downloadHref)("isInternal",!0)("cfcIamResource",a.iamResource))},Rxe=function(a){a&1&&_.I(0,"gcf-source-errors",18);a&2&&(a=_.N(),_.C("inlineStatus",a.model.inlineStatus))},Sxe=function(a){let b;const c=null==(b=a.triggerV2)?void 0:b.eventType;if(_.lY(c)){let d,e,f,g;return`//storage.googleapis.com/projects/_/buckets/${null!=(g=null==(d=a.triggerV2)?void 0:null==(e=d.eventFilters)?void 0:null==(f=e.find(h=>"bucket"===h.attribute))?void 0:f.value)?g:"BUCKET_NAME"}"`}if(_.M3c(c)){let d,
e;return`//pubsub.googleapis.com/${null!=(e=null==(d=a.triggerV2)?void 0:d.pubsubTopic)?e:"TOPIC_NAME"}"`}if(_.nY(c))return`//cloudaudit.googleapis.com/projects/${a.projectId}`+'/logs/data_access"'},Txe=function(a){a&1&&(_.E(0,"span"),_.K(1,24),_.F())},Uxe=function(a){a&1&&(_.E(0,"span"),_.K(1,25),_.F())},Vxe=function(a){a&1&&(_.Dd(0),_.E(1,"cfc-message",21)(2,"cfc-message-text"),_.P(3,Txe,2,0,"span",22),_.P(4,Uxe,2,0,"span",23),_.F()(),_.Ed());a&2&&(a=_.N(),_.x(1),_.C("ngSwitch",a.model.status),
_.x(2),_.C("ngSwitchCase","DEPLOYING"))},Wxe=function(a){a&1&&_.I(0,"gcf-tab-testing-curl-command",26);if(a&2){a=_.N();const b=_.Rd(11);let c;_.C("model",a.model)("testDataModel",a.testDataModel)("isTestDataValid",null!==(c=b.valid)&&void 0!==c?c:!1)}},Xxe=function(a){a&1&&(_.Dd(0),_.I(1,"cfc-icon",36),_.E(2,"span",37),_.K(3,38),_.F(),_.Ed())},Yxe=function(a){a&1&&(_.Dd(0),_.I(1,"cfc-icon",39),_.E(2,"span",37),_.K(3,40),_.F(),_.Ed())},Zxe=function(a){a&1&&(_.Dd(0),_.I(1,"cfc-icon",41),_.E(2,"span",
37),_.K(3,42),_.F(),_.Ed())},$xe=function(a){a&1&&(_.Dd(0),_.I(1,"cfc-icon",36),_.E(2,"span",37),_.K(3,43),_.F(),_.Ed())},aye=function(a){a&1&&(_.Dd(0),_.I(1,"cfc-icon",44),_.E(2,"span",37),_.K(3,45),_.F(),_.Ed())},bye=function(a){a&1&&(_.Dd(0),_.I(1,"cfc-icon",36),_.E(2,"span",37),_.K(3,46),_.F(),_.I(4,"mat-progress-bar",47),_.Ed())},cye=function(a){a&1&&(_.E(0,"a",50),_.K(1,51),_.F());a&2&&(a=_.N(3),_.C("cfcRouterLink",a.lastExecution.logsUrl.build())("queryParams",a.lastExecution.logsUrl.buildQueryParams()))},
dye=function(a){a&1&&(_.Dd(0),_.I(1,"cfc-icon",39),_.E(2,"span",37),_.K(3,48),_.F(),_.P(4,cye,2,2,"a",49),_.Ed());a&2&&(a=_.N(2),_.x(3),_.Kd(a.LOG_LIMIT),_.Ld(3),_.x(1),_.C("ngIf",a.lastExecution.logsUrl))},eye=function(a){a&1&&_.I(0,"logs-viewer",52);a&2&&(a=_.N(2),_.C("resourceNames",a.logsViewerProjectIds)("filter",a.lastExecution.logsFilter)("pageSize",a.LOG_LIMIT))},fye=function(a){a&1&&(_.Dd(0),_.E(1,"div",27)(2,"div",28)(3,"cfc-form-label",29),_.Dd(4),_.K(5,30),_.Ed(),_.P(6,Xxe,4,0,"ng-container",
0),_.P(7,Yxe,4,0,"ng-container",0),_.F()(),_.E(8,"pre",31),_.Q(9),_.F(),_.E(10,"cfc-form-label",32),_.Dd(11),_.K(12,33),_.Ed(),_.Dd(13,34),_.P(14,Zxe,4,0,"ng-container",23),_.P(15,$xe,4,0,"ng-container",22),_.P(16,aye,4,0,"ng-container",22),_.P(17,bye,5,0,"ng-container",22),_.P(18,dye,5,2,"ng-container",22),_.Ed(),_.F()(),_.P(19,eye,1,3,"logs-viewer",35),_.Ed());if(a&2){const b=_.N();_.x(6);_.C("ngIf","RUNNING"==b.lastExecution.state);_.x(1);_.C("ngIf","FINISHED"==b.lastExecution.state);_.x(2);_.Sd("      ",
null==b.lastExecution.result?null:b.lastExecution.result.result,"\n    ");_.x(4);a=b.lastExecution;_.C("ngSwitch","NOT_RUN"===a.state?"TEST_NOT_RUN":"RUNNING"===a.state?"WAITING_TO_FINISH":a.logEntries.length?"HAVE_RESULTS":a.logPolling?"POLLING_NO_RESULTS":"LOGS_UNAVAILABLE");_.x(2);_.C("ngSwitchCase","WAITING_TO_FINISH");_.x(1);_.C("ngSwitchCase","LOGS_UNAVAILABLE");_.x(1);_.C("ngSwitchCase","POLLING_NO_RESULTS");_.x(1);_.C("ngSwitchCase","HAVE_RESULTS");_.x(1);_.C("ngIf",null==b.lastExecution.logEntries?
null:b.lastExecution.logEntries.length)}},gye=function(a){a&1&&_.I(0,"gcf-tab-testing-v1",2);a&2&&(a=_.N(),_.C("model",a.model))},hye=function(a){a&1&&_.I(0,"gcf-tab-testing-v2",3);a&2&&(a=_.N(),_.C("model",a.model))},iye=function(a){a&1&&_.I(0,"gcf-trigger-card",3);a&2&&(a=_.N(),_.C("type",a.cardTypes.DETAILS)("mode",a.cardModes.VIEW)("model",a.model)("activeFunctionUrl",a.activeFunctionUrl))},jye=function(a){a&1&&_.I(0,"gcf-trigger-v2-main",7);a&2&&(a=_.N(2),_.C("mode",a.triggerV2Mode)("model",
a.model))},kye=function(a){a&1&&(_.E(0,"div",4),_.I(1,"gcf-trigger-v2-https",5),_.P(2,jye,1,2,"gcf-trigger-v2-main",6),_.F());a&2&&(a=_.N(),_.x(1),_.C("deployedHttpUrl",a.model.deployedUrl)("mode",a.triggerV2Mode),_.x(1),_.C("ngIf",a.isMainV2TriggerAvailable))},lye=function(a){a&1&&(_.E(0,"span")(1,"p"),_.K(2,2),_.F()())},nye=function(a){a&1&&(_.Dd(0),_.E(1,"div",3),_.K(2,4),_.F(),_.Fd(3,5),_.Ed());if(a&2){a=_.N();const b=_.Rd(4);_.x(3);_.C("ngTemplateOutlet",b)("ngTemplateOutletContext",_.Yd(2,mye,
a.mountedSummaries))}},pye=function(a){a&1&&(_.Dd(0),_.E(1,"div",3),_.K(2,6),_.F(),_.Fd(3,5),_.Ed());if(a&2){a=_.N();const b=_.Rd(4);_.x(3);_.C("ngTemplateOutlet",b)("ngTemplateOutletContext",_.Yd(2,oye,a.envSummaries))}},qye=function(a){a&1&&(_.E(0,"span"),_.Q(1),_.F());a&2&&(a=_.N().$implicit,_.x(1),_.Sd(":",a.key,""))},rye=function(a,b){a&1&&(_.E(0,"div",9)(1,"dt")(2,"code")(3,"pre"),_.Q(4),_.F()()(),_.E(5,"dd")(6,"code")(7,"a",10),_.Q(8),_.F(),_.P(9,qye,2,1,"span",0),_.F()()());a&2&&(a=b.$implicit,
_.x(4),_.Ud(a.source),_.x(3),_.C("cfcRouterLink",a.link)("queryParams",a.linkQueryCommands),_.x(1),_.Ud(a.name),_.x(1),_.C("ngIf",a.key))},sye=function(a,b){a&1&&(_.E(0,"dl",7),_.P(1,rye,10,5,"div",8),_.F());a&2&&(a=b.summaries,_.C("id",b.id),_.x(1),_.C("ngForOf",a))},tye=function(a){a&1&&(_.E(0,"mat-card",10)(1,"mat-card-title",2),_.K(2,11),_.F(),_.E(3,"mat-card-content",4),_.I(4,"gse-config-summaries-list",12),_.F()());a&2&&(a=_.N(),_.x(4),_.C("configs",a.attachedSecrets))},uye=function(a,b){a&
1&&(_.Dd(0),_.E(1,"div")(2,"dt")(3,"pre"),_.Q(4),_.F()(),_.E(5,"dd")(6,"pre"),_.Q(7),_.F()()(),_.Ed());a&2&&(a=b.$implicit,_.x(4),_.Ud(a.name),_.x(3),_.Ud(a.value))},vye=function(a){a&1&&(_.E(0,"dl",15),_.P(1,uye,8,2,"ng-container",16),_.F());a&2&&(a=_.N().variables,_.x(1),_.C("ngForOf",a))},wye=function(a){a&1&&(_.E(0,"span"),_.K(1,17),_.F())},xye=function(a,b){a&1&&(_.P(0,vye,2,1,"dl",13),_.P(1,wye,2,0,"span",14));a&2&&(a=b.variables,_.C("ngIf",a.length),_.x(1),_.C("ngIf",!a.length))},yye=function(a){a&
1&&_.I(0,"gcf-traffic-warning",39);a&2&&(a=_.N(),_.C("mode",a.trafficWarningMode)("cloudRunServiceName",a.cloudRunServiceName)("deployedAllTrafficOnLatestRevision",a.model.deployedAllTrafficOnLatestRevision)("region",a.model.region))},zye=function(a){a&1&&(_.Dd(0),_.I(1,"s8s-deployment-progress-tracker",40),_.Ed());a&2&&(a=_.N(),_.x(1),_.Bd("cfc-space-above-plus-1",a.model.deployedAllTrafficOnLatestRevision),_.C("statusMessages",a.postDeploymentsMessages)("statusDataArray",a.statusData))},Aye=function(a){a&
1&&_.I(0,"hr",30)},Bye=function(a){a&1&&(_.E(0,"mat-chip",41),_.K(1,42),_.F())},Cye=function(a){a&1&&(_.E(0,"mat-chip",41),_.K(1,43),_.F())},Dye=function(a,b){a&1&&(_.E(0,"mat-option",49),_.Q(1),_.E(2,"div",50),_.Q(3),_.F()());a&2&&(a=b.$implicit,_.C("value",a.revision),_.x(1),_.Sd(" ",a.description," "),_.x(2),_.Sd(" ",a.note," "))},Eye=function(a){a&1&&(_.Q(0),_.E(1,"span",51),_.Q(2),_.F());a&2&&(a=_.N(2),_.Sd(" ",null==a.selectedRevisionInfo?null:a.selectedRevisionInfo.description," "),_.x(2),
_.Sd(" ",null==a.selectedRevisionInfo?null:a.selectedRevisionInfo.note," "))},Gye=function(a){if(a&1){const b=_.Pc();_.E(0,"mat-form-field",44)(1,"mat-label");_.K(2,45);_.F();_.E(3,"cfc-select",46);_.L("ngModelChange",function(c){_.t(b);const d=_.N();return _.u(d.selectedRevision=c)})("ngModelChange",function(c){_.t(b);const d=_.N();r6(d.dataHolder,c);return _.u()});_.P(4,Dye,4,3,"mat-option",47);_.P(5,Eye,3,2,"ng-template",null,48,_.Te);_.F()()}a&2&&(a=_.N(),_.x(3),_.C("ngModel",a.selectedRevision)("ngModelOptions",
_.Xd(3,Fye)),_.x(1),_.C("ngForOf",a.revisions))},Hye=function(a){a&1&&(_.E(0,"span",52),_.Q(1),_.F());a&2&&(a=_.N(),_.x(1),_.Sd(" (",null==a.selectedRevisionInfo?null:a.selectedRevisionInfo.description,") "))},Iye=function(a){a&1&&(_.E(0,"span",53)(1,"span",54),_.K(2,55),_.F(),_.Q(3,": "),_.E(4,"a",56),_.jW(5,57),_.F(),_.I(6,"cfc-easy-copy",58),_.E(7,"cfc-help-button",59),_.K(8,60),_.F()());a&2&&(a=_.N(),_.x(4),_.Kd(a.v2DeployedUrl),_.Ld(5),_.fv("cfc-external-link",a.v2DeployedUrl),_.x(2),_.C("copyText",
a.v2DeployedUrl)("alwaysShowCopyButton",!0))},Jye=function(a){a&1&&_.I(0,"s8s-badge",61);a&2&&(a=_.N(),_.C("badgeType",a.s8sBadgeType)("linkDisabled",a.cloudRunLinkDisabled)("resourceName",a.cloudRunServiceName)("region",a.model.region))},Kye=function(a){a&1&&_.I(0,"gcf-tab-metrics",62);a&2&&(a=_.N(),_.C("model",a.model)("crashData",a.crashData))},Lye=function(a){a&1&&(_.E(0,"cfc-help-button",65),_.K(1,66),_.F())},Mye=function(a){a&1&&(_.E(0,"span"),_.K(1,63),_.F(),_.P(2,Lye,2,0,"cfc-help-button",
64));a&2&&(a=_.N(),_.x(2),_.C("ngIf",a.isInvalidV2Function))},Nye=function(a){a&1&&_.I(0,"gcf-tab-details",67);a&2&&(a=_.N(),_.C("dataHolder",a.dataHolder))},Oye=function(a){a&1&&(_.E(0,"div",68),_.I(1,"gcf-tab-source",69),_.F());a&2&&(a=_.N(),_.x(1),_.C("model",a.model))},Pye=function(a){a&1&&(_.E(0,"cfc-help-button",72),_.K(1,73),_.F())},Qye=function(a){a&1&&(_.E(0,"span"),_.K(1,70),_.F(),_.P(2,Pye,2,0,"cfc-help-button",71));a&2&&(a=_.N(),_.x(2),_.C("ngIf",a.isInvalidV2Function))},Rye=function(a){a&
1&&_.I(0,"gcf-tab-variables",69);a&2&&(a=_.N(),_.C("model",a.model))},Sye=function(a){a&1&&(_.E(0,"cfc-help-button",76),_.K(1,77),_.F())},Tye=function(a){a&1&&(_.E(0,"span"),_.K(1,74),_.F(),_.P(2,Sye,2,0,"cfc-help-button",75));a&2&&(a=_.N(),_.x(2),_.C("ngIf",a.isInvalidV2Function))},Uye=function(a){a&1&&_.I(0,"gcf-tab-triggers",78);a&2&&(a=_.N(),_.C("model",a.model)("activeFunctionUrl",a.activeFunctionUrl))},Vye=function(a){a&1&&(_.E(0,"cfc-help-button",81),_.K(1,82),_.F())},Wye=function(a){a&1&&
(_.E(0,"span"),_.K(1,79),_.F(),_.P(2,Vye,2,0,"cfc-help-button",80));a&2&&(a=_.N(),_.x(2),_.C("ngIf",a.isInvalidV2Function))},Xye=function(a){a&1&&_.I(0,"gcf-tab-permissions",69);a&2&&(a=_.N(),_.C("model",a.model))},Yye=function(a){a&1&&(_.E(0,"cfc-help-button",85),_.K(1,86),_.F())},Zye=function(a){a&1&&(_.E(0,"span"),_.K(1,83),_.F(),_.P(2,Yye,2,0,"cfc-help-button",84));a&2&&(a=_.N(),_.x(2),_.C("ngIf",a.isInvalidV2Function))},$ye=function(a){a&1&&(_.E(0,"div",68),_.I(1,"gcf-tab-logs",69),_.F());a&
2&&(a=_.N(),_.x(1),_.C("model",a.model))},aze=function(a){a&1&&_.I(0,"gcf-tab-testing",69);a&2&&(a=_.N(),_.C("model",a.model))},bze=function(a,b){return a.queryParams.project!==b.queryParams.project},cze=function(a){a._allowedModifierKeys=["shiftKey"];return a},dze=function(a,b){var c=b.getResourceType();const d=_.Yh(b.getResourceId(),c),e=0!==c||_.Of("DisableVisibilityHint__enabled")?void 0:b.getResourceId();c=_.S(0===c||2===c);return _.ye([a.listRolesCache.get({projectVisibilityHint:e}),c.pipe(_.zf(f=>
f?a.listRolesCache.get({name:d}):_.S([]))),_.sIb(a,b.getResourceType())]).pipe(_.U(([f,g,h])=>{_.vIb(f,h,!1,!1);return f.concat(g)}))},eze=function(a,b){const c=b.getFullResourcePath()||"";return _.ye([a.permissionsCache.get({fullResourceName:c}),dze(a,b)]).pipe(_.U(([d,e])=>{e=e.reduce((l,n)=>l.concat(n.includedPermissions||[]),[]);_.za(e);const f=new Set(d.map(l=>l.name));e=e.filter(l=>!f.has(l));const g=r9d(d),h=s9d(d);d=d.filter(l=>"DEPRECATED"===l.stage).map(l=>l.name);return{notSupported:g,
notApplicable:e,testing:h,deprecated:d}}))},fze=function(a,b){b=b.getFullResourcePath()||"";return a.permissionsCache.get({fullResourceName:b}).pipe(_.U(c=>c.filter(d=>!d.onlyInPredefinedRoles&&"NOT_SUPPORTED"!==d.customRolesSupportLevel).filter(d=>!!d.name).map(d=>d.name)))},gze=function(a,b){let c=a=a.replace(/[^0-9a-z._]/gi,"").substring(0,30),d=0;for(;b.some(e=>void 0!==e.name&&e.name.includes(`roles/${c}`))&&1E4>d;)c=a.substring(0,26),c+=Math.floor(1E3*Math.random()),d++;return c},hze=function(a,
b,c){return _.I_b(a,b,c)},ize=function(a,b){return _.is(a.$apiClient,{body:b,httpMethod:"POST",methodId:"people_pa.people.batchLookup",path:`/${a.gapiVersion}/people:batchLookup`,queryParams:_.di({},_.qJ,{})})},jze=["ACCOUNT","PROFILE","GOOGLE_GROUP","DOMAIN_PROFILE"],kze=function(a,b){for(const c of a)b.has(c)||b.set(c,null)},lze=function(a,b){return ize(a.peopleApiClient,{id:b,type:"EMAIL",requestMask:{includeContainer:jze}}).pipe(_.U(c=>{if(!c.matches||!c.people){var d=new Map;kze(b,d);return d}d=
c.matches.filter(e=>{e=c.people[e.personId[0]];return!!e&&!!e.name&&!!e.name.length}).map(e=>[e.lookupId,c.people[e.personId[0]].name[0].displayName]);d=new Map(d);kze(b,d);return d}))},mze=function(a,b){const c=_.Unc(a,b);a.originalString_=b+a.originalString_;a.parsed.unshift.apply(a.parsed,c)},nze=function(a,b,c,d){var e=_.hO;let f="";const g=(h,l)=>{l&&(f&&(f+=" "),f+=h+'="'+l+'"')};g("project",a.project);g("resource.type",a.resourceType);g("metric.type",a.metricType);a={};e.attachDescriptorRequest({filter:f,
projectId:c},a,b,d);e.finishBatch(a)},oze=function(a){var b=_.FP;b.eventWrapper(()=>{document.addEventListener("visibilitychange",()=>{b.eventRegistry_.trigger("global:visibilitychange",window.event)});b.eventRegistry_.on("global:visibilitychange",a)})},pze=function(a,b){return a.config.request("CallFunctionV1",'mutation CallFunctionV1($name: String!, $testData: String!) @Signature(bytes: "1/9rHkjQsZqc") {\n  callFunctionV1(name: $name, testData: $testData) {\n    name\n  }\n}',b,void 0)},qze=function(a,
b){let c,d,e,f,g;const h=(null==(c=b.operation)?0:null==(d=c.customErrors)?0:d.find(n=>"CALL_FUNCTION_DEADLINE"===(null==n?void 0:n.reason)))?"Function being tested has exceeded the 5 minutes timeout imposed by the Cloud Functions testing utility.":null!=(g=null==(e=b.operation)?void 0:null==(f=e.error)?void 0:f.causeErrorMessage)?g:"An unknown error has occurred while testing a function.";let l;_.qV(a,{error:null!=(l=b.operation.error)?l:{},message:h});return _.ie(b)},rze=function(a,b,c){b=pze(a.graphqlClient,
{name:b.fullName,testData:c}).pipe(_.U(d=>d.callFunctionV1.name),_.Vq(a.operationsService));return _.RR(b.pipe(_.Ue(d=>qze(a,d))))},sze=function(a){return"DEPLOYING"===a.status||"DELETING"===a.status},tze=function(a,b){const c={};c.productVersion=b;a.analyticsService.sendEvent({type:"functionsDetails",name:"requestedProductVersion",metadata:c})},uze={setting:"GCF_TESTING_TAB_VISITED_SECOND_GEN"},vze=function(a){return a.basicTypesService.get(uze).pipe(_.U(b=>{let c,d;return!(null!=(d=null==(c=b.value)?
void 0:c.boolVal)&&d)}),_.Ue(()=>_.S(!0)))},wze=_.qb(function(a,b,c){if(1!==a.nextWireType_&&2!==a.nextWireType_)return!1;b=_.Za(b,c);if(2==a.nextWireType_){c=a.decoder_;var d=_.oj(a.decoder_)/8;a=c.cursor_;d*=8;if(a+d>c.end_)throw Error("D`"+(c.end_-a)+"`"+d);const e=c.bytes_;a+=e.byteOffset;c.cursor_+=d;c=new DataView(e.buffer,a,d);for(a=0;;){d=a+8;if(d>c.byteLength)break;b.push(c.getFloat64(a,!0));a=d}}else b.push(a.readDouble());return!0},function(a,b,c){b=_.ab(b,c,Number);if(null!=b&&b.length)for(_.rj(a,
c,2),_.pj(a.encoder_,8*b.length),c=0;c<b.length;c++)a.encoder_.writeDouble(b[c])}),s6=_.qb(function(a,b,c){if(1!==a.nextWireType_)return!1;a=a.readDouble();_.eb(b,c,a,0);return!0},_.Nba),xze=_.qb(function(a,b,c){if(5!==a.nextWireType_)return!1;a=a.readFloat();_.eb(b,c,a,0);return!0},_.Xfb),yze=_.qb(function(a,b,c){if(0!==a.nextWireType_&&2!==a.nextWireType_)return!1;b=_.Za(b,c);2==a.nextWireType_?_.Wba(a,_.vb.prototype.readBool,b):b.push(a.readBool());return!0},function(a,b,c){b=_.ab(b,c,Boolean);
if(null!=b&&b.length)for(_.rj(a,c,2),_.pj(a.encoder_,b.length),c=0;c<b.length;c++)a.encoder_.writeBool(b[c])}),zze=function(){return null},Aze=class extends _.Zk{constructor(a,b){super(a);this.isTaking=!1;a=new _.Xk(this);this.add(a);this.innerSubscription=a;_.oe(b,a)}_next(a){this.isTaking&&super._next(a)}notifyNext(){this.isTaking=!0;this.innerSubscription&&this.innerSubscription.unsubscribe()}notifyComplete(){}},B9d=class{constructor(a){this.notifier=a}call(a,b){return b.subscribe(new Aze(a,this.notifier))}},
Bze=class extends _.ce{constructor(a,b,c,d,e){super(a);this.duration=b;this.scheduler=c;this.leading=d;this.trailing=e;this.throttled=null;this._hasTrailingValue=!1;this._trailingValue=null}_next(a){this.throttled?this.trailing&&(this._trailingValue=a,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(D9d,this.duration,{subscriber:this})),this.leading?this.destination.next(a):this.trailing&&(this._trailingValue=a,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue&&
this.destination.next(this._trailingValue);this.destination.complete()}clearThrottle(){const a=this.throttled;a&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),a.unsubscribe(),this.remove(a),this.throttled=null)}},E9d=class{constructor(a,b){this.duration=a;this.scheduler=b;this.trailing=this.leading=!0}call(a,b){return b.subscribe(new Bze(a,this.duration,this.scheduler,this.leading,this.trailing))}},Cze=class{constructor(a){this._locale=
a}transform(a,b,c){if(!_.Alb(a))return null;c=c||this._locale;try{var d=_.Blb(a);a=c;const e=_.ud(a)[14][0],f=_.zlb(e,_.ry(a,5));return _.ylb(d,f,a,1,0,b)}catch(e){throw _.Yf();}}},Dze,t6,u6,v6,Eze,w6,Fze,Gze;Cze.\u0275fac=function(a){return new (a||Cze)(_.A(_.Tg,16))};Cze.\u0275pipe=_.Cc({name:"number",type:Cze,pure:!0,standalone:!0});_.zUa=class extends _.yUa{constructor(a){super();this.element=a instanceof _.ad?a.nativeElement:a}};
Dze=class{constructor(a,b){this._parentInjector=a;this._customTokens=b}get(a,b){const c=this._customTokens.get(a);return"undefined"!==typeof c?c:this._parentInjector.get(a,b)}};t6=function(a,b){return a.isDateInstance(b)&&a.isValid(b)?b:null};u6=function(a,b,c){return a.getYear(b)-a.getYear(c)||a.getMonth(b)-a.getMonth(c)||a.getDate(b)-a.getDate(c)};v6=function(a,b,c){if(b&&c){let d=a.isValid(b),e=a.isValid(c);return d&&e?!u6(a,b,c):d==e}return b==c};
Eze=function(a,b,c,d){return c&&0>u6(a,b,c)?c:d&&0<u6(a,b,d)?d:b};w6=class{constructor(){this.localeChanges=this._localeChanges=new _.tf}deserialize(a){return null==a||this.isDateInstance(a)&&this.isValid(a)?a:this.invalid()}setLocale(a){this.locale=a;this._localeChanges.next()}};Fze=function(a){const b=_.K3a(a);if(!b)throw Error("je`"+a);return b};Gze=class{constructor(a){this.template=a}};Gze.\u0275fac=function(a){return new (a||Gze)(_.A(_.Le))};
Gze.\u0275dir=_.q({type:Gze,selectors:[["","matTabContent",""]],features:[_.Wd([{provide:_.s5a,useExisting:Gze}])]});
var x6={ALPHA:"ALPHA",BETA:"BETA",DEPRECATED:"DEPRECATED",DISABLED:"DISABLED",EAP:"EAP",GA:"GA",values(){return[x6.ALPHA,x6.BETA,x6.GA,x6.DEPRECATED,x6.DISABLED,x6.EAP]}},Hze=class extends _.bbb{constructor(){super();this.organizationId=new _.sm("query","organizationId");this.folder=new _.sm("query","folder");this.project=new _.sm("query","project");_.um(this,["recommendations"])}},Ize=class{constructor(a,b,c,d,e,f,g,h,l){this._overlay=a;this._element=b;this._viewContainerRef=c;this._menuItemInstance=
f;this._dir=g;this._focusMonitor=h;this._ngZone=l;this._overlayRef=null;this._menuOpen=!1;this._menuCloseSubscription=this._hoverSubscription=this._closingActionsSubscription=_.be.EMPTY;this._handleTouchStart=n=>{_.Gpa(n)||(this._openedBy="touch")};this._openedBy=void 0;this.restoreFocus=!0;this.onMenuOpen=this.menuOpened=new _.$k;this.onMenuClose=this.menuClosed=new _.$k;this._scrollStrategy=d;this._parentMaterialMenu=e instanceof _.Hx?e:void 0;b.nativeElement.addEventListener("touchstart",this._handleTouchStart,
_.ckb);f&&(f._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(a){this.menu=a}get menu(){return this._menu}set menu(a){a!==this._menu&&(this._menu=a,this._menuCloseSubscription.unsubscribe(),a&&(this._menuCloseSubscription=a.close.subscribe(b=>{this._destroyMenu(b);"click"!==b&&"tab"!==b||!this._parentMaterialMenu||this._parentMaterialMenu.closed.emit(b)})))}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&
(this._overlayRef.dispose(),this._overlayRef=null);this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,_.ckb);this._menuCloseSubscription.unsubscribe();this._closingActionsSubscription.unsubscribe();this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const a=
this.menu;if(!this._menuOpen&&a){var b=this._createOverlay(a),c=b.getConfig(),d=c.positionStrategy;this._setPosition(a,d);c.hasBackdrop=null==a.hasBackdrop?!this.triggersSubmenu():a.hasBackdrop;b.attach(this._getPortal(a));a.lazyContent&&a.lazyContent.attach(this.menuData);this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu());this._initMenu(a);a instanceof _.Hx&&(a._startAnimation(),a._directDescendantItems.changes.pipe(_.Af(a.close)).subscribe(()=>{_.wfb(_.wx(d,
!1));_.wx(d,!0)}))}}closeMenu(){let a;null==(a=this.menu)||a.close.emit()}focus(a,b){this._focusMonitor&&a?_.rn(this._focusMonitor,this._element,a,b):this._element.nativeElement.focus(b)}updatePosition(){let a;null==(a=this._overlayRef)||a.updatePosition()}_destroyMenu(a){if(this._overlayRef&&this.menuOpen){var b=this.menu;this._closingActionsSubscription.unsubscribe();this._overlayRef.detach();!this.restoreFocus||"keydown"!==a&&this._openedBy&&this.triggersSubmenu()||this.focus(this._openedBy);this._openedBy=
void 0;if(b instanceof _.Hx)b._resetAnimation(),b.lazyContent?b._animationDone.pipe(_.Ge(c=>"void"===c.toState),_.af(1),_.Af(b.lazyContent._attached)).subscribe({next:()=>b.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1);else{this._setIsMenuOpen(!1);let c;null==b||null==(c=b.lazyContent)||c.detach()}}}_initMenu(a){a.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0;a.direction=this.dir;this._setMenuElevation(a);a.focusFirstItem(this._openedBy||"program");
this._setIsMenuOpen(!0)}_setMenuElevation(a){if(a.setElevation){let b=0,c=a.parentMenu;for(;c;)b++,c=c.parentMenu;a.setElevation(b)}}_setIsMenuOpen(a){(this._menuOpen=a)?this.menuOpened.emit():this.menuClosed.emit();this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(a)}_createOverlay(a){if(!this._overlayRef){const b=this._getOverlayConfig(a);this._subscribeToPositions(a,b.positionStrategy);this._overlayRef=this._overlay.create(b);this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(a){return new _.Xn({positionStrategy:_.Njb(_.Ljb(_.wx(_.ov(this._overlay.position(),
this._element))),".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:a.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:a.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(a,b){a.setPositionClasses&&b.positionChanges.subscribe(c=>{const d="start"===c.connectionPair.overlayX?"after":"before",e="top"===c.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>a.setPositionClasses(d,e)):a.setPositionClasses(d,e)})}_setPosition(a,
b){let [c,d]="before"===a.xPosition?["end","start"]:["start","end"],e=c,f=d,[g,h]="above"===a.yPosition?["bottom","top"]:["top","bottom"],[l,n]=[g,h],r=l,v=n,[w,y]=[e,f],B=w,G=y,O=0;this.triggersSubmenu()?(G=e="before"===a.xPosition?"start":"end",f=B="end"===e?"start":"end",this._parentMaterialMenu&&(null==this._parentInnerPadding&&(this._parentInnerPadding=(a=this._parentMaterialMenu.items.first)?a._getHostElement().offsetTop:0),O="bottom"===g?this._parentInnerPadding:-this._parentInnerPadding)):
a.overlapTrigger||(r="top"===g?"bottom":"top",v="top"===h?"bottom":"top");_.mv(b,[{originX:e,originY:r,overlayX:B,overlayY:g,offsetY:O},{originX:f,originY:r,overlayX:G,overlayY:g,offsetY:O},{originX:e,originY:v,overlayX:B,overlayY:h,offsetY:-O},{originX:f,originY:v,overlayX:G,overlayY:h,offsetY:-O}])}_menuClosingActions(){const a=this._overlayRef.backdropClick(),b=this._overlayRef._detachments,c=this._parentMaterialMenu?this._parentMaterialMenu.closed:_.S(),d=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(_.Ge(e=>
e!==this._menuItemInstance),_.Ge(()=>this._menuOpen)):_.S();return _.De(a,c,d,b)}_handleMousedown(a){_.Fpa(a)||(this._openedBy=0===a.button?"mouse":void 0,this.triggersSubmenu()&&a.preventDefault())}_handleKeydown(a){a=a.keyCode;if(13===a||32===a)this._openedBy="keyboard";this.triggersSubmenu()&&(39===a&&"ltr"===this.dir||37===a&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(a){this.triggersSubmenu()?(a.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){this.triggersSubmenu()&&
this._parentMaterialMenu&&(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(_.Ge(a=>a===this._menuItemInstance&&!a.disabled),_.Ye(0,_.IJa)).subscribe(()=>{this._openedBy="mouse";this.menu instanceof _.Hx&&this.menu._isAnimating?this.menu._animationDone.pipe(_.af(1),_.Ye(0,_.IJa),_.Af(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(a){this._portal&&this._portal.templateRef===a.templateRef||(this._portal=new _.$n(a.templateRef,this._viewContainerRef));
return this._portal}};Ize.\u0275fac=function(a){return new (a||Ize)(_.A(_.eo),_.A(_.ad),_.A(_.Me),_.A(_.akb),_.A(_.Xjb,8),_.A(_.Gx,10),_.A(_.In,8),_.A(_.sn),_.A(_.Jf))};
Ize.\u0275dir=_.q({type:Ize,hostVars:3,hostBindings:function(a,b){a&1&&_.L("click",function(c){return b._handleClick(c)})("mousedown",function(c){return b._handleMousedown(c)})("keydown",function(c){return b._handleKeydown(c)});a&2&&_.zd("aria-haspopup",b.menu?"menu":null)("aria-expanded",b.menuOpen||null)("aria-controls",b.menuOpen?b.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData",
"menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}});var y6=class extends Ize{};y6.\u0275fac=function(){let a;return function(b){return(a||(a=_.Xc(y6)))(b||y6)}}();y6.\u0275dir=_.q({type:y6,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[_.wd]});
var Jze=class{transform(a,b=3,c){c=_.oz(c);return _.Zp(new _.mob(c,c.DECIMAL_PATTERN),b).format(a)}};Jze.\u0275fac=function(a){return new (a||Jze)};Jze.\u0275pipe=_.Cc({name:"localizeNumber",type:Jze,pure:!0});
var Kze=function(a){a._selected||(a._selected=!0,a._dispatchSelectionChange(!0),a._changeDetectorRef.markForCheck())},z6=class extends _.jvb{constructor(a,b,c,d,e,f,g,h){super(a);this._ngZone=b;this._changeDetectorRef=e;this._hasFocus=!1;this.chipListSelectable=!0;this._chipListDisabled=this._chipListMultiple=!1;this.role="option";this._selected=!1;this._selectable=!0;this._disabled=!1;this._removable=!0;this._onFocus=new _.tf;this._onBlur=new _.tf;this.selectionChange=new _.$k;this.destroyed=new _.$k;
this.removed=new _.$k;this._addHostClassName();this._chipRippleTarget=f.createElement("div");this._chipRippleTarget.classList.add("mat-chip-ripple");this._elementRef.nativeElement.appendChild(this._chipRippleTarget);this._chipRipple=new _.$Va(this,b,this._chipRippleTarget,c);_.ZVa(this._chipRipple,a);this.rippleConfig=d||{};this._animationsDisabled="NoopAnimations"===g;this.tabIndex=null!=h?parseInt(h)||-1:-1}get rippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||
!!this.rippleConfig.disabled}get selected(){return this._selected}set selected(a){a=_.Lg(a);a!==this._selected&&(this._selected=a,this._dispatchSelectionChange())}get value(){return void 0!==this._value?this._value:this._elementRef.nativeElement.textContent}set value(a){this._value=a}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(a){this._selectable=_.Lg(a)}get disabled(){return this._chipListDisabled||this._disabled}set disabled(a){this._disabled=_.Lg(a)}get removable(){return this._removable}set removable(a){this._removable=
_.Lg(a)}get ariaSelected(){return this.selectable&&(this._chipListMultiple||this.selected)?this.selected.toString():null}_addHostClassName(){const a=this._elementRef.nativeElement;a.hasAttribute("mat-basic-chip")||"mat-basic-chip"===a.tagName.toLowerCase()?a.classList.add("mat-basic-chip"):a.classList.add("mat-standard-chip")}ngOnDestroy(){this.destroyed.emit({chip:this});this._chipRipple._removeTriggerEvents()}select(){this._selected||(this._selected=!0,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}deselect(){this._selected&&
(this._selected=!1,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}toggleSelected(a=!1){this._selected=!this.selected;this._dispatchSelectionChange(a);this._changeDetectorRef.markForCheck();return this.selected}focus(){this._hasFocus||(this._elementRef.nativeElement.focus(),this._onFocus.next({chip:this}));this._hasFocus=!0}remove(){this.removable&&this.removed.emit({chip:this})}_handleClick(a){this.disabled&&a.preventDefault()}_handleKeydown(a){if(!this.disabled)switch(a.keyCode){case 46:case 8:this.remove();
a.preventDefault();break;case 32:this.selectable&&this.toggleSelected(!0),a.preventDefault()}}_blur(){this._ngZone.onStable.pipe(_.af(1)).subscribe(()=>{this._ngZone.run(()=>{this._hasFocus=!1;this._onBlur.next({chip:this})})})}_dispatchSelectionChange(a=!1){this.selectionChange.emit({source:this,isUserInput:a,selected:this._selected})}};z6.\u0275fac=function(a){return new (a||z6)(_.A(_.ad),_.A(_.Jf),_.A(_.on),_.A(_.aWa,8),_.A(_.el),_.A(_.Pg),_.A(_.Rk,8),_.Vc("tabindex"))};
z6.\u0275dir=_.q({type:z6,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(a,b,c){a&1&&(_.Pe(c,_.gvb,5),_.Pe(c,_.hvb,5),_.Pe(c,_.fvb,5));if(a&2){let d;_.Ne(d=_.Qe())&&(b.avatar=d.first);_.Ne(d=_.Qe())&&(b.trailingIcon=d.first);_.Ne(d=_.Qe())&&(b.removeIcon=d.first)}},hostAttrs:[1,"mat-chip","mat-focus-indicator"],hostVars:15,hostBindings:function(a,b){a&1&&_.L("click",function(c){return b._handleClick(c)})("keydown",function(c){return b._handleKeydown(c)})("focus",
function(){return b.focus()})("blur",function(){return b._blur()});a&2&&(_.zd("tabindex",b.disabled?null:b.tabIndex)("role",b.role)("disabled",b.disabled||null)("aria-disabled",b.disabled.toString())("aria-selected",b.ariaSelected),_.Bd("mat-chip-selected",b.selected)("mat-chip-with-avatar",b.avatar)("mat-chip-with-trailing-icon",b.trailingIcon||b.removeIcon)("mat-chip-disabled",b.disabled)("_mat-animation-noopable",b._animationsDisabled))},inputs:{color:"color",disableRipple:"disableRipple",tabIndex:"tabIndex",
role:"role",selected:"selected",value:"value",selectable:"selectable",disabled:"disabled",removable:"removable"},outputs:{selectionChange:"selectionChange",destroyed:"destroyed",removed:"removed"},exportAs:["matChip"],features:[_.wd]});
var Lze=0,Mze=class{constructor(a,b){this.source=a;this.value=b}},A6=class extends _.kvb{constructor(a,b,c,d,e,f,g){super(f,d,e,g);this._elementRef=a;this._changeDetectorRef=b;this._dir=c;this.controlType="mat-chip-list";this._lastDestroyedChipIndex=null;this._destroyed=new _.tf;this._uid=`mat-chip-list-${Lze++}`;this._tabIndex=0;this._userTabIndex=null;this._onTouched=()=>{};this._onChange=()=>{};this._multiple=!1;this._compareWith=(h,l)=>h===l;this._disabled=!1;this.ariaOrientation="horizontal";
this._selectable=!0;this.change=new _.$k;this.valueChange=new _.$k;this.ngControl&&(this.ngControl.valueAccessor=this)}get selected(){let a,b;return this.multiple?(null==(a=this._selectionModel)?void 0:a.selected)||[]:null==(b=this._selectionModel)?void 0:b.selected[0]}get role(){return this._explicitRole?this._explicitRole:this.empty?null:"listbox"}set role(a){this._explicitRole=a}get multiple(){return this._multiple}set multiple(a){this._multiple=_.Lg(a);this._syncChipsState()}get compareWith(){return this._compareWith}set compareWith(a){this._compareWith=
a;this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(a){this.writeValue(a);this._value=a}get id(){return this._chipInput?this._chipInput.id:this._uid}get required(){let a,b,c,d;return null!=(d=null!=(c=this._required)?c:null==(a=this.ngControl)?void 0:null==(b=a.control)?void 0:_.uy(b._rawValidators,_.Dy))?d:!1}set required(a){this._required=_.Lg(a);this.stateChanges.next()}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(a){this._placeholder=
a;this.stateChanges.next()}get focused(){return this._chipInput&&this._chipInput.focused||this._hasFocusedChip()}get empty(){return(!this._chipInput||this._chipInput.empty)&&(!this.chips||0===this.chips.length)}get shouldLabelFloat(){return!this.empty||this.focused}get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(a){this._disabled=_.Lg(a);this._syncChipsState()}get selectable(){return this._selectable}set selectable(a){this._selectable=_.Lg(a);this.chips&&
this.chips.forEach(b=>b.chipListSelectable=this._selectable)}set tabIndex(a){this._tabIndex=this._userTabIndex=a}get chipSelectionChanges(){return _.De(...this.chips.map(a=>a.selectionChange))}get chipFocusChanges(){return _.De(...this.chips.map(a=>a._onFocus))}get chipBlurChanges(){return _.De(...this.chips.map(a=>a._onBlur))}get chipRemoveChanges(){return _.De(...this.chips.map(a=>a.destroyed))}ngAfterContentInit(){this._keyManager=_.Cz(_.aw(_.Zv(_.Yv(new _.dw(this.chips)))),this._dir?this._dir.value:
"ltr");this._dir&&this._dir.change.pipe(_.Af(this._destroyed)).subscribe(a=>_.Cz(this._keyManager,a));this._keyManager.tabOut.pipe(_.Af(this._destroyed)).subscribe(()=>{this._allowFocusEscape()});this.chips.changes.pipe(_.yf(null),_.Af(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>{this._syncChipsState()});this._resetChips();this._initializeSelection();this._updateTabIndex();this._updateFocusForDestroyedChips();this.stateChanges.next()})}ngOnInit(){this._selectionModel=
new _.my(this.multiple,void 0,!1);this.stateChanges.next()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==this._disabled&&(this.disabled=!!this.ngControl.disabled))}ngOnDestroy(){this._destroyed.next();this._destroyed.complete();this.stateChanges.complete();this._dropSubscriptions()}registerInput(a){this._chipInput=a;this._elementRef.nativeElement.setAttribute("data-mat-chip-input",a.id)}setDescribedByIds(a){a.length?this._elementRef.nativeElement.setAttribute("aria-describedby",
a.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}writeValue(a){this.chips&&this._setSelectionByValue(a,!1)}registerOnChange(a){this._onChange=a}registerOnTouched(a){this._onTouched=a}setDisabledState(a){this.disabled=a;this.stateChanges.next()}onContainerClick(a){this._originatesFromChip(a)||this.focus()}focus(a){this.disabled||this._chipInput&&this._chipInput.focused||(0<this.chips.length?_.cw(this._keyManager):this._focusInput(a),this.stateChanges.next())}_focusInput(a){this._chipInput&&
this._chipInput.focus(a)}_keydown(a){const b=a.target;b&&b.classList.contains("mat-chip")&&(this._keyManager.onKeydown(a),this.stateChanges.next())}_updateTabIndex(){this._tabIndex=this._userTabIndex||(0===this.chips.length?-1:0)}_updateFocusForDestroyedChips(){null!=this._lastDestroyedChipIndex&&(this.chips.length?this._keyManager.setActiveItem(Math.min(this._lastDestroyedChipIndex,this.chips.length-1)):this.focus());this._lastDestroyedChipIndex=null}_isValidIndex(a){return 0<=a&&a<this.chips.length}_setSelectionByValue(a,
b=!0){this._clearSelection();this.chips.forEach(c=>c.deselect());Array.isArray(a)?(a.forEach(c=>this._selectValue(c,b)),this._sortValues()):(a=this._selectValue(a,b))&&b&&this._keyManager.setActiveItem(a)}_selectValue(a,b=!0){const c=this.chips.find(d=>null!=d.value&&this._compareWith(d.value,a));c&&(b?Kze(c):c.select(),this._selectionModel.select(c));return c}_initializeSelection(){Promise.resolve().then(()=>{if(this.ngControl||this._value)this._setSelectionByValue(this.ngControl?this.ngControl.value:
this._value,!1),this.stateChanges.next()})}_clearSelection(a){this._selectionModel.clear();this.chips.forEach(b=>{b!==a&&b.deselect()});this.stateChanges.next()}_sortValues(){this._multiple&&(this._selectionModel.clear(),this.chips.forEach(a=>{a.selected&&this._selectionModel.select(a)}),this.stateChanges.next())}_propagateChanges(a){let b=null;this._value=b=Array.isArray(this.selected)?this.selected.map(c=>c.value):this.selected?this.selected.value:a;this.change.emit(new Mze(this,b));this.valueChange.emit(b);
this._onChange(b);this._changeDetectorRef.markForCheck()}_blur(){this._hasFocusedChip()||this._keyManager.setActiveItem(-1);this.disabled||(this._chipInput?setTimeout(()=>{this.focused||this._markAsTouched()}):this._markAsTouched())}_markAsTouched(){this._onTouched();this._changeDetectorRef.markForCheck();this.stateChanges.next()}_allowFocusEscape(){-1!==this._tabIndex&&(this._tabIndex=-1,setTimeout(()=>{this._tabIndex=this._userTabIndex||0;this._changeDetectorRef.markForCheck()}))}_resetChips(){this._dropSubscriptions();
this._listenToChipsFocus();this._listenToChipsSelection();this._listenToChipsRemoved()}_dropSubscriptions(){this._chipFocusSubscription&&(this._chipFocusSubscription.unsubscribe(),this._chipFocusSubscription=null);this._chipBlurSubscription&&(this._chipBlurSubscription.unsubscribe(),this._chipBlurSubscription=null);this._chipSelectionSubscription&&(this._chipSelectionSubscription.unsubscribe(),this._chipSelectionSubscription=null);this._chipRemoveSubscription&&(this._chipRemoveSubscription.unsubscribe(),
this._chipRemoveSubscription=null)}_listenToChipsSelection(){this._chipSelectionSubscription=this.chipSelectionChanges.subscribe(a=>{a.source.selected?this._selectionModel.select(a.source):this._selectionModel.deselect(a.source);this.multiple||this.chips.forEach(b=>{!this._selectionModel.isSelected(b)&&b.selected&&b.deselect()});a.isUserInput&&this._propagateChanges()})}_listenToChipsFocus(){this._chipFocusSubscription=this.chipFocusChanges.subscribe(a=>{a=this.chips.toArray().indexOf(a.chip);this._isValidIndex(a)&&
_.bw(this._keyManager,a);this.stateChanges.next()});this._chipBlurSubscription=this.chipBlurChanges.subscribe(()=>{this._blur();this.stateChanges.next()})}_listenToChipsRemoved(){this._chipRemoveSubscription=this.chipRemoveChanges.subscribe(a=>{const b=a.chip;a=this.chips.toArray().indexOf(a.chip);this._isValidIndex(a)&&b._hasFocus&&(this._lastDestroyedChipIndex=a)})}_originatesFromChip(a){for(a=a.target;a&&a!==this._elementRef.nativeElement;){if(a.classList.contains("mat-chip"))return!0;a=a.parentElement}return!1}_hasFocusedChip(){return this.chips&&
this.chips.some(a=>a._hasFocus)}_syncChipsState(){this.chips&&this.chips.forEach(a=>{a._chipListDisabled=this._disabled;a._chipListMultiple=this.multiple})}};A6.\u0275fac=function(a){return new (a||A6)(_.A(_.ad),_.A(_.el),_.A(_.In,8),_.A(_.yw,8),_.A(_.Fw,8),_.A(_.$x),_.A(_.tw,10))};
A6.\u0275cmp=_.q({type:A6,selectors:[["mat-chip-list"]],contentQueries:function(a,b,c){a&1&&_.Pe(c,z6,5);if(a&2){let d;_.Ne(d=_.Qe())&&(b.chips=d)}},hostAttrs:[1,"mat-chip-list"],hostVars:14,hostBindings:function(a,b){a&1&&_.L("focus",function(){return b.focus()})("blur",function(){return b._blur()})("keydown",function(c){return b._keydown(c)});a&2&&(_.Gd("id",b._uid),_.zd("tabindex",b.disabled?null:b._tabIndex)("aria-required",b.role?b.required:null)("aria-disabled",b.disabled.toString())("aria-invalid",
b.errorState)("aria-multiselectable",b.multiple)("role",b.role)("aria-orientation",b.ariaOrientation),_.Bd("mat-chip-list-disabled",b.disabled)("mat-chip-list-invalid",b.errorState)("mat-chip-list-required",b.required))},inputs:{role:"role",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],errorStateMatcher:"errorStateMatcher",multiple:"multiple",compareWith:"compareWith",value:"value",required:"required",placeholder:"placeholder",disabled:"disabled",ariaOrientation:["aria-orientation",
"ariaOrientation"],selectable:"selectable",tabIndex:"tabIndex"},outputs:{change:"change",valueChange:"valueChange"},exportAs:["matChipList"],features:[_.Wd([{provide:_.Ay,useExisting:A6}]),_.wd],ngContentSelectors:["*"],decls:2,vars:0,consts:[[1,"mat-chip-list-wrapper"]],template:function(a){a&1&&(_.Pd(),_.E(0,"div",0),_.Qd(1),_.F())},styles:['.mat-chip{position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;border:none;-webkit-appearance:none;-moz-appearance:none}.mat-chip::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-standard-chip{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:inline-flex;padding:7px 12px;border-radius:16px;align-items:center;cursor:default;min-height:32px;height:1px}.mat-standard-chip._mat-animation-noopable{transition:none !important;animation:none !important}.mat-standard-chip .mat-chip-remove{border:none;-webkit-appearance:none;-moz-appearance:none;padding:0;background:none}.mat-standard-chip .mat-chip-remove.mat-icon,.mat-standard-chip .mat-chip-remove .mat-icon{width:18px;height:18px;font-size:18px}.mat-standard-chip::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;opacity:0;content:"";pointer-events:none;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-standard-chip:hover::after{opacity:.12}.mat-standard-chip:focus{outline:none}.mat-standard-chip:focus::after{opacity:.16}.cdk-high-contrast-active .mat-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-standard-chip.mat-chip-selected{outline-width:3px}.mat-standard-chip.mat-chip-disabled::after{opacity:0}.mat-standard-chip.mat-chip-disabled .mat-chip-remove,.mat-standard-chip.mat-chip-disabled .mat-chip-trailing-icon{cursor:default}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar,.mat-standard-chip.mat-chip-with-avatar{padding-top:0;padding-bottom:0}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-right:8px;padding-left:0}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-left:8px;padding-right:0}.mat-standard-chip.mat-chip-with-trailing-icon{padding-top:7px;padding-bottom:7px;padding-right:8px;padding-left:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon{padding-left:8px;padding-right:12px}.mat-standard-chip.mat-chip-with-avatar{padding-left:0;padding-right:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-avatar{padding-right:0;padding-left:12px}.mat-standard-chip .mat-chip-avatar{width:24px;height:24px;margin-right:8px;margin-left:4px}[dir=rtl] .mat-standard-chip .mat-chip-avatar{margin-left:8px;margin-right:4px}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{width:18px;height:18px;cursor:pointer}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-standard-chip .mat-chip-remove,[dir=rtl] .mat-standard-chip .mat-chip-trailing-icon{margin-right:8px;margin-left:0}.mat-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit;overflow:hidden;transform:translateZ(0)}.mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:-4px}.mat-chip-list-wrapper input.mat-input-element,.mat-chip-list-wrapper .mat-standard-chip{margin:4px}.mat-chip-list-stacked .mat-chip-list-wrapper{flex-direction:column;align-items:flex-start}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:100%}.mat-chip-avatar{border-radius:50%;justify-content:center;align-items:center;display:flex;overflow:hidden;object-fit:cover}input.mat-chip-input{width:150px;margin:4px;flex:1 0 150px}\n'],
encapsulation:2,changeDetection:0});var B6=class{};B6.\u0275fac=function(a){return new (a||B6)};B6.\u0275mod=_.Bc({type:B6});B6.\u0275inj=_.tc({providers:[_.$x,{provide:_.evb,useValue:{separatorKeyCodes:[13]}}],imports:[_.go]});var Nze=class{constructor(){this.heightInternal="auto";this.disableBorderBottom=this.disableVerticalPadding=!1}set height(a){void 0!==a&&(this.heightInternal=a,this.disableVerticalPadding="auto"!==a)}get height(){return this.heightInternal}};
Nze.\u0275fac=function(a){return new (a||Nze)};
Nze.\u0275cmp=_.q({type:Nze,selectors:[["cfc-panel-sub-header"]],inputs:{height:"height",disableVerticalPadding:"disableVerticalPadding",disableBorderBottom:"disableBorderBottom"},ngContentSelectors:["*"],decls:2,vars:5,consts:[[1,"cfc-panel-sub-header",3,"ngClass"]],template:function(a,b){a&1&&(_.Pd(),_.E(0,"div",0),_.Qd(1),_.F());a&2&&(_.Bd("cfc-panel-sub-header-disable-vertical-padding",b.disableVerticalPadding)("cfc-panel-disable-border-bottom",b.disableBorderBottom),a="auto"!==b.heightInternal?
`cfc-panel-sub-header-height-${b.heightInternal}`:void 0,_.C("ngClass",a))},dependencies:[_.qx],styles:[".cfc-panel-body-scrollable[_ngcontent-%COMP%]{height:100%;overflow:auto}.cfc-panel-body-scroll-content[_ngcontent-%COMP%]{padding:24px}.cfc-panel-body-scroll-content[_ngcontent-%COMP%]     .mat-tab-body-content{display:flex;flex-direction:column}.cfc-panel-body-disable-padding[_ngcontent-%COMP%]   .cfc-panel-body-scroll-content[_ngcontent-%COMP%], .cfc-panel-body-scroll-content.cfc-panel-body-disable-padding[_ngcontent-%COMP%]{padding:0}.cfc-panel-body-content-hidden[_ngcontent-%COMP%]{display:none}.cfc-panel-body-flex[_ngcontent-%COMP%]{display:flex;flex:0 1 auto;flex-direction:column;min-height:0}.cfc-panel-body-flex[_ngcontent-%COMP%]     .cfc-virtual-scroll-content-wrapper{display:flex;flex:0 1 auto;flex-direction:column;padding:24px}.cfc-panel-body-disable-padding.cfc-panel-body-flex[_ngcontent-%COMP%]     .cfc-virtual-scroll-content-wrapper{padding:0}cfc-panel-sub-header[_nghost-%COMP%]{display:block}.cfc-panel-sub-header[_ngcontent-%COMP%]{padding:24px;overflow:hidden}.cfc-panel-sub-header.cfc-panel-sub-header-disable-vertical-padding[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0}.cfc-panel-sub-header.cfc-panel-sub-header-height-xsmall[_ngcontent-%COMP%]{height:32px;line-height:32px}.cfc-panel-sub-header.cfc-panel-sub-header-height-xsmall[_ngcontent-%COMP%]     .cfc-breadcrumbs, .cfc-panel-sub-header.cfc-panel-sub-header-height-xsmall[_ngcontent-%COMP%]     [mat-button].cfc-full-bleed:only-child{line-height:32px}.cfc-panel-sub-header.cfc-panel-sub-header-height-small[_ngcontent-%COMP%]{height:36px;line-height:36px}.cfc-panel-sub-header.cfc-panel-sub-header-height-small[_ngcontent-%COMP%]     .cfc-breadcrumbs, .cfc-panel-sub-header.cfc-panel-sub-header-height-small[_ngcontent-%COMP%]     [mat-button].cfc-full-bleed:only-child{line-height:36px}.cfc-panel-sub-header.cfc-panel-sub-header-height-base[_ngcontent-%COMP%]{height:40px;line-height:40px}.cfc-panel-sub-header.cfc-panel-sub-header-height-base[_ngcontent-%COMP%]     .cfc-breadcrumbs, .cfc-panel-sub-header.cfc-panel-sub-header-height-base[_ngcontent-%COMP%]     [mat-button].cfc-full-bleed:only-child{line-height:40px}.cfc-panel-sub-header.cfc-panel-sub-header-height-large[_ngcontent-%COMP%]{height:48px;line-height:48px}.cfc-panel-sub-header.cfc-panel-sub-header-height-large[_ngcontent-%COMP%]     .cfc-breadcrumbs, .cfc-panel-sub-header.cfc-panel-sub-header-height-large[_ngcontent-%COMP%]     [mat-button].cfc-full-bleed:only-child{line-height:48px}.cfc-panel-sub-header.cfc-panel-sub-header-height-xlarge[_ngcontent-%COMP%]{height:56px;line-height:56px}.cfc-panel-sub-header.cfc-panel-sub-header-height-xlarge[_ngcontent-%COMP%]     .cfc-breadcrumbs, .cfc-panel-sub-header.cfc-panel-sub-header-height-xlarge[_ngcontent-%COMP%]     [mat-button].cfc-full-bleed:only-child{line-height:56px}.cfc-panel-sub-header.cfc-panel-sub-header-height-jumbo[_ngcontent-%COMP%]{height:64px;line-height:64px}.cfc-panel-sub-header.cfc-panel-sub-header-height-jumbo[_ngcontent-%COMP%]     .cfc-breadcrumbs, .cfc-panel-sub-header.cfc-panel-sub-header-height-jumbo[_ngcontent-%COMP%]     [mat-button].cfc-full-bleed:only-child{line-height:64px}.cfc-panel-body-flex[_ngcontent-%COMP%], .cfc-panel-body-scrollable[_ngcontent-%COMP%], .cfc-panel-content-divider[_ngcontent-%COMP%], .cfc-panel-sub-header[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.12)}.cfc-panel-body-flex.cfc-panel-disable-border-bottom[_ngcontent-%COMP%], .cfc-panel-body-flex[_ngcontent-%COMP%]   .cfc-panel-disable-border-bottom[_ngcontent-%COMP%], .cfc-panel-body-scrollable.cfc-panel-disable-border-bottom[_ngcontent-%COMP%], .cfc-panel-body-scrollable[_ngcontent-%COMP%]   .cfc-panel-disable-border-bottom[_ngcontent-%COMP%], .cfc-panel-content-divider.cfc-panel-disable-border-bottom[_ngcontent-%COMP%], .cfc-panel-content-divider[_ngcontent-%COMP%]   .cfc-panel-disable-border-bottom[_ngcontent-%COMP%], .cfc-panel-sub-header.cfc-panel-disable-border-bottom[_ngcontent-%COMP%], .cfc-panel-sub-header[_ngcontent-%COMP%]   .cfc-panel-disable-border-bottom[_ngcontent-%COMP%]{border-bottom:0}cfc-panel-footer[_nghost-%COMP%]{display:flex;flex-direction:row;flex:1 1 auto;min-height:56px;align-items:baseline;position:relative}.cfc-panel-footer[_ngcontent-%COMP%]{flex:1 1 auto;height:56px;display:flex;box-sizing:border-box;flex-direction:row;align-items:center;white-space:nowrap;padding:0 24px;border-top:1px solid transparent;transition:border-top .2s}.cfc-panel-footer[_ngcontent-%COMP%]     .cfc-panel-footer-left-right-aligned{display:flex;flex-grow:1;justify-content:space-between;align-items:center}.cfc-panel-footer.cfc-panel-footer-notstick[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.12)}cfc-panel-footer.cfc-panel-footer-disable-sticky[_nghost-%COMP%]{margin-top:auto;flex:0 1 auto}cfc-panel-body[_nghost-%COMP%]{position:relative;display:flex;flex-direction:column;flex:0 1 auto;min-height:0}cfc-panel-body.cfc-panel-body-stretch[_nghost-%COMP%]{flex:1}cfc-panel-body.cfc-panel-body-stretch[_nghost-%COMP%]   .cfc-panel-body[_ngcontent-%COMP%], cfc-panel-body.cfc-panel-body-stretch[_nghost-%COMP%]     .cfc-virtual-scroll-content-wrapper{position:absolute;top:0;bottom:0;left:0;right:0}"],
changeDetection:0});
var Oze=(a,b,c)=>{let d=c;_.IN(a,(e,f,g)=>{d=b(d,e,f,g)});return d},Pze=function(a,b){if(!Array.isArray(a))return-1;var c="function"===typeof b?b:function(f){return f==b};var d;for(d=0;d<a.length;++d){var e=a[d];if(c(e))return d}return-1},Qze=function(a){d3.timeFormatDefaultLocale(a);!a||a.time.match(/I/)?(_.tnc="%b %-d, %Y %-I:%M %p",_.unc="%b %-d, %-I %p",_.vnc="%-I %p",_.onc[2][0]="%-I:%M",_.onc[3][0]="%-I %p",_.pnc[2][0]="%-I:%M",_.pnc[3][0]="%-I %p"):(_.tnc="%b %-d, %Y %-H:%M",_.unc="%b %-d, %-H %p",
_.vnc="%-H",_.onc[2][0]="%-H:%M",_.onc[3][0]="%-H:%M",_.pnc[2][0]="%-H:%M",_.pnc[3][0]="%-H:%M")},Rze=function(a){function b(c){return 10>c?"0"+c:c}return a.getUTCFullYear()+"-"+b(a.getUTCMonth()+1)+"-"+b(a.getUTCDate())+"T"+b(a.getUTCHours())+":"+b(a.getUTCMinutes())+":"+b(a.getUTCSeconds())+"Z"},Sze=(a,b="LocalTime")=>_.ync(_.PN(a,b)),C6=function(a,b){const c=+a[0];var d=+a[1];a=[];b=b/100*(d-c);let e=d-b;for(;e>c;)a.unshift([new Date(e),new Date(d)]),e-=b,d-=b;e<=c&&d>=c&&a.unshift([new Date(c),
new Date(d)]);return a},D6=function(a,b){const c=[];let d=a[0];const e=a[1];b.forEach(f=>{d<f[1]&&(e>=f[0]?d<f[0]&&c.push([d,f[0]]):e>d&&c.push([d,e]),d=f[1])});e>d&&c.push([d,e]);return c},Tze=function(a,b){let c=[];a.forEach(d=>{c=c.concat(D6(d,b))});return c},Uze=function(a,b){const c=[];a.forEach(d=>{let e=d[0];e>=b[0]&&e<=b[1]&&(e=b[1]);d=d[1];d>=b[0]&&d<=b[1]&&(d=b[0]);e<d&&(e<b[0]&&d>b[1]?(c.push([e,b[0]]),c.push([b[1],d])):c.push([e,d]))});return c},Vze=function(a,b,c){b||(b=1);c||(c=1);const d=
[],e=+a[1]-+a[0],f=new Date;d.push([new Date(+a[0]-b*e),a[0]]);b=[a[1],new Date(+a[1]+c*e)];6E4<+f-+a[1]&&(b[1]>f&&(b[1]=f),d.push(b));return d},Wze=class extends _.Tnc{constructor(){super();this.childFormatters_=[]}get childFormatters(){return this.childFormatters_}pickFormatter(){return null}addChild(a){this.childFormatters_.push(a)}format(a,b){const c=this.pickFormatter(a);return c?c.format(a,b):null}},E6=function(a,b){if(null!=b){var c={seconds:_.kj(b,1),nanos:_.jj(b,2)};a&&(c.$jspbMessageInstance=
b);return c}},G6=class extends _.Mj{constructor(a){super(a)}getSeconds(){return _.kj(this,1)}setSeconds(a){return _.eb(this,1,a,0)}setNanos(a){_.eb(this,2,a,0)}serializeBinary(){return _.tj(this,F6)}};G6.prototype.toObject=function(a){return E6(a,this)};var F6=[G6,1,_.wj,2,_.zj],Xze=function(a,b,c){var d=_.coc[a];if(d)return new d(b,c);b=new _.ZN(b);b.code=a;return b},Yze=class{constructor(a){a.registerIconset("monitoring","small",9);a.registerIconset("monitoring","medium",12)}};
Yze.\u0275fac=function(a){return new (a||Yze)(_.p(_.Eo))};Yze.\u0275mod=_.Bc({type:Yze});Yze.\u0275inj=_.tc({imports:[_.Go]});
var Zze=/^\)\]\}',?\n/,$ze=[4,4],aAe=function(a,b,c,d,e,f,g){a=e/2;g=g.width;f=[[c,d],[c+g,d-a],[c+g+f,d-a],[c+g+f,d+a],[c+g,d+a]];b.beginPath();b.moveTo(c,d);for(c=1;c<f.length;c++)b.lineTo(f[c][0],f[c][1]);b.closePath();b.fill();b.save()},bAe=function(a,b){const c=a.xScale.domain(),d=a.getTimeshiftOffset?a.getTimeshiftOffset():void 0,e=a.threshold?a.threshold():[];a._domainCache=a._domainCache||{};return(0,_.Vsc)(b,c,a._domainCache,f=>({y0:a.dataY0?a.dataY0(f):f.y0||f.y,y1:a.dataY1?a.dataY1(f):
f.y1||f.y}),void 0,e,d)},cAe=function(a,b){return{info:{moduleId:"pm_rest_gcloud_dialog",className:"RestGcloudDialogController"},config:{data:{dialogData:a,sendAnalyticsEvent:b}}}},dAe=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],eAe=class{};eAe.\u0275fac=function(a){return new (a||eAe)};
eAe.\u0275cmp=_.q({type:eAe,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(a){a&1&&(_.Pd(dAe),_.Qd(0),_.E(1,"div",0),_.Qd(2,1),_.F(),_.Qd(3,2))},encapsulation:2,changeDetection:0});
var Hxe=class extends _.iOc{constructor(){super();this.region=new _.sm("path","region");this.name=new _.sm("path","name");this.env=_.JHc();_.um(this,["edit",this.region,this.name])}},fAe={READY:"ACTIVE",FAILED:"FAILED",WARNING:"FAILED"},gAe=class{constructor(a){this.ngVarInstance=a}get ngVar(){return this.ngVarInstance.ngVar}},H6=class{constructor(a,b){a.createEmbeddedView(b,new gAe(this))}};H6.\u0275fac=function(a){return new (a||H6)(_.A(_.Me),_.A(_.Le))};
H6.\u0275dir=_.q({type:H6,selectors:[["","ngVar",""]],inputs:{ngVar:"ngVar"}});var I6=class{};I6.\u0275fac=function(a){return new (a||I6)};I6.\u0275mod=_.Bc({type:I6});I6.\u0275inj=_.tc({});
var hAe=class extends _.XPa{staticSerialize(a){const b=[V9d(a.format),a.projectId];a.locationName&&(b.push(a.locationName),a.repositoryName&&(b.push(a.repositoryName),a.packageName&&(b.push(_.oY(a.packageName)),a.versionName?b.push(_.oY(a.versionName)):a.tagName&&(b[0]="tags",b.push(_.oY(a.tagName))))));return b.join("/")}staticDeserialize(){throw Error("Gj");}setupRouteObservers(a,b){a&&(this.createDeserializingObservable=()=>a.params.pipe(_.U(W9d)));this.deserializeFromSnapshot=()=>{const c=a&&
a.snapshot?a.snapshot:b?b:null;return c?W9d(c.params):void 0}}},iAe=class extends _.iyd{constructor(){super();this.resource=new hAe("");this.tab=new _.sm("matrix","tab");_.um(this,[this.resource])}},jAe=class extends _.vVd{constructor(){super();this.secretId=new _.sm("path","secretId");_.um(this,["secret",this.secretId])}},kAe=class extends jAe{constructor(){super();_.um(this,["versions"])}},lAe=new _.Zc("API_VERSION"),mAe=new _.Zc("REQUEST_SERVICE"),J6={$Xgafv:"$.xgafv",access_token:"access_token",
alt:"alt",callback:"callback",cloudEntityRestrictions:"cloudEntityRestrictions",fields:"fields",filter:"filter",includeInternalSubtypes:"includeInternalSubtypes",key:"key",oauth_token:"oauth_token",orderBy:"orderBy",pageSize:"pageSize",pageToken:"pageToken",prettyPrint:"prettyPrint",quotaUser:"quotaUser",updateMask:"updateMask",uploadType:"uploadType",upload_protocol:"upload_protocol",validateOnly:"validateOnly"},nAe=class{constructor(a,b,c){this.gapiVersion=a;this.gapiVersion=null==a?"v1alpha2":
a;this.$apiClient=new _.js(b,c)}get(a,b={},c={}){_.hs(a,RegExp("^folders/[^/]+/locations/[^/]+/insightTypes/[^/]+/insights/[^/]+$"));return _.is(this.$apiClient,{body:null,httpMethod:"GET",methodId:"recommender.folders.locations.insightTypes.insights.get",path:`/${this.gapiVersion}/${a}`,queryParams:_.di(b,J6,c)})}list(a,b={},c={}){_.hs(a,RegExp("^folders/[^/]+/locations/[^/]+/insightTypes/[^/]+$"));return _.is(this.$apiClient,{body:null,httpMethod:"GET",methodId:"recommender.folders.locations.insightTypes.insights.list",
path:`/${this.gapiVersion}/${a}/insights`,queryParams:_.di(b,J6,c)})}markDismissed(a,b){_.hs(a,RegExp("^folders/[^/]+/locations/[^/]+/insightTypes/[^/]+/insights/[^/]+$"));return _.is(this.$apiClient,{body:b,httpMethod:"POST",methodId:"recommender.folders.locations.insightTypes.insights.markDismissed",path:`/${this.gapiVersion}/${a}:markDismissed`,queryParams:_.di({},J6,{})})}};nAe.\u0275fac=function(a){return new (a||nAe)(_.p(lAe,8),_.p(mAe),_.p(_.fr,8))};nAe.\u0275prov=_.m({token:nAe,factory:nAe.\u0275fac});
var oAe=class{constructor(a,b,c){this.gapiVersion=a;this.gapiVersion=null==a?"v1alpha2":a;this.$apiClient=new _.js(b,c)}get(a,b={},c={}){_.hs(a,RegExp("^organizations/[^/]+/locations/[^/]+/insightTypes/[^/]+/insights/[^/]+$"));return _.is(this.$apiClient,{body:null,httpMethod:"GET",methodId:"recommender.organizations.locations.insightTypes.insights.get",path:`/${this.gapiVersion}/${a}`,queryParams:_.di(b,J6,c)})}list(a,b={},c={}){_.hs(a,RegExp("^organizations/[^/]+/locations/[^/]+/insightTypes/[^/]+$"));
return _.is(this.$apiClient,{body:null,httpMethod:"GET",methodId:"recommender.organizations.locations.insightTypes.insights.list",path:`/${this.gapiVersion}/${a}/insights`,queryParams:_.di(b,J6,c)})}markDismissed(a,b){_.hs(a,RegExp("^organizations/[^/]+/locations/[^/]+/insightTypes/[^/]+/insights/[^/]+$"));return _.is(this.$apiClient,{body:b,httpMethod:"POST",methodId:"recommender.organizations.locations.insightTypes.insights.markDismissed",path:`/${this.gapiVersion}/${a}:markDismissed`,queryParams:_.di({},
J6,{})})}};oAe.\u0275fac=function(a){return new (a||oAe)(_.p(lAe,8),_.p(mAe),_.p(_.fr,8))};oAe.\u0275prov=_.m({token:oAe,factory:oAe.\u0275fac});
var pAe=class{constructor(a,b,c){this.gapiVersion=a;this.gapiVersion=null==a?"v1alpha2":a;this.$apiClient=new _.js(b,c)}get(a,b={},c={}){_.hs(a,RegExp("^projects/[^/]+/locations/[^/]+/insightTypes/[^/]+/insights/[^/]+$"));return _.is(this.$apiClient,{body:null,httpMethod:"GET",methodId:"recommender.projects.locations.insightTypes.insights.get",path:`/${this.gapiVersion}/${a}`,queryParams:_.di(b,J6,c)})}list(a,b={},c={}){_.hs(a,RegExp("^projects/[^/]+/locations/[^/]+/insightTypes/[^/]+$"));return _.is(this.$apiClient,
{body:null,httpMethod:"GET",methodId:"recommender.projects.locations.insightTypes.insights.list",path:`/${this.gapiVersion}/${a}/insights`,queryParams:_.di(b,J6,c)})}markDismissed(a,b){_.hs(a,RegExp("^projects/[^/]+/locations/[^/]+/insightTypes/[^/]+/insights/[^/]+$"));return _.is(this.$apiClient,{body:b,httpMethod:"POST",methodId:"recommender.projects.locations.insightTypes.insights.markDismissed",path:`/${this.gapiVersion}/${a}:markDismissed`,queryParams:_.di({},J6,{})})}reset(a,b,c={},d={}){_.hs(a,
RegExp("^projects/[^/]+/locations/[^/]+/insightTypes/[^/]+$"));return _.is(this.$apiClient,{body:b,httpMethod:"POST",methodId:"recommender.projects.locations.insightTypes.insights.reset",path:`/${this.gapiVersion}/${a}/insights:reset`,queryParams:_.di(c,J6,d)})}};pAe.\u0275fac=function(a){return new (a||pAe)(_.p(lAe,8),_.p(mAe),_.p(_.fr,8))};pAe.\u0275prov=_.m({token:pAe,factory:pAe.\u0275fac});
var qAe=new _.Zc("API_VERSION"),rAe=new _.Zc("REQUEST_SERVICE"),K6={$Xgafv:"$.xgafv",access_token:"access_token",alt:"alt",callback:"callback",fields:"fields",filter:"filter",includeInternalSubtypes:"includeInternalSubtypes",key:"key",oauth_token:"oauth_token",orderBy:"orderBy",pageSize:"pageSize",pageToken:"pageToken",prettyPrint:"prettyPrint",quotaUser:"quotaUser",updateMask:"updateMask",uploadType:"uploadType",upload_protocol:"upload_protocol",validateOnly:"validateOnly"},sAe=class{constructor(a,
b,c){this.gapiVersion=a;this.gapiVersion=null==a?"v1beta1":a;this.$apiClient=new _.js(b,c)}get(a,b={},c={}){_.hs(a,RegExp("^folders/[^/]+/locations/[^/]+/insightTypes/[^/]+/insights/[^/]+$"));return _.is(this.$apiClient,{body:null,httpMethod:"GET",methodId:"recommender.folders.locations.insightTypes.insights.get",path:`/${this.gapiVersion}/${a}`,queryParams:_.di(b,K6,c)})}list(a,b={},c={}){_.hs(a,RegExp("^folders/[^/]+/locations/[^/]+/insightTypes/[^/]+$"));return _.is(this.$apiClient,{body:null,
httpMethod:"GET",methodId:"recommender.folders.locations.insightTypes.insights.list",path:`/${this.gapiVersion}/${a}/insights`,queryParams:_.di(b,K6,c)})}markDismissed(a,b){_.hs(a,RegExp("^folders/[^/]+/locations/[^/]+/insightTypes/[^/]+/insights/[^/]+$"));return _.is(this.$apiClient,{body:b,httpMethod:"POST",methodId:"recommender.folders.locations.insightTypes.insights.markDismissed",path:`/${this.gapiVersion}/${a}:markDismissed`,queryParams:_.di({},K6,{})})}};
sAe.\u0275fac=function(a){return new (a||sAe)(_.p(qAe,8),_.p(rAe),_.p(_.fr,8))};sAe.\u0275prov=_.m({token:sAe,factory:sAe.\u0275fac});
var tAe=class{constructor(a,b,c){this.gapiVersion=a;this.gapiVersion=null==a?"v1beta1":a;this.$apiClient=new _.js(b,c)}get(a,b={},c={}){_.hs(a,RegExp("^folders/[^/]+/locations/[^/]+/recommenders/[^/]+/recommendations/[^/]+$"));return _.is(this.$apiClient,{body:null,httpMethod:"GET",methodId:"recommender.folders.locations.recommenders.recommendations.get",path:`/${this.gapiVersion}/${a}`,queryParams:_.di(b,K6,c)})}list(a,b={},c={}){_.hs(a,RegExp("^folders/[^/]+/locations/[^/]+/recommenders/[^/]+$"));
return _.is(this.$apiClient,{body:null,httpMethod:"GET",methodId:"recommender.folders.locations.recommenders.recommendations.list",path:`/${this.gapiVersion}/${a}/recommendations`,queryParams:_.di(b,K6,c)})}markClaimed(a,b){_.hs(a,RegExp("^folders/[^/]+/locations/[^/]+/recommenders/[^/]+/recommendations/[^/]+$"));return _.is(this.$apiClient,{body:b,httpMethod:"POST",methodId:"recommender.folders.locations.recommenders.recommendations.markClaimed",path:`/${this.gapiVersion}/${a}:markClaimed`,queryParams:_.di({},
K6,{})})}markDismissed(a,b){_.hs(a,RegExp("^folders/[^/]+/locations/[^/]+/recommenders/[^/]+/recommendations/[^/]+$"));return _.is(this.$apiClient,{body:b,httpMethod:"POST",methodId:"recommender.folders.locations.recommenders.recommendations.markDismissed",path:`/${this.gapiVersion}/${a}:markDismissed`,queryParams:_.di({},K6,{})})}markFailed(a,b){_.hs(a,RegExp("^folders/[^/]+/locations/[^/]+/recommenders/[^/]+/recommendations/[^/]+$"));return _.is(this.$apiClient,{body:b,httpMethod:"POST",methodId:"recommender.folders.locations.recommenders.recommendations.markFailed",
path:`/${this.gapiVersion}/${a}:markFailed`,queryParams:_.di({},K6,{})})}markSucceeded(a,b,c={},d={}){_.hs(a,RegExp("^folders/[^/]+/locations/[^/]+/recommenders/[^/]+/recommendations/[^/]+$"));return _.is(this.$apiClient,{body:b,httpMethod:"POST",methodId:"recommender.folders.locations.recommenders.recommendations.markSucceeded",path:`/${this.gapiVersion}/${a}:markSucceeded`,queryParams:_.di(c,K6,d)})}};tAe.\u0275fac=function(a){return new (a||tAe)(_.p(qAe,8),_.p(rAe),_.p(_.fr,8))};
tAe.\u0275prov=_.m({token:tAe,factory:tAe.\u0275fac});
var uAe=class{constructor(a,b,c){this.gapiVersion=a;this.gapiVersion=null==a?"v1beta1":a;this.$apiClient=new _.js(b,c)}get(a,b={},c={}){_.hs(a,RegExp("^organizations/[^/]+/locations/[^/]+/insightTypes/[^/]+/insights/[^/]+$"));return _.is(this.$apiClient,{body:null,httpMethod:"GET",methodId:"recommender.organizations.locations.insightTypes.insights.get",path:`/${this.gapiVersion}/${a}`,queryParams:_.di(b,K6,c)})}list(a,b={},c={}){_.hs(a,RegExp("^organizations/[^/]+/locations/[^/]+/insightTypes/[^/]+$"));return _.is(this.$apiClient,
{body:null,httpMethod:"GET",methodId:"recommender.organizations.locations.insightTypes.insights.list",path:`/${this.gapiVersion}/${a}/insights`,queryParams:_.di(b,K6,c)})}markDismissed(a,b){_.hs(a,RegExp("^organizations/[^/]+/locations/[^/]+/insightTypes/[^/]+/insights/[^/]+$"));return _.is(this.$apiClient,{body:b,httpMethod:"POST",methodId:"recommender.organizations.locations.insightTypes.insights.markDismissed",path:`/${this.gapiVersion}/${a}:markDismissed`,queryParams:_.di({},K6,{})})}};
uAe.\u0275fac=function(a){return new (a||uAe)(_.p(qAe,8),_.p(rAe),_.p(_.fr,8))};uAe.\u0275prov=_.m({token:uAe,factory:uAe.\u0275fac});
var vAe=class{constructor(a,b,c){this.gapiVersion=a;this.gapiVersion=null==a?"v1beta1":a;this.$apiClient=new _.js(b,c)}get(a,b={},c={}){_.hs(a,RegExp("^organizations/[^/]+/locations/[^/]+/recommenders/[^/]+/recommendations/[^/]+$"));return _.is(this.$apiClient,{body:null,httpMethod:"GET",methodId:"recommender.organizations.locations.recommenders.recommendations.get",path:`/${this.gapiVersion}/${a}`,queryParams:_.di(b,K6,c)})}list(a,b={},c={}){_.hs(a,RegExp("^organizations/[^/]+/locations/[^/]+/recommenders/[^/]+$"));
return _.is(this.$apiClient,{body:null,httpMethod:"GET",methodId:"recommender.organizations.locations.recommenders.recommendations.list",path:`/${this.gapiVersion}/${a}/recommendations`,queryParams:_.di(b,K6,c)})}markClaimed(a,b){_.hs(a,RegExp("^organizations/[^/]+/locations/[^/]+/recommenders/[^/]+/recommendations/[^/]+$"));return _.is(this.$apiClient,{body:b,httpMethod:"POST",methodId:"recommender.organizations.locations.recommenders.recommendations.markClaimed",path:`/${this.gapiVersion}/${a}:markClaimed`,
queryParams:_.di({},K6,{})})}markDismissed(a,b){_.hs(a,RegExp("^organizations/[^/]+/locations/[^/]+/recommenders/[^/]+/recommendations/[^/]+$"));return _.is(this.$apiClient,{body:b,httpMethod:"POST",methodId:"recommender.organizations.locations.recommenders.recommendations.markDismissed",path:`/${this.gapiVersion}/${a}:markDismissed`,queryParams:_.di({},K6,{})})}markFailed(a,b){_.hs(a,RegExp("^organizations/[^/]+/locations/[^/]+/recommenders/[^/]+/recommendations/[^/]+$"));return _.is(this.$apiClient,
{body:b,httpMethod:"POST",methodId:"recommender.organizations.locations.recommenders.recommendations.markFailed",path:`/${this.gapiVersion}/${a}:markFailed`,queryParams:_.di({},K6,{})})}markSucceeded(a,b,c={},d={}){_.hs(a,RegExp("^organizations/[^/]+/locations/[^/]+/recommenders/[^/]+/recommendations/[^/]+$"));return _.is(this.$apiClient,{body:b,httpMethod:"POST",methodId:"recommender.organizations.locations.recommenders.recommendations.markSucceeded",path:`/${this.gapiVersion}/${a}:markSucceeded`,
queryParams:_.di(c,K6,d)})}};vAe.\u0275fac=function(a){return new (a||vAe)(_.p(qAe,8),_.p(rAe),_.p(_.fr,8))};vAe.\u0275prov=_.m({token:vAe,factory:vAe.\u0275fac});
var wAe=class{constructor(a,b,c){this.gapiVersion=a;this.gapiVersion=null==a?"v1beta1":a;this.$apiClient=new _.js(b,c)}get(a,b={},c={}){_.hs(a,RegExp("^projects/[^/]+/locations/[^/]+/insightTypes/[^/]+/insights/[^/]+$"));return _.is(this.$apiClient,{body:null,httpMethod:"GET",methodId:"recommender.projects.locations.insightTypes.insights.get",path:`/${this.gapiVersion}/${a}`,queryParams:_.di(b,K6,c)})}list(a,b={},c={}){_.hs(a,RegExp("^projects/[^/]+/locations/[^/]+/insightTypes/[^/]+$"));return _.is(this.$apiClient,
{body:null,httpMethod:"GET",methodId:"recommender.projects.locations.insightTypes.insights.list",path:`/${this.gapiVersion}/${a}/insights`,queryParams:_.di(b,K6,c)})}markDismissed(a,b){_.hs(a,RegExp("^projects/[^/]+/locations/[^/]+/insightTypes/[^/]+/insights/[^/]+$"));return _.is(this.$apiClient,{body:b,httpMethod:"POST",methodId:"recommender.projects.locations.insightTypes.insights.markDismissed",path:`/${this.gapiVersion}/${a}:markDismissed`,queryParams:_.di({},K6,{})})}};
wAe.\u0275fac=function(a){return new (a||wAe)(_.p(qAe,8),_.p(rAe),_.p(_.fr,8))};wAe.\u0275prov=_.m({token:wAe,factory:wAe.\u0275fac});
var xAe=class{constructor(a,b,c){this.gapiVersion=a;this.gapiVersion=null==a?"v1beta1":a;this.$apiClient=new _.js(b,c)}get(a,b={},c={}){_.hs(a,RegExp("^projects/[^/]+/locations/[^/]+/recommenders/[^/]+/recommendations/[^/]+$"));return _.is(this.$apiClient,{body:null,httpMethod:"GET",methodId:"recommender.projects.locations.recommenders.recommendations.get",path:`/${this.gapiVersion}/${a}`,queryParams:_.di(b,K6,c)})}list(a,b={},c={}){_.hs(a,RegExp("^projects/[^/]+/locations/[^/]+/recommenders/[^/]+$"));
return _.is(this.$apiClient,{body:null,httpMethod:"GET",methodId:"recommender.projects.locations.recommenders.recommendations.list",path:`/${this.gapiVersion}/${a}/recommendations`,queryParams:_.di(b,K6,c)})}markClaimed(a,b){_.hs(a,RegExp("^projects/[^/]+/locations/[^/]+/recommenders/[^/]+/recommendations/[^/]+$"));return _.is(this.$apiClient,{body:b,httpMethod:"POST",methodId:"recommender.projects.locations.recommenders.recommendations.markClaimed",path:`/${this.gapiVersion}/${a}:markClaimed`,queryParams:_.di({},
K6,{})})}markDismissed(a,b){_.hs(a,RegExp("^projects/[^/]+/locations/[^/]+/recommenders/[^/]+/recommendations/[^/]+$"));return _.is(this.$apiClient,{body:b,httpMethod:"POST",methodId:"recommender.projects.locations.recommenders.recommendations.markDismissed",path:`/${this.gapiVersion}/${a}:markDismissed`,queryParams:_.di({},K6,{})})}markFailed(a,b){_.hs(a,RegExp("^projects/[^/]+/locations/[^/]+/recommenders/[^/]+/recommendations/[^/]+$"));return _.is(this.$apiClient,{body:b,httpMethod:"POST",methodId:"recommender.projects.locations.recommenders.recommendations.markFailed",
path:`/${this.gapiVersion}/${a}:markFailed`,queryParams:_.di({},K6,{})})}markSucceeded(a,b,c={},d={}){_.hs(a,RegExp("^projects/[^/]+/locations/[^/]+/recommenders/[^/]+/recommendations/[^/]+$"));return _.is(this.$apiClient,{body:b,httpMethod:"POST",methodId:"recommender.projects.locations.recommenders.recommendations.markSucceeded",path:`/${this.gapiVersion}/${a}:markSucceeded`,queryParams:_.di(c,K6,d)})}};xAe.\u0275fac=function(a){return new (a||xAe)(_.p(qAe,8),_.p(rAe),_.p(_.fr,8))};
xAe.\u0275prov=_.m({token:xAe,factory:xAe.\u0275fac});
var yAe=new _.Zc("API_VERSION"),zAe=new _.Zc("REQUEST_SERVICE"),L6={$Xgafv:"$.xgafv",access_token:"access_token",alt:"alt",callback:"callback",fields:"fields",filter:"filter",includeInternalSubtypes:"includeInternalSubtypes",key:"key",oauth_token:"oauth_token",pageSize:"pageSize",pageToken:"pageToken",prettyPrint:"prettyPrint",quotaUser:"quotaUser",updateMask:"updateMask",uploadType:"uploadType",upload_protocol:"upload_protocol",validateOnly:"validateOnly"},AAe=class{constructor(a,b,c){this.gapiVersion=
a;this.gapiVersion=null==a?"v1":a;this.$apiClient=new _.js(b,c)}get(a,b={},c={}){_.hs(a,RegExp("^folders/[^/]+/locations/[^/]+/insightTypes/[^/]+/insights/[^/]+$"));return _.is(this.$apiClient,{body:null,httpMethod:"GET",methodId:"recommender.folders.locations.insightTypes.insights.get",path:`/${this.gapiVersion}/${a}`,queryParams:_.di(b,L6,c)})}list(a,b={},c={}){_.hs(a,RegExp("^folders/[^/]+/locations/[^/]+/insightTypes/[^/]+$"));return _.is(this.$apiClient,{body:null,httpMethod:"GET",methodId:"recommender.folders.locations.insightTypes.insights.list",
path:`/${this.gapiVersion}/${a}/insights`,queryParams:_.di(b,L6,c)})}markDismissed(a,b){_.hs(a,RegExp("^folders/[^/]+/locations/[^/]+/insightTypes/[^/]+/insights/[^/]+$"));return _.is(this.$apiClient,{body:b,httpMethod:"POST",methodId:"recommender.folders.locations.insightTypes.insights.markDismissed",path:`/${this.gapiVersion}/${a}:markDismissed`,queryParams:_.di({},L6,{})})}};AAe.\u0275fac=function(a){return new (a||AAe)(_.p(yAe,8),_.p(zAe),_.p(_.fr,8))};AAe.\u0275prov=_.m({token:AAe,factory:AAe.\u0275fac});
var BAe=class{constructor(a,b,c){this.gapiVersion=a;this.gapiVersion=null==a?"v1":a;this.$apiClient=new _.js(b,c)}get(a,b={},c={}){_.hs(a,RegExp("^organizations/[^/]+/locations/[^/]+/insightTypes/[^/]+/insights/[^/]+$"));return _.is(this.$apiClient,{body:null,httpMethod:"GET",methodId:"recommender.organizations.locations.insightTypes.insights.get",path:`/${this.gapiVersion}/${a}`,queryParams:_.di(b,L6,c)})}list(a,b={},c={}){_.hs(a,RegExp("^organizations/[^/]+/locations/[^/]+/insightTypes/[^/]+$"));
return _.is(this.$apiClient,{body:null,httpMethod:"GET",methodId:"recommender.organizations.locations.insightTypes.insights.list",path:`/${this.gapiVersion}/${a}/insights`,queryParams:_.di(b,L6,c)})}markDismissed(a,b){_.hs(a,RegExp("^organizations/[^/]+/locations/[^/]+/insightTypes/[^/]+/insights/[^/]+$"));return _.is(this.$apiClient,{body:b,httpMethod:"POST",methodId:"recommender.organizations.locations.insightTypes.insights.markDismissed",path:`/${this.gapiVersion}/${a}:markDismissed`,queryParams:_.di({},
L6,{})})}};BAe.\u0275fac=function(a){return new (a||BAe)(_.p(yAe,8),_.p(zAe),_.p(_.fr,8))};BAe.\u0275prov=_.m({token:BAe,factory:BAe.\u0275fac});
var CAe=class{constructor(a,b,c){this.gapiVersion=a;this.gapiVersion=null==a?"v1":a;this.$apiClient=new _.js(b,c)}get(a,b={},c={}){_.hs(a,RegExp("^projects/[^/]+/locations/[^/]+/insightTypes/[^/]+/insights/[^/]+$"));return _.is(this.$apiClient,{body:null,httpMethod:"GET",methodId:"recommender.projects.locations.insightTypes.insights.get",path:`/${this.gapiVersion}/${a}`,queryParams:_.di(b,L6,c)})}list(a,b={},c={}){_.hs(a,RegExp("^projects/[^/]+/locations/[^/]+/insightTypes/[^/]+$"));return _.is(this.$apiClient,
{body:null,httpMethod:"GET",methodId:"recommender.projects.locations.insightTypes.insights.list",path:`/${this.gapiVersion}/${a}/insights`,queryParams:_.di(b,L6,c)})}markDismissed(a,b){_.hs(a,RegExp("^projects/[^/]+/locations/[^/]+/insightTypes/[^/]+/insights/[^/]+$"));return _.is(this.$apiClient,{body:b,httpMethod:"POST",methodId:"recommender.projects.locations.insightTypes.insights.markDismissed",path:`/${this.gapiVersion}/${a}:markDismissed`,queryParams:_.di({},L6,{})})}};
CAe.\u0275fac=function(a){return new (a||CAe)(_.p(yAe,8),_.p(zAe),_.p(_.fr,8))};CAe.\u0275prov=_.m({token:CAe,factory:CAe.\u0275fac});
var DAe=function(a,b){if(b.startsWith("projects"))return a.betaProjectsInsightsClient;if(b.startsWith("folders"))return a.betaFoldersInsightsClient;if(b.startsWith("organizations"))return a.betaOrganizationsInsightsClient;throw Error("Qk`"+b);},M6=class{constructor(a){var b=a.create({host:_.Nf("pantheon_cloudRecommenderApiUrl"),version:"v1alpha2"});b.init(pAe);b.init(nAe);b.init(oAe);b=a.create({host:_.Nf("pantheon_cloudRecommenderApiUrl"),version:"v1beta1"});this.betaProjectsInsightsClient=b.init(wAe);
this.betaFoldersInsightsClient=b.init(sAe);this.betaOrganizationsInsightsClient=b.init(uAe);a=a.create({host:_.Nf("pantheon_cloudRecommenderApiUrl"),version:"v1"});a.init(CAe);a.init(AAe);a.init(BAe)}};M6.\u0275fac=function(a){return new (a||M6)(_.p(_.hr))};M6.\u0275prov=_.m({token:M6,factory:M6.\u0275fac,providedIn:"root"});
var EAe=class{constructor(a){a=a.create({host:_.Nf("pantheon_cloudRecommenderApiUrl"),version:"v1beta1"});this.projectsClient=a.init(xAe);this.foldersClient=a.init(tAe);this.organizationsClient=a.init(vAe)}getClientForName(a){if(a.startsWith("projects"))return this.projectsClient;if(a.startsWith("folders"))return this.foldersClient;if(a.startsWith("organizations"))return this.organizationsClient;throw Error("Qk`"+a);}};EAe.\u0275fac=function(a){return new (a||EAe)(_.p(_.hr))};
EAe.\u0275prov=_.m({token:EAe,factory:EAe.\u0275fac,providedIn:"root"});
var m5=a=>({tag:"Right",right:a}),FAe=a=>"Right"===a.tag;
var GAe=class{constructor(a){this.insightsService=a.insightsService;this.iamPermissionsService=a.iamPermissionsService;this.parentResourceService=a.parentResourceService;this.getPermission=a.getPermission;this.listPermission=a.listPermission}listInsights(a,b){return this.iamPermissionsService.preFetchPermissions([this.listPermission],[a]).pipe(_.zf(()=>this.iamPermissionsService.can(this.listPermission,a)?this.insightsService.listInsights(a,b):_.S({tag:"Left",left:{kind:"listPermissionError",resource:a,
missingPermission:this.listPermission}})))}getInsight(a,b){return this.parentResourceService.getParentResource(a).pipe(_.U(c=>c.resource),_.zf(c=>this.iamPermissionsService.preFetchPermissions([this.getPermission],[c]).pipe(_.zf(()=>this.iamPermissionsService.can(this.getPermission,c)?this.insightsService.getInsight(a,b):_.S({tag:"Left",left:{kind:"getPermissionError",resource:c,missingPermission:this.getPermission,entityName:a}})))))}};
var HAe=function(a,b){return 0===b.getResourceType()?a.projectService.getProject(b.getResourceId(),!0).pipe(_.af(1),_.U(c=>`//cloudresourcemanager.googleapis.com/projects/${c.projectNumber}`)):_.S(b.getFullResourcePath())},N6=class{constructor(a){this.projectService=a}getParentResource(a){const b=a.split("/")[1];if(a.startsWith("projects/"))return this.projectService.getProject(b,!0).pipe(_.af(1),_.U(c=>({resource:c,parentResourceApiName:i$d(c)})));if(a.startsWith("folders/"))return a=new _.fi(b,
43),_.S({resource:a,parentResourceApiName:i$d(a)});if(a.startsWith("organizations/"))return a=new _.fi(b,2),_.S({resource:a,parentResourceApiName:i$d(a)})}};N6.\u0275fac=function(a){return new (a||N6)(_.p(_.tr))};N6.\u0275prov=_.m({token:N6,factory:N6.\u0275fac,providedIn:"root"});
var JAe=function(a,b){const c=`${b}/locations/global/insightTypes/${a.insightTypeId}`;return IAe(a,c).pipe(_.bf(d=>d&&d.nextPageToken?IAe(a,c,d.nextPageToken):_.$e),_.U(d=>{let e;return null!=(e=d.insights)?e:[]}),_.of((d,e)=>d.concat(e),[]),_.U(d=>d.map(e=>a.conversionFunction(e))),_.Ef(d=>{for(const e of d)a.insightByNameCache.set(e.name,_.S(e))}),_.U(d=>d.map(e=>e.name)),_.vf({bufferSize:1,refCount:!0}))},LAe=function(a,b,c){c&&a.insightByNameCache.delete(b);a.insightByNameCache.get(b,{onCacheMiss:()=>
KAe(a,b)});return a.insightByNameCache.onValueChangeFiltered(b).pipe(_.zf(d=>d.pipe(_.U(e=>m5(e)),_.Ue(e=>_.S({tag:"Left",left:$9d(e,b)})))))},KAe=function(a,b){return a.insightsClientResolver.getClientForName(b).get(b).pipe(_.U(c=>a.conversionFunction(c)),_.Ef(c=>{a.updateParentCache(c)}),_.vf({bufferSize:1,refCount:!0}))},IAe=function(a,b,c){const d={};c&&(d.pageToken=c);return a.insightsClientResolver.getClientForName(b).list(b,d)},MAe=class{constructor(a,b){this.conversionFunction=b;this.cacheService=
a.cacheService;this.insightsClientResolver=a;this.parentResourceService=a.parentResourceService;this.roleRecommendationsService=a.roleRecommendationsService;this.insightTypeId=a.insightTypeId;this.insightNamesByParentCache=this.cacheService.createAsync("NON_SHAREABLE_CACHE_ID","insights cache by parent resource");this.insightByNameCache=this.cacheService.createAsync("NON_SHAREABLE_CACHE_ID","insights cache by insight name");this.insightsAccepted$=this.roleRecommendationsService.insightsAccepted$.pipe(_.Ge(c=>
c.includes(this.insightTypeId)));this.insightsAccepted$.pipe(_.U(c=>this.insightByNameCache.get(c)),_.Ge(_.hi),_.zf(c=>c),_.Ge(c=>"ACCEPTED"!==c.state),_.zf(c=>this.getInsight(c.name,{forceCacheRefresh:!0}).pipe(_.af(1)))).subscribe()}listInsights(a,b){const c=i$d(a);(null==b?0:b.forceCacheRefresh)&&this.insightNamesByParentCache.delete(c);this.insightNamesByParentCache.get(c,{onCacheMiss:()=>JAe(this,c)});return this.insightNamesByParentCache.onValueChangeFiltered(c).pipe(_.zf(d=>d.pipe(_.zf(e=>
{if(0===e.length)return _.S(m5([]));e=e.map(f=>LAe(this,f));return _.qe(e).pipe(_.U(f=>{const g=[],h=[];for(const l of f)"Left"===l.tag?g.push(l.left):h.push(l.right);return 0<g.length?{tag:"Left",left:Y9d(h,g)}:m5(h)}))}),_.Ue(e=>_.S({tag:"Left",left:Z9d(e)})))))}getInsight(a,b){return(null==b?0:b.listParentEntitiesFirst)?this.parentResourceService.getParentResource(a).pipe(_.zf(c=>this.listInsights(c.resource).pipe(_.af(1))),_.zf(()=>LAe(this,a,null==b?void 0:b.forceCacheRefresh))):LAe(this,a,null==
b?void 0:b.forceCacheRefresh)}updateParentCache(a){this.parentResourceService.getParentResource(a.name).pipe(_.zf(b=>{const c=b.parentResourceApiName;return(b=this.insightNamesByParentCache.get(c))?b.pipe(_.U(d=>({insightNames:d,parentResourceName:c}))):_.S(null)})).subscribe(b=>{if(null!==b){var c=b.insightNames;b=b.parentResourceName;c.includes(a.name)||(c.push(a.name),this.insightNamesByParentCache.set(b,_.S(c)))}})}};
var p$d=["ACTIVE","DISMISSED","SUCCEEDED"],OAe=function(a,b){const c=b.name;NAe(a,c).subscribe(d=>{const e=n$d(b,d.parentResource.resource);e&&(a.recommendationByNameCache.set(c,_.S(e)),d.recommendationNames&&a.updateParentCache(e,d.recommendationNames,d.parentResource))})},PAe=function(a,b){let c,d;b=null!=(d=null==(c=b.associatedInsights)?void 0:c.map(e=>e.insight))?d:[];for(const e of b)a.insightsAcceptedSubject$.next(e)},RAe=function(a,b){const c=`${b}/locations/global/recommenders/`+"google.iam.policy.Recommender";
return QAe(a,c).pipe(_.bf(d=>d&&d.nextPageToken?QAe(a,c,d.nextPageToken):_.$e),_.U(d=>{let e;return null!=(e=d.recommendations)?e:[]}),_.of((d,e)=>d.concat(e),[]))},TAe=function(a,b,c){c&&a.recommendationByNameCache.delete(b);a.recommendationByNameCache.get(b,{onCacheMiss:()=>SAe(a,b)});return a.recommendationByNameCache.onValueChangeFiltered(b).pipe(_.zf(d=>d.pipe(_.U(e=>m5(e)),_.Ue(e=>_.S({tag:"Left",left:$9d(e,b)})))))},UAe=function(a,b){const c=i$d(b);a.recommendationNamesByParentCache.get(c,
{onCacheMiss:()=>RAe(a,c).pipe(_.U(d=>d.map(e=>n$d(e,b)).filter(e=>!!e).map(e=>e)),_.Ef(d=>{for(const e of d)a.recommendationByNameCache.set(e.name,_.S(e))}),_.U(d=>d.map(e=>e.name)))});return a.recommendationNamesByParentCache.onValueChangeFiltered(c).pipe(_.zf(d=>d.pipe(_.zf(e=>{if(0===e.length)return _.S(m5([]));e=e.map(f=>TAe(a,f));return q$d(e,!0)}),_.Ue(e=>_.S({tag:"Left",left:Z9d(e)})))))},VAe=function(a,b,c){return(null==c?0:c.listParentEntitiesFirst)?a.parentResourceService.getParentResource(b).pipe(_.zf(d=>
UAe(a,d.resource).pipe(_.af(1))),_.zf(()=>TAe(a,b,null==c?void 0:c.forceCacheRefresh))):TAe(a,b,null==c?void 0:c.forceCacheRefresh)},WAe=function(a,b){var c={listParentEntitiesFirst:!0};if(0===b.length)return _.S(m5([]));b=b.map(d=>VAe(a,d,c));return q$d(b)},SAe=function(a,b){const c=a.apiClient.getClientForName(b).get(b);b=a.parentResourceService.getParentResource(b);return _.qe([c,b]).pipe(_.U(([d,e])=>n$d(d,e.resource)),_.Ef(d=>{NAe(a,d.name).subscribe(e=>{e.recommendationNames&&a.updateParentCache(d,
e.recommendationNames,e.parentResource)})}),_.vf({bufferSize:1,refCount:!0}))},NAe=function(a,b){return a.parentResourceService.getParentResource(b).pipe(_.zf(c=>{const d=a.recommendationNamesByParentCache.get(c.parentResourceApiName);return d?d.pipe(_.U(e=>({recommendationNames:e,parentResource:c}))):_.S({parentResource:c})}))},QAe=function(a,b,c){const d={includeInternalSubtypes:!0};c&&(d.pageToken=c);return a.apiClient.getClientForName(b).list(b,d)},O6=class{constructor(a,b,c){this.apiClient=a;
this.parentResourceService=b;this.cacheService=c;this.insightsAccepted$=this.insightsAcceptedSubject$=new _.rf(1);this.recommendationNamesByParentCache=this.cacheService.createAsync("NON_SHAREABLE_CACHE_ID","cached recommendation names by parent resource");this.recommendationByNameCache=this.cacheService.createAsync("NON_SHAREABLE_CACHE_ID","recommendations cache by name")}markClaimed(a,b){return this.apiClient.getClientForName(a).markClaimed(a,{etag:b}).pipe(_.Ef(c=>{OAe(this,c);PAe(this,c)}),_.vf({bufferSize:1,
refCount:!0}))}markSucceeded(a,b,c=!1,d){const e={};c&&(e.reverted="true");d&&(e.google_created_custom_role_name=d);return this.apiClient.getClientForName(a).markSucceeded(a,{etag:b,stateMetadata:e}).pipe(_.Ef(f=>{OAe(this,f);PAe(this,f)}),_.vf({bufferSize:1,refCount:!0}))}markFailed(a,b){return this.apiClient.getClientForName(a).markFailed(a,{etag:b}).pipe(_.Ef(c=>{OAe(this,c);PAe(this,c)}),_.vf({bufferSize:1,refCount:!0}))}markDismissed(a,b){return this.apiClient.getClientForName(a).markDismissed(a,
{etag:b}).pipe(_.Ef(c=>{OAe(this,c)}),_.vf({bufferSize:1,refCount:!0}))}updateParentCache(a,b,c){b.includes(a.name)||(b.push(a.name),this.recommendationNamesByParentCache.set(c.parentResourceApiName,_.S(b)))}};O6.\u0275fac=function(a){return new (a||O6)(_.p(EAe),_.p(N6),_.p(_.Wl))};O6.\u0275prov=_.m({token:O6,factory:O6.\u0275fac,providedIn:"root"});
var P6=class extends MAe{constructor(a,b,c,d){super({cacheService:a,getClientForName:e=>DAe(b,e),parentResourceService:c,roleRecommendationsService:d,insightTypeId:"google.iam.policy.LateralMovementInsight"},h$d);this.cacheService=a;this.insightsService=b;this.parentResourceService=c;this.roleRecommendationsService=d}};P6.\u0275fac=function(a){return new (a||P6)(_.p(_.Wl),_.p(M6),_.p(N6),_.p(O6))};P6.\u0275prov=_.m({token:P6,factory:P6.\u0275fac,providedIn:"root"});
var XAe=class extends GAe{constructor(a,b,c){super({insightsService:b,iamPermissionsService:c,parentResourceService:a,getPermission:"recommender.iamPolicyLateralMovementInsights.get",listPermission:"recommender.iamPolicyLateralMovementInsights.list"});this.parentResourceService=a;this.insightsService=b;this.iamPermissionsService=c}};XAe.\u0275fac=function(a){return new (a||XAe)(_.p(N6),_.p(P6),_.p(_.Vs))};XAe.\u0275prov=_.m({token:XAe,factory:XAe.\u0275fac,providedIn:"root"});
var YAe=class extends MAe{constructor(a,b,c,d){super({cacheService:a,getClientForName:e=>DAe(b,e),parentResourceService:c,roleRecommendationsService:d,insightTypeId:"google.iam.policy.Insight"},g$d);this.cacheService=a;this.insightsService=b;this.parentResourceService=c;this.roleRecommendationsService=d}};YAe.\u0275fac=function(a){return new (a||YAe)(_.p(_.Wl),_.p(M6),_.p(N6),_.p(O6))};YAe.\u0275prov=_.m({token:YAe,factory:YAe.\u0275fac,providedIn:"root"});
var ZAe=["interaction","pageLoadTime","fpsFailure","initialDataReady"],$Ae="writeLatencyMetric category latencyMetricWhitelists whitelists component resultType".split(" "),bBe=function(a,b){aBe(a,b);return Array.from(new Set([...$Ae,...Object.keys(b).sort()])).reduce((c,d)=>{["string","boolean","number"].includes(typeof b[d])&&(c[d]=b[d].toString());return c},{})},aBe=function(a,b){b.writeLatencyMetric=-1!==ZAe.indexOf(a);a=_.BN(_.DN);b.whitelists=a.join("")},Q6=class{constructor(a){this.analyticsService=
a;this.pageViewCount=0}event(a,b={},c="",d,e,f,g={}){b=b||{};d&&(b.label=d);e&&(b.value=e);b=bBe(a,b);this.analyticsService.sendEvent({type:c,name:a,latency:Math.round(f||0),monarchRequestId:g.monarchRequestId,metadata:b})}pageview(a,b={}){a&&(b=bBe("pageview",Object.assign({},b,{page:a,title:a})),this.analyticsService.sendEvent({type:a,name:"pageview",metadata:b,pageView:{id:Math.floor(Math.random()*Number.MAX_SAFE_INTEGER),sequence:this.pageViewCount++,path:a}}))}};Q6.prototype.pageview=Q6.prototype.pageview;
Q6.prototype.event=Q6.prototype.event;Q6.\u0275fac=function(a){return new (a||Q6)(_.p(_.sq))};Q6.\u0275prov=_.m({token:Q6,factory:Q6.\u0275fac,providedIn:"root"});
var R6=class{constructor(a){this.analyticsService=a;this.keys={};this.intervals={};this.timeInit=0;this.timeInit="performance"in window&&window.performance.timeOrigin?window.performance.timeOrigin:Date.now()}sinceLoad(a,b,c){a in this.keys||(this.keys[a]=Date.now(),this.sendTiming("sinceLoad",a,this.keys[a]-this.timeInit,b,c))}since(a,b,c,d){!(b in this.keys)&&a in this.keys&&(this.keys[b]=Date.now(),this.sendTiming("interval",b,this.keys[b]-this.keys[a],c,d))}startInterval(a){this.intervals[a]=Date.now()}cancelInterval(a){delete this.intervals[a]}sendInterval(a,
b,c){if(!(a in this.keys)&&a in this.intervals){const d=Date.now()-this.intervals[a];delete this.intervals[a];this.sendTiming("interval",a,d,b,c)}}sinceInterval(a,b,c,d){a in this.intervals&&(a=Date.now()-this.intervals[a],this.sendTiming("interval",b,a,c,d))}sendTiming(a,b,c,d,e,f={}){this.analyticsService.event(b,Object.assign({},e,{category:a,time:c}),"timing",d,void 0,c,f)}};R6.prototype.sendTiming=R6.prototype.sendTiming;R6.prototype.sinceInterval=R6.prototype.sinceInterval;
R6.prototype.sendInterval=R6.prototype.sendInterval;R6.prototype.cancelInterval=R6.prototype.cancelInterval;R6.prototype.startInterval=R6.prototype.startInterval;R6.prototype.since=R6.prototype.since;R6.prototype.sinceLoad=R6.prototype.sinceLoad;R6.\u0275fac=function(a){return new (a||R6)(_.p(Q6))};R6.\u0275prov=_.m({token:R6,factory:R6.\u0275fac,providedIn:"root"});
var cBe=["chart-throttle-6","chart-adaptive","chart-override-performance-10","chart-webworkers-throttle-28"];
var dBe=new Map([["chart-adaptive",{isGlobal:!1}],["chart-throttle-6",{isGlobal:!1}],["chart-show-data-gaps",{isGlobal:!0}],["chart-cassweb-error-reporting",{isGlobal:!0}],["chart-subtitles",{isGlobal:!0}],["chart-selectable-legend-labels",{isGlobal:!0}],["chart-smart-legend-labels",{isGlobal:!0}],["chart-draw-queue",{isGlobal:!0}],["chart-analytics-events",{isGlobal:!0}],["chart-load-timings",{isGlobal:!0}],["chart-stacked-area-zeros",{isGlobal:!0}],["chart-override-performance-10",{userExperiment:"ChartPerformanceGooglers2__enabled",
projectExperiment:"ChartPerformance__enabled",isGlobal:!1}],["chart-server-stream-limit-300",{userExperiment:"ChartServerStreamLimitGooglers__enabled",projectExperiment:"ChartServerStreamLimit__enabled",isGlobal:!0}],["chart-show-bands-first",{userExperiment:"ChartShowBandsFirstGooglers__enabled",projectExperiment:"ChartShowBandsFirst__enabled",isGlobal:!0}],["chart-two-year-retention",{userExperiment:"ChartTwoYearRetentionGooglers__enabled",projectExperiment:"ChartTwoYearRetention__enabled",isGlobal:!0}],
["chart-webworkers-throttle-28",{userExperiment:"ChartConcurrencyLimit__enabled",projectExperiment:"ChartConcurrencyLimitProject__enabled",isGlobal:!1}]]),eBe=class{constructor(a,b){this.whitelistsObservable=a.getCurrentProjectId().pipe(_.zf(c=>c?b.getProject(c).pipe(_.Ue(()=>_.S(void 0)),_.Ge(d=>!!d)):_.$e),_.U(c=>{const d=Array.from(dBe.entries()).map(([e,f])=>{var g=f.userExperiment,h=f.projectExperiment;f=f.operator;if(!g&&!h)return[e,!0];let l=!1;g&&h?(g=!!_.Nf(g),h=c?!!c.getFlagValue(h):!1,
l="AND"===f?g&&h:g||h):g?l=!!_.Nf(g):h&&(l=c?!!c.getFlagValue(h):!1);return[e,l]});return new Map(d)}));this.whitelistsObservable.pipe(_.af(1)).subscribe(c=>{for(const [d,e]of c.entries()){c=d;const f=e,g=dBe.get(c);g&&_.DN.setWhitelist&&g.isGlobal&&_.DN.setWhitelist(c,f)}})}isWhitelisted(a){return this.whitelistsObservable.pipe(_.U(b=>!!b.get(a)))}getStrategyWhitelists(){return this.whitelistsObservable.pipe(_.U(a=>Array.from(a.keys()).filter(b=>0<=cBe.indexOf(b)&&!!a.get(b))))}};
eBe.\u0275fac=function(a){return new (a||eBe)(_.p(_.Zm),_.p(_.tr))};eBe.\u0275prov=_.m({token:eBe,factory:eBe.\u0275fac,providedIn:"root"});
var fBe={},d7=function(){this.deferred=[]};_.nh("awesomecharts.utils.DeferredBucket",d7);d7.prototype.add=function(a){if("function"!==typeof a)throw Error("Rk`"+typeof a);this.deferred.push(a);return this};d7.prototype.add=d7.prototype.add;d7.prototype.clear=function(){this.deferred=[];return this};d7.prototype.clear=d7.prototype.clear;d7.prototype.run=function(){_.IN(this.deferred,function(a){a()})};d7.prototype.run=d7.prototype.run;var gBe=function(a){if(fBe[a])return fBe[a];fBe[a]=new d7;return fBe[a]};
d7.factory=gBe;var hBe=function(a){(a=fBe[a])&&a.run();a.clear()};d7.runDeferred=hBe;
var iBe=class{encodeKey(a){return encodeURIComponent(a)}encodeValue(a){return encodeURIComponent(a)}decodeKey(a){return decodeURIComponent(a)}decodeValue(a){return decodeURIComponent(a)}},Epe=class{constructor(a){this.setErrorExperience=a}},jBe=function(a){const b=_.S(a.location.path()),c=a.router.events.pipe(_.Ge(d=>d instanceof _.ug),_.U(({url:d})=>d));_.De(b,c).pipe(_.U(d=>{({queryParamMap:d}=a.router.parseUrl(d));return d})).subscribe(d=>{d=d.get("token");a.xIamToken=d&&"string"===typeof d?d:
null})},kBe=function(a,{path:b,method:c,body:d,params:e,headers:f}){f&&f["X-Stackdriver-debug"]&&delete f["X-Stackdriver-debug"];e=new _.Ei({fromObject:e?e:{},encoder:new iBe});return a.http.request(c||"GET",b,{body:d,headers:f,params:e}).pipe(_.Ue(g=>_.ie({status:g.errorCode,result:g.body,setErrorExperience:h=>{g.errorExperience=h}})))},lBe=class{constructor(a,b,c,d){this.http=a;this.router=b;this.location=c;this.authState=d;this.xIamToken=null;jBe(this)}request(a){return _.ke(kBe(this,a)).then(_.$za)}handleRequestError(a){return new Epe(a.setErrorExperience)}isReady(){return!0}isAuthInProgress(){return!1}checkAuth(){hBe("googleAuth")}clear(){}newBatch(){return{add(){},
then(){}}}authorizeRequest(a){var b=this.authState.getCurrentAccount();b=b?b.getAuthUser():null;a.headers||(a.headers={});const c=a.headers;a.credentials="include";c.Authorization=_.gEa([])||"";c["X-Goog-Api-Key"]=_.Nf("pantheon_apiKey");b&&!_.kTa&&(c["X-Goog-AuthUser"]=b);null!=this.xIamToken&&(c["X-Goog-Iam-Authorization-Token"]=this.xIamToken);return a}};lBe.\u0275fac=function(a){return new (a||lBe)(_.p(_.Bg),_.p(_.gg),_.p(_.wl),_.p(_.Xm))};lBe.\u0275prov=_.m({token:lBe,factory:lBe.\u0275fac,providedIn:"root"});
var mBe=['/**\n * @fileoverview\n * @suppress {checkTypes|checkVars}\n * @license\n * Copyright (c) JS Foundation and other contributors\n * SPDX-License-Identifier: MIT\n */\n!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";var H;function f(){return H.apply(null,arguments)}function a(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function F(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function c(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function L(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;for(var t in e)if(c(e,t))return;return 1}function o(e){return void 0===e}function u(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function V(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function G(e,t){for(var n=[],s=e.length,i=0;i<s;++i)n.push(t(e[i],i));return n}function E(e,t){for(var n in t)c(t,n)&&(e[n]=t[n]);return c(t,"toString")&&(e.toString=t.toString),c(t,"valueOf")&&(e.valueOf=t.valueOf),e}function l(e,t,n,s){return Pt(e,t,n,s,!0).utc()}function m(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function A(e){if(null==e._isValid){var t=m(e),n=j.call(t.parsedDateParts,function(e){return null!=e}),n=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(n=n&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return n;e._isValid=n}return e._isValid}function I(e){var t=l(NaN);return null!=e?E(m(t),e):m(t).userInvalidated=!0,t}var j=Array.prototype.some||function(e){for(var t=Object(this),n=t.length>>>0,s=0;s<n;s++)if(s in t&&e.call(this,t[s],s,t))return!0;return!1},Z=f.momentProperties=[],z=!1;function $(e,t){var n,s,i,r=Z.length;if(o(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),o(t._i)||(e._i=t._i),o(t._f)||(e._f=t._f),o(t._l)||(e._l=t._l),o(t._strict)||(e._strict=t._strict),o(t._tzm)||(e._tzm=t._tzm),o(t._isUTC)||(e._isUTC=t._isUTC),o(t._offset)||(e._offset=t._offset),o(t._pf)||(e._pf=m(t)),o(t._locale)||(e._locale=t._locale),0<r)for(n=0;n<r;n++)o(i=t[s=Z[n]])||(e[s]=i);return e}function q(e){$(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===z&&(z=!0,f.updateOffset(this),z=!1)}function h(e){return e instanceof q||null!=e&&null!=e._isAMomentObject}function B(e){!1===f.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function e(r,a){var o=!0;return E(function(){if(null!=f.deprecationHandler&&f.deprecationHandler(null,r),o){for(var e,t,n=[],s=arguments.length,i=0;i<s;i++){if(e="","object"==typeof arguments[i]){for(t in e+="\\n["+i+"] ",arguments[0])c(arguments[0],t)&&(e+=t+": "+arguments[0][t]+", ");e=e.slice(0,-2)}else e=arguments[i];n.push(e)}B(r+"\\nArguments: "+Array.prototype.slice.call(n).join("")+"\\n"+(new Error).stack),o=!1}return a.apply(this,arguments)},a)}var J={};function Q(e,t){null!=f.deprecationHandler&&f.deprecationHandler(e,t),J[e]||(B(t),J[e]=!0)}function d(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function X(e,t){var n,s=E({},e);for(n in t)c(t,n)&&(F(e[n])&&F(t[n])?(s[n]={},E(s[n],e[n]),E(s[n],t[n])):null!=t[n]?s[n]=t[n]:delete s[n]);for(n in e)c(e,n)&&!c(t,n)&&F(e[n])&&(s[n]=E({},s[n]));return s}function K(e){null!=e&&this.set(e)}f.suppressDeprecationWarnings=!1,f.deprecationHandler=null;var ee=Object.keys||function(e){var t,n=[];for(t in e)c(e,t)&&n.push(t);return n};function r(e,t,n){var s=""+Math.abs(e);return(0<=e?n?"+":"":"-")+Math.pow(10,Math.max(0,t-s.length)).toString().substr(1)+s}var te=/(\\[[^\\[]*\\])|(\\\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ne=/(\\[[^\\[]*\\])|(\\\\)?(LTS|LT|LL?L?L?|l{1,4})/g,se={},ie={};function s(e,t,n,s){var i="string"==typeof s?function(){return this[s]()}:s;e&&(ie[e]=i),t&&(ie[t[0]]=function(){return r(i.apply(this,arguments),t[1],t[2])}),n&&(ie[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function re(e,t){return e.isValid()?(t=ae(t,e.localeData()),se[t]=se[t]||function(s){for(var e,i=s.match(te),t=0,r=i.length;t<r;t++)ie[i[t]]?i[t]=ie[i[t]]:i[t]=(e=i[t]).match(/\\[[\\s\\S]/)?e.replace(/^\\[|\\]$/g,""):e.replace(/\\\\/g,"");return function(e){for(var t="",n=0;n<r;n++)t+=d(i[n])?i[n].call(e,s):i[n];return t}}(t),se[t](e)):e.localeData().invalidDate()}function ae(e,t){var n=5;function s(e){return t.longDateFormat(e)||e}for(ne.lastIndex=0;0<=n&&ne.test(e);)e=e.replace(ne,s),ne.lastIndex=0,--n;return e}var oe={};function t(e,t){var n=e.toLowerCase();oe[n]=oe[n+"s"]=oe[t]=e}function _(e){return"string"==typeof e?oe[e]||oe[e.toLowerCase()]:void 0}function ue(e){var t,n,s={};for(n in e)c(e,n)&&(t=_(n))&&(s[t]=e[n]);return s}var le={};function n(e,t){le[e]=t}function he(e){return e%4==0&&e%100!=0||e%400==0}function y(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function g(e){var e=+e,t=0;return t=0!=e&&isFinite(e)?y(e):t}function de(t,n){return function(e){return null!=e?(fe(this,t,e),f.updateOffset(this,n),this):ce(this,t)}}function ce(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function fe(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&he(e.year())&&1===e.month()&&29===e.date()?(n=g(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),We(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}var i=/\\d/,w=/\\d\\d/,me=/\\d{3}/,_e=/\\d{4}/,ye=/[+-]?\\d{6}/,p=/\\d\\d?/,ge=/\\d\\d\\d\\d?/,we=/\\d\\d\\d\\d\\d\\d?/,pe=/\\d{1,3}/,ke=/\\d{1,4}/,ve=/[+-]?\\d{1,6}/,Me=/\\d+/,De=/[+-]?\\d+/,Se=/Z|[+-]\\d\\d:?\\d\\d/gi,Ye=/Z|[+-]\\d\\d(?::?\\d\\d)?/gi,k=/[0-9]{0,256}[\'a-z\\u00A0-\\u05FF\\u0700-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFF07\\uFF10-\\uFFEF]{1,256}|[\\u0600-\\u06FF\\/]{1,256}(\\s*?[\\u0600-\\u06FF]{1,256}){1,2}/i;function v(e,n,s){be[e]=d(n)?n:function(e,t){return e&&s?s:n}}function Oe(e,t){return c(be,e)?be[e](t._strict,t._locale):new RegExp(M(e.replace("\\\\","").replace(/\\\\(\\[)|\\\\(\\])|\\[([^\\]\\[]*)\\]|\\\\(.)/g,function(e,t,n,s,i){return t||n||s||i})))}function M(e){return e.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g,"\\\\$&")}var be={},xe={};function D(e,n){var t,s,i=n;for("string"==typeof e&&(e=[e]),u(n)&&(i=function(e,t){t[n]=g(e)}),s=e.length,t=0;t<s;t++)xe[e[t]]=i}function Te(e,i){D(e,function(e,t,n,s){n._w=n._w||{},i(e,n._w,n,s)})}var S,Y=0,O=1,b=2,x=3,T=4,N=5,Ne=6,Pe=7,Re=8;function We(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=(t%(n=12)+n)%n;return e+=(t-n)/12,1==n?he(e)?29:28:31-n%7%2}S=Array.prototype.indexOf||function(e){for(var t=0;t<this.length;++t)if(this[t]===e)return t;return-1},s("M",["MM",2],"Mo",function(){return this.month()+1}),s("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),s("MMMM",0,0,function(e){return this.localeData().months(this,e)}),t("month","M"),n("month",8),v("M",p),v("MM",p,w),v("MMM",function(e,t){return t.monthsShortRegex(e)}),v("MMMM",function(e,t){return t.monthsRegex(e)}),D(["M","MM"],function(e,t){t[O]=g(e)-1}),D(["MMM","MMMM"],function(e,t,n,s){s=n._locale.monthsParse(e,s,n._strict);null!=s?t[O]=s:m(n).invalidMonth=e});var Ce="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ue="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),He=/D[oD]?(\\[[^\\[\\]]*\\]|\\s)+MMMM?/,Fe=k,Le=k;function Ve(e,t){var n;if(e.isValid()){if("string"==typeof t)if(/^\\d+$/.test(t))t=g(t);else if(!u(t=e.localeData().monthsParse(t)))return;n=Math.min(e.date(),We(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n)}}function Ge(e){return null!=e?(Ve(this,e),f.updateOffset(this,!0),this):ce(this,"Month")}function Ee(){function e(e,t){return t.length-e.length}for(var t,n=[],s=[],i=[],r=0;r<12;r++)t=l([2e3,r]),n.push(this.monthsShort(t,"")),s.push(this.months(t,"")),i.push(this.months(t,"")),i.push(this.monthsShort(t,""));for(n.sort(e),s.sort(e),i.sort(e),r=0;r<12;r++)n[r]=M(n[r]),s[r]=M(s[r]);for(r=0;r<24;r++)i[r]=M(i[r]);this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function Ae(e){return he(e)?366:365}s("Y",0,0,function(){var e=this.year();return e<=9999?r(e,4):"+"+e}),s(0,["YY",2],0,function(){return this.year()%100}),s(0,["YYYY",4],0,"year"),s(0,["YYYYY",5],0,"year"),s(0,["YYYYYY",6,!0],0,"year"),t("year","y"),n("year",1),v("Y",De),v("YY",p,w),v("YYYY",ke,_e),v("YYYYY",ve,ye),v("YYYYYY",ve,ye),D(["YYYYY","YYYYYY"],Y),D("YYYY",function(e,t){t[Y]=2===e.length?f.parseTwoDigitYear(e):g(e)}),D("YY",function(e,t){t[Y]=f.parseTwoDigitYear(e)}),D("Y",function(e,t){t[Y]=parseInt(e,10)}),f.parseTwoDigitYear=function(e){return g(e)+(68<g(e)?1900:2e3)};var Ie=de("FullYear",!0);function je(e,t,n,s,i,r,a){var o;return e<100&&0<=e?(o=new Date(e+400,t,n,s,i,r,a),isFinite(o.getFullYear())&&o.setFullYear(e)):o=new Date(e,t,n,s,i,r,a),o}function Ze(e){var t;return e<100&&0<=e?((t=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,t)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function ze(e,t,n){n=7+t-n;return n-(7+Ze(e,0,n).getUTCDay()-t)%7-1}function $e(e,t,n,s,i){var r,t=1+7*(t-1)+(7+n-s)%7+ze(e,s,i),n=t<=0?Ae(r=e-1)+t:t>Ae(e)?(r=e+1,t-Ae(e)):(r=e,t);return{year:r,dayOfYear:n}}function qe(e,t,n){var s,i,r=ze(e.year(),t,n),r=Math.floor((e.dayOfYear()-r-1)/7)+1;return r<1?s=r+P(i=e.year()-1,t,n):r>P(e.year(),t,n)?(s=r-P(e.year(),t,n),i=e.year()+1):(i=e.year(),s=r),{week:s,year:i}}function P(e,t,n){var s=ze(e,t,n),t=ze(e+1,t,n);return(Ae(e)-s+t)/7}s("w",["ww",2],"wo","week"),s("W",["WW",2],"Wo","isoWeek"),t("week","w"),t("isoWeek","W"),n("week",5),n("isoWeek",5),v("w",p),v("ww",p,w),v("W",p),v("WW",p,w),Te(["w","ww","W","WW"],function(e,t,n,s){t[s.substr(0,1)]=g(e)});function Be(e,t){return e.slice(t,7).concat(e.slice(0,t))}s("d",0,"do","day"),s("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),s("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),s("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),s("e",0,0,"weekday"),s("E",0,0,"isoWeekday"),t("day","d"),t("weekday","e"),t("isoWeekday","E"),n("day",11),n("weekday",11),n("isoWeekday",11),v("d",p),v("e",p),v("E",p),v("dd",function(e,t){return t.weekdaysMinRegex(e)}),v("ddd",function(e,t){return t.weekdaysShortRegex(e)}),v("dddd",function(e,t){return t.weekdaysRegex(e)}),Te(["dd","ddd","dddd"],function(e,t,n,s){s=n._locale.weekdaysParse(e,s,n._strict);null!=s?t.d=s:m(n).invalidWeekday=e}),Te(["d","e","E"],function(e,t,n,s){t[s]=g(e)});var Je="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Qe="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Xe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ke=k,et=k,tt=k;function nt(){function e(e,t){return t.length-e.length}for(var t,n,s,i=[],r=[],a=[],o=[],u=0;u<7;u++)s=l([2e3,1]).day(u),t=M(this.weekdaysMin(s,"")),n=M(this.weekdaysShort(s,"")),s=M(this.weekdays(s,"")),i.push(t),r.push(n),a.push(s),o.push(t),o.push(n),o.push(s);i.sort(e),r.sort(e),a.sort(e),o.sort(e),this._weekdaysRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+i.join("|")+")","i")}function st(){return this.hours()%12||12}function it(e,t){s(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function rt(e,t){return t._meridiemParse}s("H",["HH",2],0,"hour"),s("h",["hh",2],0,st),s("k",["kk",2],0,function(){return this.hours()||24}),s("hmm",0,0,function(){return""+st.apply(this)+r(this.minutes(),2)}),s("hmmss",0,0,function(){return""+st.apply(this)+r(this.minutes(),2)+r(this.seconds(),2)}),s("Hmm",0,0,function(){return""+this.hours()+r(this.minutes(),2)}),s("Hmmss",0,0,function(){return""+this.hours()+r(this.minutes(),2)+r(this.seconds(),2)}),it("a",!0),it("A",!1),t("hour","h"),n("hour",13),v("a",rt),v("A",rt),v("H",p),v("h",p),v("k",p),v("HH",p,w),v("hh",p,w),v("kk",p,w),v("hmm",ge),v("hmmss",we),v("Hmm",ge),v("Hmmss",we),D(["H","HH"],x),D(["k","kk"],function(e,t,n){e=g(e);t[x]=24===e?0:e}),D(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),D(["h","hh"],function(e,t,n){t[x]=g(e),m(n).bigHour=!0}),D("hmm",function(e,t,n){var s=e.length-2;t[x]=g(e.substr(0,s)),t[T]=g(e.substr(s)),m(n).bigHour=!0}),D("hmmss",function(e,t,n){var s=e.length-4,i=e.length-2;t[x]=g(e.substr(0,s)),t[T]=g(e.substr(s,2)),t[N]=g(e.substr(i)),m(n).bigHour=!0}),D("Hmm",function(e,t,n){var s=e.length-2;t[x]=g(e.substr(0,s)),t[T]=g(e.substr(s))}),D("Hmmss",function(e,t,n){var s=e.length-4,i=e.length-2;t[x]=g(e.substr(0,s)),t[T]=g(e.substr(s,2)),t[N]=g(e.substr(i))});k=de("Hours",!0);var at,ot={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Ce,monthsShort:Ue,week:{dow:0,doy:6},weekdays:Je,weekdaysMin:Xe,weekdaysShort:Qe,meridiemParse:/[ap]\\.?m?\\.?/i},R={},ut={};function lt(e){return e&&e.toLowerCase().replace("_","-")}function ht(e){for(var t,n,s,i,r=0;r<e.length;){for(t=(i=lt(e[r]).split("-")).length,n=(n=lt(e[r+1]))?n.split("-"):null;0<t;){if(s=dt(i.slice(0,t).join("-")))return s;if(n&&n.length>=t&&function(e,t){for(var n=Math.min(e.length,t.length),s=0;s<n;s+=1)if(e[s]!==t[s])return s;return n}(i,n)>=t-1)break;t--}r++}return at}function dt(t){var e;if(void 0===R[t]&&"undefined"!=typeof module&&module&&module.exports&&null!=t.match("^[^/\\\\\\\\]*$"))try{e=at._abbr,require("./locale/"+t),ct(e)}catch(e){R[t]=null}return R[t]}function ct(e,t){return e&&((t=o(t)?mt(e):ft(e,t))?at=t:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),at._abbr}function ft(e,t){if(null===t)return delete R[e],null;var n,s=ot;if(t.abbr=e,null!=R[e])Q("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),s=R[e]._config;else if(null!=t.parentLocale)if(null!=R[t.parentLocale])s=R[t.parentLocale]._config;else{if(null==(n=dt(t.parentLocale)))return ut[t.parentLocale]||(ut[t.parentLocale]=[]),ut[t.parentLocale].push({name:e,config:t}),null;s=n._config}return R[e]=new K(X(s,t)),ut[e]&&ut[e].forEach(function(e){ft(e.name,e.config)}),ct(e),R[e]}function mt(e){var t;if(!(e=e&&e._locale&&e._locale._abbr?e._locale._abbr:e))return at;if(!a(e)){if(t=dt(e))return t;e=[e]}return ht(e)}function _t(e){var t=e._a;return t&&-2===m(e).overflow&&(t=t[O]<0||11<t[O]?O:t[b]<1||t[b]>We(t[Y],t[O])?b:t[x]<0||24<t[x]||24===t[x]&&(0!==t[T]||0!==t[N]||0!==t[Ne])?x:t[T]<0||59<t[T]?T:t[N]<0||59<t[N]?N:t[Ne]<0||999<t[Ne]?Ne:-1,m(e)._overflowDayOfYear&&(t<Y||b<t)&&(t=b),m(e)._overflowWeeks&&-1===t&&(t=Pe),m(e)._overflowWeekday&&-1===t&&(t=Re),m(e).overflow=t),e}var yt=/^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([+-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/,gt=/^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d|))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([+-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/,wt=/Z|[+-]\\d\\d(?::?\\d\\d)?/,pt=[["YYYYYY-MM-DD",/[+-]\\d{6}-\\d\\d-\\d\\d/],["YYYY-MM-DD",/\\d{4}-\\d\\d-\\d\\d/],["GGGG-[W]WW-E",/\\d{4}-W\\d\\d-\\d/],["GGGG-[W]WW",/\\d{4}-W\\d\\d/,!1],["YYYY-DDD",/\\d{4}-\\d{3}/],["YYYY-MM",/\\d{4}-\\d\\d/,!1],["YYYYYYMMDD",/[+-]\\d{10}/],["YYYYMMDD",/\\d{8}/],["GGGG[W]WWE",/\\d{4}W\\d{3}/],["GGGG[W]WW",/\\d{4}W\\d{2}/,!1],["YYYYDDD",/\\d{7}/],["YYYYMM",/\\d{6}/,!1],["YYYY",/\\d{4}/,!1]],kt=[["HH:mm:ss.SSSS",/\\d\\d:\\d\\d:\\d\\d\\.\\d+/],["HH:mm:ss,SSSS",/\\d\\d:\\d\\d:\\d\\d,\\d+/],["HH:mm:ss",/\\d\\d:\\d\\d:\\d\\d/],["HH:mm",/\\d\\d:\\d\\d/],["HHmmss.SSSS",/\\d\\d\\d\\d\\d\\d\\.\\d+/],["HHmmss,SSSS",/\\d\\d\\d\\d\\d\\d,\\d+/],["HHmmss",/\\d\\d\\d\\d\\d\\d/],["HHmm",/\\d\\d\\d\\d/],["HH",/\\d\\d/]],vt=/^\\/?Date\\((-?\\d+)/i,Mt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\\s)?(\\d{1,2})\\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\\s(\\d{2,4})\\s(\\d\\d):(\\d\\d)(?::(\\d\\d))?\\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\\d{4}))$/,Dt={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function St(e){var t,n,s,i,r,a,o=e._i,u=yt.exec(o)||gt.exec(o),o=pt.length,l=kt.length;if(u){for(m(e).iso=!0,t=0,n=o;t<n;t++)if(pt[t][1].exec(u[1])){i=pt[t][0],s=!1!==pt[t][2];break}if(null==i)e._isValid=!1;else{if(u[3]){for(t=0,n=l;t<n;t++)if(kt[t][1].exec(u[3])){r=(u[2]||" ")+kt[t][0];break}if(null==r)return void(e._isValid=!1)}if(s||null==r){if(u[4]){if(!wt.exec(u[4]))return void(e._isValid=!1);a="Z"}e._f=i+(r||"")+(a||""),Tt(e)}else e._isValid=!1}}else e._isValid=!1}function Yt(e,t,n,s,i,r){e=[function(e){e=parseInt(e,10);{if(e<=49)return 2e3+e;if(e<=999)return 1900+e}return e}(e),Ue.indexOf(t),parseInt(n,10),parseInt(s,10),parseInt(i,10)];return r&&e.push(parseInt(r,10)),e}function Ot(e){var t,n,s,i,r=Mt.exec(e._i.replace(/\\([^()]*\\)|[\\n\\t]/g," ").replace(/(\\s\\s+)/g," ").replace(/^\\s\\s*/,"").replace(/\\s\\s*$/,""));r?(t=Yt(r[4],r[3],r[2],r[5],r[6],r[7]),n=r[1],s=t,i=e,n&&Qe.indexOf(n)!==new Date(s[0],s[1],s[2]).getDay()?(m(i).weekdayMismatch=!0,i._isValid=!1):(e._a=t,e._tzm=(n=r[8],s=r[9],i=r[10],n?Dt[n]:s?0:60*(((n=parseInt(i,10))-(s=n%100))/100)+s),e._d=Ze.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),m(e).rfc2822=!0)):e._isValid=!1}function bt(e,t,n){return null!=e?e:null!=t?t:n}function xt(e){var t,n,s,i,r,a,o,u,l,h,d,c=[];if(!e._d){for(s=e,i=new Date(f.now()),n=s._useUTC?[i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()]:[i.getFullYear(),i.getMonth(),i.getDate()],e._w&&null==e._a[b]&&null==e._a[O]&&(null!=(i=(s=e)._w).GG||null!=i.W||null!=i.E?(u=1,l=4,r=bt(i.GG,s._a[Y],qe(W(),1,4).year),a=bt(i.W,1),((o=bt(i.E,1))<1||7<o)&&(h=!0)):(u=s._locale._week.dow,l=s._locale._week.doy,d=qe(W(),u,l),r=bt(i.gg,s._a[Y],d.year),a=bt(i.w,d.week),null!=i.d?((o=i.d)<0||6<o)&&(h=!0):null!=i.e?(o=i.e+u,(i.e<0||6<i.e)&&(h=!0)):o=u),a<1||a>P(r,u,l)?m(s)._overflowWeeks=!0:null!=h?m(s)._overflowWeekday=!0:(d=$e(r,a,o,u,l),s._a[Y]=d.year,s._dayOfYear=d.dayOfYear)),null!=e._dayOfYear&&(i=bt(e._a[Y],n[Y]),(e._dayOfYear>Ae(i)||0===e._dayOfYear)&&(m(e)._overflowDayOfYear=!0),h=Ze(i,0,e._dayOfYear),e._a[O]=h.getUTCMonth(),e._a[b]=h.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=c[t]=n[t];for(;t<7;t++)e._a[t]=c[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[x]&&0===e._a[T]&&0===e._a[N]&&0===e._a[Ne]&&(e._nextDay=!0,e._a[x]=0),e._d=(e._useUTC?Ze:je).apply(null,c),r=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[x]=24),e._w&&void 0!==e._w.d&&e._w.d!==r&&(m(e).weekdayMismatch=!0)}}function Tt(e){if(e._f===f.ISO_8601)St(e);else if(e._f===f.RFC_2822)Ot(e);else{e._a=[],m(e).empty=!0;for(var t,n,s,i,r,a=""+e._i,o=a.length,u=0,l=ae(e._f,e._locale).match(te)||[],h=l.length,d=0;d<h;d++)n=l[d],(t=(a.match(Oe(n,e))||[])[0])&&(0<(s=a.substr(0,a.indexOf(t))).length&&m(e).unusedInput.push(s),a=a.slice(a.indexOf(t)+t.length),u+=t.length),ie[n]?(t?m(e).empty=!1:m(e).unusedTokens.push(n),s=n,r=e,null!=(i=t)&&c(xe,s)&&xe[s](i,r._a,r,s)):e._strict&&!t&&m(e).unusedTokens.push(n);m(e).charsLeftOver=o-u,0<a.length&&m(e).unusedInput.push(a),e._a[x]<=12&&!0===m(e).bigHour&&0<e._a[x]&&(m(e).bigHour=void 0),m(e).parsedDateParts=e._a.slice(0),m(e).meridiem=e._meridiem,e._a[x]=function(e,t,n){if(null==n)return t;return null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((e=e.isPM(n))&&t<12&&(t+=12),t=e||12!==t?t:0):t}(e._locale,e._a[x],e._meridiem),null!==(o=m(e).era)&&(e._a[Y]=e._locale.erasConvertYear(o,e._a[Y])),xt(e),_t(e)}}function Nt(e){var t,n,s,i=e._i,r=e._f;if(e._locale=e._locale||mt(e._l),null===i||void 0===r&&""===i)return I({nullInput:!0});if("string"==typeof i&&(e._i=i=e._locale.preparse(i)),h(i))return new q(_t(i));if(V(i))e._d=i;else if(a(r))!function(e){var t,n,s,i,r,a,o=!1,u=e._f.length;if(0===u)return m(e).invalidFormat=!0,e._d=new Date(NaN);for(i=0;i<u;i++)r=0,a=!1,t=$({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Tt(t),A(t)&&(a=!0),r=(r+=m(t).charsLeftOver)+10*m(t).unusedTokens.length,m(t).score=r,o?r<s&&(s=r,n=t):(null==s||r<s||a)&&(s=r,n=t,a&&(o=!0));E(e,n||t)}(e);else if(r)Tt(e);else if(o(r=(i=e)._i))i._d=new Date(f.now());else V(r)?i._d=new Date(r.valueOf()):"string"==typeof r?(n=i,null!==(t=vt.exec(n._i))?n._d=new Date(+t[1]):(St(n),!1===n._isValid&&(delete n._isValid,Ot(n),!1===n._isValid&&(delete n._isValid,n._strict?n._isValid=!1:f.createFromInputFallback(n))))):a(r)?(i._a=G(r.slice(0),function(e){return parseInt(e,10)}),xt(i)):F(r)?(t=i)._d||(s=void 0===(n=ue(t._i)).day?n.date:n.day,t._a=G([n.year,n.month,s,n.hour,n.minute,n.second,n.millisecond],function(e){return e&&parseInt(e,10)}),xt(t)):u(r)?i._d=new Date(r):f.createFromInputFallback(i);return A(e)||(e._d=null),e}function Pt(e,t,n,s,i){var r={};return!0!==t&&!1!==t||(s=t,t=void 0),!0!==n&&!1!==n||(s=n,n=void 0),(F(e)&&L(e)||a(e)&&0===e.length)&&(e=void 0),r._isAMomentObject=!0,r._useUTC=r._isUTC=i,r._l=n,r._i=e,r._f=t,r._strict=s,(i=new q(_t(Nt(i=r))))._nextDay&&(i.add(1,"d"),i._nextDay=void 0),i}function W(e,t,n,s){return Pt(e,t,n,s,!1)}f.createFromInputFallback=e("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),f.ISO_8601=function(){},f.RFC_2822=function(){};ge=e("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=W.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:I()}),we=e("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=W.apply(null,arguments);return this.isValid()&&e.isValid()?this<e?this:e:I()});function Rt(e,t){var n,s;if(!(t=1===t.length&&a(t[0])?t[0]:t).length)return W();for(n=t[0],s=1;s<t.length;++s)t[s].isValid()&&!t[s][e](n)||(n=t[s]);return n}var Wt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Ct(e){var e=ue(e),t=e.year||0,n=e.quarter||0,s=e.month||0,i=e.week||e.isoWeek||0,r=e.day||0,a=e.hour||0,o=e.minute||0,u=e.second||0,l=e.millisecond||0;this._isValid=function(e){var t,n,s=!1,i=Wt.length;for(t in e)if(c(e,t)&&(-1===S.call(Wt,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<i;++n)if(e[Wt[n]]){if(s)return!1;parseFloat(e[Wt[n]])!==g(e[Wt[n]])&&(s=!0)}return!0}(e),this._milliseconds=+l+1e3*u+6e4*o+1e3*a*60*60,this._days=+r+7*i,this._months=+s+3*n+12*t,this._data={},this._locale=mt(),this._bubble()}function Ut(e){return e instanceof Ct}function Ht(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Ft(e,n){s(e,0,0,function(){var e=this.utcOffset(),t="+";return e<0&&(e=-e,t="-"),t+r(~~(e/60),2)+n+r(~~e%60,2)})}Ft("Z",":"),Ft("ZZ",""),v("Z",Ye),v("ZZ",Ye),D(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Vt(Ye,e)});var Lt=/([\\+\\-]|\\d\\d)/gi;function Vt(e,t){var t=(t||"").match(e);return null===t?null:0===(t=60*(e=((t[t.length-1]||[])+"").match(Lt)||["-",0,0])[1]+g(e[2]))?0:"+"===e[0]?t:-t}function Gt(e,t){var n;return t._isUTC?(t=t.clone(),n=(h(e)||V(e)?e:W(e)).valueOf()-t.valueOf(),t._d.setTime(t._d.valueOf()+n),f.updateOffset(t,!1),t):W(e).local()}function Et(e){return-Math.round(e._d.getTimezoneOffset())}function At(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}f.updateOffset=function(){};var It=/^(-|\\+)?(?:(\\d*)[. ])?(\\d+):(\\d+)(?::(\\d+)(\\.\\d*)?)?$/,jt=/^(-|\\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function C(e,t){var n,s=e,i=null;return Ut(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:u(e)||!isNaN(+e)?(s={},t?s[t]=+e:s.milliseconds=+e):(i=It.exec(e))?(n="-"===i[1]?-1:1,s={y:0,d:g(i[b])*n,h:g(i[x])*n,m:g(i[T])*n,s:g(i[N])*n,ms:g(Ht(1e3*i[Ne]))*n}):(i=jt.exec(e))?(n="-"===i[1]?-1:1,s={y:Zt(i[2],n),M:Zt(i[3],n),w:Zt(i[4],n),d:Zt(i[5],n),h:Zt(i[6],n),m:Zt(i[7],n),s:Zt(i[8],n)}):null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(t=function(e,t){var n;if(!e.isValid()||!t.isValid())return{milliseconds:0,months:0};t=Gt(t,e),e.isBefore(t)?n=zt(e,t):((n=zt(t,e)).milliseconds=-n.milliseconds,n.months=-n.months);return n}(W(s.from),W(s.to)),(s={}).ms=t.milliseconds,s.M=t.months),i=new Ct(s),Ut(e)&&c(e,"_locale")&&(i._locale=e._locale),Ut(e)&&c(e,"_isValid")&&(i._isValid=e._isValid),i}function Zt(e,t){e=e&&parseFloat(e.replace(",","."));return(isNaN(e)?0:e)*t}function zt(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function $t(s,i){return function(e,t){var n;return null===t||isNaN(+t)||(Q(i,"moment()."+i+"(period, number) is deprecated. Please use moment()."+i+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),n=e,e=t,t=n),qt(this,C(e,t),s),this}}function qt(e,t,n,s){var i=t._milliseconds,r=Ht(t._days),t=Ht(t._months);e.isValid()&&(s=null==s||s,t&&Ve(e,ce(e,"Month")+t*n),r&&fe(e,"Date",ce(e,"Date")+r*n),i&&e._d.setTime(e._d.valueOf()+i*n),s&&f.updateOffset(e,r||t))}C.fn=Ct.prototype,C.invalid=function(){return C(NaN)};Ce=$t(1,"add"),Je=$t(-1,"subtract");function Bt(e){return"string"==typeof e||e instanceof String}function Jt(e){return h(e)||V(e)||Bt(e)||u(e)||function(t){var e=a(t),n=!1;e&&(n=0===t.filter(function(e){return!u(e)&&Bt(t)}).length);return e&&n}(e)||function(e){var t,n,s=F(e)&&!L(e),i=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],a=r.length;for(t=0;t<a;t+=1)n=r[t],i=i||c(e,n);return s&&i}(e)||null==e}function Qt(e,t){if(e.date()<t.date())return-Qt(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),s=e.clone().add(n,"months"),t=t-s<0?(t-s)/(s-e.clone().add(n-1,"months")):(t-s)/(e.clone().add(1+n,"months")-s);return-(n+t)||0}function Xt(e){return void 0===e?this._locale._abbr:(null!=(e=mt(e))&&(this._locale=e),this)}f.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",f.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";Xe=e("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function Kt(){return this._locale}var en=126227808e5;function tn(e,t){return(e%t+t)%t}function nn(e,t,n){return e<100&&0<=e?new Date(e+400,t,n)-en:new Date(e,t,n).valueOf()}function sn(e,t,n){return e<100&&0<=e?Date.UTC(e+400,t,n)-en:Date.UTC(e,t,n)}function rn(e,t){return t.erasAbbrRegex(e)}function an(){for(var e=[],t=[],n=[],s=[],i=this.eras(),r=0,a=i.length;r<a;++r)t.push(M(i[r].name)),e.push(M(i[r].abbr)),n.push(M(i[r].narrow)),s.push(M(i[r].name)),s.push(M(i[r].abbr)),s.push(M(i[r].narrow));this._erasRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}function on(e,t){s(0,[e,e.length],0,t)}function un(e,t,n,s,i){var r;return null==e?qe(this,s,i).year:(r=P(e,s,i),function(e,t,n,s,i){e=$e(e,t,n,s,i),t=Ze(e.year,0,e.dayOfYear);return this.year(t.getUTCFullYear()),this.month(t.getUTCMonth()),this.date(t.getUTCDate()),this}.call(this,e,t=r<t?r:t,n,s,i))}s("N",0,0,"eraAbbr"),s("NN",0,0,"eraAbbr"),s("NNN",0,0,"eraAbbr"),s("NNNN",0,0,"eraName"),s("NNNNN",0,0,"eraNarrow"),s("y",["y",1],"yo","eraYear"),s("y",["yy",2],0,"eraYear"),s("y",["yyy",3],0,"eraYear"),s("y",["yyyy",4],0,"eraYear"),v("N",rn),v("NN",rn),v("NNN",rn),v("NNNN",function(e,t){return t.erasNameRegex(e)}),v("NNNNN",function(e,t){return t.erasNarrowRegex(e)}),D(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,s){s=n._locale.erasParse(e,s,n._strict);s?m(n).era=s:m(n).invalidEra=e}),v("y",Me),v("yy",Me),v("yyy",Me),v("yyyy",Me),v("yo",function(e,t){return t._eraYearOrdinalRegex||Me}),D(["y","yy","yyy","yyyy"],Y),D(["yo"],function(e,t,n,s){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[Y]=n._locale.eraYearOrdinalParse(e,i):t[Y]=parseInt(e,10)}),s(0,["gg",2],0,function(){return this.weekYear()%100}),s(0,["GG",2],0,function(){return this.isoWeekYear()%100}),on("gggg","weekYear"),on("ggggg","weekYear"),on("GGGG","isoWeekYear"),on("GGGGG","isoWeekYear"),t("weekYear","gg"),t("isoWeekYear","GG"),n("weekYear",1),n("isoWeekYear",1),v("G",De),v("g",De),v("GG",p,w),v("gg",p,w),v("GGGG",ke,_e),v("gggg",ke,_e),v("GGGGG",ve,ye),v("ggggg",ve,ye),Te(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,s){t[s.substr(0,2)]=g(e)}),Te(["gg","GG"],function(e,t,n,s){t[s]=f.parseTwoDigitYear(e)}),s("Q",0,"Qo","quarter"),t("quarter","Q"),n("quarter",7),v("Q",i),D("Q",function(e,t){t[O]=3*(g(e)-1)}),s("D",["DD",2],"Do","date"),t("date","D"),n("date",9),v("D",p),v("DD",p,w),v("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),D(["D","DD"],b),D("Do",function(e,t){t[b]=g(e.match(p)[0])});ke=de("Date",!0);s("DDD",["DDDD",3],"DDDo","dayOfYear"),t("dayOfYear","DDD"),n("dayOfYear",4),v("DDD",pe),v("DDDD",me),D(["DDD","DDDD"],function(e,t,n){n._dayOfYear=g(e)}),s("m",["mm",2],0,"minute"),t("minute","m"),n("minute",14),v("m",p),v("mm",p,w),D(["m","mm"],T);var ln,_e=de("Minutes",!1),ve=(s("s",["ss",2],0,"second"),t("second","s"),n("second",15),v("s",p),v("ss",p,w),D(["s","ss"],N),de("Seconds",!1));for(s("S",0,0,function(){return~~(this.millisecond()/100)}),s(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),s(0,["SSS",3],0,"millisecond"),s(0,["SSSS",4],0,function(){return 10*this.millisecond()}),s(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),s(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),s(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),s(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),s(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),t("millisecond","ms"),n("millisecond",16),v("S",pe,i),v("SS",pe,w),v("SSS",pe,me),ln="SSSS";ln.length<=9;ln+="S")v(ln,Me);function hn(e,t){t[Ne]=g(1e3*("0."+e))}for(ln="S";ln.length<=9;ln+="S")D(ln,hn);ye=de("Milliseconds",!1),s("z",0,0,"zoneAbbr"),s("zz",0,0,"zoneName");i=q.prototype;function dn(e){return e}i.add=Ce,i.calendar=function(e,t){1===arguments.length&&(arguments[0]?Jt(arguments[0])?(e=arguments[0],t=void 0):function(e){for(var t=F(e)&&!L(e),n=!1,s=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i=0;i<s.length;i+=1)n=n||c(e,s[i]);return t&&n}(arguments[0])&&(t=arguments[0],e=void 0):t=e=void 0);var e=e||W(),n=Gt(e,this).startOf("day"),n=f.calendarFormat(this,n)||"sameElse",t=t&&(d(t[n])?t[n].call(this,e):t[n]);return this.format(t||this.localeData().calendar(n,this,W(e)))},i.clone=function(){return new q(this)},i.diff=function(e,t,n){var s,i,r;if(!this.isValid())return NaN;if(!(s=Gt(e,this)).isValid())return NaN;switch(i=6e4*(s.utcOffset()-this.utcOffset()),t=_(t)){case"year":r=Qt(this,s)/12;break;case"month":r=Qt(this,s);break;case"quarter":r=Qt(this,s)/3;break;case"second":r=(this-s)/1e3;break;case"minute":r=(this-s)/6e4;break;case"hour":r=(this-s)/36e5;break;case"day":r=(this-s-i)/864e5;break;case"week":r=(this-s-i)/6048e5;break;default:r=this-s}return n?r:y(r)},i.endOf=function(e){var t,n;if(void 0===(e=_(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?sn:nn,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=36e5-tn(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":t=this._d.valueOf(),t+=6e4-tn(t,6e4)-1;break;case"second":t=this._d.valueOf(),t+=1e3-tn(t,1e3)-1;break}return this._d.setTime(t),f.updateOffset(this,!0),this},i.format=function(e){return e=e||(this.isUtc()?f.defaultFormatUtc:f.defaultFormat),e=re(this,e),this.localeData().postformat(e)},i.from=function(e,t){return this.isValid()&&(h(e)&&e.isValid()||W(e).isValid())?C({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},i.fromNow=function(e){return this.from(W(),e)},i.to=function(e,t){return this.isValid()&&(h(e)&&e.isValid()||W(e).isValid())?C({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},i.toNow=function(e){return this.to(W(),e)},i.get=function(e){return d(this[e=_(e)])?this[e]():this},i.invalidAt=function(){return m(this).overflow},i.isAfter=function(e,t){return e=h(e)?e:W(e),!(!this.isValid()||!e.isValid())&&("millisecond"===(t=_(t)||"millisecond")?this.valueOf()>e.valueOf():e.valueOf()<this.clone().startOf(t).valueOf())},i.isBefore=function(e,t){return e=h(e)?e:W(e),!(!this.isValid()||!e.isValid())&&("millisecond"===(t=_(t)||"millisecond")?this.valueOf()<e.valueOf():this.clone().endOf(t).valueOf()<e.valueOf())},i.isBetween=function(e,t,n,s){return e=h(e)?e:W(e),t=h(t)?t:W(t),!!(this.isValid()&&e.isValid()&&t.isValid())&&(("("===(s=s||"()")[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===s[1]?this.isBefore(t,n):!this.isAfter(t,n)))},i.isSame=function(e,t){var e=h(e)?e:W(e);return!(!this.isValid()||!e.isValid())&&("millisecond"===(t=_(t)||"millisecond")?this.valueOf()===e.valueOf():(e=e.valueOf(),this.clone().startOf(t).valueOf()<=e&&e<=this.clone().endOf(t).valueOf()))},i.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},i.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},i.isValid=function(){return A(this)},i.lang=Xe,i.locale=Xt,i.localeData=Kt,i.max=we,i.min=ge,i.parsingFlags=function(){return E({},m(this))},i.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t,n=[];for(t in e)c(e,t)&&n.push({unit:t,priority:le[t]});return n.sort(function(e,t){return e.priority-t.priority}),n}(e=ue(e)),s=n.length,i=0;i<s;i++)this[n[i].unit](e[n[i].unit]);else if(d(this[e=_(e)]))return this[e](t);return this},i.startOf=function(e){var t,n;if(void 0===(e=_(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?sn:nn,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=tn(t+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":t=this._d.valueOf(),t-=tn(t,6e4);break;case"second":t=this._d.valueOf(),t-=tn(t,1e3);break}return this._d.setTime(t),f.updateOffset(this,!0),this},i.subtract=Je,i.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},i.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},i.toDate=function(){return new Date(this.valueOf())},i.toISOString=function(e){if(!this.isValid())return null;var t=(e=!0!==e)?this.clone().utc():this;return t.year()<0||9999<t.year()?re(t,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):d(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",re(t,"Z")):re(t,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},i.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t="moment",n="";return this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",n="Z"),t="["+t+\'("]\',e=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",this.format(t+e+"-MM-DD[T]HH:mm:ss.SSS"+(n+\'[")]\'))},"undefined"!=typeof Symbol&&null!=Symbol.for&&(i[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),i.toJSON=function(){return this.isValid()?this.toISOString():null},i.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},i.unix=function(){return Math.floor(this.valueOf()/1e3)},i.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},i.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},i.eraName=function(){for(var e,t=this.localeData().eras(),n=0,s=t.length;n<s;++n){if(e=this.clone().startOf("day").valueOf(),t[n].since<=e&&e<=t[n].until)return t[n].name;if(t[n].until<=e&&e<=t[n].since)return t[n].name}return""},i.eraNarrow=function(){for(var e,t=this.localeData().eras(),n=0,s=t.length;n<s;++n){if(e=this.clone().startOf("day").valueOf(),t[n].since<=e&&e<=t[n].until)return t[n].narrow;if(t[n].until<=e&&e<=t[n].since)return t[n].narrow}return""},i.eraAbbr=function(){for(var e,t=this.localeData().eras(),n=0,s=t.length;n<s;++n){if(e=this.clone().startOf("day").valueOf(),t[n].since<=e&&e<=t[n].until)return t[n].abbr;if(t[n].until<=e&&e<=t[n].since)return t[n].abbr}return""},i.eraYear=function(){for(var e,t,n=this.localeData().eras(),s=0,i=n.length;s<i;++s)if(e=n[s].since<=n[s].until?1:-1,t=this.clone().startOf("day").valueOf(),n[s].since<=t&&t<=n[s].until||n[s].until<=t&&t<=n[s].since)return(this.year()-f(n[s].since).year())*e+n[s].offset;return this.year()},i.year=Ie,i.isLeapYear=function(){return he(this.year())},i.weekYear=function(e){return un.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},i.isoWeekYear=function(e){return un.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},i.quarter=i.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},i.month=Ge,i.daysInMonth=function(){return We(this.year(),this.month())},i.week=i.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},i.isoWeek=i.isoWeeks=function(e){var t=qe(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},i.weeksInYear=function(){var e=this.localeData()._week;return P(this.year(),e.dow,e.doy)},i.weeksInWeekYear=function(){var e=this.localeData()._week;return P(this.weekYear(),e.dow,e.doy)},i.isoWeeksInYear=function(){return P(this.year(),1,4)},i.isoWeeksInISOWeekYear=function(){return P(this.isoWeekYear(),1,4)},i.date=ke,i.day=i.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t,n,s=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(t=e,n=this.localeData(),e="string"!=typeof t?t:isNaN(t)?"number"==typeof(t=n.weekdaysParse(t))?t:null:parseInt(t,10),this.add(e-s,"d")):s},i.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},i.isoWeekday=function(e){return this.isValid()?null!=e?(t=e,n=this.localeData(),n="string"==typeof t?n.weekdaysParse(t)%7||7:isNaN(t)?null:t,this.day(this.day()%7?n:n-7)):this.day()||7:null!=e?this:NaN;var t,n},i.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},i.hour=i.hours=k,i.minute=i.minutes=_e,i.second=i.seconds=ve,i.millisecond=i.milliseconds=ye,i.utcOffset=function(e,t,n){var s,i=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null==e)return this._isUTC?i:Et(this);if("string"==typeof e){if(null===(e=Vt(Ye,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(s=Et(this)),this._offset=e,this._isUTC=!0,null!=s&&this.add(s,"m"),i!==e&&(!t||this._changeInProgress?qt(this,C(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,f.updateOffset(this,!0),this._changeInProgress=null)),this},i.utc=function(e){return this.utcOffset(0,e)},i.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Et(this),"m")),this},i.parseZone=function(){var e;return null!=this._tzm?this.utcOffset(this._tzm,!1,!0):"string"==typeof this._i&&(null!=(e=Vt(Se,this._i))?this.utcOffset(e):this.utcOffset(0,!0)),this},i.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?W(e).utcOffset():0,(this.utcOffset()-e)%60==0)},i.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},i.isLocal=function(){return!!this.isValid()&&!this._isUTC},i.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},i.isUtc=At,i.isUTC=At,i.zoneAbbr=function(){return this._isUTC?"UTC":""},i.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},i.dates=e("dates accessor is deprecated. Use date instead.",ke),i.months=e("months accessor is deprecated. Use month instead",Ge),i.years=e("years accessor is deprecated. Use year instead",Ie),i.zone=e("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?(this.utcOffset(e="string"!=typeof e?-e:e,t),this):-this.utcOffset()}),i.isDSTShifted=e("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!o(this._isDSTShifted))return this._isDSTShifted;var e,t={};return $(t,this),(t=Nt(t))._a?(e=(t._isUTC?l:W)(t._a),this._isDSTShifted=this.isValid()&&0<function(e,t,n){for(var s=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),r=0,a=0;a<s;a++)(n&&e[a]!==t[a]||!n&&g(e[a])!==g(t[a]))&&r++;return r+i}(t._a,e.toArray())):this._isDSTShifted=!1,this._isDSTShifted});w=K.prototype;function cn(e,t,n,s){var i=mt(),s=l().set(s,t);return i[n](s,e)}function fn(e,t,n){if(u(e)&&(t=e,e=void 0),e=e||"",null!=t)return cn(e,t,n,"month");for(var s=[],i=0;i<12;i++)s[i]=cn(e,i,n,"month");return s}function mn(e,t,n,s){t=("boolean"==typeof e?u(t)&&(n=t,t=void 0):(t=e,e=!1,u(n=t)&&(n=t,t=void 0)),t||"");var i,r=mt(),a=e?r._week.dow:0,o=[];if(null!=n)return cn(t,(n+a)%7,s,"day");for(i=0;i<7;i++)o[i]=cn(t,(i+a)%7,s,"day");return o}w.calendar=function(e,t,n){return d(e=this._calendar[e]||this._calendar.sameElse)?e.call(t,n):e},w.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(te).map(function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e}).join(""),this._longDateFormat[e])},w.invalidDate=function(){return this._invalidDate},w.ordinal=function(e){return this._ordinal.replace("%d",e)},w.preparse=dn,w.postformat=dn,w.relativeTime=function(e,t,n,s){var i=this._relativeTime[n];return d(i)?i(e,t,n,s):i.replace(/%d/i,e)},w.pastFuture=function(e,t){return d(e=this._relativeTime[0<e?"future":"past"])?e(t):e.replace(/%s/i,t)},w.set=function(e){var t,n;for(n in e)c(e,n)&&(d(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\\d{1,2}/.source)},w.eras=function(e,t){for(var n,s=this._eras||mt("en")._eras,i=0,r=s.length;i<r;++i){switch(typeof s[i].since){case"string":n=f(s[i].since).startOf("day"),s[i].since=n.valueOf();break}switch(typeof s[i].until){case"undefined":s[i].until=1/0;break;case"string":n=f(s[i].until).startOf("day").valueOf(),s[i].until=n.valueOf();break}}return s},w.erasParse=function(e,t,n){var s,i,r,a,o,u=this.eras();for(e=e.toUpperCase(),s=0,i=u.length;s<i;++s)if(r=u[s].name.toUpperCase(),a=u[s].abbr.toUpperCase(),o=u[s].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return u[s];break;case"NNNN":if(r===e)return u[s];break;case"NNNNN":if(o===e)return u[s];break}else if(0<=[r,a,o].indexOf(e))return u[s]},w.erasConvertYear=function(e,t){var n=e.since<=e.until?1:-1;return void 0===t?f(e.since).year():f(e.since).year()+(t-e.offset)*n},w.erasAbbrRegex=function(e){return c(this,"_erasAbbrRegex")||an.call(this),e?this._erasAbbrRegex:this._erasRegex},w.erasNameRegex=function(e){return c(this,"_erasNameRegex")||an.call(this),e?this._erasNameRegex:this._erasRegex},w.erasNarrowRegex=function(e){return c(this,"_erasNarrowRegex")||an.call(this),e?this._erasNarrowRegex:this._erasRegex},w.months=function(e,t){return e?(a(this._months)?this._months:this._months[(this._months.isFormat||He).test(t)?"format":"standalone"])[e.month()]:a(this._months)?this._months:this._months.standalone},w.monthsShort=function(e,t){return e?(a(this._monthsShort)?this._monthsShort:this._monthsShort[He.test(t)?"format":"standalone"])[e.month()]:a(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},w.monthsParse=function(e,t,n){var s,i;if(this._monthsParseExact)return function(e,t,n){var s,i,r,e=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)r=l([2e3,s]),this._shortMonthsParse[s]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(r,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=S.call(this._shortMonthsParse,e))?i:null:-1!==(i=S.call(this._longMonthsParse,e))?i:null:"MMM"===t?-1!==(i=S.call(this._shortMonthsParse,e))||-1!==(i=S.call(this._longMonthsParse,e))?i:null:-1!==(i=S.call(this._longMonthsParse,e))||-1!==(i=S.call(this._shortMonthsParse,e))?i:null}.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(i=l([2e3,s]),n&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[s]||(i="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[s]=new RegExp(i.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[s].test(e))return s;if(n&&"MMM"===t&&this._shortMonthsParse[s].test(e))return s;if(!n&&this._monthsParse[s].test(e))return s}},w.monthsRegex=function(e){return this._monthsParseExact?(c(this,"_monthsRegex")||Ee.call(this),e?this._monthsStrictRegex:this._monthsRegex):(c(this,"_monthsRegex")||(this._monthsRegex=Le),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},w.monthsShortRegex=function(e){return this._monthsParseExact?(c(this,"_monthsRegex")||Ee.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(c(this,"_monthsShortRegex")||(this._monthsShortRegex=Fe),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},w.week=function(e){return qe(e,this._week.dow,this._week.doy).week},w.firstDayOfYear=function(){return this._week.doy},w.firstDayOfWeek=function(){return this._week.dow},w.weekdays=function(e,t){return t=a(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"],!0===e?Be(t,this._week.dow):e?t[e.day()]:t},w.weekdaysMin=function(e){return!0===e?Be(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},w.weekdaysShort=function(e){return!0===e?Be(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},w.weekdaysParse=function(e,t,n){var s,i;if(this._weekdaysParseExact)return function(e,t,n){var s,i,r,e=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],s=0;s<7;++s)r=l([2e3,1]).day(s),this._minWeekdaysParse[s]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[s]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[s]=this.weekdays(r,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=S.call(this._weekdaysParse,e))?i:null:"ddd"===t?-1!==(i=S.call(this._shortWeekdaysParse,e))?i:null:-1!==(i=S.call(this._minWeekdaysParse,e))?i:null:"dddd"===t?-1!==(i=S.call(this._weekdaysParse,e))||-1!==(i=S.call(this._shortWeekdaysParse,e))||-1!==(i=S.call(this._minWeekdaysParse,e))?i:null:"ddd"===t?-1!==(i=S.call(this._shortWeekdaysParse,e))||-1!==(i=S.call(this._weekdaysParse,e))||-1!==(i=S.call(this._minWeekdaysParse,e))?i:null:-1!==(i=S.call(this._minWeekdaysParse,e))||-1!==(i=S.call(this._weekdaysParse,e))||-1!==(i=S.call(this._shortWeekdaysParse,e))?i:null}.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){if(i=l([2e3,1]).day(s),n&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(i,"").replace(".","\\\\.?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\\\.?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\\\.?")+"$","i")),this._weekdaysParse[s]||(i="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[s]=new RegExp(i.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[s].test(e))return s;if(n&&"ddd"===t&&this._shortWeekdaysParse[s].test(e))return s;if(n&&"dd"===t&&this._minWeekdaysParse[s].test(e))return s;if(!n&&this._weekdaysParse[s].test(e))return s}},w.weekdaysRegex=function(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||nt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(c(this,"_weekdaysRegex")||(this._weekdaysRegex=Ke),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},w.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||nt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(c(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=et),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},w.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||nt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(c(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=tt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},w.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},w.meridiem=function(e,t,n){return 11<e?n?"pm":"PM":n?"am":"AM"},ct("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===g(e%100/10)?"th":1==t?"st":2==t?"nd":3==t?"rd":"th")}}),f.lang=e("moment.lang is deprecated. Use moment.locale instead.",ct),f.langData=e("moment.langData is deprecated. Use moment.localeData instead.",mt);var _n=Math.abs;function yn(e,t,n,s){t=C(t,n);return e._milliseconds+=s*t._milliseconds,e._days+=s*t._days,e._months+=s*t._months,e._bubble()}function gn(e){return e<0?Math.floor(e):Math.ceil(e)}function wn(e){return 4800*e/146097}function pn(e){return 146097*e/4800}function kn(e){return function(){return this.as(e)}}pe=kn("ms"),me=kn("s"),Ce=kn("m"),we=kn("h"),ge=kn("d"),Je=kn("w"),k=kn("M"),_e=kn("Q"),ve=kn("y");function vn(e){return function(){return this.isValid()?this._data[e]:NaN}}var ye=vn("milliseconds"),ke=vn("seconds"),Ie=vn("minutes"),w=vn("hours"),Mn=vn("days"),Dn=vn("months"),Sn=vn("years");var Yn=Math.round,On={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function bn(e,t,n,s){var i=C(e).abs(),r=Yn(i.as("s")),a=Yn(i.as("m")),o=Yn(i.as("h")),u=Yn(i.as("d")),l=Yn(i.as("M")),h=Yn(i.as("w")),i=Yn(i.as("y")),r=(r<=n.ss?["s",r]:r<n.s&&["ss",r])||a<=1&&["m"]||a<n.m&&["mm",a]||o<=1&&["h"]||o<n.h&&["hh",o]||u<=1&&["d"]||u<n.d&&["dd",u];return(r=(r=null!=n.w?r||h<=1&&["w"]||h<n.w&&["ww",h]:r)||l<=1&&["M"]||l<n.M&&["MM",l]||i<=1&&["y"]||["yy",i])[2]=t,r[3]=0<+e,r[4]=s,function(e,t,n,s,i){return i.relativeTime(t||1,!!n,e,s)}.apply(null,r)}var xn=Math.abs;function Tn(e){return(0<e)-(e<0)||+e}function Nn(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,s,i,r,a,o=xn(this._milliseconds)/1e3,u=xn(this._days),l=xn(this._months),h=this.asSeconds();return h?(e=y(o/60),t=y(e/60),o%=60,e%=60,n=y(l/12),l%=12,s=o?o.toFixed(3).replace(/\\.?0+$/,""):"",i=Tn(this._months)!==Tn(h)?"-":"",r=Tn(this._days)!==Tn(h)?"-":"",a=Tn(this._milliseconds)!==Tn(h)?"-":"",(h<0?"-":"")+"P"+(n?i+n+"Y":"")+(l?i+l+"M":"")+(u?r+u+"D":"")+(t||e||o?"T":"")+(t?a+t+"H":"")+(e?a+e+"M":"")+(o?a+s+"S":"")):"P0D"}var U=Ct.prototype;return U.isValid=function(){return this._isValid},U.abs=function(){var e=this._data;return this._milliseconds=_n(this._milliseconds),this._days=_n(this._days),this._months=_n(this._months),e.milliseconds=_n(e.milliseconds),e.seconds=_n(e.seconds),e.minutes=_n(e.minutes),e.hours=_n(e.hours),e.months=_n(e.months),e.years=_n(e.years),this},U.add=function(e,t){return yn(this,e,t,1)},U.subtract=function(e,t){return yn(this,e,t,-1)},U.as=function(e){if(!this.isValid())return NaN;var t,n,s=this._milliseconds;if("month"===(e=_(e))||"quarter"===e||"year"===e)switch(t=this._days+s/864e5,n=this._months+wn(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(pn(this._months)),e){case"week":return t/7+s/6048e5;case"day":return t+s/864e5;case"hour":return 24*t+s/36e5;case"minute":return 1440*t+s/6e4;case"second":return 86400*t+s/1e3;case"millisecond":return Math.floor(864e5*t)+s;default:throw new Error("Unknown unit "+e)}},U.asMilliseconds=pe,U.asSeconds=me,U.asMinutes=Ce,U.asHours=we,U.asDays=ge,U.asWeeks=Je,U.asMonths=k,U.asQuarters=_e,U.asYears=ve,U.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*g(this._months/12):NaN},U._bubble=function(){var e=this._milliseconds,t=this._days,n=this._months,s=this._data;return 0<=e&&0<=t&&0<=n||e<=0&&t<=0&&n<=0||(e+=864e5*gn(pn(n)+t),n=t=0),s.milliseconds=e%1e3,e=y(e/1e3),s.seconds=e%60,e=y(e/60),s.minutes=e%60,e=y(e/60),s.hours=e%24,t+=y(e/24),n+=e=y(wn(t)),t-=gn(pn(e)),e=y(n/12),n%=12,s.days=t,s.months=n,s.years=e,this},U.clone=function(){return C(this)},U.get=function(e){return e=_(e),this.isValid()?this[e+"s"]():NaN},U.milliseconds=ye,U.seconds=ke,U.minutes=Ie,U.hours=w,U.days=Mn,U.weeks=function(){return y(this.days()/7)},U.months=Dn,U.years=Sn,U.humanize=function(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,s=On;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(n=e),"object"==typeof t&&(s=Object.assign({},On,t),null!=t.s&&null==t.ss&&(s.ss=t.s-1)),e=this.localeData(),t=bn(this,!n,s,e),n&&(t=e.pastFuture(+this,t)),e.postformat(t)},U.toISOString=Nn,U.toString=Nn,U.toJSON=Nn,U.locale=Xt,U.localeData=Kt,U.toIsoString=e("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Nn),U.lang=Xe,s("X",0,0,"unix"),s("x",0,0,"valueOf"),v("x",De),v("X",/[+-]?\\d+(\\.\\d{1,3})?/),D("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e))}),D("x",function(e,t,n){n._d=new Date(g(e))}),f.version="2.29.4",H=W,f.fn=i,f.min=function(){return Rt("isBefore",[].slice.call(arguments,0))},f.max=function(){return Rt("isAfter",[].slice.call(arguments,0))},f.now=function(){return Date.now?Date.now():+new Date},f.utc=l,f.unix=function(e){return W(1e3*e)},f.months=function(e,t){return fn(e,t,"months")},f.isDate=V,f.locale=ct,f.invalid=I,f.duration=C,f.isMoment=h,f.weekdays=function(e,t,n){return mn(e,t,n,"weekdays")},f.parseZone=function(){return W.apply(null,arguments).parseZone()},f.localeData=mt,f.isDuration=Ut,f.monthsShort=function(e,t){return fn(e,t,"monthsShort")},f.weekdaysMin=function(e,t,n){return mn(e,t,n,"weekdaysMin")},f.defineLocale=ft,f.updateLocale=function(e,t){var n,s;return null!=t?(s=ot,null!=R[e]&&null!=R[e].parentLocale?R[e].set(X(R[e]._config,t)):(t=X(s=null!=(n=dt(e))?n._config:s,t),null==n&&(t.abbr=e),(s=new K(t)).parentLocale=R[e],R[e]=s),ct(e)):null!=R[e]&&(null!=R[e].parentLocale?(R[e]=R[e].parentLocale,e===ct()&&ct(e)):null!=R[e]&&delete R[e]),R[e]},f.locales=function(){return ee(R)},f.weekdaysShort=function(e,t,n){return mn(e,t,n,"weekdaysShort")},f.normalizeUnits=_,f.relativeTimeRounding=function(e){return void 0===e?Yn:"function"==typeof e&&(Yn=e,!0)},f.relativeTimeThreshold=function(e,t){return void 0!==On[e]&&(void 0===t?On[e]:(On[e]=t,"s"===e&&(On.ss=t-1),!0))},f.calendarFormat=function(e,t){return(e=e.diff(t,"days",!0))<-6?"sameElse":e<-1?"lastWeek":e<0?"lastDay":e<1?"sameDay":e<2?"nextDay":e<7?"nextWeek":"sameElse"},f.prototype=i,f.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},f});\n//# sourceMappingURL=moment.min.js.map\n'];
mBe.raw=[""];_.IFb(_.Wj(mBe[0]),!0);
var nBe=[{frequencyMultiplier:1,gain:10},{frequencyMultiplier:4,gain:2}],oBe=class{constructor(a){this.mixerMaxGain=1/nBe.map(b=>b.gain).reduce((b,c)=>b+c,0);this.oscillators=[];this.mixer=a.createGain();this.mixer.gain.value=0;for(const b of nBe){const c=a.createOscillator();c.type="sine";c.start();this.oscillators.push(c);const d=a.createGain();d.gain.value=b.gain;c.connect(d).connect(this.mixer)}}connect(a){return this.mixer.connect(a)}};
var B$d=_.oBc(_.Fg(_.hHa,'[null,null,null,null,null,"/*\\n\\n Copyright The Closure Library Authors.\\n SPDX-License-Identifier: Apache-2.0\\n*/\\n\'use strict\';function h(a,b,c){const e\\u003dMath.min(a.length,b.length);for(let f\\u003d0;f\\u003ce;f++){var d\\u003da[f],k\\u003db[f],n\\u003dc;const p\\u003dMath.min(d.length,k.length);for(let g\\u003d0;g\\u003cp;g++)l(d[g],k[g],n)}}function l(a,b,c){const e\\u003da.length;for(let d\\u003d0;d\\u003ce;d++)b[d]\\u003dc(a[d])}class m extends AudioWorkletProcessor{process(a,b){h(a,b,Math.abs);return!0}}class q extends AudioWorkletProcessor{process(a,b){h(a,b,c\\u003d\\u003e.2\\u003cc?0:1);return!0}}\\nfunction r(a){a\\u003d2*Math.PI*a/sampleRate;return Math.cos(a)-1+Math.sqrt(Math.pow(Math.cos(a),2)-4*Math.cos(a)+3)}\\nclass t extends AudioWorkletProcessor{constructor(){super(...arguments);this.i\\u003dr(.04);this.h\\u003dr(1E3);this.g\\u003d0}process(a,b){if(1!\\u003d\\u003da.length)throw Error(\\"SlewWorklet only supports one input.\\");if(1!\\u003d\\u003da[0].length)throw Error(\\"SlewWorklet only supports one input channel.\\");if(1!\\u003d\\u003db.length)throw Error(\\"SlewWorklet only supports one output.\\");if(1!\\u003d\\u003db[0].length)throw Error(\\"SlewWorklet only supports one output channel.\\");l(a[0][0],b[0][0],c\\u003d\\u003e{const e\\u003dc\\u003ethis.g?this.i:this.h;return this.g\\u003de*c+(1-e)*this.g});\\nreturn!0}}registerProcessor(\\"rectifier-worklet\\",m);registerProcessor(\\"threshold-worklet\\",q);registerProcessor(\\"slew-worklet\\",t);\\n"]')),
pBe=function(a){a.gain.gain.setTargetAtTime(0,a.audioContext.currentTime,.004);setTimeout(()=>{a.audioContext.close()},1E3)},rBe=class{constructor(){this.audioContext=new AudioContext({latencyHint:.04});this.voices=[];this.nextVoice=0;this.gain=this.audioContext.createGain();this.panner=this.audioContext.createStereoPanner();this.polyVoice=this.audioContext.createGain();this.earcons=this.audioContext.createGain();this.voiceAndEarcons=this.audioContext.createGain();this.playbackTimes=null;this.gain.gain.value=
0;for(var a=0;10>a;a++){const b=new oBe(this.audioContext);this.voices.push(b);b.connect(this.polyVoice)}this.polyVoice.gain.value=12/13;a=this.audioContext.createDynamicsCompressor();this.polyVoice.connect(this.voiceAndEarcons);this.earcons.connect(this.voiceAndEarcons);this.voiceAndEarcons.connect(this.panner).connect(a).connect(this.gain).connect(this.audioContext.destination)}play(a){const b=this;return _.ne(function*(){yield b.audioContext.suspend();const c=b.audioContext.currentTime;b.gain.gain.setTargetAtTime(.8,
c,.004);if("audioWorklet"in AudioContext.prototype){var d=yield D$d(b.voiceAndEarcons);d.gain.value=.3;d.connect(b.panner);d.gain.setTargetAtTime(0,c+a.durationSeconds,.004)}for(var e of a.notes){b.panner.pan.setTargetAtTime(e.pan,c+e.onset,0);d=b.voices[b.nextVoice];b.nextVoice=(b.nextVoice+1)%10;var f=e.frequency,g=c+e.onset;for(const [r,v]of nBe.entries())d.oscillators[r].frequency.setTargetAtTime(f*v.frequencyMultiplier,g,0);d.mixer.gain.setTargetAtTime(0,g,0);d.mixer.gain.linearRampToValueAtTime(d.mixerMaxGain,
g+.005);d.mixer.gain.exponentialRampToValueAtTime(1E-5,g+.8);d.mixer.gain.setTargetAtTime(0,g+.8,0)}for(var {onset:h}of a.earcons||[])e=yield b.audioContext.decodeAudioData(qBe()),d=b.audioContext.createBufferSource(),d.buffer=e,e=d,d=b.audioContext.createGain(),d.connect(b.earcons),d.gain.value=.25,e.connect(d),e.start(c+h);let l,n;h=Math.max((null==(l=a.notes[a.notes.length-1])?void 0:l.onset)||0,(null==(n=a.earcons[a.earcons.length-1])?void 0:n.onset)||0);b.playbackTimes={startTime:c,endTime:c+
h};yield b.audioContext.resume()})}getProgress(){return!this.playbackTimes||this.audioContext.currentTime>this.playbackTimes.endTime?null:w$d(this.playbackTimes.startTime,this.playbackTimes.endTime,0,1,this.audioContext.currentTime)}};
var sBe=class{constructor(){this.xAxis=this.synth=null}play(a){const b=this;return _.ne(function*(){b.stop();const c=u$d(a),d=A$d(c);b.synth=new rBe;b.xAxis=c.xAxis;yield b.synth.play(d)})}stop(){this.synth&&(pBe(this.synth),this.xAxis=this.synth=null)}getProgress(){if(null===this.synth||null===this.xAxis)return null;const a=this.synth.getProgress();return null===a?null:w$d(0,1,this.xAxis.min,this.xAxis.max,a)}};
var e7=class{constructor(a){this.elementRef=a}ngOnInit(){this.elementRef.nativeElement.focus()}onBlur(){this.session.stop()}onKeydown(a){switch(a.code){case "Space":a.preventDefault(),this.chartOptions&&this.session&&(null!==this.session.getProgress()?this.session.stop():this.session.play(this.chartOptions))}}ngOnDestroy(){this.session.stop()}};e7.\u0275fac=function(a){return new (a||e7)(_.A(_.ad))};
e7.\u0275cmp=_.q({type:e7,selectors:[["ac-audio-chart"]],hostBindings:function(a,b){a&1&&_.L("blur",function(){return b.onBlur()})("keydown",function(c){return b.onKeydown(c)})},inputs:{chartOptions:"chartOptions",session:"session",axesDescription:"axesDescription"},decls:3,vars:1,consts:function(){return["Press space to hear the audio chart. Press escape to return to numeric values. Audio charts use\npitch to represent the y axis and time to represent the x axis."]},template:function(a,b){a&1&&(_.Dd(0),
_.K(1,0),_.Ed(),_.Q(2));a&2&&(_.x(2),_.Sd(" ",b.axesDescription,"\n"))},encapsulation:2});
var tBe=class extends _.g9a{setStackdriverSideNavLabel(a){const b=Number(a);Object.values(_.Jvc).includes(b)&&this.addMetadataHandler(c=>{c instanceof _.Nh&&c.setStackdriverSideNavLabel(b)})}};
var f7={AcrossTimeSeriesHeaderToggle:130578,AddAlertConditionButton:130039,AddCommentButton:119687,AddConditionButton:70716,AddDocumentationTextInput:70718,AddEmailChannelDialog:135176,AddMobileChannelDialog:136101,AddNewCloudMobileChannelButton:134177,AddNewEmailChannelButton:134178,AddNewPagerDutyServicesChannelButton:134179,AddNewPagerDutySyncChannelButton:134180,AddNewPubSubChannelButton:134181,AddNewSMSChannelButton:134182,AddNewSlackChannelButton:134183,AddNewWebhooksChannelButton:134184,AddNotificationChannelButton:70719,
AddPagerDutyChannelDialog:136094,AddPagerDutySyncDialog:136095,AddPolicyLink:89839,AddPubSubChannelDialog:135178,AddSecondaryDataTransformButton:130347,AddSlackChannelDialog:133684,AddSmsChannelDialog:136080,AlertCodeDialog:130726,AlertCodeInput:130727,AlertConditionsZone:107190,AlertCreationActionPane:130040,AlertCreationFooterPane:130041,AlertCreationPage:130042,AlertCreationSubtaskCloseButton:133462,AlertCreationSubtaskPanel:133461,AlertNameInput:130728,AlertNavigationPane:130043,AlertPoliciesList:72549,
AlertPoliciesOverviewPage:72550,AlertPolicyDetailsPage:72551,AlertPolicyEnabledToggle:72552,AlertTabCarousel:70717,AlertTimelinePanel:104521,AlertWillTriggerDropdown:130579,ApiKeyInput:136096,ApplyMetricSelectionButton:145871,BasicFilterModeButton:132925,BasicModeButton:130203,BasicModeMetricHelpButton:132926,BurnRateThresholdInput:107193,CancelAlertCreationButton:130044,CancelCommentButton:119771,CloseAlertCodeButton:130729,CloudConsoleMobileAppLink:136102,ConditionMenu:70720,ConditionMenuItem:70721,
ConditionPicker:70722,ConditionTriggerMenu:70724,ConditionTriggerMenuItem:70725,ConditionTriggerPicker:70723,ConditionTypePane:130580,ConfigureAlertTriggerPane:130581,ConfigureTriggerButton:130045,ConfigureTriggerNextButton:130582,CreateAlertButton:130046,CreateAlertConditionPage:70726,CreateNewAlertingPolicyPage:70727,CreateSnoozeButton:154527,CreatedDateSortButton:72553,DataPeriodAggregationDropdown:130348,DataPeriodLengthDropdown:130349,DeleteConditionButton:130047,DirectFilterModeButton:132927,
DirectFilterModeHelpTextLink:132928,DirectFilterModeInput:132929,DirectFilterModeMetricHelpButton:132930,DisplayNameInput:133685,DocumentationZone:107195,DurationMenu:70728,DurationMenuItem:70729,DurationPicker:70730,EditEmailChannelDialog:135177,EditMetricPane:130204,EditMobileChannelDialog:136103,EditPagerDutyChannelDialog:136097,EditPagerDutySyncDialog:136098,EditPolicyButton:119688,EditPubSubChannelDialog:135179,EditSlackChannelDialog:133686,EditSmsChannelDialog:136081,EmailInput:135170,EnabledSortButton:72554,
EvaluationMissingDataDropdown:146370,FilterCard:130205,FilterLabelDropdown:130206,FilterOperatorDropdown:130207,FilterSnoozeTextInput:154528,FilterValueDropdown:130208,ForecastChart:1675,IncidentAutoCloseInput:146371,IncidentDetailsPage:106681,IncludeNotificationsToggle:130730,ItemDetailsLink:72555,LastModifiedBySortButton:72556,LastModifiedDateSortButton:72557,LearnMoreSmoothOperatorButton:131692,LogsBasedAlertCreationPanel:114432,LogsBasedAlertFilterTextInput:114433,LogsBasedAlertFilterZone:114434,
LogsBasedAlertTimingZone:114435,LogsBasedAlertViewLogsFromIncidentLink:114436,LogsBasedMetricLink:114437,LookbackDurationInput:107192,MQLButton:130050,MQLEditMetricPane:130209,MQLQueryNextButton:130210,MetricAbsenceConditionSwitch:130583,MetricAlertTab:70731,MetricChartPane:130350,MetricFilterLabelMenuItem:130810,MetricFilterOperationMenu:130811,MetricFilterOperatorMenuItem:130812,MetricFilterTooltipLearnMoreButton:130731,MetricFilterValueMenu:130813,MetricFilterValueMenuItem:130814,MetricGroupMenuItem:130815,
MetricMenuItem:130816,MetricNavigationButton:130048,MetricNavigationToggle:130049,MetricNextButton:130351,MetricSelectionDropdown:130211,MultiConditionTriggerButton:130051,NewNotificationChannelButton:90556,NewSnoozeBackButton:154529,NewSnoozeCancelButton:154531,NewSnoozeCreateButton:154530,NewSnoozePage:154532,NewSnoozePageLearnMoreLink:154533,NewSnoozeStartTimeInput:154534,NotificationChannelCreateDialog:104640,NotificationChannelDropdown:94754,NotificationChannelEditDialog:104641,NotificationChannelManageLink:150735,
NotificationChannelsCampfireRooms:90557,NotificationChannelsEmail:90558,NotificationChannelsLink:89946,NotificationChannelsMobileDevices:90559,NotificationChannelsPage:90566,NotificationChannelsPagerDutyServices:90560,NotificationChannelsPagerDutySync:90561,NotificationChannelsSMS:90562,NotificationChannelsSMSVerifyButton:90563,NotificationChannelsSlack:90564,NotificationChannelsWebhooks:90565,NotificationOptionsZone:107194,NotificationPromptResolutionCheckBox:117579,NotificationTypeMenu:70732,NotificationsAndNameButton:130052,
NotificationsAndNameNextButton:130732,NotificationsAndNamePane:130733,NotificationsDropdown:130734,NotifyOnIncidentCloseToggle:130735,NumberSeriesTextInput:70733,OpenMetricSelectorButton:149401,PagerDutySubdomainInput:136099,PercentTimeSeriesTextInput:70734,PhoneNumberInput:136082,PlaybookInput:130736,PolicyNameSortButton:72558,PolicyNameTextInput:70735,PolicyUserLabelBox:153346,PolicyUserLabelNameInput:153347,PolicyUserLabelValueInput:153348,PreviewLogsButton:114438,PrivacyPolicyLink:136083,ProcessHealthTab:70736,
PubSubTopicNameInput:135180,RecommendedAlertZone:94755,RecommendedAlertsButton:94756,RecommendedAlertsGetCodePanel:94757,RecommendedAlertsPanel:94758,ResetMetricSelectionButton:145872,ResourceTypeMenuItem:130805,ReturnToLegacyButton:131693,ReturnToLegacyCancelButton:131694,ReturnToLegacyDialog:131695,ReturnToLegacyWithFeedbackButton:131696,ReviewAlertButton:130053,ReviewAlertPane:130212,SLOAlertCreationPanel:107189,SLOAlertLearnMoreLink:107191,SLOTab:70737,SeeAllSnoozesButton:154535,SelectMetricFilterLabelMenu:130806,
SelectMetricMenu:130807,SendNewSmsVerificationCodeButton:136084,SendSmsVerificationCodeButton:136085,ServiceKeyInput:136100,ShowActiveMetricsToggle:130808,ShowAllOpenIncidentsButton:119772,ShowClosedIncidentsButton:119689,ShowPastSnoozesToggle:154536,SlackChannelNameInput:133687,SmoothOperatorBanner:131697,SmsCountryCodeInput:136086,SmsVerificationCodeInput:136087,SmsVerifyButton:136088,SnoozeActionsButton:154537,SnoozeActionsCancelSnoozeMenuItem:154538,SnoozeActionsCopySnoozeMenuItem:154539,SnoozeActionsEditSnoozeMenuItem:154540,
SnoozeActionsEndNowMenuItem:154541,SnoozeActionsMenu:154542,SnoozeBackButton:154543,SnoozeCard:154544,SnoozeCriterionLearnMoreLink:154545,SnoozeCriterionPolicyInput:154546,SnoozeEndTimeSortToggle:154547,SnoozeHelpIcon:154548,SnoozeNameSortToggle:154549,SnoozeNameTextInput:154550,SnoozePage:154551,SnoozeStartLaterToggle:154552,SnoozeStartNowToggle:154553,SnoozeStartTimeSortToggle:154554,SnoozeTimelineActiveBar:154555,SnoozeTimelineActiveRowToggle:154556,SnoozeTimelineCard:154560,SnoozeTimelineNext1DayMenuItem:154561,
SnoozeTimelineNext1HourMenuItem:154562,SnoozeTimelineNext1MonthMenuItem:154563,SnoozeTimelineNext6HoursMenuItem:154564,SnoozeTimelineNext6WeeksMenuItem:154565,SnoozeTimelineNext7DaysMenuItem:154566,SnoozeTimelinePast1DayMenuItem:154569,SnoozeTimelinePast1HourMenuItem:154570,SnoozeTimelinePast1MonthMenuItem:154571,SnoozeTimelinePast6HoursMenuItem:154572,SnoozeTimelinePast6WeeksMenuItem:154573,SnoozeTimelinePast7DaysMenuItem:154574,SnoozeTimelinePastBar:154567,SnoozeTimelinePastRowToggle:154568,SnoozeTimelineTimeMenu:154575,
SnoozeTimelineTimeRangeInput:154576,SnoozeTimelineUpcomingBar:154578,SnoozeTimelineUpcomingRowToggle:154579,TermsAndConditionsLink:136089,TestConnectionButton:133688,ThresholdConditionSwitch:130584,ThresholdPositionDropdown:130585,ThresholdTextInput:70738,ThresholdValueInput:130586,TimeAboveThresholdDropdown:130587,TimeSeriesAggregationDropdown:130352,TimeSeriesAggregationInfoIcon:130353,TimeSeriesAggregationTooltipLearnMoreButton:130737,TimeSeriesGroupByDropdown:130354,TimeSeriesGroupByInfoIcon:130355,
TimeSeriesGroupByTooltipLearnMoreButton:130809,TransformDataCard:130356,TriggerAbsenceDurationDropdown:130588,TrySmoothOperatorButton:131698,UptimeAlertTab:70739,UptimeCheckIDMenu:70740,UptimeCheckIDMenuItem:70741,UptimeCheckIDPicker:70742,UptimeCheckResourceTypeMenu:70928,UptimeCheckResourceTypeMenuItem:70929,UptimeCheckResourceTypePicker:70930,VerifySmsChannelDialog:136090,ViewAlertCodeButton:130054,ViewInMetricsExplorerButton:119773,ViewIncidentLogsButton:119690,ViewPolicyButton:119691,ViewResourceDetailsButton:119692,
WithinTimeSeriesInfoIcon:130357,WithinTimeSeriesTooltipLearnMoreButton:130738,AccessibilityGrid:118923,AddChartButton:68525,AddToCustomDashboardButton:142385,AlignmentChips:146926,ApplicationDashboardPage:89886,AutoRefreshToggle:68526,AutomaticDashboardPage:68527,AwesomeChartImage:68528,AwesomeChartLegendPane:68529,AwesomechartsCategoryBar:84052,AwesomechartsHeatmap:84053,AwesomechartsLine:84054,AwesomechartsScatterplot:84055,AwesomechartsSparkBar:84056,AwesomechartsSparkLine:84057,AwesomechartsStackedArea:84058,
AwesomechartsTimeBar:84059,ChartCard:68530,ChartColorModeButton:68531,ChartFullscreenButton:68532,ChartLegendMenu:68533,ChartLegendMenuItem:68534,ChartLegendPane:68535,ChartMoreMenu:104479,ChartStatsModeButton:68536,ChartSubtitleToggle:68537,ChartXrayModeButton:68538,ColorModeButton:68539,Column1Button:68540,Column2Button:68541,Column3Button:68542,Column4Button:68543,Column5Button:68544,Column6Button:68545,ColumnMenuToggle:68546,ColumnSortButton:68547,ConvertToAlertChartButton:142384,CopyChartButton:68548,
CopyDashboardButton:68549,CreateAlertPolicyForAlertChartButton:136665,CustomDashboardPage:68550,CustomRangePicker:68551,DashboardChartBuilderPanel:72315,DashboardFullscreenButton:68553,DashboardSettingsPane:68554,DeleteChartButton:68555,DeleteDashboardButton:68556,DownloadCsvButton:140735,DownloadPngButton:68557,EditAlertPolicyForAlertChartButton:136666,EditChartButton:68558,EndDateInput:68559,EndTimeInput:68560,FilterChips:146927,FilterKeyMenuItem:68561,FilterMenu:68562,FilterToggleButton:68563,
FilterValueMenuItem:68564,GroupByChips:146928,GroupDashboardPage:89887,HeatmapLayerToggle:106869,HideAllLegendsButton:68565,HovercardZone:118924,InfoButton:153435,InfoButtonViewInMetricsExplorerButton:153436,InstallAgentButton:114988,LegendToggle:68566,LineDeselectToggle:68567,LineLayerToggle:106868,LineMultiSelectToggle:118925,LineSelectToggle:68568,LineSpecificSelectToggle:118926,MetricViewRadioButton:156161,MonitoringStreamActionTableLegendMenu:137569,MoreButton:68569,OpenMetricsExplorerButton:68570,
OutlierChips:146929,RefreshChartButton:113832,ResetZoomButton:68571,ResourceDetailDashboardPage:89888,ResourceListDashboardPage:89889,SecondaryChips:146930,SelectLineButton:68572,SettingsButton:68573,ShareChartButton:68574,ShowAllLegendsButton:68575,StartDateInput:68576,StartTimeInput:68577,StatsModeButton:68578,SubtitleChips:147197,SystemDashboardPage:68579,TableNumberOfRowsTextInput:156199,TableSortDropdown:156197,TimeSeriesQueryChips:146931,TitleInput:68580,ToolbarTimeSelectMenuButton:104526,UnknownTypeDashboardPage:68581,
ViewLogsButton:68582,XPanZone:118927,XZoomZone:68583,XrayModeButton:68584,YZoomZone:68585,AcknowledgeButton:106682,AddAlertPolicyLink:72559,AddButton:106676,AgentLearnMoreLink:105870,AgentMessageBar:105868,AgentMessageBarDismissButton:105869,ApproveButton:114917,BackButton:70074,CancelButton:62896,CfcDropdownChartCard:93384,ChartDropdown:93385,ChartTypePicker:67873,ClearInputButton:70456,ClearableInput:62887,CloseButton:91044,ConfirmButton:101596,ContinueButton:62892,CopyButton:72560,CreateAlertingPolicyButton:84469,
CreateButton:107788,CreateEventButton:68103,CreateGroupLink:68104,CustomRangeButton:67874,DashboardFilterInput:68552,DeactivateButton:115819,DeleteButton:72561,DeselectAllProjectsButton:62891,DocumentationLink:76753,EditButton:72562,ExpandAllButton:137494,ExpandButton:115522,ExpandRowToggle:72563,FavoriteButton:68586,FilterInput:67896,GcpProjectPicker:62899,GetCodeButton:94759,HistoryButton:128261,InfraSummarySuggestedPolicyButton:105875,MailtoTarget:115531,MetricHelpLearnMoreButton:93386,MetricHelpTooltip:93387,
MissingAgentsMessage:106077,MoreMenu:67875,MoreMenuButton:67876,MultiAgentManagementLearnMoreLink:111677,NoAgentMessage:105871,OneDayToggle:67877,OneHourToggle:67878,OneMonthToggle:67879,OneWeekToggle:67880,PreviewButton:74946,ProjectList:62888,ProjectListProjectInput:62889,RefreshButton:115533,ResetButton:115820,ResetChartZoomButton:72564,ResolveButton:106683,RetryButton:101597,ReviewButton:115818,RunInShellButton:94760,SaveAndAddAnotherButton:134578,SaveButton:67881,SaveToButton:72316,SelectAllProjectsButton:62890,
ShareButton:115034,ShowLessButton:67775,ShowMoreButton:67774,SixHourToggle:67882,SixWeekToggle:67883,SkipButton:135560,SubmitButton:62895,SubscribeButton:130310,TimeRangeToolbar:108424,TimeSelectorPicker:67884,UnsubscribeButton:130311,WidgetCollapseToggle:68016,DashboardDropdownMenuToggle:81390,DashboardFilterBar:150045,DashboardGroupByItem:150046,DashboardGroupByMenu:150047,DashboardListDropdownMenu:81391,DashboardOverviewHeader:81389,DashboardOverviewPage:81388,EditDashboardNameButton:89778,FavoriteDashboardLink:89152,
GithubDashboardTemplatesLink:106440,RecentDashboardLink:89153,GroupCreationPage:85435,GroupDetailsLink:89890,GroupDetailsPage:85434,GroupEditingPage:85437,GroupsListPage:85433,SubgroupCreationPage:85436,HelpMenu:63621,HomeButton:63622,SearchTextInput:63623,TopNavZone:63624,UserProfileMenu:63625,WorkspaceSelectorMenu:63626,AdditionalToolsBanner:71149,AgentSettingsLink:70984,AppEngineProjectSubheadingLink:69170,AppEngineWidgetCard:67831,ChartsContainerCard:68340,CreateAlertingPolicyLink:68105,CreateAlertingPolicyMenuItem:68336,
CreateDashboardLink:70985,CreateUptimeCheckButton:68106,CreatingChartsLearnMoreLink:71217,DeleteMenuItem:68337,DismissBannerButton:71150,DismissOptInOutButton:72411,EditMenuItem:68338,EmailReportsSettingsLink:70986,EventsFilterMenu:69373,EventsFilterMenuItem:69374,EventsWidgetCard:67832,FilterButton:68341,GroupCollapseToggle:67475,GroupExpandToggle:67476,GroupsWidgetCard:67833,HomePage:67477,HomepageAddChartButton:68342,IncidentsWidgetCard:67834,MakeACopyMenuItem:68339,MonitoredAccountsSettingsLink:70987,
MonitoringTutorialsLink:70988,NewHomepageOptInOutBar:72412,OptInButton:72413,OptOutButton:72414,ProfilerProjectLink:70989,ResourceDashboardLink:89891,ResourceDashboardsWidgetCard:70895,ResourceGroupsLearnMoreLink:71218,TabButton:68343,UptimeWidgetCard:67835,ViewPolicyMenuItem:69375,WelcomeBanner:71151,WidgetExpandToggle:68017,WidgetItemLink:68344,WidgetSubgroupItemLink:68345,WidgetTitleLink:68018,AckLink:70026,ActionItemsPanel:114916,ActionItemsSortingDirection:133344,ActionItemsSortingProperty:133343,
ActionOptionsPicker:70027,ActiveIncidentsCard:69441,ActiveIncidentsTab:71374,AddActionTagButton:71927,AddCauseTagButton:71928,AddImpactButton:149583,AddImpactedResourceButton:90980,AddLinkButton:71929,AddMDBGroupButton:98198,AddMDBUserButton:98197,AddMultiImpactButton:149582,AddPostmortemCollaboratorsButton:145835,AddPostmortemCollaboratorsForm:145836,AddPostmortemRemediationOwnerButton:145837,AddPostmortemReviewerButton:145838,AddRelatedAlertsConfirmationCheckedToggle:88742,AddRoleButton:71930,AddRoleForm:145839,
AddSubscriptionButton:71931,AddTagButton:71932,AddTagInput:71933,AddToButton:69442,AddToIncidentCheckedToggle:70028,AddToIncidentConfirmButton:83200,AddToSummaryFromTeamNotes:105670,AddToTeamNotes:102698,AddedAlertsTab:71934,AddedAlertsTabSilenceSelectedButton:125212,AlertCheckedToggle:90750,AlertDetailsCard:70029,AlertDetailsLink:69443,AlertDetailsPage:70030,AlertDetailsPanel:70031,AlertEntryLink:71935,AlertManagerConsoleLink:70033,AlertPlaybookLink:70039,AlertingPolicyInsightCard:72734,AlertingPolicyLink:70883,
AlertsSectionPanel:147876,AllIncidentsTab:71375,AllLaddersScopeChip:119774,AmcCreateSilenceLink:136885,AmcEditSilenceLink:136886,ApprovePostmortemButton:134688,AssistantPanel:76754,AssistantToolbar:111450,AssociatedIncidentDeclarationDialog:112855,AutoAckDialog:147394,AutoAckListCreateAutoAckButton:157305,AutoAckMessageView:147396,AutoAckTab:157306,AvailableAlertsCard:69444,AvailableAlertsTab:71936,AvailableAlertsTabAddButton:83201,AvailableAlertsTabAddSelectedButton:83202,BlamelessPostmortemTabButton:71937,
BoqLink:90701,BorgJobAnnealingButton:72737,BorgJobUpdateInsightCard:72736,BreadcrumbChip:126510,CancelAutoAckDialogButton:147395,CannotDetermineTab:135015,CannotDetermineTabView:135016,CannotExpressTab:135017,CannotExpressTabView:135018,CcAddressChip:118054,CcAddressInput:74936,CellSigmaLink:72738,ChannelDisplayNameInput:71938,ChannelUrlInput:71939,ChildIncidentAddButton:112856,ChildIncidentCreateButton:112857,ClearSelectionButton:74937,ClientJobLink:72750,ClosedIncidentsTab:71376,CommentThreadAssigneeInput:128243,
CommentThreadResolveButton:132017,CommentThreadRestoreButton:132018,CommentsHideButton:124269,CommentsShowButton:124268,CommentsView:127869,CompanionHeader:88852,CompanionIncidentListPage:88850,CompanionIncidentResponsePage:88851,CompanionPage:88849,ConfirmDialogCancelButton:106501,ConfirmDialogConfirmButton:106502,ContinueInvestigationButton:75376,ContinueInvestigationWithRelatedAlertsButton:90902,ConvertToFullPostmortemButton:134047,ConvertToMiniPostmortemButton:138814,CreateAutoAckButton:147397,
CreateEscalatedDirtIncidentButton:105511,CreateEscalatedIncidentButton:98406,CreateHandoffEmailButton:69445,CreateIssueButton:71940,CreateIssueToggle:148120,CreateManualIncidentButton:69446,CreateManualIncidentPanel:90745,CreateManualPostmortemButton:139971,CreateManualPostmortemPanel:139972,CreateNewButton:69447,CreatePanel:124278,CreatePresetButton:105374,CreateSilenceButton:121759,CreateSilenceDialog:123668,CsccLink:71153,CustomField:149101,CustomFieldsDimension:149102,CustomerExperienceDialog:110371,
CustomerTiersCliTab:135020,CustomerTiersDialog:134579,CustomerTiersSaveButton:100671,DapperLinkButton:75594,DebuggerDialog:134458,DeleteIncidentButton:75670,DeleteLabelButton:137003,DeniedTagBanner:144262,DetectedStageButton:71941,DirtIncidentToggle:105657,DirtNonProdScopeChip:118739,DisableLabelButton:137001,DiscourageNonResponderMessage:111387,DismissAssistantSuggestion:111451,DismissButton:70035,DismissCheckedToggle:70036,DismissInsight:102699,DocumentedStageButton:98228,DuplicateIncidentDialog:135427,
EditDraftPostmortemButton:153853,EditInResponseTabButton:141542,EditIncidentTitleButton:71942,EditPanel:124279,EditScenariosDialog:149584,EditSeverityButton:71943,EditStageButton:71944,EditSummaryButton:71945,EditUpdateButton:92694,EditUpdateHistoryButton:92695,EditorContinueInvestigationView:70032,EditorFloatingView:95854,EditorHandoffView:95855,EditorInput:71954,EditorInvestigationUpdateView:95856,EditorSummaryView:95857,EmptyInsightsSection:106009,EnableLabelButton:137002,EndPointEventInsightCard:72742,
EndPointEventSignalLink:72743,EscalateHugeIncidentActivity:76813,EscalateIncidentButton:71946,EscalatedIncidentForm:98449,EscalationLadderButton:69448,ExecutiveSummaryMenuItem:118983,ExecutiveSummaryPresetFormSection:121861,ExecutiveSummaryPreviewDialog:124697,ExplanationInput:135019,ExternalCreateEscalatedIncidentLink:98407,ExternalUrl:96204,FloatingEditorCollapseToggle:95858,FloatingEditorExecutiveSummaryActionsBar:118003,FloatingEditorExecutiveSummaryFields:118052,FloatingEditorGoBackButton:95859,
FloatingEditorKeepDraftButton:95860,FloatingEditorSummaryActionsBar:105668,ForceTransferRoleButton:145840,FunctionalAreaDeclarationForm:112858,FunctionalAreasDeclarationButton:112859,FunctionalAreasEditButton:112860,GSLBInsightCard:72744,GcpOutageExclusionReasonsDialog:149162,GcpOutageMessage:149163,GoToAutomonButton:72735,GoToOutalatorButton:69449,GoToPostmortemButton:153847,GoToResponseButton:152438,HandoffPage:74940,HandoffPreviewPanel:74947,HandoffSettingsButton:74939,HideHelpPanelButton:109869,
HideNavigationPanelButton:109870,HomeTabButton:69450,HugeSeverityButton:71947,ImpactCard:112861,ImpactDeclarationButton:112862,ImpactDeclarationDialog:112863,ImpactScore:143902,ImpactScorePrediction:143903,ImpactScorePredictionCard:143904,ImpactScorePredictionSuggestionButton:143905,ImpactedResourcesDeclarationDialog:112864,ImpactedResourcesEditButton:112865,ImpactedResourcesFunctionAreaSelectionView:135561,ImpactedResourcesImpactLevelInput:81857,ImpactedResourcesLocationSelectionView:135562,ImpactedResourcesLocationTaxonAddManualButton:124692,
ImpactedResourcesLocationTaxonInput:81858,ImpactedResourcesLocationTaxonSelect:124691,ImpactedResourcesPanel:81859,ImpactedResourcesProductServicesSelectionView:135563,ImpactedResourcesResourceTaxonInput:81860,ImpactedResourcesTreeSelectionDialog:84495,IncidentArtifactsBoqLink:94749,IncidentArtifactsPlaybookLink:94750,IncidentArtifactsPodLink:94751,IncidentCheckedToggle:91061,IncidentCumulativeUserImpactPanel:104471,IncidentDetailsLink:69451,IncidentDetectionMethodPanel:104472,IncidentDuration:111273,
IncidentGeneratedArtifacts:112927,IncidentIdButton:71948,IncidentInsightsCard:91592,IncidentInvestigationTabButton:71949,IncidentInvestigationTabLink:91927,IncidentLadderInput:90744,IncidentLinkDisplayNameTextInput:91063,IncidentLinkTypeInput:91066,IncidentLinkUrlTextInput:91067,IncidentLinksPanel:90723,IncidentListItemMoreActions:88308,IncidentListItemUpdateSeverity:90088,IncidentListItemUpdateStage:88309,IncidentListPage:69452,IncidentOutcomeBreakdownPanel:111694,IncidentOutcomePanel:111695,IncidentOverallDurationPanel:104473,
IncidentOverviewTabButton:71950,IncidentPresetDropdown:98439,IncidentResponsePage:71951,IncidentRoleAssigneeTextInput:90740,IncidentRolePanel:72418,IncidentRoleTypeInput:90742,IncidentSeverityDropdown:98436,IncidentStagePanel:71952,IncidentSubscriptionPanel:72419,IncidentSuggestedChart:142353,IncidentSummaryDiffToggle:107522,IncidentSummaryTextInput:105658,IncidentSynopsisCard:114249,IncidentTagsPanel:90721,IncidentTimelineTabButton:96543,IncidentTitleTextInput:90746,IncidentToolbarPanel:71953,IncludeAdditionalInfoToggle:74941,
IncludeInPostmortemTimelineToggle:107771,InheritedProjectAccessUncheckedToggle:98199,InsightContent:88012,InsightNegativeFeedbackButton:72745,InsightPositiveFeedbackButton:72746,InsightRelevancePanel:72983,InsightSuggestedLink:87864,InsightsExpandableCard:143041,InsightsSection:106010,InsightsTab:102700,InvestigateButton:140916,InvestigateSection:148537,InvestigationsUpdatesCard:71955,IrmAddFabMenu:90747,IrmIncidentsListCard:71377,IrmManagedPostmortemWorkflowContainer:112929,IrmManagedPostmortemWorkflowStatusBar:115821,
JobSigmaLink:72739,JumpToNarrativeDocButton:131842,JumpToNarrativeDocButtonTooltip:132403,LayoutOneColumnToggle:108112,LayoutTwoColumnToggle:108113,LearnMoreReadingModeLink:136264,LinkExistingButton:107787,LinkExistingOMGForm:98448,LinkExistingOMGTab:98447,LinkGardenIncidentIdCopyButton:98603,LinkGardenIncidentUrlCopyButton:98604,LinkGardenOmgIdCopyButton:98605,LinkGardenOmgUrlCopyButton:98606,LinkGardenOutalatorUrlCopyButton:98607,LinkGardenTitleCopyButton:98608,LinkGardenUrlAndTitleCopyButton:98609,
LumenAnomalyInsightCard:72747,MajorSeverityButton:71956,ManageAccessMenuItem:98200,ManageAccessSaveButton:98202,ManageInIRMTab:98408,ManageInOMGTab:98409,ManageSubscriptionButton:72420,ManualInputTab:135021,ManualInputTabView:135022,MarkIncidentMitigatedActivity:80552,MarkIncidentResolvedActivity:80553,MediumSeverityButton:71957,MentionsInComment:130469,MetricCorrelationInsightCard:72748,MetricsExplorerButton:66616,MiniPostmortemCreateButton:132351,MinorSeverityButton:71958,MissingTagsActivity:85309,
MitigatedStageButton:71959,NamedPushInsightCard:72749,NavigationPanelLink:109871,NegligibleSeverityButton:71960,NewIncidentButton:70038,NewIncidentCheckToggle:70037,NewThreadCard:124271,NoEventText:118913,NonSilenceAmcPreferencePicker:137589,NotificationHistoryLink:70884,OmgPage:105659,OmgTabButton:105512,OmgsOnlyScopeChip:119775,OpenIrmInNewTabButton:88853,OpenResourceTreeDialogButton:84496,OperationSigmaButton:72740,OwningTeamOverrideButton:129320,OwningTeamRestoreButton:129321,OwningTeamWarningEditButton:129322,
OwningTeamWarningMessage:129323,ParentAssociationInPostmortem:133159,ParentIncidentAddButton:112866,PconButton:74670,PmlintErrorOnImpactCard:144314,PodLink:90702,PolicyButtonPanel:115520,PolicyTablePanel:115521,PostUpdateFromCompanion:88118,PostmortemCollaboratorChip:145841,PostmortemCommentsPanel:124267,PostmortemNarrativeDocSection:114883,PostmortemReadingModeContentPanel:137486,PostmortemReadingModeContentSwitcher:137489,PostmortemReadingModeHeader:137476,PostmortemReadingModePage:137475,PostmortemReadingModeSidepanel:137477,
PostmortemReadingModeSidepanelHeader:137478,PostmortemReadingModeSidepanelSection:137479,PostmortemReadingModeSidepanelSectionActionItems:137484,PostmortemReadingModeSidepanelSectionCore:137480,PostmortemReadingModeSidepanelSectionDuration:137485,PostmortemReadingModeSidepanelSectionImpact:137481,PostmortemReadingModeSidepanelSectionPmlint:138660,PostmortemReadingModeSidepanelSectionRootCauses:137482,PostmortemReadingModeSidepanelSectionTags:138810,PostmortemReadingModeSidepanelSectionTimeline:138818,
PostmortemReadingModeSidepanelSectionTriggers:137483,PostmortemReadingModeSwitcherButton:137474,PostmortemRolesButton:145842,PostmortemRolesDialog:145843,PostmortemSeverityDropdownPanel:109501,PostmortemViewInDocs:99132,PostmortemViewInIrm:121971,PostmortemViewInRequiem:99133,PostmortemWorkflowContainer:142804,PreliminaryImpactAssessmentDialog:155597,PresetEditDialogCloseButton:105375,PresetEditDialogCustomRoleSectionAddButton:105376,PresetEditDialogCustomRoleSectionCancelButton:105377,PresetEditDialogCustomRoleSectionRoleInput:105378,
PresetEditDialogCustomRoleSectionSaveButton:105379,PresetEditDialogDeleteItemButton:106378,PresetEditDialogEditItemButton:106379,PresetEditDialogExternalArtifactsSectionAddButton:105380,PresetEditDialogHeader:105428,PresetEditDialogImpactedResourcesSectionAddButton:105381,PresetEditDialogPeopleSectionAddButton:105382,PresetEditDialogPresetNameInput:105384,PresetEditDialogPrimaryCommsSectionAddButton:105383,PresetEditDialogSaveButton:105385,PresetEditDialogSeverityDropdown:105386,PresetEditDialogSubscriptionsSectionAddButton:105387,
PresetEditDialogSummaryInput:105388,PresetEditDialogTagsSectionAddButton:105389,PresetEditDialogTagsSectionCancelButton:105390,PresetEditDialogTagsSectionDeleteTagButton:105391,PresetEditDialogTagsSectionSaveButton:105392,PresetEditDialogTagsSectionTagInput:105393,PresetEditDialogUseMarkdownToggle:105394,PresetEditDialogView:105427,PresetListPageCreatePresetButton:105395,PresetListPagePresetIdCopyIcon:105410,PresetListPageSearchInput:105411,PresetListPageSelectPresetItem:105412,PresetListPageView:105429,
PresetsTabButton:105396,PrimaryCommsButton:71961,PrimaryCommsDismissTooltip:99468,PrimaryCommsPanel:71962,PrimaryCommsTimeoutTooltip:99469,PrimaryCommsTooltip:103366,ProductionChangeEventCard:118914,PublishButton:124280,QueryExplorerButton:128497,RPCAnomalyInsightCard:72751,RadioButton:104474,ReadDraftPostmortemButton:153848,ReadPostmortemButton:153849,RefreshSsoActivity:107379,RefreshSsoNotification:108588,RefreshStaleSummaryActivity:76815,RelatedIncidentsTabButton:71963,ReliabilityLink:149164,ReportTabButton:69453,
RequiemManagedPostmortemWorkflowContainer:101231,ResolvedStageButton:71964,ResourceLink:71154,RestoreLabelButton:138147,RestorePreselectButton:74943,RestrictedIncidentLockerIcon:98201,RevenueImpactDialog:119474,RevertToEstimateButton:104475,ReviewDraftPostmortemButton:153850,ReviewPostmortemButton:153851,RolesList:145844,RootCauseEditPanel:110117,RootCausesPanel:110118,ScopeControlsChips:126222,SearchInput:69454,ServerJobLink:72752,SetInitialSeverityActivity:76814,SeverityDropdownPanel:71965,ShodanLink:70885,
ShowEventsTableButton:118912,ShowHelpPanelButton:109872,ShowNavigationPanelButton:109873,SignalAlertingMetricHeaderPanel:66617,SilenceButton:123669,SilenceDialogCancelButton:123670,SilenceDialogCreateButton:123671,SilenceDialogDuplicateButton:137452,SilenceDialogSaveButton:123994,SilenceInterstitialDialog:126230,SilenceListPageAnnotationCopyIcon:142101,SilenceListPageSearchInput:129317,SilencePreferencePicker:123672,SilenceTab:157307,SimilarIncidentsCard:70040,SimilarIncidentsList:70041,SloServiceLink:70886,
StageDetectedView:104842,StageDocumentedView:104846,StageDuplicateView:104847,StageMitigatedView:104844,StageResolvedView:104845,StageTriagedView:104843,StartPostmortemButton:153852,StopButton:72741,SubjectInput:74944,SubscriptionChannelTextInput:90731,SubscriptionIncidentEscalatedEventTypeCheckedToggle:91480,SubscriptionNewInvestigationUpdateEventTypeCheckedToggle:90737,SubscriptionPostmortemStatusChangeEventTypeCheckedToggle:153325,SubscriptionSeverityChangeEventTypeCheckedToggle:90735,SubscriptionStageChangeEventTypeCheckedToggle:90734,
SubscriptionSummaryChangeEventTypeCheckedToggle:90733,SubscriptionTitleChangeEventTypeCheckedToggle:90732,SummaryCard:141658,SurveyDialog:155010,SurveyDialogCancelButton:155011,SurveyDialogQuestion:155015,SurveyDialogRadioOption:155012,SurveyDialogSubmitButton:155013,TagAutocompleteMenuItem:91153,TakeActionButton:70042,TakeActionCard:70043,TakeActionMenu:70044,ThreadCard:124270,TimelineFilterLifecycleChip:128365,TimelineFilterPostmortemChip:128368,TimelineFilterSeverityChip:128366,TimelineFilterSummaryChip:128256,
TimelineFilterTeamNotesChip:128367,TimelineIncludeInPostmortemTutorialTip:103365,TimelineListItemPanel:107772,TimelinePanel:118291,TimelineTableCreateEventRowPanel:128252,TimelineTableEditEventRowPanel:128253,TimelineTablePanel:128254,TimelineTableRow:128255,ToAddressChip:118053,ToAddressInput:74945,TopErrorBar:80078,TransferRoleButton:145845,TransferRoleForm:145846,TriagedStageButton:71966,TriggerEditPanel:106677,TriggersPanel:106675,TutorialTipDismiss:103299,TutorialTipTimeout:103300,UnapprovePostmortemButton:134689,
UnattachedCheckedToggle:125797,UnpublishButton:142228,UpdateButton:104476,UseMarkdownForSummaryToggle:105660,UseMarkdownToggle:71967,UseSuggestedLocationsButton:130897,ViewInOutalatorLink:70045,ViewSummaryHistoryButton:99064,ViolatingEntities:110916,WeatherEyeLink:70046,WhatImpactDimensionRow:149585,WhatsNewButton:114918,AddMetricButton:67886,AgentMetricDropdownItem:87254,AlignerPicker:67887,AlignmentPeriodInput:67888,ChartDisplayModePicker:67889,ChipDeleteButton:67890,CompareToPastInput:67891,CompareToPastPicker:67892,
CompareToPastToggle:67893,CopyJsonButton:67894,CopyLinkButton:67895,GroupByInput:67897,LogScaleToggle:67898,MetricAliasTemplateInput:67899,MetricInput:67900,MetricTab:67903,MetricsExplorerChartBar:67902,MetricsExplorerPage:67901,PopularMetricDropdownItem:87256,QueryBuilderCard:67904,QueryEditorButton:67905,QueryNotationAutoRunToggle:93453,QueryNotationBackButton:93454,QueryNotationCard:93455,QueryNotationFormatButton:93456,QueryNotationHelpButton:97439,QueryNotationInput:93457,QueryNotationRunQueryButton:93458,
ReducerPicker:67906,ResourceMetricInput:67907,ResourceTypeInput:67908,SaveChartButton:67909,SaveChartDialog:67910,SecondaryReducerPicker:67911,ShareURLMenuItem:67912,ShareURLNotice:67913,SystemMetricDropdownItem:87253,ThresholdInput:67914,ThresholdToggle:67915,UncategorizedMetricDropdownItem:87255,ViewJsonMenuItem:67917,ViewJsonPane:67918,ViewOptionsTab:67916,MonitoringBetaOptInMessage:86792,MonitoringWelcomePage:86793,AlertingFlyoutMenu:70158,CloudConsoleLink:69835,CreateAPolicyLink:70159,DashboardsFlyoutHoverButton:78729,
DashboardsFlyoutMenu:70177,DashboardsMenuItem:70178,DashboardsOverviewLink:70179,DebugProjectLink:69831,ErrorReportingProjectLink:69834,EventsListLink:70160,GroupsFlyoutMenu:70180,GroupsMenuItem:70181,GroupsOverviewLink:70182,IncidentsListLink:70161,IstioTopologyLink:70338,KeyVisualizerBigtableLink:70162,KeyVisualizerDatastoreLink:70163,LoggingProjectLink:69833,MainNavigationPanel:69829,MainNavigationPanelToggle:69836,ManagedPrometheusOverviewLink:135273,MetricsExplorerLink:70164,MonitoringOverviewLink:69830,
MonitoringPermissionsLink:155347,MonitoringSettingsLink:89960,NetworkVisualizationTopologyLink:70339,PoliciesOverviewLink:70165,PublicChartsLink:70183,QueryNotationEditorHowToUseLink:97440,QueryNotationExamplesLink:97441,ResourcesFlyoutHoverButton:78730,ResourcesFlyoutMenu:70166,ResourcesFlyoutMenuItem:70167,ServicesFlyoutMenu:70340,ServicesMenuItem:70341,ServicesOverviewLink:70342,TopologyFlyoutMenu:70343,TraceProjectLink:69832,UptimeChecksFlyoutMenu:70184,UptimeChecksMenuItem:70185,UptimeChecksOverviewLink:70186,
AddToExistingWorkspaceRadioButton:63627,AgentInstallationScriptPanel:63628,AlertingPolicyLearnMoreLink:62914,AwsDescriptionOfAccountInput:62903,AwsIamConsoleLink:62901,AwsMoveAccountButton:62905,AwsRemoveAccountButton:62906,AwsRoleArnInput:62902,BuildingWorkspacePage:72519,CreateNewWorkspaceRadioButton:63629,EndOnboardingLaunchMonitoringButton:63630,EndOnboardingLaunchMonitoringPage:63631,GcpProjectInput:62897,InstallLoggingAgentLink:62909,InstallMonitoringAgentLink:62908,MonitorUptimeChecksLearnMoreLink:62915,
NewProjectMenuItem:70457,ProjectNotInWorkspaceCard:63632,ProjectNotInWorkspacePage:63633,ReleaseNotesLink:62916,ReportingPreferencesDailyRadioButton:62912,ReportingPreferencesList:62910,ReportingPreferencesNoneRadioButton:62913,ReportingPreferencesWeeklyRadioButton:62911,SkipAwsSetupButton:62907,WorkspaceAddAwsAccountButton:62904,WorkspaceDocumentationLink:62894,WorkspaceSetupConnectAwsPage:62900,WorkspaceSetupConnectGcpPage:62898,WorkspaceSetupInstallAgentsPage:63373,WorkspaceSetupReportingPage:63374,
WorkspaceSetupRequestErrorPage:72520,WorkspaceSetupWorkspaceCreatePage:62893,AgentInstallFlowCloseFlow:106097,AgentInstallFlowComplete:106098,AgentInstallFlowDialog:137285,AgentInstallFlowDialogCancelButton:136839,AgentInstallFlowDialogFleetInstallationLink:157208,AgentInstallFlowDialogRunInCloudShellButton:136838,AgentInstallFlowInstallAgent:106099,AgentInstallFlowInstallAgentsButton:129949,AgentInstallFlowInstallLegacyAgentsLink:136840,AgentInstallFlowInstallOpsAgentLink:136841,AgentInstallFlowOSChange:106100,
AgentInstallFlowOpsAgentFleetInstallationMenuItem:136837,AgentSummaryCardInstallButton:140719,AgentSummaryCardLegacyAgent:145238,AgentSummaryCardOpsAgent:145239,AgentSummaryCardOther:145240,AgentSummaryCardUpdateButton:157209,AgentSummaryCardUpgradeButton:140720,AgentSummaryCardVmStopped:145241,AgentVersionCell:106101,FilterToAlertsButton:130004,FilterToLegacyAgentButton:136990,FilterToLoggingAgentButton:130005,FilterToMissingAgentButton:136991,FilterToMonitoringAgentButton:130006,FilterToSystemEventsButton:131038,
GceInventoryPageInventoryTabAgentBannerToOpsAgentBlog:136843,GceInventoryPageInventoryTabAgentSummaryCardToOpsAgentBlog:136842,GceOverviewPageCpuTab:96725,GceOverviewPageDiskTab:96726,GceOverviewPageExploreTab:105909,GceOverviewPageExploreTabAgentCardToInventory:105910,GceOverviewPageExploreTabLoggingAgentCardToInventory:111192,GceOverviewPageExploreTabMetricsExplorerLink:105911,GceOverviewPageExploreTabMonitoringAgentCardToInventory:111193,GceOverviewPageExploreTabNoAgentCardToInventory:105912,GceOverviewPageExploreTabToDisk:105915,
GceOverviewPageExploreTabToInventory:105913,GceOverviewPageExploreTabToMemory:105914,GceOverviewPageInventoryTab:96727,GceOverviewPageMemoryTab:96728,GceOverviewPageNetworkTab:96729,GceOverviewPageOverviewTab:96730,GceOverviewPageProcessesTab:124603,GkeSystemDashboardPage:104524,InstanceSshButton:92523,InstanceSshGceOpenBrowserWindow:92524,InstanceSshToPrivateIpMenuItem:92525,InstanceSshToPublicIpMenuItem:92526,InstanceTableIntegrationsCellMoreButton:140721,InstanceTableIntegrationsHelpButton:140722,
InstanceTableIntegrationsLearnMoreLink:140723,InstanceTableSideFilterList:130007,InstanceTableVmNameOpenFlyout:145242,LoggingAgentInstallFlowCloseFlow:111194,LoggingAgentInstallFlowComplete:111195,LoggingAgentInstallFlowInstallAgent:111196,LoggingAgentInstallFlowOSChange:111197,LoggingAgentStatusCell:111198,MonitoringIncidentDetailsLink:70176,MonitoringOverviewGoogleManagedPrometheusBanner:147744,MonitoringOverviewGoogleManagedPrometheusBannerToDocs:147745,ResourceHoverCard:70175,ResourcePanel:104801,
ResourceTab:104802,ShowAllInstancesButton:130008,SshConnectionCell:92527,AddSloButton:64633,SlosPane:64632,AlertInterstitialDialog:72196,DeleteCheckDialog:72197,DeletePoliciesAndCheckDialog:100175,EditUptimeCheckDialog:72198,NewUptimeCheckDialog:72199,UptimeCheckActionMenu:72200,UptimeCheckAlertPolicyAddNotificationPicker:93202,UptimeCheckAlertPolicyCreateToggle:105727,UptimeCheckAlertPolicyDurationInput:93201,UptimeCheckAlertPolicyNameInput:93200,UptimeCheckCancelButton:93204,UptimeCheckCopyPanel:93184,
UptimeCheckCreatePanel:93183,UptimeCheckDetailsLink:72202,UptimeCheckDetailsMenuItem:72203,UptimeCheckDetailsPage:72201,UptimeCheckEditPanel:93185,UptimeCheckFrequencyPicker:93193,UptimeCheckHostnameInput:93188,UptimeCheckHostnameTextInput:88937,UptimeCheckLandingMenuItem:72204,UptimeCheckLandingPage:72205,UptimeCheckLocationOptionsButton:93194,UptimeCheckMoreTargetOptions:93192,UptimeCheckNavMenu:72206,UptimeCheckPathInput:93189,UptimeCheckPathTextInput:72207,UptimeCheckProtocolPicker:93187,UptimeCheckRegionPicker:93382,
UptimeCheckResponseContentMatchToggle:103539,UptimeCheckResponseContentMatchTypePicker:93197,UptimeCheckResponseSubstringTextinput:93198,UptimeCheckResponseTimeoutInput:93196,UptimeCheckSaveNextStep1Button:93190,UptimeCheckSaveNextStep2Button:93195,UptimeCheckSaveNextStep3Button:93199,UptimeCheckSaveNextStep4Button:93383,UptimeCheckSubmitButton:93203,UptimeCheckTargetResourcePicker:93191,UptimeCheckTargetTypePicker:93186,UptimeCheckTestButton:88938,UptimeCheckTitleTextInput:72208,UptimePrivateCheckerCreateButton:97674,
UptimePrivateCheckerCreateDialog:97675,UptimePrivateCheckerDeleteDialog:97676,UptimePrivateCheckerEditDialog:97677,UptimePrivateCheckerList:97678,MonitoringWorkspacePicker:101076,RecentWorkspaceLink:101077,ViewAllWorkspacesButton:101078,WorkspaceLink:101079,WorkspacePickerMenu:101080,ROOT_IDS:{},VE_NAMES:{}};
var g7=class{constructor(a,b,c,d,e){this.domain=a;this.pageToken=b;this.granularity=d;this.alignmentPeriod=c;this.requestCount=e;this.isParallel=!1;this.requestTimestamp=null;this.isLatest=!1}},uBe=class{constructor(a,b,c,d){this.tile=a;this.hasError=b;this.loadingStrategy=c;d&&(this.clientRequestId=d.clientRequestId,delete d.clientRequestId,this.otherMetadata=d)}},h7=function(a,b){a.fetchTileCounter++;a.tileStartTimes.push([b,performance.now()])},vBe=function(a,b){if(a=a.tileStartTimes.find(c=>c[0]===
b))return a[1]},wBe=function(a,b,c,d){_.DN.isWhitelisted("chart-analytics-events")&&d&&(a={loadingStrategy:d.loadingStrategy,hasError:d.hasError,timerId:a.timerId,granularity:d.tile.granularity},Object.assign(a,d.otherMetadata),_.DN.getAnalytics().sendTiming("interval","tileLoadedMs",c-b,"tile loading time",a,{prohibitGa:!0,monarchRequestId:d.clientRequestId}))},xBe=function(a,b){null===a.isLoadingEndTime&&(a.isLoadingEndTime=performance.now());a.fetchTileCounter--;if(b){const c=vBe(a,b.tile);b.tile&&
c&&(wBe(a,c,performance.now(),b),a.tileStartTimes=a.tileStartTimes.filter(d=>d[0]!==b.tile))}0===a.fetchTileCounter&&(a.endTime=performance.now(),a.sendTiming())},yBe=class{constructor(){this.startTime=performance.now();this.endTime=this.isLoadingEndTime=null;this.hasError=!1;this.errorCode=this.errorName=null;this.fetchTileCounter=0;this.purpose=null;this.timerId=_.qm();this.tileStartTimes=[]}setPurpose(a){this.purpose=a}error(a){this.hasError||(this.hasError=!0,a.errorName&&(this.errorName=a.errorName),
a.errorCode&&(this.errorCode=a.errorCode))}sendTiming(){if(_.DN.isWhitelisted("chart-loading-timings")){var a={hasError:this.hasError,isLoadingTime:this.isLoadingEndTime-this.startTime,timerId:this.timerId};this.errorName&&(a.errorName=this.errorName);this.errorCode&&(a.errorCode=this.errorCode);this.purpose&&(a.purpose=this.purpose);var b=this.endTime-this.startTime;_.DN.getAnalytics().sendTiming("interval","chartLoading",b,"chart loading time",a);_.DN.chartLoadingEvent(b,this.hasError&&this.errorCode&&
200!==this.errorCode&&"200"!==this.errorCode)}}};
var zBe=class{constructor(a,b,c,d,e,f,g,h,l,n){this.tileable=a;this.originalContext=b;this.tileContext=c;this.nextDomains=d;this.recordMeasurements=e;this.p1Start=f;this.p2Start=g;this.domainLengthInDays=h;this.p1=l;this.p2=n}success(a){if(this.recordMeasurements){if(this.p1&&!this.p2){this.p2=performance.now()-this.p2Start;var b="Second phase took "+this.p2+" milliseconds";console.log(b);window.measurements.push(b);b="Second phase length is "+this.domainLengthInDays+" days";console.log(b);window.measurements.push(b);
b=this.p2/this.domainLengthInDays;var c="Second phase time per day is "+b;console.log(c);window.measurements.push(c);b="Ratio is "+b/this.p1;console.log(b);window.measurements.push(b)}this.p1||(this.p1=performance.now()-this.p1Start,b="First phase took "+this.p1+" milliseconds.",console.log(b),window.measurements.push(b))}a.nextPageToken&&50>a.requestCount?this.tileable.fetchTile(new g7(a.domain,a.nextPageToken,a.alignmentPeriod,a.granularity,a.requestCount+1),this.tileContext,this):(this.nextDomains.length&&
(b=this.nextDomains.shift(),c=n5(this.originalContext),this.recordMeasurements&&(this.p2Start=performance.now(),this.domainLengthInDays=(+b[1]-+b[0])/864E5),this.tileable.fetchTile(new g7(b,null,a.alignmentPeriod,a.granularity,0),c,new zBe(this.tileable,this.originalContext,c,this.nextDomains,this.recordMeasurements,this.p1Start,this.p2Start,this.domainLengthInDays,this.p1,this.p2))),this.done())}error(){this.done()}done(){this.tileContext=this.originalContext=null}},N$d=class{constructor(){this.firstTileSize=
86399E3;this.recordMeasurements=!0;window.measurements||(window.measurements=[])}kickoff(a,b,c,d,e,f){let g=null;var h=null,l=Date.now();+b[0]>=l-this.firstTileSize?g=b:+b[1]>l-this.firstTileSize&&(g=[new Date(l-this.firstTileSize),b[1]],h=[b[0],new Date(l-this.firstTileSize)]);l=null;c&&(l=_.RN(b,c));b=[];h&&b.push(h);l&&b.push(l);h=n5(f);c=performance.now();return a.fetchTile(new g7(g,null,d,e,0),h,new zBe(a,f,h,b,this.recordMeasurements,c,0,0,0,0))}};
var BBe={interceptor:function(a){this.batch||(this.batch=window.gapi.client.newBatch(),_.RO(()=>{ABe()}));this.batch.add(a)}},CBe=class{constructor(a,b){this.tileable=a;this.tileContext=b}success(a){a.nextPageToken&&50>a.requestCount?this.tileable.fetchTile(new g7(a.domain,a.nextPageToken,a.alignmentPeriod,a.granularity,a.requestCount+1),this.tileContext,this):this.done()}error(){this.done()}done(){this.tileContext=null}},ABe=function(){BBe&&BBe.batch&&(BBe.batch.then(()=>{},a=>{console.log("batch errored",
a)}),delete BBe.batch)},R$d=class{kickoff(a,b,c,d,e,f){var g=n5(f);g.headers=g.headers||{};g.headers.batchContainer=BBe;g=a.fetchTile(new g7(b,null,d,e,0),g,new CBe(a,g));c&&(b=_.RN(b,c),f=n5(f),a.fetchTile(new g7(b,null,d,e,0),f,new CBe(a,f)));return g}};
var DBe=class{constructor(a,b,c){this.tileable=a;this.tileContext=b;this.timer=c}success(a,b){a.nextPageToken&&50>a.requestCount?this.tileable.fetchTile(new g7(a.domain,a.nextPageToken,a.alignmentPeriod,a.granularity,a.requestCount+1),this.tileContext,this):this.done(!1,a,b)}error(a,b){this.timer.error(b);this.done(!0,a,b)}done(a,b,c){a=new uBe(b,a,"brute",c);xBe(this.timer,a);this.tileContext=null}},EBe=class{constructor(){this.purpose=null}setPurpose(a){this.purpose=a}kickoff(a,b,c,d,e,f){const g=
new yBe;g.setPurpose(this.purpose);var h=n5(f);const l=new DBe(a,h,g),n=new g7(b,null,d,e,0);n.isLatest=!0;h7(g,n);h=a.fetchTile(n,h,l);c&&(b=_.RN(b,c),f=n5(f),c=new DBe(a,f,g),d=new g7(b,null,d,e,0),h7(g,d),a.fetchTile(d,f,c));return h}};
var i7=[];i7.activeRequests=0;
var FBe=class{constructor(a,b,c,d,e,f,g,h,l){this.tileable=a;this.originalContext=b;this.tileContext=c;this.secondPhaseDomains=d;this.throttle=e;this.p1Start=f;this.firstTileSize=g;this.timeBound=h;this.timer=l;this.reject=this.resolve=null;this.promise=new Promise((n,r)=>{this.resolve=n;this.reject=r});this.promise.catch(()=>{})}fetchTile(a,b,c){i7.unshift({callback:this,tileable:a,tile:b,tileContext:c,resolve:this.resolve,reject:this.reject});this.fire();return this.promise}fire(){for(;i7.length&&(!this.throttle||
i7.activeRequests<i7.throttleSize);){const a=i7.pop();i7.activeRequests++;const b=a.tileable.fetchTile(a.tile,a.tileContext,a.callback);b&&b.then(c=>a.resolve(c)).catch(c=>a.reject(c))}}getTileSize(a,b,c,d){a=1/Math.ceil((.96+_.UN(b)/864E5/(5*c))*a/d)*100;100<a?a=100:10>a&&(a=10);return a}success(a,b){if(a.nextPageToken&&50>a.requestCount)b=new g7(a.domain,a.nextPageToken,a.alignmentPeriod,a.granularity,a.requestCount+1),b.requestTimestamp=a.requestTimestamp,b.isParallel=!0,this.tileable.fetchTile(b,
this.tileContext,this);else{if(this.secondPhaseDomains.length){performance.now();var c=this.secondPhaseDomains[0];for(c=C6(c,this.getTileSize(this.p1Start,c,this.firstTileSize,this.timeBound));c.length;){var d=c.shift(),e=n5(this.originalContext),f=new FBe(this.tileable,this.originalContext,e,[],this.throttle,0,0,0,this.timer);d=new g7(d,null,a.alignmentPeriod,a.granularity,0);d.requestTimestamp=a.requestTimestamp;d.isParallel=!0;h7(this.timer,d);f.fetchTile(this.tileable,d,e)}2===this.secondPhaseDomains.length&&
(f=this.secondPhaseDomains[1],c=n5(this.originalContext),e=new FBe(this.tileable,this.originalContext,c,[],this.throttle,0,0,0,this.timer),f=new g7(f,null,a.alignmentPeriod,a.granularity,0),f.requestTimestamp=a.requestTimestamp,f.isParallel=!0,h7(this.timer,f),e.fetchTile(this.tileable,f,c))}this.done(!1,a,b)}}error(a,b){this.timer.error(b);this.done(!0,a,b)}done(a,b,c){a=new uBe(b,a,"default-parallel",c);xBe(this.timer,a);this.tileContext=this.originalContext=null;this.throttle&&(i7.activeRequests--,
this.fire())}},K$d=class{constructor(a,b,c){this.tileSize=a;this.adaptive=b;this.firstPhaseSize=86399E3;this.timeBound=5E3;i7.throttleSize=c;this.purpose=null}setPurpose(a){this.purpose=a}kickoff(a,b,c,d,e,f){const g=new yBe;g.setPurpose(this.purpose);const h=!!i7.throttleSize;let l=0;let n=[],r=[];if(this.adaptive){var v=null,w=Date.now();if(+b[0]>=w-this.firstPhaseSize){var y=b;l=_.UN(b)}else+b[1]>w-this.firstPhaseSize?(y=[new Date(w-this.firstPhaseSize),b[1]],l=_.UN(y)/864E5,v=[b[0],new Date(w-
this.firstPhaseSize)]):(y=[b[0],b[1]],l=_.UN(y)/864E5);w=null;c&&(w=_.RN(b,c));v&&r.push(v);w&&r.push(w);n.push(y)}else n=C6(b,this.tileSize),c&&(b=_.RN(b,c),b=C6(b,this.tileSize),Array.prototype.unshift.apply(n,b));b=null;c=Date.now();for(y=!0;n.length;){w=n.pop();v=n5(f);var B=performance.now();B=new FBe(a,f,v,r,h,B,l,this.timeBound,g);w=new g7(w,null,d,e,0);w.requestTimestamp=c;w.isParallel=!0;w.isLatest=y;y=!1;h7(g,w);v=B.fetchTile(a,w,v);b=b||v}return b}};
var j7=[];j7.activeRequests=0;
var GBe=class{constructor(a,b,c,d,e,f,g,h,l,n){this.tileable=a;this.originalContext=b;this.tileContext=c;this.domains=d;this.secondPhaseDomains=e;this.throttle=f;this.p1Start=g;this.firstTileSize=h;this.timeBound=l;this.timer=n;this.reject=this.resolve=null;this.promise=new Promise((r,v)=>{this.resolve=r;this.reject=v});this.promise.catch(()=>{})}fetchTile(a,b,c){j7.unshift({callback:this,tileable:a,tile:b,tileContext:c,resolve:this.resolve,reject:this.reject});this.fire();return this.promise}fire(){for(;j7.length&&
(!this.throttle||j7.activeRequests<j7.throttleSize);){const a=j7.pop();j7.activeRequests++;const b=a.tileable.fetchTile(a.tile,a.tileContext,a.callback);b&&b.then(c=>a.resolve(c)).catch(c=>a.reject(c))}}getTileSize(a,b,c,d){a=1/Math.ceil((.96+_.UN(b)/864E5/(5*c))*a/d)*100;100<a?a=100:10>a&&(a=10);return a}fetchNextDomain(a){if(this.secondPhaseDomains.length){var b=performance.now()-this.p1Start,c=this.secondPhaseDomains[0];b=this.getTileSize(b,c,this.firstTileSize,this.timeBound);c=C6(c,b);2===this.secondPhaseDomains.length&&
(b=C6(this.secondPhaseDomains[1],b),Array.prototype.push.apply(this.domains,b));Array.prototype.push.apply(this.domains,c)}if(this.domains.length){const d=this.domains.pop();c=n5(this.originalContext);b=new GBe(this.tileable,this.originalContext,c,this.domains,[],this.throttle,0,0,0,this.timer);a=new g7(d,null,a.alignmentPeriod,a.granularity,0);h7(this.timer,a);b.fetchTile(this.tileable,a,c)}}success(a,b){a.nextPageToken&&50>a.requestCount?this.tileable.fetchTile(new g7(a.domain,a.nextPageToken,a.alignmentPeriod,
a.granularity,a.requestCount+1),this.tileContext,this):(this.fetchNextDomain(a),this.done(!1,a,b))}error(a,b){this.timer.error(b);this.done(!0,a,b)}done(a,b,c){a=new uBe(b,a,"default-streaming",c);xBe(this.timer,a);this.tileContext=this.originalContext=null;this.throttle&&(j7.activeRequests--,this.fire())}},J$d=class{constructor(a,b,c){this.tileSize=a;this.adaptive=b;this.firstPhaseSize=86399E3;this.timeBound=5E3;j7.throttleSize=c;this.purpose=null}setPurpose(a){this.purpose=a}kickoff(a,b,c,d,e,f){const g=
new yBe;g.setPurpose(this.purpose);const h=!!j7.throttleSize;var l=0;let n=[],r=[];if(this.adaptive){var v=null,w=Date.now();if(+b[0]>=w-this.firstPhaseSize){var y=b;l=_.UN(b)}else+b[1]>w-this.firstPhaseSize?(y=[new Date(w-this.firstPhaseSize),b[1]],l=_.UN(y)/864E5,v=[b[0],new Date(w-this.firstPhaseSize)]):(y=[b[0],b[1]],l=_.UN(y)/864E5);w=null;c&&(w=_.RN(b,c));v&&r.push(v);w&&r.push(w)}else n=C6(b,this.tileSize),y=n.pop();v=n5(f);w=performance.now();l=new GBe(a,f,v,n,r,h,w,l,this.timeBound,g);y=
new g7(y,null,d,e,0);h7(g,y);y=l.fetchTile(a,y,v);c&&!this.adaptive&&(b=_.RN(b,c),c=C6(b,this.tileSize),c.length&&(b=n5(f),f=new GBe(a,f,b,c,r,h,0,0,0,g),d=new g7(c.pop(),null,d,e,0),h7(g,d),f.fetchTile(a,d,b)));return y}};
var HBe=class{constructor(a,b,c,d){this.tileable=a;this.originalContext=b;this.tileContext=c;this.lookahead=d}success(a){if(a.nextPageToken&&50>a.requestCount)this.tileable.fetchTile(new g7(a.domain,a.nextPageToken,a.alignmentPeriod,a.granularity,a.requestCount+1),this.tileContext,this);else{if(this.lookahead.length){const b=this.lookahead.shift(),c=n5(this.originalContext);this.tileable.fetchTile(new g7(b,null,a.alignmentPeriod,a.granularity,0),c,new HBe(this.tileable,this.originalContext,c,this.lookahead))}this.done()}}error(){this.done()}done(){this.tileContext=
this.originalContext=null}},P$d=class{kickoff(a,b,c,d,e,f){var g=Vze(b),h=n5(f);g=a.fetchTile(new g7(b,null,d,e,0),h,new HBe(a,f,h,g));c&&(b=_.RN(b,c),c=Vze(b),h=n5(f),a.fetchTile(new g7(b,null,d,e,0),h,new HBe(a,f,h,c)));return g}};
var IBe=class{constructor(a,b,c,d){this.dataLayerType=a;this.isTopN=b;this.hasWaiters=c;this.whitelistedKeys=d.map(e=>e.toLowerCase());this.cause="INITIAL";this.purpose="Unspecified";this.tileSize=void 0}};
var KBe=class{constructor(a,b,c,d,e){this.newInstance=JBe;this.isTopN=a;this.hasWaiters=b;this.whitelistedKeys=c;this.cause=d;this.purpose=e}kickoff(a,b,c,d,e,f,g){const h=new IBe(a.dlType,this.isTopN,this.hasWaiters,this.whitelistedKeys);h.cause=this.cause;h.purpose=this.purpose;return this.newInstance(h).kickoff(a,b,c,d,e,f,g)}};
var LBe=class{kickoff(){const a=new _.aoc("attempt to use the null fetch strategy");console.error(a.message);throw a;}};
var MBe=class{constructor(a,b,c,d){this.tileable=a;this.originalContext=b;this.tileContext=c;this.domainsToFetch=d}fetchNextTile(a){if(this.domainsToFetch.length){const b=this.domainsToFetch.shift(),c=n5(this.originalContext);this.tileable.fetchTile(new g7(b,null,a.alignmentPeriod,a.granularity,0),c,new MBe(this.tileable,this.originalContext,c,this.domainsToFetch))}}success(a){a.nextPageToken&&50>a.requestCount?this.tileable.fetchTile(new g7(a.domain,a.nextPageToken,a.alignmentPeriod,a.granularity,
a.requestCount+1),this.tileContext,this):(this.fetchNextTile(a),this.done())}error(){this.done()}done(){this.tileContext=this.originalContext=null}},H$d=class{kickoff(a,b,c,d,e,f,g){var h=D6(b,g),l=Vze(b,3,.5);l=Tze(l,g);l=h.concat(l);h=null;if(l.length){h=l.shift();const n=n5(f);h=a.fetchTile(new g7(h,null,d,e,0),n,new MBe(a,f,n,l))}c&&(c=_.RN(b,c),b=D6(c,g),c=Vze(c,3,.5),g=Tze(c,g),g=b.concat(g),b=n5(f),g.length&&(c=g.shift(),a.fetchTile(new g7(c,null,d,e,0),b,new MBe(a,f,b,g))));return h}};
var NBe=class{constructor(a,b,c){this.tileable=a;this.originalContext=b;this.tileContext=c}success(a){a.nextPageToken&&50>a.requestCount?(a=new g7(a.domain,a.nextPageToken,a.alignmentPeriod,a.granularity,a.requestCount+1),a.isParallel=!0,this.tileable.fetchTile(a,this.tileContext,this)):this.done()}error(){this.done()}done(){this.tileContext=this.originalContext=null}},M$d=class{constructor(a){this.tileSize=a}kickoff(a,b,c,d,e,f){const g=C6(b,this.tileSize);let h=null;for(;g.length;){var l=g.pop(),
n=n5(f);const r=new NBe(a,f,n);l=new g7(l,null,d,e,0);l.isParallel=!0;n=a.fetchTile(l,n,r);h=h||n}c&&(c=_.RN(b,c),b=n5(f),f=new NBe(a,f,b),d=new g7(c,null,d,e,0),d.isParallel=!0,a.fetchTile(d,b,f));return h}};
var OBe=class{constructor(a,b,c,d){this.tileable=a;this.originalContext=b;this.tileContext=c;this.domainsToFetch=d}fetchNextTile(a){if(this.domainsToFetch.length){const b=this.domainsToFetch.shift(),c=n5(this.originalContext);this.tileable.fetchTile(new g7(b,null,a.alignmentPeriod,a.granularity,0),c,new OBe(this.tileable,this.originalContext,c,this.domainsToFetch))}}success(a){a.nextPageToken&&50>a.requestCount?this.tileable.fetchTile(new g7(a.domain,a.nextPageToken,a.alignmentPeriod,a.granularity,
a.requestCount+1),this.tileContext,this):(this.fetchNextTile(a),this.done())}error(){this.done()}done(){this.tileContext=this.originalContext=null}},Q$d=class{kickoff(a,b,c,d,e,f,g){var h=D6(b,g),l=null;if(h.length){var n=h.shift();l=n5(f);h=new OBe(a,f,l,h);n=new g7(n,null,d,e,0);n.isLatest=!0;l=a.fetchTile(n,l,h)}c&&(b=_.RN(b,c),g=D6(b,g),b=n5(f),g.length&&(c=g.shift(),a.fetchTile(new g7(c,null,d,e,0),b,new OBe(a,f,b,g))));return l}};
var PBe=class{constructor(a,b,c,d){this.tileable=a;this.originalContext=b;this.tileContext=c;this.domains=d}fetchNextDomain(a){if(this.domains.length){const b=this.domains.pop(),c=n5(this.originalContext);this.tileable.fetchTile(new g7(b,null,a.alignmentPeriod,a.granularity,0),c,new PBe(this.tileable,this.originalContext,c,this.domains))}}success(a){a.nextPageToken&&50>a.requestCount?this.tileable.fetchTile(new g7(a.domain,a.nextPageToken,a.alignmentPeriod,a.granularity,a.requestCount+1),this.tileContext,
this):(this.fetchNextDomain(a),this.done())}error(){this.done()}done(){this.tileContext=this.originalContext=null}},L$d=class{constructor(a){this.tileSize=a}kickoff(a,b,c,d,e,f){var g=C6(b,this.tileSize),h=null;if(g.length){h=n5(f);const l=new PBe(a,f,h,g);g=new g7(g.pop(),null,d,e,0);h=a.fetchTile(g,h,l)}c&&(b=_.RN(b,c),c=C6(b,this.tileSize),c.length&&(b=n5(f),f=new PBe(a,f,b,c),d=new g7(c.pop(),null,d,e,0),a.fetchTile(d,b,f)));return h}};
var k7=[];k7.activeRequests=0;
var QBe=class{constructor(a,b){this.tileable=a;this.tileContext=b}fetchTile(a,b,c){k7.unshift({callback:this,tileable:a,tile:b,tileContext:c});this.fire()}fire(){for(;k7.activeRequests<k7.throttle&&k7.length;){const a=k7.pop();k7.activeRequests++;a.tileable.fetchTile(a.tile,a.tileContext,a.callback)}}success(a){a.nextPageToken&&50>a.requestCount?this.tileable.fetchTile(new g7(a.domain,a.nextPageToken,a.alignmentPeriod,a.granularity,a.requestCount+1),this.tileContext,this):this.done()}error(){this.done()}done(){this.tileContext=
null;k7.activeRequests--;this.fire()}},O$d=class{constructor(a){k7.throttle=a}kickoff(a,b,c,d,e,f){const g=n5(f);(new QBe(a,g)).fetchTile(a,new g7(b,null,d,e,0),g);c&&(b=_.RN(b,c),f=n5(f),(new QBe(a,f)).fetchTile(a,new g7(b,null,d,e,0),f));return null}};
var RBe=class{constructor(a,b,c,d){this.tileable=a;this.originalContext=b;this.tileContext=c;this.domainsToFetch=d}fetchNextTile(a){if(this.domainsToFetch.length){const b=this.domainsToFetch.shift(),c=n5(this.originalContext);this.tileable.fetchTile(new g7(b,null,a.alignmentPeriod,a.granularity,0),c,new RBe(this.tileable,this.originalContext,c,this.domainsToFetch))}}success(a){a.nextPageToken&&50>a.requestCount?this.tileable.fetchTile(new g7(a.domain,a.nextPageToken,a.alignmentPeriod,a.granularity,
a.requestCount+1),this.tileContext,this):(this.fetchNextTile(a),this.done())}error(){this.done()}done(){this.tileContext=this.originalContext=null}},I$d=class{constructor(){this.multiplier=void 0;this.multiplier=3}kickoff(a,b,c,d,e,f,g){var h=D6(b,g),l=Vze(b,this.multiplier,this.multiplier),n=Tze(l,g);for(l=null;h.length;){var r=h.shift();const v=n5(f);let w=[];0===h.length&&(w=n);r=a.fetchTile(new g7(r,null,d,e,0),v,new RBe(a,f,v,w));l=l||r}if(c)for(c=_.RN(b,c),b=D6(c,g),c=Vze(c,this.multiplier,
this.multiplier),g=Tze(c,g);b.length;)c=b.shift(),h=n5(f),n=[],0===b.length&&(n=g),a.fetchTile(new g7(c,null,d,e,0),h,new RBe(a,f,h,n));return l}};
var JBe=function(a){if(!a||!{sdmetrics:!0,gcmv2:!0,gcmv3:!0,qn:!0,mux:!0,transform:!0,selector:!0}[a.dataLayerType])return new LBe;if("sdmetrics"===a.dataLayerType||"transform"===a.dataLayerType||"qn"===a.dataLayerType){var b=new EBe;b.setPurpose(a.purpose);return b}if("mux"===a.dataLayerType||"selector"===a.dataLayerType)return new KBe(a.isTopN,a.hasWaiters,a.whitelistedKeys,a.cause,a.purpose);if("sparklineChart"===a.purpose)return new Q$d;if(a.isTopN&&"forced"!==a.isTopN||a.hasWaiters)return b=
new EBe,b.setPurpose(a.purpose),b;if(b=S$d(a))return b;if(a.tileSize)return b=new K$d(a.tileSize,!1,null),b.setPurpose(a.purpose),b;b=new EBe;b.setPurpose(a.purpose);return b};
var SBe=function(a,b,c,d){var e=b.getData(c);e&&null==e.dataLayer&&(console.warn("DataLayer is not returning .dataLayer pointed to itself."),e.dataLayer=b);if(e){for(c=0;c<a.length;c++){var f=a[c];f&&f.chartType&&"deferred"===f.chartType&&(f=f.getChart(),-1===a.indexOf(f)?a[c]=f:a[c]=null)}for(c=0;c<a.length;)null===a[c]?a.splice(c,1):c++;a.forEach(function(g){if(!d||g.isZooming||g.isPanning){"function"===typeof g.isLoading&&g.isLoading(!1);g.trigger("change:data",e);var h=b.dataSeries(e);h&&null==
h.dataLayer&&(console.warn("DataLayer is not returning .dataLayer pointed to itself."),h.dataLayer=b);g.draw(h)}})}};
var UBe=function(a,b,c){_.EN()(()=>{a.trigger("change:zoom",new TBe(b,c))})},l7=class extends _.TK{constructor(){super();this._isYZoomed=this._isXZoomed=!1;this._defaultDomain=this._zoomDomainX=null}getCharts(){throw new TypeError("yi");}setDomainX(){throw new TypeError("yi");}getDomainX(){throw new TypeError("yi");}zoom(a,b,c,d,e,f,g){0<arguments.length&&null!=a&&this.isValidDomainForZoom(a)&&(this._isXZoomed||(this._defaultDomain=this.getDomainX()),this._isXZoomed=!0,this._zoomDomainX=a,this.setDomainX(this._zoomDomainX,
d,e,f,g),UBe(this,"X",this._zoomDomainX));2<arguments.length&&null!=b&&this.isValidDomainForYZoom(b)&&c&&c.supportAxis&&c.supportAxis("y")&&(this._isYZoomed=!0,c.yManager.userDomain(b),UBe(this,"Y",b));return this._zoomDomainX}isValidDomainForZoom(a){return 2===a.length&&!!a[0]&&!!a[1]&&6E4<=Math.abs(+a[1]-+a[0])}isValidDomainForYZoom(a){return 2===a.length&&1E-8<=Math.abs(a[1]-a[0])}defaultZoom(a){1===arguments.length&&(this._defaultDomain=a,this.unZoom());return this._defaultDomain}unZoom(){this.unZoomY();
return this.unZoomX()}unZoomX(){if(!this._defaultDomain)throw Error("Tk");this._zoomDomainX=null;this._isXZoomed=!1;this.setDomainX(this._defaultDomain);UBe(this,"X",null);return this._defaultDomain}unZoomY(){let a=!1;this._isYZoomed=!1;let b=this.getCharts();if(Array.isArray(b))for(let c=0;c<b.length;c++){let d=b[c];d.supportAxis&&d.supportAxis("y")&&(d.yManager.autoDomain(),a=!0)}a&&UBe(this,"Y",null)}isZoomed(){return this._isXZoomed||this._isYZoomed}isXZoomed(){return this._isXZoomed}isYZoomed(){return this._isYZoomed}};
l7.prototype.isYZoomed=l7.prototype.isYZoomed;l7.prototype.isXZoomed=l7.prototype.isXZoomed;l7.prototype.isZoomed=l7.prototype.isZoomed;l7.prototype.unZoomY=l7.prototype.unZoomY;l7.prototype.unZoomX=l7.prototype.unZoomX;l7.prototype.unZoom=l7.prototype.unZoom;l7.prototype.defaultZoom=l7.prototype.defaultZoom;l7.prototype.isValidDomainForYZoom=l7.prototype.isValidDomainForYZoom;l7.prototype.isValidDomainForZoom=l7.prototype.isValidDomainForZoom;l7.prototype.zoom=l7.prototype.zoom;
l7.prototype.getDomainX=l7.prototype.getDomainX;l7.prototype.setDomainX=l7.prototype.setDomainX;l7.prototype.getCharts=l7.prototype.getCharts;_.nh("module$exports$awesomecharts$utils$Zoomable.Axis",{X:"X",Y:"Y"});var TBe=class{constructor(a,b){this.axis=a;this.domain=b}};_.nh("module$exports$awesomecharts$utils$Zoomable.ZoomParameters",TBe);
var VBe=_.LO("chartGroup"),XBe={events:{"change:brush":function(a,b){for(const c of this.brushListeners)c(a,b);this.charts.forEach(function(c){2===a.length&&"function"===typeof c.brushLock&&c.brushLock(!0)});b&&"x"!==b||this._updatingbrush||(this._updatingbrush=!0,this.charts.forEach(function(c){"function"===typeof c.brush&&c.brush(a)}),this._updatingbrush=!1)},brushed:function(a,b,c){this.charts.forEach(function(d){"function"===typeof d.brushLock&&d.brushLock(!1)});a[1]<a[0]&&(a=[a[1],a[0]]);b&&
"x"!==b?"y"===b&&(this.zoom(null,a,c),c.trigger("ave:yZoom")):(this.zoom(a,null,c),c.trigger("ave:xZoom"))},"change:zoom":function(a,b){const c=4<WBe(this);this.zoom(a,null,b,!0,b.outOfBound,c,"ZOOM")},"change:pan":function(a,b,c){this.charts.forEach(e=>{e.isDragging||"function"!==typeof e.brushLock||e.brushLock(!0)});const d=4<WBe(this);this.zoom(a,b,c,!0,c.outOfBound,d,"PAN")},pan_finished:function(a,b,c){this.charts.forEach(d=>{"function"===typeof d.brushLock&&d.brushLock(!1)});this.zoom(a,b,c,
!1,!1,!1,"PAN")},zoom_finished:function(a,b){this.charts.forEach(c=>{"function"===typeof c.brushLock&&c.brushLock(!1)});this.zoom(a,null,b,!1,!1,!1,"ZOOM")}}},WBe=function(a){return a.charts.filter(b=>b.isPlot).length},YBe=function(a){Object.keys(a._dataLayerLookup).forEach(b=>{SBe(a._dataLayerLookup[b],a._dataLayerLookup[b]._dataLayer,null,!1)})},ZBe=function(a,b){return c=>{const d=a._dataLayerLookup[b.id()];let e=_.Knc(c,a._domainX);if(b.getTimeshiftOffset){const f=b.getTimeshiftOffset();f&&(e=
e||_.Knc(c,_.RN(a._domainX,f)))}e&&d&&((c=_.DN.getAnalytics())&&c.sinceLoad("dataRetrieved","timeToFirstDraw"),SBe(d,b,a.domainX(),!1))}},$Be=function(a,b){const c=b.getParent();if(c){if(c===a)return;c.remove(b)}Object.keys(a.events).forEach(function(d){b.on(d,function(){this.events[d].apply(a,arguments)},a)});a.charts.push(b);b.setParent(a);"function"===typeof b.domainX&&null!==a._domainX&&b.domainX(a._domainX)},aCe=function(a,b,c,d){if(b){const e=b.id();if(!a._dataLayerLookup[e]&&(a._dataLayerLookup[e]=
[],a._dataLayerLookup[e]._dataLayer=b,a._dataLayerLookup[e]._dataChangeHandlerId=b.addDataChangeHandler(c),a._domainX)){const f=a._domainX;_.EN()(()=>{var g=[];b.getStrategyWhitelists&&(g=b.getStrategyWhitelists());g=_.BN(_.DN).concat(g);g=new IBe(b.dlType,b.isTopN&&b.isTopN(),b.hasWaiters(),g);g.purpose=a.purpose;g.tileSize=b.tileSize;g=JBe(g);const h=d&&d.innerWidth?{maxDataPointsPerSeries:d.innerWidth()/2}:{};b.fetch(f,g,h)})}}},bCe=function(a,b,c){c&&(c=c.id(),-1===a._dataLayerLookup[c].indexOf(b)&&
a._dataLayerLookup[c].push(b))},cCe=function(a){const b={chartType:"deferred",chartCreator:a,chart:null,getChart:()=>{b.chart||(b.chart=b.chartCreator());return b.chart}};return b},dCe=function(a,b){for(let c in a._dataLayerLookup)if(a._dataLayerLookup.hasOwnProperty(c)){let d=a._dataLayerLookup[c].indexOf(b);if(-1<d)return{dataLayerId:c,chartIndex:d}}return null},m7=class extends l7{constructor(a){super();a=a||{};a=_.JN({},XBe,a);this.charts=[];this._dataLayerLookup={};this.events={};this.purpose=
"Unknown";this._domainX=null;a.events&&(this.events=a.events);this.nextACChartId=1;this.brushListeners=[];this.visibilityHandler=_.EN()(()=>()=>{"visible"===document.visibilityState&&_.RO(()=>{this.charts&&YBe(this)},100)});oze(this.visibilityHandler)}getCharts(){return this.charts}getNextACChartId(){return this.nextACChartId++}setPurpose(a){this.purpose=a}setDomainX(a,b,c,d,e){this.domainX(a,b,c,d,e)}getDomainX(){return this.domainX()}setTimeshiftOffset(a,b){b&&!this._dataLayerLookup[b.id()]&&a.getTimeshiftOffset&&
b.setTimeshiftOffset&&(a=a.getTimeshiftOffset())&&b.setTimeshiftOffset(a)}add(a,b){b=b||null;$Be(this,a);this.setTimeshiftOffset(a,b);aCe(this,b,ZBe(this,b),a);b&&b.hasData(this._domainX)&&_.EN()(()=>{_.RO(()=>{SBe([a],b,this.domainX(),!1)})});bCe(this,a,b);return this}deferredAdd(a,b){b||(b=null);if(b&&b.hasData(this._domainX)){var c=a();this.add(c,b);return c}aCe(this,b,ZBe(this,b));c=cCe(()=>{const d=a();$Be(this,d);this.setTimeshiftOffset(d,b);return d});bCe(this,c,b);return c}remove(a){a.cleanup&&
a.cleanup();var b=this.charts.indexOf(a);-1<b&&this.charts.splice(b,1);if(b=dCe(this,a)){let c=this._dataLayerLookup[b.dataLayerId];c.splice(b.chartIndex,1);if(0===c.length){if(c._dataLayer){let d=c._dataLayer;d.removeDataChangeHandler(c._dataChangeHandlerId);d.cleanup()}delete this._dataLayerLookup[b.dataLayerId]}}"deferred"===a.chartType&&a.chart&&this.remove(a.chart);return this}lookupDataLayerForChart(a){let b=dCe(this,a);if(b)return this._dataLayerLookup[b.dataLayerId]._dataLayer;if(-1<this.charts.indexOf(a))return null}removeAll(){VBe.time("removeAll");
for(let a=0;a<this.charts.length;a++)this.remove(this.charts[a]);Object.keys(this._dataLayerLookup).forEach(a=>{this._dataLayerLookup[a].forEach(b=>{this.remove(b)})});VBe.timeEnd("removeAll");return this}cleanup(){this.removeAll();document.removeEventListener("visibilitychange",this.visibilityHandler)}domainX(a,b,c,d,e){let f=this;if(a){this._domainX=a;this.charts.forEach(function(g){"function"===typeof g.domainX&&(!d||g.isZooming||g.isPanning)&&g.domainX(a)});e||(e="DOMAINX");if(a)for(const g of Object.keys(f._dataLayerLookup))_.RO(()=>
{let h=f._dataLayerLookup[g],l=h?h._dataLayer:null;l&&f.fetchAndDraw(l,h,a,e,b,c,d)});return a}return this._domainX}fetchAndDraw(a,b,c,d,e,f,g){const h=this;c||(c=this._domainX);c&&(d||(d="DOMAINX"),f?SBe(b,a,c,g):(e||_.RO(()=>{var l=[];a.getStrategyWhitelists&&(l=a.getStrategyWhitelists());l=_.BN(_.DN).concat(l);l=new IBe(a.dlType,a.isTopN&&a.isTopN(),a.hasWaiters(),l);d&&(l.cause=d);l.purpose=h.purpose;"function"===typeof a.filterInfo&&a.filterInfo()&&!1===a.filterInfo().hasTimeSeriesSelector||
(l.tileSize=a.tileSize);l=JBe(l);var n=b[0];n=n&&n.innerWidth?{maxDataPointsPerSeries:n.innerWidth()/2}:{};a.fetch(c||[],l,n)}),a.getData(c)&&b&&SBe(b,a,c,g)))}resize(){this.charts.forEach(function(a){a.resize()})}setBrush(a){const b=this.events["change:brush"];b&&b.call(this,a,"x")}addBrushListener(a){this.brushListeners.push(a)}removeBrushListener(a){const b=this.brushListeners.findIndex(c=>c===a);-1<b&&this.brushListeners.slice(b,1)}};_.nh("awesomecharts.ChartGroup",m7);
m7.prototype.removeBrushListener=m7.prototype.removeBrushListener;m7.prototype.addBrushListener=m7.prototype.addBrushListener;m7.prototype.setBrush=m7.prototype.setBrush;m7.prototype.resize=m7.prototype.resize;m7.prototype.fetchAndDraw=m7.prototype.fetchAndDraw;m7.prototype.domainX=m7.prototype.domainX;m7.prototype.cleanup=m7.prototype.cleanup;m7.prototype.removeAll=m7.prototype.removeAll;m7.prototype.lookupDataLayerForChart=m7.prototype.lookupDataLayerForChart;m7.prototype.remove=m7.prototype.remove;
m7.prototype.deferredAdd=m7.prototype.deferredAdd;m7.prototype.add=m7.prototype.add;m7.prototype.getDomainX=m7.prototype.getDomainX;m7.prototype.setDomainX=m7.prototype.setDomainX;m7.prototype.setPurpose=m7.prototype.setPurpose;m7.prototype.getNextACChartId=m7.prototype.getNextACChartId;m7.prototype.getCharts=m7.prototype.getCharts;
var Goe=function(a){return[a.startTime,a.endTime]},Tge=class{constructor(a,b){this.startTime=a;this.endTime=b;a instanceof _.FV?(this.startTimeAsRfc3339=a.toIsoString(),this.endTimeAsRfc3339=b.toIsoString()):(this.startTimeAsRfc3339=a.toISOString(),this.endTimeAsRfc3339=b.toISOString())}toString(){return`{startTimeAsRfc3339: ${this.startTimeAsRfc3339}, endTimeAsRfc3339: ${this.endTimeAsRfc3339}}`}};
var eCe=class{constructor(a){if("initialState"in a){const {initialState:b={},canChangeFilter:c=!1}=a;({labelKey:a=""}=b);const [d,...e]=a.split(".");this.key=e.join("");this.filterable=c;this.labelType=d}else{const b=a.key,c=a.description;this.labelType=a.labelType;this.key=b;this.description=c;this.filterable=!0}}equals({key:a,labelType:b}){return a===this.key&&b===this.labelType}};
var fCe=function(a,b){a.acChartGroup.on("change:zoom",b)},gCe=function(a){return a.visualizationsStream.pipe(_.zf(b=>0===b.length?_.S([]):_.qe(b.map(c=>c.getLabelDescriptorsStream()))),_.U(b=>b.flat()))},hCe=function(a){return a.visualizationsStream.pipe(_.zf(b=>0===b.length?_.S([]):_.qe(b.map(c=>c.getFilterDescriptorsStream()))),_.U(b=>b.flat()),_.zf(b=>{b=b.flatMap(U$d);return 0===b.length?_.S([]):_.qe(b)}),_.U(b=>b.flatMap(({labels:c,labelType:d})=>(c||[]).map(e=>{e.labelType=d;return new eCe(e)}))))},
iCe=function(a,b){let c,d=!1;do c=a.visualizations.indexOf(b),-1!==c&&(a.visualizations=a.visualizations.slice(),a.visualizations.splice(c,1),d=!0);while(-1!==c);d&&a.visualizationsStream.next(a.visualizations)},jCe=function(a){a=a.acChartGroup.zoom();return!a||2>a.length?null:[a[0],a[1]]},kCe=function(a,b){for(const c of a.charts)b(c)},lCe=class{constructor(){this.acChartGroup=new m7;this.visualizations=[];this.visualizationsStream=new _.bg([]);this.labelDescriptorsStream=null;this.domainStreamSubj=
new _.bg;this.brushStreamSubj=new _.bg([]);this.domainStream=this.domainStreamSubj.pipe(_.Ze((b,c)=>b||c?b&&c?b[0].getTime()===c[0].getTime()&&b[1].getTime()===c[1].getTime():!1:!0));this.brushStream=this.brushStreamSubj.asObservable();const a=new Date;this.domain=[new Date(Number(a)-36E5),a];fCe(this,b=>{"X"===b.axis&&b.domain&&this.domainStreamSubj.next(b.domain)});this.acChartGroup.addBrushListener(b=>{this.brushStreamSubj.next(b)})}set domain(a){this.acChartGroup.defaultZoom(a);this.domainStreamSubj.next(this.acChartGroup.domainX())}get domain(){return this.acChartGroup.domainX()}get chartGroup(){return this.acChartGroup}get charts(){return this.acChartGroup.getCharts()||
[]}resetZoom(){this.isZoomed()&&(this.acChartGroup.unZoom(),this.domainStreamSubj.next(this.acChartGroup.domainX()))}isZoomed(){return this.acChartGroup.isZoomed()}isXZoomed(){return this.acChartGroup.isXZoomed()}isYZoomed(){return this.acChartGroup.isYZoomed()}getLabelValuesStream(a){const b=a.labelType,c=a.key;return new _.ge(d=>{const e=_.qe(this.visualizations.map(g=>g.getFilterDescriptorsStream())).pipe(_.U(g=>g.flat())),f=_.qe(this.visualizations.map(g=>g.getLabelValuesStream(a))).pipe(_.U(g=>
g.flat()));_.qe([e,f]).subscribe(([g,h])=>{const l=n=>{(n.timeSeries||[]).forEach(r=>{let v={};"metric"===b&&r.metric&&(v=r.metric.labels);"resource"===b&&r.resource&&(v=r.resource.labels);Object.keys(v||{}).forEach(w=>{w===c&&(w=v[w],-1===h.indexOf(w)&&h.push(w))})})};g.forEach(n=>{const r=n.project,v=n.resourceType;n=n.metricType;var w=!0;if("resource"===b&&v){var y=_.hO.getResourceDescriptor(v);y&&y.labels&&0===y.labels.filter(B=>B.key===c).length&&(w=!1)}"metric"===b&&n&&(y=_.hO.getMetricDescriptor(n))&&
y.labels&&0===y.labels.filter(B=>B.key===c).length&&(w=!1);w&&((w=_.hO.getHeadersTimeSeriesData(n))?l(w):_.hO.getHeadersTimeSeriesDataPromise(r,v,n).then(B=>{const G=h.length;l(B);h.length>G&&d.next(h.slice())}))});d.next(h.slice())})})}getLabelDescriptorsStream(){this.labelDescriptorsStream||(this.labelDescriptorsStream=new _.bg([]),_.qe([gCe(this),hCe(this)]).pipe(_.U(a=>a.flat()),_.U(V$d)).subscribe(this.labelDescriptorsStream));return this.labelDescriptorsStream}setPurpose(a){this.acChartGroup.setPurpose(a)}setZoom(a){this.acChartGroup.zoom(a)}setBrush(a){this.acChartGroup.setBrush(a)}};
var mCe=class{constructor(){this.clear()}register(a,b){this.items.set(a,b)}get(a){a=this.items.get(a);if(!a)throw Error("Uk");return a}clear(){this.items=new Map}remove(a){this.items.delete(a)}};
var n7=class extends mCe{get(a="default"){var b=this.items.get(a);return b?b:(b=new lCe,this.register(a,b),b)}};n7.\u0275fac=function(){let a;return function(b){return(a||(a=_.Xc(n7)))(b||n7)}}();n7.\u0275prov=_.m({token:n7,factory:n7.\u0275fac,providedIn:"root"});
var nCe=function(a,b){if(b.hovercardComponent){var c=b.acChart;c=!(!c.stacked||!c.stacked());a.attachHovercard(b.hovercardComponent,b.hovercardDefaultValue,b.componentFactoryResolver,b.state,b.acChart,b.acSubcharts,c)}},o7=class{constructor(a){this.overlay=a;this.mouseMove=_.ze(document,"mousemove");this.positionStream=new _.bg({horizontal:1,vertical:1});const b=this.overlay.position().global();this.hcOverlay=this.overlay.create(new _.Xn({positionStrategy:b}));this.mouseMove.subscribe(c=>{if(this.hcOverlay.hasAttached()&&
this.component){var d=this.component.location.nativeElement,e=25+Number(d.clientHeight),f=25+Number(d.clientWidth);Number(c.clientY)+e>window.innerHeight?(d=Math.max(0,c.clientY-e-10),e=0):(d=c.clientY+15,e=1);Number(c.clientX)+f>window.innerWidth?(f=Math.max(c.clientX-f-10),c=0):(f=c.clientX+15,c=1);b.top(`${d}px`).left(`${f}px`);this.hcOverlay.updatePosition();this.positionStream.next({horizontal:c,vertical:e})}})}attachHovercard(a,b,c,d,e,f,g){this.hcOverlay.hasAttached()&&this.hcOverlay.detach();
a=this.hcOverlay.attach(new _.Zn(a,null,null,c));a.instance.defaultValue=b;a.instance.state=d;a.instance.valuesAtY=d.y.pipe(_.U(h=>Object.assign({},...f.map(l=>l.streamValuesFromY(h)),e.streamValuesFromY(h))));a.instance.valuesAtX=d.x.pipe(_.U(h=>Object.assign({},...f.map(l=>l.streamValuesFromX(h)),e.streamValuesFromX(h))));a.instance.valuesAtXY=_.qe(d.x,d.y).pipe(_.U(([h,l])=>Object.assign({},...f.map(n=>n.streamValuesFromXY(h,l)),e.streamValuesFromXY(h,l))));e.getTimeshiftOffset&&(a.instance.timeshiftOffset=
e.getTimeshiftOffset());a.instance.positionStream&&(a.instance.positionStream=this.positionStream);a.instance.isStacked&&(a.instance.isStacked={value:g});this.component=a}detachHovercard(){this.hcOverlay.hasAttached()&&this.hcOverlay.detach();this.component=null}};o7.\u0275fac=function(a){return new (a||o7)(_.p(_.eo))};o7.\u0275prov=_.m({token:o7,factory:o7.\u0275fac,providedIn:"root"});
var p7=class{constructor(){this.printDetectedSubject=new _.tf;window.addEventListener("beforeprint",()=>{this.printDetectedSubject.next(!0)});window.addEventListener("afterprint",()=>{this.printDetectedSubject.next(!1)});window.matchMedia("print").addListener(a=>{this.printDetectedSubject.next(a.matches)})}};p7.\u0275fac=function(a){return new (a||p7)};p7.\u0275prov=_.m({token:p7,factory:p7.\u0275fac,providedIn:"root"});
var q7=class{constructor(){this.resizeSignalsSubject=new _.tf;this.resizeSignals=this.resizeSignalsSubject.asObservable()}triggerResize(a=!1){this.resizeSignalsSubject.next({shouldResize:!0,synchronous:a})}};q7.prototype.triggerResize=q7.prototype.triggerResize;q7.\u0275fac=function(a){return new (a||q7)};q7.\u0275prov=_.m({token:q7,factory:q7.\u0275fac,providedIn:"root"});
var oCe=function(a,b){kCe(a.chartGroupManager,c=>{c.timePin&&c.timePin instanceof _.jP&&b(c.timePin)})},pCe=function(a){a.syncAllTimePinsSet();a.syncAllTimePinsTrackNow()},qCe=function(a,b){var c;if(!(a.snapToDataEnabled&&(null==(c=a.snapDates)?0:c.length)))return b;c=a.snapDates.findIndex(f=>f.getTime()>=b.getTime());if(-1===c)return a.snapDates[a.snapDates.length-1];if(0===c)return a.snapDates[0];const d=c-1,e=Math.abs(a.snapDates[c].getTime()-b.getTime());return Math.abs(a.snapDates[d].getTime()-
b.getTime())<e?a.snapDates[d]:a.snapDates[c]},rCe=function(a,b=!1){b&&a.chartGroupTimePin.isLocked()||a.chartGroupTimePin.unset()},r7=function(a,b,c=!0){var d;(d=!b)||(3E5>Date.now()-a.chartGroupManager.domain[1].getTime()?(d=a.chartGroupManager.domain,d=(d[1].getTime()-d[0].getTime())/20,d=a.chartGroupManager.domain[1].getTime()-b.getTime()<d):d=!1);d?(a.setAll(a.chartGroupManager.domain[1],c,!0),a.enableTrackNow()):(a.setAll(b,c),a.disableTrackNow())},sCe=function(a,b=!0){r7(a,a.chartGroupManager.domain[1],
b)},tCe=class{constructor(a){this.chartGroupManager=a;this.onUnsetOnDomainChangeSubj=new _.tf;this.onUnsetOnDomainChangeSubj.asObservable();this.snapToDataEnabled=!1;this.chartGroupTimePin=new _.jP;this.onSetChange=this.chartGroupTimePin.onSetChange;this.onTrackNowChange=this.chartGroupTimePin.onTrackNowChange;this.chartGroupTimePin.onSetChange.subscribe(this.syncAllTimePinsSet.bind(this));this.chartGroupTimePin.onTrackNowChange.subscribe(this.syncAllTimePinsTrackNow.bind(this))}getDate(){return this.chartGroupTimePin.getDate()}isLocked(){return this.chartGroupTimePin.isLocked()}isTrackingNow(){return this.chartGroupTimePin.isTrackingNow()}syncAllTimePinsSet(){const a=
this.chartGroupTimePin.getDate();if(a){const b=this.chartGroupTimePin.isLocked();oCe(this,c=>c.set(a,b))}else oCe(this,b=>b.unset()),this.disableTrackNow()}syncAllTimePinsTrackNow(){this.chartGroupTimePin.isTrackingNow()?oCe(this,a=>a.enableTrackNow()):oCe(this,a=>a.disableTrackNow())}setAll(a,b=!0,c=!1){!c&&this.snapToDataEnabled&&this.snapDates&&(a=qCe(this,a));c=Date;a=a.getTime();var d=this.chartGroupManager.domain;const e=d[0].getTime();d=d[1].getTime();this.chartGroupTimePin.set(new c(Math.min(d,
Math.max(e,a))),b)}disableTrackNow(){this.chartGroupTimePin.disableTrackNow()}enableTrackNow(){this.chartGroupTimePin.enableTrackNow()}};
var s7=class extends mCe{constructor(a){super();this.chartGroupManagerService=a}get(a="default"){var b=this.items.get(a);return b?b:(b=this.chartGroupManagerService.get(a),b=new tCe(b),this.register(a,b),b)}};s7.\u0275fac=function(a){return new (a||s7)(_.p(n7))};s7.\u0275prov=_.m({token:s7,factory:s7.\u0275fac,providedIn:"root"});
var uCe=new _.Zc("Timezone Observable Token"),t7=class{constructor(a){this.timezoneSubject=new _.bg(_.DN.getTimezone());this.timezone=this.timezoneSubject.asObservable();a&&a.getTimezoneObservable().subscribe(b=>{this.timezoneSubject.next(b)})}setTimezone(a){this.timezoneSubject.next(a)}};t7.prototype.setTimezone=t7.prototype.setTimezone;t7.\u0275fac=function(a){return new (a||t7)(_.p(uCe,8))};t7.\u0275prov=_.m({token:t7,factory:t7.\u0275fac,providedIn:"root"});
var vCe=["chart"],wCe=["chartFocusRing"],xCe=function(a){a.chartGroupManager&&a.acChart&&a.chartGroupManager.chartGroup.remove(a.acChart)},yCe=function(a){a.acChart&&(a.acChart.draw&&a.acChart.draw(null),a.acChart.resize&&a.acChart.resize())},zCe=class{constructor(a,b,c,d,e,f,g,h,l,n){this.chartGroupManagerService=a;this.zone=b;this.chartResizeService=c;this.hovercardService=d;this.cdr=e;this.timezoneService=f;this.el=g;this.eventTrackerService=h;this.timePinManagerService=l;this.printDetectionService=
n;this.destroyed=new _.rf;this.useLegacyCoreChart=!0;this.groupIdSource=new _.bg;this.printDetectionService.printDetectedSubject.pipe(_.Af(this.destroyed)).subscribe(()=>{this.resize(!0)})}set groupId(a){a&&this.groupIdSource.next(a)}ngOnInit(){this.acChart=this.createChartGroupChild();null!=this.acChart&&(this.chartTypeSetup(this.acChart),this.addToGroup(),this.chartResizeService.resizeSignals.pipe(_.Ge(({shouldResize:a})=>this.acChart&&a),_.Af(this.destroyed)).subscribe(({synchronous:a})=>{this.resize(!!a)}))}resize(a){this.acChart.resize(a)}ngOnDestroy(){this.cdr.detach();
this.removeDataChangeHandler&&this.removeDataChangeHandler();this.destroyed.next(void 0);this.destroyed.complete();xCe(this);const a=this.acChart;a&&a.destroy&&a.destroy()}createChartGroupChild(){return d3.select(this.chartElementRef.nativeElement).chart(`awesomecharts.${this.chartType}`)}addToGroup(){this.groupIdSource.pipe(_.Af(this.destroyed)).subscribe(a=>{xCe(this);this.chartGroupManager=this.chartGroupManagerService.get(a);this.chartGroupManager.chartGroup.add(this.acChart);this.timePinManager=
this.timePinManagerService.get(a);pCe(this.timePinManager);yCe(this)})}};zCe.\u0275fac=function(a){return new (a||zCe)(_.A(n7),_.A(_.Jf),_.A(q7),_.A(o7),_.A(_.el),_.A(t7),_.A(_.ad),_.A(_.ut,8),_.A(s7),_.A(p7))};zCe.\u0275dir=_.q({type:zCe,viewQuery:function(a,b){a&1&&(_.Oe(vCe,7),_.Oe(wCe,7));if(a&2){let c;_.Ne(c=_.Qe())&&(b.chartElementRef=c.first);_.Ne(c=_.Qe())&&(b.chartFocusRingElementRef=c.first)}},inputs:{useLegacyCoreChart:"useLegacyCoreChart",groupId:"groupId"}});
var ACe={ALIGN_MIN:!0,ALIGN_MEAN:!0,ALIGN_MAX:!0,ALIGN_NEXT_OLDER:!0},v5=class{getDataLayerParam(a,b){a=_.LN(a);delete a.params["pickTimeSeriesFilter.direction"];delete a.params["pickTimeSeriesFilter.numTimeSeries"];delete a.params["pickTimeSeriesFilter.rankingMethod"];delete a.params["secondaryAggregation.crossSeriesReducer"];let c=a.params["aggregation.groupByFields"];c&&c.length?a.params["secondaryAggregation.crossSeriesReducer"]=b:(a.params["aggregation.groupByFields"]=[],a.params["aggregation.crossSeriesReducer"]=
b);ACe[a.params["aggregation.perSeriesAligner"]]&&("REDUCE_MIN"===b&&(a.params["aggregation.perSeriesAligner"]="ALIGN_MIN"),"REDUCE_MAX"===b&&(a.params["aggregation.perSeriesAligner"]="ALIGN_MAX"));return a}isFullyReduced(a){const b=a["aggregation.groupByFields"];return(a=b&&b.length?a["secondaryAggregation.crossSeriesReducer"]:a["aggregation.crossSeriesReducer"])&&"REDUCE_NONE"!==a?!0:!1}getOutlierParams(a,b){if(!a||1!==a.length||this.isFullyReduced(a[0].params))return null;a=a[0];if(b)return[this.getDataLayerParam(a,
"REDUCE_SUM")];b=this.getDataLayerParam(a,"REDUCE_MIN");a=this.getDataLayerParam(a,"REDUCE_MAX");return[b,a]}};v5.prototype.getOutlierParams=v5.prototype.getOutlierParams;v5.prototype.isFullyReduced=v5.prototype.isFullyReduced;_.nh("awesomecharts.utils.Band",v5);
var u7={LOADING:"Loading graph data",DATA_LARGE:"Data requested too large. Not all data will be displayed.",TOO_MANY_LINES_QUESTION:"Too many lines?",TOO_MANY_LINES_SUGGESTION_PREFIX:"For a better visualization, ",TOO_MANY_LINES_LINK:"turn on outlier mode",TOO_MANY_LINES_CONJUNCTION:" or ",TOO_MANY_LINES_MEAN_AGGREGATION_LINK:"use mean aggregation",TOO_MANY_LINES_LINK_MQL:'Try using "top" or "bottom"',MULTIPLE_QUERY_WITH_HEATMAP:"Unable to graph multiple metrics onto the same heatmap",ERROR_NO_DATA:"No data is available for the selected time frame.",
ERROR_PARTIAL_DATA:"Some data is missing. Reason: ",ERROR_NO_DATA_ALT:"Couldn't fetch data for the selected time frame.",ERROR_NO_DATA_GROUP:"This group does not contain any of these resources.",ERROR_GROUP_NOT_FOUND:"Group definition not found.",ERROR_REDUCE_CHART_DATA:'Your request timed out. Try \n          <a href="https://cloud.google.com/monitoring/charts/#chart-limits"\n             target="_blank">reducing chart data</a>.',ERROR_INVALID_REQUEST:"Chart definition invalid.",ERROR_FILTERS_NOT_APPLICABLE:"One or more filters do not apply to this chart.",
ERROR_UNAUTHORIZED:"You don't have access to this data.",ERROR_TIMEOUT:"Request timed out. Some data missing.",ERROR_UNKNOWN:"An error occurred requesting data.",ERROR_SCORECARD_MULTIPE_TIME_SERIES:"Your Query has too many times series. Scorecards and gauges only support one time series.",ERROR_SPARKLINE_NO_DATA:"No data available",ERROR_SPARKLINE_TIMEOUT:"Loading timeout",ERROR_SPARKLINE_UNKNOWN:"Loading error",ERROR_DATA_TOO_COARSE:"Data too coarse to show",LEGEND_NAME_COLUMN:"Name",LEGEND_VALUE_COLUMN:"Value",
LEGEND_STATS_NAME_COLUMN:"Name",LEGEND_STATS_VALUE_COLUMN:"Value",LEGEND_STATS_ALL_VALUES_COLUMN:"All Values",STAT_MEAN:"Average",STAT_STDEV:"Standard Deviation",STAT_MEDIAN:"Median",STAT_95TH:"95th Percentile",STAT_5TH:"5th Percentile",STAT_5_MIN_MOV_AVG:"5-minute Moving Average",STAT_15_MIN_MOV_AVG:"15-minute Moving Average",STAT_60_MIN_MOV_AVG:"60-minute Moving Average",STAT_120_MIN_MOV_AVG:"120-minute Moving Average",SCORECARD_LOWER_DANGER:"Below lower danger threshold of {threshold}.",SCORECARD_LOWER_WARN:"Below lower warning threshold of {threshold}.",
SCORECARD_OK:"OK",SCORECARD_UPPER_WARN:"Above upper warning threshold of {threshold}.",SCORECARD_UPPER_DANGER:"Above upper danger threshold of {threshold}.",SCORECARD_WARN_PREFIX:"Warning: ",SCORECARD_DANGER_PREFIX:"Danger: ",SCORECARD_VALUE_LABEL:"Value: ",SCORECARD_STATUS_LABEL:"Status: ",LINE_CHART_LEGEND_PREFACE:"Lines available on this chart:",LINE_CHART_LEGEND_PREFACE_NO_LINES:"No lines available on this chart.",LINE_CHART_TITLE:"Line chart: {title}",LINE_CHART_TITLE_PREFIX:"Line chart",LINE_CHART_ACCESSIBILITY_AXES_DESCRIPTION:"X-axis from {xAxisStart} to {xAxisEnd}, Y-axis from {yAxisStart} to {yAxisEnd}",
LINE_CHART_ACCESSIBILITY_INSTRUCTIONS:"Use the up and down arrow keys to step through lines on this chart. Use the left and right arrow keys to move backwards and forwards in time on the currently selected line. To hear an audio version of a series, press the \u2018A\u2019 key at any time."};
var BCe=0,CCe=function(a,b){a=a.dataLayer;a.fetchTile&&(a.tileSize=b)},DCe=function(a,b){a.dataLayerFactory=b;a.params&&"object"===typeof a.params&&a.updateParams(a.params)},ECe=function(a,b){a.checkWaitForCallback=b},FCe=function(a){null!==a.dataTimeoutId&&(clearTimeout(a.dataTimeoutId),a.dataTimeoutId=null)},GCe=function(a){for(const b of a.waitingForMe)b[1].checkWaitForCallback()},HCe=function(a,b){a.dataTimeoutId=b},ICe=function(a){return a.hasDataParams?a.isLoading?!0:a.dataLayer?(a=a.dataLayer.getIsLoadingInterval())&&
0!==a.length?!0:!1:!1:!1},JCe=function(a){a=a.params;if(!Array.isArray(a)||0===a.length)return!1;a=a[0];return a.params?"ALIGN_RATE"===a.params["aggregation.perSeriesAligner"]?!0:!1:!1},mbe=function(a){if(Array.isArray(a.params))for(const b of a.params)if(b.params&&("REDUCE_NONE"===b.params["aggregation.crossSeriesReducer"]||!b.params["aggregation.crossSeriesReducer"]))return!0;return!1},KCe=class{constructor(a,b=null,c=new _.tf){this.dataLayerFactory=a;this.params=b;this.dataLayerSource=new _.rf(1);
this.errorSource=new _.rf(1);this.transientErrorSource=new _.rf(1);this.isLoadingSource=new _.bg(!1);this.warningSource=new _.bg(!1);this.dataSource=new _.bg(null);this.id=BCe++;this.waitFors=new Map;this.waitingForMe=new Map;this.checkWaitForCallback=()=>{};this.dataLayer=null;this.isLoading=!0;this.hasDataParams=!1;this.warningHandlerId=this.errorHandlerId=this.dataFetchCompleteHandlerId=this.dataFetchHandlerId=null;this.independentOutputPeriod=this.suppressHighlighting=this.forceInterpolation=
!1;this.timezoneService=this.dataTimeoutId=null;this.errorStream=this.errorSource.asObservable();this.transientErrorStream=this.transientErrorSource.asObservable();this.isLoadingStream=this.isLoadingSource.asObservable();this.warningStream=this.warningSource.asObservable();this.dataStream=this.dataSource.asObservable();this.tileSize=void 0;this.destroyed$=c.pipe(_.Ef(()=>{this.removeHandlers();this.dataLayer=null;this.dataLayerSource.complete()}));this.dataLayerStream=this.dataLayerSource.pipe(_.Ef(n=>
{(this.dataLayer=n)&&CCe(this,this.tileSize)}),_.Af(this.destroyed$));this.isLoadingSource.pipe(_.Af(this.destroyed$)).subscribe(n=>{this.isLoading=n});if(this.hasDataParams=Y$d(this.params))this.params&&this.setParams(this.params),this.applyServerStreamLimit(),this.dataLayerSource.next(this.createDataLayer()),this.warningSource.next(!1);const d={selected:new _.rf(1),hover:new _.rf(1),x:new _.rf(1),y:new _.rf(1)},e=(n,r)=>d.selected.next(r),f=(n,r)=>d.hover.next(r),g=(n,r)=>d.x.next(r),h=(n,r)=>d.y.next(r);
let l;this.dataLayerStream.pipe(_.cf(()=>{l&&(l.off("change:selected",e),l.off("change:hover",f),l.off("change:x",g),l.off("change:y",h))})).subscribe(n=>{l&&(l.off("change:selected",e),l.off("change:hover",f),l.off("change:x",g),l.off("change:y",h));l=n.getState();l.on("change:selected",e);l.on("change:hover",f);l.on("change:x",g);l.on("change:y",h)});this.state=d}setForceInterpolation(a){this.forceInterpolation!==a&&(this.forceInterpolation=a,Array.isArray(this.params)?this.updateParams(this.params):
(this.dataLayerSource.next(this.createDataLayer()),this.warningSource.next(!1)))}setSuppressHighlighting(a){this.suppressHighlighting!==a&&(this.suppressHighlighting=a,Array.isArray(this.params)?this.updateParams(this.params):(this.dataLayerSource.next(this.createDataLayer()),this.warningSource.next(!1)))}setIndependentOutputPeriod(a){this.independentOutputPeriod=a;let b;null==(b=this.dataLayer)||b.setIndependentOutputPeriod(this.independentOutputPeriod)}getState(){return this.state}setParams(a){Array.isArray(a)?
this.params=[...a]:this.params="object"===typeof a?Object.assign({},a):a}updateParams(a){(this.hasDataParams=Y$d(a))&&this.isLoadingSource.next(!0);if(this.wait()){const b=a;a=[];ECe(this,()=>{this.updateParams(b)})}else ECe(this,()=>{});this.setParams(a);this.applyServerStreamLimit();this.dataLayerSource.next(this.createDataLayer());this.warningSource.next(!1)}handleError(a){a.details.transient&&this.transientErrorSource.next(a);FCe(this);if(a.details.transient)a=void 0;else switch(a.name){case "NoDataError":a.details.group?
a.displayMessage=u7.ERROR_NO_DATA_GROUP:_.DN.isWhitelisted("chart-cassweb-error-reporting")?a.displayMessage=u7.ERROR_NO_DATA:a.displayMessage=u7.ERROR_NO_DATA_ALT;break;case "InvalidRequestError":a.displayMessage=u7.ERROR_INVALID_REQUEST;break;case "UnauthorizedError":a.displayMessage=u7.ERROR_UNAUTHORIZED;break;case "ServiceUnavailableError":a.displayMessage=u7.ERROR_REDUCE_CHART_DATA;break;case "TimeoutError":a.displayMessage=u7.ERROR_TIMEOUT;break;case "Error":a.displayMessage=a.details.isTimeout?
u7.ERROR_TIMEOUT:u7.ERROR_UNKNOWN;break;case "NotFoundError":a.message.includes("group definition")?a.displayMessage=u7.ERROR_GROUP_NOT_FOUND:a.displayMessage=u7.ERROR_UNKNOWN;break;case "CustomError":a.displayMessage=a.message;break;default:a.displayMessage=u7.ERROR_UNKNOWN}a&&this.errorSource.next(a);this.isLoadingSource.next(!1);GCe(this)}removeHandlers(){this.dataLayer&&(this.dataLayer.removeDataFetchCompleteHandler(this.dataFetchCompleteHandlerId),this.dataLayer.removeDataFetchHandler(this.dataFetchHandlerId),
this.dataLayer.removeErrorHandler(this.errorHandlerId),this.dataLayer.removeWarningHandler(this.warningHandlerId))}createDataLayer(){FCe(this);const a=this.dataLayerFactory(this.params);a.setForceInterpolation(this.forceInterpolation);a.setSuppressHighlighting(this.suppressHighlighting);a.setIndependentOutputPeriod(this.independentOutputPeriod);const b=_.DN.timezoneUtils_;this.timezoneService&&b&&this.timezoneService.timezone.pipe(_.Af(this.destroyed$),_.Df(()=>this.dataLayer===a)).subscribe(c=>{c=
c&&"LocalTime"!==c?60*b.timezoneOffset(c):60*b.localOffset();0>c&&(c+=86400);a&&a.setTzOffset&&a.setTzOffset(c)});this.removeHandlers();this.dataFetchHandlerId=a.addDataFetchHandler(()=>{this.dataSource.next(null);this.errorSource.next(void 0);this.warningSource.next(!1);this.isLoadingSource.next(!0);FCe(this);HCe(this,setTimeout(()=>{this.handleError({name:"TimeoutError",details:{isTimeout:!0},code:499,displayMessage:"Timed out waiting for data",message:"Timed out waiting for data"})},35E3))});this.dataFetchCompleteHandlerId=
a.addDataFetchCompleteHandler(()=>{this.dataSource.next(a.getDataArray());FCe(this);this.errorSource.next(void 0);this.isLoadingSource.next(!1);GCe(this)});this.errorHandlerId=a.addErrorHandler(c=>{this.handleError(c)});this.warningHandlerId=a.addWarningHandler(()=>{this.warningSource.next(!0)});a.setServerPagingEnabled(!1);a.setManager(this);return a}waitFor(a){this.waitFors.set(a.id,a);a.waitingForMe.set(this.id,this)}wait(){for(const a of this.waitFors)if(ICe(a[1]))return!0;return!1}applyServerStreamLimit(){const a=
this.params;if(Array.isArray(a)){var b=_.CN(_.DN,"chart-server-stream-limit");b&&a.forEach(c=>{c.params&&(c.params["pickTimeSeriesFilter.direction"]&&c.params["pickTimeSeriesFilter.numTimeSeries"]&&c.params["pickTimeSeriesFilter.rankingMethod"]?c.params["pickTimeSeriesFilter.cause"]="user":(new v5).isFullyReduced(c.params)||(c.params["pickTimeSeriesFilter.direction"]="TOP",c.params["pickTimeSeriesFilter.numTimeSeries"]=b,c.params["pickTimeSeriesFilter.rankingMethod"]="METHOD_MEAN",c.params["pickTimeSeriesFilter.cause"]=
"forced"))})}}hasWaiters(){return 0!==this.waitingForMe.size}};
var v7=class extends zCe{constructor(){super(...arguments);this.dataLayerManagerSource=new _.rf(1);this.dataLayerStream=this.dataLayerManagerSource.pipe(_.zf(a=>a.dataLayerStream));this.state=Z$d(this.dataLayerManagerSource.pipe(_.U(a=>a.getState())));this.forcePercentZoom=!0;this.componentFactoryResolver=null;this.ve=f7}ngOnInit(){super.ngOnInit();null!=this.acChart&&this.dataLayerStream.pipe(_.Af(this.destroyed)).subscribe(a=>{const b=a.addDataChangeHandler(()=>{this.cdr.detectChanges()});this.removeDataChangeHandler&&
this.removeDataChangeHandler();this.removeDataChangeHandler=()=>{a.removeDataChangeHandler(b);this.removeDataChangeHandler=void 0}})}ngOnChanges(a){a.dataLayerManager&&a.dataLayerManager.currentValue&&this.dataLayerManagerSource.next(a.dataLayerManager.currentValue)}isWhitelisted(a){return _.DN.isWhitelisted(a)}addToGroup(){this.dataLayerManager&&this.dataLayerManagerSource.next(this.dataLayerManager);this.groupIdSource.pipe(_.lka(this.dataLayerStream),_.Af(this.destroyed)).subscribe(([a,b])=>{xCe(this);
this.chartGroupManager=this.chartGroupManagerService.get(a);this.timePinManager=this.timePinManagerService.get(a);b.resetCleanupFlag();this.chartGroupManager.chartGroup.add(this.acChart,b);this.timePinManager=this.timePinManagerService.get(a);pCe(this.timePinManager);yCe(this)})}sendAveEvent(a,b,c){if(this.eventTrackerService){const d=this.eventTrackerService.getEventTracker();d&&d.logSyntheticEvent&&c&&c.nativeElement&&d.logSyntheticEvent(a,new tBe(b),c.nativeElement)}}};
v7.\u0275fac=function(){let a;return function(b){return(a||(a=_.Xc(v7)))(b||v7)}}();v7.\u0275dir=_.q({type:v7,inputs:{dataLayerManager:"dataLayerManager",forcePercentZoom:"forcePercentZoom",componentFactoryResolver:"componentFactoryResolver"},features:[_.wd,_.Gc]});
var LCe=a=>a.y,MCe=a=>a.y,NCe=a=>a.y0||0,OCe=a=>a.y1||a.y,PCe=a=>(a=_.Rsc(a))&&a.length?a[0]:null,QCe=a=>(a=_.Rsc(a))&&2<=a.length?a[1]:null,RCe=(a,b,c,d)=>e=>{var f=b.axisFormat,g=e.y1||e.y,h=e.y0||0;const l=f.format(g);f=f.format(e.y);h=Math.floor(a(h));g=Math.floor(a(g));h-=g;let n=d(e);e=c(e);e=n-e;0>e&&-1<e?e=-1:0<e&&1>e&&(e=1);e=Math.floor(e);n=Math.floor(n);return{x:n,y:g,w:e,h,stackedValue:l,segmentValue:f}};
var w7=function(a,b){if(!(this instanceof w7))return new w7(a,b);this.transport=a;this.translate=b||null;this.defaultNamingFn_=this._namingFn=null;this.alignmentPeriod_=6E4;this._onDataChange=this.warningHandler_=this.streamLimitFunction_=null};_.nh("awesomecharts.datalayer.caches.BaseCache",w7);w7.prototype.setAlignmentPeriod=function(a){this.alignmentPeriod_=a};w7.prototype.setAlignmentPeriod=w7.prototype.setAlignmentPeriod;
w7.prototype.setDefaultNamingFunction=function(a){this.defaultNamingFn_=a};w7.prototype.setNamingFunction=function(a){this._namingFn=a};w7.prototype.setNamingFunction=w7.prototype.setNamingFunction;w7.prototype.applyNamingFunction_=function(a){var b=this.defaultNamingFn_,c=this._namingFn;c?_.IN(a,function(d){d.name=c(d,b)}):b&&_.IN(a,function(d){d.name=b(d)})};w7.prototype.setStreamLimitFunction=function(a){this.streamLimitFunction_=a};w7.prototype.setStreamLimitFunction=w7.prototype.setStreamLimitFunction;
w7.prototype.setWarningHandler=function(a){this.warningHandler_=a};w7.prototype.setWarningHandler=w7.prototype.setWarningHandler;_.aa=w7.prototype;_.aa.onDataChange=function(a){if(0===arguments.length)return this._onDataChange;this._onDataChange=a||null;return this};_.aa.dataChanged=function(a,b){"function"===typeof this._onDataChange&&this._onDataChange(a,b)};_.aa.setTimeshiftOffset=function(){throw Error("Vk");};_.aa.fetch=function(){throw Error("Cb");};
_.aa.preSeed=function(){throw Error("Cb");};_.aa.getData=function(){throw Error("Cb");};_.aa.hasData=function(){throw Error("Wk");};_.aa.cleanup=function(){this.invalidateTimeout&&window.clearInterval(this.invalidateTimeout);this.transport&&this.transport.cleanup()};
var SCe=function(a){this.data_=null;w7.call(this,null,a)};_.Ui(SCe,w7);_.nh("awesomecharts.datalayer.caches.PassthroughCache",SCe);SCe.prototype.fetch=function(){};SCe.prototype.getData=function(){return this.data_};SCe.prototype.hasData=function(){return!!this.data_};SCe.prototype.updateData=function(a,b){this.data_=this.translate?this.translate(a):a;b||(a=new Date,b=[new Date(a-3629E6),a]);this.dataChanged(b)};
var TCe=class extends _.lO{constructor(a=null){super(null,a);this.data_=null}fetch(){return null}getData(){return this.data_}hasData(){return!!this.data_}updateData(a,b){this.data_=this.translate?this.translate(a):a;b||(a=new Date,b=[new Date(a.getTime()-3629E6),a]);this.dataChanged(b)}preSeed(){}setTimeshiftOffset(){}};
var x7=function(a){this.dlType=this.dlType||"adaptor";this._disableDataAlteredCheck=!1;this.fetchCallback=()=>{};_.mO.call(this,{unaligned:new TCe(a||null)});this.constantGapThreshold=0;this.userTableColumns=[]};_.Ui(x7,_.mO);_.nh("awesomecharts.datalayer.AdaptorDataLayer",x7);x7.prototype.fetch=function(a){this.fetchCallback(a,this);this._lastFetchedDomain=a;return null};x7.prototype.fetch=x7.prototype.fetch;x7.prototype.setFetchCallback=function(a){this.fetchCallback=a};
x7.prototype.setFetchCallback=x7.prototype.setFetchCallback;x7.prototype.dataSeries=function(a){if(a){if(a.series)return a.series.dataLayer=this,a.series;a.dataLayer=this;return a}return null};x7.prototype.dataSeries=x7.prototype.dataSeries;x7.prototype.unit=function(a){return a?a.unit:null};x7.prototype.unit=x7.prototype.unit;x7.prototype.getData=function(){let a=this._caches.unaligned.getData();a&&(a.dataLayer=this);return a};x7.prototype.getData=x7.prototype.getData;x7.prototype.getCache=function(){return this._caches.unaligned};
x7.prototype.getCache=x7.prototype.getCache;x7.prototype.updateData=function(a,b){return this._caches.unaligned.updateData(a,b)};x7.prototype.updateData=x7.prototype.updateData;x7.prototype.setGranularityCutoffs=function(a){Array.isArray(a)?this.granularityCutoffs_=a.sort((b,c)=>c.cutoff-b.cutoff):console.warn("Adaptor dataLayer does not have pre-set granularity cutoffs")};x7.prototype.setGapThreshold=function(a){this.constantGapThreshold=a};x7.prototype.setGapThreshold=x7.prototype.setGapThreshold;
x7.prototype.gapThreshold=function(){return this.constantGapThreshold};x7.prototype.gapThreshold=x7.prototype.gapThreshold;x7.prototype.setLabelTemplateString=function(a){this.userDefinedTokenizer=new _.XN(a)};x7.prototype.setLabelTemplateString=x7.prototype.setLabelTemplateString;x7.prototype.generateLabelTemplate=function(){return this.userDefinedTokenizer?this.userDefinedTokenizer:null};x7.prototype.generateLabelTemplate=x7.prototype.generateLabelTemplate;
x7.prototype.setLabelTableColumns=function(a){this.userTableColumns=a||[]};x7.prototype.generateLabelTables=function(){let a=[];this.userDefinedTokenizer&&(a=[{isDefault:!0,title:"Name",template:this.userDefinedTokenizer.originalString,tokenizer:this.userDefinedTokenizer}]);this.userTableColumns.forEach(({title:b,template:c,isDefault:d})=>{a.push({isDefault:d,title:b,template:c,tokenizer:new _.XN(c)})});return[a]};
var UCe=/host$/,VCe=/Value$/,WCe=/([^\/]*)\/(.*)/,XCe=function(a,b){for(var c in a)if(a.hasOwnProperty(c)&&c.match(b))return c;return null},YCe=function(a){if(!a||!a.labels)return null;var b=XCe(a.labels,UCe);return b?a.labels[b]:null},ZCe=function(a,b){var c=[a];if(!b)return c;a=Object.keys(b).sort();_.IN(a,function(d){(d=b[d])&&c.push(d)});return c},$Ce=function(a){if(!a)return{name:""};var b=a.metric.match(WCe)[2];a=ZCe(b,a.labels).join(".");return{baseName:b,id:a}},aDe=function(a){var b=[],c=
!0;a&&a.timeseries&&(b=_.MN(a.timeseries,function(d){var e=null,f=$Ce(d.timeseriesDesc);f={timeseriesDesc:d.timeseriesDesc,data:[],baseName:f.baseName,name:null,id:f.id,resource_id:YCe(d.timeseriesDesc)};if(!d.points||0===d.points.length)return f;c=!1;e=XCe(d.points[0],VCe);f.data=_.MN(d.points,function(g){return{x:new Date(g.end),x0:new Date(g.start),y:parseFloat(g[e])}});return f}));return{series:b,unit:null,empty:c?"empty":"data",kind:a.kind,nextPageToken:a.nextPageToken,oldest:a.oldest,youngest:a.youngest,
hideStats:!0}};
var bDe=function(a,b){a=encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",");return b?a:a.replace(/%20/g,"+")},cDe=function(a,b,c,d){d&&Array.isArray(c)?_.IN(c,function(e){cDe(a,b,e,!1)}):"undefined"!==typeof c&&null!==c&&a.push(bDe(b)+"="+bDe(c))};_.nh("awesomecharts.utils.UrlUtils.encodeQueryString",cDe);
var dDe=function(a,b,c,d){var e={},f=[],g={};b=b||{};_.IN(a.split(/\W/),function(v){v&&a.match(new RegExp("[^\\\\]:"+v+"([\\W]|$)"))&&(e[v]=!0)});var h=a;_.IN(e,function(v,w){var y=b.hasOwnProperty(w)?b[w]:null;if(null!==y){var B=bDe(y,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+");h=h.replace(new RegExp("::"+w+"([\\W]|$)","g"),y+"$1");h=h.replace(new RegExp(":"+w+"([\\W]|$)","g"),B+"$1")}});_.IN(b,function(v,w){e[w]||(cDe(f,w,v,d),"undefined"!==typeof v&&null!==v&&(g[w]=v))});
f.sort();h=h.replace(/\/*$/,"");var l=f.length?"?"+f.join("&"):"";if(c){var n=window.location.host.split("."),r="";n[0]=c;r=n.join(".");h=window.location.protocol+"//"+r+h}return{url:h,queryString:l,queryParams:g}};_.nh("awesomecharts.utils.UrlUtils.encode",dDe);
var eDe=gBe("googleAuth"),y7=function(a,b){if(!(this instanceof y7))return new y7(a,b);b=b||{};this.pathTemplate=a;this.baseUrls=b.baseUrls||null;this.multiValueParams=b.multiValueParams||!1};_.nh("awesomecharts.datalayer.transports.GoogleAuthTransport",y7);
var fDe=function(a,b,c){var d=_.DN.auth_;d.request(a).then(function(e){if("undefined"!==typeof e.headers){var f={};Object.keys(e.headers).map(function(h){f[h.toLowerCase()]=e.headers[h]});var g=f["content-type"];g&&0===g.indexOf("application/json")?-1===e.body.indexOf(Zze)?b.resolve(e.result):(g=e.body.replace(Zze,""),b.resolve(JSON.parse(g))):b.reject(new _.$N("Invalid data-layer content type.  Expected application/json got "+g,void 0))}else"undefined"!==typeof e.timeSeries?b.resolve(e):0===Object.keys(e).length?
(g=new _.aO,g.addDetails({requestParams:a}),b.reject(g)):"cloudmonitoring#internalQueryResponse"===e.kind?"undefined"!==typeof e.responseBatch?b.resolve(e):(g=new _.aO,g.addDetails({requestParams:a}),b.reject(g)):b.resolve(e)},function(e){var f=e.status,g=e.result;if(401===f&&1>c)c++,eDe.add(function(){fDe(a,b,c)});else{const h=d.handleRequestError(e);e=Xze(f,g.error.message,g.error.status);void 0!==h&&e.addDetails({authDetail:h});503===f&&(f=!0,g&&g.error&&g.error.details&&g.error.details.length&&
g.error.details[0]&&g.error.details[0].detail&&-1!==g.error.details[0].detail.indexOf("DEADLINE_EXCEEDED")&&(e.addDetails({isTimeout:!0}),f=!1),f&&e.addDetails({isTimeout:!0}));e.addDetails({requestParams:a});b.reject(e)}})};y7.prototype.newBatch=function(){const a=_.DN.auth_;return a&&a.newBatch&&a.newBatch()};y7.prototype.newBatch=y7.prototype.newBatch;
y7.prototype.read=function(a,b,c){var d=!0,e=_.DN.auth_;this.baseUrls&&this.baseUrls.next||(d=!1);d=d?this.baseUrls.next()+this.pathTemplate:this.pathTemplate;a=dDe(d,a,null,this.multiValueParams);var f=_.KN(b||{});f.method=(f.method||"GET").toUpperCase();f.path=a.url;"POST"===f.method||"PUT"===f.method||"PATCH"===f.method||"DELETE"===f.method?a.queryParams&&Object.keys(a.queryParams).length&&(f.params=a.queryParams):(f.body&&console.warn("Unexpected body for "+f.method+" of "+a.url),f.params=a.queryParams);
return new Promise((g,h)=>{let l={resolve:g,reject:h};e&&e.isReady()?fDe(f,l,0):(g=function(){fDe(f,l,0)}.bind(this),eDe.add(g));c&&setTimeout(()=>{h(new _.bO)},c)})};y7.prototype.read=y7.prototype.read;y7.prototype.cleanup=function(){};y7.prototype.cleanup=y7.prototype.cleanup;
y7.prototype.buildRequestParams=function(a,b){var c=!0;const d=_.DN.auth_;this.baseUrls&&this.baseUrls.next||(c=!1);a["pickTimeSeriesFilter.numTimeSeries"]&&(a["pickTimeSeriesFilter.numTimeSeries"]=String(a["pickTimeSeriesFilter.numTimeSeries"]));c=c?this.baseUrls.next()+this.pathTemplate:this.pathTemplate;a=dDe(c,a,null,this.multiValueParams);b=_.KN(b||{});b.method=(b.method||"GET").toUpperCase();b.url=a.url;"POST"===b.method||"PUT"===b.method||"PATCH"===b.method||"DELETE"===b.method?a.queryParams&&
Object.keys(a.queryParams).length&&(b.params=a.queryParams):(b.body&&console.warn("Unexpected body for "+b.method+" of "+a.url),b.params=a.queryParams);if(d&&d.authorizeRequest)d.authorizeRequest(b);else if(d&&d.getAccessToken&&(b.headers.Authorization=`Bearer ${d.getAccessToken()}`,d&&d.getRequestInterceptors))for(const e of d.getRequestInterceptors())e(b);b.headers&&b.headers["X-Stackdriver-debug"]&&delete b.headers["X-Stackdriver-debug"];return b};y7.prototype.buildRequestParams=y7.prototype.buildRequestParams;
var Sae=class extends _.Mj{constructor(a){super(a,-1,gDe)}getCount(){return _.kj(this,1)}getRange(){return _.kb(this,hDe,4)}getBucketOptions(){return _.kb(this,iDe,6)}hasBucketOptions(){return _.ti(this,6)}serializeBinary(){return _.tj(this,jDe)}},hDe=class extends _.Mj{constructor(a){super(a)}serializeBinary(){return _.tj(this,kDe)}},iDe=class extends _.Mj{constructor(a){super(a)}hasLinearBuckets(){return _.dj(this,1,z7)}hasExponentialBuckets(){return _.dj(this,2,z7)}hasExplicitBuckets(){return _.dj(this,
3,z7)}serializeBinary(){return _.tj(this,lDe)}},nDe=class extends _.Mj{constructor(a){super(a)}getWidth(){return _.dZ(this,2)}setWidth(a){return _.eb(this,2,a,0)}getOffset(){return _.dZ(this,3)}setOffset(a){_.eb(this,3,a,0)}serializeBinary(){return _.tj(this,mDe)}},pDe=class extends _.Mj{constructor(a){super(a)}setScale(a){return _.eb(this,3,a,0)}serializeBinary(){return _.tj(this,oDe)}},sDe=class extends _.Mj{constructor(a){super(a,-1,qDe)}serializeBinary(){return _.tj(this,rDe)}},Vae=class extends _.Mj{constructor(a){super(a,
-1,tDe)}getValue(){return _.dZ(this,1)}setValue(a){return _.eb(this,1,a,0)}serializeBinary(){return _.tj(this,uDe)}},gDe=[7,10];Sae.prototype.toObject=function(a){return vDe(a,this)};var vDe=function(a,b){if(null!=b){var c={count:_.kj(b,1),mean:_.dZ(b,2),sumOfSquaredDeviation:_.dZ(b,3),range:wDe(a,b.getRange()),bucketOptions:xDe(a,b.getBucketOptions()),bucketCountsList:_.Db(_.Za(b,7)),exemplarsList:_.Bb(_.jb(b,Vae,10),yDe,a)};a&&(c.$jspbMessageInstance=b);return c}};
hDe.prototype.toObject=function(a){return wDe(a,this)};var wDe=function(a,b){if(null!=b){var c={min:_.dZ(b,1),max:_.dZ(b,2)};a&&(c.$jspbMessageInstance=b);return c}},z7=[1,2,3];iDe.prototype.toObject=function(a){return xDe(a,this)};var xDe=function(a,b){if(null!=b){var c={linearBuckets:zDe(a,_.si(b,nDe,1,z7)),exponentialBuckets:ADe(a,_.si(b,pDe,2,z7)),explicitBuckets:BDe(a,_.si(b,sDe,3,z7))};a&&(c.$jspbMessageInstance=b);return c}};nDe.prototype.toObject=function(a){return zDe(a,this)};
var zDe=function(a,b){if(null!=b){var c={numFiniteBuckets:_.jj(b,1),width:_.dZ(b,2),offset:_.dZ(b,3)};a&&(c.$jspbMessageInstance=b);return c}};pDe.prototype.toObject=function(a){return ADe(a,this)};var ADe=function(a,b){if(null!=b){var c={numFiniteBuckets:_.jj(b,1),growthFactor:_.dZ(b,2),scale:_.dZ(b,3)};a&&(c.$jspbMessageInstance=b);return c}},qDe=[1];sDe.prototype.toObject=function(a){return BDe(a,this)};
var BDe=function(a,b){if(null!=b){var c={boundsList:_.Db(_.ab(b,1,Number))};a&&(c.$jspbMessageInstance=b);return c}},tDe=[3];Vae.prototype.toObject=function(a){return yDe(a,this)};
var yDe=function(a,b){if(null!=b){var c={value:_.dZ(b,1),timestamp:_.fKc(a,_.kb(b,_.SS,2)),attachmentsList:_.Bb(_.jb(b,_.br,3),_.m4a,a)};a&&(c.$jspbMessageInstance=b);return c}},uDe=[Vae,1,s6,2,_.Gj,_.gKc,3,_.Hj,_.l4a],rDe=[sDe,1,wze],oDe=[pDe,1,_.zj,2,s6,3,s6],mDe=[nDe,1,_.zj,2,s6,3,s6],lDe=[iDe,1,_.Ij,mDe,z7,2,_.Ij,oDe,z7,3,_.Ij,rDe,z7],kDe=[hDe,1,s6,2,s6],jDe=[Sae,1,_.wj,2,s6,3,s6,4,_.Gj,kDe,6,_.Gj,lDe,7,_.oIc,10,_.Hj,uDe];
var A7=class extends _.Mj{constructor(a){super(a,-1,CDe)}getAlignmentPeriod(){return _.kb(this,G6,1)}setAlignmentPeriod(a){return _.zb(this,1,a)}hasReduceFractionLessThanParams(){return _.dj(this,6,DDe)}hasReduceMakeDistributionParams(){return _.dj(this,7,DDe)}serializeBinary(){return _.tj(this,EDe)}},GDe=class extends _.Mj{constructor(a){super(a)}getThreshold(){return _.dZ(this,1)}serializeBinary(){return _.tj(this,FDe)}},IDe=class extends _.Mj{constructor(a){super(a)}getBucketOptions(){return _.kb(this,
iDe,1)}hasBucketOptions(){return _.ti(this,1)}hasExemplarSampling(){return _.ti(this,2)}serializeBinary(){return _.tj(this,HDe)}},KDe=class extends _.Mj{constructor(a){super(a)}serializeBinary(){return _.tj(this,JDe)}},CDe=[5],DDe=[6,7];A7.prototype.toObject=function(a){return LDe(a,this)};
var LDe=function(a,b){if(null!=b){var c={alignmentPeriod:E6(a,b.getAlignmentPeriod()),perSeriesAligner:_.ej(b,2,0),crossSeriesReducer:_.ej(b,4,0),groupByFieldsList:_.Db(_.Za(b,5)),reduceFractionLessThanParams:MDe(a,_.si(b,GDe,6,DDe)),reduceMakeDistributionParams:NDe(a,_.si(b,IDe,7,DDe))};a&&(c.$jspbMessageInstance=b);return c}},ODe={ALIGN_NONE:0,ALIGN_DELTA:1,ALIGN_RATE:2,ALIGN_INTERPOLATE:3,ALIGN_NEXT_OLDER:4,ALIGN_MIN:10,ALIGN_MAX:11,ALIGN_MEAN:12,ALIGN_COUNT:13,ALIGN_SUM:14,ALIGN_STDDEV:15,ALIGN_COUNT_TRUE:16,
ALIGN_COUNT_FALSE:24,ALIGN_FRACTION_TRUE:17,ALIGN_PERCENTILE_99:18,ALIGN_PERCENTILE_95:19,ALIGN_PERCENTILE_50:20,ALIGN_PERCENTILE_05:21,ALIGN_MAKE_DISTRIBUTION:22,ALIGN_PERCENT_CHANGE:23},PDe={REDUCE_NONE:0,REDUCE_MEAN:1,REDUCE_MIN:2,REDUCE_MAX:3,REDUCE_SUM:4,REDUCE_STDDEV:5,REDUCE_COUNT:6,REDUCE_COUNT_TRUE:7,REDUCE_COUNT_FALSE:15,REDUCE_FRACTION_TRUE:8,REDUCE_PERCENTILE_99:9,REDUCE_PERCENTILE_95:10,REDUCE_PERCENTILE_50:11,REDUCE_PERCENTILE_05:12,REDUCE_FRACTION_LESS_THAN:13,REDUCE_MAKE_DISTRIBUTION:14};
GDe.prototype.toObject=function(a){return MDe(a,this)};var MDe=function(a,b){if(null!=b){var c={threshold:_.dZ(b,1)};a&&(c.$jspbMessageInstance=b);return c}};IDe.prototype.toObject=function(a){return NDe(a,this)};var NDe=function(a,b){if(null!=b){var c={bucketOptions:xDe(a,b.getBucketOptions()),exemplarSampling:QDe(a,_.kb(b,KDe,2))};a&&(c.$jspbMessageInstance=b);return c}};KDe.prototype.toObject=function(a){return QDe(a,this)};
var QDe=function(a,b){if(null!=b){var c={minimumValue:_.dZ(b,1)};a&&(c.$jspbMessageInstance=b);return c}},JDe=[KDe,1,xze],HDe=[IDe,1,_.Gj,lDe,2,_.Gj,JDe],FDe=[GDe,1,s6],EDe=[A7,1,_.Gj,F6,2,_.Lj,4,_.Lj,5,_.Dj,6,_.Ij,FDe,DDe,7,_.Ij,HDe,DDe];
var SDe=class extends _.Mj{constructor(a){super(a)}setNumTimeSeries(a){_.eb(this,2,a,0)}getDirection(){return _.ej(this,3,0)}setDirection(a){return _.eb(this,3,a,0)}serializeBinary(){return _.tj(this,RDe)}};SDe.prototype.toObject=function(a){return TDe(a,this)};
var TDe=function(a,b){if(null!=b){var c={rankingMethod:_.ej(b,1,0),numTimeSeries:_.jj(b,2),direction:_.ej(b,3,0)};a&&(c.$jspbMessageInstance=b);return c}},UDe={METHOD_UNSPECIFIED:0,METHOD_MEAN:1,METHOD_MAX:2,METHOD_MIN:3,METHOD_SUM:4,METHOD_LATEST:5},VDe={DIRECTION_UNSPECIFIED:0,TOP:1,BOTTOM:2},RDe=[SDe,1,_.Lj,2,_.zj,3,_.Lj];
var p5=class extends _.Mj{constructor(a){super(a)}getEndTime(){return _.kb(this,_.SS,2)}setEndTime(a){_.zb(this,2,a)}getStartTime(){return _.kb(this,_.SS,1)}setStartTime(a){_.zb(this,1,a)}serializeBinary(){return _.tj(this,WDe)}};p5.prototype.toObject=function(a){return XDe(a,this)};var XDe=function(a,b){if(null!=b){var c={endTime:_.fKc(a,b.getEndTime()),startTime:_.fKc(a,b.getStartTime())};a&&(c.$jspbMessageInstance=b);return c}},WDe=[p5,2,_.Gj,_.gKc,1,_.Gj,_.gKc];
var $De=class extends _.Mj{constructor(a){super(a)}getName(){return _.Ji(this,10)}setName(a){return _.mj(this,10,a)}getFilter(){return _.Ji(this,2)}setFilter(a){_.mj(this,2,a)}getInterval(){return _.kb(this,p5,4)}setInterval(a){return _.zb(this,4,a)}clearInterval(){return _.zb(this,4)}getAggregation(){return _.kb(this,A7,5)}setAggregation(a){_.zb(this,5,a)}hasAggregation(){return _.ti(this,5)}hasSecondaryAggregation(){return _.ti(this,11)}getPageSize(){return _.jj(this,8)}hasPickTimeSeriesFilter(){return _.dj(this,
15,YDe)}serializeBinary(){return _.tj(this,ZDe)}},YDe=[15];
$De.prototype.toObject=function(a){if(null!=this){var b={name:_.Ji(this,10),filter:_.Ji(this,2),interval:XDe(a,this.getInterval()),aggregation:LDe(a,this.getAggregation()),denominatorFilter:_.Ji(this,13),denominatorAggregation:LDe(a,_.kb(this,A7,14)),secondaryAggregation:LDe(a,_.kb(this,A7,11)),orderBy:_.Ji(this,6),view:_.ej(this,7,0),pageSize:_.jj(this,8),pageToken:_.Ji(this,9),pickTimeSeriesFilter:TDe(a,_.si(this,SDe,15,YDe)),outputPeriod:E6(a,_.kb(this,G6,12)),validateOnly:_.fj(this,16),clientRequestId:_.Ji(this,
17),requestPrism:_.fj(this,18)};a&&(b.$jspbMessageInstance=this);a=b}else a=void 0;return a};var ZDe=[$De,10,_.Ej,2,_.Ej,4,_.Gj,WDe,5,_.Gj,EDe,13,_.Ej,14,_.Gj,EDe,11,_.Gj,EDe,6,_.Ej,7,_.Lj,8,_.zj,9,_.Ej,15,_.Ij,RDe,YDe,12,_.Gj,F6,16,_.iK,17,_.Ej,18,_.iK];
var Iae=class extends _.Mj{constructor(a){super(a)}getKey(){return _.Ji(this,1)}setKey(a){return _.mj(this,1,a)}getValueType(){return _.ej(this,2,0)}getDescription(){return _.Ji(this,3)}serializeBinary(){return _.tj(this,aEe)}};Iae.prototype.toObject=function(a){return bEe(a,this)};var bEe=function(a,b){if(null!=b){var c={key:_.Ji(b,1),valueType:_.ej(b,2,0),description:_.Ji(b,3)};a&&(c.$jspbMessageInstance=b);return c}},aEe=[Iae,1,_.Ej,2,_.Lj,3,_.Ej];
var dEe=class extends _.Mj{constructor(a){super(a)}serializeBinary(){return _.tj(this,cEe)}},gEe=class extends _.Mj{constructor(a){super(a,-1,eEe)}getMetric(){return _.Ji(this,1)}serializeBinary(){return _.tj(this,fEe)}},iEe=class extends _.Mj{constructor(a){super(a)}serializeBinary(){return _.tj(this,hEe)}};dEe.prototype.toObject=function(a){return jEe(a,this)};
var jEe=function(a,b){if(null!=b){var c={monitoringBackend:_.ej(b,1,0),metricMappings:kEe(a,_.kb(b,gEe,3))};a&&(c.$jspbMessageInstance=b);return c}},eEe=[3];gEe.prototype.toObject=function(a){return kEe(a,this)};var kEe=function(a,b){if(null!=b){var c={metric:_.Ji(b,1),monitoredResource:_.Ji(b,2),labelMappingsList:_.Bb(_.jb(b,iEe,3),lEe,a)};a&&(c.$jspbMessageInstance=b);return c}},mEe=[2,3];iEe.prototype.toObject=function(a){return lEe(a,this)};
var lEe=function(a,b){if(null!=b){var c={sourceLabel:_.Ji(b,1),destinationMetricLabel:_.Db(_.lj(b,2,mEe)),destinationResourceLabel:_.Db(_.lj(b,3,mEe))};a&&(c.$jspbMessageInstance=b);return c}},hEe=[iEe,1,_.Ej,2,_.Fj,mEe,3,_.Fj,mEe],fEe=[gEe,1,_.Ej,2,_.Ej,3,_.Hj,hEe],cEe=[dEe,1,_.Lj,3,_.Gj,fEe];
var qEe=class extends _.Mj{constructor(a){super(a,-1,nEe)}getName(){return _.Ji(this,1)}setName(a){return _.mj(this,1,a)}getType(){return _.Ji(this,8)}setType(a){return _.mj(this,8,a)}addLabels(a,b){_.Kh(this,2,Iae,a,b)}getMetricKind(){return _.ej(this,3,0)}getValueType(){return _.ej(this,4,0)}getDescription(){return _.Ji(this,6)}getDisplayName(){return _.Ji(this,7)}getMetadata(){return _.kb(this,oEe,10)}setMetadata(a){_.zb(this,10,a)}serializeBinary(){return _.tj(this,pEe)}},oEe=class extends _.Mj{constructor(a){super(a)}serializeBinary(){return _.tj(this,
rEe)}},nEe=[2,13];
qEe.prototype.toObject=function(a){if(null!=this){var b={name:_.Ji(this,1),type:_.Ji(this,8),labelsList:_.Bb(_.jb(this,Iae,2),bEe,a),metricKind:_.ej(this,3,0),valueType:_.ej(this,4,0),unit:_.Ji(this,5),description:_.Ji(this,6),displayName:_.Ji(this,7),visibilityRestriction:_.Ji(this,9),metadata:sEe(a,this.getMetadata()),monitoringMigration:jEe(a,_.kb(this,dEe,11)),launchStage:_.ej(this,12,0),monitoredResourceTypesList:_.Db(_.Za(this,13))};a&&(b.$jspbMessageInstance=this);a=b}else a=void 0;return a};
oEe.prototype.toObject=function(a){return sEe(a,this)};var sEe=function(a,b){if(null!=b){var c={launchStage:_.ej(b,1,0),samplePeriod:E6(a,_.kb(b,G6,2)),ingestDelay:E6(a,_.kb(b,G6,3))};a&&(c.$jspbMessageInstance=b);return c}},rEe=[oEe,1,_.Lj,2,_.Gj,F6,3,_.Gj,F6],pEe=[qEe,1,_.Ej,8,_.Ej,2,_.Hj,aEe,3,_.Lj,4,_.Lj,5,_.Ej,6,_.Ej,7,_.Ej,9,_.Ej,10,_.Gj,rEe,11,_.Gj,cEe,12,_.Lj,13,_.Dj];
var uEe=class extends _.Mj{constructor(a){super(a)}getObjectName(){return _.Ji(this,3)}serializeBinary(){return _.tj(this,tEe)}};uEe.prototype.toObject=function(a){return vEe(a,this)};var vEe=function(a,b){if(null!=b){var c={queryText:_.Ji(b,1),monitoredResourceQueryText:_.Ji(b,2),objectName:_.Ji(b,3)};a&&(c.$jspbMessageInstance=b);return c}},tEe=[uEe,1,_.Ej,2,_.Ej,3,_.Ej];
var xEe=class extends _.Mj{constructor(a){super(a)}getType(){return _.Ji(this,3)}setType(a){return _.mj(this,3,a)}getLabelsMap(){return _.ob(this,2)}serializeBinary(){return _.tj(this,wEe)}};xEe.prototype.toObject=function(a){return yEe(a,this)};var yEe=function(a,b){if(null!=b){var c={type:_.Ji(b,3),labelsMap:_.Cb(b.getLabelsMap(),a)};a&&(c.$jspbMessageInstance=b);return c}},wEe=[xEe,3,_.Ej,2,_.UBa];
var AEe=class extends _.Mj{constructor(a){super(a)}hasSystemLabels(){return _.ti(this,1)}serializeBinary(){return _.tj(this,zEe)}};AEe.prototype.toObject=function(a){return BEe(a,this)};var BEe=function(a,b){if(null!=b){var c={systemLabels:_.xwd(a,_.kb(b,_.kZ,1)),userLabelsMap:_.Cb(_.ob(b,2),a)};a&&(c.$jspbMessageInstance=b);return c}},zEe=[AEe,1,_.Gj,_.zwd,2,_.UBa];
var DEe=class extends _.Mj{constructor(a){super(a)}getBoolValue(){return _.fj(this,_.ib(this,q5,1))}setBoolValue(a){return _.ij(this,1,q5,a)}hasBoolValue(){return 1===_.hb(this,q5)}getInt64Value(){return _.kj(this,_.ib(this,q5,2))}hasInt64Value(){return 2===_.hb(this,q5)}getDoubleValue(){return _.dZ(this,_.ib(this,q5,3))}hasDoubleValue(){return 3===_.hb(this,q5)}getStringValue(){return _.Ji(this,_.ib(this,q5,4))}setStringValue(a){return _.ij(this,4,q5,a)}hasStringValue(){return 4===_.hb(this,q5)}hasDistributionValue(){return _.dj(this,
5,q5)}serializeBinary(){return _.tj(this,CEe)}},q5=[1,2,3,4,5];DEe.prototype.toObject=function(a){return EEe(a,this)};var EEe=function(a,b){if(null!=b){var c={boolValue:_.Db(_.sb(b,_.ib(b,q5,1))),int64Value:_.Db(_.lj(b,2,q5)),doubleValue:_.Db(_.rb(b,_.ib(b,q5,3))),stringValue:_.Db(_.lj(b,4,q5)),distributionValue:vDe(a,_.si(b,Sae,5,q5))};a&&(c.$jspbMessageInstance=b);return c}},CEe=[DEe,1,_.Bj,q5,2,_.IBa,q5,3,_.GBa,q5,4,_.Fj,q5,5,_.Ij,jDe,q5];
var GEe=class extends _.Mj{constructor(a){super(a)}getInterval(){return _.kb(this,p5,1)}setInterval(a){return _.zb(this,1,a)}clearInterval(){return _.zb(this,1)}getValue(){return _.kb(this,DEe,2)}setValue(a){return _.zb(this,2,a)}hasValue(){return _.ti(this,2)}serializeBinary(){return _.tj(this,FEe)}};GEe.prototype.toObject=function(a){return HEe(a,this)};
var HEe=function(a,b){if(null!=b){var c={interval:XDe(a,b.getInterval()),value:EEe(a,b.getValue())};a&&(c.$jspbMessageInstance=b);return c}},FEe=[GEe,1,_.Gj,WDe,2,_.Gj,CEe];
var KEe=class extends _.Mj{constructor(a){super(a,-1,IEe)}getMetric(){return _.kb(this,xEe,1)}getResource(){return _.kb(this,_.kGd,2)}setResource(a){_.zb(this,2,a)}hasResource(){return _.ti(this,2)}getMetadata(){return _.kb(this,AEe,7)}setMetadata(a){_.zb(this,7,a)}getMetricKind(){return _.ej(this,3,0)}getValueType(){return _.ej(this,4,0)}serializeBinary(){return _.tj(this,JEe)}},IEe=[5];KEe.prototype.toObject=function(a){return LEe(a,this)};
var LEe=function(a,b){if(null!=b){var c={metric:yEe(a,b.getMetric()),resource:_.lGd(a,b.getResource()),metadata:BEe(a,b.getMetadata()),metricKind:_.ej(b,3,0),valueType:_.ej(b,4,0),pointsList:_.Bb(_.jb(b,GEe,5),HEe,a),unit:_.Ji(b,8)};a&&(c.$jspbMessageInstance=b);return c}},JEe=[KEe,1,_.Gj,wEe,2,_.Gj,_.jGd,7,_.Gj,zEe,3,_.Lj,4,_.Lj,5,_.Hj,FEe,8,_.Ej];
var NEe=class extends _.Mj{constructor(a){super(a)}getName(){return _.Ji(this,3)}setName(a){return _.mj(this,3,a)}serializeBinary(){return _.tj(this,MEe)}};NEe.prototype.toObject=function(a){if(null!=this){var b={name:_.Ji(this,3)};a&&(b.$jspbMessageInstance=this);a=b}else a=void 0;return a};var MEe=[NEe,3,_.Ej];
var PEe=class extends _.Mj{constructor(a){super(a)}getAggregation(){return _.ej(this,3,0)}setAggregation(a){_.eb(this,3,a,0)}serializeBinary(){return _.tj(this,OEe)}},REe=class extends _.Mj{constructor(a){super(a)}getComparator(){return _.ej(this,1,0)}setComparator(a){_.eb(this,1,a,0)}getValue(){return _.kb(this,DEe,2)}setValue(a){return _.zb(this,2,a)}hasValue(){return _.ti(this,2)}serializeBinary(){return _.tj(this,QEe)}};PEe.prototype.toObject=function(a){return SEe(a,this)};
var SEe=function(a,b){if(null!=b){var c={labelKey:_.Ji(b,1),restriction:TEe(a,_.kb(b,REe,2)),aggregation:_.ej(b,3,0)};a&&(c.$jspbMessageInstance=b);return c}};REe.prototype.toObject=function(a){return TEe(a,this)};var TEe=function(a,b){if(null!=b){var c={comparator:_.ej(b,1,0),value:EEe(a,b.getValue())};a&&(c.$jspbMessageInstance=b);return c}},QEe=[REe,1,_.Lj,2,_.Gj,CEe],OEe=[PEe,1,_.Ej,2,_.Gj,QEe,3,_.Lj];
var VEe=class extends _.Mj{constructor(a){super(a)}setNumTimeSeries(a){_.eb(this,1,a,0)}getDirection(){return _.ej(this,2,0)}setDirection(a){return _.eb(this,2,a,0)}serializeBinary(){return _.tj(this,UEe)}};VEe.prototype.toObject=function(a){return WEe(a,this)};var WEe=function(a,b){if(null!=b){var c={numTimeSeries:_.kj(b,1),direction:_.ej(b,2,0)};a&&(c.$jspbMessageInstance=b);return c}},UEe=[VEe,1,_.wj,2,_.Lj];
var YEe=class extends _.Mj{constructor(a){super(a)}serializeBinary(){return _.tj(this,XEe)}},$Ee=class extends _.Mj{constructor(a){super(a)}getEndTime(){return _.kb(this,G6,1)}setEndTime(a){_.zb(this,1,a)}getStartTime(){return _.kb(this,G6,2)}setStartTime(a){_.zb(this,2,a)}serializeBinary(){return _.tj(this,ZEe)}},aFe=[2,3];YEe.prototype.toObject=function(a){return bFe(a,this)};
var bFe=function(a,b){if(null!=b){var c={graphPeriod:E6(a,_.kb(b,G6,1)),queryPeriod:E6(a,_.kb(b,G6,4)),absoluteWindow:XDe(a,_.si(b,p5,2,aFe)),relativeWindow:cFe(a,_.si(b,$Ee,3,aFe))};a&&(c.$jspbMessageInstance=b);return c}};$Ee.prototype.toObject=function(a){return cFe(a,this)};
var cFe=function(a,b){if(null!=b){var c={endTime:E6(a,b.getEndTime()),startTime:E6(a,b.getStartTime())};a&&(c.$jspbMessageInstance=b);return c}},ZEe=[$Ee,1,_.Gj,F6,2,_.Gj,F6],XEe=[YEe,1,_.Gj,F6,4,_.Gj,F6,2,_.Ij,WDe,aFe,3,_.Ij,ZEe,aFe];
var fFe=class extends _.Mj{constructor(a){super(a,-1,dFe)}serializeBinary(){return _.tj(this,eFe)}},dFe=[1];fFe.prototype.toObject=function(a){return gFe(a,this)};var gFe=function(a,b){if(null!=b){var c={drilldownStateList:_.Bb(_.jb(b,PEe,1),SEe,a),outlierState:WEe(a,_.kb(b,VEe,2)),timingState:bFe(a,_.kb(b,YEe,3))};a&&(c.$jspbMessageInstance=b);return c}},eFe=[fFe,1,_.Hj,OEe,2,_.Gj,UEe,3,_.Gj,XEe];
var jFe=class extends _.Mj{constructor(a){super(a)}getSource(){return _.Ji(this,1)}getStartPosition(){return _.kb(this,hFe,2)}setStartPosition(a){return _.zb(this,2,a)}getEndPosition(){return _.kb(this,hFe,3)}setEndPosition(a){return _.zb(this,3,a)}serializeBinary(){return _.tj(this,iFe)}},hFe=class extends _.Mj{constructor(a){super(a)}getLine(){return _.jj(this,1)}setLine(a){return _.eb(this,1,a,0)}serializeBinary(){return _.tj(this,kFe)}};jFe.prototype.toObject=function(a){return lFe(a,this)};
var lFe=function(a,b){if(null!=b){var c={source:_.Ji(b,1),startPosition:mFe(a,b.getStartPosition()),endPosition:mFe(a,b.getEndPosition()),nestedLocator:lFe(a,_.kb(b,jFe,4)),nestingReason:_.Ji(b,5)};a&&(c.$jspbMessageInstance=b);return c}};hFe.prototype.toObject=function(a){return mFe(a,this)};var mFe=function(a,b){if(null!=b){var c={line:_.jj(b,1),column:_.jj(b,2)};a&&(c.$jspbMessageInstance=b);return c}},kFe=[hFe,1,_.zj,2,_.zj],iFe=[jFe,1,_.Ej,2,_.Gj,kFe,3,_.Gj,kFe,4,_.Gj,()=>iFe,5,_.Ej];
var oFe=class extends _.Mj{constructor(a){super(a)}getMessage(){return _.Ji(this,2)}setMessage(a){return _.mj(this,2,a)}serializeBinary(){return _.tj(this,nFe)}};oFe.prototype.toObject=function(a){return pFe(a,this)};var pFe=function(a,b){if(null!=b){var c={locator:lFe(a,_.kb(b,jFe,1)),message:_.Ji(b,2)};a&&(c.$jspbMessageInstance=b);return c}},nFe=[oFe,1,_.Gj,iFe,2,_.Ej];
var sFe=class extends _.Mj{constructor(a){super(a,-1,qFe)}getIncompleteRegionsPointList(){return _.jb(this,GEe,1)}serializeBinary(){return _.tj(this,rFe)}},vFe=class extends _.Mj{constructor(a){super(a,-1,tFe)}serializeBinary(){return _.tj(this,uFe)}},yFe=class extends _.Mj{constructor(a){super(a,-1,wFe)}getIncompleteRegionsPointList(){return _.jb(this,GEe,2)}serializeBinary(){return _.tj(this,xFe)}},qFe=[1,2,3];sFe.prototype.toObject=function(a){return zFe(a,this)};
var zFe=function(a,b){if(null!=b){var c={incompleteRegionsPointList:_.Bb(b.getIncompleteRegionsPointList(),HEe,a),incompleteCloudRegionsList:_.Bb(_.jb(b,vFe,2),AFe,a),incompletePointsPerReasonList:_.Bb(_.jb(b,yFe,3),BFe,a)};a&&(c.$jspbMessageInstance=b);return c}},tFe=[3];vFe.prototype.toObject=function(a){return AFe(a,this)};
var AFe=function(a,b){if(null!=b){var c={cloudRegion:_.Ji(b,1),retriableErrorFreeTimeInterval:XDe(a,_.kb(b,p5,2)),incompleteReasonsList:_.Db(_.Za(b,3))};a&&(c.$jspbMessageInstance=b);return c}},wFe=[2];yFe.prototype.toObject=function(a){return BFe(a,this)};
var BFe=function(a,b){if(null!=b){var c={incompleteReason:_.ej(b,1,0),incompleteRegionsPointList:_.Bb(b.getIncompleteRegionsPointList(),HEe,a)};a&&(c.$jspbMessageInstance=b);return c}},xFe=[yFe,1,_.Lj,2,_.Hj,FEe],uFe=[vFe,1,_.Ej,2,_.Gj,WDe,3,_.RBa],rFe=[sFe,1,_.Hj,FEe,2,_.Hj,uFe,3,_.Hj,xFe];
var EFe=class extends _.Mj{constructor(a){super(a,-1,CFe)}getQueryDataQuality(){return _.kb(this,sFe,6)}serializeBinary(){return _.tj(this,DFe)}},CFe=[1,3];EFe.prototype.toObject=function(a){if(null!=this){var b={timeSeriesList:_.Bb(_.jb(this,KEe,1),LEe,a),nextPageToken:_.Ji(this,2),executionErrorsList:_.Bb(_.jb(this,_.p4a,3),_.q4a,a),unit:_.Ji(this,5),queryDataQuality:zFe(a,this.getQueryDataQuality())};a&&(b.$jspbMessageInstance=this);a=b}else a=void 0;return a};
var DFe=[EFe,1,_.Hj,JEe,2,_.Ej,3,_.Hj,_.o4a,5,_.Ej,6,_.Gj,rFe];
var GFe=class extends _.Mj{constructor(a){super(a)}getName(){return _.Ji(this,1)}setName(a){return _.mj(this,1,a)}getQuery(){return _.Ji(this,7)}setQuery(a){return _.mj(this,7,a)}getPageSize(){return _.jj(this,9)}serializeBinary(){return _.tj(this,FFe)}};
GFe.prototype.toObject=function(a){if(null!=this){var b={name:_.Ji(this,1),query:_.Ji(this,7),validateOnly:_.fj(this,3),pageSize:_.jj(this,9),pageToken:_.Ji(this,10),queryNotation:vEe(a,_.kb(this,uEe,2)),timeZone:_.Ji(this,4),reportPeriodicStats:_.fj(this,5),reportQueryPlan:_.fj(this,6),clientRequestId:_.Ji(this,8),queryTransformationSpec:gFe(a,_.kb(this,fFe,11)),requestPrism:_.fj(this,12),allowDynamicCrossProjectQuerying:_.fj(this,13)};a&&(b.$jspbMessageInstance=this);a=b}else a=void 0;return a};
var FFe=[GFe,1,_.Ej,7,_.Ej,3,_.iK,9,_.zj,10,_.Ej,2,_.Gj,tEe,4,_.Ej,5,_.iK,6,_.iK,8,_.Ej,11,_.Gj,eFe,12,_.iK,13,_.iK];
var JFe=class extends _.Mj{constructor(a){super(a)}getCount(){return _.jj(this,_.ib(this,HFe,1))}serializeBinary(){return _.tj(this,IFe)}},HFe=[1,2];JFe.prototype.toObject=function(a){return KFe(a,this)};var KFe=function(a,b){if(null!=b){var c={count:_.Db(_.lj(b,1,HFe)),percent:_.Db(_.rb(b,_.ib(b,HFe,2)))};a&&(c.$jspbMessageInstance=b);return c}},IFe=[JFe,1,_.pIc,HFe,2,_.GBa,HFe];
var Nae=class extends _.Mj{constructor(a){super(a)}getBoolValue(){return _.fj(this,_.ib(this,B7,1))}setBoolValue(a){return _.ij(this,1,B7,a)}hasBoolValue(){return 1===_.hb(this,B7)}getInt64Value(){return _.kj(this,_.ib(this,B7,2))}hasInt64Value(){return 2===_.hb(this,B7)}getStringValue(){return _.Ji(this,_.ib(this,B7,3))}setStringValue(a){return _.ij(this,3,B7,a)}hasStringValue(){return 3===_.hb(this,B7)}serializeBinary(){return _.tj(this,LFe)}},B7=[1,2,3];
Nae.prototype.toObject=function(a){return MFe(a,this)};var MFe=function(a,b){if(null!=b){var c={boolValue:_.Db(_.sb(b,_.ib(b,B7,1))),int64Value:_.Db(_.lj(b,2,B7)),stringValue:_.Db(_.lj(b,3,B7))};a&&(c.$jspbMessageInstance=b);return c}},LFe=[Nae,1,_.Bj,B7,2,_.IBa,B7,3,_.Fj,B7];
var PFe=class extends _.Mj{constructor(a){super(a,-1,NFe)}serializeBinary(){return _.tj(this,OFe)}},Pae=class extends _.Mj{constructor(a){super(a,-1,QFe)}getValuesList(){return _.jb(this,DEe,1)}addValues(a){_.Kh(this,1,DEe,a)}serializeBinary(){return _.tj(this,RFe)}},NFe=[1,2];PFe.prototype.toObject=function(a){return SFe(a,this)};
var SFe=function(a,b){if(null!=b){var c={labelValuesList:_.Bb(_.jb(b,Nae,1),MFe,a),pointDataList:_.Bb(_.jb(b,Pae,2),TFe,a)};a&&(c.$jspbMessageInstance=b);return c}},QFe=[1];Pae.prototype.toObject=function(a){return TFe(a,this)};var TFe=function(a,b){if(null!=b){var c={valuesList:_.Bb(b.getValuesList(),EEe,a),timeInterval:XDe(a,_.kb(b,p5,2))};a&&(c.$jspbMessageInstance=b);return c}},RFe=[Pae,1,_.Hj,CEe,2,_.Gj,WDe],OFe=[PFe,1,_.Hj,LFe,2,_.Hj,RFe];
var WFe=class extends _.Mj{constructor(a){super(a,-1,UFe)}getResourceType(){return _.Ji(this,3)}getMetricType(){return _.Ji(this,4)}serializeBinary(){return _.tj(this,VFe)}},Jae=class extends _.Mj{constructor(a){super(a)}getKey(){return _.Ji(this,1)}setKey(a){return _.mj(this,1,a)}getValueType(){return _.ej(this,2,0)}getMetricKind(){return _.ej(this,3,0)}serializeBinary(){return _.tj(this,XFe)}},UFe=[1,2,5];WFe.prototype.toObject=function(a){return YFe(a,this)};
var YFe=function(a,b){if(null!=b){var c={labelDescriptorsList:_.Bb(_.jb(b,Iae,1),bEe,a),valueDescriptorsList:_.Bb(_.jb(b,Jae,2),ZFe,a),pointDescriptorsList:_.Bb(_.jb(b,Jae,5),ZFe,a),resourceType:_.Ji(b,3),metricType:_.Ji(b,4)};a&&(c.$jspbMessageInstance=b);return c}};Jae.prototype.toObject=function(a){return ZFe(a,this)};
var ZFe=function(a,b){if(null!=b){var c={key:_.Ji(b,1),valueType:_.ej(b,2,0),metricKind:_.ej(b,3,0),unit:_.Ji(b,4)};a&&(c.$jspbMessageInstance=b);return c}},XFe=[Jae,1,_.Ej,2,_.Lj,3,_.Lj,4,_.Ej],VFe=[WFe,1,_.Hj,aEe,2,_.Hj,XFe,5,_.Hj,XFe,3,_.Ej,4,_.Ej];
var Hae=class extends _.Mj{constructor(a){super(a,-1,$Fe)}getTimeSeriesDescriptor(){return _.kb(this,WFe,1)}getTimeSeriesDataList(){return _.jb(this,PFe,2)}serializeBinary(){return _.tj(this,aGe)}},dGe=class extends _.Mj{constructor(a){super(a,-1,bGe)}serializeBinary(){return _.tj(this,cGe)}},gGe=class extends _.Mj{constructor(a){super(a,-1,eGe)}serializeBinary(){return _.tj(this,fGe)}},$Fe=[2,3];Hae.prototype.toObject=function(a){return hGe(a,this)};
var hGe=function(a,b){if(null!=b){var c={timeSeriesDescriptor:YFe(a,b.getTimeSeriesDescriptor()),timeSeriesDataList:_.Bb(b.getTimeSeriesDataList(),SFe,a),packedTimeSeriesDataList:_.Bb(_.jb(b,dGe,3),iGe,a)};a&&(c.$jspbMessageInstance=b);return c}},bGe=[1,2,3,4];dGe.prototype.toObject=function(a){return iGe(a,this)};
var iGe=function(a,b){if(null!=b){var c={labelValuesList:_.Bb(_.jb(b,Nae,1),MFe,a),endTimeMicrosList:_.Db(_.Za(b,2)),startTimeMicrosList:_.Db(_.Za(b,3)),valueColumnsList:_.Bb(_.jb(b,gGe,4),jGe,a)};a&&(c.$jspbMessageInstance=b);return c}},eGe=[1,2,3,4,5];gGe.prototype.toObject=function(a){return jGe(a,this)};
var jGe=function(a,b){if(null!=b){var c={boolValuesList:_.Db(_.ab(b,1,Boolean)),int64ValuesList:_.Db(_.Za(b,2)),doubleValuesList:_.Db(_.ab(b,3,Number)),stringValuesList:_.Db(_.Za(b,4)),distributionValuesList:_.Bb(_.jb(b,Sae,5),vDe,a)};a&&(c.$jspbMessageInstance=b);return c}},fGe=[gGe,1,yze,2,_.oIc,3,wze,4,_.Dj,5,_.Hj,jDe],cGe=[dGe,1,_.Hj,LFe,2,_.oIc,3,_.oIc,4,_.Hj,fGe],aGe=[Hae,1,_.Gj,VFe,2,_.Hj,OFe,3,_.Hj,cGe];
var Gae=class extends _.Mj{constructor(a){super(a,-1,kGe)}hasTimeSeriesTable(){return _.ti(this,1)}getTimeSeriesDescriptor(){return _.kb(this,WFe,8)}getTimeSeriesDataList(){return _.jb(this,PFe,9)}getQueryDataQuality(){return _.kb(this,sFe,13)}getStats(){return _.gj(this,5)}setStats(a){_.hj(this,5,a)}serializeBinary(){return _.tj(this,lGe)}},pGe=class extends _.Mj{constructor(a){super(a)}getThreshold(){return _.si(this,mGe,1,nGe)}getTrigger(){return _.kb(this,JFe,3)}serializeBinary(){return _.tj(this,
oGe)}},mGe=class extends _.Mj{constructor(a){super(a)}getDuration(){return _.kb(this,G6,3)}setDuration(a){_.zb(this,3,a)}hasDuration(){return _.ti(this,3)}serializeBinary(){return _.tj(this,qGe)}},sGe=class extends _.Mj{constructor(a){super(a)}getDuration(){return _.kb(this,G6,1)}setDuration(a){_.zb(this,1,a)}hasDuration(){return _.ti(this,1)}serializeBinary(){return _.tj(this,rGe)}},kGe=[9,2,11,12];
Gae.prototype.toObject=function(a){if(null!=this){var b={timeSeriesTable:hGe(a,_.kb(this,Hae,1)),timeSeriesDescriptor:YFe(a,this.getTimeSeriesDescriptor()),timeSeriesDataList:_.Bb(this.getTimeSeriesDataList(),SFe,a),nextPageToken:_.Ji(this,10),dynamicErrorsList:_.Bb(_.jb(this,oFe,2),pFe,a),partialErrorsList:_.Bb(_.jb(this,_.p4a,11),_.q4a,a),warningsList:_.Bb(_.jb(this,oFe,12),pFe,a),queryDataQuality:zFe(a,this.getQueryDataQuality()),internalTimeSeriesTable:hGe(a,_.kb(this,Hae,101)),stats:_.Eb(this.getStats()),
finalStats:_.Eb(_.gj(this,6)),alertInfo:tGe(a,_.kb(this,pGe,7))};a&&(b.$jspbMessageInstance=this);a=b}else a=void 0;return a};var nGe=[1,2];pGe.prototype.toObject=function(a){return tGe(a,this)};var tGe=function(a,b){if(null!=b){var c={threshold:uGe(a,b.getThreshold()),absence:vGe(a,_.si(b,sGe,2,nGe)),trigger:KFe(a,b.getTrigger()),queryHorizon:E6(a,_.kb(b,G6,4))};a&&(c.$jspbMessageInstance=b);return c}};mGe.prototype.toObject=function(a){return uGe(a,this)};
var uGe=function(a,b){if(null!=b){var c={comparison:_.ej(b,1,0),thresholdValue:_.dZ(b,2),duration:E6(a,b.getDuration())};a&&(c.$jspbMessageInstance=b);return c}};sGe.prototype.toObject=function(a){return vGe(a,this)};
var vGe=function(a,b){if(null!=b){var c={duration:E6(a,b.getDuration())};a&&(c.$jspbMessageInstance=b);return c}},rGe=[sGe,1,_.Gj,F6],qGe=[mGe,1,_.Lj,2,s6,3,_.Gj,F6],oGe=[pGe,1,_.Ij,qGe,nGe,2,_.Ij,rGe,nGe,3,_.Gj,IFe,4,_.Gj,F6],lGe=[Gae,1,_.Gj,aGe,8,_.Gj,VFe,9,_.Hj,OFe,10,_.Ej,2,_.Hj,nFe,11,_.Hj,_.o4a,12,_.Hj,nFe,13,_.Gj,rFe,101,_.Gj,aGe,5,_.Jj,6,_.Jj,7,_.Gj,oGe];
var wGe=new _.d4a("/google.monitoring.v3.MetricService/GetMetricDescriptor",NEe,qEe,function(a){return a.serializeBinary()},function(a,b){return _.EBa(a,pEe,b)});
var xGe=new _.d4a("/google.monitoring.v3.MetricService/ListTimeSeries",$De,EFe,function(a){return a.serializeBinary()},function(a,b){return _.EBa(a,DFe,b)});
var yGe=new _.d4a("/google.monitoring.v3.MetricService/QueryTimeSeries",GFe,Gae,function(a){return a.serializeBinary()},function(a,b){return _.EBa(a,lGe,b)});
var zGe=function(a,b){b=b||{};b.format="binary";this.client_=new _.xKc(b,!0);this.hostname_=void 0==a?a:a.replace(/\/+$/,"")};zGe.prototype.getMetricDescriptor=function(a,b,c){return this.client_.rpcCall(this.hostname_+"/$rpc/google.monitoring.v3.MetricService/GetMetricDescriptor",a,b||{},wGe,c)};var AGe=function(a,b,c,d){a.client_.rpcCall(a.hostname_+"/$rpc/google.monitoring.v3.MetricService/ListTimeSeries",b,c||{},xGe,d)};
var C7=function(a,b){if(!(this instanceof C7))return new C7(a,b);b=b||{};this.pathTemplate=(new URL(a||"")).origin;this.corsDomains=b.corsDomains||null;this.baseUrls=b.baseUrls||null;this.metricServiceClient=new zGe(this.pathTemplate,b)};_.nh("awesomecharts.datalayer.transports.GRPCTransport",C7);
C7.prototype.read=function(a,b,c){this.timeout_=c;let d,e;b=new Promise((h,l)=>{d=h;e=l});c=new $De;c.setName("projects/"+a.projectId);c.setFilter(a.filter);var f=new A7;_.Ih(f,5,a["aggregation.groupByFields"]);_.eb(f,4,PDe[a["aggregation.crossSeriesReducer"]],0);_.eb(f,2,ODe[a["aggregation.perSeriesAligner"]],0);var g=new G6;g.setSeconds(+a["aggregation.alignmentPeriod"].replace("s",""));f.setAlignmentPeriod(g);c.setAggregation(f);f=new A7;_.eb(f,4,PDe[a["secondaryAggregation.crossSeriesReducer"]],
0);_.zb(c,11,f);if(a["pickTimeSeriesFilter.direction"]||a["pickTimeSeriesFilter.numTimeSeries"]||a["pickTimeSeriesFilter.rankingMethod"])f=new SDe,(g=a["pickTimeSeriesFilter.rankingMethod"])&&_.eb(f,1,UDe[g],0),((g=a["pickTimeSeriesFilter.numTimeSeries"])||0===g)&&f.setNumTimeSeries(g),(g=a["pickTimeSeriesFilter.direction"])&&f.setDirection(VDe[g]),_.hBa(c,15,YDe,f);f=new p5;g=new _.SS;g.setSeconds((new Date(a["interval.startTime"])).getTime()/1E3);f.setStartTime(g);g=new _.SS;g.setSeconds((new Date(a["interval.endTime"])).getTime()/
1E3);f.setEndTime(g);c.setInterval(f);if(a=window.localStorage.getItem("lsc_googleAdminToken"))a=a.replace('"',""),a=a.replace('"',"");f="";g=_.DN.auth_;g.getAccessToken&&(f=g.getAccessToken());AGe(this.metricServiceClient,c,a?{"x-goog-iam-authorization-token":a,Authorization:"Bearer "+f}:{Authorization:"Bearer "+f},(h,l)=>{h?e(h):d(l)});return b};C7.prototype.read=C7.prototype.read;C7.prototype.cleanup=function(){};C7.prototype.cleanup=C7.prototype.cleanup;
var BGe=function(a,b){if(a&&1<=a.length)return void 0===b&&(b=function(c){return c.x.getTime()}),b(a[0])<=b(a[a.length-1])?!0:!1},CGe=function(a,b,c,d){if(!b||!b.series||!a.zeroFill_)return b;b.series=_.MN(b.series,e=>{const f=e.data,g=[];let h=0;if(BGe(f))for(var l=d[0].valueOf();l<d[1].valueOf();)f&&f[h]&&f[h].x.valueOf()<=l?(g.push(f[h]),l=f[h].x.valueOf()+c,h++):(g.push({x:new Date(l),y:0}),l+=c);else for(l=d[1].valueOf();l>d[0].valueOf();)f&&f[h]&&f[h].x.valueOf()>=l?(g.push(f[h]),l=f[h].x.valueOf()-
c,h++):(g.push({x:new Date(l),y:0}),l-=c);e.data=g;return e});return b},DGe=class extends _.lO{constructor(a,b){super(a,b);this.cache=[];this.pending={};this.currentDomain=this.invalidateTimeout=null;this.fetchedDomains=[];this.noDataDomains=[];this._dataAltered=!1;this.timeshiftoffset_=null;this.zeroFill_=!1;this._domainSliceCache=null}setTimeshiftOffset(a){this.timeshiftoffset_=a}fetch(a,b,c,d){this.currentDomain=[a[0],a[1]];return this.preFetch(a,b,c,d)}preFetch(a,b,c){const d=this,e=_.Jnc(a);
if(this.isPending(a))return null;this.fetchedDomains.push([a[0],a[1]]);_.VN(this.fetchedDomains);c=_.hO.attachDescriptorRequest(b,c,this.transport);const f=_.LN(c),g=performance.now(),h=this.transport.read(b,c).then(function(l){_.DN.transportReadEvent(performance.now()-g);return l}).then(_.QO.instrument("translate",function(l){l.acRequestParams=b;l.tileDomain=b["interval.startTime"]&&b["interval.endTime"]?[(new Date(b["interval.startTime"])).valueOf(),(new Date(b["interval.endTime"])).valueOf()]:
[a[0].valueOf(),a[1].valueOf()];let n=d.translate(l,d.alignmentPeriod_);d.zeroFill_&&(n=CGe(d,n,d.alignmentPeriod_,a));"number"===typeof l._requestCount&&(n._requestCount=l._requestCount);let r;if(!("empty"!==n.empty&&"group"!==n.empty||(null==(r=n.incompleteCloudRegions)?0:r.length)))throw l=new _.aO,l.addDetails({transportParams:c}),"group"===n.empty&&l.addDetails({group:!0}),l;if(_.DN.throwPartials_&&n.partialErrors)throw l=Xze(500,n.partialErrors.map(v=>v.message).join(", ")),l;return n})).then(_.QO.instrument("merge",
function(l){delete d.pending[e];const n=d.merge(l,d.cache,b);d._dataAltered=!d.equals(n,d.cache);d.cache=n;return l})).catch(function(l){delete d.pending[e];throw l;});_.hO.finishBatch(f);this.invalidateTimeout||(this.invalidateTimeout=window.setInterval(this.invalidateCacheCheck.bind(this),18E4));this.pending[e]={hash:e,promise:h,ts:_.QN(Date.now())};return h}preSeed(a,b,c){const d=_.Jnc(a);if(this.isPending(a))console.log("preseeding a pending domain should not happen");else{this.fetchedDomains.push([a[0],
a[1]]);_.VN(this.fetchedDomains);c.acRequestParams=b;c.tileDomain=[Number(a[0]),Number(a[1])];var e=this.translate(c,this.alignmentPeriod_);this.zeroFill_&&(e=CGe(this,e,this.alignmentPeriod_,a));"number"===typeof c._requestCount&&(e._requestCount=c._requestCount);if("empty"===e.empty||"group"===e.empty)throw a=new _.aO,a.addDetails({transportParams:b}),"group"===e.empty&&a.addDetails({group:!0}),a;delete this.pending[d];b=this.merge(e,this.cache,b);this._dataAltered=!this.equals(b,this.cache);this.cache=
b;this.invalidateTimeout||(this.invalidateTimeout=window.setInterval(this.invalidateCacheCheck.bind(this),18E4))}}invalidateCacheCheck(){var a=this.currentDomain,b;if(Array.isArray(a)&&2===a.length){a=this.timeshiftoffset_?[_.RN(a,this.timeshiftoffset_)[0],a[1]]:[a[0],a[1]];for(b=0;b<this.fetchedDomains.length;b++){var c=this.fetchedDomains[b];if(c[1]<=a[0])this.fetchedDomains.shift(),--b;else if(c[0]<a[0]){this.fetchedDomains.shift();this.fetchedDomains.unshift([a[0],c[1]]);break}}for(b=this.fetchedDomains.length-
1;0<=b;b--)if(c=this.fetchedDomains[b],c[0]>=a[1])this.fetchedDomains.pop();else if(c[1]>a[1]){this.fetchedDomains.pop();this.fetchedDomains.push([c[0],a[1]]);break}b=this.getData(a)}b||(b=[]);this.cache=b}clear(){this.cache=[];this.pending={};this.currentDomain=null;this.fetchedDomains=[];this.noDataDomains=[]}isPending(a){return(a=this.pending[_.Jnc(a)])&&a.promise?!0:!1}getData(a){return this.domainSlice(a)}hasData(){return Array.isArray(this.cache)?!!this.cache.length:!!this.cache&&!!Object.keys(this.cache).length&&
Array.isArray(this.cache.series)&&!!this.cache.series.length}sortedIndex(a,b,c,d){void 0===d&&(d=function(g){return g.x.getTime()});const e=BGe(a,d);let f=_.NN(a,b,g=>!0===e?d(g):-d(g));if(c&&a)for(b=d(b);f+1<a.length&&d(a[f+1])===b;f++);return f}domainSlice(a){if(!this.hasData()||!a)return this.cache;if(this._domainSliceCache&&this._domainSliceCache.domain[0].getTime()===a[0].getTime()&&this._domainSliceCache.domain[1].getTime()===a[1].getTime())return this._domainSliceCache.cache;const b=this,c=
_.KN(b.cache),d=_.MN(c.series,e=>{e=_.KN(e);var f=b.sortedIndex(e.data,{x:a[0]},!0);let g=b.sortedIndex(e.data,{x:a[1]},!1);const h=BGe(e.data);if(f===g)return e.data=[],e;!0===h?(--f,f=e.data.slice(0>f?0:f,g+1)):(--g,f=e.data.slice(0>g?0:g,f+1));e.data=f;return e}).filter(({data:e})=>!!e.length);c.series=d;b._domainSliceCache={domain:a,cache:c};return c}equals(a,b){if(b===a)return!0;if(!b.series)return!a.series;if(b.series.length!==a.series.length)return!1;for(let c=0;c<b.series.length;c++)if(!this.compareStreams_(a.series[c].data,
b.series[c].data))return!1;return!0}compareStreams_(a,b){const c=b.length,d=a.length;if(c!==d)return!1;if(0<c){const e=b[c-1].x.getTime(),f=a[d-1].x.getTime(),g=b[0].x.getTime(),h=a[0].x.getTime();if(e!==f||g!==h||b[0].y!==a[0].y||b[c-1].y!==a[d-1].y)return!1}return!0}};
var EGe=function(a){const b={};_.IN(a,function(d){var e=d.metadata.resource.labels;e&&_.IN(e,function(f,g){g="resource."+g;b[g]=b[g]||{};b[g][f]=!0});(e=d.metadata.metric.labels)&&_.IN(e,function(f,g){g="metric."+g;b[g]=b[g]||{};b[g][f]=!0});(d=d.metadata.metadata)&&_.IN(d,function(f,g){g="metadata."+g;b[g]=b[g]||{};b[g][f]=!0})});const c={};_.IN(b,function(d,e){c[e]=Object.keys(b[e]).length});return Object.keys(c).sort(function(d,e){return c[e]-c[d]})},FGe=function(a,b){return(_.MN(b,c=>(c=a[c])?
c:"")||[]).join(", ")},GGe=function(a,b){const c=!b||1>b.length?null:"gcmv3"===b[0].version?EGe(b):null;return b&&b[0]?"gcmv3"===b[0].version?a.makeStreamNameV3_.bind(a,c):function(d){return d.baseName}:null},HGe=function(a){const b=new Map;for(const [c,d]of a)b.set(c,d.size);return b},IGe=function(a,b){for(const c in a){let d=b.get(c);d||(d=new Set,b.set(c,d));d.add(a[c])}},JGe=function(a,b){const c=new Map,d=new Map,e=new Map;if(b&&b.length&&b[0].metadata)for(const f of b)b=f.metadata,IGe(b.resource&&
b.resource.labels||{},d),IGe(b.metric&&b.metric.labels||{},c),IGe(b.metadata||{},e);a._labelStats.resource=HGe(d);a._labelStats.metric=HGe(c);a._labelStats.metadata=HGe(e)},KGe=function(a,b){if(0===a.length)return b;const c=a[0].x.getTime(),d=a[a.length-1].x.getTime();var e=Pze(b,function(l){return l.x.getTime()<=c});let f;-1===e&&(e=b.length);f=Pze(b,function(l){return l.x.getTime()<=d});0<=f&&b[f].x.getTime()===d&&f++;var g=e+a.length;0<=f&&(g+=b.length-f);g=Array(g);let h=0;for(let l=0;l<e;l++)g[h++]=
b[l];for(e=0;e<a.length;e++)g[h++]=a[e];if(0<=f)for(a=f;a<b.length;a++)g[h++]=b[a];return g},LGe=class extends DGe{constructor(a,b){super(a,b);this._labelOrder=null;this._labelStats={};this.cache={series:[]};this.alwaysMerge=!1}makeStreamNameV3_(a,b){const c=b.metadata.resource;var d=c.labels;const e={};d&&_.IN(d,function(f,g){e["resource."+g]=f});(d=b.metadata.metric.labels)&&_.IN(d,function(f,g){e["metric."+g]=f});(d=b.metadata.metadata)&&_.IN(d,function(f,g){e["metadata."+g]=f});d=this.requestParams["aggregation.crossSeriesReducer"];
b=[b.baseName,c.type];d&&b.push(d);return b.join(":")+"("+FGe(e,a)+")"}merge(a,b,c){let d;if(!a||!a.series||0===a.series&&(null==(d=a.incompleteCloudRegions)||!d.length))return b;let e;a.series=null!=(e=a.series)?e:[];this.requestParams=c;const f=this.streamLimitFunction_?this.streamLimitFunction_():null,g=this.warningHandler_||(()=>{});let h=!1,l;if(!(this.hasData()||null!=(l=b.incompleteCloudRegions)&&l.length))if(this.alwaysMerge)b=_.KN(a),b.series=[];else return JGe(this,a.series),this.defaultNamingFn_||
(b=GGe(this,a.series),this.setDefaultNamingFunction(b)),this.applyNamingFunction_(a.series),f&&a.series.length>f&&(a.series.length=f,h||(g(),h=!0)),a;let n=!1;const r=_.KN(b);r.series=[];const v={};_.IN(b.series,function(w,y){const B=_.KN(w);B.data=w.data;r.series[y]=B;v[w.id]=B});if(a.partialErrors){const w=r.partialErrors||[];r.partialErrors=w.concat(a.partialErrors.filter(y=>0===w.filter(B=>y.message===B.message).length))}b=dae(b.incompleteCloudRegions,a.incompleteCloudRegions);b.length&&(r.incompleteCloudRegions=
b);_.IN(a.series,function(w){var y=v[w.id];const B=KGe(w.data||[],y?y.data||[]:[]);y?y.data=B:f&&r.series&&r.series.length>=f?h||(g(),h=!0):(n=!0,y={resource_id:w.resource_id,name:w.name,id:w.id,data:B,metadata:w.metadata,color:w.color,version:w.version},void 0!==w.hasMinMaxTuple&&(y.hasMinMaxTuple=w.hasMinMaxTuple),v[w.id]=y,r.series||(r.series=[]),r.series.push(y))});n&&(JGe(this,r.series),this.defaultNamingFn_||(a=GGe(this,r.series),this.setDefaultNamingFunction(a)),this.applyNamingFunction_(r.series));
this._domainSliceCache=null;return r}getLabelStats(){return{metric:this._labelStats.metric,resource:this._labelStats.resource,metadata:this._labelStats.metadata}}};LGe.prototype.getLabelStats=LGe.prototype.getLabelStats;
var NGe=function(a,b){a.cachedStreams=[];a.seriesIndexMap={};for(const c of b.seriesIds)b.seriesData[c]&&MGe(a,c,b);a.hasChangedSinceCheck=!0},PGe=function(a,b){a.seriesMetadataMetricLabels=b.seriesMetadataMetricLabels;a.seriesMetadataResourceType=b.seriesMetadataResourceType;a.seriesMetadataResourceLabels=b.seriesMetadataResourceLabels;a.seriesMetadataMetadata=b.seriesMetadataMetadata;a.seriesIds=b.seriesIds;a.tileDomains=bae([b.domain,...a.tileDomains]);a.flatLabelStats=b.flatLabelStats;a.labelStats=
OGe(a.flatLabelStats);"empty"===a.empty&&(a.baseName=b.baseName,a.shortMetric=b.shortMetric,a.kind=b.kind,a.acValueType=b.acValueType,a.gcmv3ValueType=b.gcmv3ValueType,a.metricType=b.metricType,a.empty=b.empty)},QGe=function(a,b,c){a=a.data;let d=null,e=null;for(let f=a.length-1;0<=f&&(!e&&a[f].x>=b&&(e=a.slice(f+1)),!d&&a[f].x>=c&&(d=a[f].x.getTime()===c.getTime()?a.slice(0,f):a.slice(0,f+1)),!e||!d);f--);return[d||[],e||[]]},MGe=function(a,b,c){a.cachedStreams||(a.cachedStreams=[]);const d={metadata:{metric:{type:c.metricType,
labels:c.seriesMetadataMetricLabels[b]},shortMetric:c.shortMetric,requestParams:a.requestParams.params,resource:{type:c.seriesMetadataResourceType[b],labels:c.seriesMetadataResourceLabels[b]},kind:c.kind,valueType:c.gcmv3ValueType,instanceNameOrId:a.getInstanceNameOrIdFn(),metricDisplayName:a.getMetricNameFn(c.metricType),tssData:{slo:c.tssDataSlo,lookback:c.tssDataLookback},metadata:c.seriesMetadataMetadata[b],monitoredProjectId:a.monitoredProjectId},value_type:c.acValueType,data:RGe(a,c.seriesData[b]),
baseName:c.baseName,name:a.name,id:b,version:"gcmv3"},e=a.cachedStreams.length;a.cachedStreams[e]=d;a.seriesIndexMap[b]=e;a.unit=c.unit},OGe=function(a){return Object.entries(a).reduce((b,[c,d])=>{b[c]=new Map(Object.entries(d));return b},{})},RGe=function(a,b){switch(a.acValueType){case "NUMERIC":var c=new Float64Array(b.flatSeriesDataXBuffer),d=new Float64Array(b.flatSeriesDataX0Buffer),e=new Float64Array(b.flatSeriesDataYBuffer),f=c.length,g=[];for(var h=0;h<f;h++)g.push({x:new Date(c[h]),x0:new Date(d[h]),
y:e[h],tileDomain:a.tileDomains[a.tileDomains.length-1]});return g;case "DISTRIBUTION":c=new Float64Array(b.flatSeriesDataXBuffer);d=new Float64Array(b.flatSeriesDataX0Buffer);e=new Float64Array(b.flatSeriesDataYCountBuffer);f=new Float64Array(b.flatSeriesDataYBucketCountsBuffer);g=new Float64Array(b.flatSeriesDataYTotalBucketsBuffer);h=c.length;const l=new Float64Array(b.flatSeriesDataYMeanBuffer),n=new Float64Array(b.flatSeriesDataYSumOfDeviation2Buffer),r=b.flatSeriesDataYBucketOptions;b=b.flatSeriesDataYExemplars;
const v=[];let w=0;for(let y=0;y<h;y++){const B={x:new Date(c[y]),x0:new Date(d[y]),y:{count:e[y],mean:l[y],sumOfSquaredDeviation:n[y],bucketOptions:r[y],exemplars:b[y],bucketCounts:[]},tileDomain:a.tileDomains[a.tileDomains.length-1]};for(let G=w;G<g[y]+w;G++)B.y.bucketCounts.push(f[G]);w+=g[y];v.push(B)}return v;default:return console.warn("This isn't an implemented chart data type",a.gcmv3ValueType),[]}},SGe=class{constructor({flatChartStreams:a,requestParams:b,monitoredProjectId:c,hideStats:d}){this.unit=
null;this.empty="empty";this.name=this.baseName=null;this.nextPageToken="";this.hideStats=!0;this.partialErrors=[];this.incompleteCloudRegions=void 0;this.labelStats={resource:new Map,metadata:new Map,metric:new Map};this.flatLabelStats={resource:{},metadata:{},metric:{}};this.seriesIndexMap={};this.seriesMetadataMetricLabels={};this.seriesMetadataResourceType={};this.seriesMetadataResourceLabels={};this.seriesMetadataMetadata={};this.seriesIds=[];this.shortMetric="";this.tileDomains=[];this.domain=
[-1,-1];this.kind="METRIC_KIND_UNSPECIFIED";this.acValueType="UNSPECIFIED";this.gcmv3ValueType="VALUE_TYPE_UNSPECIFIED";this.metricType="";this.hasChangedSinceCheck=!1;this.requestParams=b;this.monitoredProjectId=c;this.hideStats=d;this.nextPageToken=a.nextPageToken;this.partialErrors=a.partialErrors;this.incompleteCloudRegions=a.incompleteCloudRegions;this.tssDataLookback=a.tssDataLookback;this.tssDataSlo=a.tssDataSlo;PGe(this,a);NGe(this,a)}get series(){return this.cachedStreams||[]}hasChanged(){const a=
this.hasChangedSinceCheck;this.hasChangedSinceCheck=!1;return a}merge(a){PGe(this,a);if(!this.cachedStreams)return NGe(this,a),this;for(const h of Object.keys(a.seriesData))if(h in this.seriesIndexMap){if(a.seriesData[h]){var b=h;if(this.cachedStreams){var c=this.cachedStreams[this.seriesIndexMap[b]];if(c){if(b=RGe(this,a.seriesData[b]),0!==b.length){var [d,e]=QGe(c,b[b.length-1].x,b[0].x);c.data=d.concat(b,e);this.hasChangedSinceCheck=!0}}else console.warn("There isn't an expanded stream.",b)}else console.warn("We haven't expanded any streams to merge into")}}else MGe(this,
h,a);let f,g;if((null==(f=this.incompleteCloudRegions)?0:f.length)||(null==(g=a.incompleteCloudRegions)?0:g.length))c=this.incompleteCloudRegions,this.incompleteCloudRegions=dae(this.incompleteCloudRegions,a.incompleteCloudRegions),c!==this.incompleteCloudRegions&&(this.hasChangedSinceCheck=!0);return this}getInstanceNameOrIdFn(){return a=>a&&a.resource&&a.resource.labels?a.resource.labels.instance_id:"#ERR"}getMetricNameFn(a){let b=null;_.hO.getMetricDescriptorPromise(a).then(c=>{b=c.displayName});
return c=>b?b:c.shortMetric}};
var TGe=function(a,...b){const c=a.messages.pipe(_.Ge(d=>0<b.length?b.some(e=>d.data.type===e):!0),_.U(d=>{d=Object.assign({},d.data);return delete d.sendTime,d}));return a.isWorker(a.target)?_.De(c,a.errors):c},UGe=class{constructor(a){this.target=a;this.messages=_.ze(this.target,"message");this.errors=_.ze(this.target,"error").pipe(_.zf(b=>_.ie(b)))}isWorker(a){return"function"===typeof Worker&&a instanceof Worker}postMessage(a,b){this.target.postMessage(Object.assign({},{sendTime:Date.now()},a),
b)}};
var YGe=class{constructor(a){this.dataUrl=VGe;this.availabilitySubject=a;this.worker=new Worker(_.Xb(this.dataUrl),void 0);this.channel=new UGe(this.worker);this.isAvailableInternal=!0;this.workerId=`${WGe}-${XGe++}`}get isAvailable(){return this.isAvailableInternal}release(){this.isAvailableInternal=!0;this.availabilitySubject.next()}terminate(){this.isAvailableInternal=!1;this.worker.terminate()}};
var ZGe=new Map([[4,_.$N],[2,_.$nc],[6,_.Vnc],[1,_.ZN],[7,_.Wnc],[8,_.bO],[5,_.Xnc],[3,_.Ync],[0,_.ZN]]),$Ge=function(a,b,c){return _.ne(function*(){let d=a.cancelSubjects.get(c);if(b)d?d.next():(d=new _.tf,a.cancelSubjects.set(c,d));else if(!d)throw Error("Yk");b?yield a.clearCache(c):yield a.waitingForThread;return d})},aHe=function(a,b,c,d,e,f,g,h){return _.ne(function*(){var l=yield $Ge(a,e,f);a.channel.postMessage({requestParams:b,alignmentPeriod:c,tileDomain:d,cachedStreamsMetadata:h,isFirstTile:e,
requestTimestamp:g,workerId:a.workerId,cacheId:f,type:2});let n,r=0;var v=TGe(a.channel,0).pipe(_.Ge(y=>aae(y.streamsMetadata.domain,d)),_.Ge(y=>y.cacheId===f),_.zf(y=>{let B;return"empty"!==y.streamsMetadata.empty||null!=(B=y.streamsMetadata.incompleteCloudRegions)&&B.length?_.S(y):(y=new _.aO,y.addDetails({transportParams:b}),_.ie(y))}),_.af(1));const w=TGe(a.channel,1).pipe(_.Ge(y=>aae(y.domain,d)),_.Ge(y=>y.cacheId===f));v=_.qe([v,w]).pipe(_.Af(l),_.Ge(([y,B])=>{if(B.domain[1]!==d[1])return!0;
const G=y.totalStreams,O=B.streamCount;y=Object.assign({},y.streamsMetadata,B.streams);n?n.merge(y):n=new SGe({flatChartStreams:y,requestParams:b,monitoredProjectId:"",hideStats:!0});r+=O;return r===G}),_.U(()=>n),_.af(1));l=TGe(a.channel,3).pipe(_.Af(l),_.Ge(y=>y.cacheId===f),_.Ge(y=>y.domain[0]===d[0]&&y.domain[1]===d[1]),_.zf(y=>{y=new (ZGe.get(y.errorEnum)||_.ZN)(y.message);return _.ie(y)}));return _.De(v,l).pipe(_.af(1)).toPromise()})},bHe=class extends YGe{constructor(a){super(a);this.cancelSubjects=
new Map;this.waitingForThread=Promise.resolve()}clearCache(a){return this.waitingForThread=this.waitingForThread.then(()=>{this.channel.postMessage({cacheId:a,type:5});return TGe(this.channel,6).pipe(_.Ge(b=>b.cacheId===a),_.af(1),_.U(()=>{})).toPromise()})}},VGe=w9d(_.Wj(atob("KGZ1bmN0aW9uIHNvdXJjZSgpIHsvKgoKIENvcHlyaWdodCBUaGUgQ2xvc3VyZSBMaWJyYXJ5IEF1dGhvcnMuCiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMAoqLwp2YXIgJGpzY29tcD0kanNjb21wfHx7fTskanNjb21wLnNjb3BlPXt9OyRqc2NvbXAuYXJyYXlJdGVyYXRvckltcGw9ZnVuY3Rpb24oYSl7dmFyIGI9MDtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYjxhLmxlbmd0aD97ZG9uZTohMSx2YWx1ZTphW2IrK119Ontkb25lOiEwfX19OyRqc2NvbXAuYXJyYXlJdGVyYXRvcj1mdW5jdGlvbihhKXtyZXR1cm57bmV4dDokanNjb21wLmFycmF5SXRlcmF0b3JJbXBsKGEpfX07JGpzY29tcC5BU1NVTUVfRVM1PSExOyRqc2NvbXAuQVNTVU1FX05PX05BVElWRV9NQVA9ITE7JGpzY29tcC5BU1NVTUVfTk9fTkFUSVZFX1NFVD0hMTskanNjb21wLlNJTVBMRV9GUk9VTkRfUE9MWUZJTEw9ITE7JGpzY29tcC5JU09MQVRFX1BPTFlGSUxMUz0hMTskanNjb21wLkZPUkNFX1BPTFlGSUxMX1BST01JU0U9ITE7JGpzY29tcC5GT1JDRV9QT0xZRklMTF9QUk9NSVNFX1dIRU5fTk9fVU5IQU5ETEVEX1JFSkVDVElPTj0hMTsKJGpzY29tcC5kZWZpbmVQcm9wZXJ0eT0kanNjb21wLkFTU1VNRV9FUzV8fCJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZGVmaW5lUHJvcGVydGllcz9PYmplY3QuZGVmaW5lUHJvcGVydHk6ZnVuY3Rpb24oYSxiLGMpe2lmKGE9PUFycmF5LnByb3RvdHlwZXx8YT09T2JqZWN0LnByb3RvdHlwZSlyZXR1cm4gYTthW2JdPWMudmFsdWU7cmV0dXJuIGF9OyRqc2NvbXAuZ2V0R2xvYmFsPWZ1bmN0aW9uKGEpe2E9WyJvYmplY3QiPT10eXBlb2YgZ2xvYmFsVGhpcyYmZ2xvYmFsVGhpcyxhLCJvYmplY3QiPT10eXBlb2Ygd2luZG93JiZ3aW5kb3csIm9iamVjdCI9PXR5cGVvZiBzZWxmJiZzZWxmLCJvYmplY3QiPT10eXBlb2YgZ2xvYmFsJiZnbG9iYWxdO2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7KytiKXt2YXIgYz1hW2JdO2lmKGMmJmMuTWF0aD09TWF0aClyZXR1cm4gY310aHJvdyBFcnJvcigiQ2Fubm90IGZpbmQgZ2xvYmFsIG9iamVjdCIpO307JGpzY29tcC5nbG9iYWw9JGpzY29tcC5nZXRHbG9iYWwodGhpcyk7CiRqc2NvbXAuSVNfU1lNQk9MX05BVElWRT0iZnVuY3Rpb24iPT09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PT10eXBlb2YgU3ltYm9sKCJ4Iik7JGpzY29tcC5UUlVTVF9FUzZfUE9MWUZJTExTPSEkanNjb21wLklTT0xBVEVfUE9MWUZJTExTfHwkanNjb21wLklTX1NZTUJPTF9OQVRJVkU7JGpzY29tcC5wb2x5ZmlsbHM9e307JGpzY29tcC5wcm9wZXJ0eVRvUG9seWZpbGxTeW1ib2w9e307JGpzY29tcC5QT0xZRklMTF9QUkVGSVg9IiRqc2NwJCI7JGpzY29tcC5wb2x5ZmlsbD1mdW5jdGlvbihhLGIsYyxkKXtiJiYoJGpzY29tcC5JU09MQVRFX1BPTFlGSUxMUz8kanNjb21wLnBvbHlmaWxsSXNvbGF0ZWQoYSxiLGMsZCk6JGpzY29tcC5wb2x5ZmlsbFVuaXNvbGF0ZWQoYSxiLGMsZCkpfTsKJGpzY29tcC5wb2x5ZmlsbFVuaXNvbGF0ZWQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz0kanNjb21wLmdsb2JhbDthPWEuc3BsaXQoIi4iKTtmb3IodmFyIGQ9MDtkPGEubGVuZ3RoLTE7ZCsrKXt2YXIgZT1hW2RdO2lmKCEoZSBpbiBjKSlyZXR1cm47Yz1jW2VdfWE9YVthLmxlbmd0aC0xXTtkPWNbYV07Yj1iKGQpO2IhPWQmJm51bGwhPWImJiRqc2NvbXAuZGVmaW5lUHJvcGVydHkoYyxhLHtjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6Yn0pfTsKJGpzY29tcC5wb2x5ZmlsbElzb2xhdGVkPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1hLnNwbGl0KCIuIiksZT0xPT09ZC5sZW5ndGg7YT1kWzBdO2E9IWUmJmEgaW4gJGpzY29tcC5wb2x5ZmlsbHM/JGpzY29tcC5wb2x5ZmlsbHM6JGpzY29tcC5nbG9iYWw7Zm9yKHZhciBmPTA7ZjxkLmxlbmd0aC0xO2YrKyl7dmFyIGc9ZFtmXTtpZighKGcgaW4gYSkpcmV0dXJuO2E9YVtnXX1kPWRbZC5sZW5ndGgtMV07Yz0kanNjb21wLklTX1NZTUJPTF9OQVRJVkUmJiJlczYiPT09Yz9hW2RdOm51bGw7Yj1iKGMpO251bGwhPWImJihlPyRqc2NvbXAuZGVmaW5lUHJvcGVydHkoJGpzY29tcC5wb2x5ZmlsbHMsZCx7Y29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOmJ9KTpiIT09YyYmKHZvaWQgMD09PSRqc2NvbXAucHJvcGVydHlUb1BvbHlmaWxsU3ltYm9sW2RdJiYoZT0xRTkqTWF0aC5yYW5kb20oKT4+PjAsJGpzY29tcC5wcm9wZXJ0eVRvUG9seWZpbGxTeW1ib2xbZF09JGpzY29tcC5JU19TWU1CT0xfTkFUSVZFPwokanNjb21wLmdsb2JhbC5TeW1ib2woZCk6JGpzY29tcC5QT0xZRklMTF9QUkVGSVgrZSsiJCIrZCksZT0kanNjb21wLnByb3BlcnR5VG9Qb2x5ZmlsbFN5bWJvbFtkXSwkanNjb21wLmRlZmluZVByb3BlcnR5KGEsZSx7Y29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOmJ9KSkpfTskanNjb21wLmluaXRTeW1ib2w9ZnVuY3Rpb24oKXt9OwokanNjb21wLnBvbHlmaWxsKCJTeW1ib2wiLGZ1bmN0aW9uKGEpe2lmKGEpcmV0dXJuIGE7dmFyIGI9ZnVuY3Rpb24oZixnKXt0aGlzLiRqc2NvbXAkc3ltYm9sJGlkXz1mOyRqc2NvbXAuZGVmaW5lUHJvcGVydHkodGhpcywiZGVzY3JpcHRpb24iLHtjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6Z30pfTtiLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRqc2NvbXAkc3ltYm9sJGlkX307YT0xRTkqTWF0aC5yYW5kb20oKT4+PjA7dmFyIGM9ImpzY29tcF9zeW1ib2xfIithKyJfIixkPTAsZT1mdW5jdGlvbihmKXtpZih0aGlzIGluc3RhbmNlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3IiKTtyZXR1cm4gbmV3IGIoYysoZnx8IiIpKyJfIitkKyssZil9O3JldHVybiBlfSwiZXM2IiwiZXMzIik7CiRqc2NvbXAucG9seWZpbGwoIlN5bWJvbC5pdGVyYXRvciIsZnVuY3Rpb24oYSl7aWYoYSlyZXR1cm4gYTthPVN5bWJvbCgiU3ltYm9sLml0ZXJhdG9yIik7Zm9yKHZhciBiPSJBcnJheSBJbnQ4QXJyYXkgVWludDhBcnJheSBVaW50OENsYW1wZWRBcnJheSBJbnQxNkFycmF5IFVpbnQxNkFycmF5IEludDMyQXJyYXkgVWludDMyQXJyYXkgRmxvYXQzMkFycmF5IEZsb2F0NjRBcnJheSIuc3BsaXQoIiAiKSxjPTA7YzxiLmxlbmd0aDtjKyspe3ZhciBkPSRqc2NvbXAuZ2xvYmFsW2JbY11dOyJmdW5jdGlvbiI9PT10eXBlb2YgZCYmImZ1bmN0aW9uIiE9dHlwZW9mIGQucHJvdG90eXBlW2FdJiYkanNjb21wLmRlZmluZVByb3BlcnR5KGQucHJvdG90eXBlLGEse2NvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpmdW5jdGlvbigpe3JldHVybiAkanNjb21wLml0ZXJhdG9yUHJvdG90eXBlKCRqc2NvbXAuYXJyYXlJdGVyYXRvckltcGwodGhpcykpfX0pfXJldHVybiBhfSwiZXM2IiwKImVzMyIpOyRqc2NvbXAucG9seWZpbGwoIlN5bWJvbC5hc3luY0l0ZXJhdG9yIixmdW5jdGlvbihhKXtyZXR1cm4gYT9hOlN5bWJvbCgiU3ltYm9sLmFzeW5jSXRlcmF0b3IiKX0sImVzOSIsImVzMyIpOyRqc2NvbXAuaXRlcmF0b3JQcm90b3R5cGU9ZnVuY3Rpb24oYSl7YT17bmV4dDphfTthW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307cmV0dXJuIGF9OyRqc2NvbXAuY3JlYXRlVGVtcGxhdGVUYWdGaXJzdEFyZz1mdW5jdGlvbihhKXtyZXR1cm4gYS5yYXc9YX07JGpzY29tcC5jcmVhdGVUZW1wbGF0ZVRhZ0ZpcnN0QXJnV2l0aFJhdz1mdW5jdGlvbihhLGIpe2EucmF3PWI7cmV0dXJuIGF9OyRqc2NvbXAubWFrZUl0ZXJhdG9yPWZ1bmN0aW9uKGEpe3ZhciBiPSJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3ImJmFbU3ltYm9sLml0ZXJhdG9yXTtyZXR1cm4gYj9iLmNhbGwoYSk6JGpzY29tcC5hcnJheUl0ZXJhdG9yKGEpfTsKJGpzY29tcC5hcnJheUZyb21JdGVyYXRvcj1mdW5jdGlvbihhKXtmb3IodmFyIGIsYz1bXTshKGI9YS5uZXh0KCkpLmRvbmU7KWMucHVzaChiLnZhbHVlKTtyZXR1cm4gY307JGpzY29tcC5hcnJheUZyb21JdGVyYWJsZT1mdW5jdGlvbihhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIEFycmF5P2E6JGpzY29tcC5hcnJheUZyb21JdGVyYXRvcigkanNjb21wLm1ha2VJdGVyYXRvcihhKSl9OyRqc2NvbXAub3ducz1mdW5jdGlvbihhLGIpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYSxiKX07JGpzY29tcC5hc3NpZ249JGpzY29tcC5UUlVTVF9FUzZfUE9MWUZJTExTJiYiZnVuY3Rpb24iPT10eXBlb2YgT2JqZWN0LmFzc2lnbj9PYmplY3QuYXNzaWduOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTE7Yzxhcmd1bWVudHMubGVuZ3RoO2MrKyl7dmFyIGQ9YXJndW1lbnRzW2NdO2lmKGQpZm9yKHZhciBlIGluIGQpJGpzY29tcC5vd25zKGQsZSkmJihhW2VdPWRbZV0pfXJldHVybiBhfTsKJGpzY29tcC5wb2x5ZmlsbCgiT2JqZWN0LmFzc2lnbiIsZnVuY3Rpb24oYSl7cmV0dXJuIGF8fCRqc2NvbXAuYXNzaWdufSwiZXM2IiwiZXMzIik7JGpzY29tcC5vYmplY3RDcmVhdGU9JGpzY29tcC5BU1NVTUVfRVM1fHwiZnVuY3Rpb24iPT10eXBlb2YgT2JqZWN0LmNyZWF0ZT9PYmplY3QuY3JlYXRlOmZ1bmN0aW9uKGEpe3ZhciBiPWZ1bmN0aW9uKCl7fTtiLnByb3RvdHlwZT1hO3JldHVybiBuZXcgYn07CiRqc2NvbXAuZ2V0Q29uc3RydWN0SW1wbGVtZW50YXRpb249ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7ZnVuY3Rpb24gZSgpe31mdW5jdGlvbiBmKCl7fW5ldyBlO1JlZmxlY3QuY29uc3RydWN0KGUsW10sZik7cmV0dXJuIG5ldyBlIGluc3RhbmNlb2YgZX1mdW5jdGlvbiBiKGUsZixnKXt2b2lkIDA9PT1nJiYoZz1lKTtnPWcucHJvdG90eXBlfHxPYmplY3QucHJvdG90eXBlO2c9JGpzY29tcC5vYmplY3RDcmVhdGUoZyk7dmFyIGs9RnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5O3JldHVybihlPWsuY2FsbChlLGcsZikpfHxnfWlmKCRqc2NvbXAuVFJVU1RfRVM2X1BPTFlGSUxMUyYmInVuZGVmaW5lZCIhPXR5cGVvZiBSZWZsZWN0JiZSZWZsZWN0LmNvbnN0cnVjdCl7aWYoYSgpKXJldHVybiBSZWZsZWN0LmNvbnN0cnVjdDt2YXIgYz1SZWZsZWN0LmNvbnN0cnVjdCxkPWZ1bmN0aW9uKGUsZixnKXtlPWMoZSxmKTtnJiZSZWZsZWN0LnNldFByb3RvdHlwZU9mKGUsZy5wcm90b3R5cGUpOwpyZXR1cm4gZX07cmV0dXJuIGR9cmV0dXJuIGJ9OyRqc2NvbXAuY29uc3RydWN0PXt2YWx1ZU9mOiRqc2NvbXAuZ2V0Q29uc3RydWN0SW1wbGVtZW50YXRpb259LnZhbHVlT2YoKTskanNjb21wLnVuZGVyc2NvcmVQcm90b0NhbkJlU2V0PWZ1bmN0aW9uKCl7dmFyIGE9e2E6ITB9LGI9e307dHJ5e3JldHVybiBiLl9fcHJvdG9fXz1hLGIuYX1jYXRjaChjKXt9cmV0dXJuITF9OyRqc2NvbXAuc2V0UHJvdG90eXBlT2Y9JGpzY29tcC5UUlVTVF9FUzZfUE9MWUZJTExTJiYiZnVuY3Rpb24iPT10eXBlb2YgT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZjokanNjb21wLnVuZGVyc2NvcmVQcm90b0NhbkJlU2V0KCk/ZnVuY3Rpb24oYSxiKXthLl9fcHJvdG9fXz1iO2lmKGEuX19wcm90b19fIT09Yil0aHJvdyBuZXcgVHlwZUVycm9yKGErIiBpcyBub3QgZXh0ZW5zaWJsZSIpO3JldHVybiBhfTpudWxsOwokanNjb21wLmluaGVyaXRzPWZ1bmN0aW9uKGEsYil7YS5wcm90b3R5cGU9JGpzY29tcC5vYmplY3RDcmVhdGUoYi5wcm90b3R5cGUpO2EucHJvdG90eXBlLmNvbnN0cnVjdG9yPWE7aWYoJGpzY29tcC5zZXRQcm90b3R5cGVPZil7dmFyIGM9JGpzY29tcC5zZXRQcm90b3R5cGVPZjtjKGEsYil9ZWxzZSBmb3IoYyBpbiBiKWlmKCJwcm90b3R5cGUiIT1jKWlmKE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKXt2YXIgZD1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGIsYyk7ZCYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGEsYyxkKX1lbHNlIGFbY109YltjXTthLnN1cGVyQ2xhc3NfPWIucHJvdG90eXBlfTskanNjb21wLmdlbmVyYXRvcj17fTsKJGpzY29tcC5nZW5lcmF0b3IuZW5zdXJlSXRlcmF0b3JSZXN1bHRJc09iamVjdF89ZnVuY3Rpb24oYSl7aWYoIShhIGluc3RhbmNlb2YgT2JqZWN0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJJdGVyYXRvciByZXN1bHQgIithKyIgaXMgbm90IGFuIG9iamVjdCIpO307JGpzY29tcC5nZW5lcmF0b3IuQ29udGV4dD1mdW5jdGlvbigpe3RoaXMuaXNSdW5uaW5nXz0hMTt0aGlzLnlpZWxkQWxsSXRlcmF0b3JfPW51bGw7dGhpcy55aWVsZFJlc3VsdD12b2lkIDA7dGhpcy5uZXh0QWRkcmVzcz0xO3RoaXMuZmluYWxseUFkZHJlc3NfPXRoaXMuY2F0Y2hBZGRyZXNzXz0wO3RoaXMuYWJydXB0Q29tcGxldGlvbl89bnVsbH07JGpzY29tcC5nZW5lcmF0b3IuQ29udGV4dC5wcm90b3R5cGUuc3RhcnRfPWZ1bmN0aW9uKCl7aWYodGhpcy5pc1J1bm5pbmdfKXRocm93IG5ldyBUeXBlRXJyb3IoIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmciKTt0aGlzLmlzUnVubmluZ189ITB9OwokanNjb21wLmdlbmVyYXRvci5Db250ZXh0LnByb3RvdHlwZS5zdG9wXz1mdW5jdGlvbigpe3RoaXMuaXNSdW5uaW5nXz0hMX07JGpzY29tcC5nZW5lcmF0b3IuQ29udGV4dC5wcm90b3R5cGUuanVtcFRvRXJyb3JIYW5kbGVyXz1mdW5jdGlvbigpe3RoaXMubmV4dEFkZHJlc3M9dGhpcy5jYXRjaEFkZHJlc3NffHx0aGlzLmZpbmFsbHlBZGRyZXNzX307JGpzY29tcC5nZW5lcmF0b3IuQ29udGV4dC5wcm90b3R5cGUubmV4dF89ZnVuY3Rpb24oYSl7dGhpcy55aWVsZFJlc3VsdD1hfTskanNjb21wLmdlbmVyYXRvci5Db250ZXh0LnByb3RvdHlwZS50aHJvd189ZnVuY3Rpb24oYSl7dGhpcy5hYnJ1cHRDb21wbGV0aW9uXz17ZXhjZXB0aW9uOmEsaXNFeGNlcHRpb246ITB9O3RoaXMuanVtcFRvRXJyb3JIYW5kbGVyXygpfTsKJGpzY29tcC5nZW5lcmF0b3IuQ29udGV4dC5wcm90b3R5cGUucmV0dXJuPWZ1bmN0aW9uKGEpe3RoaXMuYWJydXB0Q29tcGxldGlvbl89e3JldHVybjphfTt0aGlzLm5leHRBZGRyZXNzPXRoaXMuZmluYWxseUFkZHJlc3NffTskanNjb21wLmdlbmVyYXRvci5Db250ZXh0LnByb3RvdHlwZS55aWVsZD1mdW5jdGlvbihhLGIpe3RoaXMubmV4dEFkZHJlc3M9YjtyZXR1cm57dmFsdWU6YX19OyRqc2NvbXAuZ2VuZXJhdG9yLkNvbnRleHQucHJvdG90eXBlLmp1bXBUbz1mdW5jdGlvbihhKXt0aGlzLm5leHRBZGRyZXNzPWF9OyRqc2NvbXAuZ2VuZXJhdG9yLkNvbnRleHQucHJvdG90eXBlLmp1bXBUb0VuZD1mdW5jdGlvbigpe3RoaXMubmV4dEFkZHJlc3M9MH07JGpzY29tcC5nZW5lcmF0b3IuQ29udGV4dC5wcm90b3R5cGUuc2V0Q2F0Y2hGaW5hbGx5QmxvY2tzPWZ1bmN0aW9uKGEsYil7dGhpcy5jYXRjaEFkZHJlc3NfPWE7dm9pZCAwIT1iJiYodGhpcy5maW5hbGx5QWRkcmVzc189Yil9OwokanNjb21wLmdlbmVyYXRvci5Db250ZXh0LnByb3RvdHlwZS5sZWF2ZVRyeUJsb2NrPWZ1bmN0aW9uKGEsYil7dGhpcy5uZXh0QWRkcmVzcz1hO3RoaXMuY2F0Y2hBZGRyZXNzXz1ifHwwfTskanNjb21wLmdlbmVyYXRvci5Db250ZXh0LnByb3RvdHlwZS5lbnRlckNhdGNoQmxvY2s9ZnVuY3Rpb24oYSl7dGhpcy5jYXRjaEFkZHJlc3NfPWF8fDA7YT10aGlzLmFicnVwdENvbXBsZXRpb25fLmV4Y2VwdGlvbjt0aGlzLmFicnVwdENvbXBsZXRpb25fPW51bGw7cmV0dXJuIGF9OyRqc2NvbXAuZ2VuZXJhdG9yLkNvbnRleHQuUHJvcGVydHlJdGVyYXRvcj1mdW5jdGlvbihhKXt0aGlzLnByb3BlcnRpZXNfPVtdO2Zvcih2YXIgYiBpbiBhKXRoaXMucHJvcGVydGllc18ucHVzaChiKTt0aGlzLnByb3BlcnRpZXNfLnJldmVyc2UoKX07CiRqc2NvbXAuZ2VuZXJhdG9yLkVuZ2luZV89ZnVuY3Rpb24oYSl7dGhpcy5jb250ZXh0Xz1uZXcgJGpzY29tcC5nZW5lcmF0b3IuQ29udGV4dDt0aGlzLnByb2dyYW1fPWF9OyRqc2NvbXAuZ2VuZXJhdG9yLkVuZ2luZV8ucHJvdG90eXBlLm5leHRfPWZ1bmN0aW9uKGEpe3RoaXMuY29udGV4dF8uc3RhcnRfKCk7aWYodGhpcy5jb250ZXh0Xy55aWVsZEFsbEl0ZXJhdG9yXylyZXR1cm4gdGhpcy55aWVsZEFsbFN0ZXBfKHRoaXMuY29udGV4dF8ueWllbGRBbGxJdGVyYXRvcl8ubmV4dCxhLHRoaXMuY29udGV4dF8ubmV4dF8pO3RoaXMuY29udGV4dF8ubmV4dF8oYSk7cmV0dXJuIHRoaXMubmV4dFN0ZXBfKCl9OwokanNjb21wLmdlbmVyYXRvci5FbmdpbmVfLnByb3RvdHlwZS5yZXR1cm5fPWZ1bmN0aW9uKGEpe3RoaXMuY29udGV4dF8uc3RhcnRfKCk7dmFyIGI9dGhpcy5jb250ZXh0Xy55aWVsZEFsbEl0ZXJhdG9yXztpZihiKXJldHVybiBiPSJyZXR1cm4iaW4gYj9iWyJyZXR1cm4iXTpmdW5jdGlvbihjKXtyZXR1cm57dmFsdWU6Yyxkb25lOiEwfX0sdGhpcy55aWVsZEFsbFN0ZXBfKGIsYSx0aGlzLmNvbnRleHRfLnJldHVybik7dGhpcy5jb250ZXh0Xy5yZXR1cm4oYSk7cmV0dXJuIHRoaXMubmV4dFN0ZXBfKCl9OwokanNjb21wLmdlbmVyYXRvci5FbmdpbmVfLnByb3RvdHlwZS50aHJvd189ZnVuY3Rpb24oYSl7dGhpcy5jb250ZXh0Xy5zdGFydF8oKTtpZih0aGlzLmNvbnRleHRfLnlpZWxkQWxsSXRlcmF0b3JfKXJldHVybiB0aGlzLnlpZWxkQWxsU3RlcF8odGhpcy5jb250ZXh0Xy55aWVsZEFsbEl0ZXJhdG9yX1sidGhyb3ciXSxhLHRoaXMuY29udGV4dF8ubmV4dF8pO3RoaXMuY29udGV4dF8udGhyb3dfKGEpO3JldHVybiB0aGlzLm5leHRTdGVwXygpfTsKJGpzY29tcC5nZW5lcmF0b3IuRW5naW5lXy5wcm90b3R5cGUueWllbGRBbGxTdGVwXz1mdW5jdGlvbihhLGIsYyl7dHJ5e3ZhciBkPWEuY2FsbCh0aGlzLmNvbnRleHRfLnlpZWxkQWxsSXRlcmF0b3JfLGIpOyRqc2NvbXAuZ2VuZXJhdG9yLmVuc3VyZUl0ZXJhdG9yUmVzdWx0SXNPYmplY3RfKGQpO2lmKCFkLmRvbmUpcmV0dXJuIHRoaXMuY29udGV4dF8uc3RvcF8oKSxkO3ZhciBlPWQudmFsdWV9Y2F0Y2goZil7cmV0dXJuIHRoaXMuY29udGV4dF8ueWllbGRBbGxJdGVyYXRvcl89bnVsbCx0aGlzLmNvbnRleHRfLnRocm93XyhmKSx0aGlzLm5leHRTdGVwXygpfXRoaXMuY29udGV4dF8ueWllbGRBbGxJdGVyYXRvcl89bnVsbDtjLmNhbGwodGhpcy5jb250ZXh0XyxlKTtyZXR1cm4gdGhpcy5uZXh0U3RlcF8oKX07CiRqc2NvbXAuZ2VuZXJhdG9yLkVuZ2luZV8ucHJvdG90eXBlLm5leHRTdGVwXz1mdW5jdGlvbigpe2Zvcig7dGhpcy5jb250ZXh0Xy5uZXh0QWRkcmVzczspdHJ5e3ZhciBhPXRoaXMucHJvZ3JhbV8odGhpcy5jb250ZXh0Xyk7aWYoYSlyZXR1cm4gdGhpcy5jb250ZXh0Xy5zdG9wXygpLHt2YWx1ZTphLnZhbHVlLGRvbmU6ITF9fWNhdGNoKGIpe3RoaXMuY29udGV4dF8ueWllbGRSZXN1bHQ9dm9pZCAwLHRoaXMuY29udGV4dF8udGhyb3dfKGIpfXRoaXMuY29udGV4dF8uc3RvcF8oKTtpZih0aGlzLmNvbnRleHRfLmFicnVwdENvbXBsZXRpb25fKXthPXRoaXMuY29udGV4dF8uYWJydXB0Q29tcGxldGlvbl87dGhpcy5jb250ZXh0Xy5hYnJ1cHRDb21wbGV0aW9uXz1udWxsO2lmKGEuaXNFeGNlcHRpb24pdGhyb3cgYS5leGNlcHRpb247cmV0dXJue3ZhbHVlOmEucmV0dXJuLGRvbmU6ITB9fXJldHVybnt2YWx1ZTp2b2lkIDAsZG9uZTohMH19OwokanNjb21wLmdlbmVyYXRvci5HZW5lcmF0b3JfPWZ1bmN0aW9uKGEpe3RoaXMubmV4dD1mdW5jdGlvbihiKXtyZXR1cm4gYS5uZXh0XyhiKX07dGhpcy50aHJvdz1mdW5jdGlvbihiKXtyZXR1cm4gYS50aHJvd18oYil9O3RoaXMucmV0dXJuPWZ1bmN0aW9uKGIpe3JldHVybiBhLnJldHVybl8oYil9O3RoaXNbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfX07JGpzY29tcC5nZW5lcmF0b3IuY3JlYXRlR2VuZXJhdG9yPWZ1bmN0aW9uKGEsYil7Yj1uZXcgJGpzY29tcC5nZW5lcmF0b3IuR2VuZXJhdG9yXyhuZXcgJGpzY29tcC5nZW5lcmF0b3IuRW5naW5lXyhiKSk7JGpzY29tcC5zZXRQcm90b3R5cGVPZiYmYS5wcm90b3R5cGUmJiRqc2NvbXAuc2V0UHJvdG90eXBlT2YoYixhLnByb3RvdHlwZSk7cmV0dXJuIGJ9OwokanNjb21wLmFzeW5jRXhlY3V0ZVByb21pc2VHZW5lcmF0b3I9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihkKXtyZXR1cm4gYS5uZXh0KGQpfWZ1bmN0aW9uIGMoZCl7cmV0dXJuIGEudGhyb3coZCl9cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKGQsZSl7ZnVuY3Rpb24gZihnKXtnLmRvbmU/ZChnLnZhbHVlKTpQcm9taXNlLnJlc29sdmUoZy52YWx1ZSkudGhlbihiLGMpLnRoZW4oZixlKX1mKGEubmV4dCgpKX0pfTskanNjb21wLmFzeW5jRXhlY3V0ZVByb21pc2VHZW5lcmF0b3JGdW5jdGlvbj1mdW5jdGlvbihhKXtyZXR1cm4gJGpzY29tcC5hc3luY0V4ZWN1dGVQcm9taXNlR2VuZXJhdG9yKGEoKSl9OyRqc2NvbXAuYXN5bmNFeGVjdXRlUHJvbWlzZUdlbmVyYXRvclByb2dyYW09ZnVuY3Rpb24oYSl7cmV0dXJuICRqc2NvbXAuYXN5bmNFeGVjdXRlUHJvbWlzZUdlbmVyYXRvcihuZXcgJGpzY29tcC5nZW5lcmF0b3IuR2VuZXJhdG9yXyhuZXcgJGpzY29tcC5nZW5lcmF0b3IuRW5naW5lXyhhKSkpfTsKJGpzY29tcC5tYWtlQXN5bmNJdGVyYXRvcj1mdW5jdGlvbihhKXt2YXIgYj1hW1N5bWJvbC5hc3luY0l0ZXJhdG9yXTtyZXR1cm4gdm9pZCAwIT09Yj9iLmNhbGwoYSk6bmV3ICRqc2NvbXAuQXN5bmNJdGVyYXRvckZyb21TeW5jV3JhcHBlcigkanNjb21wLm1ha2VJdGVyYXRvcihhKSl9OyRqc2NvbXAuQXN5bmNJdGVyYXRvckZyb21TeW5jV3JhcHBlcj1mdW5jdGlvbihhKXt0aGlzW1N5bWJvbC5hc3luY0l0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfTt0aGlzW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gYX07dGhpcy5uZXh0PWZ1bmN0aW9uKGIpe3JldHVybiBQcm9taXNlLnJlc29sdmUoYS5uZXh0KGIpKX07dm9pZCAwIT09YVsidGhyb3ciXSYmKHRoaXNbInRocm93Il09ZnVuY3Rpb24oYil7cmV0dXJuIFByb21pc2UucmVzb2x2ZShhWyJ0aHJvdyJdKGIpKX0pO3ZvaWQgMCE9PWFbInJldHVybiJdJiYodGhpc1sicmV0dXJuIl09ZnVuY3Rpb24oYil7cmV0dXJuIFByb21pc2UucmVzb2x2ZShhWyJyZXR1cm4iXShiKSl9KX07CiRqc2NvbXAuZ2V0UmVzdEFyZ3VtZW50cz1mdW5jdGlvbigpe2Zvcih2YXIgYT1OdW1iZXIodGhpcyksYj1bXSxjPWE7Yzxhcmd1bWVudHMubGVuZ3RoO2MrKyliW2MtYV09YXJndW1lbnRzW2NdO3JldHVybiBifTskanNjb21wLnBvbHlmaWxsKCJSZWZsZWN0IixmdW5jdGlvbihhKXtyZXR1cm4gYT9hOnt9fSwiZXM2IiwiZXMzIik7JGpzY29tcC5wb2x5ZmlsbCgiUmVmbGVjdC5jb25zdHJ1Y3QiLGZ1bmN0aW9uKCl7cmV0dXJuICRqc2NvbXAuY29uc3RydWN0fSwiZXM2IiwiZXMzIik7JGpzY29tcC5wb2x5ZmlsbCgiUmVmbGVjdC5zZXRQcm90b3R5cGVPZiIsZnVuY3Rpb24oYSl7aWYoYSlyZXR1cm4gYTtpZigkanNjb21wLnNldFByb3RvdHlwZU9mKXt2YXIgYj0kanNjb21wLnNldFByb3RvdHlwZU9mO3JldHVybiBhPWZ1bmN0aW9uKGMsZCl7dHJ5e3JldHVybiBiKGMsZCksITB9Y2F0Y2goZSl7cmV0dXJuITF9fX1yZXR1cm4gbnVsbH0sImVzNiIsImVzNSIpOwokanNjb21wLnBvbHlmaWxsKCJQcm9taXNlIixmdW5jdGlvbihhKXtmdW5jdGlvbiBiKCl7dGhpcy5iYXRjaF89bnVsbH1mdW5jdGlvbiBjKGspe3JldHVybiBrIGluc3RhbmNlb2YgZj9rOm5ldyBmKGZ1bmN0aW9uKGgpe2goayl9KX1pZihhJiYoISgkanNjb21wLkZPUkNFX1BPTFlGSUxMX1BST01JU0V8fCRqc2NvbXAuRk9SQ0VfUE9MWUZJTExfUFJPTUlTRV9XSEVOX05PX1VOSEFORExFRF9SRUpFQ1RJT04mJiJ1bmRlZmluZWQiPT09dHlwZW9mICRqc2NvbXAuZ2xvYmFsLlByb21pc2VSZWplY3Rpb25FdmVudCl8fCEkanNjb21wLmdsb2JhbC5Qcm9taXNlfHwtMT09PSRqc2NvbXAuZ2xvYmFsLlByb21pc2UudG9TdHJpbmcoKS5pbmRleE9mKCJbbmF0aXZlIGNvZGVdIikpKXJldHVybiBhO2IucHJvdG90eXBlLmFzeW5jRXhlY3V0ZT1mdW5jdGlvbihrKXtpZihudWxsPT10aGlzLmJhdGNoXyl7dGhpcy5iYXRjaF89W107dmFyIGg9dGhpczt0aGlzLmFzeW5jRXhlY3V0ZUZ1bmN0aW9uKGZ1bmN0aW9uKCl7aC5leGVjdXRlQmF0Y2hfKCl9KX10aGlzLmJhdGNoXy5wdXNoKGspfTsKdmFyIGQ9JGpzY29tcC5nbG9iYWwuc2V0VGltZW91dDtiLnByb3RvdHlwZS5hc3luY0V4ZWN1dGVGdW5jdGlvbj1mdW5jdGlvbihrKXtkKGssMCl9O2IucHJvdG90eXBlLmV4ZWN1dGVCYXRjaF89ZnVuY3Rpb24oKXtmb3IoO3RoaXMuYmF0Y2hfJiZ0aGlzLmJhdGNoXy5sZW5ndGg7KXt2YXIgaz10aGlzLmJhdGNoXzt0aGlzLmJhdGNoXz1bXTtmb3IodmFyIGg9MDtoPGsubGVuZ3RoOysraCl7dmFyIGw9a1toXTtrW2hdPW51bGw7dHJ5e2woKX1jYXRjaChtKXt0aGlzLmFzeW5jVGhyb3dfKG0pfX19dGhpcy5iYXRjaF89bnVsbH07Yi5wcm90b3R5cGUuYXN5bmNUaHJvd189ZnVuY3Rpb24oayl7dGhpcy5hc3luY0V4ZWN1dGVGdW5jdGlvbihmdW5jdGlvbigpe3Rocm93IGs7fSl9O3ZhciBlPXtQRU5ESU5HOjAsRlVMRklMTEVEOjEsUkVKRUNURUQ6Mn0sZj1mdW5jdGlvbihrKXt0aGlzLnN0YXRlXz1lLlBFTkRJTkc7dGhpcy5yZXN1bHRfPXZvaWQgMDt0aGlzLm9uU2V0dGxlZENhbGxiYWNrc189CltdO3RoaXMuaXNSZWplY3Rpb25IYW5kbGVkXz0hMTt2YXIgaD10aGlzLmNyZWF0ZVJlc29sdmVBbmRSZWplY3RfKCk7dHJ5e2soaC5yZXNvbHZlLGgucmVqZWN0KX1jYXRjaChsKXtoLnJlamVjdChsKX19O2YucHJvdG90eXBlLmNyZWF0ZVJlc29sdmVBbmRSZWplY3RfPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gayhtKXtyZXR1cm4gZnVuY3Rpb24obil7bHx8KGw9ITAsbS5jYWxsKGgsbikpfX12YXIgaD10aGlzLGw9ITE7cmV0dXJue3Jlc29sdmU6ayh0aGlzLnJlc29sdmVUb18pLHJlamVjdDprKHRoaXMucmVqZWN0Xyl9fTtmLnByb3RvdHlwZS5yZXNvbHZlVG9fPWZ1bmN0aW9uKGspe2lmKGs9PT10aGlzKXRoaXMucmVqZWN0XyhuZXcgVHlwZUVycm9yKCJBIFByb21pc2UgY2Fubm90IHJlc29sdmUgdG8gaXRzZWxmIikpO2Vsc2UgaWYoayBpbnN0YW5jZW9mIGYpdGhpcy5zZXR0bGVTYW1lQXNQcm9taXNlXyhrKTtlbHNle2E6c3dpdGNoKHR5cGVvZiBrKXtjYXNlICJvYmplY3QiOnZhciBoPQpudWxsIT1rO2JyZWFrIGE7Y2FzZSAiZnVuY3Rpb24iOmg9ITA7YnJlYWsgYTtkZWZhdWx0Omg9ITF9aD90aGlzLnJlc29sdmVUb05vblByb21pc2VPYmpfKGspOnRoaXMuZnVsZmlsbF8oayl9fTtmLnByb3RvdHlwZS5yZXNvbHZlVG9Ob25Qcm9taXNlT2JqXz1mdW5jdGlvbihrKXt2YXIgaD12b2lkIDA7dHJ5e2g9ay50aGVufWNhdGNoKGwpe3RoaXMucmVqZWN0XyhsKTtyZXR1cm59ImZ1bmN0aW9uIj09dHlwZW9mIGg/dGhpcy5zZXR0bGVTYW1lQXNUaGVuYWJsZV8oaCxrKTp0aGlzLmZ1bGZpbGxfKGspfTtmLnByb3RvdHlwZS5yZWplY3RfPWZ1bmN0aW9uKGspe3RoaXMuc2V0dGxlXyhlLlJFSkVDVEVELGspfTtmLnByb3RvdHlwZS5mdWxmaWxsXz1mdW5jdGlvbihrKXt0aGlzLnNldHRsZV8oZS5GVUxGSUxMRUQsayl9O2YucHJvdG90eXBlLnNldHRsZV89ZnVuY3Rpb24oayxoKXtpZih0aGlzLnN0YXRlXyE9ZS5QRU5ESU5HKXRocm93IEVycm9yKCJDYW5ub3Qgc2V0dGxlKCIraysKIiwgIitoKyIpOiBQcm9taXNlIGFscmVhZHkgc2V0dGxlZCBpbiBzdGF0ZSIrdGhpcy5zdGF0ZV8pO3RoaXMuc3RhdGVfPWs7dGhpcy5yZXN1bHRfPWg7dGhpcy5zdGF0ZV89PT1lLlJFSkVDVEVEJiZ0aGlzLnNjaGVkdWxlVW5oYW5kbGVkUmVqZWN0aW9uQ2hlY2tfKCk7dGhpcy5leGVjdXRlT25TZXR0bGVkQ2FsbGJhY2tzXygpfTtmLnByb3RvdHlwZS5zY2hlZHVsZVVuaGFuZGxlZFJlamVjdGlvbkNoZWNrXz1mdW5jdGlvbigpe3ZhciBrPXRoaXM7ZChmdW5jdGlvbigpe2lmKGsubm90aWZ5VW5oYW5kbGVkUmVqZWN0aW9uXygpKXt2YXIgaD0kanNjb21wLmdsb2JhbC5jb25zb2xlOyJ1bmRlZmluZWQiIT09dHlwZW9mIGgmJmguZXJyb3Ioay5yZXN1bHRfKX19LDEpfTtmLnByb3RvdHlwZS5ub3RpZnlVbmhhbmRsZWRSZWplY3Rpb25fPWZ1bmN0aW9uKCl7aWYodGhpcy5pc1JlamVjdGlvbkhhbmRsZWRfKXJldHVybiExO3ZhciBrPSRqc2NvbXAuZ2xvYmFsLkN1c3RvbUV2ZW50LGg9CiRqc2NvbXAuZ2xvYmFsLkV2ZW50LGw9JGpzY29tcC5nbG9iYWwuZGlzcGF0Y2hFdmVudDtpZigidW5kZWZpbmVkIj09PXR5cGVvZiBsKXJldHVybiEwOyJmdW5jdGlvbiI9PT10eXBlb2Ygaz9rPW5ldyBrKCJ1bmhhbmRsZWRyZWplY3Rpb24iLHtjYW5jZWxhYmxlOiEwfSk6ImZ1bmN0aW9uIj09PXR5cGVvZiBoP2s9bmV3IGgoInVuaGFuZGxlZHJlamVjdGlvbiIse2NhbmNlbGFibGU6ITB9KTooaz0kanNjb21wLmdsb2JhbC5kb2N1bWVudC5jcmVhdGVFdmVudCgiQ3VzdG9tRXZlbnQiKSxrLmluaXRDdXN0b21FdmVudCgidW5oYW5kbGVkcmVqZWN0aW9uIiwhMSwhMCxrKSk7ay5wcm9taXNlPXRoaXM7ay5yZWFzb249dGhpcy5yZXN1bHRfO3JldHVybiBsKGspfTtmLnByb3RvdHlwZS5leGVjdXRlT25TZXR0bGVkQ2FsbGJhY2tzXz1mdW5jdGlvbigpe2lmKG51bGwhPXRoaXMub25TZXR0bGVkQ2FsbGJhY2tzXyl7Zm9yKHZhciBrPTA7azx0aGlzLm9uU2V0dGxlZENhbGxiYWNrc18ubGVuZ3RoOysraylnLmFzeW5jRXhlY3V0ZSh0aGlzLm9uU2V0dGxlZENhbGxiYWNrc19ba10pOwp0aGlzLm9uU2V0dGxlZENhbGxiYWNrc189bnVsbH19O3ZhciBnPW5ldyBiO2YucHJvdG90eXBlLnNldHRsZVNhbWVBc1Byb21pc2VfPWZ1bmN0aW9uKGspe3ZhciBoPXRoaXMuY3JlYXRlUmVzb2x2ZUFuZFJlamVjdF8oKTtrLmNhbGxXaGVuU2V0dGxlZF8oaC5yZXNvbHZlLGgucmVqZWN0KX07Zi5wcm90b3R5cGUuc2V0dGxlU2FtZUFzVGhlbmFibGVfPWZ1bmN0aW9uKGssaCl7dmFyIGw9dGhpcy5jcmVhdGVSZXNvbHZlQW5kUmVqZWN0XygpO3RyeXtrLmNhbGwoaCxsLnJlc29sdmUsbC5yZWplY3QpfWNhdGNoKG0pe2wucmVqZWN0KG0pfX07Zi5wcm90b3R5cGUudGhlbj1mdW5jdGlvbihrLGgpe2Z1bmN0aW9uIGwocSx1KXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgcT9mdW5jdGlvbihyKXt0cnl7bShxKHIpKX1jYXRjaCh2KXtuKHYpfX06dX12YXIgbSxuLHA9bmV3IGYoZnVuY3Rpb24ocSx1KXttPXE7bj11fSk7dGhpcy5jYWxsV2hlblNldHRsZWRfKGwoayxtKSxsKGgsbikpO3JldHVybiBwfTsKZi5wcm90b3R5cGUuY2F0Y2g9ZnVuY3Rpb24oayl7cmV0dXJuIHRoaXMudGhlbih2b2lkIDAsayl9O2YucHJvdG90eXBlLmNhbGxXaGVuU2V0dGxlZF89ZnVuY3Rpb24oayxoKXtmdW5jdGlvbiBsKCl7c3dpdGNoKG0uc3RhdGVfKXtjYXNlIGUuRlVMRklMTEVEOmsobS5yZXN1bHRfKTticmVhaztjYXNlIGUuUkVKRUNURUQ6aChtLnJlc3VsdF8pO2JyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IoIlVuZXhwZWN0ZWQgc3RhdGU6ICIrbS5zdGF0ZV8pO319dmFyIG09dGhpcztudWxsPT10aGlzLm9uU2V0dGxlZENhbGxiYWNrc18/Zy5hc3luY0V4ZWN1dGUobCk6dGhpcy5vblNldHRsZWRDYWxsYmFja3NfLnB1c2gobCk7dGhpcy5pc1JlamVjdGlvbkhhbmRsZWRfPSEwfTtmLnJlc29sdmU9YztmLnJlamVjdD1mdW5jdGlvbihrKXtyZXR1cm4gbmV3IGYoZnVuY3Rpb24oaCxsKXtsKGspfSl9O2YucmFjZT1mdW5jdGlvbihrKXtyZXR1cm4gbmV3IGYoZnVuY3Rpb24oaCxsKXtmb3IodmFyIG09CiRqc2NvbXAubWFrZUl0ZXJhdG9yKGspLG49bS5uZXh0KCk7IW4uZG9uZTtuPW0ubmV4dCgpKWMobi52YWx1ZSkuY2FsbFdoZW5TZXR0bGVkXyhoLGwpfSl9O2YuYWxsPWZ1bmN0aW9uKGspe3ZhciBoPSRqc2NvbXAubWFrZUl0ZXJhdG9yKGspLGw9aC5uZXh0KCk7cmV0dXJuIGwuZG9uZT9jKFtdKTpuZXcgZihmdW5jdGlvbihtLG4pe2Z1bmN0aW9uIHAocil7cmV0dXJuIGZ1bmN0aW9uKHYpe3Fbcl09djt1LS07MD09dSYmbShxKX19dmFyIHE9W10sdT0wO2RvIHEucHVzaCh2b2lkIDApLHUrKyxjKGwudmFsdWUpLmNhbGxXaGVuU2V0dGxlZF8ocChxLmxlbmd0aC0xKSxuKSxsPWgubmV4dCgpO3doaWxlKCFsLmRvbmUpfSl9O3JldHVybiBmfSwiZXM2IiwiZXMzIik7JGpzY29tcC5wb2x5ZmlsbCgiT2JqZWN0LnNldFByb3RvdHlwZU9mIixmdW5jdGlvbihhKXtyZXR1cm4gYXx8JGpzY29tcC5zZXRQcm90b3R5cGVPZn0sImVzNiIsImVzNSIpOwokanNjb21wLmNoZWNrU3RyaW5nQXJncz1mdW5jdGlvbihhLGIsYyl7aWYobnVsbD09YSl0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGUgJ3RoaXMnIHZhbHVlIGZvciBTdHJpbmcucHJvdG90eXBlLiIrYysiIG11c3Qgbm90IGJlIG51bGwgb3IgdW5kZWZpbmVkIik7aWYoYiBpbnN0YW5jZW9mIFJlZ0V4cCl0aHJvdyBuZXcgVHlwZUVycm9yKCJGaXJzdCBhcmd1bWVudCB0byBTdHJpbmcucHJvdG90eXBlLiIrYysiIG11c3Qgbm90IGJlIGEgcmVndWxhciBleHByZXNzaW9uIik7cmV0dXJuIGErIiJ9OwokanNjb21wLnBvbHlmaWxsKCJTdHJpbmcucHJvdG90eXBlLnN0YXJ0c1dpdGgiLGZ1bmN0aW9uKGEpe3JldHVybiBhP2E6YT1mdW5jdGlvbihiLGMpe3ZhciBkPSRqc2NvbXAuY2hlY2tTdHJpbmdBcmdzKHRoaXMsYiwic3RhcnRzV2l0aCIpO2IrPSIiO3ZhciBlPWQubGVuZ3RoLGY9Yi5sZW5ndGg7Yz1NYXRoLm1heCgwLE1hdGgubWluKGN8MCxkLmxlbmd0aCkpO2Zvcih2YXIgZz0wO2c8ZiYmYzxlOylpZihkW2MrK10hPWJbZysrXSlyZXR1cm4hMTtyZXR1cm4gZz49Zn19LCJlczYiLCJlczMiKTskanNjb21wLnBvbHlmaWxsKCJPYmplY3QuZW50cmllcyIsZnVuY3Rpb24oYSl7cmV0dXJuIGE/YTphPWZ1bmN0aW9uKGIpe3ZhciBjPVtdLGQ7Zm9yKGQgaW4gYikkanNjb21wLm93bnMoYixkKSYmYy5wdXNoKFtkLGJbZF1dKTtyZXR1cm4gY319LCJlczgiLCJlczMiKTsKJGpzY29tcC5jaGVja0VzNkNvbmZvcm1hbmNlVmlhUHJveHk9ZnVuY3Rpb24oKXt0cnl7dmFyIGE9e30sYj1PYmplY3QuY3JlYXRlKG5ldyAkanNjb21wLmdsb2JhbC5Qcm94eShhLHtnZXQ6ZnVuY3Rpb24oYyxkLGUpe3JldHVybiBjPT1hJiYicSI9PWQmJmU9PWJ9fSkpO3JldHVybiEwPT09Yi5xfWNhdGNoKGMpe3JldHVybiExfX07JGpzY29tcC5VU0VfUFJPWFlfRk9SX0VTNl9DT05GT1JNQU5DRV9DSEVDS1M9ITE7JGpzY29tcC5FUzZfQ09ORk9STUFOQ0U9JGpzY29tcC5VU0VfUFJPWFlfRk9SX0VTNl9DT05GT1JNQU5DRV9DSEVDS1MmJiRqc2NvbXAuY2hlY2tFczZDb25mb3JtYW5jZVZpYVByb3h5KCk7CiRqc2NvbXAucG9seWZpbGwoIldlYWtNYXAiLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoKXtpZighYXx8IU9iamVjdC5zZWFsKXJldHVybiExO3RyeXt2YXIgbD1PYmplY3Quc2VhbCh7fSksbT1PYmplY3Quc2VhbCh7fSksbj1uZXcgYShbW2wsMl0sW20sM11dKTtpZigyIT1uLmdldChsKXx8MyE9bi5nZXQobSkpcmV0dXJuITE7bi5kZWxldGUobCk7bi5zZXQobSw0KTtyZXR1cm4hbi5oYXMobCkmJjQ9PW4uZ2V0KG0pfWNhdGNoKHApe3JldHVybiExfX1mdW5jdGlvbiBjKCl7fWZ1bmN0aW9uIGQobCl7dmFyIG09dHlwZW9mIGw7cmV0dXJuIm9iamVjdCI9PT1tJiZudWxsIT09bHx8ImZ1bmN0aW9uIj09PW19ZnVuY3Rpb24gZShsKXtpZighJGpzY29tcC5vd25zKGwsZykpe3ZhciBtPW5ldyBjOyRqc2NvbXAuZGVmaW5lUHJvcGVydHkobCxnLHt2YWx1ZTptfSl9fWZ1bmN0aW9uIGYobCl7aWYoISRqc2NvbXAuSVNPTEFURV9QT0xZRklMTFMpe3ZhciBtPU9iamVjdFtsXTttJiYoT2JqZWN0W2xdPQpmdW5jdGlvbihuKXtpZihuIGluc3RhbmNlb2YgYylyZXR1cm4gbjtPYmplY3QuaXNFeHRlbnNpYmxlKG4pJiZlKG4pO3JldHVybiBtKG4pfSl9fWlmKCRqc2NvbXAuVVNFX1BST1hZX0ZPUl9FUzZfQ09ORk9STUFOQ0VfQ0hFQ0tTKXtpZihhJiYkanNjb21wLkVTNl9DT05GT1JNQU5DRSlyZXR1cm4gYX1lbHNlIGlmKGIoKSlyZXR1cm4gYTt2YXIgZz0iJGpzY29tcF9oaWRkZW5fIitNYXRoLnJhbmRvbSgpO2YoImZyZWV6ZSIpO2YoInByZXZlbnRFeHRlbnNpb25zIik7Zigic2VhbCIpO3ZhciBrPTAsaD1mdW5jdGlvbihsKXt0aGlzLmlkXz0oays9TWF0aC5yYW5kb20oKSsxKS50b1N0cmluZygpO2lmKGwpe2w9JGpzY29tcC5tYWtlSXRlcmF0b3IobCk7Zm9yKHZhciBtOyEobT1sLm5leHQoKSkuZG9uZTspbT1tLnZhbHVlLHRoaXMuc2V0KG1bMF0sbVsxXSl9fTtoLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24obCxtKXtpZighZChsKSl0aHJvdyBFcnJvcigiSW52YWxpZCBXZWFrTWFwIGtleSIpOwplKGwpO2lmKCEkanNjb21wLm93bnMobCxnKSl0aHJvdyBFcnJvcigiV2Vha01hcCBrZXkgZmFpbDogIitsKTtsW2ddW3RoaXMuaWRfXT1tO3JldHVybiB0aGlzfTtoLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24obCl7cmV0dXJuIGQobCkmJiRqc2NvbXAub3ducyhsLGcpP2xbZ11bdGhpcy5pZF9dOnZvaWQgMH07aC5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKGwpe3JldHVybiBkKGwpJiYkanNjb21wLm93bnMobCxnKSYmJGpzY29tcC5vd25zKGxbZ10sdGhpcy5pZF8pfTtoLnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24obCl7cmV0dXJuIGQobCkmJiRqc2NvbXAub3ducyhsLGcpJiYkanNjb21wLm93bnMobFtnXSx0aGlzLmlkXyk/ZGVsZXRlIGxbZ11bdGhpcy5pZF9dOiExfTtyZXR1cm4gaH0sImVzNiIsImVzMyIpOyRqc2NvbXAuTWFwRW50cnk9ZnVuY3Rpb24oKXt9OwokanNjb21wLnBvbHlmaWxsKCJNYXAiLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoKXtpZigkanNjb21wLkFTU1VNRV9OT19OQVRJVkVfTUFQfHwhYXx8ImZ1bmN0aW9uIiE9dHlwZW9mIGF8fCFhLnByb3RvdHlwZS5lbnRyaWVzfHwiZnVuY3Rpb24iIT10eXBlb2YgT2JqZWN0LnNlYWwpcmV0dXJuITE7dHJ5e3ZhciBoPU9iamVjdC5zZWFsKHt4OjR9KSxsPW5ldyBhKCRqc2NvbXAubWFrZUl0ZXJhdG9yKFtbaCwicyJdXSkpO2lmKCJzIiE9bC5nZXQoaCl8fDEhPWwuc2l6ZXx8bC5nZXQoe3g6NH0pfHxsLnNldCh7eDo0fSwidCIpIT1sfHwyIT1sLnNpemUpcmV0dXJuITE7dmFyIG09bC5lbnRyaWVzKCksbj1tLm5leHQoKTtpZihuLmRvbmV8fG4udmFsdWVbMF0hPWh8fCJzIiE9bi52YWx1ZVsxXSlyZXR1cm4hMTtuPW0ubmV4dCgpO3JldHVybiBuLmRvbmV8fDQhPW4udmFsdWVbMF0ueHx8InQiIT1uLnZhbHVlWzFdfHwhbS5uZXh0KCkuZG9uZT8hMTohMH1jYXRjaChwKXtyZXR1cm4hMX19CmlmKCRqc2NvbXAuVVNFX1BST1hZX0ZPUl9FUzZfQ09ORk9STUFOQ0VfQ0hFQ0tTKXtpZihhJiYkanNjb21wLkVTNl9DT05GT1JNQU5DRSlyZXR1cm4gYX1lbHNlIGlmKGIoKSlyZXR1cm4gYTt2YXIgYz1uZXcgV2Vha01hcCxkPWZ1bmN0aW9uKGgpe3RoaXMuZGF0YV89e307dGhpcy5oZWFkXz1nKCk7dGhpcy5zaXplPTA7aWYoaCl7aD0kanNjb21wLm1ha2VJdGVyYXRvcihoKTtmb3IodmFyIGw7IShsPWgubmV4dCgpKS5kb25lOylsPWwudmFsdWUsdGhpcy5zZXQobFswXSxsWzFdKX19O2QucHJvdG90eXBlLnNldD1mdW5jdGlvbihoLGwpe2g9MD09PWg/MDpoO3ZhciBtPWUodGhpcyxoKTttLmxpc3R8fChtLmxpc3Q9dGhpcy5kYXRhX1ttLmlkXT1bXSk7bS5lbnRyeT9tLmVudHJ5LnZhbHVlPWw6KG0uZW50cnk9e25leHQ6dGhpcy5oZWFkXyxwcmV2aW91czp0aGlzLmhlYWRfLnByZXZpb3VzLGhlYWQ6dGhpcy5oZWFkXyxrZXk6aCx2YWx1ZTpsfSxtLmxpc3QucHVzaChtLmVudHJ5KSwKdGhpcy5oZWFkXy5wcmV2aW91cy5uZXh0PW0uZW50cnksdGhpcy5oZWFkXy5wcmV2aW91cz1tLmVudHJ5LHRoaXMuc2l6ZSsrKTtyZXR1cm4gdGhpc307ZC5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKGgpe2g9ZSh0aGlzLGgpO3JldHVybiBoLmVudHJ5JiZoLmxpc3Q/KGgubGlzdC5zcGxpY2UoaC5pbmRleCwxKSxoLmxpc3QubGVuZ3RofHxkZWxldGUgdGhpcy5kYXRhX1toLmlkXSxoLmVudHJ5LnByZXZpb3VzLm5leHQ9aC5lbnRyeS5uZXh0LGguZW50cnkubmV4dC5wcmV2aW91cz1oLmVudHJ5LnByZXZpb3VzLGguZW50cnkuaGVhZD1udWxsLHRoaXMuc2l6ZS0tLCEwKTohMX07ZC5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLmRhdGFfPXt9O3RoaXMuaGVhZF89dGhpcy5oZWFkXy5wcmV2aW91cz1nKCk7dGhpcy5zaXplPTB9O2QucHJvdG90eXBlLmhhcz1mdW5jdGlvbihoKXtyZXR1cm4hIWUodGhpcyxoKS5lbnRyeX07ZC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGgpe3JldHVybihoPQplKHRoaXMsaCkuZW50cnkpJiZoLnZhbHVlfTtkLnByb3RvdHlwZS5lbnRyaWVzPWZ1bmN0aW9uKCl7cmV0dXJuIGYodGhpcyxmdW5jdGlvbihoKXtyZXR1cm5baC5rZXksaC52YWx1ZV19KX07ZC5wcm90b3R5cGUua2V5cz1mdW5jdGlvbigpe3JldHVybiBmKHRoaXMsZnVuY3Rpb24oaCl7cmV0dXJuIGgua2V5fSl9O2QucHJvdG90eXBlLnZhbHVlcz1mdW5jdGlvbigpe3JldHVybiBmKHRoaXMsZnVuY3Rpb24oaCl7cmV0dXJuIGgudmFsdWV9KX07ZC5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbihoLGwpe2Zvcih2YXIgbT10aGlzLmVudHJpZXMoKSxuOyEobj1tLm5leHQoKSkuZG9uZTspbj1uLnZhbHVlLGguY2FsbChsLG5bMV0sblswXSx0aGlzKX07ZC5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXT1kLnByb3RvdHlwZS5lbnRyaWVzO3ZhciBlPWZ1bmN0aW9uKGgsbCl7dmFyIG07dmFyIG49KG09bCkmJnR5cGVvZiBtOyJvYmplY3QiPT1ufHwiZnVuY3Rpb24iPT1uP2MuaGFzKG0pPwptPWMuZ2V0KG0pOihuPSIiKyArK2ssYy5zZXQobSxuKSxtPW4pOm09InBfIittO2lmKChuPWguZGF0YV9bbV0pJiYkanNjb21wLm93bnMoaC5kYXRhXyxtKSlmb3IoaD0wO2g8bi5sZW5ndGg7aCsrKXt2YXIgcD1uW2hdO2lmKGwhPT1sJiZwLmtleSE9PXAua2V5fHxsPT09cC5rZXkpcmV0dXJue2lkOm0sbGlzdDpuLGluZGV4OmgsZW50cnk6cH19cmV0dXJue2lkOm0sbGlzdDpuLGluZGV4Oi0xLGVudHJ5OnZvaWQgMH19LGY9ZnVuY3Rpb24oaCxsKXt2YXIgbT1oLmhlYWRfO3JldHVybiAkanNjb21wLml0ZXJhdG9yUHJvdG90eXBlKGZ1bmN0aW9uKCl7aWYobSl7Zm9yKDttLmhlYWQhPWguaGVhZF87KW09bS5wcmV2aW91cztmb3IoO20ubmV4dCE9bS5oZWFkOylyZXR1cm4gbT1tLm5leHQse2RvbmU6ITEsdmFsdWU6bChtKX07bT1udWxsfXJldHVybntkb25lOiEwLHZhbHVlOnZvaWQgMH19KX0sZz1mdW5jdGlvbigpe3ZhciBoPXt9O3JldHVybiBoLnByZXZpb3VzPWgubmV4dD1oLmhlYWQ9Cmh9LGs9MDtyZXR1cm4gZH0sImVzNiIsImVzMyIpOyRqc2NvbXAuaXRlcmF0b3JGcm9tQXJyYXk9ZnVuY3Rpb24oYSxiKXthIGluc3RhbmNlb2YgU3RyaW5nJiYoYSs9IiIpO3ZhciBjPTAsZD0hMSxlPXtuZXh0OmZ1bmN0aW9uKCl7aWYoIWQmJmM8YS5sZW5ndGgpe3ZhciBmPWMrKztyZXR1cm57dmFsdWU6YihmLGFbZl0pLGRvbmU6ITF9fWQ9ITA7cmV0dXJue2RvbmU6ITAsdmFsdWU6dm9pZCAwfX19O2VbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiBlfTtyZXR1cm4gZX07JGpzY29tcC5wb2x5ZmlsbCgiQXJyYXkucHJvdG90eXBlLmtleXMiLGZ1bmN0aW9uKGEpe3JldHVybiBhP2E6YT1mdW5jdGlvbigpe3JldHVybiAkanNjb21wLml0ZXJhdG9yRnJvbUFycmF5KHRoaXMsZnVuY3Rpb24oYil7cmV0dXJuIGJ9KX19LCJlczYiLCJlczMiKTsKJGpzY29tcC5wb2x5ZmlsbCgiQXJyYXkucHJvdG90eXBlLnZhbHVlcyIsZnVuY3Rpb24oYSl7cmV0dXJuIGE/YTphPWZ1bmN0aW9uKCl7cmV0dXJuICRqc2NvbXAuaXRlcmF0b3JGcm9tQXJyYXkodGhpcyxmdW5jdGlvbihiLGMpe3JldHVybiBjfSl9fSwiZXM4IiwiZXMzIik7JGpzY29tcC5wb2x5ZmlsbCgiTnVtYmVyLmlzRmluaXRlIixmdW5jdGlvbihhKXtyZXR1cm4gYT9hOmE9ZnVuY3Rpb24oYil7cmV0dXJuIm51bWJlciIhPT10eXBlb2YgYj8hMTohaXNOYU4oYikmJkluZmluaXR5IT09YiYmLUluZmluaXR5IT09Yn19LCJlczYiLCJlczMiKTsKJGpzY29tcC5wb2x5ZmlsbCgiU2V0IixmdW5jdGlvbihhKXtmdW5jdGlvbiBiKCl7aWYoJGpzY29tcC5BU1NVTUVfTk9fTkFUSVZFX1NFVHx8IWF8fCJmdW5jdGlvbiIhPXR5cGVvZiBhfHwhYS5wcm90b3R5cGUuZW50cmllc3x8ImZ1bmN0aW9uIiE9dHlwZW9mIE9iamVjdC5zZWFsKXJldHVybiExO3RyeXt2YXIgZD1PYmplY3Quc2VhbCh7eDo0fSksZT1uZXcgYSgkanNjb21wLm1ha2VJdGVyYXRvcihbZF0pKTtpZighZS5oYXMoZCl8fDEhPWUuc2l6ZXx8ZS5hZGQoZCkhPWV8fDEhPWUuc2l6ZXx8ZS5hZGQoe3g6NH0pIT1lfHwyIT1lLnNpemUpcmV0dXJuITE7dmFyIGY9ZS5lbnRyaWVzKCksZz1mLm5leHQoKTtpZihnLmRvbmV8fGcudmFsdWVbMF0hPWR8fGcudmFsdWVbMV0hPWQpcmV0dXJuITE7Zz1mLm5leHQoKTtyZXR1cm4gZy5kb25lfHxnLnZhbHVlWzBdPT1kfHw0IT1nLnZhbHVlWzBdLnh8fGcudmFsdWVbMV0hPWcudmFsdWVbMF0/ITE6Zi5uZXh0KCkuZG9uZX1jYXRjaChrKXtyZXR1cm4hMX19CmlmKCRqc2NvbXAuVVNFX1BST1hZX0ZPUl9FUzZfQ09ORk9STUFOQ0VfQ0hFQ0tTKXtpZihhJiYkanNjb21wLkVTNl9DT05GT1JNQU5DRSlyZXR1cm4gYX1lbHNlIGlmKGIoKSlyZXR1cm4gYTt2YXIgYz1mdW5jdGlvbihkKXt0aGlzLm1hcF89bmV3IE1hcDtpZihkKXtkPSRqc2NvbXAubWFrZUl0ZXJhdG9yKGQpO2Zvcih2YXIgZTshKGU9ZC5uZXh0KCkpLmRvbmU7KWU9ZS52YWx1ZSx0aGlzLmFkZChlKX10aGlzLnNpemU9dGhpcy5tYXBfLnNpemV9O2MucHJvdG90eXBlLmFkZD1mdW5jdGlvbihkKXtkPTA9PT1kPzA6ZDt0aGlzLm1hcF8uc2V0KGQsZCk7dGhpcy5zaXplPXRoaXMubWFwXy5zaXplO3JldHVybiB0aGlzfTtjLnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24oZCl7ZD10aGlzLm1hcF8uZGVsZXRlKGQpO3RoaXMuc2l6ZT10aGlzLm1hcF8uc2l6ZTtyZXR1cm4gZH07Yy5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLm1hcF8uY2xlYXIoKTt0aGlzLnNpemU9MH07Yy5wcm90b3R5cGUuaGFzPQpmdW5jdGlvbihkKXtyZXR1cm4gdGhpcy5tYXBfLmhhcyhkKX07Yy5wcm90b3R5cGUuZW50cmllcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcF8uZW50cmllcygpfTtjLnByb3RvdHlwZS52YWx1ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXBfLnZhbHVlcygpfTtjLnByb3RvdHlwZS5rZXlzPWMucHJvdG90eXBlLnZhbHVlcztjLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdPWMucHJvdG90eXBlLnZhbHVlcztjLnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKGQsZSl7dmFyIGY9dGhpczt0aGlzLm1hcF8uZm9yRWFjaChmdW5jdGlvbihnKXtyZXR1cm4gZC5jYWxsKGUsZyxnLGYpfSl9O3JldHVybiBjfSwiZXM2IiwiZXMzIik7CiRqc2NvbXAuZmluZEludGVybmFsPWZ1bmN0aW9uKGEsYixjKXthIGluc3RhbmNlb2YgU3RyaW5nJiYoYT1TdHJpbmcoYSkpO2Zvcih2YXIgZD1hLmxlbmd0aCxlPTA7ZTxkO2UrKyl7dmFyIGY9YVtlXTtpZihiLmNhbGwoYyxmLGUsYSkpcmV0dXJue2k6ZSx2OmZ9fXJldHVybntpOi0xLHY6dm9pZCAwfX07JGpzY29tcC5wb2x5ZmlsbCgiQXJyYXkucHJvdG90eXBlLmZpbmRJbmRleCIsZnVuY3Rpb24oYSl7cmV0dXJuIGE/YTphPWZ1bmN0aW9uKGIsYyl7cmV0dXJuICRqc2NvbXAuZmluZEludGVybmFsKHRoaXMsYixjKS5pfX0sImVzNiIsImVzMyIpOyRqc2NvbXAucG9seWZpbGwoIk9iamVjdC5pcyIsZnVuY3Rpb24oYSl7cmV0dXJuIGE/YTphPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGI9PT1jPzAhPT1ifHwxL2I9PT0xL2M6YiE9PWImJmMhPT1jfX0sImVzNiIsImVzMyIpOwokanNjb21wLnBvbHlmaWxsKCJBcnJheS5wcm90b3R5cGUuaW5jbHVkZXMiLGZ1bmN0aW9uKGEpe3JldHVybiBhP2E6YT1mdW5jdGlvbihiLGMpe3ZhciBkPXRoaXM7ZCBpbnN0YW5jZW9mIFN0cmluZyYmKGQ9U3RyaW5nKGQpKTt2YXIgZT1kLmxlbmd0aDtjPWN8fDA7Zm9yKDA+YyYmKGM9TWF0aC5tYXgoYytlLDApKTtjPGU7YysrKXt2YXIgZj1kW2NdO2lmKGY9PT1ifHxPYmplY3QuaXMoZixiKSlyZXR1cm4hMH1yZXR1cm4hMX19LCJlczciLCJlczMiKTskanNjb21wLnBvbHlmaWxsKCJTdHJpbmcucHJvdG90eXBlLmluY2x1ZGVzIixmdW5jdGlvbihhKXtyZXR1cm4gYT9hOmE9ZnVuY3Rpb24oYixjKXt2YXIgZD0kanNjb21wLmNoZWNrU3RyaW5nQXJncyh0aGlzLGIsImluY2x1ZGVzIik7cmV0dXJuLTEhPT1kLmluZGV4T2YoYixjfHwwKX19LCJlczYiLCJlczMiKTsKJGpzY29tcC5wb2x5ZmlsbCgiU3RyaW5nLnByb3RvdHlwZS5lbmRzV2l0aCIsZnVuY3Rpb24oYSl7cmV0dXJuIGE/YTphPWZ1bmN0aW9uKGIsYyl7dmFyIGQ9JGpzY29tcC5jaGVja1N0cmluZ0FyZ3ModGhpcyxiLCJlbmRzV2l0aCIpO2IrPSIiO3ZvaWQgMD09PWMmJihjPWQubGVuZ3RoKTtjPU1hdGgubWF4KDAsTWF0aC5taW4oY3wwLGQubGVuZ3RoKSk7Zm9yKHZhciBlPWIubGVuZ3RoOzA8ZSYmMDxjOylpZihkWy0tY10hPWJbLS1lXSlyZXR1cm4hMTtyZXR1cm4gMD49ZX19LCJlczYiLCJlczMiKTt2YXIgZ29vZz1nb29nfHx7fTtnb29nLmdsb2JhbD10aGlzfHxzZWxmOwpnb29nLmV4cG9ydFBhdGhfPWZ1bmN0aW9uKGEsYixjLGQpe2E9YS5zcGxpdCgiLiIpO2Q9ZHx8Z29vZy5nbG9iYWw7YVswXWluIGR8fCJ1bmRlZmluZWQiPT10eXBlb2YgZC5leGVjU2NyaXB0fHxkLmV4ZWNTY3JpcHQoInZhciAiK2FbMF0pO2Zvcih2YXIgZTthLmxlbmd0aCYmKGU9YS5zaGlmdCgpKTspaWYoYS5sZW5ndGh8fHZvaWQgMD09PWIpZD1kW2VdJiZkW2VdIT09T2JqZWN0LnByb3RvdHlwZVtlXT9kW2VdOmRbZV09e307ZWxzZSBpZighYyYmZ29vZy5pc09iamVjdChiKSYmZ29vZy5pc09iamVjdChkW2VdKSlmb3IodmFyIGYgaW4gYiliLmhhc093blByb3BlcnR5KGYpJiYoZFtlXVtmXT1iW2ZdKTtlbHNlIGRbZV09Yn07Z29vZy5kZWZpbmU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT1ifTtnb29nLkZFQVRVUkVTRVRfWUVBUj0yMDEyO2dvb2cuREVCVUc9ITA7Z29vZy5MT0NBTEU9ImVuIjtnb29nLmdldExvY2FsZT1mdW5jdGlvbigpe3JldHVybiJlbiJ9Owpnb29nLlRSVVNURURfU0lURT0hMDtnb29nLkRJU0FMTE9XX1RFU1RfT05MWV9DT0RFPSFnb29nLkRFQlVHO2dvb2cuRU5BQkxFX0NIUk9NRV9BUFBfU0FGRV9TQ1JJUFRfTE9BRElORz0hMTtnb29nLnByb3ZpZGU9ZnVuY3Rpb24oYSl7aWYoZ29vZy5pc0luTW9kdWxlTG9hZGVyXygpKXRocm93IEVycm9yKCJnb29nLnByb3ZpZGUgY2Fubm90IGJlIHVzZWQgd2l0aGluIGEgbW9kdWxlLiIpO2dvb2cuY29uc3RydWN0TmFtZXNwYWNlXyhhKX07Z29vZy5jb25zdHJ1Y3ROYW1lc3BhY2VfPWZ1bmN0aW9uKGEsYixjKXtnb29nLmV4cG9ydFBhdGhfKGEsYixjKX07Z29vZy5OT05DRV9QQVRURVJOXz0vXltcdysvXy1dK1s9XXswLDJ9JC87Cmdvb2cuZ2V0U2NyaXB0Tm9uY2VfPWZ1bmN0aW9uKGEpe2E9KGF8fGdvb2cuZ2xvYmFsKS5kb2N1bWVudDtyZXR1cm4oYT1hLnF1ZXJ5U2VsZWN0b3ImJmEucXVlcnlTZWxlY3Rvcigic2NyaXB0W25vbmNlXSIpKSYmKGE9YS5ub25jZXx8YS5nZXRBdHRyaWJ1dGUoIm5vbmNlIikpJiZnb29nLk5PTkNFX1BBVFRFUk5fLnRlc3QoYSk/YToiIn07Z29vZy5WQUxJRF9NT0RVTEVfUkVfPS9eW2EtekEtWl8kXVthLXpBLVowLTkuXyRdKiQvOwpnb29nLm1vZHVsZT1mdW5jdGlvbihhKXtpZigic3RyaW5nIiE9PXR5cGVvZiBhfHwhYXx8LTE9PWEuc2VhcmNoKGdvb2cuVkFMSURfTU9EVUxFX1JFXykpdGhyb3cgRXJyb3IoIkludmFsaWQgbW9kdWxlIGlkZW50aWZpZXIiKTtpZighZ29vZy5pc0luR29vZ01vZHVsZUxvYWRlcl8oKSl0aHJvdyBFcnJvcigiTW9kdWxlICIrYSsiIGhhcyBiZWVuIGxvYWRlZCBpbmNvcnJlY3RseS4gTm90ZSwgbW9kdWxlcyBjYW5ub3QgYmUgbG9hZGVkIGFzIG5vcm1hbCBzY3JpcHRzLiBUaGV5IHJlcXVpcmUgc29tZSBraW5kIG9mIHByZS1wcm9jZXNzaW5nIHN0ZXAuIFlvdSdyZSBsaWtlbHkgdHJ5aW5nIHRvIGxvYWQgYSBtb2R1bGUgdmlhIGEgc2NyaXB0IHRhZyBvciBhcyBhIHBhcnQgb2YgYSBjb25jYXRlbmF0ZWQgYnVuZGxlIHdpdGhvdXQgcmV3cml0aW5nIHRoZSBtb2R1bGUuIEZvciBtb3JlIGluZm8gc2VlOiBodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Nsb3N1cmUtbGlicmFyeS93aWtpL2dvb2cubW9kdWxlOi1hbi1FUzYtbW9kdWxlLWxpa2UtYWx0ZXJuYXRpdmUtdG8tZ29vZy5wcm92aWRlLiIpO2lmKGdvb2cubW9kdWxlTG9hZGVyU3RhdGVfLm1vZHVsZU5hbWUpdGhyb3cgRXJyb3IoImdvb2cubW9kdWxlIG1heSBvbmx5IGJlIGNhbGxlZCBvbmNlIHBlciBtb2R1bGUuIik7Cmdvb2cubW9kdWxlTG9hZGVyU3RhdGVfLm1vZHVsZU5hbWU9YX07Z29vZy5tb2R1bGUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9O2dvb2cubW9kdWxlLmdldEludGVybmFsXz1mdW5jdGlvbigpe3JldHVybiBudWxsfTtnb29nLk1vZHVsZVR5cGU9e0VTNjoiZXM2IixHT09HOiJnb29nIn07Z29vZy5tb2R1bGVMb2FkZXJTdGF0ZV89bnVsbDtnb29nLmlzSW5Nb2R1bGVMb2FkZXJfPWZ1bmN0aW9uKCl7cmV0dXJuIGdvb2cuaXNJbkdvb2dNb2R1bGVMb2FkZXJfKCl8fGdvb2cuaXNJbkVzNk1vZHVsZUxvYWRlcl8oKX07Z29vZy5pc0luR29vZ01vZHVsZUxvYWRlcl89ZnVuY3Rpb24oKXtyZXR1cm4hIWdvb2cubW9kdWxlTG9hZGVyU3RhdGVfJiZnb29nLm1vZHVsZUxvYWRlclN0YXRlXy50eXBlPT1nb29nLk1vZHVsZVR5cGUuR09PR307Cmdvb2cuaXNJbkVzNk1vZHVsZUxvYWRlcl89ZnVuY3Rpb24oKXt2YXIgYT0hIWdvb2cubW9kdWxlTG9hZGVyU3RhdGVfJiZnb29nLm1vZHVsZUxvYWRlclN0YXRlXy50eXBlPT1nb29nLk1vZHVsZVR5cGUuRVM2O3JldHVybiBhPyEwOihhPWdvb2cuZ2xvYmFsLiRqc2NvbXApPyJmdW5jdGlvbiIhPXR5cGVvZiBhLmdldEN1cnJlbnRNb2R1bGVQYXRoPyExOiEhYS5nZXRDdXJyZW50TW9kdWxlUGF0aCgpOiExfTtnb29nLm1vZHVsZS5kZWNsYXJlTGVnYWN5TmFtZXNwYWNlPWZ1bmN0aW9uKCl7Z29vZy5tb2R1bGVMb2FkZXJTdGF0ZV8uZGVjbGFyZUxlZ2FjeU5hbWVzcGFjZT0hMH07Cmdvb2cuZGVjbGFyZU1vZHVsZUlkPWZ1bmN0aW9uKGEpe2lmKGdvb2cubW9kdWxlTG9hZGVyU3RhdGVfKWdvb2cubW9kdWxlTG9hZGVyU3RhdGVfLm1vZHVsZU5hbWU9YTtlbHNle3ZhciBiPWdvb2cuZ2xvYmFsLiRqc2NvbXA7aWYoIWJ8fCJmdW5jdGlvbiIhPXR5cGVvZiBiLmdldEN1cnJlbnRNb2R1bGVQYXRoKXRocm93IEVycm9yKCdNb2R1bGUgd2l0aCBuYW1lc3BhY2UgIicrYSsnIiBoYXMgYmVlbiBsb2FkZWQgaW5jb3JyZWN0bHkuJyk7Yj1iLnJlcXVpcmUoYi5nZXRDdXJyZW50TW9kdWxlUGF0aCgpKTtnb29nLmxvYWRlZE1vZHVsZXNfW2FdPXtleHBvcnRzOmIsdHlwZTpnb29nLk1vZHVsZVR5cGUuRVM2LG1vZHVsZUlkOmF9fX07Cmdvb2cuc2V0VGVzdE9ubHk9ZnVuY3Rpb24oYSl7aWYoZ29vZy5ESVNBTExPV19URVNUX09OTFlfQ09ERSl0aHJvdyBhPWF8fCIiLEVycm9yKCJJbXBvcnRpbmcgdGVzdC1vbmx5IGNvZGUgaW50byBub24tZGVidWcgZW52aXJvbm1lbnQiKyhhPyI6ICIrYToiLiIpKTt9O2dvb2cuZm9yd2FyZERlY2xhcmU9ZnVuY3Rpb24oKXt9O2dvb2cuZ2V0T2JqZWN0QnlOYW1lPWZ1bmN0aW9uKGEsYil7YT1hLnNwbGl0KCIuIik7Yj1ifHxnb29nLmdsb2JhbDtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKylpZihiPWJbYVtjXV0sbnVsbD09YilyZXR1cm4gbnVsbDtyZXR1cm4gYn07Z29vZy5hZGREZXBlbmRlbmN5PWZ1bmN0aW9uKCl7fTtnb29nLkVOQUJMRV9ERUJVR19MT0FERVI9ITA7Z29vZy5sb2dUb0NvbnNvbGVfPWZ1bmN0aW9uKGEpe2dvb2cuZ2xvYmFsLmNvbnNvbGUmJmdvb2cuZ2xvYmFsLmNvbnNvbGUuZXJyb3IoYSl9O2dvb2cucmVxdWlyZT1mdW5jdGlvbigpe307Cmdvb2cucmVxdWlyZVR5cGU9ZnVuY3Rpb24oKXtyZXR1cm57fX07Z29vZy5iYXNlUGF0aD0iIjtnb29nLmFic3RyYWN0TWV0aG9kPWZ1bmN0aW9uKCl7dGhyb3cgRXJyb3IoInVuaW1wbGVtZW50ZWQgYWJzdHJhY3QgbWV0aG9kIik7fTtnb29nLmFkZFNpbmdsZXRvbkdldHRlcj1mdW5jdGlvbihhKXthLmluc3RhbmNlXz12b2lkIDA7YS5nZXRJbnN0YW5jZT1mdW5jdGlvbigpe2lmKGEuaW5zdGFuY2VfKXJldHVybiBhLmluc3RhbmNlXztnb29nLkRFQlVHJiYoZ29vZy5pbnN0YW50aWF0ZWRTaW5nbGV0b25zX1tnb29nLmluc3RhbnRpYXRlZFNpbmdsZXRvbnNfLmxlbmd0aF09YSk7cmV0dXJuIGEuaW5zdGFuY2VfPW5ldyBhfX07Z29vZy5pbnN0YW50aWF0ZWRTaW5nbGV0b25zXz1bXTtnb29nLkxPQURfTU9EVUxFX1VTSU5HX0VWQUw9ITA7Z29vZy5TRUFMX01PRFVMRV9FWFBPUlRTPWdvb2cuREVCVUc7Z29vZy5sb2FkZWRNb2R1bGVzXz17fTsKZ29vZy5ERVBFTkRFTkNJRVNfRU5BQkxFRD0hMTtnb29nLlRSQU5TUElMRT0iZGV0ZWN0Ijtnb29nLkFTU1VNRV9FU19NT0RVTEVTX1RSQU5TUElMRUQ9ITE7Z29vZy5UUkFOU1BJTEVfVE9fTEFOR1VBR0U9IiI7Z29vZy5UUkFOU1BJTEVSPSJ0cmFuc3BpbGUuanMiO2dvb2cuVFJVU1RFRF9UWVBFU19QT0xJQ1lfTkFNRT0iZ29vZyI7Z29vZy5oYXNCYWRMZXRTY29waW5nPW51bGw7Cmdvb2cubG9hZE1vZHVsZT1mdW5jdGlvbihhKXt2YXIgYj1nb29nLm1vZHVsZUxvYWRlclN0YXRlXzt0cnl7Z29vZy5tb2R1bGVMb2FkZXJTdGF0ZV89e21vZHVsZU5hbWU6IiIsZGVjbGFyZUxlZ2FjeU5hbWVzcGFjZTohMSx0eXBlOmdvb2cuTW9kdWxlVHlwZS5HT09HfTt2YXIgYz17fSxkPWM7aWYoImZ1bmN0aW9uIj09PXR5cGVvZiBhKWQ9YS5jYWxsKHZvaWQgMCxkKTtlbHNlIGlmKCJzdHJpbmciPT09dHlwZW9mIGEpZD1nb29nLmxvYWRNb2R1bGVGcm9tU291cmNlXy5jYWxsKHZvaWQgMCxkLGEpO2Vsc2UgdGhyb3cgRXJyb3IoIkludmFsaWQgbW9kdWxlIGRlZmluaXRpb24iKTt2YXIgZT1nb29nLm1vZHVsZUxvYWRlclN0YXRlXy5tb2R1bGVOYW1lO2lmKCJzdHJpbmciPT09dHlwZW9mIGUmJmUpe2dvb2cubW9kdWxlTG9hZGVyU3RhdGVfLmRlY2xhcmVMZWdhY3lOYW1lc3BhY2U/KGE9YyE9PWQsZ29vZy5jb25zdHJ1Y3ROYW1lc3BhY2VfKGUsZCxhKSk6Z29vZy5TRUFMX01PRFVMRV9FWFBPUlRTJiYKT2JqZWN0LnNlYWwmJiJvYmplY3QiPT10eXBlb2YgZCYmbnVsbCE9ZCYmT2JqZWN0LnNlYWwoZCk7dmFyIGY9e2V4cG9ydHM6ZCx0eXBlOmdvb2cuTW9kdWxlVHlwZS5HT09HLG1vZHVsZUlkOmdvb2cubW9kdWxlTG9hZGVyU3RhdGVfLm1vZHVsZU5hbWV9O2dvb2cubG9hZGVkTW9kdWxlc19bZV09Zn1lbHNlIHRocm93IEVycm9yKCdJbnZhbGlkIG1vZHVsZSBuYW1lICInK2UrJyInKTt9ZmluYWxseXtnb29nLm1vZHVsZUxvYWRlclN0YXRlXz1ifX07Z29vZy5sb2FkTW9kdWxlRnJvbVNvdXJjZV89ZnVuY3Rpb24oYSxiKXtldmFsKGdvb2cuQ0xPU1VSRV9FVkFMX1BSRUZJTFRFUl8uY3JlYXRlU2NyaXB0KGIpKTtyZXR1cm4gYX07Cmdvb2cubm9ybWFsaXplUGF0aF89ZnVuY3Rpb24oYSl7YT1hLnNwbGl0KCIvIik7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDspIi4iPT1hW2JdP2Euc3BsaWNlKGIsMSk6YiYmIi4uIj09YVtiXSYmYVtiLTFdJiYiLi4iIT1hW2ItMV0/YS5zcGxpY2UoLS1iLDIpOmIrKztyZXR1cm4gYS5qb2luKCIvIil9O2dvb2cubG9hZEZpbGVTeW5jXz1mdW5jdGlvbihhKXtpZihnb29nLmdsb2JhbC5DTE9TVVJFX0xPQURfRklMRV9TWU5DKXJldHVybiBnb29nLmdsb2JhbC5DTE9TVVJFX0xPQURfRklMRV9TWU5DKGEpO3RyeXt2YXIgYj1uZXcgZ29vZy5nbG9iYWwuWE1MSHR0cFJlcXVlc3Q7Yi5vcGVuKCJnZXQiLGEsITEpO2Iuc2VuZCgpO3JldHVybiAwPT1iLnN0YXR1c3x8MjAwPT1iLnN0YXR1cz9iLnJlc3BvbnNlVGV4dDpudWxsfWNhdGNoKGMpe3JldHVybiBudWxsfX07Cmdvb2cudHJhbnNwaWxlXz1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9Z29vZy5nbG9iYWwuJGpzY29tcDtkfHwoZ29vZy5nbG9iYWwuJGpzY29tcD1kPXt9KTt2YXIgZT1kLnRyYW5zcGlsZTtpZighZSl7dmFyIGY9Z29vZy5iYXNlUGF0aCtnb29nLlRSQU5TUElMRVIsZz1nb29nLmxvYWRGaWxlU3luY18oZik7aWYoZyl7KGZ1bmN0aW9uKCl7KDAsZXZhbCkoZysiXG4vLyMgc291cmNlVVJMPSIrZil9KS5jYWxsKGdvb2cuZ2xvYmFsKTtpZihnb29nLmdsb2JhbC4kZ3d0RXhwb3J0JiZnb29nLmdsb2JhbC4kZ3d0RXhwb3J0LiRqc2NvbXAmJiFnb29nLmdsb2JhbC4kZ3d0RXhwb3J0LiRqc2NvbXAudHJhbnNwaWxlKXRocm93IEVycm9yKCdUaGUgdHJhbnNwaWxlciBkaWQgbm90IHByb3Blcmx5IGV4cG9ydCB0aGUgInRyYW5zcGlsZSIgbWV0aG9kLiAkZ3d0RXhwb3J0OiAnK0pTT04uc3RyaW5naWZ5KGdvb2cuZ2xvYmFsLiRnd3RFeHBvcnQpKTtnb29nLmdsb2JhbC4kanNjb21wLnRyYW5zcGlsZT0KZ29vZy5nbG9iYWwuJGd3dEV4cG9ydC4kanNjb21wLnRyYW5zcGlsZTtkPWdvb2cuZ2xvYmFsLiRqc2NvbXA7ZT1kLnRyYW5zcGlsZX19aWYoIWUpe3ZhciBrPSIgcmVxdWlyZXMgdHJhbnNwaWxhdGlvbiBidXQgbm8gdHJhbnNwaWxlciB3YXMgZm91bmQuIjtrKz0nIFBsZWFzZSBhZGQgIi8vamF2YXNjcmlwdC9jbG9zdXJlOnRyYW5zcGlsZXIiIGFzIGEgZGF0YSBkZXBlbmRlbmN5IHRvIGVuc3VyZSBpdCBpcyBpbmNsdWRlZC4nO2U9ZC50cmFuc3BpbGU9ZnVuY3Rpb24oaCxsKXtnb29nLmxvZ1RvQ29uc29sZV8obCtrKTtyZXR1cm4gaH19cmV0dXJuIGUoYSxiLGMpfTtnb29nLnR5cGVPZj1mdW5jdGlvbihhKXt2YXIgYj10eXBlb2YgYTtyZXR1cm4ib2JqZWN0IiE9Yj9iOmE/QXJyYXkuaXNBcnJheShhKT8iYXJyYXkiOmI6Im51bGwifTsKZ29vZy5pc0FycmF5TGlrZT1mdW5jdGlvbihhKXt2YXIgYj1nb29nLnR5cGVPZihhKTtyZXR1cm4iYXJyYXkiPT1ifHwib2JqZWN0Ij09YiYmIm51bWJlciI9PXR5cGVvZiBhLmxlbmd0aH07Z29vZy5pc0RhdGVMaWtlPWZ1bmN0aW9uKGEpe3JldHVybiBnb29nLmlzT2JqZWN0KGEpJiYiZnVuY3Rpb24iPT10eXBlb2YgYS5nZXRGdWxsWWVhcn07Z29vZy5pc09iamVjdD1mdW5jdGlvbihhKXt2YXIgYj10eXBlb2YgYTtyZXR1cm4ib2JqZWN0Ij09YiYmbnVsbCE9YXx8ImZ1bmN0aW9uIj09Yn07Z29vZy5nZXRVaWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhLGdvb2cuVUlEX1BST1BFUlRZXykmJmFbZ29vZy5VSURfUFJPUEVSVFlfXXx8KGFbZ29vZy5VSURfUFJPUEVSVFlfXT0rK2dvb2cudWlkQ291bnRlcl8pfTtnb29nLmhhc1VpZD1mdW5jdGlvbihhKXtyZXR1cm4hIWFbZ29vZy5VSURfUFJPUEVSVFlfXX07Cmdvb2cucmVtb3ZlVWlkPWZ1bmN0aW9uKGEpe251bGwhPT1hJiYicmVtb3ZlQXR0cmlidXRlImluIGEmJmEucmVtb3ZlQXR0cmlidXRlKGdvb2cuVUlEX1BST1BFUlRZXyk7dHJ5e2RlbGV0ZSBhW2dvb2cuVUlEX1BST1BFUlRZX119Y2F0Y2goYil7fX07Z29vZy5VSURfUFJPUEVSVFlfPSJjbG9zdXJlX3VpZF8iKygxRTkqTWF0aC5yYW5kb20oKT4+PjApO2dvb2cudWlkQ291bnRlcl89MDsKZ29vZy5jbG9uZU9iamVjdD1mdW5jdGlvbihhKXt2YXIgYj1nb29nLnR5cGVPZihhKTtpZigib2JqZWN0Ij09Ynx8ImFycmF5Ij09Yil7aWYoImZ1bmN0aW9uIj09PXR5cGVvZiBhLmNsb25lKXJldHVybiBhLmNsb25lKCk7aWYoInVuZGVmaW5lZCIhPT10eXBlb2YgTWFwJiZhIGluc3RhbmNlb2YgTWFwKXJldHVybiBuZXcgTWFwKGEpO2lmKCJ1bmRlZmluZWQiIT09dHlwZW9mIFNldCYmYSBpbnN0YW5jZW9mIFNldClyZXR1cm4gbmV3IFNldChhKTtiPSJhcnJheSI9PWI/W106e307Zm9yKHZhciBjIGluIGEpYltjXT1nb29nLmNsb25lT2JqZWN0KGFbY10pO3JldHVybiBifXJldHVybiBhfTtnb29nLmJpbmROYXRpdmVfPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYS5jYWxsLmFwcGx5KGEuYmluZCxhcmd1bWVudHMpfTsKZ29vZy5iaW5kSnNfPWZ1bmN0aW9uKGEsYixjKXtpZighYSl0aHJvdyBFcnJvcigpO2lmKDI8YXJndW1lbnRzLmxlbmd0aCl7dmFyIGQ9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpO3JldHVybiBmdW5jdGlvbigpe3ZhciBlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7QXJyYXkucHJvdG90eXBlLnVuc2hpZnQuYXBwbHkoZSxkKTtyZXR1cm4gYS5hcHBseShiLGUpfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYS5hcHBseShiLGFyZ3VtZW50cyl9fTtnb29nLmJpbmQ9ZnVuY3Rpb24oYSxiLGMpe0Z1bmN0aW9uLnByb3RvdHlwZS5iaW5kJiYtMSE9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQudG9TdHJpbmcoKS5pbmRleE9mKCJuYXRpdmUgY29kZSIpP2dvb2cuYmluZD1nb29nLmJpbmROYXRpdmVfOmdvb2cuYmluZD1nb29nLmJpbmRKc187cmV0dXJuIGdvb2cuYmluZC5hcHBseShudWxsLGFyZ3VtZW50cyl9Owpnb29nLnBhcnRpYWw9ZnVuY3Rpb24oYSxiKXt2YXIgYz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGQ9Yy5zbGljZSgpO2QucHVzaC5hcHBseShkLGFyZ3VtZW50cyk7cmV0dXJuIGEuYXBwbHkodGhpcyxkKX19O2dvb2cubm93PWZ1bmN0aW9uKCl7cmV0dXJuIERhdGUubm93KCl9O2dvb2cuZ2xvYmFsRXZhbD1mdW5jdGlvbihhKXsoMCxldmFsKShhKX07Cmdvb2cuZ2V0Q3NzTmFtZT1mdW5jdGlvbihhLGIpe2lmKCIuIj09U3RyaW5nKGEpLmNoYXJBdCgwKSl0aHJvdyBFcnJvcignY2xhc3NOYW1lIHBhc3NlZCBpbiBnb29nLmdldENzc05hbWUgbXVzdCBub3Qgc3RhcnQgd2l0aCAiLiIuIFlvdSBwYXNzZWQ6ICcrYSk7dmFyIGM9ZnVuY3Rpb24oZSl7cmV0dXJuIGdvb2cuY3NzTmFtZU1hcHBpbmdfW2VdfHxlfSxkPWZ1bmN0aW9uKGUpe2U9ZS5zcGxpdCgiLSIpO2Zvcih2YXIgZj1bXSxnPTA7ZzxlLmxlbmd0aDtnKyspZi5wdXNoKGMoZVtnXSkpO3JldHVybiBmLmpvaW4oIi0iKX07ZD1nb29nLmNzc05hbWVNYXBwaW5nXz8iQllfV0hPTEUiPT1nb29nLmNzc05hbWVNYXBwaW5nU3R5bGVfP2M6ZDpmdW5jdGlvbihlKXtyZXR1cm4gZX07YT1iP2ErIi0iK2QoYik6ZChhKTtyZXR1cm4gZ29vZy5nbG9iYWwuQ0xPU1VSRV9DU1NfTkFNRV9NQVBfRk4/Z29vZy5nbG9iYWwuQ0xPU1VSRV9DU1NfTkFNRV9NQVBfRk4oYSk6YX07Cmdvb2cuc2V0Q3NzTmFtZU1hcHBpbmc9ZnVuY3Rpb24oYSxiKXtnb29nLmNzc05hbWVNYXBwaW5nXz1hO2dvb2cuY3NzTmFtZU1hcHBpbmdTdHlsZV89Yn07Z29vZy5HZXRNc2dPcHRpb25zPWZ1bmN0aW9uKCl7fTtnb29nLmdldE1zZz1mdW5jdGlvbihhLGIsYyl7YyYmYy5odG1sJiYoYT1hLnJlcGxhY2UoLzwvZywiJmx0OyIpKTtjJiZjLnVuZXNjYXBlSHRtbEVudGl0aWVzJiYoYT1hLnJlcGxhY2UoLyZsdDsvZywiPCIpLnJlcGxhY2UoLyZndDsvZywiPiIpLnJlcGxhY2UoLyZhcG9zOy9nLCInIikucmVwbGFjZSgvJnF1b3Q7L2csJyInKS5yZXBsYWNlKC8mYW1wOy9nLCImIikpO2ImJihhPWEucmVwbGFjZSgvXHtcJChbXn1dKyl9L2csZnVuY3Rpb24oZCxlKXtyZXR1cm4gbnVsbCE9YiYmZSBpbiBiP2JbZV06ZH0pKTtyZXR1cm4gYX07Z29vZy5nZXRNc2dXaXRoRmFsbGJhY2s9ZnVuY3Rpb24oYSl7cmV0dXJuIGF9Owpnb29nLmV4cG9ydFN5bWJvbD1mdW5jdGlvbihhLGIsYyl7Z29vZy5leHBvcnRQYXRoXyhhLGIsITAsYyl9O2dvb2cuZXhwb3J0UHJvcGVydHk9ZnVuY3Rpb24oYSxiLGMpe2FbYl09Y307Z29vZy5pbmhlcml0cz1mdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoKXt9Yy5wcm90b3R5cGU9Yi5wcm90b3R5cGU7YS5zdXBlckNsYXNzXz1iLnByb3RvdHlwZTthLnByb3RvdHlwZT1uZXcgYzthLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1hO2EuYmFzZT1mdW5jdGlvbihkLGUsZil7Zm9yKHZhciBnPUFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMiksaz0yO2s8YXJndW1lbnRzLmxlbmd0aDtrKyspZ1trLTJdPWFyZ3VtZW50c1trXTtyZXR1cm4gYi5wcm90b3R5cGVbZV0uYXBwbHkoZCxnKX19O2dvb2cuc2NvcGU9ZnVuY3Rpb24oYSl7aWYoZ29vZy5pc0luTW9kdWxlTG9hZGVyXygpKXRocm93IEVycm9yKCJnb29nLnNjb3BlIGlzIG5vdCBzdXBwb3J0ZWQgd2l0aGluIGEgbW9kdWxlLiIpO2EuY2FsbChnb29nLmdsb2JhbCl9Owpnb29nLmRlZmluZUNsYXNzPWZ1bmN0aW9uKGEsYil7dmFyIGM9Yi5jb25zdHJ1Y3RvcixkPWIuc3RhdGljcztjJiZjIT1PYmplY3QucHJvdG90eXBlLmNvbnN0cnVjdG9yfHwoYz1mdW5jdGlvbigpe3Rocm93IEVycm9yKCJjYW5ub3QgaW5zdGFudGlhdGUgYW4gaW50ZXJmYWNlIChubyBjb25zdHJ1Y3RvciBkZWZpbmVkKS4iKTt9KTtjPWdvb2cuZGVmaW5lQ2xhc3MuY3JlYXRlU2VhbGluZ0NvbnN0cnVjdG9yXyhjLGEpO2EmJmdvb2cuaW5oZXJpdHMoYyxhKTtkZWxldGUgYi5jb25zdHJ1Y3RvcjtkZWxldGUgYi5zdGF0aWNzO2dvb2cuZGVmaW5lQ2xhc3MuYXBwbHlQcm9wZXJ0aWVzXyhjLnByb3RvdHlwZSxiKTtudWxsIT1kJiYoZCBpbnN0YW5jZW9mIEZ1bmN0aW9uP2QoYyk6Z29vZy5kZWZpbmVDbGFzcy5hcHBseVByb3BlcnRpZXNfKGMsZCkpO3JldHVybiBjfTtnb29nLmRlZmluZUNsYXNzLlNFQUxfQ0xBU1NfSU5TVEFOQ0VTPWdvb2cuREVCVUc7Cmdvb2cuZGVmaW5lQ2xhc3MuY3JlYXRlU2VhbGluZ0NvbnN0cnVjdG9yXz1mdW5jdGlvbihhKXtpZighZ29vZy5kZWZpbmVDbGFzcy5TRUFMX0NMQVNTX0lOU1RBTkNFUylyZXR1cm4gYTt2YXIgYj1mdW5jdGlvbigpe3ZhciBjPWEuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO2NbZ29vZy5VSURfUFJPUEVSVFlfXT1jW2dvb2cuVUlEX1BST1BFUlRZX107cmV0dXJuIGN9O3JldHVybiBifTtnb29nLmRlZmluZUNsYXNzLk9CSkVDVF9QUk9UT1RZUEVfRklFTERTXz0iY29uc3RydWN0b3IgaGFzT3duUHJvcGVydHkgaXNQcm90b3R5cGVPZiBwcm9wZXJ0eUlzRW51bWVyYWJsZSB0b0xvY2FsZVN0cmluZyB0b1N0cmluZyB2YWx1ZU9mIi5zcGxpdCgiICIpOwpnb29nLmRlZmluZUNsYXNzLmFwcGx5UHJvcGVydGllc189ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMgaW4gYilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYixjKSYmKGFbY109YltjXSk7Zm9yKHZhciBkPTA7ZDxnb29nLmRlZmluZUNsYXNzLk9CSkVDVF9QUk9UT1RZUEVfRklFTERTXy5sZW5ndGg7ZCsrKWM9Z29vZy5kZWZpbmVDbGFzcy5PQkpFQ1RfUFJPVE9UWVBFX0ZJRUxEU19bZF0sT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsYykmJihhW2NdPWJbY10pfTtnb29nLmlkZW50aXR5Xz1mdW5jdGlvbihhKXtyZXR1cm4gYX07Cmdvb2cuY3JlYXRlVHJ1c3RlZFR5cGVzUG9saWN5PWZ1bmN0aW9uKGEpe3ZhciBiPW51bGwsYz1nb29nLmdsb2JhbC50cnVzdGVkVHlwZXM7aWYoIWN8fCFjLmNyZWF0ZVBvbGljeSlyZXR1cm4gYjt0cnl7Yj1jLmNyZWF0ZVBvbGljeShhLHtjcmVhdGVIVE1MOmdvb2cuaWRlbnRpdHlfLGNyZWF0ZVNjcmlwdDpnb29nLmlkZW50aXR5XyxjcmVhdGVTY3JpcHRVUkw6Z29vZy5pZGVudGl0eV99KX1jYXRjaChkKXtnb29nLmxvZ1RvQ29uc29sZV8oZC5tZXNzYWdlKX1yZXR1cm4gYn07dmFyIG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkY2xvdWQkc2lnbmFscyRzdGFja2RyaXZlciRtb25pdG9yaW5nJHNoYXJlZCRwcm90b19vYmplY3RzJGdvb2dsZSRtb25pdG9yaW5nJHYzJHRpbWVfc2VyaWVzJGluZGV4PXtTbG9TdGF0dXNUc3M6e0NPTVBMSUFOQ0U6InNlbGVjdF9zbG9fY29tcGxpYW5jZSIsSEVBTFRIOiJzZWxlY3Rfc2xvX2hlYWx0aCIsQlVER0VUOiJzZWxlY3Rfc2xvX2J1ZGdldCIsQlVER0VUX0ZSQUNUSU9OOiJzZWxlY3Rfc2xvX2J1ZGdldF9mcmFjdGlvbiJ9LFNsb0FsZXJ0VHNzOntSRUNFTlRfTE9TUzoic2VsZWN0X3Nsb19yZWNlbnRfbG9zcyIsQlVSTl9SQVRFOiJzZWxlY3Rfc2xvX2J1cm5fcmF0ZSJ9LFByb2Nlc3NIZWFsdGhUc3M6e1BST0NFU1NfQ09VTlQ6InNlbGVjdF9wcm9jZXNzX2NvdW50In0sUHJvY2Vzc0hlYWx0aFJlc291cmNlVHlwZTp7R2NlVm1JbnN0YW5jZToiZ2NlX2luc3RhbmNlIixFYzJWbUluc3RhbmNlOiJhd3NfZWMyX2luc3RhbmNlIn0sClByb2Nlc3NIZWFsdGhSZXNvdXJjZU1hdGNoVHlwZTp7QWxsOiJhbGwiLEdyb3VwOiJncm91cC5pZCIsU2luZ2xlOiJyZXNvdXJjZS5sYWJlbC5pbnN0YW5jZV9pZCJ9LFNFTEVDVF9QUk9DRVNTX0NPVU5UX1dJTERDQVJEUzoiKiBBTlkgQU5ZX1BST0NFU1MgQU5ZX0NPTU1BTkQgQU5ZX0NPTU1BTkRfTElORSBBTllfT1dORVIgQU5ZX1VTRVIiLnNwbGl0KCIgIiksU0VMRUNUX1BST0NFU1NfQ09VTlRfVVNFUl9GSUVMRFM6WyJ1c2VyIiwib3duZXIiLCJtZXRyaWMubGFiZWwudXNlciIsIm1ldHJpYy5sYWJlbC5vd25lciJdLFNFTEVDVF9QUk9DRVNTX0NPVU5UX0NPTU1BTkRMSU5FX0ZJRUxEUzpbImNvbW1hbmRfbGluZSIsIm1ldHJpYy5sYWJlbC5jb21tYW5kX2xpbmUiXSxTRUxFQ1RfUFJPQ0VTU19DT1VOVF9DT01NQU5EX0ZJRUxEUzpbImNvbW1hbmQiLCJtZXRyaWMubGFiZWwuY29tbWFuZCJdLE1hdGNoVHlwZTp7RXF1YWxzOiJleGFjdCIsQ29udGFpbnM6Imhhc19zdWJzdHJpbmciLApTdGFydHNXaXRoOiJzdGFydHNfd2l0aCIsRW5kc1dpdGg6ImVuZHNfd2l0aCIsUmVnZXg6Im1vbml0b3JpbmcucmVnZXguZnVsbF9tYXRjaCIsQW55OiJhbnkifX07ZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkY2xvdWQkc2lnbmFscyRzdGFja2RyaXZlciRtb25pdG9yaW5nJHNoYXJlZCRwcm90b19vYmplY3RzJGdvb2dsZSRtb25pdG9yaW5nJHYzJHRpbWVfc2VyaWVzJGluZGV4X1Byb2Nlc3NIZWFsdGhBcmdzKCl7fW1vZHVsZSRleHBvcnRzJGdvb2dsZTMkY2xvdWQkc2lnbmFscyRzdGFja2RyaXZlciRtb25pdG9yaW5nJHNoYXJlZCRwcm90b19vYmplY3RzJGdvb2dsZSRtb25pdG9yaW5nJHYzJHRpbWVfc2VyaWVzJGluZGV4LlByb2Nlc3NIZWFsdGhBcmdzPW1vZHVsZSRjb250ZW50cyRnb29nbGUzJGNsb3VkJHNpZ25hbHMkc3RhY2tkcml2ZXIkbW9uaXRvcmluZyRzaGFyZWQkcHJvdG9fb2JqZWN0cyRnb29nbGUkbW9uaXRvcmluZyR2MyR0aW1lX3NlcmllcyRpbmRleF9Qcm9jZXNzSGVhbHRoQXJnczsKZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkY2xvdWQkc2lnbmFscyRzdGFja2RyaXZlciRtb25pdG9yaW5nJHNoYXJlZCRwcm90b19vYmplY3RzJGdvb2dsZSRtb25pdG9yaW5nJHYzJHRpbWVfc2VyaWVzJGluZGV4X1Byb2Nlc3NDb3VudE1hdGNobGV0KCl7fW1vZHVsZSRleHBvcnRzJGdvb2dsZTMkY2xvdWQkc2lnbmFscyRzdGFja2RyaXZlciRtb25pdG9yaW5nJHNoYXJlZCRwcm90b19vYmplY3RzJGdvb2dsZSRtb25pdG9yaW5nJHYzJHRpbWVfc2VyaWVzJGluZGV4LlByb2Nlc3NDb3VudE1hdGNobGV0PW1vZHVsZSRjb250ZW50cyRnb29nbGUzJGNsb3VkJHNpZ25hbHMkc3RhY2tkcml2ZXIkbW9uaXRvcmluZyRzaGFyZWQkcHJvdG9fb2JqZWN0cyRnb29nbGUkbW9uaXRvcmluZyR2MyR0aW1lX3NlcmllcyRpbmRleF9Qcm9jZXNzQ291bnRNYXRjaGxldDsKZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkY2xvdWQkc2lnbmFscyRzdGFja2RyaXZlciRtb25pdG9yaW5nJHNoYXJlZCRwcm90b19vYmplY3RzJGdvb2dsZSRtb25pdG9yaW5nJHYzJHRpbWVfc2VyaWVzJGluZGV4X2dldFNsb0NvbXBsaWFuY2VBcmdzKGEpe2E9bW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkY2xvdWQkc2lnbmFscyRzdGFja2RyaXZlciRtb25pdG9yaW5nJHNoYXJlZCRwcm90b19vYmplY3RzJGdvb2dsZSRtb25pdG9yaW5nJHYzJHRpbWVfc2VyaWVzJGluZGV4X2dldFRzc0FyZ3VtZW50cyhhKTtpZihhLnRzc0Z1bmN0aW9uPT09bW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyRjbG91ZCRzaWduYWxzJHN0YWNrZHJpdmVyJG1vbml0b3Jpbmckc2hhcmVkJHByb3RvX29iamVjdHMkZ29vZ2xlJG1vbml0b3JpbmckdjMkdGltZV9zZXJpZXMkaW5kZXguU2xvU3RhdHVzVHNzLkNPTVBMSUFOQ0UpcmV0dXJue3NsbzphLmFyZ3NbMF19fQptb2R1bGUkZXhwb3J0cyRnb29nbGUzJGNsb3VkJHNpZ25hbHMkc3RhY2tkcml2ZXIkbW9uaXRvcmluZyRzaGFyZWQkcHJvdG9fb2JqZWN0cyRnb29nbGUkbW9uaXRvcmluZyR2MyR0aW1lX3NlcmllcyRpbmRleC5nZXRTbG9Db21wbGlhbmNlQXJncz1tb2R1bGUkY29udGVudHMkZ29vZ2xlMyRjbG91ZCRzaWduYWxzJHN0YWNrZHJpdmVyJG1vbml0b3Jpbmckc2hhcmVkJHByb3RvX29iamVjdHMkZ29vZ2xlJG1vbml0b3JpbmckdjMkdGltZV9zZXJpZXMkaW5kZXhfZ2V0U2xvQ29tcGxpYW5jZUFyZ3M7CmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nbGUzJGNsb3VkJHNpZ25hbHMkc3RhY2tkcml2ZXIkbW9uaXRvcmluZyRzaGFyZWQkcHJvdG9fb2JqZWN0cyRnb29nbGUkbW9uaXRvcmluZyR2MyR0aW1lX3NlcmllcyRpbmRleF9nZXRTbG9IZWFsdGhBcmdzKGEpe2E9bW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkY2xvdWQkc2lnbmFscyRzdGFja2RyaXZlciRtb25pdG9yaW5nJHNoYXJlZCRwcm90b19vYmplY3RzJGdvb2dsZSRtb25pdG9yaW5nJHYzJHRpbWVfc2VyaWVzJGluZGV4X2dldFRzc0FyZ3VtZW50cyhhKTtpZihhLnRzc0Z1bmN0aW9uPT09bW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyRjbG91ZCRzaWduYWxzJHN0YWNrZHJpdmVyJG1vbml0b3Jpbmckc2hhcmVkJHByb3RvX29iamVjdHMkZ29vZ2xlJG1vbml0b3JpbmckdjMkdGltZV9zZXJpZXMkaW5kZXguU2xvU3RhdHVzVHNzLkhFQUxUSClyZXR1cm57c2xvOmEuYXJnc1swXX19Cm1vZHVsZSRleHBvcnRzJGdvb2dsZTMkY2xvdWQkc2lnbmFscyRzdGFja2RyaXZlciRtb25pdG9yaW5nJHNoYXJlZCRwcm90b19vYmplY3RzJGdvb2dsZSRtb25pdG9yaW5nJHYzJHRpbWVfc2VyaWVzJGluZGV4LmdldFNsb0hlYWx0aEFyZ3M9bW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkY2xvdWQkc2lnbmFscyRzdGFja2RyaXZlciRtb25pdG9yaW5nJHNoYXJlZCRwcm90b19vYmplY3RzJGdvb2dsZSRtb25pdG9yaW5nJHYzJHRpbWVfc2VyaWVzJGluZGV4X2dldFNsb0hlYWx0aEFyZ3M7CmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nbGUzJGNsb3VkJHNpZ25hbHMkc3RhY2tkcml2ZXIkbW9uaXRvcmluZyRzaGFyZWQkcHJvdG9fb2JqZWN0cyRnb29nbGUkbW9uaXRvcmluZyR2MyR0aW1lX3NlcmllcyRpbmRleF9nZXRTbG9CdWRnZXRBcmdzKGEpe2E9bW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkY2xvdWQkc2lnbmFscyRzdGFja2RyaXZlciRtb25pdG9yaW5nJHNoYXJlZCRwcm90b19vYmplY3RzJGdvb2dsZSRtb25pdG9yaW5nJHYzJHRpbWVfc2VyaWVzJGluZGV4X2dldFRzc0FyZ3VtZW50cyhhKTtpZihhLnRzc0Z1bmN0aW9uPT09bW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyRjbG91ZCRzaWduYWxzJHN0YWNrZHJpdmVyJG1vbml0b3Jpbmckc2hhcmVkJHByb3RvX29iamVjdHMkZ29vZ2xlJG1vbml0b3JpbmckdjMkdGltZV9zZXJpZXMkaW5kZXguU2xvU3RhdHVzVHNzLkJVREdFVClyZXR1cm57c2xvOmEuYXJnc1swXX19Cm1vZHVsZSRleHBvcnRzJGdvb2dsZTMkY2xvdWQkc2lnbmFscyRzdGFja2RyaXZlciRtb25pdG9yaW5nJHNoYXJlZCRwcm90b19vYmplY3RzJGdvb2dsZSRtb25pdG9yaW5nJHYzJHRpbWVfc2VyaWVzJGluZGV4LmdldFNsb0J1ZGdldEFyZ3M9bW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkY2xvdWQkc2lnbmFscyRzdGFja2RyaXZlciRtb25pdG9yaW5nJHNoYXJlZCRwcm90b19vYmplY3RzJGdvb2dsZSRtb25pdG9yaW5nJHYzJHRpbWVfc2VyaWVzJGluZGV4X2dldFNsb0J1ZGdldEFyZ3M7CmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nbGUzJGNsb3VkJHNpZ25hbHMkc3RhY2tkcml2ZXIkbW9uaXRvcmluZyRzaGFyZWQkcHJvdG9fb2JqZWN0cyRnb29nbGUkbW9uaXRvcmluZyR2MyR0aW1lX3NlcmllcyRpbmRleF9nZXRTbG9CdWRnZXRGcmFjdGlvbkFyZ3MoYSl7YT1tb2R1bGUkY29udGVudHMkZ29vZ2xlMyRjbG91ZCRzaWduYWxzJHN0YWNrZHJpdmVyJG1vbml0b3Jpbmckc2hhcmVkJHByb3RvX29iamVjdHMkZ29vZ2xlJG1vbml0b3JpbmckdjMkdGltZV9zZXJpZXMkaW5kZXhfZ2V0VHNzQXJndW1lbnRzKGEpO2lmKGEudHNzRnVuY3Rpb249PT1tb2R1bGUkZXhwb3J0cyRnb29nbGUzJGNsb3VkJHNpZ25hbHMkc3RhY2tkcml2ZXIkbW9uaXRvcmluZyRzaGFyZWQkcHJvdG9fb2JqZWN0cyRnb29nbGUkbW9uaXRvcmluZyR2MyR0aW1lX3NlcmllcyRpbmRleC5TbG9TdGF0dXNUc3MuQlVER0VUX0ZSQUNUSU9OKXJldHVybntzbG86YS5hcmdzWzBdfX0KbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyRjbG91ZCRzaWduYWxzJHN0YWNrZHJpdmVyJG1vbml0b3Jpbmckc2hhcmVkJHByb3RvX29iamVjdHMkZ29vZ2xlJG1vbml0b3JpbmckdjMkdGltZV9zZXJpZXMkaW5kZXguZ2V0U2xvQnVkZ2V0RnJhY3Rpb25BcmdzPW1vZHVsZSRjb250ZW50cyRnb29nbGUzJGNsb3VkJHNpZ25hbHMkc3RhY2tkcml2ZXIkbW9uaXRvcmluZyRzaGFyZWQkcHJvdG9fb2JqZWN0cyRnb29nbGUkbW9uaXRvcmluZyR2MyR0aW1lX3NlcmllcyRpbmRleF9nZXRTbG9CdWRnZXRGcmFjdGlvbkFyZ3M7CmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nbGUzJGNsb3VkJHNpZ25hbHMkc3RhY2tkcml2ZXIkbW9uaXRvcmluZyRzaGFyZWQkcHJvdG9fb2JqZWN0cyRnb29nbGUkbW9uaXRvcmluZyR2MyR0aW1lX3NlcmllcyRpbmRleF9nZXRTbG9SZWNlbnRMb3NzQXJncyhhKXthPW1vZHVsZSRjb250ZW50cyRnb29nbGUzJGNsb3VkJHNpZ25hbHMkc3RhY2tkcml2ZXIkbW9uaXRvcmluZyRzaGFyZWQkcHJvdG9fb2JqZWN0cyRnb29nbGUkbW9uaXRvcmluZyR2MyR0aW1lX3NlcmllcyRpbmRleF9nZXRUc3NBcmd1bWVudHMoYSk7aWYoYS50c3NGdW5jdGlvbj09PW1vZHVsZSRleHBvcnRzJGdvb2dsZTMkY2xvdWQkc2lnbmFscyRzdGFja2RyaXZlciRtb25pdG9yaW5nJHNoYXJlZCRwcm90b19vYmplY3RzJGdvb2dsZSRtb25pdG9yaW5nJHYzJHRpbWVfc2VyaWVzJGluZGV4LlNsb0FsZXJ0VHNzLlJFQ0VOVF9MT1NTKXJldHVybntzbG86YS5hcmdzWzBdLGxvb2tiYWNrSW5NaW51dGVzOm1vZHVsZSRjb250ZW50cyRnb29nbGUzJGNsb3VkJHNpZ25hbHMkc3RhY2tkcml2ZXIkbW9uaXRvcmluZyRzaGFyZWQkcHJvdG9fb2JqZWN0cyRnb29nbGUkbW9uaXRvcmluZyR2MyR0aW1lX3NlcmllcyRpbmRleF9nb0R1cmF0aW9uVG9NaW51dGVzKGEuYXJnc1sxXSl9fQptb2R1bGUkZXhwb3J0cyRnb29nbGUzJGNsb3VkJHNpZ25hbHMkc3RhY2tkcml2ZXIkbW9uaXRvcmluZyRzaGFyZWQkcHJvdG9fb2JqZWN0cyRnb29nbGUkbW9uaXRvcmluZyR2MyR0aW1lX3NlcmllcyRpbmRleC5nZXRTbG9SZWNlbnRMb3NzQXJncz1tb2R1bGUkY29udGVudHMkZ29vZ2xlMyRjbG91ZCRzaWduYWxzJHN0YWNrZHJpdmVyJG1vbml0b3Jpbmckc2hhcmVkJHByb3RvX29iamVjdHMkZ29vZ2xlJG1vbml0b3JpbmckdjMkdGltZV9zZXJpZXMkaW5kZXhfZ2V0U2xvUmVjZW50TG9zc0FyZ3M7CmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nbGUzJGNsb3VkJHNpZ25hbHMkc3RhY2tkcml2ZXIkbW9uaXRvcmluZyRzaGFyZWQkcHJvdG9fb2JqZWN0cyRnb29nbGUkbW9uaXRvcmluZyR2MyR0aW1lX3NlcmllcyRpbmRleF9nZXRTbG9CdXJuUmF0ZUFyZ3MoYSl7YT1tb2R1bGUkY29udGVudHMkZ29vZ2xlMyRjbG91ZCRzaWduYWxzJHN0YWNrZHJpdmVyJG1vbml0b3Jpbmckc2hhcmVkJHByb3RvX29iamVjdHMkZ29vZ2xlJG1vbml0b3JpbmckdjMkdGltZV9zZXJpZXMkaW5kZXhfZ2V0VHNzQXJndW1lbnRzKGEpO2lmKGEudHNzRnVuY3Rpb249PT1tb2R1bGUkZXhwb3J0cyRnb29nbGUzJGNsb3VkJHNpZ25hbHMkc3RhY2tkcml2ZXIkbW9uaXRvcmluZyRzaGFyZWQkcHJvdG9fb2JqZWN0cyRnb29nbGUkbW9uaXRvcmluZyR2MyR0aW1lX3NlcmllcyRpbmRleC5TbG9BbGVydFRzcy5CVVJOX1JBVEUpcmV0dXJue3NsbzphLmFyZ3NbMF0sbG9va2JhY2tJbk1pbnV0ZXM6bW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkY2xvdWQkc2lnbmFscyRzdGFja2RyaXZlciRtb25pdG9yaW5nJHNoYXJlZCRwcm90b19vYmplY3RzJGdvb2dsZSRtb25pdG9yaW5nJHYzJHRpbWVfc2VyaWVzJGluZGV4X2dvRHVyYXRpb25Ub01pbnV0ZXMoYS5hcmdzWzFdKX19Cm1vZHVsZSRleHBvcnRzJGdvb2dsZTMkY2xvdWQkc2lnbmFscyRzdGFja2RyaXZlciRtb25pdG9yaW5nJHNoYXJlZCRwcm90b19vYmplY3RzJGdvb2dsZSRtb25pdG9yaW5nJHYzJHRpbWVfc2VyaWVzJGluZGV4LmdldFNsb0J1cm5SYXRlQXJncz1tb2R1bGUkY29udGVudHMkZ29vZ2xlMyRjbG91ZCRzaWduYWxzJHN0YWNrZHJpdmVyJG1vbml0b3Jpbmckc2hhcmVkJHByb3RvX29iamVjdHMkZ29vZ2xlJG1vbml0b3JpbmckdjMkdGltZV9zZXJpZXMkaW5kZXhfZ2V0U2xvQnVyblJhdGVBcmdzOwpmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZ2xlMyRjbG91ZCRzaWduYWxzJHN0YWNrZHJpdmVyJG1vbml0b3Jpbmckc2hhcmVkJHByb3RvX29iamVjdHMkZ29vZ2xlJG1vbml0b3JpbmckdjMkdGltZV9zZXJpZXMkaW5kZXhfZ2V0UHJvY2Vzc0hlYWx0aEFyZ3MoYSl7YT1tb2R1bGUkY29udGVudHMkZ29vZ2xlMyRjbG91ZCRzaWduYWxzJHN0YWNrZHJpdmVyJG1vbml0b3Jpbmckc2hhcmVkJHByb3RvX29iamVjdHMkZ29vZ2xlJG1vbml0b3JpbmckdjMkdGltZV9zZXJpZXMkaW5kZXhfZ2V0VHNzQXJndW1lbnRzKGEpO3ZhciBiPWEuYXJnczthPXt9O2lmKGJbMF0pe3ZhciBjPW1vZHVsZSRjb250ZW50cyRnb29nbGUzJGNsb3VkJHNpZ25hbHMkc3RhY2tkcml2ZXIkbW9uaXRvcmluZyRzaGFyZWQkcHJvdG9fb2JqZWN0cyRnb29nbGUkbW9uaXRvcmluZyR2MyR0aW1lX3NlcmllcyRpbmRleF9nZXRNYXRjaGxldChiWzBdKTtpZihjKXt2YXIgZD1jO2M9ZC5wYXJhbWV0ZXI7ZD1kLm1hdGNobGV0OwphW2N8fCJjb21tYW5kTGluZSJdPWR9fWJbMV0mJihjPW1vZHVsZSRjb250ZW50cyRnb29nbGUzJGNsb3VkJHNpZ25hbHMkc3RhY2tkcml2ZXIkbW9uaXRvcmluZyRzaGFyZWQkcHJvdG9fb2JqZWN0cyRnb29nbGUkbW9uaXRvcmluZyR2MyR0aW1lX3NlcmllcyRpbmRleF9nZXRNYXRjaGxldChiWzFdKSkmJihkPWMsYz1kLnBhcmFtZXRlcixkPWQubWF0Y2hsZXQsYVtjfHwidXNlciJdPWQpO2JbMl0mJihiPW1vZHVsZSRjb250ZW50cyRnb29nbGUzJGNsb3VkJHNpZ25hbHMkc3RhY2tkcml2ZXIkbW9uaXRvcmluZyRzaGFyZWQkcHJvdG9fb2JqZWN0cyRnb29nbGUkbW9uaXRvcmluZyR2MyR0aW1lX3NlcmllcyRpbmRleF9nZXRNYXRjaGxldChiWzJdKSkmJihjPWIsYj1jLnBhcmFtZXRlcixjPWMubWF0Y2hsZXQsYiYmKGFbYl09YykpO3JldHVybiBhfQptb2R1bGUkZXhwb3J0cyRnb29nbGUzJGNsb3VkJHNpZ25hbHMkc3RhY2tkcml2ZXIkbW9uaXRvcmluZyRzaGFyZWQkcHJvdG9fb2JqZWN0cyRnb29nbGUkbW9uaXRvcmluZyR2MyR0aW1lX3NlcmllcyRpbmRleC5nZXRQcm9jZXNzSGVhbHRoQXJncz1tb2R1bGUkY29udGVudHMkZ29vZ2xlMyRjbG91ZCRzaWduYWxzJHN0YWNrZHJpdmVyJG1vbml0b3Jpbmckc2hhcmVkJHByb3RvX29iamVjdHMkZ29vZ2xlJG1vbml0b3JpbmckdjMkdGltZV9zZXJpZXMkaW5kZXhfZ2V0UHJvY2Vzc0hlYWx0aEFyZ3M7CmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nbGUzJGNsb3VkJHNpZ25hbHMkc3RhY2tkcml2ZXIkbW9uaXRvcmluZyRzaGFyZWQkcHJvdG9fb2JqZWN0cyRnb29nbGUkbW9uaXRvcmluZyR2MyR0aW1lX3NlcmllcyRpbmRleF9nZXRNYXRjaGxldChhKXthOnt2YXIgYj1hO2lmKC0xIT09Yi5pbmRleE9mKCI9Iikpe2I9Yi5zcGxpdCgiPSIpWzBdO3ZhciBjPVtdLmNvbmNhdCgkanNjb21wLmFycmF5RnJvbUl0ZXJhYmxlKG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkY2xvdWQkc2lnbmFscyRzdGFja2RyaXZlciRtb25pdG9yaW5nJHNoYXJlZCRwcm90b19vYmplY3RzJGdvb2dsZSRtb25pdG9yaW5nJHYzJHRpbWVfc2VyaWVzJGluZGV4LlNFTEVDVF9QUk9DRVNTX0NPVU5UX0NPTU1BTkRMSU5FX0ZJRUxEUyksJGpzY29tcC5hcnJheUZyb21JdGVyYWJsZShtb2R1bGUkZXhwb3J0cyRnb29nbGUzJGNsb3VkJHNpZ25hbHMkc3RhY2tkcml2ZXIkbW9uaXRvcmluZyRzaGFyZWQkcHJvdG9fb2JqZWN0cyRnb29nbGUkbW9uaXRvcmluZyR2MyR0aW1lX3NlcmllcyRpbmRleC5TRUxFQ1RfUFJPQ0VTU19DT1VOVF9DT01NQU5EX0ZJRUxEUyksCiRqc2NvbXAuYXJyYXlGcm9tSXRlcmFibGUobW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyRjbG91ZCRzaWduYWxzJHN0YWNrZHJpdmVyJG1vbml0b3Jpbmckc2hhcmVkJHByb3RvX29iamVjdHMkZ29vZ2xlJG1vbml0b3JpbmckdjMkdGltZV9zZXJpZXMkaW5kZXguU0VMRUNUX1BST0NFU1NfQ09VTlRfVVNFUl9GSUVMRFMpKTtjPSRqc2NvbXAubWFrZUl0ZXJhdG9yKGMpO2Zvcih2YXIgZD1jLm5leHQoKTshZC5kb25lO2Q9Yy5uZXh0KCkpaWYoZD1kLnZhbHVlLGI9PT1kKXtiPSEwO2JyZWFrIGF9fWI9ITF9aWYoYil7Yj0kanNjb21wO3ZhciBlPWIubWFrZUl0ZXJhdG9yO2M9YTtkPWMuaW5kZXhPZigiPSIpO2E9Yy5zbGljZSgwLGQpO2M9Yy5zbGljZShkKzEpO2E9W2EsY107Yj1lLmNhbGwoYixhKTthPWIubmV4dCgpLnZhbHVlO2I9Yi5uZXh0KCkudmFsdWU7Yj1tb2R1bGUkY29udGVudHMkZ29vZ2xlMyRjbG91ZCRzaWduYWxzJHN0YWNrZHJpdmVyJG1vbml0b3Jpbmckc2hhcmVkJHByb3RvX29iamVjdHMkZ29vZ2xlJG1vbml0b3JpbmckdjMkdGltZV9zZXJpZXMkaW5kZXhfcGFyc2VSaHMoYik7CmE6e2U9bW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyRjbG91ZCRzaWduYWxzJHN0YWNrZHJpdmVyJG1vbml0b3Jpbmckc2hhcmVkJHByb3RvX29iamVjdHMkZ29vZ2xlJG1vbml0b3JpbmckdjMkdGltZV9zZXJpZXMkaW5kZXguU0VMRUNUX1BST0NFU1NfQ09VTlRfVVNFUl9GSUVMRFM7ZT0kanNjb21wLm1ha2VJdGVyYXRvcihlKTtmb3IoYz1lLm5leHQoKTshYy5kb25lO2M9ZS5uZXh0KCkpaWYoYz1jLnZhbHVlLGE9PT1jKXtlPSJ1c2VyIjticmVhayBhfWU9bW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyRjbG91ZCRzaWduYWxzJHN0YWNrZHJpdmVyJG1vbml0b3Jpbmckc2hhcmVkJHByb3RvX29iamVjdHMkZ29vZ2xlJG1vbml0b3JpbmckdjMkdGltZV9zZXJpZXMkaW5kZXguU0VMRUNUX1BST0NFU1NfQ09VTlRfQ09NTUFORF9GSUVMRFM7ZT0kanNjb21wLm1ha2VJdGVyYXRvcihlKTtmb3IoYz1lLm5leHQoKTshYy5kb25lO2M9ZS5uZXh0KCkpaWYoYz1jLnZhbHVlLGE9PT1jKXtlPSJjb21tYW5kIjsKYnJlYWsgYX1lPW1vZHVsZSRleHBvcnRzJGdvb2dsZTMkY2xvdWQkc2lnbmFscyRzdGFja2RyaXZlciRtb25pdG9yaW5nJHNoYXJlZCRwcm90b19vYmplY3RzJGdvb2dsZSRtb25pdG9yaW5nJHYzJHRpbWVfc2VyaWVzJGluZGV4LlNFTEVDVF9QUk9DRVNTX0NPVU5UX0NPTU1BTkRMSU5FX0ZJRUxEUztlPSRqc2NvbXAubWFrZUl0ZXJhdG9yKGUpO2ZvcihjPWUubmV4dCgpOyFjLmRvbmU7Yz1lLm5leHQoKSlpZihjPWMudmFsdWUsYT09PWMpe2U9ImNvbW1hbmRMaW5lIjticmVhayBhfWU9dm9pZCAwfX1lbHNlIGI9bW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkY2xvdWQkc2lnbmFscyRzdGFja2RyaXZlciRtb25pdG9yaW5nJHNoYXJlZCRwcm90b19vYmplY3RzJGdvb2dsZSRtb25pdG9yaW5nJHYzJHRpbWVfc2VyaWVzJGluZGV4X3BhcnNlUmhzKGEpO2lmKGIpcmV0dXJue3BhcmFtZXRlcjplLG1hdGNobGV0OnttYXRjaFR5cGU6Yi5tYXRjaFR5cGUsdmFsdWU6Yi52YWx1ZX19fQpmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZ2xlMyRjbG91ZCRzaWduYWxzJHN0YWNrZHJpdmVyJG1vbml0b3Jpbmckc2hhcmVkJHByb3RvX29iamVjdHMkZ29vZ2xlJG1vbml0b3JpbmckdjMkdGltZV9zZXJpZXMkaW5kZXhfcGFyc2VSaHMoYSl7aWYoYSl7YTp7dmFyIGI9YTt2YXIgYz1bImhhc19zdWJzdHJpbmciLCJzdGFydHNfd2l0aCIsImVuZHNfd2l0aCIsIm1vbml0b3JpbmcucmVnZXguZnVsbF9tYXRjaCJdO2M9JGpzY29tcC5tYWtlSXRlcmF0b3IoYyk7Zm9yKHZhciBkPWMubmV4dCgpOyFkLmRvbmU7ZD1jLm5leHQoKSlpZihkPWQudmFsdWUsYi5zdGFydHNXaXRoKGQpKXtiPWQ7YnJlYWsgYX1iPXZvaWQgMH1iPyhjPWEuaW5kZXhPZigiKCIpLGQ9YS5sYXN0SW5kZXhPZigiKSIpLGE9MD5jfHwwPmQ/YTphLnNsaWNlKGMrMSxkKSxhPW1vZHVsZSRjb250ZW50cyRnb29nbGUzJGNsb3VkJHNpZ25hbHMkc3RhY2tkcml2ZXIkbW9uaXRvcmluZyRzaGFyZWQkcHJvdG9fb2JqZWN0cyRnb29nbGUkbW9uaXRvcmluZyR2MyR0aW1lX3NlcmllcyRpbmRleF9zdHJpcE9wdGlvbmFsUXVvdGVzKGEpKToKKGE9bW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkY2xvdWQkc2lnbmFscyRzdGFja2RyaXZlciRtb25pdG9yaW5nJHNoYXJlZCRwcm90b19vYmplY3RzJGdvb2dsZSRtb25pdG9yaW5nJHYzJHRpbWVfc2VyaWVzJGluZGV4X3N0cmlwT3B0aW9uYWxRdW90ZXMoYSksYj1tb2R1bGUkZXhwb3J0cyRnb29nbGUzJGNsb3VkJHNpZ25hbHMkc3RhY2tkcml2ZXIkbW9uaXRvcmluZyRzaGFyZWQkcHJvdG9fb2JqZWN0cyRnb29nbGUkbW9uaXRvcmluZyR2MyR0aW1lX3NlcmllcyRpbmRleC5NYXRjaFR5cGUuRXF1YWxzKTtyZXR1cm57bWF0Y2hUeXBlOmIsdmFsdWU6YX19fQpmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZ2xlMyRjbG91ZCRzaWduYWxzJHN0YWNrZHJpdmVyJG1vbml0b3Jpbmckc2hhcmVkJHByb3RvX29iamVjdHMkZ29vZ2xlJG1vbml0b3JpbmckdjMkdGltZV9zZXJpZXMkaW5kZXhfc3RyaXBPcHRpb25hbFF1b3RlcyhhKXtyZXR1cm4gYS5yZXBsYWNlKC9bXFwiJ10qKC5bXlxcIiddKilbXFwiJ10qLywiJDEiKX0KZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkY2xvdWQkc2lnbmFscyRzdGFja2RyaXZlciRtb25pdG9yaW5nJHNoYXJlZCRwcm90b19vYmplY3RzJGdvb2dsZSRtb25pdG9yaW5nJHYzJHRpbWVfc2VyaWVzJGluZGV4X2dldFRzc0FyZ3VtZW50cyhhKXt2YXIgYj1hLnJlcGxhY2UoL14oc2VsZWN0X1tBLXpfXSspXCguKi8sIiQxIik7YT1hLnJlcGxhY2UoL15zZWxlY3RfW0Etel9dK1woKC4qKVwpLywiJDEiKS5zcGxpdCgvLFxzPy8pLm1hcChmdW5jdGlvbihjKXtyZXR1cm4gYy5yZXBsYWNlKC9bIiddKC4qKVsiJ10vLCIkMSIpfSk7cmV0dXJue3Rzc0Z1bmN0aW9uOmIsYXJnczphfX0KZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkY2xvdWQkc2lnbmFscyRzdGFja2RyaXZlciRtb25pdG9yaW5nJHNoYXJlZCRwcm90b19vYmplY3RzJGdvb2dsZSRtb25pdG9yaW5nJHYzJHRpbWVfc2VyaWVzJGluZGV4X2dvRHVyYXRpb25Ub01pbnV0ZXMoYSl7YT1hLm1hdGNoKG1vZHVsZSRjb250ZW50cyRnb29nbGUzJGNsb3VkJHNpZ25hbHMkc3RhY2tkcml2ZXIkbW9uaXRvcmluZyRzaGFyZWQkcHJvdG9fb2JqZWN0cyRnb29nbGUkbW9uaXRvcmluZyR2MyR0aW1lX3NlcmllcyRpbmRleF9EVVJBVElPTl9QQVRURVJOKTtpZihudWxsPT1hKXJldHVybiAwO2E9e3NpZ246YVsxXSxoOmFbMl0sbTphWzRdLHM6YVs2XSxtczphWzhdLHVzOmFbMTBdLG5zOmFbMTJdfTt2YXIgYj1PYmplY3QuZW50cmllcyhhKS5tYXAoZnVuY3Rpb24oYyl7dmFyIGQ9JGpzY29tcC5tYWtlSXRlcmF0b3IoYyk7Yz1kLm5leHQoKS52YWx1ZTtkPWQubmV4dCgpLnZhbHVlO2lmKCJzaWduIj09PWMpcmV0dXJuIDA7CmQ9KGR8fCIwIikucmVwbGFjZSgvW0Etel0rLywiIik7cmV0dXJuIE51bWJlcihkKSptb2R1bGUkY29udGVudHMkZ29vZ2xlMyRjbG91ZCRzaWduYWxzJHN0YWNrZHJpdmVyJG1vbml0b3Jpbmckc2hhcmVkJHByb3RvX29iamVjdHMkZ29vZ2xlJG1vbml0b3JpbmckdjMkdGltZV9zZXJpZXMkaW5kZXhfVE9fTUlOVVRFX01VTFRJUExJRVJbY119KS5yZWR1Y2UoZnVuY3Rpb24oYyxkKXtyZXR1cm4gYytkfSwwKTsiLSI9PT1hLnNpZ24mJihiKj0tMSk7cmV0dXJuIGJ9CnZhciBtb2R1bGUkY29udGVudHMkZ29vZ2xlMyRjbG91ZCRzaWduYWxzJHN0YWNrZHJpdmVyJG1vbml0b3Jpbmckc2hhcmVkJHByb3RvX29iamVjdHMkZ29vZ2xlJG1vbml0b3JpbmckdjMkdGltZV9zZXJpZXMkaW5kZXhfRFVSQVRJT05fUEFUVEVSTj1SZWdFeHAoIl4oLXxcXCt8KT8oXFxkKyhcXC5cXGQrKT9oKT8oXFxkKyhcXC5cXGQrKT9tKT8oXFxkKyhcXC5cXGQrKT9zKT8oXFxkKyhcXC5cXGQrKT9tcyk/KFxcZCsoXFwuXFxkKyk/dXMpPyhcXGQrKFxcLlxcZCspP25zKT8kIiksbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkY2xvdWQkc2lnbmFscyRzdGFja2RyaXZlciRtb25pdG9yaW5nJHNoYXJlZCRwcm90b19vYmplY3RzJGdvb2dsZSRtb25pdG9yaW5nJHYzJHRpbWVfc2VyaWVzJGluZGV4X1RPX01JTlVURV9NVUxUSVBMSUVSPXtoOjYwLG06MSxzOjEvNjAsbXM6MS82RTQsdXM6MS82RTcsbnM6MS82RTEwfTsKbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyRjbG91ZCRzaWduYWxzJHN0YWNrZHJpdmVyJG1vbml0b3Jpbmckc2hhcmVkJHByb3RvX29iamVjdHMkZ29vZ2xlJG1vbml0b3JpbmckdjMkdGltZV9zZXJpZXMkaW5kZXguVEVTVF9PTkxZPXtnb0R1cmF0aW9uVG9NaW51dGVzOm1vZHVsZSRjb250ZW50cyRnb29nbGUzJGNsb3VkJHNpZ25hbHMkc3RhY2tkcml2ZXIkbW9uaXRvcmluZyRzaGFyZWQkcHJvdG9fb2JqZWN0cyRnb29nbGUkbW9uaXRvcmluZyR2MyR0aW1lX3NlcmllcyRpbmRleF9nb0R1cmF0aW9uVG9NaW51dGVzfTtnb29nLmRlYnVnPXt9O2Z1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGRlYnVnJEVycm9yX0RlYnVnRXJyb3IoYSxiKXtpZihFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSlFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLG1vZHVsZSRjb250ZW50cyRnb29nJGRlYnVnJEVycm9yX0RlYnVnRXJyb3IpO2Vsc2V7dmFyIGM9RXJyb3IoKS5zdGFjaztjJiYodGhpcy5zdGFjaz1jKX1hJiYodGhpcy5tZXNzYWdlPVN0cmluZyhhKSk7dm9pZCAwIT09YiYmKHRoaXMuY2F1c2U9Yil9Z29vZy5pbmhlcml0cyhtb2R1bGUkY29udGVudHMkZ29vZyRkZWJ1ZyRFcnJvcl9EZWJ1Z0Vycm9yLEVycm9yKTttb2R1bGUkY29udGVudHMkZ29vZyRkZWJ1ZyRFcnJvcl9EZWJ1Z0Vycm9yLnByb3RvdHlwZS5uYW1lPSJDdXN0b21FcnJvciI7Z29vZy5kZWJ1Zy5FcnJvcj1tb2R1bGUkY29udGVudHMkZ29vZyRkZWJ1ZyRFcnJvcl9EZWJ1Z0Vycm9yO2dvb2cuZG9tPXt9O2dvb2cuZG9tLk5vZGVUeXBlPXtFTEVNRU5UOjEsQVRUUklCVVRFOjIsVEVYVDozLENEQVRBX1NFQ1RJT046NCxFTlRJVFlfUkVGRVJFTkNFOjUsRU5USVRZOjYsUFJPQ0VTU0lOR19JTlNUUlVDVElPTjo3LENPTU1FTlQ6OCxET0NVTUVOVDo5LERPQ1VNRU5UX1RZUEU6MTAsRE9DVU1FTlRfRlJBR01FTlQ6MTEsTk9UQVRJT046MTJ9O2dvb2cuYXNzZXJ0cz17fTtnb29nLmFzc2VydHMuRU5BQkxFX0FTU0VSVFM9Z29vZy5ERUJVRztmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhc3NlcnRzX0Fzc2VydGlvbkVycm9yKGEsYil7YT1hLnNwbGl0KCIlcyIpO2Zvcih2YXIgYz0iIixkPWEubGVuZ3RoLTEsZT0wO2U8ZDtlKyspe3ZhciBmPWU8Yi5sZW5ndGg/YltlXToiJXMiO2MrPWFbZV0rZn1iPWMrYVtkXTttb2R1bGUkY29udGVudHMkZ29vZyRkZWJ1ZyRFcnJvcl9EZWJ1Z0Vycm9yLmNhbGwodGhpcyxiKX1nb29nLmluaGVyaXRzKG1vZHVsZSRjb250ZW50cyRnb29nJGFzc2VydHNfQXNzZXJ0aW9uRXJyb3IsbW9kdWxlJGNvbnRlbnRzJGdvb2ckZGVidWckRXJyb3JfRGVidWdFcnJvcik7Z29vZy5hc3NlcnRzLkFzc2VydGlvbkVycm9yPW1vZHVsZSRjb250ZW50cyRnb29nJGFzc2VydHNfQXNzZXJ0aW9uRXJyb3I7Cm1vZHVsZSRjb250ZW50cyRnb29nJGFzc2VydHNfQXNzZXJ0aW9uRXJyb3IucHJvdG90eXBlLm5hbWU9IkFzc2VydGlvbkVycm9yIjtnb29nLmFzc2VydHMuREVGQVVMVF9FUlJPUl9IQU5ETEVSPWZ1bmN0aW9uKGEpe3Rocm93IGE7fTt2YXIgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXNzZXJ0c19lcnJvckhhbmRsZXJfPWdvb2cuYXNzZXJ0cy5ERUZBVUxUX0VSUk9SX0hBTkRMRVI7ZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXNzZXJ0c19kb0Fzc2VydEZhaWx1cmUoYSxiLGMsZCl7dmFyIGU9IkFzc2VydGlvbiBmYWlsZWQiO2lmKGMpe2UrPSI6ICIrYzt2YXIgZj1kfWVsc2UgYSYmKGUrPSI6ICIrYSxmPWIpO2E9bmV3IG1vZHVsZSRjb250ZW50cyRnb29nJGFzc2VydHNfQXNzZXJ0aW9uRXJyb3IoIiIrZSxmfHxbXSk7bW9kdWxlJGNvbnRlbnRzJGdvb2ckYXNzZXJ0c19lcnJvckhhbmRsZXJfKGEpfQpnb29nLmFzc2VydHMuc2V0RXJyb3JIYW5kbGVyPWZ1bmN0aW9uKGEpe2dvb2cuYXNzZXJ0cy5FTkFCTEVfQVNTRVJUUyYmKG1vZHVsZSRjb250ZW50cyRnb29nJGFzc2VydHNfZXJyb3JIYW5kbGVyXz1hKX07Z29vZy5hc3NlcnRzLmFzc2VydD1mdW5jdGlvbihhLGIsYyl7Z29vZy5hc3NlcnRzLkVOQUJMRV9BU1NFUlRTJiYhYSYmbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXNzZXJ0c19kb0Fzc2VydEZhaWx1cmUoIiIsbnVsbCxiLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKSk7cmV0dXJuIGF9O2dvb2cuYXNzZXJ0cy5hc3NlcnRFeGlzdHM9ZnVuY3Rpb24oYSxiLGMpe2dvb2cuYXNzZXJ0cy5FTkFCTEVfQVNTRVJUUyYmbnVsbD09YSYmbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXNzZXJ0c19kb0Fzc2VydEZhaWx1cmUoIkV4cGVjdGVkIHRvIGV4aXN0OiAlcy4iLFthXSxiLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKSk7cmV0dXJuIGF9Owpnb29nLmFzc2VydHMuZmFpbD1mdW5jdGlvbihhLGIpe2dvb2cuYXNzZXJ0cy5FTkFCTEVfQVNTRVJUUyYmbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXNzZXJ0c19lcnJvckhhbmRsZXJfKG5ldyBtb2R1bGUkY29udGVudHMkZ29vZyRhc3NlcnRzX0Fzc2VydGlvbkVycm9yKCJGYWlsdXJlIisoYT8iOiAiK2E6IiIpLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSkpfTtnb29nLmFzc2VydHMuYXNzZXJ0TnVtYmVyPWZ1bmN0aW9uKGEsYixjKXtnb29nLmFzc2VydHMuRU5BQkxFX0FTU0VSVFMmJiJudW1iZXIiIT09dHlwZW9mIGEmJm1vZHVsZSRjb250ZW50cyRnb29nJGFzc2VydHNfZG9Bc3NlcnRGYWlsdXJlKCJFeHBlY3RlZCBudW1iZXIgYnV0IGdvdCAlczogJXMuIixbZ29vZy50eXBlT2YoYSksYV0sYixBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMikpO3JldHVybiBhfTsKZ29vZy5hc3NlcnRzLmFzc2VydFN0cmluZz1mdW5jdGlvbihhLGIsYyl7Z29vZy5hc3NlcnRzLkVOQUJMRV9BU1NFUlRTJiYic3RyaW5nIiE9PXR5cGVvZiBhJiZtb2R1bGUkY29udGVudHMkZ29vZyRhc3NlcnRzX2RvQXNzZXJ0RmFpbHVyZSgiRXhwZWN0ZWQgc3RyaW5nIGJ1dCBnb3QgJXM6ICVzLiIsW2dvb2cudHlwZU9mKGEpLGFdLGIsQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpKTtyZXR1cm4gYX07Z29vZy5hc3NlcnRzLmFzc2VydEZ1bmN0aW9uPWZ1bmN0aW9uKGEsYixjKXtnb29nLmFzc2VydHMuRU5BQkxFX0FTU0VSVFMmJiJmdW5jdGlvbiIhPT10eXBlb2YgYSYmbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXNzZXJ0c19kb0Fzc2VydEZhaWx1cmUoIkV4cGVjdGVkIGZ1bmN0aW9uIGJ1dCBnb3QgJXM6ICVzLiIsW2dvb2cudHlwZU9mKGEpLGFdLGIsQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpKTtyZXR1cm4gYX07Cmdvb2cuYXNzZXJ0cy5hc3NlcnRPYmplY3Q9ZnVuY3Rpb24oYSxiLGMpe2dvb2cuYXNzZXJ0cy5FTkFCTEVfQVNTRVJUUyYmIWdvb2cuaXNPYmplY3QoYSkmJm1vZHVsZSRjb250ZW50cyRnb29nJGFzc2VydHNfZG9Bc3NlcnRGYWlsdXJlKCJFeHBlY3RlZCBvYmplY3QgYnV0IGdvdCAlczogJXMuIixbZ29vZy50eXBlT2YoYSksYV0sYixBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMikpO3JldHVybiBhfTtnb29nLmFzc2VydHMuYXNzZXJ0QXJyYXk9ZnVuY3Rpb24oYSxiLGMpe2dvb2cuYXNzZXJ0cy5FTkFCTEVfQVNTRVJUUyYmIUFycmF5LmlzQXJyYXkoYSkmJm1vZHVsZSRjb250ZW50cyRnb29nJGFzc2VydHNfZG9Bc3NlcnRGYWlsdXJlKCJFeHBlY3RlZCBhcnJheSBidXQgZ290ICVzOiAlcy4iLFtnb29nLnR5cGVPZihhKSxhXSxiLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKSk7cmV0dXJuIGF9Owpnb29nLmFzc2VydHMuYXNzZXJ0Qm9vbGVhbj1mdW5jdGlvbihhLGIsYyl7Z29vZy5hc3NlcnRzLkVOQUJMRV9BU1NFUlRTJiYiYm9vbGVhbiIhPT10eXBlb2YgYSYmbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXNzZXJ0c19kb0Fzc2VydEZhaWx1cmUoIkV4cGVjdGVkIGJvb2xlYW4gYnV0IGdvdCAlczogJXMuIixbZ29vZy50eXBlT2YoYSksYV0sYixBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMikpO3JldHVybiBhfTsKZ29vZy5hc3NlcnRzLmFzc2VydEVsZW1lbnQ9ZnVuY3Rpb24oYSxiLGMpeyFnb29nLmFzc2VydHMuRU5BQkxFX0FTU0VSVFN8fGdvb2cuaXNPYmplY3QoYSkmJmEubm9kZVR5cGU9PWdvb2cuZG9tLk5vZGVUeXBlLkVMRU1FTlR8fG1vZHVsZSRjb250ZW50cyRnb29nJGFzc2VydHNfZG9Bc3NlcnRGYWlsdXJlKCJFeHBlY3RlZCBFbGVtZW50IGJ1dCBnb3QgJXM6ICVzLiIsW2dvb2cudHlwZU9mKGEpLGFdLGIsQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpKTtyZXR1cm4gYX07Cmdvb2cuYXNzZXJ0cy5hc3NlcnRJbnN0YW5jZW9mPWZ1bmN0aW9uKGEsYixjLGQpeyFnb29nLmFzc2VydHMuRU5BQkxFX0FTU0VSVFN8fGEgaW5zdGFuY2VvZiBifHxtb2R1bGUkY29udGVudHMkZ29vZyRhc3NlcnRzX2RvQXNzZXJ0RmFpbHVyZSgiRXhwZWN0ZWQgaW5zdGFuY2VvZiAlcyBidXQgZ290ICVzLiIsW21vZHVsZSRjb250ZW50cyRnb29nJGFzc2VydHNfZ2V0VHlwZShiKSxtb2R1bGUkY29udGVudHMkZ29vZyRhc3NlcnRzX2dldFR5cGUoYSldLGMsQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDMpKTtyZXR1cm4gYX07Cmdvb2cuYXNzZXJ0cy5hc3NlcnRGaW5pdGU9ZnVuY3Rpb24oYSxiLGMpeyFnb29nLmFzc2VydHMuRU5BQkxFX0FTU0VSVFN8fCJudW1iZXIiPT10eXBlb2YgYSYmaXNGaW5pdGUoYSl8fG1vZHVsZSRjb250ZW50cyRnb29nJGFzc2VydHNfZG9Bc3NlcnRGYWlsdXJlKCJFeHBlY3RlZCAlcyB0byBiZSBhIGZpbml0ZSBudW1iZXIgYnV0IGl0IGlzIG5vdC4iLFthXSxiLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKSk7cmV0dXJuIGF9OwpmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhc3NlcnRzX2dldFR5cGUoYSl7cmV0dXJuIGEgaW5zdGFuY2VvZiBGdW5jdGlvbj9hLmRpc3BsYXlOYW1lfHxhLm5hbWV8fCJ1bmtub3duIHR5cGUgbmFtZSI6YSBpbnN0YW5jZW9mIE9iamVjdD9hLmNvbnN0cnVjdG9yLmRpc3BsYXlOYW1lfHxhLmNvbnN0cnVjdG9yLm5hbWV8fE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhKTpudWxsPT09YT8ibnVsbCI6dHlwZW9mIGF9O2dvb2cuYXJyYXk9e307Z29vZy5OQVRJVkVfQVJSQVlfUFJPVE9UWVBFUz1nb29nLlRSVVNURURfU0lURTt2YXIgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfQVNTVU1FX05BVElWRV9GVU5DVElPTlM9MjAxMjxnb29nLkZFQVRVUkVTRVRfWUVBUjtnb29nLmFycmF5LkFTU1VNRV9OQVRJVkVfRlVOQ1RJT05TPW1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X0FTU1VNRV9OQVRJVkVfRlVOQ1RJT05TO2Z1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3BlZWsoYSl7cmV0dXJuIGFbYS5sZW5ndGgtMV19Z29vZy5hcnJheS5wZWVrPW1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3BlZWs7Z29vZy5hcnJheS5sYXN0PW1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3BlZWs7CnZhciBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9pbmRleE9mPWdvb2cuTkFUSVZFX0FSUkFZX1BST1RPVFlQRVMmJihtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9BU1NVTUVfTkFUSVZFX0ZVTkNUSU9OU3x8QXJyYXkucHJvdG90eXBlLmluZGV4T2YpP2Z1bmN0aW9uKGEsYixjKXtnb29nLmFzc2VydHMuYXNzZXJ0KG51bGwhPWEubGVuZ3RoKTtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChhLGIsYyl9OmZ1bmN0aW9uKGEsYixjKXtjPW51bGw9PWM/MDowPmM/TWF0aC5tYXgoMCxhLmxlbmd0aCtjKTpjO2lmKCJzdHJpbmciPT09dHlwZW9mIGEpcmV0dXJuInN0cmluZyIhPT10eXBlb2YgYnx8MSE9Yi5sZW5ndGg/LTE6YS5pbmRleE9mKGIsYyk7Zm9yKDtjPGEubGVuZ3RoO2MrKylpZihjIGluIGEmJmFbY109PT1iKXJldHVybiBjO3JldHVybi0xfTtnb29nLmFycmF5LmluZGV4T2Y9bW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfaW5kZXhPZjsKdmFyIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2xhc3RJbmRleE9mPWdvb2cuTkFUSVZFX0FSUkFZX1BST1RPVFlQRVMmJihtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9BU1NVTUVfTkFUSVZFX0ZVTkNUSU9OU3x8QXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mKT9mdW5jdGlvbihhLGIsYyl7Z29vZy5hc3NlcnRzLmFzc2VydChudWxsIT1hLmxlbmd0aCk7Yz1udWxsPT1jP2EubGVuZ3RoLTE6YztyZXR1cm4gQXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mLmNhbGwoYSxiLGMpfTpmdW5jdGlvbihhLGIsYyl7Yz1udWxsPT1jP2EubGVuZ3RoLTE6YzswPmMmJihjPU1hdGgubWF4KDAsYS5sZW5ndGgrYykpO2lmKCJzdHJpbmciPT09dHlwZW9mIGEpcmV0dXJuInN0cmluZyIhPT10eXBlb2YgYnx8MSE9Yi5sZW5ndGg/LTE6YS5sYXN0SW5kZXhPZihiLGMpO2Zvcig7MDw9YztjLS0paWYoYyBpbiBhJiZhW2NdPT09YilyZXR1cm4gYztyZXR1cm4tMX07Cmdvb2cuYXJyYXkubGFzdEluZGV4T2Y9bW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfbGFzdEluZGV4T2Y7dmFyIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2ZvckVhY2g9Z29vZy5OQVRJVkVfQVJSQVlfUFJPVE9UWVBFUyYmKG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X0FTU1VNRV9OQVRJVkVfRlVOQ1RJT05TfHxBcnJheS5wcm90b3R5cGUuZm9yRWFjaCk/ZnVuY3Rpb24oYSxiLGMpe2dvb2cuYXNzZXJ0cy5hc3NlcnQobnVsbCE9YS5sZW5ndGgpO0FycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoYSxiLGMpfTpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPWEubGVuZ3RoLGU9InN0cmluZyI9PT10eXBlb2YgYT9hLnNwbGl0KCIiKTphLGY9MDtmPGQ7ZisrKWYgaW4gZSYmYi5jYWxsKGMsZVtmXSxmLGEpfTtnb29nLmFycmF5LmZvckVhY2g9bW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZm9yRWFjaDsKZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZm9yRWFjaFJpZ2h0KGEsYixjKXt2YXIgZD1hLmxlbmd0aCxlPSJzdHJpbmciPT09dHlwZW9mIGE/YS5zcGxpdCgiIik6YTtmb3IoLS1kOzA8PWQ7LS1kKWQgaW4gZSYmYi5jYWxsKGMsZVtkXSxkLGEpfWdvb2cuYXJyYXkuZm9yRWFjaFJpZ2h0PW1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2ZvckVhY2hSaWdodDsKdmFyIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2ZpbHRlcj1nb29nLk5BVElWRV9BUlJBWV9QUk9UT1RZUEVTJiYobW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfQVNTVU1FX05BVElWRV9GVU5DVElPTlN8fEFycmF5LnByb3RvdHlwZS5maWx0ZXIpP2Z1bmN0aW9uKGEsYixjKXtnb29nLmFzc2VydHMuYXNzZXJ0KG51bGwhPWEubGVuZ3RoKTtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKGEsYixjKX06ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD1hLmxlbmd0aCxlPVtdLGY9MCxnPSJzdHJpbmciPT09dHlwZW9mIGE/YS5zcGxpdCgiIik6YSxrPTA7azxkO2srKylpZihrIGluIGcpe3ZhciBoPWdba107Yi5jYWxsKGMsaCxrLGEpJiYoZVtmKytdPWgpfXJldHVybiBlfTtnb29nLmFycmF5LmZpbHRlcj1tb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9maWx0ZXI7CnZhciBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9tYXA9Z29vZy5OQVRJVkVfQVJSQVlfUFJPVE9UWVBFUyYmKG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X0FTU1VNRV9OQVRJVkVfRlVOQ1RJT05TfHxBcnJheS5wcm90b3R5cGUubWFwKT9mdW5jdGlvbihhLGIsYyl7Z29vZy5hc3NlcnRzLmFzc2VydChudWxsIT1hLmxlbmd0aCk7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5tYXAuY2FsbChhLGIsYyl9OmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9YS5sZW5ndGgsZT1BcnJheShkKSxmPSJzdHJpbmciPT09dHlwZW9mIGE/YS5zcGxpdCgiIik6YSxnPTA7ZzxkO2crKylnIGluIGYmJihlW2ddPWIuY2FsbChjLGZbZ10sZyxhKSk7cmV0dXJuIGV9O2dvb2cuYXJyYXkubWFwPW1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X21hcDsKdmFyIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3JlZHVjZT1nb29nLk5BVElWRV9BUlJBWV9QUk9UT1RZUEVTJiYobW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfQVNTVU1FX05BVElWRV9GVU5DVElPTlN8fEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpP2Z1bmN0aW9uKGEsYixjLGQpe2dvb2cuYXNzZXJ0cy5hc3NlcnQobnVsbCE9YS5sZW5ndGgpO2QmJihiPWdvb2cuYmluZChiLGQpKTtyZXR1cm4gQXJyYXkucHJvdG90eXBlLnJlZHVjZS5jYWxsKGEsYixjKX06ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9Yzttb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9mb3JFYWNoKGEsZnVuY3Rpb24oZixnKXtlPWIuY2FsbChkLGUsZixnLGEpfSk7cmV0dXJuIGV9O2dvb2cuYXJyYXkucmVkdWNlPW1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3JlZHVjZTsKdmFyIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3JlZHVjZVJpZ2h0PWdvb2cuTkFUSVZFX0FSUkFZX1BST1RPVFlQRVMmJihtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9BU1NVTUVfTkFUSVZFX0ZVTkNUSU9OU3x8QXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KT9mdW5jdGlvbihhLGIsYyxkKXtnb29nLmFzc2VydHMuYXNzZXJ0KG51bGwhPWEubGVuZ3RoKTtnb29nLmFzc2VydHMuYXNzZXJ0KG51bGwhPWIpO2QmJihiPWdvb2cuYmluZChiLGQpKTtyZXR1cm4gQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0LmNhbGwoYSxiLGMpfTpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1jO21vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2ZvckVhY2hSaWdodChhLGZ1bmN0aW9uKGYsZyl7ZT1iLmNhbGwoZCxlLGYsZyxhKX0pO3JldHVybiBlfTtnb29nLmFycmF5LnJlZHVjZVJpZ2h0PW1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3JlZHVjZVJpZ2h0Owp2YXIgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfc29tZT1nb29nLk5BVElWRV9BUlJBWV9QUk9UT1RZUEVTJiYobW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfQVNTVU1FX05BVElWRV9GVU5DVElPTlN8fEFycmF5LnByb3RvdHlwZS5zb21lKT9mdW5jdGlvbihhLGIsYyl7Z29vZy5hc3NlcnRzLmFzc2VydChudWxsIT1hLmxlbmd0aCk7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5zb21lLmNhbGwoYSxiLGMpfTpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPWEubGVuZ3RoLGU9InN0cmluZyI9PT10eXBlb2YgYT9hLnNwbGl0KCIiKTphLGY9MDtmPGQ7ZisrKWlmKGYgaW4gZSYmYi5jYWxsKGMsZVtmXSxmLGEpKXJldHVybiEwO3JldHVybiExfTtnb29nLmFycmF5LnNvbWU9bW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfc29tZTsKdmFyIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2V2ZXJ5PWdvb2cuTkFUSVZFX0FSUkFZX1BST1RPVFlQRVMmJihtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9BU1NVTUVfTkFUSVZFX0ZVTkNUSU9OU3x8QXJyYXkucHJvdG90eXBlLmV2ZXJ5KT9mdW5jdGlvbihhLGIsYyl7Z29vZy5hc3NlcnRzLmFzc2VydChudWxsIT1hLmxlbmd0aCk7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5ldmVyeS5jYWxsKGEsYixjKX06ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD1hLmxlbmd0aCxlPSJzdHJpbmciPT09dHlwZW9mIGE/YS5zcGxpdCgiIik6YSxmPTA7ZjxkO2YrKylpZihmIGluIGUmJiFiLmNhbGwoYyxlW2ZdLGYsYSkpcmV0dXJuITE7cmV0dXJuITB9O2dvb2cuYXJyYXkuZXZlcnk9bW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZXZlcnk7CmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2NvdW50KGEsYixjKXt2YXIgZD0wO21vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2ZvckVhY2goYSxmdW5jdGlvbihlLGYsZyl7Yi5jYWxsKGMsZSxmLGcpJiYrK2R9LGMpO3JldHVybiBkfWdvb2cuYXJyYXkuY291bnQ9bW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfY291bnQ7ZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZmluZChhLGIsYyl7Yj1tb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9maW5kSW5kZXgoYSxiLGMpO3JldHVybiAwPmI/bnVsbDoic3RyaW5nIj09PXR5cGVvZiBhP2EuY2hhckF0KGIpOmFbYl19Z29vZy5hcnJheS5maW5kPW1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2ZpbmQ7CmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2ZpbmRJbmRleChhLGIsYyl7Zm9yKHZhciBkPWEubGVuZ3RoLGU9InN0cmluZyI9PT10eXBlb2YgYT9hLnNwbGl0KCIiKTphLGY9MDtmPGQ7ZisrKWlmKGYgaW4gZSYmYi5jYWxsKGMsZVtmXSxmLGEpKXJldHVybiBmO3JldHVybi0xfWdvb2cuYXJyYXkuZmluZEluZGV4PW1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2ZpbmRJbmRleDtmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9maW5kUmlnaHQoYSxiLGMpe2I9bW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZmluZEluZGV4UmlnaHQoYSxiLGMpO3JldHVybiAwPmI/bnVsbDoic3RyaW5nIj09PXR5cGVvZiBhP2EuY2hhckF0KGIpOmFbYl19Z29vZy5hcnJheS5maW5kUmlnaHQ9bW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZmluZFJpZ2h0OwpmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9maW5kSW5kZXhSaWdodChhLGIsYyl7dmFyIGQ9YS5sZW5ndGgsZT0ic3RyaW5nIj09PXR5cGVvZiBhP2Euc3BsaXQoIiIpOmE7Zm9yKC0tZDswPD1kO2QtLSlpZihkIGluIGUmJmIuY2FsbChjLGVbZF0sZCxhKSlyZXR1cm4gZDtyZXR1cm4tMX1nb29nLmFycmF5LmZpbmRJbmRleFJpZ2h0PW1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2ZpbmRJbmRleFJpZ2h0O2Z1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2NvbnRhaW5zKGEsYil7cmV0dXJuIDA8PW1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2luZGV4T2YoYSxiKX1nb29nLmFycmF5LmNvbnRhaW5zPW1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2NvbnRhaW5zO2Z1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2lzRW1wdHkoYSl7cmV0dXJuIDA9PWEubGVuZ3RofWdvb2cuYXJyYXkuaXNFbXB0eT1tb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9pc0VtcHR5OwpmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9jbGVhcihhKXtpZighQXJyYXkuaXNBcnJheShhKSlmb3IodmFyIGI9YS5sZW5ndGgtMTswPD1iO2ItLSlkZWxldGUgYVtiXTthLmxlbmd0aD0wfWdvb2cuYXJyYXkuY2xlYXI9bW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfY2xlYXI7ZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfaW5zZXJ0KGEsYil7bW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfY29udGFpbnMoYSxiKXx8YS5wdXNoKGIpfWdvb2cuYXJyYXkuaW5zZXJ0PW1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2luc2VydDtmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9pbnNlcnRBdChhLGIsYyl7bW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfc3BsaWNlKGEsYywwLGIpfWdvb2cuYXJyYXkuaW5zZXJ0QXQ9bW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfaW5zZXJ0QXQ7CmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2luc2VydEFycmF5QXQoYSxiLGMpe2dvb2cucGFydGlhbChtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9zcGxpY2UsYSxjLDApLmFwcGx5KG51bGwsYil9Z29vZy5hcnJheS5pbnNlcnRBcnJheUF0PW1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2luc2VydEFycmF5QXQ7ZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfaW5zZXJ0QmVmb3JlKGEsYixjKXt2YXIgZDsyPT1hcmd1bWVudHMubGVuZ3RofHwwPihkPW1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2luZGV4T2YoYSxjKSk/YS5wdXNoKGIpOm1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2luc2VydEF0KGEsYixkKX1nb29nLmFycmF5Lmluc2VydEJlZm9yZT1tb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9pbnNlcnRCZWZvcmU7CmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3JlbW92ZShhLGIpe2I9bW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfaW5kZXhPZihhLGIpO3ZhciBjOyhjPTA8PWIpJiZtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9yZW1vdmVBdChhLGIpO3JldHVybiBjfWdvb2cuYXJyYXkucmVtb3ZlPW1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3JlbW92ZTtmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9yZW1vdmVMYXN0KGEsYil7Yj1tb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9sYXN0SW5kZXhPZihhLGIpO3JldHVybiAwPD1iPyhtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9yZW1vdmVBdChhLGIpLCEwKTohMX1nb29nLmFycmF5LnJlbW92ZUxhc3Q9bW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfcmVtb3ZlTGFzdDsKZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfcmVtb3ZlQXQoYSxiKXtnb29nLmFzc2VydHMuYXNzZXJ0KG51bGwhPWEubGVuZ3RoKTtyZXR1cm4gMT09QXJyYXkucHJvdG90eXBlLnNwbGljZS5jYWxsKGEsYiwxKS5sZW5ndGh9Z29vZy5hcnJheS5yZW1vdmVBdD1tb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9yZW1vdmVBdDtmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9yZW1vdmVJZihhLGIsYyl7Yj1tb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9maW5kSW5kZXgoYSxiLGMpO3JldHVybiAwPD1iPyhtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9yZW1vdmVBdChhLGIpLCEwKTohMX1nb29nLmFycmF5LnJlbW92ZUlmPW1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3JlbW92ZUlmOwpmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9yZW1vdmVBbGxJZihhLGIsYyl7dmFyIGQ9MDttb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9mb3JFYWNoUmlnaHQoYSxmdW5jdGlvbihlLGYpe2IuY2FsbChjLGUsZixhKSYmbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfcmVtb3ZlQXQoYSxmKSYmZCsrfSk7cmV0dXJuIGR9Z29vZy5hcnJheS5yZW1vdmVBbGxJZj1tb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9yZW1vdmVBbGxJZjtmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9jb25jYXQoYSl7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5jb25jYXQuYXBwbHkoW10sYXJndW1lbnRzKX1nb29nLmFycmF5LmNvbmNhdD1tb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9jb25jYXQ7ZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfam9pbihhKXtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmNvbmNhdC5hcHBseShbXSxhcmd1bWVudHMpfQpnb29nLmFycmF5LmpvaW49bW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfam9pbjtmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV90b0FycmF5KGEpe3ZhciBiPWEubGVuZ3RoO2lmKDA8Yil7Zm9yKHZhciBjPUFycmF5KGIpLGQ9MDtkPGI7ZCsrKWNbZF09YVtkXTtyZXR1cm4gY31yZXR1cm5bXX1nb29nLmFycmF5LnRvQXJyYXk9bW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfdG9BcnJheTtnb29nLmFycmF5LmNsb25lPW1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3RvQXJyYXk7CmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2V4dGVuZChhLGIpe2Zvcih2YXIgYz0xO2M8YXJndW1lbnRzLmxlbmd0aDtjKyspe3ZhciBkPWFyZ3VtZW50c1tjXTtpZihnb29nLmlzQXJyYXlMaWtlKGQpKXt2YXIgZT1hLmxlbmd0aHx8MCxmPWQubGVuZ3RofHwwO2EubGVuZ3RoPWUrZjtmb3IodmFyIGc9MDtnPGY7ZysrKWFbZStnXT1kW2ddfWVsc2UgYS5wdXNoKGQpfX1nb29nLmFycmF5LmV4dGVuZD1tb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9leHRlbmQ7ZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfc3BsaWNlKGEsYixjLGQpe2dvb2cuYXNzZXJ0cy5hc3NlcnQobnVsbCE9YS5sZW5ndGgpO3JldHVybiBBcnJheS5wcm90b3R5cGUuc3BsaWNlLmFwcGx5KGEsbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfc2xpY2UoYXJndW1lbnRzLDEpKX1nb29nLmFycmF5LnNwbGljZT1tb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9zcGxpY2U7CmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3NsaWNlKGEsYixjKXtnb29nLmFzc2VydHMuYXNzZXJ0KG51bGwhPWEubGVuZ3RoKTtyZXR1cm4gMj49YXJndW1lbnRzLmxlbmd0aD9BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhLGIpOkFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGEsYixjKX1nb29nLmFycmF5LnNsaWNlPW1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3NsaWNlOwpmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9yZW1vdmVEdXBsaWNhdGVzKGEsYixjKXtiPWJ8fGE7dmFyIGQ9ZnVuY3Rpb24oaCl7cmV0dXJuIGdvb2cuaXNPYmplY3QoaCk/Im8iK2dvb2cuZ2V0VWlkKGgpOih0eXBlb2YgaCkuY2hhckF0KDApK2h9O2M9Y3x8ZDtmb3IodmFyIGU9ZD0wLGY9e307ZTxhLmxlbmd0aDspe3ZhciBnPWFbZSsrXSxrPWMoZyk7T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGYsayl8fChmW2tdPSEwLGJbZCsrXT1nKX1iLmxlbmd0aD1kfWdvb2cuYXJyYXkucmVtb3ZlRHVwbGljYXRlcz1tb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9yZW1vdmVEdXBsaWNhdGVzOwpmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9iaW5hcnlTZWFyY2goYSxiLGMpe3JldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9iaW5hcnlTZWFyY2hfKGEsY3x8bW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZGVmYXVsdENvbXBhcmUsITEsYil9Z29vZy5hcnJheS5iaW5hcnlTZWFyY2g9bW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfYmluYXJ5U2VhcmNoO2Z1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2JpbmFyeVNlbGVjdChhLGIsYyl7cmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2JpbmFyeVNlYXJjaF8oYSxiLCEwLHZvaWQgMCxjKX1nb29nLmFycmF5LmJpbmFyeVNlbGVjdD1tb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9iaW5hcnlTZWxlY3Q7CmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2JpbmFyeVNlYXJjaF8oYSxiLGMsZCxlKXtmb3IodmFyIGY9MCxnPWEubGVuZ3RoLGs7ZjxnOyl7dmFyIGg9ZisoZy1mPj4+MSk7dmFyIGw9Yz9iLmNhbGwoZSxhW2hdLGgsYSk6YihkLGFbaF0pOzA8bD9mPWgrMTooZz1oLGs9IWwpfXJldHVybiBrP2Y6LWYtMX1mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9zb3J0KGEsYil7YS5zb3J0KGJ8fG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2RlZmF1bHRDb21wYXJlKX1nb29nLmFycmF5LnNvcnQ9bW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfc29ydDsKZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfc3RhYmxlU29ydChhLGIpe2Z1bmN0aW9uIGMoZyxrKXtyZXR1cm4gZihnLnZhbHVlLGsudmFsdWUpfHxnLmluZGV4LWsuaW5kZXh9Zm9yKHZhciBkPUFycmF5KGEubGVuZ3RoKSxlPTA7ZTxhLmxlbmd0aDtlKyspZFtlXT17aW5kZXg6ZSx2YWx1ZTphW2VdfTt2YXIgZj1ifHxtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9kZWZhdWx0Q29tcGFyZTttb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9zb3J0KGQsYyk7Zm9yKGI9MDtiPGEubGVuZ3RoO2IrKylhW2JdPWRbYl0udmFsdWV9Z29vZy5hcnJheS5zdGFibGVTb3J0PW1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3N0YWJsZVNvcnQ7CmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3NvcnRCeUtleShhLGIsYyl7dmFyIGQ9Y3x8bW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZGVmYXVsdENvbXBhcmU7bW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfc29ydChhLGZ1bmN0aW9uKGUsZil7cmV0dXJuIGQoYihlKSxiKGYpKX0pfWdvb2cuYXJyYXkuc29ydEJ5S2V5PW1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3NvcnRCeUtleTtmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9zb3J0T2JqZWN0c0J5S2V5KGEsYixjKXttb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9zb3J0QnlLZXkoYSxmdW5jdGlvbihkKXtyZXR1cm4gZFtiXX0sYyl9Z29vZy5hcnJheS5zb3J0T2JqZWN0c0J5S2V5PW1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3NvcnRPYmplY3RzQnlLZXk7CmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2lzU29ydGVkKGEsYixjKXtiPWJ8fG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2RlZmF1bHRDb21wYXJlO2Zvcih2YXIgZD0xO2Q8YS5sZW5ndGg7ZCsrKXt2YXIgZT1iKGFbZC0xXSxhW2RdKTtpZigwPGV8fDA9PWUmJmMpcmV0dXJuITF9cmV0dXJuITB9Z29vZy5hcnJheS5pc1NvcnRlZD1tb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9pc1NvcnRlZDtmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9lcXVhbHMoYSxiLGMpe2lmKCFnb29nLmlzQXJyYXlMaWtlKGEpfHwhZ29vZy5pc0FycmF5TGlrZShiKXx8YS5sZW5ndGghPWIubGVuZ3RoKXJldHVybiExO3ZhciBkPWEubGVuZ3RoO2M9Y3x8bW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZGVmYXVsdENvbXBhcmVFcXVhbGl0eTtmb3IodmFyIGU9MDtlPGQ7ZSsrKWlmKCFjKGFbZV0sYltlXSkpcmV0dXJuITE7cmV0dXJuITB9Cmdvb2cuYXJyYXkuZXF1YWxzPW1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2VxdWFscztmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9jb21wYXJlMyhhLGIsYyl7Yz1jfHxtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9kZWZhdWx0Q29tcGFyZTtmb3IodmFyIGQ9TWF0aC5taW4oYS5sZW5ndGgsYi5sZW5ndGgpLGU9MDtlPGQ7ZSsrKXt2YXIgZj1jKGFbZV0sYltlXSk7aWYoMCE9ZilyZXR1cm4gZn1yZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZGVmYXVsdENvbXBhcmUoYS5sZW5ndGgsYi5sZW5ndGgpfWdvb2cuYXJyYXkuY29tcGFyZTM9bW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfY29tcGFyZTM7ZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZGVmYXVsdENvbXBhcmUoYSxiKXtyZXR1cm4gYT5iPzE6YTxiPy0xOjB9Z29vZy5hcnJheS5kZWZhdWx0Q29tcGFyZT1tb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9kZWZhdWx0Q29tcGFyZTsKZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfaW52ZXJzZURlZmF1bHRDb21wYXJlKGEsYil7cmV0dXJuLW1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2RlZmF1bHRDb21wYXJlKGEsYil9Z29vZy5hcnJheS5pbnZlcnNlRGVmYXVsdENvbXBhcmU9bW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfaW52ZXJzZURlZmF1bHRDb21wYXJlO2Z1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2RlZmF1bHRDb21wYXJlRXF1YWxpdHkoYSxiKXtyZXR1cm4gYT09PWJ9Z29vZy5hcnJheS5kZWZhdWx0Q29tcGFyZUVxdWFsaXR5PW1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2RlZmF1bHRDb21wYXJlRXF1YWxpdHk7CmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2JpbmFyeUluc2VydChhLGIsYyl7Yz1tb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9iaW5hcnlTZWFyY2goYSxiLGMpO3JldHVybiAwPmM/KG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2luc2VydEF0KGEsYiwtKGMrMSkpLCEwKTohMX1nb29nLmFycmF5LmJpbmFyeUluc2VydD1tb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9iaW5hcnlJbnNlcnQ7ZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfYmluYXJ5UmVtb3ZlKGEsYixjKXtiPW1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2JpbmFyeVNlYXJjaChhLGIsYyk7cmV0dXJuIDA8PWI/bW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfcmVtb3ZlQXQoYSxiKTohMX1nb29nLmFycmF5LmJpbmFyeVJlbW92ZT1tb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9iaW5hcnlSZW1vdmU7CmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2J1Y2tldChhLGIsYyl7Zm9yKHZhciBkPXt9LGU9MDtlPGEubGVuZ3RoO2UrKyl7dmFyIGY9YVtlXSxnPWIuY2FsbChjLGYsZSxhKTt2b2lkIDAhPT1nJiYoZz1kW2ddfHwoZFtnXT1bXSksZy5wdXNoKGYpKX1yZXR1cm4gZH1nb29nLmFycmF5LmJ1Y2tldD1tb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9idWNrZXQ7ZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfYnVja2V0VG9NYXAoYSxiKXtmb3IodmFyIGM9bmV3IE1hcCxkPTA7ZDxhLmxlbmd0aDtkKyspe3ZhciBlPWFbZF0sZj1iKGUsZCxhKTtpZih2b2lkIDAhPT1mKXt2YXIgZz1jLmdldChmKTtnfHwoZz1bXSxjLnNldChmLGcpKTtnLnB1c2goZSl9fXJldHVybiBjfWdvb2cuYXJyYXkuYnVja2V0VG9NYXA9bW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfYnVja2V0VG9NYXA7CmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3RvT2JqZWN0KGEsYixjKXt2YXIgZD17fTttb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9mb3JFYWNoKGEsZnVuY3Rpb24oZSxmKXtkW2IuY2FsbChjLGUsZixhKV09ZX0pO3JldHVybiBkfWdvb2cuYXJyYXkudG9PYmplY3Q9bW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfdG9PYmplY3Q7ZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfdG9NYXAoYSxiKXtmb3IodmFyIGM9bmV3IE1hcCxkPTA7ZDxhLmxlbmd0aDtkKyspe3ZhciBlPWFbZF07Yy5zZXQoYihlLGQsYSksZSl9cmV0dXJuIGN9Z29vZy5hcnJheS50b01hcD1tb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV90b01hcDsKZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfcmFuZ2UoYSxiLGMpe3ZhciBkPVtdLGU9MCxmPWE7Yz1jfHwxO3ZvaWQgMCE9PWImJihlPWEsZj1iKTtpZigwPmMqKGYtZSkpcmV0dXJuW107aWYoMDxjKWZvcihhPWU7YTxmO2ErPWMpZC5wdXNoKGEpO2Vsc2UgZm9yKGE9ZTthPmY7YSs9YylkLnB1c2goYSk7cmV0dXJuIGR9Z29vZy5hcnJheS5yYW5nZT1tb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9yYW5nZTtmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9yZXBlYXQoYSxiKXtmb3IodmFyIGM9W10sZD0wO2Q8YjtkKyspY1tkXT1hO3JldHVybiBjfWdvb2cuYXJyYXkucmVwZWF0PW1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3JlcGVhdDsKZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZmxhdHRlbihhKXtmb3IodmFyIGI9W10sYz0wO2M8YXJndW1lbnRzLmxlbmd0aDtjKyspe3ZhciBkPWFyZ3VtZW50c1tjXTtpZihBcnJheS5pc0FycmF5KGQpKWZvcih2YXIgZT0wO2U8ZC5sZW5ndGg7ZSs9ODE5Mil7dmFyIGY9bW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfc2xpY2UoZCxlLGUrODE5Mik7Zj1tb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9mbGF0dGVuLmFwcGx5KG51bGwsZik7Zm9yKHZhciBnPTA7ZzxmLmxlbmd0aDtnKyspYi5wdXNoKGZbZ10pfWVsc2UgYi5wdXNoKGQpfXJldHVybiBifWdvb2cuYXJyYXkuZmxhdHRlbj1tb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9mbGF0dGVuOwpmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9yb3RhdGUoYSxiKXtnb29nLmFzc2VydHMuYXNzZXJ0KG51bGwhPWEubGVuZ3RoKTthLmxlbmd0aCYmKGIlPWEubGVuZ3RoLDA8Yj9BcnJheS5wcm90b3R5cGUudW5zaGlmdC5hcHBseShhLGEuc3BsaWNlKC1iLGIpKTowPmImJkFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGEsYS5zcGxpY2UoMCwtYikpKTtyZXR1cm4gYX1nb29nLmFycmF5LnJvdGF0ZT1tb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9yb3RhdGU7ZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfbW92ZUl0ZW0oYSxiLGMpe2dvb2cuYXNzZXJ0cy5hc3NlcnQoMDw9YiYmYjxhLmxlbmd0aCk7Z29vZy5hc3NlcnRzLmFzc2VydCgwPD1jJiZjPGEubGVuZ3RoKTtiPUFycmF5LnByb3RvdHlwZS5zcGxpY2UuY2FsbChhLGIsMSk7QXJyYXkucHJvdG90eXBlLnNwbGljZS5jYWxsKGEsYywwLGJbMF0pfWdvb2cuYXJyYXkubW92ZUl0ZW09bW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfbW92ZUl0ZW07CmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3ppcChhKXtpZighYXJndW1lbnRzLmxlbmd0aClyZXR1cm5bXTtmb3IodmFyIGI9W10sYz1hcmd1bWVudHNbMF0ubGVuZ3RoLGQ9MTtkPGFyZ3VtZW50cy5sZW5ndGg7ZCsrKWFyZ3VtZW50c1tkXS5sZW5ndGg8YyYmKGM9YXJndW1lbnRzW2RdLmxlbmd0aCk7Zm9yKGQ9MDtkPGM7ZCsrKXtmb3IodmFyIGU9W10sZj0wO2Y8YXJndW1lbnRzLmxlbmd0aDtmKyspZS5wdXNoKGFyZ3VtZW50c1tmXVtkXSk7Yi5wdXNoKGUpfXJldHVybiBifWdvb2cuYXJyYXkuemlwPW1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3ppcDtmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9zaHVmZmxlKGEsYil7Yj1ifHxNYXRoLnJhbmRvbTtmb3IodmFyIGM9YS5sZW5ndGgtMTswPGM7Yy0tKXt2YXIgZD1NYXRoLmZsb29yKGIoKSooYysxKSksZT1hW2NdO2FbY109YVtkXTthW2RdPWV9fWdvb2cuYXJyYXkuc2h1ZmZsZT1tb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9zaHVmZmxlOwpmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9jb3B5QnlJbmRleChhLGIpe3ZhciBjPVtdO21vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2ZvckVhY2goYixmdW5jdGlvbihkKXtjLnB1c2goYVtkXSl9KTtyZXR1cm4gY31nb29nLmFycmF5LmNvcHlCeUluZGV4PW1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2NvcHlCeUluZGV4O2Z1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2NvbmNhdE1hcChhLGIsYyl7cmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2NvbmNhdC5hcHBseShbXSxtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9tYXAoYSxiLGMpKX1nb29nLmFycmF5LmNvbmNhdE1hcD1tb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9jb25jYXRNYXA7LyoKCgogQ29weXJpZ2h0IChjKSAyMDE1LTIwMTggR29vZ2xlLCBJbmMuLCBOZXRmbGl4LCBJbmMuLCBNaWNyb3NvZnQgQ29ycC4gYW5kIGNvbnRyaWJ1dG9ycwoKIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoKIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqLwp2YXIgbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJGNvbmZpZz17fSxtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJGNvbmZpZ19fZW5hYmxlX3N1cGVyX2dyb3NzX21vZGVfdGhhdF93aWxsX2NhdXNlX2JhZF90aGluZ3M9ITE7Cm1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRjb25maWcuY29uZmlnPXtQcm9taXNlOnZvaWQgMCxzZXQgdXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyhhKXtpZihhKXt2YXIgYj1FcnJvcigpO2NvbnNvbGUud2FybigiREVQUkVDQVRFRCEgUnhKUyB3YXMgc2V0IHRvIHVzZSBkZXByZWNhdGVkIHN5bmNocm9ub3VzIGVycm9yIGhhbmRsaW5nIGJlaGF2aW9yIGJ5IGNvZGUgYXQ6IFxuIitiLnN0YWNrKX1lbHNlIG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkY29uZmlnX19lbmFibGVfc3VwZXJfZ3Jvc3NfbW9kZV90aGF0X3dpbGxfY2F1c2VfYmFkX3RoaW5ncyYmY29uc29sZS5sb2coIlJ4SlM6IEJhY2sgdG8gYSBiZXR0ZXIgZXJyb3IgYmVoYXZpb3IuIFRoYW5rIHlvdS4gPDMiKTttb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJGNvbmZpZ19fZW5hYmxlX3N1cGVyX2dyb3NzX21vZGVfdGhhdF93aWxsX2NhdXNlX2JhZF90aGluZ3M9CmF9LGdldCB1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKCl7cmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkY29uZmlnX19lbmFibGVfc3VwZXJfZ3Jvc3NfbW9kZV90aGF0X3dpbGxfY2F1c2VfYmFkX3RoaW5nc319O3ZhciBtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkc3ltYm9sJG9ic2VydmFibGU9e307bW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHN5bWJvbCRvYnNlcnZhYmxlLm9ic2VydmFibGU9ImZ1bmN0aW9uIj09PXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5vYnNlcnZhYmxlfHwiQEBvYnNlcnZhYmxlIjtmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHV0aWwkaG9zdFJlcG9ydEVycm9yX2hvc3RSZXBvcnRFcnJvcihhKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhyb3cgYTt9LDApfTt2YXIgbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJE9ic2VydmVyPXtlbXB0eTp7Y2xvc2VkOiEwLG5leHQ6ZnVuY3Rpb24oKXt9LGVycm9yOmZ1bmN0aW9uKGEpe2lmKG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRjb25maWcuY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpdGhyb3cgYTttb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHV0aWwkaG9zdFJlcG9ydEVycm9yX2hvc3RSZXBvcnRFcnJvcihhKX0sY29tcGxldGU6ZnVuY3Rpb24oKXt9fX07dmFyIG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkdXRpbCRVbnN1YnNjcmlwdGlvbkVycm9yX1Vuc3Vic2NyaXB0aW9uRXJyb3JJbXBsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiKXt0aGlzLm1lc3NhZ2U9Yj9iLmxlbmd0aCsiIGVycm9ycyBvY2N1cnJlZCBkdXJpbmcgdW5zdWJzY3JpcHRpb246XG4iK2IubWFwKGZ1bmN0aW9uKGMsZCl7cmV0dXJuIGQrMSsiKSAiK2MudG9TdHJpbmcoKX0pLmpvaW4oIlxuICAiKToiIjt0aGlzLm5hbWU9IlVuc3Vic2NyaXB0aW9uRXJyb3IiO3RoaXMuZXJyb3JzPWI7cmV0dXJuIHRoaXN9YS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpO3JldHVybiBhfSgpO3ZhciBtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkdXRpbCRpc0FycmF5PXt9O21vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCR1dGlsJGlzQXJyYXkuaXNBcnJheT1BcnJheS5pc0FycmF5fHxmdW5jdGlvbihhKXtyZXR1cm4gYSYmIm51bWJlciI9PT10eXBlb2YgYS5sZW5ndGh9O2Z1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkdXRpbCRpc0Z1bmN0aW9uX2lzRnVuY3Rpb24oYSl7cmV0dXJuImZ1bmN0aW9uIj09PXR5cGVvZiBhfTtmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHV0aWwkaXNPYmplY3RfaXNPYmplY3QoYSl7cmV0dXJuIG51bGwhPT1hJiYib2JqZWN0Ij09PXR5cGVvZiBhfTt2YXIgbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJFN1YnNjcmlwdGlvbj17U3Vic2NyaXB0aW9uOmZ1bmN0aW9uKGEpe3RoaXMuY2xvc2VkPSExO3RoaXMuX3N1YnNjcmlwdGlvbnM9dGhpcy5fcGFyZW50T3JQYXJlbnRzPW51bGw7YSYmKHRoaXMuX2N0b3JVbnN1YnNjcmliZT0hMCx0aGlzLl91bnN1YnNjcmliZT1hKX19Owptb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkU3Vic2NyaXB0aW9uLlN1YnNjcmlwdGlvbi5wcm90b3R5cGUudW5zdWJzY3JpYmU9ZnVuY3Rpb24oKXtpZighdGhpcy5jbG9zZWQpe3ZhciBhPXRoaXMsYj1hLl9wYXJlbnRPclBhcmVudHMsYz1hLl9jdG9yVW5zdWJzY3JpYmUsZD1hLl91bnN1YnNjcmliZSxlPWEuX3N1YnNjcmlwdGlvbnM7dGhpcy5jbG9zZWQ9ITA7dGhpcy5fc3Vic2NyaXB0aW9ucz10aGlzLl9wYXJlbnRPclBhcmVudHM9bnVsbDtpZihiIGluc3RhbmNlb2YgbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJFN1YnNjcmlwdGlvbi5TdWJzY3JpcHRpb24pYi5yZW1vdmUodGhpcyk7ZWxzZSBpZihudWxsIT09Yilmb3IoYT0wO2E8Yi5sZW5ndGg7KythKXt2YXIgZj1iW2FdO2YucmVtb3ZlKHRoaXMpfWlmKG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkdXRpbCRpc0Z1bmN0aW9uX2lzRnVuY3Rpb24oZCkpe2MmJgoodGhpcy5fdW5zdWJzY3JpYmU9dm9pZCAwKTt0cnl7ZC5jYWxsKHRoaXMpfWNhdGNoKGgpe3ZhciBnPWggaW5zdGFuY2VvZiBtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHV0aWwkVW5zdWJzY3JpcHRpb25FcnJvcl9VbnN1YnNjcmlwdGlvbkVycm9ySW1wbD9tb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJFN1YnNjcmlwdGlvbl9mbGF0dGVuVW5zdWJzY3JpcHRpb25FcnJvcnMoaC5lcnJvcnMpOltoXX19aWYoKDAsbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHV0aWwkaXNBcnJheS5pc0FycmF5KShlKSlmb3IoYT0tMSxmPWUubGVuZ3RoOysrYTxmOyl7dmFyIGs9ZVthXTtpZihtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHV0aWwkaXNPYmplY3RfaXNPYmplY3QoaykpdHJ5e2sudW5zdWJzY3JpYmUoKX1jYXRjaChoKXtnPQpnfHxbXSxoIGluc3RhbmNlb2YgbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCR1dGlsJFVuc3Vic2NyaXB0aW9uRXJyb3JfVW5zdWJzY3JpcHRpb25FcnJvckltcGw/Zz1nLmNvbmNhdChtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJFN1YnNjcmlwdGlvbl9mbGF0dGVuVW5zdWJzY3JpcHRpb25FcnJvcnMoaC5lcnJvcnMpKTpnLnB1c2goaCl9fWlmKGcpdGhyb3cgbmV3IG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkdXRpbCRVbnN1YnNjcmlwdGlvbkVycm9yX1Vuc3Vic2NyaXB0aW9uRXJyb3JJbXBsKGcpO319Owptb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkU3Vic2NyaXB0aW9uLlN1YnNjcmlwdGlvbi5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGEpe3ZhciBiPWE7aWYoIWEpcmV0dXJuIG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRTdWJzY3JpcHRpb24uU3Vic2NyaXB0aW9uLkVNUFRZO3N3aXRjaCh0eXBlb2YgYSl7Y2FzZSAiZnVuY3Rpb24iOmI9bmV3IG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRTdWJzY3JpcHRpb24uU3Vic2NyaXB0aW9uKGEpO2Nhc2UgIm9iamVjdCI6aWYoYj09PXRoaXN8fGIuY2xvc2VkfHwiZnVuY3Rpb24iIT09dHlwZW9mIGIudW5zdWJzY3JpYmUpcmV0dXJuIGI7aWYodGhpcy5jbG9zZWQpcmV0dXJuIGIudW5zdWJzY3JpYmUoKSxiO2IgaW5zdGFuY2VvZiBtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkU3Vic2NyaXB0aW9uLlN1YnNjcmlwdGlvbnx8CihhPWIsYj1uZXcgbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJFN1YnNjcmlwdGlvbi5TdWJzY3JpcHRpb24sYi5fc3Vic2NyaXB0aW9ucz1bYV0pO2JyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IoInVucmVjb2duaXplZCB0ZWFyZG93biAiK2ErIiBhZGRlZCB0byBTdWJzY3JpcHRpb24uIik7fWE9Yjt2YXIgYz1hLl9wYXJlbnRPclBhcmVudHM7aWYobnVsbD09PWMpYi5fcGFyZW50T3JQYXJlbnRzPXRoaXM7ZWxzZSBpZihjIGluc3RhbmNlb2YgbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJFN1YnNjcmlwdGlvbi5TdWJzY3JpcHRpb24pe2lmKGM9PT10aGlzKXJldHVybiBiO2IuX3BhcmVudE9yUGFyZW50cz1bYyx0aGlzXX1lbHNlIGlmKC0xPT09Yy5pbmRleE9mKHRoaXMpKWMucHVzaCh0aGlzKTtlbHNlIHJldHVybiBiO2E9dGhpcy5fc3Vic2NyaXB0aW9uczsKbnVsbD09PWE/dGhpcy5fc3Vic2NyaXB0aW9ucz1bYl06YS5wdXNoKGIpO3JldHVybiBifTttb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkU3Vic2NyaXB0aW9uLlN1YnNjcmlwdGlvbi5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuX3N1YnNjcmlwdGlvbnM7YiYmKGE9Yi5pbmRleE9mKGEpLC0xIT09YSYmYi5zcGxpY2UoYSwxKSl9O3ZhciBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQkanNjb21wJDEyOCxlbXB0eSRqc2NvbXAkaW5saW5lXzE2Nz1uZXcgbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJFN1YnNjcmlwdGlvbi5TdWJzY3JpcHRpb247ZW1wdHkkanNjb21wJGlubGluZV8xNjcuY2xvc2VkPSEwO0pTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCRqc2NvbXAkMTI4PWVtcHR5JGpzY29tcCRpbmxpbmVfMTY3Owptb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkU3Vic2NyaXB0aW9uLlN1YnNjcmlwdGlvbi5FTVBUWT1KU0NvbXBpbGVyX2lubGluZV9yZXN1bHQkanNjb21wJDEyODtmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJFN1YnNjcmlwdGlvbl9pc1N1YnNjcmlwdGlvbihhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRTdWJzY3JpcHRpb24uU3Vic2NyaXB0aW9ufHxhJiYiY2xvc2VkImluIGEmJiJmdW5jdGlvbiI9PT10eXBlb2YgYS5yZW1vdmUmJiJmdW5jdGlvbiI9PT10eXBlb2YgYS5hZGQmJiJmdW5jdGlvbiI9PT10eXBlb2YgYS51bnN1YnNjcmliZX0KbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJFN1YnNjcmlwdGlvbi5pc1N1YnNjcmlwdGlvbj1tb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJFN1YnNjcmlwdGlvbl9pc1N1YnNjcmlwdGlvbjtmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJFN1YnNjcmlwdGlvbl9mbGF0dGVuVW5zdWJzY3JpcHRpb25FcnJvcnMoYSl7cmV0dXJuIGEucmVkdWNlKGZ1bmN0aW9uKGIsYyl7cmV0dXJuIGIuY29uY2F0KGMgaW5zdGFuY2VvZiBtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHV0aWwkVW5zdWJzY3JpcHRpb25FcnJvcl9VbnN1YnNjcmlwdGlvbkVycm9ySW1wbD9jLmVycm9yczpjKX0sW10pfTt2YXIgbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJFN1YnNjcmliZXI9e1N1YnNjcmliZXI6ZnVuY3Rpb24oYSxiLGMpe21vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRTdWJzY3JpcHRpb24uU3Vic2NyaXB0aW9uLmNhbGwodGhpcyk7dGhpcy5zeW5jRXJyb3JWYWx1ZT1udWxsO3RoaXMuaXNTdG9wcGVkPXRoaXMuc3luY0Vycm9yVGhyb3dhYmxlPXRoaXMuc3luY0Vycm9yVGhyb3duPSExO3N3aXRjaChhcmd1bWVudHMubGVuZ3RoKXtjYXNlIDA6dGhpcy5kZXN0aW5hdGlvbj1tb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkT2JzZXJ2ZXIuZW1wdHk7YnJlYWs7Y2FzZSAxOmlmKCFhKXt0aGlzLmRlc3RpbmF0aW9uPW1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRPYnNlcnZlci5lbXB0eTsKYnJlYWt9aWYoIm9iamVjdCI9PT10eXBlb2YgYSl7YSBpbnN0YW5jZW9mIG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRTdWJzY3JpYmVyLlN1YnNjcmliZXI/KHRoaXMuc3luY0Vycm9yVGhyb3dhYmxlPWEuc3luY0Vycm9yVGhyb3dhYmxlLHRoaXMuZGVzdGluYXRpb249YSxhLmFkZCh0aGlzKSk6KHRoaXMuc3luY0Vycm9yVGhyb3dhYmxlPSEwLHRoaXMuZGVzdGluYXRpb249bmV3IG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRTdWJzY3JpYmVyLlNhZmVTdWJzY3JpYmVyKHRoaXMsYSkpO2JyZWFrfWRlZmF1bHQ6dGhpcy5zeW5jRXJyb3JUaHJvd2FibGU9ITAsdGhpcy5kZXN0aW5hdGlvbj1uZXcgbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJFN1YnNjcmliZXIuU2FmZVN1YnNjcmliZXIodGhpcywKYSxiLGMpfX19OyRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJFN1YnNjcmliZXIuU3Vic2NyaWJlcixtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkU3Vic2NyaXB0aW9uLlN1YnNjcmlwdGlvbik7bW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJFN1YnNjcmliZXIuU3Vic2NyaWJlci5jcmVhdGU9ZnVuY3Rpb24oYSxiLGMpe2E9bmV3IG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRTdWJzY3JpYmVyLlN1YnNjcmliZXIoYSxiLGMpO2Euc3luY0Vycm9yVGhyb3dhYmxlPSExO3JldHVybiBhfTsKbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJFN1YnNjcmliZXIuU3Vic2NyaWJlci5wcm90b3R5cGUubmV4dD1mdW5jdGlvbihhKXt0aGlzLmlzU3RvcHBlZHx8dGhpcy5fbmV4dChhKX07bW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJFN1YnNjcmliZXIuU3Vic2NyaWJlci5wcm90b3R5cGUuZXJyb3I9ZnVuY3Rpb24oYSl7dGhpcy5pc1N0b3BwZWR8fCh0aGlzLmlzU3RvcHBlZD0hMCx0aGlzLl9lcnJvcihhKSl9O21vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRTdWJzY3JpYmVyLlN1YnNjcmliZXIucHJvdG90eXBlLmNvbXBsZXRlPWZ1bmN0aW9uKCl7dGhpcy5pc1N0b3BwZWR8fCh0aGlzLmlzU3RvcHBlZD0hMCx0aGlzLl9jb21wbGV0ZSgpKX07Cm1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRTdWJzY3JpYmVyLlN1YnNjcmliZXIucHJvdG90eXBlLnVuc3Vic2NyaWJlPWZ1bmN0aW9uKCl7dGhpcy5jbG9zZWR8fCh0aGlzLmlzU3RvcHBlZD0hMCxtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkU3Vic2NyaXB0aW9uLlN1YnNjcmlwdGlvbi5wcm90b3R5cGUudW5zdWJzY3JpYmUuY2FsbCh0aGlzKSl9O21vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRTdWJzY3JpYmVyLlN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0PWZ1bmN0aW9uKGEpe3RoaXMuZGVzdGluYXRpb24ubmV4dChhKX07Cm1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRTdWJzY3JpYmVyLlN1YnNjcmliZXIucHJvdG90eXBlLl9lcnJvcj1mdW5jdGlvbihhKXt0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGEpO3RoaXMudW5zdWJzY3JpYmUoKX07bW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJFN1YnNjcmliZXIuU3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlPWZ1bmN0aW9uKCl7dGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO3RoaXMudW5zdWJzY3JpYmUoKX07Cm1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRTdWJzY3JpYmVyLlNhZmVTdWJzY3JpYmVyPWZ1bmN0aW9uKGEsYixjLGQpe21vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRTdWJzY3JpYmVyLlN1YnNjcmliZXIuY2FsbCh0aGlzKTt0aGlzLl9wYXJlbnRTdWJzY3JpYmVyPWE7dmFyIGU9dGhpcztpZihtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHV0aWwkaXNGdW5jdGlvbl9pc0Z1bmN0aW9uKGIpKXZhciBmPWI7ZWxzZSBiJiYoZj1iLm5leHQsYz1iLmVycm9yLGQ9Yi5jb21wbGV0ZSxiIT09bW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJE9ic2VydmVyLmVtcHR5JiYoZT1PYmplY3QuY3JlYXRlKGIpLG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkU3Vic2NyaXB0aW9uX2lzU3Vic2NyaXB0aW9uKGIpJiYKYi5hZGQodGhpcy51bnN1YnNjcmliZS5iaW5kKHRoaXMpKSxlLnVuc3Vic2NyaWJlPXRoaXMudW5zdWJzY3JpYmUuYmluZCh0aGlzKSkpO3RoaXMuX2NvbnRleHQ9ZTt0aGlzLl9uZXh0PWY7dGhpcy5fZXJyb3I9Yzt0aGlzLl9jb21wbGV0ZT1kfTskanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRTdWJzY3JpYmVyLlNhZmVTdWJzY3JpYmVyLG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRTdWJzY3JpYmVyLlN1YnNjcmliZXIpOwptb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkU3Vic2NyaWJlci5TYWZlU3Vic2NyaWJlci5wcm90b3R5cGUubmV4dD1mdW5jdGlvbihhKXtpZighdGhpcy5pc1N0b3BwZWQmJnRoaXMuX25leHQpe3ZhciBiPXRoaXMsYz1iLl9wYXJlbnRTdWJzY3JpYmVyO21vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRjb25maWcuY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcmJmMuc3luY0Vycm9yVGhyb3dhYmxlP3RoaXMuX190cnlPclNldEVycm9yKGMsdGhpcy5fbmV4dCxhKSYmdGhpcy51bnN1YnNjcmliZSgpOnRoaXMuX190cnlPclVuc3ViKHRoaXMuX25leHQsYSl9fTsKbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJFN1YnNjcmliZXIuU2FmZVN1YnNjcmliZXIucHJvdG90eXBlLmVycm9yPWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmlzU3RvcHBlZCl7dmFyIGI9dGhpcyxjPWIuX3BhcmVudFN1YnNjcmliZXI7Yj1tb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkY29uZmlnLmNvbmZpZztiPWIudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZztpZih0aGlzLl9lcnJvciliJiZjLnN5bmNFcnJvclRocm93YWJsZT90aGlzLl9fdHJ5T3JTZXRFcnJvcihjLHRoaXMuX2Vycm9yLGEpOnRoaXMuX190cnlPclVuc3ViKHRoaXMuX2Vycm9yLGEpLHRoaXMudW5zdWJzY3JpYmUoKTtlbHNlIGlmKGMuc3luY0Vycm9yVGhyb3dhYmxlKWI/KGMuc3luY0Vycm9yVmFsdWU9YSxjLnN5bmNFcnJvclRocm93bj0hMCk6bW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCR1dGlsJGhvc3RSZXBvcnRFcnJvcl9ob3N0UmVwb3J0RXJyb3IoYSksCnRoaXMudW5zdWJzY3JpYmUoKTtlbHNle3RoaXMudW5zdWJzY3JpYmUoKTtpZihiKXRocm93IGE7bW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCR1dGlsJGhvc3RSZXBvcnRFcnJvcl9ob3N0UmVwb3J0RXJyb3IoYSl9fX07Cm1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRTdWJzY3JpYmVyLlNhZmVTdWJzY3JpYmVyLnByb3RvdHlwZS5jb21wbGV0ZT1mdW5jdGlvbigpe3ZhciBhPXRoaXM7aWYoIXRoaXMuaXNTdG9wcGVkKXt2YXIgYj10aGlzLGM9Yi5fcGFyZW50U3Vic2NyaWJlcjt0aGlzLl9jb21wbGV0ZSYmKGI9ZnVuY3Rpb24oKXtyZXR1cm4gYS5fY29tcGxldGUuY2FsbChhLl9jb250ZXh0KX0sbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJGNvbmZpZy5jb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyYmYy5zeW5jRXJyb3JUaHJvd2FibGU/dGhpcy5fX3RyeU9yU2V0RXJyb3IoYyxiKTp0aGlzLl9fdHJ5T3JVbnN1YihiKSk7dGhpcy51bnN1YnNjcmliZSgpfX07Cm1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRTdWJzY3JpYmVyLlNhZmVTdWJzY3JpYmVyLnByb3RvdHlwZS5fX3RyeU9yVW5zdWI9ZnVuY3Rpb24oYSxiKXt0cnl7YS5jYWxsKHRoaXMuX2NvbnRleHQsYil9Y2F0Y2goYyl7dGhpcy51bnN1YnNjcmliZSgpO2lmKG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRjb25maWcuY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpdGhyb3cgYzttb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHV0aWwkaG9zdFJlcG9ydEVycm9yX2hvc3RSZXBvcnRFcnJvcihjKX19Owptb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkU3Vic2NyaWJlci5TYWZlU3Vic2NyaWJlci5wcm90b3R5cGUuX190cnlPclNldEVycm9yPWZ1bmN0aW9uKGEsYixjKXtpZighbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJGNvbmZpZy5jb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyl0aHJvdyBFcnJvcigiYmFkIGNhbGwiKTt0cnl7Yi5jYWxsKHRoaXMuX2NvbnRleHQsYyl9Y2F0Y2goZCl7cmV0dXJuIG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRjb25maWcuY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmc/KGEuc3luY0Vycm9yVmFsdWU9ZCxhLnN5bmNFcnJvclRocm93bj0hMCk6bW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCR1dGlsJGhvc3RSZXBvcnRFcnJvcl9ob3N0UmVwb3J0RXJyb3IoZCksCiEwfXJldHVybiExfTttb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkU3Vic2NyaWJlci5TYWZlU3Vic2NyaWJlci5wcm90b3R5cGUuX3Vuc3Vic2NyaWJlPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuX3BhcmVudFN1YnNjcmliZXI7dGhpcy5fcGFyZW50U3Vic2NyaWJlcj10aGlzLl9jb250ZXh0PW51bGw7Yi51bnN1YnNjcmliZSgpfTtmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHV0aWwkaWRlbnRpdHlfaWRlbnRpdHkoYSl7cmV0dXJuIGF9O2Z1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkdXRpbCRwaXBlX3BpcGVGcm9tQXJyYXkoYSl7cmV0dXJuIDA9PT1hLmxlbmd0aD9tb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHV0aWwkaWRlbnRpdHlfaWRlbnRpdHk6MT09PWEubGVuZ3RoP2FbMF06ZnVuY3Rpb24oYil7cmV0dXJuIGEucmVkdWNlKGZ1bmN0aW9uKGMsZCl7cmV0dXJuIGQoYyl9LGIpfX07ZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCR1dGlsJHRvU3Vic2NyaWJlcl9pc09ic2VydmVyKGEpe3JldHVybiBhJiYiZnVuY3Rpb24iPT09dHlwZW9mIGEubmV4dCYmImZ1bmN0aW9uIj09PXR5cGVvZiBhLmVycm9yJiYiZnVuY3Rpb24iPT09dHlwZW9mIGEuY29tcGxldGV9dmFyIG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkdXRpbCR0b1N1YnNjcmliZXJfRnVsbE9ic2VydmVyU3Vic2NyaWJlcj1mdW5jdGlvbihhKXttb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkU3Vic2NyaWJlci5TdWJzY3JpYmVyLmNhbGwodGhpcyk7dGhpcy5kZXN0aW5hdGlvbj1hfTsKJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHV0aWwkdG9TdWJzY3JpYmVyX0Z1bGxPYnNlcnZlclN1YnNjcmliZXIsbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJFN1YnNjcmliZXIuU3Vic2NyaWJlcik7dmFyIG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRPYnNlcnZhYmxlPXtPYnNlcnZhYmxlOmZ1bmN0aW9uKGEpe2EmJih0aGlzLl9zdWJzY3JpYmU9YSl9fTttb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkT2JzZXJ2YWJsZS5PYnNlcnZhYmxlLnByb3RvdHlwZS5saWZ0PWZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkT2JzZXJ2YWJsZS5PYnNlcnZhYmxlO2Iuc291cmNlPXRoaXM7Yi5vcGVyYXRvcj1hO3JldHVybiBifTsKbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJE9ic2VydmFibGUuT2JzZXJ2YWJsZS5wcm90b3R5cGUuc3Vic2NyaWJlPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzO2Q9ZC5vcGVyYXRvcjthOntpZihhKXtpZihhIGluc3RhbmNlb2YgbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJFN1YnNjcmliZXIuU3Vic2NyaWJlcnx8bW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCR1dGlsJHRvU3Vic2NyaWJlcl9pc09ic2VydmVyKGEpJiZtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJFN1YnNjcmlwdGlvbl9pc1N1YnNjcmlwdGlvbihhKSl7Yz1hO2JyZWFrIGF9aWYobW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCR1dGlsJHRvU3Vic2NyaWJlcl9pc09ic2VydmVyKGEpKXtjPQpuZXcgbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCR1dGlsJHRvU3Vic2NyaWJlcl9GdWxsT2JzZXJ2ZXJTdWJzY3JpYmVyKGEpO2JyZWFrIGF9fWM9YXx8Ynx8Yz9uZXcgbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJFN1YnNjcmliZXIuU3Vic2NyaWJlcihhLGIsYyk6bmV3IG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRTdWJzY3JpYmVyLlN1YnNjcmliZXIobW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJE9ic2VydmVyLmVtcHR5KX1kP2MuYWRkKGQuY2FsbChjLHRoaXMuc291cmNlKSk6Yy5hZGQodGhpcy5zb3VyY2V8fG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRjb25maWcuY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcmJgohYy5zeW5jRXJyb3JUaHJvd2FibGU/dGhpcy5fc3Vic2NyaWJlKGMpOnRoaXMuX3RyeVN1YnNjcmliZShjKSk7aWYobW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJGNvbmZpZy5jb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyYmYy5zeW5jRXJyb3JUaHJvd2FibGUmJihjLnN5bmNFcnJvclRocm93YWJsZT0hMSxjLnN5bmNFcnJvclRocm93bikpdGhyb3cgYy5zeW5jRXJyb3JWYWx1ZTtyZXR1cm4gY307Cm1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRPYnNlcnZhYmxlLk9ic2VydmFibGUucHJvdG90eXBlLl90cnlTdWJzY3JpYmU9ZnVuY3Rpb24oYSl7dHJ5e3JldHVybiB0aGlzLl9zdWJzY3JpYmUoYSl9Y2F0Y2goZSl7bW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJGNvbmZpZy5jb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyYmKGEuc3luY0Vycm9yVGhyb3duPSEwLGEuc3luY0Vycm9yVmFsdWU9ZSk7dmFyIGI7YTp7Zm9yKGI9YTtiOyl7dmFyIGM9YjtiPWMuY2xvc2VkO3ZhciBkPWMuZGVzdGluYXRpb247Yz1jLmlzU3RvcHBlZDtpZihifHxjKXtiPSExO2JyZWFrIGF9Yj1kJiZkIGluc3RhbmNlb2YgbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJFN1YnNjcmliZXIuU3Vic2NyaWJlcj8KZDpudWxsfWI9ITB9Yj9hLmVycm9yKGUpOmNvbnNvbGUud2FybihlKX19O21vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRPYnNlcnZhYmxlLk9ic2VydmFibGUucHJvdG90eXBlLmZvckVhY2g9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzO2I9bW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRPYnNlcnZhYmxlX2dldFByb21pc2VDdG9yKGIpO3JldHVybiBuZXcgYihmdW5jdGlvbihkLGUpe3ZhciBmPWMuc3Vic2NyaWJlKGZ1bmN0aW9uKGcpe3RyeXthKGcpfWNhdGNoKGspe2UoayksZiYmZi51bnN1YnNjcmliZSgpfX0sZSxkKX0pfTsKbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJE9ic2VydmFibGUuT2JzZXJ2YWJsZS5wcm90b3R5cGUuX3N1YnNjcmliZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzO3JldHVybihiPWIuc291cmNlKSYmYi5zdWJzY3JpYmUoYSl9O21vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRPYnNlcnZhYmxlLk9ic2VydmFibGUucHJvdG90eXBlW21vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRzeW1ib2wkb2JzZXJ2YWJsZS5vYnNlcnZhYmxlXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfTsKbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJE9ic2VydmFibGUuT2JzZXJ2YWJsZS5wcm90b3R5cGUucGlwZT1mdW5jdGlvbigpe3ZhciBhPSRqc2NvbXAuZ2V0UmVzdEFyZ3VtZW50cy5hcHBseSgwLGFyZ3VtZW50cyk7cmV0dXJuIDA9PT1hLmxlbmd0aD90aGlzOm1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkdXRpbCRwaXBlX3BpcGVGcm9tQXJyYXkoYSkodGhpcyl9O21vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRPYnNlcnZhYmxlLk9ic2VydmFibGUuY3JlYXRlPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJE9ic2VydmFibGUuT2JzZXJ2YWJsZShhKX07CmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkT2JzZXJ2YWJsZV9nZXRQcm9taXNlQ3RvcihhKXthfHwoYT1tb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkY29uZmlnLmNvbmZpZy5Qcm9taXNlfHxQcm9taXNlKTtpZighYSl0aHJvdyBFcnJvcigibm8gUHJvbWlzZSBpbXBsIGZvdW5kIik7cmV0dXJuIGF9O3ZhciBtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkU3ViamVjdFN1YnNjcmlwdGlvbj17U3ViamVjdFN1YnNjcmlwdGlvbjpmdW5jdGlvbihhLGIpe21vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRTdWJzY3JpcHRpb24uU3Vic2NyaXB0aW9uLmNhbGwodGhpcyk7dGhpcy5zdWJqZWN0PWE7dGhpcy5zdWJzY3JpYmVyPWI7dGhpcy5jbG9zZWQ9ITF9fTskanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRTdWJqZWN0U3Vic2NyaXB0aW9uLlN1YmplY3RTdWJzY3JpcHRpb24sbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJFN1YnNjcmlwdGlvbi5TdWJzY3JpcHRpb24pOwptb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkU3ViamVjdFN1YnNjcmlwdGlvbi5TdWJqZWN0U3Vic2NyaXB0aW9uLnByb3RvdHlwZS51bnN1YnNjcmliZT1mdW5jdGlvbigpe2lmKCF0aGlzLmNsb3NlZCl7dGhpcy5jbG9zZWQ9ITA7dmFyIGE9dGhpcy5zdWJqZWN0LGI9YS5vYnNlcnZlcnM7dGhpcy5zdWJqZWN0PW51bGw7IWJ8fDA9PT1iLmxlbmd0aHx8YS5pc1N0b3BwZWR8fGEuY2xvc2VkfHwoYT1iLmluZGV4T2YodGhpcy5zdWJzY3JpYmVyKSwtMSE9PWEmJmIuc3BsaWNlKGEsMSkpfX07dmFyIG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkdXRpbCRPYmplY3RVbnN1YnNjcmliZWRFcnJvcl9PYmplY3RVbnN1YnNjcmliZWRFcnJvckltcGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7dGhpcy5tZXNzYWdlPSJvYmplY3QgdW5zdWJzY3JpYmVkIjt0aGlzLm5hbWU9Ik9iamVjdFVuc3Vic2NyaWJlZEVycm9yIjtyZXR1cm4gdGhpc31hLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSk7cmV0dXJuIGF9KCk7dmFyIG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRTdWJqZWN0PXtTdWJqZWN0OmZ1bmN0aW9uKCl7bW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJE9ic2VydmFibGUuT2JzZXJ2YWJsZS5jYWxsKHRoaXMpO3RoaXMub2JzZXJ2ZXJzPVtdO3RoaXMuaGFzRXJyb3I9dGhpcy5pc1N0b3BwZWQ9dGhpcy5jbG9zZWQ9ITE7dGhpcy50aHJvd25FcnJvcj1udWxsfX07JGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkU3ViamVjdC5TdWJqZWN0LG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRPYnNlcnZhYmxlLk9ic2VydmFibGUpOwptb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkU3ViamVjdC5TdWJqZWN0LnByb3RvdHlwZS5saWZ0PWZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkU3ViamVjdC5Bbm9ueW1vdXNTdWJqZWN0KHRoaXMsdGhpcyk7Yi5vcGVyYXRvcj1hO3JldHVybiBifTsKbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJFN1YmplY3QuU3ViamVjdC5wcm90b3R5cGUubmV4dD1mdW5jdGlvbihhKXtpZih0aGlzLmNsb3NlZCl0aHJvdyBuZXcgbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCR1dGlsJE9iamVjdFVuc3Vic2NyaWJlZEVycm9yX09iamVjdFVuc3Vic2NyaWJlZEVycm9ySW1wbDtpZighdGhpcy5pc1N0b3BwZWQpe3ZhciBiPXRoaXMsYz1iLm9ic2VydmVycztiPWMubGVuZ3RoO2M9Yy5zbGljZSgpO2Zvcih2YXIgZD0wO2Q8YjtkKyspY1tkXS5uZXh0KGEpfX07Cm1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRTdWJqZWN0LlN1YmplY3QucHJvdG90eXBlLmVycm9yPWZ1bmN0aW9uKGEpe2lmKHRoaXMuY2xvc2VkKXRocm93IG5ldyBtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHV0aWwkT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3JfT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3JJbXBsO3RoaXMuaGFzRXJyb3I9ITA7dGhpcy50aHJvd25FcnJvcj1hO3RoaXMuaXNTdG9wcGVkPSEwO3ZhciBiPXRoaXMsYz1iLm9ic2VydmVycztiPWMubGVuZ3RoO2M9Yy5zbGljZSgpO2Zvcih2YXIgZD0wO2Q8YjtkKyspY1tkXS5lcnJvcihhKTt0aGlzLm9ic2VydmVycy5sZW5ndGg9MH07Cm1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRTdWJqZWN0LlN1YmplY3QucHJvdG90eXBlLmNvbXBsZXRlPWZ1bmN0aW9uKCl7aWYodGhpcy5jbG9zZWQpdGhyb3cgbmV3IG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkdXRpbCRPYmplY3RVbnN1YnNjcmliZWRFcnJvcl9PYmplY3RVbnN1YnNjcmliZWRFcnJvckltcGw7dGhpcy5pc1N0b3BwZWQ9ITA7dmFyIGE9dGhpcyxiPWEub2JzZXJ2ZXJzO2E9Yi5sZW5ndGg7Yj1iLnNsaWNlKCk7Zm9yKHZhciBjPTA7YzxhO2MrKyliW2NdLmNvbXBsZXRlKCk7dGhpcy5vYnNlcnZlcnMubGVuZ3RoPTB9Owptb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkU3ViamVjdC5TdWJqZWN0LnByb3RvdHlwZS51bnN1YnNjcmliZT1mdW5jdGlvbigpe3RoaXMuY2xvc2VkPXRoaXMuaXNTdG9wcGVkPSEwO3RoaXMub2JzZXJ2ZXJzPW51bGx9Owptb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkU3ViamVjdC5TdWJqZWN0LnByb3RvdHlwZS5fdHJ5U3Vic2NyaWJlPWZ1bmN0aW9uKGEpe2lmKHRoaXMuY2xvc2VkKXRocm93IG5ldyBtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHV0aWwkT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3JfT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3JJbXBsO3JldHVybiBtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkT2JzZXJ2YWJsZS5PYnNlcnZhYmxlLnByb3RvdHlwZS5fdHJ5U3Vic2NyaWJlLmNhbGwodGhpcyxhKX07Cm1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRTdWJqZWN0LlN1YmplY3QucHJvdG90eXBlLl9zdWJzY3JpYmU9ZnVuY3Rpb24oYSl7aWYodGhpcy5jbG9zZWQpdGhyb3cgbmV3IG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkdXRpbCRPYmplY3RVbnN1YnNjcmliZWRFcnJvcl9PYmplY3RVbnN1YnNjcmliZWRFcnJvckltcGw7aWYodGhpcy5oYXNFcnJvcilyZXR1cm4gYS5lcnJvcih0aGlzLnRocm93bkVycm9yKSxtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkU3Vic2NyaXB0aW9uLlN1YnNjcmlwdGlvbi5FTVBUWTtpZih0aGlzLmlzU3RvcHBlZClyZXR1cm4gYS5jb21wbGV0ZSgpLG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRTdWJzY3JpcHRpb24uU3Vic2NyaXB0aW9uLkVNUFRZOwp0aGlzLm9ic2VydmVycy5wdXNoKGEpO3JldHVybiBuZXcgbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJFN1YmplY3RTdWJzY3JpcHRpb24uU3ViamVjdFN1YnNjcmlwdGlvbih0aGlzLGEpfTttb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkU3ViamVjdC5TdWJqZWN0LmNyZWF0ZT1mdW5jdGlvbihhLGIpe3JldHVybiBuZXcgbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJFN1YmplY3QuQW5vbnltb3VzU3ViamVjdChhLGIpfTsKbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJFN1YmplY3QuQW5vbnltb3VzU3ViamVjdD1mdW5jdGlvbihhLGIpe21vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRTdWJqZWN0LlN1YmplY3QuY2FsbCh0aGlzKTt0aGlzLmRlc3RpbmF0aW9uPWE7dGhpcy5zb3VyY2U9Yn07JGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkU3ViamVjdC5Bbm9ueW1vdXNTdWJqZWN0LG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRTdWJqZWN0LlN1YmplY3QpOwptb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkU3ViamVjdC5Bbm9ueW1vdXNTdWJqZWN0LnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7KGI9Yi5kZXN0aW5hdGlvbikmJmIubmV4dCYmYi5uZXh0KGEpfTttb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkU3ViamVjdC5Bbm9ueW1vdXNTdWJqZWN0LnByb3RvdHlwZS5lcnJvcj1mdW5jdGlvbihhKXt2YXIgYj10aGlzOyhiPWIuZGVzdGluYXRpb24pJiZiLmVycm9yJiZ0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGEpfTsKbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJFN1YmplY3QuQW5vbnltb3VzU3ViamVjdC5wcm90b3R5cGUuY29tcGxldGU9ZnVuY3Rpb24oKXt2YXIgYT10aGlzOyhhPWEuZGVzdGluYXRpb24pJiZhLmNvbXBsZXRlJiZ0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCl9O21vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRTdWJqZWN0LkFub255bW91c1N1YmplY3QucHJvdG90eXBlLl9zdWJzY3JpYmU9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztyZXR1cm4oYj1iLnNvdXJjZSk/dGhpcy5zb3VyY2Uuc3Vic2NyaWJlKGEpOm1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRTdWJzY3JpcHRpb24uU3Vic2NyaXB0aW9uLkVNUFRZfTt2YXIgbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJEFzeW5jU3ViamVjdD17QXN5bmNTdWJqZWN0OmZ1bmN0aW9uKCl7bW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJFN1YmplY3QuU3ViamVjdC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy52YWx1ZT1udWxsO3RoaXMuaGFzQ29tcGxldGVkPXRoaXMuaGFzTmV4dD0hMX19OyRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJEFzeW5jU3ViamVjdC5Bc3luY1N1YmplY3QsbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJFN1YmplY3QuU3ViamVjdCk7Cm1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRBc3luY1N1YmplY3QuQXN5bmNTdWJqZWN0LnByb3RvdHlwZS5fc3Vic2NyaWJlPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmhhc0Vycm9yPyhhLmVycm9yKHRoaXMudGhyb3duRXJyb3IpLG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRTdWJzY3JpcHRpb24uU3Vic2NyaXB0aW9uLkVNUFRZKTp0aGlzLmhhc0NvbXBsZXRlZCYmdGhpcy5oYXNOZXh0PyhhLm5leHQodGhpcy52YWx1ZSksYS5jb21wbGV0ZSgpLG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRTdWJzY3JpcHRpb24uU3Vic2NyaXB0aW9uLkVNUFRZKTptb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkU3ViamVjdC5TdWJqZWN0LnByb3RvdHlwZS5fc3Vic2NyaWJlLmNhbGwodGhpcywKYSl9O21vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRBc3luY1N1YmplY3QuQXN5bmNTdWJqZWN0LnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKGEpe3RoaXMuaGFzQ29tcGxldGVkfHwodGhpcy52YWx1ZT1hLHRoaXMuaGFzTmV4dD0hMCl9O21vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRBc3luY1N1YmplY3QuQXN5bmNTdWJqZWN0LnByb3RvdHlwZS5lcnJvcj1mdW5jdGlvbihhKXt0aGlzLmhhc0NvbXBsZXRlZHx8bW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJFN1YmplY3QuU3ViamVjdC5wcm90b3R5cGUuZXJyb3IuY2FsbCh0aGlzLGEpfTsKbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJEFzeW5jU3ViamVjdC5Bc3luY1N1YmplY3QucHJvdG90eXBlLmNvbXBsZXRlPWZ1bmN0aW9uKCl7dGhpcy5oYXNDb21wbGV0ZWQ9ITA7dGhpcy5oYXNOZXh0JiZtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkU3ViamVjdC5TdWJqZWN0LnByb3RvdHlwZS5uZXh0LmNhbGwodGhpcyx0aGlzLnZhbHVlKTttb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkU3ViamVjdC5TdWJqZWN0LnByb3RvdHlwZS5jb21wbGV0ZS5jYWxsKHRoaXMpfTt2YXIgbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJEJlaGF2aW9yU3ViamVjdD17QmVoYXZpb3JTdWJqZWN0OmZ1bmN0aW9uKGEpe21vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRTdWJqZWN0LlN1YmplY3QuY2FsbCh0aGlzKTt0aGlzLl92YWx1ZT1hfX07JGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkQmVoYXZpb3JTdWJqZWN0LkJlaGF2aW9yU3ViamVjdCxtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkU3ViamVjdC5TdWJqZWN0KTsKbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJEJlaGF2aW9yU3ViamVjdC5CZWhhdmlvclN1YmplY3QucHJvdG90eXBlLl9zdWJzY3JpYmU9ZnVuY3Rpb24oYSl7dmFyIGI9bW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJFN1YmplY3QuU3ViamVjdC5wcm90b3R5cGUuX3N1YnNjcmliZS5jYWxsKHRoaXMsYSk7YiYmIWIuY2xvc2VkJiZhLm5leHQodGhpcy5fdmFsdWUpO3JldHVybiBifTsKbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJEJlaGF2aW9yU3ViamVjdC5CZWhhdmlvclN1YmplY3QucHJvdG90eXBlLmdldFZhbHVlPWZ1bmN0aW9uKCl7aWYodGhpcy5oYXNFcnJvcil0aHJvdyB0aGlzLnRocm93bkVycm9yO2lmKHRoaXMuY2xvc2VkKXRocm93IG5ldyBtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHV0aWwkT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3JfT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3JJbXBsO3JldHVybiB0aGlzLl92YWx1ZX07Cm1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRCZWhhdmlvclN1YmplY3QuQmVoYXZpb3JTdWJqZWN0LnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKGEpe21vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRTdWJqZWN0LlN1YmplY3QucHJvdG90eXBlLm5leHQuY2FsbCh0aGlzLHRoaXMuX3ZhbHVlPWEpfTskanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkQmVoYXZpb3JTdWJqZWN0LkJlaGF2aW9yU3ViamVjdC5wcm90b3R5cGUse3ZhbHVlOntjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRWYWx1ZSgpfX19KTtmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHNjaGVkdWxlZCRzY2hlZHVsZUFycmF5X3NjaGVkdWxlQXJyYXkoYSxiKXtyZXR1cm4gbmV3IG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRPYnNlcnZhYmxlLk9ic2VydmFibGUoZnVuY3Rpb24oYyl7dmFyIGQ9bmV3IG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRTdWJzY3JpcHRpb24uU3Vic2NyaXB0aW9uLGU9MDtkLmFkZChiLnNjaGVkdWxlKGZ1bmN0aW9uKCl7ZT09PWEubGVuZ3RoP2MuY29tcGxldGUoKTooYy5uZXh0KGFbZSsrXSksYy5jbG9zZWR8fGQuYWRkKHRoaXMuc2NoZWR1bGUoKSkpfSkpO3JldHVybiBkfSl9O3ZhciBtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkdXRpbCRzdWJzY3JpYmVUb0FycmF5PXtzdWJzY3JpYmVUb0FycmF5OmZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtmb3IodmFyIGM9MCxkPWEubGVuZ3RoO2M8ZCYmIWIuY2xvc2VkO2MrKyliLm5leHQoYVtjXSk7Yi5jb21wbGV0ZSgpfX19O2Z1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb2JzZXJ2YWJsZSRmcm9tQXJyYXlfZnJvbUFycmF5KGEsYil7cmV0dXJuIGI/bW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRzY2hlZHVsZWQkc2NoZWR1bGVBcnJheV9zY2hlZHVsZUFycmF5KGEsYik6bmV3IG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRPYnNlcnZhYmxlLk9ic2VydmFibGUoKDAsbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHV0aWwkc3Vic2NyaWJlVG9BcnJheS5zdWJzY3JpYmVUb0FycmF5KShhKSl9O2Z1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkdXRpbCRpc1NjaGVkdWxlcl9pc1NjaGVkdWxlcihhKXtyZXR1cm4gYSYmImZ1bmN0aW9uIj09PXR5cGVvZiBhLnNjaGVkdWxlfTtmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9ic2VydmFibGUkdGhyb3dFcnJvcl90aHJvd0Vycm9yKGEsYil7cmV0dXJuIGI/bmV3IG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRPYnNlcnZhYmxlLk9ic2VydmFibGUoZnVuY3Rpb24oYyl7cmV0dXJuIGIuc2NoZWR1bGUobW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvYnNlcnZhYmxlJHRocm93RXJyb3JfZGlzcGF0Y2gsMCx7ZXJyb3I6YSxzdWJzY3JpYmVyOmN9KX0pOm5ldyBtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkT2JzZXJ2YWJsZS5PYnNlcnZhYmxlKGZ1bmN0aW9uKGMpe3JldHVybiBjLmVycm9yKGEpfSl9CmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb2JzZXJ2YWJsZSR0aHJvd0Vycm9yX2Rpc3BhdGNoKGEpe3ZhciBiPWE7YT1iLmVycm9yO2I9Yi5zdWJzY3JpYmVyO2IuZXJyb3IoYSl9O3ZhciBtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkTm90aWZpY2F0aW9uPXtOb3RpZmljYXRpb25LaW5kOntORVhUOiJOIixFUlJPUjoiRSIsQ09NUExFVEU6IkMifSxOb3RpZmljYXRpb246ZnVuY3Rpb24oYSxiLGMpe3RoaXMua2luZD1hO3RoaXMudmFsdWU9Yjt0aGlzLmVycm9yPWM7dGhpcy5oYXNWYWx1ZT0iTiI9PT1hfX07Cm1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCROb3RpZmljYXRpb24uTm90aWZpY2F0aW9uLnByb3RvdHlwZS5vYnNlcnZlPWZ1bmN0aW9uKGEpe3N3aXRjaCh0aGlzLmtpbmQpe2Nhc2UgIk4iOnZhciBiLGM7bnVsbD09KGM9KGI9YSkubmV4dCl8fGMuY2FsbChiLHRoaXMudmFsdWUpO2JyZWFrO2Nhc2UgIkUiOnZhciBkLGU7bnVsbD09KGU9KGQ9YSkuZXJyb3IpfHxlLmNhbGwoZCx0aGlzLmVycm9yKTticmVhaztjYXNlICJDIjp2YXIgZixnO251bGw9PShnPShmPWEpLmNvbXBsZXRlKXx8Zy5jYWxsKGYpfX07Cm1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCROb3RpZmljYXRpb24uTm90aWZpY2F0aW9uLnByb3RvdHlwZS5kbz1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5raW5kO3N3aXRjaChkKXtjYXNlICJOIjp2YXIgZTtudWxsPT0oZT1hKXx8ZSh0aGlzLnZhbHVlKTticmVhaztjYXNlICJFIjp2YXIgZjtudWxsPT0oZj1iKXx8Zih0aGlzLmVycm9yKTticmVhaztjYXNlICJDIjp2YXIgZztudWxsPT0oZz1jKXx8ZygpfX07bW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJE5vdGlmaWNhdGlvbi5Ob3RpZmljYXRpb24ucHJvdG90eXBlLmFjY2VwdD1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGEmJiJmdW5jdGlvbiI9PT10eXBlb2YgYS5uZXh0P3RoaXMub2JzZXJ2ZShhKTp0aGlzLmRvKGEsYixjKX07Cm1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCROb3RpZmljYXRpb24uTm90aWZpY2F0aW9uLmNyZWF0ZU5leHQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkTm90aWZpY2F0aW9uLk5vdGlmaWNhdGlvbigiTiIsYSl9O21vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCROb3RpZmljYXRpb24uTm90aWZpY2F0aW9uLmNyZWF0ZUVycm9yPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJE5vdGlmaWNhdGlvbi5Ob3RpZmljYXRpb24oIkUiLHZvaWQgMCxhKX07Cm1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCROb3RpZmljYXRpb24uTm90aWZpY2F0aW9uLmNyZWF0ZUNvbXBsZXRlPWZ1bmN0aW9uKCl7cmV0dXJuIG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCROb3RpZmljYXRpb24uTm90aWZpY2F0aW9uLmNvbXBsZXRlTm90aWZpY2F0aW9ufTttb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkTm90aWZpY2F0aW9uLk5vdGlmaWNhdGlvbi5jb21wbGV0ZU5vdGlmaWNhdGlvbj1uZXcgbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJE5vdGlmaWNhdGlvbi5Ob3RpZmljYXRpb24oIkMiKTsKZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCROb3RpZmljYXRpb25fb2JzZXJ2ZU5vdGlmaWNhdGlvbihhLGIpe2lmKCJzdHJpbmciIT09dHlwZW9mIGEua2luZCl0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIG5vdGlmaWNhdGlvbiwgbWlzc2luZyAia2luZCInKTtzd2l0Y2goYS5raW5kKXtjYXNlICJOIjp2YXIgYyxkO251bGw9PShkPShjPWIpLm5leHQpfHxkLmNhbGwoYyxhLnZhbHVlKTticmVhaztjYXNlICJFIjp2YXIgZSxmO251bGw9PShmPShlPWIpLmVycm9yKXx8Zi5jYWxsKGUsYS5lcnJvcik7YnJlYWs7Y2FzZSAiQyI6dmFyIGcsaztudWxsPT0oaz0oZz1iKS5jb21wbGV0ZSl8fGsuY2FsbChnKX19bW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJE5vdGlmaWNhdGlvbi5vYnNlcnZlTm90aWZpY2F0aW9uPW1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkTm90aWZpY2F0aW9uX29ic2VydmVOb3RpZmljYXRpb247Cm1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCROb3RpZmljYXRpb24uQ09NUExFVEVfTk9USUZJQ0FUSU9OPW1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkTm90aWZpY2F0aW9uX2NyZWF0ZU5vdGlmaWNhdGlvbigiQyIsdm9pZCAwLHZvaWQgMCk7ZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCROb3RpZmljYXRpb25fZXJyb3JOb3RpZmljYXRpb24oYSl7cmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkTm90aWZpY2F0aW9uX2NyZWF0ZU5vdGlmaWNhdGlvbigiRSIsdm9pZCAwLGEpfQptb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkTm90aWZpY2F0aW9uLmVycm9yTm90aWZpY2F0aW9uPW1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkTm90aWZpY2F0aW9uX2Vycm9yTm90aWZpY2F0aW9uO2Z1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkTm90aWZpY2F0aW9uX25leHROb3RpZmljYXRpb24oYSl7cmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkTm90aWZpY2F0aW9uX2NyZWF0ZU5vdGlmaWNhdGlvbigiTiIsYSx2b2lkIDApfQptb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkTm90aWZpY2F0aW9uLm5leHROb3RpZmljYXRpb249bW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCROb3RpZmljYXRpb25fbmV4dE5vdGlmaWNhdGlvbjtmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJE5vdGlmaWNhdGlvbl9jcmVhdGVOb3RpZmljYXRpb24oYSxiLGMpe3JldHVybntraW5kOmEsdmFsdWU6YixlcnJvcjpjfX1tb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkTm90aWZpY2F0aW9uLmNyZWF0ZU5vdGlmaWNhdGlvbj1tb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJE5vdGlmaWNhdGlvbl9jcmVhdGVOb3RpZmljYXRpb247dmFyIG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRzY2hlZHVsZXIkZGF0ZVRpbWVzdGFtcFByb3ZpZGVyPXtkYXRlVGltZXN0YW1wUHJvdmlkZXI6e25vdzpmdW5jdGlvbigpe3JldHVybihtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkc2NoZWR1bGVyJGRhdGVUaW1lc3RhbXBQcm92aWRlci5kYXRlVGltZXN0YW1wUHJvdmlkZXIuZGVsZWdhdGV8fERhdGUpLm5vdygpfSxkZWxlZ2F0ZTp2b2lkIDB9fTt2YXIgbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJFJlcGxheVN1YmplY3Q9e1JlcGxheVN1YmplY3Q6ZnVuY3Rpb24oYSxiLGMpe2E9dm9pZCAwPT09YT9JbmZpbml0eTphO2I9dm9pZCAwPT09Yj9JbmZpbml0eTpiO2M9dm9pZCAwPT09Yz9tb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkc2NoZWR1bGVyJGRhdGVUaW1lc3RhbXBQcm92aWRlci5kYXRlVGltZXN0YW1wUHJvdmlkZXI6Yzttb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkU3ViamVjdC5TdWJqZWN0LmNhbGwodGhpcyk7dGhpcy50aW1lc3RhbXBQcm92aWRlcj1jO3RoaXMuX2V2ZW50cz1bXTt0aGlzLl9pbmZpbml0ZVRpbWVXaW5kb3c9ITE7dGhpcy5fYnVmZmVyU2l6ZT0xPmE/MTphO3RoaXMuX3dpbmRvd1RpbWU9MT5iPzE6CmI7SW5maW5pdHk9PT1iPyh0aGlzLl9pbmZpbml0ZVRpbWVXaW5kb3c9ITAsdGhpcy5uZXh0PXRoaXMubmV4dEluZmluaXRlVGltZVdpbmRvdyk6dGhpcy5uZXh0PXRoaXMubmV4dFRpbWVXaW5kb3d9fTskanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRSZXBsYXlTdWJqZWN0LlJlcGxheVN1YmplY3QsbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJFN1YmplY3QuU3ViamVjdCk7Cm1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRSZXBsYXlTdWJqZWN0LlJlcGxheVN1YmplY3QucHJvdG90eXBlLm5leHRJbmZpbml0ZVRpbWVXaW5kb3c9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5fZXZlbnRzO2IucHVzaChhKTtiLmxlbmd0aD50aGlzLl9idWZmZXJTaXplJiZiLnNoaWZ0KCk7bW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJFN1YmplY3QuU3ViamVjdC5wcm90b3R5cGUubmV4dC5jYWxsKHRoaXMsYSl9Owptb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkUmVwbGF5U3ViamVjdC5SZXBsYXlTdWJqZWN0LnByb3RvdHlwZS5uZXh0VGltZVdpbmRvdz1mdW5jdGlvbihhKXt0aGlzLl9ldmVudHMucHVzaCh7dGltZTp0aGlzLl9nZXROb3coKSx2YWx1ZTphfSk7dGhpcy5fdHJpbUJ1ZmZlclRoZW5HZXRFdmVudHMoKTttb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkU3ViamVjdC5TdWJqZWN0LnByb3RvdHlwZS5uZXh0LmNhbGwodGhpcyxhKX07Cm1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRSZXBsYXlTdWJqZWN0LlJlcGxheVN1YmplY3QucHJvdG90eXBlLl9zdWJzY3JpYmU9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5faW5maW5pdGVUaW1lV2luZG93LGM9Yj90aGlzLl9ldmVudHM6dGhpcy5fdHJpbUJ1ZmZlclRoZW5HZXRFdmVudHMoKSxkPWMubGVuZ3RoO2lmKHRoaXMuY2xvc2VkKXRocm93IG5ldyBtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHV0aWwkT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3JfT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3JJbXBsO2lmKHRoaXMuaXNTdG9wcGVkfHx0aGlzLmhhc0Vycm9yKXZhciBlPW1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRTdWJzY3JpcHRpb24uU3Vic2NyaXB0aW9uLkVNUFRZO2Vsc2UgdGhpcy5vYnNlcnZlcnMucHVzaChhKSwKZT1uZXcgbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJFN1YmplY3RTdWJzY3JpcHRpb24uU3ViamVjdFN1YnNjcmlwdGlvbih0aGlzLGEpO2lmKGIpZm9yKHZhciBmPTA7ZjxkJiYhYS5jbG9zZWQ7ZisrKWEubmV4dChjW2ZdKTtlbHNlIGZvcihmPTA7ZjxkJiYhYS5jbG9zZWQ7ZisrKWEubmV4dChjW2ZdLnZhbHVlKTt0aGlzLmhhc0Vycm9yP2EuZXJyb3IodGhpcy50aHJvd25FcnJvcik6dGhpcy5pc1N0b3BwZWQmJmEuY29tcGxldGUoKTtyZXR1cm4gZX07bW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJFJlcGxheVN1YmplY3QuUmVwbGF5U3ViamVjdC5wcm90b3R5cGUuX2dldE5vdz1mdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuKGE9YS50aW1lc3RhbXBQcm92aWRlcik/YS5ub3coKTptb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkc2NoZWR1bGVyJGRhdGVUaW1lc3RhbXBQcm92aWRlci5kYXRlVGltZXN0YW1wUHJvdmlkZXIubm93KCl9Owptb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkUmVwbGF5U3ViamVjdC5SZXBsYXlTdWJqZWN0LnByb3RvdHlwZS5fdHJpbUJ1ZmZlclRoZW5HZXRFdmVudHM9ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5fZ2V0Tm93KCksYj10aGlzLl9idWZmZXJTaXplLGM9dGhpcy5fd2luZG93VGltZSxkPXRoaXMuX2V2ZW50cyxlPWQubGVuZ3RoLGY9MDtmPGUmJiEoYS1kW2ZdLnRpbWU8Yyk7KWYrKztlPmImJihmPU1hdGgubWF4KGYsZS1iKSk7MDxmJiZkLnNwbGljZSgwLGYpO3JldHVybiBkfTt2YXIgbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJFNjaGVkdWxlcj17U2NoZWR1bGVyOmZ1bmN0aW9uKGEsYil7Yj12b2lkIDA9PT1iP21vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRTY2hlZHVsZXIuU2NoZWR1bGVyLm5vdzpiO3RoaXMuU2NoZWR1bGVyQWN0aW9uPWE7dGhpcy5ub3c9Yn19O21vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRTY2hlZHVsZXIuU2NoZWR1bGVyLnByb3RvdHlwZS5zY2hlZHVsZT1mdW5jdGlvbihhLGIsYyl7Yj12b2lkIDA9PT1iPzA6YjtyZXR1cm4obmV3IHRoaXMuU2NoZWR1bGVyQWN0aW9uKHRoaXMsYSkpLnNjaGVkdWxlKGMsYil9Owptb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkU2NoZWR1bGVyLlNjaGVkdWxlci5ub3c9bW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHNjaGVkdWxlciRkYXRlVGltZXN0YW1wUHJvdmlkZXIuZGF0ZVRpbWVzdGFtcFByb3ZpZGVyLm5vdzsoZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7dGhpcy5tZXNzYWdlPSJubyBlbGVtZW50cyBpbiBzZXF1ZW5jZSI7dGhpcy5uYW1lPSJFbXB0eUVycm9yIjtyZXR1cm4gdGhpc31hLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSk7cmV0dXJuIGF9KSgpO2Z1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkdXRpbCRsaWZ0X2xpZnQoYSxiKXtpZihhJiYiZnVuY3Rpb24iPT09dHlwZW9mIGEubGlmdClyZXR1cm4gYS5saWZ0KGIpO3Rocm93IG5ldyBUeXBlRXJyb3IoIlVuYWJsZSB0byBsaWZ0IHVua25vd24gT2JzZXJ2YWJsZSB0eXBlIik7fTtmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRyZWZDb3VudF9yZWZDb3VudCgpe3JldHVybiBmdW5jdGlvbihhKXtyZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCR1dGlsJGxpZnRfbGlmdChhLG5ldyBtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRyZWZDb3VudF9SZWZDb3VudE9wZXJhdG9yKX19dmFyIG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb3BlcmF0b3JzJHJlZkNvdW50X1JlZkNvdW50T3BlcmF0b3I9ZnVuY3Rpb24oKXt9Owptb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRyZWZDb3VudF9SZWZDb3VudE9wZXJhdG9yLnByb3RvdHlwZS5jYWxsPWZ1bmN0aW9uKGEsYil7Yi5fcmVmQ291bnQrKzthPW5ldyBtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRyZWZDb3VudF9SZWZDb3VudFN1YnNjcmliZXIoYSxiKTt2YXIgYz1iLnN1YnNjcmliZShhKTthLmNsb3NlZHx8KGEuY29ubmVjdGlvbj1iLmNvbm5lY3QoKSk7cmV0dXJuIGN9Owp2YXIgbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvcGVyYXRvcnMkcmVmQ291bnRfUmVmQ291bnRTdWJzY3JpYmVyPWZ1bmN0aW9uKGEsYil7bW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJFN1YnNjcmliZXIuU3Vic2NyaWJlci5jYWxsKHRoaXMsYSk7dGhpcy5jb25uZWN0YWJsZT1iO3RoaXMuY29ubmVjdGlvbj1udWxsfTskanNjb21wLmluaGVyaXRzKG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb3BlcmF0b3JzJHJlZkNvdW50X1JlZkNvdW50U3Vic2NyaWJlcixtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkU3Vic2NyaWJlci5TdWJzY3JpYmVyKTsKbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvcGVyYXRvcnMkcmVmQ291bnRfUmVmQ291bnRTdWJzY3JpYmVyLnByb3RvdHlwZS5fdW5zdWJzY3JpYmU9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2lmKGE9YS5jb25uZWN0YWJsZSl7dGhpcy5jb25uZWN0YWJsZT1udWxsO3ZhciBiPWEuX3JlZkNvdW50OzA+PWI/dGhpcy5jb25uZWN0aW9uPW51bGw6KGEuX3JlZkNvdW50PWItMSwxPGI/dGhpcy5jb25uZWN0aW9uPW51bGw6KGI9dGhpcyxiPWIuY29ubmVjdGlvbixhPWEuX2Nvbm5lY3Rpb24sdGhpcy5jb25uZWN0aW9uPW51bGwsIWF8fGImJmEhPT1ifHxhLnVuc3Vic2NyaWJlKCkpKX1lbHNlIHRoaXMuY29ubmVjdGlvbj1udWxsfTt2YXIgbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9ic2VydmFibGUkQ29ubmVjdGFibGVPYnNlcnZhYmxlPXtDb25uZWN0YWJsZU9ic2VydmFibGU6ZnVuY3Rpb24oYSxiKXttb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkT2JzZXJ2YWJsZS5PYnNlcnZhYmxlLmNhbGwodGhpcyk7dGhpcy5zb3VyY2U9YTt0aGlzLnN1YmplY3RGYWN0b3J5PWI7dGhpcy5fcmVmQ291bnQ9MDt0aGlzLl9pc0NvbXBsZXRlPSExfX07JGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb2JzZXJ2YWJsZSRDb25uZWN0YWJsZU9ic2VydmFibGUuQ29ubmVjdGFibGVPYnNlcnZhYmxlLG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRPYnNlcnZhYmxlLk9ic2VydmFibGUpOwptb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb2JzZXJ2YWJsZSRDb25uZWN0YWJsZU9ic2VydmFibGUuQ29ubmVjdGFibGVPYnNlcnZhYmxlLnByb3RvdHlwZS5fc3Vic2NyaWJlPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmdldFN1YmplY3QoKS5zdWJzY3JpYmUoYSl9O21vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvYnNlcnZhYmxlJENvbm5lY3RhYmxlT2JzZXJ2YWJsZS5Db25uZWN0YWJsZU9ic2VydmFibGUucHJvdG90eXBlLmdldFN1YmplY3Q9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl9zdWJqZWN0O2lmKCFhfHxhLmlzU3RvcHBlZCl0aGlzLl9zdWJqZWN0PXRoaXMuc3ViamVjdEZhY3RvcnkoKTtyZXR1cm4gdGhpcy5fc3ViamVjdH07Cm1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvYnNlcnZhYmxlJENvbm5lY3RhYmxlT2JzZXJ2YWJsZS5Db25uZWN0YWJsZU9ic2VydmFibGUucHJvdG90eXBlLmNvbm5lY3Q9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl9jb25uZWN0aW9uO2F8fCh0aGlzLl9pc0NvbXBsZXRlPSExLGE9dGhpcy5fY29ubmVjdGlvbj1uZXcgbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJFN1YnNjcmlwdGlvbi5TdWJzY3JpcHRpb24sYS5hZGQodGhpcy5zb3VyY2Uuc3Vic2NyaWJlKG5ldyBtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9ic2VydmFibGUkQ29ubmVjdGFibGVPYnNlcnZhYmxlX0Nvbm5lY3RhYmxlU3Vic2NyaWJlcih0aGlzLmdldFN1YmplY3QoKSx0aGlzKSkpLGEuY2xvc2VkJiYodGhpcy5fY29ubmVjdGlvbj0KbnVsbCxhPW1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRTdWJzY3JpcHRpb24uU3Vic2NyaXB0aW9uLkVNUFRZKSk7cmV0dXJuIGF9O21vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvYnNlcnZhYmxlJENvbm5lY3RhYmxlT2JzZXJ2YWJsZS5Db25uZWN0YWJsZU9ic2VydmFibGUucHJvdG90eXBlLnJlZkNvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb3BlcmF0b3JzJHJlZkNvdW50X3JlZkNvdW50KCkodGhpcyl9O3ZhciBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQkanNjb21wJDEyOSxjb25uZWN0YWJsZVByb3RvJGpzY29tcCRpbmxpbmVfMTY5PW1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvYnNlcnZhYmxlJENvbm5lY3RhYmxlT2JzZXJ2YWJsZS5Db25uZWN0YWJsZU9ic2VydmFibGUucHJvdG90eXBlOwpKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQkanNjb21wJDEyOT17b3BlcmF0b3I6e3ZhbHVlOm51bGx9LF9yZWZDb3VudDp7dmFsdWU6MCx3cml0YWJsZTohMH0sX3N1YmplY3Q6e3ZhbHVlOm51bGwsd3JpdGFibGU6ITB9LF9jb25uZWN0aW9uOnt2YWx1ZTpudWxsLHdyaXRhYmxlOiEwfSxfc3Vic2NyaWJlOnt2YWx1ZTpjb25uZWN0YWJsZVByb3RvJGpzY29tcCRpbmxpbmVfMTY5Ll9zdWJzY3JpYmV9LF9pc0NvbXBsZXRlOnt2YWx1ZTpjb25uZWN0YWJsZVByb3RvJGpzY29tcCRpbmxpbmVfMTY5Ll9pc0NvbXBsZXRlLHdyaXRhYmxlOiEwfSxnZXRTdWJqZWN0Ont2YWx1ZTpjb25uZWN0YWJsZVByb3RvJGpzY29tcCRpbmxpbmVfMTY5LmdldFN1YmplY3R9LGNvbm5lY3Q6e3ZhbHVlOmNvbm5lY3RhYmxlUHJvdG8kanNjb21wJGlubGluZV8xNjkuY29ubmVjdH0scmVmQ291bnQ6e3ZhbHVlOmNvbm5lY3RhYmxlUHJvdG8kanNjb21wJGlubGluZV8xNjkucmVmQ291bnR9fTsKbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9ic2VydmFibGUkQ29ubmVjdGFibGVPYnNlcnZhYmxlLmNvbm5lY3RhYmxlT2JzZXJ2YWJsZURlc2NyaXB0b3I9SlNDb21waWxlcl9pbmxpbmVfcmVzdWx0JGpzY29tcCQxMjk7dmFyIG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb2JzZXJ2YWJsZSRDb25uZWN0YWJsZU9ic2VydmFibGVfQ29ubmVjdGFibGVTdWJzY3JpYmVyPWZ1bmN0aW9uKGEsYil7bW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJFN1YnNjcmliZXIuU3Vic2NyaWJlci5jYWxsKHRoaXMpO3RoaXMuZGVzdGluYXRpb249YTt0aGlzLmNvbm5lY3RhYmxlPWJ9OwokanNjb21wLmluaGVyaXRzKG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb2JzZXJ2YWJsZSRDb25uZWN0YWJsZU9ic2VydmFibGVfQ29ubmVjdGFibGVTdWJzY3JpYmVyLG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRTdWJzY3JpYmVyLlN1YnNjcmliZXIpOwptb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9ic2VydmFibGUkQ29ubmVjdGFibGVPYnNlcnZhYmxlX0Nvbm5lY3RhYmxlU3Vic2NyaWJlci5wcm90b3R5cGUuX2Vycm9yPWZ1bmN0aW9uKGEpe3RoaXMuX3Vuc3Vic2NyaWJlKCk7bW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJFN1YnNjcmliZXIuU3Vic2NyaWJlci5wcm90b3R5cGUuX2Vycm9yLmNhbGwodGhpcyxhKX07bW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvYnNlcnZhYmxlJENvbm5lY3RhYmxlT2JzZXJ2YWJsZV9Db25uZWN0YWJsZVN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZT1mdW5jdGlvbigpe3RoaXMuY29ubmVjdGFibGUuX2lzQ29tcGxldGU9ITA7dGhpcy5fdW5zdWJzY3JpYmUoKTttb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkU3Vic2NyaWJlci5TdWJzY3JpYmVyLnByb3RvdHlwZS5fY29tcGxldGUuY2FsbCh0aGlzKX07Cm1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb2JzZXJ2YWJsZSRDb25uZWN0YWJsZU9ic2VydmFibGVfQ29ubmVjdGFibGVTdWJzY3JpYmVyLnByb3RvdHlwZS5fdW5zdWJzY3JpYmU9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNvbm5lY3RhYmxlO2lmKGEpe3RoaXMuY29ubmVjdGFibGU9bnVsbDt2YXIgYj1hLl9jb25uZWN0aW9uO2EuX3JlZkNvdW50PTA7YS5fc3ViamVjdD1udWxsO2EuX2Nvbm5lY3Rpb249bnVsbDtiJiZiLnVuc3Vic2NyaWJlKCl9fTt2YXIgbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRtYXA9e307ZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvcGVyYXRvcnMkbWFwX21hcChhLGIpe3JldHVybiBmdW5jdGlvbihjKXtpZigiZnVuY3Rpb24iIT09dHlwZW9mIGEpdGhyb3cgbmV3IFR5cGVFcnJvcigiYXJndW1lbnQgaXMgbm90IGEgZnVuY3Rpb24uIEFyZSB5b3UgbG9va2luZyBmb3IgYG1hcFRvKClgPyIpO3JldHVybiBtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHV0aWwkbGlmdF9saWZ0KGMsbmV3IG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvcGVyYXRvcnMkbWFwLk1hcE9wZXJhdG9yKGEsYikpfX0KbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRtYXAubWFwPW1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb3BlcmF0b3JzJG1hcF9tYXA7bW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRtYXAuTWFwT3BlcmF0b3I9ZnVuY3Rpb24oYSxiKXt0aGlzLnByb2plY3Q9YTt0aGlzLnRoaXNBcmc9Yn07Cm1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvcGVyYXRvcnMkbWFwLk1hcE9wZXJhdG9yLnByb3RvdHlwZS5jYWxsPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGIuc3Vic2NyaWJlKG5ldyBtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRtYXBfTWFwU3Vic2NyaWJlcihhLHRoaXMucHJvamVjdCx0aGlzLnRoaXNBcmcpKX07CnZhciBtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRtYXBfTWFwU3Vic2NyaWJlcj1mdW5jdGlvbihhLGIsYyl7bW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJFN1YnNjcmliZXIuU3Vic2NyaWJlci5jYWxsKHRoaXMsYSk7dGhpcy5wcm9qZWN0PWI7dGhpcy5jb3VudD0wO3RoaXMudGhpc0FyZz1jfHx0aGlzfTskanNjb21wLmluaGVyaXRzKG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb3BlcmF0b3JzJG1hcF9NYXBTdWJzY3JpYmVyLG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRTdWJzY3JpYmVyLlN1YnNjcmliZXIpOwptb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRtYXBfTWFwU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQ9ZnVuY3Rpb24oYSl7dHJ5e3ZhciBiPXRoaXMucHJvamVjdC5jYWxsKHRoaXMudGhpc0FyZyxhLHRoaXMuY291bnQrKyl9Y2F0Y2goYyl7dGhpcy5kZXN0aW5hdGlvbi5lcnJvcihjKTtyZXR1cm59dGhpcy5kZXN0aW5hdGlvbi5uZXh0KGIpfTt2YXIgbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHN5bWJvbCRpdGVyYXRvcj17fTtmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHN5bWJvbCRpdGVyYXRvcl9nZXRTeW1ib2xJdGVyYXRvcigpe3JldHVybiJmdW5jdGlvbiI9PT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3I/U3ltYm9sLml0ZXJhdG9yOiJAQGl0ZXJhdG9yIn1tb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkc3ltYm9sJGl0ZXJhdG9yLmdldFN5bWJvbEl0ZXJhdG9yPW1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkc3ltYm9sJGl0ZXJhdG9yX2dldFN5bWJvbEl0ZXJhdG9yOwptb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkc3ltYm9sJGl0ZXJhdG9yLml0ZXJhdG9yPW1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkc3ltYm9sJGl0ZXJhdG9yX2dldFN5bWJvbEl0ZXJhdG9yKCk7bW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHN5bWJvbCRpdGVyYXRvci4kJGl0ZXJhdG9yPW1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRzeW1ib2wkaXRlcmF0b3IuaXRlcmF0b3I7dmFyIG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCR1dGlsJGlzQXJyYXlMaWtlPXtpc0FycmF5TGlrZTpmdW5jdGlvbihhKXtyZXR1cm4gYSYmIm51bWJlciI9PT10eXBlb2YgYS5sZW5ndGgmJiJmdW5jdGlvbiIhPT10eXBlb2YgYX19O2Z1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkdXRpbCRpc1Byb21pc2VfaXNQcm9taXNlKGEpe3JldHVybiEhYSYmImZ1bmN0aW9uIiE9PXR5cGVvZiBhLnN1YnNjcmliZSYmImZ1bmN0aW9uIj09PXR5cGVvZiBhLnRoZW59O2Z1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkdXRpbCRzdWJzY3JpYmVUb0FzeW5jSXRlcmFibGVfc3Vic2NyaWJlVG9Bc3luY0l0ZXJhYmxlKGEpe3JldHVybiBmdW5jdGlvbihiKXttb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHV0aWwkc3Vic2NyaWJlVG9Bc3luY0l0ZXJhYmxlX3Byb2Nlc3MoYSxiKS5jYXRjaChmdW5jdGlvbihjKXtyZXR1cm4gYi5lcnJvcihjKX0pfX0KZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCR1dGlsJHN1YnNjcmliZVRvQXN5bmNJdGVyYWJsZV9wcm9jZXNzKGEsYil7dmFyIGMsZCxlO3JldHVybiAkanNjb21wLmFzeW5jRXhlY3V0ZVByb21pc2VHZW5lcmF0b3JQcm9ncmFtKGZ1bmN0aW9uKGYpe3N3aXRjaChmLm5leHRBZGRyZXNzKXtjYXNlIDE6Yz0kanNjb21wLm1ha2VBc3luY0l0ZXJhdG9yKGEpO2Nhc2UgMjpyZXR1cm4gZi55aWVsZChjLm5leHQoKSw1KTtjYXNlIDU6ZD1mLnlpZWxkUmVzdWx0O2lmKGQuZG9uZSl7Zi5qdW1wVG8oNCk7YnJlYWt9ZT1kLnZhbHVlO2IubmV4dChlKTtmLmp1bXBUbygyKTticmVhaztjYXNlIDQ6Yi5jb21wbGV0ZSgpLGYuanVtcFRvRW5kKCl9fSl9O3ZhciBtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkdXRpbCRzdWJzY3JpYmVUb0l0ZXJhYmxlPXtzdWJzY3JpYmVUb0l0ZXJhYmxlOmZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXt2YXIgYz1hW21vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRzeW1ib2wkaXRlcmF0b3IuaXRlcmF0b3JdKCk7ZG97dmFyIGQ9dm9pZCAwO3RyeXtkPWMubmV4dCgpfWNhdGNoKGUpe2IuZXJyb3IoZSk7cmV0dXJufWlmKGQuZG9uZSl7Yi5jb21wbGV0ZSgpO2JyZWFrfWIubmV4dChkLnZhbHVlKTtpZihiLmNsb3NlZClicmVha313aGlsZSgxKTsiZnVuY3Rpb24iPT09dHlwZW9mIGMucmV0dXJuJiZiLmFkZChmdW5jdGlvbigpe2MucmV0dXJuJiZjLnJldHVybigpfSk7cmV0dXJuIGJ9fX07dmFyIG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCR1dGlsJHN1YnNjcmliZVRvT2JzZXJ2YWJsZT17c3Vic2NyaWJlVG9PYnNlcnZhYmxlOmZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXt2YXIgYz1hW21vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRzeW1ib2wkb2JzZXJ2YWJsZS5vYnNlcnZhYmxlXSgpO2lmKCJmdW5jdGlvbiIhPT10eXBlb2YgYy5zdWJzY3JpYmUpdGhyb3cgbmV3IFR5cGVFcnJvcigiUHJvdmlkZWQgb2JqZWN0IGRvZXMgbm90IGNvcnJlY3RseSBpbXBsZW1lbnQgU3ltYm9sLm9ic2VydmFibGUiKTtyZXR1cm4gYy5zdWJzY3JpYmUoYil9fX07dmFyIG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCR1dGlsJHN1YnNjcmliZVRvUHJvbWlzZT17c3Vic2NyaWJlVG9Qcm9taXNlOmZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXthLnRoZW4oZnVuY3Rpb24oYyl7Yi5jbG9zZWR8fChiLm5leHQoYyksYi5jb21wbGV0ZSgpKX0sZnVuY3Rpb24oYyl7cmV0dXJuIGIuZXJyb3IoYyl9KS50aGVuKG51bGwsbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCR1dGlsJGhvc3RSZXBvcnRFcnJvcl9ob3N0UmVwb3J0RXJyb3IpO3JldHVybiBifX19O3ZhciBtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkdXRpbCRzdWJzY3JpYmVUbz17c3Vic2NyaWJlVG86ZnVuY3Rpb24oYSl7aWYoYSYmImZ1bmN0aW9uIj09PXR5cGVvZiBhW21vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRzeW1ib2wkb2JzZXJ2YWJsZS5vYnNlcnZhYmxlXSlyZXR1cm4oMCxtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkdXRpbCRzdWJzY3JpYmVUb09ic2VydmFibGUuc3Vic2NyaWJlVG9PYnNlcnZhYmxlKShhKTtpZigoMCxtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkdXRpbCRpc0FycmF5TGlrZS5pc0FycmF5TGlrZSkoYSkpcmV0dXJuKDAsbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHV0aWwkc3Vic2NyaWJlVG9BcnJheS5zdWJzY3JpYmVUb0FycmF5KShhKTsKaWYobW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCR1dGlsJGlzUHJvbWlzZV9pc1Byb21pc2UoYSkpcmV0dXJuKDAsbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHV0aWwkc3Vic2NyaWJlVG9Qcm9taXNlLnN1YnNjcmliZVRvUHJvbWlzZSkoYSk7aWYoYSYmImZ1bmN0aW9uIj09PXR5cGVvZiBhW21vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRzeW1ib2wkaXRlcmF0b3IuaXRlcmF0b3JdKXJldHVybigwLG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCR1dGlsJHN1YnNjcmliZVRvSXRlcmFibGUuc3Vic2NyaWJlVG9JdGVyYWJsZSkoYSk7aWYoU3ltYm9sJiZTeW1ib2wuYXN5bmNJdGVyYXRvciYmYSYmImZ1bmN0aW9uIj09PQp0eXBlb2YgYVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0pcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkdXRpbCRzdWJzY3JpYmVUb0FzeW5jSXRlcmFibGVfc3Vic2NyaWJlVG9Bc3luY0l0ZXJhYmxlKGEpO2E9bW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCR1dGlsJGlzT2JqZWN0X2lzT2JqZWN0KGEpPyJhbiBpbnZhbGlkIG9iamVjdCI6IiciK2ErIiciO2E9IllvdSBwcm92aWRlZCAiK2ErIiB3aGVyZSBhIHN0cmVhbSB3YXMgZXhwZWN0ZWQuIFlvdSBjYW4gcHJvdmlkZSBhbiBPYnNlcnZhYmxlLCBQcm9taXNlLCBBcnJheSwgb3IgSXRlcmFibGUuIjt0aHJvdyBuZXcgVHlwZUVycm9yKGEpO319O3ZhciBtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkaW5uZXJTdWJzY3JpYmU9e1NpbXBsZUlubmVyU3Vic2NyaWJlcjpmdW5jdGlvbihhKXttb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkU3Vic2NyaWJlci5TdWJzY3JpYmVyLmNhbGwodGhpcyk7dGhpcy5wYXJlbnQ9YX19OyRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJGlubmVyU3Vic2NyaWJlLlNpbXBsZUlubmVyU3Vic2NyaWJlcixtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkU3Vic2NyaWJlci5TdWJzY3JpYmVyKTsKbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJGlubmVyU3Vic2NyaWJlLlNpbXBsZUlubmVyU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQ9ZnVuY3Rpb24oYSl7dGhpcy5wYXJlbnQubm90aWZ5TmV4dChhKX07bW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJGlubmVyU3Vic2NyaWJlLlNpbXBsZUlubmVyU3Vic2NyaWJlci5wcm90b3R5cGUuX2Vycm9yPWZ1bmN0aW9uKGEpe3RoaXMucGFyZW50Lm5vdGlmeUVycm9yKGEpO3RoaXMudW5zdWJzY3JpYmUoKX07bW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJGlubmVyU3Vic2NyaWJlLlNpbXBsZUlubmVyU3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlPWZ1bmN0aW9uKCl7dGhpcy5wYXJlbnQubm90aWZ5Q29tcGxldGUoKTt0aGlzLnVuc3Vic2NyaWJlKCl9Owptb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkaW5uZXJTdWJzY3JpYmUuQ29tcGxleElubmVyU3Vic2NyaWJlcj1mdW5jdGlvbihhLGIsYyl7bW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJFN1YnNjcmliZXIuU3Vic2NyaWJlci5jYWxsKHRoaXMpO3RoaXMucGFyZW50PWE7dGhpcy5vdXRlclZhbHVlPWI7dGhpcy5vdXRlckluZGV4PWN9OyRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJGlubmVyU3Vic2NyaWJlLkNvbXBsZXhJbm5lclN1YnNjcmliZXIsbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJFN1YnNjcmliZXIuU3Vic2NyaWJlcik7Cm1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRpbm5lclN1YnNjcmliZS5Db21wbGV4SW5uZXJTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dD1mdW5jdGlvbihhKXt0aGlzLnBhcmVudC5ub3RpZnlOZXh0KHRoaXMub3V0ZXJWYWx1ZSxhLHRoaXMub3V0ZXJJbmRleCx0aGlzKX07bW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJGlubmVyU3Vic2NyaWJlLkNvbXBsZXhJbm5lclN1YnNjcmliZXIucHJvdG90eXBlLl9lcnJvcj1mdW5jdGlvbihhKXt0aGlzLnBhcmVudC5ub3RpZnlFcnJvcihhKTt0aGlzLnVuc3Vic2NyaWJlKCl9Owptb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkaW5uZXJTdWJzY3JpYmUuQ29tcGxleElubmVyU3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlPWZ1bmN0aW9uKCl7dGhpcy5wYXJlbnQubm90aWZ5Q29tcGxldGUodGhpcyk7dGhpcy51bnN1YnNjcmliZSgpfTttb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkaW5uZXJTdWJzY3JpYmUuU2ltcGxlT3V0ZXJTdWJzY3JpYmVyPWZ1bmN0aW9uKCl7bW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJFN1YnNjcmliZXIuU3Vic2NyaWJlci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9OwokanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRpbm5lclN1YnNjcmliZS5TaW1wbGVPdXRlclN1YnNjcmliZXIsbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJFN1YnNjcmliZXIuU3Vic2NyaWJlcik7bW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJGlubmVyU3Vic2NyaWJlLlNpbXBsZU91dGVyU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5TmV4dD1mdW5jdGlvbihhKXt0aGlzLmRlc3RpbmF0aW9uLm5leHQoYSl9O21vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRpbm5lclN1YnNjcmliZS5TaW1wbGVPdXRlclN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeUVycm9yPWZ1bmN0aW9uKGEpe3RoaXMuZGVzdGluYXRpb24uZXJyb3IoYSl9Owptb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkaW5uZXJTdWJzY3JpYmUuU2ltcGxlT3V0ZXJTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlDb21wbGV0ZT1mdW5jdGlvbigpe3RoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKX07bW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJGlubmVyU3Vic2NyaWJlLkNvbXBsZXhPdXRlclN1YnNjcmliZXI9ZnVuY3Rpb24oKXttb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkU3Vic2NyaWJlci5TdWJzY3JpYmVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07CiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJGlubmVyU3Vic2NyaWJlLkNvbXBsZXhPdXRlclN1YnNjcmliZXIsbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJFN1YnNjcmliZXIuU3Vic2NyaWJlcik7bW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJGlubmVyU3Vic2NyaWJlLkNvbXBsZXhPdXRlclN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeU5leHQ9ZnVuY3Rpb24oYSxiKXt0aGlzLmRlc3RpbmF0aW9uLm5leHQoYil9O21vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRpbm5lclN1YnNjcmliZS5Db21wbGV4T3V0ZXJTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlFcnJvcj1mdW5jdGlvbihhKXt0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGEpfTsKbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJGlubmVyU3Vic2NyaWJlLkNvbXBsZXhPdXRlclN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeUNvbXBsZXRlPWZ1bmN0aW9uKCl7dGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpfTsKZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRpbm5lclN1YnNjcmliZV9pbm5lclN1YnNjcmliZShhLGIpe2lmKCFiLmNsb3NlZClyZXR1cm4gYSBpbnN0YW5jZW9mIG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRPYnNlcnZhYmxlLk9ic2VydmFibGU/YS5zdWJzY3JpYmUoYik6KDAsbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHV0aWwkc3Vic2NyaWJlVG8uc3Vic2NyaWJlVG8pKGEpKGIpfW1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRpbm5lclN1YnNjcmliZS5pbm5lclN1YnNjcmliZT1tb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJGlubmVyU3Vic2NyaWJlX2lubmVyU3Vic2NyaWJlO3ZhciBtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb2JzZXJ2YWJsZSRjb21iaW5lTGF0ZXN0PXt9LG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb2JzZXJ2YWJsZSRjb21iaW5lTGF0ZXN0X05PTkU9e307CmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb2JzZXJ2YWJsZSRjb21iaW5lTGF0ZXN0X2NvbWJpbmVMYXRlc3QoKXt2YXIgYT0kanNjb21wLmdldFJlc3RBcmd1bWVudHMuYXBwbHkoMCxhcmd1bWVudHMpLGI9dm9pZCAwLGM9dm9pZCAwLGQ9dm9pZCAwO21vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkdXRpbCRpc1NjaGVkdWxlcl9pc1NjaGVkdWxlcihhW2EubGVuZ3RoLTFdKSYmKGM9YS5wb3AoKSk7ImZ1bmN0aW9uIj09PXR5cGVvZiBhW2EubGVuZ3RoLTFdJiYoYj1hLnBvcCgpKTtpZigxPT09YS5sZW5ndGgpe3ZhciBlPWFbMF07KDAsbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHV0aWwkaXNBcnJheS5pc0FycmF5KShlKSYmKGE9ZSk7bW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCR1dGlsJGlzT2JqZWN0X2lzT2JqZWN0KGUpJiYKT2JqZWN0LmdldFByb3RvdHlwZU9mKGUpPT09T2JqZWN0LnByb3RvdHlwZSYmKGQ9T2JqZWN0LmtleXMoZSksYT1kLm1hcChmdW5jdGlvbihmKXtyZXR1cm4gZVtmXX0pKX1yZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCR1dGlsJGxpZnRfbGlmdChtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9ic2VydmFibGUkZnJvbUFycmF5X2Zyb21BcnJheShhLGMpLG5ldyBtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb2JzZXJ2YWJsZSRjb21iaW5lTGF0ZXN0LkNvbWJpbmVMYXRlc3RPcGVyYXRvcihiLGQpKX0KbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9ic2VydmFibGUkY29tYmluZUxhdGVzdC5jb21iaW5lTGF0ZXN0PW1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb2JzZXJ2YWJsZSRjb21iaW5lTGF0ZXN0X2NvbWJpbmVMYXRlc3Q7bW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9ic2VydmFibGUkY29tYmluZUxhdGVzdC5Db21iaW5lTGF0ZXN0T3BlcmF0b3I9ZnVuY3Rpb24oYSxiKXt0aGlzLnJlc3VsdFNlbGVjdG9yPWE7dGhpcy5rZXlzPWJ9Owptb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb2JzZXJ2YWJsZSRjb21iaW5lTGF0ZXN0LkNvbWJpbmVMYXRlc3RPcGVyYXRvci5wcm90b3R5cGUuY2FsbD1mdW5jdGlvbihhLGIpe3JldHVybiBiLnN1YnNjcmliZShuZXcgbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9ic2VydmFibGUkY29tYmluZUxhdGVzdC5Db21iaW5lTGF0ZXN0U3Vic2NyaWJlcihhLHRoaXMucmVzdWx0U2VsZWN0b3IsdGhpcy5rZXlzKSl9Owptb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb2JzZXJ2YWJsZSRjb21iaW5lTGF0ZXN0LkNvbWJpbmVMYXRlc3RTdWJzY3JpYmVyPWZ1bmN0aW9uKGEsYixjKXttb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkaW5uZXJTdWJzY3JpYmUuQ29tcGxleE91dGVyU3Vic2NyaWJlci5jYWxsKHRoaXMsYSk7dGhpcy5yZXN1bHRTZWxlY3Rvcj1iO3RoaXMua2V5cz1jO3RoaXMuYWN0aXZlPTA7dGhpcy52YWx1ZXM9W107dGhpcy5vYnNlcnZhYmxlcz1bXX07JGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb2JzZXJ2YWJsZSRjb21iaW5lTGF0ZXN0LkNvbWJpbmVMYXRlc3RTdWJzY3JpYmVyLG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRpbm5lclN1YnNjcmliZS5Db21wbGV4T3V0ZXJTdWJzY3JpYmVyKTsKbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9ic2VydmFibGUkY29tYmluZUxhdGVzdC5Db21iaW5lTGF0ZXN0U3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQ9ZnVuY3Rpb24oYSl7dGhpcy52YWx1ZXMucHVzaChtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9ic2VydmFibGUkY29tYmluZUxhdGVzdF9OT05FKTt0aGlzLm9ic2VydmFibGVzLnB1c2goYSl9Owptb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb2JzZXJ2YWJsZSRjb21iaW5lTGF0ZXN0LkNvbWJpbmVMYXRlc3RTdWJzY3JpYmVyLnByb3RvdHlwZS5fY29tcGxldGU9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9ic2VydmFibGVzLGI9YS5sZW5ndGg7aWYoMD09PWIpdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO2Vsc2V7dGhpcy50b1Jlc3BvbmQ9dGhpcy5hY3RpdmU9Yjtmb3IodmFyIGM9MDtjPGI7YysrKXt2YXIgZD1hW2NdO3RoaXMuYWRkKG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkaW5uZXJTdWJzY3JpYmVfaW5uZXJTdWJzY3JpYmUoZCxuZXcgbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJGlubmVyU3Vic2NyaWJlLkNvbXBsZXhJbm5lclN1YnNjcmliZXIodGhpcyxudWxsLApjKSkpfX19O21vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvYnNlcnZhYmxlJGNvbWJpbmVMYXRlc3QuQ29tYmluZUxhdGVzdFN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeUNvbXBsZXRlPWZ1bmN0aW9uKCl7MD09PS0tdGhpcy5hY3RpdmUmJnRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKX07Cm1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvYnNlcnZhYmxlJGNvbWJpbmVMYXRlc3QuQ29tYmluZUxhdGVzdFN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeU5leHQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMudmFsdWVzLGU9ZFtjXTtlPXRoaXMudG9SZXNwb25kP2U9PT1tb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9ic2VydmFibGUkY29tYmluZUxhdGVzdF9OT05FPy0tdGhpcy50b1Jlc3BvbmQ6dGhpcy50b1Jlc3BvbmQ6MDtkW2NdPWI7MD09PWUmJih0aGlzLnJlc3VsdFNlbGVjdG9yP3RoaXMuX3RyeVJlc3VsdFNlbGVjdG9yKGQpOnRoaXMuZGVzdGluYXRpb24ubmV4dCh0aGlzLmtleXM/dGhpcy5rZXlzLnJlZHVjZShmdW5jdGlvbihmLGcsayl7cmV0dXJuIGZbZ109ZFtrXSxmfSx7fSk6ZC5zbGljZSgpKSl9Owptb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb2JzZXJ2YWJsZSRjb21iaW5lTGF0ZXN0LkNvbWJpbmVMYXRlc3RTdWJzY3JpYmVyLnByb3RvdHlwZS5fdHJ5UmVzdWx0U2VsZWN0b3I9ZnVuY3Rpb24oYSl7dHJ5e3ZhciBiPXRoaXMucmVzdWx0U2VsZWN0b3IuYXBwbHkodGhpcyxhKX1jYXRjaChjKXt0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGMpO3JldHVybn10aGlzLmRlc3RpbmF0aW9uLm5leHQoYil9O2Z1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkc2NoZWR1bGVkJHNjaGVkdWxlQXN5bmNJdGVyYWJsZV9zY2hlZHVsZUFzeW5jSXRlcmFibGUoYSxiKXtpZighYSl0aHJvdyBFcnJvcigiSXRlcmFibGUgY2Fubm90IGJlIG51bGwiKTtyZXR1cm4gbmV3IG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRPYnNlcnZhYmxlLk9ic2VydmFibGUoZnVuY3Rpb24oYyl7dmFyIGQ9bmV3IG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRTdWJzY3JpcHRpb24uU3Vic2NyaXB0aW9uO2QuYWRkKGIuc2NoZWR1bGUoZnVuY3Rpb24oKXt2YXIgZT1hW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpO2QuYWRkKGIuc2NoZWR1bGUoZnVuY3Rpb24oKXt2YXIgZj10aGlzO2UubmV4dCgpLnRoZW4oZnVuY3Rpb24oZyl7Zy5kb25lPwpjLmNvbXBsZXRlKCk6KGMubmV4dChnLnZhbHVlKSxmLnNjaGVkdWxlKCkpfSl9KSl9KSk7cmV0dXJuIGR9KX07ZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRzY2hlZHVsZWQkc2NoZWR1bGVJdGVyYWJsZV9zY2hlZHVsZUl0ZXJhYmxlKGEsYil7aWYoIWEpdGhyb3cgRXJyb3IoIkl0ZXJhYmxlIGNhbm5vdCBiZSBudWxsIik7cmV0dXJuIG5ldyBtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkT2JzZXJ2YWJsZS5PYnNlcnZhYmxlKGZ1bmN0aW9uKGMpe3ZhciBkPW5ldyBtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkU3Vic2NyaXB0aW9uLlN1YnNjcmlwdGlvbixlO2QuYWRkKGZ1bmN0aW9uKCl7ZSYmImZ1bmN0aW9uIj09PXR5cGVvZiBlLnJldHVybiYmZS5yZXR1cm4oKX0pO2QuYWRkKGIuc2NoZWR1bGUoZnVuY3Rpb24oKXtlPWFbbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHN5bWJvbCRpdGVyYXRvci5pdGVyYXRvcl0oKTsKZC5hZGQoYi5zY2hlZHVsZShmdW5jdGlvbigpe2lmKCFjLmNsb3NlZCl7dHJ5e3ZhciBmPWUubmV4dCgpO3ZhciBnPWYudmFsdWU7dmFyIGs9Zi5kb25lfWNhdGNoKGgpe2MuZXJyb3IoaCk7cmV0dXJufWs/Yy5jb21wbGV0ZSgpOihjLm5leHQoZyksdGhpcy5zY2hlZHVsZSgpKX19KSl9KSk7cmV0dXJuIGR9KX07ZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRzY2hlZHVsZWQkc2NoZWR1bGVPYnNlcnZhYmxlX3NjaGVkdWxlT2JzZXJ2YWJsZShhLGIpe3JldHVybiBuZXcgbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJE9ic2VydmFibGUuT2JzZXJ2YWJsZShmdW5jdGlvbihjKXt2YXIgZD1uZXcgbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJFN1YnNjcmlwdGlvbi5TdWJzY3JpcHRpb247ZC5hZGQoYi5zY2hlZHVsZShmdW5jdGlvbigpe3ZhciBlPWFbbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHN5bWJvbCRvYnNlcnZhYmxlLm9ic2VydmFibGVdKCk7ZC5hZGQoZS5zdWJzY3JpYmUoe25leHQ6ZnVuY3Rpb24oZil7ZC5hZGQoYi5zY2hlZHVsZShmdW5jdGlvbigpe3JldHVybiBjLm5leHQoZil9KSl9LAplcnJvcjpmdW5jdGlvbihmKXtkLmFkZChiLnNjaGVkdWxlKGZ1bmN0aW9uKCl7cmV0dXJuIGMuZXJyb3IoZil9KSl9LGNvbXBsZXRlOmZ1bmN0aW9uKCl7ZC5hZGQoYi5zY2hlZHVsZShmdW5jdGlvbigpe3JldHVybiBjLmNvbXBsZXRlKCl9KSl9fSkpfSkpO3JldHVybiBkfSl9O2Z1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkc2NoZWR1bGVkJHNjaGVkdWxlUHJvbWlzZV9zY2hlZHVsZVByb21pc2UoYSxiKXtyZXR1cm4gbmV3IG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRPYnNlcnZhYmxlLk9ic2VydmFibGUoZnVuY3Rpb24oYyl7dmFyIGQ9bmV3IG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRTdWJzY3JpcHRpb24uU3Vic2NyaXB0aW9uO2QuYWRkKGIuc2NoZWR1bGUoZnVuY3Rpb24oKXtyZXR1cm4gYS50aGVuKGZ1bmN0aW9uKGUpe2QuYWRkKGIuc2NoZWR1bGUoZnVuY3Rpb24oKXtjLm5leHQoZSk7ZC5hZGQoYi5zY2hlZHVsZShmdW5jdGlvbigpe3JldHVybiBjLmNvbXBsZXRlKCl9KSl9KSl9LGZ1bmN0aW9uKGUpe2QuYWRkKGIuc2NoZWR1bGUoZnVuY3Rpb24oKXtyZXR1cm4gYy5lcnJvcihlKX0pKX0pfSkpOwpyZXR1cm4gZH0pfTtmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHNjaGVkdWxlZCRzY2hlZHVsZWRfc2NoZWR1bGVkKGEsYil7aWYobnVsbCE9YSl7aWYoYSYmImZ1bmN0aW9uIj09PXR5cGVvZiBhW21vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRzeW1ib2wkb2JzZXJ2YWJsZS5vYnNlcnZhYmxlXSlyZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRzY2hlZHVsZWQkc2NoZWR1bGVPYnNlcnZhYmxlX3NjaGVkdWxlT2JzZXJ2YWJsZShhLGIpO2lmKG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkdXRpbCRpc1Byb21pc2VfaXNQcm9taXNlKGEpKXJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHNjaGVkdWxlZCRzY2hlZHVsZVByb21pc2Vfc2NoZWR1bGVQcm9taXNlKGEsCmIpO2lmKCgwLG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCR1dGlsJGlzQXJyYXlMaWtlLmlzQXJyYXlMaWtlKShhKSlyZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRzY2hlZHVsZWQkc2NoZWR1bGVBcnJheV9zY2hlZHVsZUFycmF5KGEsYik7aWYoYSYmImZ1bmN0aW9uIj09PXR5cGVvZiBhW21vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRzeW1ib2wkaXRlcmF0b3IuaXRlcmF0b3JdfHwic3RyaW5nIj09PXR5cGVvZiBhKXJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHNjaGVkdWxlZCRzY2hlZHVsZUl0ZXJhYmxlX3NjaGVkdWxlSXRlcmFibGUoYSxiKTtpZihTeW1ib2wmJlN5bWJvbC5hc3luY0l0ZXJhdG9yJiYKImZ1bmN0aW9uIj09PXR5cGVvZiBhW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSlyZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRzY2hlZHVsZWQkc2NoZWR1bGVBc3luY0l0ZXJhYmxlX3NjaGVkdWxlQXN5bmNJdGVyYWJsZShhLGIpfXRocm93IG5ldyBUeXBlRXJyb3IoKG51bGwhPT1hJiZ0eXBlb2YgYXx8YSkrIiBpcyBub3Qgb2JzZXJ2YWJsZSIpO307ZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvYnNlcnZhYmxlJGZyb21fZnJvbShhLGIpe3JldHVybiBiP21vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkc2NoZWR1bGVkJHNjaGVkdWxlZF9zY2hlZHVsZWQoYSxiKTphIGluc3RhbmNlb2YgbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJE9ic2VydmFibGUuT2JzZXJ2YWJsZT9hOm5ldyBtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkT2JzZXJ2YWJsZS5PYnNlcnZhYmxlKCgwLG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCR1dGlsJHN1YnNjcmliZVRvLnN1YnNjcmliZVRvKShhKSl9Cjt2YXIgbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRtZXJnZU1hcD17fTsKZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvcGVyYXRvcnMkbWVyZ2VNYXBfbWVyZ2VNYXAoYSxiLGMpe2M9dm9pZCAwPT09Yz9JbmZpbml0eTpjO2lmKCJmdW5jdGlvbiI9PT10eXBlb2YgYilyZXR1cm4gZnVuY3Rpb24oZCl7cmV0dXJuIGQucGlwZShtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRtZXJnZU1hcF9tZXJnZU1hcChmdW5jdGlvbihlLGYpe3JldHVybiBtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9ic2VydmFibGUkZnJvbV9mcm9tKGEoZSxmKSkucGlwZShtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRtYXBfbWFwKGZ1bmN0aW9uKGcsayl7cmV0dXJuIGIoZSwKZyxmLGspfSkpfSxjKSl9OyJudW1iZXIiPT09dHlwZW9mIGImJihjPWIpO3JldHVybiBmdW5jdGlvbihkKXtyZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCR1dGlsJGxpZnRfbGlmdChkLG5ldyBtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb3BlcmF0b3JzJG1lcmdlTWFwLk1lcmdlTWFwT3BlcmF0b3IoYSxjKSl9fW1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvcGVyYXRvcnMkbWVyZ2VNYXAubWVyZ2VNYXA9bW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvcGVyYXRvcnMkbWVyZ2VNYXBfbWVyZ2VNYXA7Cm1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvcGVyYXRvcnMkbWVyZ2VNYXAuTWVyZ2VNYXBPcGVyYXRvcj1mdW5jdGlvbihhLGIpe2I9dm9pZCAwPT09Yj9JbmZpbml0eTpiO3RoaXMucHJvamVjdD1hO3RoaXMuY29uY3VycmVudD1ifTttb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb3BlcmF0b3JzJG1lcmdlTWFwLk1lcmdlTWFwT3BlcmF0b3IucHJvdG90eXBlLmNhbGw9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi5zdWJzY3JpYmUobmV3IG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvcGVyYXRvcnMkbWVyZ2VNYXAuTWVyZ2VNYXBTdWJzY3JpYmVyKGEsdGhpcy5wcm9qZWN0LHRoaXMuY29uY3VycmVudCkpfTsKbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRtZXJnZU1hcC5NZXJnZU1hcFN1YnNjcmliZXI9ZnVuY3Rpb24oYSxiLGMpe2M9dm9pZCAwPT09Yz9JbmZpbml0eTpjO21vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRpbm5lclN1YnNjcmliZS5TaW1wbGVPdXRlclN1YnNjcmliZXIuY2FsbCh0aGlzLGEpO3RoaXMuZGVzdGluYXRpb249YTt0aGlzLnByb2plY3Q9Yjt0aGlzLmNvbmN1cnJlbnQ9Yzt0aGlzLmhhc0NvbXBsZXRlZD0hMTt0aGlzLmJ1ZmZlcj1bXTt0aGlzLmluZGV4PXRoaXMuYWN0aXZlPTB9OyRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRtZXJnZU1hcC5NZXJnZU1hcFN1YnNjcmliZXIsbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJGlubmVyU3Vic2NyaWJlLlNpbXBsZU91dGVyU3Vic2NyaWJlcik7Cm1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvcGVyYXRvcnMkbWVyZ2VNYXAuTWVyZ2VNYXBTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dD1mdW5jdGlvbihhKXtpZih0aGlzLmFjdGl2ZTx0aGlzLmNvbmN1cnJlbnQpe3ZhciBiPXRoaXMuaW5kZXgrKzt0cnl7dmFyIGM9dGhpcy5wcm9qZWN0KGEsYil9Y2F0Y2goZCl7dGhpcy5kZXN0aW5hdGlvbi5lcnJvcihkKTtyZXR1cm59dGhpcy5hY3RpdmUrKzthPW5ldyBtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkaW5uZXJTdWJzY3JpYmUuU2ltcGxlSW5uZXJTdWJzY3JpYmVyKHRoaXMpO2I9dGhpcy5kZXN0aW5hdGlvbjtiLmFkZChhKTttb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJGlubmVyU3Vic2NyaWJlX2lubmVyU3Vic2NyaWJlKGMsCmEpfWVsc2UgdGhpcy5idWZmZXIucHVzaChhKX07bW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRtZXJnZU1hcC5NZXJnZU1hcFN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZT1mdW5jdGlvbigpe3RoaXMuaGFzQ29tcGxldGVkPSEwOzA9PT10aGlzLmFjdGl2ZSYmMD09PXRoaXMuYnVmZmVyLmxlbmd0aCYmdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO3RoaXMudW5zdWJzY3JpYmUoKX07bW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRtZXJnZU1hcC5NZXJnZU1hcFN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeU5leHQ9ZnVuY3Rpb24oYSl7dGhpcy5kZXN0aW5hdGlvbi5uZXh0KGEpfTsKbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRtZXJnZU1hcC5NZXJnZU1hcFN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeUNvbXBsZXRlPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5idWZmZXI7dGhpcy5hY3RpdmUtLTswPGEubGVuZ3RoP3RoaXMuX25leHQoYS5zaGlmdCgpKTowPT09dGhpcy5hY3RpdmUmJnRoaXMuaGFzQ29tcGxldGVkJiZ0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCl9O21vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvcGVyYXRvcnMkbWVyZ2VNYXAuZmxhdE1hcD1tb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRtZXJnZU1hcF9tZXJnZU1hcDt2YXIgbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHNjaGVkdWxlciRhbmltYXRpb25GcmFtZVByb3ZpZGVyPXthbmltYXRpb25GcmFtZVByb3ZpZGVyOntzY2hlZHVsZTpmdW5jdGlvbihhKXt2YXIgYj1yZXF1ZXN0QW5pbWF0aW9uRnJhbWUsYz1jYW5jZWxBbmltYXRpb25GcmFtZSxkPW1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRzY2hlZHVsZXIkYW5pbWF0aW9uRnJhbWVQcm92aWRlci5hbmltYXRpb25GcmFtZVByb3ZpZGVyO2lmKGQ9ZC5kZWxlZ2F0ZSliPWQucmVxdWVzdEFuaW1hdGlvbkZyYW1lLGM9ZC5jYW5jZWxBbmltYXRpb25GcmFtZTt2YXIgZT1iKGZ1bmN0aW9uKGYpe2M9dm9pZCAwO2EoZil9KTtyZXR1cm4gbmV3IG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRTdWJzY3JpcHRpb24uU3Vic2NyaXB0aW9uKGZ1bmN0aW9uKCl7dmFyIGY7CnJldHVybiBudWxsPT0oZj1jKT92b2lkIDA6ZihlKX0pfSxyZXF1ZXN0QW5pbWF0aW9uRnJhbWU6ZnVuY3Rpb24oKXt2YXIgYT0kanNjb21wLmdldFJlc3RBcmd1bWVudHMuYXBwbHkoMCxhcmd1bWVudHMpLGI9bW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHNjaGVkdWxlciRhbmltYXRpb25GcmFtZVByb3ZpZGVyLmFuaW1hdGlvbkZyYW1lUHJvdmlkZXI7Yj1iLmRlbGVnYXRlO3ZhciBjO3JldHVybigobnVsbD09KGM9Yik/dm9pZCAwOmMucmVxdWVzdEFuaW1hdGlvbkZyYW1lKXx8cmVxdWVzdEFuaW1hdGlvbkZyYW1lKS5hcHBseShudWxsLCRqc2NvbXAuYXJyYXlGcm9tSXRlcmFibGUoYSkpfSxjYW5jZWxBbmltYXRpb25GcmFtZTpmdW5jdGlvbigpe3ZhciBhPSRqc2NvbXAuZ2V0UmVzdEFyZ3VtZW50cy5hcHBseSgwLGFyZ3VtZW50cyksYj1tb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkc2NoZWR1bGVyJGFuaW1hdGlvbkZyYW1lUHJvdmlkZXIuYW5pbWF0aW9uRnJhbWVQcm92aWRlcjsKYj1iLmRlbGVnYXRlO3ZhciBjO3JldHVybigobnVsbD09KGM9Yik/dm9pZCAwOmMuY2FuY2VsQW5pbWF0aW9uRnJhbWUpfHxjYW5jZWxBbmltYXRpb25GcmFtZSkuYXBwbHkobnVsbCwkanNjb21wLmFycmF5RnJvbUl0ZXJhYmxlKGEpKX0sZGVsZWdhdGU6dm9pZCAwfX07ZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvYnNlcnZhYmxlJGZyb21FdmVudF9mcm9tRXZlbnQoYSxiLGMsZCl7bW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCR1dGlsJGlzRnVuY3Rpb25faXNGdW5jdGlvbihjKSYmKGQ9YyxjPXZvaWQgMCk7cmV0dXJuIGQ/bW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvYnNlcnZhYmxlJGZyb21FdmVudF9mcm9tRXZlbnQoYSxiLGMpLnBpcGUobW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvcGVyYXRvcnMkbWFwX21hcChmdW5jdGlvbihlKXtyZXR1cm4oMCxtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkdXRpbCRpc0FycmF5LmlzQXJyYXkpKGUpPwpkLmFwcGx5KG51bGwsJGpzY29tcC5hcnJheUZyb21JdGVyYWJsZShlKSk6ZChlKX0pKTpuZXcgbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJE9ic2VydmFibGUuT2JzZXJ2YWJsZShmdW5jdGlvbihlKXtmdW5jdGlvbiBmKGcpezE8YXJndW1lbnRzLmxlbmd0aD9lLm5leHQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSk6ZS5uZXh0KGcpfW1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb2JzZXJ2YWJsZSRmcm9tRXZlbnRfc2V0dXBTdWJzY3JpcHRpb24oYSxiLGYsZSxjKX0pfQpmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9ic2VydmFibGUkZnJvbUV2ZW50X3NldHVwU3Vic2NyaXB0aW9uKGEsYixjLGQsZSl7aWYoYSYmImZ1bmN0aW9uIj09PXR5cGVvZiBhLmFkZEV2ZW50TGlzdGVuZXImJiJmdW5jdGlvbiI9PT10eXBlb2YgYS5yZW1vdmVFdmVudExpc3RlbmVyKXt2YXIgZj1hO2EuYWRkRXZlbnRMaXN0ZW5lcihiLGMsZSk7dmFyIGc9ZnVuY3Rpb24oKXtyZXR1cm4gZi5yZW1vdmVFdmVudExpc3RlbmVyKGIsYyxlKX19ZWxzZSBpZihhJiYiZnVuY3Rpb24iPT09dHlwZW9mIGEub24mJiJmdW5jdGlvbiI9PT10eXBlb2YgYS5vZmYpe3ZhciBrPWE7YS5vbihiLGMpO2c9ZnVuY3Rpb24oKXtyZXR1cm4gay5vZmYoYixjKX19ZWxzZSBpZihhJiYiZnVuY3Rpb24iPT09dHlwZW9mIGEuYWRkTGlzdGVuZXImJiJmdW5jdGlvbiI9PT10eXBlb2YgYS5yZW1vdmVMaXN0ZW5lcil7dmFyIGg9CmE7YS5hZGRMaXN0ZW5lcihiLGMpO2c9ZnVuY3Rpb24oKXtyZXR1cm4gaC5yZW1vdmVMaXN0ZW5lcihiLGMpfX1lbHNlIGlmKGEmJmEubGVuZ3RoKWZvcih2YXIgbD0wLG09YS5sZW5ndGg7bDxtO2wrKyltb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9ic2VydmFibGUkZnJvbUV2ZW50X3NldHVwU3Vic2NyaXB0aW9uKGFbbF0sYixjLGQsZSk7ZWxzZSB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGV2ZW50IHRhcmdldCIpO2QuYWRkKGcpfTt2YXIgbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHNjaGVkdWxlciRBY3Rpb249e0FjdGlvbjpmdW5jdGlvbigpe21vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRTdWJzY3JpcHRpb24uU3Vic2NyaXB0aW9uLmNhbGwodGhpcyl9fTskanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRzY2hlZHVsZXIkQWN0aW9uLkFjdGlvbixtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkU3Vic2NyaXB0aW9uLlN1YnNjcmlwdGlvbik7Cm1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRzY2hlZHVsZXIkQWN0aW9uLkFjdGlvbi5wcm90b3R5cGUuc2NoZWR1bGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307dmFyIG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRzY2hlZHVsZXIkaW50ZXJ2YWxQcm92aWRlcj17aW50ZXJ2YWxQcm92aWRlcjp7c2V0SW50ZXJ2YWw6ZnVuY3Rpb24oYSxiKXt2YXIgYz0kanNjb21wLmdldFJlc3RBcmd1bWVudHMuYXBwbHkoMixhcmd1bWVudHMpLGQ9bW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHNjaGVkdWxlciRpbnRlcnZhbFByb3ZpZGVyLmludGVydmFsUHJvdmlkZXI7ZD1kLmRlbGVnYXRlO3ZhciBlO3JldHVybihudWxsPT0oZT1kKT8wOmUuc2V0SW50ZXJ2YWwpP2Quc2V0SW50ZXJ2YWwuYXBwbHkoZCxbYSxiXS5jb25jYXQoJGpzY29tcC5hcnJheUZyb21JdGVyYWJsZShjKSkpOnNldEludGVydmFsLmFwcGx5KG51bGwsW2EsYl0uY29uY2F0KCRqc2NvbXAuYXJyYXlGcm9tSXRlcmFibGUoYykpKX0sY2xlYXJJbnRlcnZhbDpmdW5jdGlvbihhKXt2YXIgYj0KbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHNjaGVkdWxlciRpbnRlcnZhbFByb3ZpZGVyLmludGVydmFsUHJvdmlkZXI7Yj1iLmRlbGVnYXRlO3ZhciBjO3JldHVybigobnVsbD09KGM9Yik/dm9pZCAwOmMuY2xlYXJJbnRlcnZhbCl8fGNsZWFySW50ZXJ2YWwpKGEpfSxkZWxlZ2F0ZTp2b2lkIDB9fTt2YXIgbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHNjaGVkdWxlciRBc3luY0FjdGlvbj17QXN5bmNBY3Rpb246ZnVuY3Rpb24oYSxiKXttb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkc2NoZWR1bGVyJEFjdGlvbi5BY3Rpb24uY2FsbCh0aGlzLGEsYik7dGhpcy5zY2hlZHVsZXI9YTt0aGlzLndvcms9Yjt0aGlzLnBlbmRpbmc9ITF9fTskanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRzY2hlZHVsZXIkQXN5bmNBY3Rpb24uQXN5bmNBY3Rpb24sbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHNjaGVkdWxlciRBY3Rpb24uQWN0aW9uKTsKbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHNjaGVkdWxlciRBc3luY0FjdGlvbi5Bc3luY0FjdGlvbi5wcm90b3R5cGUuc2NoZWR1bGU9ZnVuY3Rpb24oYSxiKXtiPXZvaWQgMD09PWI/MDpiO2lmKHRoaXMuY2xvc2VkKXJldHVybiB0aGlzO3RoaXMuc3RhdGU9YTthPXRoaXMuaWQ7dmFyIGM9dGhpcy5zY2hlZHVsZXI7bnVsbCE9YSYmKHRoaXMuaWQ9dGhpcy5yZWN5Y2xlQXN5bmNJZChjLGEsYikpO3RoaXMucGVuZGluZz0hMDt0aGlzLmRlbGF5PWI7dGhpcy5pZD10aGlzLmlkfHx0aGlzLnJlcXVlc3RBc3luY0lkKGMsdGhpcy5pZCxiKTtyZXR1cm4gdGhpc307Cm1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRzY2hlZHVsZXIkQXN5bmNBY3Rpb24uQXN5bmNBY3Rpb24ucHJvdG90eXBlLnJlcXVlc3RBc3luY0lkPWZ1bmN0aW9uKGEsYixjKXtjPXZvaWQgMD09PWM/MDpjO3JldHVybiBtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkc2NoZWR1bGVyJGludGVydmFsUHJvdmlkZXIuaW50ZXJ2YWxQcm92aWRlci5zZXRJbnRlcnZhbChhLmZsdXNoLmJpbmQoYSx0aGlzKSxjKX07Cm1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRzY2hlZHVsZXIkQXN5bmNBY3Rpb24uQXN5bmNBY3Rpb24ucHJvdG90eXBlLnJlY3ljbGVBc3luY0lkPWZ1bmN0aW9uKGEsYixjKXtjPXZvaWQgMD09PWM/MDpjO2lmKG51bGwhPT1jJiZ0aGlzLmRlbGF5PT09YyYmITE9PT10aGlzLnBlbmRpbmcpcmV0dXJuIGI7bW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHNjaGVkdWxlciRpbnRlcnZhbFByb3ZpZGVyLmludGVydmFsUHJvdmlkZXIuY2xlYXJJbnRlcnZhbChiKX07Cm1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRzY2hlZHVsZXIkQXN5bmNBY3Rpb24uQXN5bmNBY3Rpb24ucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24oYSxiKXtpZih0aGlzLmNsb3NlZClyZXR1cm4gRXJyb3IoImV4ZWN1dGluZyBhIGNhbmNlbGxlZCBhY3Rpb24iKTt0aGlzLnBlbmRpbmc9ITE7aWYoYT10aGlzLl9leGVjdXRlKGEsYikpcmV0dXJuIGE7ITE9PT10aGlzLnBlbmRpbmcmJm51bGwhPXRoaXMuaWQmJih0aGlzLmlkPXRoaXMucmVjeWNsZUFzeW5jSWQodGhpcy5zY2hlZHVsZXIsdGhpcy5pZCxudWxsKSl9Owptb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkc2NoZWR1bGVyJEFzeW5jQWN0aW9uLkFzeW5jQWN0aW9uLnByb3RvdHlwZS5fZXhlY3V0ZT1mdW5jdGlvbihhKXt2YXIgYj0hMSxjPXZvaWQgMDt0cnl7dGhpcy53b3JrKGEpfWNhdGNoKGQpe2I9ITAsYz0hIWQmJmR8fEVycm9yKGQpfWlmKGIpcmV0dXJuIHRoaXMudW5zdWJzY3JpYmUoKSxjfTsKbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHNjaGVkdWxlciRBc3luY0FjdGlvbi5Bc3luY0FjdGlvbi5wcm90b3R5cGUuX3Vuc3Vic2NyaWJlPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5pZCxiPXRoaXMuc2NoZWR1bGVyLGM9Yi5hY3Rpb25zLGQ9Yy5pbmRleE9mKHRoaXMpO3RoaXMuc3RhdGU9dGhpcy53b3JrPW51bGw7dGhpcy5wZW5kaW5nPSExO3RoaXMuc2NoZWR1bGVyPW51bGw7LTEhPT1kJiZjLnNwbGljZShkLDEpO251bGwhPWEmJih0aGlzLmlkPXRoaXMucmVjeWNsZUFzeW5jSWQoYixhLG51bGwpKTt0aGlzLmRlbGF5PW51bGx9O3ZhciBtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkc2NoZWR1bGVyJEFzeW5jU2NoZWR1bGVyPXtBc3luY1NjaGVkdWxlcjpmdW5jdGlvbihhLGIpe2I9dm9pZCAwPT09Yj9tb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkU2NoZWR1bGVyLlNjaGVkdWxlci5ub3c6Yjttb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkU2NoZWR1bGVyLlNjaGVkdWxlci5jYWxsKHRoaXMsYSxiKTt0aGlzLmFjdGlvbnM9W107dGhpcy5hY3RpdmU9ITE7dGhpcy5zY2hlZHVsZWQ9dm9pZCAwfX07CiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHNjaGVkdWxlciRBc3luY1NjaGVkdWxlci5Bc3luY1NjaGVkdWxlcixtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkU2NoZWR1bGVyLlNjaGVkdWxlcik7Cm1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRzY2hlZHVsZXIkQXN5bmNTY2hlZHVsZXIuQXN5bmNTY2hlZHVsZXIucHJvdG90eXBlLmZsdXNoPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7Yj1iLmFjdGlvbnM7aWYodGhpcy5hY3RpdmUpYi5wdXNoKGEpO2Vsc2V7dmFyIGM7dGhpcy5hY3RpdmU9ITA7ZG8gaWYoYz1hLmV4ZWN1dGUoYS5zdGF0ZSxhLmRlbGF5KSlicmVhazt3aGlsZShhPWIuc2hpZnQoKSk7dGhpcy5hY3RpdmU9ITE7aWYoYyl7Zm9yKDthPWIuc2hpZnQoKTspYS51bnN1YnNjcmliZSgpO3Rocm93IGM7fX19O2Z1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb2JzZXJ2YWJsZSRtZXJnZV9tZXJnZSgpe3ZhciBhPSRqc2NvbXAuZ2V0UmVzdEFyZ3VtZW50cy5hcHBseSgwLGFyZ3VtZW50cyksYj1JbmZpbml0eSxjPXZvaWQgMCxkPWFbYS5sZW5ndGgtMV07bW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCR1dGlsJGlzU2NoZWR1bGVyX2lzU2NoZWR1bGVyKGQpPyhjPWEucG9wKCksMTxhLmxlbmd0aCYmIm51bWJlciI9PT10eXBlb2YgYVthLmxlbmd0aC0xXSYmKGI9YS5wb3AoKSkpOiJudW1iZXIiPT09dHlwZW9mIGQmJihiPWEucG9wKCkpOyFjJiYxPT09YS5sZW5ndGgmJmFbMF1pbnN0YW5jZW9mIG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRPYnNlcnZhYmxlLk9ic2VydmFibGU/CmE9YVswXTooYj12b2lkIDA9PT1iP0luZmluaXR5OmIsYj1tb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRtZXJnZU1hcF9tZXJnZU1hcChtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHV0aWwkaWRlbnRpdHlfaWRlbnRpdHksYiksYT1iKG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb2JzZXJ2YWJsZSRmcm9tQXJyYXlfZnJvbUFycmF5KGEsYykpKTtyZXR1cm4gYX07ZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvcGVyYXRvcnMkZmlsdGVyX2ZpbHRlcihhLGIpe3JldHVybiBmdW5jdGlvbihjKXtyZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCR1dGlsJGxpZnRfbGlmdChjLG5ldyBtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRmaWx0ZXJfRmlsdGVyT3BlcmF0b3IoYSxiKSl9fXZhciBtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRmaWx0ZXJfRmlsdGVyT3BlcmF0b3I9ZnVuY3Rpb24oYSxiKXt0aGlzLnByZWRpY2F0ZT1hO3RoaXMudGhpc0FyZz1ifTsKbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvcGVyYXRvcnMkZmlsdGVyX0ZpbHRlck9wZXJhdG9yLnByb3RvdHlwZS5jYWxsPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGIuc3Vic2NyaWJlKG5ldyBtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRmaWx0ZXJfRmlsdGVyU3Vic2NyaWJlcihhLHRoaXMucHJlZGljYXRlLHRoaXMudGhpc0FyZykpfTsKdmFyIG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb3BlcmF0b3JzJGZpbHRlcl9GaWx0ZXJTdWJzY3JpYmVyPWZ1bmN0aW9uKGEsYixjKXttb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkU3Vic2NyaWJlci5TdWJzY3JpYmVyLmNhbGwodGhpcyxhKTt0aGlzLnByZWRpY2F0ZT1iO3RoaXMudGhpc0FyZz1jO3RoaXMuY291bnQ9MH07JGpzY29tcC5pbmhlcml0cyhtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRmaWx0ZXJfRmlsdGVyU3Vic2NyaWJlcixtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkU3Vic2NyaWJlci5TdWJzY3JpYmVyKTsKbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvcGVyYXRvcnMkZmlsdGVyX0ZpbHRlclN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0PWZ1bmN0aW9uKGEpe3RyeXt2YXIgYj10aGlzLnByZWRpY2F0ZS5jYWxsKHRoaXMudGhpc0FyZyxhLHRoaXMuY291bnQrKyl9Y2F0Y2goYyl7dGhpcy5kZXN0aW5hdGlvbi5lcnJvcihjKTtyZXR1cm59YiYmdGhpcy5kZXN0aW5hdGlvbi5uZXh0KGEpfTt2YXIgbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9ic2VydmFibGUkcmFjZT17fTsKZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvYnNlcnZhYmxlJHJhY2VfcmFjZSgpe3ZhciBhPSRqc2NvbXAuZ2V0UmVzdEFyZ3VtZW50cy5hcHBseSgwLGFyZ3VtZW50cyk7aWYoMT09PWEubGVuZ3RoKWlmKCgwLG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCR1dGlsJGlzQXJyYXkuaXNBcnJheSkoYVswXSkpYT1hWzBdO2Vsc2UgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb2JzZXJ2YWJsZSRmcm9tX2Zyb20oYVswXSk7cmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkdXRpbCRsaWZ0X2xpZnQobW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvYnNlcnZhYmxlJGZyb21BcnJheV9mcm9tQXJyYXkoYSx2b2lkIDApLApuZXcgbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9ic2VydmFibGUkcmFjZS5SYWNlT3BlcmF0b3IpfW1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvYnNlcnZhYmxlJHJhY2UucmFjZT1tb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9ic2VydmFibGUkcmFjZV9yYWNlO21vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvYnNlcnZhYmxlJHJhY2UuUmFjZU9wZXJhdG9yPWZ1bmN0aW9uKCl7fTttb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb2JzZXJ2YWJsZSRyYWNlLlJhY2VPcGVyYXRvci5wcm90b3R5cGUuY2FsbD1mdW5jdGlvbihhLGIpe3JldHVybiBiLnN1YnNjcmliZShuZXcgbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9ic2VydmFibGUkcmFjZS5SYWNlU3Vic2NyaWJlcihhKSl9Owptb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb2JzZXJ2YWJsZSRyYWNlLlJhY2VTdWJzY3JpYmVyPWZ1bmN0aW9uKGEpe21vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRpbm5lclN1YnNjcmliZS5Db21wbGV4T3V0ZXJTdWJzY3JpYmVyLmNhbGwodGhpcyxhKTt0aGlzLmhhc0ZpcnN0PSExO3RoaXMub2JzZXJ2YWJsZXM9W107dGhpcy5zdWJzY3JpcHRpb25zPVtdfTskanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvYnNlcnZhYmxlJHJhY2UuUmFjZVN1YnNjcmliZXIsbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJGlubmVyU3Vic2NyaWJlLkNvbXBsZXhPdXRlclN1YnNjcmliZXIpOwptb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb2JzZXJ2YWJsZSRyYWNlLlJhY2VTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dD1mdW5jdGlvbihhKXt0aGlzLm9ic2VydmFibGVzLnB1c2goYSl9Owptb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb2JzZXJ2YWJsZSRyYWNlLlJhY2VTdWJzY3JpYmVyLnByb3RvdHlwZS5fY29tcGxldGU9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9ic2VydmFibGVzLGI9YS5sZW5ndGg7aWYoMD09PWIpdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO2Vsc2V7Zm9yKHZhciBjPTA7YzxiJiYhdGhpcy5oYXNGaXJzdDtjKyspe3ZhciBkPWFbY107ZD1tb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJGlubmVyU3Vic2NyaWJlX2lubmVyU3Vic2NyaWJlKGQsbmV3IG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRpbm5lclN1YnNjcmliZS5Db21wbGV4SW5uZXJTdWJzY3JpYmVyKHRoaXMsbnVsbCxjKSk7dGhpcy5zdWJzY3JpcHRpb25zJiZ0aGlzLnN1YnNjcmlwdGlvbnMucHVzaChkKTsKdGhpcy5hZGQoZCl9dGhpcy5vYnNlcnZhYmxlcz1udWxsfX07bW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9ic2VydmFibGUkcmFjZS5SYWNlU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5TmV4dD1mdW5jdGlvbihhLGIsYyl7aWYoIXRoaXMuaGFzRmlyc3Qpe3RoaXMuaGFzRmlyc3Q9ITA7Zm9yKHZhciBkPTA7ZDx0aGlzLnN1YnNjcmlwdGlvbnMubGVuZ3RoO2QrKylpZihkIT09Yyl7dmFyIGU9dGhpcy5zdWJzY3JpcHRpb25zW2RdO2UudW5zdWJzY3JpYmUoKTt0aGlzLnJlbW92ZShlKX10aGlzLnN1YnNjcmlwdGlvbnM9bnVsbH10aGlzLmRlc3RpbmF0aW9uLm5leHQoYil9Owptb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb2JzZXJ2YWJsZSRyYWNlLlJhY2VTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlDb21wbGV0ZT1mdW5jdGlvbihhKXt0aGlzLmhhc0ZpcnN0PSEwO21vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRpbm5lclN1YnNjcmliZS5Db21wbGV4T3V0ZXJTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlDb21wbGV0ZS5jYWxsKHRoaXMsYSl9Owptb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb2JzZXJ2YWJsZSRyYWNlLlJhY2VTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlFcnJvcj1mdW5jdGlvbihhKXt0aGlzLmhhc0ZpcnN0PSEwO21vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRpbm5lclN1YnNjcmliZS5Db21wbGV4T3V0ZXJTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlFcnJvci5jYWxsKHRoaXMsYSl9O3ZhciBtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb2JzZXJ2YWJsZSR6aXA9e307CmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb2JzZXJ2YWJsZSR6aXBfemlwKCl7dmFyIGE9JGpzY29tcC5nZXRSZXN0QXJndW1lbnRzLmFwcGx5KDAsYXJndW1lbnRzKSxiPWFbYS5sZW5ndGgtMV0sYz12b2lkIDA7ImZ1bmN0aW9uIj09PXR5cGVvZiBiJiYoYz1hLnBvcCgpKTtyZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCR1dGlsJGxpZnRfbGlmdChtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9ic2VydmFibGUkZnJvbUFycmF5X2Zyb21BcnJheShhLHZvaWQgMCksbmV3IG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvYnNlcnZhYmxlJHppcC5aaXBPcGVyYXRvcihjKSl9Cm1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvYnNlcnZhYmxlJHppcC56aXA9bW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvYnNlcnZhYmxlJHppcF96aXA7bW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9ic2VydmFibGUkemlwLlppcE9wZXJhdG9yPWZ1bmN0aW9uKGEpe3RoaXMucmVzdWx0U2VsZWN0b3I9YX07Cm1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvYnNlcnZhYmxlJHppcC5aaXBPcGVyYXRvci5wcm90b3R5cGUuY2FsbD1mdW5jdGlvbihhLGIpe3JldHVybiBiLnN1YnNjcmliZShuZXcgbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9ic2VydmFibGUkemlwLlppcFN1YnNjcmliZXIoYSx0aGlzLnJlc3VsdFNlbGVjdG9yKSl9Owptb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb2JzZXJ2YWJsZSR6aXAuWmlwU3Vic2NyaWJlcj1mdW5jdGlvbihhLGIsYyl7dm9pZCAwPT09YyYmT2JqZWN0LmNyZWF0ZShudWxsKTttb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkU3Vic2NyaWJlci5TdWJzY3JpYmVyLmNhbGwodGhpcyxhKTt0aGlzLml0ZXJhdG9ycz1bXTt0aGlzLmFjdGl2ZT0wO3RoaXMucmVzdWx0U2VsZWN0b3I9Yn07JGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb2JzZXJ2YWJsZSR6aXAuWmlwU3Vic2NyaWJlcixtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkU3Vic2NyaWJlci5TdWJzY3JpYmVyKTsKbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9ic2VydmFibGUkemlwLlppcFN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuaXRlcmF0b3JzOygwLG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCR1dGlsJGlzQXJyYXkuaXNBcnJheSkoYSk/Yi5wdXNoKG5ldyBtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9ic2VydmFibGUkemlwX1N0YXRpY0FycmF5SXRlcmF0b3IoYSkpOiJmdW5jdGlvbiI9PT10eXBlb2YgYVttb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkc3ltYm9sJGl0ZXJhdG9yLml0ZXJhdG9yXT9iLnB1c2gobmV3IG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb2JzZXJ2YWJsZSR6aXBfU3RhdGljSXRlcmF0b3IoYVttb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkc3ltYm9sJGl0ZXJhdG9yLml0ZXJhdG9yXSgpKSk6CmIucHVzaChuZXcgbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvYnNlcnZhYmxlJHppcF9aaXBCdWZmZXJJdGVyYXRvcih0aGlzLmRlc3RpbmF0aW9uLHRoaXMsYSkpfTttb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb2JzZXJ2YWJsZSR6aXAuWmlwU3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5pdGVyYXRvcnMsYj1hLmxlbmd0aDt0aGlzLnVuc3Vic2NyaWJlKCk7aWYoMD09PWIpdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO2Vsc2V7dGhpcy5hY3RpdmU9Yjtmb3IodmFyIGM9MDtjPGI7YysrKXt2YXIgZD1hW2NdO2lmKGQuc3RpbGxVbnN1YnNjcmliZWQpe3ZhciBlPXRoaXMuZGVzdGluYXRpb247ZS5hZGQoZC5zdWJzY3JpYmUoKSl9ZWxzZSB0aGlzLmFjdGl2ZS0tfX19Owptb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb2JzZXJ2YWJsZSR6aXAuWmlwU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5SW5hY3RpdmU9ZnVuY3Rpb24oKXt0aGlzLmFjdGl2ZS0tOzA9PT10aGlzLmFjdGl2ZSYmdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpfTsKbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9ic2VydmFibGUkemlwLlppcFN1YnNjcmliZXIucHJvdG90eXBlLmNoZWNrSXRlcmF0b3JzPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMuaXRlcmF0b3JzLGI9YS5sZW5ndGgsYz10aGlzLmRlc3RpbmF0aW9uLGQ9MDtkPGI7ZCsrKXt2YXIgZT1hW2RdO2lmKCJmdW5jdGlvbiI9PT10eXBlb2YgZS5oYXNWYWx1ZSYmIWUuaGFzVmFsdWUoKSlyZXR1cm59ZD0hMTtlPVtdO2Zvcih2YXIgZj0wO2Y8YjtmKyspe3ZhciBnPWFbZl0saz1nLm5leHQoKTtnLmhhc0NvbXBsZXRlZCgpJiYoZD0hMCk7aWYoay5kb25lKXtjLmNvbXBsZXRlKCk7cmV0dXJufWUucHVzaChrLnZhbHVlKX10aGlzLnJlc3VsdFNlbGVjdG9yP3RoaXMuX3RyeXJlc3VsdFNlbGVjdG9yKGUpOmMubmV4dChlKTtkJiZjLmNvbXBsZXRlKCl9Owptb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb2JzZXJ2YWJsZSR6aXAuWmlwU3Vic2NyaWJlci5wcm90b3R5cGUuX3RyeXJlc3VsdFNlbGVjdG9yPWZ1bmN0aW9uKGEpe3RyeXt2YXIgYj10aGlzLnJlc3VsdFNlbGVjdG9yLmFwcGx5KHRoaXMsYSl9Y2F0Y2goYyl7dGhpcy5kZXN0aW5hdGlvbi5lcnJvcihjKTtyZXR1cm59dGhpcy5kZXN0aW5hdGlvbi5uZXh0KGIpfTt2YXIgbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvYnNlcnZhYmxlJHppcF9TdGF0aWNJdGVyYXRvcj1mdW5jdGlvbihhKXt0aGlzLml0ZXJhdG9yPWE7dGhpcy5uZXh0UmVzdWx0PWEubmV4dCgpfTsKbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvYnNlcnZhYmxlJHppcF9TdGF0aWNJdGVyYXRvci5wcm90b3R5cGUuaGFzVmFsdWU9ZnVuY3Rpb24oKXtyZXR1cm4hMH07bW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvYnNlcnZhYmxlJHppcF9TdGF0aWNJdGVyYXRvci5wcm90b3R5cGUubmV4dD1mdW5jdGlvbigpe3ZhciBhPXRoaXMubmV4dFJlc3VsdDt0aGlzLm5leHRSZXN1bHQ9dGhpcy5pdGVyYXRvci5uZXh0KCk7cmV0dXJuIGF9O21vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb2JzZXJ2YWJsZSR6aXBfU3RhdGljSXRlcmF0b3IucHJvdG90eXBlLmhhc0NvbXBsZXRlZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMubmV4dFJlc3VsdDtyZXR1cm4gYSYmISFhLmRvbmV9Owp2YXIgbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvYnNlcnZhYmxlJHppcF9TdGF0aWNBcnJheUl0ZXJhdG9yPWZ1bmN0aW9uKGEpe3RoaXMuYXJyYXk9YTt0aGlzLmxlbmd0aD10aGlzLmluZGV4PTA7dGhpcy5sZW5ndGg9YS5sZW5ndGh9O21vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb2JzZXJ2YWJsZSR6aXBfU3RhdGljQXJyYXlJdGVyYXRvci5wcm90b3R5cGVbbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHN5bWJvbCRpdGVyYXRvci5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307Cm1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb2JzZXJ2YWJsZSR6aXBfU3RhdGljQXJyYXlJdGVyYXRvci5wcm90b3R5cGUubmV4dD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuaW5kZXgrKyxiPXRoaXMuYXJyYXk7cmV0dXJuIGE8dGhpcy5sZW5ndGg/e3ZhbHVlOmJbYV0sZG9uZTohMX06e3ZhbHVlOm51bGwsZG9uZTohMH19O21vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb2JzZXJ2YWJsZSR6aXBfU3RhdGljQXJyYXlJdGVyYXRvci5wcm90b3R5cGUuaGFzVmFsdWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hcnJheS5sZW5ndGg+dGhpcy5pbmRleH07Cm1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb2JzZXJ2YWJsZSR6aXBfU3RhdGljQXJyYXlJdGVyYXRvci5wcm90b3R5cGUuaGFzQ29tcGxldGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXJyYXkubGVuZ3RoPT09dGhpcy5pbmRleH07dmFyIG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb2JzZXJ2YWJsZSR6aXBfWmlwQnVmZmVySXRlcmF0b3I9ZnVuY3Rpb24oYSxiLGMpe21vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRpbm5lclN1YnNjcmliZS5TaW1wbGVPdXRlclN1YnNjcmliZXIuY2FsbCh0aGlzLGEpO3RoaXMucGFyZW50PWI7dGhpcy5vYnNlcnZhYmxlPWM7dGhpcy5zdGlsbFVuc3Vic2NyaWJlZD0hMDt0aGlzLmJ1ZmZlcj1bXTt0aGlzLmlzQ29tcGxldGU9ITF9OwokanNjb21wLmluaGVyaXRzKG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb2JzZXJ2YWJsZSR6aXBfWmlwQnVmZmVySXRlcmF0b3IsbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJGlubmVyU3Vic2NyaWJlLlNpbXBsZU91dGVyU3Vic2NyaWJlcik7bW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvYnNlcnZhYmxlJHppcF9aaXBCdWZmZXJJdGVyYXRvci5wcm90b3R5cGVbbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHN5bWJvbCRpdGVyYXRvci5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307Cm1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb2JzZXJ2YWJsZSR6aXBfWmlwQnVmZmVySXRlcmF0b3IucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmJ1ZmZlcjtyZXR1cm4gMD09PWEubGVuZ3RoJiZ0aGlzLmlzQ29tcGxldGU/e3ZhbHVlOm51bGwsZG9uZTohMH06e3ZhbHVlOmEuc2hpZnQoKSxkb25lOiExfX07bW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvYnNlcnZhYmxlJHppcF9aaXBCdWZmZXJJdGVyYXRvci5wcm90b3R5cGUuaGFzVmFsdWU9ZnVuY3Rpb24oKXtyZXR1cm4gMDx0aGlzLmJ1ZmZlci5sZW5ndGh9Owptb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9ic2VydmFibGUkemlwX1ppcEJ1ZmZlckl0ZXJhdG9yLnByb3RvdHlwZS5oYXNDb21wbGV0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMuYnVmZmVyLmxlbmd0aCYmdGhpcy5pc0NvbXBsZXRlfTttb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9ic2VydmFibGUkemlwX1ppcEJ1ZmZlckl0ZXJhdG9yLnByb3RvdHlwZS5ub3RpZnlDb21wbGV0ZT1mdW5jdGlvbigpezA8dGhpcy5idWZmZXIubGVuZ3RoPyh0aGlzLmlzQ29tcGxldGU9ITAsdGhpcy5wYXJlbnQubm90aWZ5SW5hY3RpdmUoKSk6dGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpfTsKbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvYnNlcnZhYmxlJHppcF9aaXBCdWZmZXJJdGVyYXRvci5wcm90b3R5cGUubm90aWZ5TmV4dD1mdW5jdGlvbihhKXt0aGlzLmJ1ZmZlci5wdXNoKGEpO3RoaXMucGFyZW50LmNoZWNrSXRlcmF0b3JzKCl9O21vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb2JzZXJ2YWJsZSR6aXBfWmlwQnVmZmVySXRlcmF0b3IucHJvdG90eXBlLnN1YnNjcmliZT1mdW5jdGlvbigpe3JldHVybiBtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJGlubmVyU3Vic2NyaWJlX2lubmVyU3Vic2NyaWJlKHRoaXMub2JzZXJ2YWJsZSxuZXcgbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJGlubmVyU3Vic2NyaWJlLlNpbXBsZUlubmVyU3Vic2NyaWJlcih0aGlzKSl9O3ZhciBtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb3BlcmF0b3JzJGdyb3VwQnk9e307ZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvcGVyYXRvcnMkZ3JvdXBCeV9ncm91cEJ5KGEsYixjLGQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCR1dGlsJGxpZnRfbGlmdChlLG5ldyBtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRncm91cEJ5X0dyb3VwQnlPcGVyYXRvcihhLGIsYyxkKSl9fQptb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb3BlcmF0b3JzJGdyb3VwQnkuZ3JvdXBCeT1tb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRncm91cEJ5X2dyb3VwQnk7ZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvcGVyYXRvcnMkZ3JvdXBCeV9SZWZDb3VudFN1YnNjcmlwdGlvbigpe31tb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb3BlcmF0b3JzJGdyb3VwQnkuUmVmQ291bnRTdWJzY3JpcHRpb249bW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvcGVyYXRvcnMkZ3JvdXBCeV9SZWZDb3VudFN1YnNjcmlwdGlvbjsKdmFyIG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb3BlcmF0b3JzJGdyb3VwQnlfR3JvdXBCeU9wZXJhdG9yPWZ1bmN0aW9uKGEsYixjLGQpe3RoaXMua2V5U2VsZWN0b3I9YTt0aGlzLmVsZW1lbnRTZWxlY3Rvcj1iO3RoaXMuZHVyYXRpb25TZWxlY3Rvcj1jO3RoaXMuc3ViamVjdFNlbGVjdG9yPWR9Owptb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRncm91cEJ5X0dyb3VwQnlPcGVyYXRvci5wcm90b3R5cGUuY2FsbD1mdW5jdGlvbihhLGIpe3JldHVybiBiLnN1YnNjcmliZShuZXcgbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvcGVyYXRvcnMkZ3JvdXBCeV9Hcm91cEJ5U3Vic2NyaWJlcihhLHRoaXMua2V5U2VsZWN0b3IsdGhpcy5lbGVtZW50U2VsZWN0b3IsdGhpcy5kdXJhdGlvblNlbGVjdG9yLHRoaXMuc3ViamVjdFNlbGVjdG9yKSl9Owp2YXIgbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvcGVyYXRvcnMkZ3JvdXBCeV9Hcm91cEJ5U3Vic2NyaWJlcj1mdW5jdGlvbihhLGIsYyxkLGUpe21vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRTdWJzY3JpYmVyLlN1YnNjcmliZXIuY2FsbCh0aGlzLGEpO3RoaXMua2V5U2VsZWN0b3I9Yjt0aGlzLmVsZW1lbnRTZWxlY3Rvcj1jO3RoaXMuZHVyYXRpb25TZWxlY3Rvcj1kO3RoaXMuc3ViamVjdFNlbGVjdG9yPWU7dGhpcy5ncm91cHM9bnVsbDt0aGlzLmF0dGVtcHRlZFRvVW5zdWJzY3JpYmU9ITE7dGhpcy5jb3VudD0wfTskanNjb21wLmluaGVyaXRzKG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb3BlcmF0b3JzJGdyb3VwQnlfR3JvdXBCeVN1YnNjcmliZXIsbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJFN1YnNjcmliZXIuU3Vic2NyaWJlcik7Cm1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb3BlcmF0b3JzJGdyb3VwQnlfR3JvdXBCeVN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0PWZ1bmN0aW9uKGEpe3RyeXt2YXIgYj10aGlzLmtleVNlbGVjdG9yKGEpfWNhdGNoKGMpe3RoaXMuZXJyb3IoYyk7cmV0dXJufXRoaXMuX2dyb3VwKGEsYil9Owptb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRncm91cEJ5X0dyb3VwQnlTdWJzY3JpYmVyLnByb3RvdHlwZS5fZ3JvdXA9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdyb3VwcztjfHwoYz10aGlzLmdyb3Vwcz1uZXcgTWFwKTt2YXIgZD1jLmdldChiKTtpZih0aGlzLmVsZW1lbnRTZWxlY3Rvcil0cnl7dmFyIGU9dGhpcy5lbGVtZW50U2VsZWN0b3IoYSl9Y2F0Y2goZyl7dGhpcy5lcnJvcihnKX1lbHNlIGU9YTtpZighZCYmKGQ9dGhpcy5zdWJqZWN0U2VsZWN0b3I/dGhpcy5zdWJqZWN0U2VsZWN0b3IoKTpuZXcgbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJFN1YmplY3QuU3ViamVjdCxjLnNldChiLGQpLGE9bmV3IG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvcGVyYXRvcnMkZ3JvdXBCeS5Hcm91cGVkT2JzZXJ2YWJsZShiLApkLHRoaXMpLHRoaXMuZGVzdGluYXRpb24ubmV4dChhKSx0aGlzLmR1cmF0aW9uU2VsZWN0b3IpKXt0cnl7dmFyIGY9dGhpcy5kdXJhdGlvblNlbGVjdG9yKG5ldyBtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb3BlcmF0b3JzJGdyb3VwQnkuR3JvdXBlZE9ic2VydmFibGUoYixkKSl9Y2F0Y2goZyl7dGhpcy5lcnJvcihnKTtyZXR1cm59dGhpcy5hZGQoZi5zdWJzY3JpYmUobmV3IG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb3BlcmF0b3JzJGdyb3VwQnlfR3JvdXBEdXJhdGlvblN1YnNjcmliZXIoYixkLHRoaXMpKSl9ZC5jbG9zZWR8fGQubmV4dChlKX07Cm1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb3BlcmF0b3JzJGdyb3VwQnlfR3JvdXBCeVN1YnNjcmliZXIucHJvdG90eXBlLl9lcnJvcj1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmdyb3VwcztiJiYoYi5mb3JFYWNoKGZ1bmN0aW9uKGMpe2MuZXJyb3IoYSl9KSxiLmNsZWFyKCkpO3RoaXMuZGVzdGluYXRpb24uZXJyb3IoYSl9O21vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb3BlcmF0b3JzJGdyb3VwQnlfR3JvdXBCeVN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ3JvdXBzO2EmJihhLmZvckVhY2goZnVuY3Rpb24oYil7Yi5jb21wbGV0ZSgpfSksYS5jbGVhcigpKTt0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCl9Owptb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRncm91cEJ5X0dyb3VwQnlTdWJzY3JpYmVyLnByb3RvdHlwZS5yZW1vdmVHcm91cD1mdW5jdGlvbihhKXt0aGlzLmdyb3Vwcy5kZWxldGUoYSl9O21vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb3BlcmF0b3JzJGdyb3VwQnlfR3JvdXBCeVN1YnNjcmliZXIucHJvdG90eXBlLnVuc3Vic2NyaWJlPWZ1bmN0aW9uKCl7dGhpcy5jbG9zZWR8fCh0aGlzLmF0dGVtcHRlZFRvVW5zdWJzY3JpYmU9ITAsMD09PXRoaXMuY291bnQmJm1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRTdWJzY3JpYmVyLlN1YnNjcmliZXIucHJvdG90eXBlLnVuc3Vic2NyaWJlLmNhbGwodGhpcykpfTsKdmFyIG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb3BlcmF0b3JzJGdyb3VwQnlfR3JvdXBEdXJhdGlvblN1YnNjcmliZXI9ZnVuY3Rpb24oYSxiLGMpe21vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRTdWJzY3JpYmVyLlN1YnNjcmliZXIuY2FsbCh0aGlzLGIpO3RoaXMua2V5PWE7dGhpcy5ncm91cD1iO3RoaXMucGFyZW50PWN9OyRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvcGVyYXRvcnMkZ3JvdXBCeV9Hcm91cER1cmF0aW9uU3Vic2NyaWJlcixtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkU3Vic2NyaWJlci5TdWJzY3JpYmVyKTsKbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvcGVyYXRvcnMkZ3JvdXBCeV9Hcm91cER1cmF0aW9uU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQ9ZnVuY3Rpb24oKXt0aGlzLmNvbXBsZXRlKCl9O21vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb3BlcmF0b3JzJGdyb3VwQnlfR3JvdXBEdXJhdGlvblN1YnNjcmliZXIucHJvdG90eXBlLl91bnN1YnNjcmliZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLnBhcmVudDthPWEua2V5O3RoaXMua2V5PXRoaXMucGFyZW50PW51bGw7YiYmYi5yZW1vdmVHcm91cChhKX07Cm1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvcGVyYXRvcnMkZ3JvdXBCeS5Hcm91cGVkT2JzZXJ2YWJsZT1mdW5jdGlvbihhLGIsYyl7bW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJE9ic2VydmFibGUuT2JzZXJ2YWJsZS5jYWxsKHRoaXMpO3RoaXMua2V5PWE7dGhpcy5ncm91cFN1YmplY3Q9Yjt0aGlzLnJlZkNvdW50U3Vic2NyaXB0aW9uPWN9OyRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRncm91cEJ5Lkdyb3VwZWRPYnNlcnZhYmxlLG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRPYnNlcnZhYmxlLk9ic2VydmFibGUpOwptb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb3BlcmF0b3JzJGdyb3VwQnkuR3JvdXBlZE9ic2VydmFibGUucHJvdG90eXBlLl9zdWJzY3JpYmU9ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRTdWJzY3JpcHRpb24uU3Vic2NyaXB0aW9uLGM9dGhpcyxkPWMucmVmQ291bnRTdWJzY3JpcHRpb247Yz1jLmdyb3VwU3ViamVjdDtkJiYhZC5jbG9zZWQmJmIuYWRkKG5ldyBtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRncm91cEJ5X0lubmVyUmVmQ291bnRTdWJzY3JpcHRpb24oZCkpO2IuYWRkKGMuc3Vic2NyaWJlKGEpKTtyZXR1cm4gYn07CnZhciBtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRncm91cEJ5X0lubmVyUmVmQ291bnRTdWJzY3JpcHRpb249ZnVuY3Rpb24oYSl7bW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJFN1YnNjcmlwdGlvbi5TdWJzY3JpcHRpb24uY2FsbCh0aGlzKTt0aGlzLnBhcmVudD1hO2EuY291bnQrK307JGpzY29tcC5pbmhlcml0cyhtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRncm91cEJ5X0lubmVyUmVmQ291bnRTdWJzY3JpcHRpb24sbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJFN1YnNjcmlwdGlvbi5TdWJzY3JpcHRpb24pOwptb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRncm91cEJ5X0lubmVyUmVmQ291bnRTdWJzY3JpcHRpb24ucHJvdG90eXBlLnVuc3Vic2NyaWJlPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5wYXJlbnQ7YS5jbG9zZWR8fHRoaXMuY2xvc2VkfHwobW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJFN1YnNjcmlwdGlvbi5TdWJzY3JpcHRpb24ucHJvdG90eXBlLnVuc3Vic2NyaWJlLmNhbGwodGhpcyksLS1hLmNvdW50LDA9PT1hLmNvdW50JiZhLmF0dGVtcHRlZFRvVW5zdWJzY3JpYmUmJmEudW5zdWJzY3JpYmUoKSl9OyhmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYil7Yj12b2lkIDA9PT1iP251bGw6Yjt0aGlzLm1lc3NhZ2U9IlRpbWVvdXQgaGFzIG9jY3VycmVkIjt0aGlzLm5hbWU9IlRpbWVvdXRFcnJvciI7dGhpcy5pbmZvPWI7cmV0dXJuIHRoaXN9YS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpO3JldHVybiBhfSkoKTt2YXIgbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHNjaGVkdWxlciRWaXJ0dWFsVGltZVNjaGVkdWxlcj17VmlydHVhbFRpbWVTY2hlZHVsZXI6ZnVuY3Rpb24oYSxiKXthPXZvaWQgMD09PWE/bW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHNjaGVkdWxlciRWaXJ0dWFsVGltZVNjaGVkdWxlci5WaXJ0dWFsQWN0aW9uOmE7Yj12b2lkIDA9PT1iP0luZmluaXR5OmI7bW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHNjaGVkdWxlciRBc3luY1NjaGVkdWxlci5Bc3luY1NjaGVkdWxlci5jYWxsKHRoaXMsYSxmdW5jdGlvbigpe3JldHVybiBjLmZyYW1lfSk7dmFyIGM9dGhpczt0aGlzLm1heEZyYW1lcz1iO3RoaXMuZnJhbWU9MDt0aGlzLmluZGV4PS0xfX07CiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHNjaGVkdWxlciRWaXJ0dWFsVGltZVNjaGVkdWxlci5WaXJ0dWFsVGltZVNjaGVkdWxlcixtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkc2NoZWR1bGVyJEFzeW5jU2NoZWR1bGVyLkFzeW5jU2NoZWR1bGVyKTsKbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHNjaGVkdWxlciRWaXJ0dWFsVGltZVNjaGVkdWxlci5WaXJ0dWFsVGltZVNjaGVkdWxlci5wcm90b3R5cGUuZmx1c2g9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5hY3Rpb25zO2E9YS5tYXhGcmFtZXM7Zm9yKHZhciBjLGQ7KGQ9YlswXSkmJmQuZGVsYXk8PWEmJiEoYi5zaGlmdCgpLHRoaXMuZnJhbWU9ZC5kZWxheSxjPWQuZXhlY3V0ZShkLnN0YXRlLGQuZGVsYXkpKTspO2lmKGMpe2Zvcig7ZD1iLnNoaWZ0KCk7KWQudW5zdWJzY3JpYmUoKTt0aHJvdyBjO319O21vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRzY2hlZHVsZXIkVmlydHVhbFRpbWVTY2hlZHVsZXIuVmlydHVhbFRpbWVTY2hlZHVsZXIuZnJhbWVUaW1lRmFjdG9yPTEwOwptb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkc2NoZWR1bGVyJFZpcnR1YWxUaW1lU2NoZWR1bGVyLlZpcnR1YWxBY3Rpb249ZnVuY3Rpb24oYSxiLGMpe2M9dm9pZCAwPT09Yz9hLmluZGV4Kz0xOmM7bW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHNjaGVkdWxlciRBc3luY0FjdGlvbi5Bc3luY0FjdGlvbi5jYWxsKHRoaXMsYSxiKTt0aGlzLnNjaGVkdWxlcj1hO3RoaXMud29yaz1iO3RoaXMuaW5kZXg9Yzt0aGlzLmFjdGl2ZT0hMDt0aGlzLmluZGV4PWEuaW5kZXg9Y307JGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkc2NoZWR1bGVyJFZpcnR1YWxUaW1lU2NoZWR1bGVyLlZpcnR1YWxBY3Rpb24sbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHNjaGVkdWxlciRBc3luY0FjdGlvbi5Bc3luY0FjdGlvbik7Cm1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRzY2hlZHVsZXIkVmlydHVhbFRpbWVTY2hlZHVsZXIuVmlydHVhbEFjdGlvbi5wcm90b3R5cGUuc2NoZWR1bGU9ZnVuY3Rpb24oYSxiKXtiPXZvaWQgMD09PWI/MDpiO2lmKE51bWJlci5pc0Zpbml0ZShiKSl7aWYoIXRoaXMuaWQpcmV0dXJuIG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRzY2hlZHVsZXIkQXN5bmNBY3Rpb24uQXN5bmNBY3Rpb24ucHJvdG90eXBlLnNjaGVkdWxlLmNhbGwodGhpcyxhLGIpO3RoaXMuYWN0aXZlPSExO3ZhciBjPW5ldyBtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkc2NoZWR1bGVyJFZpcnR1YWxUaW1lU2NoZWR1bGVyLlZpcnR1YWxBY3Rpb24odGhpcy5zY2hlZHVsZXIsdGhpcy53b3JrKTt0aGlzLmFkZChjKTsKcmV0dXJuIGMuc2NoZWR1bGUoYSxiKX1yZXR1cm4gbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJFN1YnNjcmlwdGlvbi5TdWJzY3JpcHRpb24uRU1QVFl9O21vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRzY2hlZHVsZXIkVmlydHVhbFRpbWVTY2hlZHVsZXIuVmlydHVhbEFjdGlvbi5wcm90b3R5cGUucmVxdWVzdEFzeW5jSWQ9ZnVuY3Rpb24oYSxiLGMpe2M9dm9pZCAwPT09Yz8wOmM7dGhpcy5kZWxheT1hLmZyYW1lK2M7YT1hLmFjdGlvbnM7YS5wdXNoKHRoaXMpO2Euc29ydChtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkc2NoZWR1bGVyJFZpcnR1YWxUaW1lU2NoZWR1bGVyLlZpcnR1YWxBY3Rpb24uc29ydEFjdGlvbnMpO3JldHVybiEwfTsKbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHNjaGVkdWxlciRWaXJ0dWFsVGltZVNjaGVkdWxlci5WaXJ0dWFsQWN0aW9uLnByb3RvdHlwZS5yZWN5Y2xlQXN5bmNJZD1mdW5jdGlvbigpe307bW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHNjaGVkdWxlciRWaXJ0dWFsVGltZVNjaGVkdWxlci5WaXJ0dWFsQWN0aW9uLnByb3RvdHlwZS5fZXhlY3V0ZT1mdW5jdGlvbihhLGIpe2lmKCEwPT09dGhpcy5hY3RpdmUpcmV0dXJuIG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRzY2hlZHVsZXIkQXN5bmNBY3Rpb24uQXN5bmNBY3Rpb24ucHJvdG90eXBlLl9leGVjdXRlLmNhbGwodGhpcyxhLGIpfTsKbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHNjaGVkdWxlciRWaXJ0dWFsVGltZVNjaGVkdWxlci5WaXJ0dWFsQWN0aW9uLnNvcnRBY3Rpb25zPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuZGVsYXk9PT1iLmRlbGF5P2EuaW5kZXg9PT1iLmluZGV4PzA6YS5pbmRleD5iLmluZGV4PzE6LTE6YS5kZWxheT5iLmRlbGF5PzE6LTF9O3ZhciBtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkc2NoZWR1bGVyJEFuaW1hdGlvbkZyYW1lQWN0aW9uPXtBbmltYXRpb25GcmFtZUFjdGlvbjpmdW5jdGlvbihhLGIpe21vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRzY2hlZHVsZXIkQXN5bmNBY3Rpb24uQXN5bmNBY3Rpb24uY2FsbCh0aGlzLGEsYik7dGhpcy5zY2hlZHVsZXI9YTt0aGlzLndvcms9Yn19OyRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHNjaGVkdWxlciRBbmltYXRpb25GcmFtZUFjdGlvbi5BbmltYXRpb25GcmFtZUFjdGlvbixtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkc2NoZWR1bGVyJEFzeW5jQWN0aW9uLkFzeW5jQWN0aW9uKTsKbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHNjaGVkdWxlciRBbmltYXRpb25GcmFtZUFjdGlvbi5BbmltYXRpb25GcmFtZUFjdGlvbi5wcm90b3R5cGUucmVxdWVzdEFzeW5jSWQ9ZnVuY3Rpb24oYSxiLGMpe2M9dm9pZCAwPT09Yz8wOmM7aWYobnVsbCE9PWMmJjA8YylyZXR1cm4gbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHNjaGVkdWxlciRBc3luY0FjdGlvbi5Bc3luY0FjdGlvbi5wcm90b3R5cGUucmVxdWVzdEFzeW5jSWQuY2FsbCh0aGlzLGEsYixjKTthLmFjdGlvbnMucHVzaCh0aGlzKTtyZXR1cm4gYS5zY2hlZHVsZWR8fChhLnNjaGVkdWxlZD1tb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkc2NoZWR1bGVyJGFuaW1hdGlvbkZyYW1lUHJvdmlkZXIuYW5pbWF0aW9uRnJhbWVQcm92aWRlci5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24oKXtyZXR1cm4gYS5mbHVzaCh2b2lkIDApfSkpfTsKbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHNjaGVkdWxlciRBbmltYXRpb25GcmFtZUFjdGlvbi5BbmltYXRpb25GcmFtZUFjdGlvbi5wcm90b3R5cGUucmVjeWNsZUFzeW5jSWQ9ZnVuY3Rpb24oYSxiLGMpe2M9dm9pZCAwPT09Yz8wOmM7aWYobnVsbCE9PWMmJjA8Y3x8bnVsbD09PWMmJjA8dGhpcy5kZWxheSlyZXR1cm4gbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHNjaGVkdWxlciRBc3luY0FjdGlvbi5Bc3luY0FjdGlvbi5wcm90b3R5cGUucmVjeWNsZUFzeW5jSWQuY2FsbCh0aGlzLGEsYixjKTswPT09YS5hY3Rpb25zLmxlbmd0aCYmKG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRzY2hlZHVsZXIkYW5pbWF0aW9uRnJhbWVQcm92aWRlci5hbmltYXRpb25GcmFtZVByb3ZpZGVyLmNhbmNlbEFuaW1hdGlvbkZyYW1lKGIpLAphLnNjaGVkdWxlZD12b2lkIDApfTt2YXIgbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHNjaGVkdWxlciRBbmltYXRpb25GcmFtZVNjaGVkdWxlcj17QW5pbWF0aW9uRnJhbWVTY2hlZHVsZXI6ZnVuY3Rpb24oKXttb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkc2NoZWR1bGVyJEFzeW5jU2NoZWR1bGVyLkFzeW5jU2NoZWR1bGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19OyRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHNjaGVkdWxlciRBbmltYXRpb25GcmFtZVNjaGVkdWxlci5BbmltYXRpb25GcmFtZVNjaGVkdWxlcixtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkc2NoZWR1bGVyJEFzeW5jU2NoZWR1bGVyLkFzeW5jU2NoZWR1bGVyKTsKbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHNjaGVkdWxlciRBbmltYXRpb25GcmFtZVNjaGVkdWxlci5BbmltYXRpb25GcmFtZVNjaGVkdWxlci5wcm90b3R5cGUuZmx1c2g9ZnVuY3Rpb24oYSl7dGhpcy5hY3RpdmU9ITA7dGhpcy5zY2hlZHVsZWQ9dm9pZCAwO3ZhciBiPXRoaXM7Yj1iLmFjdGlvbnM7dmFyIGMsZD0tMTthPWF8fGIuc2hpZnQoKTt2YXIgZT1iLmxlbmd0aDtkbyBpZihjPWEuZXhlY3V0ZShhLnN0YXRlLGEuZGVsYXkpKWJyZWFrO3doaWxlKCsrZDxlJiYoYT1iLnNoaWZ0KCkpKTt0aGlzLmFjdGl2ZT0hMTtpZihjKXtmb3IoOysrZDxlJiYoYT1iLnNoaWZ0KCkpOylhLnVuc3Vic2NyaWJlKCk7dGhyb3cgYzt9fTt2YXIgbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHV0aWwkSW1tZWRpYXRlPXt9LG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkdXRpbCRJbW1lZGlhdGVfbmV4dEhhbmRsZT0xLG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkdXRpbCRJbW1lZGlhdGVfcmVzb2x2ZWQsbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCR1dGlsJEltbWVkaWF0ZV9hY3RpdmVIYW5kbGVzPXt9OwpmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHV0aWwkSW1tZWRpYXRlX2ZpbmRBbmRDbGVhckhhbmRsZShhKXtyZXR1cm4gYSBpbiBtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHV0aWwkSW1tZWRpYXRlX2FjdGl2ZUhhbmRsZXM/KGRlbGV0ZSBtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHV0aWwkSW1tZWRpYXRlX2FjdGl2ZUhhbmRsZXNbYV0sITApOiExfQptb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkdXRpbCRJbW1lZGlhdGUuSW1tZWRpYXRlPXtzZXRJbW1lZGlhdGU6ZnVuY3Rpb24oYSl7dmFyIGI9bW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCR1dGlsJEltbWVkaWF0ZV9uZXh0SGFuZGxlKys7bW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCR1dGlsJEltbWVkaWF0ZV9hY3RpdmVIYW5kbGVzW2JdPSEwO21vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkdXRpbCRJbW1lZGlhdGVfcmVzb2x2ZWR8fChtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHV0aWwkSW1tZWRpYXRlX3Jlc29sdmVkPVByb21pc2UucmVzb2x2ZSgpKTsKbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCR1dGlsJEltbWVkaWF0ZV9yZXNvbHZlZC50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkdXRpbCRJbW1lZGlhdGVfZmluZEFuZENsZWFySGFuZGxlKGIpJiZhKCl9KTtyZXR1cm4gYn0sY2xlYXJJbW1lZGlhdGU6ZnVuY3Rpb24oYSl7bW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCR1dGlsJEltbWVkaWF0ZV9maW5kQW5kQ2xlYXJIYW5kbGUoYSl9fTttb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkdXRpbCRJbW1lZGlhdGUuVGVzdFRvb2xzPXtwZW5kaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdC5rZXlzKG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkdXRpbCRJbW1lZGlhdGVfYWN0aXZlSGFuZGxlcykubGVuZ3RofX07dmFyIG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRzY2hlZHVsZXIkaW1tZWRpYXRlUHJvdmlkZXI9e30sbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRzY2hlZHVsZXIkaW1tZWRpYXRlUHJvdmlkZXJfc2V0SW1tZWRpYXRlPW1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCR1dGlsJEltbWVkaWF0ZS5JbW1lZGlhdGUuc2V0SW1tZWRpYXRlLG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkc2NoZWR1bGVyJGltbWVkaWF0ZVByb3ZpZGVyX2NsZWFySW1tZWRpYXRlPW1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCR1dGlsJEltbWVkaWF0ZS5JbW1lZGlhdGUuY2xlYXJJbW1lZGlhdGU7Cm1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRzY2hlZHVsZXIkaW1tZWRpYXRlUHJvdmlkZXIuaW1tZWRpYXRlUHJvdmlkZXI9e3NldEltbWVkaWF0ZTpmdW5jdGlvbigpe3ZhciBhPSRqc2NvbXAuZ2V0UmVzdEFyZ3VtZW50cy5hcHBseSgwLGFyZ3VtZW50cyksYj1tb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkc2NoZWR1bGVyJGltbWVkaWF0ZVByb3ZpZGVyLmltbWVkaWF0ZVByb3ZpZGVyO2I9Yi5kZWxlZ2F0ZTt2YXIgYztyZXR1cm4oKG51bGw9PShjPWIpP3ZvaWQgMDpjLnNldEltbWVkaWF0ZSl8fG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkc2NoZWR1bGVyJGltbWVkaWF0ZVByb3ZpZGVyX3NldEltbWVkaWF0ZSkuYXBwbHkobnVsbCwkanNjb21wLmFycmF5RnJvbUl0ZXJhYmxlKGEpKX0sCmNsZWFySW1tZWRpYXRlOmZ1bmN0aW9uKGEpe3ZhciBiPW1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRzY2hlZHVsZXIkaW1tZWRpYXRlUHJvdmlkZXIuaW1tZWRpYXRlUHJvdmlkZXI7Yj1iLmRlbGVnYXRlO3ZhciBjO3JldHVybigobnVsbD09KGM9Yik/dm9pZCAwOmMuY2xlYXJJbW1lZGlhdGUpfHxtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHNjaGVkdWxlciRpbW1lZGlhdGVQcm92aWRlcl9jbGVhckltbWVkaWF0ZSkoYSl9LGRlbGVnYXRlOnZvaWQgMH07dmFyIG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRzY2hlZHVsZXIkQXNhcEFjdGlvbj17QXNhcEFjdGlvbjpmdW5jdGlvbihhLGIpe21vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRzY2hlZHVsZXIkQXN5bmNBY3Rpb24uQXN5bmNBY3Rpb24uY2FsbCh0aGlzLGEsYik7dGhpcy5zY2hlZHVsZXI9YTt0aGlzLndvcms9Yn19OyRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHNjaGVkdWxlciRBc2FwQWN0aW9uLkFzYXBBY3Rpb24sbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHNjaGVkdWxlciRBc3luY0FjdGlvbi5Bc3luY0FjdGlvbik7Cm1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRzY2hlZHVsZXIkQXNhcEFjdGlvbi5Bc2FwQWN0aW9uLnByb3RvdHlwZS5yZXF1ZXN0QXN5bmNJZD1mdW5jdGlvbihhLGIsYyl7Yz12b2lkIDA9PT1jPzA6YztpZihudWxsIT09YyYmMDxjKXJldHVybiBtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkc2NoZWR1bGVyJEFzeW5jQWN0aW9uLkFzeW5jQWN0aW9uLnByb3RvdHlwZS5yZXF1ZXN0QXN5bmNJZC5jYWxsKHRoaXMsYSxiLGMpO2EuYWN0aW9ucy5wdXNoKHRoaXMpO3JldHVybiBhLnNjaGVkdWxlZHx8KGEuc2NoZWR1bGVkPW1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRzY2hlZHVsZXIkaW1tZWRpYXRlUHJvdmlkZXIuaW1tZWRpYXRlUHJvdmlkZXIuc2V0SW1tZWRpYXRlKGEuZmx1c2guYmluZChhLAp2b2lkIDApKSl9Owptb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkc2NoZWR1bGVyJEFzYXBBY3Rpb24uQXNhcEFjdGlvbi5wcm90b3R5cGUucmVjeWNsZUFzeW5jSWQ9ZnVuY3Rpb24oYSxiLGMpe2M9dm9pZCAwPT09Yz8wOmM7aWYobnVsbCE9PWMmJjA8Y3x8bnVsbD09PWMmJjA8dGhpcy5kZWxheSlyZXR1cm4gbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHNjaGVkdWxlciRBc3luY0FjdGlvbi5Bc3luY0FjdGlvbi5wcm90b3R5cGUucmVjeWNsZUFzeW5jSWQuY2FsbCh0aGlzLGEsYixjKTswPT09YS5hY3Rpb25zLmxlbmd0aCYmKG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRzY2hlZHVsZXIkaW1tZWRpYXRlUHJvdmlkZXIuaW1tZWRpYXRlUHJvdmlkZXIuY2xlYXJJbW1lZGlhdGUoYiksYS5zY2hlZHVsZWQ9CnZvaWQgMCl9O3ZhciBtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkc2NoZWR1bGVyJEFzYXBTY2hlZHVsZXI9e0FzYXBTY2hlZHVsZXI6ZnVuY3Rpb24oKXttb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkc2NoZWR1bGVyJEFzeW5jU2NoZWR1bGVyLkFzeW5jU2NoZWR1bGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19OyRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHNjaGVkdWxlciRBc2FwU2NoZWR1bGVyLkFzYXBTY2hlZHVsZXIsbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHNjaGVkdWxlciRBc3luY1NjaGVkdWxlci5Bc3luY1NjaGVkdWxlcik7Cm1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRzY2hlZHVsZXIkQXNhcFNjaGVkdWxlci5Bc2FwU2NoZWR1bGVyLnByb3RvdHlwZS5mbHVzaD1mdW5jdGlvbihhKXt0aGlzLmFjdGl2ZT0hMDt0aGlzLnNjaGVkdWxlZD12b2lkIDA7dmFyIGI9dGhpcztiPWIuYWN0aW9uczt2YXIgYyxkPS0xO2E9YXx8Yi5zaGlmdCgpO3ZhciBlPWIubGVuZ3RoO2RvIGlmKGM9YS5leGVjdXRlKGEuc3RhdGUsYS5kZWxheSkpYnJlYWs7d2hpbGUoKytkPGUmJihhPWIuc2hpZnQoKSkpO3RoaXMuYWN0aXZlPSExO2lmKGMpe2Zvcig7KytkPGUmJihhPWIuc2hpZnQoKSk7KWEudW5zdWJzY3JpYmUoKTt0aHJvdyBjO319O3ZhciBtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkc2NoZWR1bGVyJFF1ZXVlQWN0aW9uPXtRdWV1ZUFjdGlvbjpmdW5jdGlvbihhLGIpe21vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRzY2hlZHVsZXIkQXN5bmNBY3Rpb24uQXN5bmNBY3Rpb24uY2FsbCh0aGlzLGEsYik7dGhpcy5zY2hlZHVsZXI9YTt0aGlzLndvcms9Yn19OyRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHNjaGVkdWxlciRRdWV1ZUFjdGlvbi5RdWV1ZUFjdGlvbixtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkc2NoZWR1bGVyJEFzeW5jQWN0aW9uLkFzeW5jQWN0aW9uKTsKbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHNjaGVkdWxlciRRdWV1ZUFjdGlvbi5RdWV1ZUFjdGlvbi5wcm90b3R5cGUuc2NoZWR1bGU9ZnVuY3Rpb24oYSxiKXtiPXZvaWQgMD09PWI/MDpiO2lmKDA8YilyZXR1cm4gbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHNjaGVkdWxlciRBc3luY0FjdGlvbi5Bc3luY0FjdGlvbi5wcm90b3R5cGUuc2NoZWR1bGUuY2FsbCh0aGlzLGEsYik7dGhpcy5kZWxheT1iO3RoaXMuc3RhdGU9YTt0aGlzLnNjaGVkdWxlci5mbHVzaCh0aGlzKTtyZXR1cm4gdGhpc307Cm1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRzY2hlZHVsZXIkUXVldWVBY3Rpb24uUXVldWVBY3Rpb24ucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gMDxifHx0aGlzLmNsb3NlZD9tb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkc2NoZWR1bGVyJEFzeW5jQWN0aW9uLkFzeW5jQWN0aW9uLnByb3RvdHlwZS5leGVjdXRlLmNhbGwodGhpcyxhLGIpOnRoaXMuX2V4ZWN1dGUoYSxiKX07Cm1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRzY2hlZHVsZXIkUXVldWVBY3Rpb24uUXVldWVBY3Rpb24ucHJvdG90eXBlLnJlcXVlc3RBc3luY0lkPWZ1bmN0aW9uKGEsYixjKXtjPXZvaWQgMD09PWM/MDpjO3JldHVybiBudWxsIT09YyYmMDxjfHxudWxsPT09YyYmMDx0aGlzLmRlbGF5P21vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRzY2hlZHVsZXIkQXN5bmNBY3Rpb24uQXN5bmNBY3Rpb24ucHJvdG90eXBlLnJlcXVlc3RBc3luY0lkLmNhbGwodGhpcyxhLGIsYyk6YS5mbHVzaCh0aGlzKX07dmFyIG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRzY2hlZHVsZXIkUXVldWVTY2hlZHVsZXI9e1F1ZXVlU2NoZWR1bGVyOmZ1bmN0aW9uKCl7bW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHNjaGVkdWxlciRBc3luY1NjaGVkdWxlci5Bc3luY1NjaGVkdWxlci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fTskanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRzY2hlZHVsZXIkUXVldWVTY2hlZHVsZXIuUXVldWVTY2hlZHVsZXIsbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHNjaGVkdWxlciRBc3luY1NjaGVkdWxlci5Bc3luY1NjaGVkdWxlcik7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe3RoaXMubWVzc2FnZT0iYXJndW1lbnQgb3V0IG9mIHJhbmdlIjt0aGlzLm5hbWU9IkFyZ3VtZW50T3V0T2ZSYW5nZUVycm9yIjtyZXR1cm4gdGhpc31hLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSk7cmV0dXJuIGF9KSgpOyhmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYil7dGhpcy5tZXNzYWdlPWI7dGhpcy5uYW1lPSJOb3RGb3VuZEVycm9yIjtyZXR1cm4gdGhpc31hLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSk7cmV0dXJuIGF9KSgpOyhmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYil7dGhpcy5tZXNzYWdlPWI7dGhpcy5uYW1lPSJTZXF1ZW5jZUVycm9yIjtyZXR1cm4gdGhpc31hLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSk7cmV0dXJuIGF9KSgpO3ZhciBtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb3BlcmF0b3JzJGRpc3RpbmN0PXt9O2Z1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb3BlcmF0b3JzJGRpc3RpbmN0X2Rpc3RpbmN0KGEsYil7cmV0dXJuIGZ1bmN0aW9uKGMpe3JldHVybiBtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHV0aWwkbGlmdF9saWZ0KGMsbmV3IG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb3BlcmF0b3JzJGRpc3RpbmN0X0Rpc3RpbmN0T3BlcmF0b3IoYSxiKSl9fQptb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb3BlcmF0b3JzJGRpc3RpbmN0LmRpc3RpbmN0PW1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb3BlcmF0b3JzJGRpc3RpbmN0X2Rpc3RpbmN0O3ZhciBtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRkaXN0aW5jdF9EaXN0aW5jdE9wZXJhdG9yPWZ1bmN0aW9uKGEsYil7dGhpcy5rZXlTZWxlY3Rvcj1hO3RoaXMuZmx1c2hlcz1ifTsKbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvcGVyYXRvcnMkZGlzdGluY3RfRGlzdGluY3RPcGVyYXRvci5wcm90b3R5cGUuY2FsbD1mdW5jdGlvbihhLGIpe3JldHVybiBiLnN1YnNjcmliZShuZXcgbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRkaXN0aW5jdC5EaXN0aW5jdFN1YnNjcmliZXIoYSx0aGlzLmtleVNlbGVjdG9yLHRoaXMuZmx1c2hlcykpfTsKbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRkaXN0aW5jdC5EaXN0aW5jdFN1YnNjcmliZXI9ZnVuY3Rpb24oYSxiLGMpe21vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRpbm5lclN1YnNjcmliZS5TaW1wbGVPdXRlclN1YnNjcmliZXIuY2FsbCh0aGlzLGEpO3RoaXMua2V5U2VsZWN0b3I9Yjt0aGlzLnZhbHVlcz1uZXcgU2V0O2MmJnRoaXMuYWRkKG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkaW5uZXJTdWJzY3JpYmVfaW5uZXJTdWJzY3JpYmUoYyxuZXcgbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJGlubmVyU3Vic2NyaWJlLlNpbXBsZUlubmVyU3Vic2NyaWJlcih0aGlzKSkpfTsKJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb3BlcmF0b3JzJGRpc3RpbmN0LkRpc3RpbmN0U3Vic2NyaWJlcixtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkaW5uZXJTdWJzY3JpYmUuU2ltcGxlT3V0ZXJTdWJzY3JpYmVyKTttb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb3BlcmF0b3JzJGRpc3RpbmN0LkRpc3RpbmN0U3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5TmV4dD1mdW5jdGlvbigpe3RoaXMudmFsdWVzLmNsZWFyKCl9O21vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvcGVyYXRvcnMkZGlzdGluY3QuRGlzdGluY3RTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlFcnJvcj1mdW5jdGlvbihhKXt0aGlzLl9lcnJvcihhKX07Cm1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvcGVyYXRvcnMkZGlzdGluY3QuRGlzdGluY3RTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dD1mdW5jdGlvbihhKXt0aGlzLmtleVNlbGVjdG9yP3RoaXMuX3VzZUtleVNlbGVjdG9yKGEpOnRoaXMuX2ZpbmFsaXplTmV4dChhLGEpfTttb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb3BlcmF0b3JzJGRpc3RpbmN0LkRpc3RpbmN0U3Vic2NyaWJlci5wcm90b3R5cGUuX3VzZUtleVNlbGVjdG9yPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7Yj1iLmRlc3RpbmF0aW9uO3RyeXt2YXIgYz10aGlzLmtleVNlbGVjdG9yKGEpfWNhdGNoKGQpe2IuZXJyb3IoZCk7cmV0dXJufXRoaXMuX2ZpbmFsaXplTmV4dChjLGEpfTsKbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRkaXN0aW5jdC5EaXN0aW5jdFN1YnNjcmliZXIucHJvdG90eXBlLl9maW5hbGl6ZU5leHQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzO2M9Yy52YWx1ZXM7Yy5oYXMoYSl8fChjLmFkZChhKSx0aGlzLmRlc3RpbmF0aW9uLm5leHQoYikpfTt2YXIgbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRleHBhbmQ9e307ZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvcGVyYXRvcnMkZXhwYW5kX2V4cGFuZChhLGIsYyl7Yj12b2lkIDA9PT1iP0luZmluaXR5OmI7Yj0xPihifHwwKT9JbmZpbml0eTpiO3JldHVybiBmdW5jdGlvbihkKXtyZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCR1dGlsJGxpZnRfbGlmdChkLG5ldyBtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb3BlcmF0b3JzJGV4cGFuZC5FeHBhbmRPcGVyYXRvcihhLGIsYykpfX0KbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRleHBhbmQuZXhwYW5kPW1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb3BlcmF0b3JzJGV4cGFuZF9leHBhbmQ7bW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRleHBhbmQuRXhwYW5kT3BlcmF0b3I9ZnVuY3Rpb24oYSxiLGMpe3RoaXMucHJvamVjdD1hO3RoaXMuY29uY3VycmVudD1iO3RoaXMuc2NoZWR1bGVyPWN9Owptb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb3BlcmF0b3JzJGV4cGFuZC5FeHBhbmRPcGVyYXRvci5wcm90b3R5cGUuY2FsbD1mdW5jdGlvbihhLGIpe3JldHVybiBiLnN1YnNjcmliZShuZXcgbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRleHBhbmQuRXhwYW5kU3Vic2NyaWJlcihhLHRoaXMucHJvamVjdCx0aGlzLmNvbmN1cnJlbnQsdGhpcy5zY2hlZHVsZXIpKX07Cm1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvcGVyYXRvcnMkZXhwYW5kLkV4cGFuZFN1YnNjcmliZXI9ZnVuY3Rpb24oYSxiLGMsZCl7bW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJGlubmVyU3Vic2NyaWJlLlNpbXBsZU91dGVyU3Vic2NyaWJlci5jYWxsKHRoaXMsYSk7dGhpcy5kZXN0aW5hdGlvbj1hO3RoaXMucHJvamVjdD1iO3RoaXMuY29uY3VycmVudD1jO3RoaXMuc2NoZWR1bGVyPWQ7dGhpcy5hY3RpdmU9dGhpcy5pbmRleD0wO3RoaXMuaGFzQ29tcGxldGVkPSExO0luZmluaXR5PmMmJih0aGlzLmJ1ZmZlcj1bXSl9OyRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRleHBhbmQuRXhwYW5kU3Vic2NyaWJlcixtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkaW5uZXJTdWJzY3JpYmUuU2ltcGxlT3V0ZXJTdWJzY3JpYmVyKTsKbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRleHBhbmQuRXhwYW5kU3Vic2NyaWJlci5kaXNwYXRjaD1mdW5jdGlvbihhKXt2YXIgYj1hO2E9Yi5zdWJzY3JpYmVyO2I9Yi5yZXN1bHQ7YS5zdWJzY3JpYmVUb1Byb2plY3Rpb24oYil9Owptb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb3BlcmF0b3JzJGV4cGFuZC5FeHBhbmRTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmRlc3RpbmF0aW9uO2lmKGIuY2xvc2VkKXRoaXMuX2NvbXBsZXRlKCk7ZWxzZXt2YXIgYz10aGlzLmluZGV4Kys7aWYodGhpcy5hY3RpdmU8dGhpcy5jb25jdXJyZW50KXtiLm5leHQoYSk7dHJ5e3RoaXMuYWN0aXZlKys7dmFyIGQ9dGhpcyxlPWQucHJvamVjdCxmPWUoYSxjKTtpZih0aGlzLnNjaGVkdWxlcil7YT17c3Vic2NyaWJlcjp0aGlzLHJlc3VsdDpmfTt2YXIgZz10aGlzLmRlc3RpbmF0aW9uO2cuYWRkKHRoaXMuc2NoZWR1bGVyLnNjaGVkdWxlKG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvcGVyYXRvcnMkZXhwYW5kLkV4cGFuZFN1YnNjcmliZXIuZGlzcGF0Y2gsCjAsYSkpfWVsc2UgdGhpcy5zdWJzY3JpYmVUb1Byb2plY3Rpb24oZil9Y2F0Y2goayl7Yi5lcnJvcihrKX19ZWxzZSB0aGlzLmJ1ZmZlci5wdXNoKGEpfX07bW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRleHBhbmQuRXhwYW5kU3Vic2NyaWJlci5wcm90b3R5cGUuc3Vic2NyaWJlVG9Qcm9qZWN0aW9uPWZ1bmN0aW9uKGEpe3RoaXMuZGVzdGluYXRpb24uYWRkKG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkaW5uZXJTdWJzY3JpYmVfaW5uZXJTdWJzY3JpYmUoYSxuZXcgbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJGlubmVyU3Vic2NyaWJlLlNpbXBsZUlubmVyU3Vic2NyaWJlcih0aGlzKSkpfTsKbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRleHBhbmQuRXhwYW5kU3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlPWZ1bmN0aW9uKCl7KHRoaXMuaGFzQ29tcGxldGVkPSEwLDA9PT10aGlzLmFjdGl2ZSkmJnRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTt0aGlzLnVuc3Vic2NyaWJlKCl9O21vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvcGVyYXRvcnMkZXhwYW5kLkV4cGFuZFN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeU5leHQ9ZnVuY3Rpb24oYSl7dGhpcy5fbmV4dChhKX07Cm1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvcGVyYXRvcnMkZXhwYW5kLkV4cGFuZFN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeUNvbXBsZXRlPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5idWZmZXI7dGhpcy5hY3RpdmUtLTthJiYwPGEubGVuZ3RoJiZ0aGlzLl9uZXh0KGEuc2hpZnQoKSk7dGhpcy5oYXNDb21wbGV0ZWQmJjA9PT10aGlzLmFjdGl2ZSYmdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpfTt2YXIgbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRmaW5kPXt9O2Z1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb3BlcmF0b3JzJGZpbmRfZmluZChhLGIpe2lmKCJmdW5jdGlvbiIhPT10eXBlb2YgYSl0aHJvdyBuZXcgVHlwZUVycm9yKCJwcmVkaWNhdGUgaXMgbm90IGEgZnVuY3Rpb24iKTtyZXR1cm4gZnVuY3Rpb24oYyl7cmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkdXRpbCRsaWZ0X2xpZnQoYyxuZXcgbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRmaW5kLkZpbmRWYWx1ZU9wZXJhdG9yKGEsYywhMSxiKSl9fQptb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb3BlcmF0b3JzJGZpbmQuZmluZD1tb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRmaW5kX2ZpbmQ7bW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRmaW5kLkZpbmRWYWx1ZU9wZXJhdG9yPWZ1bmN0aW9uKGEsYixjLGQpe3RoaXMucHJlZGljYXRlPWE7dGhpcy5zb3VyY2U9Yjt0aGlzLnlpZWxkSW5kZXg9Yzt0aGlzLnRoaXNBcmc9ZH07Cm1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvcGVyYXRvcnMkZmluZC5GaW5kVmFsdWVPcGVyYXRvci5wcm90b3R5cGUuY2FsbD1mdW5jdGlvbihhLGIpe3JldHVybiBiLnN1YnNjcmliZShuZXcgbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRmaW5kLkZpbmRWYWx1ZVN1YnNjcmliZXIoYSx0aGlzLnByZWRpY2F0ZSx0aGlzLnNvdXJjZSx0aGlzLnlpZWxkSW5kZXgsdGhpcy50aGlzQXJnKSl9Owptb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb3BlcmF0b3JzJGZpbmQuRmluZFZhbHVlU3Vic2NyaWJlcj1mdW5jdGlvbihhLGIsYyxkLGUpe21vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRTdWJzY3JpYmVyLlN1YnNjcmliZXIuY2FsbCh0aGlzLGEpO3RoaXMucHJlZGljYXRlPWI7dGhpcy5zb3VyY2U9Yzt0aGlzLnlpZWxkSW5kZXg9ZDt0aGlzLnRoaXNBcmc9ZTt0aGlzLmluZGV4PTB9OyRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRmaW5kLkZpbmRWYWx1ZVN1YnNjcmliZXIsbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJFN1YnNjcmliZXIuU3Vic2NyaWJlcik7Cm1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvcGVyYXRvcnMkZmluZC5GaW5kVmFsdWVTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlDb21wbGV0ZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmRlc3RpbmF0aW9uO2IubmV4dChhKTtiLmNvbXBsZXRlKCk7dGhpcy51bnN1YnNjcmliZSgpfTttb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb3BlcmF0b3JzJGZpbmQuRmluZFZhbHVlU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPWIucHJlZGljYXRlO2I9Yi50aGlzQXJnO3ZhciBkPXRoaXMuaW5kZXgrKzt0cnl7dmFyIGU9Yy5jYWxsKGJ8fHRoaXMsYSxkLHRoaXMuc291cmNlKTtlJiZ0aGlzLm5vdGlmeUNvbXBsZXRlKHRoaXMueWllbGRJbmRleD9kOmEpfWNhdGNoKGYpe3RoaXMuZGVzdGluYXRpb24uZXJyb3IoZil9fTsKbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRmaW5kLkZpbmRWYWx1ZVN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZT1mdW5jdGlvbigpe3RoaXMubm90aWZ5Q29tcGxldGUodGhpcy55aWVsZEluZGV4Py0xOnZvaWQgMCl9O3ZhciBtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb3BlcmF0b3JzJG1lcmdlU2Nhbj17fTtmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRtZXJnZVNjYW5fbWVyZ2VTY2FuKGEsYixjKXtjPXZvaWQgMD09PWM/SW5maW5pdHk6YztyZXR1cm4gZnVuY3Rpb24oZCl7cmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkdXRpbCRsaWZ0X2xpZnQoZCxuZXcgbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRtZXJnZVNjYW4uTWVyZ2VTY2FuT3BlcmF0b3IoYSxiLGMpKX19Cm1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvcGVyYXRvcnMkbWVyZ2VTY2FuLm1lcmdlU2Nhbj1tb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRtZXJnZVNjYW5fbWVyZ2VTY2FuO21vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvcGVyYXRvcnMkbWVyZ2VTY2FuLk1lcmdlU2Nhbk9wZXJhdG9yPWZ1bmN0aW9uKGEsYixjKXt0aGlzLmFjY3VtdWxhdG9yPWE7dGhpcy5zZWVkPWI7dGhpcy5jb25jdXJyZW50PWN9Owptb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb3BlcmF0b3JzJG1lcmdlU2Nhbi5NZXJnZVNjYW5PcGVyYXRvci5wcm90b3R5cGUuY2FsbD1mdW5jdGlvbihhLGIpe3JldHVybiBiLnN1YnNjcmliZShuZXcgbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRtZXJnZVNjYW4uTWVyZ2VTY2FuU3Vic2NyaWJlcihhLHRoaXMuYWNjdW11bGF0b3IsdGhpcy5zZWVkLHRoaXMuY29uY3VycmVudCkpfTsKbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRtZXJnZVNjYW4uTWVyZ2VTY2FuU3Vic2NyaWJlcj1mdW5jdGlvbihhLGIsYyxkKXttb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkaW5uZXJTdWJzY3JpYmUuU2ltcGxlT3V0ZXJTdWJzY3JpYmVyLmNhbGwodGhpcyxhKTt0aGlzLmRlc3RpbmF0aW9uPWE7dGhpcy5hY2N1bXVsYXRvcj1iO3RoaXMuYWNjPWM7dGhpcy5jb25jdXJyZW50PWQ7dGhpcy5oYXNDb21wbGV0ZWQ9dGhpcy5oYXNWYWx1ZT0hMTt0aGlzLmJ1ZmZlcj1bXTt0aGlzLmluZGV4PXRoaXMuYWN0aXZlPTB9OyRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRtZXJnZVNjYW4uTWVyZ2VTY2FuU3Vic2NyaWJlcixtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkaW5uZXJTdWJzY3JpYmUuU2ltcGxlT3V0ZXJTdWJzY3JpYmVyKTsKbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRtZXJnZVNjYW4uTWVyZ2VTY2FuU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQ9ZnVuY3Rpb24oYSl7aWYodGhpcy5hY3RpdmU8dGhpcy5jb25jdXJyZW50KXt2YXIgYj10aGlzLmluZGV4KyssYz10aGlzLmRlc3RpbmF0aW9uO3RyeXt2YXIgZD10aGlzLGU9ZC5hY2N1bXVsYXRvcjt2YXIgZj1lKHRoaXMuYWNjLGEsYil9Y2F0Y2goZyl7cmV0dXJuIGMuZXJyb3IoZyl9dGhpcy5hY3RpdmUrKzt0aGlzLl9pbm5lclN1YihmKX1lbHNlIHRoaXMuYnVmZmVyLnB1c2goYSl9Owptb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb3BlcmF0b3JzJG1lcmdlU2Nhbi5NZXJnZVNjYW5TdWJzY3JpYmVyLnByb3RvdHlwZS5faW5uZXJTdWI9ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRpbm5lclN1YnNjcmliZS5TaW1wbGVJbm5lclN1YnNjcmliZXIodGhpcyk7dGhpcy5kZXN0aW5hdGlvbi5hZGQoYik7bW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRpbm5lclN1YnNjcmliZV9pbm5lclN1YnNjcmliZShhLGIpfTsKbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRtZXJnZVNjYW4uTWVyZ2VTY2FuU3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlPWZ1bmN0aW9uKCl7dGhpcy5oYXNDb21wbGV0ZWQ9ITA7MD09PXRoaXMuYWN0aXZlJiYwPT09dGhpcy5idWZmZXIubGVuZ3RoJiYoITE9PT10aGlzLmhhc1ZhbHVlJiZ0aGlzLmRlc3RpbmF0aW9uLm5leHQodGhpcy5hY2MpLHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKSk7dGhpcy51bnN1YnNjcmliZSgpfTttb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb3BlcmF0b3JzJG1lcmdlU2Nhbi5NZXJnZVNjYW5TdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlOZXh0PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7Yj1iLmRlc3RpbmF0aW9uO3RoaXMuYWNjPWE7dGhpcy5oYXNWYWx1ZT0hMDtiLm5leHQoYSl9Owptb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb3BlcmF0b3JzJG1lcmdlU2Nhbi5NZXJnZVNjYW5TdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlDb21wbGV0ZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuYnVmZmVyO3RoaXMuYWN0aXZlLS07MDxhLmxlbmd0aD90aGlzLl9uZXh0KGEuc2hpZnQoKSk6MD09PXRoaXMuYWN0aXZlJiZ0aGlzLmhhc0NvbXBsZXRlZCYmKCExPT09dGhpcy5oYXNWYWx1ZSYmdGhpcy5kZXN0aW5hdGlvbi5uZXh0KHRoaXMuYWNjKSx0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCkpfTt2YXIgbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRtdWx0aWNhc3Q9e307CmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb3BlcmF0b3JzJG11bHRpY2FzdF9tdWx0aWNhc3QoYSxiKXtyZXR1cm4gZnVuY3Rpb24oYyl7dmFyIGQ9ImZ1bmN0aW9uIj09PXR5cGVvZiBhP2E6ZnVuY3Rpb24oKXtyZXR1cm4gYX07aWYoImZ1bmN0aW9uIj09PXR5cGVvZiBiKXJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJHV0aWwkbGlmdF9saWZ0KGMsbmV3IG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvcGVyYXRvcnMkbXVsdGljYXN0Lk11bHRpY2FzdE9wZXJhdG9yKGQsYikpO3ZhciBlPU9iamVjdC5jcmVhdGUoYyxtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb2JzZXJ2YWJsZSRDb25uZWN0YWJsZU9ic2VydmFibGUuY29ubmVjdGFibGVPYnNlcnZhYmxlRGVzY3JpcHRvcik7CmUuc291cmNlPWM7ZS5zdWJqZWN0RmFjdG9yeT1kO3JldHVybiBlfX1tb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb3BlcmF0b3JzJG11bHRpY2FzdC5tdWx0aWNhc3Q9bW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvcGVyYXRvcnMkbXVsdGljYXN0X211bHRpY2FzdDttb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb3BlcmF0b3JzJG11bHRpY2FzdC5NdWx0aWNhc3RPcGVyYXRvcj1mdW5jdGlvbihhLGIpe3RoaXMuc3ViamVjdEZhY3Rvcnk9YTt0aGlzLnNlbGVjdG9yPWJ9Owptb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb3BlcmF0b3JzJG11bHRpY2FzdC5NdWx0aWNhc3RPcGVyYXRvci5wcm90b3R5cGUuY2FsbD1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMsZD1jLnNlbGVjdG9yO2M9dGhpcy5zdWJqZWN0RmFjdG9yeSgpO2E9ZChjKS5zdWJzY3JpYmUoYSk7YS5hZGQoYi5zdWJzY3JpYmUoYykpO3JldHVybiBhfTt2YXIgbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRzZXF1ZW5jZUVxdWFsPXt9O2Z1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb3BlcmF0b3JzJHNlcXVlbmNlRXF1YWxfc2VxdWVuY2VFcXVhbChhLGIpe3JldHVybiBmdW5jdGlvbihjKXtyZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCR1dGlsJGxpZnRfbGlmdChjLG5ldyBtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb3BlcmF0b3JzJHNlcXVlbmNlRXF1YWwuU2VxdWVuY2VFcXVhbE9wZXJhdG9yKGEsYikpfX0KbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRzZXF1ZW5jZUVxdWFsLnNlcXVlbmNlRXF1YWw9bW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvcGVyYXRvcnMkc2VxdWVuY2VFcXVhbF9zZXF1ZW5jZUVxdWFsO21vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvcGVyYXRvcnMkc2VxdWVuY2VFcXVhbC5TZXF1ZW5jZUVxdWFsT3BlcmF0b3I9ZnVuY3Rpb24oYSxiKXt0aGlzLmNvbXBhcmVUbz1hO3RoaXMuY29tcGFyYXRvcj1ifTsKbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRzZXF1ZW5jZUVxdWFsLlNlcXVlbmNlRXF1YWxPcGVyYXRvci5wcm90b3R5cGUuY2FsbD1mdW5jdGlvbihhLGIpe3JldHVybiBiLnN1YnNjcmliZShuZXcgbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRzZXF1ZW5jZUVxdWFsLlNlcXVlbmNlRXF1YWxTdWJzY3JpYmVyKGEsdGhpcy5jb21wYXJlVG8sdGhpcy5jb21wYXJhdG9yKSl9Owptb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb3BlcmF0b3JzJHNlcXVlbmNlRXF1YWwuU2VxdWVuY2VFcXVhbFN1YnNjcmliZXI9ZnVuY3Rpb24oYSxiLGMpe21vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRTdWJzY3JpYmVyLlN1YnNjcmliZXIuY2FsbCh0aGlzLGEpO3RoaXMuY29tcGFyZVRvPWI7dGhpcy5jb21wYXJhdG9yPWM7dGhpcy5fYT1bXTt0aGlzLl9iPVtdO3RoaXMuX29uZUNvbXBsZXRlPSExO3RoaXMuZGVzdGluYXRpb24uYWRkKGIuc3Vic2NyaWJlKG5ldyBtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRzZXF1ZW5jZUVxdWFsX1NlcXVlbmNlRXF1YWxDb21wYXJlVG9TdWJzY3JpYmVyKGEsdGhpcykpKX07CiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRzZXF1ZW5jZUVxdWFsLlNlcXVlbmNlRXF1YWxTdWJzY3JpYmVyLG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRTdWJzY3JpYmVyLlN1YnNjcmliZXIpO21vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvcGVyYXRvcnMkc2VxdWVuY2VFcXVhbC5TZXF1ZW5jZUVxdWFsU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQ9ZnVuY3Rpb24oYSl7dGhpcy5fb25lQ29tcGxldGUmJjA9PT10aGlzLl9iLmxlbmd0aD90aGlzLmVtaXQoITEpOih0aGlzLl9hLnB1c2goYSksdGhpcy5jaGVja1ZhbHVlcygpKX07Cm1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvcGVyYXRvcnMkc2VxdWVuY2VFcXVhbC5TZXF1ZW5jZUVxdWFsU3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlPWZ1bmN0aW9uKCl7dGhpcy5fb25lQ29tcGxldGU/dGhpcy5lbWl0KDA9PT10aGlzLl9hLmxlbmd0aCYmMD09PXRoaXMuX2IubGVuZ3RoKTp0aGlzLl9vbmVDb21wbGV0ZT0hMDt0aGlzLnVuc3Vic2NyaWJlKCl9Owptb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb3BlcmF0b3JzJHNlcXVlbmNlRXF1YWwuU2VxdWVuY2VFcXVhbFN1YnNjcmliZXIucHJvdG90eXBlLmNoZWNrVmFsdWVzPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuX2EsYz1hLl9iO2ZvcihhPWEuY29tcGFyYXRvcjswPGIubGVuZ3RoJiYwPGMubGVuZ3RoOyl7dmFyIGQ9Yi5zaGlmdCgpLGU9Yy5zaGlmdCgpLGY9ITE7dHJ5e2Y9YT9hKGQsZSk6ZD09PWV9Y2F0Y2goZyl7dGhpcy5kZXN0aW5hdGlvbi5lcnJvcihnKX1mfHx0aGlzLmVtaXQoITEpfX07bW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRzZXF1ZW5jZUVxdWFsLlNlcXVlbmNlRXF1YWxTdWJzY3JpYmVyLnByb3RvdHlwZS5lbWl0PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7Yj1iLmRlc3RpbmF0aW9uO2IubmV4dChhKTtiLmNvbXBsZXRlKCl9Owptb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb3BlcmF0b3JzJHNlcXVlbmNlRXF1YWwuU2VxdWVuY2VFcXVhbFN1YnNjcmliZXIucHJvdG90eXBlLm5leHRCPWZ1bmN0aW9uKGEpe3RoaXMuX29uZUNvbXBsZXRlJiYwPT09dGhpcy5fYS5sZW5ndGg/dGhpcy5lbWl0KCExKToodGhpcy5fYi5wdXNoKGEpLHRoaXMuY2hlY2tWYWx1ZXMoKSl9O21vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvcGVyYXRvcnMkc2VxdWVuY2VFcXVhbC5TZXF1ZW5jZUVxdWFsU3Vic2NyaWJlci5wcm90b3R5cGUuY29tcGxldGVCPWZ1bmN0aW9uKCl7dGhpcy5fb25lQ29tcGxldGU/dGhpcy5lbWl0KDA9PT10aGlzLl9hLmxlbmd0aCYmMD09PXRoaXMuX2IubGVuZ3RoKTp0aGlzLl9vbmVDb21wbGV0ZT0hMH07CnZhciBtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRzZXF1ZW5jZUVxdWFsX1NlcXVlbmNlRXF1YWxDb21wYXJlVG9TdWJzY3JpYmVyPWZ1bmN0aW9uKGEsYil7bW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJFN1YnNjcmliZXIuU3Vic2NyaWJlci5jYWxsKHRoaXMsYSk7dGhpcy5wYXJlbnQ9Yn07JGpzY29tcC5pbmhlcml0cyhtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRzZXF1ZW5jZUVxdWFsX1NlcXVlbmNlRXF1YWxDb21wYXJlVG9TdWJzY3JpYmVyLG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRTdWJzY3JpYmVyLlN1YnNjcmliZXIpOwptb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRzZXF1ZW5jZUVxdWFsX1NlcXVlbmNlRXF1YWxDb21wYXJlVG9TdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dD1mdW5jdGlvbihhKXt0aGlzLnBhcmVudC5uZXh0QihhKX07bW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvcGVyYXRvcnMkc2VxdWVuY2VFcXVhbF9TZXF1ZW5jZUVxdWFsQ29tcGFyZVRvU3Vic2NyaWJlci5wcm90b3R5cGUuX2Vycm9yPWZ1bmN0aW9uKGEpe3RoaXMucGFyZW50LmVycm9yKGEpO3RoaXMudW5zdWJzY3JpYmUoKX07Cm1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb3BlcmF0b3JzJHNlcXVlbmNlRXF1YWxfU2VxdWVuY2VFcXVhbENvbXBhcmVUb1N1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZT1mdW5jdGlvbigpe3RoaXMucGFyZW50LmNvbXBsZXRlQigpO3RoaXMudW5zdWJzY3JpYmUoKX07ZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvcGVyYXRvcnMkc3dpdGNoTWFwX3N3aXRjaE1hcChhLGIpe3JldHVybiJmdW5jdGlvbiI9PT10eXBlb2YgYj9mdW5jdGlvbihjKXtyZXR1cm4gYy5waXBlKG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb3BlcmF0b3JzJHN3aXRjaE1hcF9zd2l0Y2hNYXAoZnVuY3Rpb24oZCxlKXtyZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvYnNlcnZhYmxlJGZyb21fZnJvbShhKGQsZSkpLnBpcGUobW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvcGVyYXRvcnMkbWFwX21hcChmdW5jdGlvbihmLGcpe3JldHVybiBiKGQsZixlLGcpfSkpfSkpfTpmdW5jdGlvbihjKXtyZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCR1dGlsJGxpZnRfbGlmdChjLApuZXcgbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvcGVyYXRvcnMkc3dpdGNoTWFwX1N3aXRjaE1hcE9wZXJhdG9yKGEpKX19dmFyIG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb3BlcmF0b3JzJHN3aXRjaE1hcF9Td2l0Y2hNYXBPcGVyYXRvcj1mdW5jdGlvbihhKXt0aGlzLnByb2plY3Q9YX07Cm1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb3BlcmF0b3JzJHN3aXRjaE1hcF9Td2l0Y2hNYXBPcGVyYXRvci5wcm90b3R5cGUuY2FsbD1mdW5jdGlvbihhLGIpe3JldHVybiBiLnN1YnNjcmliZShuZXcgbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvcGVyYXRvcnMkc3dpdGNoTWFwX1N3aXRjaE1hcFN1YnNjcmliZXIoYSx0aGlzLnByb2plY3QpKX07CnZhciBtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRzd2l0Y2hNYXBfU3dpdGNoTWFwU3Vic2NyaWJlcj1mdW5jdGlvbihhLGIpe21vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRpbm5lclN1YnNjcmliZS5TaW1wbGVPdXRlclN1YnNjcmliZXIuY2FsbCh0aGlzLGEpO3RoaXMuZGVzdGluYXRpb249YTt0aGlzLnByb2plY3Q9Yjt0aGlzLmluZGV4PTB9OyRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvcGVyYXRvcnMkc3dpdGNoTWFwX1N3aXRjaE1hcFN1YnNjcmliZXIsbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJGlubmVyU3Vic2NyaWJlLlNpbXBsZU91dGVyU3Vic2NyaWJlcik7Cm1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb3BlcmF0b3JzJHN3aXRjaE1hcF9Td2l0Y2hNYXBTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmluZGV4Kys7dHJ5e3ZhciBjPXRoaXMucHJvamVjdChhLGIpfWNhdGNoKGQpe3RoaXMuZGVzdGluYXRpb24uZXJyb3IoZCk7cmV0dXJufShhPXRoaXMuaW5uZXJTdWJzY3JpcHRpb24pJiZhLnVuc3Vic2NyaWJlKCk7YT1uZXcgbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJGlubmVyU3Vic2NyaWJlLlNpbXBsZUlubmVyU3Vic2NyaWJlcih0aGlzKTt0aGlzLmRlc3RpbmF0aW9uLmFkZChhKTt0aGlzLmlubmVyU3Vic2NyaXB0aW9uPWE7bW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRpbm5lclN1YnNjcmliZV9pbm5lclN1YnNjcmliZShjLAphKX07bW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvcGVyYXRvcnMkc3dpdGNoTWFwX1N3aXRjaE1hcFN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZT1mdW5jdGlvbigpe3ZhciBhPXRoaXM7KGE9YS5pbm5lclN1YnNjcmlwdGlvbikmJiFhLmNsb3NlZHx8bW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJGlubmVyU3Vic2NyaWJlLlNpbXBsZU91dGVyU3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlLmNhbGwodGhpcyk7dGhpcy51bnN1YnNjcmliZSgpfTsKbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvcGVyYXRvcnMkc3dpdGNoTWFwX1N3aXRjaE1hcFN1YnNjcmliZXIucHJvdG90eXBlLl91bnN1YnNjcmliZT1mdW5jdGlvbigpe3RoaXMuaW5uZXJTdWJzY3JpcHRpb249dm9pZCAwfTttb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRzd2l0Y2hNYXBfU3dpdGNoTWFwU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5Q29tcGxldGU9ZnVuY3Rpb24oKXt0aGlzLmlubmVyU3Vic2NyaXB0aW9uPXZvaWQgMDt0aGlzLmlzU3RvcHBlZCYmbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJGlubmVyU3Vic2NyaWJlLlNpbXBsZU91dGVyU3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlLmNhbGwodGhpcyl9Owptb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRzd2l0Y2hNYXBfU3dpdGNoTWFwU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5TmV4dD1mdW5jdGlvbihhKXt0aGlzLmRlc3RpbmF0aW9uLm5leHQoYSl9O3ZhciBhd2Vzb21lY2hhcnRzPXtjb25maWc6e319O2F3ZXNvbWVjaGFydHMuY29uZmlnLlJlc3REb21haW5zQ29uZmlnPWZ1bmN0aW9uKCl7dGhpcy5ldmVudHNEb21haW5TZWxlY3Rvcl89dGhpcy5tZXRyaWNzRG9tYWluU2VsZWN0b3JfPXRoaXMuYXBwRG9tYWluU2VsZWN0b3JfPW51bGx9O2dvb2cuZXhwb3J0U3ltYm9sKCJhd2Vzb21lY2hhcnRzLmNvbmZpZy5SZXN0RG9tYWluc0NvbmZpZyIsYXdlc29tZWNoYXJ0cy5jb25maWcuUmVzdERvbWFpbnNDb25maWcpO2F3ZXNvbWVjaGFydHMuY29uZmlnLlJlc3REb21haW5zQ29uZmlnLnByb3RvdHlwZS5nZXRBcHA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hcHBEb21haW5TZWxlY3Rvcl99O2dvb2cuZXhwb3J0UHJvcGVydHkoYXdlc29tZWNoYXJ0cy5jb25maWcuUmVzdERvbWFpbnNDb25maWcucHJvdG90eXBlLCJnZXRBcHAiLGF3ZXNvbWVjaGFydHMuY29uZmlnLlJlc3REb21haW5zQ29uZmlnLnByb3RvdHlwZS5nZXRBcHApOwphd2Vzb21lY2hhcnRzLmNvbmZpZy5SZXN0RG9tYWluc0NvbmZpZy5wcm90b3R5cGUuc2V0QXBwPWZ1bmN0aW9uKGEpe3RoaXMuYXBwRG9tYWluU2VsZWN0b3JfPXRoaXMuaW5wdXRUb0l0ZXJfKGEpO3JldHVybiB0aGlzfTtnb29nLmV4cG9ydFByb3BlcnR5KGF3ZXNvbWVjaGFydHMuY29uZmlnLlJlc3REb21haW5zQ29uZmlnLnByb3RvdHlwZSwic2V0QXBwIixhd2Vzb21lY2hhcnRzLmNvbmZpZy5SZXN0RG9tYWluc0NvbmZpZy5wcm90b3R5cGUuc2V0QXBwKTthd2Vzb21lY2hhcnRzLmNvbmZpZy5SZXN0RG9tYWluc0NvbmZpZy5wcm90b3R5cGUuZ2V0UHVibGljQXBpPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVibGljQXBpU2VsZWN0b3JffTtnb29nLmV4cG9ydFByb3BlcnR5KGF3ZXNvbWVjaGFydHMuY29uZmlnLlJlc3REb21haW5zQ29uZmlnLnByb3RvdHlwZSwiZ2V0UHVibGljQXBpIixhd2Vzb21lY2hhcnRzLmNvbmZpZy5SZXN0RG9tYWluc0NvbmZpZy5wcm90b3R5cGUuZ2V0UHVibGljQXBpKTsKYXdlc29tZWNoYXJ0cy5jb25maWcuUmVzdERvbWFpbnNDb25maWcucHJvdG90eXBlLnNldFB1YmxpY0FwaT1mdW5jdGlvbihhKXt0aGlzLnB1YmxpY0FwaVNlbGVjdG9yXz10aGlzLmlucHV0VG9JdGVyXyhhKTtyZXR1cm4gdGhpc307Z29vZy5leHBvcnRQcm9wZXJ0eShhd2Vzb21lY2hhcnRzLmNvbmZpZy5SZXN0RG9tYWluc0NvbmZpZy5wcm90b3R5cGUsInNldFB1YmxpY0FwaSIsYXdlc29tZWNoYXJ0cy5jb25maWcuUmVzdERvbWFpbnNDb25maWcucHJvdG90eXBlLnNldFB1YmxpY0FwaSk7YXdlc29tZWNoYXJ0cy5jb25maWcuUmVzdERvbWFpbnNDb25maWcucHJvdG90eXBlLmdldFB1YmxpY0NoYXJ0cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnB1YmxpY0NoYXJ0c1NlbGVjdG9yX307Z29vZy5leHBvcnRQcm9wZXJ0eShhd2Vzb21lY2hhcnRzLmNvbmZpZy5SZXN0RG9tYWluc0NvbmZpZy5wcm90b3R5cGUsImdldFB1YmxpY0NoYXJ0cyIsYXdlc29tZWNoYXJ0cy5jb25maWcuUmVzdERvbWFpbnNDb25maWcucHJvdG90eXBlLmdldFB1YmxpY0NoYXJ0cyk7CmF3ZXNvbWVjaGFydHMuY29uZmlnLlJlc3REb21haW5zQ29uZmlnLnByb3RvdHlwZS5zZXRQdWJsaWNDaGFydHM9ZnVuY3Rpb24oYSl7dGhpcy5wdWJsaWNDaGFydHNTZWxlY3Rvcl89dGhpcy5pbnB1dFRvSXRlcl8oYSk7cmV0dXJuIHRoaXN9O2dvb2cuZXhwb3J0UHJvcGVydHkoYXdlc29tZWNoYXJ0cy5jb25maWcuUmVzdERvbWFpbnNDb25maWcucHJvdG90eXBlLCJzZXRQdWJsaWNDaGFydHMiLGF3ZXNvbWVjaGFydHMuY29uZmlnLlJlc3REb21haW5zQ29uZmlnLnByb3RvdHlwZS5zZXRQdWJsaWNDaGFydHMpO2F3ZXNvbWVjaGFydHMuY29uZmlnLlJlc3REb21haW5zQ29uZmlnLnByb3RvdHlwZS5nZXRNZXRyaWNzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWV0cmljc0RvbWFpblNlbGVjdG9yX307Z29vZy5leHBvcnRQcm9wZXJ0eShhd2Vzb21lY2hhcnRzLmNvbmZpZy5SZXN0RG9tYWluc0NvbmZpZy5wcm90b3R5cGUsImdldE1ldHJpY3MiLGF3ZXNvbWVjaGFydHMuY29uZmlnLlJlc3REb21haW5zQ29uZmlnLnByb3RvdHlwZS5nZXRNZXRyaWNzKTsKYXdlc29tZWNoYXJ0cy5jb25maWcuUmVzdERvbWFpbnNDb25maWcucHJvdG90eXBlLnNldE1ldHJpY3M9ZnVuY3Rpb24oYSl7dGhpcy5tZXRyaWNzRG9tYWluU2VsZWN0b3JfPXRoaXMuaW5wdXRUb0l0ZXJfKGEpO3JldHVybiB0aGlzfTtnb29nLmV4cG9ydFByb3BlcnR5KGF3ZXNvbWVjaGFydHMuY29uZmlnLlJlc3REb21haW5zQ29uZmlnLnByb3RvdHlwZSwic2V0TWV0cmljcyIsYXdlc29tZWNoYXJ0cy5jb25maWcuUmVzdERvbWFpbnNDb25maWcucHJvdG90eXBlLnNldE1ldHJpY3MpO2F3ZXNvbWVjaGFydHMuY29uZmlnLlJlc3REb21haW5zQ29uZmlnLnByb3RvdHlwZS5nZXRFdmVudHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ldmVudHNEb21haW5TZWxlY3Rvcl99O2dvb2cuZXhwb3J0UHJvcGVydHkoYXdlc29tZWNoYXJ0cy5jb25maWcuUmVzdERvbWFpbnNDb25maWcucHJvdG90eXBlLCJnZXRFdmVudHMiLGF3ZXNvbWVjaGFydHMuY29uZmlnLlJlc3REb21haW5zQ29uZmlnLnByb3RvdHlwZS5nZXRFdmVudHMpOwphd2Vzb21lY2hhcnRzLmNvbmZpZy5SZXN0RG9tYWluc0NvbmZpZy5wcm90b3R5cGUuc2V0RXZlbnRzPWZ1bmN0aW9uKGEpe3RoaXMuZXZlbnRzRG9tYWluU2VsZWN0b3JfPXRoaXMuaW5wdXRUb0l0ZXJfKGEpO3JldHVybiB0aGlzfTtnb29nLmV4cG9ydFByb3BlcnR5KGF3ZXNvbWVjaGFydHMuY29uZmlnLlJlc3REb21haW5zQ29uZmlnLnByb3RvdHlwZSwic2V0RXZlbnRzIixhd2Vzb21lY2hhcnRzLmNvbmZpZy5SZXN0RG9tYWluc0NvbmZpZy5wcm90b3R5cGUuc2V0RXZlbnRzKTthd2Vzb21lY2hhcnRzLmNvbmZpZy5SZXN0RG9tYWluc0NvbmZpZy5wcm90b3R5cGUuc2V0SXRlckZhY3Rvcnk9ZnVuY3Rpb24oYSl7dGhpcy5pdGVyRmFjdG9yeV89YX07Z29vZy5leHBvcnRQcm9wZXJ0eShhd2Vzb21lY2hhcnRzLmNvbmZpZy5SZXN0RG9tYWluc0NvbmZpZy5wcm90b3R5cGUsInNldEl0ZXJGYWN0b3J5Iixhd2Vzb21lY2hhcnRzLmNvbmZpZy5SZXN0RG9tYWluc0NvbmZpZy5wcm90b3R5cGUuc2V0SXRlckZhY3RvcnkpOwphd2Vzb21lY2hhcnRzLmNvbmZpZy5SZXN0RG9tYWluc0NvbmZpZy5wcm90b3R5cGUuaW5wdXRUb0l0ZXJfPWZ1bmN0aW9uKGEpe2lmKCFhKXJldHVybiBudWxsOyJzdHJpbmciPT09dHlwZW9mIGEmJihhPVthXSk7QXJyYXkuaXNBcnJheShhKSYmKGE9dGhpcy5pdGVyRmFjdG9yeV8oYSkpO3JldHVybiBhfTthd2Vzb21lY2hhcnRzLmludGVyZmFjZXM9e307YXdlc29tZWNoYXJ0cy5pbnRlcmZhY2VzLkFuYWx5dGljc01ldGFkYXRhPXt9O2F3ZXNvbWVjaGFydHMuaW50ZXJmYWNlcy5BbmFseXRpY3NJbnRlcmZhY2U9ZnVuY3Rpb24oKXt9O2dvb2cuZXhwb3J0U3ltYm9sKCJhd2Vzb21lY2hhcnRzLmludGVyZmFjZXMuQW5hbHl0aWNzSW50ZXJmYWNlIixhd2Vzb21lY2hhcnRzLmludGVyZmFjZXMuQW5hbHl0aWNzSW50ZXJmYWNlKTthd2Vzb21lY2hhcnRzLmludGVyZmFjZXMuQW5hbHl0aWNzSW50ZXJmYWNlLnByb3RvdHlwZS5zaW5jZUxvYWQ9ZnVuY3Rpb24oKXt9O2dvb2cuZXhwb3J0UHJvcGVydHkoYXdlc29tZWNoYXJ0cy5pbnRlcmZhY2VzLkFuYWx5dGljc0ludGVyZmFjZS5wcm90b3R5cGUsInNpbmNlTG9hZCIsYXdlc29tZWNoYXJ0cy5pbnRlcmZhY2VzLkFuYWx5dGljc0ludGVyZmFjZS5wcm90b3R5cGUuc2luY2VMb2FkKTthd2Vzb21lY2hhcnRzLmludGVyZmFjZXMuQXV0aEludGVyZmFjZT1mdW5jdGlvbigpe307Z29vZy5leHBvcnRTeW1ib2woImF3ZXNvbWVjaGFydHMuaW50ZXJmYWNlcy5BdXRoSW50ZXJmYWNlIixhd2Vzb21lY2hhcnRzLmludGVyZmFjZXMuQXV0aEludGVyZmFjZSk7YXdlc29tZWNoYXJ0cy5pbnRlcmZhY2VzLkF1dGhJbnRlcmZhY2UucHJvdG90eXBlLmNoZWNrQXV0aD1mdW5jdGlvbigpe307Z29vZy5leHBvcnRQcm9wZXJ0eShhd2Vzb21lY2hhcnRzLmludGVyZmFjZXMuQXV0aEludGVyZmFjZS5wcm90b3R5cGUsImNoZWNrQXV0aCIsYXdlc29tZWNoYXJ0cy5pbnRlcmZhY2VzLkF1dGhJbnRlcmZhY2UucHJvdG90eXBlLmNoZWNrQXV0aCk7YXdlc29tZWNoYXJ0cy5pbnRlcmZhY2VzLkF1dGhJbnRlcmZhY2UucHJvdG90eXBlLmlzQXV0aEluUHJvZ3Jlc3M9ZnVuY3Rpb24oKXt9Owpnb29nLmV4cG9ydFByb3BlcnR5KGF3ZXNvbWVjaGFydHMuaW50ZXJmYWNlcy5BdXRoSW50ZXJmYWNlLnByb3RvdHlwZSwiaXNBdXRoSW5Qcm9ncmVzcyIsYXdlc29tZWNoYXJ0cy5pbnRlcmZhY2VzLkF1dGhJbnRlcmZhY2UucHJvdG90eXBlLmlzQXV0aEluUHJvZ3Jlc3MpO2F3ZXNvbWVjaGFydHMuaW50ZXJmYWNlcy5BdXRoSW50ZXJmYWNlLnByb3RvdHlwZS5pc1JlYWR5PWZ1bmN0aW9uKCl7fTtnb29nLmV4cG9ydFByb3BlcnR5KGF3ZXNvbWVjaGFydHMuaW50ZXJmYWNlcy5BdXRoSW50ZXJmYWNlLnByb3RvdHlwZSwiaXNSZWFkeSIsYXdlc29tZWNoYXJ0cy5pbnRlcmZhY2VzLkF1dGhJbnRlcmZhY2UucHJvdG90eXBlLmlzUmVhZHkpO2F3ZXNvbWVjaGFydHMuaW50ZXJmYWNlcy5BdXRoSW50ZXJmYWNlLnByb3RvdHlwZS5yZXF1ZXN0PWZ1bmN0aW9uKCl7fTsKZ29vZy5leHBvcnRQcm9wZXJ0eShhd2Vzb21lY2hhcnRzLmludGVyZmFjZXMuQXV0aEludGVyZmFjZS5wcm90b3R5cGUsInJlcXVlc3QiLGF3ZXNvbWVjaGFydHMuaW50ZXJmYWNlcy5BdXRoSW50ZXJmYWNlLnByb3RvdHlwZS5yZXF1ZXN0KTthd2Vzb21lY2hhcnRzLmludGVyZmFjZXMuQXV0aEludGVyZmFjZS5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt9O2dvb2cuZXhwb3J0UHJvcGVydHkoYXdlc29tZWNoYXJ0cy5pbnRlcmZhY2VzLkF1dGhJbnRlcmZhY2UucHJvdG90eXBlLCJjbGVhciIsYXdlc29tZWNoYXJ0cy5pbnRlcmZhY2VzLkF1dGhJbnRlcmZhY2UucHJvdG90eXBlLmNsZWFyKTthd2Vzb21lY2hhcnRzLmludGVyZmFjZXMuQXV0aEludGVyZmFjZS5wcm90b3R5cGUuaGFuZGxlUmVxdWVzdEVycm9yPWZ1bmN0aW9uKCl7fTsKZ29vZy5leHBvcnRQcm9wZXJ0eShhd2Vzb21lY2hhcnRzLmludGVyZmFjZXMuQXV0aEludGVyZmFjZS5wcm90b3R5cGUsImhhbmRsZVJlcXVlc3RFcnJvciIsYXdlc29tZWNoYXJ0cy5pbnRlcmZhY2VzLkF1dGhJbnRlcmZhY2UucHJvdG90eXBlLmhhbmRsZVJlcXVlc3RFcnJvcik7YXdlc29tZWNoYXJ0cy5pbnRlcmZhY2VzLkF1dGhJbnRlcmZhY2UucHJvdG90eXBlLmF1dGhvcml6ZVJlcXVlc3Q9ZnVuY3Rpb24oKXt9O2dvb2cuZXhwb3J0UHJvcGVydHkoYXdlc29tZWNoYXJ0cy5pbnRlcmZhY2VzLkF1dGhJbnRlcmZhY2UucHJvdG90eXBlLCJhdXRob3JpemVSZXF1ZXN0Iixhd2Vzb21lY2hhcnRzLmludGVyZmFjZXMuQXV0aEludGVyZmFjZS5wcm90b3R5cGUuYXV0aG9yaXplUmVxdWVzdCk7dmFyIG1vZHVsZSRleHBvcnRzJGF3ZXNvbWVjaGFydHMkaW50ZXJmYWNlcyRUaW1lem9uZUludGVyZmFjZT1mdW5jdGlvbigpe307bW9kdWxlJGV4cG9ydHMkYXdlc29tZWNoYXJ0cyRpbnRlcmZhY2VzJFRpbWV6b25lSW50ZXJmYWNlLnByb3RvdHlwZS50aW1lem9uZU9mZnNldD1mdW5jdGlvbigpe307bW9kdWxlJGV4cG9ydHMkYXdlc29tZWNoYXJ0cyRpbnRlcmZhY2VzJFRpbWV6b25lSW50ZXJmYWNlLnByb3RvdHlwZS5sb2NhbE9mZnNldD1mdW5jdGlvbigpe307bW9kdWxlJGV4cG9ydHMkYXdlc29tZWNoYXJ0cyRpbnRlcmZhY2VzJFRpbWV6b25lSW50ZXJmYWNlLkxPQ0FMX1RJTUU9IkxvY2FsVGltZSI7dmFyICRqc2NvbXAkc2NvcGUkbTY1MDU0OTM2NSQyJEFuYWx5dGljcz1mdW5jdGlvbigpe307JGpzY29tcCRzY29wZSRtNjUwNTQ5MzY1JDIkQW5hbHl0aWNzLnByb3RvdHlwZS5zaW5jZUxvYWQ9ZnVuY3Rpb24oKXt9Owp2YXIgJGpzY29tcCRzY29wZSRtNjUwNTQ5MzY1JDMkU2V0dGluZ3M9ZnVuY3Rpb24oKXt0aGlzLnFuQXV0aF89dGhpcy5hdXRoXz1udWxsO3RoaXMudGhyb3dQYXJ0aWFsc189ITA7dGhpcy5yZXN0RG9tYWluc0NvbmZpZ189bmV3IGF3ZXNvbWVjaGFydHMuY29uZmlnLlJlc3REb21haW5zQ29uZmlnO3RoaXMuY29sb3JUaGVtZV89dGhpcy5kYXRlVGltZURpc3BsYXlGb3JtYXR0ZXJfPXRoaXMudGltZXpvbmVQcmVmZXJlbmNlXz1udWxsO3RoaXMud2hpdGVsaXN0Xz17fTt0aGlzLmJhc2VVcmxzXz17Z2NtX3YzOiJodHRwczovL21vbml0b3JpbmcuZ29vZ2xlYXBpcy5jb20ifTt0aGlzLmFuYWx5dGljc189bmV3ICRqc2NvbXAkc2NvcGUkbTY1MDU0OTM2NSQyJEFuYWx5dGljczt0aGlzLmZvcmNlU3luY189ITE7dGhpcy5zdGF0c189e3RyYW5zcG9ydFJlYWQ6W10sY2hhcnRMb2FkaW5nOltdLGRhc2hib2FyZExvYWRpbmc6W10sY2hhcnRFcnJvcnM6MH07dGhpcy50aW1lem9uZVV0aWxzXz0Ke3RpbWV6b25lT2Zmc2V0OmZ1bmN0aW9uKCl7cmV0dXJuLShuZXcgRGF0ZSkuZ2V0VGltZXpvbmVPZmZzZXQoKX0sbG9jYWxPZmZzZXQ6ZnVuY3Rpb24oKXtyZXR1cm4tKG5ldyBEYXRlKS5nZXRUaW1lem9uZU9mZnNldCgpfX07dGhpcy51c2VUZXJtaW5hdGluZ0RyYXdRdWV1ZT0hMX07JGpzY29tcCRzY29wZSRtNjUwNTQ5MzY1JDMkU2V0dGluZ3MucHJvdG90eXBlLnNldEF1dGg9ZnVuY3Rpb24oYSl7dGhpcy5hdXRoXz1hO3JldHVybiB0aGlzfTtnb29nLmV4cG9ydFByb3BlcnR5KCRqc2NvbXAkc2NvcGUkbTY1MDU0OTM2NSQzJFNldHRpbmdzLnByb3RvdHlwZSwic2V0QXV0aCIsJGpzY29tcCRzY29wZSRtNjUwNTQ5MzY1JDMkU2V0dGluZ3MucHJvdG90eXBlLnNldEF1dGgpOyRqc2NvbXAkc2NvcGUkbTY1MDU0OTM2NSQzJFNldHRpbmdzLnByb3RvdHlwZS5zZXRRbkF1dGg9ZnVuY3Rpb24oYSl7dGhpcy5xbkF1dGhfPWE7cmV0dXJuIHRoaXN9Owpnb29nLmV4cG9ydFByb3BlcnR5KCRqc2NvbXAkc2NvcGUkbTY1MDU0OTM2NSQzJFNldHRpbmdzLnByb3RvdHlwZSwic2V0UW5BdXRoIiwkanNjb21wJHNjb3BlJG02NTA1NDkzNjUkMyRTZXR0aW5ncy5wcm90b3R5cGUuc2V0UW5BdXRoKTskanNjb21wJHNjb3BlJG02NTA1NDkzNjUkMyRTZXR0aW5ncy5wcm90b3R5cGUuZ2V0QXV0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF1dGhffTtnb29nLmV4cG9ydFByb3BlcnR5KCRqc2NvbXAkc2NvcGUkbTY1MDU0OTM2NSQzJFNldHRpbmdzLnByb3RvdHlwZSwiZ2V0QXV0aCIsJGpzY29tcCRzY29wZSRtNjUwNTQ5MzY1JDMkU2V0dGluZ3MucHJvdG90eXBlLmdldEF1dGgpOyRqc2NvbXAkc2NvcGUkbTY1MDU0OTM2NSQzJFNldHRpbmdzLnByb3RvdHlwZS5nZXRRbkF1dGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5xbkF1dGhffTsKZ29vZy5leHBvcnRQcm9wZXJ0eSgkanNjb21wJHNjb3BlJG02NTA1NDkzNjUkMyRTZXR0aW5ncy5wcm90b3R5cGUsImdldFFuQXV0aCIsJGpzY29tcCRzY29wZSRtNjUwNTQ5MzY1JDMkU2V0dGluZ3MucHJvdG90eXBlLmdldFFuQXV0aCk7JGpzY29tcCRzY29wZSRtNjUwNTQ5MzY1JDMkU2V0dGluZ3MucHJvdG90eXBlLnNldFRocm93UGFydGlhbHM9ZnVuY3Rpb24oYSl7dGhpcy50aHJvd1BhcnRpYWxzXz1hO3JldHVybiB0aGlzfTtnb29nLmV4cG9ydFByb3BlcnR5KCRqc2NvbXAkc2NvcGUkbTY1MDU0OTM2NSQzJFNldHRpbmdzLnByb3RvdHlwZSwic2V0VGhyb3dQYXJ0aWFscyIsJGpzY29tcCRzY29wZSRtNjUwNTQ5MzY1JDMkU2V0dGluZ3MucHJvdG90eXBlLnNldFRocm93UGFydGlhbHMpOyRqc2NvbXAkc2NvcGUkbTY1MDU0OTM2NSQzJFNldHRpbmdzLnByb3RvdHlwZS5nZXRUaHJvd1BhcnRpYWxzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGhyb3dQYXJ0aWFsc199Owpnb29nLmV4cG9ydFByb3BlcnR5KCRqc2NvbXAkc2NvcGUkbTY1MDU0OTM2NSQzJFNldHRpbmdzLnByb3RvdHlwZSwiZ2V0VGhyb3dQYXJ0aWFscyIsJGpzY29tcCRzY29wZSRtNjUwNTQ5MzY1JDMkU2V0dGluZ3MucHJvdG90eXBlLmdldFRocm93UGFydGlhbHMpOyRqc2NvbXAkc2NvcGUkbTY1MDU0OTM2NSQzJFNldHRpbmdzLnByb3RvdHlwZS5zZXRUaW1lem9uZVV0aWxzPWZ1bmN0aW9uKGEpe3RoaXMudGltZXpvbmVVdGlsc189YTtyZXR1cm4gdGhpc307Z29vZy5leHBvcnRQcm9wZXJ0eSgkanNjb21wJHNjb3BlJG02NTA1NDkzNjUkMyRTZXR0aW5ncy5wcm90b3R5cGUsInNldFRpbWV6b25lVXRpbHMiLCRqc2NvbXAkc2NvcGUkbTY1MDU0OTM2NSQzJFNldHRpbmdzLnByb3RvdHlwZS5zZXRUaW1lem9uZVV0aWxzKTskanNjb21wJHNjb3BlJG02NTA1NDkzNjUkMyRTZXR0aW5ncy5wcm90b3R5cGUuZ2V0VGltZXpvbmVVdGlscz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRpbWV6b25lVXRpbHNffTsKZ29vZy5leHBvcnRQcm9wZXJ0eSgkanNjb21wJHNjb3BlJG02NTA1NDkzNjUkMyRTZXR0aW5ncy5wcm90b3R5cGUsImdldFRpbWV6b25lVXRpbHMiLCRqc2NvbXAkc2NvcGUkbTY1MDU0OTM2NSQzJFNldHRpbmdzLnByb3RvdHlwZS5nZXRUaW1lem9uZVV0aWxzKTskanNjb21wJHNjb3BlJG02NTA1NDkzNjUkMyRTZXR0aW5ncy5wcm90b3R5cGUuc2V0QW5hbHl0aWNzPWZ1bmN0aW9uKGEpe3RoaXMuYW5hbHl0aWNzXz1hO3JldHVybiB0aGlzfTtnb29nLmV4cG9ydFByb3BlcnR5KCRqc2NvbXAkc2NvcGUkbTY1MDU0OTM2NSQzJFNldHRpbmdzLnByb3RvdHlwZSwic2V0QW5hbHl0aWNzIiwkanNjb21wJHNjb3BlJG02NTA1NDkzNjUkMyRTZXR0aW5ncy5wcm90b3R5cGUuc2V0QW5hbHl0aWNzKTskanNjb21wJHNjb3BlJG02NTA1NDkzNjUkMyRTZXR0aW5ncy5wcm90b3R5cGUuZ2V0QW5hbHl0aWNzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYW5hbHl0aWNzX3x8bnVsbH07Cmdvb2cuZXhwb3J0UHJvcGVydHkoJGpzY29tcCRzY29wZSRtNjUwNTQ5MzY1JDMkU2V0dGluZ3MucHJvdG90eXBlLCJnZXRBbmFseXRpY3MiLCRqc2NvbXAkc2NvcGUkbTY1MDU0OTM2NSQzJFNldHRpbmdzLnByb3RvdHlwZS5nZXRBbmFseXRpY3MpOyRqc2NvbXAkc2NvcGUkbTY1MDU0OTM2NSQzJFNldHRpbmdzLnByb3RvdHlwZS5zZXRUaW1lem9uZT1mdW5jdGlvbihhKXt0aGlzLnRpbWV6b25lUHJlZmVyZW5jZV89YTtyZXR1cm4gdGhpc307Z29vZy5leHBvcnRQcm9wZXJ0eSgkanNjb21wJHNjb3BlJG02NTA1NDkzNjUkMyRTZXR0aW5ncy5wcm90b3R5cGUsInNldFRpbWV6b25lIiwkanNjb21wJHNjb3BlJG02NTA1NDkzNjUkMyRTZXR0aW5ncy5wcm90b3R5cGUuc2V0VGltZXpvbmUpOwokanNjb21wJHNjb3BlJG02NTA1NDkzNjUkMyRTZXR0aW5ncy5wcm90b3R5cGUuZ2V0VGltZXpvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aW1lem9uZVByZWZlcmVuY2VfP3RoaXMudGltZXpvbmVQcmVmZXJlbmNlXzp3aW5kb3cmJndpbmRvdy5zZCYmd2luZG93LnNkLnRpbWV6b25lUHJlZmVyZW5jZT93aW5kb3cuc2QudGltZXpvbmVQcmVmZXJlbmNlOm1vZHVsZSRleHBvcnRzJGF3ZXNvbWVjaGFydHMkaW50ZXJmYWNlcyRUaW1lem9uZUludGVyZmFjZS5MT0NBTF9USU1FfTtnb29nLmV4cG9ydFByb3BlcnR5KCRqc2NvbXAkc2NvcGUkbTY1MDU0OTM2NSQzJFNldHRpbmdzLnByb3RvdHlwZSwiZ2V0VGltZXpvbmUiLCRqc2NvbXAkc2NvcGUkbTY1MDU0OTM2NSQzJFNldHRpbmdzLnByb3RvdHlwZS5nZXRUaW1lem9uZSk7CiRqc2NvbXAkc2NvcGUkbTY1MDU0OTM2NSQzJFNldHRpbmdzLnByb3RvdHlwZS5zZXREYXRlVGltZURpc3BsYXlGb3JtYXR0ZXI9ZnVuY3Rpb24oYSl7dGhpcy5kYXRlVGltZURpc3BsYXlGb3JtYXR0ZXJfPWE7cmV0dXJuIHRoaXN9O2dvb2cuZXhwb3J0UHJvcGVydHkoJGpzY29tcCRzY29wZSRtNjUwNTQ5MzY1JDMkU2V0dGluZ3MucHJvdG90eXBlLCJzZXREYXRlVGltZURpc3BsYXlGb3JtYXR0ZXIiLCRqc2NvbXAkc2NvcGUkbTY1MDU0OTM2NSQzJFNldHRpbmdzLnByb3RvdHlwZS5zZXREYXRlVGltZURpc3BsYXlGb3JtYXR0ZXIpOyRqc2NvbXAkc2NvcGUkbTY1MDU0OTM2NSQzJFNldHRpbmdzLnByb3RvdHlwZS5nZXREYXRlVGltZURpc3BsYXlGb3JtYXR0ZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRlVGltZURpc3BsYXlGb3JtYXR0ZXJffTsKZ29vZy5leHBvcnRQcm9wZXJ0eSgkanNjb21wJHNjb3BlJG02NTA1NDkzNjUkMyRTZXR0aW5ncy5wcm90b3R5cGUsImdldERhdGVUaW1lRGlzcGxheUZvcm1hdHRlciIsJGpzY29tcCRzY29wZSRtNjUwNTQ5MzY1JDMkU2V0dGluZ3MucHJvdG90eXBlLmdldERhdGVUaW1lRGlzcGxheUZvcm1hdHRlcik7JGpzY29tcCRzY29wZSRtNjUwNTQ5MzY1JDMkU2V0dGluZ3MucHJvdG90eXBlLnNldENvbG9yVGhlbWU9ZnVuY3Rpb24oYSl7dGhpcy5jb2xvclRoZW1lXz1hO3JldHVybiB0aGlzfTtnb29nLmV4cG9ydFByb3BlcnR5KCRqc2NvbXAkc2NvcGUkbTY1MDU0OTM2NSQzJFNldHRpbmdzLnByb3RvdHlwZSwic2V0Q29sb3JUaGVtZSIsJGpzY29tcCRzY29wZSRtNjUwNTQ5MzY1JDMkU2V0dGluZ3MucHJvdG90eXBlLnNldENvbG9yVGhlbWUpOwokanNjb21wJHNjb3BlJG02NTA1NDkzNjUkMyRTZXR0aW5ncy5wcm90b3R5cGUuZ2V0Q29sb3JUaGVtZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbG9yVGhlbWVfP3RoaXMuY29sb3JUaGVtZV86d2luZG93JiZ3aW5kb3cuc2QmJndpbmRvdy5zZC5jb2xvclRoZW1lP3dpbmRvdy5zZC5jb2xvclRoZW1lOm51bGx9O2dvb2cuZXhwb3J0UHJvcGVydHkoJGpzY29tcCRzY29wZSRtNjUwNTQ5MzY1JDMkU2V0dGluZ3MucHJvdG90eXBlLCJnZXRDb2xvclRoZW1lIiwkanNjb21wJHNjb3BlJG02NTA1NDkzNjUkMyRTZXR0aW5ncy5wcm90b3R5cGUuZ2V0Q29sb3JUaGVtZSk7JGpzY29tcCRzY29wZSRtNjUwNTQ5MzY1JDMkU2V0dGluZ3MucHJvdG90eXBlLmdldFJlc3REb21haW5zQ29uZmlnPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVzdERvbWFpbnNDb25maWdffTsKZ29vZy5leHBvcnRQcm9wZXJ0eSgkanNjb21wJHNjb3BlJG02NTA1NDkzNjUkMyRTZXR0aW5ncy5wcm90b3R5cGUsImdldFJlc3REb21haW5zQ29uZmlnIiwkanNjb21wJHNjb3BlJG02NTA1NDkzNjUkMyRTZXR0aW5ncy5wcm90b3R5cGUuZ2V0UmVzdERvbWFpbnNDb25maWcpOyRqc2NvbXAkc2NvcGUkbTY1MDU0OTM2NSQzJFNldHRpbmdzLnByb3RvdHlwZS5zZXRXaGl0ZWxpc3Q9ZnVuY3Rpb24oYSxiKXt0aGlzLndoaXRlbGlzdF9bYV09YjtyZXR1cm4gdGhpc307Z29vZy5leHBvcnRQcm9wZXJ0eSgkanNjb21wJHNjb3BlJG02NTA1NDkzNjUkMyRTZXR0aW5ncy5wcm90b3R5cGUsInNldFdoaXRlbGlzdCIsJGpzY29tcCRzY29wZSRtNjUwNTQ5MzY1JDMkU2V0dGluZ3MucHJvdG90eXBlLnNldFdoaXRlbGlzdCk7CiRqc2NvbXAkc2NvcGUkbTY1MDU0OTM2NSQzJFNldHRpbmdzLnByb3RvdHlwZS5pc1ByZWZpeFdoaXRlbGlzdGVkPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcztBcnJheS5pc0FycmF5KGIpfHwoYj1bXSk7cmV0dXJuIE9iamVjdC5rZXlzKHRoaXMud2hpdGVsaXN0XykuY29uY2F0KGIpLnNvbWUoZnVuY3Rpb24oZCl7cmV0dXJuIDA9PT1kLmluZGV4T2YoYSkmJighIWMud2hpdGVsaXN0X1tkXXx8MDw9Yi5pbmRleE9mKGQpKX0pfTskanNjb21wJHNjb3BlJG02NTA1NDkzNjUkMyRTZXR0aW5ncy5wcm90b3R5cGUuaXNXaGl0ZWxpc3RlZD1mdW5jdGlvbihhLGIpe3JldHVybiBBcnJheS5pc0FycmF5KGIpJiYoYj1iLmluY2x1ZGVzKGEpKT8hMDohIXRoaXMud2hpdGVsaXN0X1thXX07CiRqc2NvbXAkc2NvcGUkbTY1MDU0OTM2NSQzJFNldHRpbmdzLnByb3RvdHlwZS5nZXRXaGl0ZWxpc3RQYXJhbT1mdW5jdGlvbihhKXt2YXIgYj1udWxsO3RoaXMuZ2V0V2hpdGVsaXN0ZWRLZXlzKCkuZm9yRWFjaChmdW5jdGlvbihjKXswPT09Yy5pbmRleE9mKGErIi0iKSYmKGI9TWF0aC5taW4oYy5zdWJzdHJpbmcoKGErIi0iKS5sZW5ndGgpLG51bGw9PT1iP0luZmluaXR5OmIpKX0pO3JldHVybiBifTskanNjb21wJHNjb3BlJG02NTA1NDkzNjUkMyRTZXR0aW5ncy5wcm90b3R5cGUuZ2V0V2hpdGVsaXN0ZWRLZXlzPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcztyZXR1cm4gT2JqZWN0LmtleXModGhpcy53aGl0ZWxpc3RfKS5maWx0ZXIoZnVuY3Rpb24oYil7cmV0dXJuIGEud2hpdGVsaXN0X1tiXX0pfTskanNjb21wJHNjb3BlJG02NTA1NDkzNjUkMyRTZXR0aW5ncy5wcm90b3R5cGUuc2V0QmFzZVVybD1mdW5jdGlvbihhLGIpe3RoaXMuYmFzZVVybHNfW2FdPWJ9Owpnb29nLmV4cG9ydFByb3BlcnR5KCRqc2NvbXAkc2NvcGUkbTY1MDU0OTM2NSQzJFNldHRpbmdzLnByb3RvdHlwZSwic2V0QmFzZVVybCIsJGpzY29tcCRzY29wZSRtNjUwNTQ5MzY1JDMkU2V0dGluZ3MucHJvdG90eXBlLnNldEJhc2VVcmwpOyRqc2NvbXAkc2NvcGUkbTY1MDU0OTM2NSQzJFNldHRpbmdzLnByb3RvdHlwZS5nZXRCYXNlVXJsPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmJhc2VVcmxzX1thXX07JGpzY29tcCRzY29wZSRtNjUwNTQ5MzY1JDMkU2V0dGluZ3MucHJvdG90eXBlLnNldEFzeW5jRXZlbnRXcmFwcGVyRm49ZnVuY3Rpb24oKXt9O2dvb2cuZXhwb3J0UHJvcGVydHkoJGpzY29tcCRzY29wZSRtNjUwNTQ5MzY1JDMkU2V0dGluZ3MucHJvdG90eXBlLCJzZXRBc3luY0V2ZW50V3JhcHBlckZuIiwkanNjb21wJHNjb3BlJG02NTA1NDkzNjUkMyRTZXR0aW5ncy5wcm90b3R5cGUuc2V0QXN5bmNFdmVudFdyYXBwZXJGbik7CiRqc2NvbXAkc2NvcGUkbTY1MDU0OTM2NSQzJFNldHRpbmdzLnByb3RvdHlwZS5zZXRGb3JjZVN5bmM9ZnVuY3Rpb24oYSl7dGhpcy5mb3JjZVN5bmNfPWF9O2dvb2cuZXhwb3J0UHJvcGVydHkoJGpzY29tcCRzY29wZSRtNjUwNTQ5MzY1JDMkU2V0dGluZ3MucHJvdG90eXBlLCJzZXRGb3JjZVN5bmMiLCRqc2NvbXAkc2NvcGUkbTY1MDU0OTM2NSQzJFNldHRpbmdzLnByb3RvdHlwZS5zZXRGb3JjZVN5bmMpOyRqc2NvbXAkc2NvcGUkbTY1MDU0OTM2NSQzJFNldHRpbmdzLnByb3RvdHlwZS5pc0ZvcmNlU3luYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZvcmNlU3luY199O2dvb2cuZXhwb3J0UHJvcGVydHkoJGpzY29tcCRzY29wZSRtNjUwNTQ5MzY1JDMkU2V0dGluZ3MucHJvdG90eXBlLCJpc0ZvcmNlU3luYyIsJGpzY29tcCRzY29wZSRtNjUwNTQ5MzY1JDMkU2V0dGluZ3MucHJvdG90eXBlLmlzRm9yY2VTeW5jKTsKJGpzY29tcCRzY29wZSRtNjUwNTQ5MzY1JDMkU2V0dGluZ3MucHJvdG90eXBlLnRyYW5zcG9ydFJlYWRFdmVudD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLnN0YXRzXy50cmFuc3BvcnRSZWFkO2IucHVzaChhKTsxRTM8Yi5sZW5ndGgmJmIuc2hpZnQoKX07Z29vZy5leHBvcnRQcm9wZXJ0eSgkanNjb21wJHNjb3BlJG02NTA1NDkzNjUkMyRTZXR0aW5ncy5wcm90b3R5cGUsInRyYW5zcG9ydFJlYWRFdmVudCIsJGpzY29tcCRzY29wZSRtNjUwNTQ5MzY1JDMkU2V0dGluZ3MucHJvdG90eXBlLnRyYW5zcG9ydFJlYWRFdmVudCk7JGpzY29tcCRzY29wZSRtNjUwNTQ5MzY1JDMkU2V0dGluZ3MucHJvdG90eXBlLmNoYXJ0TG9hZGluZ0V2ZW50PWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5zdGF0c18uY2hhcnRMb2FkaW5nO2MucHVzaChhKTsxRTM8Yy5sZW5ndGgmJmMuc2hpZnQoKTtiJiZ0aGlzLnN0YXRzXy5jaGFydEVycm9ycysrfTsKZ29vZy5leHBvcnRQcm9wZXJ0eSgkanNjb21wJHNjb3BlJG02NTA1NDkzNjUkMyRTZXR0aW5ncy5wcm90b3R5cGUsImNoYXJ0TG9hZGluZ0V2ZW50IiwkanNjb21wJHNjb3BlJG02NTA1NDkzNjUkMyRTZXR0aW5ncy5wcm90b3R5cGUuY2hhcnRMb2FkaW5nRXZlbnQpOyRqc2NvbXAkc2NvcGUkbTY1MDU0OTM2NSQzJFNldHRpbmdzLnByb3RvdHlwZS5kYXNoYm9hcmRMb2FkaW5nRXZlbnQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5zdGF0c18uZGFzaGJvYXJkTG9hZGluZztiLnB1c2goYSk7MUUzPGIubGVuZ3RoJiZiLnNoaWZ0KCl9O2dvb2cuZXhwb3J0UHJvcGVydHkoJGpzY29tcCRzY29wZSRtNjUwNTQ5MzY1JDMkU2V0dGluZ3MucHJvdG90eXBlLCJkYXNoYm9hcmRMb2FkaW5nRXZlbnQiLCRqc2NvbXAkc2NvcGUkbTY1MDU0OTM2NSQzJFNldHRpbmdzLnByb3RvdHlwZS5kYXNoYm9hcmRMb2FkaW5nRXZlbnQpOwokanNjb21wJHNjb3BlJG02NTA1NDkzNjUkMyRTZXR0aW5ncy5wcm90b3R5cGUuc2hvd1N0YXRzPWZ1bmN0aW9uKCl7dGhpcy5pc1doaXRlbGlzdGVkKCJjaGFydC1hZGFwdGl2ZSIpP2NvbnNvbGUubG9nKCJ0aWxlIGxvYWRpbmcgaXMgb24uIik6Y29uc29sZS5sb2coInRpbGUgbG9hZGluZyBpcyBvZmYuIik7dGhpcy5pc1doaXRlbGlzdGVkKCJjaGFydC1ncnBjIik/Y29uc29sZS5sb2coImdycGMgaXMgb24uIik6Y29uc29sZS5sb2coImdycGMgaXMgb2ZmLiIpO2NvbnNvbGUubG9nKCJ0aHJvdHRsZSBpcyAiK3RoaXMuZ2V0V2hpdGVsaXN0UGFyYW0oImNoYXJ0LXRocm90dGxlIikpO3ZhciBhPTAsYj0wO2lmKHBlcmZvcm1hbmNlJiZwZXJmb3JtYW5jZS5nZXRFbnRyaWVzKXt2YXIgYz1wZXJmb3JtYW5jZS5nZXRFbnRyaWVzKCk7Yy5mb3JFYWNoKGZ1bmN0aW9uKGQpeyFkLm5hbWV8fC0xPT09ZC5uYW1lLmluZGV4T2YoIi9iYXRjaCIpJiYtMT09PWQubmFtZS5pbmRleE9mKCIvdGltZVNlcmllcz8iKSYmCi0xPT09ZC5uYW1lLmluZGV4T2YoIi9MaXN0VGltZVNlcmllcyIpfHwoYSs9LjUsYis9K2QuZHVyYXRpb24pfSl9MDxhJiYoY29uc29sZS5sb2coIlhIUnM6IixhKSxjb25zb2xlLmxvZygiYXZlcmFnZSBYSFIgbGF0ZW5jeToiLGIvYSkpO2E9dGhpcy5zdGF0c18udHJhbnNwb3J0UmVhZC5sZW5ndGg7Yj0wO3RoaXMuc3RhdHNfLnRyYW5zcG9ydFJlYWQuZm9yRWFjaChmdW5jdGlvbihkKXtiKz0rZH0pO2NvbnNvbGUubG9nKCJ0cmFuc3BvcnQgcmVhZHM6IixhKTtjb25zb2xlLmxvZygiYXZlcmFnZSB0cmFuc3BvcnQgcmVhZCBsYXRlbmN5OiIsMD09PWE/Im4vYSI6Yi9hKTthPXRoaXMuc3RhdHNfLmNoYXJ0TG9hZGluZy5sZW5ndGg7Yj0wO3RoaXMuc3RhdHNfLmNoYXJ0TG9hZGluZy5mb3JFYWNoKGZ1bmN0aW9uKGQpe2IrPStkfSk7Y29uc29sZS5sb2coImNoYXJ0czoiLGEpO2NvbnNvbGUubG9nKCJhdmVyYWdlIGNoYXJ0IGxhdGVuY3k6IiwwPT09YT8ibi9hIjpiL2EpO2NvbnNvbGUubG9nKCJjaGFydCBlcnJvcnM6IiwKdGhpcy5zdGF0c18uY2hhcnRFcnJvcnMpO3RoaXMuc3RhdHNfLmRhc2hib2FyZExvYWRpbmcuZm9yRWFjaChmdW5jdGlvbihkKXtjb25zb2xlLmxvZygiZGFzaGJvYXJkIGxhdGVuY3k6IixkKX0pO2NvbnNvbGUubG9nKCJYSFIgbGF0ZW5jeSBpbmNsdWRlcyBzdGFsbGVkIHRpbWUgYW5kIG5ldHdvcmsgdGltZSwgcGVyIHRpbGUuIik7Y29uc29sZS5sb2coInRyYW5zcG9ydCBsYXRlbmN5IGluY2x1ZGVzIHN0YWxsZWQgdGltZSwgbmV0d29yayB0aW1lLCBhbmQgcGFyc2UgdGltZSwgcGVyIHRpbGUuIik7Y29uc29sZS5sb2coImNoYXJ0IGxhdGVuY3kgaW5jbHVkZXMgc3RhbGxlZCB0aW1lLCBuZXR3b3JrIHRpbWUsIHBhcnNlIHRpbWUsIHRyYW5zbGF0ZSwgYW5kIG1lcmdlLCBwZXIgY2hhcnQuIik7Y29uc29sZS5sb2coImRhc2hib2FyZCBsYXRlbmN5IGluY2x1ZGVzIHN0YWxsZWQsIG5ldHdvcmssIHBhcnNlLCB0cmFuc2xhdGUsIG1lcmdlLCBhbmQgZHJhdywgcGVyIGRhc2hib2FyZC4iKX07Cmdvb2cuZXhwb3J0UHJvcGVydHkoJGpzY29tcCRzY29wZSRtNjUwNTQ5MzY1JDMkU2V0dGluZ3MucHJvdG90eXBlLCJzaG93U3RhdHMiLCRqc2NvbXAkc2NvcGUkbTY1MDU0OTM2NSQzJFNldHRpbmdzLnByb3RvdHlwZS5zaG93U3RhdHMpOyRqc2NvbXAkc2NvcGUkbTY1MDU0OTM2NSQzJFNldHRpbmdzLnByb3RvdHlwZS5kb1VzZURhdGFXb3JrZXJzPWZ1bmN0aW9uKGEpe3JldHVybiJmdW5jdGlvbiI9PT10eXBlb2Ygc2VsZi5Xb3JrZXI/dGhpcy5pc1doaXRlbGlzdGVkKCJjaGFydC1kYXRhLXdvcmtlcnMiLGEpfHx0aGlzLmlzUHJlZml4V2hpdGVsaXN0ZWQoImNoYXJ0LW92ZXJyaWRlLXBlcmZvcm1hbmNlLSIsYSk/ITA6dGhpcy5pc1ByZWZpeFdoaXRlbGlzdGVkKCJjaGFydC1wZXJmb3JtYW5jZS0iLGEpJiZ0aGlzLmlzV2hpdGVsaXN0ZWQoImNoYXJ0LXJvbGxvdXQtcGVyZm9ybWFuY2UiLGEpOiExfTsKZ29vZy5leHBvcnRQcm9wZXJ0eSgkanNjb21wJHNjb3BlJG02NTA1NDkzNjUkMyRTZXR0aW5ncy5wcm90b3R5cGUsImRvVXNlRGF0YVdvcmtlcnMiLCRqc2NvbXAkc2NvcGUkbTY1MDU0OTM2NSQzJFNldHRpbmdzLnByb3RvdHlwZS5kb1VzZURhdGFXb3JrZXJzKTskanNjb21wJHNjb3BlJG02NTA1NDkzNjUkMyRTZXR0aW5ncy5wcm90b3R5cGUuc2V0VXNlVGVybWluYXRpbmdEcmF3UXVldWU9ZnVuY3Rpb24oYSl7dGhpcy51c2VUZXJtaW5hdGluZ0RyYXdRdWV1ZT1hfTtnb29nLmV4cG9ydFByb3BlcnR5KCRqc2NvbXAkc2NvcGUkbTY1MDU0OTM2NSQzJFNldHRpbmdzLnByb3RvdHlwZSwic2V0VXNlVGVybWluYXRpbmdEcmF3UXVldWUiLCRqc2NvbXAkc2NvcGUkbTY1MDU0OTM2NSQzJFNldHRpbmdzLnByb3RvdHlwZS5zZXRVc2VUZXJtaW5hdGluZ0RyYXdRdWV1ZSk7CiRqc2NvbXAkc2NvcGUkbTY1MDU0OTM2NSQzJFNldHRpbmdzLnByb3RvdHlwZS5nZXRVc2VUZXJtaW5hdGluZ0RyYXdRdWV1ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnVzZVRlcm1pbmF0aW5nRHJhd1F1ZXVlfTtnb29nLmV4cG9ydFByb3BlcnR5KCRqc2NvbXAkc2NvcGUkbTY1MDU0OTM2NSQzJFNldHRpbmdzLnByb3RvdHlwZSwiZ2V0VXNlVGVybWluYXRpbmdEcmF3UXVldWUiLCRqc2NvbXAkc2NvcGUkbTY1MDU0OTM2NSQzJFNldHRpbmdzLnByb3RvdHlwZS5nZXRVc2VUZXJtaW5hdGluZ0RyYXdRdWV1ZSk7YXdlc29tZWNoYXJ0cy5jb25maWcuc2V0dGluZ3M9bmV3ICRqc2NvbXAkc2NvcGUkbTY1MDU0OTM2NSQzJFNldHRpbmdzO2dvb2cuZXhwb3J0U3ltYm9sKCJhd2Vzb21lY2hhcnRzLmNvbmZpZy5zZXR0aW5ncyIsYXdlc29tZWNoYXJ0cy5jb25maWcuc2V0dGluZ3MpO2F3ZXNvbWVjaGFydHMuY29uc3RhbnRzPXt9O2F3ZXNvbWVjaGFydHMuY29uc3RhbnRzLkRFRkFVTFRfQ0FDSEVfSU5WQUxJREFURV9JTlRFUlZBTD0zMDA7YXdlc29tZWNoYXJ0cy5jb25zdGFudHMuUkVRVUVTVEVEX0VWRU5UU19NQVg9MUU0O2F3ZXNvbWVjaGFydHMuY29uc3RhbnRzLkpTT05fUFJPVEVDVElPTl9QUkVGSVg9L15cKVxdXH0nLD9cbi87YXdlc29tZWNoYXJ0cy5jb25zdGFudHMuTUVUUklDX0tJTkQ9e1VOU1BFQ0lGSUVEOiJVTlNQRUNJRklFRCIsR0FVR0U6IkdBVUdFIixERUxUQToiREVMVEEiLENVTVVMQVRJVkU6IkNVTVVMQVRJVkUifTthd2Vzb21lY2hhcnRzLmNvbnN0YW50cy5NRVRSSUNfVkFMVUVfVFlQRT17TlVNRVJJQzoiTlVNRVJJQyIsRElTVFJJQlVUSU9OOiJESVNUUklCVVRJT04iLFVOU1BFQ0lGSUVEOiJVTlNQRUNJRklFRCJ9O2F3ZXNvbWVjaGFydHMuY29uc3RhbnRzLlRJTUVfU0hJRlRfREFTSF9QQVRURVJOPVs0LDJdOwphd2Vzb21lY2hhcnRzLmNvbnN0YW50cy5CQU5EX0xJTkVfREFTSF9QQVRURVJOPVs1LDVdO2F3ZXNvbWVjaGFydHMuY29uc3RhbnRzLkJSVVNIX0RBU0hfUEFUVEVSTj1bNCw0XTthd2Vzb21lY2hhcnRzLmNvbnN0YW50cy5USU1FX1BJTl9MT0NLRURfQ09MT1I9IiMzNDY4ZDYiO2F3ZXNvbWVjaGFydHMuY29uc3RhbnRzLlRJTUVfUElOX1VOTE9DS0VEX0NPTE9SPSIjYmRiZGJkIjthd2Vzb21lY2hhcnRzLmNvbnN0YW50cy5OQU1FX0ZST01fSURfTEFCRUw9Ik5hbWUgKGZyb20gaW5zdGFuY2VfaWQpIjthd2Vzb21lY2hhcnRzLnV0aWxzPXt9O2F3ZXNvbWVjaGFydHMudXRpbHMuYXJyYXlzPXt9O2F3ZXNvbWVjaGFydHMudXRpbHMuYXJyYXlzLm1hcD1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIEFycmF5LmlzQXJyYXkoYSk/dm9pZCAwIT09Yz9hLm1hcChiLGMpOmEubWFwKGIpOltdfTsKYXdlc29tZWNoYXJ0cy51dGlscy5hcnJheXMuc29ydGVkSW5kZXg9ZnVuY3Rpb24oYSxiLGMpe2lmKCFBcnJheS5pc0FycmF5KGEpfHwwPT09YS5sZW5ndGgpcmV0dXJuIDA7dmFyIGQ9ZnVuY3Rpb24obCl7cmV0dXJuIGx9O2lmKHZvaWQgMCE9PWMpaWYoInN0cmluZyI9PT10eXBlb2YgYylkPWZ1bmN0aW9uKGwpe3JldHVybiBsW2NdfTtlbHNlIGlmKCJmdW5jdGlvbiI9PT10eXBlb2YgYyl7dmFyIGU9YztkPWZ1bmN0aW9uKGwpe3JldHVybiBlKGwpfX1iPWQoYik7Zm9yKHZhciBmPWEubGVuZ3RoLGc9Zi0xLGs9MCxoOzspe2g9ZChhW2tdKTtpZihiPD1oKXtpZigwPT09aylyZXR1cm4gMDtrLT1nfWVsc2UgaWYoYj5oKXtpZihrPT09Zi0xKXJldHVybiBmO2srPWd9Zz1NYXRoLmZsb29yKGcvMik7aWYoMD09PWcpe2Zvcig7MDxrLTEmJmQoYVtrXSk+PWI7KS0taztmb3IoO2s8ZiYmZChhW2tdKTxiOylrKz0xO3JldHVybiBrfX19Owphd2Vzb21lY2hhcnRzLnV0aWxzLmFycmF5cy5maWx0ZXI9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBBcnJheS5pc0FycmF5KGEpP3ZvaWQgMCE9PWM/YS5maWx0ZXIoYixjKTphLmZpbHRlcihiKTpbXX07YXdlc29tZWNoYXJ0cy51dGlscy5hcnJheXMuZmluZEluZGV4PWZ1bmN0aW9uKGEsYil7aWYoIUFycmF5LmlzQXJyYXkoYSkpcmV0dXJuLTE7dmFyIGM9ImZ1bmN0aW9uIj09PXR5cGVvZiBiP2I6ZnVuY3Rpb24oZil7cmV0dXJuIGY9PWJ9O3ZhciBkO2ZvcihkPTA7ZDxhLmxlbmd0aDsrK2Qpe3ZhciBlPWFbZF07aWYoYyhlKSlyZXR1cm4gZH1yZXR1cm4tMX07CmF3ZXNvbWVjaGFydHMudXRpbHMuYXJyYXlzLmludGVyc2VjdGlvbj1mdW5jdGlvbihhLGIpe2lmKCFBcnJheS5pc0FycmF5KGEpfHwhQXJyYXkuaXNBcnJheShiKXx8MD09PWEubGVuZ3RofHwwPT09Yi5sZW5ndGgpcmV0dXJuW107dmFyIGM9W10sZD17fSxlO2ZvcihlPTA7ZTxhLmxlbmd0aDsrK2Upe3ZhciBmPWJbZV07ZFtmXT0hMH1mb3IoZT0wO2U8YS5sZW5ndGg7KytlKWY9YVtlXSwoYj1kW2ZdKSYmYy5wdXNoKGYpO3JldHVybiBjfTsKYXdlc29tZWNoYXJ0cy51dGlscy5hcnJheXMuZGlmZmVyZW5jZT1mdW5jdGlvbihhLGIpe2lmKCFBcnJheS5pc0FycmF5KGIpfHwwPT09Yi5sZW5ndGgpcmV0dXJuIEFycmF5LmlzQXJyYXkoYSk/YS5jb25jYXQoKTpbXTtpZighQXJyYXkuaXNBcnJheShhKXx8MD09PWEubGVuZ3RoKXJldHVybltdO3ZhciBjPXt9LGQ9W10sZTtmb3IoZT0wO2U8Yi5sZW5ndGg7ZSsrKXt2YXIgZj1iW2VdO2NbZl09ITB9Zm9yKGU9MDtlPGEubGVuZ3RoOysrZSlmPWFbZV0sKGI9Y1tmXSl8fGQucHVzaChmKTtyZXR1cm4gZH07YXdlc29tZWNoYXJ0cy51dGlscy5hcnJheXMudW5pcXVlU29ydGVkPWZ1bmN0aW9uKGEsYil7aWYoIUFycmF5LmlzQXJyYXkoYSl8fDA9PT1hLmxlbmd0aClyZXR1cm5bXTtiPWJ8fGZ1bmN0aW9uKGMsZCl7cmV0dXJuIGM9PWR9O3JldHVybiBhLnJlZHVjZShmdW5jdGlvbihjLGQsZSl7MCE9PWUmJmIoY1tjLmxlbmd0aC0xXSxkKXx8Yy5wdXNoKGQpO3JldHVybiBjfSxbXSl9Owphd2Vzb21lY2hhcnRzLnV0aWxzLmFycmF5cy5taW49ZnVuY3Rpb24oYSxiKXtpZighQXJyYXkuaXNBcnJheShhKXx8MD09PWEubGVuZ3RoKXJldHVybiBJbmZpbml0eTt2YXIgYz1iP2Z1bmN0aW9uKGQsZSl7dmFyIGY9dm9pZCAwPT1kfHxudWxsPT09ZFtiXXx8aXNOYU4oZFtiXSk/SW5maW5pdHk6ZFtiXTt2YXIgZz12b2lkIDA9PWV8fG51bGw9PT1lW2JdfHxpc05hTihlW2JdKT9JbmZpbml0eTplW2JdO3JldHVybiBnPGY/ZTpkfTpmdW5jdGlvbihkLGUpe2lmKG51bGw9PT1kfHxpc05hTihkKSlkPUluZmluaXR5O2lmKG51bGw9PT1lfHxpc05hTihlKSllPUluZmluaXR5O3JldHVybiBNYXRoLm1pbihkLGUpfTtyZXR1cm4gYS5yZWR1Y2UoYyxJbmZpbml0eSl9Owphd2Vzb21lY2hhcnRzLnV0aWxzLmFycmF5cy5tYXg9ZnVuY3Rpb24oYSxiKXtpZighQXJyYXkuaXNBcnJheShhKXx8MD09PWEubGVuZ3RoKXJldHVybi1JbmZpbml0eTt2YXIgYz1iP2Z1bmN0aW9uKGQsZSl7dmFyIGY9dm9pZCAwPT1kfHxudWxsPT09ZFtiXXx8aXNOYU4oZFtiXSk/LUluZmluaXR5OmRbYl07dmFyIGc9dm9pZCAwPT1lfHxudWxsPT09ZVtiXXx8aXNOYU4oZVtiXSk/LUluZmluaXR5OmVbYl07cmV0dXJuIGc+Zj9lOmR9OmZ1bmN0aW9uKGQsZSl7aWYobnVsbD09PWR8fGlzTmFOKGQpKWQ9LUluZmluaXR5O2lmKG51bGw9PT1lfHxpc05hTihlKSllPS1JbmZpbml0eTtyZXR1cm4gTWF0aC5tYXgoZCxlKX07cmV0dXJuIGEucmVkdWNlKGMsLUluZmluaXR5KX07CmF3ZXNvbWVjaGFydHMudXRpbHMuYXJyYXlzLnJlZHVjZT1mdW5jdGlvbihhLGIsYyl7aWYoQXJyYXkuaXNBcnJheShhKSYmKDAhPT1hLmxlbmd0aHx8dm9pZCAwIT09YykpcmV0dXJuIDE9PT1hLmxlbmd0aCYmdm9pZCAwPT09Yz9hWzBdOnZvaWQgMCE9PWM/YS5yZWR1Y2UoYixjKTphLnJlZHVjZShiKX07YXdlc29tZWNoYXJ0cy51dGlscy5hcnJheXMuZmxhdHRlbj1mdW5jdGlvbihhKXtpZighQXJyYXkuaXNBcnJheShhKSlyZXR1cm4gbnVsbDt2YXIgYj1bXSxjO2ZvcihjPTA7YzxhLmxlbmd0aDsrK2Mpe3ZhciBkPWFbY107QXJyYXkuaXNBcnJheShkKT9iPWIuY29uY2F0KGQpOmIucHVzaChkKX1yZXR1cm4gYn07YXdlc29tZWNoYXJ0cy51dGlscy5hcnJheXMuZmluZExhc3RJbmRleD1mdW5jdGlvbihhLGIpe2lmKCFBcnJheS5pc0FycmF5KGEpKXJldHVybi0xO3ZhciBjPWEubGVuZ3RoO2ZvcigtLWM7MDw9YzstLWMpaWYoYihhW2NdKSlyZXR1cm4gYztyZXR1cm4tMX07YXdlc29tZWNoYXJ0cy51dGlscy5jb2xsZWN0aW9ucz17fTthd2Vzb21lY2hhcnRzLnV0aWxzLmNvbGxlY3Rpb25zLmZvckVhY2g9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPS0xO2lmKCFhKXJldHVybiBhO2lmKEFycmF5LmlzQXJyYXkoYSkpZm9yKGM9YS5sZW5ndGg7KytkPGMmJiExIT09YihhW2RdLGQsYSk7KTtlbHNle3ZhciBlPU9iamVjdC5rZXlzKGEpO2ZvcihjPWUubGVuZ3RoOysrZDxjOyl7dmFyIGY9ZVtkXTtpZighMT09PWIoYVtmXSxmLGEpKWJyZWFrfX1yZXR1cm4gYX07YXdlc29tZWNoYXJ0cy51dGlscy5jb2xsZWN0aW9ucy5yZWR1Y2U9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWM7KDAsYXdlc29tZWNoYXJ0cy51dGlscy5jb2xsZWN0aW9ucy5mb3JFYWNoKShhLGZ1bmN0aW9uKGUsZixnKXtkPWIoZCxlLGYsZyl9KTtyZXR1cm4gZH07CmF3ZXNvbWVjaGFydHMudXRpbHMuY29sbGVjdGlvbnMuZXh0ZW5kPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTAsZD1hcmd1bWVudHMubGVuZ3RoOysrYzxkOykoMCxhd2Vzb21lY2hhcnRzLnV0aWxzLmNvbGxlY3Rpb25zLmZvckVhY2gpKGFyZ3VtZW50c1tjXSxmdW5jdGlvbihlLGYpe2FbZl09ZX0pO3JldHVybiBhfTthd2Vzb21lY2hhcnRzLnV0aWxzLmNvbGxlY3Rpb25zLmNsb25lPWZ1bmN0aW9uKGEpe3JldHVybiBhP0FycmF5LmlzQXJyYXkoYSk/YS5tYXAoZnVuY3Rpb24oYil7cmV0dXJuIGJ9KTooMCxhd2Vzb21lY2hhcnRzLnV0aWxzLmNvbGxlY3Rpb25zLmV4dGVuZCkoe30sYSk6YX07CnZhciAkanNjb21wJHNjb3BlJG0xMjY0NjEwMjM2JDAkcmVjdXJzaXZlQ2xvbmVfPWZ1bmN0aW9uKGEsYil7dmFyIGM7aWYoYSl7aWYoQXJyYXkuaXNBcnJheShhKSl7aWYoYS5fX2FjQ2xvbmVkUmVmKXJldHVybiBhLl9fYWNDbG9uZWRSZWY7dmFyIGQ9YS5fX2FjQ2xvbmVkUmVmPVtdO2IucHVzaChhKTtmb3IoYz0wO2M8YS5sZW5ndGg7KytjKWQucHVzaCgkanNjb21wJHNjb3BlJG0xMjY0NjEwMjM2JDAkcmVjdXJzaXZlQ2xvbmVfKGFbY10sYikpO3JldHVybiBkfWlmKCJvYmplY3QiPT09dHlwZW9mIGEpe2lmKGEuX19hY0Nsb25lZFJlZilyZXR1cm4gYS5fX2FjQ2xvbmVkUmVmO2IucHVzaChhKTthIGluc3RhbmNlb2YgTnVtYmVyP2Q9YS5fX2FjQ2xvbmVkUmVmPW5ldyBOdW1iZXIoYSk6YSBpbnN0YW5jZW9mIFN0cmluZz9kPWEuX19hY0Nsb25lZFJlZj1uZXcgU3RyaW5nKGEpOmEgaW5zdGFuY2VvZiBCb29sZWFuP2Q9YS5fX2FjQ2xvbmVkUmVmPW5ldyBCb29sZWFuKGEpOmEgaW5zdGFuY2VvZgpEYXRlP2Q9YS5fX2FjQ2xvbmVkUmVmPW5ldyBEYXRlKGEpOihkPWEuX19hY0Nsb25lZFJlZj17fSwoMCxhd2Vzb21lY2hhcnRzLnV0aWxzLmNvbGxlY3Rpb25zLmZvckVhY2gpKGEsZnVuY3Rpb24oZSxmKXtlIT09YS5fX2FjQ2xvbmVkUmVmJiYoZFtmXT0kanNjb21wJHNjb3BlJG0xMjY0NjEwMjM2JDAkcmVjdXJzaXZlQ2xvbmVfKGUsYikpfSkpO3JldHVybiBkfX1yZXR1cm4gYX07YXdlc29tZWNoYXJ0cy51dGlscy5jb2xsZWN0aW9ucy5jbG9uZURlZXA9ZnVuY3Rpb24oYSl7dmFyIGI9W107YT0kanNjb21wJHNjb3BlJG0xMjY0NjEwMjM2JDAkcmVjdXJzaXZlQ2xvbmVfKGEsYik7dmFyIGM7Zm9yKGM9MDtjPGIubGVuZ3RoOysrYyl7dmFyIGQ9YltjXTtkZWxldGUgZC5fX2FjQ2xvbmVkUmVmfXJldHVybiBhfTsKYXdlc29tZWNoYXJ0cy51dGlscy5jb2xsZWN0aW9ucy5lcXVhbHM9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMgaW4gYSlpZighKGMgaW4gYil8fGFbY10hPT1iW2NdKXJldHVybiExO2Zvcih2YXIgZCBpbiBiKWlmKCEoZCBpbiBhKSlyZXR1cm4hMTtyZXR1cm4hMH07YXdlc29tZWNoYXJ0cy51dGlscy5lcnJvcnM9e307dmFyICRqc2NvbXAkc2NvcGUkNTYxMzk0MDI2JDAkZXJyb3JDbGFzc2VzPXt9O2F3ZXNvbWVjaGFydHMudXRpbHMuZXJyb3JzLkFDRXJyb3I9ZnVuY3Rpb24oYSl7dGhpcy5uYW1lPXRoaXMubmFtZXx8IkFDRXJyb3IiO3RoaXMuY29kZT10aGlzLmNvZGV8fDUwMDt0aGlzLm1lc3NhZ2U9dGhpcy5tZXNzYWdlfHxhfHwiQW4gdW5rbm93biBlcnJvciBvY2N1cnJlZCI7dGhpcy5kZXRhaWxzPXt9fTtnb29nLmV4cG9ydFN5bWJvbCgiYXdlc29tZWNoYXJ0cy51dGlscy5lcnJvcnMuQUNFcnJvciIsYXdlc29tZWNoYXJ0cy51dGlscy5lcnJvcnMuQUNFcnJvcik7JGpzY29tcCRzY29wZSQ1NjEzOTQwMjYkMCRlcnJvckNsYXNzZXMuQUNFcnJvcj1hd2Vzb21lY2hhcnRzLnV0aWxzLmVycm9ycy5BQ0Vycm9yO2dvb2cuaW5oZXJpdHMoYXdlc29tZWNoYXJ0cy51dGlscy5lcnJvcnMuQUNFcnJvcixFcnJvcik7CmF3ZXNvbWVjaGFydHMudXRpbHMuZXJyb3JzLlJlcXVlc3RBYm9ydGVkRXJyb3I9ZnVuY3Rpb24oYSl7dGhpcy5uYW1lPSJSZXF1ZXN0QWJvcnRlZEVycm9yIjt0aGlzLm1lc3NhZ2U9YXx8IiI7dGhpcy5jb2RlPTQ5OTthd2Vzb21lY2hhcnRzLnV0aWxzLmVycm9ycy5BQ0Vycm9yLmNhbGwodGhpcyl9OyRqc2NvbXAkc2NvcGUkNTYxMzk0MDI2JDAkZXJyb3JDbGFzc2VzLlJlcXVlc3RBYm9ydGVkRXJyb3I9YXdlc29tZWNoYXJ0cy51dGlscy5lcnJvcnMuUmVxdWVzdEFib3J0ZWRFcnJvcjtnb29nLmluaGVyaXRzKGF3ZXNvbWVjaGFydHMudXRpbHMuZXJyb3JzLlJlcXVlc3RBYm9ydGVkRXJyb3IsYXdlc29tZWNoYXJ0cy51dGlscy5lcnJvcnMuQUNFcnJvcik7CmF3ZXNvbWVjaGFydHMudXRpbHMuZXJyb3JzLlNlcnZpY2VVbmF2YWlsYWJsZUVycm9yPWZ1bmN0aW9uKGEpe3RoaXMubmFtZT0iU2VydmljZVVuYXZhaWxhYmxlRXJyb3IiO3RoaXMubWVzc2FnZT1hfHwiIjt0aGlzLmNvZGU9NTAzO2F3ZXNvbWVjaGFydHMudXRpbHMuZXJyb3JzLkFDRXJyb3IuY2FsbCh0aGlzKX07JGpzY29tcCRzY29wZSQ1NjEzOTQwMjYkMCRlcnJvckNsYXNzZXMuU2VydmljZVVuYXZhaWxhYmxlRXJyb3I9YXdlc29tZWNoYXJ0cy51dGlscy5lcnJvcnMuU2VydmljZVVuYXZhaWxhYmxlRXJyb3I7Z29vZy5pbmhlcml0cyhhd2Vzb21lY2hhcnRzLnV0aWxzLmVycm9ycy5TZXJ2aWNlVW5hdmFpbGFibGVFcnJvcixhd2Vzb21lY2hhcnRzLnV0aWxzLmVycm9ycy5BQ0Vycm9yKTsKYXdlc29tZWNoYXJ0cy51dGlscy5lcnJvcnMuVG9vTWFueVJlcXVlc3RzRXJyb3I9ZnVuY3Rpb24oYSl7dGhpcy5uYW1lPSJUb29NYW55UmVxdWVzdHNFcnJvciI7dGhpcy5tZXNzYWdlPWF8fCIiO3RoaXMuY29kZT00Mjk7YXdlc29tZWNoYXJ0cy51dGlscy5lcnJvcnMuQUNFcnJvci5jYWxsKHRoaXMpfTskanNjb21wJHNjb3BlJDU2MTM5NDAyNiQwJGVycm9yQ2xhc3Nlcy5Ub29NYW55UmVxdWVzdHNFcnJvcj1hd2Vzb21lY2hhcnRzLnV0aWxzLmVycm9ycy5Ub29NYW55UmVxdWVzdHNFcnJvcjtnb29nLmluaGVyaXRzKGF3ZXNvbWVjaGFydHMudXRpbHMuZXJyb3JzLlRvb01hbnlSZXF1ZXN0c0Vycm9yLGF3ZXNvbWVjaGFydHMudXRpbHMuZXJyb3JzLkFDRXJyb3IpOwphd2Vzb21lY2hhcnRzLnV0aWxzLmVycm9ycy5Db250ZW50VHlwZUVycm9yPWZ1bmN0aW9uKGEsYil7dGhpcy5jb2RlPTQxNTt0aGlzLm5hbWU9IkNvbnRlbnRUeXBlRXJyb3IiO3RoaXMubWVzc2FnZT1hfHx0aGlzLm5hbWUrIiBmb3IgcGF0aCAiK2I7YXdlc29tZWNoYXJ0cy51dGlscy5lcnJvcnMuQUNFcnJvci5jYWxsKHRoaXMpfTtnb29nLmV4cG9ydFN5bWJvbCgiYXdlc29tZWNoYXJ0cy51dGlscy5lcnJvcnMuQ29udGVudFR5cGVFcnJvciIsYXdlc29tZWNoYXJ0cy51dGlscy5lcnJvcnMuQ29udGVudFR5cGVFcnJvcik7JGpzY29tcCRzY29wZSQ1NjEzOTQwMjYkMCRlcnJvckNsYXNzZXMuQ29udGVudFR5cGVFcnJvcj1hd2Vzb21lY2hhcnRzLnV0aWxzLmVycm9ycy5Db250ZW50VHlwZUVycm9yO2dvb2cuaW5oZXJpdHMoYXdlc29tZWNoYXJ0cy51dGlscy5lcnJvcnMuQ29udGVudFR5cGVFcnJvcixhd2Vzb21lY2hhcnRzLnV0aWxzLmVycm9ycy5BQ0Vycm9yKTsKYXdlc29tZWNoYXJ0cy51dGlscy5lcnJvcnMuTm9EYXRhRXJyb3I9ZnVuY3Rpb24oYSl7dGhpcy5jb2RlPTIwMDt0aGlzLm5hbWU9Ik5vRGF0YUVycm9yIjt0aGlzLm1lc3NhZ2U9YXx8IlF1ZXJ5IHJlc3BvbnNlIGRpZCBub3QgY29udGFpbiBhbnkgZGF0YS4iO2F3ZXNvbWVjaGFydHMudXRpbHMuZXJyb3JzLkFDRXJyb3IuY2FsbCh0aGlzKX07Z29vZy5leHBvcnRTeW1ib2woImF3ZXNvbWVjaGFydHMudXRpbHMuZXJyb3JzLk5vRGF0YUVycm9yIixhd2Vzb21lY2hhcnRzLnV0aWxzLmVycm9ycy5Ob0RhdGFFcnJvcik7JGpzY29tcCRzY29wZSQ1NjEzOTQwMjYkMCRlcnJvckNsYXNzZXMuTm9EYXRhRXJyb3I9YXdlc29tZWNoYXJ0cy51dGlscy5lcnJvcnMuTm9EYXRhRXJyb3I7Z29vZy5pbmhlcml0cyhhd2Vzb21lY2hhcnRzLnV0aWxzLmVycm9ycy5Ob0RhdGFFcnJvcixhd2Vzb21lY2hhcnRzLnV0aWxzLmVycm9ycy5BQ0Vycm9yKTsKYXdlc29tZWNoYXJ0cy51dGlscy5lcnJvcnMuVW5hdXRob3JpemVkRXJyb3I9ZnVuY3Rpb24oYSxiKXt0aGlzLnN0YXR1cz1iO3RoaXMuY29kZT00MDM7dGhpcy5uYW1lPSJVbmF1dGhvcml6ZWRFcnJvciI7dGhpcy5tZXNzYWdlPWF8fCJZb3UgZG8gbm90IGhhdmUgcGVybWlzc2lvbnMgZm9yIHRoaXMgcmVxdWVzdC4iO2F3ZXNvbWVjaGFydHMudXRpbHMuZXJyb3JzLkFDRXJyb3IuY2FsbCh0aGlzKX07Z29vZy5leHBvcnRTeW1ib2woImF3ZXNvbWVjaGFydHMudXRpbHMuZXJyb3JzLlVuYXV0aG9yaXplZEVycm9yIixhd2Vzb21lY2hhcnRzLnV0aWxzLmVycm9ycy5VbmF1dGhvcml6ZWRFcnJvcik7JGpzY29tcCRzY29wZSQ1NjEzOTQwMjYkMCRlcnJvckNsYXNzZXMuVW5hdXRob3JpemVkRXJyb3I9YXdlc29tZWNoYXJ0cy51dGlscy5lcnJvcnMuVW5hdXRob3JpemVkRXJyb3I7Z29vZy5pbmhlcml0cyhhd2Vzb21lY2hhcnRzLnV0aWxzLmVycm9ycy5VbmF1dGhvcml6ZWRFcnJvcixhd2Vzb21lY2hhcnRzLnV0aWxzLmVycm9ycy5BQ0Vycm9yKTsKYXdlc29tZWNoYXJ0cy51dGlscy5lcnJvcnMuTm90Rm91bmRFcnJvcj1mdW5jdGlvbihhLGIpe3RoaXMuY29kZT00MDQ7dGhpcy5uYW1lPSJOb3RGb3VuZEVycm9yIjt0aGlzLm1lc3NhZ2U9YXx8Ik9uZSBvciBtb3JlIHJlc291cmNlcyBjb3VsZCBub3QgYmUgZm91bmQuIjt0aGlzLnN0YXR1cz1iO2F3ZXNvbWVjaGFydHMudXRpbHMuZXJyb3JzLkFDRXJyb3IuY2FsbCh0aGlzKX07Z29vZy5leHBvcnRTeW1ib2woImF3ZXNvbWVjaGFydHMudXRpbHMuZXJyb3JzLk5vdEZvdW5kRXJyb3IiLGF3ZXNvbWVjaGFydHMudXRpbHMuZXJyb3JzLk5vdEZvdW5kRXJyb3IpOyRqc2NvbXAkc2NvcGUkNTYxMzk0MDI2JDAkZXJyb3JDbGFzc2VzLk5vdEZvdW5kRXJyb3I9YXdlc29tZWNoYXJ0cy51dGlscy5lcnJvcnMuTm90Rm91bmRFcnJvcjtnb29nLmluaGVyaXRzKGF3ZXNvbWVjaGFydHMudXRpbHMuZXJyb3JzLk5vdEZvdW5kRXJyb3IsYXdlc29tZWNoYXJ0cy51dGlscy5lcnJvcnMuQUNFcnJvcik7CmF3ZXNvbWVjaGFydHMudXRpbHMuZXJyb3JzLkludmFsaWRSZXF1ZXN0RXJyb3I9ZnVuY3Rpb24oYSxiKXt0aGlzLnN0YXR1cz1ifHxudWxsO3RoaXMuY29kZT00MDA7dGhpcy5uYW1lPSJJbnZhbGlkUmVxdWVzdEVycm9yIjt0aGlzLm1lc3NhZ2U9YXx8IlJlcXVlc3Qgd2FzIGludmFsaWQuIjthd2Vzb21lY2hhcnRzLnV0aWxzLmVycm9ycy5BQ0Vycm9yLmNhbGwodGhpcyl9O2dvb2cuZXhwb3J0U3ltYm9sKCJhd2Vzb21lY2hhcnRzLnV0aWxzLmVycm9ycy5JbnZhbGlkUmVxdWVzdEVycm9yIixhd2Vzb21lY2hhcnRzLnV0aWxzLmVycm9ycy5JbnZhbGlkUmVxdWVzdEVycm9yKTskanNjb21wJHNjb3BlJDU2MTM5NDAyNiQwJGVycm9yQ2xhc3Nlcy5JbnZhbGlkUmVxdWVzdEVycm9yPWF3ZXNvbWVjaGFydHMudXRpbHMuZXJyb3JzLkludmFsaWRSZXF1ZXN0RXJyb3I7Z29vZy5pbmhlcml0cyhhd2Vzb21lY2hhcnRzLnV0aWxzLmVycm9ycy5JbnZhbGlkUmVxdWVzdEVycm9yLGF3ZXNvbWVjaGFydHMudXRpbHMuZXJyb3JzLkFDRXJyb3IpOwphd2Vzb21lY2hhcnRzLnV0aWxzLmVycm9ycy5UaW1lb3V0RXJyb3I9ZnVuY3Rpb24oYSl7dGhpcy5tZXNzYWdlPWF8fCJSZXF1ZXN0IHRpbWVkIG91dCI7dGhpcy5jb2RlPTUwNDt0aGlzLm5hbWU9IlRpbWVvdXRFcnJvciI7YXdlc29tZWNoYXJ0cy51dGlscy5lcnJvcnMuQUNFcnJvci5jYWxsKHRoaXMpfTtnb29nLmV4cG9ydFN5bWJvbCgiYXdlc29tZWNoYXJ0cy51dGlscy5lcnJvcnMuVGltZW91dEVycm9yIixhd2Vzb21lY2hhcnRzLnV0aWxzLmVycm9ycy5UaW1lb3V0RXJyb3IpOyRqc2NvbXAkc2NvcGUkNTYxMzk0MDI2JDAkZXJyb3JDbGFzc2VzLlRpbWVvdXRFcnJvcj1hd2Vzb21lY2hhcnRzLnV0aWxzLmVycm9ycy5UaW1lb3V0RXJyb3I7Z29vZy5pbmhlcml0cyhhd2Vzb21lY2hhcnRzLnV0aWxzLmVycm9ycy5UaW1lb3V0RXJyb3IsYXdlc29tZWNoYXJ0cy51dGlscy5lcnJvcnMuQUNFcnJvcik7CmF3ZXNvbWVjaGFydHMudXRpbHMuZXJyb3JzLkZldGNoU3RyYXRlZ3lFcnJvcj1mdW5jdGlvbihhKXt0aGlzLmNvZGU9NDk5O3RoaXMubmFtZT0iRmV0Y2hTdHJhdGVneUVycm9yIjt0aGlzLm1lc3NhZ2U9YXx8IkVuY291bnRlcmVkIGVycm9yIGV4ZWN1dGluZyBmZXRjaCBzdHJhdGVneS4iO2F3ZXNvbWVjaGFydHMudXRpbHMuZXJyb3JzLkFDRXJyb3IuY2FsbCh0aGlzKX07Z29vZy5leHBvcnRTeW1ib2woImF3ZXNvbWVjaGFydHMudXRpbHMuZXJyb3JzLkZldGNoU3RyYXRlZ3lFcnJvciIsYXdlc29tZWNoYXJ0cy51dGlscy5lcnJvcnMuRmV0Y2hTdHJhdGVneUVycm9yKTskanNjb21wJHNjb3BlJDU2MTM5NDAyNiQwJGVycm9yQ2xhc3Nlcy5GZXRjaFN0cmF0ZWd5RXJyb3I9YXdlc29tZWNoYXJ0cy51dGlscy5lcnJvcnMuRmV0Y2hTdHJhdGVneUVycm9yO2dvb2cuaW5oZXJpdHMoYXdlc29tZWNoYXJ0cy51dGlscy5lcnJvcnMuRmV0Y2hTdHJhdGVneUVycm9yLGF3ZXNvbWVjaGFydHMudXRpbHMuZXJyb3JzLkFDRXJyb3IpOwphd2Vzb21lY2hhcnRzLnV0aWxzLmVycm9ycy5DdXN0b21FcnJvcj1mdW5jdGlvbihhKXt0aGlzLmNvZGU9LTE7dGhpcy5uYW1lPSJDdXN0b21FcnJvciI7dGhpcy5tZXNzYWdlPWF8fCJVbmtub3duIGVycm9yLiI7YXdlc29tZWNoYXJ0cy51dGlscy5lcnJvcnMuQUNFcnJvci5jYWxsKHRoaXMpfTtnb29nLmV4cG9ydFN5bWJvbCgiYXdlc29tZWNoYXJ0cy51dGlscy5lcnJvcnMuQ3VzdG9tRXJyb3IiLGF3ZXNvbWVjaGFydHMudXRpbHMuZXJyb3JzLkN1c3RvbUVycm9yKTskanNjb21wJHNjb3BlJDU2MTM5NDAyNiQwJGVycm9yQ2xhc3Nlcy5DdXN0b21FcnJvcj1hd2Vzb21lY2hhcnRzLnV0aWxzLmVycm9ycy5DdXN0b21FcnJvcjtnb29nLmluaGVyaXRzKGF3ZXNvbWVjaGFydHMudXRpbHMuZXJyb3JzLkN1c3RvbUVycm9yLGF3ZXNvbWVjaGFydHMudXRpbHMuZXJyb3JzLkFDRXJyb3IpO3ZhciAkanNjb21wJHNjb3BlJDU2MTM5NDAyNiQxJGVycm9yQ29kZU1hcHBpbmc9e307CmF3ZXNvbWVjaGFydHMudXRpbHMuY29sbGVjdGlvbnMuZm9yRWFjaCgkanNjb21wJHNjb3BlJDU2MTM5NDAyNiQwJGVycm9yQ2xhc3NlcyxmdW5jdGlvbihhKXt2YXIgYj1uZXcgYTsoYj1iLmNvZGUpJiYoJGpzY29tcCRzY29wZSQ1NjEzOTQwMjYkMSRlcnJvckNvZGVNYXBwaW5nW2JdPWEpfSk7YXdlc29tZWNoYXJ0cy51dGlscy5lcnJvcnMubWFrZUFDRXJyb3I9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPSRqc2NvbXAkc2NvcGUkNTYxMzk0MDI2JDEkZXJyb3JDb2RlTWFwcGluZ1thXTtpZihkKXJldHVybiBuZXcgZChiLGMpO2I9bmV3IGF3ZXNvbWVjaGFydHMudXRpbHMuZXJyb3JzLkFDRXJyb3IoYik7Yi5jb2RlPWE7cmV0dXJuIGJ9O3ZhciAkanNjb21wJHNjb3BlJDU2MTM5NDAyNiQyJFZhbGlkYXRpb25FcnJvcj1mdW5jdGlvbihhKXthPUVycm9yLmNhbGwodGhpcyxhKTt0aGlzLm1lc3NhZ2U9YS5tZXNzYWdlOyJzdGFjayJpbiBhJiYodGhpcy5zdGFjaz1hLnN0YWNrKX07CiRqc2NvbXAuaW5oZXJpdHMoJGpzY29tcCRzY29wZSQ1NjEzOTQwMjYkMiRWYWxpZGF0aW9uRXJyb3IsRXJyb3IpO2F3ZXNvbWVjaGFydHMudXRpbHMuZXJyb3JzLlZhbGlkYXRpb25FcnJvcj0kanNjb21wJHNjb3BlJDU2MTM5NDAyNiQyJFZhbGlkYXRpb25FcnJvcjtnb29nLmV4cG9ydFN5bWJvbCgiYXdlc29tZWNoYXJ0cy51dGlscy5lcnJvcnMuVmFsaWRhdGlvbkVycm9yIixhd2Vzb21lY2hhcnRzLnV0aWxzLmVycm9ycy5WYWxpZGF0aW9uRXJyb3IpO2F3ZXNvbWVjaGFydHMudXRpbHMuc3RyaW5ncz17fTthd2Vzb21lY2hhcnRzLnV0aWxzLnN0cmluZ3MuaXNFbXB0eU9yV2hpdGVzcGFjZT1mdW5jdGlvbihhKXtyZXR1cm4vXlxzKiQvLnRlc3QoYSl9O2F3ZXNvbWVjaGFydHMuaW50ZXJmYWNlcy5MYWJlbEZvcm1hdHRlckludGVyZmFjZT1mdW5jdGlvbigpe307Z29vZy5leHBvcnRTeW1ib2woImF3ZXNvbWVjaGFydHMuaW50ZXJmYWNlcy5MYWJlbEZvcm1hdHRlckludGVyZmFjZSIsYXdlc29tZWNoYXJ0cy5pbnRlcmZhY2VzLkxhYmVsRm9ybWF0dGVySW50ZXJmYWNlKTthd2Vzb21lY2hhcnRzLmludGVyZmFjZXMuTGFiZWxGb3JtYXR0ZXJJbnRlcmZhY2UucHJvdG90eXBlLmZvcm1hdD1mdW5jdGlvbigpe307dmFyIG1vZHVsZSRleHBvcnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkVG9rZW5pemVyPXtRVU9URV9SRTovKFsiJ10pKD86KD89KFxcPykpXDIuKSo/XDEvfSxtb2R1bGUkY29udGVudHMkYXdlc29tZWNoYXJ0cyR1dGlscyRUb2tlbml6ZXJfU1VCU1RfUkU9L1wkXHtccypcd1teXChcfV0qPyg/OlwoXCkpP1xzKn0vLG1vZHVsZSRjb250ZW50cyRhd2Vzb21lY2hhcnRzJHV0aWxzJFRva2VuaXplcl9GVU5DVElPTl9SRT0vXlx3W1x3XC5dKj8oPzpcKFwpKSQvLG1vZHVsZSRjb250ZW50cyRhd2Vzb21lY2hhcnRzJHV0aWxzJFRva2VuaXplcl9JREVOVElGSUVSX1BBUlRTX01BVENIPS8oW15cXFxdW15cLl18XFxcLikrL2csbW9kdWxlJGNvbnRlbnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkVG9rZW5pemVyX0VTQ0FQRURfUEFUVEVSTl9JTl9ET1VCTEVfUVVPVEVEX1NUUklORz0vXFwoW1xcIl0pL2csbW9kdWxlJGNvbnRlbnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkVG9rZW5pemVyX0VTQ0FQRURfUEFUVEVSTl9JTl9TSU5HTEVfUVVPVEVEX1NUUklORz0KL1xcKFtcXCddKS9nO21vZHVsZSRleHBvcnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkVG9rZW5pemVyLlRva2VuPWZ1bmN0aW9uKCl7fTttb2R1bGUkZXhwb3J0cyRhd2Vzb21lY2hhcnRzJHV0aWxzJFRva2VuaXplci5RdW90ZWRTdHJpbmdUb2tlbj1mdW5jdGlvbihhKXt0aGlzLnF1b3RlVHlwZV89YVswXTt0aGlzLnF1b3RlZFZhbHVlXz1hO3ZhciBiPSciJz09PXRoaXMucXVvdGVUeXBlXz9tb2R1bGUkY29udGVudHMkYXdlc29tZWNoYXJ0cyR1dGlscyRUb2tlbml6ZXJfRVNDQVBFRF9QQVRURVJOX0lOX0RPVUJMRV9RVU9URURfU1RSSU5HOm1vZHVsZSRjb250ZW50cyRhd2Vzb21lY2hhcnRzJHV0aWxzJFRva2VuaXplcl9FU0NBUEVEX1BBVFRFUk5fSU5fU0lOR0xFX1FVT1RFRF9TVFJJTkc7dGhpcy51bnF1b3RlZFZhbHVlXz1hLnNsaWNlKDEsYS5sZW5ndGgtMSkucmVwbGFjZShiLCIkMSIpfTsKJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRhd2Vzb21lY2hhcnRzJHV0aWxzJFRva2VuaXplci5RdW90ZWRTdHJpbmdUb2tlbixtb2R1bGUkZXhwb3J0cyRhd2Vzb21lY2hhcnRzJHV0aWxzJFRva2VuaXplci5Ub2tlbik7bW9kdWxlJGV4cG9ydHMkYXdlc29tZWNoYXJ0cyR1dGlscyRUb2tlbml6ZXIuUXVvdGVkU3RyaW5nVG9rZW4ucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucXVvdGVkVmFsdWVffTttb2R1bGUkZXhwb3J0cyRhd2Vzb21lY2hhcnRzJHV0aWxzJFRva2VuaXplci5RdW90ZWRTdHJpbmdUb2tlbi5wcm90b3R5cGUudmFsdWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51bnF1b3RlZFZhbHVlX307Cm1vZHVsZSRleHBvcnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkVG9rZW5pemVyLlN1YnN0aXR1dGlvblRva2VuPWZ1bmN0aW9uKGEpe3RoaXMuaWRlbnRpZmllcl89YS5zbGljZSgyLGEubGVuZ3RoLTEpLnRyaW0oKTtpZih0aGlzLmlzRnVuY3Rpb25fPSEhdGhpcy5pZGVudGlmaWVyXy5tYXRjaChtb2R1bGUkY29udGVudHMkYXdlc29tZWNoYXJ0cyR1dGlscyRUb2tlbml6ZXJfRlVOQ1RJT05fUkUpKXRoaXMuaWRlbnRpZmllcl89dGhpcy5pZGVudGlmaWVyXy5zbGljZSgwLC0yKTsoYT10aGlzLmlkZW50aWZpZXJfLmluZGV4T2YoIlxcLiIpKT8oYT10aGlzLmlkZW50aWZpZXJfLm1hdGNoKG1vZHVsZSRjb250ZW50cyRhd2Vzb21lY2hhcnRzJHV0aWxzJFRva2VuaXplcl9JREVOVElGSUVSX1BBUlRTX01BVENIKSx0aGlzLmlkZW50aWZpZXJQYXJ0c189YS5tYXAoZnVuY3Rpb24oYil7cmV0dXJuIGIucmVwbGFjZSgvXFxcLi9nLCIuIil9KSk6dGhpcy5pZGVudGlmaWVyUGFydHNfPXRoaXMuaWRlbnRpZmllcl8uc3BsaXQoIi4iKX07CiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkYXdlc29tZWNoYXJ0cyR1dGlscyRUb2tlbml6ZXIuU3Vic3RpdHV0aW9uVG9rZW4sbW9kdWxlJGV4cG9ydHMkYXdlc29tZWNoYXJ0cyR1dGlscyRUb2tlbml6ZXIuVG9rZW4pO21vZHVsZSRleHBvcnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkVG9rZW5pemVyLlN1YnN0aXR1dGlvblRva2VuLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3ZhciBhPXRoaXMuaWRlbnRpZmllcl87dGhpcy5pc0Z1bmN0aW9uXyYmKGErPSIoKSIpO3JldHVybiBhfTttb2R1bGUkZXhwb3J0cyRhd2Vzb21lY2hhcnRzJHV0aWxzJFRva2VuaXplci5TdWJzdGl0dXRpb25Ub2tlbi5wcm90b3R5cGUudmFsdWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pZGVudGlmaWVyX307Cm1vZHVsZSRleHBvcnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkVG9rZW5pemVyLlN1YnN0aXR1dGlvblRva2VuLnByb3RvdHlwZS5zdWJzdFZhbHVlPWZ1bmN0aW9uKGEsYil7dmFyIGM9YTtpZihiJiZ0aGlzLmlzRnVuY3Rpb25fJiYxPT09dGhpcy5pZGVudGlmaWVyUGFydHNfLmxlbmd0aCl7dmFyIGQ9dGhpcy5pZGVudGlmaWVyUGFydHNfWzBdOyhjPWJbZF0pfHwoYz1hW2RdKX1lbHNlIGZvcihiPSRqc2NvbXAubWFrZUl0ZXJhdG9yKHRoaXMuaWRlbnRpZmllclBhcnRzXyksZD1iLm5leHQoKTshZC5kb25lJiYoZD1kLnZhbHVlLGM9Y1tkXSxjKTtkPWIubmV4dCgpKTtyZXR1cm4gdGhpcy5pc0Z1bmN0aW9uXz9jJiYiZnVuY3Rpb24iPT09dHlwZW9mIGM/YyhhKToiI0VSUiI6dm9pZCAwPT09Y3x8bnVsbD09PWM/bnVsbDpjfTttb2R1bGUkZXhwb3J0cyRhd2Vzb21lY2hhcnRzJHV0aWxzJFRva2VuaXplci5MYWJlbEZvcm1hdHRlcj1mdW5jdGlvbigpe307Cm1vZHVsZSRleHBvcnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkVG9rZW5pemVyLkxhYmVsRm9ybWF0dGVyLnByb3RvdHlwZS5mb3JtYXQ9ZnVuY3Rpb24oKXt9O21vZHVsZSRleHBvcnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkVG9rZW5pemVyLk11bHRpTGFiZWxGb3JtYXR0ZXI9ZnVuY3Rpb24oKXt9OyRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkYXdlc29tZWNoYXJ0cyR1dGlscyRUb2tlbml6ZXIuTXVsdGlMYWJlbEZvcm1hdHRlcixtb2R1bGUkZXhwb3J0cyRhd2Vzb21lY2hhcnRzJHV0aWxzJFRva2VuaXplci5MYWJlbEZvcm1hdHRlcik7bW9kdWxlJGV4cG9ydHMkYXdlc29tZWNoYXJ0cyR1dGlscyRUb2tlbml6ZXIuTXVsdGlMYWJlbEZvcm1hdHRlci5wcm90b3R5cGUuZm9ybWF0PWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9Owptb2R1bGUkZXhwb3J0cyRhd2Vzb21lY2hhcnRzJHV0aWxzJFRva2VuaXplci5MYWJlbFRva2VuaXplcj1mdW5jdGlvbihhKXt0aGlzLm9yaWdpbmFsU3RyaW5nXz1hO3RoaXMucGFyc2VkPXRoaXMucGFyc2VfKCl9OyRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkYXdlc29tZWNoYXJ0cyR1dGlscyRUb2tlbml6ZXIuTGFiZWxUb2tlbml6ZXIsbW9kdWxlJGV4cG9ydHMkYXdlc29tZWNoYXJ0cyR1dGlscyRUb2tlbml6ZXIuTGFiZWxGb3JtYXR0ZXIpOwptb2R1bGUkZXhwb3J0cyRhd2Vzb21lY2hhcnRzJHV0aWxzJFRva2VuaXplci5MYWJlbFRva2VuaXplci5wcm90b3R5cGUucGFyc2VTdHJpbmdfPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7YT10aGlzLnBhcnNlUXVvdGVkKGEpO2E9YS5tYXAoZnVuY3Rpb24oYyl7cmV0dXJuIGMgaW5zdGFuY2VvZiBtb2R1bGUkZXhwb3J0cyRhd2Vzb21lY2hhcnRzJHV0aWxzJFRva2VuaXplci5Ub2tlbj9jOmIucGFyc2VTdWJzdGl0dXRpb25zKGMpfSk7cmV0dXJuIGF3ZXNvbWVjaGFydHMudXRpbHMuYXJyYXlzLmZsYXR0ZW4oYSl9O21vZHVsZSRleHBvcnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkVG9rZW5pemVyLkxhYmVsVG9rZW5pemVyLnByb3RvdHlwZS5wYXJzZV89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJzZWQ/dGhpcy5wYXJzZWQ6dGhpcy5wYXJzZVN0cmluZ18odGhpcy5vcmlnaW5hbFN0cmluZyl9Owptb2R1bGUkZXhwb3J0cyRhd2Vzb21lY2hhcnRzJHV0aWxzJFRva2VuaXplci5MYWJlbFRva2VuaXplci5wcm90b3R5cGUucGFyc2VUb2tlbl89ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPVtdO2E9YS50b1N0cmluZygpO2E9YS5zdWJzdHJpbmcoMSxhLmxlbmd0aC0xKTthPW5ldyBSZWdFeHAoYSwiZyIpO3ZhciBlLGY9MDtmb3IoY3x8KGM9IiIpO251bGwhPT0oZT1hLmV4ZWMoYykpOylmIT09ZS5pbmRleCYmZC5wdXNoKGUuaW5wdXQuc2xpY2UoZixlLmluZGV4KSksZC5wdXNoKG5ldyBiKGVbMF0pKSxmPWEubGFzdEluZGV4O2YhPT1jLmxlbmd0aCYmZC5wdXNoKGMuc2xpY2UoZikpO3JldHVybiBkfTsKbW9kdWxlJGV4cG9ydHMkYXdlc29tZWNoYXJ0cyR1dGlscyRUb2tlbml6ZXIuTGFiZWxUb2tlbml6ZXIucHJvdG90eXBlLnBhcnNlUXVvdGVkPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnBhcnNlVG9rZW5fKG1vZHVsZSRleHBvcnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkVG9rZW5pemVyLlFVT1RFX1JFLG1vZHVsZSRleHBvcnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkVG9rZW5pemVyLlF1b3RlZFN0cmluZ1Rva2VuLGEpfTttb2R1bGUkZXhwb3J0cyRhd2Vzb21lY2hhcnRzJHV0aWxzJFRva2VuaXplci5MYWJlbFRva2VuaXplci5wcm90b3R5cGUucGFyc2VTdWJzdGl0dXRpb25zPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnBhcnNlVG9rZW5fKG1vZHVsZSRjb250ZW50cyRhd2Vzb21lY2hhcnRzJHV0aWxzJFRva2VuaXplcl9TVUJTVF9SRSxtb2R1bGUkZXhwb3J0cyRhd2Vzb21lY2hhcnRzJHV0aWxzJFRva2VuaXplci5TdWJzdGl0dXRpb25Ub2tlbixhKX07Cm1vZHVsZSRleHBvcnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkVG9rZW5pemVyLkxhYmVsVG9rZW5pemVyLnByb3RvdHlwZS5mb3JtYXQ9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9bnVsbCxkPW51bGwsZT1bXSxmPXRoaXMucGFyc2VkLm1hcChmdW5jdGlvbihoLGwpe2lmKGggaW5zdGFuY2VvZiBtb2R1bGUkZXhwb3J0cyRhd2Vzb21lY2hhcnRzJHV0aWxzJFRva2VuaXplci5RdW90ZWRTdHJpbmdUb2tlbil2YXIgbT1jIGluc3RhbmNlb2YgbW9kdWxlJGV4cG9ydHMkYXdlc29tZWNoYXJ0cyR1dGlscyRUb2tlbml6ZXIuU3Vic3RpdHV0aW9uVG9rZW4mJiIiPT09ZD8iIjpoLnZhbHVlKCk7ZWxzZSBpZihoIGluc3RhbmNlb2YgbW9kdWxlJGV4cG9ydHMkYXdlc29tZWNoYXJ0cyR1dGlscyRUb2tlbml6ZXIuU3Vic3RpdHV0aW9uVG9rZW4pe209aC5zdWJzdFZhbHVlKGEsYik7aWYodm9pZCAwPT09bXx8bnVsbD09PW0pbT0iIjtjIGluc3RhbmNlb2YgbW9kdWxlJGV4cG9ydHMkYXdlc29tZWNoYXJ0cyR1dGlscyRUb2tlbml6ZXIuUXVvdGVkU3RyaW5nVG9rZW4mJgoiIj09PW0mJihlLnB1c2gobC0xKSxtPSIiKX1lbHNlIG09aDtjPWg7cmV0dXJuIGQ9bX0pLGc9JGpzY29tcC5tYWtlSXRlcmF0b3IoZSksaz1nLm5leHQoKTshay5kb25lO2s9Zy5uZXh0KCkpaz1rLnZhbHVlLGZba109IiI7cmV0dXJuIGYuam9pbigiIil9OyRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkVG9rZW5pemVyLkxhYmVsVG9rZW5pemVyLnByb3RvdHlwZSx7b3JpZ2luYWxTdHJpbmc6e2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9yaWdpbmFsU3RyaW5nX319fSk7dmFyIG1vZHVsZSRleHBvcnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkR2NtVjNGaWx0ZXJUb2tlbml6ZXI9e30sbW9kdWxlJGNvbnRlbnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkR2NtVjNGaWx0ZXJUb2tlbml6ZXJfQ09NUEFSRV9PUFNfUkU9L1xzPzw9fD49fCE9fD18PHw+XHM/Lyxtb2R1bGUkY29udGVudHMkYXdlc29tZWNoYXJ0cyR1dGlscyRHY21WM0ZpbHRlclRva2VuaXplcl9MT0dJQ0FMX09QU19SRT0vXHNBTkRcc3xcc09SXHMvLG1vZHVsZSRjb250ZW50cyRhd2Vzb21lY2hhcnRzJHV0aWxzJEdjbVYzRmlsdGVyVG9rZW5pemVyX0FORF9GVUxMX01BVENIPS9eXHNBTkRccyQvLG1vZHVsZSRjb250ZW50cyRhd2Vzb21lY2hhcnRzJHV0aWxzJEdjbVYzRmlsdGVyVG9rZW5pemVyX0FORF9FTkRfTUFUQ0g9Lyhcc0FORFxzKSQvLG1vZHVsZSRjb250ZW50cyRhd2Vzb21lY2hhcnRzJHV0aWxzJEdjbVYzRmlsdGVyVG9rZW5pemVyX09SX0ZVTExfTUFUQ0g9L15cc09SXHMkLyxtb2R1bGUkY29udGVudHMkYXdlc29tZWNoYXJ0cyR1dGlscyRHY21WM0ZpbHRlclRva2VuaXplcl9PUl9FTkRfTUFUQ0g9Ci8oXHNPUlxzKSQvLG1vZHVsZSRjb250ZW50cyRhd2Vzb21lY2hhcnRzJHV0aWxzJEdjbVYzRmlsdGVyVG9rZW5pemVyX0xPR0lDQUxfT1BTX1NQTElUX1JFPS9eKC4qPykoXHNBTkRcc3xcc09SXHN8XHMpPyhcUyspJC8sbW9kdWxlJGNvbnRlbnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkR2NtVjNGaWx0ZXJUb2tlbml6ZXJfRlVOQ1RJT05fQ0FMTF9SRT0vXihcd1tcd1wuXSo/XCgpKC4qKShcKSkkLyxtb2R1bGUkY29udGVudHMkYXdlc29tZWNoYXJ0cyR1dGlscyRHY21WM0ZpbHRlclRva2VuaXplcl9UU1NfUkU9LyhzZWxlY3RfLio/KShcKC4rXCkrKS87bW9kdWxlJGV4cG9ydHMkYXdlc29tZWNoYXJ0cyR1dGlscyRHY21WM0ZpbHRlclRva2VuaXplci5TaW1wbGVGaWx0ZXJUb2tlbj1mdW5jdGlvbihhKXt0aGlzLnZhbHVlXz1hfTsKJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRhd2Vzb21lY2hhcnRzJHV0aWxzJEdjbVYzRmlsdGVyVG9rZW5pemVyLlNpbXBsZUZpbHRlclRva2VuLG1vZHVsZSRleHBvcnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkVG9rZW5pemVyLlRva2VuKTttb2R1bGUkZXhwb3J0cyRhd2Vzb21lY2hhcnRzJHV0aWxzJEdjbVYzRmlsdGVyVG9rZW5pemVyLlNpbXBsZUZpbHRlclRva2VuLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiBTdHJpbmcodGhpcy52YWx1ZV8pfTttb2R1bGUkZXhwb3J0cyRhd2Vzb21lY2hhcnRzJHV0aWxzJEdjbVYzRmlsdGVyVG9rZW5pemVyLlNpbXBsZUZpbHRlclRva2VuLnByb3RvdHlwZS52YWx1ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlX307Cm1vZHVsZSRleHBvcnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkR2NtVjNGaWx0ZXJUb2tlbml6ZXIuU2ltcGxlRmlsdGVyVG9rZW4ucHJvdG90eXBlLmVxdWFscz1mdW5jdGlvbihhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIHRoaXMuY29uc3RydWN0b3ImJihhLnRvU3RyaW5nKCkudHJpbSgpPT09dGhpcy50b1N0cmluZygpLnRyaW0oKXx8YS50b1N0cmluZygpLnJlcGxhY2UoL1wofFwpL2csIiIpLnRyaW0oKT09PXRoaXMudG9TdHJpbmcoKS5yZXBsYWNlKC9cKHxcKS9nLCIiKS50cmltKCkpfTt2YXIgbW9kdWxlJGNvbnRlbnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkR2NtVjNGaWx0ZXJUb2tlbml6ZXJfU3RyaW5nQ29tcG9zaXRpb25Ub2tlbj1mdW5jdGlvbihhKXttb2R1bGUkZXhwb3J0cyRhd2Vzb21lY2hhcnRzJHV0aWxzJEdjbVYzRmlsdGVyVG9rZW5pemVyLlNpbXBsZUZpbHRlclRva2VuLmNhbGwodGhpcywiIik7dGhpcy5zdWJ0b2tlbnNfPVthXX07CiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGNvbnRlbnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkR2NtVjNGaWx0ZXJUb2tlbml6ZXJfU3RyaW5nQ29tcG9zaXRpb25Ub2tlbixtb2R1bGUkZXhwb3J0cyRhd2Vzb21lY2hhcnRzJHV0aWxzJEdjbVYzRmlsdGVyVG9rZW5pemVyLlNpbXBsZUZpbHRlclRva2VuKTttb2R1bGUkY29udGVudHMkYXdlc29tZWNoYXJ0cyR1dGlscyRHY21WM0ZpbHRlclRva2VuaXplcl9TdHJpbmdDb21wb3NpdGlvblRva2VuLnByb3RvdHlwZS5udW1TdWJ0b2tlbnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdWJ0b2tlbnNfLmxlbmd0aH07bW9kdWxlJGNvbnRlbnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkR2NtVjNGaWx0ZXJUb2tlbml6ZXJfU3RyaW5nQ29tcG9zaXRpb25Ub2tlbi5wcm90b3R5cGUuc3VidG9rZW49ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuc3VidG9rZW5zXy5sZW5ndGg+YT90aGlzLnN1YnRva2Vuc19bYV06bnVsbH07Cm1vZHVsZSRjb250ZW50cyRhd2Vzb21lY2hhcnRzJHV0aWxzJEdjbVYzRmlsdGVyVG9rZW5pemVyX1N0cmluZ0NvbXBvc2l0aW9uVG9rZW4ucHJvdG90eXBlLmFwcGVuZD1mdW5jdGlvbihhKXt0aGlzLnN1YnRva2Vuc18ucHVzaChhKX07bW9kdWxlJGNvbnRlbnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkR2NtVjNGaWx0ZXJUb2tlbml6ZXJfU3RyaW5nQ29tcG9zaXRpb25Ub2tlbi5wcm90b3R5cGUucHJlcGVuZD1mdW5jdGlvbihhKXt0aGlzLnN1YnRva2Vuc18udW5zaGlmdChhKX07Cm1vZHVsZSRjb250ZW50cyRhd2Vzb21lY2hhcnRzJHV0aWxzJEdjbVYzRmlsdGVyVG9rZW5pemVyX1N0cmluZ0NvbXBvc2l0aW9uVG9rZW4ucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3VidG9rZW5zXy5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEgaW5zdGFuY2VvZiBtb2R1bGUkZXhwb3J0cyRhd2Vzb21lY2hhcnRzJHV0aWxzJFRva2VuaXplci5RdW90ZWRTdHJpbmdUb2tlbj9hLnRvU3RyaW5nKCk6YX0pLmpvaW4oIiIpfTtnb29nLmV4cG9ydFByb3BlcnR5KG1vZHVsZSRjb250ZW50cyRhd2Vzb21lY2hhcnRzJHV0aWxzJEdjbVYzRmlsdGVyVG9rZW5pemVyX1N0cmluZ0NvbXBvc2l0aW9uVG9rZW4ucHJvdG90eXBlLCJ0b1N0cmluZyIsbW9kdWxlJGNvbnRlbnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkR2NtVjNGaWx0ZXJUb2tlbml6ZXJfU3RyaW5nQ29tcG9zaXRpb25Ub2tlbi5wcm90b3R5cGUudG9TdHJpbmcpOwpnb29nLmV4cG9ydFByb3BlcnR5KG1vZHVsZSRjb250ZW50cyRhd2Vzb21lY2hhcnRzJHV0aWxzJEdjbVYzRmlsdGVyVG9rZW5pemVyX1N0cmluZ0NvbXBvc2l0aW9uVG9rZW4ucHJvdG90eXBlLCJwcmVwZW5kIixtb2R1bGUkY29udGVudHMkYXdlc29tZWNoYXJ0cyR1dGlscyRHY21WM0ZpbHRlclRva2VuaXplcl9TdHJpbmdDb21wb3NpdGlvblRva2VuLnByb3RvdHlwZS5wcmVwZW5kKTtnb29nLmV4cG9ydFByb3BlcnR5KG1vZHVsZSRjb250ZW50cyRhd2Vzb21lY2hhcnRzJHV0aWxzJEdjbVYzRmlsdGVyVG9rZW5pemVyX1N0cmluZ0NvbXBvc2l0aW9uVG9rZW4ucHJvdG90eXBlLCJhcHBlbmQiLG1vZHVsZSRjb250ZW50cyRhd2Vzb21lY2hhcnRzJHV0aWxzJEdjbVYzRmlsdGVyVG9rZW5pemVyX1N0cmluZ0NvbXBvc2l0aW9uVG9rZW4ucHJvdG90eXBlLmFwcGVuZCk7Cmdvb2cuZXhwb3J0UHJvcGVydHkobW9kdWxlJGNvbnRlbnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkR2NtVjNGaWx0ZXJUb2tlbml6ZXJfU3RyaW5nQ29tcG9zaXRpb25Ub2tlbi5wcm90b3R5cGUsInN1YnRva2VuIixtb2R1bGUkY29udGVudHMkYXdlc29tZWNoYXJ0cyR1dGlscyRHY21WM0ZpbHRlclRva2VuaXplcl9TdHJpbmdDb21wb3NpdGlvblRva2VuLnByb3RvdHlwZS5zdWJ0b2tlbik7Z29vZy5leHBvcnRQcm9wZXJ0eShtb2R1bGUkY29udGVudHMkYXdlc29tZWNoYXJ0cyR1dGlscyRHY21WM0ZpbHRlclRva2VuaXplcl9TdHJpbmdDb21wb3NpdGlvblRva2VuLnByb3RvdHlwZSwibnVtU3VidG9rZW5zIixtb2R1bGUkY29udGVudHMkYXdlc29tZWNoYXJ0cyR1dGlscyRHY21WM0ZpbHRlclRva2VuaXplcl9TdHJpbmdDb21wb3NpdGlvblRva2VuLnByb3RvdHlwZS5udW1TdWJ0b2tlbnMpOwptb2R1bGUkZXhwb3J0cyRhd2Vzb21lY2hhcnRzJHV0aWxzJEdjbVYzRmlsdGVyVG9rZW5pemVyLkNvbXBhcmVPcHNUb2tlbj1mdW5jdGlvbigpe21vZHVsZSRleHBvcnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkR2NtVjNGaWx0ZXJUb2tlbml6ZXIuU2ltcGxlRmlsdGVyVG9rZW4uYXBwbHkodGhpcyxhcmd1bWVudHMpfTskanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkR2NtVjNGaWx0ZXJUb2tlbml6ZXIuQ29tcGFyZU9wc1Rva2VuLG1vZHVsZSRleHBvcnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkR2NtVjNGaWx0ZXJUb2tlbml6ZXIuU2ltcGxlRmlsdGVyVG9rZW4pOwptb2R1bGUkZXhwb3J0cyRhd2Vzb21lY2hhcnRzJHV0aWxzJEdjbVYzRmlsdGVyVG9rZW5pemVyLkxoc1Rva2VuPWZ1bmN0aW9uKCl7bW9kdWxlJGNvbnRlbnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkR2NtVjNGaWx0ZXJUb2tlbml6ZXJfU3RyaW5nQ29tcG9zaXRpb25Ub2tlbi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9OyRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkYXdlc29tZWNoYXJ0cyR1dGlscyRHY21WM0ZpbHRlclRva2VuaXplci5MaHNUb2tlbixtb2R1bGUkY29udGVudHMkYXdlc29tZWNoYXJ0cyR1dGlscyRHY21WM0ZpbHRlclRva2VuaXplcl9TdHJpbmdDb21wb3NpdGlvblRva2VuKTsKbW9kdWxlJGV4cG9ydHMkYXdlc29tZWNoYXJ0cyR1dGlscyRHY21WM0ZpbHRlclRva2VuaXplci5SaHNUb2tlbj1mdW5jdGlvbihhKXtpZihhIGluc3RhbmNlb2YgbW9kdWxlJGV4cG9ydHMkYXdlc29tZWNoYXJ0cyR1dGlscyRUb2tlbml6ZXIuUXVvdGVkU3RyaW5nVG9rZW4pbW9kdWxlJGNvbnRlbnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkR2NtVjNGaWx0ZXJUb2tlbml6ZXJfU3RyaW5nQ29tcG9zaXRpb25Ub2tlbi5jYWxsKHRoaXMsYSk7ZWxzZXt2YXIgYj1hLm1hdGNoKG1vZHVsZSRjb250ZW50cyRhd2Vzb21lY2hhcnRzJHV0aWxzJEdjbVYzRmlsdGVyVG9rZW5pemVyX0ZVTkNUSU9OX0NBTExfUkUpO2I/KG1vZHVsZSRjb250ZW50cyRhd2Vzb21lY2hhcnRzJHV0aWxzJEdjbVYzRmlsdGVyVG9rZW5pemVyX1N0cmluZ0NvbXBvc2l0aW9uVG9rZW4uY2FsbCh0aGlzLGJbMV0pLDA8YlsyXS5sZW5ndGgmJnRoaXMuYXBwZW5kKGJbMl0pLHRoaXMuYXBwZW5kKGJbM10pKTptb2R1bGUkY29udGVudHMkYXdlc29tZWNoYXJ0cyR1dGlscyRHY21WM0ZpbHRlclRva2VuaXplcl9TdHJpbmdDb21wb3NpdGlvblRva2VuLmNhbGwodGhpcywKYSl9fTskanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkR2NtVjNGaWx0ZXJUb2tlbml6ZXIuUmhzVG9rZW4sbW9kdWxlJGNvbnRlbnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkR2NtVjNGaWx0ZXJUb2tlbml6ZXJfU3RyaW5nQ29tcG9zaXRpb25Ub2tlbik7bW9kdWxlJGV4cG9ydHMkYXdlc29tZWNoYXJ0cyR1dGlscyRHY21WM0ZpbHRlclRva2VuaXplci5Mb2dpY2FsT3BzVG9rZW49ZnVuY3Rpb24oKXttb2R1bGUkZXhwb3J0cyRhd2Vzb21lY2hhcnRzJHV0aWxzJEdjbVYzRmlsdGVyVG9rZW5pemVyLlNpbXBsZUZpbHRlclRva2VuLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07JGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRhd2Vzb21lY2hhcnRzJHV0aWxzJEdjbVYzRmlsdGVyVG9rZW5pemVyLkxvZ2ljYWxPcHNUb2tlbixtb2R1bGUkZXhwb3J0cyRhd2Vzb21lY2hhcnRzJHV0aWxzJEdjbVYzRmlsdGVyVG9rZW5pemVyLlNpbXBsZUZpbHRlclRva2VuKTsKbW9kdWxlJGV4cG9ydHMkYXdlc29tZWNoYXJ0cyR1dGlscyRHY21WM0ZpbHRlclRva2VuaXplci5BbmRUb2tlbj1mdW5jdGlvbigpe21vZHVsZSRleHBvcnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkR2NtVjNGaWx0ZXJUb2tlbml6ZXIuTG9naWNhbE9wc1Rva2VuLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07JGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRhd2Vzb21lY2hhcnRzJHV0aWxzJEdjbVYzRmlsdGVyVG9rZW5pemVyLkFuZFRva2VuLG1vZHVsZSRleHBvcnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkR2NtVjNGaWx0ZXJUb2tlbml6ZXIuTG9naWNhbE9wc1Rva2VuKTttb2R1bGUkZXhwb3J0cyRhd2Vzb21lY2hhcnRzJHV0aWxzJEdjbVYzRmlsdGVyVG9rZW5pemVyLk9yVG9rZW49ZnVuY3Rpb24oKXttb2R1bGUkZXhwb3J0cyRhd2Vzb21lY2hhcnRzJHV0aWxzJEdjbVYzRmlsdGVyVG9rZW5pemVyLkxvZ2ljYWxPcHNUb2tlbi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9OwokanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkR2NtVjNGaWx0ZXJUb2tlbml6ZXIuT3JUb2tlbixtb2R1bGUkZXhwb3J0cyRhd2Vzb21lY2hhcnRzJHV0aWxzJEdjbVYzRmlsdGVyVG9rZW5pemVyLkxvZ2ljYWxPcHNUb2tlbik7dmFyIG1vZHVsZSRjb250ZW50cyRhd2Vzb21lY2hhcnRzJHV0aWxzJEdjbVYzRmlsdGVyVG9rZW5pemVyX1ZBTElEX1RPS0VOX09SREVSPVt7dG9rZW46bW9kdWxlJGV4cG9ydHMkYXdlc29tZWNoYXJ0cyR1dGlscyRHY21WM0ZpbHRlclRva2VuaXplci5MaHNUb2tlbn0se3Rva2VuOm1vZHVsZSRleHBvcnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkR2NtVjNGaWx0ZXJUb2tlbml6ZXIuQ29tcGFyZU9wc1Rva2VufSx7dG9rZW46bW9kdWxlJGV4cG9ydHMkYXdlc29tZWNoYXJ0cyR1dGlscyRHY21WM0ZpbHRlclRva2VuaXplci5SaHNUb2tlbixjYW5CZUxhc3Q6ITB9LHt0b2tlbjptb2R1bGUkZXhwb3J0cyRhd2Vzb21lY2hhcnRzJHV0aWxzJEdjbVYzRmlsdGVyVG9rZW5pemVyLkxvZ2ljYWxPcHNUb2tlbn1dOwpmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkYXdlc29tZWNoYXJ0cyR1dGlscyRHY21WM0ZpbHRlclRva2VuaXplcl90cmltVG9rZW5zKGEpe3ZhciBiPWZ1bmN0aW9uKGQpe3JldHVybiEoInN0cmluZyI9PT10eXBlb2YgZCYmYXdlc29tZWNoYXJ0cy51dGlscy5zdHJpbmdzLmlzRW1wdHlPcldoaXRlc3BhY2UoZCkpfSxjPWEuZmluZEluZGV4KGIpO2I9YXdlc29tZWNoYXJ0cy51dGlscy5hcnJheXMuZmluZExhc3RJbmRleChhLGIpO3JldHVybiAwPD1jJiYwPD1iP2Euc2xpY2UoYyxiKzEpOltdfQpmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkYXdlc29tZWNoYXJ0cyR1dGlscyRHY21WM0ZpbHRlclRva2VuaXplcl90cmltbWVkU3VidG9rZW5zKGEpe2Zvcih2YXIgYj1bXSxjPTA7YzxhLnN1YnRva2Vuc18ubGVuZ3RoOysrYyliLnB1c2goYS5zdWJ0b2tlbihjKSk7Yj1tb2R1bGUkY29udGVudHMkYXdlc29tZWNoYXJ0cyR1dGlscyRHY21WM0ZpbHRlclRva2VuaXplcl90cmltVG9rZW5zKGIpO3JldHVybiBiPWIubWFwKGZ1bmN0aW9uKGQpe3JldHVybiBkIGluc3RhbmNlb2YgbW9kdWxlJGV4cG9ydHMkYXdlc29tZWNoYXJ0cyR1dGlscyRUb2tlbml6ZXIuUXVvdGVkU3RyaW5nVG9rZW4/bmV3IG1vZHVsZSRleHBvcnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkVG9rZW5pemVyLlF1b3RlZFN0cmluZ1Rva2VuKGQudG9TdHJpbmcoKS50cmltKCkpOmQudHJpbSgpfSl9CmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRhd2Vzb21lY2hhcnRzJHV0aWxzJEdjbVYzRmlsdGVyVG9rZW5pemVyX2FwcGVuZEFsbFN1YnRva2VucyhhLGIpe2I9JGpzY29tcC5tYWtlSXRlcmF0b3IoYik7Zm9yKHZhciBjPWIubmV4dCgpOyFjLmRvbmU7Yz1iLm5leHQoKSljPWMudmFsdWUsYS5hcHBlbmQoYyl9CmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRhd2Vzb21lY2hhcnRzJHV0aWxzJEdjbVYzRmlsdGVyVG9rZW5pemVyX3RyaW1Ub2tlbihhKXtpZihhIGluc3RhbmNlb2YgbW9kdWxlJGV4cG9ydHMkYXdlc29tZWNoYXJ0cyR1dGlscyRUb2tlbml6ZXIuUXVvdGVkU3RyaW5nVG9rZW4pcmV0dXJuIG5ldyBtb2R1bGUkZXhwb3J0cyRhd2Vzb21lY2hhcnRzJHV0aWxzJFRva2VuaXplci5RdW90ZWRTdHJpbmdUb2tlbihhLnRvU3RyaW5nKCkudHJpbSgpKTtpZihhIGluc3RhbmNlb2YgbW9kdWxlJGV4cG9ydHMkYXdlc29tZWNoYXJ0cyR1dGlscyRHY21WM0ZpbHRlclRva2VuaXplci5MaHNUb2tlbil7YT1tb2R1bGUkY29udGVudHMkYXdlc29tZWNoYXJ0cyR1dGlscyRHY21WM0ZpbHRlclRva2VuaXplcl90cmltbWVkU3VidG9rZW5zKGEpO2lmKDA8YS5sZW5ndGgpe3ZhciBiPW5ldyBtb2R1bGUkZXhwb3J0cyRhd2Vzb21lY2hhcnRzJHV0aWxzJEdjbVYzRmlsdGVyVG9rZW5pemVyLkxoc1Rva2VuKGEuc2hpZnQoKSk7Cm1vZHVsZSRjb250ZW50cyRhd2Vzb21lY2hhcnRzJHV0aWxzJEdjbVYzRmlsdGVyVG9rZW5pemVyX2FwcGVuZEFsbFN1YnRva2VucyhiLGEpO3JldHVybiBifXJldHVybiBuZXcgbW9kdWxlJGV4cG9ydHMkYXdlc29tZWNoYXJ0cyR1dGlscyRHY21WM0ZpbHRlclRva2VuaXplci5MaHNUb2tlbigiIil9cmV0dXJuIGEgaW5zdGFuY2VvZiBtb2R1bGUkZXhwb3J0cyRhd2Vzb21lY2hhcnRzJHV0aWxzJEdjbVYzRmlsdGVyVG9rZW5pemVyLlJoc1Rva2VuPyhhPW1vZHVsZSRjb250ZW50cyRhd2Vzb21lY2hhcnRzJHV0aWxzJEdjbVYzRmlsdGVyVG9rZW5pemVyX3RyaW1tZWRTdWJ0b2tlbnMoYSksMDxhLmxlbmd0aD8oYj1uZXcgbW9kdWxlJGV4cG9ydHMkYXdlc29tZWNoYXJ0cyR1dGlscyRHY21WM0ZpbHRlclRva2VuaXplci5SaHNUb2tlbihhLnNoaWZ0KCkpLG1vZHVsZSRjb250ZW50cyRhd2Vzb21lY2hhcnRzJHV0aWxzJEdjbVYzRmlsdGVyVG9rZW5pemVyX2FwcGVuZEFsbFN1YnRva2VucyhiLAphKSxiKTpuZXcgbW9kdWxlJGV4cG9ydHMkYXdlc29tZWNoYXJ0cyR1dGlscyRHY21WM0ZpbHRlclRva2VuaXplci5SaHNUb2tlbigiIikpOiJzdHJpbmciPT09dHlwZW9mIGE/YS50cmltKCk6YX1tb2R1bGUkZXhwb3J0cyRhd2Vzb21lY2hhcnRzJHV0aWxzJEdjbVYzRmlsdGVyVG9rZW5pemVyLkZpbHRlclRva2VuaXplcj1mdW5jdGlvbihhKXt0aGlzLm9yaWdpbmFsU3RyaW5nPWE7dGhpcy5wYXJzZWQ9dGhpcy5wYXJzZV8oKTt0aGlzLnZhbGlkYXRlKCl9O21vZHVsZSRleHBvcnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkR2NtVjNGaWx0ZXJUb2tlbml6ZXIuRmlsdGVyVG9rZW5pemVyLnByb3RvdHlwZS5nZXRUcmltbWVkVG9rZW5zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyc2VkP3RoaXMucGFyc2VkLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkR2NtVjNGaWx0ZXJUb2tlbml6ZXJfdHJpbVRva2VuKGEpfSk6dm9pZCAwfTsKbW9kdWxlJGV4cG9ydHMkYXdlc29tZWNoYXJ0cyR1dGlscyRHY21WM0ZpbHRlclRva2VuaXplci5GaWx0ZXJUb2tlbml6ZXIucHJvdG90eXBlLnBhcnNlXz1mdW5jdGlvbigpe2lmKHRoaXMucGFyc2VkKXJldHVybiB0aGlzLnBhcnNlZDt2YXIgYT10aGlzLnBhcnNlVHNzKHRoaXMub3JpZ2luYWxTdHJpbmcpO2E9dGhpcy5wYXJzZVF1b3RlZChhKTthPXRoaXMuY29sbGF0ZVF1b3RlZExhYmVsTmFtZXNXaXRoVGhlaXJQcmVmaXhlc18oYSk7YT10aGlzLnBhcnNlRXhwcmVzc2lvbnMoYSk7YT1hd2Vzb21lY2hhcnRzLnV0aWxzLmFycmF5cy5mbGF0dGVuKGEpO3JldHVybiB0aGlzLmNvbGxhdGVTdHJpbmdzXyhhKX07Cm1vZHVsZSRleHBvcnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkR2NtVjNGaWx0ZXJUb2tlbml6ZXIuRmlsdGVyVG9rZW5pemVyLnByb3RvdHlwZS5jb2xsYXRlUXVvdGVkTGFiZWxOYW1lc1dpdGhUaGVpclByZWZpeGVzXz1mdW5jdGlvbihhKXtpZighKGEgaW5zdGFuY2VvZiBBcnJheSkpcmV0dXJuIGE7dmFyIGI9W107Zm9yKGE9YS5zbGljZSgpO2EubGVuZ3RoOyl7dmFyIGM9YS5zaGlmdCgpO2lmKCJzdHJpbmciPT09dHlwZW9mIGMmJmMuZW5kc1dpdGgoIi4iKSYmYVswXWluc3RhbmNlb2YgbW9kdWxlJGV4cG9ydHMkYXdlc29tZWNoYXJ0cyR1dGlscyRUb2tlbml6ZXIuUXVvdGVkU3RyaW5nVG9rZW4pe3ZhciBkPSRqc2NvbXAsZT1kLm1ha2VJdGVyYXRvcjtjPW1vZHVsZSRjb250ZW50cyRhd2Vzb21lY2hhcnRzJHV0aWxzJEdjbVYzRmlsdGVyVG9rZW5pemVyX0xPR0lDQUxfT1BTX1NQTElUX1JFLmV4ZWMoYyk7Yz1bYyYmY1sxXT9jWzFdOiIiLGMmJmNbMl0/Y1syXToiIixjJiZjWzNdPwpjWzNdOiIiXTtjPWUuY2FsbChkLGMpO2Q9Yy5uZXh0KCkudmFsdWU7ZT1jLm5leHQoKS52YWx1ZTtjPWMubmV4dCgpLnZhbHVlO2QubGVuZ3RoJiZiLnB1c2goZCk7ZS5sZW5ndGgmJihtb2R1bGUkY29udGVudHMkYXdlc29tZWNoYXJ0cyR1dGlscyRHY21WM0ZpbHRlclRva2VuaXplcl9BTkRfRlVMTF9NQVRDSC50ZXN0KGUpfHxhd2Vzb21lY2hhcnRzLnV0aWxzLnN0cmluZ3MuaXNFbXB0eU9yV2hpdGVzcGFjZShlKT9iLnB1c2gobmV3IG1vZHVsZSRleHBvcnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkR2NtVjNGaWx0ZXJUb2tlbml6ZXIuQW5kVG9rZW4oZSkpOm1vZHVsZSRjb250ZW50cyRhd2Vzb21lY2hhcnRzJHV0aWxzJEdjbVYzRmlsdGVyVG9rZW5pemVyX09SX0ZVTExfTUFUQ0gudGVzdChlKT9iLnB1c2gobmV3IG1vZHVsZSRleHBvcnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkR2NtVjNGaWx0ZXJUb2tlbml6ZXIuT3JUb2tlbihlKSk6Yi5wdXNoKGUpKTtkPW5ldyBtb2R1bGUkZXhwb3J0cyRhd2Vzb21lY2hhcnRzJHV0aWxzJEdjbVYzRmlsdGVyVG9rZW5pemVyLkxoc1Rva2VuKGMpOwpkLmFwcGVuZChhWzBdKTtiLnB1c2goZCk7YS5zaGlmdCgpfWVsc2UgYi5wdXNoKGMpfXJldHVybiBifTsKbW9kdWxlJGV4cG9ydHMkYXdlc29tZWNoYXJ0cyR1dGlscyRHY21WM0ZpbHRlclRva2VuaXplci5GaWx0ZXJUb2tlbml6ZXIucHJvdG90eXBlLmNvbGxhdGVTdHJpbmdzXz1mdW5jdGlvbihhKXtmb3IodmFyIGI9W10sYz1udWxsLGQ9MDtkPGEubGVuZ3RoO2QrKyl7dmFyIGU9YVtkXTtpZihlIGluc3RhbmNlb2YgbW9kdWxlJGV4cG9ydHMkYXdlc29tZWNoYXJ0cyR1dGlscyRUb2tlbml6ZXIuUXVvdGVkU3RyaW5nVG9rZW4pIWN8fGMgaW5zdGFuY2VvZiBtb2R1bGUkZXhwb3J0cyRhd2Vzb21lY2hhcnRzJHV0aWxzJEdjbVYzRmlsdGVyVG9rZW5pemVyLkxvZ2ljYWxPcHNUb2tlbj8oYz1uZXcgbW9kdWxlJGV4cG9ydHMkYXdlc29tZWNoYXJ0cyR1dGlscyRHY21WM0ZpbHRlclRva2VuaXplci5MaHNUb2tlbihlKSxiLnB1c2goYykpOmMgaW5zdGFuY2VvZiBtb2R1bGUkZXhwb3J0cyRhd2Vzb21lY2hhcnRzJHV0aWxzJEdjbVYzRmlsdGVyVG9rZW5pemVyLkNvbXBhcmVPcHNUb2tlbj8oYz0KbmV3IG1vZHVsZSRleHBvcnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkR2NtVjNGaWx0ZXJUb2tlbml6ZXIuUmhzVG9rZW4oZSksYi5wdXNoKGMpKTpjIGluc3RhbmNlb2YgbW9kdWxlJGNvbnRlbnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkR2NtVjNGaWx0ZXJUb2tlbml6ZXJfU3RyaW5nQ29tcG9zaXRpb25Ub2tlbiYmYy5hcHBlbmQoZSk7ZWxzZSBpZihlIGluc3RhbmNlb2YgbW9kdWxlJGV4cG9ydHMkYXdlc29tZWNoYXJ0cyR1dGlscyRHY21WM0ZpbHRlclRva2VuaXplci5MaHNUb2tlbilpZihjIGluc3RhbmNlb2YgbW9kdWxlJGV4cG9ydHMkYXdlc29tZWNoYXJ0cyR1dGlscyRHY21WM0ZpbHRlclRva2VuaXplci5MaHNUb2tlbiljLmFwcGVuZChlLnRvU3RyaW5nKCkpO2Vsc2UgaWYoYyBpbnN0YW5jZW9mIG1vZHVsZSRleHBvcnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkR2NtVjNGaWx0ZXJUb2tlbml6ZXIuUmhzVG9rZW4pe2U9ZS50b1N0cmluZygpO3ZhciBmPWUubWF0Y2goL15ccysvKTsKZj8oYz1mWzBdLGIucHVzaChuZXcgbW9kdWxlJGV4cG9ydHMkYXdlc29tZWNoYXJ0cyR1dGlscyRHY21WM0ZpbHRlclRva2VuaXplci5BbmRUb2tlbihjKSksYz1uZXcgbW9kdWxlJGV4cG9ydHMkYXdlc29tZWNoYXJ0cyR1dGlscyRHY21WM0ZpbHRlclRva2VuaXplci5MaHNUb2tlbihlLnNsaWNlKGMubGVuZ3RoKSksYi5wdXNoKGMpKTp0aGlzLnRocm93UGFyc2VFcnJvcl8oKX1lbHNlIGIucHVzaChlKSxjPWU7ZWxzZSBlIGluc3RhbmNlb2YgbW9kdWxlJGV4cG9ydHMkYXdlc29tZWNoYXJ0cyR1dGlscyRHY21WM0ZpbHRlclRva2VuaXplci5SaHNUb2tlbj9jIGluc3RhbmNlb2YgbW9kdWxlJGV4cG9ydHMkYXdlc29tZWNoYXJ0cyR1dGlscyRHY21WM0ZpbHRlclRva2VuaXplci5SaHNUb2tlbj9jLmFwcGVuZChlLnRvU3RyaW5nKCkpOmMgaW5zdGFuY2VvZiBtb2R1bGUkZXhwb3J0cyRhd2Vzb21lY2hhcnRzJHV0aWxzJEdjbVYzRmlsdGVyVG9rZW5pemVyLkxoc1Rva2VuP3RoaXMudGhyb3dQYXJzZUVycm9yXygpOgooYi5wdXNoKGUpLGM9ZSk6KGIucHVzaChlKSxjPWUpfXJldHVybiBifTttb2R1bGUkZXhwb3J0cyRhd2Vzb21lY2hhcnRzJHV0aWxzJEdjbVYzRmlsdGVyVG9rZW5pemVyLkZpbHRlclRva2VuaXplci5wcm90b3R5cGUudmFsaWRhdGU9ZnVuY3Rpb24oKXtmb3IodmFyIGE9MCxiPTA7Yjx0aGlzLnBhcnNlZC5sZW5ndGg7YisrKXt2YXIgYz1tb2R1bGUkY29udGVudHMkYXdlc29tZWNoYXJ0cyR1dGlscyRHY21WM0ZpbHRlclRva2VuaXplcl9WQUxJRF9UT0tFTl9PUkRFUlthXSxkPXRoaXMucGFyc2VkW2JdLGU9dGhpcy5wYXJzZWRbYisxXTtkIGluc3RhbmNlb2YgYy50b2tlbiYmKGV8fGMuY2FuQmVMYXN0KXx8dGhpcy50aHJvd1BhcnNlRXJyb3JfKCk7YSsrO2E9PT1tb2R1bGUkY29udGVudHMkYXdlc29tZWNoYXJ0cyR1dGlscyRHY21WM0ZpbHRlclRva2VuaXplcl9WQUxJRF9UT0tFTl9PUkRFUi5sZW5ndGgmJihhPTApfX07Cm1vZHVsZSRleHBvcnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkR2NtVjNGaWx0ZXJUb2tlbml6ZXIuRmlsdGVyVG9rZW5pemVyLnByb3RvdHlwZS5wYXJzZVRva2VuXz1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9W107YT1hLnRvU3RyaW5nKCk7YT1hLnN1YnN0cmluZygxLGEubGVuZ3RoLTEpO2E9bmV3IFJlZ0V4cChhLCJnIik7dmFyIGUsZj0wO2ZvcihjfHwoYz0iIik7bnVsbCE9PShlPWEuZXhlYyhjKSk7KWYhPT1lLmluZGV4JiZkLnB1c2goZS5pbnB1dC5zbGljZShmLGUuaW5kZXgpKSxkLnB1c2gobmV3IGIoZVswXSkpLGY9YS5sYXN0SW5kZXg7ZiE9PWMubGVuZ3RoJiZkLnB1c2goYy5zbGljZShmKSk7cmV0dXJuIGR9Owptb2R1bGUkZXhwb3J0cyRhd2Vzb21lY2hhcnRzJHV0aWxzJEdjbVYzRmlsdGVyVG9rZW5pemVyLkZpbHRlclRva2VuaXplci5wcm90b3R5cGUucGFyc2VMb2dpY2FsT3BzXz1mdW5jdGlvbihhKXt2YXIgYj1bXSxjPW1vZHVsZSRjb250ZW50cyRhd2Vzb21lY2hhcnRzJHV0aWxzJEdjbVYzRmlsdGVyVG9rZW5pemVyX0xPR0lDQUxfT1BTX1JFLnRvU3RyaW5nKCk7Yz1jLnN1YnN0cmluZygxLGMubGVuZ3RoLTEpO2M9bmV3IFJlZ0V4cChjLCJnIik7dmFyIGQ9MCxlPWMuZXhlYyhhKTtlfHwoYT1hLnRyaW0oKSk7ZT8oZCE9PWUuaW5kZXgmJihkPWUuaW5wdXQuc2xpY2UoZCxlLmluZGV4KSxiLnB1c2gobmV3IG1vZHVsZSRleHBvcnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkR2NtVjNGaWx0ZXJUb2tlbml6ZXIuUmhzVG9rZW4oZCkpKSxtb2R1bGUkY29udGVudHMkYXdlc29tZWNoYXJ0cyR1dGlscyRHY21WM0ZpbHRlclRva2VuaXplcl9BTkRfRlVMTF9NQVRDSC50ZXN0KGVbMF0pP2IucHVzaChuZXcgbW9kdWxlJGV4cG9ydHMkYXdlc29tZWNoYXJ0cyR1dGlscyRHY21WM0ZpbHRlclRva2VuaXplci5BbmRUb2tlbihlWzBdKSk6Cm1vZHVsZSRjb250ZW50cyRhd2Vzb21lY2hhcnRzJHV0aWxzJEdjbVYzRmlsdGVyVG9rZW5pemVyX09SX0ZVTExfTUFUQ0gudGVzdChlWzBdKSYmYi5wdXNoKG5ldyBtb2R1bGUkZXhwb3J0cyRhd2Vzb21lY2hhcnRzJHV0aWxzJEdjbVYzRmlsdGVyVG9rZW5pemVyLk9yVG9rZW4oZVswXSkpLGQ9Yy5sYXN0SW5kZXgsZCE9PWEubGVuZ3RoJiZiLnB1c2gobmV3IG1vZHVsZSRleHBvcnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkR2NtVjNGaWx0ZXJUb2tlbml6ZXIuTGhzVG9rZW4oYS5zbGljZShkKSkpKTooYz1hLnNwbGl0KCIgIiksYi5wdXNoKG5ldyBtb2R1bGUkZXhwb3J0cyRhd2Vzb21lY2hhcnRzJHV0aWxzJEdjbVYzRmlsdGVyVG9rZW5pemVyLlJoc1Rva2VuKGMuc2hpZnQoKSkpLDA8Yy5sZW5ndGgmJigiIiE9PWNbYy5sZW5ndGgtMV0/KGE9bmV3IG1vZHVsZSRleHBvcnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkR2NtVjNGaWx0ZXJUb2tlbml6ZXIuTGhzVG9rZW4oYy5wb3AoKSksYz0KYy5qb2luKCIgIiksYy5tYXRjaCgvW14gXS8pJiZ0aGlzLnRocm93UGFyc2VFcnJvcl8oKSxiLnB1c2gobmV3IG1vZHVsZSRleHBvcnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkR2NtVjNGaWx0ZXJUb2tlbml6ZXIuQW5kVG9rZW4oY3x8IiAiKSksYi5wdXNoKGEpKTpiLnB1c2gobmV3IG1vZHVsZSRleHBvcnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkR2NtVjNGaWx0ZXJUb2tlbml6ZXIuQW5kVG9rZW4oIiAiKSkpKTtyZXR1cm4gYn07Cm1vZHVsZSRleHBvcnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkR2NtVjNGaWx0ZXJUb2tlbml6ZXIuRmlsdGVyVG9rZW5pemVyLnByb3RvdHlwZS5wYXJzZUV4cHJlc3Npb25fPWZ1bmN0aW9uKGEpe3ZhciBiPVtdLGM9bW9kdWxlJGNvbnRlbnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkR2NtVjNGaWx0ZXJUb2tlbml6ZXJfQ09NUEFSRV9PUFNfUkUudG9TdHJpbmcoKTtjPWMuc3Vic3RyaW5nKDEsYy5sZW5ndGgtMSk7Yz1uZXcgUmVnRXhwKGMsImciKTt2YXIgZCxlPTA7Zm9yKGF8fChhPSIiKTtudWxsIT09KGQ9Yy5leGVjKGEpKTspe2lmKGUhPT1kLmluZGV4KXt2YXIgZj1kLmlucHV0LnNsaWNlKGUsZC5pbmRleCk7MD09PWU/KGU9dGhpcy5wYXJzZUxvZ2ljYWxPcHNfKGYpLDE8ZS5sZW5ndGg/Yi5wdXNoKGUpOmIucHVzaChuZXcgbW9kdWxlJGV4cG9ydHMkYXdlc29tZWNoYXJ0cyR1dGlscyRHY21WM0ZpbHRlclRva2VuaXplci5MaHNUb2tlbihmKSkpOmIucHVzaCh0aGlzLnBhcnNlTG9naWNhbE9wc18oZikpfWIucHVzaChuZXcgbW9kdWxlJGV4cG9ydHMkYXdlc29tZWNoYXJ0cyR1dGlscyRHY21WM0ZpbHRlclRva2VuaXplci5Db21wYXJlT3BzVG9rZW4oZFswXSkpOwplPWMubGFzdEluZGV4fWUhPT1hLmxlbmd0aCYmKGE9YS5zbGljZShlKSwwPT09ZT9iLnB1c2godGhpcy5wYXJzZUxvZ2ljYWxPcHNfKGEpKTooYz1tb2R1bGUkY29udGVudHMkYXdlc29tZWNoYXJ0cyR1dGlscyRHY21WM0ZpbHRlclRva2VuaXplcl9BTkRfRU5EX01BVENILmV4ZWMoYSksZD1tb2R1bGUkY29udGVudHMkYXdlc29tZWNoYXJ0cyR1dGlscyRHY21WM0ZpbHRlclRva2VuaXplcl9PUl9FTkRfTUFUQ0guZXhlYyhhKSxjPyhiLnB1c2gobmV3IG1vZHVsZSRleHBvcnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkR2NtVjNGaWx0ZXJUb2tlbml6ZXIuUmhzVG9rZW4oYS5zdWJzdHIoMCxhLmxlbmd0aC1jWzFdLmxlbmd0aCkpKSxiLnB1c2gobmV3IG1vZHVsZSRleHBvcnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkR2NtVjNGaWx0ZXJUb2tlbml6ZXIuQW5kVG9rZW4oY1sxXSkpKTpkPyhiLnB1c2gobmV3IG1vZHVsZSRleHBvcnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkR2NtVjNGaWx0ZXJUb2tlbml6ZXIuUmhzVG9rZW4oYS5zdWJzdHIoMCwKYS5sZW5ndGgtZFsxXS5sZW5ndGgpKSksYi5wdXNoKG5ldyBtb2R1bGUkZXhwb3J0cyRhd2Vzb21lY2hhcnRzJHV0aWxzJEdjbVYzRmlsdGVyVG9rZW5pemVyLk9yVG9rZW4oZFsxXSkpKTpiLnB1c2gobmV3IG1vZHVsZSRleHBvcnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkR2NtVjNGaWx0ZXJUb2tlbml6ZXIuUmhzVG9rZW4oYSkpKSk7cmV0dXJuIGJ9Owptb2R1bGUkZXhwb3J0cyRhd2Vzb21lY2hhcnRzJHV0aWxzJEdjbVYzRmlsdGVyVG9rZW5pemVyLkZpbHRlclRva2VuaXplci5wcm90b3R5cGUucGFyc2VUc3M9ZnVuY3Rpb24oYSl7dmFyIGI9YS5tYXRjaChtb2R1bGUkY29udGVudHMkYXdlc29tZWNoYXJ0cyR1dGlscyRHY21WM0ZpbHRlclRva2VuaXplcl9UU1NfUkUpO2lmKCFiKXJldHVyblthXTt2YXIgYz1uZXcgbW9kdWxlJGV4cG9ydHMkYXdlc29tZWNoYXJ0cyR1dGlscyRHY21WM0ZpbHRlclRva2VuaXplci5MaHNUb2tlbihiWzFdKSxkPW5ldyBtb2R1bGUkZXhwb3J0cyRhd2Vzb21lY2hhcnRzJHV0aWxzJEdjbVYzRmlsdGVyVG9rZW5pemVyLlJoc1Rva2VuKGJbMl0uc2xpY2UoMSxiWzJdLmxlbmd0aC0xKSk7ZC5wcmVwZW5kKCIoIik7ZC5hcHBlbmQoIikiKTthPWEucmVwbGFjZShtb2R1bGUkY29udGVudHMkYXdlc29tZWNoYXJ0cyR1dGlscyRHY21WM0ZpbHRlclRva2VuaXplcl9UU1NfUkUsIiIpOzA8Yi5pbmRleCYmKGE9CiIgIithKTtyZXR1cm5bYyxuZXcgbW9kdWxlJGV4cG9ydHMkYXdlc29tZWNoYXJ0cyR1dGlscyRHY21WM0ZpbHRlclRva2VuaXplci5Db21wYXJlT3BzVG9rZW4oIiIpLGQsYV19O21vZHVsZSRleHBvcnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkR2NtVjNGaWx0ZXJUb2tlbml6ZXIuRmlsdGVyVG9rZW5pemVyLnByb3RvdHlwZS5wYXJzZVF1b3RlZD1mdW5jdGlvbihhKXt2YXIgYj10aGlzO2E9YS5tYXAoZnVuY3Rpb24oYyl7cmV0dXJuIGMgaW5zdGFuY2VvZiBtb2R1bGUkZXhwb3J0cyRhd2Vzb21lY2hhcnRzJHV0aWxzJFRva2VuaXplci5Ub2tlbj9jOmIucGFyc2VUb2tlbl8obW9kdWxlJGV4cG9ydHMkYXdlc29tZWNoYXJ0cyR1dGlscyRUb2tlbml6ZXIuUVVPVEVfUkUsbW9kdWxlJGV4cG9ydHMkYXdlc29tZWNoYXJ0cyR1dGlscyRUb2tlbml6ZXIuUXVvdGVkU3RyaW5nVG9rZW4sYyl9KTtyZXR1cm4gYXdlc29tZWNoYXJ0cy51dGlscy5hcnJheXMuZmxhdHRlbihhKX07Cm1vZHVsZSRleHBvcnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkR2NtVjNGaWx0ZXJUb2tlbml6ZXIuRmlsdGVyVG9rZW5pemVyLnByb3RvdHlwZS5wYXJzZUV4cHJlc3Npb25zPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7YT1hLm1hcChmdW5jdGlvbihjKXtyZXR1cm4gYyBpbnN0YW5jZW9mIG1vZHVsZSRleHBvcnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkVG9rZW5pemVyLlRva2VuP2M6Yi5wYXJzZUV4cHJlc3Npb25fKGMpfSk7cmV0dXJuIGF3ZXNvbWVjaGFydHMudXRpbHMuYXJyYXlzLmZsYXR0ZW4oYSl9O21vZHVsZSRleHBvcnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkR2NtVjNGaWx0ZXJUb2tlbml6ZXIuRmlsdGVyVG9rZW5pemVyLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcnNlZC5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYStiLnRvU3RyaW5nKCl9LCIiKX07Cm1vZHVsZSRleHBvcnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkR2NtVjNGaWx0ZXJUb2tlbml6ZXIuRmlsdGVyVG9rZW5pemVyLnByb3RvdHlwZS5oYXNUb2tlbj1mdW5jdGlvbihhKXtyZXR1cm4tMTx0aGlzLnBhcnNlZC5maW5kSW5kZXgoZnVuY3Rpb24oYil7cmV0dXJuIGIuZXF1YWxzKGEpfSl9Owptb2R1bGUkZXhwb3J0cyRhd2Vzb21lY2hhcnRzJHV0aWxzJEdjbVYzRmlsdGVyVG9rZW5pemVyLkZpbHRlclRva2VuaXplci5wcm90b3R5cGUuYWRkRXhwcmVzc2lvbj1mdW5jdGlvbihhLGIsYyxkKXswPHRoaXMucGFyc2VkLmxlbmd0aCYmKCIiPT09YS50cmltKCl8fCJBTkQiPT09YS50cmltKCk/dGhpcy5wYXJzZWQucHVzaChuZXcgbW9kdWxlJGV4cG9ydHMkYXdlc29tZWNoYXJ0cyR1dGlscyRHY21WM0ZpbHRlclRva2VuaXplci5BbmRUb2tlbihhKSk6dGhpcy5wYXJzZWQucHVzaChuZXcgbW9kdWxlJGV4cG9ydHMkYXdlc29tZWNoYXJ0cyR1dGlscyRHY21WM0ZpbHRlclRva2VuaXplci5PclRva2VuKGEpKSk7dmFyIGU9YisiICIrYysiICIrZDthPShlLnRvU3RyaW5nKCkubWF0Y2goL1woL2cpfHxbXSkubGVuZ3RoO2U9KGUudG9TdHJpbmcoKS5tYXRjaCgvXCkvZyl8fFtdKS5sZW5ndGg7dGhpcy5wYXJzZWQucHVzaChuZXcgbW9kdWxlJGV4cG9ydHMkYXdlc29tZWNoYXJ0cyR1dGlscyRHY21WM0ZpbHRlclRva2VuaXplci5MaHNUb2tlbihiKSk7CmE8ZSYmKDAsZ29vZy5hc3NlcnRzLmFzc2VydEluc3RhbmNlb2YpKHRoaXMucGFyc2VkW3RoaXMucGFyc2VkLmxlbmd0aC0xXSxtb2R1bGUkY29udGVudHMkYXdlc29tZWNoYXJ0cyR1dGlscyRHY21WM0ZpbHRlclRva2VuaXplcl9TdHJpbmdDb21wb3NpdGlvblRva2VuKS5wcmVwZW5kKCIoIik7dGhpcy5wYXJzZWQucHVzaChuZXcgbW9kdWxlJGV4cG9ydHMkYXdlc29tZWNoYXJ0cyR1dGlscyRHY21WM0ZpbHRlclRva2VuaXplci5Db21wYXJlT3BzVG9rZW4oYykpO3RoaXMucGFyc2VkLnB1c2gobmV3IG1vZHVsZSRleHBvcnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkR2NtVjNGaWx0ZXJUb2tlbml6ZXIuUmhzVG9rZW4oZCkpO2E+ZSYmKDAsZ29vZy5hc3NlcnRzLmFzc2VydEluc3RhbmNlb2YpKHRoaXMucGFyc2VkW3RoaXMucGFyc2VkLmxlbmd0aC0xXSxtb2R1bGUkY29udGVudHMkYXdlc29tZWNoYXJ0cyR1dGlscyRHY21WM0ZpbHRlclRva2VuaXplcl9TdHJpbmdDb21wb3NpdGlvblRva2VuKS5hcHBlbmQoIikiKTsKdGhpcy52YWxpZGF0ZSgpfTsKbW9kdWxlJGV4cG9ydHMkYXdlc29tZWNoYXJ0cyR1dGlscyRHY21WM0ZpbHRlclRva2VuaXplci5GaWx0ZXJUb2tlbml6ZXIucHJvdG90eXBlLnJlbW92ZUxoc0V4cHJlc3Npb249ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IG1vZHVsZSRleHBvcnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkR2NtVjNGaWx0ZXJUb2tlbml6ZXIuTGhzVG9rZW4oYSk7YT10aGlzLnBhcnNlZC5maW5kSW5kZXgoZnVuY3Rpb24oZil7cmV0dXJuIGYuZXF1YWxzKGIpfSk7aWYoLTEhPT1hKXt2YXIgYz10aGlzLnBhcnNlZC5zcGxpY2UoYSwzKSxkPShjLnRvU3RyaW5nKCkubWF0Y2goL1woL2cpfHxbXSkubGVuZ3RoLGU9KGMudG9TdHJpbmcoKS5tYXRjaCgvXCkvZyl8fFtdKS5sZW5ndGg7aWYoZCE9PWUpaWYoZD5lKXtmb3IoZD1hKzE7ZDx0aGlzLnBhcnNlZC5sZW5ndGgmJiEodGhpcy5wYXJzZWRbZF1pbnN0YW5jZW9mIG1vZHVsZSRjb250ZW50cyRhd2Vzb21lY2hhcnRzJHV0aWxzJEdjbVYzRmlsdGVyVG9rZW5pemVyX1N0cmluZ0NvbXBvc2l0aW9uVG9rZW4pOylkKys7KDAsZ29vZy5hc3NlcnRzLmFzc2VydEluc3RhbmNlb2YpKHRoaXMucGFyc2VkW2RdLAptb2R1bGUkY29udGVudHMkYXdlc29tZWNoYXJ0cyR1dGlscyRHY21WM0ZpbHRlclRva2VuaXplcl9TdHJpbmdDb21wb3NpdGlvblRva2VuKS5wcmVwZW5kKCIoIil9ZWxzZXtmb3IoZD1hLTE7MDw9ZCYmISh0aGlzLnBhcnNlZFtkXWluc3RhbmNlb2YgbW9kdWxlJGNvbnRlbnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkR2NtVjNGaWx0ZXJUb2tlbml6ZXJfU3RyaW5nQ29tcG9zaXRpb25Ub2tlbik7KWQtLTsoMCxnb29nLmFzc2VydHMuYXNzZXJ0SW5zdGFuY2VvZikodGhpcy5wYXJzZWRbZF0sbW9kdWxlJGNvbnRlbnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkR2NtVjNGaWx0ZXJUb2tlbml6ZXJfU3RyaW5nQ29tcG9zaXRpb25Ub2tlbikuYXBwZW5kKCIpIil9MDxhP2MudW5zaGlmdCh0aGlzLnBhcnNlZC5zcGxpY2UoYS0xLDEpWzBdKTpjLnVuc2hpZnQobmV3IG1vZHVsZSRleHBvcnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkR2NtVjNGaWx0ZXJUb2tlbml6ZXIuTG9naWNhbE9wc1Rva2VuKCIiKSk7CnJldHVybiBjfX07bW9kdWxlJGV4cG9ydHMkYXdlc29tZWNoYXJ0cyR1dGlscyRHY21WM0ZpbHRlclRva2VuaXplci5GaWx0ZXJUb2tlbml6ZXIucHJvdG90eXBlLnRocm93UGFyc2VFcnJvcl89ZnVuY3Rpb24oKXt0aHJvdyBuZXcgYXdlc29tZWNoYXJ0cy51dGlscy5lcnJvcnMuVmFsaWRhdGlvbkVycm9yKCJJbnZhbGlkIG1ldHJpYyBmaWx0ZXIuIENhbiBub3QgcGFyc2UgJyIrdGhpcy5vcmlnaW5hbFN0cmluZysiJy4iKTt9O2dvb2cuZXhwb3J0UHJvcGVydHkobW9kdWxlJGV4cG9ydHMkYXdlc29tZWNoYXJ0cyR1dGlscyRHY21WM0ZpbHRlclRva2VuaXplci5GaWx0ZXJUb2tlbml6ZXIucHJvdG90eXBlLCJyZW1vdmVMaHNFeHByZXNzaW9uIixtb2R1bGUkZXhwb3J0cyRhd2Vzb21lY2hhcnRzJHV0aWxzJEdjbVYzRmlsdGVyVG9rZW5pemVyLkZpbHRlclRva2VuaXplci5wcm90b3R5cGUucmVtb3ZlTGhzRXhwcmVzc2lvbik7Cmdvb2cuZXhwb3J0UHJvcGVydHkobW9kdWxlJGV4cG9ydHMkYXdlc29tZWNoYXJ0cyR1dGlscyRHY21WM0ZpbHRlclRva2VuaXplci5GaWx0ZXJUb2tlbml6ZXIucHJvdG90eXBlLCJhZGRFeHByZXNzaW9uIixtb2R1bGUkZXhwb3J0cyRhd2Vzb21lY2hhcnRzJHV0aWxzJEdjbVYzRmlsdGVyVG9rZW5pemVyLkZpbHRlclRva2VuaXplci5wcm90b3R5cGUuYWRkRXhwcmVzc2lvbik7Z29vZy5leHBvcnRQcm9wZXJ0eShtb2R1bGUkZXhwb3J0cyRhd2Vzb21lY2hhcnRzJHV0aWxzJEdjbVYzRmlsdGVyVG9rZW5pemVyLkZpbHRlclRva2VuaXplci5wcm90b3R5cGUsImhhc1Rva2VuIixtb2R1bGUkZXhwb3J0cyRhd2Vzb21lY2hhcnRzJHV0aWxzJEdjbVYzRmlsdGVyVG9rZW5pemVyLkZpbHRlclRva2VuaXplci5wcm90b3R5cGUuaGFzVG9rZW4pOwpnb29nLmV4cG9ydFByb3BlcnR5KG1vZHVsZSRleHBvcnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkR2NtVjNGaWx0ZXJUb2tlbml6ZXIuRmlsdGVyVG9rZW5pemVyLnByb3RvdHlwZSwidG9TdHJpbmciLG1vZHVsZSRleHBvcnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkR2NtVjNGaWx0ZXJUb2tlbml6ZXIuRmlsdGVyVG9rZW5pemVyLnByb3RvdHlwZS50b1N0cmluZyk7Z29vZy5leHBvcnRQcm9wZXJ0eShtb2R1bGUkZXhwb3J0cyRhd2Vzb21lY2hhcnRzJHV0aWxzJEdjbVYzRmlsdGVyVG9rZW5pemVyLkZpbHRlclRva2VuaXplci5wcm90b3R5cGUsInBhcnNlRXhwcmVzc2lvbnMiLG1vZHVsZSRleHBvcnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkR2NtVjNGaWx0ZXJUb2tlbml6ZXIuRmlsdGVyVG9rZW5pemVyLnByb3RvdHlwZS5wYXJzZUV4cHJlc3Npb25zKTsKZ29vZy5leHBvcnRQcm9wZXJ0eShtb2R1bGUkZXhwb3J0cyRhd2Vzb21lY2hhcnRzJHV0aWxzJEdjbVYzRmlsdGVyVG9rZW5pemVyLkZpbHRlclRva2VuaXplci5wcm90b3R5cGUsInBhcnNlUXVvdGVkIixtb2R1bGUkZXhwb3J0cyRhd2Vzb21lY2hhcnRzJHV0aWxzJEdjbVYzRmlsdGVyVG9rZW5pemVyLkZpbHRlclRva2VuaXplci5wcm90b3R5cGUucGFyc2VRdW90ZWQpO2dvb2cuZXhwb3J0UHJvcGVydHkobW9kdWxlJGV4cG9ydHMkYXdlc29tZWNoYXJ0cyR1dGlscyRHY21WM0ZpbHRlclRva2VuaXplci5GaWx0ZXJUb2tlbml6ZXIucHJvdG90eXBlLCJwYXJzZVRzcyIsbW9kdWxlJGV4cG9ydHMkYXdlc29tZWNoYXJ0cyR1dGlscyRHY21WM0ZpbHRlclRva2VuaXplci5GaWx0ZXJUb2tlbml6ZXIucHJvdG90eXBlLnBhcnNlVHNzKTttb2R1bGUkZXhwb3J0cyRhd2Vzb21lY2hhcnRzJHV0aWxzJEdjbVYzRmlsdGVyVG9rZW5pemVyLlF1b3RlZFN0cmluZ1Rva2VuPW1vZHVsZSRleHBvcnRzJGF3ZXNvbWVjaGFydHMkdXRpbHMkVG9rZW5pemVyLlF1b3RlZFN0cmluZ1Rva2VuO3ZhciAkanNjb21wJHNjb3BlJG0xNTU0ODcwMjk4JDAkRGVzY3JpcHRvcj1mdW5jdGlvbigpe3RoaXMucmVzb3VyY2VEZXNjcmlwdG9yc189e307dGhpcy5yZXNvdXJjZVByb21pc2VzXz17fTt0aGlzLnJlc291cmNlSW5GbGlnaHRfPXt9O3RoaXMubWV0cmljRGVzY3JpcHRvcnNfPXt9O3RoaXMubWV0cmljUHJvbWlzZXNfPXt9O3RoaXMubWV0cmljSW5GbGlnaHRfPXt9O3RoaXMuaGVhZGVyc0Rlc2NyaXB0b3JzXz17fTt0aGlzLmhlYWRlcnNQcm9taXNlc189e307dGhpcy5oZWFkZXJzSW5GbGlnaHRfPXt9O3RoaXMuaGVhZGVyc1BlbmRpbmdfPVtdO3RoaXMucmVxdWVzdFBhcmFtc1RlbXBsYXRlXz10aGlzLnRpbWVTZXJpZXNUcmFuc3BvcnRfPW51bGw7dGhpcy5vbkVycm9yXz17fTt0aGlzLmVycm9ySGFuZGxlcklkQ291bnRlcl89MX07CiRqc2NvbXAkc2NvcGUkbTE1NTQ4NzAyOTgkMCREZXNjcmlwdG9yLnByb3RvdHlwZS5nZXRSZXNvdXJjZURlc2NyaXB0b3I9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucmVzb3VyY2VEZXNjcmlwdG9yc19bYV18fG51bGx9OyRqc2NvbXAkc2NvcGUkbTE1NTQ4NzAyOTgkMCREZXNjcmlwdG9yLnByb3RvdHlwZS5nZXRNZXRyaWNEZXNjcmlwdG9yPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm1ldHJpY0Rlc2NyaXB0b3JzX1thXXx8bnVsbH07JGpzY29tcCRzY29wZSRtMTU1NDg3MDI5OCQwJERlc2NyaXB0b3IucHJvdG90eXBlLmdldEhlYWRlcnNUaW1lU2VyaWVzRGF0YT1mdW5jdGlvbihhKXtyZXR1cm4gYT90aGlzLmhlYWRlcnNEZXNjcmlwdG9yc19bYV18fG51bGw6bnVsbH07CiRqc2NvbXAkc2NvcGUkbTE1NTQ4NzAyOTgkMCREZXNjcmlwdG9yLnByb3RvdHlwZS5nZXRSZXNvdXJjZURlc2NyaXB0b3JQcm9taXNlPWZ1bmN0aW9uKGEpe3ZhciBiLGMsZD1uZXcgUHJvbWlzZShmdW5jdGlvbihmLGcpe2I9ZjtjPWd9KSxlPXRoaXMucmVzb3VyY2VEZXNjcmlwdG9yc19bYV07ZT9iKGUpOih0aGlzLnJlc291cmNlUHJvbWlzZXNfW2FdPXRoaXMucmVzb3VyY2VQcm9taXNlc19bYV18fFtdLHRoaXMucmVzb3VyY2VQcm9taXNlc19bYV0ucHVzaCh7cHJvbWlzZTpkLHJlc29sdmU6YixyZWplY3Q6Y30pKTtyZXR1cm4gZH07CiRqc2NvbXAkc2NvcGUkbTE1NTQ4NzAyOTgkMCREZXNjcmlwdG9yLnByb3RvdHlwZS5nZXRNZXRyaWNEZXNjcmlwdG9yUHJvbWlzZT1mdW5jdGlvbihhKXt2YXIgYixjLGQ9bmV3IFByb21pc2UoZnVuY3Rpb24oZixnKXtiPWY7Yz1nfSksZT10aGlzLm1ldHJpY0Rlc2NyaXB0b3JzX1thXTtlP2IoZSk6KHRoaXMubWV0cmljUHJvbWlzZXNfW2FdPXRoaXMubWV0cmljUHJvbWlzZXNfW2FdfHxbXSx0aGlzLm1ldHJpY1Byb21pc2VzX1thXS5wdXNoKHtwcm9taXNlOmQscmVzb2x2ZTpiLHJlamVjdDpjfSkpO3JldHVybiBkfTsKJGpzY29tcCRzY29wZSRtMTU1NDg3MDI5OCQwJERlc2NyaXB0b3IucHJvdG90eXBlLmdldEhlYWRlcnNUaW1lU2VyaWVzRGF0YVByb21pc2U9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXM7aWYoIWMpcmV0dXJuIG51bGw7dmFyIGUsZixnPW5ldyBQcm9taXNlKGZ1bmN0aW9uKG4scCl7ZT1uO2Y9cH0pLGs9dGhpcy5oZWFkZXJzRGVzY3JpcHRvcnNfW2NdO2lmKGspcmV0dXJuIGUoayksZzt0aGlzLmhlYWRlcnNQcm9taXNlc19bY109dGhpcy5oZWFkZXJzUHJvbWlzZXNfW2NdfHxbXTt0aGlzLmhlYWRlcnNQcm9taXNlc19bY10ucHVzaCh7cHJvbWlzZTpnLHJlc29sdmU6ZSxyZWplY3Q6Zn0pO2lmKHRoaXMuaGVhZGVyc0luRmxpZ2h0X1tjXSlyZXR1cm4gZztpZighdGhpcy50aW1lU2VyaWVzVHJhbnNwb3J0X3x8IXRoaXMucmVxdWVzdFBhcmFtc1RlbXBsYXRlXylyZXR1cm4gdGhpcy5oZWFkZXJzUGVuZGluZ18ucHVzaCh7cHJvamVjdDphLHJlc291cmNlVHlwZTpiLG1ldHJpY1R5cGU6Y30pLApnO2s9e307dmFyIGg9e30sbD1mdW5jdGlvbihuKXt2YXIgcD1kLnJlcXVlc3RQYXJhbXNUZW1wbGF0ZV9bbl07cCYmKGhbbl09cCl9O2gudmlldz0iSEVBREVSUyI7bCgiaW50ZXJ2YWwuc3RhcnRUaW1lIik7bCgiaW50ZXJ2YWwuZW5kVGltZSIpO2woImFnZ3JlZ2F0aW9uLmFsaWdubWVudFBlcmlvZCIpO2woInByb2plY3RJZCIpO2hbImFnZ3JlZ2F0aW9uLmNyb3NzU2VyaWVzUmVkdWNlciJdPSJSRURVQ0VfTk9ORSI7aFsiYWdncmVnYXRpb24ucGVyU2VyaWVzQWxpZ25lciJdPSJBTElHTl9NRUFOIjt2YXIgbT0iIjtsPWZ1bmN0aW9uKG4scCl7cCYmKG0mJihtKz0iICIpLG0rPW4rJz0iJytwKyciJyl9O2woInByb2plY3QiLGEpO2woInJlc291cmNlLnR5cGUiLGIpO2woIm1ldHJpYy50eXBlIixjKTttJiYoaC5maWx0ZXI9bSk7dGhpcy5oZWFkZXJzSW5GbGlnaHRfW2NdPSEwO3RoaXMudHJhbnNwb3J0UmVhZCh0aGlzLnRpbWVTZXJpZXNUcmFuc3BvcnRfLGgsayx0aGlzLmhlYWRlcnNJbkZsaWdodF8sCmMsdGhpcy5oZWFkZXJzRGVzY3JpcHRvcnNfLHRoaXMuaGVhZGVyc1Byb21pc2VzXyk7cmV0dXJuIGd9OwokanNjb21wJHNjb3BlJG0xNTU0ODcwMjk4JDAkRGVzY3JpcHRvci5wcm90b3R5cGUuZ2V0RmlsdGVyRGVzY3JpcHRvcj1mdW5jdGlvbihhKXtpZighYSlyZXR1cm4gbnVsbDt2YXIgYj1mdW5jdGlvbihwKXsocD1wLnRvU3RyaW5nKCkpJiYnIic9PT1wWzBdJiYxPHAubGVuZ3RoJiYnIic9PT1wW3AubGVuZ3RoLTFdJiYocD1wLnN1YnN0cmluZygxKSxwPXAuc3Vic3RyaW5nKDAscC5sZW5ndGgtMSkpO3JldHVybiBwfSxjPVtdO3RyeXt2YXIgZD1uZXcgbW9kdWxlJGV4cG9ydHMkYXdlc29tZWNoYXJ0cyR1dGlscyRHY21WM0ZpbHRlclRva2VuaXplci5GaWx0ZXJUb2tlbml6ZXIoYSksZT1kLmdldFRyaW1tZWRUb2tlbnMoKTtmb3IoYT0wO2UmJmE8ZS5sZW5ndGg7KXt2YXIgZj1lW2ErK10sZz1lW2ErK10saz1lW2ErK107YSsrO2lmKGYmJmcmJiI9Ij09PWcudG9TdHJpbmcoKSYmayl7dmFyIGg9Zi50b1N0cmluZygpO3N3aXRjaChoKXtjYXNlICJtZXRyaWMudHlwZSI6dmFyIGw9YihrKTsKYnJlYWs7Y2FzZSAicmVzb3VyY2UudHlwZSI6dmFyIG09YihrKTticmVhaztjYXNlICJwcm9qZWN0Ijp2YXIgbj1iKGspO2JyZWFrO2RlZmF1bHQ6Yy5wdXNoKGYrZytrKX19fX1jYXRjaChwKXt9aWYoIWwmJiFtKXJldHVybiBudWxsO2I9e307bCYmKGIubWV0cmljVHlwZT1sKTttJiYoYi5yZXNvdXJjZVR5cGU9bSk7biYmKGIucHJvamVjdD1uKTtiLmZpbHRlcnM9YztyZXR1cm4gYn07JGpzY29tcCRzY29wZSRtMTU1NDg3MDI5OCQwJERlc2NyaXB0b3IucHJvdG90eXBlLmdldEZpbHRlclN0cmluZz1mdW5jdGlvbihhKXt2YXIgYj1hLmZpbHRlcnMuc2xpY2UoKTthLm1ldHJpY1R5cGUmJmIudW5zaGlmdCgnbWV0cmljLnR5cGU9IicrYS5tZXRyaWNUeXBlKyciJyk7YS5yZXNvdXJjZVR5cGUmJmIudW5zaGlmdCgncmVzb3VyY2UudHlwZT0iJythLnJlc291cmNlVHlwZSsnIicpO2EucHJvamVjdCYmYi51bnNoaWZ0KCdwcm9qZWN0PSInK2EucHJvamVjdCsnIicpO3JldHVybiBiLmpvaW4oIiAiKX07CiRqc2NvbXAkc2NvcGUkbTE1NTQ4NzAyOTgkMCREZXNjcmlwdG9yLnByb3RvdHlwZS5nZXRSZXNvdXJjZUhlYWRlclJlcXVlc3RQYXJhbXM9ZnVuY3Rpb24oYSxiKXt2YXIgYz17fSxkPWIucmVzb3VyY2VUeXBlO2MucmVzb3VyY2U9ZDtiPWIucHJvamVjdDtjLnByb2plY3RJZD1ifHxhLnByb2plY3RJZDtyZXR1cm4gY307JGpzY29tcCRzY29wZSRtMTU1NDg3MDI5OCQwJERlc2NyaXB0b3IucHJvdG90eXBlLmdldE1ldHJpY0hlYWRlclJlcXVlc3RQYXJhbXM9ZnVuY3Rpb24oYSxiKXt2YXIgYz17fSxkPWIubWV0cmljVHlwZTtjLm1ldHJpYz1kO2I9Yi5wcm9qZWN0O2MucHJvamVjdElkPWJ8fGEucHJvamVjdElkO3JldHVybiBjfTsKJGpzY29tcCRzY29wZSRtMTU1NDg3MDI5OCQwJERlc2NyaXB0b3IucHJvdG90eXBlLnRyYW5zcG9ydFJlYWQ9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7dmFyIGs9dGhpczthLnJlYWQoYixjKS50aGVuKGZ1bmN0aW9uKGgpe2RlbGV0ZSBkW2VdO2lmKGgpe3ZhciBsPWg7aC5tZXRyaWNEZXNjcmlwdG9ycyYmMDxoLm1ldHJpY0Rlc2NyaXB0b3JzLmxlbmd0aCYmKGw9aC5tZXRyaWNEZXNjcmlwdG9yc1swXSk7ZltlXT1sOyhnW2VdfHxbXSkuZm9yRWFjaChmdW5jdGlvbihtKXttLnJlc29sdmUobCl9KTtnJiZkZWxldGUgZ1tlXX19KS5jYXRjaChmdW5jdGlvbihoKXtrLmhhbmRsZUVycm9yKGgpfSl9OwokanNjb21wJHNjb3BlJG0xNTU0ODcwMjk4JDAkRGVzY3JpcHRvci5wcm90b3R5cGUuYWRkRXJyb3JIYW5kbGVyPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZXJyb3JIYW5kbGVySWRDb3VudGVyXy50b1N0cmluZygpO3RoaXMub25FcnJvcl9bYl09YTt0aGlzLmVycm9ySGFuZGxlcklkQ291bnRlcl8rKztyZXR1cm4gYn07JGpzY29tcCRzY29wZSRtMTU1NDg3MDI5OCQwJERlc2NyaXB0b3IucHJvdG90eXBlLnJlbW92ZUVycm9ySGFuZGxlcj1mdW5jdGlvbihhKXt2YXIgYj10aGlzLm9uRXJyb3JfW2FdO2RlbGV0ZSB0aGlzLm9uRXJyb3JfW2FdO3JldHVybiBifTskanNjb21wJHNjb3BlJG0xNTU0ODcwMjk4JDAkRGVzY3JpcHRvci5wcm90b3R5cGUuaGFuZGxlRXJyb3I9ZnVuY3Rpb24oYSl7YXdlc29tZWNoYXJ0cy51dGlscy5jb2xsZWN0aW9ucy5mb3JFYWNoKHRoaXMub25FcnJvcl8sZnVuY3Rpb24oYil7ImZ1bmN0aW9uIj09PXR5cGVvZiBiJiZiKGEpfSl9OwokanNjb21wJHNjb3BlJG0xNTU0ODcwMjk4JDAkRGVzY3JpcHRvci5wcm90b3R5cGUuYWRkVG9CYXRjaD1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGssaCl7dmFyIGw9Yi5oZWFkZXJzJiZiLmhlYWRlcnMuYmF0Y2hDb250YWluZXI7aWYoIWwpe3ZhciBtPWQubmV3QmF0Y2gmJmQubmV3QmF0Y2goKTttJiYobD17aW50ZXJjZXB0b3I6ZnVuY3Rpb24obil7bS5hZGQobil9LGZpbmlzaEJhdGNoOmZ1bmN0aW9uKCl7bS50aGVuKGZ1bmN0aW9uKCl7fSxmdW5jdGlvbihuKXtjb25zb2xlLmxvZygiYmF0Y2ggZXJyb3JlZCIsbil9KX19LGMuaGVhZGVycz1jLmhlYWRlcnN8fHt9LGMuaGVhZGVycy5iYXRjaENvbnRhaW5lcj1sLGIuaGVhZGVycz1iLmhlYWRlcnN8fHt9LGIuaGVhZGVycy5iYXRjaENvbnRhaW5lcj1sKX1pZighbClyZXR1cm4hMTtjPWQucGF0aFRlbXBsYXRlO2QucGF0aFRlbXBsYXRlPWU7dGhpcy50cmFuc3BvcnRSZWFkKGQsYSxiLGssaCxmLGcpO2QucGF0aFRlbXBsYXRlPWM7CnJldHVybiEwfTsKJGpzY29tcCRzY29wZSRtMTU1NDg3MDI5OCQwJERlc2NyaXB0b3IucHJvdG90eXBlLmF0dGFjaERlc2NyaXB0b3JSZXF1ZXN0PWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPXRoaXM7ZD1kfHxhd2Vzb21lY2hhcnRzLmNvbmZpZy5zZXR0aW5ncy5nZXRCYXNlVXJsKCJnY21fdjMiKXx8IiI7aWYoIWF3ZXNvbWVjaGFydHMuY29uZmlnLnNldHRpbmdzLmlzV2hpdGVsaXN0ZWQoImNoYXJ0LXN1YnRpdGxlcyIpKXJldHVybiBiOyF0aGlzLnRpbWVTZXJpZXNUcmFuc3BvcnRfJiZjLnBhdGhUZW1wbGF0ZSYmLTEhPT1jLnBhdGhUZW1wbGF0ZS5pbmRleE9mKCIvdjMvcHJvamVjdHMvOnByb2plY3RJZC90aW1lU2VyaWVzIikmJmFbImFnZ3JlZ2F0aW9uLmFsaWdubWVudFBlcmlvZCJdJiYodGhpcy50aW1lU2VyaWVzVHJhbnNwb3J0Xz1jLHRoaXMucmVxdWVzdFBhcmFtc1RlbXBsYXRlXz1hLHRoaXMuaGVhZGVyc1BlbmRpbmdfLmZvckVhY2goZnVuY3Rpb24obCl7ZS5nZXRIZWFkZXJzVGltZVNlcmllc0RhdGFQcm9taXNlKGwucHJvamVjdCxsLnJlc291cmNlVHlwZSwKbC5tZXRyaWNUeXBlKX0pLHRoaXMuaGVhZGVyc1BlbmRpbmdfPVtdKTtiPWJ8fHt9O3ZhciBmPWEuZmlsdGVyO2lmKCFmKXJldHVybiBiO2Y9dGhpcy5nZXRGaWx0ZXJEZXNjcmlwdG9yKGYpO2lmKCFmKXJldHVybiBiO3ZhciBnPWYubWV0cmljVHlwZTtpZihnJiYhdGhpcy5tZXRyaWNEZXNjcmlwdG9yc19bZ10mJiF0aGlzLm1ldHJpY0luRmxpZ2h0X1tnXSl7dmFyIGs9dGhpcy5nZXRNZXRyaWNIZWFkZXJSZXF1ZXN0UGFyYW1zKGEsZiksaD1hd2Vzb21lY2hhcnRzLnV0aWxzLmNvbGxlY3Rpb25zLmNsb25lRGVlcChiKTt0aGlzLm1ldHJpY0luRmxpZ2h0X1tnXT0hMDt0aGlzLmFkZFRvQmF0Y2goayxoLGIsYyxkKyIvdjMvcHJvamVjdHMvOnByb2plY3RJZC9tZXRyaWNEZXNjcmlwdG9ycz9maWx0ZXI9bWV0cmljLnR5cGUlMjAlM0QlMjAlMjI6Om1ldHJpYyUyMiIsdGhpcy5tZXRyaWNEZXNjcmlwdG9yc18sdGhpcy5tZXRyaWNQcm9taXNlc18sdGhpcy5tZXRyaWNJbkZsaWdodF8sCmcpfSEoZz1mLnJlc291cmNlVHlwZSl8fHRoaXMucmVzb3VyY2VEZXNjcmlwdG9yc19bZ118fHRoaXMucmVzb3VyY2VJbkZsaWdodF9bZ118fChhPXRoaXMuZ2V0UmVzb3VyY2VIZWFkZXJSZXF1ZXN0UGFyYW1zKGEsZiksZj1hd2Vzb21lY2hhcnRzLnV0aWxzLmNvbGxlY3Rpb25zLmNsb25lRGVlcChiKSx0aGlzLnJlc291cmNlSW5GbGlnaHRfW2ddPSEwLHRoaXMuYWRkVG9CYXRjaChhLGYsYixjLGQrIi92My9wcm9qZWN0cy86cHJvamVjdElkL21vbml0b3JlZFJlc291cmNlRGVzY3JpcHRvcnMvOjpyZXNvdXJjZSIsdGhpcy5yZXNvdXJjZURlc2NyaXB0b3JzXyx0aGlzLnJlc291cmNlUHJvbWlzZXNfLHRoaXMucmVzb3VyY2VJbkZsaWdodF8sZykpO3JldHVybiBifTsKJGpzY29tcCRzY29wZSRtMTU1NDg3MDI5OCQwJERlc2NyaXB0b3IucHJvdG90eXBlLmZpbmlzaEJhdGNoPWZ1bmN0aW9uKGEpe2EmJmEuaGVhZGVycyYmYS5oZWFkZXJzLmJhdGNoQ29udGFpbmVyJiZhLmhlYWRlcnMuYmF0Y2hDb250YWluZXIuZmluaXNoQmF0Y2gmJmEuaGVhZGVycy5iYXRjaENvbnRhaW5lci5maW5pc2hCYXRjaCgpfTtnb29nLmV4cG9ydFByb3BlcnR5KCRqc2NvbXAkc2NvcGUkbTE1NTQ4NzAyOTgkMCREZXNjcmlwdG9yLnByb3RvdHlwZSwiZmluaXNoQmF0Y2giLCRqc2NvbXAkc2NvcGUkbTE1NTQ4NzAyOTgkMCREZXNjcmlwdG9yLnByb3RvdHlwZS5maW5pc2hCYXRjaCk7Z29vZy5leHBvcnRQcm9wZXJ0eSgkanNjb21wJHNjb3BlJG0xNTU0ODcwMjk4JDAkRGVzY3JpcHRvci5wcm90b3R5cGUsImF0dGFjaERlc2NyaXB0b3JSZXF1ZXN0IiwkanNjb21wJHNjb3BlJG0xNTU0ODcwMjk4JDAkRGVzY3JpcHRvci5wcm90b3R5cGUuYXR0YWNoRGVzY3JpcHRvclJlcXVlc3QpOwpnb29nLmV4cG9ydFByb3BlcnR5KCRqc2NvbXAkc2NvcGUkbTE1NTQ4NzAyOTgkMCREZXNjcmlwdG9yLnByb3RvdHlwZSwicmVtb3ZlRXJyb3JIYW5kbGVyIiwkanNjb21wJHNjb3BlJG0xNTU0ODcwMjk4JDAkRGVzY3JpcHRvci5wcm90b3R5cGUucmVtb3ZlRXJyb3JIYW5kbGVyKTtnb29nLmV4cG9ydFByb3BlcnR5KCRqc2NvbXAkc2NvcGUkbTE1NTQ4NzAyOTgkMCREZXNjcmlwdG9yLnByb3RvdHlwZSwiYWRkRXJyb3JIYW5kbGVyIiwkanNjb21wJHNjb3BlJG0xNTU0ODcwMjk4JDAkRGVzY3JpcHRvci5wcm90b3R5cGUuYWRkRXJyb3JIYW5kbGVyKTtnb29nLmV4cG9ydFByb3BlcnR5KCRqc2NvbXAkc2NvcGUkbTE1NTQ4NzAyOTgkMCREZXNjcmlwdG9yLnByb3RvdHlwZSwiZ2V0RmlsdGVyU3RyaW5nIiwkanNjb21wJHNjb3BlJG0xNTU0ODcwMjk4JDAkRGVzY3JpcHRvci5wcm90b3R5cGUuZ2V0RmlsdGVyU3RyaW5nKTsKZ29vZy5leHBvcnRQcm9wZXJ0eSgkanNjb21wJHNjb3BlJG0xNTU0ODcwMjk4JDAkRGVzY3JpcHRvci5wcm90b3R5cGUsImdldEZpbHRlckRlc2NyaXB0b3IiLCRqc2NvbXAkc2NvcGUkbTE1NTQ4NzAyOTgkMCREZXNjcmlwdG9yLnByb3RvdHlwZS5nZXRGaWx0ZXJEZXNjcmlwdG9yKTtnb29nLmV4cG9ydFByb3BlcnR5KCRqc2NvbXAkc2NvcGUkbTE1NTQ4NzAyOTgkMCREZXNjcmlwdG9yLnByb3RvdHlwZSwiZ2V0SGVhZGVyc1RpbWVTZXJpZXNEYXRhUHJvbWlzZSIsJGpzY29tcCRzY29wZSRtMTU1NDg3MDI5OCQwJERlc2NyaXB0b3IucHJvdG90eXBlLmdldEhlYWRlcnNUaW1lU2VyaWVzRGF0YVByb21pc2UpO2dvb2cuZXhwb3J0UHJvcGVydHkoJGpzY29tcCRzY29wZSRtMTU1NDg3MDI5OCQwJERlc2NyaXB0b3IucHJvdG90eXBlLCJnZXRNZXRyaWNEZXNjcmlwdG9yUHJvbWlzZSIsJGpzY29tcCRzY29wZSRtMTU1NDg3MDI5OCQwJERlc2NyaXB0b3IucHJvdG90eXBlLmdldE1ldHJpY0Rlc2NyaXB0b3JQcm9taXNlKTsKZ29vZy5leHBvcnRQcm9wZXJ0eSgkanNjb21wJHNjb3BlJG0xNTU0ODcwMjk4JDAkRGVzY3JpcHRvci5wcm90b3R5cGUsImdldFJlc291cmNlRGVzY3JpcHRvclByb21pc2UiLCRqc2NvbXAkc2NvcGUkbTE1NTQ4NzAyOTgkMCREZXNjcmlwdG9yLnByb3RvdHlwZS5nZXRSZXNvdXJjZURlc2NyaXB0b3JQcm9taXNlKTtnb29nLmV4cG9ydFByb3BlcnR5KCRqc2NvbXAkc2NvcGUkbTE1NTQ4NzAyOTgkMCREZXNjcmlwdG9yLnByb3RvdHlwZSwiZ2V0SGVhZGVyc1RpbWVTZXJpZXNEYXRhIiwkanNjb21wJHNjb3BlJG0xNTU0ODcwMjk4JDAkRGVzY3JpcHRvci5wcm90b3R5cGUuZ2V0SGVhZGVyc1RpbWVTZXJpZXNEYXRhKTtnb29nLmV4cG9ydFByb3BlcnR5KCRqc2NvbXAkc2NvcGUkbTE1NTQ4NzAyOTgkMCREZXNjcmlwdG9yLnByb3RvdHlwZSwiZ2V0TWV0cmljRGVzY3JpcHRvciIsJGpzY29tcCRzY29wZSRtMTU1NDg3MDI5OCQwJERlc2NyaXB0b3IucHJvdG90eXBlLmdldE1ldHJpY0Rlc2NyaXB0b3IpOwpnb29nLmV4cG9ydFByb3BlcnR5KCRqc2NvbXAkc2NvcGUkbTE1NTQ4NzAyOTgkMCREZXNjcmlwdG9yLnByb3RvdHlwZSwiZ2V0UmVzb3VyY2VEZXNjcmlwdG9yIiwkanNjb21wJHNjb3BlJG0xNTU0ODcwMjk4JDAkRGVzY3JpcHRvci5wcm90b3R5cGUuZ2V0UmVzb3VyY2VEZXNjcmlwdG9yKTthd2Vzb21lY2hhcnRzLnV0aWxzLkRlc2NyaXB0b3I9bmV3ICRqc2NvbXAkc2NvcGUkbTE1NTQ4NzAyOTgkMCREZXNjcmlwdG9yO2dvb2cuZXhwb3J0U3ltYm9sKCJhd2Vzb21lY2hhcnRzLnV0aWxzLkRlc2NyaXB0b3IiLGF3ZXNvbWVjaGFydHMudXRpbHMuRGVzY3JpcHRvcik7ZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkc3RhY2tkcml2ZXIkbmcyX2F3ZXNvbWVjaGFydHMkc2hhcmVkJHV0aWxzJGRvbWFpbnNfZG9tYWluc0ludGVyc2VjdChhLGIpe3JldHVybiBhWzFdPj1iWzBdJiZiWzFdPj1hWzBdfQpmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRzdGFja2RyaXZlciRuZzJfYXdlc29tZWNoYXJ0cyRzaGFyZWQkdXRpbHMkZG9tYWluc19tZXJnZUludGVydmFscyhhKXtpZigxPj1hLmxlbmd0aClyZXR1cm4gYTt2YXIgYj1bXSxjPVstMSwtMV07YT1hLnNvcnQoZnVuY3Rpb24oZSxmKXtyZXR1cm4rZVswXS0rZlswXX0pO2IucHVzaChhWzBdKTtmb3IodmFyIGQ9MTtkPGEubGVuZ3RoO2QrKyljPWJbYi5sZW5ndGgtMV0sY1sxXTxhW2RdWzBdP2IucHVzaChhW2RdKTpjWzFdPGFbZF1bMV0mJihjPVtjWzBdLGFbZF1bMV1dLGIucG9wKCksYi5wdXNoKGMpKTtmb3IoO2EubGVuZ3RoOylhLnBvcCgpO2Zvcig7Yi5sZW5ndGg7KShjPWIucG9wKCkpJiZhLnVuc2hpZnQoYyk7cmV0dXJuIGF9O2Z1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JHN0YWNrZHJpdmVyJG5nMl9hd2Vzb21lY2hhcnRzJHNoYXJlZCR1dGlscyRpbmNvbXBsZXRlX2Nsb3VkX3JlZ2lvbnNfaW5jb21wbGV0ZUNsb3VkUmVnaW9uc1RyYW5zbGF0aW9uKGEsYil7dmFyIGM9W10sZDtpZigobnVsbD09KGQ9YSk/MDpkLmluY29tcGxldGVDbG91ZFJlZ2lvbnMpJiZiJiZiWzBdKWZvcihhPWEuaW5jb21wbGV0ZUNsb3VkUmVnaW9ucyxhPSRqc2NvbXAubWFrZUl0ZXJhdG9yKGEpLGQ9YS5uZXh0KCk7IWQuZG9uZTtkPWEubmV4dCgpKXtkPWQudmFsdWU7dmFyIGU9dm9pZCAwLGY9bnVsbD09KGU9ZC5yZXRyaWFibGVFcnJvckZyZWVUaW1lSW50ZXJ2YWwpP3ZvaWQgMDplLnN0YXJ0VGltZTtlPXZvaWQgMDtkLmNsb3VkUmVnaW9uJiZmJiYobnVsbD09KGU9ZC5pbmNvbXBsZXRlUmVhc29ucyk/MDplLmxlbmd0aCkmJihmPShuZXcgRGF0ZShmKSkudmFsdWVPZigpLGU9KG5ldyBEYXRlKGJbMF0pKS52YWx1ZU9mKCksCmY+ZSYmYy5wdXNoKHtjbG91ZFJlZ2lvbjpkLmNsb3VkUmVnaW9uLGluY29tcGxldGVJbnRlcnZhbDp7c3RhcnRUaW1lOm5ldyBEYXRlKGUpLGVuZFRpbWU6bmV3IERhdGUoZil9LGluY29tcGxldGVSZWFzb25zOmQuaW5jb21wbGV0ZVJlYXNvbnN9KSl9cmV0dXJuIGN9CmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JHN0YWNrZHJpdmVyJG5nMl9hd2Vzb21lY2hhcnRzJHNoYXJlZCR1dGlscyRpbmNvbXBsZXRlX2Nsb3VkX3JlZ2lvbnNfaW5jb21wbGV0ZVJlZ2lvbnNPdmVybGFwKGEsYil7cmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JHN0YWNrZHJpdmVyJG5nMl9hd2Vzb21lY2hhcnRzJHNoYXJlZCR1dGlscyRkb21haW5zX2RvbWFpbnNJbnRlcnNlY3QoW2EuaW5jb21wbGV0ZUludGVydmFsLnN0YXJ0VGltZS52YWx1ZU9mKCksYS5pbmNvbXBsZXRlSW50ZXJ2YWwuZW5kVGltZS52YWx1ZU9mKCldLFtiLmluY29tcGxldGVJbnRlcnZhbC5zdGFydFRpbWUudmFsdWVPZigpLGIuaW5jb21wbGV0ZUludGVydmFsLmVuZFRpbWUudmFsdWVPZigpXSl9CmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JHN0YWNrZHJpdmVyJG5nMl9hd2Vzb21lY2hhcnRzJHNoYXJlZCR1dGlscyRpbmNvbXBsZXRlX2Nsb3VkX3JlZ2lvbnNfbWVyZ2VJbmNvbXBsZXRlQ2xvdWRSZWdpb25zKGEsYil7dmFyIGMsZD1udWxsIT0oYz1hKT9jOltdLGU7aWYobnVsbD09KGU9Yik/MDplLmxlbmd0aCl7dmFyIGYsZztiPShudWxsIT0oZj1iKT9mOltdKS5jb25jYXQobnVsbCE9KGc9YSk/ZzpbXSk7Yi5zb3J0KGZ1bmN0aW9uKGssaCl7cmV0dXJuIGsuaW5jb21wbGV0ZUludGVydmFsLnN0YXJ0VGltZS52YWx1ZU9mKCktaC5pbmNvbXBsZXRlSW50ZXJ2YWwuc3RhcnRUaW1lLnZhbHVlT2YoKX0pO2Q9W107YT17fTtmPSRqc2NvbXAubWFrZUl0ZXJhdG9yKGIpO2ZvcihnPWYubmV4dCgpOyFnLmRvbmU7YT17JGpzY29tcCRsb29wJHByb3AkcmVnaW9uJDEyMDphLiRqc2NvbXAkbG9vcCRwcm9wJHJlZ2lvbiQxMjB9LGc9Zi5uZXh0KCkpYS4kanNjb21wJGxvb3AkcHJvcCRyZWdpb24kMTIwPQpnLnZhbHVlLGc9ZC5maW5kSW5kZXgoZnVuY3Rpb24oayl7cmV0dXJuIGZ1bmN0aW9uKGgpe3JldHVybiBoLmNsb3VkUmVnaW9uPT09ay4kanNjb21wJGxvb3AkcHJvcCRyZWdpb24kMTIwLmNsb3VkUmVnaW9uJiZtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRzdGFja2RyaXZlciRuZzJfYXdlc29tZWNoYXJ0cyRzaGFyZWQkdXRpbHMkaW5jb21wbGV0ZV9jbG91ZF9yZWdpb25zX2luY29tcGxldGVSZWdpb25zT3ZlcmxhcChoLGsuJGpzY29tcCRsb29wJHByb3AkcmVnaW9uJDEyMCkmJmguaW5jb21wbGV0ZVJlYXNvbnMubGVuZ3RoPT09ay4kanNjb21wJGxvb3AkcHJvcCRyZWdpb24kMTIwLmluY29tcGxldGVSZWFzb25zLmxlbmd0aCYmaC5pbmNvbXBsZXRlUmVhc29ucy5ldmVyeShmdW5jdGlvbihsKXtyZXR1cm4gay4kanNjb21wJGxvb3AkcHJvcCRyZWdpb24kMTIwLmluY29tcGxldGVSZWFzb25zLmluY2x1ZGVzKGwpfSl9fShhKSksYj1kW2ddLC0xPGcmJmI/ZFtnXT0KT2JqZWN0LmFzc2lnbih7fSxiLHtpbmNvbXBsZXRlSW50ZXJ2YWw6e3N0YXJ0VGltZTpuZXcgRGF0ZShNYXRoLm1pbihhLiRqc2NvbXAkbG9vcCRwcm9wJHJlZ2lvbiQxMjAuaW5jb21wbGV0ZUludGVydmFsLnN0YXJ0VGltZS52YWx1ZU9mKCksYS4kanNjb21wJGxvb3AkcHJvcCRyZWdpb24kMTIwLmluY29tcGxldGVJbnRlcnZhbC5lbmRUaW1lLnZhbHVlT2YoKSxiLmluY29tcGxldGVJbnRlcnZhbC5zdGFydFRpbWUudmFsdWVPZigpLGIuaW5jb21wbGV0ZUludGVydmFsLmVuZFRpbWUudmFsdWVPZigpKSksZW5kVGltZTpuZXcgRGF0ZShNYXRoLm1heChhLiRqc2NvbXAkbG9vcCRwcm9wJHJlZ2lvbiQxMjAuaW5jb21wbGV0ZUludGVydmFsLnN0YXJ0VGltZS52YWx1ZU9mKCksYS4kanNjb21wJGxvb3AkcHJvcCRyZWdpb24kMTIwLmluY29tcGxldGVJbnRlcnZhbC5lbmRUaW1lLnZhbHVlT2YoKSxiLmluY29tcGxldGVJbnRlcnZhbC5zdGFydFRpbWUudmFsdWVPZigpLGIuaW5jb21wbGV0ZUludGVydmFsLmVuZFRpbWUudmFsdWVPZigpKSl9fSk6CmQucHVzaChhLiRqc2NvbXAkbG9vcCRwcm9wJHJlZ2lvbiQxMjApfXJldHVybiBkfTthd2Vzb21lY2hhcnRzLmRhdGFsYXllcj17fTthd2Vzb21lY2hhcnRzLmRhdGFsYXllci50cmFuc2xhdGlvbj17fTthd2Vzb21lY2hhcnRzLmRhdGFsYXllci50cmFuc2xhdGlvbi5HY21WM01ldHJpY3NUcmFuc2xhdGlvbj17fTthd2Vzb21lY2hhcnRzLmRhdGFsYXllci50cmFuc2xhdGlvbi5HY21WM01ldHJpY3NUcmFuc2xhdGlvbi5WQUxfUlhfPS9WYWx1ZSQvO2F3ZXNvbWVjaGFydHMuZGF0YWxheWVyLnRyYW5zbGF0aW9uLkdjbVYzTWV0cmljc1RyYW5zbGF0aW9uLlNQTElUX05BTUVTUEFDRV9SWF89LyhbXlwvXSopXC8oLiopLzsKYXdlc29tZWNoYXJ0cy5kYXRhbGF5ZXIudHJhbnNsYXRpb24uR2NtVjNNZXRyaWNzVHJhbnNsYXRpb24uc3RyaW5nVG9NZXRyaWNLaW5kXz17VU5TUEVDSUZJRUQ6YXdlc29tZWNoYXJ0cy5jb25zdGFudHMuTUVUUklDX0tJTkQuVU5TUEVDSUZJRUQsR0FVR0U6YXdlc29tZWNoYXJ0cy5jb25zdGFudHMuTUVUUklDX0tJTkQuR0FVR0UsREVMVEE6YXdlc29tZWNoYXJ0cy5jb25zdGFudHMuTUVUUklDX0tJTkQuREVMVEEsQ1VNVUxBVElWRTphd2Vzb21lY2hhcnRzLmNvbnN0YW50cy5NRVRSSUNfS0lORC5DVU1VTEFUSVZFfTthd2Vzb21lY2hhcnRzLmRhdGFsYXllci50cmFuc2xhdGlvbi5HY21WM01ldHJpY3NUcmFuc2xhdGlvbi5zdHJpbmdUb1ZhbHVlVHlwZV89e0RJU1RSSUJVVElPTjphd2Vzb21lY2hhcnRzLmNvbnN0YW50cy5NRVRSSUNfVkFMVUVfVFlQRS5ESVNUUklCVVRJT059Owphd2Vzb21lY2hhcnRzLmRhdGFsYXllci50cmFuc2xhdGlvbi5HY21WM01ldHJpY3NUcmFuc2xhdGlvbi5maW5kVmFsdWVUeXBlPWZ1bmN0aW9uKGEpe3JldHVybiBhIGluIGF3ZXNvbWVjaGFydHMuZGF0YWxheWVyLnRyYW5zbGF0aW9uLkdjbVYzTWV0cmljc1RyYW5zbGF0aW9uLnN0cmluZ1RvVmFsdWVUeXBlXz9hd2Vzb21lY2hhcnRzLmRhdGFsYXllci50cmFuc2xhdGlvbi5HY21WM01ldHJpY3NUcmFuc2xhdGlvbi5zdHJpbmdUb1ZhbHVlVHlwZV9bYV06YXdlc29tZWNoYXJ0cy5jb25zdGFudHMuTUVUUklDX1ZBTFVFX1RZUEUuTlVNRVJJQ307CmF3ZXNvbWVjaGFydHMuZGF0YWxheWVyLnRyYW5zbGF0aW9uLkdjbVYzTWV0cmljc1RyYW5zbGF0aW9uLmZpbmRNZXRyaWNLaW5kPWZ1bmN0aW9uKGEpe3JldHVybiBhIGluIGF3ZXNvbWVjaGFydHMuZGF0YWxheWVyLnRyYW5zbGF0aW9uLkdjbVYzTWV0cmljc1RyYW5zbGF0aW9uLnN0cmluZ1RvTWV0cmljS2luZF8/YXdlc29tZWNoYXJ0cy5kYXRhbGF5ZXIudHJhbnNsYXRpb24uR2NtVjNNZXRyaWNzVHJhbnNsYXRpb24uc3RyaW5nVG9NZXRyaWNLaW5kX1thXTphd2Vzb21lY2hhcnRzLmNvbnN0YW50cy5NRVRSSUNfS0lORC5VTlNQRUNJRklFRH07YXdlc29tZWNoYXJ0cy5kYXRhbGF5ZXIudHJhbnNsYXRpb24uR2NtVjNNZXRyaWNzVHJhbnNsYXRpb24uaXNDb21wb3NpdGVUeXBlPWZ1bmN0aW9uKGEpe3JldHVybiBhPT09YXdlc29tZWNoYXJ0cy5jb25zdGFudHMuTUVUUklDX1ZBTFVFX1RZUEUuRElTVFJJQlVUSU9OfTsKYXdlc29tZWNoYXJ0cy5kYXRhbGF5ZXIudHJhbnNsYXRpb24uR2NtVjNNZXRyaWNzVHJhbnNsYXRpb24uaUhhdGVUaGlzQnV0RG9JdEFueXdheV89ZnVuY3Rpb24oYSxiKXtiPT09YXdlc29tZWNoYXJ0cy5jb25zdGFudHMuTUVUUklDX1ZBTFVFX1RZUEUuRElTVFJJQlVUSU9OJiYoYS5idWNrZXRDb3VudHM9ImJ1Y2tldENvdW50cyJpbiBhP2F3ZXNvbWVjaGFydHMudXRpbHMuYXJyYXlzLm1hcChhLmJ1Y2tldENvdW50cyxmdW5jdGlvbihjKXtyZXR1cm4gcGFyc2VJbnQoYywxMCl9KTpbXSxhLmNvdW50PXBhcnNlSW50KGEuY291bnQsMTApKTtyZXR1cm4gYX07YXdlc29tZWNoYXJ0cy5kYXRhbGF5ZXIudHJhbnNsYXRpb24uR2NtVjNNZXRyaWNzVHJhbnNsYXRpb24uZmluZEtleT1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYyBpbiBhKWlmKGEuaGFzT3duUHJvcGVydHkoYykmJmMubWF0Y2goYikpcmV0dXJuIGM7cmV0dXJuIG51bGx9Owphd2Vzb21lY2hhcnRzLmRhdGFsYXllci50cmFuc2xhdGlvbi5HY21WM01ldHJpY3NUcmFuc2xhdGlvbi5sYWJlbExpc3Q9ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe2E9W2EsYl07dmFyIGc9Yj1udWxsLGs9bnVsbDtjJiYoZz1jWyJhZ2dyZWdhdGlvbi5jcm9zc1Nlcmllc1JlZHVjZXIiXSxiPWNbImFnZ3JlZ2F0aW9uLnBlclNlcmllc0FsaWduZXIiXSxrPWMuZmlsdGVyKTtiJiZhLnB1c2goYik7ZyYmYS5wdXNoKGcpO2smJmEucHVzaChrKTtpZighZCYmIWUpcmV0dXJuIGE7Yz1mdW5jdGlvbihoKXt2YXIgbD1bXTtoJiYoYXdlc29tZWNoYXJ0cy51dGlscy5jb2xsZWN0aW9ucy5mb3JFYWNoKGgsZnVuY3Rpb24obSxuKXttJiZsLnB1c2gobisiOiIrbSl9KSxsLnNvcnQoKSk7cmV0dXJuIGx9O2Q9YyhkKTtlPWMoZSk7ZiYmKGI9Zi51c2VyTGFiZWxzLGI9YyhiKSxmPWYuc3lzdGVtTGFiZWxzLGY9YyhmKSxhPWEuY29uY2F0KGIsZikpO3JldHVybiBhLmNvbmNhdChkLGUpfTsKYXdlc29tZWNoYXJ0cy5kYXRhbGF5ZXIudHJhbnNsYXRpb24uR2NtVjNNZXRyaWNzVHJhbnNsYXRpb24uZ2V0VGltZVNlcmllcz1mdW5jdGlvbihhKXtyZXR1cm4gYS50aW1lU2VyaWVzfTthd2Vzb21lY2hhcnRzLmRhdGFsYXllci50cmFuc2xhdGlvbi5HY21WM01ldHJpY3NUcmFuc2xhdGlvbi5nZXRNZXRyaWNLaW5kPWZ1bmN0aW9uKGEpe3JldHVybiBhLm1ldHJpY0tpbmR9O2F3ZXNvbWVjaGFydHMuZGF0YWxheWVyLnRyYW5zbGF0aW9uLkdjbVYzTWV0cmljc1RyYW5zbGF0aW9uLmdldFZhbHVlVHlwZT1mdW5jdGlvbihhKXtyZXR1cm4gYS52YWx1ZVR5cGV9O2F3ZXNvbWVjaGFydHMuZGF0YWxheWVyLnRyYW5zbGF0aW9uLkdjbVYzTWV0cmljc1RyYW5zbGF0aW9uLmdldFJlc291cmNlVHlwZT1mdW5jdGlvbihhKXtyZXR1cm4gYS5yZXNvdXJjZS50eXBlfTsKYXdlc29tZWNoYXJ0cy5kYXRhbGF5ZXIudHJhbnNsYXRpb24uR2NtVjNNZXRyaWNzVHJhbnNsYXRpb24uZ2V0TWV0cmljVHlwZT1mdW5jdGlvbihhKXtyZXR1cm4gYS5tZXRyaWMudHlwZX07YXdlc29tZWNoYXJ0cy5kYXRhbGF5ZXIudHJhbnNsYXRpb24uR2NtVjNNZXRyaWNzVHJhbnNsYXRpb24uZ2V0UmVzb3VyY2VMYWJlbHM9ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVzb3VyY2UubGFiZWxzfTthd2Vzb21lY2hhcnRzLmRhdGFsYXllci50cmFuc2xhdGlvbi5HY21WM01ldHJpY3NUcmFuc2xhdGlvbi5nZXRNZXRyaWNMYWJlbHM9ZnVuY3Rpb24oYSl7cmV0dXJuIGEubWV0cmljLmxhYmVsc307YXdlc29tZWNoYXJ0cy5kYXRhbGF5ZXIudHJhbnNsYXRpb24uR2NtVjNNZXRyaWNzVHJhbnNsYXRpb24uZ2V0VGltZXNlcmllc01ldGFkYXRhPWZ1bmN0aW9uKGEpe3JldHVybiBhLm1ldGFkYXRhfTsKYXdlc29tZWNoYXJ0cy5kYXRhbGF5ZXIudHJhbnNsYXRpb24uR2NtVjNNZXRyaWNzVHJhbnNsYXRpb24uZ2V0UG9pbnRzPWZ1bmN0aW9uKGEpe3JldHVybiBhLnBvaW50c307CmF3ZXNvbWVjaGFydHMuZGF0YWxheWVyLnRyYW5zbGF0aW9uLkdjbVYzTWV0cmljc1RyYW5zbGF0aW9uLmNvbnN0cnVjdExlZ2VuZD1mdW5jdGlvbihhLGIpe3ZhciBjPSJpZCIsZD0iIjtpZighYSlyZXR1cm57YmFzZU5hbWU6ZCxpZDpjfTt2YXIgZT1hd2Vzb21lY2hhcnRzLmRhdGFsYXllci50cmFuc2xhdGlvbi5HY21WM01ldHJpY3NUcmFuc2xhdGlvbi5nZXRNZXRyaWNUeXBlKGEpLm1hdGNoKGF3ZXNvbWVjaGFydHMuZGF0YWxheWVyLnRyYW5zbGF0aW9uLkdjbVYzTWV0cmljc1RyYW5zbGF0aW9uLlNQTElUX05BTUVTUEFDRV9SWF8pO2lmKCFlKXJldHVybiBhd2Vzb21lY2hhcnRzLmRhdGFsYXllci50cmFuc2xhdGlvbi5HY21WM01ldHJpY3NUcmFuc2xhdGlvbi5nZXRNZXRyaWNUeXBlKGEpJiYoYz1hd2Vzb21lY2hhcnRzLmRhdGFsYXllci50cmFuc2xhdGlvbi5HY21WM01ldHJpY3NUcmFuc2xhdGlvbi5nZXRNZXRyaWNUeXBlKGEpKSx7YmFzZU5hbWU6IlNMTyIsaWQ6Y307Mzw9CmUubGVuZ3RoJiYoZD1lWzJdKTthPWF3ZXNvbWVjaGFydHMuZGF0YWxheWVyLnRyYW5zbGF0aW9uLkdjbVYzTWV0cmljc1RyYW5zbGF0aW9uLmxhYmVsTGlzdChkLGF3ZXNvbWVjaGFydHMuZGF0YWxheWVyLnRyYW5zbGF0aW9uLkdjbVYzTWV0cmljc1RyYW5zbGF0aW9uLmdldFJlc291cmNlVHlwZShhKSxiLGF3ZXNvbWVjaGFydHMuZGF0YWxheWVyLnRyYW5zbGF0aW9uLkdjbVYzTWV0cmljc1RyYW5zbGF0aW9uLmdldFJlc291cmNlTGFiZWxzKGEpLGF3ZXNvbWVjaGFydHMuZGF0YWxheWVyLnRyYW5zbGF0aW9uLkdjbVYzTWV0cmljc1RyYW5zbGF0aW9uLmdldE1ldHJpY0xhYmVscyhhKSxhd2Vzb21lY2hhcnRzLmRhdGFsYXllci50cmFuc2xhdGlvbi5HY21WM01ldHJpY3NUcmFuc2xhdGlvbi5nZXRUaW1lc2VyaWVzTWV0YWRhdGEoYSkpO2M9YS5qb2luKCIuIik7cmV0dXJue2Jhc2VOYW1lOmQsaWQ6Y319Owphd2Vzb21lY2hhcnRzLmRhdGFsYXllci50cmFuc2xhdGlvbi5HY21WM01ldHJpY3NUcmFuc2xhdGlvbi5nZXRJbnN0YW5jZU5hbWVPcklkRm49ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oYSl7cmV0dXJuIGEmJmEucmVzb3VyY2UmJmEucmVzb3VyY2UubGFiZWxzP2EucmVzb3VyY2UubGFiZWxzLmluc3RhbmNlX2lkOiIjRVJSIn19O2F3ZXNvbWVjaGFydHMuZGF0YWxheWVyLnRyYW5zbGF0aW9uLkdjbVYzTWV0cmljc1RyYW5zbGF0aW9uLmdldE1ldHJpY05hbWVGbj1mdW5jdGlvbihhKXt2YXIgYj1udWxsO2F3ZXNvbWVjaGFydHMudXRpbHMuRGVzY3JpcHRvci5nZXRNZXRyaWNEZXNjcmlwdG9yUHJvbWlzZShhKS50aGVuKGZ1bmN0aW9uKGMpe2I9Yy5kaXNwbGF5TmFtZX0pO3JldHVybiBmdW5jdGlvbihjKXtyZXR1cm4gYj9iOmMuc2hvcnRNZXRyaWN9fTsKYXdlc29tZWNoYXJ0cy5kYXRhbGF5ZXIudHJhbnNsYXRpb24uR2NtVjNNZXRyaWNzVHJhbnNsYXRpb24udHJhbnNsYXRlUG9pbnRzPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWF3ZXNvbWVjaGFydHMuZGF0YWxheWVyLnRyYW5zbGF0aW9uLkdjbVYzTWV0cmljc1RyYW5zbGF0aW9uLmZpbmRLZXkoYVswXS52YWx1ZSxhd2Vzb21lY2hhcnRzLmRhdGFsYXllci50cmFuc2xhdGlvbi5HY21WM01ldHJpY3NUcmFuc2xhdGlvbi5WQUxfUlhfKTt2YXIgZj1hd2Vzb21lY2hhcnRzLmRhdGFsYXllci50cmFuc2xhdGlvbi5HY21WM01ldHJpY3NUcmFuc2xhdGlvbi5pc0NvbXBvc2l0ZVR5cGUoYi5tZXRhZGF0YS52YWx1ZVR5cGUpP2Z1bmN0aW9uKGcpe3JldHVybiBhd2Vzb21lY2hhcnRzLmRhdGFsYXllci50cmFuc2xhdGlvbi5HY21WM01ldHJpY3NUcmFuc2xhdGlvbi5pSGF0ZVRoaXNCdXREb0l0QW55d2F5XyhnLnZhbHVlW2VdLGIubWV0YWRhdGEudmFsdWVUeXBlKX06ZnVuY3Rpb24oZyl7cmV0dXJuIHBhcnNlRmxvYXQoZy52YWx1ZVtlXSl9OwpiLmRhdGE9YXdlc29tZWNoYXJ0cy51dGlscy5hcnJheXMubWFwKGEsZnVuY3Rpb24oZyl7dmFyIGs9bmV3IERhdGUoZy5pbnRlcnZhbC5lbmRUaW1lKSxoPWcuaW50ZXJ2YWwuZW5kVGltZT09PWcuaW50ZXJ2YWwuc3RhcnRUaW1lP25ldyBEYXRlKGstKGN8fDApKTpuZXcgRGF0ZShnLmludGVydmFsLnN0YXJ0VGltZSk7cmV0dXJue3g6ayx4MDpoLHk6ZihnKSx0aWxlRG9tYWluOmR9fSl9Owphd2Vzb21lY2hhcnRzLmRhdGFsYXllci50cmFuc2xhdGlvbi5HY21WM01ldHJpY3NUcmFuc2xhdGlvbi50cmFuc2xhdGVEYXRhSGVscGVyPWZ1bmN0aW9uKGEsYil7dmFyIGM9W10sZD1udWxsLGU9ImVtcHR5IixmPVtdO2lmKGEmJmF3ZXNvbWVjaGFydHMuZGF0YWxheWVyLnRyYW5zbGF0aW9uLkdjbVYzTWV0cmljc1RyYW5zbGF0aW9uLmdldFRpbWVTZXJpZXMoYSkpe3ZhciBnPWEudGlsZURvbWFpbjtkPWEudW5pdHx8YXdlc29tZWNoYXJ0cy5kYXRhbGF5ZXIudHJhbnNsYXRpb24uR2NtVjNNZXRyaWNzVHJhbnNsYXRpb24uZ2V0VGltZVNlcmllcyhhKS51bml0fHxudWxsO2M9YXdlc29tZWNoYXJ0cy51dGlscy5hcnJheXMubWFwKGF3ZXNvbWVjaGFydHMuZGF0YWxheWVyLnRyYW5zbGF0aW9uLkdjbVYzTWV0cmljc1RyYW5zbGF0aW9uLmdldFRpbWVTZXJpZXMoYSksZnVuY3Rpb24oaCl7dmFyIGw9YXdlc29tZWNoYXJ0cy5kYXRhbGF5ZXIudHJhbnNsYXRpb24uR2NtVjNNZXRyaWNzVHJhbnNsYXRpb24uZ2V0TWV0cmljS2luZChoKXx8CiIiLG09YXdlc29tZWNoYXJ0cy5kYXRhbGF5ZXIudHJhbnNsYXRpb24uR2NtVjNNZXRyaWNzVHJhbnNsYXRpb24uZ2V0VmFsdWVUeXBlKGgpLG49IiIscD17fTt0cnl7dmFyIHE9YXdlc29tZWNoYXJ0cy5kYXRhbGF5ZXIudHJhbnNsYXRpb24uR2NtVjNNZXRyaWNzVHJhbnNsYXRpb24uZ2V0TWV0cmljVHlwZShoKTtpZihxLnN0YXJ0c1dpdGgoInNlbGVjdF8iKSlpZihxLmluY2x1ZGVzKG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkY2xvdWQkc2lnbmFscyRzdGFja2RyaXZlciRtb25pdG9yaW5nJHNoYXJlZCRwcm90b19vYmplY3RzJGdvb2dsZSRtb25pdG9yaW5nJHYzJHRpbWVfc2VyaWVzJGluZGV4LlNsb0FsZXJ0VHNzLlJFQ0VOVF9MT1NTKSl7bj0iUmVjZW50IEJ1ZGdldCBMb3NzIjt2YXIgdT1tb2R1bGUkY29udGVudHMkZ29vZ2xlMyRjbG91ZCRzaWduYWxzJHN0YWNrZHJpdmVyJG1vbml0b3Jpbmckc2hhcmVkJHByb3RvX29iamVjdHMkZ29vZ2xlJG1vbml0b3JpbmckdjMkdGltZV9zZXJpZXMkaW5kZXhfZ2V0U2xvUmVjZW50TG9zc0FyZ3MocSk7CnAuc2xvPXUuc2xvO3AubG9va2JhY2s9dS5sb29rYmFja0luTWludXRlcysiIG1pbiIrKDE8dS5sb29rYmFja0luTWludXRlcz8icyI6IiIpfWVsc2UgaWYocS5pbmNsdWRlcyhtb2R1bGUkZXhwb3J0cyRnb29nbGUzJGNsb3VkJHNpZ25hbHMkc3RhY2tkcml2ZXIkbW9uaXRvcmluZyRzaGFyZWQkcHJvdG9fb2JqZWN0cyRnb29nbGUkbW9uaXRvcmluZyR2MyR0aW1lX3NlcmllcyRpbmRleC5TbG9BbGVydFRzcy5CVVJOX1JBVEUpKXtuPSJTTE8gQnVybiBSYXRlIjt2YXIgcj1tb2R1bGUkY29udGVudHMkZ29vZ2xlMyRjbG91ZCRzaWduYWxzJHN0YWNrZHJpdmVyJG1vbml0b3Jpbmckc2hhcmVkJHByb3RvX29iamVjdHMkZ29vZ2xlJG1vbml0b3JpbmckdjMkdGltZV9zZXJpZXMkaW5kZXhfZ2V0U2xvQnVyblJhdGVBcmdzKHEpO3Auc2xvPXIuc2xvO3AubG9va2JhY2s9ci5sb29rYmFja0luTWludXRlcysiIG1pbiIrKDE8ci5sb29rYmFja0luTWludXRlcz8icyI6IiIpfWVsc2UgcS5pbmNsdWRlcyhtb2R1bGUkZXhwb3J0cyRnb29nbGUzJGNsb3VkJHNpZ25hbHMkc3RhY2tkcml2ZXIkbW9uaXRvcmluZyRzaGFyZWQkcHJvdG9fb2JqZWN0cyRnb29nbGUkbW9uaXRvcmluZyR2MyR0aW1lX3NlcmllcyRpbmRleC5TbG9TdGF0dXNUc3MuQ09NUExJQU5DRSk/CihuPSJDb21wbGlhbmNlIixwLnNsbz1tb2R1bGUkY29udGVudHMkZ29vZ2xlMyRjbG91ZCRzaWduYWxzJHN0YWNrZHJpdmVyJG1vbml0b3Jpbmckc2hhcmVkJHByb3RvX29iamVjdHMkZ29vZ2xlJG1vbml0b3JpbmckdjMkdGltZV9zZXJpZXMkaW5kZXhfZ2V0U2xvQ29tcGxpYW5jZUFyZ3MocSkuc2xvKTpxLmluY2x1ZGVzKG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkY2xvdWQkc2lnbmFscyRzdGFja2RyaXZlciRtb25pdG9yaW5nJHNoYXJlZCRwcm90b19vYmplY3RzJGdvb2dsZSRtb25pdG9yaW5nJHYzJHRpbWVfc2VyaWVzJGluZGV4LlNsb1N0YXR1c1Rzcy5IRUFMVEgpPyhuPSJIZWFsdGgiLHAuc2xvPW1vZHVsZSRjb250ZW50cyRnb29nbGUzJGNsb3VkJHNpZ25hbHMkc3RhY2tkcml2ZXIkbW9uaXRvcmluZyRzaGFyZWQkcHJvdG9fb2JqZWN0cyRnb29nbGUkbW9uaXRvcmluZyR2MyR0aW1lX3NlcmllcyRpbmRleF9nZXRTbG9IZWFsdGhBcmdzKHEpLnNsbyk6cS5pbmNsdWRlcyhtb2R1bGUkZXhwb3J0cyRnb29nbGUzJGNsb3VkJHNpZ25hbHMkc3RhY2tkcml2ZXIkbW9uaXRvcmluZyRzaGFyZWQkcHJvdG9fb2JqZWN0cyRnb29nbGUkbW9uaXRvcmluZyR2MyR0aW1lX3NlcmllcyRpbmRleC5TbG9TdGF0dXNUc3MuQlVER0VUX0ZSQUNUSU9OKT8KKG49IkJ1ZGdldCBGcmFjdGlvbiIscC5zbG89bW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkY2xvdWQkc2lnbmFscyRzdGFja2RyaXZlciRtb25pdG9yaW5nJHNoYXJlZCRwcm90b19vYmplY3RzJGdvb2dsZSRtb25pdG9yaW5nJHYzJHRpbWVfc2VyaWVzJGluZGV4X2dldFNsb0J1ZGdldEZyYWN0aW9uQXJncyhxKS5zbG8pOnEuaW5jbHVkZXMobW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyRjbG91ZCRzaWduYWxzJHN0YWNrZHJpdmVyJG1vbml0b3Jpbmckc2hhcmVkJHByb3RvX29iamVjdHMkZ29vZ2xlJG1vbml0b3JpbmckdjMkdGltZV9zZXJpZXMkaW5kZXguU2xvU3RhdHVzVHNzLkJVREdFVCkmJihuPSJCdWRnZXQiLHAuc2xvPW1vZHVsZSRjb250ZW50cyRnb29nbGUzJGNsb3VkJHNpZ25hbHMkc3RhY2tkcml2ZXIkbW9uaXRvcmluZyRzaGFyZWQkcHJvdG9fb2JqZWN0cyRnb29nbGUkbW9uaXRvcmluZyR2MyR0aW1lX3NlcmllcyRpbmRleF9nZXRTbG9CdWRnZXRBcmdzKHEpLnNsbyk7ZWxzZXt2YXIgdj0KYXdlc29tZWNoYXJ0cy5kYXRhbGF5ZXIudHJhbnNsYXRpb24uR2NtVjNNZXRyaWNzVHJhbnNsYXRpb24uZ2V0TWV0cmljVHlwZShoKS5zcGxpdCgiLyIpO249dlt2Lmxlbmd0aC0xXTsoInV0aWxpemF0aW9uIj09PW58fCJ1c2FnZSI9PT1uKSYmMjw9di5sZW5ndGgmJihuPXZbdi5sZW5ndGgtMl0rIi8iK3Zbdi5sZW5ndGgtMV0pfX1jYXRjaCh4KXt9dmFyIHc9e30sdD1hd2Vzb21lY2hhcnRzLmRhdGFsYXllci50cmFuc2xhdGlvbi5HY21WM01ldHJpY3NUcmFuc2xhdGlvbi5nZXRUaW1lc2VyaWVzTWV0YWRhdGEoaCk7dCYmT2JqZWN0LmtleXModCkuZm9yRWFjaChmdW5jdGlvbih4KXsidXNlckxhYmVscyI9PT14P09iamVjdC5rZXlzKHRbeF0pLmZvckVhY2goZnVuY3Rpb24oeSl7d1sidXNlcl9sYWJlbHMuIit5XT10W3hdW3ldfSk6InN5c3RlbUxhYmVscyI9PT14P09iamVjdC5rZXlzKHRbeF0pLmZvckVhY2goZnVuY3Rpb24oeSl7d1sic3lzdGVtX2xhYmVscy4iK3ldPXRbeF1beV19KToKd1t4XT10W3hdfSk7dT1hd2Vzb21lY2hhcnRzLmRhdGFsYXllci50cmFuc2xhdGlvbi5HY21WM01ldHJpY3NUcmFuc2xhdGlvbi5nZXRNZXRyaWNMYWJlbHMoaCk7cT1hd2Vzb21lY2hhcnRzLmRhdGFsYXllci50cmFuc2xhdGlvbi5HY21WM01ldHJpY3NUcmFuc2xhdGlvbi5nZXRNZXRyaWNUeXBlKGgpO3I9e2xhYmVsczp1LHR5cGU6cX07dT1hd2Vzb21lY2hhcnRzLmRhdGFsYXllci50cmFuc2xhdGlvbi5HY21WM01ldHJpY3NUcmFuc2xhdGlvbi5nZXRSZXNvdXJjZUxhYmVscyhoKTt2PWF3ZXNvbWVjaGFydHMuZGF0YWxheWVyLnRyYW5zbGF0aW9uLkdjbVYzTWV0cmljc1RyYW5zbGF0aW9uLmdldFJlc291cmNlVHlwZShoKTt2PXtsYWJlbHM6dSx0eXBlOnZ9O3ZhciBBPWF3ZXNvbWVjaGFydHMuZGF0YWxheWVyLnRyYW5zbGF0aW9uLkdjbVYzTWV0cmljc1RyYW5zbGF0aW9uLmNvbnN0cnVjdExlZ2VuZChoLGEuYWNSZXF1ZXN0UGFyYW1zKTtsPXttZXRhZGF0YTp7bWV0cmljOnIsCnNob3J0TWV0cmljOm4scmVxdWVzdFBhcmFtczphLmFjUmVxdWVzdFBhcmFtcyxyZXNvdXJjZTp2LGtpbmQ6bCx2YWx1ZVR5cGU6bSxpbnN0YW5jZU5hbWVPcklkOmF3ZXNvbWVjaGFydHMuZGF0YWxheWVyLnRyYW5zbGF0aW9uLkdjbVYzTWV0cmljc1RyYW5zbGF0aW9uLmdldEluc3RhbmNlTmFtZU9ySWRGbigpLG1ldHJpY0Rpc3BsYXlOYW1lOmF3ZXNvbWVjaGFydHMuZGF0YWxheWVyLnRyYW5zbGF0aW9uLkdjbVYzTWV0cmljc1RyYW5zbGF0aW9uLmdldE1ldHJpY05hbWVGbihxKSx0c3NEYXRhOnAsbWV0YWRhdGE6d30sdmFsdWVfdHlwZTphd2Vzb21lY2hhcnRzLmRhdGFsYXllci50cmFuc2xhdGlvbi5HY21WM01ldHJpY3NUcmFuc2xhdGlvbi5maW5kVmFsdWVUeXBlKG0pLGRhdGE6W10sYmFzZU5hbWU6QS5iYXNlTmFtZSxuYW1lOm51bGwsaWQ6QS5pZCx2ZXJzaW9uOiJnY212MyJ9O3UmJnUucHJvamVjdF9pZCYmKGwubW9uaXRvcmVkUHJvamVjdElkPXUucHJvamVjdF9pZCk7YS5hY1JlcXVlc3RQYXJhbXMmJgoiSEVBREVSUyI9PT1hLmFjUmVxdWVzdFBhcmFtcy52aWV3JiYoZT0iaGVhZGVyIik7aD1hd2Vzb21lY2hhcnRzLmRhdGFsYXllci50cmFuc2xhdGlvbi5HY21WM01ldHJpY3NUcmFuc2xhdGlvbi5nZXRQb2ludHMoaCk7aWYoIWh8fDA9PT1oLmxlbmd0aClyZXR1cm4gbDtlPSJkYXRhIjthd2Vzb21lY2hhcnRzLmRhdGFsYXllci50cmFuc2xhdGlvbi5HY21WM01ldHJpY3NUcmFuc2xhdGlvbi50cmFuc2xhdGVQb2ludHMoaCxsLGIsZyk7MTxsLmRhdGEubGVuZ3RoJiYoaD1sLmRhdGFbbC5kYXRhLmxlbmd0aC0xXS54LWwuZGF0YVswXS54LDA8aCYmbC5kYXRhLnJldmVyc2UoKSk7cmV0dXJuIGx9KX12YXIgaztmPW1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JHN0YWNrZHJpdmVyJG5nMl9hd2Vzb21lY2hhcnRzJHNoYXJlZCR1dGlscyRpbmNvbXBsZXRlX2Nsb3VkX3JlZ2lvbnNfaW5jb21wbGV0ZUNsb3VkUmVnaW9uc1RyYW5zbGF0aW9uKG51bGw9PShrPWEpP3ZvaWQgMDoKay5xdWVyeURhdGFRdWFsaXR5LGEudGlsZURvbWFpbik7cmV0dXJue3NlcmllczpjLHVuaXQ6ZCxlbXB0eTplLG5leHRQYWdlVG9rZW46YS5uZXh0UGFnZVRva2VuLHBhcnRpYWxFcnJvcnM6YS5leGVjdXRpb25FcnJvcnMsaW5jb21wbGV0ZUNsb3VkUmVnaW9uczpmLmxlbmd0aD9mOnZvaWQgMCxoaWRlU3RhdHM6ITB9fTthd2Vzb21lY2hhcnRzLmRhdGFsYXllci50cmFuc2xhdGlvbi5HY21WM01ldHJpY3NUcmFuc2xhdGlvbi50cmFuc2xhdGVEYXRhPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGF3ZXNvbWVjaGFydHMuZGF0YWxheWVyLnRyYW5zbGF0aW9uLkdjbVYzTWV0cmljc1RyYW5zbGF0aW9uLnRyYW5zbGF0ZURhdGFIZWxwZXIuYmluZChhd2Vzb21lY2hhcnRzLmRhdGFsYXllci50cmFuc2xhdGlvbi5HY21WM01ldHJpY3NUcmFuc2xhdGlvbikoYSxiKX07YXdlc29tZWNoYXJ0cy5kYXRhbGF5ZXIudHJhbnNsYXRpb24uR2NtVjNNZXRyaWNzRmxhdFRyYW5zbGF0aW9uPXt9Owp2YXIgJGpzY29tcCRzY29wZSQxMjIyMzA2MDI2JDIkbWFwTGFiZWxWYWx1ZXM9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMgaW4gYSl7dmFyIGQ9Yi5nZXQoYyk7ZHx8KGQ9bmV3IFNldCxiLnNldChjLGQpKTt2YXIgZT1hW2NdO2QuYWRkKGUpfX0sJGpzY29tcCRzY29wZSQxMjIyMzA2MDI2JDEkY291bnRMYWJlbFZhbHVlcz1mdW5jdGlvbihhKXt2YXIgYj17fTthPSRqc2NvbXAubWFrZUl0ZXJhdG9yKGEpO2Zvcih2YXIgYz1hLm5leHQoKTshYy5kb25lO2M9YS5uZXh0KCkpe2M9Yy52YWx1ZTt2YXIgZD0kanNjb21wLm1ha2VJdGVyYXRvcihjKTtjPWQubmV4dCgpLnZhbHVlO2Q9ZC5uZXh0KCkudmFsdWU7YltjXT1kLnNpemV9cmV0dXJuIGJ9LCRqc2NvbXAkc2NvcGUkMTIyMjMwNjAyNiQwJGdldFBvaW50UmFuZ2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz0kanNjb21wLm1ha2VJdGVyYXRvcihiKTtiPWMubmV4dCgpLnZhbHVlO2Zvcih2YXIgZD1jLm5leHQoKS52YWx1ZSxlPWEubGVuZ3RoLApmPWM9LTEsZz0wO2c8ZTtnKyspaWYoKG5ldyBEYXRlKGFbZ10uaW50ZXJ2YWwuZW5kVGltZSkpLmdldFRpbWUoKTxkKXtjPWc7YnJlYWt9aWYoLTE9PT1jKXJldHVyblstMSwtMV07Zm9yKGQ9ZS0xOzA8PWQ7ZC0tKWlmKChuZXcgRGF0ZShhW2RdLmludGVydmFsLmVuZFRpbWUpKS5nZXRUaW1lKCk+Yil7Zj1kKzE7YnJlYWt9cmV0dXJuLTE9PT1mP1stMSwtMV06W2MsZl19Owphd2Vzb21lY2hhcnRzLmRhdGFsYXllci50cmFuc2xhdGlvbi5HY21WM01ldHJpY3NGbGF0VHJhbnNsYXRpb24uZ2V0RGF0YUFycmF5c0ZvclRpbGU9ZnVuY3Rpb24oYSxiKXt2YXIgYz17ZmxhdFNlcmllc0RhdGFYOm5ldyBGbG9hdDY0QXJyYXkoYS5mbGF0U2VyaWVzRGF0YVhCdWZmZXIpLGZsYXRTZXJpZXNEYXRhWDA6bmV3IEZsb2F0NjRBcnJheShhLmZsYXRTZXJpZXNEYXRhWDBCdWZmZXIpfTsiSU5UNjQiPT09Ynx8IkRPVUJMRSI9PT1iP2MuZmxhdFNlcmllc0RhdGFZPW5ldyBGbG9hdDY0QXJyYXkoYS5mbGF0U2VyaWVzRGF0YVlCdWZmZXIpOiJESVNUUklCVVRJT04iPT09Yj8oYy5mbGF0U2VyaWVzRGF0YVlDb3VudD1uZXcgRmxvYXQ2NEFycmF5KGEuZmxhdFNlcmllc0RhdGFZQ291bnRCdWZmZXIpLGMuZmxhdFNlcmllc0RhdGFZQnVja2V0Q291bnRzPW5ldyBGbG9hdDY0QXJyYXkoYS5mbGF0U2VyaWVzRGF0YVlCdWNrZXRDb3VudHNCdWZmZXIpLGMuZmxhdFNlcmllc0RhdGFZVG90YWxCdWNrZXRzPQpuZXcgRmxvYXQ2NEFycmF5KGEuZmxhdFNlcmllc0RhdGFZVG90YWxCdWNrZXRzQnVmZmVyKSxjLmZsYXRTZXJpZXNEYXRhWU1lYW49bmV3IEZsb2F0NjRBcnJheShhLmZsYXRTZXJpZXNEYXRhWU1lYW5CdWZmZXIpLGMuZmxhdFNlcmllc0RhdGFZU3VtT2ZEZXZpYXRpb24yPW5ldyBGbG9hdDY0QXJyYXkoYS5mbGF0U2VyaWVzRGF0YVlTdW1PZkRldmlhdGlvbjJCdWZmZXIpLGMuZmxhdFNlcmllc0RhdGFZQnVja2V0T3B0aW9ucz1hLmZsYXRTZXJpZXNEYXRhWUJ1Y2tldE9wdGlvbnMsYy5mbGF0U2VyaWVzRGF0YVlFeGVtcGxhcnM9YS5mbGF0U2VyaWVzRGF0YVlFeGVtcGxhcnMpOmNvbnNvbGUud2FybigiVGhpcyBpcyBub3QgYSBzdXBwb3J0ZWQgdmFsdWUgdHlwZSBmb3IgZmxhdCB0cmFuc2xhdGlvbiIsYik7cmV0dXJuIGN9Owphd2Vzb21lY2hhcnRzLmRhdGFsYXllci50cmFuc2xhdGlvbi5HY21WM01ldHJpY3NGbGF0VHJhbnNsYXRpb24uZ2V0TnVtZXJpY1BvaW50cz1mdW5jdGlvbihhLGIsYyxkLGUsZil7Zm9yKHZhciBnPVtdLGs9Y1sxXS1jWzBdLGg9JGpzY29tcC5tYWtlSXRlcmF0b3IoW2UsZl0pLGw9aC5uZXh0KCk7IWwuZG9uZTtsPWgubmV4dCgpKShsPWwudmFsdWUpJiYoays9bC5mbGF0U2VyaWVzRGF0YVgubGVuZ3RoKTtoPSJET1VCTEUiPT09ZDtkPSJJTlQ2NCI9PT1kO2w9bmV3IEZsb2F0NjRBcnJheShrKTt2YXIgbT1uZXcgRmxvYXQ2NEFycmF5KGspLG49bmV3IEZsb2F0NjRBcnJheShrKTtlJiYobC5zZXQoZS5mbGF0U2VyaWVzRGF0YVgpLG0uc2V0KGUuZmxhdFNlcmllc0RhdGFYMCksbi5zZXQoZS5mbGF0U2VyaWVzRGF0YVkpKTtmJiYoay09Zi5mbGF0U2VyaWVzRGF0YVgubGVuZ3RoLGwuc2V0KGYuZmxhdFNlcmllc0RhdGFYLGspLG0uc2V0KGYuZmxhdFNlcmllc0RhdGFYMCxrKSxuLnNldChmLmZsYXRTZXJpZXNEYXRhWSwKaykpO2U9ZT9lLmZsYXRTZXJpZXNEYXRhWC5sZW5ndGg6MDtmb3Ioaz1mPWNbMF07azxjWzFdO2srKyl7dmFyIHA9aytlLWY7bFtwXT0obmV3IERhdGUoYVtrXS5pbnRlcnZhbC5lbmRUaW1lKSkuZ2V0VGltZSgpO21bcF09YVtrXS5pbnRlcnZhbC5lbmRUaW1lPT09YVtrXS5pbnRlcnZhbC5zdGFydFRpbWU/KG5ldyBEYXRlKGxbcF0tYikpLmdldFRpbWUoKToobmV3IERhdGUoYVtrXS5pbnRlcnZhbC5zdGFydFRpbWUpKS5nZXRUaW1lKCk7aD9uW3BdPWFba10udmFsdWUuZG91YmxlVmFsdWU6ZCYmKG5bcF09cGFyc2VJbnQoYVtrXS52YWx1ZS5pbnQ2NFZhbHVlLDEwKSl9Zy5wdXNoKGwuYnVmZmVyLG0uYnVmZmVyLG4uYnVmZmVyKTtyZXR1cm57ZmxhdFNlcmllc0RhdGFYQnVmZmVyOmwuYnVmZmVyLGZsYXRTZXJpZXNEYXRhWDBCdWZmZXI6bS5idWZmZXIsZmxhdFNlcmllc0RhdGFZQnVmZmVyOm4uYnVmZmVyLHRyYW5zZmVyYWJsZXM6Z319Owphd2Vzb21lY2hhcnRzLmRhdGFsYXllci50cmFuc2xhdGlvbi5HY21WM01ldHJpY3NGbGF0VHJhbnNsYXRpb24uZ2V0RGlzdHJpYnV0aW9uUG9pbnRzPWZ1bmN0aW9uKGEsYixjLGQsZSl7Zm9yKHZhciBmPVtdLGc9Y1sxXS1jWzBdLGs9MCxoPSRqc2NvbXAubWFrZUl0ZXJhdG9yKFtkLGVdKSxsPWgubmV4dCgpOyFsLmRvbmU7bD1oLm5leHQoKSlpZihsPWwudmFsdWUpe2crPWwuZmxhdFNlcmllc0RhdGFYLmxlbmd0aDt2YXIgbT12b2lkIDA7ays9KG51bGw9PShtPWwuZmxhdFNlcmllc0RhdGFZQnVja2V0Q291bnRzKT92b2lkIDA6bS5sZW5ndGgpfHwwfWg9bmV3IEZsb2F0NjRBcnJheShnKTtsPW5ldyBGbG9hdDY0QXJyYXkoZyk7bT1uZXcgRmxvYXQ2NEFycmF5KGcpO3ZhciBuPW5ldyBGbG9hdDY0QXJyYXkoZykscD1uZXcgRmxvYXQ2NEFycmF5KGcpLHE9QXJyYXkoZyksdT1BcnJheShnKSxyPW5ldyBGbG9hdDY0QXJyYXkoZyk7ZCYmKGguc2V0KGQuZmxhdFNlcmllc0RhdGFYKSwKbC5zZXQoZC5mbGF0U2VyaWVzRGF0YVgwKSxtLnNldChkLmZsYXRTZXJpZXNEYXRhWUNvdW50KSxyLnNldChkLmZsYXRTZXJpZXNEYXRhWVRvdGFsQnVja2V0cyksbi5zZXQoZC5mbGF0U2VyaWVzRGF0YVlNZWFuKSxwLnNldChkLmZsYXRTZXJpZXNEYXRhWVN1bU9mRGV2aWF0aW9uMikscS5zcGxpY2UuYXBwbHkocSxbMCxkLmZsYXRTZXJpZXNEYXRhWUJ1Y2tldE9wdGlvbnMubGVuZ3RoXS5jb25jYXQoJGpzY29tcC5hcnJheUZyb21JdGVyYWJsZShkLmZsYXRTZXJpZXNEYXRhWUJ1Y2tldE9wdGlvbnMpKSksdS5zcGxpY2UuYXBwbHkodSxbMCxkLmZsYXRTZXJpZXNEYXRhWUV4ZW1wbGFycy5sZW5ndGhdLmNvbmNhdCgkanNjb21wLmFycmF5RnJvbUl0ZXJhYmxlKGQuZmxhdFNlcmllc0RhdGFZRXhlbXBsYXJzKSkpKTtlJiYoZy09ZS5mbGF0U2VyaWVzRGF0YVgubGVuZ3RoLGguc2V0KGUuZmxhdFNlcmllc0RhdGFYLGcpLGwuc2V0KGUuZmxhdFNlcmllc0RhdGFYMCxnKSxtLnNldChlLmZsYXRTZXJpZXNEYXRhWUNvdW50LApnKSxyLnNldChlLmZsYXRTZXJpZXNEYXRhWVRvdGFsQnVja2V0cyxnKSxuLnNldChlLmZsYXRTZXJpZXNEYXRhWU1lYW4sZykscC5zZXQoZS5mbGF0U2VyaWVzRGF0YVlTdW1PZkRldmlhdGlvbjIsZykscS5zcGxpY2UuYXBwbHkocSxbZyxlLmZsYXRTZXJpZXNEYXRhWUJ1Y2tldE9wdGlvbnMubGVuZ3RoXS5jb25jYXQoJGpzY29tcC5hcnJheUZyb21JdGVyYWJsZShlLmZsYXRTZXJpZXNEYXRhWUJ1Y2tldE9wdGlvbnMpKSksdS5zcGxpY2UuYXBwbHkodSxbZyxlLmZsYXRTZXJpZXNEYXRhWUV4ZW1wbGFycy5sZW5ndGhdLmNvbmNhdCgkanNjb21wLmFycmF5RnJvbUl0ZXJhYmxlKGUuZmxhdFNlcmllc0RhdGFZRXhlbXBsYXJzKSkpKTtmb3IodmFyIHY9ZD9kLmZsYXRTZXJpZXNEYXRhWC5sZW5ndGg6MCx3PWc9Y1swXTt3PGNbMV07dysrKXt2YXIgdD13K3YtZztoW3RdPShuZXcgRGF0ZShhW3ddLmludGVydmFsLmVuZFRpbWUpKS5nZXRUaW1lKCk7bFt0XT1hW3ddLmludGVydmFsLmVuZFRpbWU9PT0KYVt3XS5pbnRlcnZhbC5zdGFydFRpbWU/KG5ldyBEYXRlKGhbdF0tYikpLmdldFRpbWUoKToobmV3IERhdGUoYVt3XS5pbnRlcnZhbC5zdGFydFRpbWUpKS5nZXRUaW1lKCk7bVt0XT1wYXJzZUludChhW3ddLnZhbHVlLmRpc3RyaWJ1dGlvblZhbHVlLmNvdW50LDEwKTt2YXIgQT12b2lkIDA7clt0XT0obnVsbD09KEE9YVt3XS52YWx1ZS5kaXN0cmlidXRpb25WYWx1ZS5idWNrZXRDb3VudHMpP3ZvaWQgMDpBLmxlbmd0aCl8fDA7QT12b2lkIDA7ays9KG51bGw9PShBPWFbd10udmFsdWUuZGlzdHJpYnV0aW9uVmFsdWUuYnVja2V0Q291bnRzKT92b2lkIDA6QS5sZW5ndGgpfHwwO25bdF09YVt3XS52YWx1ZS5kaXN0cmlidXRpb25WYWx1ZS5tZWFuO3BbdF09YVt3XS52YWx1ZS5kaXN0cmlidXRpb25WYWx1ZS5zdW1PZlNxdWFyZWREZXZpYXRpb247cVt0XT1hW3ddLnZhbHVlLmRpc3RyaWJ1dGlvblZhbHVlLmJ1Y2tldE9wdGlvbnM7dVt0XT1hW3ddLnZhbHVlLmRpc3RyaWJ1dGlvblZhbHVlLmV4ZW1wbGFyc31iPQpuZXcgRmxvYXQ2NEFycmF5KGspO3Y9MDtpZihkKXt2YXIgeDt2PShudWxsPT0oeD1kLmZsYXRTZXJpZXNEYXRhWUJ1Y2tldENvdW50cyk/dm9pZCAwOngubGVuZ3RoKXx8MDtiLnNldChkLmZsYXRTZXJpZXNEYXRhWUJ1Y2tldENvdW50cyl9aWYoZSl7dmFyIHk7ZD1rLShudWxsPT0oeT1lLmZsYXRTZXJpZXNEYXRhWUJ1Y2tldENvdW50cyk/TmFOOnkubGVuZ3RoKXx8MDtiLnNldChlLmZsYXRTZXJpZXNEYXRhWUJ1Y2tldENvdW50cyxkKX1mb3IoZT1nO2U8Y1sxXTtlKyspe3k9dm9pZCAwO2ZvcihkPTA7ZDwoKG51bGw9PSh5PWFbZV0udmFsdWUuZGlzdHJpYnV0aW9uVmFsdWUuYnVja2V0Q291bnRzKT92b2lkIDA6eS5sZW5ndGgpfHwwKTtkKyspYlt2K2RdPXBhcnNlSW50KGFbZV0udmFsdWUuZGlzdHJpYnV0aW9uVmFsdWUuYnVja2V0Q291bnRzW2RdLDEwKTt5PXZvaWQgMDt2Kz0obnVsbD09KHk9YVtlXS52YWx1ZS5kaXN0cmlidXRpb25WYWx1ZS5idWNrZXRDb3VudHMpP3ZvaWQgMDoKeS5sZW5ndGgpfHwwfWYucHVzaChoLmJ1ZmZlcixsLmJ1ZmZlcixtLmJ1ZmZlcixiLmJ1ZmZlcixyLmJ1ZmZlcixuLmJ1ZmZlcixwLmJ1ZmZlcik7cmV0dXJue2ZsYXRTZXJpZXNEYXRhWEJ1ZmZlcjpoLmJ1ZmZlcixmbGF0U2VyaWVzRGF0YVgwQnVmZmVyOmwuYnVmZmVyLGZsYXRTZXJpZXNEYXRhWUNvdW50QnVmZmVyOm0uYnVmZmVyLGZsYXRTZXJpZXNEYXRhWUJ1Y2tldENvdW50c0J1ZmZlcjpiLmJ1ZmZlcixmbGF0U2VyaWVzRGF0YVlUb3RhbEJ1Y2tldHNCdWZmZXI6ci5idWZmZXIsZmxhdFNlcmllc0RhdGFZTWVhbkJ1ZmZlcjpuLmJ1ZmZlcixmbGF0U2VyaWVzRGF0YVlTdW1PZkRldmlhdGlvbjJCdWZmZXI6cC5idWZmZXIsZmxhdFNlcmllc0RhdGFZQnVja2V0T3B0aW9uczpxLGZsYXRTZXJpZXNEYXRhWUV4ZW1wbGFyczp1LHRyYW5zZmVyYWJsZXM6Zn19Owphd2Vzb21lY2hhcnRzLmRhdGFsYXllci50cmFuc2xhdGlvbi5HY21WM01ldHJpY3NGbGF0VHJhbnNsYXRpb24ubWVyZ2VQb2ludHM9ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe2Y9JGpzY29tcC5tYWtlSXRlcmF0b3IoW2UsZl0ubWFwKGZ1bmN0aW9uKGgpe2lmKGgpcmV0dXJuIGF3ZXNvbWVjaGFydHMuZGF0YWxheWVyLnRyYW5zbGF0aW9uLkdjbVYzTWV0cmljc0ZsYXRUcmFuc2xhdGlvbi5nZXREYXRhQXJyYXlzRm9yVGlsZShoLGIpfSkpO2U9Zi5uZXh0KCkudmFsdWU7Zj1mLm5leHQoKS52YWx1ZTt2YXIgZz1lJiZlLmZsYXRTZXJpZXNEYXRhWC5sZW5ndGh8fDA7Zz0wPGc/TWF0aC5taW4oZS5mbGF0U2VyaWVzRGF0YVhbZy0xXSxkWzFdKzEpOmRbMV0rMTt2YXIgaz1mJiZmLmZsYXRTZXJpZXNEYXRhWC5sZW5ndGh8fDA7ZD0wPGs/TWF0aC5tYXgoZi5mbGF0U2VyaWVzRGF0YVhbMF0sZFswXS0xKTpkWzBdLTE7ZD0kanNjb21wJHNjb3BlJDEyMjIzMDYwMjYkMCRnZXRQb2ludFJhbmdlKGEsCltkLGddKTtpZigiSU5UNjQiPT09Ynx8IkRPVUJMRSI9PT1iKXJldHVybiBhd2Vzb21lY2hhcnRzLmRhdGFsYXllci50cmFuc2xhdGlvbi5HY21WM01ldHJpY3NGbGF0VHJhbnNsYXRpb24uZ2V0TnVtZXJpY1BvaW50cyhhLGMsZCxiLGUsZik7aWYoIkRJU1RSSUJVVElPTiI9PT1iKXJldHVybiBhd2Vzb21lY2hhcnRzLmRhdGFsYXllci50cmFuc2xhdGlvbi5HY21WM01ldHJpY3NGbGF0VHJhbnNsYXRpb24uZ2V0RGlzdHJpYnV0aW9uUG9pbnRzKGEsYyxkLGUsZik7Y29uc29sZS53YXJuKCJUaGlzIHBvaW50IHR5cGUgdHJhbnNsYXRpb24gaXNuJ3QgaW1wbGVtZW50ZWQiLGIpO3JldHVybnt9fTsKYXdlc29tZWNoYXJ0cy5kYXRhbGF5ZXIudHJhbnNsYXRpb24uR2NtVjNNZXRyaWNzRmxhdFRyYW5zbGF0aW9uLnRyYW5zbGF0ZVBvaW50cz1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YTthPWQudmFsdWVUeXBlO2Q9ZC5wb2ludHM7Yz0kanNjb21wJHNjb3BlJDEyMjIzMDYwMjYkMCRnZXRQb2ludFJhbmdlKGQsW2NbMF0tMSxjWzFdKzFdKTtpZigiSU5UNjQiPT09YXx8IkRPVUJMRSI9PT1hKXJldHVybiBhd2Vzb21lY2hhcnRzLmRhdGFsYXllci50cmFuc2xhdGlvbi5HY21WM01ldHJpY3NGbGF0VHJhbnNsYXRpb24uZ2V0TnVtZXJpY1BvaW50cyhkLGIsYyxhKTtpZigiRElTVFJJQlVUSU9OIj09PWEpcmV0dXJuIGF3ZXNvbWVjaGFydHMuZGF0YWxheWVyLnRyYW5zbGF0aW9uLkdjbVYzTWV0cmljc0ZsYXRUcmFuc2xhdGlvbi5nZXREaXN0cmlidXRpb25Qb2ludHMoZCxiLGMpO2NvbnNvbGUud2FybigiVGhpcyBwb2ludCB0eXBlIHRyYW5zbGF0aW9uIGlzbid0IGltcGxlbWVudGVkIixhKTsKcmV0dXJue319O2F3ZXNvbWVjaGFydHMuZGF0YWxheWVyLnRyYW5zbGF0aW9uLkdjbVYzTWV0cmljc0ZsYXRUcmFuc2xhdGlvbi5wcm9jZXNzTGFiZWxzPWZ1bmN0aW9uKGEpe3ZhciBiPVtdO2EmJihhd2Vzb21lY2hhcnRzLnV0aWxzLmNvbGxlY3Rpb25zLmZvckVhY2goYSxmdW5jdGlvbihjLGQpe2MmJmIucHVzaChkKyI6IitjKX0pLGIuc29ydCgpKTtyZXR1cm4gYn07CmF3ZXNvbWVjaGFydHMuZGF0YWxheWVyLnRyYW5zbGF0aW9uLkdjbVYzTWV0cmljc0ZsYXRUcmFuc2xhdGlvbi5jcmVhdGVTdHJlYW1JZD1mdW5jdGlvbihhLGIsYyl7aWYoIWEpcmV0dXJuIDA7YT1hd2Vzb21lY2hhcnRzLmRhdGFsYXllci50cmFuc2xhdGlvbi5HY21WM01ldHJpY3NUcmFuc2xhdGlvbi5sYWJlbExpc3QoYyxhd2Vzb21lY2hhcnRzLmRhdGFsYXllci50cmFuc2xhdGlvbi5HY21WM01ldHJpY3NUcmFuc2xhdGlvbi5nZXRSZXNvdXJjZVR5cGUoYSksYi5wYXJhbXMsYXdlc29tZWNoYXJ0cy5kYXRhbGF5ZXIudHJhbnNsYXRpb24uR2NtVjNNZXRyaWNzVHJhbnNsYXRpb24uZ2V0UmVzb3VyY2VMYWJlbHMoYSksYXdlc29tZWNoYXJ0cy5kYXRhbGF5ZXIudHJhbnNsYXRpb24uR2NtVjNNZXRyaWNzVHJhbnNsYXRpb24uZ2V0TWV0cmljTGFiZWxzKGEpLGF3ZXNvbWVjaGFydHMuZGF0YWxheWVyLnRyYW5zbGF0aW9uLkdjbVYzTWV0cmljc1RyYW5zbGF0aW9uLmdldFRpbWVzZXJpZXNNZXRhZGF0YShhKSk7CnJldHVybiBhLmpvaW4oIi4iKX07CmF3ZXNvbWVjaGFydHMuZGF0YWxheWVyLnRyYW5zbGF0aW9uLkdjbVYzTWV0cmljc0ZsYXRUcmFuc2xhdGlvbi5nZXRUaW1lU2VyaWVzU2VsZWN0b3JEYXRhPWZ1bmN0aW9uKGEpe3ZhciBiPWEubWV0cmljLnR5cGUsYz0iIixkPSIiLGU9IiI7dHJ5e2lmKGIuaW5jbHVkZXMobW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyRjbG91ZCRzaWduYWxzJHN0YWNrZHJpdmVyJG1vbml0b3Jpbmckc2hhcmVkJHByb3RvX29iamVjdHMkZ29vZ2xlJG1vbml0b3JpbmckdjMkdGltZV9zZXJpZXMkaW5kZXguU2xvQWxlcnRUc3MuUkVDRU5UX0xPU1MpKXtjPSJSZWNlbnQgQnVkZ2V0IExvc3MiO3ZhciBmPW1vZHVsZSRjb250ZW50cyRnb29nbGUzJGNsb3VkJHNpZ25hbHMkc3RhY2tkcml2ZXIkbW9uaXRvcmluZyRzaGFyZWQkcHJvdG9fb2JqZWN0cyRnb29nbGUkbW9uaXRvcmluZyR2MyR0aW1lX3NlcmllcyRpbmRleF9nZXRTbG9SZWNlbnRMb3NzQXJncyhiKTtkPWYuc2xvO3ZhciBnPWYubG9va2JhY2tJbk1pbnV0ZXM7CmU9ZysiIG1pbiIrKDE8Zz8icyI6IiIpfWVsc2UgaWYoYi5pbmNsdWRlcyhhLlNsb0FsZXJ0VHNzLkJVUk5fUkFURSkpe2M9IlNMTyBCdXJuIFJhdGUiO3ZhciBrPW1vZHVsZSRjb250ZW50cyRnb29nbGUzJGNsb3VkJHNpZ25hbHMkc3RhY2tkcml2ZXIkbW9uaXRvcmluZyRzaGFyZWQkcHJvdG9fb2JqZWN0cyRnb29nbGUkbW9uaXRvcmluZyR2MyR0aW1lX3NlcmllcyRpbmRleF9nZXRTbG9CdXJuUmF0ZUFyZ3MoYik7ZD1rLnNsbzt2YXIgaD1rLmxvb2tiYWNrSW5NaW51dGVzO2U9aCsiIG1pbiIrKDE8aD8icyI6IiIpfWVsc2UgaWYoYi5pbmNsdWRlcyhtb2R1bGUkZXhwb3J0cyRnb29nbGUzJGNsb3VkJHNpZ25hbHMkc3RhY2tkcml2ZXIkbW9uaXRvcmluZyRzaGFyZWQkcHJvdG9fb2JqZWN0cyRnb29nbGUkbW9uaXRvcmluZyR2MyR0aW1lX3NlcmllcyRpbmRleC5TbG9TdGF0dXNUc3MuQ09NUExJQU5DRSkpe2M9IkNvbXBsaWFuY2UiO3ZhciBsPW1vZHVsZSRjb250ZW50cyRnb29nbGUzJGNsb3VkJHNpZ25hbHMkc3RhY2tkcml2ZXIkbW9uaXRvcmluZyRzaGFyZWQkcHJvdG9fb2JqZWN0cyRnb29nbGUkbW9uaXRvcmluZyR2MyR0aW1lX3NlcmllcyRpbmRleF9nZXRTbG9Db21wbGlhbmNlQXJncyhiKTsKZD1sLnNsb31lbHNlIGlmKGIuaW5jbHVkZXMobW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyRjbG91ZCRzaWduYWxzJHN0YWNrZHJpdmVyJG1vbml0b3Jpbmckc2hhcmVkJHByb3RvX29iamVjdHMkZ29vZ2xlJG1vbml0b3JpbmckdjMkdGltZV9zZXJpZXMkaW5kZXguU2xvU3RhdHVzVHNzLkhFQUxUSCkpe2M9IkhlYWx0aCI7dmFyIG09bW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkY2xvdWQkc2lnbmFscyRzdGFja2RyaXZlciRtb25pdG9yaW5nJHNoYXJlZCRwcm90b19vYmplY3RzJGdvb2dsZSRtb25pdG9yaW5nJHYzJHRpbWVfc2VyaWVzJGluZGV4X2dldFNsb0hlYWx0aEFyZ3MoYik7ZD1tLnNsb31lbHNlIGlmKGIuaW5jbHVkZXMobW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyRjbG91ZCRzaWduYWxzJHN0YWNrZHJpdmVyJG1vbml0b3Jpbmckc2hhcmVkJHByb3RvX29iamVjdHMkZ29vZ2xlJG1vbml0b3JpbmckdjMkdGltZV9zZXJpZXMkaW5kZXguU2xvU3RhdHVzVHNzLkJVREdFVCkpe2M9IkJ1ZGdldCI7CnZhciBuPW1vZHVsZSRjb250ZW50cyRnb29nbGUzJGNsb3VkJHNpZ25hbHMkc3RhY2tkcml2ZXIkbW9uaXRvcmluZyRzaGFyZWQkcHJvdG9fb2JqZWN0cyRnb29nbGUkbW9uaXRvcmluZyR2MyR0aW1lX3NlcmllcyRpbmRleF9nZXRTbG9CdWRnZXRBcmdzKGIpO2Q9bi5zbG99fWNhdGNoKHApe2NvbnNvbGUud2FybigiRmFpbGVkIHRvIGNyZWF0ZSB0aW1lIHNlcmllcyBzZWxlY3RvciBkYXRhIGZvcjogIitiKyIuIixwKX1yZXR1cm57dHNzRGF0YVNsbzpkLHRzc0RhdGFMb29rYmFjazplLHNob3J0TWV0cmljOmN9fTthd2Vzb21lY2hhcnRzLmRhdGFsYXllci50cmFuc2xhdGlvbi5HY21WM01ldHJpY3NGbGF0VHJhbnNsYXRpb24uaXNUaW1lU2VyaWVzU2VsZWN0b3I9ZnVuY3Rpb24oYSl7cmV0dXJuIGEuc3RhcnRzV2l0aCgic2VsZWN0XyIpfTsKYXdlc29tZWNoYXJ0cy5kYXRhbGF5ZXIudHJhbnNsYXRpb24uR2NtVjNNZXRyaWNzRmxhdFRyYW5zbGF0aW9uLmdldFJlc291cmNlTWV0YWRhdGE9ZnVuY3Rpb24oYSl7YT1hLm1ldGFkYXRhO2lmKCFhKXJldHVybnt9O3ZhciBiPVtbInN5c3RlbUxhYmVscyIsInN5c3RlbV9sYWJlbHMiXSxbInVzZXJMYWJlbHMiLCJ1c2VyX2xhYmVscyJdXSxjPXt9O2I9JGpzY29tcC5tYWtlSXRlcmF0b3IoYik7Zm9yKHZhciBkPWIubmV4dCgpOyFkLmRvbmU7ZD1iLm5leHQoKSl7ZD1kLnZhbHVlO2Q9JGpzY29tcC5tYWtlSXRlcmF0b3IoZCk7dmFyIGU9ZC5uZXh0KCkudmFsdWU7ZD1kLm5leHQoKS52YWx1ZTtlPSRqc2NvbXAubWFrZUl0ZXJhdG9yKE9iamVjdC5lbnRyaWVzKGFbZV18fHt9KSk7Zm9yKHZhciBmPWUubmV4dCgpOyFmLmRvbmU7Zj1lLm5leHQoKSl7Zj1mLnZhbHVlO3ZhciBnPSRqc2NvbXAubWFrZUl0ZXJhdG9yKGYpO2Y9Zy5uZXh0KCkudmFsdWU7Zz1nLm5leHQoKS52YWx1ZTtjW2QrCiIuIitmXT1nfX1yZXR1cm4gY307CmF3ZXNvbWVjaGFydHMuZGF0YWxheWVyLnRyYW5zbGF0aW9uLkdjbVYzTWV0cmljc0ZsYXRUcmFuc2xhdGlvbi5jYWxjTGFiZWxWb2xhdGlsaXR5PWZ1bmN0aW9uKGEsYixjKXt2YXIgZD17cmVzb3VyY2U6bmV3IE1hcCxtZXRyaWM6bmV3IE1hcCxtZXRhZGF0YTpuZXcgTWFwfSxlPWQubWV0cmljLGY9ZC5yZXNvdXJjZTtkPWQubWV0YWRhdGE7Zm9yKHZhciBnPSRqc2NvbXAubWFrZUl0ZXJhdG9yKE9iamVjdC5rZXlzKGEpKSxrPWcubmV4dCgpOyFrLmRvbmU7az1nLm5leHQoKSl7az1rLnZhbHVlO3ZhciBoPWNba118fHt9OyRqc2NvbXAkc2NvcGUkMTIyMjMwNjAyNiQyJG1hcExhYmVsVmFsdWVzKGgsZik7aD1iW2tdfHx7fTskanNjb21wJHNjb3BlJDEyMjIzMDYwMjYkMiRtYXBMYWJlbFZhbHVlcyhoLGUpO2s9YVtrXXx8e307JGpzY29tcCRzY29wZSQxMjIyMzA2MDI2JDIkbWFwTGFiZWxWYWx1ZXMoayxkKX1yZXR1cm57cmVzb3VyY2U6JGpzY29tcCRzY29wZSQxMjIyMzA2MDI2JDEkY291bnRMYWJlbFZhbHVlcyhmKSxtZXRyaWM6JGpzY29tcCRzY29wZSQxMjIyMzA2MDI2JDEkY291bnRMYWJlbFZhbHVlcyhlKSwKbWV0YWRhdGE6JGpzY29tcCRzY29wZSQxMjIyMzA2MDI2JDEkY291bnRMYWJlbFZhbHVlcyhkKX19Owphd2Vzb21lY2hhcnRzLmRhdGFsYXllci50cmFuc2xhdGlvbi5HY21WM01ldHJpY3NGbGF0VHJhbnNsYXRpb24ubWVyZ2VDaGFydFN0cmVhbXNNZXRhZGF0YT1mdW5jdGlvbihhLGIpe2lmKHZvaWQgMD09PWEmJnZvaWQgMD09PWIpcmV0dXJue3Nlcmllc0lkczpbXSxzZXJpZXNNZXRhZGF0YU1ldHJpY0xhYmVsczp7fSxzZXJpZXNNZXRhZGF0YVJlc291cmNlVHlwZTp7fSxzZXJpZXNNZXRhZGF0YVJlc291cmNlTGFiZWxzOnt9LHNlcmllc01ldGFkYXRhTWV0YWRhdGE6e319O2lmKHZvaWQgMD09PWEpcmV0dXJuIGI7aWYodm9pZCAwPT09YilyZXR1cm4gYTt2YXIgYz1hO2E9Yy5zZXJpZXNJZHM7dmFyIGQ9Yy5zZXJpZXNNZXRhZGF0YU1ldHJpY0xhYmVscyxlPWMuc2VyaWVzTWV0YWRhdGFSZXNvdXJjZVR5cGUsZj1jLnNlcmllc01ldGFkYXRhUmVzb3VyY2VMYWJlbHM7Yz1jLnNlcmllc01ldGFkYXRhTWV0YWRhdGE7Zm9yKHZhciBnPSRqc2NvbXAubWFrZUl0ZXJhdG9yKGIuc2VyaWVzSWRzKSwKaz1nLm5leHQoKTshay5kb25lO2s9Zy5uZXh0KCkpaz1rLnZhbHVlLGVba118fChhLnB1c2goayksZFtrXT1iLnNlcmllc01ldGFkYXRhTWV0cmljTGFiZWxzW2tdLGVba109Yi5zZXJpZXNNZXRhZGF0YVJlc291cmNlVHlwZVtrXSxjW2tdPWIuc2VyaWVzTWV0YWRhdGFNZXRhZGF0YVtrXSxmW2tdPWIuc2VyaWVzTWV0YWRhdGFSZXNvdXJjZUxhYmVsc1trXSk7Yi5zZXJpZXNJZHM9YTtiLnNlcmllc01ldGFkYXRhTWV0YWRhdGE9YztiLnNlcmllc01ldGFkYXRhTWV0cmljTGFiZWxzPWQ7Yi5zZXJpZXNNZXRhZGF0YVJlc291cmNlTGFiZWxzPWY7Yi5zZXJpZXNNZXRhZGF0YVJlc291cmNlVHlwZT1lO3JldHVybiBifTsKYXdlc29tZWNoYXJ0cy5kYXRhbGF5ZXIudHJhbnNsYXRpb24uR2NtVjNNZXRyaWNzRmxhdFRyYW5zbGF0aW9uLmdldE1lcmdlZERvbWFpbj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9W2FdO2ImJmQucHVzaChiLmRvbWFpbik7YyYmZC5wdXNoKGMuZG9tYWluKTtkPW1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JHN0YWNrZHJpdmVyJG5nMl9hd2Vzb21lY2hhcnRzJHNoYXJlZCR1dGlscyRkb21haW5zX21lcmdlSW50ZXJ2YWxzKGQpOzEhPT1kLmxlbmd0aCYmY29uc29sZS53YXJuKCJVaCBvaCwgd2UncmUgdHJ5aW5nIHRvIG1lcmdlIHRvZ2V0aGVyIG5vbi1pbnRlcnNlY3RpbmcgZG9tYWlucyIsW2IsYyxhXSk7cmV0dXJuIGRbMF19Owphd2Vzb21lY2hhcnRzLmRhdGFsYXllci50cmFuc2xhdGlvbi5HY21WM01ldHJpY3NGbGF0VHJhbnNsYXRpb24udHJhbnNsYXRlRGF0YUhlbHBlcj1mdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPWU7ZT1mLnByZXZpb3VzVGlsZTtmPWYubmV4dFRpbGU7dmFyIGc9YSYmYS50aW1lU2VyaWVzLGs9YSYmYS51bml0LGg9YXdlc29tZWNoYXJ0cy5kYXRhbGF5ZXIudHJhbnNsYXRpb24uR2NtVjNNZXRyaWNzRmxhdFRyYW5zbGF0aW9uLm1lcmdlQ2hhcnRTdHJlYW1zTWV0YWRhdGEoZSxmKSxsPWguc2VyaWVzSWRzLG09aC5zZXJpZXNNZXRhZGF0YU1ldHJpY0xhYmVscyxuPWguc2VyaWVzTWV0YWRhdGFSZXNvdXJjZVR5cGUscD1oLnNlcmllc01ldGFkYXRhUmVzb3VyY2VMYWJlbHM7aD1oLnNlcmllc01ldGFkYXRhTWV0YWRhdGE7dmFyIHE9YXdlc29tZWNoYXJ0cy5kYXRhbGF5ZXIudHJhbnNsYXRpb24uR2NtVjNNZXRyaWNzRmxhdFRyYW5zbGF0aW9uLmdldE1lcmdlZERvbWFpbihjLGUsZiksCnU9bmV3IFNldCxyPWc/Zy5sZW5ndGg6MCx2PSJlbXB0eSIsdz17fTtpZigwPHIpe3ZhciB0PWdbMF07dmFyIEE9dC5tZXRyaWNLaW5kO3ZhciB4PXQudmFsdWVUeXBlO3Q9dC5tZXRyaWM7dD10LnR5cGU7dmFyIHk9dC5tYXRjaChhd2Vzb21lY2hhcnRzLmRhdGFsYXllci50cmFuc2xhdGlvbi5HY21WM01ldHJpY3NUcmFuc2xhdGlvbi5TUExJVF9OQU1FU1BBQ0VfUlhfKVsyXTt2PSJlbXB0eSI7aWYoYXdlc29tZWNoYXJ0cy5kYXRhbGF5ZXIudHJhbnNsYXRpb24uR2NtVjNNZXRyaWNzRmxhdFRyYW5zbGF0aW9uLmlzVGltZVNlcmllc1NlbGVjdG9yKHQpKXt2YXIgRD1hd2Vzb21lY2hhcnRzLmRhdGFsYXllci50cmFuc2xhdGlvbi5HY21WM01ldHJpY3NGbGF0VHJhbnNsYXRpb24uZ2V0VGltZVNlcmllc1NlbGVjdG9yRGF0YShnWzBdKTt2YXIgQz1ELnNob3J0TWV0cmljO3ZhciBGPUQudHNzRGF0YVNsbztEPUQudHNzRGF0YUxvb2tiYWNrfWVsc2V7dmFyIHo9dC5zcGxpdCgiLyIpOwpDPXpbei5sZW5ndGgtMV07KCJ1dGlsaXphdGlvbiI9PT1DfHwidXNhZ2UiPT09QykmJjI8PXoubGVuZ3RoJiYoQz16W3oubGVuZ3RoLTJdKyIvIitDKX1mb3Ioej0wO3o8cjt6Kyspe3ZhciBCPWF3ZXNvbWVjaGFydHMuZGF0YWxheWVyLnRyYW5zbGF0aW9uLkdjbVYzTWV0cmljc0ZsYXRUcmFuc2xhdGlvbi5jcmVhdGVTdHJlYW1JZChnW3pdLGQseSk7dS5hZGQoQik7aWYoMTxnW3pdLnBvaW50cy5sZW5ndGgpe3ZhciBFPW5ldyBEYXRlKGdbel0ucG9pbnRzW2dbel0ucG9pbnRzLmxlbmd0aC0xXS5pbnRlcnZhbC5lbmRUaW1lKS1uZXcgRGF0ZShnW3pdLnBvaW50c1swXS5pbnRlcnZhbC5lbmRUaW1lKTswPEUmJmdbel0ucG9pbnRzLnJldmVyc2UoKX1pZihuW0JdKXtFPWU/ZS5zZXJpZXNEYXRhW0JdOnZvaWQgMDt2YXIgRz1mP2Yuc2VyaWVzRGF0YVtCXTp2b2lkIDA7d1tCXT1hd2Vzb21lY2hhcnRzLmRhdGFsYXllci50cmFuc2xhdGlvbi5HY21WM01ldHJpY3NGbGF0VHJhbnNsYXRpb24ubWVyZ2VQb2ludHMoZ1t6XS5wb2ludHMsCmdbel0udmFsdWVUeXBlLGIsYyxFLEcpfWVsc2Ugd1tCXT1hd2Vzb21lY2hhcnRzLmRhdGFsYXllci50cmFuc2xhdGlvbi5HY21WM01ldHJpY3NGbGF0VHJhbnNsYXRpb24udHJhbnNsYXRlUG9pbnRzKGdbel0sYixjKSxsLnB1c2goQiksbVtCXT1nW3pdLm1ldHJpYy5sYWJlbHMsbltCXT1nW3pdLnJlc291cmNlLnR5cGUscFtCXT1nW3pdLnJlc291cmNlLmxhYmVscyxoW0JdPWF3ZXNvbWVjaGFydHMuZGF0YWxheWVyLnRyYW5zbGF0aW9uLkdjbVYzTWV0cmljc0ZsYXRUcmFuc2xhdGlvbi5nZXRSZXNvdXJjZU1ldGFkYXRhKGdbel0pOzA8d1tCXS5mbGF0U2VyaWVzRGF0YVhCdWZmZXIuYnl0ZUxlbmd0aCYmKHY9ImRhdGEiKX19Zz1sLmZpbHRlcihmdW5jdGlvbihIKXtyZXR1cm4hdS5oYXMoSCl9KTtnPSRqc2NvbXAubWFrZUl0ZXJhdG9yKGcpO2ZvcihyPWcubmV4dCgpOyFyLmRvbmU7cj1nLm5leHQoKSlyPXIudmFsdWUsd1tyXT1lJiZlLnNlcmllc0RhdGFbcl0/ZiYmZi5zZXJpZXNEYXRhW3JdPwphd2Vzb21lY2hhcnRzLmRhdGFsYXllci50cmFuc2xhdGlvbi5HY21WM01ldHJpY3NGbGF0VHJhbnNsYXRpb24ubWVyZ2VQb2ludHMoW10sZS5nY212M1ZhbHVlVHlwZSxiLGMsZS5zZXJpZXNEYXRhW3JdLGYuc2VyaWVzRGF0YVtyXSk6ZS5zZXJpZXNEYXRhW3JdOmYuc2VyaWVzRGF0YVtyXSwwPHdbcl0uZmxhdFNlcmllc0RhdGFYQnVmZmVyLmJ5dGVMZW5ndGgmJih2PSJkYXRhIik7IkhFQURFUlMiPT09ZC52aWV3JiYodj0iaGVhZGVyIik7Yj1hd2Vzb21lY2hhcnRzLmRhdGFsYXllci50cmFuc2xhdGlvbi5HY21WM01ldHJpY3NGbGF0VHJhbnNsYXRpb24uY2FsY0xhYmVsVm9sYXRpbGl0eShoLG0scCk7Yz1tb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRzdGFja2RyaXZlciRuZzJfYXdlc29tZWNoYXJ0cyRzaGFyZWQkdXRpbHMkaW5jb21wbGV0ZV9jbG91ZF9yZWdpb25zX2luY29tcGxldGVDbG91ZFJlZ2lvbnNUcmFuc2xhdGlvbihhLnF1ZXJ5RGF0YVF1YWxpdHksCmMpO2UmJmUuaW5jb21wbGV0ZUNsb3VkUmVnaW9ucyYmKGM9bW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkc3RhY2tkcml2ZXIkbmcyX2F3ZXNvbWVjaGFydHMkc2hhcmVkJHV0aWxzJGluY29tcGxldGVfY2xvdWRfcmVnaW9uc19tZXJnZUluY29tcGxldGVDbG91ZFJlZ2lvbnMoYyxlLmluY29tcGxldGVDbG91ZFJlZ2lvbnMpKTtmJiZmLmluY29tcGxldGVDbG91ZFJlZ2lvbnMmJihjPW1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JHN0YWNrZHJpdmVyJG5nMl9hd2Vzb21lY2hhcnRzJHNoYXJlZCR1dGlscyRpbmNvbXBsZXRlX2Nsb3VkX3JlZ2lvbnNfbWVyZ2VJbmNvbXBsZXRlQ2xvdWRSZWdpb25zKGMsZi5pbmNvbXBsZXRlQ2xvdWRSZWdpb25zKSk7cmV0dXJue3Nlcmllc01ldGFkYXRhTWV0cmljTGFiZWxzOm0sc2VyaWVzTWV0YWRhdGFSZXNvdXJjZVR5cGU6bixzZXJpZXNNZXRhZGF0YVJlc291cmNlTGFiZWxzOnAsc2VyaWVzTWV0YWRhdGFNZXRhZGF0YTpoLApzZXJpZXNJZHM6bCxzZXJpZXNEYXRhOncsYmFzZU5hbWU6eSxzaG9ydE1ldHJpYzpDLGtpbmQ6YXdlc29tZWNoYXJ0cy5kYXRhbGF5ZXIudHJhbnNsYXRpb24uR2NtVjNNZXRyaWNzVHJhbnNsYXRpb24uZmluZE1ldHJpY0tpbmQoQSksYWNWYWx1ZVR5cGU6YXdlc29tZWNoYXJ0cy5kYXRhbGF5ZXIudHJhbnNsYXRpb24uR2NtVjNNZXRyaWNzVHJhbnNsYXRpb24uZmluZFZhbHVlVHlwZSh4KSxnY212M1ZhbHVlVHlwZTp4LG1ldHJpY1R5cGU6dCx0c3NEYXRhTG9va2JhY2s6RCx0c3NEYXRhU2xvOkYsZG9tYWluOnEsbmV4dFBhZ2VUb2tlbjphLm5leHRQYWdlVG9rZW4scGFydGlhbEVycm9yczphLmV4ZWN1dGlvbkVycm9ycyxpbmNvbXBsZXRlQ2xvdWRSZWdpb25zOmMubGVuZ3RoP2M6dm9pZCAwLGZsYXRMYWJlbFN0YXRzOmIsdW5pdDprLGVtcHR5OnZ9fTsKYXdlc29tZWNoYXJ0cy5kYXRhbGF5ZXIudHJhbnNsYXRpb24uR2NtVjNNZXRyaWNzRmxhdFRyYW5zbGF0aW9uLnRyYW5zbGF0ZURhdGE9ZnVuY3Rpb24oYSxiLGMsZCxlKXtyZXR1cm4gYXdlc29tZWNoYXJ0cy5kYXRhbGF5ZXIudHJhbnNsYXRpb24uR2NtVjNNZXRyaWNzRmxhdFRyYW5zbGF0aW9uLnRyYW5zbGF0ZURhdGFIZWxwZXIoYSxiLGMsZCxlKX07ZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkc3RhY2tkcml2ZXIkbmcyX2F3ZXNvbWVjaGFydHMkc2hhcmVkJHV0aWxzJGZldGNoX3RpbWVfc2VyaWVzX2lzU2luZ2xlRW50cnkoYSl7cmV0dXJuIW1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JHN0YWNrZHJpdmVyJG5nMl9hd2Vzb21lY2hhcnRzJHNoYXJlZCR1dGlscyRmZXRjaF90aW1lX3Nlcmllc19pc0FycmF5RW50cnkoYSl9ZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkc3RhY2tkcml2ZXIkbmcyX2F3ZXNvbWVjaGFydHMkc2hhcmVkJHV0aWxzJGZldGNoX3RpbWVfc2VyaWVzX2lzQXJyYXlFbnRyeShhKXtyZXR1cm4gYVsxXWluc3RhbmNlb2YgQXJyYXl9CmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JHN0YWNrZHJpdmVyJG5nMl9hd2Vzb21lY2hhcnRzJHNoYXJlZCR1dGlscyRmZXRjaF90aW1lX3Nlcmllc19nZXRRdWVyeVBhcmFtZXRlclN0cmluZyhhKXthPU9iamVjdC5lbnRyaWVzKGEpO3ZhciBiLGM9KGI9YS5maWx0ZXIobW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkc3RhY2tkcml2ZXIkbmcyX2F3ZXNvbWVjaGFydHMkc2hhcmVkJHV0aWxzJGZldGNoX3RpbWVfc2VyaWVzX2lzU2luZ2xlRW50cnkpKS5jb25jYXQuYXBwbHkoYiwkanNjb21wLmFycmF5RnJvbUl0ZXJhYmxlKGEuZmlsdGVyKG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JHN0YWNrZHJpdmVyJG5nMl9hd2Vzb21lY2hhcnRzJHNoYXJlZCR1dGlscyRmZXRjaF90aW1lX3Nlcmllc19pc0FycmF5RW50cnkpLm1hcChmdW5jdGlvbihkKXt2YXIgZT0kanNjb21wLm1ha2VJdGVyYXRvcihkKTtkPWUubmV4dCgpLnZhbHVlOwplPWUubmV4dCgpLnZhbHVlO3ZhciBmPWQ7ZD1lO3JldHVybiBkLm1hcChmdW5jdGlvbihnKXtyZXR1cm5bZixnXX0pfSkpKTtyZXR1cm4gYy5yZWR1Y2UoZnVuY3Rpb24oZCxlLGYpe3ZhciBnPSRqc2NvbXAubWFrZUl0ZXJhdG9yKGUpO2U9Zy5uZXh0KCkudmFsdWU7Zz1nLm5leHQoKS52YWx1ZTtmPTA9PT1mPyI/IjoiJiI7cmV0dXJuIiIrZCtmK2UrIj0iK2VuY29kZVVSSUNvbXBvbmVudChnKX0sIiIpfQpmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRzdGFja2RyaXZlciRuZzJfYXdlc29tZWNoYXJ0cyRzaGFyZWQkdXRpbHMkZmV0Y2hfdGltZV9zZXJpZXNfZmV0Y2hUaW1lU2VyaWVzKGEpe3ZhciBiPWEuaGVhZGVycyxjPWEucGFyYW1zLGQ9YS51cmwsZT1hLm1ldGhvZCxmPXZvaWQgMD09PWEuY3JlZGVudGlhbHM/InNhbWUtb3JpZ2luIjphLmNyZWRlbnRpYWxzLGcsayxoLGw7cmV0dXJuICRqc2NvbXAuYXN5bmNFeGVjdXRlUHJvbWlzZUdlbmVyYXRvclByb2dyYW0oZnVuY3Rpb24obSl7aWYoMT09bS5uZXh0QWRkcmVzcylyZXR1cm4gZz1uZXcgVVJMKGQpLGcuc2VhcmNoPW1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JHN0YWNrZHJpdmVyJG5nMl9hd2Vzb21lY2hhcnRzJHNoYXJlZCR1dGlscyRmZXRjaF90aW1lX3Nlcmllc19nZXRRdWVyeVBhcmFtZXRlclN0cmluZyhjKSxtLnlpZWxkKGZldGNoKGcudG9TdHJpbmcoKSx7bWV0aG9kOmUsCmNyZWRlbnRpYWxzOmYsaGVhZGVyczpuZXcgSGVhZGVycyhiKX0pLDIpO2lmKDMhPW0ubmV4dEFkZHJlc3MpcmV0dXJuIGs9bS55aWVsZFJlc3VsdCxtLnlpZWxkKGsudGV4dCgpLDMpO2g9bS55aWVsZFJlc3VsdDtsPWF3ZXNvbWVjaGFydHMuY29uc3RhbnRzLkpTT05fUFJPVEVDVElPTl9QUkVGSVg/aC5yZXBsYWNlKGF3ZXNvbWVjaGFydHMuY29uc3RhbnRzLkpTT05fUFJPVEVDVElPTl9QUkVGSVgsIiIpOmg7cmV0dXJuIG0ucmV0dXJuKEpTT04ucGFyc2UobCkpfSl9O3ZhciBtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JHN0YWNrZHJpdmVyJG5nMl9hd2Vzb21lY2hhcnRzJHNoYXJlZCR3ZWJfd29ya2VycyRkYXRhX3dvcmtlcnMkdHlwZXM9e307ZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkc3RhY2tkcml2ZXIkbmcyX2F3ZXNvbWVjaGFydHMkc2hhcmVkJHdlYl93b3JrZXJzJGRhdGFfd29ya2VycyR0eXBlc19JbnRlcnNlY3RpbmdUaWxlcygpe31tb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JHN0YWNrZHJpdmVyJG5nMl9hd2Vzb21lY2hhcnRzJHNoYXJlZCR3ZWJfd29ya2VycyRkYXRhX3dvcmtlcnMkdHlwZXMuSW50ZXJzZWN0aW5nVGlsZXM9bW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkc3RhY2tkcml2ZXIkbmcyX2F3ZXNvbWVjaGFydHMkc2hhcmVkJHdlYl93b3JrZXJzJGRhdGFfd29ya2VycyR0eXBlc19JbnRlcnNlY3RpbmdUaWxlczsKbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRzdGFja2RyaXZlciRuZzJfYXdlc29tZWNoYXJ0cyRzaGFyZWQkd2ViX3dvcmtlcnMkZGF0YV93b3JrZXJzJHR5cGVzLkRhdGFXb3JrZXJNZXNzYWdlVHlwZT17RkxBVF9DSEFSVFNfTUVUQURBVEFfUkVTUE9OU0U6MCxGTEFUX0NIQVJUU19EQVRBX1BBUlRfUkVTUE9OU0U6MSxGTEFUX0NIQVJUU19EQVRBX1JFUVVFU1Q6MixSRVFVRVNUX0VSUk9SOjMsUkVDRUlQVDo0LENMRUFSX0NBQ0hFX1JFUVVFU1Q6NSxDTEVBUl9DQUNIRV9SRVNQT05TRTo2fTsKbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRzdGFja2RyaXZlciRuZzJfYXdlc29tZWNoYXJ0cyRzaGFyZWQkd2ViX3dvcmtlcnMkZGF0YV93b3JrZXJzJHR5cGVzLkRhdGFXb3JrZXJNZXNzYWdlVHlwZVttb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JHN0YWNrZHJpdmVyJG5nMl9hd2Vzb21lY2hhcnRzJHNoYXJlZCR3ZWJfd29ya2VycyRkYXRhX3dvcmtlcnMkdHlwZXMuRGF0YVdvcmtlck1lc3NhZ2VUeXBlLkZMQVRfQ0hBUlRTX01FVEFEQVRBX1JFU1BPTlNFXT0iRkxBVF9DSEFSVFNfTUVUQURBVEFfUkVTUE9OU0UiOwptb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JHN0YWNrZHJpdmVyJG5nMl9hd2Vzb21lY2hhcnRzJHNoYXJlZCR3ZWJfd29ya2VycyRkYXRhX3dvcmtlcnMkdHlwZXMuRGF0YVdvcmtlck1lc3NhZ2VUeXBlW21vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkc3RhY2tkcml2ZXIkbmcyX2F3ZXNvbWVjaGFydHMkc2hhcmVkJHdlYl93b3JrZXJzJGRhdGFfd29ya2VycyR0eXBlcy5EYXRhV29ya2VyTWVzc2FnZVR5cGUuRkxBVF9DSEFSVFNfREFUQV9QQVJUX1JFU1BPTlNFXT0iRkxBVF9DSEFSVFNfREFUQV9QQVJUX1JFU1BPTlNFIjsKbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRzdGFja2RyaXZlciRuZzJfYXdlc29tZWNoYXJ0cyRzaGFyZWQkd2ViX3dvcmtlcnMkZGF0YV93b3JrZXJzJHR5cGVzLkRhdGFXb3JrZXJNZXNzYWdlVHlwZVttb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JHN0YWNrZHJpdmVyJG5nMl9hd2Vzb21lY2hhcnRzJHNoYXJlZCR3ZWJfd29ya2VycyRkYXRhX3dvcmtlcnMkdHlwZXMuRGF0YVdvcmtlck1lc3NhZ2VUeXBlLkZMQVRfQ0hBUlRTX0RBVEFfUkVRVUVTVF09IkZMQVRfQ0hBUlRTX0RBVEFfUkVRVUVTVCI7Cm1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkc3RhY2tkcml2ZXIkbmcyX2F3ZXNvbWVjaGFydHMkc2hhcmVkJHdlYl93b3JrZXJzJGRhdGFfd29ya2VycyR0eXBlcy5EYXRhV29ya2VyTWVzc2FnZVR5cGVbbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRzdGFja2RyaXZlciRuZzJfYXdlc29tZWNoYXJ0cyRzaGFyZWQkd2ViX3dvcmtlcnMkZGF0YV93b3JrZXJzJHR5cGVzLkRhdGFXb3JrZXJNZXNzYWdlVHlwZS5SRVFVRVNUX0VSUk9SXT0iUkVRVUVTVF9FUlJPUiI7Cm1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkc3RhY2tkcml2ZXIkbmcyX2F3ZXNvbWVjaGFydHMkc2hhcmVkJHdlYl93b3JrZXJzJGRhdGFfd29ya2VycyR0eXBlcy5EYXRhV29ya2VyTWVzc2FnZVR5cGVbbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRzdGFja2RyaXZlciRuZzJfYXdlc29tZWNoYXJ0cyRzaGFyZWQkd2ViX3dvcmtlcnMkZGF0YV93b3JrZXJzJHR5cGVzLkRhdGFXb3JrZXJNZXNzYWdlVHlwZS5SRUNFSVBUXT0iUkVDRUlQVCI7Cm1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkc3RhY2tkcml2ZXIkbmcyX2F3ZXNvbWVjaGFydHMkc2hhcmVkJHdlYl93b3JrZXJzJGRhdGFfd29ya2VycyR0eXBlcy5EYXRhV29ya2VyTWVzc2FnZVR5cGVbbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRzdGFja2RyaXZlciRuZzJfYXdlc29tZWNoYXJ0cyRzaGFyZWQkd2ViX3dvcmtlcnMkZGF0YV93b3JrZXJzJHR5cGVzLkRhdGFXb3JrZXJNZXNzYWdlVHlwZS5DTEVBUl9DQUNIRV9SRVFVRVNUXT0iQ0xFQVJfQ0FDSEVfUkVRVUVTVCI7Cm1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkc3RhY2tkcml2ZXIkbmcyX2F3ZXNvbWVjaGFydHMkc2hhcmVkJHdlYl93b3JrZXJzJGRhdGFfd29ya2VycyR0eXBlcy5EYXRhV29ya2VyTWVzc2FnZVR5cGVbbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRzdGFja2RyaXZlciRuZzJfYXdlc29tZWNoYXJ0cyRzaGFyZWQkd2ViX3dvcmtlcnMkZGF0YV93b3JrZXJzJHR5cGVzLkRhdGFXb3JrZXJNZXNzYWdlVHlwZS5DTEVBUl9DQUNIRV9SRVNQT05TRV09IkNMRUFSX0NBQ0hFX1JFU1BPTlNFIjtmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRzdGFja2RyaXZlciRuZzJfYXdlc29tZWNoYXJ0cyRzaGFyZWQkd2ViX3dvcmtlcnMkZGF0YV93b3JrZXJzJHR5cGVzX0ZsYXRNZXRhZGF0YVJlc3BvbnNlTWVzc2FnZSgpe30KbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRzdGFja2RyaXZlciRuZzJfYXdlc29tZWNoYXJ0cyRzaGFyZWQkd2ViX3dvcmtlcnMkZGF0YV93b3JrZXJzJHR5cGVzLkZsYXRNZXRhZGF0YVJlc3BvbnNlTWVzc2FnZT1tb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRzdGFja2RyaXZlciRuZzJfYXdlc29tZWNoYXJ0cyRzaGFyZWQkd2ViX3dvcmtlcnMkZGF0YV93b3JrZXJzJHR5cGVzX0ZsYXRNZXRhZGF0YVJlc3BvbnNlTWVzc2FnZTtmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRzdGFja2RyaXZlciRuZzJfYXdlc29tZWNoYXJ0cyRzaGFyZWQkd2ViX3dvcmtlcnMkZGF0YV93b3JrZXJzJHR5cGVzX0ZsYXREYXRhUGFydFJlc3BvbnNlTWVzc2FnZSgpe30KbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRzdGFja2RyaXZlciRuZzJfYXdlc29tZWNoYXJ0cyRzaGFyZWQkd2ViX3dvcmtlcnMkZGF0YV93b3JrZXJzJHR5cGVzLkZsYXREYXRhUGFydFJlc3BvbnNlTWVzc2FnZT1tb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRzdGFja2RyaXZlciRuZzJfYXdlc29tZWNoYXJ0cyRzaGFyZWQkd2ViX3dvcmtlcnMkZGF0YV93b3JrZXJzJHR5cGVzX0ZsYXREYXRhUGFydFJlc3BvbnNlTWVzc2FnZTtmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRzdGFja2RyaXZlciRuZzJfYXdlc29tZWNoYXJ0cyRzaGFyZWQkd2ViX3dvcmtlcnMkZGF0YV93b3JrZXJzJHR5cGVzX0ZsYXRDaGFydFN0cmVhbXNSZXF1ZXN0TWVzc2FnZSgpe30KbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRzdGFja2RyaXZlciRuZzJfYXdlc29tZWNoYXJ0cyRzaGFyZWQkd2ViX3dvcmtlcnMkZGF0YV93b3JrZXJzJHR5cGVzLkZsYXRDaGFydFN0cmVhbXNSZXF1ZXN0TWVzc2FnZT1tb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRzdGFja2RyaXZlciRuZzJfYXdlc29tZWNoYXJ0cyRzaGFyZWQkd2ViX3dvcmtlcnMkZGF0YV93b3JrZXJzJHR5cGVzX0ZsYXRDaGFydFN0cmVhbXNSZXF1ZXN0TWVzc2FnZTtmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRzdGFja2RyaXZlciRuZzJfYXdlc29tZWNoYXJ0cyRzaGFyZWQkd2ViX3dvcmtlcnMkZGF0YV93b3JrZXJzJHR5cGVzX1JlY2VpcHRNZXNzYWdlKCl7fQptb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JHN0YWNrZHJpdmVyJG5nMl9hd2Vzb21lY2hhcnRzJHNoYXJlZCR3ZWJfd29ya2VycyRkYXRhX3dvcmtlcnMkdHlwZXMuUmVjZWlwdE1lc3NhZ2U9bW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkc3RhY2tkcml2ZXIkbmcyX2F3ZXNvbWVjaGFydHMkc2hhcmVkJHdlYl93b3JrZXJzJGRhdGFfd29ya2VycyR0eXBlc19SZWNlaXB0TWVzc2FnZTtmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRzdGFja2RyaXZlciRuZzJfYXdlc29tZWNoYXJ0cyRzaGFyZWQkd2ViX3dvcmtlcnMkZGF0YV93b3JrZXJzJHR5cGVzX1JlbGVhc2VSZXF1ZXN0TWVzc2FnZSgpe31tb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JHN0YWNrZHJpdmVyJG5nMl9hd2Vzb21lY2hhcnRzJHNoYXJlZCR3ZWJfd29ya2VycyRkYXRhX3dvcmtlcnMkdHlwZXMuUmVsZWFzZVJlcXVlc3RNZXNzYWdlPW1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JHN0YWNrZHJpdmVyJG5nMl9hd2Vzb21lY2hhcnRzJHNoYXJlZCR3ZWJfd29ya2VycyRkYXRhX3dvcmtlcnMkdHlwZXNfUmVsZWFzZVJlcXVlc3RNZXNzYWdlOwpmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRzdGFja2RyaXZlciRuZzJfYXdlc29tZWNoYXJ0cyRzaGFyZWQkd2ViX3dvcmtlcnMkZGF0YV93b3JrZXJzJHR5cGVzX1JlbGVhc2VSZXNwb25zZU1lc3NhZ2UoKXt9bW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRzdGFja2RyaXZlciRuZzJfYXdlc29tZWNoYXJ0cyRzaGFyZWQkd2ViX3dvcmtlcnMkZGF0YV93b3JrZXJzJHR5cGVzLlJlbGVhc2VSZXNwb25zZU1lc3NhZ2U9bW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkc3RhY2tkcml2ZXIkbmcyX2F3ZXNvbWVjaGFydHMkc2hhcmVkJHdlYl93b3JrZXJzJGRhdGFfd29ya2VycyR0eXBlc19SZWxlYXNlUmVzcG9uc2VNZXNzYWdlOwptb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JHN0YWNrZHJpdmVyJG5nMl9hd2Vzb21lY2hhcnRzJHNoYXJlZCR3ZWJfd29ya2VycyRkYXRhX3dvcmtlcnMkdHlwZXMuRGF0YVdvcmtlckVycm9yPXtVTktOT1dOX0VSUk9SOjAsUkVRVUVTVF9GQUlMRURfRVJST1I6MSxJTlZBTElEX1JFUVVFU1RfRVJST1I6MixVTkFVVEhPUklaRURfRVJST1I6MyxDT05URU5UX1RZUEVfRVJST1I6NCxUT09fTUFOWV9SRVFVRVNUU19FUlJPUjo1LFJFUVVFU1RfQUJPUlRFRF9FUlJPUjo2LFNFUlZJQ0VfVU5BVkFJTEFCTEVfRVJST1I6NyxUSU1FT1VUX0VSUk9SOjh9Owptb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JHN0YWNrZHJpdmVyJG5nMl9hd2Vzb21lY2hhcnRzJHNoYXJlZCR3ZWJfd29ya2VycyRkYXRhX3dvcmtlcnMkdHlwZXMuRGF0YVdvcmtlckVycm9yW21vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkc3RhY2tkcml2ZXIkbmcyX2F3ZXNvbWVjaGFydHMkc2hhcmVkJHdlYl93b3JrZXJzJGRhdGFfd29ya2VycyR0eXBlcy5EYXRhV29ya2VyRXJyb3IuVU5LTk9XTl9FUlJPUl09IlVOS05PV05fRVJST1IiOwptb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JHN0YWNrZHJpdmVyJG5nMl9hd2Vzb21lY2hhcnRzJHNoYXJlZCR3ZWJfd29ya2VycyRkYXRhX3dvcmtlcnMkdHlwZXMuRGF0YVdvcmtlckVycm9yW21vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkc3RhY2tkcml2ZXIkbmcyX2F3ZXNvbWVjaGFydHMkc2hhcmVkJHdlYl93b3JrZXJzJGRhdGFfd29ya2VycyR0eXBlcy5EYXRhV29ya2VyRXJyb3IuUkVRVUVTVF9GQUlMRURfRVJST1JdPSJSRVFVRVNUX0ZBSUxFRF9FUlJPUiI7Cm1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkc3RhY2tkcml2ZXIkbmcyX2F3ZXNvbWVjaGFydHMkc2hhcmVkJHdlYl93b3JrZXJzJGRhdGFfd29ya2VycyR0eXBlcy5EYXRhV29ya2VyRXJyb3JbbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRzdGFja2RyaXZlciRuZzJfYXdlc29tZWNoYXJ0cyRzaGFyZWQkd2ViX3dvcmtlcnMkZGF0YV93b3JrZXJzJHR5cGVzLkRhdGFXb3JrZXJFcnJvci5JTlZBTElEX1JFUVVFU1RfRVJST1JdPSJJTlZBTElEX1JFUVVFU1RfRVJST1IiOwptb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JHN0YWNrZHJpdmVyJG5nMl9hd2Vzb21lY2hhcnRzJHNoYXJlZCR3ZWJfd29ya2VycyRkYXRhX3dvcmtlcnMkdHlwZXMuRGF0YVdvcmtlckVycm9yW21vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkc3RhY2tkcml2ZXIkbmcyX2F3ZXNvbWVjaGFydHMkc2hhcmVkJHdlYl93b3JrZXJzJGRhdGFfd29ya2VycyR0eXBlcy5EYXRhV29ya2VyRXJyb3IuVU5BVVRIT1JJWkVEX0VSUk9SXT0iVU5BVVRIT1JJWkVEX0VSUk9SIjsKbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRzdGFja2RyaXZlciRuZzJfYXdlc29tZWNoYXJ0cyRzaGFyZWQkd2ViX3dvcmtlcnMkZGF0YV93b3JrZXJzJHR5cGVzLkRhdGFXb3JrZXJFcnJvclttb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JHN0YWNrZHJpdmVyJG5nMl9hd2Vzb21lY2hhcnRzJHNoYXJlZCR3ZWJfd29ya2VycyRkYXRhX3dvcmtlcnMkdHlwZXMuRGF0YVdvcmtlckVycm9yLkNPTlRFTlRfVFlQRV9FUlJPUl09IkNPTlRFTlRfVFlQRV9FUlJPUiI7Cm1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkc3RhY2tkcml2ZXIkbmcyX2F3ZXNvbWVjaGFydHMkc2hhcmVkJHdlYl93b3JrZXJzJGRhdGFfd29ya2VycyR0eXBlcy5EYXRhV29ya2VyRXJyb3JbbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRzdGFja2RyaXZlciRuZzJfYXdlc29tZWNoYXJ0cyRzaGFyZWQkd2ViX3dvcmtlcnMkZGF0YV93b3JrZXJzJHR5cGVzLkRhdGFXb3JrZXJFcnJvci5UT09fTUFOWV9SRVFVRVNUU19FUlJPUl09IlRPT19NQU5ZX1JFUVVFU1RTX0VSUk9SIjsKbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRzdGFja2RyaXZlciRuZzJfYXdlc29tZWNoYXJ0cyRzaGFyZWQkd2ViX3dvcmtlcnMkZGF0YV93b3JrZXJzJHR5cGVzLkRhdGFXb3JrZXJFcnJvclttb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JHN0YWNrZHJpdmVyJG5nMl9hd2Vzb21lY2hhcnRzJHNoYXJlZCR3ZWJfd29ya2VycyRkYXRhX3dvcmtlcnMkdHlwZXMuRGF0YVdvcmtlckVycm9yLlJFUVVFU1RfQUJPUlRFRF9FUlJPUl09IlJFUVVFU1RfQUJPUlRFRF9FUlJPUiI7Cm1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkc3RhY2tkcml2ZXIkbmcyX2F3ZXNvbWVjaGFydHMkc2hhcmVkJHdlYl93b3JrZXJzJGRhdGFfd29ya2VycyR0eXBlcy5EYXRhV29ya2VyRXJyb3JbbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRzdGFja2RyaXZlciRuZzJfYXdlc29tZWNoYXJ0cyRzaGFyZWQkd2ViX3dvcmtlcnMkZGF0YV93b3JrZXJzJHR5cGVzLkRhdGFXb3JrZXJFcnJvci5TRVJWSUNFX1VOQVZBSUxBQkxFX0VSUk9SXT0iU0VSVklDRV9VTkFWQUlMQUJMRV9FUlJPUiI7Cm1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkc3RhY2tkcml2ZXIkbmcyX2F3ZXNvbWVjaGFydHMkc2hhcmVkJHdlYl93b3JrZXJzJGRhdGFfd29ya2VycyR0eXBlcy5EYXRhV29ya2VyRXJyb3JbbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRzdGFja2RyaXZlciRuZzJfYXdlc29tZWNoYXJ0cyRzaGFyZWQkd2ViX3dvcmtlcnMkZGF0YV93b3JrZXJzJHR5cGVzLkRhdGFXb3JrZXJFcnJvci5USU1FT1VUX0VSUk9SXT0iVElNRU9VVF9FUlJPUiI7ZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkc3RhY2tkcml2ZXIkbmcyX2F3ZXNvbWVjaGFydHMkc2hhcmVkJHdlYl93b3JrZXJzJGRhdGFfd29ya2VycyR0eXBlc19SZXF1ZXN0RXJyb3JNZXNzYWdlKCl7fQptb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JHN0YWNrZHJpdmVyJG5nMl9hd2Vzb21lY2hhcnRzJHNoYXJlZCR3ZWJfd29ya2VycyRkYXRhX3dvcmtlcnMkdHlwZXMuUmVxdWVzdEVycm9yTWVzc2FnZT1tb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRzdGFja2RyaXZlciRuZzJfYXdlc29tZWNoYXJ0cyRzaGFyZWQkd2ViX3dvcmtlcnMkZGF0YV93b3JrZXJzJHR5cGVzX1JlcXVlc3RFcnJvck1lc3NhZ2U7ZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkc3RhY2tkcml2ZXIkbmcyX2F3ZXNvbWVjaGFydHMkc2hhcmVkJHdlYl93b3JrZXJzJGRhdGFfd29ya2VycyR1dGlsc19nZXRJbnRlcnNlY3RpbmdUaWxlcyhhLGIpe3ZhciBjPXtkb21haW46YX07Yj0kanNjb21wLm1ha2VJdGVyYXRvcihiKTtmb3IodmFyIGQ9Yi5uZXh0KCk7IWQuZG9uZTtkPWIubmV4dCgpKWQ9ZC52YWx1ZSxtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRzdGFja2RyaXZlciRuZzJfYXdlc29tZWNoYXJ0cyRzaGFyZWQkdXRpbHMkZG9tYWluc19kb21haW5zSW50ZXJzZWN0KGQuZG9tYWluLGEpJiYoZC5kb21haW5bMF0+YVswXT9jLnByZXZpb3VzVGlsZT1kOmMubmV4dFRpbGU9ZCk7cmV0dXJuIGN9CmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JHN0YWNrZHJpdmVyJG5nMl9hd2Vzb21lY2hhcnRzJHNoYXJlZCR3ZWJfd29ya2VycyRkYXRhX3dvcmtlcnMkdXRpbHNfcmVwbGFjZVRpbGVzKGEpe3ZhciBiPWE7YT1iLm5ld1RpbGU7dmFyIGM9Yi50aWxlc1RvUmVtb3ZlLGQ9Yi5hbGxUaWxlcztiPWIucGVuZGluZ0RvbWFpbnM7dmFyIGU9YS5kb21haW47ZD1kLmZpbHRlcihmdW5jdGlvbihmKXtyZXR1cm4hYy5pbmNsdWRlcyhmKX0pO2QucHVzaChhKTthPWIuZmlsdGVyKGZ1bmN0aW9uKGYpe3JldHVybiBmWzBdPj1lWzBdJiZmWzFdPD1lWzFdPyExOiEwfSk7cmV0dXJue2ZsYXRUaWxlczpkLHBlbmRpbmdEb21haW5zOmF9fQpmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRzdGFja2RyaXZlciRuZzJfYXdlc29tZWNoYXJ0cyRzaGFyZWQkd2ViX3dvcmtlcnMkZGF0YV93b3JrZXJzJHV0aWxzX3BvcExhdGVzdFRpbGUoYSxiKXt2YXIgYz0tMSxkPW51bGwsZT1udWxsO2Iuc29ydChmdW5jdGlvbihrLGgpe3JldHVybiBrWzFdLWhbMV19KTswPGIubGVuZ3RoJiYoZT1iW2IubGVuZ3RoLTFdWzFdKTtmb3IoYj0wO2I8YS5sZW5ndGg7YisrKXt2YXIgZj1udWxsPT09ZXx8YVtiXS5kb21haW5bMF0+PWUsZz1udWxsPT09ZHx8YVtiXS5kb21haW5bMV0+ZC5kb21haW5bMV07ZiYmZyYmKGQ9YVtiXSxjPWIpfXJldHVybi0xPGM/KGEuc3BsaWNlKGMsMSksZCk6bnVsbH07dmFyIG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkc3RhY2tkcml2ZXIkbmcyX2F3ZXNvbWVjaGFydHMkc2hhcmVkJHdlYl93b3JrZXJzJHdvcmtlcl9jaGFubmVsPXtXb3JrZXJDaGFubmVsOmZ1bmN0aW9uKGEpe3RoaXMudGFyZ2V0PWE7dGhpcy5tZXNzYWdlcz1tb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9ic2VydmFibGUkZnJvbUV2ZW50X2Zyb21FdmVudCh0aGlzLnRhcmdldCwibWVzc2FnZSIpO3RoaXMuZXJyb3JzPW1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkcnhqcyRzcmMkaW50ZXJuYWwkb2JzZXJ2YWJsZSRmcm9tRXZlbnRfZnJvbUV2ZW50KHRoaXMudGFyZ2V0LCJlcnJvciIpLnBpcGUobW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvcGVyYXRvcnMkc3dpdGNoTWFwX3N3aXRjaE1hcChmdW5jdGlvbihiKXtyZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkamF2YXNjcmlwdCRyeGpzJHNyYyRpbnRlcm5hbCRvYnNlcnZhYmxlJHRocm93RXJyb3JfdGhyb3dFcnJvcihiKX0pKX19Owptb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JHN0YWNrZHJpdmVyJG5nMl9hd2Vzb21lY2hhcnRzJHNoYXJlZCR3ZWJfd29ya2VycyR3b3JrZXJfY2hhbm5lbC5Xb3JrZXJDaGFubmVsLnByb3RvdHlwZS5pc1dvcmtlcj1mdW5jdGlvbihhKXtyZXR1cm4iZnVuY3Rpb24iPT09dHlwZW9mIFdvcmtlciYmYSBpbnN0YW5jZW9mIFdvcmtlcn07bW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRzdGFja2RyaXZlciRuZzJfYXdlc29tZWNoYXJ0cyRzaGFyZWQkd2ViX3dvcmtlcnMkd29ya2VyX2NoYW5uZWwuV29ya2VyQ2hhbm5lbC5wcm90b3R5cGUuaXNNZXNzYWdlT2ZUeXBlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGEudHlwZT09PWJ9Owptb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JHN0YWNrZHJpdmVyJG5nMl9hd2Vzb21lY2hhcnRzJHNoYXJlZCR3ZWJfd29ya2VycyR3b3JrZXJfY2hhbm5lbC5Xb3JrZXJDaGFubmVsLnByb3RvdHlwZS5wb3N0TWVzc2FnZT1mdW5jdGlvbihhLGIpe3RoaXMudGFyZ2V0LnBvc3RNZXNzYWdlKE9iamVjdC5hc3NpZ24oe30se3NlbmRUaW1lOkRhdGUubm93KCl9LGEpLGIpfTsKbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRzdGFja2RyaXZlciRuZzJfYXdlc29tZWNoYXJ0cyRzaGFyZWQkd2ViX3dvcmtlcnMkd29ya2VyX2NoYW5uZWwuV29ya2VyQ2hhbm5lbC5wcm90b3R5cGUubGlzdGVuRm9yTWVzc2FnZXM9ZnVuY3Rpb24oKXt2YXIgYT0kanNjb21wLmdldFJlc3RBcmd1bWVudHMuYXBwbHkoMCxhcmd1bWVudHMpLGI9dGhpcyxjPXRoaXMubWVzc2FnZXMucGlwZShtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRmaWx0ZXJfZmlsdGVyKGZ1bmN0aW9uKGQpe3JldHVybiAwPGEubGVuZ3RoP2Euc29tZShmdW5jdGlvbihlKXtyZXR1cm4gYi5pc01lc3NhZ2VPZlR5cGUoZC5kYXRhLGUpfSk6ITB9KSxtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9wZXJhdG9ycyRtYXBfbWFwKGZ1bmN0aW9uKGQpe2Q9CmQuZGF0YTtkPU9iamVjdC5hc3NpZ24oe30sZCk7cmV0dXJuIGQ9KGRlbGV0ZSBkLnNlbmRUaW1lLGQpfSkpO3JldHVybiB0aGlzLmlzV29ya2VyKHRoaXMudGFyZ2V0KT9tb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JHJ4anMkc3JjJGludGVybmFsJG9ic2VydmFibGUkbWVyZ2VfbWVyZ2UoYyx0aGlzLmVycm9ycyk6Y307dmFyIG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JHN0YWNrZHJpdmVyJG5nMl9hd2Vzb21lY2hhcnRzJHNoYXJlZCR3ZWJfd29ya2VycyRkYXRhX3dvcmtlcnMkZGF0YV93b3JrZXJfc3JjX1JFVFJZQUJMRV9FUlJPUlM9W21vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkc3RhY2tkcml2ZXIkbmcyX2F3ZXNvbWVjaGFydHMkc2hhcmVkJHdlYl93b3JrZXJzJGRhdGFfd29ya2VycyR0eXBlcy5EYXRhV29ya2VyRXJyb3IuVE9PX01BTllfUkVRVUVTVFNfRVJST1IsbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRzdGFja2RyaXZlciRuZzJfYXdlc29tZWNoYXJ0cyRzaGFyZWQkd2ViX3dvcmtlcnMkZGF0YV93b3JrZXJzJHR5cGVzLkRhdGFXb3JrZXJFcnJvci5SRVFVRVNUX0ZBSUxFRF9FUlJPUl0sbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkc3RhY2tkcml2ZXIkbmcyX2F3ZXNvbWVjaGFydHMkc2hhcmVkJHdlYl93b3JrZXJzJGRhdGFfd29ya2VycyRkYXRhX3dvcmtlcl9zcmNfRGF0YVdvcmtlclNvdXJjZT0KZnVuY3Rpb24oKXt0aGlzLmNoYW5uZWw9bmV3IG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkc3RhY2tkcml2ZXIkbmcyX2F3ZXNvbWVjaGFydHMkc2hhcmVkJHdlYl93b3JrZXJzJHdvcmtlcl9jaGFubmVsLldvcmtlckNoYW5uZWwoc2VsZik7dGhpcy5jYWNoZVN0YXRlTWFwPW5ldyBNYXB9Owptb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRzdGFja2RyaXZlciRuZzJfYXdlc29tZWNoYXJ0cyRzaGFyZWQkd2ViX3dvcmtlcnMkZGF0YV93b3JrZXJzJGRhdGFfd29ya2VyX3NyY19EYXRhV29ya2VyU291cmNlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7dmFyIGE9dGhpczt0aGlzLmNoYW5uZWwubGlzdGVuRm9yTWVzc2FnZXMobW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRzdGFja2RyaXZlciRuZzJfYXdlc29tZWNoYXJ0cyRzaGFyZWQkd2ViX3dvcmtlcnMkZGF0YV93b3JrZXJzJHR5cGVzLkRhdGFXb3JrZXJNZXNzYWdlVHlwZS5GTEFUX0NIQVJUU19EQVRBX1JFUVVFU1QpLnN1YnNjcmliZShmdW5jdGlvbihiKXthLmRhdGFSZXF1ZXN0TWVzc2FnZUhhbmRsZXIoYil9KTt0aGlzLmNoYW5uZWwubGlzdGVuRm9yTWVzc2FnZXMobW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRzdGFja2RyaXZlciRuZzJfYXdlc29tZWNoYXJ0cyRzaGFyZWQkd2ViX3dvcmtlcnMkZGF0YV93b3JrZXJzJHR5cGVzLkRhdGFXb3JrZXJNZXNzYWdlVHlwZS5SRUNFSVBUKS5zdWJzY3JpYmUoZnVuY3Rpb24oYil7KGI9CmEuY2FjaGVTdGF0ZU1hcC5nZXQoYi5jYWNoZUlkKSkmJmEuc2VuZExhdGVzdFRpbGUoYil9KTt0aGlzLmNoYW5uZWwubGlzdGVuRm9yTWVzc2FnZXMobW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRzdGFja2RyaXZlciRuZzJfYXdlc29tZWNoYXJ0cyRzaGFyZWQkd2ViX3dvcmtlcnMkZGF0YV93b3JrZXJzJHR5cGVzLkRhdGFXb3JrZXJNZXNzYWdlVHlwZS5DTEVBUl9DQUNIRV9SRVFVRVNUKS5zdWJzY3JpYmUoZnVuY3Rpb24oYil7YS5jbGVhckNhY2hlKGIuY2FjaGVJZCl9KX07Cm1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JHN0YWNrZHJpdmVyJG5nMl9hd2Vzb21lY2hhcnRzJHNoYXJlZCR3ZWJfd29ya2VycyRkYXRhX3dvcmtlcnMkZGF0YV93b3JrZXJfc3JjX0RhdGFXb3JrZXJTb3VyY2UucHJvdG90eXBlLmRhdGFSZXF1ZXN0TWVzc2FnZUhhbmRsZXI9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjLGQsZSxmLGcsayxoO3JldHVybiAkanNjb21wLmFzeW5jRXhlY3V0ZVByb21pc2VHZW5lcmF0b3JQcm9ncmFtKGZ1bmN0aW9uKGwpe2lmKDE9PWwubmV4dEFkZHJlc3MpcmV0dXJuIGwuc2V0Q2F0Y2hGaW5hbGx5QmxvY2tzKDIpLGwueWllbGQoYi5oYW5kbGVGbGF0Q2hhcnRzRGF0YVJlcXVlc3QoYSksNCk7aWYoMiE9bC5uZXh0QWRkcmVzcylyZXR1cm4gbC5sZWF2ZVRyeUJsb2NrKDApO2M9bC5lbnRlckNhdGNoQmxvY2soKTtkPWE7ZT12b2lkIDA9PT1kLnJldHJ5Q291bnQ/MDpkLnJldHJ5Q291bnQ7Zj1tb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRzdGFja2RyaXZlciRuZzJfYXdlc29tZWNoYXJ0cyRzaGFyZWQkd2ViX3dvcmtlcnMkZGF0YV93b3JrZXJzJGRhdGFfd29ya2VyX3NyY19nZXRFcnJvckVudW0oYyk7CmlmKGc9Mz49ZSYmbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkc3RhY2tkcml2ZXIkbmcyX2F3ZXNvbWVjaGFydHMkc2hhcmVkJHdlYl93b3JrZXJzJGRhdGFfd29ya2VycyRkYXRhX3dvcmtlcl9zcmNfUkVUUllBQkxFX0VSUk9SUy5pbmNsdWRlcyhmKSlyZXR1cm4gYS5yZXRyeUNvdW50PWUrMSxrPU1hdGguY2VpbCgxRTMqTWF0aC5yYW5kb20oKSksaD0xRTMqZStrLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtiLmRhdGFSZXF1ZXN0TWVzc2FnZUhhbmRsZXIoYSl9LGgpLGwucmV0dXJuKCk7Yi5jYWNoZVN0YXRlTWFwLmdldChhLmNhY2hlSWQpO2IuY2hhbm5lbC5wb3N0TWVzc2FnZSh7bWVzc2FnZTpjLm1lc3NhZ2UscmVxdWVzdFRpbWVzdGFtcDphLnJlcXVlc3RUaW1lc3RhbXAsY2FjaGVJZDphLmNhY2hlSWQsZG9tYWluOmEudGlsZURvbWFpbixlcnJvckVudW06bW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkc3RhY2tkcml2ZXIkbmcyX2F3ZXNvbWVjaGFydHMkc2hhcmVkJHdlYl93b3JrZXJzJGRhdGFfd29ya2VycyRkYXRhX3dvcmtlcl9zcmNfZ2V0RXJyb3JFbnVtKGMpLAp0eXBlOm1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkc3RhY2tkcml2ZXIkbmcyX2F3ZXNvbWVjaGFydHMkc2hhcmVkJHdlYl93b3JrZXJzJGRhdGFfd29ya2VycyR0eXBlcy5EYXRhV29ya2VyTWVzc2FnZVR5cGUuUkVRVUVTVF9FUlJPUn0pO2wuanVtcFRvRW5kKCl9KX07bW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkc3RhY2tkcml2ZXIkbmcyX2F3ZXNvbWVjaGFydHMkc2hhcmVkJHdlYl93b3JrZXJzJGRhdGFfd29ya2VycyRkYXRhX3dvcmtlcl9zcmNfRGF0YVdvcmtlclNvdXJjZS5wcm90b3R5cGUuY2xlYXJDYWNoZT1mdW5jdGlvbihhKXt0aGlzLmNhY2hlU3RhdGVNYXAuZGVsZXRlKGEpO3RoaXMuY2hhbm5lbC5wb3N0TWVzc2FnZSh7Y2FjaGVJZDphLHR5cGU6bW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRzdGFja2RyaXZlciRuZzJfYXdlc29tZWNoYXJ0cyRzaGFyZWQkd2ViX3dvcmtlcnMkZGF0YV93b3JrZXJzJHR5cGVzLkRhdGFXb3JrZXJNZXNzYWdlVHlwZS5DTEVBUl9DQUNIRV9SRVNQT05TRX0pfTsKbW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkc3RhY2tkcml2ZXIkbmcyX2F3ZXNvbWVjaGFydHMkc2hhcmVkJHdlYl93b3JrZXJzJGRhdGFfd29ya2VycyRkYXRhX3dvcmtlcl9zcmNfRGF0YVdvcmtlclNvdXJjZS5wcm90b3R5cGUucmVxdWVzdFRpbWVTZXJpZXM9ZnVuY3Rpb24oYSl7dmFyIGI7cmV0dXJuICRqc2NvbXAuYXN5bmNFeGVjdXRlUHJvbWlzZUdlbmVyYXRvclByb2dyYW0oZnVuY3Rpb24oYyl7aWYoMT09Yy5uZXh0QWRkcmVzcylyZXR1cm4gYy55aWVsZChtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRzdGFja2RyaXZlciRuZzJfYXdlc29tZWNoYXJ0cyRzaGFyZWQkdXRpbHMkZmV0Y2hfdGltZV9zZXJpZXNfZmV0Y2hUaW1lU2VyaWVzKGEpLDIpO2I9Yy55aWVsZFJlc3VsdDtpZihiLmVycm9yKXRocm93IGIuZXJyb3I7cmV0dXJuIGMucmV0dXJuKGIpfSl9Owptb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRzdGFja2RyaXZlciRuZzJfYXdlc29tZWNoYXJ0cyRzaGFyZWQkd2ViX3dvcmtlcnMkZGF0YV93b3JrZXJzJGRhdGFfd29ya2VyX3NyY19EYXRhV29ya2VyU291cmNlLnByb3RvdHlwZS5oYW5kbGVGbGF0Q2hhcnRzRGF0YVJlcXVlc3Q9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjLGQsZSxmLGcsayxoLGwsbSxuLHAscSx1LHIsdix3LHQsQTtyZXR1cm4gJGpzY29tcC5hc3luY0V4ZWN1dGVQcm9taXNlR2VuZXJhdG9yUHJvZ3JhbShmdW5jdGlvbih4KXtpZigxPT14Lm5leHRBZGRyZXNzKXtjPWE7ZD1jLmNhY2hlZFN0cmVhbXNNZXRhZGF0YTtlPWMucmVxdWVzdFBhcmFtcztmPWMuYWxpZ25tZW50UGVyaW9kO2c9Yy50aWxlRG9tYWluO2s9Yy5pc0ZpcnN0VGlsZTtoPWMuY2FjaGVJZDtsPWMucmVxdWVzdFRpbWVzdGFtcDttPWIuY2FjaGVTdGF0ZU1hcC5nZXQoaCk7aWYoIW18fG0ucmVxdWVzdFRpbWVzdGFtcDxsKW09e3BlbmRpbmdEb21haW5zOltdLApmbGF0VGlsZXM6W10sd2FpdGluZ0ZvclJlY2VpcHQ6ITEsaWQ6aCxyZXF1ZXN0VGltZXN0YW1wOmx9LGIuY2FjaGVTdGF0ZU1hcC5zZXQoaCxtKTtrJiZkJiYobS5jYWNoZWRTdHJlYW1zTWV0YWRhdGE9ZCk7bS5wZW5kaW5nRG9tYWlucy5wdXNoKGcpO3JldHVybiB4LnlpZWxkKGIucmVxdWVzdFRpbWVTZXJpZXMoZSksMil9aWYoMyE9eC5uZXh0QWRkcmVzcyl7bj14LnlpZWxkUmVzdWx0O3A9bW9kdWxlJGNvbnRlbnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkc3RhY2tkcml2ZXIkbmcyX2F3ZXNvbWVjaGFydHMkc2hhcmVkJHdlYl93b3JrZXJzJGRhdGFfd29ya2VycyR1dGlsc19nZXRJbnRlcnNlY3RpbmdUaWxlcyhnLG0uZmxhdFRpbGVzKTtxPSgwLGF3ZXNvbWVjaGFydHMuZGF0YWxheWVyLnRyYW5zbGF0aW9uLkdjbVYzTWV0cmljc0ZsYXRUcmFuc2xhdGlvbi50cmFuc2xhdGVEYXRhKShuLGYsZyxlLHApO3U9W3AucHJldmlvdXNUaWxlLHAubmV4dFRpbGVdLmZpbHRlcihmdW5jdGlvbih5KXtyZXR1cm4hIXl9KTsKaWYobS5yZXF1ZXN0VGltZXN0YW1wIT09bClyZXR1cm4geC5yZXR1cm4oKTtyPW1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JHN0YWNrZHJpdmVyJG5nMl9hd2Vzb21lY2hhcnRzJHNoYXJlZCR3ZWJfd29ya2VycyRkYXRhX3dvcmtlcnMkdXRpbHNfcmVwbGFjZVRpbGVzKHtuZXdUaWxlOnEsdGlsZXNUb1JlbW92ZTp1LGFsbFRpbGVzOm0uZmxhdFRpbGVzLHBlbmRpbmdEb21haW5zOm0ucGVuZGluZ0RvbWFpbnN9KTt2PXIuZmxhdFRpbGVzO3c9ci5wZW5kaW5nRG9tYWluczttLmZsYXRUaWxlcz12O20ucGVuZGluZ0RvbWFpbnM9dztpZihrJiYhbS5jYWNoZWRTdHJlYW1zTWV0YWRhdGEpcmV0dXJuIG0uY2FjaGVkU3RyZWFtc01ldGFkYXRhPXEsbS5pbml0aWFsVGlsZVJlc29sdmVyJiYobS5pbml0aWFsVGlsZVJlc29sdmVyKCksbS5pbml0aWFsVGlsZVByb21pc2U9dm9pZCAwLG0uaW5pdGlhbFRpbGVSZXNvbHZlcj12b2lkIDApLHguanVtcFRvKDMpO2lmKG0uY2FjaGVkU3RyZWFtc01ldGFkYXRhKXJldHVybiB4Lmp1bXBUbygzKTsKaWYobS5pbml0aWFsVGlsZVByb21pc2UpcmV0dXJuIHgueWllbGQobS5pbml0aWFsVGlsZVByb21pc2UsMyk7dD1mdW5jdGlvbigpe307QT1uZXcgUHJvbWlzZShmdW5jdGlvbih5KXt0PXl9KTttLmluaXRpYWxUaWxlUHJvbWlzZT1BO20uaW5pdGlhbFRpbGVSZXNvbHZlcj10O3JldHVybiB4LnlpZWxkKEEsMyl9aWYobS5yZXF1ZXN0VGltZXN0YW1wIT09bClyZXR1cm4geC5yZXR1cm4oKTttLndhaXRpbmdGb3JSZWNlaXB0fHxiLnNlbmRMYXRlc3RUaWxlKG0pO3guanVtcFRvRW5kKCl9KX07Cm1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JHN0YWNrZHJpdmVyJG5nMl9hd2Vzb21lY2hhcnRzJHNoYXJlZCR3ZWJfd29ya2VycyRkYXRhX3dvcmtlcnMkZGF0YV93b3JrZXJfc3JjX0RhdGFXb3JrZXJTb3VyY2UucHJvdG90eXBlLnNlbmRMYXRlc3RUaWxlPWZ1bmN0aW9uKGEpe3ZhciBiPW1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JHN0YWNrZHJpdmVyJG5nMl9hd2Vzb21lY2hhcnRzJHNoYXJlZCR3ZWJfd29ya2VycyRkYXRhX3dvcmtlcnMkdXRpbHNfcG9wTGF0ZXN0VGlsZShhLmZsYXRUaWxlcyxhLnBlbmRpbmdEb21haW5zKTtpZihiKXsoMCxhd2Vzb21lY2hhcnRzLmRhdGFsYXllci50cmFuc2xhdGlvbi5HY21WM01ldHJpY3NGbGF0VHJhbnNsYXRpb24ubWVyZ2VDaGFydFN0cmVhbXNNZXRhZGF0YSkoYS5jYWNoZWRTdHJlYW1zTWV0YWRhdGEsYik7YS5jYWNoZWRTdHJlYW1zTWV0YWRhdGE9Yjt2YXIgYz1iLnNlcmllc0RhdGEsZD1iO2RlbGV0ZSBiLnNlcmllc0RhdGE7CmI9T2JqZWN0LmtleXMoYyk7dmFyIGU9Yi5sZW5ndGg7YS53YWl0aW5nRm9yUmVjZWlwdD0hMDt0aGlzLmNoYW5uZWwucG9zdE1lc3NhZ2Uoe3N0cmVhbXNNZXRhZGF0YTpkLHRvdGFsU3RyZWFtczplLGNhY2hlSWQ6YS5pZCxyZXF1ZXN0VGltZXN0YW1wOmEucmVxdWVzdFRpbWVzdGFtcCx0eXBlOm1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkc3RhY2tkcml2ZXIkbmcyX2F3ZXNvbWVjaGFydHMkc2hhcmVkJHdlYl93b3JrZXJzJGRhdGFfd29ya2VycyR0eXBlcy5EYXRhV29ya2VyTWVzc2FnZVR5cGUuRkxBVF9DSEFSVFNfTUVUQURBVEFfUkVTUE9OU0V9KTswPT09ZSYmdGhpcy5jaGFubmVsLnBvc3RNZXNzYWdlKHtzdHJlYW1zOntzZXJpZXNEYXRhOnt9fSxzdHJlYW1Db3VudDowLGNhY2hlSWQ6YS5pZCxyZXF1ZXN0VGltZXN0YW1wOmEucmVxdWVzdFRpbWVzdGFtcCxkb21haW46ZC5kb21haW4sdHlwZTptb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JHN0YWNrZHJpdmVyJG5nMl9hd2Vzb21lY2hhcnRzJHNoYXJlZCR3ZWJfd29ya2VycyRkYXRhX3dvcmtlcnMkdHlwZXMuRGF0YVdvcmtlck1lc3NhZ2VUeXBlLkZMQVRfQ0hBUlRTX0RBVEFfUEFSVF9SRVNQT05TRX0pOwpmb3IodmFyIGY9MDtmPGU7Zis9MjApe3ZhciBnPWIuc2xpY2UoZixmKzIwKS5yZWR1Y2UoZnVuY3Rpb24oaCxsKXtoW2xdPWNbbF07cmV0dXJuIGh9LHt9KSxrPWIuc2xpY2UoZixmKzIwKS5yZWR1Y2UoZnVuY3Rpb24oaCxsKXtyZXR1cm4gaC5jb25jYXQoY1tsXS50cmFuc2ZlcmFibGVzKX0sW10pO3RoaXMuY2hhbm5lbC5wb3N0TWVzc2FnZSh7c3RyZWFtczp7c2VyaWVzRGF0YTpnfSxzdHJlYW1Db3VudDpPYmplY3Qua2V5cyhnKS5sZW5ndGgsY2FjaGVJZDphLmlkLHJlcXVlc3RUaW1lc3RhbXA6YS5yZXF1ZXN0VGltZXN0YW1wLGRvbWFpbjpkLmRvbWFpbix0eXBlOm1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkc3RhY2tkcml2ZXIkbmcyX2F3ZXNvbWVjaGFydHMkc2hhcmVkJHdlYl93b3JrZXJzJGRhdGFfd29ya2VycyR0eXBlcy5EYXRhV29ya2VyTWVzc2FnZVR5cGUuRkxBVF9DSEFSVFNfREFUQV9QQVJUX1JFU1BPTlNFfSxrKX19ZWxzZSBhLndhaXRpbmdGb3JSZWNlaXB0PQohMX07CmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nbGUzJHRoaXJkX3BhcnR5JHN0YWNrZHJpdmVyJG5nMl9hd2Vzb21lY2hhcnRzJHNoYXJlZCR3ZWJfd29ya2VycyRkYXRhX3dvcmtlcnMkZGF0YV93b3JrZXJfc3JjX2dldEVycm9yRW51bShhKXtpZihhIGluc3RhbmNlb2YgRXJyb3IpcmV0dXJuIG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkc3RhY2tkcml2ZXIkbmcyX2F3ZXNvbWVjaGFydHMkc2hhcmVkJHdlYl93b3JrZXJzJGRhdGFfd29ya2VycyR0eXBlcy5EYXRhV29ya2VyRXJyb3IuVU5LTk9XTl9FUlJPUjtzd2l0Y2goYS5jb2RlKXtjYXNlIDQwMDpyZXR1cm4gbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRzdGFja2RyaXZlciRuZzJfYXdlc29tZWNoYXJ0cyRzaGFyZWQkd2ViX3dvcmtlcnMkZGF0YV93b3JrZXJzJHR5cGVzLkRhdGFXb3JrZXJFcnJvci5JTlZBTElEX1JFUVVFU1RfRVJST1I7Y2FzZSA0MDM6cmV0dXJuIG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkc3RhY2tkcml2ZXIkbmcyX2F3ZXNvbWVjaGFydHMkc2hhcmVkJHdlYl93b3JrZXJzJGRhdGFfd29ya2VycyR0eXBlcy5EYXRhV29ya2VyRXJyb3IuVU5BVVRIT1JJWkVEX0VSUk9SO2Nhc2UgNDE1OnJldHVybiBtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JHN0YWNrZHJpdmVyJG5nMl9hd2Vzb21lY2hhcnRzJHNoYXJlZCR3ZWJfd29ya2VycyRkYXRhX3dvcmtlcnMkdHlwZXMuRGF0YVdvcmtlckVycm9yLkNPTlRFTlRfVFlQRV9FUlJPUjsKY2FzZSA0Mjk6cmV0dXJuIG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkc3RhY2tkcml2ZXIkbmcyX2F3ZXNvbWVjaGFydHMkc2hhcmVkJHdlYl93b3JrZXJzJGRhdGFfd29ya2VycyR0eXBlcy5EYXRhV29ya2VyRXJyb3IuVE9PX01BTllfUkVRVUVTVFNfRVJST1I7Y2FzZSA0OTk6cmV0dXJuIG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkc3RhY2tkcml2ZXIkbmcyX2F3ZXNvbWVjaGFydHMkc2hhcmVkJHdlYl93b3JrZXJzJGRhdGFfd29ya2VycyR0eXBlcy5EYXRhV29ya2VyRXJyb3IuUkVRVUVTVF9BQk9SVEVEX0VSUk9SO2Nhc2UgNTAzOnJldHVybiBtb2R1bGUkZXhwb3J0cyRnb29nbGUzJHRoaXJkX3BhcnR5JHN0YWNrZHJpdmVyJG5nMl9hd2Vzb21lY2hhcnRzJHNoYXJlZCR3ZWJfd29ya2VycyRkYXRhX3dvcmtlcnMkdHlwZXMuRGF0YVdvcmtlckVycm9yLlNFUlZJQ0VfVU5BVkFJTEFCTEVfRVJST1I7Y2FzZSA1MDQ6cmV0dXJuIG1vZHVsZSRleHBvcnRzJGdvb2dsZTMkdGhpcmRfcGFydHkkc3RhY2tkcml2ZXIkbmcyX2F3ZXNvbWVjaGFydHMkc2hhcmVkJHdlYl93b3JrZXJzJGRhdGFfd29ya2VycyR0eXBlcy5EYXRhV29ya2VyRXJyb3IuVElNRU9VVF9FUlJPUjsKZGVmYXVsdDpyZXR1cm4gbW9kdWxlJGV4cG9ydHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRzdGFja2RyaXZlciRuZzJfYXdlc29tZWNoYXJ0cyRzaGFyZWQkd2ViX3dvcmtlcnMkZGF0YV93b3JrZXJzJHR5cGVzLkRhdGFXb3JrZXJFcnJvci5SRVFVRVNUX0ZBSUxFRF9FUlJPUn19KG5ldyBtb2R1bGUkY29udGVudHMkZ29vZ2xlMyR0aGlyZF9wYXJ0eSRzdGFja2RyaXZlciRuZzJfYXdlc29tZWNoYXJ0cyRzaGFyZWQkd2ViX3dvcmtlcnMkZGF0YV93b3JrZXJzJGRhdGFfd29ya2VyX3NyY19EYXRhV29ya2VyU291cmNlKS5pbml0KCk7LyoKCiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLgoKIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlCiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlCiovCi8qCgogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC4KCiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZQogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZQogQHBhcmFtIHshX1pvbmVQcml2YXRlfSBhcGkKIEBwYXJhbSB7P30gdGFyZ2V0CiBAcGFyYW0ge3N0cmluZ30gdGFyZ2V0TmFtZQogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZAogQHBhcmFtIHshQXJyYXk8c3RyaW5nPn0gY2FsbGJhY2tzCiBAcmV0dXJuIHt2b2lkfQoqLwovKgoKIFRoZSBNSVQgTGljZW5zZQoKIENvcHlyaWdodCAoYykgMjAxNC0yMDE2IEdvb2dsZSwgSW5jLiBodHRwOi8vYW5ndWxhci5pbwoKIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHkKIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlICJTb2Z0d2FyZSIpLCB0byBkZWFsCiBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzCiB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsCiBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMKIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6CgogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW4KIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLgoKIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCAiQVMgSVMiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SCiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSwKIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRQogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUgogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwKIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4KIFRIRSBTT0ZUV0FSRS4KKi8KCn0pKCk7"))),
WGe="acChartDataWorker",XGe=0;
var cHe=(navigator.hardwareConcurrency||2)-1,dHe=function(a){if(0===a.size)throw console.warn("No workers of this type exist:",a.workerCtor.workerName),Error("Zk");if(a=a.workers.find(({isAvailable:b})=>b)){if(!a.isAvailable)throw Error("Xk`"+a.workerId);a.isAvailableInternal=!1;return a}},gae=function(a,b=a.defaultPoolSize){for(let c=0;c<b;c++)a.workers.push(new a.workerCtor(a.availabilitySubject))},fae=class{constructor(){this.workerCtor=bHe;this.workers=[];this.availabilitySubject=new _.tf;this.defaultPoolSize=
Math.min(4,cHe)}get size(){return this.workers.length}getWorker(){if(0===this.size)return console.warn("No workers of this type exist:",this.workerCtor.workerName),Promise.reject(0);const a=dHe(this);return a?Promise.resolve(a):this.availabilitySubject.pipe(_.U(()=>dHe(this)),_.Ge(b=>!!b),_.af(1)).toPromise()}};
var eae;
_.nh("awesomecharts.utils.DataWorkerPoolUtils.init",hae);_.nh("awesomecharts.utils.DataWorkerPoolUtils.getPool",function(){return eae});
var eHe=0,fHe=function(a){_.ne(function*(){a.workerContext.requestCount--;if(0===a.workerContext.requestCount){var b=a.workerContext.workerPromise;a.workerContext.workerPromise=null;if(b=yield b)return b.clearCache(a.id)}else 0<a.workerContext.requestCount?(b=yield a.workerContext.workerPromise)&&b.channel.postMessage({cacheId:a.id,type:4}):console.warn("Decremented a worker context request count below 0",a.workerContext)})},gHe=function(a,b,c,d,e){return _.ne(function*(){const f=_.Jnc(b);var g=e&&
e.requestTimestamp?e.requestTimestamp:0,h=e?e.isLatest:!0;a.workerContext.requestCount++;var l=[b[0].getTime(),b[1].getTime()],n=a.transport.buildRequestParams(c,d);if(h&&a.hasData()){var r=a.cache;r={seriesMetadataMetricLabels:r.seriesMetadataMetricLabels,seriesMetadataResourceType:r.seriesMetadataResourceType,seriesMetadataResourceLabels:r.seriesMetadataResourceLabels,seriesMetadataMetadata:r.seriesMetadataMetadata,seriesIds:r.seriesIds,baseName:r.baseName,shortMetric:r.shortMetric,kind:r.kind,
acValueType:r.acValueType,gcmv3ValueType:r.gcmv3ValueType,metricType:r.metricType,tssDataLookback:r.tssDataLookback,tssDataSlo:r.tssDataSlo,nextPageToken:r.nextPageToken,partialErrors:r.partialErrors,incompleteCloudRegions:r.incompleteCloudRegions,flatLabelStats:r.flatLabelStats,domain:r.domain,empty:r.empty,unit:r.unit}}else r=void 0;a.workerContext.workerPromise||(a.workerContext.workerPromise=a.getWorker());var v=yield a.workerContext.workerPromise;if(!v)throw Error("al");var w=a.transport,y=_.hO;
const B=_.LN(d);y.attachDescriptorRequest(c,B,w,void 0);y.finishBatch(B);try{var G=aHe(v,n,a.alignmentPeriod_,l,h,a.id,g,r);a.pending[f]={hash:f,promise:G,ts:_.QN(Date.now())};var O=yield G;fHe(a)}catch(Ba){throw delete a.pending[f],fHe(a),Ba;}a.fetchedDomains.push(b.slice(0));_.VN(a.fetchedDomains);if(!O)return a.cache;g=a.cache;var T;if(g&&a.hasData())if(g.cachedStreams){PGe(g,O);for(const [Ba,Ka]of Object.entries(O.seriesIndexMap))if(l=Ba,h=Ka,l in g.seriesIndexMap)if(h=g,n=l,h.cachedStreams)if(l=
h.cachedStreams[h.seriesIndexMap[n]],G=O.series[O.seriesIndexMap[n]],l){if(n=G.data,G=l.data,0!==n.length)if(0===G.length)l.data=n;else if(r=n[n.length-1].x,v=n[0].x,w=G[G.length-1].x,!(G[0].x>v&&w<r)){var [J,R]=QGe(l,r,v);l.data=J.concat(n,R);h.hasChangedSinceCheck=!0}}else console.warn("There isn't an expanded stream.",n);else console.warn("We haven't expanded any streams to merge into");else g.cachedStreams.push(O.series[h]),g.seriesIndexMap[l]=g.cachedStreams.length-1;var ra;if((null==(T=g.incompleteCloudRegions)?
0:T.length)||(null==(ra=O.incompleteCloudRegions)?0:ra.length))T=g.incompleteCloudRegions,g.incompleteCloudRegions=dae(g.incompleteCloudRegions,O.incompleteCloudRegions),T!==g.incompleteCloudRegions&&(g.hasChangedSinceCheck=!0);T=g}else console.warn("We haven't expanded any streams to merge into"),T=void 0;else T=O;g=T;a._dataAltered=g.hasChanged();delete a.pending[f];a.cache=g;a._labelStats=a.cache?a.cache.labelStats:a._labelStats;a._dataAltered&&(a._domainSliceCache=null);return g})},hHe=class extends LGe{constructor(a,
b){super(a,b);this._domainSliceCache=this._labelOrder=null;this._labelStats={};this.cache={series:[]};this.alwaysMerge=!1;this.workerContext={workerPromise:null,requestCount:0};this.dataWorkerPool=eae;this.id=eHe++;if(!this.dataWorkerPool)throw Error("$k");}getLabelStats(){return this.cache&&this.cache.labelStats}getWorker(){const a=this;return _.ne(function*(){if(a.workerContext.workerPromise)return a.workerContext.workerPromise;const b=yield a.dataWorkerPool.getWorker();b.release();return b})}domainSlice(a){if(!this.cache||
!a)return this.cache;if(this._domainSliceCache&&this._domainSliceCache.domain[0].getTime()===a[0].getTime()&&this._domainSliceCache.domain[1].getTime()===a[1].getTime())return this._domainSliceCache.cache;const b=this,c=_.MN(b.cache.series,e=>{e=_.KN(e);var f=b.sortedIndex(e.data,{x:a[0].getTime()},!0,l=>l.x);let g=b.sortedIndex(e.data,{x:a[1].getTime()},!1,l=>l.x);const h=BGe(e.data,function(l){return l.x});if(f===g)return e.data=[],e;!0===h?(--f,f=e.data.slice(0>f?0:f,g+1)):(--g,f=e.data.slice(0>
g?0:g,f+1));e.data=f;return e}).filter(({data:e})=>!!e.length),d=_.KN(b.cache);d.series=c;b._domainSliceCache={domain:a,cache:d};return d}preFetch(a,b,c,d){return this.isPending(a)?null:gHe(this,a,b,c,d)}compareStreams_(a,b){const c=b.length,d=a.length;return c!==d||0<c&&(b[c-1].x!==a[d-1].x||b[0].x!==a[0].x||b[0].y!==a[0].y||b[c-1].y!==a[d-1].y)?!1:!0}};
var iHe=[{widthMs:1E4},{widthMs:3E4},{widthMs:6E4},{widthMs:3E5},{widthMs:6E5},{widthMs:18E5},{widthMs:36E5},{widthMs:72E5},{widthMs:108E5},{widthMs:216E5},{widthMs:432E5},{widthMs:864E5},{widthMs:1728E5},{widthMs:6048E5},{widthMs:12096E5},{widthMs:24192E5},{widthMs:48384E5}],D7=function(a,b,c){if(!(this instanceof D7))return new D7(a,b);this.dlType=this.dlType||"gcmv2";this.translateHelper=c||aDe;this.params=a||{};this.pathTemplate=this.pathTemplate||"/cloudmonitoring/v2beta2/projects/:project/timeseries/:metric";
a=this.baseUrls||null;b=b||y7;this.transport=new b(this.pathTemplate,{baseUrls:a,multiValueParams:!0});this._disableDataAlteredCheck=!1;b=this.transport;a=this.translateHelper;b={4838400:this.buildCache(b,a),2419200:this.buildCache(b,a),1209600:this.buildCache(b,a),604800:this.buildCache(b,a),172800:this.buildCache(b,a),86400:this.buildCache(b,a),43200:this.buildCache(b,a),21600:this.buildCache(b,a),10800:this.buildCache(b,a),7200:this.buildCache(b,a),3600:this.buildCache(b,a),1800:this.buildCache(b,
a),600:this.buildCache(b,a),300:this.buildCache(b,a),60:this.buildCache(b,a),30:this.buildCache(b,a),10:this.buildCache(b,a),"":this.buildCache(b,a)};this.isLoadingIntervals=[];this.tzOffset=this.numStreams=this.metricName_=this.isLoadingWindow=null;_.mO.call(this,b)};_.Ui(D7,_.mO);_.nh("awesomecharts.datalayer.GcmMetricsV2DataLayer",D7);_.aa=D7.prototype;
_.aa.buildCache=function(a=this.transport,b=this.translateHelper){return _.DN.doUseDataWorkers(this.getStrategyWhitelists())?new hHe(a,b):new LGe(a,b)};_.aa.setTzOffset=function(a){this.tzOffset=a};
_.aa.isTopN=function(){if(!(this.params["pickTimeSeriesFilter.direction"]&&this.params["pickTimeSeriesFilter.numTimeSeries"]&&this.params["pickTimeSeriesFilter.rankingMethod"]||this.params["statisticalTimeSeriesFilter.numTimeSeries"]&&this.params["statisticalTimeSeriesFilter.rankingMethod"]))return!1;const a=this.params["pickTimeSeriesFilter.cause"];return a?a:!0};
_.aa.topNLabel=function(){if(!this.isTopN())return"";const a=this.params["pickTimeSeriesFilter.numTimeSeries"]||this.params["statisticalTimeSeriesFilter.numTimeSeries"],b={TOP:"Top",BOTTOM:"Bottom",DIRECTION_UNSPECIFIED:"Unspecified"}[this.params["pickTimeSeriesFilter.direction"]||"TOP"],c={METHOD_MEAN:"Mean",METHOD_MIN:"Min",METHOD_MAX:"Max",METHOD_SUM:"Sum",METHOD_LATEST:"Latest value",METHOD_CLUSTER_OUTLIER:"Outlier score",METHOD_UNSPECIFIED:"Unspecified"}[this.params["pickTimeSeriesFilter.rankingMethod"]||
this.params["statisticalTimeSeriesFilter.rankingMethod"]].toLowerCase();let d="";if("forced"===this.params["pickTimeSeriesFilter.cause"]){if((this.numStreams||0)<a)return"";d="Capped: "}return d+b+" "+a+" ranked by "+c};_.aa.isCapped=function(){const a=this.isTopN();return a?(this.numStreams||0)>=(this.params["pickTimeSeriesFilter.numTimeSeries"]||this.params["statisticalTimeSeriesFilter.numTimeSeries"])?a:!1:!1};
_.aa.getInfoObjects=function(){let a=null;if(this.topNInfo){var b=this.topNInfo();b&&(a=a||{},a.topNInfo=b)}this.filterInfo&&(b=this.filterInfo())&&(a=a||{},a.filterInfo=b);this.groupByInfo&&(b=this.groupByInfo())&&(a=a||{},a.groupByInfo=b);this.alignmentInfo&&(b=this.alignmentInfo())&&(a=a||{},a.alignmentInfo=b);return a?[a]:null};D7.prototype.getInfoObjects=D7.prototype.getInfoObjects;
D7.prototype.groupByInfo=function(){const a=this.params&&this.params["aggregation.groupByFields"],b=this.params&&this.params["aggregation.crossSeriesReducer"],c=this.params&&this.params["secondaryAggregation.groupByFields"],d=this.params&&this.params["secondaryAggregation.crossSeriesReducer"],e={};a&&a.length&&(e.groups=a);b&&"REDUCE_NONE"!==b&&(e.reducer=b);c&&c.length&&(e.secondaryGroups=c);d&&"REDUCE_NONE"!==d&&(e.secondaryReducer=d);return a&&a.length||b||c&&c.length||d?e:null};
D7.prototype.groupByInfo=D7.prototype.groupByInfo;
D7.prototype.alignmentInfo=function(){var a=this.params;const b=this._lastFetchedDomain;var c=null;let d=null,e=null;const f=a&&a["aggregation.perSeriesAligner"];let g=null,h=null,l=this.metricName_,n=null;if(a&&a.filter){var r=_.hO.getFilterDescriptor(a.filter);if(r&&r.metricType){n=r.metricType;if(r=_.hO.getMetricDescriptor(n))if(r.metricKind&&(g=r.metricKind),r.type&&!l){let v="";try{const w=r.type.split("/");v=w[w.length-1];("utilization"===v||"usage"===v)&&2<=w.length&&(v=w[w.length-2]+"/"+w[w.length-
1])}catch(w){}v&&(l=v)}r||(h=_.hO.getMetricDescriptorPromise(n))}}b&&2===b.length&&(c=this.params.minGranularity||this.getMinGranularity(),c=this.granularityForDomainAndMetric(b,c,n),this.independentOutputPeriod_?(e=c,c=this.outputPeriodForDomain(e,b,this.maxDataPointsPerSeriesAtLastFetch_),d=_.yoc(a),a=this.formatParams_(a,b,e,c,this.tzOffset)):(d=_.yoc(a),a=this.formatParams_(a,b,c,c,this.tzOffset)),e=_.yoc(a));if(!f&&!c)return null;a={};f&&(a.aligner=f);c&&(a.granularity=c);e&&(a.alignmentPeriod=
e);d&&(a.requestedAlignmentPeriod=d);g&&(a.kind=g);h&&(a.promise=h);l&&(a.metricName=l);return a};D7.prototype.alignmentInfo=D7.prototype.alignmentInfo;
D7.prototype.topNInfo=function(){var a=this.params&&this.params["pickTimeSeriesFilter.direction"];const b=this.params&&this.params["pickTimeSeriesFilter.numTimeSeries"],c=this.params&&this.params["pickTimeSeriesFilter.rankingMethod"],d=this.params&&this.params["pickTimeSeriesFilter.cause"];return"forced"===d&&(this.numStreams||0)<+b?null:a&&b&&c?(a={direction:a,numTimeSeries:b,rankingMethod:c},d&&(a.cause=d),a):null};D7.prototype.topNInfo=D7.prototype.topNInfo;
D7.prototype.getIsLoadingInterval=function(){if(!this.isLoadingWindow||0===this.isLoadingIntervals.length||1===this.isLoadingIntervals.length&&this.isLoadingWindow[0]==this.isLoadingIntervals[0][0]&&this.isLoadingWindow[1]==this.isLoadingIntervals[0][1])return null;const a=this.isLoadingWindow[0];let b=this.isLoadingIntervals[this.isLoadingIntervals.length-1][1];if(b==this.isLoadingWindow[1]){if(1===this.isLoadingIntervals.length)return null;b=this.isLoadingIntervals[this.isLoadingIntervals.length-
2][1]}return[a,b]};
D7.prototype.fetch=function(a,b,c){this.handleDataFetch();let d=!(!this.isLoadingIntervals||!this.isLoadingIntervals.length);d||(this.isLoadingWindow=[a[0],a[1]],this.isLoadingIntervals=[[a[0],a[1]]]);this.metricName_=null;c=_.JN({},this.params,c||{});var e=c.maxDataPointsPerSeries?Number(c.maxDataPointsPerSeries):null;this.maxDataPointsPerSeriesAtLastFetch_=e;var f;c&&(f=c.minGranularity||this.getMinGranularity());var g=null;if(c&&c.filter){var h=_.hO.getFilterDescriptor(c.filter);h&&h.metricType&&
(g=h.metricType)}h=g=this.granularityForDomainAndMetric(a,f,g);this.independentOutputPeriod_&&(g=this.outputPeriodForDomain(h,a,e));if(_.mO.prototype.isLastFetched.call(this,a,this.getTimeshiftOffset(),g))return d||(this.isLoadingIntervals=Uze(this.isLoadingIntervals,a)),this.handleDataFetchComplete(),null;(e=(f=this.getCache(a,f))&&f.getData())&&e.partialErrors&&f.clear&&f.clear();f.currentDomain=[a[0],a[1]];f=f.fetchedDomains.slice(0);d||(f.forEach(l=>{this.isLoadingIntervals=Uze(this.isLoadingIntervals,
l)}),this.isLoadingIntervals&&this.isLoadingIntervals.length&&_.QO.sendPointEvent("fetch-request"));(a=b.kickoff(this,a,this.timeshiftoffset_,h,g,{params:c,headers:{}},f))||this.handleDataFetchComplete();return a};D7.prototype.fetch=D7.prototype.fetch;D7.prototype.tileSize=void 0;
D7.prototype.fetchTile=function(a,b,c){const d=a.domain;var e=a.pageToken;const f=a.granularity,g=a.alignmentPeriod,h=a.requestCount;let l=b.params;const n=b.headers,r={};this.granularityToSeconds(f);const v=this.cacheKeyForGranularity(f);e?l.pageToken=e:(b.params=this.formatParams_(l,d,g,f,this.tzOffset),l=b.params);n&&(r.headers=n);const w=this._caches[v];if(!w)throw Error("bl`"+f);(e=_.mO.prototype.fetchTileForCache.call(this,d,l,r,w,a))?e.then(y=>{var B=!this.isLoadingIntervals||!this.isLoadingIntervals.length;
this.isLoadingIntervals=Uze(this.isLoadingIntervals,d);const G=!this.isLoadingIntervals||!this.isLoadingIntervals.length;this.cleanupCalled_?(B||(_.QO.sendPointEvent("fetch-response"),a.isParallel&&(this.isLoadingIntervals=[])),c.error(a,{paginationLimitHit:!1,errorName:"CleanupAlreadyCalled",errorCode:200,clientRequestId:b.params.clientRequestId})):(!B&&G&&_.QO.sendPointEvent("fetch-response"),(this._disableDataAlteredCheck||w._dataAltered)&&_.RO(()=>{w.dataChanged(d,y._requestCount)}),B=!1,y.nextPageToken&&
(!_.DN.isWhitelisted("chart-no-pagination")||_.CN(_.DN,"chart-server-stream-limit")||this.serverPagingEnabled_?a.nextPageToken=y.nextPageToken:(this.handleWarning(),B=!0)),this.handleDataFetchComplete(),c.success(a,{paginationLimitHit:B,clientRequestId:b.params.clientRequestId}))}).catch(y=>{const B=!this.isLoadingIntervals||!this.isLoadingIntervals.length;if(this.cleanupCalled_)B||_.QO.sendPointEvent("fetch-response"),c.error(a,{paginationLimitHit:!1,errorName:y.name,errorCode:y.code,clientRequestId:b.params.clientRequestId});
else{this.isLoadingIntervals=Uze(this.isLoadingIntervals,d);var G=!this.isLoadingIntervals||!this.isLoadingIntervals.length;if(y instanceof _.aO&&(w.noDataDomains.push([d[0],d[1]]),_.VN(w.noDataDomains),!w.currentDomain||0!==D6(w.currentDomain,w.noDataDomains).length)){w.dataChanged(d,h);this.handleDataFetchComplete();!B&&G&&_.QO.sendPointEvent("fetch-response");c.success(a,{paginationLimitHit:!1,clientRequestId:b.params.clientRequestId});return}w.dataChanged(d,h);this.isLoadingIntervals=[];B||_.QO.sendPointEvent("fetch-response");
c.error(a,{paginationLimitHit:!1,errorName:y.name,errorCode:y.code,clientRequestId:b.params.clientRequestId});if(!y||499!==y.code)if(y instanceof _.ZN)y.addDetails({domain:d}),this.handleError(y);else throw y;}}):(e=Promise.resolve(),this.handleDataFetchComplete(),_.RO(()=>{c.success(a,{paginationLimitHit:!1,clientRequestId:b.params.clientRequestId})}));return e};
D7.prototype.formatParams_=function(a,b,c,d,e){b=_.Gnc(b,Rze,this._timeMargin,this.granularityToSeconds(d),e);a=_.KN(a);a.oldest=b.oldest;a.youngest=b.youngest;c&&(a.window=c,a.aggregator="mean");this.independentOutputPeriod_&&(a.outputPeriod=d);return a};D7.prototype.dataSeries=function(a){return a?(a.series&&(a.series.dataLayer=this),a.series):null};D7.prototype.dataSeries=D7.prototype.dataSeries;D7.prototype.unit=function(a){return a.unit};D7.prototype.unit=D7.prototype.unit;
D7.prototype.getData_=function(a){a=a||this._lastFetchedDomain;var b=this.params.minGranularity||this.getMinGranularity();if(a=_.mO.prototype.requestGetData.call(this,a,this.getCache(a,b)))a.dataLayer=this;return a};D7.prototype.getData_=D7.prototype.getData_;D7.prototype.getTimeshiftData=function(a){a=a||this._lastFetchedDomain;this.timeshiftoffset_&&(a=_.RN(a,this.timeshiftoffset_));return this.getData_(a)};D7.prototype.getTimeshiftData=D7.prototype.getTimeshiftData;
D7.prototype.getData=function(a){var b=this.getData_(a);if(this.timeshiftoffset_&&(a=this.getTimeshiftData(a),a.series)){var c=a.series.reduce(function(d,e){d[e.id]=e;return d},{});_.IN(b.series,function(d){var e=c[d.id];d.shiftedData=e?e.data:[];delete c[d.id]});_.IN(c,function(d){d.shiftedData=d.data;d.data=[];b.series.push(d)})}this.numStreams=null;b&&b.series&&(b.series.length&&b.series[0].metadata&&(this.metricName_=b.series[0].metadata.shortMetric),this.numStreams=b.series.length);return b};
D7.prototype.getData=D7.prototype.getData;
D7.prototype.getCache=function(a,b){b=b||this.params.minGranularity;if(Array.isArray(a)){let c=null;if(this.params&&this.params.filter){const d=_.hO.getFilterDescriptor(this.params.filter);d&&d.metricType&&(c=d.metricType)}b=this.granularityForDomainAndMetric(a,b,c);this.independentOutputPeriod_&&(b=this.outputPeriodForDomain(b,a,this.maxDataPointsPerSeriesAtLastFetch_))}else b=a;a=this.cacheKeyForGranularity(b);a=this._caches[a];a||(a=this.buildCache(this.transport,this.translateHelper),this.attachCache(a,
b));return a};D7.prototype.getCache=D7.prototype.getCache;D7.prototype.cacheKeyForGranularity=function(a){return(a=this.granularityToSeconds(a))?a.toString():""};D7.prototype.getStrategyWhitelists=function(){return this.params?this.params.strategyWhitelists||[]:[]};D7.prototype.getStrategyWhitelists=D7.prototype.getStrategyWhitelists;D7.prototype.granularityForDomainAndMetric=function(a,b,c){a=this.granularityForDomain(a,b);return c?(c=_.zoc(c),this.getMaxGranularity(a,c)):a};
D7.prototype.granularityForDomainAndMetric=D7.prototype.granularityForDomainAndMetric;D7.prototype.outputPeriodForDomain=function(a,b,c){a=1E3*this.granularityToSeconds(a);if(!b||2!==b.length||!c)return String(a/1E3)+"s";b=b[1]-b[0];for(let d=0;d<iHe.length;d++){const e=iHe[d];if(b/e.widthMs<=c&&e.widthMs<=a)return String(e.widthMs/1E3)+"s"}return String(a/1E3)+"s"};D7.prototype.outputPeriodForDomain=D7.prototype.outputPeriodForDomain;
D7.prototype.attachCache=function(a,b){_.mO.prototype.attachCache.call(this,a,b);b&&"null"!==b&&this.params.zeroFill&&(a.zeroFill_=!0)};
var qae=RegExp("^(-|\\+|)?(\\d+(\\.\\d+)?h)?(\\d+(\\.\\d+)?m)?(\\d+(\\.\\d+)?s)?(\\d+(\\.\\d+)?ms)?(\\d+(\\.\\d+)?us)?(\\d+(\\.\\d+)?ns)?$"),rae={h:60,m:1,s:1/60,ms:1/6E4,us:1/6E7,ns:1/6E10};
var E7={VAL_RX_:/Value$/,SPLIT_NAMESPACE_RX_:/([^\/]*)\/(.*)/,stringToMetricKind_:{UNSPECIFIED:"UNSPECIFIED",GAUGE:"GAUGE",DELTA:"DELTA",CUMULATIVE:"CUMULATIVE"},stringToValueType_:{DISTRIBUTION:"DISTRIBUTION"},findValueType:function(a){return a in E7.stringToValueType_?E7.stringToValueType_[a]:"NUMERIC"},findMetricKind:function(a){return a in E7.stringToMetricKind_?E7.stringToMetricKind_[a]:"UNSPECIFIED"},isCompositeType:function(a){return"DISTRIBUTION"===a},iHateThisButDoItAnyway_:function(a,b){"DISTRIBUTION"===
b&&(a.bucketCounts="bucketCounts"in a?_.MN(a.bucketCounts,function(c){return parseInt(c,10)}):[],a.count=parseInt(a.count,10));return a},findKey:function(a,b){for(var c in a)if(a.hasOwnProperty(c)&&c.match(b))return c;return null},labelList:function(a,b,c,d,e,f){a=[a,b];var g=b=null,h=null;c&&(g=c["aggregation.crossSeriesReducer"],b=c["aggregation.perSeriesAligner"],h=c.filter);b&&a.push(b);g&&a.push(g);h&&a.push(h);if(!d&&!e)return a;b=function(l){let n=[];l&&(_.IN(l,(r,v)=>{r&&n.push(v+":"+r)}),
n.sort());return n};d=b(d);e=b(e);f&&(c=b(f.userLabels),f=b(f.systemLabels),a=a.concat(c,f));return a.concat(d,e)},getTimeSeries:function(a){return a.timeSeries},getMetricKind:function(a){return a.metricKind},getValueType:function(a){return a.valueType},getResourceType:function(a){return a.resource.type},getMetricType:function(a){return a.metric.type},getResourceLabels:function(a){return a.resource.labels},getMetricLabels:function(a){return a.metric.labels},getTimeseriesMetadata:function(a){return a.metadata},
getPoints:function(a){return a.points},constructLegend:function(a,b){var c="id",d="";if(!a)return{baseName:d,id:c};var e=E7.getMetricType(a).match(E7.SPLIT_NAMESPACE_RX_);if(!e)return E7.getMetricType(a)&&(c=E7.getMetricType(a)),{baseName:"SLO",id:c};3<=e.length&&(d=e[2]);c=E7.labelList(d,E7.getResourceType(a),b,E7.getResourceLabels(a),E7.getMetricLabels(a),E7.getTimeseriesMetadata(a)).join(".");return{baseName:d,id:c}},getInstanceNameOrIdFn:function(){return a=>a&&a.resource&&a.resource.labels?a.resource.labels.instance_id:
"#ERR"},getMetricNameFn:function(a){let b=null;_.hO.getMetricDescriptorPromise(a).then(c=>{b=c.displayName});return c=>b?b:c.shortMetric},translatePoints:function(a,b,c,d){const e=E7.findKey(a[0].value,E7.VAL_RX_);let f;f=E7.isCompositeType(b.metadata.valueType)?g=>E7.iHateThisButDoItAnyway_(g.value[e],b.metadata.valueType):g=>parseFloat(g.value[e]);b.data=_.MN(a,g=>{const h=new Date(g.interval.endTime);return{x:h,x0:g.interval.endTime===g.interval.startTime?new Date(h-(c||0)):new Date(g.interval.startTime),
y:f(g),tileDomain:d}})},translateDataHelper:function(a,b){var c=[],d=null,e="empty";let f=[];if(a&&E7.getTimeSeries(a)){const g=a.tileDomain;d=a.unit||E7.getTimeSeries(a).unit||null;c=_.MN(E7.getTimeSeries(a),h=>{var l=E7.getMetricKind(h)||"";const n=E7.getValueType(h);let r="",v={};try{var w=E7.getMetricType(h);if(w.startsWith("select_"))if(w.includes("select_slo_recent_loss")){r="Recent Budget Loss";var y=oae(w);v.slo=y.slo;v.lookback=`${y.lookbackInMinutes} min${1<y.lookbackInMinutes?"s":""}`}else if(w.includes("select_slo_burn_rate")){r=
"SLO Burn Rate";var B=pae(w);v.slo=B.slo;v.lookback=`${B.lookbackInMinutes} min${1<B.lookbackInMinutes?"s":""}`}else w.includes("select_slo_compliance")?(r="Compliance",v.slo=jae(w).slo):w.includes("select_slo_health")?(r="Health",v.slo=kae(w).slo):w.includes("select_slo_budget_fraction")?(r="Budget Fraction",v.slo=mae(w).slo):w.includes("select_slo_budget")&&(r="Budget",v.slo=lae(w).slo);else{var G=E7.getMetricType(h).split("/");r=G[G.length-1];("utilization"===r||"usage"===r)&&2<=G.length&&(r=G[G.length-
2]+"/"+G[G.length-1])}}catch(R){}let O={};const T=E7.getTimeseriesMetadata(h);T&&Object.keys(T).forEach(R=>{"userLabels"===R?Object.keys(T[R]).forEach(ra=>{O["user_labels."+ra]=T[R][ra]}):"systemLabels"===R?Object.keys(T[R]).forEach(ra=>{O["system_labels."+ra]=T[R][ra]}):O[R]=T[R]});y=E7.getMetricLabels(h);w=E7.getMetricType(h);B={labels:y,type:w};y=E7.getResourceLabels(h);G=E7.getResourceType(h);G={labels:y,type:G};var J=E7.constructLegend(h,a.acRequestParams);l={metadata:{metric:B,shortMetric:r,
requestParams:a.acRequestParams,resource:G,kind:l,valueType:n,instanceNameOrId:E7.getInstanceNameOrIdFn(),metricDisplayName:E7.getMetricNameFn(w),tssData:v,metadata:O},value_type:E7.findValueType(n),data:[],baseName:J.baseName,name:null,id:J.id,version:"gcmv3"};y&&y.project_id&&(l.monitoredProjectId=y.project_id);a.acRequestParams&&"HEADERS"===a.acRequestParams.view&&(e="header");h=E7.getPoints(h);if(!h||0===h.length)return l;e="data";E7.translatePoints(h,l,b,g);1<l.data.length&&0<l.data[l.data.length-
1].x-l.data[0].x&&l.data.reverse();return l})}f=cae(null==a?void 0:a.queryDataQuality,a.tileDomain);return{series:c,unit:d,empty:e,nextPageToken:a.nextPageToken,partialErrors:a.executionErrors,incompleteCloudRegions:f.length?f:void 0,hideStats:!0}},translateData:function(a,b){return E7.translateDataHelper.bind(E7)(a,b)}};
var F7={};F7.VAL_RX_=E7.VAL_RX_;F7.SPLIT_NAMESPACE_RX_=E7.SPLIT_NAMESPACE_RX_;F7.stringToMetricKind_=E7.stringToMetricKind_;F7.stringToValueType_=E7.stringToValueType_;F7.findValueType=function(a){return a in F7.stringToValueType_?F7.stringToValueType_[a]:"NUMERIC"};F7.findMetricKind=function(a){return a in F7.stringToMetricKind_?F7.stringToMetricKind_[a]:"UNSPECIFIED"};F7.findKey=E7.findKey;F7.labelList=E7.labelList;
F7.constructLegend=function(a,b){if(!a)return{name:""};var c=F7.getMetricType(a).match(F7.SPLIT_NAMESPACE_RX_)[2];a=F7.labelList(c,F7.getResourceType(a),b,F7.getResourceLabels(a),F7.getMetricLabels(a),F7.getTimeseriesMetadata(a)).join(".");return{baseName:c,id:a}};F7.getInstanceNameOrIdFn=E7.getInstanceNameOrIdFn;F7.getMetricNameFn=E7.getMetricNameFn;F7.getTimeSeries=function(a){return _.jb(a,KEe,1)};F7.getMetricKind=function(a){return{0:"UNSPECIFIED",1:"GAUGE",2:"DELTA",3:"CUMULATIVE"}[a.getMetricKind()]};
F7.getValueType=function(a){return{0:"UNSPECIFIED",1:"BOOL",2:"INT64",3:"DOUBLE",4:"STRING",5:"DISTRIBUTION",6:"MONEY"}[a.getValueType()]};F7.getResourceType=function(a){return a.getResource().getType()};F7.getMetricType=function(a){return a.getMetric().getType()};F7.getResourceLabels=function(a){const b={};a.getResource().getLabelsMap().forEach((c,d)=>{b[d]=c});return b};F7.getMetricLabels=function(a){const b={};a.getMetric().getLabelsMap().forEach((c,d)=>{b[d]=c});return b};
F7.getTimeseriesMetadata=function(a){a=a.getMetadata();if(!a)return null;const b=_.ob(a,2);if(!b.getLength()&&!a.hasSystemLabels())return null;const c={};b.getLength()&&(c.userLabels={},b.forEach((d,e)=>{c.userLabels[e]=d}));a.hasSystemLabels()&&(c.systemLabels={},_.wwd(_.kb(a,_.kZ,1)).forEach((d,e)=>{var f=c.systemLabels;d=d.hasBoolValue()?d.getBoolValue():_.dj(d,6,_.jZ)?_.si(d,_.lZ,6,_.jZ):1===_.hb(d,_.jZ)?null:2===_.hb(d,_.jZ)?d.getNumberValue():d.hasStringValue()?d.getStringValue():_.dj(d,5,_.jZ)?
_.si(d,_.kZ,5,_.jZ):null;f[e]=d}));return c};F7.getPoints=function(a){return _.jb(a,GEe,5)};
F7.translateDataHelper=function(a,b){var c=[],d="empty";if(a&&F7.getTimeSeries(a)){const e=a.tileDomain;c=_.MN(F7.getTimeSeries(a),f=>{var g=F7.getMetricKind(f)||"";const h=F7.getValueType(f);let l="",n={};try{var r=F7.getMetricType(f);if(r.startsWith("select_"))if(r.includes("select_slo_recent_loss")){l="Recent Budget Loss";var v=oae(r);n.slo=v.slo;n.lookback=`${v.lookbackInMinutes} min${1<v.lookbackInMinutes?"s":""}`}else if(r.includes("select_slo_burn_rate")){l="SLO Burn Rate";var w=pae(r);n.slo=
w.slo;n.lookback=`${w.lookbackInMinutes} min${1<w.lookbackInMinutes?"s":""}`}else r.includes("select_slo_compliance")?(l="Compliance",n.slo=jae(r).slo):r.includes("select_slo_health")?(l="Health",n.slo=kae(r).slo):r.includes("select_slo_budget")&&(l="Budget",n.slo=lae(r).slo);else{var y=F7.getMetricType(f).split("/");l=y[y.length-1];("utilization"===l||"usage"===l)&&2<=y.length&&(l=y[y.length-2]+"/"+y[y.length-1])}}catch(T){}let B={};const G=F7.getTimeseriesMetadata(f);G&&Object.keys(G).forEach(T=>
{"userLabels"===T?Object.keys(G[T]).forEach(J=>{B["user_labels."+J]=G[T][J]}):"systemLabels"===T?Object.keys(G[T]).forEach(J=>{B["system_labels."+J]=G[T][J]}):B[T]=G[T]});v=F7.getMetricLabels(f);r=F7.getMetricType(f);w={labels:v,type:r};v=F7.getResourceLabels(f);y=F7.getResourceType(f);y={labels:v,type:y};var O=F7.constructLegend(f,a.acRequestParams);g={metadata:{metric:w,shortMetric:l,requestParams:a.acRequestParams,resource:y,kind:F7.findMetricKind(g),valueType:F7.findValueType(h),instanceNameOrId:F7.getInstanceNameOrIdFn(),
metricDisplayName:F7.getMetricNameFn(r),tssData:n,metadata:B},data:[],baseName:O.baseName,name:null,id:O.id,version:"gcmv3"};v&&v.project_id&&(g.monitoredProjectId=v.project_id);a.acRequestParams&&"HEADERS"===a.acRequestParams.view&&(d="header");f=F7.getPoints(f);if(!f||0===f.length)return g;d="data";F7.translatePoints(f,g,b,e);1<g.data.length&&0<g.data[g.data.length-1].x-g.data[0].x&&g.data.reverse();return g})}return{series:c,unit:null,empty:d,nextPageToken:a.nextPageToken,hideStats:!0}};
F7.isCompositeType=E7.isCompositeType;F7.iHateThisButDoItAnyway_=E7.iHateThisButDoItAnyway_;
F7.translatePoints=function(a,b,c,d){const e=g=>g.hasDoubleValue()?g.getDoubleValue():g.hasInt64Value()?g.getInt64Value():g.hasBoolValue()?g.getBoolValue():g.hasStringValue()?g.getStringValue():g.hasDistributionValue()?(g=_.si(g,Sae,5,q5).toObject(),g.bucketCounts=g.bucketCountsList,g.bucketOptions={options:g.bucketOptions},g):null;let f;f=F7.isCompositeType(b.metadata.valueType)?g=>F7.iHateThisButDoItAnyway_(e(g.getValue()),b.metadata.valueType):g=>parseFloat(e(g.getValue()));b.data=_.MN(a,g=>{const h=
_.RS(g.getInterval().getEndTime()),l=_.RS(g.getInterval().getEndTime())===_.RS(g.getInterval().getStartTime())?new Date(h-c):_.RS(g.getInterval().getStartTime());return{x:h,x0:l,y:f(g),tileDomain:d}})};F7.translateData=function(a,b){return F7.translateDataHelper.bind(F7)(a,b)};
var jHe=function(){this.fields_="filter denominatorFilter interval.endTime interval.startTime pageSize view orderBy pageToken projectId aggregation.groupByFields aggregation.crossSeriesReducer aggregation.alignmentPeriod aggregation.perSeriesAligner aggregation.reduceMakeDistributionParams.bucketOptions.linearBuckets.numFiniteBuckets aggregation.reduceMakeDistributionParams.bucketOptions.linearBuckets.width aggregation.reduceMakeDistributionParams.bucketOptions.linearBuckets.offset aggregation.reduceMakeDistributionParams.bucketOptions.exponentialBuckets.numFiniteBuckets aggregation.reduceMakeDistributionParams.bucketOptions.exponentialBuckets.growthFactor aggregation.reduceMakeDistributionParams.bucketOptions.exponentialBuckets.scale aggregation.reduceMakeDistributionParams.exemplarSampling.minimumValue secondaryAggregation.groupByFields secondaryAggregation.crossSeriesReducer secondaryAggregation.alignmentPeriod secondaryAggregation.perSeriesAligner denominatorAggregation.groupByFields denominatorAggregation.crossSeriesReducer denominatorAggregation.alignmentPeriod denominatorAggregation.perSeriesAligner pickTimeSeriesFilter.rankingMethod pickTimeSeriesFilter.numTimeSeries pickTimeSeriesFilter.direction statisticalTimeSeriesFilter.rankingMethod statisticalTimeSeriesFilter.numTimeSeries clientRequestId outputPeriod requestPrism".split(" ")},
kHe=function(a,b){var c={};a.fields_.forEach(function(d){var e=b[d];"undefined"!==typeof e&&(c[d]=e)});return c};
var lHe=function(a){var b=a.indexOf(".");return(b=0<=b?[a.slice(0,b),a.slice(b+1)]:null)?`${b[0]}.${_.eQ(b[1])}`:_.eQ(a)},G7=function(a,b){if(!(this instanceof G7))return new G7(a,b);let c;_.DN.isWhitelisted("chart-grpc")&&!b?(b=C7,c=F7.translateDataHelper.bind(F7)):c=E7.translateData;this.dlType=this.dlType||"gcmv3";this.validFields_=new jHe;this.labelStats_=null;const d=_.$mc();this.pathTemplate=this.pathTemplate||d+"/v3/projects/:projectId/timeSeries";D7.call(this,a,b,c)};_.Ui(G7,D7);
_.nh("awesomecharts.datalayer.GcmMetricsV3DataLayer",G7);
G7.prototype.formatParams_=function(a,b,c,d){var e=this._timeMargin;a.timeMarginSeconds&&(e=a.timeMarginSeconds);b=_.Gnc(b,Rze,e,this.granularityToSeconds(d),this.tzOffset);e=kHe(this.validFields_,a);e["interval.startTime"]=b.oldest;e["interval.endTime"]=b.youngest;this.aggregateToRate()&&(e["aggregation.perSeriesAligner"]="ALIGN_RATE");this.formattedAlignmentPeriodSecs_=_.Boc(e,c);this.independentOutputPeriod_&&"ALIGN_NONE"!==e["aggregation.perSeriesAligner"]&&(e.outputPeriod=d);e["aggregation.perSeriesAligner"]||
(e["aggregation.perSeriesAligner"]="ALIGN_MEAN");a.requestPrism&&(e.requestPrism=!0);return e};G7.prototype.aggregateToRate=function(a){if(0===arguments.length)return this.flags_.aggregateToRate;this.flags_.aggregateToRate=a;return this};G7.prototype.aggregateToRate=G7.prototype.aggregateToRate;
G7.prototype.getLabelStats=function(){var a=this._lastFetchedDomain,b=this.params.minGranularity||this.getMinGranularity(),c=null;if(this.params&&this.params.filter){var d=_.hO.getFilterDescriptor(this.params.filter);d&&d.metricType&&(c=d.metricType)}b=this.granularityForDomainAndMetric(a,b,c);this.independentOutputPeriod_&&(b=this.outputPeriodForDomain(b,a,this.maxDataPointsPerSeriesAtLastFetch_));a=this._caches[this.cacheKeyForGranularity(b)];c=this.labelStats_;d=a&&a.getLabelStats();if(!d)return c;
if(!c)return this.labelStats_=d;a=(h,l,n)=>{if(h instanceof Map)for(let [r,v]of h)h=l instanceof Map?l.get(r)||0:0,n.set(r,Math.max(v,h))};var e=c.resource,f=d.resource;b=new Map;a(e,f,b);a(f,e,b);f=c.metric;const g=d.metric;e=new Map;a(f,g,e);a(g,f,e);c=c.metadata;d=d.metadata;f=new Map;a(c,d,f);a(d,c,f);return this.labelStats_=a={resource:b,metric:e,metadata:f}};G7.prototype.getLabelStats=G7.prototype.getLabelStats;
var mHe=a=>{const b=[];if(a instanceof Map)for(let [c,d]of a)1<d&&b.push([c,d]);return b.sort((c,d)=>d[1]-c[1]).map(c=>c[0])},nHe=a=>{const b=[];if(a instanceof Map)for(let [c,d]of a)1===d&&b.push([c,d]);return b.sort((c,d)=>d[1]-c[1]).map(c=>c[0])};G7.prototype.setLabelTemplateString=function(a){this.userDefinedTemplate_=new _.XN(a)};G7.prototype.setLabelTemplateString=G7.prototype.setLabelTemplateString;
G7.prototype.filterInfo=function(){const a=[];let b=!1,c=null,d=null;if(this.params&&this.params.filter){var e=this.params.filter;try{var f=_.eO(new _.fO(e));for(e=0;f&&e<f.length;){const g=f[e++],h=f[e++],l=f[e++];e++;if(g&&h&&l){const n=g.toString(),r=h.toString(),v=l.toString();"resource.type"===n?c=v:"metric.type"===n?d=v:n.startsWith("select_")?(d=n+v,b=!0):a.push({lhs:n,op:r,rhs:v})}}}catch(g){}}f=null;c&&(f=f||{},f.resourceType=c);d&&(f=f||{},f.metricType=d);a&&a.length&&(f=f||{},f.filters=
a,f.hasTimeSeriesSelector=b);return f};G7.prototype.filterInfo=G7.prototype.filterInfo;var oHe=function(a){const b=[];try{const c=_.eO(new _.fO(a));for(a=0;c&&a<c.length;){const d=c[a++];a++;a++;a++;const e=d&&d.toString();e&&b.push(e)}}catch(c){}return b};
G7.prototype.generateLabelTables=function(a){let b=[],c=!0;this.userDefinedTemplate_&&(b=[{isDefault:!0,title:"Name",template:this.userDefinedTemplate_.originalString,tokenizer:this.userDefinedTemplate_}],c=!1);const d=(B,G)=>{b.push({isDefault:c,title:B,template:G,tokenizer:new _.XN(G)})},e=(B,G)=>{b.push({isDefault:!1,title:B,template:G,tokenizer:new _.XN(G)})},f=this.getLabelStats();if(!f)return null;let g=[];(()=>{if(!this.params)return[];var B=this.params["secondaryAggregation.groupByFields"];
return B&&0<B.length?B:(B=this.params["aggregation.groupByFields"])&&0<B.length?B:[]})().forEach(B=>{"resource.label.*"!==B&&"resource.*"!==B&&("project"===B&&g.push("resource.labels.project"),0===B.indexOf("resource.labels.")?g.push(B):0===B.indexOf("resource.label.")?g.push("resource.labels."+B.substring(15)):0===B.indexOf("resource.")&&g.push("resource.labels."+B.substring(9)),0===B.indexOf("metric.labels.")?g.push(B):0===B.indexOf("metric.label.")?g.push("metric.labels."+B.substring(13)):0===
B.indexOf("metric.")&&g.push("metric.labels."+B.substring(7)),0===B.indexOf("metadata.")&&g.push("metadata."+B.substring(9)))});let h=mHe(f.resource),l=mHe(f.metric),n=mHe(f.metadata),r=nHe(f.resource),v=nHe(f.metric),w=nHe(f.metadata);const y=(B,G)=>{G=B.indexOf(G);-1!==G&&delete B[G]};g.forEach(B=>{if(0===B.indexOf("resource.labels.")){var G=_.eQ(B.substring(16));y(h,G);y(r,G);"project"===G&&(y(h,"project_id"),y(r,"project_id"))}0===B.indexOf("metric.labels.")&&(G=_.eQ(B.substring(14)),y(l,G),y(v,
G));0===B.indexOf("metadata.")&&(B=lHe(B.substring(9)),y(n,B),y(w,B))});a||0!==h.length||0!==l.length||0!==n.length||(d("Metric","${shortMetric}"),this.params&&this.params.filter&&(a=oHe(this.params.filter))&&a.forEach(B=>{if(0===B.indexOf("metric.label.")){var G=_.eQ(B.substring(13));f.metric&&f.metric.has(G)&&(d(G,"${metric.labels."+G+"}"),y(l,G),y(v,G),y(g,"metric.labels."+G))}0===B.indexOf("resource.label.")&&(G=_.eQ(B.substring(15)),f.resource&&f.resource.has(G)&&(d(G,"${resource.labels."+G+
"}"),y(h,G),y(r,G),y(g,"resource.labels."+G),"project"===G&&(y(h,"project_id"),y(r,"project_id"),y(g,"resource.labels.project_id"))));0===B.indexOf("metadata.")&&(G=lHe(B.substring(9)),f.metadata&&f.metadata.has(G)&&(d(G,"${metadata."+G.replace(/\./g,"\\.")+"}"),y(n,G),y(w,G),y(g,"metadata."+G)));0===B.indexOf("select_slo_")&&(d("SLO","${tssData.slo}"),B.includes("recent_loss")&&d("Lookback","${tssData.lookback}"))}));g.forEach(B=>{if("resource.labels.project"===B||'resource.labels."project"'===B)d("project",
"${resource.labels.project_id}");else if("resource.labels.instance_id"===B||'resource.labels."instance_id"'===B)d("Name (from instance_id)","${instanceNameOrId()}"),e("instance_id","${resource.labels.instance_id}");else{let G=B;0===G.indexOf("resource.labels.")&&(G=_.eQ(G.substring(16)),B=`resource.labels.${G}`);0===G.indexOf("metric.labels.")&&(G=_.eQ(G.substring(14)),B=`metric.labels.${G}`);0===G.indexOf("metadata.")&&(G=lHe(G.substring(9)),B="metadata."+G.replace(/\./g,"\\."));d(G,"${"+B+"}")}});
h.forEach(B=>{"instance_id"===B||'"instance_id"'===B?(d("Name (from instance_id)","${instanceNameOrId()}"),B=_.eQ(B),e(B,"${resource.labels."+B+"}")):(B=_.eQ(B),d(B,"${resource.labels."+B+"}"))});l.forEach(B=>{B=_.eQ(B);d(B,"${metric.labels."+B+"}")});n.forEach(B=>{B=lHe(B);d(B,"${metadata."+B.replace(/\./g,"\\.")+"}")});r.forEach(B=>{"instance_id"!==B&&'"instance_id"'!==B||e("Name (from instance_id)","${instanceNameOrId()}");B=_.eQ(B);e(B,"${resource.labels."+B+"}")});v.forEach(B=>{B=_.eQ(B);e(B,
"${metric.labels."+B+"}")});w.forEach(B=>{B=lHe(B);e(B,"${metadata."+B.replace(/\./g,"\\.")+"}")});return 0===b.length?null:[b]};G7.prototype.generateLabelTables=G7.prototype.generateLabelTables;
G7.prototype.generateLabelTemplate=function(a){if(this.userDefinedTemplate_)return this.userDefinedTemplate_;let b=_.DN.isWhitelisted("chart-direct-smart-legend-labels")&&_.DN.isWhitelisted("chart-translated-dashboard");b=b||_.DN.isWhitelisted("chart-smart-legend-labels");if(!b)return null;a=this.generateLabelTables(a);if(!a)return null;let c="";a.forEach(d=>{d&&d.forEach(e=>{e.isDefault&&(c+=e.template+'" "')})});return c?new _.XN(c):null};G7.prototype.generateLabelTemplate=G7.prototype.generateLabelTemplate;
G7.prototype.getAlignmentPeriod=function(){if(this.formattedAlignmentPeriodSecs_)return this.formattedAlignmentPeriodSecs_;if(!this.params||!this.params["aggregation.alignmentPeriod"])return null;let a=this.params["aggregation.alignmentPeriod"];"s"===a[a.length-1]&&(a=a.slice(0,a.length-1));return+a};G7.prototype.getAlignmentPeriod=G7.prototype.getAlignmentPeriod;
G7.prototype.dontDrawGaps=function(){if(this.forceInterpolation_)return!0;const a=this.params.filter;if(!a||!_.DN.isWhitelisted("chart-dont-show-some-gaps"))return!1;let b=a.match(/metric.type\s*=\s*"custom.googleapis.com/);return b=(b=(b=b||a.match(/metric.type\s*=\s*"external.googleapis.com\/user/))||a.match(RegExp('metric.type\\s*=\\s*"external.googleapis.com\\/prom\\etheus')))||a.match(/metric.type\s*=\s*"monitoring.googleapis.com\/uptime/)};
var pHe={"=":"eq","<":"lt",">":"gt","<=":"lte",">=":"gte","=~":"rgx"},qHe=class extends Wze{pickFormatter(a){a=a.childId;return void 0===a||null===a?null:this.childFormatters[a]}},H7=function(){this.dlType=this.dlType||"mux";this.children_=[];this.errorQueue_=[];this.childStates_=[];this.labelStats_={metric:0,shortMetric:0,aligner:0,primaryReducer:0,secondaryReducer:0};this.tzOffset=this.userDefinedTemplates_=null;_.mO.call(this,null)};_.Ui(H7,_.mO);_.nh("awesomecharts.datalayer.MuxDataLayer",H7);
H7.prototype.processError=function(a){if(a instanceof _.aO){var b=a.details.domain;b&&a.addDetails({transient:this.hasData(b)})}return a};H7.prototype.hasData=function(a){for(var b,c=0;c<this.children_.length;c++)if(b=this.children_[c],b.hasData(a))return!0;return!1};
H7.prototype.addChild=function(a){const b=this,c=b.children_.length;b.children_.push(a);a.addDataChangeHandler(function(e,f){b.childStates_[c]="finished";b.triggerDataChanged_(e,f)});a.addDataFetchCompleteHandler(function(){b.childStates_[c]="finished";b.handleDataFetchComplete()});a.addErrorHandler(function(e){rHe(b,e,c)});a.addWarningHandler(function(){b.handleWarning()});const d=b.getTimeshiftOffset();d&&a.setTimeshiftOffset(d);a.setTzOffset&&this.tzOffset&&a.setTzOffset(this.tzOffset);a.setServerPagingEnabled(b.serverPagingEnabled_)};
H7.prototype.addChild=H7.prototype.addChild;H7.prototype.countDataLayers=function(a){return this.children_.reduce((b,c)=>{c="mux"===c.dlType?c.countDataLayers(a):+(!a||c.dlType===a);return b+c},+(!a||a===this.dlType))};H7.prototype.countDataLayers=H7.prototype.countDataLayers;var rHe=function(a,b,c){a.errorQueue_.push(b);a.childStates_[c]="error";a.errorQueue_.length&&a.childStates_.every(d=>"error"===d)&&(a.handleError(a.errorQueue_[0]),a.errorQueue_=[])};_.aa=H7.prototype;
_.aa.setServerPagingEnabled=function(a){_.IN(this.children_,function(b){b.setServerPagingEnabled(a)});this.serverPagingEnabled_=a};_.aa.isTopN=function(){return Oze(this.children_,(a,b)=>a&&b.isTopN&&b.isTopN(),!0)};_.aa.getIsLoadingInterval=function(){const a=[new Date,new Date(0)];_.IN(this.children_,b=>{b.getIsLoadingInterval&&(b=b.getIsLoadingInterval())&&(b[0]<a[0]&&(a[0]=b[0]),b[1]>a[1]&&(a[1]=b[1]))});return a[0]>=a[1]?null:a};
_.aa.topNLabel=function(){return this.isTopN()?Oze(this.children_,(a,b)=>a||b.topNLabel&&b.topNLabel()||"",""):""};_.aa.isCapped=function(){return Oze(this.children_,(a,b)=>a||b.isCapped&&b.isCapped()||!1,!1)};_.aa.getInfoObjects=function(){let a=null;(this.children_||[]).forEach(b=>{b.getInfoObjects&&(b=b.getInfoObjects())&&b.forEach(c=>{a=a||[];a.push(c)})});return a};H7.prototype.getInfoObjects=H7.prototype.getInfoObjects;_.aa=H7.prototype;
_.aa.granularityForDomain=function(a,b){var c=null;if(!a||2!==a.length)return c;_.IN(this.children_,d=>{c=this.getMaxGranularity(c,d.granularityForDomain(a,b))});b&&(c=this.getMaxGranularity(c,b));return c};_.aa.setTzOffset=function(a){_.IN(this.children_,function(b){b.setTzOffset&&b.setTzOffset(a)});this.tzOffset=a};_.aa.setTimeshiftOffset=function(a){0<a&&(a=0);_.IN(this.children_,function(b){b.setTimeshiftOffset(a)});this.timeshiftoffset_=a};
_.aa.setGranularityCutoffs=function(a){_.IN(this.children_,b=>b.setGranularityCutoffs(a))};_.aa.triggerDataChanged_=function(a,b){Object.keys(this._onDataChange).forEach(function(c){(0,this._onDataChange[c])(a,b)}.bind(this))};
_.aa.fetch=function(a,b,c){var d=[];this._lastFetchedDomain=a;this.errorQueue_=[];this.children_&&this.children_.length&&this.handleDataFetch();this.children_.forEach((e,f)=>{this.childStates_[f]="loading";(e=e.fetch(a,b,c))&&d.push(e)});return 0===d.length?(this.handleDataFetchComplete(),null):new Promise(e=>{const f=[];let g=0,h=0;for(let l=0;l<d.length;l++)d[l].then(n=>{f[l]=n;g++;g+h===d.length&&e(f)},n=>{f[l]=n;h++;g+h===d.length&&e(f)})})};H7.prototype.fetch=H7.prototype.fetch;
var sHe=function(a,b,c){const d=[];1<a.labelStats_.metric&&(a.labelStats_.metric>a.labelStats_.shortMetric?d.push("${metric.type}"):d.push("${shortMetric}"));1<a.labelStats_.aligner&&d.push("${requestParams.aggregation\\.perSeriesAligner}");1<a.labelStats_.primaryReducer&&d.push("${requestParams.aggregation\\.crossSeriesReducer}");1<a.labelStats_.secondaryReducer&&d.push("${requestParams.secondaryAggregation\\.crossSeriesReducer}");a.labelStats_.filter&&(Object.keys(a.labelStats_.filter).forEach(e=>
{const f=a.labelStats_.filter[e],g=f.count;Object.keys(f.entries).forEach(h=>{const l=f.entries[h];l.count===g&&1===l.distinct||d.push("${requestParams.filterTokens."+h+".key}${requestParams.filterTokens."+h+".op}${requestParams.filterTokens."+h+".value}")})}),0===d.length&&c&&(d.push("${shortMetric}"),Object.keys(a.labelStats_.filter).forEach(e=>{const f=a.labelStats_.filter[e],g=f.count;Object.keys(f.entries).forEach(h=>{const l=f.entries[h];l.count===g&&1===l.distinct||d.push("${requestParams.filterTokens."+
h+".value}")})})));d.length&&mze(b,d.join(" ")+" ")};H7.prototype.setLabelTemplateString=function(a){this.userDefinedTemplate_=new _.XN(a)};H7.prototype.setLabelTemplateString=H7.prototype.setLabelTemplateString;H7.prototype.setLabelTemplateStrings=function(a){const b=new qHe;for(const c of a)a=c?new _.XN(c):null,b.addChild(a);this.userDefinedTemplates_=b};H7.prototype.setLabelTemplateStrings=H7.prototype.setLabelTemplateStrings;
H7.prototype.generateLabelTables=function(){if(this.userDefinedTemplate_)return[[{isDefault:!0,title:"Name",template:this.userDefinedTemplate_.toString(),tokenizer:this.userDefinedTemplate_}]];let a=[],b=!0;for(var c of this.children_)"qn"!==c.dlType&&(b=!1);for(const e of this.children_)c=null,e.generateLabelTables&&(c=e.generateLabelTables(!b)||null),c&&c.forEach(f=>{let g=!0;f.forEach(h=>{h.isDefault&&(g=!1)});g&&f.forEach(h=>{h.isDefault=!0});a.push(f)});let d="";1<this.labelStats_.metric&&(d=
this.labelStats_.metric>this.labelStats_.shortMetric?d+'${metric.type}" "':d+'${metricDisplayName()}" "');1<this.labelStats_.aligner&&(d+='${requestParams.aggregation\\.perSeriesAligner}" "');1<this.labelStats_.primaryReducer&&(d+='${requestParams.aggregation\\.crossSeriesReducer}" "');1<this.labelStats_.secondaryReducer&&(d+='${requestParams.secondaryAggregation\\.crossSeriesReducer}" "');this.labelStats_.filter&&Object.keys(this.labelStats_.filter).forEach(e=>{const f=this.labelStats_.filter[e],
g=f.count;Object.keys(f.entries).forEach(h=>{const l=f.entries[h];if(l.count!==g||1!==l.distinct)d+="${requestParams.filterTokens."+h+".key}${requestParams.filterTokens."+h+".op}${requestParams.filterTokens."+h+'.value}" "'})});d&&a.forEach(e=>{e.unshift({isDefault:!0,title:"Metric",template:d,tokenizer:new _.XN(d)})});return a};H7.prototype.generateLabelTables=H7.prototype.generateLabelTables;
H7.prototype.generateLabelTemplate=function(){if(this.userDefinedTemplates_)return this.userDefinedTemplates_;var a=_.DN.isWhitelisted("chart-direct-smart-legend-labels")&&_.DN.isWhitelisted("chart-translated-dashboard");a=a||_.DN.isWhitelisted("chart-smart-legend-labels");if(!a)return null;a=new qHe;for(const b of this.children_){let c=null;b.generateLabelTemplate&&(c=b.generateLabelTemplate(!0)||null);c?sHe(this,c,!1):b.hasData(this._lastFetchedDomain)&&(c=new _.XN(""),sHe(this,c,!0));a.addChild(c)}return a};
H7.prototype.generateLabelTemplate=H7.prototype.generateLabelTemplate;
H7.prototype.getData=function(a){let b=null,c=0;const d={metric:new Set,shortMetric:new Set,aligner:new Set,primaryReducer:new Set,secondaryReducer:new Set,filter:{}};this.children_.forEach(f=>{var g=f.getData(a);const h=f.gapThreshold();f=f.dontDrawGaps();if(g&&g.series&&g.series.length){const G=_.KN(g.series);if(G)for(const O of G)if(O.metadata){O.metadata=_.KN(O.metadata);O.metadata.childId=c;O.metadata.gapThreshold=h;O.metadata.dontDrawGaps=f;var l=d,n=O.metadata,r=null;n&&n.metric&&n.metric.type&&
(r=n.metric.type);r&&l.metric.add(r);n&&n.shortMetric&&l.shortMetric.add(n.shortMetric);if(n.requestParams&&(n.requestParams["aggregation.perSeriesAligner"]&&l.aligner.add(n.requestParams["aggregation.perSeriesAligner"]),n.requestParams["aggregation.crossSeriesReducer"]&&l.primaryReducer.add(n.requestParams["aggregation.crossSeriesReducer"]),n.requestParams["secondayAggregation.crossSeriesReducer"]&&l.secondaryReducer.add(n.requestParams["secondaryAggregation.crossSeriesReducer"]),r&&n.requestParams.filter)){l.filter[r]||
(l.filter[r]={count:0,entries:{}});const T=l.filter[r].entries;n.requestParams.filterTokens={};l.filter[r].count++;l=_.eO(new _.fO(n.requestParams.filter));for(r=0;l&&r<l.length;){var v=l[r++],w=l[r++],y=l[r++];r++;v=v&&v.toString();w=w&&w.toString();y=y&&y.toString();if(v&&w&&y){const J=v.replace(/\./g,"").replace(/"/g,"")+(pHe[w]||"");var B=v.lastIndexOf(".");v=-1===B?v:v.substr(B+1);B=1<y.length&&'"'===y[0]&&'"'===y[y.length-1]?y.substr(1,y.length-2):y;T[J]||(T[J]={count:0,set:new Set});T[J].count++;
T[J].set.add(w+y);n.requestParams.filterTokens[J]={key:v,op:w,value:B}}}}}b?b.series.push.apply(b.series,G):b={empty:g.empty,hideStats:g.hideStats,unit:g.unit,series:G};if(b.partialErrors||g.partialErrors)b.partialErrors=(b.partialErrors||[]).concat(g.partialErrors||[])}c++});this.labelStats_.metric=d.metric.size;this.labelStats_.shortMetric=d.shortMetric.size;this.labelStats_.aligner=d.aligner.size;this.labelStats_.primaryReducer=d.primaryReducer.size;this.labelStats_.secondaryReducer=d.secondaryReducer.size;
const e=d.filter;e&&(Object.keys(e).forEach(f=>{Object.keys(e[f].entries).forEach(g=>{e[f].entries[g].distinct=e[f].entries[g].set.size;delete e[f].entries[g].set})}),this.labelStats_.filter=e);b&&(b.dataLayer=this);return b};H7.prototype.getData=H7.prototype.getData;H7.prototype.getDataArray=function(a){return this.children_.map(b=>b.getData(a))};H7.prototype.getDataArray=H7.prototype.getDataArray;H7.prototype.dataSeries=function(a){if(a=this.children_[0].dataSeries(a))a.dataLayer=this;return a};
H7.prototype.dataSeries=H7.prototype.dataSeries;H7.prototype.cleanupChildren=function(){this.children_&&this.children_.forEach(a=>{a.cleanup()})};H7.prototype.cleanupChildren=H7.prototype.cleanupChildren;H7.prototype.resetCleanupFlagForChildren=function(){this.children_&&this.children_.forEach(a=>{a.resetCleanupFlag()})};H7.prototype.resetCleanupFlagForChildren=H7.prototype.resetCleanupFlagForChildren;
var tHe=[-1,-1,-1,-1];
var uHe=class{constructor(){this.errors$=this.errors=new _.bg([]);this.highlightedErrorLocation=new _.bg(tHe);this.highlightedErrorLine=new _.bg(-1);this.queryIncomplete=new _.bg(!1);this.warnings=new _.bg([]);this.updateEditorHeight=new _.tf}clearErrors(){this.errors.next([]);this.highlightedErrorLocation.next(tHe);this.highlightedErrorLine.next(-1);this.queryIncomplete.next(!1);this.updateEditorHeight.next()}getErrors(){return this.errors.value}};uHe.\u0275fac=function(a){return new (a||uHe)};
uHe.\u0275prov=_.m({token:uHe,factory:uHe.\u0275fac,providedIn:"root"});
var vHe=class{constructor(a,b){this.pathTemplate=a;this.queryErrorService=b;this.nextPageToken=""}doRequest({requestParams:a,originalQueryText:b,queryText:c,projectId:d}){let e=_.DN.auth_;return e.getAccessToken?(e=_.DN.qnAuth_,e.client_.serverStreaming(e.hostname_+"/$rpc/google.monitoring.v3.MetricService/QueryTimeSeries",c,d||{},yGe).pipe(_.df()).toPromise().then(f=>{if(f.errorMessage)throw new _.boc(f.errorMessage);if(f.aggregatedGrpcResponse)return f.originalQueryText=b,f;throw Error("hl`"+f);
})):e.request(a).then(f=>{const g={response:f};f.nextPageToken&&(this.nextPageToken=f.nextPageToken);g.originalQueryText=b;return g},f=>{if(f.result&&f.result.error){if(f.result.error.details&&f.result.error.details.length&&f.result.error.details[0].errors){const g=f.result.error.details[0].errors;this.queryErrorService&&this.queryErrorService.errors$.pipe(_.df()).subscribe(h=>{if(!h.length&&this.queryErrorService){h=this.queryErrorService;var l=sae(g);h.errors.next(l);h.updateEditorHeight.next()}})}throw new _.boc(`${f.result.error.status}: ${f.result.error.message}`);
}throw Error("hl`"+f);})}read(a){const b=a.originalQueryText;var c=a.annotatedQueryText;const d=a.projectId;var e=a.transformations,f;if(f=c){let g;f=!!(null==e?0:null==(g=e.drilldownState)?0:g.length)||!1}c=f?c:b;e={query:c,queryTransformationSpec:e,reportPeriodicStats:!1,reportQueryPlan:!1};a.requestPrism&&(e.requestPrism=!0);this.nextPageToken&&(e=Object.assign({},e,{pageToken:this.nextPageToken}),this.nextPageToken="");a=this.pathTemplate.replace(RegExp(":projectId","g"),d);return this.doRequest({requestParams:{method:"POST",
path:a,body:e,headers:{"method-id-xhr-identifier":"monitoring.projects.timeSeries.query"}},queryText:c,originalQueryText:b,projectId:d})}cleanup(){}};
var wHe=function(a){const b={aligner:null,granularity:null,requestedAlignmentPeriod:null,alignmentPeriod:null,kind:null,promise:null,metricName:null};var c;let d;const {graphPeriod:e,queryPeriod:f}=null!=(d=null==(c=a.params.transformations)?void 0:c.timingState)?d:{};if(e&&"0s"!==e)a=Number(e.replace("s","")),c=f?Number(f.replace("s","")):0,b.alignmentPeriod=`${Math.max(a,c)}s`;else{let g;if(null==(g=a.params)?0:g.graphPeriodMillis)b.alignmentPeriod=`${+a.params.graphPeriodMillis/1E3}s`}return b},
xHe=class extends D7{constructor(a,b){super(a,null,xae);this.params=a;this.queryErrorService=b;this.pathTemplate=_.$mc()+"/v3/projects/:projectId/timeSeries:query";this.transport=new vHe(this.pathTemplate,this.queryErrorService);if(this._caches)for(const c of Object.keys(this._caches))b=this.buildCache(),this.attachCache(b,c+"s");this.dlType="qn";this.originalQueryText=a.originalQueryText;this.transformations=a.transformations;_.DN.setThrowPartials(!1)}fetch(a,b,...c){var d=this.granularityToSeconds(this.granularityForDomain(a,
this.getMinGranularity()||"1m")||"1m")||0,e;let f,g;const h=this.granularityToSeconds(null!=(g=null==(e=this.transformations)?void 0:null==(f=e.timingState)?void 0:f.graphPeriod)?g:"0s")||0;d=Math.max(d,h)||0;var l,n;e=null==(l=this.transformations)?void 0:null==(n=l.timingState)?void 0:n.queryPeriod;l=Number(null==e?void 0:e.replace("s",""))||0;l>d&&(d=l);l=`${d}s`;const [r,v]=a;n=1E3*d;n=[new Date(Math.floor(r.valueOf()/n)*n),new Date(Math.ceil(v.valueOf()/n)*n)];n=new Tge(n[0],n[1]);this.params.transformations=
Object.assign({},this.transformations,{timingState:{absoluteWindow:{startTime:n.startTimeAsRfc3339,endTime:n.endTimeAsRfc3339},graphPeriod:l}});this.params.graphPeriodMillis=1E3*d;this.params.minGranularity=l;return super.fetch(a,b,c)}setLabelTemplateString(a){this.userDefinedTemplate=new _.XN(a)}getInfoObjects(){const a=wHe(this);let b,c,d;return[{topNInfo:null,filterInfo:{filters:null!=(d=null==(b=this.params.transformations)?void 0:null==(c=b.drilldownState)?void 0:c.map(({labelKey:e,restriction:f})=>
{let g,h;return{lhs:null!=e?e:"",op:"=",rhs:null!=(h=null==f?void 0:null==(g=f.value)?void 0:g.stringValue)?h:""}}))?d:null,hasTimeSeriesSelector:null},groupByInfo:null,alignmentInfo:a}]}buildCache(a=this.transport,b=this.translateHelper){(a=new LGe(a,b),a.setDefaultNamingFunction)&&a.setDefaultNamingFunction(c=>c.name);return a}generateLabelTemplate(){return this.userDefinedTemplate?this.userDefinedTemplate:new _.XN("${name}")}generateLabelTables(a){if(this.userDefinedTemplate)return[[{isDefault:!0,
title:"Name",template:this.userDefinedTemplate.originalString,tokenizer:this.userDefinedTemplate}]];const b=this.getData();if(!a&&b&&b.series&&b.series.length&&b.series[0].metadata&&b.series[0].metadata.labels){const c=b.series;a=b.series[0].metadata.labels;return""===Object.keys(a)[0]?[[{isDefault:!0,title:"Name",template:"${name}",tokenizer:new _.XN("${name}")}]]:[Object.keys(a).map(d=>({isDefault:1===c.length||!c.every((e,f,g)=>e.metadata.labels[d]===g[0].metadata.labels[d]),title:d,template:"${labels."+
d+"}",tokenizer:new _.XN("${labels."+d.replace(/\./g,"\\.")+"}")}))]}return[[{isDefault:!0,title:"Name",template:"${name}",tokenizer:new _.XN("${name}")}]]}};
var yHe=function(a,b){if("qn"===b.dlType){var c="qn"===b.dlType?b.granularity:"fine",d=b.legendTemplate;a=new xHe(b,a.queryErrorService);a.setGranularityCutoffs(c||null);d&&a.setLabelTemplateString(d);return a}if("gcmv3"===b.dlType)return a=b.params,c=a.legendTemplate,d=a.granularity,a=new G7(a),a.setGranularityCutoffs(d||null),c&&a.setLabelTemplateString(c),a;throw Error("il");},zHe=function(a,b){const c=new H7,d=[];let e=!1;b.forEach(f=>{"gcmv3"===f.dlType&&f.params.legendTemplate?(d.push(f.params.legendTemplate),
e=!0):d.push(null);c.addChild(yHe(a,f))});e&&c.setLabelTemplateStrings(d);return c},BHe=function(a){return b=>0===b.length?AHe():1===b.length?yHe(a,b[0]):zHe(a,b)},AHe=function(){const a=new x7;a.getCache("").setTimeshiftOffset=function(){};return a},CHe=class{constructor(a){this.queryErrorService=a}};CHe.\u0275fac=function(a){return new (a||CHe)(_.p(uHe))};CHe.\u0275prov=_.m({token:CHe,factory:CHe.\u0275fac,providedIn:"root"});
var DHe=["STACKED_BAR"];
var EHe=class{constructor(a){this.rawValue=0;this.allValuesSource=new _.bg("");this.displayValueSource=new _.bg("");this.timeshiftValueSource=new _.bg("");this.allValuesStream=this.allValuesSource.asObservable();this.displayValueStream=this.displayValueSource.asObservable();this.timeshiftValueStream=this.timeshiftValueSource.asObservable();this.theStream=a}};
var FHe=function(a,b,c){var d={formatted:""};if("DISTRIBUTION"===a.theStream.value_type){c=a.dataLayer.getState();if(!c)return d;c=Number(c.hover);a=_.CP(a.theStream.data,b,c);if(2!==a.range.length)return d;a=(new _.vP).unit("count").format(a.count)+` between ${a.range[0]} and ${a.range[1]}`;return{raw:c,formatted:a}}d=_.sP(c&&a.theStream.shiftedData||a.theStream.data,b,a.useX0);b=10<Math.abs(d)?1:.01;a=a.valueFormatter?a.valueFormatter(d,b):_.wP(d,b,a.unitFormatter);return{raw:d,formatted:a}},GHe=
function(a,b){const {raw:c,formatted:d}=FHe(a,b,!1);c&&(a.rawValue=c);a.displayValueSource.next(d);const e=a.dataLayer.getTimeshiftOffset?a.dataLayer.getTimeshiftOffset():0;e&&(b=FHe(a,new Date(b.valueOf()+e),!0).formatted,a.timeshiftValueSource.next(b))},HHe=class extends EHe{constructor(a,b,c,d,e){super(_.KN(a));this.dataLayer=b;this.unitFormatter=c;this.useX0=d;this.valueFormatter=e}};
var IHe=class extends EHe{};
var JHe={mean:u7.STAT_MEAN,stdev:u7.STAT_STDEV,median:u7.STAT_MEDIAN,"95th":u7.STAT_95TH,"5th":u7.STAT_5TH,"5minMovAvg":u7.STAT_5_MIN_MOV_AVG,"15minMovAvg":u7.STAT_15_MIN_MOV_AVG,"60minMovAvg":u7.STAT_60_MIN_MOV_AVG,"120minMovAvg":u7.STAT_120_MIN_MOV_AVG},KHe="mean stdev median 95th 5th 5minMovAvg 15minMovAvg 60minMovAvg 120minMovAvg".split(" "),LHe=function(a,b){b.on("change:stats",d=>{a.setStats(d)});const c=b.getStats?b.getStats():null;c?a.setStats(c):a.setStats(null);b.on("change:brush",d=>{a.brushX=
d&&d.length?d[0]:null})},MHe=function(a,b){return a.statRows?a.statRows.map(c=>{var d=a.brushX?c.stat.getValueAtTime(a.brushX):null,e=null;if(d||0===d)e=_.wP(d,10<Math.abs(d)?1:.01,b);d=new IHe({name:c.name,id:c.name,data:[],value_type:"NUMERIC"});d.color=a.colorManager.getColor(c.name);d.displayValueSource.next(e||"-");e=c.stat.getStat();e=_.wP(e,10<Math.abs(e)?1:.01,b);d.allValuesSource.next(e||"-");d.name=JHe[c.name];d.labels=[d.name];return d}):null},NHe=class{constructor(){this.brushX=this.statRows=
null;this.statsSource=new _.rf(1);this.colorManager=new _.HP}setStats(a){if(a){let b=KHe.map(c=>({name:c,stat:a[c]}));this.statRows=b=b.filter(c=>c.stat.isDisplayed())}else this.statRows=null;this.statsSource.next(a)}setColorManager(a){this.colorManager=a}getDisplayValue(a,b,c){if(!this.statRows)return"-";const d=this.statRows.find(e=>b===e.name);return d&&((a=d.stat.getValueAtTime(a))||0===a)?_.wP(a,10<Math.abs(a)?1:.01,c):"-"}};
var OHe=new Map([["line","LINE"],["bar","STACKED_BAR"],["stacked-area","STACKED_AREA"],["heatmap","HEATMAP"]]);
var PHe=["leapfrogLabel"],QHe=0,RHe={name:"CustomError",details:{isTimeout:!1,isFatal:!1},code:400,displayMessage:u7.ERROR_DATA_TOO_COARSE,message:u7.ERROR_DATA_TOO_COARSE},SHe=function(a,b){return 0===b.series.length?!1:b.series.reduce((c,d)=>{c&&(c=a.getAlignmentPeriod(d),0<d.data.length||null===c?c=!1:(d=a.chartGroupManager.domain,c=d[1].valueOf()-d[0].valueOf()<c));return c},!0)},THe=function(a){a.dataLayerStream.pipe(_.df(),_.Af(a.destroyed)).subscribe(b=>{b="mux"===b.dlType?b.countDataLayers("qn"):
"qn"!==b.dlType?0:1;a.tooManyLinesQnWarning=0<b;(b="outlier"!==a.chartMode&&"stats"!==a.chartMode&&"heatmap"!==a.chartType&&24<a.numberOfLines)&&(a.warningShown||a.suggestionShown.emit());a.warningShown=b})},UHe=function(a,b){if(a.timePinEnabled&&a.timePin&&b){var c=a.timePin.getDate();c?(b.forEach(d=>{GHe(d,c)}),a.a11yLegendStreamsSortedAtTimepin.next(b.sort(Yae()))):a.a11yLegendStreamsSortedAtTimepin.next(null)}else a.a11yLegendStreamsSortedAtTimepin.next(null)},VHe=function(a,b){a.a11ySelectedLegendStream.pipe(_.af(1)).subscribe(c=>
{c?b(c):a.a11yLegendStreams.pipe(_.af(1)).subscribe(d=>{UHe(a,d);a.a11yLegendStreamsSortedAtTimepin.pipe(_.af(1)).subscribe(e=>{e=e?e[0]:null;a.a11ySelectedLegendStream.next(e);b(e)})})})},XHe=function(a,b){a.dataLayerStream.pipe(_.af(1)).subscribe(c=>{if(!a.legendTemplate&&c.generateLabelTemplate){var d=c.generateLabelTemplate();d&&(a.a11ySeriesNameFormatter=d)}const e=DHe.includes(OHe.get(a.chartType)||"");d=b.series.map(f=>new HHe(f,c,a.a11yUnitFormatter,e,a.a11yValueFormatter));WHe(a,d);a.a11yLegendStreams.next(d)})},
$He=function(a){a.chartsDataSubject.pipe(_.af(1)).subscribe(b=>{b?YHe(a,b):(ZHe(a),a.timePinEnabled&&a.timePinSnapToData&&a.timePinManager&&(a.timePinManager.snapDates=[]))})},aIe=function(a){a.a11yLegendStreams.pipe(_.af(1)).subscribe(b=>{UHe(a,b);_.qe([a.a11yLegendStreamsSortedAtTimepin,a.a11ySelectedLegendStream]).pipe(_.af(1)).subscribe(([c])=>{if(c&&a.dataLayerStateManager){var d=Array.from(a.dataLayerStateManager.selected).sort();d&&0!==d.length?a.a11ySelectedLegendStream.next(c.find(e=>_.VO(e.theStream)===
d[0])||null):a.a11ySelectedLegendStream.next(c[0])}else a.a11ySelectedLegendStream.next(c?c[0]:null)})})},bIe=function(a){a=a.split(/(\D)/);const b=Number(a[0])||0;switch(a[1]){case "s":return-1E3*b;case "m":return-6E4*b;case "h":return-36E5*b;case "d":return-864E5*b;case "w":return-6048E5*b;default:return 0}},dIe=function(a){const b=cIe(a);b&&a.yZoom&&a.yZoom[0]&&a.yZoom[1]&&r5(a.yZoom[0])&&r5(a.yZoom[1])&&b.userDomain([a.yZoom[0],a.yZoom[1]])},fIe=function(a){const b=a.acChart;if(b)if(b.showThresholdLabels&&
b.showThresholdLabels(a.showThresholdLabels),a.complexThreshold){let c;null==(c=b.thresholdLabels)||c.call(b,null);let d;null==(d=b.threshold)||d.call(b,null)}else if(a.thresholdLines&&a.thresholdLines.length){const {thresholds:c,styles:d,labels:e,labelStyles:f}=eIe(a);let g;null==(g=b.thresholdLabels)||g.call(b,e,f,a.thresholdLabelPosition);let h;null==(h=b.threshold)||h.call(b,c,d)}else{let c;null==(c=b.thresholdLabels)||c.call(b,null);let d;null==(d=b.threshold)||d.call(b,null)}},gIe=function(a,
b,c){const d=cIe(a),e=a.yTopMin!==b||a.yBottomMax!==c;b=r5(b)||r5(c);c=r5(a.yTopMin)||r5(a.yBottomMax);return d&&e?(b&&!c?d.noBound():c&&d.userBound([r5(a.yBottomMax)?a.yBottomMax:a.yTopMin,r5(a.yTopMin)?a.yTopMin:a.yBottomMax]),!0):!1},WHe=function(a,b){b.forEach(c=>{if(a.a11ySeriesNameFormatter&&!c.theStream.hasCustomNamingFcn){var d=a.resourceMetadataNamingFunctions?a.resourceMetadataNamingFunctions.getBoundGlobalFunctions():null;d=a.a11ySeriesNameFormatter.format(c.theStream.metadata||null,d);
c.name=d||a.defaultName(c)}else c.name=a.defaultName(c)})},t5=function(a,b,c){a.a11yFocused=c;const d=!!b.relatedTarget&&(b.relatedTarget===a.chartFocusRingElementRef.nativeElement||!!a.a11yLeapfrogRefs.some(e=>b.relatedTarget===e.nativeElement));a.showFocusRing.emit(c&&a.a11yTabbedTo&&d);d||(a.a11yTabbedTo=!1)},eIe=function(a){return a.thresholdLines.reduce((b,c)=>{void 0!==c.value?(b.thresholds.push(c.value),b.labels.push(c.label)):c.line&&void 0!==c.line.value&&null!=c.line.value&&(b.thresholds.push(c.line.value),
b.styles.push(c.style),b.labels.push(c.line.label),b.labelStyles.push(c.label));return b},{thresholds:[],styles:[],labels:[],labelStyles:[]})},lbe=function(a){a.chartModeChange.emit("outlier")},vbe=function(a){var b;if(b=a.dataLayerManager)b=a.dataLayerManager,b=ICe(b)||!b.dataLayer?!0:(b=b.dataLayer.isCapped())&&"forced"!==b||_.DN.isWhitelisted("chart-forced-capped-bands")&&"forced"===b?!0:!1;return b&&"line"===a.chartType},cIe=function(a){if(a.acChart)return a.acChart.yManager},YHe=function(a,b){ZHe(a);
if(a.timePinEnabled&&a.timePinSnapToData&&a.timePinManager){var c=new Set;for(const d of b.series)for(const e of d.data)c.add(e.x.getTime());b=Array.from(c);b.sort();b=b.map(d=>new Date(d));a.timePinManager.snapDates=b}},ZHe=function(a){a.timePinManager&&(a.timePinManager.snapToDataEnabled=a.timePinEnabled&&a.timePinSnapToData?!0:!1)},hIe=function(a){return a.data.length?a.data[0].x:null},iIe=function(a,b,c,d=!1){if(!a.timePinEnabled||!c)return null;var e=hIe(c.theStream);a=a.getAlignmentPeriod(c.theStream);
if(!e||!a)return null;e=e.getTime();b=b.getTime();return new Date(0===Math.abs(e-b)%a?d?b+a:b-a:e<b?e+(d?Math.ceil((b-e)/a):Math.floor((b-e)/a))*a:e-(d?Math.floor((e-b)/a):Math.ceil((e-b)/a))*a)},jIe=function(a,b){a.a11yLegendStreams.pipe(_.af(1)).subscribe(c=>{UHe(a,c);_.qe([a.a11yLegendStreamsSortedAtTimepin,a.a11ySelectedLegendStream]).pipe(_.af(1)).subscribe(([d,e])=>{if(e)if(d){var f=d.findIndex(h=>h===e),g=d.length;d=d[(g+(f+b)%g)%g];a.a11ySelectedLegendStream.next(d);a.dataLayerStateManager&&
(a.dataLayerStateManager.clearSelected(),a.dataLayerStateManager.addSelected(_.VO(d.theStream)))}else a.a11ySelectedLegendStream.next(null)})})},I7=class extends v7{constructor(){super(...arguments);this.timeshiftDurationSource=new _.rf(1);this.acSubcharts=[];this.thresholdLines=[];this.showThresholdLabels=!1;this.thresholdLabelPosition={horizontal:"left",vertical:"above"};this.complexThreshold=!1;this.chartMode="color";this.zerofill=!1;this.yAxisScale="LINEAR";this.enableSizeWarnings=!0;this.timePinDisableSnapToNow=
this.timePinSnapToData=this.a11yEnabled=this.timePinEnabled=this.enablePanningInteractions=!1;this.disableReason=null;this.disableZoom=this.hideBrush=this.disableSelection=!1;this.messageOverrides={};this.chartModeChange=new _.$k;this.suggestionShown=new _.$k;this.useMeanAggregationClicked=new _.$k;this.unitsChange=new _.$k;this.height=200;this.basicMode=null;this.isHovered=!1;this.colorManager=new _.HP;this.unitOverrideSource=new _.rf;this.showResponsiveSubtitles=this.showSubtitles=this.forceUnitChangeForRate=
!1;this.optionalDataLayerManagers=[];this.optionalCircleDataLayerManagers=[];this.showBandsWhileLoading=!0;this.showDataTooCoarseError=!1;this.onClick=new _.$k;this.onSelect=new _.$k;this.setFocusStreamSwitcher=new _.rf(1);this.setFocusStreamInternal=this.setFocusStreamSwitcher.pipe(_.zf(a=>a||new _.tf));this.a11yId=`ac-chart-${QHe++}`;this.showFocusRing=new _.$k;this.a11yLabelledById=`${this.a11yId}-labelledby`;this.a11yDescribedById=`${this.a11yId}-describedby`;this.a11yChartErrorId=`${this.a11yId}-charterror`;
this.a11yLeapfrogLabelIds=[];this.a11yLeapfrogPositions={};this.a11yLeapfrogTexts=new Map;this.a11yActiveLeapfrogIndex=0;this.a11yFocused=!1;this.a11yUnitFormatter=new _.vP;this.a11yLegendStreams=new _.bg([]);this.a11yLegendStreamsSortedAtTimepin=new _.bg(null);this.a11ySelectedLegendStream=new _.bg(null);this.a11yTabbedTo=!1;this.chartsDataSubject=new _.bg(null);this.dataTooCoarseToShowSubject=new _.bg(!1);this.timePinFocusable=new _.bg(!1);this.hoverSubscription=this.changeSelectedCallback=this.dataLayerStateManager=
null;this.warningShown=!1;this.messages=u7;this.audioChartActive=!1}set timeshiftDuration(a){this.timeshiftDurationSource.next("0s")}onMouseEnter(){nCe(this.hovercardService,this);this.hovercardService.component&&(this.hoverSubscription=this.hovercardService.component.instance.valuesAtXY.pipe(_.Af(this.destroyed)).subscribe(a=>{0<Object.keys(a).length&&!this.isHovered?(this.sendAveEvent("impression",this.ve.AwesomeChartImage,this.el),this.isHovered=!0):0===Object.keys(a).length&&this.isHovered&&(this.isHovered=
!1)}))}get audioChartsLocal(){return kIe}get timePin(){return this.acChart.timePin}chartTypeSetup(a){if(a){a.timePinEnabled&&a.timePinEnabled(this.timePinEnabled);a.setColorManager(this.colorManager);this.statsManager&&LHe(this.statsManager,a);var b=a.yManager;b&&(this.yManager=b);if(b=a.unit)this.unitFunction=b.bind(a);if(a.mousePosInMargin&&a.xStateFromPos){let c=!1,d;a.on("proxy:mousedown",()=>{c=!1;d=a.mousePosInMargin()});a.on("proxy:mousemove",()=>{if(!c&&d){const e=a.mousePosInMargin();if(10<=
Math.abs(e[0]-d[0])||10<=Math.abs(e[1]-d[1]))c=!0}});a.on("proxy:mouseup",()=>{c||this.zone.run(()=>{this.onClick.emit(a.xStateFromPos(a.mousePosInMargin()[0]))});d=void 0})}a.on("change:data",c=>{this.chartsDataSubject.next(c);this.showDataTooCoarseError&&this.dataTooCoarseToShowSubject.next(SHe(this,c));setTimeout(()=>{this.numberOfLines=c&&c.series&&c.series.length?c.series.length:0;if(null==c?0:c.unit)this.unitsChange.emit(c.unit),this.unitOverride||this.updateUnit(c.unit);THe(this);this.timePinEnabled&&
(this.a11yLegendStreams.pipe(_.af(1)).subscribe(d=>{UHe(this,d)}),VHe(this,d=>{if(this.timePinEnabled&&this.timePin&&d&&!this.timePin.isTrackingNow()){var e=this.timePin.getDate();if(this.timePin.isLocked()&&e){var f=hIe(d.theStream),g=this.getAlignmentPeriod(d.theStream);if(f&&g){var h=f.getTime();f=e.getTime();0!==Math.abs(h-f)%g&&(d=iIe(this,e,d,!0))&&(e=d.getTime(),Math.abs(e-f)<=g/2?this.timePinManager.setAll(d):(g=new Date(d.getTime()-g),this.timePinManager.setAll(g)))}}}}),XHe(this,c),$He(this))},
0)});a.on("ave:xZoom",()=>{this.sendAveEvent("drag",this.ve.XZoomZone,this.chartElementRef)});a.on("ave:yZoom",()=>{this.sendAveEvent("drag",this.ve.YZoomZone,this.chartElementRef)});a.on("ave:lineSelect",()=>{this.sendAveEvent("click",this.ve.LineSelectToggle,this.chartElementRef)});a.on("ave:lineDeselect",()=>{this.sendAveEvent("click",this.ve.LineDeselectToggle,this.chartElementRef)})}}ngOnInit(){super.ngOnInit();_.qe(this.unitOverrideSource,this.dataLayerStream).pipe(_.Af(this.destroyed)).subscribe(([b])=>
{b&&this.updateUnit(b)});if(null!=this.acChart){this.acChart.height(this.height);this.dataLayerManagerSource.pipe(_.zf(b=>b.isLoadingStream),_.Af(this.destroyed)).subscribe(b=>{if(this.isLoading=b)this.numberOfLines=0;this.cdr.detectChanges()});this.dataLayerManagerSource.pipe(_.zf(b=>b.warningStream),_.Af(this.destroyed)).subscribe(b=>{this.warning=b;this.cdr.detectChanges()});var a=this.dataLayerManagerSource.pipe(_.Ge(b=>void 0!==b.errorStream),_.zf(b=>b.errorStream),_.Af(this.destroyed));_.qe([a,
this.dataTooCoarseToShowSubject]).pipe(_.Af(this.destroyed),_.U(([b,c])=>!b&&c&&this.showDataTooCoarseError?RHe:b)).subscribe(b=>{if(b){var c=["ERROR_NO_DATA","ERROR_NO_DATA_GROUP","ERROR_NO_DATA_ALT","ERROR_DATA_TOO_COARSE"];for(const d of c){c=u7[d];const e=this.messageOverrides&&this.messageOverrides[d];e&&b.displayMessage===c&&(b.displayMessage=e)}}this.error=b;this.cdr.detectChanges()});this.dataLayerStream.pipe(_.Af(this.destroyed)).subscribe(b=>{b=b.getState();const c=this.dataLayerStateManager,
d=this.dataLayerStateManager!==b;this.dataLayerStateManager=b;void 0!==this.disableSelection&&(this.dataLayerStateManager.disableSelection=this.disableSelection);this.dataLayerStateManager.onSelectHandler=e=>{this.onSelect.emit(e)};d&&(c&&this.changeSelectedCallback&&c.off("change:selected",this.changeSelectedCallback),this.changeSelectedCallback=()=>{aIe(this)},this.dataLayerStateManager.on("change:selected",this.changeSelectedCallback))});void 0!==this.yAxisPrecisionLimit&&this.acChart.setYAxisPrecisionLimit&&
this.acChart.setYAxisPrecisionLimit(this.yAxisPrecisionLimit);this.yAxisValueFormatter&&this.acChart.setYAxisValueFormatter&&this.acChart.setYAxisValueFormatter(this.yAxisValueFormatter);_.qe(this.timeshiftDurationSource,this.dataLayerStream).pipe(_.Af(this.destroyed)).subscribe(([b,c])=>{b=bIe(b);const d=c.getTimeshiftOffset()!==b;this.acChart.setTimeshiftOffset&&this.acChart.setTimeshiftOffset(b);d&&(c.setTimeshiftOffset(b),this.chartGroupManager.chartGroup.fetchAndDraw(c,[this.acChart]))});this.timePinEnabled&&
this.timePin&&this.timePin.onSetChange.pipe(_.Af(this.destroyed)).subscribe(()=>{this.timePinFocusable.next(!!this.timePin.getDate()&&this.timePin.isLocked())});this.yZoom&&dIe(this);this.setFocusStreamInternal.pipe(_.Af(this.destroyed),_.Gf(this.timePinFocusable)).subscribe(([,b])=>{b?this.a11yLeapfrogRefs.toArray()[this.a11yActiveLeapfrogIndex].nativeElement.focus():this.chartFocusRingElementRef.nativeElement.focus()});this.a11yEnabled&&!kIe&&(kIe=new sBe)}}ngOnChanges(a){a.colorManager&&this.acChart&&
this.acChart.setColorManager(this.colorManager);a.yAxisPrecisionLimit&&this.acChart&&this.acChart.setYAxisPrecisionLimit&&this.acChart.setYAxisPrecisionLimit(this.yAxisPrecisionLimit);a.dataLayerManager&&this.dataLayerManagerSource.next(this.dataLayerManager);(a.complexThreshold||a.thresholdLines||a.showThresholdLabels)&&fIe(this);a.zerofill&&this.acChart&&this.acChart.setZerofill&&this.acChart.setZerofill(this.zerofill);a.chartMode&&this.acChart&&this.acChart.mode&&this.acChart.mode(this.chartMode);
a.yAxisScale&&this.yManager&&this.yManager.changeScaleMode(this.yAxisScale);if(a.yTopMin||a.yBottomMax){var b;let c;gIe(this,null==(b=a.yTopMin)?void 0:b.previousValue,null==(c=a.yBottomMax)?void 0:c.previousValue)}a.yZoom&&dIe(this);a.height&&this.acChart&&this.acChart.height(this.height);a.statsManager&&this.acChart&&LHe(this.statsManager,this.acChart);a.yAxisValueFormatter&&this.acChart&&this.yAxisValueFormatter&&this.acChart.setYAxisValueFormatter&&this.acChart.setYAxisValueFormatter(this.yAxisValueFormatter);
a.resourceMetadataNamingFunctions&&this.resourceMetadataNamingFunctions&&this.acChart&&this.acChart.setResourceMetadataNamingFunctions&&(this.acChart.setResourceMetadataNamingFunctions(this.resourceMetadataNamingFunctions),this.a11yLegendStreams.pipe(_.af(1)).subscribe(c=>{WHe(this,c)}));a.enablePanningInteractions&&this.acChart&&(b=this.acChart,b.allowScrollZoomAndPan&&(b.allowScrollZoomAndPan(this.enablePanningInteractions),b.enableScrollZoom(this.enablePanningInteractions),b.enableDragPan(this.enablePanningInteractions),
b.enableAxisZoom(this.enablePanningInteractions)));a.timePinEnabled&&((b=this.acChart)&&b.timePinEnabled(this.timePinEnabled),$He(this));a.timePinSnapToData&&$He(this);if(a.legendTemplate&&this.legendTemplate)try{this.a11ySeriesNameFormatter=new _.XN(this.legendTemplate),this.a11yLegendStreams.pipe(_.af(1)).subscribe(c=>{WHe(this,c)})}catch(c){console.error(c)}a.disableSelection&&this.dataLayerStateManager&&(this.dataLayerStateManager.disableSelection=this.disableSelection);a.setFocusStream&&this.setFocusStreamSwitcher.next(this.setFocusStream||
null);a.unitOverride&&this.unitOverrideSource.next(this.unitOverride)}ngAfterViewInit(){fIe(this);this.yManager&&this.yManager.changeScaleMode(this.yAxisScale);if(this.acChart){const a=this.acChart;a.mode&&a.mode(this.chartMode);a.allowScrollZoomAndPan&&(a.allowScrollZoomAndPan(this.enablePanningInteractions),a.enableScrollZoom(this.enablePanningInteractions),a.enableDragPan(this.enablePanningInteractions),a.enableAxisZoom(this.enablePanningInteractions));a.setZerofill&&a.setZerofill(this.zerofill);
a.trackCursorLocation&&a.brushSelection&&this.hideBrush&&(a.trackCursorLocation(!this.hideBrush),a.brushSelection(!this.hideBrush));a.brushSelection&&a.brushSelection(!this.disableZoom&&!this.hideBrush);this.resourceMetadataNamingFunctions&&this.acChart&&this.acChart.setResourceMetadataNamingFunctions&&this.acChart.setResourceMetadataNamingFunctions(this.resourceMetadataNamingFunctions)}}ngOnDestroy(){super.ngOnDestroy();this.isHovered&&this.hovercardService.detachHovercard();this.changeSelectedCallback&&
this.dataLayerStateManager&&(this.dataLayerStateManager.off("change:selected",this.changeSelectedCallback),this.changeSelectedCallback=null)}partialErrors(a){return a&&(a=a.getData())&&a.partialErrors&&a.partialErrors.length?a.partialErrors:[]}updateUnit(a){const b=cIe(this);var c=gIe(this);b&&!c&&4===_.isc(a)&&this.forcePercentZoom&&(c=_.jsc(a),0!==c?b.userBound([0,100/c]):console.log("Coefficient of a percent should never by 0."));this.acChart.unit&&(this.unitOverride&&this.dataLayerManager&&JCe(this.dataLayerManager)&&
(this.isWhitelisted("chart-change-unit-for-rate")||this.forceUnitChangeForRate)&&!a.endsWith("/s")&&(a+="(rate)"),this.acChart.unit(a));this.a11yUnitFormatter.unit(a||"1")}defaultName(a){return a.theStream.name||a.theStream.id||a.name||""}getAlignmentPeriod(a){a=(a=(a=a&&a.metadata)&&a.requestParams)&&a["aggregation.alignmentPeriod"];var b;if(b=a)b=(a=a.match(/^([^\d]*)((\d*)\w)/))&&"+"===a[1]?(a=a[2])?_.Hnc(a):null:null;return b||null}onKeyup(a){switch(a.code){case "Tab":this.a11yFocused&&(this.a11yTabbedTo=
!0,this.showFocusRing.emit(!0))}}onKeydown(a){if(this.timePinEnabled&&this.timePin){var b=a.shiftKey?10:1,c=e=>{VHe(this,f=>{a:if(this.timePinEnabled&&this.timePin&&f){var g=this.chartGroupManager.domain,h=this.timePin.getDate();if(this.timePin.isLocked()&&h){g=h.getTime();h=this.getAlignmentPeriod(f.theStream);if(!h||0===e)break a;const l=Math.sign(e);f=iIe(this,new Date(g+l*(Math.abs(e)-1)*h),f,0<l)}else f=g[1];f&&this.timePinManager.setAll(f)}})};if(!this.audioChartActive||"Escape"===a.code)switch(a.code){case "ArrowLeft":a=
0;this.timePin.isLocked()?this.timePin.isTrackingNow()||(a=b):this.timePinManager.setAll(this.domainMax,!0);c(-1*a);this.timePinManager.disableTrackNow();break;case "ArrowRight":a=0;if(this.timePin.isLocked()){var d=this.timePin.getDate();d=d&&d.getTime();this.timePinDisableSnapToNow||d!==this.domainMax.getTime()?a=b:r7(this.timePinManager,this.domainMax,!0)}else this.timePinManager.setAll(this.domainMax,!0);c(a);break;case "ArrowUp":this.timePin.isLocked()||this.timePinManager.setAll(this.domainMax,
!0);a.preventDefault();jIe(this,1);break;case "ArrowDown":this.timePin.isLocked()||this.timePinManager.setAll(this.domainMax,!0);a.preventDefault();jIe(this,-1);break;case "Escape":this.audioChartActive?(this.a11yLeapfrogRefs.toArray()[this.a11yActiveLeapfrogIndex].nativeElement.focus(),this.audioChartActive=!1):rCe(this.timePinManager);break;case "KeyA":kIe&&(this.timePin.isLocked()||this.timePinManager.setAll(this.domainMax,!0),c(0),_.qe([this.a11yLegendStreamsSortedAtTimepin,this.a11ySelectedLegendStream]).pipe(_.af(1)).subscribe(([e,
f])=>{if(e&&f&&Zae(f.theStream)){e=e.map(l=>l.theStream).filter(Zae);const g=this.chartGroupManager.domain,h=this.yManager.axisTicks||[];this.audioChartOptions=F$d(f.theStream,e,{min:g[0],max:g[g.length-1]},{min:h[0],max:h[h.length-1]});this.audioChartActive=!0}}))}}}get domainMax(){return this.chartGroupManager.domain[1]}get chartVE(){switch(this.chartType){case "bar":return this.ve.AwesomechartsTimeBar;case "category":return this.ve.AwesomechartsCategoryBar;case "heatmap":return this.ve.AwesomechartsHeatmap;
case "line":return this.ve.AwesomechartsLine;case "scatterplot":return this.ve.AwesomechartsScatterplot;default:return null}}},kIe;I7.\u0275fac=function(){let a;return function(b){return(a||(a=_.Xc(I7)))(b||I7)}}();
I7.\u0275dir=_.q({type:I7,viewQuery:function(a,b){a&1&&_.Oe(PHe,5);if(a&2){let c;_.Ne(c=_.Qe())&&(b.a11yLeapfrogRefs=c)}},hostBindings:function(a,b){a&1&&_.L("mouseenter",function(){return b.onMouseEnter()})("mouseleave",function(){b.hovercardService.detachHovercard();b.isHovered=!1;b.hoverSubscription&&b.hoverSubscription.unsubscribe()})},inputs:{timeshiftDuration:"timeshiftDuration",thresholdLines:"thresholdLines",showThresholdLabels:"showThresholdLabels",thresholdLabelPosition:"thresholdLabelPosition",
complexThreshold:"complexThreshold",chartMode:"chartMode",outlierDataLayerManagers:"outlierDataLayerManagers",percentileDataLayerManager:"percentileDataLayerManager",exemplarsDataLayerManager:"exemplarsDataLayerManager",zerofill:"zerofill",yAxisScale:"yAxisScale",yTopMin:"yTopMin",yBottomMax:"yBottomMax",yZoom:"yZoom",yAxisPrecisionLimit:"yAxisPrecisionLimit",enableSizeWarnings:"enableSizeWarnings",enablePanningInteractions:"enablePanningInteractions",timePinEnabled:"timePinEnabled",a11yEnabled:"a11yEnabled",
timePinSnapToData:"timePinSnapToData",timePinDisableSnapToNow:"timePinDisableSnapToNow",disableReason:"disableReason",disableSelection:"disableSelection",hideBrush:"hideBrush",disableZoom:"disableZoom",messageOverrides:"messageOverrides",height:"height",hovercardComponent:"hovercardComponent",basicMode:"basicMode",hovercardDefaultValue:"hovercardDefaultValue",title:"title",statsManager:"statsManager",colorManager:"colorManager",groupNameLookupFunction:"groupNameLookupFunction",yAxisValueFormatter:"yAxisValueFormatter",
resourceMetadataNamingFunctions:"resourceMetadataNamingFunctions",unitOverride:"unitOverride",forceUnitChangeForRate:"forceUnitChangeForRate",showSubtitles:"showSubtitles",showResponsiveSubtitles:"showResponsiveSubtitles",optionalDataLayerManagers:"optionalDataLayerManagers",optionalCircleDataLayerManagers:"optionalCircleDataLayerManagers",bandStyle:"bandStyle",circleStyle:"circleStyle",showBandsWhileLoading:"showBandsWhileLoading",legendTemplate:"legendTemplate",a11yValueFormatter:"a11yValueFormatter",
setFocusStream:"setFocusStream",showDataTooCoarseError:"showDataTooCoarseError"},outputs:{chartModeChange:"chartModeChange",suggestionShown:"suggestionShown",useMeanAggregationClicked:"useMeanAggregationClicked",unitsChange:"unitsChange",onClick:"onClick",onSelect:"onSelect",showFocusRing:"showFocusRing"},features:[_.wd,_.Gc]});
var J7=class{constructor(){this.name="base_layer"}draw(){}handleHoverChange(){}handleSelectionChange(){}handleResize(){}handleModeChange(){}handleBrushChange(){}handleThresholdChange(){}};
var lIe=class extends J7{constructor(a,b){super();this.chart=a;this.root=b;this.name="band";this.drawCanvas=this.root.append("canvas").style("position","absolute").style("top",0).style("left",0);this.drawBuffer=new _.nP({width:this.chart._innerWidth,height:this.chart._innerHeight+1,canvas:this.drawCanvas.node()});this.drawBuffer.strokeStyle=_.$O(a.theme);this.drawBuffer.map=c=>[this.chart.xScale(c.x),this.chart.yScale(c.y)]}handleResize(a,b,c){this.drawBuffer.resize(b-c.left-c.right,a-c.top-c.bottom+
1)}draw(a){if(this.chart.yManager&&this.chart.yManager.yRangeIsValid()){a:{if(1===a.length&&a[0].metadata&&a[0].metadata.requestParams){var b=a[0].metadata.requestParams;if("REDUCE_SUM"===(b["secondaryAggregation.crossSeriesReducer"]||b["aggregation.crossSeriesReducer"])){b=!0;break a}}b=!1}if(b&&1===a.length)a=a[0],a=[{x:a.data[0].x,x0:a.data[0].x0,y:0},{x:a.data[a.data.length-1].x,x0:a.data[a.data.length-1].x0,y:0}].concat(a.data.slice().reverse()),this.drawBuffer.clear(),this.drawBuffer.globalAlpha=
1,this.drawBuffer.fillStyle=_.$O("fill",this.chart.theme),_.qP(this.drawBuffer,a,!0);else if(!b&&2===a.length&&2===a.length){var [c,d]=a;a=d.data.concat(c.data.slice().reverse());b=this.chart.getChartConfig()||{};var e="drawClosedPath"in b?b.drawClosedPath:!0,f=b.strokeUpperLine,g=b.drawDashedLine?_.Nrc:null;this.drawBuffer.clear();this.drawBuffer.globalAlpha=1;this.drawBuffer.fillStyle=_.$O("fill",this.chart.theme);b.strokeStyle&&(this.drawBuffer.strokeStyle=b.strokeStyle);b.strokeWidth&&(this.drawBuffer.strokeWidth=
b.strokeWidth);b.fillStyle&&(this.drawBuffer.fillStyle=b.fillStyle);_.qP(this.drawBuffer,a,e,g,f)}}}};
var mIe=function(a,b={}){_.EN()(_.QO.instrument("reflow",()=>{if(b.retry){if(b.retry++,10<b.retry){_.DN.isWhitelisted("chart-debug")&&console.warn("Width or height of chart == 0");return}}else b.retry=1;var c={};try{var d=a.base.node();d&&(c=d.getBoundingClientRect())}catch(f){c={}}d=Math.round(c.width||a.widthInternal||0);c=Math.round(c.height||a.heightInternal||0);let e=!1;d!==a.widthInternal&&(a.widthInternal=d,b.init||a.trigger("change:width"),e=!0);c!==a.heightInternal&&(a.heightInternal=c,b.init||
a.trigger("change:height"),e=!0);if(b.init||"band"===a.chartType)0===d||0===c||e?_.RO(()=>{mIe(a,b)},150):(a.trigger("change:width"),a.trigger("change:height"))}))},K7=function(a,b,c){a.on("change:dataLayer",()=>{if(a.oldDataLayer!==a._dataLayer){if(null!=a.oldDataLayer){var d=a.oldDataLayer.getState();d&&d.off(b,c)}if(null!=a._dataLayer&&(d=a._dataLayer.getState()))d.on(b,c)}});if(null!=a._dataLayer){const d=a._dataLayer.getState();if(d)d.on(b,c,a)}},L7=function(a,b,c){for(const d of a.layers)c&&
c.useDrawQueue?_.Oqc.enqueue(d,_.QO.instrument(`layer-draw-${d.name}`,()=>{b(d)})):b(d)},nIe=class extends _.TK{constructor(a){super();this.base=a;this.layers=[];this.margins={top:0,right:0,bottom:0,left:0};this._innerHeight=this._innerWidth=this.heightInternal=this.widthInternal=0;this.axes=this.addBase("axes","div",this.base);this.underlay=this.addBase("underlay","div",this.base);this.content=this.addBase("content","div",this.base);this.overlay=this.addBase("overlay","div",this.base);this.chartType=
"base";this.parentContainer=null;this.timezonePreference="LocalTime";this.colorManager=new _.HP;this.resize=()=>{};this.base.classed("sd-chart-base",!0);this.base.style("position","relative");this.axes.style("position","absolute");this.axes.style("top","0px");this.axes.style("left","0px");this.underlay.style("position","absolute");this.underlay.style("top",`${this.margins.top}px`);this.underlay.style("left",`${this.margins.left}px`);this.content.style("position","absolute");this.content.style("top",
`${this.margins.top}px`);this.content.style("left",`${this.margins.left}px`);this.overlay.style("position","absolute");this.overlay.style("top",`${this.margins.top}px`);this.overlay.style("left",`${this.margins.left}px`);this.on("change:margin",()=>{this.underlay.style("top",`${this.margins.top}px`).style("left",`${this.margins.left}px`);this.content.style("top",`${this.margins.top}px`).style("left",`${this.margins.left}px`);this.overlay.style("top",`${this.margins.top}px`).style("left",`${this.margins.left}px`)});
this.on("change:width",this.calcInner,this);this.on("change:height",this.calcInner,this);this.on("change:margin",this.calcInner,this);mIe(this,{init:!0});K7(this,"change:hover",()=>{if(this._dataLayer&&this.displayData){const b=this._dataLayer.getState(),c=this.displayData;L7(this,d=>{d.handleHoverChange(c,b)})}});K7(this,"change:selected",()=>{if(this._dataLayer&&this.displayData){const b=this._dataLayer.getState(),c=this.displayData;L7(this,d=>{d.handleSelectionChange(c,b)})}});this.resize=_.SO(()=>
mIe(this),150);_.EN()(()=>{window.addEventListener("resize",this.resize)});this.id=_.UO("chart");this.proxyEvent(this.base,"mouseenter");this.proxyEvent(this.base,"mouseleave");this.proxyEvent(this.base,"mouseout");this.proxyEvent(this.base,"mousedown");this.proxyEvent(this.base,"mousemove");this.proxyEvent(this.base,"mouseup");this.proxyEvent(this.base,"mousewheel");this.proxyEvent(this.base,"click")}destroy(){window.removeEventListener("resize",this.resize)}addBase(a,b,c){return c.append(b).classed(a,
!0)}mousePosInMargin(){const a=d3.mouse(this.base.node());a[0]-=this.margins.left;a[1]-=this.margins.top;return a}isPosInMargin(a,b){return 0<=a&&a<=this._innerWidth&&0<=b&&b<=this._innerHeight}draw(a){_.EN()(_.QO.instrument("chart-draw-"+this.chartType,()=>{if(a&&a.dataLayer){this.setDataLayer(a.dataLayer);const b=a.dataLayer.getState();this.trigger("draw:start");const c=this.transform(a);c&&L7(this,d=>{d.draw(c,b)},{useDrawQueue:!0});this.trigger("draw:end")}}))}transform(a){return this.displayData=
a}supportAxis(a){return"x"===a}on(a,b,c){const d=super.on;return _.EN()(()=>d.call(this,a,b,c))}proxyEvent(a,b){if("function"!==typeof a.on)throw Error("Ci`Selection must have an on method");_.EN()(()=>{a.on(b,()=>{const c="proxy:"+b;this.trigger(c,d3.event);this.trigger("proxyEvent",c)})})}cleanup(){this.off(null,null,this.getParent());this.parentContainer=null}height(a){this.setHeight(a)}width(a){this.setWidth(a)}setHeight(a){if(null==a)return this.heightInternal;"number"===typeof a&&(a=`${a}px`);
this.base.style("height",a);mIe(this);return this}setWidth(a){if(null==a)return this.widthInternal;"number"===typeof a&&(a=`${a}px`);this.base.style("width",a);mIe(this);return this}calcInner(){let a=!1,b=this.widthInternal-this.margins.left-this.margins.right;0>b&&(b=0);b!==this._innerWidth&&(this._innerWidth=b,this.trigger("change:innerWidth"),a=!0);b=this.heightInternal-this.margins.top-this.margins.bottom;0>b&&(b=0);b!==this._innerHeight&&(this._innerHeight=b,this.trigger("change:innerHeight"),
a=!0);a&&this.triggerResize()}triggerResize(){const a=this.displayData,b=this._dataLayer,c=b?b.getState():void 0;L7(this,d=>{d.handleResize(this.heightInternal,this.widthInternal,this.margins)});a&&c&&L7(this,d=>{d.draw(a,c)},{useDrawQueue:!0})}setParent(a){this.parentContainer=a}getParent(){return this.parentContainer}setDataLayer(a){this.oldDataLayer=this._dataLayer;this._dataLayer=a;this.trigger("change:dataLayer")}getTimezonePreference(){return this.timezonePreference}setTimezonePreference(a){this.timezonePreference=
a}setColorManager(a){this.colorManager=a;this.displayData&&this.draw(this.displayData)}innerHeight(){return this._innerHeight}innerWidth(){return this._innerWidth}timePinEnabled(a){a?this.timePin||(this.timePin=new _.jP):delete this.timePin}};
var oIe=class extends nIe{constructor(a){super(a);this.base=a;this.xScale=d3.scaleTime();this.yScale=d3.scaleLinear();this.colors=!1;this.modeInner="color";this.isPlot=!0;this.count=0;this.on("change:mode",()=>{if(this.modeInner&&this.displayData){const b=this.modeInner;L7(this,c=>{c.handleModeChange(b)});this.trigger("should:redraw")}});this.on("change:innerWidth",()=>{this.xScale.range([0,this._innerWidth]);this.trigger("should:redraw")});this.xScale.range([0,this._innerWidth])}brush(){}transform(a){for(const b of a)b.color||
(b.color=this.colorManager.getColor(_.VO(b),b,this));if(this.displayData=super.transform(a))this.count=this.displayData.length;if(!this.count)return a;this.trigger("data");return this.displayData}generateLegendTokenizer(){const a=this._dataLayer;if(a&&a.generateLabelTemplate)return a.generateLabelTemplate()}mode(a){a&&(this.modeInner=a,this.trigger("change:mode"));return this.modeInner}xStateFromPos(a){return this.xScale.invert(a)}yStateFromPos(a){return this.yScale.invert(a)}domainX(a){if(a){const b=
this.xScale.domain();_.TN(b,a)||this.xScale.domain(a);return a}return this.xScale.domain()}unit(){}brushLock(){}streamValuesFromX(){return{}}streamValuesFromY(){return{}}streamValuesFromXY(){return{}}};
var pIe=function(a,b,c){a.yManager&&(a.yManagerListeners.push({event:b,callback:c}),a.yManager.on(b,c))},qIe=class extends oIe{constructor(a){super(a);this.base=a;this.chartType="band";this.bandId=null;this.yManagerListeners=[];this.config={};this.base.classed("sd-band",!0);this.theme=_.DN.getColorTheme();this.margins={top:10,bottom:10,left:10,right:60};a=this.content.append("div").classed("band",!0).style("position","absolute").style("top",`${this.margins.top}px`).style("left",`${this.margins.left}px`);
this.layers.push(new lIe(this,a));a=()=>{this.rawData&&this.draw(this.rawData)};this.on("should:redraw",_.SO(a));K7(this,"change:visibility",a);K7(this,"change:selected",()=>{this.trigger("should:redraw")})}transform(a){this.rawData=a;for(const b of a)b.color=b.color||_.YO(_.VO(b));if(!a.length)return this.yManager&&(this.bandId||0===this.bandId)&&this.yManager.changeBandYRange([],this.bandId),a;this.trigger("data",a);return a}setYManager(a){this.yManager=a;this.bandId=a.getUniqueBandId();this.yScale=
a.scale;pIe(this,"change:scale",b=>{this.yScale=b;this.trigger("change:scale","y",b)});pIe(this,"change:axis",()=>{this.trigger("should:redraw")});this.yManager.changeBandYRange(bAe(this,this.rawData),this.bandId);this.on("data",()=>{this.yManager&&this.bandId&&this.yManager.changeBandYRange(bAe(this,this.rawData),this.bandId)})}unsetYManager(){for(const a of this.yManagerListeners)this.yManager&&this.yManager.off(a.event,a.callback);this.yManagerListeners=[];this.bandId&&this.yManager&&this.yManager.changeBandYRange([],
this.bandId)}setChartConfig(a){this.config=a}getChartConfig(){return this.config}};
var M7=class extends I7{constructor(){super(...arguments);this.height=200;this.bandChart=new _.$k;this.chartType="band"}chartTypeSetup(){this.yManager&&this.acChart.setYManager(this.yManager);this.height&&this.acChart.height(this.height);this.bandStyle&&this.acChart.setChartConfig(this.bandStyle)}ngOnInit(){super.ngOnInit();this.bandChart.emit(this.acChart)}ngOnChanges(a){a.yManager&&this.yManager&&this.acChart&&this.acChart.setYManager(this.yManager);a.height&&this.acChart&&this.acChart.height(this.height);
a.bandStyle&&this.acChart&&this.acChart.setChartConfig(this.bandStyle)}createChartGroupChild(){return this.useLegacyCoreChart?super.createChartGroupChild():new qIe(d3.select(this.chartElementRef.nativeElement))}ngOnDestroy(){super.ngOnDestroy();this.acChart&&this.acChart.unsetYManager()}};M7.\u0275fac=function(){let a;return function(b){return(a||(a=_.Xc(M7)))(b||M7)}}();
M7.\u0275cmp=_.q({type:M7,selectors:[["ac-band"]],inputs:{yManager:"yManager",height:"height",bandStyle:"bandStyle"},outputs:{bandChart:"bandChart"},features:[_.wd,_.Gc],decls:2,vars:0,consts:[["chart",""]],template:function(a){a&1&&_.I(0,"div",null,0)},encapsulation:2});
var N7=class{};N7.\u0275fac=function(a){return new (a||N7)};N7.\u0275cmp=_.q({type:N7,selectors:[["ac-three-dot-loading-indicator"]],decls:4,vars:0,consts:[[1,"spinner"],[1,"bounce1"],[1,"bounce2"],[1,"bounce3"]],template:function(a){a&1&&(_.E(0,"div",0),_.I(1,"div",1)(2,"div",2)(3,"div",3),_.F())},styles:[".spinner[_ngcontent-%COMP%]{display:inline-block}.spinner[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{-webkit-animation:sk-bouncedelay 1.4s infinite ease-in-out both;animation:sk-bouncedelay 1.4s infinite ease-in-out both;background-color:#333;border-radius:100%;display:inline-block;height:6px;width:6px}.spinner[_ngcontent-%COMP%]   .bounce1[_ngcontent-%COMP%]{-webkit-animation-delay:-0.32s;animation-delay:-0.32s}.spinner[_ngcontent-%COMP%]   .bounce2[_ngcontent-%COMP%]{-webkit-animation-delay:-0.16s;animation-delay:-0.16s}@-webkit-keyframes sk-bouncedelay{0%,80%,100%{-webkit-transform:scale(0)}40%{-webkit-transform:scale(1)}}@keyframes sk-bouncedelay{0%,80%,100%{-webkit-transform:scale(0);transform:scale(0)}40%{-webkit-transform:scale(1);transform:scale(1)}}\n/*# sourceMappingURL=three_dot_loading_indicator_style.css.map */"]});
/*

 Copyright Google LLC All Rights Reserved.

 Use of this source code is governed by an MIT-style license that can be
 found in the LICENSE file at https://angular.io/license
*/
/*

 Copyright 2020 Google Inc.

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.
*/
/*

 Copyright 2016 Google Inc.

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.
*/
var O7=new Set;O7.add("Backspace");O7.add("Enter");O7.add("Spacebar");O7.add("PageUp");O7.add("PageDown");O7.add("End");O7.add("Home");O7.add("ArrowLeft");O7.add("ArrowUp");O7.add("ArrowRight");O7.add("ArrowDown");O7.add("Delete");O7.add("Escape");O7.add("Tab");var P7=new Map;P7.set(8,"Backspace");P7.set(13,"Enter");P7.set(32,"Spacebar");P7.set(33,"PageUp");P7.set(34,"PageDown");P7.set(35,"End");P7.set(36,"Home");P7.set(37,"ArrowLeft");P7.set(38,"ArrowUp");P7.set(39,"ArrowRight");P7.set(40,"ArrowDown");
P7.set(46,"Delete");P7.set(27,"Escape");P7.set(9,"Tab");var Q7=new Set;Q7.add("PageUp");Q7.add("PageDown");Q7.add("End");Q7.add("Home");Q7.add("ArrowLeft");Q7.add("ArrowUp");Q7.add("ArrowRight");Q7.add("ArrowDown");
var rIe=new _.Zc("mat-tooltip-scroll-strategy"),sIe={provide:rIe,deps:[_.eo],useFactory:function(a){return()=>a.scrollStrategies.reposition({scrollThrottle:20})}},tIe=new _.Zc("mat-tooltip-default-options",{providedIn:"root",factory:function(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),uIe=_.Hg({passive:!0}),vIe=class{constructor(a,b,c,d,e,f,g,h,l,n,r,v){this._overlay=a;this._elementRef=b;this._scrollDispatcher=c;this._viewContainerRef=d;this._ngZone=e;this._platform=f;this._ariaDescriber=
g;this._focusMonitor=h;this._dir=n;this._defaultOptions=r;this._position="below";this._pointerExitEventsInitialized=this._viewInitialized=this._disabled=!1;this._viewportMargin=8;this._cssClassPrefix="mat";this._showDelay=this._defaultOptions.showDelay;this._hideDelay=this._defaultOptions.hideDelay;this.touchGestures="auto";this._message="";this._passiveListeners=[];this._destroyed=new _.tf;this._scrollStrategy=l;this._document=v;r&&(r.position&&(this.position=r.position),r.touchGestures&&(this.touchGestures=
r.touchGestures));n.change.pipe(_.Af(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}get position(){return this._position}set position(a){if(a!==this._position&&(this._position=a,this._overlayRef)){this._updatePosition(this._overlayRef);let b;null==(b=this._tooltipInstance)||b.show(0);this._overlayRef.updatePosition()}}get disabled(){return this._disabled}set disabled(a){(this._disabled=_.Lg(a))?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(a){this._showDelay=
_.Og(a)}get hideDelay(){return this._hideDelay}set hideDelay(a){this._hideDelay=_.Og(a);this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(a){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip");this._message=null!=a?String(a).trim():"";!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>
{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(a){this._tooltipClass=a;this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0;this._setupPointerEnterEventsIfNeeded();this._focusMonitor.monitor(this._elementRef).pipe(_.Af(this._destroyed)).subscribe(a=>{a?"keyboard"===a&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>
this.hide(0))})}ngOnDestroy(){const a=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout);this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null);this._passiveListeners.forEach(([b,c])=>{a.removeEventListener(b,c,uIe)});this._passiveListeners.length=0;this._destroyed.next();this._destroyed.complete();this._ariaDescriber.removeDescription(a,this.message,"tooltip");this._focusMonitor.stopMonitoring(a)}show(a=this.showDelay){if(!this.disabled&&this.message&&(!this._isTooltipVisible()||
this._tooltipInstance._showTimeoutId||this._tooltipInstance._hideTimeoutId)){var b=this._createOverlay();this._detach();this._portal=this._portal||new _.Zn(this._tooltipComponent,this._viewContainerRef);b=this._tooltipInstance=b.attach(this._portal).instance;b._triggerElement=this._elementRef.nativeElement;b._mouseLeaveHideDelay=this._hideDelay;b._onHide.pipe(_.Af(this._destroyed)).subscribe(()=>this._detach());this._setTooltipClass(this._tooltipClass);this._updateTooltipMessage();b.show(a)}}hide(a=
this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(a)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;var a=_.Qn(this._scrollDispatcher,this._elementRef);a=_.xfb(_.Kjb(_.nv(_.Njb(_.ov(this._overlay.position(),this._elementRef),".mat-tooltip"),!1),this._viewportMargin),a);a.positionChanges.pipe(_.Af(this._destroyed)).subscribe(c=>
{this._updateCurrentPositionClass(c.connectionPair);this._tooltipInstance&&c.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))});this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:a,panelClass:"mat-tooltip-panel",scrollStrategy:this._scrollStrategy()});this._updatePosition(this._overlayRef);this._overlayRef._detachments.pipe(_.Af(this._destroyed)).subscribe(()=>this._detach());this._overlayRef.outsidePointerEvents().pipe(_.Af(this._destroyed)).subscribe(()=>
{let c;return null==(c=this._tooltipInstance)?void 0:c._handleBodyInteraction()});this._overlayRef.keydownEvents().pipe(_.Af(this._destroyed)).subscribe(c=>{this._isTooltipVisible()&&27===c.keyCode&&!_.Gg(c)&&(c.preventDefault(),c.stopPropagation(),this._ngZone.run(()=>this.hide(0)))});let b;(null==(b=this._defaultOptions)?0:b.disableTooltipInteractivity)&&this._overlayRef.addPanelClass("mat-tooltip-panel-non-interactive");return this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&
this._overlayRef.detach();this._tooltipInstance=null}_updatePosition(a){a=a.getConfig().positionStrategy;const b=this._getOrigin(),c=this._getOverlayPosition();_.mv(a,[this._addOffset(Object.assign({},b.main,c.main)),this._addOffset(Object.assign({},b.fallback,c.fallback))])}_addOffset(a){return a}_getOrigin(){const a=!this._dir||"ltr"==this._dir.value,b=this.position;let c;if("above"==b||"below"==b)c={originX:"center",originY:"above"==b?"top":"bottom"};else if("before"==b||"left"==b&&a||"right"==
b&&!a)c={originX:"start",originY:"center"};else if("after"==b||"right"==b&&a||"left"==b&&!a)c={originX:"end",originY:"center"};const {x:d,y:e}=this._invertPosition(c.originX,c.originY);return{main:c,fallback:{originX:d,originY:e}}}_getOverlayPosition(){const a=!this._dir||"ltr"==this._dir.value,b=this.position;let c;if("above"==b)c={overlayX:"center",overlayY:"bottom"};else if("below"==b)c={overlayX:"center",overlayY:"top"};else if("before"==b||"left"==b&&a||"right"==b&&!a)c={overlayX:"end",overlayY:"center"};
else if("after"==b||"right"==b&&a||"left"==b&&!a)c={overlayX:"start",overlayY:"center"};const {x:d,y:e}=this._invertPosition(c.overlayX,c.overlayY);return{main:c,fallback:{overlayX:d,overlayY:e}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(_.af(1),_.Af(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(a){this._tooltipInstance&&
(this._tooltipInstance.tooltipClass=a,this._tooltipInstance._markForCheck())}_invertPosition(a,b){"above"===this.position||"below"===this.position?"top"===b?b="bottom":"bottom"===b&&(b="top"):"end"===a?a="start":"start"===a&&(a="end");return{x:a,y:b}}_updateCurrentPositionClass(a){var b=a.overlayY,c=a.originX;a=a.originY;b="center"===b?this._dir&&"rtl"===this._dir.value?"end"===c?"left":"right":"start"===c?"left":"right":"bottom"===b&&"top"===a?"above":"below";if(b!==this._currentPosition){if(c=this._overlayRef)c.removePanelClass("mat-tooltip-panel-"+
this._currentPosition),c.addPanelClass("mat-tooltip-panel-"+b);this._currentPosition=b}}_setupPointerEnterEventsIfNeeded(){!this._disabled&&this.message&&this._viewInitialized&&!this._passiveListeners.length&&(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded();this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded();
clearTimeout(this._touchstartTimeout);this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(!this._pointerExitEventsInitialized){this._pointerExitEventsInitialized=!0;var a=[];if(this._platformSupportsMouseEvents())a.push(["mouseleave",b=>{b=b.relatedTarget;let c;b&&(null==(c=this._overlayRef)?0:c.overlayElement.contains(b))||this.hide()}],["wheel",b=>this._wheelListener(b)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();
const b=()=>{clearTimeout(this._touchstartTimeout);this.hide(this._defaultOptions.touchendHideDelay)};a.push(["touchend",b],["touchcancel",b])}this._addListeners(a);this._passiveListeners.push(...a)}}_addListeners(a){a.forEach(([b,c])=>{this._elementRef.nativeElement.addEventListener(b,c,uIe)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(a){if(this._isTooltipVisible()){a=this._document.elementFromPoint(a.clientX,a.clientY);const b=this._elementRef.nativeElement;
a===b||b.contains(a)||this.hide()}}_disableNativeGesturesIfNecessary(){const a=this.touchGestures;if("off"!==a){const b=this._elementRef.nativeElement,c=b.style;if("on"===a||"INPUT"!==b.nodeName&&"TEXTAREA"!==b.nodeName)c.userSelect=c.msUserSelect=c.webkitUserSelect=c.MozUserSelect="none";"on"!==a&&b.draggable||(c.webkitUserDrag="none");c.touchAction="none";c.webkitTapHighlightColor="transparent"}}};vIe.\u0275fac=function(){_.dd()};
vIe.\u0275dir=_.q({type:vIe,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}});
var wIe=class{constructor(a,b){this._changeDetectorRef=a;this._visibility="initial";this._isVisible=this._closeOnInteraction=!1;this._onHide=new _.tf;this._animationsDisabled="NoopAnimations"===b}show(a){clearTimeout(this._hideTimeoutId);this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0);this._showTimeoutId=void 0},a)}hide(a){clearTimeout(this._showTimeoutId);this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1);this._hideTimeoutId=void 0},a)}isVisible(){return this._isVisible}ngOnDestroy(){clearTimeout(this._showTimeoutId);
clearTimeout(this._hideTimeoutId);this._onHide.complete();this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:a}){a&&this._triggerElement.contains(a)||this.hide(this._mouseLeaveHideDelay)}_onShow(){}_handleAnimationEnd({animationName:a}){a!==this._showAnimation&&a!==this._hideAnimation||this._finalizeAnimation(a===this._showAnimation)}_finalizeAnimation(a){a?this._closeOnInteraction=
!0:this.isVisible()||this._onHide.next()}_toggleVisibility(a){const b=this._tooltip.nativeElement;var c=this._showAnimation;const d=this._hideAnimation;b.classList.remove(a?d:c);b.classList.add(a?c:d);(this._isVisible=a)&&!this._animationsDisabled&&"function"===typeof getComputedStyle&&(c=getComputedStyle(b),"0s"===c.getPropertyValue("animation-duration")||"none"===c.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0);this._animationsDisabled&&(b.classList.add("_mat-animation-noopable"),
this._finalizeAnimation(a))}};wIe.\u0275fac=function(a){return new (a||wIe)(_.A(_.el),_.A(_.Rk,8))};wIe.\u0275dir=_.q({type:wIe});
var xIe=["tooltip"],R7=class extends vIe{constructor(a,b,c,d,e,f,g,h,l,n,r,v){super(a,b,c,d,e,f,g,h,l,n,r,v);this._tooltipComponent=yIe}};R7.\u0275fac=function(a){return new (a||R7)(_.A(_.eo),_.A(_.ad),_.A(_.Rn),_.A(_.Me),_.A(_.Jf),_.A(_.on),_.A(_.qv),_.A(_.sn),_.A(rIe),_.A(_.In,8),_.A(tIe,8),_.A(_.Pg))};R7.\u0275dir=_.q({type:R7,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[_.wd]});
var yIe=class extends wIe{constructor(a,b,c){super(a,c);this._breakpointObserver=b;this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)");this._showAnimation="mat-tooltip-show";this._hideAnimation="mat-tooltip-hide"}};yIe.\u0275fac=function(a){return new (a||yIe)(_.A(_.el),_.A(_.xn),_.A(_.Rk,8))};
yIe.\u0275cmp=_.q({type:yIe,selectors:[["mat-tooltip-component"]],viewQuery:function(a,b){a&1&&_.Oe(xIe,7);if(a&2){let c;_.Ne(c=_.Qe())&&(b._tooltip=c.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(a,b){a&1&&_.L("mouseleave",function(c){return b._handleMouseLeave(c)});a&2&&_.Ad("zoom",b.isVisible()?1:null)},features:[_.wd],decls:4,vars:6,consts:[[1,"mat-tooltip",3,"ngClass","animationend"],["tooltip",""]],template:function(a,b){a&1&&(_.E(0,"div",0,1),_.L("animationend",
function(c){return b._handleAnimationEnd(c)}),_.Zd(2,"async"),_.Q(3),_.F());if(a&2){let c;_.Bd("mat-tooltip-handset",null==(c=_.$d(2,4,b._isHandset))?null:c.matches);_.C("ngClass",b.tooltipClass);_.x(3);_.Ud(b.message)}},dependencies:[_.qx,_.pl],styles:[".mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis;-webkit-transform:scale(0);transform:scale(0)}.mat-tooltip._mat-animation-noopable{-webkit-animation:none;animation:none;-webkit-transform:scale(1);transform:scale(1)}.cdk-high-contrast-active .mat-tooltip{outline:1px solid}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}.mat-tooltip-panel-non-interactive{pointer-events:none}@-webkit-keyframes mat-tooltip-show{0%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}50%{opacity:.5;-webkit-transform:scale(.99);transform:scale(.99)}to{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@keyframes mat-tooltip-show{0%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}50%{opacity:.5;-webkit-transform:scale(.99);transform:scale(.99)}to{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@-webkit-keyframes mat-tooltip-hide{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}to{opacity:0;-webkit-transform:scale(1);transform:scale(1)}}@keyframes mat-tooltip-hide{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}to{opacity:0;-webkit-transform:scale(1);transform:scale(1)}}.mat-tooltip-show{-webkit-animation:mat-tooltip-show .2s cubic-bezier(0,0,.2,1) forwards;animation:mat-tooltip-show .2s cubic-bezier(0,0,.2,1) forwards}.mat-tooltip-hide{-webkit-animation:mat-tooltip-hide .1s cubic-bezier(0,0,.2,1) forwards;animation:mat-tooltip-hide .1s cubic-bezier(0,0,.2,1) forwards}"],
encapsulation:2,changeDetection:0});
var S7=class{};S7.\u0275fac=function(a){return new (a||S7)};S7.\u0275mod=_.Bc({type:S7});S7.\u0275inj=_.tc({providers:[sIe],imports:[_.Cn,_.ql,_.fo,_.go,_.go,_.Un]});
var zIe=_.Ug("transformPanelWrap",[_.Yg("* => void",_.fqa("@transformPanel",[_.eqa()]))]),AIe=_.Ug("transformPanel",[_.Xg("void",_.Wg({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),_.Xg("showing",_.Wg({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),_.Xg("showing-multiple",_.Wg({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),_.Yg("void => *",_.Vg("120ms cubic-bezier(0, 0, 0.2, 1)")),_.Yg("* => void",_.Vg("100ms 25ms linear",_.Wg({opacity:0})))]);
var BIe=["trigger"],CIe=["panel"],DIe=[[["mat-select-trigger"]],"*"],EIe=0,FIe=new _.Zc("mat-select-scroll-strategy"),GIe=new _.Zc("MAT_SELECT_CONFIG"),HIe={provide:FIe,deps:[_.eo],useFactory:function(a){return()=>a.scrollStrategies.reposition()}},IIe=class{constructor(a,b){this.source=a;this.value=b}},JIe=_.Rg(_.Sx(_.Sg(_.Rkb(class{constructor(a,b,c,d,e){this._elementRef=a;this._defaultErrorStateMatcher=b;this._parentForm=c;this._parentFormGroup=d;this.ngControl=e;this.stateChanges=new _.tf}})))),
KIe=new _.Zc("MatSelectTrigger"),T7=class{};T7.\u0275fac=function(a){return new (a||T7)};T7.\u0275dir=_.q({type:T7,selectors:[["mat-select-trigger"]],features:[_.Wd([{provide:KIe,useExisting:T7}])]});
var LIe=class extends JIe{constructor(a,b,c,d,e,f,g,h,l,n,r,v,w,y){super(e,d,g,h,n);this._viewportRuler=a;this._changeDetectorRef=b;this._ngZone=c;this._dir=f;this._parentFormField=l;this._liveAnnouncer=w;this._defaultOptions=y;this._panelOpen=!1;this._compareWith=(T,J)=>T===J;this._uid=`mat-select-${EIe++}`;this._triggerAriaLabelledBy=null;this._destroy=new _.tf;this._onChange=()=>{};this._onTouched=()=>{};this._valueId=`mat-select-value-${EIe++}`;this._panelDoneAnimatingStream=new _.tf;let B;this._overlayPanelClass=
(null==(B=this._defaultOptions)?void 0:B.overlayPanelClass)||"";this._focused=!1;this.controlType="mat-select";this._multiple=!1;let G,O;this._disableOptionCentering=null!=(O=null==(G=this._defaultOptions)?void 0:G.disableOptionCentering)?O:!1;this.ariaLabel="";this.optionSelectionChanges=_.xe(()=>{const T=this.options;return T?T.changes.pipe(_.yf(T),_.zf(()=>_.De(...T.map(J=>J.onSelectionChange)))):this._ngZone.onStable.pipe(_.af(1),_.zf(()=>this.optionSelectionChanges))});this.openedChange=new _.$k;
this._openedStream=this.openedChange.pipe(_.Ge(T=>T),_.U(()=>{}));this._closedStream=this.openedChange.pipe(_.Ge(T=>!T),_.U(()=>{}));this.selectionChange=new _.$k;this.valueChange=new _.$k;this.ngControl&&(this.ngControl.valueAccessor=this);null!=(null==y?void 0:y.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=y.typeaheadDebounceInterval);this._scrollStrategyFactory=v;this._scrollStrategy=this._scrollStrategyFactory();this.tabIndex=parseInt(r)||0;this.id=this.id}get focused(){return this._focused||
this._panelOpen}get placeholder(){return this._placeholder}set placeholder(a){this._placeholder=a;this.stateChanges.next()}get required(){let a,b,c,d;return null!=(d=null!=(c=this._required)?c:null==(a=this.ngControl)?void 0:null==(b=a.control)?void 0:_.uy(b._rawValidators,_.Dy))?d:!1}set required(a){this._required=_.Lg(a);this.stateChanges.next()}get multiple(){return this._multiple}set multiple(a){this._multiple=_.Lg(a)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(a){this._disableOptionCentering=
_.Lg(a)}get compareWith(){return this._compareWith}set compareWith(a){this._compareWith=a;this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(a){this._assignValue(a)&&this._onChange(a)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(a){this._typeaheadDebounceInterval=_.Og(a)}get id(){return this._id}set id(a){this._id=a||this._uid;this.stateChanges.next()}ngOnInit(){this._selectionModel=new _.my(this.multiple);
this.stateChanges.next();this._panelDoneAnimatingStream.pipe(_.Ze(),_.Af(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager();this._selectionModel.changed.pipe(_.Af(this._destroy)).subscribe(a=>{a.added.forEach(b=>b.select());a.removed.forEach(b=>b.deselect())});this.options.changes.pipe(_.yf(null),_.Af(this._destroy)).subscribe(()=>{this._resetOptions();this._initializeSelection()})}ngDoCheck(){const a=this._getTriggerAriaLabelledby(),
b=this.ngControl;if(a!==this._triggerAriaLabelledBy){const c=this._elementRef.nativeElement;(this._triggerAriaLabelledBy=a)?c.setAttribute("aria-labelledby",a):c.removeAttribute("aria-labelledby")}b&&(this._previousControl!==b.control&&(void 0!==this._previousControl&&null!==b.disabled&&b.disabled!==this.disabled&&(this.disabled=b.disabled),this._previousControl=b.control),this.updateErrorState())}ngOnChanges(a){(a.disabled||a.userAriaDescribedBy)&&this.stateChanges.next();a.typeaheadDebounceInterval&&
this._keyManager&&_.$v(this._keyManager,this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next();this._destroy.complete();this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,_.Cz(this._keyManager,null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,_.Cz(this._keyManager,this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(a){this._assignValue(a)}registerOnChange(a){this._onChange=
a}registerOnTouched(a){this._onTouched=a}setDisabledState(a){this.disabled=a;this._changeDetectorRef.markForCheck();this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){let a,b;return this.multiple?(null==(a=this._selectionModel)?void 0:a.selected)||[]:null==(b=this._selectionModel)?void 0:b.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const a=this._selectionModel.selected.map(b=>b.viewValue);this._isRtl()&&a.reverse();return a.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return this._dir?
"rtl"===this._dir.value:!1}_handleKeydown(a){this.disabled||(this.panelOpen?this._handleOpenKeydown(a):this._handleClosedKeydown(a))}_handleClosedKeydown(a){var b=a.keyCode;const c=40===b||38===b||37===b||39===b,d=this._keyManager;!(0<d._pressedLetters.length||13!==b&&32!==b||_.Gg(a))||(this.multiple||a.altKey)&&c?(a.preventDefault(),this.open()):this.multiple||(b=this.selected,d.onKeydown(a),(a=this.selected)&&b!==a&&this._liveAnnouncer.announce(a.viewValue,1E4))}_handleOpenKeydown(a){const b=this._keyManager;
var c=a.keyCode;const d=40===c||38===c,e=0<b._pressedLetters.length;if(d&&a.altKey)a.preventDefault(),this.close();else if(e||13!==c&&32!==c||!b.activeItem||_.Gg(a))if(!e&&this._multiple&&65===c&&a.ctrlKey){a.preventDefault();const f=this.options.some(g=>!g.disabled&&!g.selected);this.options.forEach(g=>{g.disabled||(f?g.select():g.deselect())})}else c=b.activeItemIndex,b.onKeydown(a),this._multiple&&d&&a.shiftKey&&b.activeItem&&b.activeItemIndex!==c&&b.activeItem._selectViaInteraction();else a.preventDefault(),
b.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1;this.disabled||this.panelOpen||(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(_.af(1)).subscribe(()=>{this._changeDetectorRef.detectChanges();this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||
this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value);this._setSelectionByValue(this._value);this.stateChanges.next()})}_setSelectionByValue(a){this._selectionModel.selected.forEach(b=>_.NJb(b));this._selectionModel.clear();this.multiple&&a?(Array.isArray(a),a.forEach(b=>this._selectOptionByValue(b)),this._sortValues()):(a=this._selectOptionByValue(a))?_.bw(this._keyManager,a):this.panelOpen||_.bw(this._keyManager,-1);
this._changeDetectorRef.markForCheck()}_selectOptionByValue(a){const b=this.options.find(c=>{if(this._selectionModel.isSelected(c))return!1;try{return null!=c.value&&this._compareWith(c.value,a)}catch(d){return!1}});b&&this._selectionModel.select(b);return b}_assignValue(a){return a!==this._value||this._multiple&&Array.isArray(a)?(this.options&&this._setSelectionByValue(a),this._value=a,!0):!1}_initKeyManager(){this._keyManager=cze(_.aw(_.Cz(_.Zv(_.$v(new _.OJb(this.options),this._typeaheadDebounceInterval)),
this._isRtl()?"rtl":"ltr")));this._keyManager.tabOut.pipe(_.Af(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())});this._keyManager.change.pipe(_.Af(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):this._panelOpen||this.multiple||!this._keyManager.activeItem||this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const a=
_.De(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(_.Af(a)).subscribe(b=>{this._onSelect(b.source,b.isUserInput);b.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())});_.De(...this.options.map(b=>b._stateChanges)).pipe(_.Af(a)).subscribe(()=>{this._changeDetectorRef.markForCheck();this.stateChanges.next()})}_onSelect(a,b){const c=this._selectionModel.isSelected(a);null!=a.value||this._multiple?(c!==a.selected&&(a.selected?this._selectionModel.select(a):
this._selectionModel.deselect(a)),b&&this._keyManager.setActiveItem(a),this.multiple&&(this._sortValues(),b&&this.focus())):(a.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(a.value));c!==this._selectionModel.isSelected(a)&&this._propagateChanges();this.stateChanges.next()}_sortValues(){if(this.multiple){const a=this.options.toArray();this._selectionModel.sort((b,c)=>this.sortComparator?this.sortComparator(b,c,a):a.indexOf(b)-a.indexOf(c));this.stateChanges.next()}}_propagateChanges(a){let b=
null;this._value=b=this.multiple?this.selected.map(c=>c.value):this.selected?this.selected.value:a;this.valueChange.emit(b);this._onChange(b);this.selectionChange.emit(this._getChangeEvent(b));this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?_.cw(this._keyManager):this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){let a;return!this._panelOpen&&!this.disabled&&0<(null==(a=this.options)?void 0:a.length)}focus(a){this._elementRef.nativeElement.focus(a)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;
let a;const b=null==(a=this._parentFormField)?void 0:_.LAb(a);return this.ariaLabelledby?(b?b+" ":"")+this.ariaLabelledby:b}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;var a;const b=null==(a=this._parentFormField)?void 0:_.LAb(a);a=(b?b+" ":"")+this._valueId;this.ariaLabelledby&&(a+=" "+this.ariaLabelledby);return a}_panelDoneAnimating(a){this.openedChange.emit(a)}setDescribedByIds(a){a.length?
this._elementRef.nativeElement.setAttribute("aria-describedby",a.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus();this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}};LIe.\u0275fac=function(a){return new (a||LIe)(_.A(_.Tn),_.A(_.el),_.A(_.Jf),_.A(_.$x),_.A(_.ad),_.A(_.In,8),_.A(_.yw,8),_.A(_.Fw,8),_.A(_.yr,8),_.A(_.tw,10),_.Vc("tabindex"),_.A(FIe),_.A(_.Bn),_.A(GIe,8))};
LIe.\u0275dir=_.q({type:LIe,viewQuery:function(a,b){a&1&&(_.Oe(BIe,5),_.Oe(CIe,5),_.Oe(_.yx,5));if(a&2){let c;_.Ne(c=_.Qe())&&(b.trigger=c.first);_.Ne(c=_.Qe())&&(b.panel=c.first);_.Ne(c=_.Qe())&&(b._overlayDir=c.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],
ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[_.wd,_.Gc]});
var U7=class extends LIe{constructor(){super(...arguments);this._triggerFontSize=this._scrollTop=0;this._transformOrigin="top";this._offsetY=0;this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(a,b,c){const d=this._getItemHeight();return Math.min(Math.max(0,d*a-b+d/2),c)}ngOnInit(){super.ngOnInit();this._viewportRuler.change().pipe(_.Af(this._destroy)).subscribe(()=>{this.panelOpen&&
(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(_.af(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=
`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(a){const b=_.Gzb(a,this.options,this.optionGroups),c=this._getItemHeight();this.panel.nativeElement.scrollTop=0===a&&1===b?0:_.Hzb((a+b)*c,c,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX();this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(a){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck());super._panelDoneAnimating(a)}_getChangeEvent(a){return new IIe(this,
a)}_calculateOverlayOffsetX(){var a=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect();const b=this._viewportRuler.getViewportSize(),c=this._isRtl(),d=this.multiple?56:32;var e=this.multiple?40:this.disableOptionCentering?16:(e=this._selectionModel.selected[0]||this.options.first)&&e.group?32:16;c||(e*=-1);const f=-(a.left+e-(c?d:0));a=a.right+e-b.width+(c?0:d);0<f?e+=f+8:0<a&&(e-=a+8);this._overlayDir.offsetX=Math.round(e);this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(a,
b,c){const d=this._getItemHeight(),e=(d-this._triggerRect.height)/2,f=Math.floor(256/d);return this.disableOptionCentering?0:Math.round(-1*(0===this._scrollTop?a*d:this._scrollTop===c?(a-(this._getItemCount()-f))*d+(d-(this._getItemCount()*d-256)%d):b-d/2)-e)}_checkOverlayWithinViewport(a){var b=this._getItemHeight(),c=this._viewportRuler.getViewportSize();const d=this._triggerRect.top-8;c=c.height-this._triggerRect.bottom-8;const e=Math.abs(this._offsetY);b=Math.min(this._getItemCount()*b,256)-e-
this._triggerRect.height;b>c?this._adjustPanelUp(b,c):e>d?this._adjustPanelDown(e,d,a):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(a,b){a=Math.round(a-b);this._scrollTop-=a;this._offsetY-=a;this._transformOrigin=this._getOriginBasedOnOption();0>=this._scrollTop&&(this._offsetY=this._scrollTop=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(a,b,c){a=Math.round(a-b);this._scrollTop+=a;this._offsetY+=a;this._transformOrigin=this._getOriginBasedOnOption();this._scrollTop>=
c&&(this._scrollTop=c,this._offsetY=0,this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){var a=this._getItemHeight(),b=this._getItemCount(),c=Math.min(b*a,256);a=b*a-c;b=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0);b+=_.Gzb(b,this.options,this.optionGroups);c/=2;this._scrollTop=this._calculateOverlayScroll(b,c,a);this._offsetY=this._calculateOverlayOffsetY(b,c,a);this._checkOverlayWithinViewport(a)}_getOriginBasedOnOption(){const a=this._getItemHeight();
return`50% ${Math.abs(this._offsetY)-(a-this._triggerRect.height)/2+a/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}};U7.\u0275fac=function(){let a;return function(b){return(a||(a=_.Xc(U7)))(b||U7)}}();
U7.\u0275cmp=_.q({type:U7,selectors:[["mat-select"]],contentQueries:function(a,b,c){a&1&&(_.Pe(c,KIe,5),_.Pe(c,_.zy,5),_.Pe(c,_.JUa,5));if(a&2){let d;_.Ne(d=_.Qe())&&(b.customTrigger=d.first);_.Ne(d=_.Qe())&&(b.options=d);_.Ne(d=_.Qe())&&(b.optionGroups=d)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:19,hostBindings:function(a,b){a&1&&_.L("keydown",function(c){return b._handleKeydown(c)})("focus",function(){return b._onFocus()})("blur",
function(){return b._onBlur()});a&2&&(_.zd("id",b.id)("tabindex",b.tabIndex)("aria-controls",b.panelOpen?b.id+"-panel":null)("aria-expanded",b.panelOpen)("aria-label",b.ariaLabel||null)("aria-required",b.required.toString())("aria-disabled",b.disabled.toString())("aria-invalid",b.errorState)("aria-activedescendant",b._getAriaActiveDescendant()),_.Bd("mat-select-disabled",b.disabled)("mat-select-invalid",b.errorState)("mat-select-required",b.required)("mat-select-empty",b.empty)("mat-select-multiple",
b.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[_.Wd([{provide:_.Ay,useExisting:U7},{provide:_.jo,useExisting:U7}]),_.wd],ngContentSelectors:["mat-select-trigger","*"],decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",
3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],
[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(a,b){a&1&&(_.Pd(DIe),_.E(0,"div",0,1),_.L("click",function(){return b.toggle()}),_.E(3,"div",2),_.P(4,$ae,2,1,"span",3),_.P(5,cbe,3,2,"span",4),_.F(),_.E(6,"div",5),_.I(7,"div",6),_.F()(),_.P(8,dbe,
4,14,"ng-template",7),_.L("backdropClick",function(){return b.close()})("attach",function(){return b._onAttached()})("detach",function(){return b.close()}));if(a&2){const c=_.Rd(1);_.zd("aria-owns",b.panelOpen?b.id+"-panel":null);_.x(3);_.C("ngSwitch",b.empty);_.zd("id",b._valueId);_.x(1);_.C("ngSwitchCase",!0);_.x(1);_.C("ngSwitchCase",!1);_.x(3);_.C("cdkConnectedOverlayPanelClass",b._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",b._scrollStrategy)("cdkConnectedOverlayOrigin",c)("cdkConnectedOverlayOpen",
b.panelOpen)("cdkConnectedOverlayPositions",b._positions)("cdkConnectedOverlayMinWidth",null==b._triggerRect?null:b._triggerRect.width)("cdkConnectedOverlayOffsetY",b._offsetY)}},dependencies:[_.qx,_.ml,_.nl,_.QB,_.yx,_.xx],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}\n'],
encapsulation:2,data:{animation:[zIe,AIe]},changeDetection:0});
var V7=class{};V7.\u0275fac=function(a){return new (a||V7)};V7.\u0275mod=_.Bc({type:V7});V7.\u0275inj=_.tc({providers:[HIe],imports:[_.ql,_.fo,_.ay,_.go,_.Un,_.by,_.ay,_.go]});
var MIe=function(a){const b=new _.jP;a.timePin=b;b.onSetChange.pipe(_.Af(a.destroyed),_.Tka(500)).subscribe(()=>{a.draw({});a.timePinUpdated.next([b.getDate(),b.isLocked()])})},NIe=function(a,b,c){a.ngZone.run(()=>{a.timePinEnabled&&a.timePin&&a.timePin.getDate()&&(c=a.timePin.getDate());if(b){b.getTimeshiftOffset&&b.getTimeshiftOffset()?a.timeshiftOffset=b.getTimeshiftOffset():a.timeshiftOffset=0;if(!(c instanceof Date)){var d=a.state;c=d&&(d.x||0===d.x)?d.x:a.selection&&a.selection[0]?a.selection[0]:
(d=b.getLastFetchedDomain())?d[1]:new Date}a.timeshiftOffset?(d=_.xnc(a.timeshiftOffset,c),a.valueName=d[0],a.timeshiftName=d[1]):a.timeshiftName="";var e=a.state||{isSelected:()=>!1,hover:!1};a.streams.forEach(f=>{GHe(f,c);var g=f.theStream.id;const h=!!g&&e.isSelected(g);g=e.hover===g;f.style=a.streamStyle(f,h,g);f.cssClass={"ac-stream-selected":h,"ac-stream-hovered":g}});a.statsStreams.forEach(f=>{var g=f.theStream.id;const h=!!g&&e.isSelected(g),l=e.hover===g;f.style=a.streamStyle(f,h,l);f.cssClass=
{"ac-stream-selected":h,"ac-stream-hovered":l};g=a.statsManager.getDisplayValue(c,g,a.formatter);f.displayValueSource.next(g)});a.changeDetectorRef.markForCheck()}})},OIe=class extends _.TK{constructor(a,b,c,d,e,f,g){super();this.chartGroupManagerService=a;this.changeDetectorRef=b;this.ngZone=c;this.elementRef=d;this.eventTrackerService=e;this.timePinManagerService=f;this.chartResizeService=g;this.groupIdSource=new _.rf(1);this.dataLayerManagerSource=new _.rf(1);this.timePinDisableSnapToNow=this.timePinEnabled=
!1;this.colorManagerStore=new _.HP;this.valueName=u7.LEGEND_VALUE_COLUMN;this.chartType="line";this.forceUnitChangeForRate=!1;this.streams=[];this.statsStreams=[];this.statsValueName=u7.LEGEND_STATS_VALUE_COLUMN;this.allValuesName=u7.LEGEND_STATS_ALL_VALUES_COLUMN;this.timeshiftName="";this.formatter=new _.vP;this.dataLayer=null;this.sortFunc=Wae();this.cleanUpStateListeners=()=>{};this.debouncedResize=_.SO(()=>{this.resize()},150);this.destroyed=new _.tf;this.timePinUpdated=new _.bg([null,!1]);this.baseUnit=
null;this.timePinEnabled&&MIe(this)}set groupId(a){this.groupIdSource.next(a)}set legendTemplate(a){try{this.legendFormatter=new _.XN(a),this.nameStreams(this.streams)}catch(b){console.error(b)}}set unitOverride(a){this.unitOverrideStore!==a&&(this.unitOverrideStore=a,this.draw({}))}set colorManager(a){this.colorManagerStore=a;this.statsManager&&this.statsManager.setColorManager(a)}ngOnChanges(a){a.dataLayerManager&&this.dataLayerManager&&this.dataLayerManagerSource.next(this.dataLayerManager);a.resourceMetadataNamingFunctions&&
(this.onNewResourceMetadataSubscription&&this.onNewResourceMetadataSubscription.unsubscribe(),this.resourceMetadataNamingFunctions&&(this.onNewResourceMetadataSubscription=this.resourceMetadataNamingFunctions.getOnNewResourceMetadataStream().subscribe(()=>{this.streams&&this.ngZone.run(()=>{this.nameStreams(this.streams)})}),this.streams&&this.nameStreams(this.streams)));a.statsManager&&(this.colorManager&&this.statsManager.setColorManager(this.colorManagerStore),this.statsSubscription=this.statsManager.statsSource.asObservable().subscribe(()=>
{"stats"===this.chartMode&&(this.statsStreams=MHe(this.statsManager,this.formatter)||[],this.draw({}),this.changeDetectorRef.destroyed||this.changeDetectorRef.detectChanges())}));a.chartMode&&"stats"===this.chartMode&&(this.statsStreams=MHe(this.statsManager,this.formatter)||[]);a.timePinEnabled&&(this.timePinEnabled?this.timePin||MIe(this):delete this.timePin);a.valueFormatter&&this.draw({})}ngOnInit(){this.inputSubscription=_.qe(this.groupIdSource,this.dataLayerManagerSource.pipe(_.zf(a=>a.dataLayerStream),
_.cf(()=>{this.cleanUpStateListeners&&this.cleanUpStateListeners()}))).subscribe(([a,b])=>{this.updateUnit(null);this.dataLayer=b;this.chartGroupManager&&this.chartGroupManager.chartGroup.remove(this);this.chartGroupManager=this.chartGroupManagerService.get(a);this.timePinEnabled&&(this.timePinManager=this.timePinManagerService.get(a));this.draw({});this.chartGroupManager.chartGroup.add(this,b);this.timePinEnabled&&pCe(this.timePinManagerService.get(a));this.cleanUpStateListeners&&this.cleanUpStateListeners();
const c=b.getState();c.on("change:x",this.handleBrushChange,this);c.on("change:hover",this.handleBrushChange,this);c.on("change:selected",this.handleBrushChange,this);this.cleanUpStateListeners=()=>{c.off("change:x",this.handleBrushChange,this);c.off("change:hover",this.handleBrushChange,this);c.off("change:selected",this.handleBrushChange,this);this.cleanUpStateListeners=void 0};this.state=c});this.chartResizeService.resizeSignals.pipe(_.Ge(({shouldResize:a})=>a),_.Af(this.destroyed)).subscribe(()=>
{this.resize()});this.resize()}onResize(){this.debouncedResize()}ngOnDestroy(){this.onNewResourceMetadataSubscription&&this.onNewResourceMetadataSubscription.unsubscribe();this.chartGroupManager&&this.chartGroupManager.chartGroup&&this.chartGroupManager.chartGroup.remove(this);this.inputSubscription&&this.inputSubscription.unsubscribe();this.statsSubscription&&this.statsSubscription.unsubscribe();this.cleanUpStateListeners&&this.cleanUpStateListeners();this.changeDetectorRef.detach();this.destroyed.next();
this.destroyed.complete()}isWhitelisted(a){return _.DN.isWhitelisted(a)}setParent(a){this.parent=a}getParent(){return this.parent}setColorManager(a){this.colorManager=a}innerHeight(){return 0}innerWidth(){return 0}cleanup(){delete this.parent}brushLock(){}brush(a){this.selection=a;this.handleBrushChange(this.dataLayer,a[0])}resize(){}setSortFunc(a){this.sortFunc=a;this.sort()}sort(){this.statsStreams=this.statsStreams.sort(this.sortFunc).slice();this.streams=this.streams.sort(this.sortFunc).slice()}domainX(a){return a?
this.domain=a:this.domain}regenerateLegendTokenizerIfNeeded(){this.dataLayer&&this.dataLayer.generateLabelTemplate&&(this.legendFormatter=this.dataLayer.generateLabelTemplate())}draw(){this.trigger("draw:start");var a;(a=this.dataLayer&&this.domain?this.dataLayer.getData(this.domain):null)&&this.dataLayer?(this.updateUnit(this.unitOverrideStore||a.unit),a=a.series,this.regenerateLegendTokenizerIfNeeded(),this.streams=a.map(b=>this.makeLegendStream(b,this.dataLayer,this.formatter,this.valueFormatter)),
this.nameStreams(this.streams)):this.streams=[];this.trigger("draw:end");NIe(this,this.dataLayer,this.selection?this.selection[0]:void 0);this.sort()}handleBrushChange(a,b){_.SO(()=>NIe(this,a,b))()}streamStyle(a,b){return b?{color:a.color}:{color:"currentcolor"}}makeLegendStream(a,b,c,d){const e=DHe.includes(OHe.get(this.chartType)||"");return new HHe(a,b,c,e,d)}updateUnit(a){a?this.baseUnit=a:a=this.baseUnit;a=a||"1";this.unitOverrideStore&&this.dataLayerManager&&JCe(this.dataLayerManager)&&(this.isWhitelisted("chart-change-unit-for-rate")||
this.forceUnitChangeForRate)&&!a.endsWith("/s")&&(a+="(rate)");this.formatter.unit(a)}nameStreams(a){a.forEach(b=>{if(this.legendFormatter&&!b.theStream.hasCustomNamingFcn){var c=this.resourceMetadataNamingFunctions?this.resourceMetadataNamingFunctions.getBoundGlobalFunctions():null;c=this.legendFormatter.format(b.theStream.metadata||null,c);b.name=c||this.defaultName(b)}else b.name=this.defaultName(b);b.color=b.color||b.theStream.color||this.colorManagerStore.getColor(b.theStream.id||"")})}sendAveEvent(a,
b,c){if(this.eventTrackerService){const d=this.eventTrackerService.getEventTracker();d&&d.logSyntheticEvent&&c&&c.nativeElement&&d.logSyntheticEvent(a,new tBe(b),c.nativeElement)}}defaultName(a){return a.theStream.name||a.theStream.id||a.name||""}toggleSelected(a){if(this.dataLayer){const b=this.dataLayer.getState();b&&(b.toggleSelected(a.theStream.id||""),NIe(this,this.dataLayer))}}hover(a){if(this.dataLayer){const b=this.dataLayer.getState();b&&(b.hover=a.theStream.id||null,NIe(this,this.dataLayer))}}clearHover(){if(this.dataLayer){const a=
this.dataLayer.getState();a&&(a.hover=null,NIe(this,this.dataLayer))}}setAndSnapTimePin(){this.timePinEnabled&&this.timePinManager&&(this.timePinDisableSnapToNow?this.timePinManager.setAll(new Date):r7(this.timePinManager))}};OIe.\u0275fac=function(a){return new (a||OIe)(_.A(n7),_.A(_.el),_.A(_.Jf),_.A(_.ad),_.A(_.ut,8),_.A(s7),_.A(q7))};
OIe.\u0275cmp=_.q({type:OIe,selectors:[["ac-base-legend"]],hostBindings:function(a,b){a&1&&_.L("resize",function(){return b.onResize()},!1,_.kF)},inputs:{groupId:"groupId",dataLayerManager:"dataLayerManager",legendTemplate:"legendTemplate",unitOverride:"unitOverride",colorManager:"colorManager",timePinEnabled:"timePinEnabled",timePinDisableSnapToNow:"timePinDisableSnapToNow",resourceMetadataNamingFunctions:"resourceMetadataNamingFunctions",statsManager:"statsManager",chartMode:"chartMode",valueFormatter:"valueFormatter",
valueName:"valueName",chartType:"chartType",forceUnitChangeForRate:"forceUnitChangeForRate"},features:[_.wd,_.Gc],decls:1,vars:0,template:function(a){a&1&&_.Q(0,"not instansiable")},styles:[".ac-inline-legend[_ngcontent-%COMP%], .ac-inline-legend-items[_ngcontent-%COMP%]{display:inline-block}.ac-inline-legend[_ngcontent-%COMP%]   .ac-inline-legend-item[_ngcontent-%COMP%], .ac-inline-legend-items[_ngcontent-%COMP%]   .ac-inline-legend-item[_ngcontent-%COMP%]{box-sizing:content-box;cursor:pointer;display:inline-block;height:12px;margin-right:6px;padding:4px 6px}.ac-inline-legend[_ngcontent-%COMP%]   .ac-inline-legend-item[_ngcontent-%COMP%]   .ac-inline-legend-chip[_ngcontent-%COMP%], .ac-inline-legend-items[_ngcontent-%COMP%]   .ac-inline-legend-item[_ngcontent-%COMP%]   .ac-inline-legend-chip[_ngcontent-%COMP%]{border-radius:50px;display:inline-block;height:12px;margin-right:6px;vertical-align:middle;width:12px}.ac-inline-legend[_ngcontent-%COMP%]   .ac-inline-legend-item[_ngcontent-%COMP%]   .ac-legend-value[_ngcontent-%COMP%], .ac-inline-legend-items[_ngcontent-%COMP%]   .ac-inline-legend-item[_ngcontent-%COMP%]   .ac-legend-value[_ngcontent-%COMP%]{margin:0 5px;min-width:5em;text-overflow:ellipsis;white-space:nowrap}.ac-inline-legend[_ngcontent-%COMP%]   .ac-inline-legend-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .ac-inline-legend-items[_ngcontent-%COMP%]   .ac-inline-legend-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;height:12px}.ac-legend-key[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ac-legend-table-virtual-scroll[_ngcontent-%COMP%]{display:block;flex-grow:1;overflow-y:scroll}.ac-legend-table-virtual-scroll.overflow-visible[_ngcontent-%COMP%]{overflow-y:visible;overflow:visible}ac-table-legend[_ngcontent-%COMP%], ng2-ac-table-legend[_ngcontent-%COMP%], .ac-table-legend-switch[_ngcontent-%COMP%]{display:flex;flex-direction:column}.ac-table-legend-switch[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]::after, .ac-table-legend-switch[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]::before, .ac-table-legend-switch[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], .ac-table-legend-switch[_ngcontent-%COMP%]{box-sizing:content-box}.ac-table-legend-switch.scrolling-div[_ngcontent-%COMP%]{overflow:auto}.ac-table-legend-value[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;user-select:text}.ac-table-value-column[_ngcontent-%COMP%], .ac-table-legend-value[_ngcontent-%COMP%]{display:inline-block;flex:none;text-align:right;width:80px}.ac-table-legend-value.ac-stats-left-align[_ngcontent-%COMP%]{text-align:left}.ac-table-value-column.ac-stats-left-align[_ngcontent-%COMP%]{text-align:left}div.ac-table-legend-value.legend-table-cell.current-value[_ngcontent-%COMP%], span.ac-table-value-column.legend-table-cell.current-value[_ngcontent-%COMP%]{box-sizing:content-box;padding:0 8px 0 0}.ac-table-options-column[_ngcontent-%COMP%]{display:inline-block;flex:none;align-content:center;width:40px}div.ac-table-legend-options.legend-table-cell.table-options[_ngcontent-%COMP%]{min-width:40px;width:40px}.ac-chip-static-container[_ngcontent-%COMP%]{flex:none;width:50px}.ac-chip-relative-container[_ngcontent-%COMP%]{flex:none;line-height:42px;position:relative}.ac-chip-absolute-background[_ngcontent-%COMP%]{height:12px;line-height:42px;padding:15px 8px 15px 24px;position:absolute;width:12px;box-sizing:content-box}.ac-table-legend-chip[_ngcontent-%COMP%]{border-radius:50px;flex:none;height:12px;line-height:42px;position:absolute;margin:15px 8px 15px 24px;width:12px}.ac-table-legend-chip.ac-chip-position-static[_ngcontent-%COMP%]{position:static}.ac-table-legend-header[_ngcontent-%COMP%]{display:block;font-weight:bold;margin:0}ac-table-legend-header[_ngcontent-%COMP%], ac-stats-legend-header[_ngcontent-%COMP%]{border-style:solid;border-width:1px 0;cursor:default;display:block;height:42px;line-height:42px}mat-icon.sort-icon[_ngcontent-%COMP%]{vertical-align:middle;width:18px;visibility:visible}mat-icon.sort-icon.hidden[_ngcontent-%COMP%]{overflow:hidden;visibility:hidden}.sortable-column[_ngcontent-%COMP%]{cursor:pointer}.ac-table-legend-row[_ngcontent-%COMP%]{border-style:solid;border-width:0 0 1px;cursor:pointer;display:block;height:42px;line-height:42px}.ac-table-legend-label[_ngcontent-%COMP%]{overflow-x:hidden;text-overflow:ellipsis;white-space:nowrap;user-select:text}.legend-table-cell[_ngcontent-%COMP%]{height:42px;padding-left:0;padding-right:8px}.legend-table-cell.leftmost-frozen[_ngcontent-%COMP%]{padding-left:8px}.legend-table-cell.last[_ngcontent-%COMP%]{padding-right:0}.ac-table-legend-label-header[_ngcontent-%COMP%], .ac-table-legend-value-header[_ngcontent-%COMP%]{overflow-x:hidden;text-overflow:ellipsis;white-space:nowrap}div.column-selector-menu-scroll[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:visible;max-height:184px}div.column-selector-menu-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding-right:8px;height:40px}div.column-selector-menu-buttons[_ngcontent-%COMP%]   button.mat-button[_ngcontent-%COMP%]{color:#3367d6;margin:4px 0px}.column-selector-icon[_ngcontent-%COMP%]{width:32px;height:32px;padding:4px;border-radius:50%;margin-top:8px}.column-selector-icon[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.1)}.column-selector-header[_ngcontent-%COMP%]{height:32px;padding:8px 0px 8px 16px;color:rgba(0,0,0,.66)}\n/*# sourceMappingURL=legend_style.css.map */"]});
var W7=class extends I7{constructor(){super(...arguments);this.height=200;this.circleChart=new _.$k;this.chartType="circle"}chartTypeSetup(){this.yManager&&this.acChart.setYManager(this.yManager);this.height&&this.acChart.height(this.height);this.circleStyle&&this.acChart.setChartConfig(this.circleStyle)}ngOnInit(){super.ngOnInit();this.circleChart.emit(this.acChart)}ngOnChanges(a){a.yManager&&this.yManager&&this.acChart&&this.acChart.setYManager(this.yManager);a.height&&this.acChart&&this.acChart.height(this.height);
a.circleStyle&&this.acChart&&this.acChart.setChartConfig(this.circleStyle)}ngOnDestroy(){super.ngOnDestroy();this.acChart&&this.acChart.unsetYManager()}};W7.\u0275fac=function(){let a;return function(b){return(a||(a=_.Xc(W7)))(b||W7)}}();
W7.\u0275cmp=_.q({type:W7,selectors:[["ac-circle"]],inputs:{yManager:"yManager",height:"height",circleStyle:"circleStyle"},outputs:{circleChart:"circleChart"},features:[_.wd,_.Gc],decls:2,vars:0,consts:[["chart",""]],template:function(a){a&1&&_.I(0,"div",null,0)},encapsulation:2});
var PIe=0,QIe=class{constructor(){this.id=`ac-empty-${PIe++}`}};QIe.\u0275fac=function(a){return new (a||QIe)};
QIe.\u0275cmp=_.q({type:QIe,selectors:[["ac-empty-chart"]],inputs:{height:"height",placeholderTemplate:"placeholderTemplate"},decls:52,vars:31,consts:[[1,"chart-container"],[1,"zero-state-frame"],["width","128px","height","128px","viewBox","0 0 128 128","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink",1,"zero-state-svg"],"cx 62 cy 62 r 62".split(" "),"cx 22.5 cy 97.5 r 22.5".split(" "),"cx 49 cy 90 r 12".split(" "),"cx 51 cy 67 r 10".split(" "),
"cx 72.5 cy 53.5 r 6.5".split(" "),"cx 69 cy 64 r 8".split(" "),"cx 93 cy 36 r 4".split(" "),"cx 92 cy 47 r 4".split(" "),"cx 102 cy 27 r 4".split(" "),"stroke none stroke-width 1 fill none fill-rule evenodd".split(" "),["transform","translate(2.000000, 2.000000)"],["fill","white"],"stroke-opacity 0.8 stroke #BDBDBD cx 62 cy 62 r 62.5".split(" "),["fill","#EBEBEB","fill-rule","evenodd"],"stroke #BDBDBD stroke-width 1 cx 22.5 cy 97.5 r 22".split(" "),"stroke #BDBDBD stroke-width 1 cx 49 cy 90 r 11.5".split(" "),
"stroke #BDBDBD stroke-width 1 cx 51 cy 67 r 9.5".split(" "),"stroke #BDBDBD stroke-width 1 cx 72.5 cy 53.5 r 6".split(" "),"stroke #BDBDBD stroke-width 1 cx 69 cy 64 r 7.5".split(" "),"stroke #BDBDBD stroke-width 1 cx 93 cy 36 r 3.5".split(" "),"stroke #BDBDBD stroke-width 1 cx 92 cy 47 r 3.5".split(" "),"stroke #BDBDBD stroke-width 1 cx 102 cy 27 r 3.5".split(" "),[1,"zero-state-message"],[4,"ngIf","ngIfElse"],["defaultPlaceholder",""],[4,"ngTemplateOutlet"]],template:function(a,b){a&1&&(_.E(0,
"div",0),_.I(1,"div"),_.E(2,"div",1),_.Uc(),_.E(3,"svg",2)(4,"title"),_.Q(5,"empty state icon"),_.F(),_.E(6,"desc"),_.Q(7,"Created with Sketch."),_.F(),_.E(8,"defs"),_.I(9,"circle",3)(10,"circle",4)(11,"circle",5)(12,"circle",6)(13,"circle",7)(14,"circle",8)(15,"circle",9)(16,"circle",10)(17,"circle",11),_.F(),_.E(18,"g",12)(19,"g")(20,"g",13)(21,"mask",14),_.I(22,"use"),_.F(),_.I(23,"circle",15),_.E(24,"g"),_.I(25,"use",16)(26,"circle",17),_.F(),_.E(27,"g"),_.I(28,"use",16)(29,"circle",18),_.F(),
_.E(30,"g"),_.I(31,"use",16)(32,"circle",19),_.F(),_.E(33,"g"),_.I(34,"use",16)(35,"circle",20),_.F(),_.E(36,"g"),_.I(37,"use",16)(38,"circle",21),_.F(),_.E(39,"g"),_.I(40,"use",16)(41,"circle",22),_.F(),_.E(42,"g"),_.I(43,"use",16)(44,"circle",23),_.F(),_.E(45,"g"),_.I(46,"use",16)(47,"circle",24),_.F()()()()(),_.Oc.currentNamespace=null,_.E(48,"div",25),_.P(49,fbe,2,1,"div",26),_.P(50,gbe,1,0,"ng-template",null,27,_.Te),_.F()()());if(a&2){const c=_.Rd(51);_.x(1);_.Ad("height",b.height+"px");_.x(8);
_.zd("id","path-1-"+b.id);_.x(1);_.zd("id","path-3-"+b.id);_.x(1);_.zd("id","path-4-"+b.id);_.x(1);_.zd("id","path-5-"+b.id);_.x(1);_.zd("id","path-6-"+b.id);_.x(1);_.zd("id","path-7-"+b.id);_.x(1);_.zd("id","path-8-"+b.id);_.x(1);_.zd("id","path-9-"+b.id);_.x(1);_.zd("id","path-10-"+b.id);_.x(4);_.zd("id","mask-2-"+b.id);_.x(1);_.zd("href","#path-1-"+b.id);_.x(2);_.zd("mask","url(#mask-2-"+b.id+")");_.x(1);_.zd("href","#path-3-"+b.id);_.x(2);_.zd("mask","url(#mask-2-"+b.id+")");_.x(1);_.zd("href",
"#path-4-"+b.id);_.x(2);_.zd("mask","url(#mask-2-"+b.id+")");_.x(1);_.zd("href","#path-5-"+b.id);_.x(2);_.zd("mask","url(#mask-2-"+b.id+")");_.x(1);_.zd("href","#path-6-"+b.id);_.x(2);_.zd("mask","url(#mask-2-"+b.id+")");_.x(1);_.zd("href","#path-7-"+b.id);_.x(2);_.zd("mask","url(#mask-2-"+b.id+")");_.x(1);_.zd("href","#path-8-"+b.id);_.x(2);_.zd("mask","url(#mask-2-"+b.id+")");_.x(1);_.zd("href","#path-9-"+b.id);_.x(2);_.zd("mask","url(#mask-2-"+b.id+")");_.x(1);_.zd("href","#path-10-"+b.id);_.x(3);
_.C("ngIf",b.placeholderTemplate)("ngIfElse",c)}},dependencies:[_.ll,_.ol],styles:['.ac-screen-reader-only-content[_ngcontent-%COMP%]{clip:rect(1px, 1px, 1px, 1px);height:1px;margin:0;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px;z-index:-1000}.ac-a11y-focused[_ngcontent-%COMP%]{outline:1px solid blue;outline-offset:-1px}.sd-chart-base-focus-ring[_ngcontent-%COMP%]{margin-bottom:-10px;padding-bottom:10px;width:100%}.sd-chart-base[_ngcontent-%COMP%]{position:relative;color:#b8b8b8;background-color:transparent}.sd-chart-base[_ngcontent-%COMP%]    >svg{font:smaller sans-serif;width:100%;height:100%;position:absolute;top:0;left:0}.sd-chart-base[_ngcontent-%COMP%]    >svg   path{fill:none}.sd-chart-base[_ngcontent-%COMP%]    >svg   .area{stroke:none}.sd-chart-base[_ngcontent-%COMP%]    >svg   text{fill:#b8b8b8}.sd-chart-base[_ngcontent-%COMP%]     .axis .domain{stroke:#999;stroke-width:1.5px}.sd-chart-base[_ngcontent-%COMP%]     .axis line{stroke:#999;stroke-width:1.5px}.sd-chart-base[_ngcontent-%COMP%]     .axis text{fill:#999}.sd-chart-base[_ngcontent-%COMP%]     .brush path.brush-marker{stroke:#ccc;stroke-dasharray:4,4;stroke-width:2px}.sd-chart-base[_ngcontent-%COMP%]     .brush path.brush-marker.time-pin-marker-locked{stroke-width:4;stroke:#3468d6;stroke-dasharray:none}.sd-chart-base[_ngcontent-%COMP%]     .brush path.brush-marker.time-pin-marker-unlocked{stroke-width:4;stroke:#bdbdbd;stroke-dasharray:none}.sd-chart-base[_ngcontent-%COMP%]     .brush path.brush-marker.time-pin-snap-threshold{fill-opacity:.5;stroke:none}.sd-chart-base[_ngcontent-%COMP%]     .brush path.brush-marker.time-pin-hidden{display:none}.sd-chart-base[_ngcontent-%COMP%]     .threshold-group text.threshold-text, .sd-chart-base[_ngcontent-%COMP%]     .threshold-group text.threshold-label{fill:#fff}.sd-chart-base[_ngcontent-%COMP%]     .threshold-group .threshold-text-box, .sd-chart-base[_ngcontent-%COMP%]     .threshold-group .threshold-label-box{fill:#d2191d;stroke:#d2191d}.sd-chart-base[_ngcontent-%COMP%]     .threshold-group .threshold-line{stroke:#d2191d;stroke-dasharray:4,2}.sd-chart-base[form=compact][_ngcontent-%COMP%]{margin:-10px}.sd-chart-base-background[_ngcontent-%COMP%]{fill:transparent}.sd-chart-base-bar[_ngcontent-%COMP%]   .sd-chart-base-axis.x[_ngcontent-%COMP%]   line[_ngcontent-%COMP%]{stroke:#999}.sd-chart-base-brush[_ngcontent-%COMP%]   .extent[_ngcontent-%COMP%]{fill:none;shape-rendering:crispEdges}.sd-chart-base-chart[_ngcontent-%COMP%]   .ac-chart-a11y-label[_ngcontent-%COMP%]{position:absolute}.too-many-lines-warning[_ngcontent-%COMP%]{font-size:13px;padding:16px 0 16px 16px;display:flex;align-items:center}.too-many-lines-warning[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:18px;width:18px;min-width:18px}.too-many-lines-warning[_ngcontent-%COMP%]   .warning-text[_ngcontent-%COMP%]{padding:0 8px}.chart-container[_ngcontent-%COMP%]{position:relative}.chart-message[_ngcontent-%COMP%]{position:absolute;z-index:3;left:0;top:0;width:100%;height:100%;display:flex}.chart-message[_ngcontent-%COMP%]   .chart-message-text[_ngcontent-%COMP%]{font-family:"Roboto",sans-serif;font-size:13px;font-weight:normal;text-align:center;text-shadow:none;width:100%;margin:auto 10px}.chart-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;margin-right:8px;vertical-align:text-top}.chart-message[_ngcontent-%COMP%]   .chart-message-text.y-axis-left[_ngcontent-%COMP%]{margin-left:60px}.chart-message[_ngcontent-%COMP%]   .chart-message-text.y-axis-right[_ngcontent-%COMP%]{margin-right:60px}.chart-warning[_ngcontent-%COMP%]{font-family:sans-serif;font-size:12px;margin:0 0 0 10px;position:absolute;width:100%;z-index:3}.chart-warning-inline[_ngcontent-%COMP%]{margin:0;padding:0}.chart-warning-inline[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{vertical-align:text-top}.partial-error-div[_ngcontent-%COMP%]{display:flex;font-family:"Roboto",sans-serif;font-size:13px;line-height:20px;margin:8px -12px 12px;max-height:80px;overflow:auto;padding:16px 24px 12px}.partial-error-icon[_ngcontent-%COMP%]{flex:0 0 26px}.partial-error-message[_ngcontent-%COMP%]{flex:0 0 1}.band-container[_ngcontent-%COMP%], .circle-container[_ngcontent-%COMP%]{position:absolute;width:100%}.band-on-top[_ngcontent-%COMP%]{z-index:3;pointer-events:none}.percentile-container[_ngcontent-%COMP%]{position:absolute;width:100%;z-index:3;pointer-events:none}.exemplars-container[_ngcontent-%COMP%]{position:absolute;width:100%;z-index:4}.zero-state-frame[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.zero-state-svg[_ngcontent-%COMP%]{width:100%}.zero-state-message[_ngcontent-%COMP%]{font-size:20px;margin-top:12px;text-align:center;width:100%}\n/*# sourceMappingURL=chart_style.css.map */']});
var RIe=class extends J7{constructor(a,b){super();this.chart=a;this.root=b;this.name="bars";this.drawBuffer=new _.nP({width:this.chart._innerWidth,height:this.chart._innerHeight,canvas:document.createElement("canvas"),background:this.chart.colorPivots[0]});this.root.node().appendChild(this.drawBuffer.canvas)}draw(a,b){if(0<a.length){const c=new Set(b&&b.selected||[]);b=a.filter(d=>c.has(d.id||""));0===b.length&&(b=a);this.drawInternal(b[0])}}handleSelectionChange(a,b){this.draw(a,b)}handleResize(a,
b,c){this.drawBuffer.resize(b-c.left-c.right,a-c.top-c.bottom+1)}drawInternal(a){this.drawBuffer.clear();a=a.data.map(b=>{const c=[],d=b.y.bucketCounts,e=this.chart.colorScale,f=this.chart.xScale,g=this.chart.yScale;for(let n=0;d&&n<d.length;n++){if(0===d[n])continue;let [r,v]=_.BP(b,n);var h=r;let w=v;h=g(h);w=g(w);var l=f(b.x);let y=f(b.x0||b.x);l-=y;h-=w;1>l&&(y-=.5,l=1);1>h&&(w-=.5,h=1);c.push({x:y,w:l,y:w,h,fillStyle:e(d[n]),globalAlpha:"1.0"})}return{data:c}},[]);_.pP(this.drawBuffer,a)}};
var SIe=function(a){a.drawBuffer.clear();for(let e=0;e<a.thresholds.length;e++){var b=a,c=a.thresholds[e],d=a.styles[e]||a.defaultStyle;b.drawBuffer.strokeWidth=d.strokeWidth||b.defaultStyle.strokeWidth;b.drawBuffer.fillStyle=d.color||b.defaultStyle.color;b.drawBuffer.strokeStyle=d.color||b.defaultStyle.color;b.drawBuffer.strokeWidth=d.strokeWidth||b.defaultStyle.strokeWidth;b.drawBuffer.dashPattern=d.dashArray||b.defaultStyle.dashArray;d=b.chart.yScale;d=d(c);b.drawBuffer.drawLines([{data:[[0,d],
[b.width-b.margins.right,d]]}]);c=b.yManager.axisFormat.format(c);const f=b.drawBuffer.measureText(c),g=b.drawBuffer.measureText("M");_.Rrc(b.drawBuffer,[{x:b.width-b.margins.right,y:d,w:Math.min(1.25*f,b.margins.right),h:1.5*g,data:{width:7}}],aAe);b.drawBuffer.fillStyle="#fff";_.eP(b.drawBuffer,c,b.width-b.margins.right+7,d)}},TIe=class extends J7{constructor(a,b,c){super();this.chart=a;this.root=b;this.yManager=c;this.name="threshold";this.drawCanvas=this.root.append("canvas").style("position",
"absolute").style("top",0).style("left",0);this.defaultStyle={color:"#d2191d",dashArray:[4,2],strokeWidth:1};this.width=this.chart.widthInternal-this.chart.margins.left;this.height=this.chart._innerHeight+1;this.margins=this.chart.margins;this.thresholds=[];this.styles=[];this.drawBuffer=new _.nP({width:this.width,height:this.height,canvas:this.drawCanvas.node(),fillStyle:this.defaultStyle.color,strokeStyle:this.defaultStyle.color,font:"smaller sans-serif",textBaseline:"middle",strokeWidth:this.defaultStyle.strokeWidth,
dashPattern:this.defaultStyle.dashArray})}draw(){SIe(this)}handleResize(a,b,c){this.height=a-c.top-c.bottom+1;this.width=b-c.left;this.margins=c;this.drawBuffer.resize(this.width,this.height);SIe(this)}handleThresholdChange(a,b){this.thresholds=a;this.styles=b;SIe(this)}};
var UIe=class extends J7{constructor(a,b){super();this.chart=a;this.root=b;this.name="tile";this.drawCanvas=this.root.append("canvas");this.drawBuffer=new _.nP({width:this.chart._innerWidth,height:this.chart._innerHeight+1,canvas:this.drawCanvas.node()});b.classed("fill-tile",!0)}handleResize(a,b,c){this.drawBuffer.resize(b-c.left-c.right,a-c.top-c.bottom+1)}draw(a){this.drawBuffer.clear();a.isLoadingInterval&&(this.drawBuffer.globalAlpha=1,this.drawBuffer.fillStyle=_.grc(this.chart.theme),_.Qrc(this.drawBuffer,
a.isLoadingInterval,this.chart.xScale))}};
var VIe=function(a,b){b=[b[0][0],b[0][1],b[1][1],b[1][0]];a.drawBuffer.strokeStyle="transparent";a.drawBuffer.strokeWidth=0;a.drawBuffer.fillStyle=a.selectionColor;_.qP(a.drawBuffer,b,!0)},WIe=class extends J7{constructor(a,b){super();this.chart=a;this.root=b;this.name="brush";this.drawCanvas=this.root.append("canvas").style("position","absolute").style("top",0).style("left",0);this.height=this.chart._innerHeight+1;this.width=this.chart._innerWidth;this.brushColor="#ccc";this.selectionColor="#b2b2b240";
this.currentAction=0;this.drawBuffer=new _.nP({width:this.width,height:this.height,canvas:this.drawCanvas.node(),strokeWidth:2,strokeStyle:this.brushColor})}handleResize(a,b,c){this.height=a-c.top-c.bottom+1;this.width=b-c.left-c.right;this.drawBuffer.resize(this.width,this.height)}handleBrushChange(a){this.drawBuffer.clear();a.colors&&(this.brushColor=a.colors.brushColor,this.selectionColor=a.colors.selectionColor);switch(a.axis){case "x":var b=a.current,c=this.height,d=[];this.drawBuffer.strokeStyle=
this.brushColor;this.drawBuffer.strokeWidth=2;for(var e of b)b=this.chart.xScale(e),b=[[b,0],[b,c]],d.push(b),_.qP(this.drawBuffer,b,!1,$ze);2===d.length&&VIe(this,d);break;case "y":b=a.current;e=this.width;d=[];this.drawBuffer.strokeStyle=this.brushColor;this.drawBuffer.strokeWidth=2;for(c of b)b=this.chart.yScale(c),b=[[0,b],[e,b]],d.push(b),_.qP(this.drawBuffer,b,!1,$ze);2===d.length&&VIe(this,d)}a=a.action||0;if(a!==this.currentAction)switch(this.currentAction=a,a){case 1:this.chart.setCursor("-webkit-grabbing");
this.chart.setCursor("-moz-grabbing");this.chart.setCursor("grabbing");break;case 2:this.chart.setCursor("ew-resize");break;case 3:this.chart.setCursor("ns-resize");break;case 4:this.chart.setCursor("zoom-in");break;case 5:this.chart.setCursor("zoom-out");break;default:this.chart.setCursor("default")}}};
var XIe=class extends J7{constructor(a,b){super();this.chart=a;this.root=b;this.name="time pin";this.drawCanvas=this.root.append("canvas").style("position","absolute").style("top",0).style("left",0);this.height=this.chart.heightInternal-this.chart.margins.top;this.width=this.chart._innerWidth;this.drawBuffer=new _.nP({width:this.width,height:this.height,canvas:this.drawCanvas.node(),strokeWidth:2,strokeStyle:"#bdbdbd"})}handleResize(a,b,c){this.height=a-c.top;this.width=b-c.left-c.right;this.drawBuffer.resize(this.width,
this.height)}handleBrushChange(a,b){this.drawBuffer.clear();b&&b._date&&(a=this.height,this.drawBuffer.strokeStyle=b._isLocked?"#3468d6":"#bdbdbd",this.drawBuffer.strokeWidth=2,b=this.chart.xScale(b._date),_.qP(this.drawBuffer,[[b,0],[b,a]],!1))}};
var YIe={DARK:{brushColor:"#ccc",selectionColor:"#b2b2b240"},LIGHT:{brushColor:"#ccc",selectionColor:"#b2b2b240"}},ZIe=function(a,b){a.trigger("change:brush",b)},cJe=class extends nIe{constructor(a){super(a);this.base=a;this.xScale=d3.scaleTime();this.brushState={current:[],axis:"x",colors:YIe.LIGHT,action:0};this.zoomStrategy=new $Ie(this);this.hoverManager=new aJe(this);this.disableSelection=this.isLocked=this.singleSelection=!1;this.timePin=new _.jP;a=new WIe(this,this.overlay);const b=new XIe(this,
this.overlay);this.layers.push(a);this.layers.push(b);this.on("proxy:mousemove",()=>this.mouseMove());this.on("proxy:mousedown",()=>this.mouseDown());this.on("proxy:mouseup",()=>this.mouseUp());this.on("proxy:mouseout",()=>this.mouseOut());this.on("proxy:mousewheel",c=>this.mouseScroll(c));this.timePin.onSetChange.subscribe(()=>{this.handleBrushChange()})}get isDragging(){return this.zoomStrategy.isDragging}allowScrollZoomAndPan(a){this.zoomStrategy=a?new bJe(this):new $Ie(this)}enableScrollZoom(){}enableDragPan(){}enableAxisZoom(){}brushSelection(){}brushAllowYSelection(){}trackCursorLocation(){}brush(a){a&&
JSON.stringify(this.brushState.current)!==JSON.stringify(a)&&(this.brushState.current=a,this.brushState.axis="x",this.handleBrushChange())}brushLock(a){this.isLocked=a}mouseMove(){this.hoverManager.mouseMove();this.zoomStrategy.mouseMove()}mouseDown(){this.hoverManager.mouseDown();this.zoomStrategy.mouseDown()}mouseUp(){this.hoverManager.mouseUp();this.zoomStrategy.mouseUp()}mouseOut(){this.hoverManager.mouseOut();this.zoomStrategy.mouseOut()}mouseScroll(a){this.hoverManager.mouseScroll(a);this.zoomStrategy.mouseScroll(a)}handleBrushChange(){const a=
this.brushState,b=this.timePin;L7(this,c=>{c.handleBrushChange(a,b)})}streamIdFromXY(){return null}setCursor(a){this.base.style("cursor",a)}},dJe=class{constructor(a){this.chart=a}mouseMove(){}mouseDown(){}mouseUp(){}mouseOut(){}mouseScroll(){}},eJe=class extends dJe{constructor(){super(...arguments);this.dragStart=[]}get isDragging(){return 2===this.dragStart.length}mouseMove(){var a=this.chart.mousePosInMargin();a=this.chart.xScale.invert(a[0]);const b=this.chart.xScale.domain();a=a>=b[0]&&a<=b[1]?
[a]:[];this.chart.brushState.action=0;ZIe(this.chart,a)}mouseDown(){this.dragStart=this.chart.mousePosInMargin()}mouseUp(){this.dragStart=[];this.chart.brushState.axis="x";this.chart.brushState.action=0;ZIe(this.chart,[]);this.mouseMove()}mouseOut(){this.isDragging&&this.mouseUp()}},$Ie=class extends eJe{constructor(){super(...arguments);this.isSelecting=!1}mouseMove(){const a=this.chart;if(this.isDragging){const d=a.mousePosInMargin();var b=a.xScale.invert(d[0]),c=a.yScale.invert(d[1]);const e=a.brushState.current;
this.isSelecting?"x"===a.brushState.axis?ZIe(a,[e[0],b]):(a.brushState.current=[e[0],c],a.handleBrushChange()):10<Math.abs(d[0]-this.dragStart[0])?(c=a.xScale.invert(this.dragStart[0]),a.brushState={axis:"x",current:[c,b],action:2},this.isSelecting=!0):10<Math.abs(d[1]-this.dragStart[1])&&(b=a.yScale.invert(this.dragStart[1]),a.brushState={current:[b,c],axis:"y",action:3},this.isSelecting=!0)}else a.isLocked||super.mouseMove()}mouseUp(){const a=this.chart.brushState;a.action=0;this.chart.trigger("brushed",
a.current,a.axis,this.chart);this.isSelecting=!1;super.mouseUp()}},bJe=class extends eJe{constructor(){super(...arguments);this.allowScroll=!1}mouseDown(){this.allowScroll=!0;super.mouseDown()}mouseMove(){if(this.isDragging){var a=this.chart.mousePosInMargin(),b=this.chart.xScale.invert(a[0]);const c=+this.chart.xScale.invert(this.dragStart[0])-+b;if(b=this.chart.domainX())b=b.map(d=>new Date(+d+c)),this.chart.trigger("change:pan",b,null,this.chart);this.dragStart=a;a=this.chart.mousePosInMargin();
a=this.chart.xScale.invert(a[0]);this.chart.brushState.action=1;ZIe(this.chart,[a]);this.chart.handleBrushChange()}else super.mouseMove()}mouseOut(){this.allowScroll=!1;super.mouseOut()}mouseUp(){const a=this.chart.domainX();this.chart.brushState.axis="x";this.chart.brushState.action=0;this.chart.trigger("pan_finished",a,null,this.chart);super.mouseUp()}mouseScroll(a){if(a&&this.allowScroll){a.preventDefault();var b=this.chart.mousePosInMargin();b=this.chart.xScale.invert(b[0]);var c=this.chart.domainX();
let d=+b-+c[0];c=+c[1]-+b;a=a.deltaY/53;this.chart.brushState.action=0<=a?5:4;a=(30+a)/30;this.chart.trigger("change:zoom",[new Date(+b-d*a),new Date(+b+c*a)],this.chart);this.chart.handleBrushChange()}}},aJe=class extends dJe{mouseMove(){if(null!=this.chart._dataLayer){var a=this.chart._dataLayer.getState();if(this.chart.isDragging)a.x=null,a.y=null;else{var [b,c]=this.chart.mousePosInMargin();if(this.chart.isPosInMargin(b,c)){const d=this.chart.xStateFromPos(b),e=this.chart.yStateFromPos(c);a.x=
d;a.y=e;this.chart.streamIdFromXY&&(a.hover=this.chart.streamIdFromXY(d,e))}else a.x=null,a.y=null}}}mouseDown(){if(null!=this.chart._dataLayer&&this.chart.streamIdFromXY&&!this.chart.disableSelection){var a=this.chart._dataLayer.getState(),[b,c]=this.chart.mousePosInMargin();if(0<=b&&b<=this.chart._innerWidth&&0<=c&&c<=this.chart._innerHeight){var d=this.chart.xStateFromPos(b);const e=this.chart.yStateFromPos(c);if(d=this.chart.streamIdFromXY(d,e))this.chart.singleSelection&&a.clearSelected(),a.toggleSelected(d)?
this.chart.trigger("ave:lineSelect"):this.chart.trigger("ave:lineDeselect")}}}mouseOut(){if(null!=this.chart._dataLayer){var a=this.chart._dataLayer.getState();a.x=null;a.y=null;a.hover=null;a.title=null}}};
var fJe=class extends J7{constructor(a,b,c,d,e,f,g=!0,h="right"){super();this.root=a;this.chart=b;this.yManager=c;this.height=d;this.width=e;this.margins=f;this.drawYAxisLines=g;this.yAxisPosition=h;this.name="yAxis";this.axisCanvas=this.root.append("canvas");this.theme=_.DN.getColorTheme();this.axisBuffer=new _.nP({width:this.width,height:this.height,canvas:this.axisCanvas.node(),fillStyle:_.ZO("label",this.theme),font:"smaller sans-serif",textBaseline:"middle",strokeWidth:1});this.axisCanvas.classed("sd-chart-base-axis-canvas",
!0)}draw(){this.drawInner(this.width,this.margins)}handleResize(a,b,c){this.width=b;this.margins=c;this.height=a;this.axisBuffer.resize(b,a);this.drawInner(b,c)}setYAxisPosition(a){this.yAxisPosition=a;this.drawInner(this.width,this.margins)}drawInner(a,b){this.axisBuffer.clear();var c=this.yManager._usingScaleMode;this.axisCanvas.classed("ac-scale-linear","LINEAR"===c);this.axisCanvas.classed("ac-scale-log","LOG10"===c);c=this.yManager.axisTicks||[];for(let d=0;d<c.length;d++){const e=c[d],f=this.chart.yScale(e);
this.axisBuffer.strokeStyle=0===d?_.ZO("x-axis",this.theme):_.ZO("major",this.theme);this.drawYAxisLines&&this.axisBuffer.drawLines([{data:[[b.left,b.top+f],[a-b.right,b.top+f]]}]);if("none"!==this.yAxisPosition){const g="right"===this.yAxisPosition?a-b.right:0;_.eP(this.axisBuffer,this.yManager.axisFormat.format(e),g+7,b.top+f)}}}};
var gJe=class extends cJe{constructor(a){var b=new _.AP;super(a);this.base=a;this.yManager=b;this.theme=_.DN.getColorTheme();this.drawYAxisLines=!0;this.yAxisPosition="right";this.yScale=d3.scaleLinear();this._domainCache={};this.margins.top=10;this.margins.bottom=10;this.margins.left="left"===this.yAxisPosition?60:10;this.margins.right="right"===this.yAxisPosition?60:10;this.trigger("change:margin");this.axes.style("position","absolute").style("top","0").style("left","0");this.axisLayer=new fJe(this.axes,
this,this.yManager,this.heightInternal,this.widthInternal,this.margins,this.drawYAxisLines,this.yAxisPosition);this.layers.push(this.axisLayer);this.yManager.on("change:scale",c=>{this.yScale=c;this.trigger("change:yScale",c)});this.yManager.on("change:axis",()=>{this.trigger("should:redraw")});this.on("change:threshold",()=>{});this.on("change:drawYAxisLines",()=>{var c=this.axisLayer;c.drawYAxisLines=this.drawYAxisLines;c.drawInner(c.width,c.margins);this.trigger("should:redraw")},this);this.on("data",
()=>{this.updateYRange()});this.on("change:yAxisPosition",()=>{this.margins.left="left"===this.yAxisPosition?60:10;this.margins.right="right"===this.yAxisPosition?60:10;this.axisLayer.setYAxisPosition(this.yAxisPosition);this.trigger("change:margin");this.trigger("should:redraw")},this);K7(this,"change:selected",()=>this.updateYRange);K7(this,"change:selected",()=>{if(this._dataLayer){const c=this._dataLayer.getState();c&&this.yRebound(this._dataLayer,c.selected)}});a=()=>{this.yManager.changeHeight(this._innerHeight)};
_.RO(a);this.on("change:innerHeight",a)}unit(a){if(a)this.yManager.unit(a);else return this.yManager.unit()}domainY(a){void 0!==a&&null!==a?this.yManager.forceDomain(a):this.yManager.autoDomain()}domainYDelta(){return this.yManager.domainYDelta()}supportAxis(a){return"x"===a||"y"===a}updateYRange(){this.yManager.changeYRange(bAe(this,this.displayData))}yRebound(a,b){0<b.size?this.yManager.pauseBound(!0):this.yManager.pauseBound(!1);this.yManager.autoDomain()}setYAxisValueFormatter(a){this.yManager.setCustomFormatter(a)}setdrawYAxisLines(a){this.drawYAxisLines=
a;this.trigger("change:drawYAxisLines")}setYAxisPosition(a){this.yAxisPosition=a;this.trigger("change:yAxisPosition")}xStateFromPos(a){return this.xScale.invert(a)}yStateFromPos(a){return this.yScale.invert(a)}domainX(a){if(a){const b=this.xScale.domain();_.TN(b,a)||this.xScale.domain(a);return a}return this.xScale.domain()}};
var hJe=class extends gJe{constructor(a){super(a);this.base=a;this.colors=!1;this.modeInner="color";this.isPlot=!0;this.count=0;this.thresholdsInner=[];this.base.classed("sd-2d-chart",!0);a=this.overlay.append("div").style("position","absolute").style("top",0).style("left",0);a=new TIe(this,a,this.yManager);this.layers.push(a);a=this.underlay.append("div").style("position","absolute").style("top",0).style("left",0);a=new UIe(this,a);this.layers.push(a);this.on("change:mode",()=>{if(this.modeInner&&
this.displayData){const b=this.modeInner;L7(this,c=>{c.handleModeChange(b)});this.trigger("should:redraw")}});this.base.on("touchstart",()=>{});this.on("change:innerWidth",()=>{this.xScale.range([0,this._innerWidth]);this.trigger("should:redraw")});this.xScale.range([0,this._innerWidth])}transform(a){a.dataLayer&&a.dataLayer.getIsLoadingInterval&&(a.isLoadingInterval=a.dataLayer.getIsLoadingInterval()||void 0);for(const b of a)b.color||(b.color=this.colorManager.getColor(_.VO(b),b,this));if(this.displayData=
super.transform(a))this.count=this.displayData.length;if(!this.count)return a;this.trigger("data");return this.displayData}generateLegendTokenizer(){const a=this._dataLayer;if(a&&a.generateLabelTemplate)return a.generateLabelTemplate()}mode(a){a&&(this.modeInner=a,this.trigger("change:mode"));return this.modeInner}threshold(a,b){if(a){const c=b||[];this.thresholdsInner=a;L7(this,d=>{d.handleThresholdChange(a,c)});this.updateYRange()}return this.thresholdsInner}};
var iJe=class extends hJe{constructor(a){super(a);this.base=a;this.chartType="heatmap";this.colorPivots=_.Zqc;this.colorScale=d3.scaleLinear().range(this.colorPivots).interpolate(d3.interpolateHcl);this.dataY0=PCe;this.dataY1=QCe;this.base.classed("sd-heatmap-chart",!0);a=this.content.append("div").classed("heatmap",!0).style("position","absolute").style("top",0).style("left",0);this.layers.push(new RIe(this,a));a=()=>{this.rawData&&this.draw(this.rawData)};this.on("should:redraw",_.SO(a));K7(this,
"change:visibility",a);this.on("data",()=>{if(this.rawData){this.yManager.changeScaleMode(_.Qsc(this.rawData)||"LINEAR");var b=this.rawData,c=this.colorScale.domain();b=_.Xsc(b,this.xScale,this.yScale);if(c&&b&&(2!==b.length||void 0!==b[0]||void 0!==b[1])&&(c[0]!==b[0]||c[c.length-1]!==b[b.length-1])){c=b[0];var d=b[1];b=[0];d=(d-c)/(this.colorPivots.length-2);for(let e=0;e<this.colorPivots.length-1;e++)b.push(c+e*d);this.colorScale.domain(b);this.trigger("change:scale","color",b)}}})}transform(a){this.rawData=
a;return super.transform(a)}closestIndexInData(a,b){return _.rP(a,b,!1)}streamIdFromXY(){return null}streamValuesFromXY(a,b){if(!(a instanceof Date&&"number"===typeof b&&this.rawData))return{};var c=this.rawData;const d=this.generateLegendTokenizer();var e=this.yManager.yFormat;const f=this.resourceMetadataNamingFunctions?this.resourceMetadataNamingFunctions.getBoundGlobalFunctions():null;var g=(new _.vP).unit("count"),h=(new _.vP).unit("ratio");const l=this.colorManager;c=c[0];const n=c.id||c.name||
"",r=_.CP(c.data,a,b),v=Math.max(...c.data.map(y=>Math.max(...y.y.bucketCounts)));b=0;let w="";a=_.rP(c.data,a,!0);-1!==a&&c.data[a]&&(b=c.data[a].y.count,w=_.wP(r.count/b,1,h));g=_.wP(r.count,v,g);h=e.format(r.range[0]||0);e=e.format(r.range[1]||0);return{streamId:{value:g,rawStream:c,labels:{percent:w,totalCount:b.toString(),yStart:h,yEnd:e,name:d?d.format(c.metadata||null,f):n,color:l?l.getColor(n):""}}}}streamValuesFromY(){return{}}streamValuesFromX(){return{}}};
var X7=class extends I7{constructor(){super(...arguments);this.height=200;this.proxyEvent=new _.$k;this.traceSelected=new _.$k;this.chartType="exemplars"}ngAfterViewInit(){this.acChart.singleSelection=!0;this.acChart.on("change:selected",(a,b)=>{(a=this.acChart.pointFromId(b.values().next().value))&&this.traceSelected.emit(a)});this.acChart.on("proxyEvent",a=>{this.proxyEvent.emit(a)})}chartTypeSetup(){this.yManager&&this.acChart.setYManager(this.yManager);this.height&&this.acChart.height(this.height)}ngOnChanges(a){a.yManager&&
this.yManager&&this.acChart&&this.acChart.setYManager(this.yManager);a.height&&this.acChart&&this.acChart.height(this.height)}ngOnDestroy(){super.ngOnDestroy();this.acChart&&this.acChart.unsetYManager()}};X7.\u0275fac=function(){let a;return function(b){return(a||(a=_.Xc(X7)))(b||X7)}}();
X7.\u0275cmp=_.q({type:X7,selectors:[["ac-exemplars"]],inputs:{yManager:"yManager",height:"height"},outputs:{proxyEvent:"proxyEvent",traceSelected:"traceSelected"},features:[_.wd,_.Gc],decls:2,vars:0,consts:[["chart",""]],template:function(a){a&1&&_.I(0,"div",null,0)},styles:['.ac-screen-reader-only-content[_ngcontent-%COMP%]{clip:rect(1px, 1px, 1px, 1px);height:1px;margin:0;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px;z-index:-1000}.ac-a11y-focused[_ngcontent-%COMP%]{outline:1px solid blue;outline-offset:-1px}.sd-chart-base-focus-ring[_ngcontent-%COMP%]{margin-bottom:-10px;padding-bottom:10px;width:100%}.sd-chart-base[_ngcontent-%COMP%]{position:relative;color:#b8b8b8;background-color:transparent}.sd-chart-base[_ngcontent-%COMP%]    >svg{font:smaller sans-serif;width:100%;height:100%;position:absolute;top:0;left:0}.sd-chart-base[_ngcontent-%COMP%]    >svg   path{fill:none}.sd-chart-base[_ngcontent-%COMP%]    >svg   .area{stroke:none}.sd-chart-base[_ngcontent-%COMP%]    >svg   text{fill:#b8b8b8}.sd-chart-base[_ngcontent-%COMP%]     .axis .domain{stroke:#999;stroke-width:1.5px}.sd-chart-base[_ngcontent-%COMP%]     .axis line{stroke:#999;stroke-width:1.5px}.sd-chart-base[_ngcontent-%COMP%]     .axis text{fill:#999}.sd-chart-base[_ngcontent-%COMP%]     .brush path.brush-marker{stroke:#ccc;stroke-dasharray:4,4;stroke-width:2px}.sd-chart-base[_ngcontent-%COMP%]     .brush path.brush-marker.time-pin-marker-locked{stroke-width:4;stroke:#3468d6;stroke-dasharray:none}.sd-chart-base[_ngcontent-%COMP%]     .brush path.brush-marker.time-pin-marker-unlocked{stroke-width:4;stroke:#bdbdbd;stroke-dasharray:none}.sd-chart-base[_ngcontent-%COMP%]     .brush path.brush-marker.time-pin-snap-threshold{fill-opacity:.5;stroke:none}.sd-chart-base[_ngcontent-%COMP%]     .brush path.brush-marker.time-pin-hidden{display:none}.sd-chart-base[_ngcontent-%COMP%]     .threshold-group text.threshold-text, .sd-chart-base[_ngcontent-%COMP%]     .threshold-group text.threshold-label{fill:#fff}.sd-chart-base[_ngcontent-%COMP%]     .threshold-group .threshold-text-box, .sd-chart-base[_ngcontent-%COMP%]     .threshold-group .threshold-label-box{fill:#d2191d;stroke:#d2191d}.sd-chart-base[_ngcontent-%COMP%]     .threshold-group .threshold-line{stroke:#d2191d;stroke-dasharray:4,2}.sd-chart-base[form=compact][_ngcontent-%COMP%]{margin:-10px}.sd-chart-base-background[_ngcontent-%COMP%]{fill:transparent}.sd-chart-base-bar[_ngcontent-%COMP%]   .sd-chart-base-axis.x[_ngcontent-%COMP%]   line[_ngcontent-%COMP%]{stroke:#999}.sd-chart-base-brush[_ngcontent-%COMP%]   .extent[_ngcontent-%COMP%]{fill:none;shape-rendering:crispEdges}.sd-chart-base-chart[_ngcontent-%COMP%]   .ac-chart-a11y-label[_ngcontent-%COMP%]{position:absolute}.too-many-lines-warning[_ngcontent-%COMP%]{font-size:13px;padding:16px 0 16px 16px;display:flex;align-items:center}.too-many-lines-warning[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:18px;width:18px;min-width:18px}.too-many-lines-warning[_ngcontent-%COMP%]   .warning-text[_ngcontent-%COMP%]{padding:0 8px}.chart-container[_ngcontent-%COMP%]{position:relative}.chart-message[_ngcontent-%COMP%]{position:absolute;z-index:3;left:0;top:0;width:100%;height:100%;display:flex}.chart-message[_ngcontent-%COMP%]   .chart-message-text[_ngcontent-%COMP%]{font-family:"Roboto",sans-serif;font-size:13px;font-weight:normal;text-align:center;text-shadow:none;width:100%;margin:auto 10px}.chart-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;margin-right:8px;vertical-align:text-top}.chart-message[_ngcontent-%COMP%]   .chart-message-text.y-axis-left[_ngcontent-%COMP%]{margin-left:60px}.chart-message[_ngcontent-%COMP%]   .chart-message-text.y-axis-right[_ngcontent-%COMP%]{margin-right:60px}.chart-warning[_ngcontent-%COMP%]{font-family:sans-serif;font-size:12px;margin:0 0 0 10px;position:absolute;width:100%;z-index:3}.chart-warning-inline[_ngcontent-%COMP%]{margin:0;padding:0}.chart-warning-inline[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{vertical-align:text-top}.partial-error-div[_ngcontent-%COMP%]{display:flex;font-family:"Roboto",sans-serif;font-size:13px;line-height:20px;margin:8px -12px 12px;max-height:80px;overflow:auto;padding:16px 24px 12px}.partial-error-icon[_ngcontent-%COMP%]{flex:0 0 26px}.partial-error-message[_ngcontent-%COMP%]{flex:0 0 1}.band-container[_ngcontent-%COMP%], .circle-container[_ngcontent-%COMP%]{position:absolute;width:100%}.band-on-top[_ngcontent-%COMP%]{z-index:3;pointer-events:none}.percentile-container[_ngcontent-%COMP%]{position:absolute;width:100%;z-index:3;pointer-events:none}.exemplars-container[_ngcontent-%COMP%]{position:absolute;width:100%;z-index:4}.zero-state-frame[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.zero-state-svg[_ngcontent-%COMP%]{width:100%}.zero-state-message[_ngcontent-%COMP%]{font-size:20px;margin-top:12px;text-align:center;width:100%}\n/*# sourceMappingURL=chart_style.css.map */']});
var jJe=class{ngOnInit(){this.values=_.qe(this.valuesAtXY).pipe(_.U(([a])=>this.formatValues(a)))}formatValues(a){var b=Object.keys(a)[0];return b?(a=a[b],b=Math.round(Number(a.value))||a.value,{name:a.labels.spanName,time:Sze(new Date(a.labels.x)),duration:hbe("{latency} ms",{latency:String(b)})}):null}};jJe.\u0275fac=function(a){return new (a||jJe)};
jJe.\u0275cmp=_.q({type:jJe,selectors:[["ac-exemplars-hovercard"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"ac-v2-hovercard"],["colspan","2",1,"datetime"],[1,"list"],[1,"name"],[1,"value"]],template:function(a,b){a&1&&(_.P(0,ibe,18,3,"ng-container",0),_.Zd(1,"async"));a&2&&_.C("ngIf",_.$d(1,1,b.values))},dependencies:[_.ll,_.pl],styles:['[_nghost-%COMP%]{min-width:200px}[_nghost-%COMP%]   .ac-v2-hovercard[_ngcontent-%COMP%]{width:auto;height:auto;pointer-events:none;padding:12px}[_nghost-%COMP%]   .ac-v2-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{height:16px;line-height:16px;font-size:12px}[_nghost-%COMP%]   .ac-v2-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0 3px;text-align:right}[_nghost-%COMP%]   .ac-v2-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.datetime[_ngcontent-%COMP%]{min-width:130px;text-align:left}[_nghost-%COMP%]   .ac-v2-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]{max-width:300px}[_nghost-%COMP%]   .ac-v2-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   td.focus[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   .ac-v2-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   td.fade[_ngcontent-%COMP%]{opacity:.5}[_nghost-%COMP%]   .ac-v2-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:12px;overflow:hidden;text-overflow:ellipsis;height:12px;line-height:16px;top:0;padding:6px 3px 0;vertical-align:top}[_nghost-%COMP%]   .ac-v2-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.key[_ngcontent-%COMP%]{padding-right:4px;width:8px}[_nghost-%COMP%]   .ac-v2-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.key[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{vertical-align:center;display:inline-block;width:8px;height:8px;border-radius:50%}[_nghost-%COMP%]   .ac-v2-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.name[_ngcontent-%COMP%]{text-align:left;max-width:250px;overflow-x:hidden;overflow-y:hidden}[_nghost-%COMP%]   .ac-v2-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.value[_ngcontent-%COMP%], [_nghost-%COMP%]   .ac-v2-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.value2[_ngcontent-%COMP%]{font-weight:bold;text-align:right}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]{width:auto;height:auto;pointer-events:none;padding:12px}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{height:16px;line-height:16px;font-size:12px}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0;text-align:right}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.time-shifted-column-header[_ngcontent-%COMP%]{padding-right:20px}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.datetime[_ngcontent-%COMP%]{font-family:"Roboto",sans-serif;font-weight:500;font-size:12px;line-height:16px;min-width:130px;opacity:.66;text-align:left}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]{max-width:300px}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   td.focus[_ngcontent-%COMP%]{font-size:13px;font-family:"Roboto",sans-serif;font-weight:500;line-height:20px;opacity:1}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   td.hovercard-fade[_ngcontent-%COMP%]{font-size:13px;font-family:"Roboto",sans-serif;font-weight:400;line-height:20px;opacity:.66}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:12px;height:12px;line-height:20px;overflow:hidden;padding:1px 0;text-overflow:ellipsis;top:0;vertical-align:top}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.subhead-spacing[_ngcontent-%COMP%]{padding:8px 0 1px}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.subhead[_ngcontent-%COMP%]{font-family:"Roboto",sans-serif;font-weight:400;font-size:10px;line-height:16px;opacity:.66}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.key[_ngcontent-%COMP%]{padding-right:4px;width:8px}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.key[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{border-radius:50%;display:inline-block;height:8px;vertical-align:center;width:8px}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.name[_ngcontent-%COMP%]{max-width:250px;overflow-x:hidden;overflow-y:hidden;padding-right:20px;text-align:left;word-wrap:break-word}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   div.name[_ngcontent-%COMP%]{max-height:60px}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.value[_ngcontent-%COMP%], [_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.value2[_ngcontent-%COMP%]{text-align:right}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.time-shifted-value[_ngcontent-%COMP%]{padding-right:20px}[_nghost-%COMP%]   .hidden[_ngcontent-%COMP%]{display:none;visibility:hidden}\n/*# sourceMappingURL=hovercard_style.css.map */']});
var Y7=class extends I7{constructor(){super(...arguments);this.height=200;this.chartType="percentile"}ngAfterViewInit(){this.selectionSetSubject&&this.selectionSetSubject.subscribe(a=>{this.acChart.trigger("should:redraw",a)})}chartTypeSetup(){this.yManager&&this.acChart.setYManager(this.yManager);this.height&&this.acChart.height(this.height)}ngOnChanges(a){a.yManager&&this.yManager&&this.acChart&&this.acChart.setYManager(this.yManager);a.height&&this.acChart&&this.acChart.height(this.height)}ngOnDestroy(){super.ngOnDestroy();
this.acChart&&this.acChart.unsetYManager()}};Y7.\u0275fac=function(){let a;return function(b){return(a||(a=_.Xc(Y7)))(b||Y7)}}();Y7.\u0275cmp=_.q({type:Y7,selectors:[["ac-percentile"]],inputs:{yManager:"yManager",height:"height",selectionSetSubject:"selectionSetSubject"},features:[_.wd,_.Gc],decls:2,vars:0,consts:[["chart",""]],template:function(a){a&1&&_.I(0,"div",null,0)},styles:['.ac-screen-reader-only-content[_ngcontent-%COMP%]{clip:rect(1px, 1px, 1px, 1px);height:1px;margin:0;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px;z-index:-1000}.ac-a11y-focused[_ngcontent-%COMP%]{outline:1px solid blue;outline-offset:-1px}.sd-chart-base-focus-ring[_ngcontent-%COMP%]{margin-bottom:-10px;padding-bottom:10px;width:100%}.sd-chart-base[_ngcontent-%COMP%]{position:relative;color:#b8b8b8;background-color:transparent}.sd-chart-base[_ngcontent-%COMP%]    >svg{font:smaller sans-serif;width:100%;height:100%;position:absolute;top:0;left:0}.sd-chart-base[_ngcontent-%COMP%]    >svg   path{fill:none}.sd-chart-base[_ngcontent-%COMP%]    >svg   .area{stroke:none}.sd-chart-base[_ngcontent-%COMP%]    >svg   text{fill:#b8b8b8}.sd-chart-base[_ngcontent-%COMP%]     .axis .domain{stroke:#999;stroke-width:1.5px}.sd-chart-base[_ngcontent-%COMP%]     .axis line{stroke:#999;stroke-width:1.5px}.sd-chart-base[_ngcontent-%COMP%]     .axis text{fill:#999}.sd-chart-base[_ngcontent-%COMP%]     .brush path.brush-marker{stroke:#ccc;stroke-dasharray:4,4;stroke-width:2px}.sd-chart-base[_ngcontent-%COMP%]     .brush path.brush-marker.time-pin-marker-locked{stroke-width:4;stroke:#3468d6;stroke-dasharray:none}.sd-chart-base[_ngcontent-%COMP%]     .brush path.brush-marker.time-pin-marker-unlocked{stroke-width:4;stroke:#bdbdbd;stroke-dasharray:none}.sd-chart-base[_ngcontent-%COMP%]     .brush path.brush-marker.time-pin-snap-threshold{fill-opacity:.5;stroke:none}.sd-chart-base[_ngcontent-%COMP%]     .brush path.brush-marker.time-pin-hidden{display:none}.sd-chart-base[_ngcontent-%COMP%]     .threshold-group text.threshold-text, .sd-chart-base[_ngcontent-%COMP%]     .threshold-group text.threshold-label{fill:#fff}.sd-chart-base[_ngcontent-%COMP%]     .threshold-group .threshold-text-box, .sd-chart-base[_ngcontent-%COMP%]     .threshold-group .threshold-label-box{fill:#d2191d;stroke:#d2191d}.sd-chart-base[_ngcontent-%COMP%]     .threshold-group .threshold-line{stroke:#d2191d;stroke-dasharray:4,2}.sd-chart-base[form=compact][_ngcontent-%COMP%]{margin:-10px}.sd-chart-base-background[_ngcontent-%COMP%]{fill:transparent}.sd-chart-base-bar[_ngcontent-%COMP%]   .sd-chart-base-axis.x[_ngcontent-%COMP%]   line[_ngcontent-%COMP%]{stroke:#999}.sd-chart-base-brush[_ngcontent-%COMP%]   .extent[_ngcontent-%COMP%]{fill:none;shape-rendering:crispEdges}.sd-chart-base-chart[_ngcontent-%COMP%]   .ac-chart-a11y-label[_ngcontent-%COMP%]{position:absolute}.too-many-lines-warning[_ngcontent-%COMP%]{font-size:13px;padding:16px 0 16px 16px;display:flex;align-items:center}.too-many-lines-warning[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:18px;width:18px;min-width:18px}.too-many-lines-warning[_ngcontent-%COMP%]   .warning-text[_ngcontent-%COMP%]{padding:0 8px}.chart-container[_ngcontent-%COMP%]{position:relative}.chart-message[_ngcontent-%COMP%]{position:absolute;z-index:3;left:0;top:0;width:100%;height:100%;display:flex}.chart-message[_ngcontent-%COMP%]   .chart-message-text[_ngcontent-%COMP%]{font-family:"Roboto",sans-serif;font-size:13px;font-weight:normal;text-align:center;text-shadow:none;width:100%;margin:auto 10px}.chart-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;margin-right:8px;vertical-align:text-top}.chart-message[_ngcontent-%COMP%]   .chart-message-text.y-axis-left[_ngcontent-%COMP%]{margin-left:60px}.chart-message[_ngcontent-%COMP%]   .chart-message-text.y-axis-right[_ngcontent-%COMP%]{margin-right:60px}.chart-warning[_ngcontent-%COMP%]{font-family:sans-serif;font-size:12px;margin:0 0 0 10px;position:absolute;width:100%;z-index:3}.chart-warning-inline[_ngcontent-%COMP%]{margin:0;padding:0}.chart-warning-inline[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{vertical-align:text-top}.partial-error-div[_ngcontent-%COMP%]{display:flex;font-family:"Roboto",sans-serif;font-size:13px;line-height:20px;margin:8px -12px 12px;max-height:80px;overflow:auto;padding:16px 24px 12px}.partial-error-icon[_ngcontent-%COMP%]{flex:0 0 26px}.partial-error-message[_ngcontent-%COMP%]{flex:0 0 1}.band-container[_ngcontent-%COMP%], .circle-container[_ngcontent-%COMP%]{position:absolute;width:100%}.band-on-top[_ngcontent-%COMP%]{z-index:3;pointer-events:none}.percentile-container[_ngcontent-%COMP%]{position:absolute;width:100%;z-index:3;pointer-events:none}.exemplars-container[_ngcontent-%COMP%]{position:absolute;width:100%;z-index:4}.zero-state-frame[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.zero-state-svg[_ngcontent-%COMP%]{width:100%}.zero-state-message[_ngcontent-%COMP%]{font-size:20px;margin-top:12px;text-align:center;width:100%}\n/*# sourceMappingURL=chart_style.css.map */']});
var s5=Object.assign({},{MIN:"min",MAX:"max",MEAN:"mean",NEXT_OLDER:"nextOlder",NONE:"none",PERCENTILE_05:"percentile05",PERCENTILE_50:"percentile50",PERCENTILE_95:"percentile95",PERCENTILE_99:"percentile99",SUM:"sum"},{SUM:"sum",NONE:"none"});
var kJe={[s5.MIN]:"Showing the minimum value at each point.",[s5.MAX]:"Showing the maximum value at each point.",[s5.MEAN]:"Showing the average value at each point.",[s5.SUM]:"Showing the sum across timeseries at each point.",[s5.NEXT_OLDER]:"Showing the next-older value at each point.",[s5.NONE]:"No basic mode applied.",[s5.PERCENTILE_05]:"Showing the 5th percentile value at each point.",[s5.PERCENTILE_50]:"Showing the 50th percentile value at each point.",[s5.PERCENTILE_95]:"Showing the 95th percentile value at each point.",
[s5.PERCENTILE_99]:"Showing the 99th percentile value at each point."};
var Z7=class extends v7{constructor(){super(...arguments);this.chartType="subtitle";this.basicMode=this.complexThreshold=null;this.hideAlignmentChip=!1;this.valueDomain=null;this.showResponsive=this.combineToSingleChip=!1;this.drawn=new _.$k}ngOnChanges(a){super.ngOnChanges(a);this.acChart&&(a.yManager&&this.yManager&&this.acChart&&this.acChart.setYManager(this.yManager),a.groupNameLookupFunction&&this.groupNameLookupFunction&&this.acChart.setGroupNameLookupFunction(this.groupNameLookupFunction),
a.complexThreshold&&this.acChart.setComplexThreshold(!!this.complexThreshold),a.unitFunction&&this.unitFunction&&this.acChart&&(this.acChart.unit=this.unitFunction),a.basicMode&&this.setBasicModeInfo(),a.hideAlignmentChip&&this.acChart.setHideAlignmentChip(this.hideAlignmentChip),a.valueDomain&&this.acChart.setValueDomain(this.valueDomain),a.combineToSingleChip&&this.acChart.combineToSingleChip(this.combineToSingleChip),a.showResponsive&&this.acChart.showResponsive(this.showResponsive))}chartTypeSetup(){this.yManager&&
this.acChart.setYManager(this.yManager);this.groupNameLookupFunction&&this.acChart.setGroupNameLookupFunction(this.groupNameLookupFunction);this.unitFunction&&(this.acChart.unit=this.unitFunction);this.acChart.on("ave:subtitleToggle",()=>{this.sendAveEvent("click",this.ve.ChartSubtitleToggle,this.el)});this.acChart.on("draw:end",()=>{this.drawn.emit()});this.setBasicModeInfo();this.acChart.setComplexThreshold(!!this.complexThreshold);this.acChart.setHideAlignmentChip(this.hideAlignmentChip);this.acChart.setValueDomain(this.valueDomain);
this.acChart.combineToSingleChip(this.combineToSingleChip);this.acChart.showResponsive(this.showResponsive)}setBasicModeInfo(){const a=jbe(this.basicMode);this.acChart.setBasicModeInfo(a&&{mode:a,description:kJe[a]})}};Z7.\u0275fac=function(){let a;return function(b){return(a||(a=_.Xc(Z7)))(b||Z7)}}();
Z7.\u0275cmp=_.q({type:Z7,selectors:[["ac-subtitle"]],inputs:{yManager:"yManager",complexThreshold:"complexThreshold",groupNameLookupFunction:"groupNameLookupFunction",unitFunction:"unitFunction",basicMode:"basicMode",hideAlignmentChip:"hideAlignmentChip",valueDomain:"valueDomain",combineToSingleChip:"combineToSingleChip",showResponsive:"showResponsive"},outputs:{drawn:"drawn"},features:[_.wd,_.Gc],decls:2,vars:0,consts:[["chart",""]],template:function(a){a&1&&_.I(0,"div",null,0)},styles:['.chart-card--chart[_ngcontent-%COMP%]   .sd-chart-base[_ngcontent-%COMP%]   .subtitle-div.subtitle-mux[_ngcontent-%COMP%]{margin:10px -13px 0}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .percentile-labels{background-color:#fff;border-radius:5px;color:#303030;font-family:"Roboto",sans-serif;font-size:11px;height:16px;line-height:16px;margin-top:-8px;position:absolute;right:8px;text-align:center;vertical-align:bottom;width:30px}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-div.subtitle-mux{border-width:2px;border-style:solid;margin:0;padding:0px 34px 10px 5px}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-div.single-subtitle-row{white-space:nowrap}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-title{color:rgba(0,0,0,.54);font-family:"Roboto",sans-serif;font-size:12px;height:16px;line-height:16px;margin:10px 6px 6px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     svg.subtitle-collapsible{position:absolute;height:unset;width:unset;left:unset;right:10px}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     svg.subtitle-collapsible path{box-sizing:content-box;color:rgba(0,0,0,.87);fill:rgba(0,0,0,.87)}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-chips{line-height:24px}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-chip{border-radius:24px;display:inline-block;font-family:"Roboto",sans-serif;font-size:12px;font-weight:normal;height:18px;line-height:18px;margin:0 4px;padding:1px 12px;background-color:#e0e0e0;color:rgba(0,0,0,.87)}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-chip.position-relative{position:relative}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-chip.subtitle-capped{background-color:rgba(0,0,0,.54);color:#fff;height:14px;line-height:12px;padding:1px 6px}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-chip.subtitle-chip-status-warn{background-color:#f2a600}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-chip.subtitle-chip-status-error{background-color:#d50000}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-chip span{display:inline;position:static}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-chip svg.filter-icon{display:inline;height:16px;position:static;vertical-align:text-bottom;width:16px}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-chip svg.filter-icon path{fill:currentColor}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-chip .subtitle-tooltip{background-color:#fff;border-radius:2px;box-shadow:0px 2px 4px -1px rgba(0,0,0,.2),0px 4px 5px 0px rgba(0,0,0,.14),0px 1px 10px 0px rgba(0,0,0,.12);color:#000;cursor:pointer;font-size:13px;left:16px;line-height:20px;padding:5px 12px;position:absolute;text-align:left;top:25px;visibility:hidden;z-index:5}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-chip:hover .subtitle-tooltip{visibility:visible}.darkTheme[_ngcontent-%COMP%]   .sd-chart-base[_ngcontent-%COMP%]   .subtitle-title[_ngcontent-%COMP%]{color:rgba(255,255,255,.54)}.darkTheme[_ngcontent-%COMP%]   .sd-chart-base[_ngcontent-%COMP%]   .subtitle-chip[_ngcontent-%COMP%]{background-color:#303030;color:rgba(255,255,255,.87)}.darkTheme[_ngcontent-%COMP%]   .sd-chart-base[_ngcontent-%COMP%]   .subtitle-chip.subtitle-capped[_ngcontent-%COMP%]{background-color:rgba(255,255,255,.54);color:#000}.darkTheme[_ngcontent-%COMP%]   .sd-chart-base[_ngcontent-%COMP%]   .subtitle-chip[_ngcontent-%COMP%]   .subtitle-tooltip[_ngcontent-%COMP%]{background-color:#000;box-shadow:0px 2px 4px -1px rgba(255,255,255,.2),0px 4px 5px 0px rgba(255,255,255,.14),0px 1px 10px 0px rgba(255,255,255,.12);color:#fff}\n/*# sourceMappingURL=subtitle_style.css.map */']});
var ube=function(a){return{"band-on-top":a}},Bbe=function(){return[]},lJe=class extends I7{constructor(){super(...arguments);this.traceSelected=new _.$k;this.subtitlesDrawn=new _.$k;this.chartType="heatmap";this.a11yTitle="Heatmap chart";this.a11yInstructions=this.a11yLegendPreface=this.a11yAxesDescription="";this.exemplarsHovercard=jJe}ngOnChanges(a){super.ngOnChanges(a);a.groupId&&(this.outlierGroupId=a.groupId.currentValue)}createChartGroupChild(){return this.useLegacyCoreChart?super.createChartGroupChild():
new iJe(d3.select(this.chartElementRef.nativeElement))}};lJe.\u0275fac=function(){let a;return function(b){return(a||(a=_.Xc(lJe)))(b||lJe)}}();
lJe.\u0275cmp=_.q({type:lJe,selectors:[["ac-heatmap-chart"]],outputs:{traceSelected:"traceSelected",subtitlesDrawn:"subtitlesDrawn"},features:[_.wd,_.Gc],decls:28,vars:32,consts:function(){return[["class","too-many-lines-warning",4,"ngIf"],["class","partial-error-div","style","display: flex",4,"ngFor","ngForOf"],[1,"chart-container",3,"ve"],["class","subtitle-container",4,"ngIf"],["class","chart-warning",4,"ngIf"],[4,"ngIf"],["role","group",1,"sd-chart-base-focus-ring",3,"keydown","keyup","focus",
"blur"],["chartFocusRing",""],[1,"chart","sd-chart-base-chart",3,"ve","veImpression"],["chart",""],["class","ac-screen-reader-only-content","tabIndex","-1",3,"chartOptions","session","axesDescription","ngStyle",4,"ngIf"],["class","ac-chart-a11y-label ac-screen-reader-only-content",3,"id","ngStyle","focus","blur",4,"ngFor","ngForOf"],["class","chart-message",4,"ngIf"],["class","chart-message",3,"id","fatal",4,"ngIf"],[1,"ac-screen-reader-only-content",3,"id"],[1,"too-many-lines-warning"],["svgIcon",
"ac:warning",1,"icon","mat-18","warning"],[1,"warning-text"],["href","https://cloud.google.com/monitoring/mql/examples#qlx-top","target","_blank",4,"ngIf"],[3,"click"],["href","https://cloud.google.com/monitoring/mql/examples#qlx-top","target","_blank"],[1,"partial-error-div",2,"display","flex"],["svgIcon","ac:warning",1,"icon","mat-18","partial-error-icon"],[1,"partial-error-message"],[1,"subtitle-container"],[3,"dataLayerManager","groupId","groupNameLookupFunction","complexThreshold","unitFunction",
"yManager","basicMode","showResponsive","drawn"],[1,"chart-warning"],["title","This chart requested too much data, consider adding an aggregation or using outlier visualizations to improve performance.",1,"chart-warning-inline"],["svgIcon","ac:info",1,"icon","mat-18","info"],["class","band-container",3,"ngClass",4,"ngFor","ngForOf"],["class","circle-container",4,"ngFor","ngForOf"],["class","percentile-container",4,"ngIf"],["class","exemplars-container",4,"ngIf"],[1,"band-container",3,"ngClass"],[3,
"groupId","dataLayerManager","yManager","yAxisScale","useLegacyCoreChart","height","bandStyle",4,"ngIf"],[3,"groupId","dataLayerManager","yManager","yAxisScale","useLegacyCoreChart","height","bandStyle"],[3,"groupId","dataLayerManager","yManager","yAxisScale","height","useLegacyCoreChart","bandStyle","bandChart"],[1,"circle-container"],[3,"groupId","dataLayerManager","yManager","yAxisScale","height","circleStyle","timePinEnabled","circleChart"],[1,"percentile-container"],[3,"dataLayerManager","groupId",
"yManager","yAxisScale","height","selectionSetSubject"],[1,"exemplars-container"],[3,"dataLayerManager","groupId","yManager","yAxisScale","height","hovercardComponent","proxyEvent","traceSelected"],["tabIndex","-1",1,"ac-screen-reader-only-content",3,"chartOptions","session","axesDescription","ngStyle"],[1,"ac-chart-a11y-label","ac-screen-reader-only-content",3,"id","ngStyle","focus","blur"],["leapfrogLabel",""],[1,"chart-message"],[1,"chart-message-text"],[1,"loading-indicator"],[1,"chart-message",
3,"id"],["svgIcon","ac:warning",1,"icon","mat-18"],[3,"innerHTML"],[4,"ngFor","ngForOf"]," No data "]},template:function(a,b){a&1&&(_.P(0,pbe,6,3,"div",0),_.P(1,qbe,4,1,"div",1),_.Zd(2,"async"),_.E(3,"div",2),_.P(4,rbe,2,8,"div",3),_.P(5,sbe,5,1,"div",4),_.P(6,Cbe,6,6,"ng-container",5),_.E(7,"div",6,7),_.L("keydown",function(c){return b.onKeydown(c)})("keyup",function(c){return b.onKeyup(c)})("focus",function(c){return t5(b,c,!0)})("blur",function(c){return t5(b,c,!1)}),_.Zd(9,"async"),_.Zd(10,"async"),
_.E(11,"div",8,9),_.P(13,Dbe,2,6,"ac-audio-chart",10),_.P(14,Ebe,5,8,"span",11),_.P(15,Fbe,4,1,"div",12),_.P(16,Gbe,4,8,"div",13),_.F(),_.E(17,"div",14)(18,"p"),_.Q(19),_.F()(),_.E(20,"div",14)(21,"p"),_.Q(22),_.F(),_.E(23,"p"),_.Q(24),_.F(),_.P(25,Mbe,3,2,"ng-container",5),_.Zd(26,"async"),_.P(27,Nbe,1,1,"p",5),_.F()()());a&2&&(_.C("ngIf",b.enableSizeWarnings&&b.warningShown),_.x(1),_.C("ngForOf",b.partialErrors(_.$d(2,24,b.dataLayerManager.dataLayerStream))),_.x(2),_.C("ve",b.chartVE),_.x(1),_.C("ngIf",
b.isWhitelisted("chart-subtitles")&&!b.isWhitelisted("chart-subtitles-ng2")&&b.showSubtitles),_.x(1),_.C("ngIf",b.warning),_.x(1),_.C("ngIf",!b.isLoading||b.showBandsWhileLoading),_.x(1),_.Bd("ac-a11y-focused",_.$d(9,26,b.showFocusRing)),_.zd("aria-labelledby",b.a11yLabelledById)("aria-describedby",b.a11yDescribedById)("tabindex",_.$d(10,28,b.timePinFocusable)?-1:0),_.x(4),_.C("ve",b.ve.AwesomeChartImage)("veImpression",!0),_.x(2),_.C("ngIf",b.audioChartActive),_.x(1),_.C("ngForOf",b.a11yLeapfrogLabelIds),
_.x(1),_.C("ngIf",b.isLoading),_.x(1),_.C("ngIf",b.error),_.x(1),_.C("id",b.a11yLabelledById),_.x(2),_.Ud(b.a11yTitle),_.x(1),_.C("id",b.a11yDescribedById),_.x(2),_.Ud(b.a11yAxesDescription),_.x(2),_.Ud(b.a11yInstructions),_.x(1),_.C("ngIf",b.timePinEnabled&&_.$d(26,30,b.a11yLegendStreams)),_.x(2),_.C("ngIf",b.error))},dependencies:[_.qx,_.kl,_.ll,_.xD,N7,_.vo,_.wt,e7,M7,W7,X7,Z7,Y7,_.pl],styles:['.ac-screen-reader-only-content[_ngcontent-%COMP%]{clip:rect(1px, 1px, 1px, 1px);height:1px;margin:0;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px;z-index:-1000}.ac-a11y-focused[_ngcontent-%COMP%]{outline:1px solid blue;outline-offset:-1px}.sd-chart-base-focus-ring[_ngcontent-%COMP%]{margin-bottom:-10px;padding-bottom:10px;width:100%}.sd-chart-base[_ngcontent-%COMP%]{position:relative;color:#b8b8b8;background-color:transparent}.sd-chart-base[_ngcontent-%COMP%]    >svg{font:smaller sans-serif;width:100%;height:100%;position:absolute;top:0;left:0}.sd-chart-base[_ngcontent-%COMP%]    >svg   path{fill:none}.sd-chart-base[_ngcontent-%COMP%]    >svg   .area{stroke:none}.sd-chart-base[_ngcontent-%COMP%]    >svg   text{fill:#b8b8b8}.sd-chart-base[_ngcontent-%COMP%]     .axis .domain{stroke:#999;stroke-width:1.5px}.sd-chart-base[_ngcontent-%COMP%]     .axis line{stroke:#999;stroke-width:1.5px}.sd-chart-base[_ngcontent-%COMP%]     .axis text{fill:#999}.sd-chart-base[_ngcontent-%COMP%]     .brush path.brush-marker{stroke:#ccc;stroke-dasharray:4,4;stroke-width:2px}.sd-chart-base[_ngcontent-%COMP%]     .brush path.brush-marker.time-pin-marker-locked{stroke-width:4;stroke:#3468d6;stroke-dasharray:none}.sd-chart-base[_ngcontent-%COMP%]     .brush path.brush-marker.time-pin-marker-unlocked{stroke-width:4;stroke:#bdbdbd;stroke-dasharray:none}.sd-chart-base[_ngcontent-%COMP%]     .brush path.brush-marker.time-pin-snap-threshold{fill-opacity:.5;stroke:none}.sd-chart-base[_ngcontent-%COMP%]     .brush path.brush-marker.time-pin-hidden{display:none}.sd-chart-base[_ngcontent-%COMP%]     .threshold-group text.threshold-text, .sd-chart-base[_ngcontent-%COMP%]     .threshold-group text.threshold-label{fill:#fff}.sd-chart-base[_ngcontent-%COMP%]     .threshold-group .threshold-text-box, .sd-chart-base[_ngcontent-%COMP%]     .threshold-group .threshold-label-box{fill:#d2191d;stroke:#d2191d}.sd-chart-base[_ngcontent-%COMP%]     .threshold-group .threshold-line{stroke:#d2191d;stroke-dasharray:4,2}.sd-chart-base[form=compact][_ngcontent-%COMP%]{margin:-10px}.sd-chart-base-background[_ngcontent-%COMP%]{fill:transparent}.sd-chart-base-bar[_ngcontent-%COMP%]   .sd-chart-base-axis.x[_ngcontent-%COMP%]   line[_ngcontent-%COMP%]{stroke:#999}.sd-chart-base-brush[_ngcontent-%COMP%]   .extent[_ngcontent-%COMP%]{fill:none;shape-rendering:crispEdges}.sd-chart-base-chart[_ngcontent-%COMP%]   .ac-chart-a11y-label[_ngcontent-%COMP%]{position:absolute}.too-many-lines-warning[_ngcontent-%COMP%]{font-size:13px;padding:16px 0 16px 16px;display:flex;align-items:center}.too-many-lines-warning[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:18px;width:18px;min-width:18px}.too-many-lines-warning[_ngcontent-%COMP%]   .warning-text[_ngcontent-%COMP%]{padding:0 8px}.chart-container[_ngcontent-%COMP%]{position:relative}.chart-message[_ngcontent-%COMP%]{position:absolute;z-index:3;left:0;top:0;width:100%;height:100%;display:flex}.chart-message[_ngcontent-%COMP%]   .chart-message-text[_ngcontent-%COMP%]{font-family:"Roboto",sans-serif;font-size:13px;font-weight:normal;text-align:center;text-shadow:none;width:100%;margin:auto 10px}.chart-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;margin-right:8px;vertical-align:text-top}.chart-message[_ngcontent-%COMP%]   .chart-message-text.y-axis-left[_ngcontent-%COMP%]{margin-left:60px}.chart-message[_ngcontent-%COMP%]   .chart-message-text.y-axis-right[_ngcontent-%COMP%]{margin-right:60px}.chart-warning[_ngcontent-%COMP%]{font-family:sans-serif;font-size:12px;margin:0 0 0 10px;position:absolute;width:100%;z-index:3}.chart-warning-inline[_ngcontent-%COMP%]{margin:0;padding:0}.chart-warning-inline[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{vertical-align:text-top}.partial-error-div[_ngcontent-%COMP%]{display:flex;font-family:"Roboto",sans-serif;font-size:13px;line-height:20px;margin:8px -12px 12px;max-height:80px;overflow:auto;padding:16px 24px 12px}.partial-error-icon[_ngcontent-%COMP%]{flex:0 0 26px}.partial-error-message[_ngcontent-%COMP%]{flex:0 0 1}.band-container[_ngcontent-%COMP%], .circle-container[_ngcontent-%COMP%]{position:absolute;width:100%}.band-on-top[_ngcontent-%COMP%]{z-index:3;pointer-events:none}.percentile-container[_ngcontent-%COMP%]{position:absolute;width:100%;z-index:3;pointer-events:none}.exemplars-container[_ngcontent-%COMP%]{position:absolute;width:100%;z-index:4}.zero-state-frame[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.zero-state-svg[_ngcontent-%COMP%]{width:100%}.zero-state-message[_ngcontent-%COMP%]{font-size:20px;margin-top:12px;text-align:center;width:100%}\n/*# sourceMappingURL=chart_style.css.map */',
'.chart-card--chart[_ngcontent-%COMP%]   .sd-chart-base[_ngcontent-%COMP%]   .subtitle-div.subtitle-mux[_ngcontent-%COMP%]{margin:10px -13px 0}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .percentile-labels{background-color:#fff;border-radius:5px;color:#303030;font-family:"Roboto",sans-serif;font-size:11px;height:16px;line-height:16px;margin-top:-8px;position:absolute;right:8px;text-align:center;vertical-align:bottom;width:30px}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-div.subtitle-mux{border-width:2px;border-style:solid;margin:0;padding:0px 34px 10px 5px}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-div.single-subtitle-row{white-space:nowrap}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-title{color:rgba(0,0,0,.54);font-family:"Roboto",sans-serif;font-size:12px;height:16px;line-height:16px;margin:10px 6px 6px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     svg.subtitle-collapsible{position:absolute;height:unset;width:unset;left:unset;right:10px}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     svg.subtitle-collapsible path{box-sizing:content-box;color:rgba(0,0,0,.87);fill:rgba(0,0,0,.87)}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-chips{line-height:24px}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-chip{border-radius:24px;display:inline-block;font-family:"Roboto",sans-serif;font-size:12px;font-weight:normal;height:18px;line-height:18px;margin:0 4px;padding:1px 12px;background-color:#e0e0e0;color:rgba(0,0,0,.87)}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-chip.position-relative{position:relative}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-chip.subtitle-capped{background-color:rgba(0,0,0,.54);color:#fff;height:14px;line-height:12px;padding:1px 6px}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-chip.subtitle-chip-status-warn{background-color:#f2a600}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-chip.subtitle-chip-status-error{background-color:#d50000}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-chip span{display:inline;position:static}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-chip svg.filter-icon{display:inline;height:16px;position:static;vertical-align:text-bottom;width:16px}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-chip svg.filter-icon path{fill:currentColor}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-chip .subtitle-tooltip{background-color:#fff;border-radius:2px;box-shadow:0px 2px 4px -1px rgba(0,0,0,.2),0px 4px 5px 0px rgba(0,0,0,.14),0px 1px 10px 0px rgba(0,0,0,.12);color:#000;cursor:pointer;font-size:13px;left:16px;line-height:20px;padding:5px 12px;position:absolute;text-align:left;top:25px;visibility:hidden;z-index:5}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-chip:hover .subtitle-tooltip{visibility:visible}.darkTheme[_ngcontent-%COMP%]   .sd-chart-base[_ngcontent-%COMP%]   .subtitle-title[_ngcontent-%COMP%]{color:rgba(255,255,255,.54)}.darkTheme[_ngcontent-%COMP%]   .sd-chart-base[_ngcontent-%COMP%]   .subtitle-chip[_ngcontent-%COMP%]{background-color:#303030;color:rgba(255,255,255,.87)}.darkTheme[_ngcontent-%COMP%]   .sd-chart-base[_ngcontent-%COMP%]   .subtitle-chip.subtitle-capped[_ngcontent-%COMP%]{background-color:rgba(255,255,255,.54);color:#000}.darkTheme[_ngcontent-%COMP%]   .sd-chart-base[_ngcontent-%COMP%]   .subtitle-chip[_ngcontent-%COMP%]   .subtitle-tooltip[_ngcontent-%COMP%]{background-color:#000;box-shadow:0px 2px 4px -1px rgba(255,255,255,.2),0px 4px 5px 0px rgba(255,255,255,.14),0px 1px 10px 0px rgba(255,255,255,.12);color:#fff}\n/*# sourceMappingURL=subtitle_style.css.map */']});
var Obe=function(a){return{"background-color":a}},Pbe=function(){return["name"]},Qbe=function(){return["value","bucket-count"]},Rbe=function(){return["value","bucket-percent"]},Sbe=function(){return["value","bucket-range"]},Ube=function(){return{"ac-v2-hovercard":!0}},mJe=class{constructor(a){this.destroyed=new _.rf(1);this.timezone="localTime";a.timezone.pipe(_.Af(this.destroyed)).subscribe(b=>{this.timezone=b})}ngOnInit(){this.values=_.qe(this.valuesAtXY.pipe(_.yf({})),this.state.x.pipe(_.yf(new Date)),
this.state.y.pipe(_.yf(0))).pipe(_.U(([a,b,c])=>this.formatValues(a,b,c)),_.Af(this.destroyed));this.timeDisplay=this.state.x.pipe(_.U(a=>Sze(a,this.timezone)),_.Af(this.destroyed))}ngOnDestroy(){this.destroyed.next(void 0);this.destroyed.complete()}formatValues(a){const b=Object.keys(a).map(c=>{c=a[c];let d="";c.labels.yEnd&&c.labels.yStart?d=`between ${c.labels.yStart} and ${c.labels.yEnd}`:c.labels.yStart?d=`above ${c.labels.yStart}`:c.labels.yEnd&&(d=`below ${c.labels.yEnd}`);return{name:c.labels.name,
value:c.value,color:c.labels.color||c.rawStream.color||"",percent:c.labels.percent,yRange:d}});return b.length?b:null}};mJe.\u0275fac=function(a){return new (a||mJe)(_.A(t7))};
mJe.\u0275cmp=_.q({type:mJe,selectors:[["ac-heatmap-hovercard"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"ngClass"],["colspan","2",1,"datetime"],[1,"list"],[4,"ngFor","ngForOf"],[1,"key"],[1,"icon",3,"ngStyle"]],template:function(a,b){a&1&&(_.P(0,Vbe,10,6,"ng-container",0),_.Zd(1,"async"));a&2&&_.C("ngIf",_.$d(1,1,b.values))},dependencies:[_.qx,_.kl,_.ll,_.xD,_.pl],styles:['[_nghost-%COMP%]{min-width:200px}[_nghost-%COMP%]   .ac-v2-hovercard[_ngcontent-%COMP%]{width:auto;height:auto;pointer-events:none;padding:12px}[_nghost-%COMP%]   .ac-v2-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{height:16px;line-height:16px;font-size:12px}[_nghost-%COMP%]   .ac-v2-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0 3px;text-align:right}[_nghost-%COMP%]   .ac-v2-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.datetime[_ngcontent-%COMP%]{min-width:130px;text-align:left}[_nghost-%COMP%]   .ac-v2-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]{max-width:300px}[_nghost-%COMP%]   .ac-v2-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   td.focus[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   .ac-v2-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   td.fade[_ngcontent-%COMP%]{opacity:.5}[_nghost-%COMP%]   .ac-v2-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:12px;overflow:hidden;text-overflow:ellipsis;height:12px;line-height:16px;top:0;padding:6px 3px 0;vertical-align:top}[_nghost-%COMP%]   .ac-v2-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.key[_ngcontent-%COMP%]{padding-right:4px;width:8px}[_nghost-%COMP%]   .ac-v2-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.key[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{vertical-align:center;display:inline-block;width:8px;height:8px;border-radius:50%}[_nghost-%COMP%]   .ac-v2-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.name[_ngcontent-%COMP%]{text-align:left;max-width:250px;overflow-x:hidden;overflow-y:hidden}[_nghost-%COMP%]   .ac-v2-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.value[_ngcontent-%COMP%], [_nghost-%COMP%]   .ac-v2-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.value2[_ngcontent-%COMP%]{font-weight:bold;text-align:right}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]{width:auto;height:auto;pointer-events:none;padding:12px}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{height:16px;line-height:16px;font-size:12px}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0;text-align:right}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.time-shifted-column-header[_ngcontent-%COMP%]{padding-right:20px}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.datetime[_ngcontent-%COMP%]{font-family:"Roboto",sans-serif;font-weight:500;font-size:12px;line-height:16px;min-width:130px;opacity:.66;text-align:left}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]{max-width:300px}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   td.focus[_ngcontent-%COMP%]{font-size:13px;font-family:"Roboto",sans-serif;font-weight:500;line-height:20px;opacity:1}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   td.hovercard-fade[_ngcontent-%COMP%]{font-size:13px;font-family:"Roboto",sans-serif;font-weight:400;line-height:20px;opacity:.66}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:12px;height:12px;line-height:20px;overflow:hidden;padding:1px 0;text-overflow:ellipsis;top:0;vertical-align:top}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.subhead-spacing[_ngcontent-%COMP%]{padding:8px 0 1px}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.subhead[_ngcontent-%COMP%]{font-family:"Roboto",sans-serif;font-weight:400;font-size:10px;line-height:16px;opacity:.66}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.key[_ngcontent-%COMP%]{padding-right:4px;width:8px}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.key[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{border-radius:50%;display:inline-block;height:8px;vertical-align:center;width:8px}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.name[_ngcontent-%COMP%]{max-width:250px;overflow-x:hidden;overflow-y:hidden;padding-right:20px;text-align:left;word-wrap:break-word}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   div.name[_ngcontent-%COMP%]{max-height:60px}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.value[_ngcontent-%COMP%], [_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.value2[_ngcontent-%COMP%]{text-align:right}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.time-shifted-value[_ngcontent-%COMP%]{padding-right:20px}[_nghost-%COMP%]   .hidden[_ngcontent-%COMP%]{display:none;visibility:hidden}\n/*# sourceMappingURL=hovercard_style.css.map */']});
var Zbe=function(a){return[a,"value","time-shifted-value"]},ace=function(a){return[a,"value","current-value"]},dce=function(a){return{"background-color":a}},ece=function(a){return[a,"name"]},gce=function(a){return{"ac-v2-hovercard":!0,hidden:a}},nJe=class{constructor(a){this.positionStream=new _.ge;this.destroyed=new _.rf(1);this.timezone="localTime";a.timezone.pipe(_.Af(this.destroyed)).subscribe(b=>{this.timezone=b})}ngOnInit(){this.values=_.qe(this.positionStream.pipe(_.yf({horizontal:1,vertical:1})),
this.state.y.pipe(_.yf(0)),this.valuesAtXY.pipe(_.yf({})),this.state.selected.pipe(_.yf(new Set)),this.state.hover.pipe(_.yf(""))).pipe(_.U(([a,b,c,d,e])=>this.formatValues(a,b,c,d,e)),_.Af(this.destroyed));this.selected=_.qe(this.positionStream.pipe(_.yf({horizontal:1,vertical:1})),this.state.y.pipe(_.yf(0)),this.valuesAtXY.pipe(_.yf({})),this.state.selected.pipe(_.yf(new Set)),this.state.hover.pipe(_.yf(""))).pipe(_.U(([a,b,c,d,e])=>this.formatSelected(a,b,c,d,e)),_.Af(this.destroyed));this.headers=
this.state.x.pipe(_.Af(this.destroyed),_.U(a=>{const b=this.timeshiftOffset?_.xnc(this.timeshiftOffset,a):["",""];return{timeDisplay:Sze(a,this.timezone),currentColumn:b[0],timeShiftedColumn:b[1]}}))}ngOnDestroy(){this.destroyed.next(void 0);this.destroyed.complete()}formatValues(a,b,c,d,e){a=[];b=!e&&!d.size;const f=4>=Object.keys(c).length;for(const g of Object.keys(c)){const h=c[g],l=e===g||d.has(g);if(f||l)h.formattedMinValue?a.push({name:h.labels.name,value:h.value,minValue:h.formattedMinValue,
maxValue:h.formattedMaxValue,rawValue:h.rawValue||h.value,timeShiftedValue:h.labels.timeShiftedValue,color:h.rawStream.color||h.labels.color||"",styleClass:b||l?"focus":"fade"}):a.push({name:h.labels.name,value:h.value,rawValue:h.rawValue||h.value,timeShiftedValue:h.labels.timeShiftedValue,color:h.rawStream.color||h.labels.color||"",styleClass:b||l?"focus":"fade"})}return a}formatSelected(a,b,c,d){a=[];for(const e of Object.keys(c))b=c[e],d.has(e)&&a.push({name:b.labels.name,value:b.value,rawValue:b.rawValue||
b.value,timeShiftedValue:b.labels.timeShiftedValue,color:b.labels.color||b.rawStream.color||"",styleClass:"focus"});return a}};nJe.\u0275fac=function(a){return new (a||nJe)(_.A(t7))};
nJe.\u0275cmp=_.q({type:nJe,selectors:[["ac-line-bar-hovercard"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"ngClass"],[1,"list"],[4,"ngFor","ngForOf"],["colspan","2",1,"datetime"],["class","time-shifted-column-header",4,"ngIf"],["class","current-column-header",4,"ngIf"],[1,"time-shifted-column-header"],[1,"current-column-header"],[1,"key"],[1,"icon",3,"ngStyle"],[3,"ngClass",4,"ngIf"]],template:function(a,b){a&1&&(_.P(0,hce,8,7,"ng-container",0),_.Zd(1,"async"));a&2&&_.C("ngIf",_.$d(1,1,b.values))},dependencies:[_.qx,
_.kl,_.ll,_.xD,_.pl],styles:['[_nghost-%COMP%]{min-width:200px}[_nghost-%COMP%]   .ac-v2-hovercard[_ngcontent-%COMP%]{width:auto;height:auto;pointer-events:none;padding:12px}[_nghost-%COMP%]   .ac-v2-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{height:16px;line-height:16px;font-size:12px}[_nghost-%COMP%]   .ac-v2-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0 3px;text-align:right}[_nghost-%COMP%]   .ac-v2-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.datetime[_ngcontent-%COMP%]{min-width:130px;text-align:left}[_nghost-%COMP%]   .ac-v2-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]{max-width:300px}[_nghost-%COMP%]   .ac-v2-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   td.focus[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   .ac-v2-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   td.fade[_ngcontent-%COMP%]{opacity:.5}[_nghost-%COMP%]   .ac-v2-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:12px;overflow:hidden;text-overflow:ellipsis;height:12px;line-height:16px;top:0;padding:6px 3px 0;vertical-align:top}[_nghost-%COMP%]   .ac-v2-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.key[_ngcontent-%COMP%]{padding-right:4px;width:8px}[_nghost-%COMP%]   .ac-v2-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.key[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{vertical-align:center;display:inline-block;width:8px;height:8px;border-radius:50%}[_nghost-%COMP%]   .ac-v2-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.name[_ngcontent-%COMP%]{text-align:left;max-width:250px;overflow-x:hidden;overflow-y:hidden}[_nghost-%COMP%]   .ac-v2-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.value[_ngcontent-%COMP%], [_nghost-%COMP%]   .ac-v2-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.value2[_ngcontent-%COMP%]{font-weight:bold;text-align:right}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]{width:auto;height:auto;pointer-events:none;padding:12px}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{height:16px;line-height:16px;font-size:12px}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0;text-align:right}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.time-shifted-column-header[_ngcontent-%COMP%]{padding-right:20px}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.datetime[_ngcontent-%COMP%]{font-family:"Roboto",sans-serif;font-weight:500;font-size:12px;line-height:16px;min-width:130px;opacity:.66;text-align:left}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]{max-width:300px}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   td.focus[_ngcontent-%COMP%]{font-size:13px;font-family:"Roboto",sans-serif;font-weight:500;line-height:20px;opacity:1}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   td.hovercard-fade[_ngcontent-%COMP%]{font-size:13px;font-family:"Roboto",sans-serif;font-weight:400;line-height:20px;opacity:.66}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:12px;height:12px;line-height:20px;overflow:hidden;padding:1px 0;text-overflow:ellipsis;top:0;vertical-align:top}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.subhead-spacing[_ngcontent-%COMP%]{padding:8px 0 1px}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.subhead[_ngcontent-%COMP%]{font-family:"Roboto",sans-serif;font-weight:400;font-size:10px;line-height:16px;opacity:.66}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.key[_ngcontent-%COMP%]{padding-right:4px;width:8px}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.key[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{border-radius:50%;display:inline-block;height:8px;vertical-align:center;width:8px}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.name[_ngcontent-%COMP%]{max-width:250px;overflow-x:hidden;overflow-y:hidden;padding-right:20px;text-align:left;word-wrap:break-word}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   div.name[_ngcontent-%COMP%]{max-height:60px}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.value[_ngcontent-%COMP%], [_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.value2[_ngcontent-%COMP%]{text-align:right}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.time-shifted-value[_ngcontent-%COMP%]{padding-right:20px}[_nghost-%COMP%]   .hidden[_ngcontent-%COMP%]{display:none;visibility:hidden}\n/*# sourceMappingURL=hovercard_style.css.map */']});
var oJe=["dummyFocus"],pJe=["dummyFade"],mce=function(a){return[a,"value","time-shifted-value"]},oce=function(a){return[a,"value","current-value"]},qce=function(a){return[a,"value","current-value","stats-mode"]},sce=function(a){return{"background-color":a}},tce=function(a){return[a,"name"]},Bce=function(a){return{"min-width":a}},Gce=function(a){return{"ac-v2-sorted-hovercard":!0,hidden:a}},Hce=function(){return{"background-color":"red"}},Ice=function(){return["hovercard-fade","name"]},Jce=function(){return["hovercard-fade",
"value","current-value"]},Kce=function(){return["focus","name"]},Lce=function(){return["focus","value","current-value"]},qJe=function(a,b,c){var d=a.ellipsizeMemo[b+c];if(d)return d;d="focus"===c?a.dummyFocus:a.dummyFade;if(!d)return b;d=d.nativeElement;var e=_.ck(b);_.H5b(d,e);e=b.split(" ");if(0===d.scrollHeight||0===d.offsetHeight)return b;let f=b;for(;d.scrollHeight>d.offsetHeight;){e.pop();f=e.join(" ")+"...";var g=_.ck(f);_.H5b(d,g)}a.minWidth=Math.max(a.minWidth,d.offsetWidth);return a.ellipsizeMemo[b+
c]=f},rJe=class extends nJe{constructor(){super(...arguments);this.linesBelow=this.linesAbove=0;this.isStacked={value:!1};this.ellipsizeMemo={};this.minWidth=0}formatValues(a,b,c,d,e){d=[];for(const f of Object.keys(c)){const g=c[f],h=e===f?"focus":"hovercard-fade",l=qJe(this,g.labels.name,h);g.formattedMinValue?d.push({name:l,value:g.value,minValue:g.formattedMinValue,maxValue:g.formattedMaxValue,rawValue:g.rawValue||g.value,timeShiftedValue:g.labels.timeShiftedValue,color:g.rawStream.color||g.labels.color||
"",styleClass:h}):d.push({name:l,value:g.value,rawValue:g.rawValue||g.value,timeShiftedValue:g.labels.timeShiftedValue,color:g.rawStream.color||g.labels.color||"",styleClass:h})}this.isStacked.value||d.sort((f,g)=>+g.rawValue-+f.rawValue);c=-1;for(e=0;e<d.length;e++)"focus"===d[e].styleClass&&(c=e);if(-1===c){for(e=0;e<d.length-1;e++)+d[e].rawValue>=b&&b>=+d[e+1].rawValue&&(c=e,d[e].styleClass="focus",d[e+1].styleClass="focus");e<d.length&&+d[e].rawValue>=b&&(c=e,d[e].styleClass="focus")}b=2;0===
a.vertical&&(b=4-b);a=Math.max(0,c-b);b=Math.min(d.length,c+(5-b));a=Math.max(0,a-(5-(b-a)));b=Math.min(d.length,b+(5-(b-a)));this.linesAbove=a;this.linesBelow=d.length-b;return d=d.slice(a,b)}formatSelected(a,b,c,d,e){a=super.formatSelected(a,b,c,d,e);this.isStacked.value||a.sort((f,g)=>+g.rawValue-+f.rawValue);return a}};rJe.\u0275fac=function(){let a;return function(b){return(a||(a=_.Xc(rJe)))(b||rJe)}}();
rJe.\u0275cmp=_.q({type:rJe,selectors:[["ac-line-bar-sorted-hovercard"]],viewQuery:function(a,b){a&1&&(_.Oe(oJe,5),_.Oe(pJe,5));if(a&2){let c;_.Ne(c=_.Qe())&&(b.dummyFocus=c.first);_.Ne(c=_.Qe())&&(b.dummyFade=c.first)}},features:[_.wd],decls:2,vars:3,consts:[[4,"ngIf"],[3,"ngClass"],[1,"list"],[4,"ngFor","ngForOf"],[2,"position","absolute","visibility","hidden"],[1,"key"],[1,"icon",3,"ngStyle"],[1,"name"],["dummyFade",""],["dummyFocus",""],["colspan","2",1,"datetime"],["class","time-shifted-column-header",
4,"ngIf"],["class","current-column-header",4,"ngIf"],[1,"time-shifted-column-header"],[1,"current-column-header"],["colspan","4",1,"subhead","subhead-spacing"],[3,"ngClass",4,"ngIf"],["colspan","4",1,"hovercard-fade","subhead-spacing"],[1,"name",3,"ngStyle"],["colspan","4",1,"hovercard-fade"]],template:function(a,b){a&1&&(_.P(0,Nce,3,3,"ng-container",0),_.Zd(1,"async"));a&2&&_.C("ngIf",_.$d(1,1,b.selected))},dependencies:[_.qx,_.kl,_.ll,_.xD,_.pl],styles:['[_nghost-%COMP%]{min-width:200px}[_nghost-%COMP%]   .ac-v2-hovercard[_ngcontent-%COMP%]{width:auto;height:auto;pointer-events:none;padding:12px}[_nghost-%COMP%]   .ac-v2-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{height:16px;line-height:16px;font-size:12px}[_nghost-%COMP%]   .ac-v2-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0 3px;text-align:right}[_nghost-%COMP%]   .ac-v2-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.datetime[_ngcontent-%COMP%]{min-width:130px;text-align:left}[_nghost-%COMP%]   .ac-v2-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]{max-width:300px}[_nghost-%COMP%]   .ac-v2-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   td.focus[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   .ac-v2-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   td.fade[_ngcontent-%COMP%]{opacity:.5}[_nghost-%COMP%]   .ac-v2-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:12px;overflow:hidden;text-overflow:ellipsis;height:12px;line-height:16px;top:0;padding:6px 3px 0;vertical-align:top}[_nghost-%COMP%]   .ac-v2-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.key[_ngcontent-%COMP%]{padding-right:4px;width:8px}[_nghost-%COMP%]   .ac-v2-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.key[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{vertical-align:center;display:inline-block;width:8px;height:8px;border-radius:50%}[_nghost-%COMP%]   .ac-v2-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.name[_ngcontent-%COMP%]{text-align:left;max-width:250px;overflow-x:hidden;overflow-y:hidden}[_nghost-%COMP%]   .ac-v2-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.value[_ngcontent-%COMP%], [_nghost-%COMP%]   .ac-v2-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.value2[_ngcontent-%COMP%]{font-weight:bold;text-align:right}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]{width:auto;height:auto;pointer-events:none;padding:12px}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{height:16px;line-height:16px;font-size:12px}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0;text-align:right}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.time-shifted-column-header[_ngcontent-%COMP%]{padding-right:20px}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.datetime[_ngcontent-%COMP%]{font-family:"Roboto",sans-serif;font-weight:500;font-size:12px;line-height:16px;min-width:130px;opacity:.66;text-align:left}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]{max-width:300px}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   td.focus[_ngcontent-%COMP%]{font-size:13px;font-family:"Roboto",sans-serif;font-weight:500;line-height:20px;opacity:1}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   td.hovercard-fade[_ngcontent-%COMP%]{font-size:13px;font-family:"Roboto",sans-serif;font-weight:400;line-height:20px;opacity:.66}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:12px;height:12px;line-height:20px;overflow:hidden;padding:1px 0;text-overflow:ellipsis;top:0;vertical-align:top}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.subhead-spacing[_ngcontent-%COMP%]{padding:8px 0 1px}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.subhead[_ngcontent-%COMP%]{font-family:"Roboto",sans-serif;font-weight:400;font-size:10px;line-height:16px;opacity:.66}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.key[_ngcontent-%COMP%]{padding-right:4px;width:8px}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.key[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{border-radius:50%;display:inline-block;height:8px;vertical-align:center;width:8px}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.name[_ngcontent-%COMP%]{max-width:250px;overflow-x:hidden;overflow-y:hidden;padding-right:20px;text-align:left;word-wrap:break-word}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   div.name[_ngcontent-%COMP%]{max-height:60px}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.value[_ngcontent-%COMP%], [_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.value2[_ngcontent-%COMP%]{text-align:right}[_nghost-%COMP%]   .ac-v2-sorted-hovercard[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.time-shifted-value[_ngcontent-%COMP%]{padding-right:20px}[_nghost-%COMP%]   .hidden[_ngcontent-%COMP%]{display:none;visibility:hidden}\n/*# sourceMappingURL=hovercard_style.css.map */']});
var sJe=class extends J7{constructor(a,b){super();this.chart=a;this.root=b;this.name="lines";this.lineBuffer=new _.nP({width:this.chart._innerWidth,height:this.chart._innerHeight+1,canvas:document.createElement("canvas")});this.mode="color";this.root.node().appendChild(this.lineBuffer.canvas)}draw(a){this.lineBuffer.clear();if(0<a.length){const b=a[0]&&a[0].hasMinMaxTuple;switch(this.mode){case "x-ray":this.lineBuffer.strokeFn=null;this.lineBuffer.fillFn=null;this.lineBuffer._supportsOverlay?(this.lineBuffer.strokeStyle=
"rgba(255,255,255,0.3)",this.lineBuffer.fillStyle="rgba(255,255,255,0.3)"):(this.lineBuffer.strokeStyle="rgba(178,197,255,0.3)",this.lineBuffer.fillStyle="rgba(178,197,255,0.3)");break;default:this.lineBuffer.strokeFn=d=>d.color,this.lineBuffer.fillFn=d=>d.color}this.lineBuffer.map=d=>[this.chart.xScale(d.x),this.chart.yScale(d.y)];this.lineBuffer.shiftedMap=d=>[this.chart.shiftedMapX1(d),this.chart.yScale(d.y)];let c=Infinity;this.chart._dataLayer&&(c=this.chart._dataLayer.gapThreshold());this.lineBuffer.drawLines(a,
c,b);"x-ray"===this.mode&&this.lineBuffer._supportsOverlay&&_.Urc(this.lineBuffer)}}handleHoverChange(a,b){this.handleStateChange(b)}handleSelectionChange(a,b){this.handleStateChange(b)}handleResize(a,b,c){this.lineBuffer.resize(b-c.left-c.right,a-c.top-c.bottom+1)}handleModeChange(a){this.mode=a;this.lineBuffer.background="x-ray"===a?"#1a1712":this.lineBuffer.colorChartModeBackground||"transparent"}handleStateChange(a){a.hover||0<a.selected.size?"x-ray"!==this.mode&&(this.lineBuffer.canvas.style.opacity=
.3):this.lineBuffer.canvas.style.opacity=1}};
var tJe=class extends J7{constructor(a,b){super();this.chart=a;this.root=b;this.name="linesSelected";this.lineBuffer=new _.nP({width:this.chart._innerWidth,height:this.chart._innerHeight+1,canvas:document.createElement("canvas"),strokeWidth:2});this.root.node().appendChild(this.lineBuffer.canvas)}draw(a,b){!b&&a.dataLayer&&(b=a.dataLayer.getState());b&&this.drawInternal(a,b)}handleHoverChange(a,b){this.drawInternal(a,b)}handleSelectionChange(a,b){this.drawInternal(a,b)}handleResize(a,b,c){this.lineBuffer.resize(b-
c.left-c.right,a-c.top-c.bottom+1)}handleModeChange(){}drawInternal(a,b){this.lineBuffer.clear();const c=new Set(b.selected);b.hover&&c.add(b.hover);b=a.filter(d=>c.has(d.id||""));if(0<b.length){const d=b[0]&&b[0].hasMinMaxTuple;this.lineBuffer.strokeFn=e=>e.color;this.lineBuffer.fillFn=e=>e.color;this.lineBuffer.map=e=>[this.chart.xScale(e.x),this.chart.yScale(e.y)];this.lineBuffer.shiftedMap=e=>[this.chart.shiftedMapX1(e),this.chart.yScale(e.y)];a=a.dataLayer&&a.dataLayer.gapThreshold()||Infinity;
this.lineBuffer.drawLines(b,a,d)}}};
var uJe=class extends hJe{constructor(a){super(a);this.base=a;this.chartType="line";this.dataY0=LCe;this.dataY1=MCe;this.base.classed("sd-line-chart",!0);a=this.content.append("div").classed("lines",!0).style("position","absolute").style("top",0).style("left",0);this.layers.push(new sJe(this,a));a=this.content.append("div").classed("lines-selected",!0).style("position","absolute").style("top",0).style("left",0);this.layers.push(new tJe(this,a));a=()=>{this.rawData&&this.draw(this.rawData)};this.on("should:redraw",
_.SO(a));K7(this,"change:visibility",a)}setTimeshiftOffset(a){this.timeshiftOffset!==a&&(this.timeshiftOffset=a,this._dataLayer&&this._dataLayer.setTimeshiftOffset&&this._dataLayer.setTimeshiftOffset(a))}findPointStream(a){return this.findNearestLine(a)||{}}findNearestLine(a,b=15){const c=this.displayData||[],d={data:{apply:e=>[this.xScale(e.x),this.yScale(e.y)],invert:e=>({x:this.xScale.invert(e[0]),y:this.yScale.invert(e[1])})}};if(this.timeshiftOffset){const e=this.timeshiftOffset||0;d.shiftedData=
{apply:f=>[this.shiftedMapX1(f),this.yScale(f.y)],invert:f=>({x:new Date(+this.xScale.invert(f[0])+e),y:this.yScale.invert(f[1])})}}a=_.orc(c,a,b,d);if(null!==a)return c[a]}shiftedMapX1(a){return this.xScale(new Date(+a.x-(this.timeshiftOffset||0)))}closestIndexInData(a,b){return _.rP(a,b,!1)}transform(a){this.rawData=a;let b;if("stats"===this.modeInner){const c=(new _.ztc).compute(a);b=_.Btc(c);b.dataLayer=a.dataLayer;a=b;this.trigger("change:stats",c)}return super.transform(a)}streamIdFromXY(){var a=
this.mousePosInMargin();return(a=this.findNearestLine(a))?_.VO(a):null}streamValuesFromXY(a){if(!(a instanceof Date))return{};const b=this.displayData||[],c=this.colorManager,d=this.generateLegendTokenizer(),e=this.yManager.yFormat,f=this.resourceMetadataNamingFunctions?this.resourceMetadataNamingFunctions.getBoundGlobalFunctions():null;return b.reduce((g,h)=>{if(h.hasMinMaxTuple){var l=_.Zrc(h.data,a,!1);if(!l)return{};var n=l[0];l=l[1];var r=h.data[l].min,v=h.data[l].max;if(!r||!v)return{};l=e.format(n);
r=e.format(r);v=e.format(v);const w=this.timeshiftOffset||0;let y="";h.shiftedData&&h.shiftedData.length&&w&&(y=e.format(_.sP(h.shiftedData,new Date(Number(a)+w),!1))||"");if(!h.id)return{};g[h.id]={rawValue:n.toString(),value:l,formattedMinValue:r,formattedMaxValue:v,rawStream:h,labels:{name:d?d.format(h.metadata||null,f):h.id,color:c?c.getColor(h.id):"",timeShiftedValue:y}}}else{n=_.sP(h.data,a,!1);l=e.format(n);r=this.timeshiftOffset||0;v="";h.shiftedData&&h.shiftedData.length&&r&&(v=e.format(_.sP(h.shiftedData,
new Date(Number(a)+r),!1))||"");if(!h.id)return{};g[h.id]={rawValue:n.toString(),value:l,rawStream:h,labels:{name:d?d.format(h.metadata||null,f):h.id,color:c?c.getColor(h.id):"",timeShiftedValue:v}}}return g},{})}streamValuesFromY(){return{}}streamValuesFromX(){return{}}};
var Wce=function(a){return{"band-on-top":a}},bde=function(){return[]},vJe=function(a){if(a.chartGroupManager&&a.yManager&&a.acChart){var b=a.acChart.getTimezonePreference();const c=a.chartGroupManager.domain,d=a.yManager.axisTicks||[];if(c&&2<=c.length&&d&&2<=d.length){b=_.rnc(b)();const e=a.yManager.axisFormat;a.a11yAxesDescription=hbe(u7.LINE_CHART_ACCESSIBILITY_AXES_DESCRIPTION,{xAxisStart:b(X9d(c[0],c)),xAxisEnd:b(X9d(c[c.length-1],c)),yAxisStart:e.format(d[0]),yAxisEnd:e.format(d[d.length-1])})}}},
wJe=function(a,b){if(a.timePinEnabled&&a.timePin){var c=a.timePin.getDate(),d=_.rP(b.theStream.data,c,!1);if(-1!==d){var e=b.theStream.data[d];d=e.x;e=e.y;if(a.acChart.xScale&&a.acChart.margins){var f=a.acChart;var g=f.xScale;var h=f.yScale;var l=f.margins.left;f=f.margins.top}else f=a.acChart,g=f.scale("x"),h=f.scale("y"),l=f.margin("left"),f=f.margin("top");var n=(a.a11yActiveLeapfrogIndex+1)%a.a11yLeapfrogLabelIds.length;if(g&&h&&l&&f&&c&&(c=g(c)+l,e=h(e)+f,a.a11yLeapfrogPositions[a.a11yLeapfrogLabelIds[n]].next({left:`${c}px`,
top:`${e}px`}),e=a.a11yLeapfrogRefs.toArray(),c=e[a.a11yActiveLeapfrogIndex].nativeElement,e=e[n].nativeElement,a.a11yActiveLeapfrogIndex=n,a.a11yEnabled&&(a.document.activeElement===c||a.document.activeElement===a.chartFocusRingElementRef.nativeElement))){const r=Sze(d,"localTime");GHe(b,d);b.displayValueStream.pipe(_.af(1)).subscribe(v=>{a.a11yLeapfrogTexts.set(a.a11yLeapfrogLabelIds[n],a.a11yLabelMaker(`${v} ${r}`,b))});e.focus()}}}},xJe=class extends I7{constructor(a,b,c,d,e,f,g,h,l,n,r){super(a,
b,c,d,e,f,g,l,n,r);this.document=h;this.drawYAxisLines=this.enablePanningInteractions=this.useLegacyCoreChart=!0;this.yAxisPosition="right";this.hideText=!1;this.subtitlesDrawn=new _.$k;this.chartType="line";this.dataLayerManagerStale=_.De(this.destroyed,this.dataLayerManagerSource);this.a11yTitle=u7.LINE_CHART_TITLE_PREFIX;this.a11yAxesDescription="";this.a11yLegendPreface=u7.LINE_CHART_LEGEND_PREFACE;this.a11yLegendPrefaceNoLines=u7.LINE_CHART_LEGEND_PREFACE_NO_LINES;this.a11yInstructions="";this.a11yEnabled=
_.DN.isWhitelisted("chart-a11y");this.a11yLabelMaker=ode();this.a11yLeapfrogLabelIds=[`${this.a11yId}-first-leapfrog-label`,`${this.a11yId}-second-leapfrog-label`];this.a11yLeapfrogPositions=this.a11yLeapfrogLabelIds.reduce((v,w)=>Object.assign(v,{[w]:new _.bg({left:"0px",top:"0px"})}),{})}set timeshiftDuration(a){a&&this.timeshiftDurationSource.next(a)}chartTypeSetup(a){a.setdrawYAxisLines(this.drawYAxisLines);a.setYAxisPosition(this.yAxisPosition);super.chartTypeSetup(a);void 0!==this.acChart.scale&&
this.acChart.hideText(this.hideText)}ngOnInit(){super.ngOnInit();this.title&&(this.a11yTitle=hbe(u7.LINE_CHART_TITLE,{title:this.title}));this.a11yEnabled&&(this.a11yInstructions=u7.LINE_CHART_ACCESSIBILITY_INSTRUCTIONS);this.dataLayerManagerSource.pipe(_.Af(this.destroyed)).subscribe(a=>{this.resourceMetadataNamingFunctions?_.qe(a.isLoadingSource,a.dataLayerStream,this.resourceMetadataNamingFunctions.resourceMetadataFetcher.getInstanceMetadataMapStream()).pipe(_.Af(this.dataLayerManagerStale)).subscribe(([b,
c])=>{c&&!b&&vJe(this)}):(_.qe(a.isLoadingSource,a.dataLayerStream).pipe(_.Af(this.dataLayerManagerStale)).subscribe(([b,c])=>{c&&!b&&vJe(this)}),this.scaleHandler||(this.scaleHandler=()=>{setTimeout(()=>{vJe(this)},0)},this.acChart.on("change:scale",this.scaleHandler)))});this.dataLayerStream.pipe(_.Af(this.destroyed)).subscribe(()=>{});this.timePinEnabled&&this.timePin&&(_.qe([this.timePin.onSetChange,this.a11ySelectedLegendStream]).pipe(_.Af(this.destroyed)).subscribe(([,a])=>{a&&wJe(this,a)}),
this.a11yHandler||(this.a11yHandler=()=>{setTimeout(()=>{vJe(this)},0);this.a11ySelectedLegendStream.pipe(_.af(1)).subscribe(a=>{a&&wJe(this,a)})},this.acChart.on("change:scale",this.a11yHandler)))}ngOnDestroy(){super.ngOnDestroy();this.a11yHandler&&this.acChart.off("change:scale",this.a11yHandler);this.scaleHandler&&this.acChart.off("change:scale",this.scaleHandler)}ngOnChanges(a){super.ngOnChanges(a);a.groupId&&(this.outlierGroupId=a.groupId.currentValue);a.hideText&&this.acChart&&void 0!==this.acChart.scale&&
this.acChart.hideText(a.hideText.currentValue)}createChartGroupChild(){return this.useLegacyCoreChart?super.createChartGroupChild():new uJe(d3.select(this.chartElementRef.nativeElement))}};xJe.\u0275fac=function(a){return new (a||xJe)(_.A(n7),_.A(_.Jf),_.A(q7),_.A(o7),_.A(_.el),_.A(t7),_.A(_.ad),_.A(_.Pg),_.A(_.ut,8),_.A(s7),_.A(p7))};
xJe.\u0275cmp=_.q({type:xJe,selectors:[["ac-line-chart"]],inputs:{timeshiftDuration:"timeshiftDuration",useLegacyCoreChart:"useLegacyCoreChart",enablePanningInteractions:"enablePanningInteractions",drawYAxisLines:"drawYAxisLines",yAxisPosition:"yAxisPosition",hideText:"hideText",a11yEnabled:"a11yEnabled"},outputs:{subtitlesDrawn:"subtitlesDrawn"},features:[_.wd,_.Gc],decls:28,vars:32,consts:function(){return[["class","too-many-lines-warning",4,"ngIf"],["class","partial-error-div","style","display: flex",
4,"ngFor","ngForOf"],[1,"chart-container",3,"ve"],["class","subtitle-container",4,"ngIf"],["class","chart-warning",4,"ngIf"],[4,"ngIf"],["role","group",1,"sd-chart-base-focus-ring",3,"keydown","keyup","focus","blur"],["chartFocusRing",""],[1,"chart","sd-chart-base-chart",3,"ve","veImpression"],["chart",""],["class","ac-screen-reader-only-content","tabIndex","-1",3,"chartOptions","session","axesDescription","ngStyle",4,"ngIf"],["class","ac-chart-a11y-label ac-screen-reader-only-content",3,"id","ngStyle",
"focus","blur",4,"ngFor","ngForOf"],["class","chart-message",4,"ngIf"],["class","chart-message",3,"id","fatal",4,"ngIf"],[1,"ac-screen-reader-only-content",3,"id"],[1,"too-many-lines-warning"],["svgIcon","ac:warning",1,"icon","mat-18","warning"],[1,"warning-text"],["href","https://cloud.google.com/monitoring/mql/examples#qlx-top","target","_blank",4,"ngIf"],[3,"click"],["href","https://cloud.google.com/monitoring/mql/examples#qlx-top","target","_blank"],[1,"partial-error-div",2,"display","flex"],
["svgIcon","ac:warning",1,"icon","mat-18","partial-error-icon"],[1,"partial-error-message"],[1,"subtitle-container"],[3,"dataLayerManager","groupId","groupNameLookupFunction","complexThreshold","unitFunction","yManager","basicMode","showResponsive","drawn"],[1,"chart-warning"],["title","This chart requested too much data, consider adding an aggregation or using outlier visualizations to improve performance.",1,"chart-warning-inline"],["svgIcon","ac:info",1,"icon","mat-18","info"],["class","band-container",
3,"ngClass",4,"ngFor","ngForOf"],["class","circle-container",4,"ngFor","ngForOf"],["class","percentile-container",4,"ngIf"],["class","exemplars-container",4,"ngIf"],[1,"band-container",3,"ngClass"],[3,"groupId","dataLayerManager","yManager","yAxisScale","useLegacyCoreChart","height","bandStyle",4,"ngIf"],[3,"groupId","dataLayerManager","yManager","yAxisScale","useLegacyCoreChart","height","bandStyle"],[3,"groupId","dataLayerManager","yManager","yAxisScale","height","useLegacyCoreChart","bandStyle",
"bandChart"],[1,"circle-container"],[3,"groupId","dataLayerManager","yManager","yAxisScale","height","circleStyle","timePinEnabled","circleChart"],[1,"percentile-container"],[3,"dataLayerManager","groupId","yManager","yAxisScale","height","selectionSetSubject"],[1,"exemplars-container"],[3,"dataLayerManager","groupId","yManager","yAxisScale","height","hovercardComponent","proxyEvent","traceSelected"],["tabIndex","-1",1,"ac-screen-reader-only-content",3,"chartOptions","session","axesDescription","ngStyle"],
[1,"ac-chart-a11y-label","ac-screen-reader-only-content",3,"id","ngStyle","focus","blur"],["leapfrogLabel",""],[1,"chart-message"],[1,"chart-message-text"],[1,"loading-indicator"],[1,"chart-message",3,"id"],["svgIcon","ac:warning",1,"icon","mat-18"],[3,"innerHTML"],[4,"ngFor","ngForOf"]," No data "]},template:function(a,b){a&1&&(_.P(0,Rce,6,3,"div",0),_.P(1,Sce,4,1,"div",1),_.Zd(2,"async"),_.E(3,"div",2),_.P(4,Tce,2,8,"div",3),_.P(5,Uce,5,1,"div",4),_.P(6,cde,6,6,"ng-container",5),_.E(7,"div",6,7),
_.L("keydown",function(c){return b.onKeydown(c)})("keyup",function(c){return b.onKeyup(c)})("focus",function(c){return t5(b,c,!0)})("blur",function(c){return t5(b,c,!1)}),_.Zd(9,"async"),_.Zd(10,"async"),_.E(11,"div",8,9),_.P(13,dde,2,6,"ac-audio-chart",10),_.P(14,ede,5,8,"span",11),_.P(15,fde,4,1,"div",12),_.P(16,gde,4,8,"div",13),_.F(),_.E(17,"div",14)(18,"p"),_.Q(19),_.F()(),_.E(20,"div",14)(21,"p"),_.Q(22),_.F(),_.E(23,"p"),_.Q(24),_.F(),_.P(25,mde,3,2,"ng-container",5),_.Zd(26,"async"),_.P(27,
nde,1,1,"p",5),_.F()()());a&2&&(_.C("ngIf",b.enableSizeWarnings&&b.warningShown),_.x(1),_.C("ngForOf",b.partialErrors(_.$d(2,24,b.dataLayerManager.dataLayerStream))),_.x(2),_.C("ve",b.chartVE),_.x(1),_.C("ngIf",b.isWhitelisted("chart-subtitles")&&!b.isWhitelisted("chart-subtitles-ng2")&&b.showSubtitles),_.x(1),_.C("ngIf",b.warning),_.x(1),_.C("ngIf",!b.isLoading||b.showBandsWhileLoading),_.x(1),_.Bd("ac-a11y-focused",_.$d(9,26,b.showFocusRing)),_.zd("aria-labelledby",b.a11yLabelledById)("aria-describedby",
b.a11yDescribedById)("tabindex",_.$d(10,28,b.timePinFocusable)?-1:0),_.x(4),_.C("ve",b.ve.AwesomeChartImage)("veImpression",!0),_.x(2),_.C("ngIf",b.audioChartActive),_.x(1),_.C("ngForOf",b.a11yLeapfrogLabelIds),_.x(1),_.C("ngIf",b.isLoading),_.x(1),_.C("ngIf",b.error),_.x(1),_.C("id",b.a11yLabelledById),_.x(2),_.Ud(b.a11yTitle),_.x(1),_.C("id",b.a11yDescribedById),_.x(2),_.Ud(b.a11yAxesDescription),_.x(2),_.Ud(b.a11yInstructions),_.x(1),_.C("ngIf",b.timePinEnabled&&_.$d(26,30,b.a11yLegendStreams)),
_.x(2),_.C("ngIf",b.error))},dependencies:[_.qx,_.kl,_.ll,_.xD,N7,_.vo,_.wt,e7,M7,W7,X7,Z7,Y7,_.pl],styles:['.ac-screen-reader-only-content[_ngcontent-%COMP%]{clip:rect(1px, 1px, 1px, 1px);height:1px;margin:0;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px;z-index:-1000}.ac-a11y-focused[_ngcontent-%COMP%]{outline:1px solid blue;outline-offset:-1px}.sd-chart-base-focus-ring[_ngcontent-%COMP%]{margin-bottom:-10px;padding-bottom:10px;width:100%}.sd-chart-base[_ngcontent-%COMP%]{position:relative;color:#b8b8b8;background-color:transparent}.sd-chart-base[_ngcontent-%COMP%]    >svg{font:smaller sans-serif;width:100%;height:100%;position:absolute;top:0;left:0}.sd-chart-base[_ngcontent-%COMP%]    >svg   path{fill:none}.sd-chart-base[_ngcontent-%COMP%]    >svg   .area{stroke:none}.sd-chart-base[_ngcontent-%COMP%]    >svg   text{fill:#b8b8b8}.sd-chart-base[_ngcontent-%COMP%]     .axis .domain{stroke:#999;stroke-width:1.5px}.sd-chart-base[_ngcontent-%COMP%]     .axis line{stroke:#999;stroke-width:1.5px}.sd-chart-base[_ngcontent-%COMP%]     .axis text{fill:#999}.sd-chart-base[_ngcontent-%COMP%]     .brush path.brush-marker{stroke:#ccc;stroke-dasharray:4,4;stroke-width:2px}.sd-chart-base[_ngcontent-%COMP%]     .brush path.brush-marker.time-pin-marker-locked{stroke-width:4;stroke:#3468d6;stroke-dasharray:none}.sd-chart-base[_ngcontent-%COMP%]     .brush path.brush-marker.time-pin-marker-unlocked{stroke-width:4;stroke:#bdbdbd;stroke-dasharray:none}.sd-chart-base[_ngcontent-%COMP%]     .brush path.brush-marker.time-pin-snap-threshold{fill-opacity:.5;stroke:none}.sd-chart-base[_ngcontent-%COMP%]     .brush path.brush-marker.time-pin-hidden{display:none}.sd-chart-base[_ngcontent-%COMP%]     .threshold-group text.threshold-text, .sd-chart-base[_ngcontent-%COMP%]     .threshold-group text.threshold-label{fill:#fff}.sd-chart-base[_ngcontent-%COMP%]     .threshold-group .threshold-text-box, .sd-chart-base[_ngcontent-%COMP%]     .threshold-group .threshold-label-box{fill:#d2191d;stroke:#d2191d}.sd-chart-base[_ngcontent-%COMP%]     .threshold-group .threshold-line{stroke:#d2191d;stroke-dasharray:4,2}.sd-chart-base[form=compact][_ngcontent-%COMP%]{margin:-10px}.sd-chart-base-background[_ngcontent-%COMP%]{fill:transparent}.sd-chart-base-bar[_ngcontent-%COMP%]   .sd-chart-base-axis.x[_ngcontent-%COMP%]   line[_ngcontent-%COMP%]{stroke:#999}.sd-chart-base-brush[_ngcontent-%COMP%]   .extent[_ngcontent-%COMP%]{fill:none;shape-rendering:crispEdges}.sd-chart-base-chart[_ngcontent-%COMP%]   .ac-chart-a11y-label[_ngcontent-%COMP%]{position:absolute}.too-many-lines-warning[_ngcontent-%COMP%]{font-size:13px;padding:16px 0 16px 16px;display:flex;align-items:center}.too-many-lines-warning[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:18px;width:18px;min-width:18px}.too-many-lines-warning[_ngcontent-%COMP%]   .warning-text[_ngcontent-%COMP%]{padding:0 8px}.chart-container[_ngcontent-%COMP%]{position:relative}.chart-message[_ngcontent-%COMP%]{position:absolute;z-index:3;left:0;top:0;width:100%;height:100%;display:flex}.chart-message[_ngcontent-%COMP%]   .chart-message-text[_ngcontent-%COMP%]{font-family:"Roboto",sans-serif;font-size:13px;font-weight:normal;text-align:center;text-shadow:none;width:100%;margin:auto 10px}.chart-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;margin-right:8px;vertical-align:text-top}.chart-message[_ngcontent-%COMP%]   .chart-message-text.y-axis-left[_ngcontent-%COMP%]{margin-left:60px}.chart-message[_ngcontent-%COMP%]   .chart-message-text.y-axis-right[_ngcontent-%COMP%]{margin-right:60px}.chart-warning[_ngcontent-%COMP%]{font-family:sans-serif;font-size:12px;margin:0 0 0 10px;position:absolute;width:100%;z-index:3}.chart-warning-inline[_ngcontent-%COMP%]{margin:0;padding:0}.chart-warning-inline[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{vertical-align:text-top}.partial-error-div[_ngcontent-%COMP%]{display:flex;font-family:"Roboto",sans-serif;font-size:13px;line-height:20px;margin:8px -12px 12px;max-height:80px;overflow:auto;padding:16px 24px 12px}.partial-error-icon[_ngcontent-%COMP%]{flex:0 0 26px}.partial-error-message[_ngcontent-%COMP%]{flex:0 0 1}.band-container[_ngcontent-%COMP%], .circle-container[_ngcontent-%COMP%]{position:absolute;width:100%}.band-on-top[_ngcontent-%COMP%]{z-index:3;pointer-events:none}.percentile-container[_ngcontent-%COMP%]{position:absolute;width:100%;z-index:3;pointer-events:none}.exemplars-container[_ngcontent-%COMP%]{position:absolute;width:100%;z-index:4}.zero-state-frame[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.zero-state-svg[_ngcontent-%COMP%]{width:100%}.zero-state-message[_ngcontent-%COMP%]{font-size:20px;margin-top:12px;text-align:center;width:100%}\n/*# sourceMappingURL=chart_style.css.map */',
'.chart-card--chart[_ngcontent-%COMP%]   .sd-chart-base[_ngcontent-%COMP%]   .subtitle-div.subtitle-mux[_ngcontent-%COMP%]{margin:10px -13px 0}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .percentile-labels{background-color:#fff;border-radius:5px;color:#303030;font-family:"Roboto",sans-serif;font-size:11px;height:16px;line-height:16px;margin-top:-8px;position:absolute;right:8px;text-align:center;vertical-align:bottom;width:30px}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-div.subtitle-mux{border-width:2px;border-style:solid;margin:0;padding:0px 34px 10px 5px}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-div.single-subtitle-row{white-space:nowrap}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-title{color:rgba(0,0,0,.54);font-family:"Roboto",sans-serif;font-size:12px;height:16px;line-height:16px;margin:10px 6px 6px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     svg.subtitle-collapsible{position:absolute;height:unset;width:unset;left:unset;right:10px}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     svg.subtitle-collapsible path{box-sizing:content-box;color:rgba(0,0,0,.87);fill:rgba(0,0,0,.87)}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-chips{line-height:24px}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-chip{border-radius:24px;display:inline-block;font-family:"Roboto",sans-serif;font-size:12px;font-weight:normal;height:18px;line-height:18px;margin:0 4px;padding:1px 12px;background-color:#e0e0e0;color:rgba(0,0,0,.87)}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-chip.position-relative{position:relative}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-chip.subtitle-capped{background-color:rgba(0,0,0,.54);color:#fff;height:14px;line-height:12px;padding:1px 6px}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-chip.subtitle-chip-status-warn{background-color:#f2a600}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-chip.subtitle-chip-status-error{background-color:#d50000}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-chip span{display:inline;position:static}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-chip svg.filter-icon{display:inline;height:16px;position:static;vertical-align:text-bottom;width:16px}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-chip svg.filter-icon path{fill:currentColor}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-chip .subtitle-tooltip{background-color:#fff;border-radius:2px;box-shadow:0px 2px 4px -1px rgba(0,0,0,.2),0px 4px 5px 0px rgba(0,0,0,.14),0px 1px 10px 0px rgba(0,0,0,.12);color:#000;cursor:pointer;font-size:13px;left:16px;line-height:20px;padding:5px 12px;position:absolute;text-align:left;top:25px;visibility:hidden;z-index:5}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-chip:hover .subtitle-tooltip{visibility:visible}.darkTheme[_ngcontent-%COMP%]   .sd-chart-base[_ngcontent-%COMP%]   .subtitle-title[_ngcontent-%COMP%]{color:rgba(255,255,255,.54)}.darkTheme[_ngcontent-%COMP%]   .sd-chart-base[_ngcontent-%COMP%]   .subtitle-chip[_ngcontent-%COMP%]{background-color:#303030;color:rgba(255,255,255,.87)}.darkTheme[_ngcontent-%COMP%]   .sd-chart-base[_ngcontent-%COMP%]   .subtitle-chip.subtitle-capped[_ngcontent-%COMP%]{background-color:rgba(255,255,255,.54);color:#000}.darkTheme[_ngcontent-%COMP%]   .sd-chart-base[_ngcontent-%COMP%]   .subtitle-chip[_ngcontent-%COMP%]   .subtitle-tooltip[_ngcontent-%COMP%]{background-color:#000;box-shadow:0px 2px 4px -1px rgba(255,255,255,.2),0px 4px 5px 0px rgba(255,255,255,.14),0px 1px 10px 0px rgba(255,255,255,.12);color:#fff}\n/*# sourceMappingURL=subtitle_style.css.map */']});
var yJe=class extends J7{constructor(a,b){super();this.chart=a;this.root=b;this.name="area";this.areaBuffer=new _.nP({width:this.chart._innerWidth,height:this.chart._innerHeight+1,canvas:document.createElement("canvas")});this.linesBuffer=new _.nP({width:this.chart._innerWidth,height:this.chart._innerHeight+1,canvas:document.createElement("canvas")});this.mode="color";a=this.root.node();a.appendChild(this.areaBuffer.canvas);a.appendChild(this.linesBuffer.canvas);b.select("canvas").style("position",
"absolute").style("top",0).style("left",0)}draw(a){this.linesBuffer.clear();this.areaBuffer.clear();if(0<a.length){switch(this.mode){case "x-ray":this.linesBuffer.strokeFn=null;this.areaBuffer.fillFn=null;this.linesBuffer._supportsOverlay?(this.linesBuffer.strokeStyle="rgba(255,255,255,0.3)",this.areaBuffer.fillStyle="rgba(255,255,255,0.3)"):(this.linesBuffer.strokeStyle="rgba(178,197,255,0.3)",this.areaBuffer.fillStyle="rgba(178,197,255,0.3)");break;default:this.linesBuffer.strokeFn=b=>b.color,this.areaBuffer.fillFn=
b=>b.color}this.drawLines(a);this.drawAreas(a)}}handleHoverChange(a,b){this.handleStateChange(b)}handleSelectionChange(a,b){this.handleStateChange(b)}handleResize(a,b,c){a=a-c.top-c.bottom;b=b-c.left-c.right;this.areaBuffer.resize(b,a+1);this.linesBuffer.resize(b,a+1)}handleModeChange(a){this.mode=a;this.areaBuffer.background="x-ray"===a?"#1a1712":this.areaBuffer.colorChartModeBackground||"transparent"}handleStateChange(a){a.hover||0<a.selected.size?"x-ray"!==this.mode&&(this.linesBuffer.canvas.style.opacity=
.3,this.areaBuffer.canvas.style.opacity=.3):(this.linesBuffer.canvas.style.opacity=1,this.areaBuffer.canvas.style.opacity=1)}drawLines(a){this.linesBuffer.map=b=>[this.chart.xScale(b.x),this.chart.yScale(b.y1||b.y)];this.linesBuffer.drawLines(a);"x-ray"===this.mode&&this.linesBuffer._supportsOverlay&&_.Urc(this.linesBuffer)}drawAreas(a){this.areaBuffer.map=b=>[this.chart.xScale(b.x),this.chart.yScale(b.y1||b.y)];this.areaBuffer.drawAreas(a,b=>({x:b.x,y:b.y0||0}),b=>({x:b.x,y:b.y1||b.y}))}};
var zJe=class extends J7{constructor(a,b){super();this.chart=a;this.root=b;this.name="areaSelected";this.areaBuffer=new _.nP({width:this.chart._innerWidth,height:this.chart._innerHeight+1,canvas:document.createElement("canvas")});this.linesBuffer=new _.nP({width:this.chart._innerWidth,height:this.chart._innerHeight+1,canvas:document.createElement("canvas"),strokeWidth:2});this.mode="color";a=this.root.node();a.appendChild(this.areaBuffer.canvas);a.appendChild(this.linesBuffer.canvas);b.select("canvas").style("position",
"absolute").style("top",0).style("left",0)}draw(a,b){!b&&a.dataLayer&&(b=a.dataLayer.getState());b&&this.drawInternal(a,b)}handleHoverChange(a,b){this.drawInternal(a,b)}handleSelectionChange(a,b){this.drawInternal(a,b)}handleResize(a,b,c){a=a-c.top-c.bottom;b=b-c.left-c.right;this.areaBuffer.resize(b,a+1);this.linesBuffer.resize(b,a+1)}drawInternal(a,b){this.linesBuffer.clear();this.areaBuffer.clear();const c=new Set(b.selected);b.hover&&c.add(b.hover);a=a.filter(d=>c.has(d.id||""));0<a.length&&(this.linesBuffer.strokeFn=
d=>d.color,this.areaBuffer.fillFn=d=>d.color,this.drawLines(a),this.drawAreas(a))}drawLines(a){this.linesBuffer.map=b=>[this.chart.xScale(b.x),this.chart.yScale(b.y1||b.y)];this.linesBuffer.drawLines(a);"x-ray"===this.mode&&this.linesBuffer._supportsOverlay&&_.Urc(this.linesBuffer)}drawAreas(a){this.areaBuffer.map=b=>b;this.areaBuffer.drawAreas(a,b=>[this.chart.xScale(b.x),this.chart.yScale(b.y0||0)],b=>[this.chart.xScale(b.x),this.chart.yScale(b.y1||b.y)])}};
var AJe=_.LO("stackedAreaChart"),BJe=function(a,b,c=-Infinity,d=Math.max){let e={},f=new Date(0);b.reduce((g,h,l)=>{const n=a[l].data[h];let r=c;void 0!==n&&(r=+n.x);const v=d(r,g);v!==g?(e={},e[l]=h,f=n.x):r===g&&(e[l]=h);return v},c);return[f,e]},CJe=function(a){if(!a||!a.length)return a;var b=0;for(var c=0;c<a.length&&0===b;c++)b=_.bP(a[c].data);if(0===b)return a;var d=Array(a.length).fill(0);let e=0;c=[];for(var f=0;f<a.length;f++)c.push([]),0===a[f].data.length&&e++;const [g,h]=1===b?[Math.min,
Infinity]:[Math.max,-Infinity];for(;e<a.length;){const [l,n]=BJe(a,d,h,g);b=l;f=n;for(let r=0;r<a.length;r++){const v=a[r],w=c[r];void 0!==f[r]?(w.push(v.data[f[r]]),d[r]++,d[r]>=v.data.length&&e++):w.push({y:0,x:b})}}for(d=0;d<a.length;d++)a[d].data=c[d];_.stc(a);return a},DJe=class extends hJe{constructor(a){super(a);this.base=a;this.chartType="stacked-area";this.dataY0=NCe;this.dataY1=OCe;this.base.classed("sd-line-chart",!0);a=this.content.append("div").classed("area",!0).style("position","absolute").style("top",
0).style("left",0);this.layers.push(new yJe(this,a));a=this.content.append("div").classed("lines-selected",!0).style("position","absolute").style("top",0).style("left",0);this.layers.push(new zJe(this,a));a=()=>{this.rawData&&this.draw(this.rawData)};this.on("should:redraw",_.SO(a));K7(this,"change:visibility",a)}findPointStream(a){return this.findCoveredArea(a)||this.findNearestLine(a,15)}findCoveredArea(a){AJe.time("coveredArea");const b=this.displayData||[];a=_.prc(b,a,{data:{apply:c=>{const d=
this.yScale(c.y0||0),e=this.yScale(c.y1||0);return[this.xScale(c.x),Math.min(d,e),Math.max(d,e)]},invert:c=>({x:this.xScale.invert(c[0]),y:this.yScale.invert(c[1])})}});if(null!==a)return b[a]}findNearestLine(a,b=15){const c=this.displayData||[],d={data:{apply:e=>[this.xScale(e.x),this.yScale(e.y)],invert:e=>({x:this.xScale.invert(e[0]),y:this.yScale.invert(e[1])})}};if(this.timeshiftOffset){const e=this.timeshiftOffset||0;d.shiftedData={apply:f=>[this.shiftedMapX1(f),this.yScale(f.y)],invert:f=>
({x:new Date(+this.xScale.invert(f[0])+e),y:this.yScale.invert(f[1])})}}a=_.orc(c,a,b,d);if(null!==a)return c[a]}shiftedMapX1(a){return this.xScale(new Date(+a.x-(this.timeshiftOffset||0)))}closestIndexInData(a,b){return _.rP(a,b,!1)}transform(a){this.rawData=a;let b;if("stats"===this.modeInner){const c=(new _.ztc).compute(a);b=_.Btc(c);b.dataLayer=a.dataLayer;a=b;this.trigger("change:stats",c)}a._stacked||(a=CJe(a));a=super.transform(a);a._stacked||(a=CJe(a),this.trigger("data"));return a}streamIdFromXY(){var a=
this.mousePosInMargin();return(a=this.findPointStream(a))?_.VO(a):null}streamValuesFromXY(a){if(!(a instanceof Date))return{};const b=this.displayData||[],c=this.colorManager,d=this.generateLegendTokenizer(),e=this.yManager.yFormat,f=this.resourceMetadataNamingFunctions?this.resourceMetadataNamingFunctions.getBoundGlobalFunctions():null;return b.reduce((g,h)=>{if(h.hasMinMaxTuple){var l=_.Zrc(h.data,a,!1);if(!l)return{};var n=l[0];l=l[1];var r=h.data[l].min,v=h.data[l].max;if(!r||!v)return{};l=e.format(n);
r=e.format(r);v=e.format(v);const w=this.timeshiftOffset||0;let y="";h.shiftedData&&h.shiftedData.length&&w&&(y=e.format(_.sP(h.shiftedData,new Date(Number(a)+w),!1))||"");if(!h.id)return{};g[h.id]={rawValue:n.toString(),value:l,formattedMinValue:r,formattedMaxValue:v,rawStream:h,labels:{name:d?d.format(h.metadata||null,f):h.id,color:c?c.getColor(h.id):"",timeShiftedValue:y}}}else{n=_.sP(h.data,a,!1);l=e.format(n);r=this.timeshiftOffset||0;v="";h.shiftedData&&h.shiftedData.length&&r&&(v=e.format(_.sP(h.shiftedData,
new Date(Number(a)+r),!1))||"");if(!h.id)return{};g[h.id]={rawValue:n.toString(),value:l,rawStream:h,labels:{name:d?d.format(h.metadata||null,f):h.id,color:c?c.getColor(h.id):"",timeShiftedValue:v}}}return g},{})}streamValuesFromY(){return{}}streamValuesFromX(){return{}}};
var xde=function(a){return{"band-on-top":a}},Dde=function(){return[]},EJe=0,FJe=class extends I7{constructor(){super(...arguments);this.useLegacyCoreChart=!0;this.subtitlesDrawn=new _.$k;this.chartType="line";this.labelledById=`ac-stacked-area-chart-labelledby-${EJe++}`;this.describedById=`ac-stacked-area-chart-describedby-${EJe++}`;this.a11yTitle="Stacked area chart";this.a11yInstructions=this.a11yLegendPreface=this.a11yAxesDescription="";this.ve=f7}chartTypeSetup(a){super.chartTypeSetup(a);this.useLegacyCoreChart&&
(a=this.acChart,a.stacked(!0),a.drawArea(!0))}ngOnChanges(a){super.ngOnChanges(a);a.groupId&&(this.outlierGroupId=a.groupId.currentValue)}createChartGroupChild(){return this.useLegacyCoreChart?super.createChartGroupChild():new DJe(d3.select(this.chartElementRef.nativeElement))}get chartVE(){return this.ve.AwesomechartsStackedArea}};FJe.\u0275fac=function(){let a;return function(b){return(a||(a=_.Xc(FJe)))(b||FJe)}}();
FJe.\u0275cmp=_.q({type:FJe,selectors:[["ac-stacked-area-chart"]],inputs:{useLegacyCoreChart:"useLegacyCoreChart"},outputs:{subtitlesDrawn:"subtitlesDrawn"},features:[_.wd,_.Gc],decls:28,vars:32,consts:function(){return[["class","too-many-lines-warning",4,"ngIf"],["class","partial-error-div","style","display: flex",4,"ngFor","ngForOf"],[1,"chart-container",3,"ve"],["class","subtitle-container",4,"ngIf"],["class","chart-warning",4,"ngIf"],[4,"ngIf"],["role","group",1,"sd-chart-base-focus-ring",3,"keydown",
"keyup","focus","blur"],["chartFocusRing",""],[1,"chart","sd-chart-base-chart",3,"ve","veImpression"],["chart",""],["class","ac-screen-reader-only-content","tabIndex","-1",3,"chartOptions","session","axesDescription","ngStyle",4,"ngIf"],["class","ac-chart-a11y-label ac-screen-reader-only-content",3,"id","ngStyle","focus","blur",4,"ngFor","ngForOf"],["class","chart-message",4,"ngIf"],["class","chart-message",3,"id","fatal",4,"ngIf"],[1,"ac-screen-reader-only-content",3,"id"],[1,"too-many-lines-warning"],
["svgIcon","ac:warning",1,"icon","mat-18","warning"],[1,"warning-text"],["href","https://cloud.google.com/monitoring/mql/examples#qlx-top","target","_blank",4,"ngIf"],[3,"click"],["href","https://cloud.google.com/monitoring/mql/examples#qlx-top","target","_blank"],[1,"partial-error-div",2,"display","flex"],["svgIcon","ac:warning",1,"icon","mat-18","partial-error-icon"],[1,"partial-error-message"],[1,"subtitle-container"],[3,"dataLayerManager","groupId","groupNameLookupFunction","complexThreshold",
"unitFunction","yManager","basicMode","showResponsive","drawn"],[1,"chart-warning"],["title","This chart requested too much data, consider adding an aggregation or using outlier visualizations to improve performance.",1,"chart-warning-inline"],["svgIcon","ac:info",1,"icon","mat-18","info"],["class","band-container",3,"ngClass",4,"ngFor","ngForOf"],["class","circle-container",4,"ngFor","ngForOf"],["class","percentile-container",4,"ngIf"],["class","exemplars-container",4,"ngIf"],[1,"band-container",
3,"ngClass"],[3,"groupId","dataLayerManager","yManager","yAxisScale","useLegacyCoreChart","height","bandStyle",4,"ngIf"],[3,"groupId","dataLayerManager","yManager","yAxisScale","useLegacyCoreChart","height","bandStyle"],[3,"groupId","dataLayerManager","yManager","yAxisScale","height","useLegacyCoreChart","bandStyle","bandChart"],[1,"circle-container"],[3,"groupId","dataLayerManager","yManager","yAxisScale","height","circleStyle","timePinEnabled","circleChart"],[1,"percentile-container"],[3,"dataLayerManager",
"groupId","yManager","yAxisScale","height","selectionSetSubject"],[1,"exemplars-container"],[3,"dataLayerManager","groupId","yManager","yAxisScale","height","hovercardComponent","proxyEvent","traceSelected"],["tabIndex","-1",1,"ac-screen-reader-only-content",3,"chartOptions","session","axesDescription","ngStyle"],[1,"ac-chart-a11y-label","ac-screen-reader-only-content",3,"id","ngStyle","focus","blur"],["leapfrogLabel",""],[1,"chart-message"],[1,"chart-message-text"],[1,"loading-indicator"],[1,"chart-message",
3,"id"],["svgIcon","ac:warning",1,"icon","mat-18"],[3,"innerHTML"],[4,"ngFor","ngForOf"]," No data "]},template:function(a,b){a&1&&(_.P(0,sde,6,3,"div",0),_.P(1,tde,4,1,"div",1),_.Zd(2,"async"),_.E(3,"div",2),_.P(4,ude,2,8,"div",3),_.P(5,vde,5,1,"div",4),_.P(6,Ede,6,6,"ng-container",5),_.E(7,"div",6,7),_.L("keydown",function(c){return b.onKeydown(c)})("keyup",function(c){return b.onKeyup(c)})("focus",function(c){return t5(b,c,!0)})("blur",function(c){return t5(b,c,!1)}),_.Zd(9,"async"),_.Zd(10,"async"),
_.E(11,"div",8,9),_.P(13,Fde,2,6,"ac-audio-chart",10),_.P(14,Gde,5,8,"span",11),_.P(15,Hde,4,1,"div",12),_.P(16,Ide,4,8,"div",13),_.F(),_.E(17,"div",14)(18,"p"),_.Q(19),_.F()(),_.E(20,"div",14)(21,"p"),_.Q(22),_.F(),_.E(23,"p"),_.Q(24),_.F(),_.P(25,Ode,3,2,"ng-container",5),_.Zd(26,"async"),_.P(27,Pde,1,1,"p",5),_.F()()());a&2&&(_.C("ngIf",b.enableSizeWarnings&&b.warningShown),_.x(1),_.C("ngForOf",b.partialErrors(_.$d(2,24,b.dataLayerManager.dataLayerStream))),_.x(2),_.C("ve",b.chartVE),_.x(1),_.C("ngIf",
b.isWhitelisted("chart-subtitles")&&!b.isWhitelisted("chart-subtitles-ng2")&&b.showSubtitles),_.x(1),_.C("ngIf",b.warning),_.x(1),_.C("ngIf",!b.isLoading||b.showBandsWhileLoading),_.x(1),_.Bd("ac-a11y-focused",_.$d(9,26,b.showFocusRing)),_.zd("aria-labelledby",b.a11yLabelledById)("aria-describedby",b.a11yDescribedById)("tabindex",_.$d(10,28,b.timePinFocusable)?-1:0),_.x(4),_.C("ve",b.ve.AwesomeChartImage)("veImpression",!0),_.x(2),_.C("ngIf",b.audioChartActive),_.x(1),_.C("ngForOf",b.a11yLeapfrogLabelIds),
_.x(1),_.C("ngIf",b.isLoading),_.x(1),_.C("ngIf",b.error),_.x(1),_.C("id",b.a11yLabelledById),_.x(2),_.Ud(b.a11yTitle),_.x(1),_.C("id",b.a11yDescribedById),_.x(2),_.Ud(b.a11yAxesDescription),_.x(2),_.Ud(b.a11yInstructions),_.x(1),_.C("ngIf",b.timePinEnabled&&_.$d(26,30,b.a11yLegendStreams)),_.x(2),_.C("ngIf",b.error))},dependencies:[_.qx,_.kl,_.ll,_.xD,N7,_.vo,_.wt,e7,M7,W7,X7,Z7,Y7,_.pl],styles:['.ac-screen-reader-only-content[_ngcontent-%COMP%]{clip:rect(1px, 1px, 1px, 1px);height:1px;margin:0;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px;z-index:-1000}.ac-a11y-focused[_ngcontent-%COMP%]{outline:1px solid blue;outline-offset:-1px}.sd-chart-base-focus-ring[_ngcontent-%COMP%]{margin-bottom:-10px;padding-bottom:10px;width:100%}.sd-chart-base[_ngcontent-%COMP%]{position:relative;color:#b8b8b8;background-color:transparent}.sd-chart-base[_ngcontent-%COMP%]    >svg{font:smaller sans-serif;width:100%;height:100%;position:absolute;top:0;left:0}.sd-chart-base[_ngcontent-%COMP%]    >svg   path{fill:none}.sd-chart-base[_ngcontent-%COMP%]    >svg   .area{stroke:none}.sd-chart-base[_ngcontent-%COMP%]    >svg   text{fill:#b8b8b8}.sd-chart-base[_ngcontent-%COMP%]     .axis .domain{stroke:#999;stroke-width:1.5px}.sd-chart-base[_ngcontent-%COMP%]     .axis line{stroke:#999;stroke-width:1.5px}.sd-chart-base[_ngcontent-%COMP%]     .axis text{fill:#999}.sd-chart-base[_ngcontent-%COMP%]     .brush path.brush-marker{stroke:#ccc;stroke-dasharray:4,4;stroke-width:2px}.sd-chart-base[_ngcontent-%COMP%]     .brush path.brush-marker.time-pin-marker-locked{stroke-width:4;stroke:#3468d6;stroke-dasharray:none}.sd-chart-base[_ngcontent-%COMP%]     .brush path.brush-marker.time-pin-marker-unlocked{stroke-width:4;stroke:#bdbdbd;stroke-dasharray:none}.sd-chart-base[_ngcontent-%COMP%]     .brush path.brush-marker.time-pin-snap-threshold{fill-opacity:.5;stroke:none}.sd-chart-base[_ngcontent-%COMP%]     .brush path.brush-marker.time-pin-hidden{display:none}.sd-chart-base[_ngcontent-%COMP%]     .threshold-group text.threshold-text, .sd-chart-base[_ngcontent-%COMP%]     .threshold-group text.threshold-label{fill:#fff}.sd-chart-base[_ngcontent-%COMP%]     .threshold-group .threshold-text-box, .sd-chart-base[_ngcontent-%COMP%]     .threshold-group .threshold-label-box{fill:#d2191d;stroke:#d2191d}.sd-chart-base[_ngcontent-%COMP%]     .threshold-group .threshold-line{stroke:#d2191d;stroke-dasharray:4,2}.sd-chart-base[form=compact][_ngcontent-%COMP%]{margin:-10px}.sd-chart-base-background[_ngcontent-%COMP%]{fill:transparent}.sd-chart-base-bar[_ngcontent-%COMP%]   .sd-chart-base-axis.x[_ngcontent-%COMP%]   line[_ngcontent-%COMP%]{stroke:#999}.sd-chart-base-brush[_ngcontent-%COMP%]   .extent[_ngcontent-%COMP%]{fill:none;shape-rendering:crispEdges}.sd-chart-base-chart[_ngcontent-%COMP%]   .ac-chart-a11y-label[_ngcontent-%COMP%]{position:absolute}.too-many-lines-warning[_ngcontent-%COMP%]{font-size:13px;padding:16px 0 16px 16px;display:flex;align-items:center}.too-many-lines-warning[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:18px;width:18px;min-width:18px}.too-many-lines-warning[_ngcontent-%COMP%]   .warning-text[_ngcontent-%COMP%]{padding:0 8px}.chart-container[_ngcontent-%COMP%]{position:relative}.chart-message[_ngcontent-%COMP%]{position:absolute;z-index:3;left:0;top:0;width:100%;height:100%;display:flex}.chart-message[_ngcontent-%COMP%]   .chart-message-text[_ngcontent-%COMP%]{font-family:"Roboto",sans-serif;font-size:13px;font-weight:normal;text-align:center;text-shadow:none;width:100%;margin:auto 10px}.chart-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;margin-right:8px;vertical-align:text-top}.chart-message[_ngcontent-%COMP%]   .chart-message-text.y-axis-left[_ngcontent-%COMP%]{margin-left:60px}.chart-message[_ngcontent-%COMP%]   .chart-message-text.y-axis-right[_ngcontent-%COMP%]{margin-right:60px}.chart-warning[_ngcontent-%COMP%]{font-family:sans-serif;font-size:12px;margin:0 0 0 10px;position:absolute;width:100%;z-index:3}.chart-warning-inline[_ngcontent-%COMP%]{margin:0;padding:0}.chart-warning-inline[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{vertical-align:text-top}.partial-error-div[_ngcontent-%COMP%]{display:flex;font-family:"Roboto",sans-serif;font-size:13px;line-height:20px;margin:8px -12px 12px;max-height:80px;overflow:auto;padding:16px 24px 12px}.partial-error-icon[_ngcontent-%COMP%]{flex:0 0 26px}.partial-error-message[_ngcontent-%COMP%]{flex:0 0 1}.band-container[_ngcontent-%COMP%], .circle-container[_ngcontent-%COMP%]{position:absolute;width:100%}.band-on-top[_ngcontent-%COMP%]{z-index:3;pointer-events:none}.percentile-container[_ngcontent-%COMP%]{position:absolute;width:100%;z-index:3;pointer-events:none}.exemplars-container[_ngcontent-%COMP%]{position:absolute;width:100%;z-index:4}.zero-state-frame[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.zero-state-svg[_ngcontent-%COMP%]{width:100%}.zero-state-message[_ngcontent-%COMP%]{font-size:20px;margin-top:12px;text-align:center;width:100%}\n/*# sourceMappingURL=chart_style.css.map */',
'.chart-card--chart[_ngcontent-%COMP%]   .sd-chart-base[_ngcontent-%COMP%]   .subtitle-div.subtitle-mux[_ngcontent-%COMP%]{margin:10px -13px 0}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .percentile-labels{background-color:#fff;border-radius:5px;color:#303030;font-family:"Roboto",sans-serif;font-size:11px;height:16px;line-height:16px;margin-top:-8px;position:absolute;right:8px;text-align:center;vertical-align:bottom;width:30px}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-div.subtitle-mux{border-width:2px;border-style:solid;margin:0;padding:0px 34px 10px 5px}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-div.single-subtitle-row{white-space:nowrap}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-title{color:rgba(0,0,0,.54);font-family:"Roboto",sans-serif;font-size:12px;height:16px;line-height:16px;margin:10px 6px 6px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     svg.subtitle-collapsible{position:absolute;height:unset;width:unset;left:unset;right:10px}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     svg.subtitle-collapsible path{box-sizing:content-box;color:rgba(0,0,0,.87);fill:rgba(0,0,0,.87)}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-chips{line-height:24px}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-chip{border-radius:24px;display:inline-block;font-family:"Roboto",sans-serif;font-size:12px;font-weight:normal;height:18px;line-height:18px;margin:0 4px;padding:1px 12px;background-color:#e0e0e0;color:rgba(0,0,0,.87)}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-chip.position-relative{position:relative}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-chip.subtitle-capped{background-color:rgba(0,0,0,.54);color:#fff;height:14px;line-height:12px;padding:1px 6px}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-chip.subtitle-chip-status-warn{background-color:#f2a600}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-chip.subtitle-chip-status-error{background-color:#d50000}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-chip span{display:inline;position:static}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-chip svg.filter-icon{display:inline;height:16px;position:static;vertical-align:text-bottom;width:16px}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-chip svg.filter-icon path{fill:currentColor}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-chip .subtitle-tooltip{background-color:#fff;border-radius:2px;box-shadow:0px 2px 4px -1px rgba(0,0,0,.2),0px 4px 5px 0px rgba(0,0,0,.14),0px 1px 10px 0px rgba(0,0,0,.12);color:#000;cursor:pointer;font-size:13px;left:16px;line-height:20px;padding:5px 12px;position:absolute;text-align:left;top:25px;visibility:hidden;z-index:5}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-chip:hover .subtitle-tooltip{visibility:visible}.darkTheme[_ngcontent-%COMP%]   .sd-chart-base[_ngcontent-%COMP%]   .subtitle-title[_ngcontent-%COMP%]{color:rgba(255,255,255,.54)}.darkTheme[_ngcontent-%COMP%]   .sd-chart-base[_ngcontent-%COMP%]   .subtitle-chip[_ngcontent-%COMP%]{background-color:#303030;color:rgba(255,255,255,.87)}.darkTheme[_ngcontent-%COMP%]   .sd-chart-base[_ngcontent-%COMP%]   .subtitle-chip.subtitle-capped[_ngcontent-%COMP%]{background-color:rgba(255,255,255,.54);color:#000}.darkTheme[_ngcontent-%COMP%]   .sd-chart-base[_ngcontent-%COMP%]   .subtitle-chip[_ngcontent-%COMP%]   .subtitle-tooltip[_ngcontent-%COMP%]{background-color:#000;box-shadow:0px 2px 4px -1px rgba(255,255,255,.2),0px 4px 5px 0px rgba(255,255,255,.14),0px 1px 10px 0px rgba(255,255,255,.12);color:#fff}\n/*# sourceMappingURL=subtitle_style.css.map */']});
var GJe=class extends J7{constructor(a,b){super();this.chart=a;this.root=b;this.name="bars";this.drawBuffer=new _.nP({width:this.chart._innerWidth,height:this.chart._innerHeight+1,canvas:document.createElement("canvas"),font:"16px roboto",textFillStyle:_.ZO("label",this.chart.theme),textAlign:"center"});this.mode="color";this.barShowValue=0;this.root.node().appendChild(this.drawBuffer.canvas)}draw(a){this.drawBuffer.clear();if(0<a.length){switch(this.mode){case "x-ray":this.drawBuffer.strokeFn=null;
this.drawBuffer.fillFn=null;this.drawBuffer._supportsOverlay?(this.drawBuffer.strokeStyle="rgba(255,255,255,0.3)",this.drawBuffer.fillStyle="rgba(255,255,255,0.3)"):(this.drawBuffer.strokeStyle="rgba(178,197,255,0.3)",this.drawBuffer.fillStyle="rgba(178,197,255,0.3)");break;default:this.drawBuffer.strokeFn=b=>b.color,this.drawBuffer.fillFn=b=>b.color}this.drawBuffer.map=RCe(this.chart.yScale,this.chart.yManager,this.chart.mapX0,this.chart.mapX1);_.pP(this.drawBuffer,a,this.barShowValue);"x-ray"===
this.mode&&this.drawBuffer._supportsOverlay&&_.Urc(this.drawBuffer)}}handleHoverChange(a,b){this.handleStateChange(b)}handleSelectionChange(a,b){this.handleStateChange(b)}handleResize(a,b,c){this.drawBuffer.resize(b-c.left-c.right,a-c.top-c.bottom+1)}handleModeChange(a){this.mode=a;this.drawBuffer.background="x-ray"===a?"#1a1712":this.drawBuffer.colorChartModeBackground||"transparent"}handleStateChange(a){a.hover||0<a.selected.size?"x-ray"!==this.mode&&(this.drawBuffer.canvas.style.opacity=.3):this.drawBuffer.canvas.style.opacity=
1}};
var HJe=class extends J7{constructor(a,b){super();this.chart=a;this.root=b;this.name="barsSelected";this.drawBuffer=new _.nP({width:this.chart._innerWidth,height:this.chart._innerHeight+1,canvas:document.createElement("canvas"),font:"16px roboto",textFillStyle:_.ZO("label",this.chart.theme),textAlign:"center"});this.barShowValue=0;this.root.node().appendChild(this.drawBuffer.canvas)}draw(a,b){!b&&a.dataLayer&&(b=a.dataLayer.getState());b&&this.drawInternal(a,b)}handleHoverChange(a,b){this.drawInternal(a,
b)}handleSelectionChange(a,b){this.drawInternal(a,b)}handleResize(a,b,c){this.drawBuffer.resize(b-c.left-c.right,a-c.top-c.bottom+1)}drawInternal(a,b){this.drawBuffer.clear();const c=new Set(b.selected);b.hover&&c.add(b.hover);a=a.filter(d=>c.has(d.id||""));0<a.length&&(this.drawBuffer.strokeFn=d=>d.color,this.drawBuffer.fillFn=d=>d.color,this.drawBuffer.map=RCe(this.chart.yScale,this.chart.yManager,this.chart.mapX0,this.chart.mapX1),_.pP(this.drawBuffer,a,this.barShowValue))}};
var IJe=function(a,b){const c=a.displayData||[];b=_.orc(c,b,15,{data:{apply:d=>[a.xScale(d.x),a.yScale(d.y)],invert:d=>({x:a.xScale.invert(d[0]),y:a.yScale.invert(d[1])})}});if(null!==b)return c[b]},JJe=class extends hJe{constructor(a){super(a);this.base=a;this.chartType="bar";this.dataY0=NCe;this.dataY1=OCe;this.mapX0=b=>{const c=this.xScale(b.x0||b.x);b=this.xScale(b.x)-c;return c+.175*b};this.mapX1=b=>{const c=this.xScale(b.x0||b.x);b=this.xScale(b.x);return b-.175*(b-c)};this.base.classed("sd-line-chart",
!0);a=this.content.append("div").classed("bars",!0).style("position","absolute").style("top",0).style("left",0);this.layers.push(new GJe(this,a));a=this.content.append("div").classed("bars-selected",!0).style("position","absolute").style("top",0).style("left",0);this.layers.push(new HJe(this,a));a=()=>{this.rawData&&this.draw(this.rawData)};this.on("should:redraw",_.SO(a));K7(this,"change:visibility",a)}setTimeshiftOffset(a){this.timeshiftOffset!==a&&(this.timeshiftOffset=a,this._dataLayer&&this._dataLayer.setTimeshiftOffset&&
this._dataLayer.setTimeshiftOffset(a))}transform(a){this.rawData=a;let b;if("stats"===this.modeInner){const c=(new _.ztc).compute(a);b=_.Btc(c);b.dataLayer=a.dataLayer;a=b;this.trigger("change:stats",c)}a._stacked||_.stc(a);a=super.transform(a);a._stacked||(_.stc(a),this.trigger("data"));return a}stacked(){return!0}findPointStream(a){return IJe(this,a)||{}}closestIndexInData(a,b){return _.rP(a,b,!1)}streamIdFromXY(a,b){if(!this.displayData)return null;for(const e of this.displayData){var c=this.closestIndexInData(e.data,
a);if(-1!==c){var d=void 0;d=e.data[c];d.y1&&d.y0?(c=d.y1,d=d.y0):(c=d.y,d=0);if(Math.max(c,d)>=b&&Math.min(c,d)<=b)return _.VO(e)}}return null}streamValuesFromXY(a){if(!(a instanceof Date))return{};const b=this.displayData||[],c=this.colorManager,d=this.generateLegendTokenizer(),e=this.yManager.yFormat,f=this.resourceMetadataNamingFunctions?this.resourceMetadataNamingFunctions.getBoundGlobalFunctions():null;return b.reduce((g,h)=>{if(h.hasMinMaxTuple){var l=_.Zrc(h.data,a,!1);if(!l)return{};var n=
l[0];l=l[1];var r=h.data[l].min,v=h.data[l].max;if(!r||!v)return{};l=e.format(n);r=e.format(r);v=e.format(v);const w=this.timeshiftOffset||0;let y="";h.shiftedData&&h.shiftedData.length&&w&&(y=e.format(_.sP(h.shiftedData,new Date(Number(a)+w),!1))||"");if(!h.id)return{};g[h.id]={rawValue:n.toString(),value:l,formattedMinValue:r,formattedMaxValue:v,rawStream:h,labels:{name:d?d.format(h.metadata||null,f):h.id,color:c?c.getColor(h.id):"",timeShiftedValue:y}}}else{n=_.sP(h.data,a,!1);l=e.format(n);r=
this.timeshiftOffset||0;v="";h.shiftedData&&h.shiftedData.length&&r&&(v=e.format(_.sP(h.shiftedData,new Date(Number(a)+r),!1))||"");if(!h.id)return{};g[h.id]={rawValue:n.toString(),value:l,rawStream:h,labels:{name:d?d.format(h.metadata||null,f):h.id,color:c?c.getColor(h.id):"",timeShiftedValue:v}}}return g},{})}streamValuesFromY(){return{}}streamValuesFromX(){return{}}};
var Yde=function(a){return{"band-on-top":a}},dee=function(){return[]},KJe=class extends I7{constructor(){super(...arguments);this.useLegacyCoreChart=!0;this.showPointsOutsideDomain=!1;this.subtitlesDrawn=new _.$k;this.chartType="bar";this.a11yTitle="Bar chart";this.a11yInstructions=this.a11yLegendPreface=this.a11yAxesDescription=""}chartTypeSetup(a){super.chartTypeSetup(a);a.stacked&&a.stacked(!0);void 0!==a.showPointsOutsideDomain&&a.showPointsOutsideDomain(this.showPointsOutsideDomain)}ngOnChanges(a){super.ngOnChanges(a);
a.groupId&&(this.outlierGroupId=a.groupId.currentValue)}createChartGroupChild(){return this.useLegacyCoreChart?super.createChartGroupChild():new JJe(d3.select(this.chartElementRef.nativeElement))}};KJe.\u0275fac=function(){let a;return function(b){return(a||(a=_.Xc(KJe)))(b||KJe)}}();
KJe.\u0275cmp=_.q({type:KJe,selectors:[["ac-time-bar-chart"]],inputs:{useLegacyCoreChart:"useLegacyCoreChart",showPointsOutsideDomain:"showPointsOutsideDomain"},outputs:{subtitlesDrawn:"subtitlesDrawn"},features:[_.wd,_.Gc],decls:28,vars:32,consts:function(){return[["class","too-many-lines-warning",4,"ngIf"],["class","partial-error-div","style","display: flex",4,"ngFor","ngForOf"],[1,"chart-container",3,"ve"],["class","subtitle-container",4,"ngIf"],["class","chart-warning",4,"ngIf"],[4,"ngIf"],["role",
"group",1,"sd-chart-base-focus-ring",3,"keydown","keyup","focus","blur"],["chartFocusRing",""],[1,"chart","sd-chart-base-chart",3,"ve","veImpression"],["chart",""],["class","ac-screen-reader-only-content","tabIndex","-1",3,"chartOptions","session","axesDescription","ngStyle",4,"ngIf"],["class","ac-chart-a11y-label ac-screen-reader-only-content",3,"id","ngStyle","focus","blur",4,"ngFor","ngForOf"],["class","chart-message",4,"ngIf"],["class","chart-message",3,"id","fatal",4,"ngIf"],[1,"ac-screen-reader-only-content",
3,"id"],[1,"too-many-lines-warning"],["svgIcon","ac:warning",1,"icon","mat-18","warning"],[1,"warning-text"],["href","https://cloud.google.com/monitoring/mql/examples#qlx-top","target","_blank",4,"ngIf"],[3,"click"],["href","https://cloud.google.com/monitoring/mql/examples#qlx-top","target","_blank"],[1,"partial-error-div",2,"display","flex"],["svgIcon","ac:warning",1,"icon","mat-18","partial-error-icon"],[1,"partial-error-message"],[1,"subtitle-container"],[3,"dataLayerManager","groupId","groupNameLookupFunction",
"complexThreshold","unitFunction","yManager","basicMode","showResponsive","drawn"],[1,"chart-warning"],["title","This chart requested too much data, consider adding an aggregation or using outlier visualizations to improve performance.",1,"chart-warning-inline"],["svgIcon","ac:info",1,"icon","mat-18","info"],["class","band-container",3,"ngClass",4,"ngFor","ngForOf"],["class","circle-container",4,"ngFor","ngForOf"],["class","percentile-container",4,"ngIf"],["class","exemplars-container",4,"ngIf"],
[1,"band-container",3,"ngClass"],[3,"groupId","dataLayerManager","yManager","yAxisScale","useLegacyCoreChart","height","bandStyle",4,"ngIf"],[3,"groupId","dataLayerManager","yManager","yAxisScale","useLegacyCoreChart","height","bandStyle"],[3,"groupId","dataLayerManager","yManager","yAxisScale","height","useLegacyCoreChart","bandStyle","bandChart"],[1,"circle-container"],[3,"groupId","dataLayerManager","yManager","yAxisScale","height","circleStyle","timePinEnabled","circleChart"],[1,"percentile-container"],
[3,"dataLayerManager","groupId","yManager","yAxisScale","height","selectionSetSubject"],[1,"exemplars-container"],[3,"dataLayerManager","groupId","yManager","yAxisScale","height","hovercardComponent","proxyEvent","traceSelected"],["tabIndex","-1",1,"ac-screen-reader-only-content",3,"chartOptions","session","axesDescription","ngStyle"],[1,"ac-chart-a11y-label","ac-screen-reader-only-content",3,"id","ngStyle","focus","blur"],["leapfrogLabel",""],[1,"chart-message"],[1,"chart-message-text"],[1,"loading-indicator"],
[1,"chart-message",3,"id"],["svgIcon","ac:warning",1,"icon","mat-18"],[3,"innerHTML"],[4,"ngFor","ngForOf"]," No data "]},template:function(a,b){a&1&&(_.P(0,Tde,6,3,"div",0),_.P(1,Ude,4,1,"div",1),_.Zd(2,"async"),_.E(3,"div",2),_.P(4,Vde,2,8,"div",3),_.P(5,Wde,5,1,"div",4),_.P(6,eee,6,6,"ng-container",5),_.E(7,"div",6,7),_.L("keydown",function(c){return b.onKeydown(c)})("keyup",function(c){return b.onKeyup(c)})("focus",function(c){return t5(b,c,!0)})("blur",function(c){return t5(b,c,!1)}),_.Zd(9,
"async"),_.Zd(10,"async"),_.E(11,"div",8,9),_.P(13,fee,2,6,"ac-audio-chart",10),_.P(14,gee,5,8,"span",11),_.P(15,hee,4,1,"div",12),_.P(16,iee,4,8,"div",13),_.F(),_.E(17,"div",14)(18,"p"),_.Q(19),_.F()(),_.E(20,"div",14)(21,"p"),_.Q(22),_.F(),_.E(23,"p"),_.Q(24),_.F(),_.P(25,oee,3,2,"ng-container",5),_.Zd(26,"async"),_.P(27,pee,1,1,"p",5),_.F()()());a&2&&(_.C("ngIf",b.enableSizeWarnings&&b.warningShown),_.x(1),_.C("ngForOf",b.partialErrors(_.$d(2,24,b.dataLayerManager.dataLayerStream))),_.x(2),_.C("ve",
b.chartVE),_.x(1),_.C("ngIf",b.isWhitelisted("chart-subtitles")&&!b.isWhitelisted("chart-subtitles-ng2")&&b.showSubtitles),_.x(1),_.C("ngIf",b.warning),_.x(1),_.C("ngIf",!b.isLoading||b.showBandsWhileLoading),_.x(1),_.Bd("ac-a11y-focused",_.$d(9,26,b.showFocusRing)),_.zd("aria-labelledby",b.a11yLabelledById)("aria-describedby",b.a11yDescribedById)("tabindex",_.$d(10,28,b.timePinFocusable)?-1:0),_.x(4),_.C("ve",b.ve.AwesomeChartImage)("veImpression",!0),_.x(2),_.C("ngIf",b.audioChartActive),_.x(1),
_.C("ngForOf",b.a11yLeapfrogLabelIds),_.x(1),_.C("ngIf",b.isLoading),_.x(1),_.C("ngIf",b.error),_.x(1),_.C("id",b.a11yLabelledById),_.x(2),_.Ud(b.a11yTitle),_.x(1),_.C("id",b.a11yDescribedById),_.x(2),_.Ud(b.a11yAxesDescription),_.x(2),_.Ud(b.a11yInstructions),_.x(1),_.C("ngIf",b.timePinEnabled&&_.$d(26,30,b.a11yLegendStreams)),_.x(2),_.C("ngIf",b.error))},dependencies:[_.qx,_.kl,_.ll,_.xD,N7,_.vo,_.wt,e7,M7,W7,X7,Z7,Y7,_.pl],styles:['.ac-screen-reader-only-content[_ngcontent-%COMP%]{clip:rect(1px, 1px, 1px, 1px);height:1px;margin:0;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px;z-index:-1000}.ac-a11y-focused[_ngcontent-%COMP%]{outline:1px solid blue;outline-offset:-1px}.sd-chart-base-focus-ring[_ngcontent-%COMP%]{margin-bottom:-10px;padding-bottom:10px;width:100%}.sd-chart-base[_ngcontent-%COMP%]{position:relative;color:#b8b8b8;background-color:transparent}.sd-chart-base[_ngcontent-%COMP%]    >svg{font:smaller sans-serif;width:100%;height:100%;position:absolute;top:0;left:0}.sd-chart-base[_ngcontent-%COMP%]    >svg   path{fill:none}.sd-chart-base[_ngcontent-%COMP%]    >svg   .area{stroke:none}.sd-chart-base[_ngcontent-%COMP%]    >svg   text{fill:#b8b8b8}.sd-chart-base[_ngcontent-%COMP%]     .axis .domain{stroke:#999;stroke-width:1.5px}.sd-chart-base[_ngcontent-%COMP%]     .axis line{stroke:#999;stroke-width:1.5px}.sd-chart-base[_ngcontent-%COMP%]     .axis text{fill:#999}.sd-chart-base[_ngcontent-%COMP%]     .brush path.brush-marker{stroke:#ccc;stroke-dasharray:4,4;stroke-width:2px}.sd-chart-base[_ngcontent-%COMP%]     .brush path.brush-marker.time-pin-marker-locked{stroke-width:4;stroke:#3468d6;stroke-dasharray:none}.sd-chart-base[_ngcontent-%COMP%]     .brush path.brush-marker.time-pin-marker-unlocked{stroke-width:4;stroke:#bdbdbd;stroke-dasharray:none}.sd-chart-base[_ngcontent-%COMP%]     .brush path.brush-marker.time-pin-snap-threshold{fill-opacity:.5;stroke:none}.sd-chart-base[_ngcontent-%COMP%]     .brush path.brush-marker.time-pin-hidden{display:none}.sd-chart-base[_ngcontent-%COMP%]     .threshold-group text.threshold-text, .sd-chart-base[_ngcontent-%COMP%]     .threshold-group text.threshold-label{fill:#fff}.sd-chart-base[_ngcontent-%COMP%]     .threshold-group .threshold-text-box, .sd-chart-base[_ngcontent-%COMP%]     .threshold-group .threshold-label-box{fill:#d2191d;stroke:#d2191d}.sd-chart-base[_ngcontent-%COMP%]     .threshold-group .threshold-line{stroke:#d2191d;stroke-dasharray:4,2}.sd-chart-base[form=compact][_ngcontent-%COMP%]{margin:-10px}.sd-chart-base-background[_ngcontent-%COMP%]{fill:transparent}.sd-chart-base-bar[_ngcontent-%COMP%]   .sd-chart-base-axis.x[_ngcontent-%COMP%]   line[_ngcontent-%COMP%]{stroke:#999}.sd-chart-base-brush[_ngcontent-%COMP%]   .extent[_ngcontent-%COMP%]{fill:none;shape-rendering:crispEdges}.sd-chart-base-chart[_ngcontent-%COMP%]   .ac-chart-a11y-label[_ngcontent-%COMP%]{position:absolute}.too-many-lines-warning[_ngcontent-%COMP%]{font-size:13px;padding:16px 0 16px 16px;display:flex;align-items:center}.too-many-lines-warning[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:18px;width:18px;min-width:18px}.too-many-lines-warning[_ngcontent-%COMP%]   .warning-text[_ngcontent-%COMP%]{padding:0 8px}.chart-container[_ngcontent-%COMP%]{position:relative}.chart-message[_ngcontent-%COMP%]{position:absolute;z-index:3;left:0;top:0;width:100%;height:100%;display:flex}.chart-message[_ngcontent-%COMP%]   .chart-message-text[_ngcontent-%COMP%]{font-family:"Roboto",sans-serif;font-size:13px;font-weight:normal;text-align:center;text-shadow:none;width:100%;margin:auto 10px}.chart-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;margin-right:8px;vertical-align:text-top}.chart-message[_ngcontent-%COMP%]   .chart-message-text.y-axis-left[_ngcontent-%COMP%]{margin-left:60px}.chart-message[_ngcontent-%COMP%]   .chart-message-text.y-axis-right[_ngcontent-%COMP%]{margin-right:60px}.chart-warning[_ngcontent-%COMP%]{font-family:sans-serif;font-size:12px;margin:0 0 0 10px;position:absolute;width:100%;z-index:3}.chart-warning-inline[_ngcontent-%COMP%]{margin:0;padding:0}.chart-warning-inline[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{vertical-align:text-top}.partial-error-div[_ngcontent-%COMP%]{display:flex;font-family:"Roboto",sans-serif;font-size:13px;line-height:20px;margin:8px -12px 12px;max-height:80px;overflow:auto;padding:16px 24px 12px}.partial-error-icon[_ngcontent-%COMP%]{flex:0 0 26px}.partial-error-message[_ngcontent-%COMP%]{flex:0 0 1}.band-container[_ngcontent-%COMP%], .circle-container[_ngcontent-%COMP%]{position:absolute;width:100%}.band-on-top[_ngcontent-%COMP%]{z-index:3;pointer-events:none}.percentile-container[_ngcontent-%COMP%]{position:absolute;width:100%;z-index:3;pointer-events:none}.exemplars-container[_ngcontent-%COMP%]{position:absolute;width:100%;z-index:4}.zero-state-frame[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.zero-state-svg[_ngcontent-%COMP%]{width:100%}.zero-state-message[_ngcontent-%COMP%]{font-size:20px;margin-top:12px;text-align:center;width:100%}\n/*# sourceMappingURL=chart_style.css.map */',
'.chart-card--chart[_ngcontent-%COMP%]   .sd-chart-base[_ngcontent-%COMP%]   .subtitle-div.subtitle-mux[_ngcontent-%COMP%]{margin:10px -13px 0}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .percentile-labels{background-color:#fff;border-radius:5px;color:#303030;font-family:"Roboto",sans-serif;font-size:11px;height:16px;line-height:16px;margin-top:-8px;position:absolute;right:8px;text-align:center;vertical-align:bottom;width:30px}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-div.subtitle-mux{border-width:2px;border-style:solid;margin:0;padding:0px 34px 10px 5px}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-div.single-subtitle-row{white-space:nowrap}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-title{color:rgba(0,0,0,.54);font-family:"Roboto",sans-serif;font-size:12px;height:16px;line-height:16px;margin:10px 6px 6px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     svg.subtitle-collapsible{position:absolute;height:unset;width:unset;left:unset;right:10px}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     svg.subtitle-collapsible path{box-sizing:content-box;color:rgba(0,0,0,.87);fill:rgba(0,0,0,.87)}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-chips{line-height:24px}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-chip{border-radius:24px;display:inline-block;font-family:"Roboto",sans-serif;font-size:12px;font-weight:normal;height:18px;line-height:18px;margin:0 4px;padding:1px 12px;background-color:#e0e0e0;color:rgba(0,0,0,.87)}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-chip.position-relative{position:relative}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-chip.subtitle-capped{background-color:rgba(0,0,0,.54);color:#fff;height:14px;line-height:12px;padding:1px 6px}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-chip.subtitle-chip-status-warn{background-color:#f2a600}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-chip.subtitle-chip-status-error{background-color:#d50000}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-chip span{display:inline;position:static}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-chip svg.filter-icon{display:inline;height:16px;position:static;vertical-align:text-bottom;width:16px}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-chip svg.filter-icon path{fill:currentColor}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-chip .subtitle-tooltip{background-color:#fff;border-radius:2px;box-shadow:0px 2px 4px -1px rgba(0,0,0,.2),0px 4px 5px 0px rgba(0,0,0,.14),0px 1px 10px 0px rgba(0,0,0,.12);color:#000;cursor:pointer;font-size:13px;left:16px;line-height:20px;padding:5px 12px;position:absolute;text-align:left;top:25px;visibility:hidden;z-index:5}.sd-chart-base.sd-subtitle[_ngcontent-%COMP%]     .subtitle-chip:hover .subtitle-tooltip{visibility:visible}.darkTheme[_ngcontent-%COMP%]   .sd-chart-base[_ngcontent-%COMP%]   .subtitle-title[_ngcontent-%COMP%]{color:rgba(255,255,255,.54)}.darkTheme[_ngcontent-%COMP%]   .sd-chart-base[_ngcontent-%COMP%]   .subtitle-chip[_ngcontent-%COMP%]{background-color:#303030;color:rgba(255,255,255,.87)}.darkTheme[_ngcontent-%COMP%]   .sd-chart-base[_ngcontent-%COMP%]   .subtitle-chip.subtitle-capped[_ngcontent-%COMP%]{background-color:rgba(255,255,255,.54);color:#000}.darkTheme[_ngcontent-%COMP%]   .sd-chart-base[_ngcontent-%COMP%]   .subtitle-chip[_ngcontent-%COMP%]   .subtitle-tooltip[_ngcontent-%COMP%]{background-color:#000;box-shadow:0px 2px 4px -1px rgba(255,255,255,.2),0px 4px 5px 0px rgba(255,255,255,.14),0px 1px 10px 0px rgba(255,255,255,.12);color:#fff}\n/*# sourceMappingURL=subtitle_style.css.map */']});
var LJe=class{constructor(){this.unit$=this.unit=new _.bg("");this.unitOverride$=this.unitOverride=new _.bg;_.qe([this.unit$,this.unitOverride$]).pipe(_.U(([a,b])=>null!=b?b:a))}updateUnit(a){this.unit.next(a)}};LJe.\u0275fac=function(a){return new (a||LJe)};LJe.\u0275prov=_.m({token:LJe,factory:LJe.\u0275fac,providedIn:"root"});
var MJe=class{constructor(a){this.unitsService=a;this.useLegacyCoreChart=!0;this.plotType="EMPTY";this.groupId="default";this.chartMode="color";this.thresholdLines=[];this.complexThreshold=this.showThresholdLabels=!1;this.enableSizeWarnings=!0;this.timeshiftDuration="0s";this.yAxisScale="LINEAR";this.a11yEnabled=this.timePinDisableSnapToNow=this.timePinSnapToData=this.timePinEnabled=!1;this.disableReason=null;this.messageOverrides={};this.disableSelection=this.disableZoom=!1;this.componentFactoryResolver=
null;this.forceUnitChangeForRate=!1;this.forcePercentZoom=!0;this.height=200;this.colorManager=new _.HP;this.zerofill=this.showResponsiveSubtitles=this.showSubtitles=!1;this.basicMode=null;this.showDataTooCoarseError=!1;this.plotTypes={empty:"EMPTY",line:"LINE",stacked_area:"STACKED_AREA",stacked_bar:"STACKED_BAR",heatmap:"HEATMAP"};this.chartModeChange=new _.$k;this.suggestionShown=new _.$k;this.useMeanAggregationClicked=new _.$k;this.onClick=new _.$k;this.onSelect=new _.$k;this.subtitlesDrawn=new _.$k;
this.unitsChange=new _.$k;this.ve=f7;this.thresholdLinesWithDefault=[]}set useV2Hovercard(a){this.lineBarHovercard=a?rJe:void 0;this.heatmapHovercard=a?mJe:void 0}updateUnit(a){this.unitsChange.emit(a);this.unitsService.updateUnit(a)}ngOnChanges(a){a.thresholdLines&&(this.thresholdLinesWithDefault=this.thresholdLines.map(b=>Object.assign({},b,{label:b.label,value:b.value||0,targetAxis:b.targetAxis||"Y1"})))}ngOnDestroy(){this.updateUnit("1")}};MJe.\u0275fac=function(a){return new (a||MJe)(_.A(LJe))};
MJe.\u0275cmp=_.q({type:MJe,selectors:[["ac-dynamic-chart"]],inputs:{useLegacyCoreChart:"useLegacyCoreChart",emptyChartPlaceholderTemplate:"emptyChartPlaceholderTemplate",plotType:"plotType",groupId:"groupId",dataLayerManager:"dataLayerManager",outlierDataLayerManagers:"outlierDataLayerManagers",percentileDataLayerManager:"percentileDataLayerManager",chartMode:"chartMode",thresholdLines:"thresholdLines",showThresholdLabels:"showThresholdLabels",complexThreshold:"complexThreshold",enableSizeWarnings:"enableSizeWarnings",
timeshiftDuration:"timeshiftDuration",title:"title",yAxisScale:"yAxisScale",yTopMin:"yTopMin",yBottomMax:"yBottomMax",timePinEnabled:"timePinEnabled",timePinSnapToData:"timePinSnapToData",timePinDisableSnapToNow:"timePinDisableSnapToNow",a11yEnabled:"a11yEnabled",disableReason:"disableReason",messageOverrides:"messageOverrides",disableZoom:"disableZoom",disableSelection:"disableSelection",componentFactoryResolver:"componentFactoryResolver",unitOverride:"unitOverride",forceUnitChangeForRate:"forceUnitChangeForRate",
forcePercentZoom:"forcePercentZoom",height:"height",enablePanningInteractions:"enablePanningInteractions",statsManager:"statsManager",groupNameLookupFunction:"groupNameLookupFunction",colorManager:"colorManager",useV2Hovercard:"useV2Hovercard",showSubtitles:"showSubtitles",showResponsiveSubtitles:"showResponsiveSubtitles",resourceMetadataNamingFunctions:"resourceMetadataNamingFunctions",zerofill:"zerofill",yAxisValueFormatter:"yAxisValueFormatter",yAxisPrecisionLimit:"yAxisPrecisionLimit",setFocusStream:"setFocusStream",
basicMode:"basicMode",showDataTooCoarseError:"showDataTooCoarseError",showPointsOutsideDomain:"showPointsOutsideDomain"},outputs:{chartModeChange:"chartModeChange",suggestionShown:"suggestionShown",useMeanAggregationClicked:"useMeanAggregationClicked",onClick:"onClick",onSelect:"onSelect",subtitlesDrawn:"subtitlesDrawn",unitsChange:"unitsChange"},features:[_.Gc],decls:5,vars:5,consts:[[3,"height","placeholderTemplate",4,"ngIf"],[3,"a11yEnabled","chartMode","colorManager","componentFactoryResolver",
"dataLayerManager","disableZoom","disableSelection","enablePanningInteractions","enableSizeWarnings","groupId","groupNameLookupFunction","height","hovercardComponent","messageOverrides","outlierDataLayerManagers","resourceMetadataNamingFunctions","statsManager","thresholdLines","showThresholdLabels","complexThreshold","timePinEnabled","timePinSnapToData","timePinDisableSnapToNow","timeshiftDuration","title","unitOverride","useLegacyCoreChart","forcePercentZoom","forceUnitChangeForRate","yAxisScale",
"yTopMin","yBottomMax","zerofill","showSubtitles","showResponsiveSubtitles","yAxisPrecisionLimit","yAxisValueFormatter","setFocusStream","basicMode","showDataTooCoarseError","chartModeChange","onClick","suggestionShown","useMeanAggregationClicked","onSelect","subtitlesDrawn","unitsChange",4,"ngIf"],[3,"chartMode","colorManager","componentFactoryResolver","dataLayerManager","disableZoom","disableSelection","enablePanningInteractions","enableSizeWarnings","timePinEnabled","timePinSnapToData","timePinDisableSnapToNow",
"groupId","groupNameLookupFunction","height","hovercardComponent","messageOverrides","resourceMetadataNamingFunctions","statsManager","thresholdLines","showThresholdLabels","complexThreshold","timeshiftDuration","title","unitOverride","useLegacyCoreChart","forcePercentZoom","forceUnitChangeForRate","yAxisScale","yTopMin","yBottomMax","zerofill","showSubtitles","showResponsiveSubtitles","yAxisPrecisionLimit","yAxisValueFormatter","setFocusStream","basicMode","showDataTooCoarseError","showPointsOutsideDomain",
"chartModeChange","onClick","suggestionShown","useMeanAggregationClicked","onSelect","subtitlesDrawn","unitsChange",4,"ngIf"],[3,"chartMode","colorManager","componentFactoryResolver","dataLayerManager","disableZoom","disableSelection","enablePanningInteractions","enableSizeWarnings","groupId","groupNameLookupFunction","height","messageOverrides","hovercardComponent","outlierDataLayerManagers","resourceMetadataNamingFunctions","statsManager","thresholdLines","showThresholdLabels","complexThreshold",
"timePinEnabled","timePinSnapToData","timePinDisableSnapToNow","timeshiftDuration","title","unitOverride","useLegacyCoreChart","forcePercentZoom","forceUnitChangeForRate","yAxisScale","yTopMin","yBottomMax","zerofill","showSubtitles","showResponsiveSubtitles","yAxisPrecisionLimit","yAxisValueFormatter","setFocusStream","basicMode","showDataTooCoarseError","chartModeChange","onClick","suggestionShown","useMeanAggregationClicked","onSelect","subtitlesDrawn","unitsChange",4,"ngIf"],[3,"chartMode","colorManager",
"componentFactoryResolver","dataLayerManager","disableZoom","disableSelection","enablePanningInteractions","enableSizeWarnings","groupId","groupNameLookupFunction","hovercardComponent","height","messageOverrides","percentileDataLayerManager","resourceMetadataNamingFunctions","statsManager","timePinEnabled","timePinSnapToData","timePinDisableSnapToNow","timeshiftDuration","title","thresholdLines","showThresholdLabels","complexThreshold","unitOverride","useLegacyCoreChart","forcePercentZoom","forceUnitChangeForRate",
"showSubtitles","showResponsiveSubtitles","yAxisPrecisionLimit","yAxisValueFormatter","setFocusStream","basicMode","showDataTooCoarseError","chartModeChange","onClick","suggestionShown","useMeanAggregationClicked","onSelect","subtitlesDrawn","unitsChange",4,"ngIf"],[3,"height","placeholderTemplate"],[3,"a11yEnabled","chartMode","colorManager","componentFactoryResolver","dataLayerManager","disableZoom","disableSelection","enablePanningInteractions","enableSizeWarnings","groupId","groupNameLookupFunction",
"height","hovercardComponent","messageOverrides","outlierDataLayerManagers","resourceMetadataNamingFunctions","statsManager","thresholdLines","showThresholdLabels","complexThreshold","timePinEnabled","timePinSnapToData","timePinDisableSnapToNow","timeshiftDuration","title","unitOverride","useLegacyCoreChart","forcePercentZoom","forceUnitChangeForRate","yAxisScale","yTopMin","yBottomMax","zerofill","showSubtitles","showResponsiveSubtitles","yAxisPrecisionLimit","yAxisValueFormatter","setFocusStream",
"basicMode","showDataTooCoarseError","chartModeChange","onClick","suggestionShown","useMeanAggregationClicked","onSelect","subtitlesDrawn","unitsChange"],[3,"chartMode","colorManager","componentFactoryResolver","dataLayerManager","disableZoom","disableSelection","enablePanningInteractions","enableSizeWarnings","timePinEnabled","timePinSnapToData","timePinDisableSnapToNow","groupId","groupNameLookupFunction","height","hovercardComponent","messageOverrides","resourceMetadataNamingFunctions","statsManager",
"thresholdLines","showThresholdLabels","complexThreshold","timeshiftDuration","title","unitOverride","useLegacyCoreChart","forcePercentZoom","forceUnitChangeForRate","yAxisScale","yTopMin","yBottomMax","zerofill","showSubtitles","showResponsiveSubtitles","yAxisPrecisionLimit","yAxisValueFormatter","setFocusStream","basicMode","showDataTooCoarseError","showPointsOutsideDomain","chartModeChange","onClick","suggestionShown","useMeanAggregationClicked","onSelect","subtitlesDrawn","unitsChange"],[3,"chartMode",
"colorManager","componentFactoryResolver","dataLayerManager","disableZoom","disableSelection","enablePanningInteractions","enableSizeWarnings","groupId","groupNameLookupFunction","height","messageOverrides","hovercardComponent","outlierDataLayerManagers","resourceMetadataNamingFunctions","statsManager","thresholdLines","showThresholdLabels","complexThreshold","timePinEnabled","timePinSnapToData","timePinDisableSnapToNow","timeshiftDuration","title","unitOverride","useLegacyCoreChart","forcePercentZoom",
"forceUnitChangeForRate","yAxisScale","yTopMin","yBottomMax","zerofill","showSubtitles","showResponsiveSubtitles","yAxisPrecisionLimit","yAxisValueFormatter","setFocusStream","basicMode","showDataTooCoarseError","chartModeChange","onClick","suggestionShown","useMeanAggregationClicked","onSelect","subtitlesDrawn","unitsChange"],[3,"chartMode","colorManager","componentFactoryResolver","dataLayerManager","disableZoom","disableSelection","enablePanningInteractions","enableSizeWarnings","groupId","groupNameLookupFunction",
"hovercardComponent","height","messageOverrides","percentileDataLayerManager","resourceMetadataNamingFunctions","statsManager","timePinEnabled","timePinSnapToData","timePinDisableSnapToNow","timeshiftDuration","title","thresholdLines","showThresholdLabels","complexThreshold","unitOverride","useLegacyCoreChart","forcePercentZoom","forceUnitChangeForRate","showSubtitles","showResponsiveSubtitles","yAxisPrecisionLimit","yAxisValueFormatter","setFocusStream","basicMode","showDataTooCoarseError","chartModeChange",
"onClick","suggestionShown","useMeanAggregationClicked","onSelect","subtitlesDrawn","unitsChange"]],template:function(a,b){a&1&&(_.P(0,qee,1,2,"ac-empty-chart",0),_.P(1,ree,1,40,"ac-line-chart",1),_.P(2,see,1,39,"ac-time-bar-chart",2),_.P(3,tee,1,39,"ac-stacked-area-chart",3),_.P(4,uee,1,35,"ac-heatmap-chart",4));a&2&&(_.C("ngIf",b.plotType===b.plotTypes.empty),_.x(1),_.C("ngIf",b.plotType===b.plotTypes.line),_.x(1),_.C("ngIf",b.plotType===b.plotTypes.stacked_bar),_.x(1),_.C("ngIf",b.plotType===b.plotTypes.stacked_area),
_.x(1),_.C("ngIf",b.plotType===b.plotTypes.heatmap))},dependencies:[_.ll,QIe,xJe,KJe,FJe,lJe],encapsulation:2});
var Zfe=class{getDataLayerParam(a,b,c){a=_.LN(a);delete a.params["pickTimeSeriesFilter.direction"];delete a.params["pickTimeSeriesFilter.numTimeSeries"];delete a.params["pickTimeSeriesFilter.rankingMethod"];a.params["aggregation.crossSeriesReducer"]=b;delete a.params["secondaryAggregation.crossSeriesReducer"];c&&(a.params["aggregation.groupByFields"]=[]);a.params.granularity="coarse";return a}getPercentileParams(a){if(!a||"gcmv3"!==a.dlType)return null;const b=[this.getDataLayerParam(a,"REDUCE_PERCENTILE_50",
!1),this.getDataLayerParam(a,"REDUCE_PERCENTILE_95",!1),this.getDataLayerParam(a,"REDUCE_PERCENTILE_99",!1)],c=a.params["aggregation.groupByFields"];return c&&c.length?b.concat([this.getDataLayerParam(a,"REDUCE_PERCENTILE_50",!0),this.getDataLayerParam(a,"REDUCE_PERCENTILE_95",!0),this.getDataLayerParam(a,"REDUCE_PERCENTILE_99",!0)]):b}};Zfe.prototype.getPercentileParams=Zfe.prototype.getPercentileParams;_.nh("awesomecharts.utils.Percentile",Zfe);
var NJe=function(a,b,c){const d=b.costInMicros||0,e=b.costAtListPriceInMicros||b.costInMicros||0;let f=d/1E6;a.negotiatedSavingsFeatureSupported&&!c&&(f=e/1E6,a.negotiatedSavingsApplied&&(f+=(d-e)/1E6));return b.creditsInMicrosByType?Math.round((f+[...(b.creditsInMicrosByType.entries()||[])].filter(g=>a.creditTypesBySelectState_.get(g[0])).reduce((g,h)=>g+h[1],0)/1E6)*Math.pow(10,2))/Math.pow(10,2):Math.round((f+(a.anyCreditTypeSelected?(b.creditInMicros||0)/1E6:0))*Math.pow(10,2))/Math.pow(10,2)},
$7=class{constructor(a){this.series=[];this.data=[];this.creditTypesBySelectState_=void 0!=a.creditTypesBySelectState?a.creditTypesBySelectState:new Map;this.anyCreditTypeSelected=0<[...this.creditTypesBySelectState_.entries()].filter(([,b])=>b).map(([b])=>b).length;this.negotiatedSavingsFeatureSupported=a.negotiatedSavingsFeatureSupported||!1;this.negotiatedSavingsApplied=a.negotiatedSavingsApplied||!1;this.translate(a)}translate(a){switch(a.chartType){case "WATERFALL":this.translateWaterfallData(a);
break;case "CATEGORY_BAR":this.translateCategoryBarData(a);break;default:a.isTrendLine?this.translateTrendData(a):this.translateHistoricalData(a)}}translateCategoryBarData(a){this.series=[];const b=a.columns.length;for(let c=0;c<b;c++){const d=a.columns[c];for(const e of d.values){const f={color:e.color,id:d.id,name:e.name,pivot:[d.id],data:[]};for(let g=0;g<b;g++)f.data.push({x:g,y:g===c?e.value:0,value:g===c?e.value:void 0});this.series.push(f)}}}translateWaterfallData(a){const b={color:"rgba(255,255,255,0)",
id:"empty",name:"empty",pivot:["empty"],data:[]},c={color:"#bdbdbd",id:"empty",name:"empty",pivot:["empty"],data:[]},d={color:"#bdbdbd",id:"empty",name:"empty",pivot:["empty"],data:[]};var e=[];this.series=[];this.series.push(d);const f=a.columns.length;var g=1;for(var h=0;h<f;h++){var l=a.columns[h];let r=0;for(const v of l.values){var n={color:v.color,id:v.id,name:v.id,pivot:[v.id],data:[]};for(let w=0;w<f;w++){const y=w==h?Math.abs(v.value):0;r+=y;n.data.push({x:w,y,value:w==h?v.value:void 0})}if(a.showPercents){0===
h&&(g=r);for(const w of n.data)w.y/=g||1,void 0!==w.value&&(w.value/=g)}this.series.push(n)}n=0<l.values.length&&0>l.values[0].value;l.isFloating&&0<h?(l=e[h-1]-(n?r:0),b.data.push({x:h,y:l/g}),e.push(l+(n?0:r))):(b.data.push({x:h,y:0}),e.push(r))}h=a.chartHeight||300;e=Math.max.apply(null,e)/(a.showPercents&&0!=g?g:1)/(.7*h);for(g=0;g<f-1;g++)h=a.columns[g],h=0<h.values.length&&0>h.values[0].value,d.data.push({x:g,x1:g+1,y:h?0:e}),c.data.push({x:g,x1:g+1,y:h?e:0});d.data.push({x:f-1,y:0});c.data.push({x:f-
1,y:0});this.series.push(c);this.series.push(b)}translateHistoricalData(a){this.series=(a.usageResults||[]).map(b=>{const c=b.usageDataList;if(c){var d=c.map(e=>({x:"STACKED_BAR"===a.chartType?new Date(e.endTime):new Date(e.startTime),x0:new Date(e.startTime),y:NJe(this,e)}));"CUMULATIVE"===a.chartCostView&&d.reduce((e,f,g)=>d[g].y=e+(f.y||0),0);return{data:d,value_type:"NUMERIC",name:b.key.displayName,metadata:{name:b.key.displayName},id:b.key.id,color:b.color}}})}translateTrendData(a){(a.usageResults||
[]).forEach(b=>{const c=b.usageDataList;if(c&&0!==b.usageDataList.length){var d=c.map(g=>({x:new Date(g.startTime),y:NJe(this,g,!0)}));if("CUMULATIVE"===a.chartCostView){var e=0;a.forecastSummary&&(e=d.reduce((g,h)=>(h.y||0)+g,0),e=NJe(this,a.forecastSummary,!0)-e);d.reduce((g,h,l)=>d[l].y=g+(h.y||0),e)}e=c[c.length-1];var f=d[d.length-1];d.push({x:new Date(e.endTime),y:f.y});this.data.push({data:d,id:b.key.id,color:b.color});b=c.map(g=>({x:new Date(g.startTime),y:"STACKED_BAR"===a.chartType?NJe(this,
f,!0):0}));b.push({x:new Date(e.endTime),y:"STACKED_BAR"===a.chartType?NJe(this,f,!0):0});this.data.push({data:b,id:"base-trend-line"})}});this.series=this.data}};$7.prototype.translateTrendData=$7.prototype.translateTrendData;$7.prototype.translateHistoricalData=$7.prototype.translateHistoricalData;$7.prototype.translateWaterfallData=$7.prototype.translateWaterfallData;$7.prototype.translateCategoryBarData=$7.prototype.translateCategoryBarData;$7.prototype.translate=$7.prototype.translate;
var OJe=function(a){return new $7(a)};
var a8=function(){x7.call(this,OJe);this.setMinGranularity("1d");this._granularity=null};_.Ui(a8,x7);_.nh("awesomecharts.datalayer.BillingReportDataLayer",a8);a8.prototype.granularityForDomain=function(a,b){return a&&2===a.length?b?this.getMaxGranularity(this._granularity,b):this._granularity:null};a8.prototype.granularityForDomain=a8.prototype.granularityForDomain;
a8.prototype.updateData=function(a,b,c){b&&(this._lastFetchedDomain=b);c&&(this._granularity=c);return x7.prototype.updateData.call(this,a,b)};a8.prototype.updateData=a8.prototype.updateData;
var PJe=["SolutionId","Channel"],QJe=function(a,b){b.forEach(c=>{a.pivotHeaders.includes(c.name)||a.columnHeaders.push(c.name)})},RJe=function(a,b){const c=new Map;b.forEach(d=>{let e={pivot:[],data:[]};if(d.cell&&d.cell.forEach){let g=0;d.cell.forEach((h,l)=>{if("stringValue"in h){const n=h.stringValue;a.isTimeseries&&0===l?(h=[n.slice(0,4),n.slice(4,6),n.slice(6,8)],g=new Date(h.join("-")+":12:00")):e.pivot.push(h.stringValue)}else l={x:0,y:0},l.x=a.isTimeseries?g:e.data.length,"longValue"in h?
l.y=+h.longValue:"doubleValue"in h?l.y=+h.doubleValue:"boolValue"in h&&(l.y=!!h.boolValue),e.data.push(l)})}e.id=d.id||e.pivot.join(".");e.name=d.name||e.id;e.color=d.color;if(d=c.get(e.id)){if(a.isTimeseries){var f=d.data[d.data.length-1];let g=e.data[0];for(;f&&g&&936E5<+g.x-f.x;)f=new Date(864E5+f.x.valueOf()),f.setHours(12,0,0,0),f={y:0,x:f},d.data.push(f)}d.data=d.data.concat(e.data)}else c.set(e.id,e)});a.series=Array.from(c.values())},SJe=class{constructor(a){const b=a&&a.report||{};this.series=
[];this.projectId=b.projectId;this.pivotHeaders=a.pivotHeaders||PJe;this.columnHeaders=[];this.isTimeseries=a&&a.isTimeseries;QJe(this,b.columnHeader||[]);RJe(this,b.row||[])}},TJe=function(a){return new SJe(a)};
var UJe=function(){x7.call(this,TJe);this.setMinGranularity("60m")};_.Ui(UJe,x7);UJe.prototype.gapThreshold=function(){return 936E5};
var b8=function(a,b){if(!(this instanceof b8))return new b8(a,b);b=b||{};this.pathTemplate=a;this.corsDomains=b.corsDomains||null;this.baseUrls=b.baseUrls||null;this.csrfToken=b.csrfToken||null;this.multiValueParams=b.multiValueParams||!1;this.ongoingRequests=[];this.unresolvedResponses=[]};_.nh("awesomecharts.datalayer.transports.QXhrTransport",b8);b8.prototype.buildRequestParams=y7.prototype.buildRequestParams;b8.prototype.buildRequestParams=b8.prototype.buildRequestParams;
b8.prototype.read=function(a,b,c){var d=!0,e=!0;this.corsDomains&&this.corsDomain.next||(d=!1);this.baseUrls&&this.baseUrls.next||(e=!1);var f=new XMLHttpRequest;d=d?this.corsDomains.next():null;e=e?this.baseUrls.next()+this.pathTemplate:this.pathTemplate;var g=dDe(e,a,d,this.multiValueParams),h=g.url;return new Promise((l,n)=>{this.ongoingRequests.push(f);let r={resolve:l,reject:n};this.unresolvedResponses.push(r);b=_.KN(b||{});b.method=(b.method||"GET").toUpperCase();var v={};"POST"===b.method||
"PUT"===b.method?(b.body&&(b.body=JSON.stringify(b.body)),g.queryParams&&Object.keys(g.queryParams).length&&(h+=g.queryString),v["Content-Type"]="application/json",this.csrfToken&&(v["X-CSRFToken"]=this.csrfToken)):(b.body&&console.warn("Unexpected body for "+b.method+" of "+g.url),h+=g.queryString);f.withCredentials=!0;f.open(b.method,h,!0);f.setRequestHeader("Accept","application/json");_.JN(v,b.headers||{});for(var w in v)v.hasOwnProperty(w)&&f.setRequestHeader(w,v[w]);f.onreadystatechange=()=>
{var y=this.ongoingRequests.indexOf(f);-1<y&&this.ongoingRequests.splice(y,1);y=this.unresolvedResponses.indexOf(r);-1<y&&this.unresolvedResponses.splice(y,1);4===f.readyState&&(y=f.getResponseHeader("Content-Type"),200===f.status?y&&0===y.indexOf("application/json")?(y=f.responseText.replace(Zze,""),l(JSON.parse(y))):n(new _.$N("Invalid data-layer content type.  Expected application/json got "+y,g.url)):(y=Xze(f.status),y.addDetails({urlParams:a,transportParams:b}),n(y)))};c&&setTimeout(()=>{n(new _.bO)},
c);f.send(b.body||"")})};b8.prototype.cleanup=function(){for(;0<this.ongoingRequests.length;)this.ongoingRequests.pop().abort();for(;0<this.unresolvedResponses.length;)this.unresolvedResponses.pop().reject(new _.Vnc("Request aborted due to XHR transport cleanup."))};
var VJe=_.DN.restDomainsConfig_,WJe=function(a,b){if(!(this instanceof WJe))return new WJe(a,b);this.baseUrls=VJe.getMetrics();_.DN.isWhitelisted("chart-use-integrated-publicapi")?this.pathTemplate="/_/gcmmetrics/v3/timeseries":this.pathTemplate="/gcmmetrics/v3/timeseries";this.method="GET";G7.call(this,a,b||b8)};_.Ui(WJe,G7);_.nh("awesomecharts.datalayer.SdProxyGcmMetricsV3DataLayer",WJe);
var XJe=a=>{var b=a.params;a=b.granularity;b=new WJe(b);b.setGranularityCutoffs(a||null);return b},YJe=a=>{if(Array.isArray(a)){if(1<a.length){const c=new H7,d=[];let e=!1;a.forEach(f=>{f.params.legendTemplate?(d.push(f.params.legendTemplate),e=!0):d.push(null);f=XJe(f);c.addChild(f)});e&&c.setLabelTemplateStrings(d);return c}if(1===a.length)a=a[0];else throw Error("jl");}const b=a.params.legendTemplate;a=XJe(a);b&&a.setLabelTemplateString(b);return a};
var ZJe=_.DN.restDomainsConfig_,$Je=function(a,b){if(!(this instanceof $Je))return new $Je(a,b);this.baseUrls=ZJe.publicChartsSelector_;_.DN.isWhitelisted("chart-use-integrated-publicapi")?this.pathTemplate="/_/gcmmetrics/public/:token":this.pathTemplate="/gcmmetrics/public/:token";this.method="GET";G7.call(this,a,b||b8)};_.Ui($Je,G7);_.nh("awesomecharts.datalayer.SdProxyPublicGcmMetricsV3DataLayer",$Je);
$Je.prototype.formatParams_=function(a,b,c){var d=this._timeMargin;a.timeMarginSeconds&&(d=a.timeMarginSeconds);b=_.Gnc(b,Rze,d,this.granularityToSeconds(c));a["interval.startTime"]=b.oldest;a["interval.endTime"]=b.youngest;this.aggregateToRate()&&(a["aggregation.perSeriesAligner"]="ALIGN_RATE");!c&&a["aggregation.perSeriesAligner"]&&(c="1m");if(c){b=a["aggregation.alignmentPeriod"]||"+60s";try{let e=parseInt(b,10)||60;const f=this.granularityToSeconds(c);e=Math.max(e,f);null!==e&&(b="+"+e.toString()+
"s");a["aggregation.alignmentPeriod"]=b;a["denominatorAggregation.perSeriesAligner"]&&(a["denominatorAggregation.alignmentPeriod"]=b);a["aggregation.perSeriesAligner"]||(a["aggregation.perSeriesAligner"]="ALIGN_MEAN")}catch(e){console.warn("Could not parse granularity string: "+e)}}return a};
var aKe=a=>{a=Object.assign(a.params||{},a);const b=a.granularity;a=new $Je(a);a.setGranularityCutoffs(b||null);return a},bKe=a=>{if(Array.isArray(a)){if(1<a.length){const b=new H7;for(const c of a)a=aKe(c),b.addChild(a);return b}if(1===a.length)a=a[0];else throw Error("jl");}return aKe(a)};
var cKe=a=>{const b=a.granularity;a=new G7(a);a.setGranularityCutoffs(b||null);return a},dKe=a=>{if(Array.isArray(a)){if(1<a.length){const c=new H7,d=[];let e=!1;a.forEach(f=>{f.legendTemplate?(d.push(f.legendTemplate),e=!0):d.push(null);f=cKe(f);c.addChild(f)});e&&c.setLabelTemplateStrings(d);return c}if(1===a.length)a=a[0];else throw Error("jl");}const b=a.legendTemplate;a=cKe(a);b&&a.setLabelTemplateString(b);return a};
var c8=function(){if(!(this instanceof c8))return new c8;this.dlType=this.dlType||"selector";this.children={};this._selected=null;this._childIDCounter=0;this.tzOffset=this._childWarningHandler=this._childErrorHandler=this._childFetchCompleteHandler=this._childChangeHandler=null;_.mO.call(this,null)};_.Ui(c8,_.mO);_.nh("awesomecharts.datalayer.SelectorDataLayer",c8);_.aa=c8.prototype;
_.aa.addChild=function(a,b){if(!a)return"";b=null===this._selected||!0===b;const c=(++this._childIDCounter).toString();this.children[c]=a;b&&this.setSelected(c);(b=this.getTimeshiftOffset())&&a.setTimeshiftOffset(b);a.setTzOffset&&this.tzOffset&&a.setTzOffset(this.tzOffset);a.setServerPagingEnabled(this.serverPagingEnabled_);return c};_.aa.setServerPagingEnabled=function(a){_.IN(this.children,function(b){b.setServerPagingEnabled(a)});this.serverPagingEnabled_=a};
_.aa.setTzOffset=function(a){_.IN(this.children,function(b){b.setTzOffset&&b.setTzOffset(a)});this.tzOffset=a};_.aa.setTimeshiftOffset=function(a){0<a&&(a=0);_.IN(this.children,function(b){b.setTimeshiftOffset(a)});this.timeshiftoffset_=a};
_.aa.setSelected=function(a){const b=this.children[a];if(!b)throw Error("kl`"+a);if(this._selected!==a){if(null!==this._selected){const c=this.children[this._selected];null!==this._childChangeHandler&&c.removeDataChangeHandler(this._childChangeHandler);null!==this._childFetchCompleteHandler&&c.removeDataFetchCompleteHandler(this._childFetchCompleteHandler);null!==this._childErrorHandler&&c.removeErrorHandler(this._childErrorHandler);null!==this._childWarningHandler&&c.removeWarningHandler(this._childWarningHandler)}this._selected=
a;this._childChangeHandler=b.addDataChangeHandler((c,d)=>this.triggerDataChanged_(c,d));this._childFetchCompleteHandler=b.addDataFetchCompleteHandler(()=>eKe(this));this._childErrorHandler=b.addErrorHandler(c=>this.handleError(c));this._childWarningHandler=b.addWarningHandler(()=>this.handleWarning());a=this.getLastFetchedDomain();this._lastFetchedDomain=null;null!==a&&this.triggerDataChanged_(a)}};_.aa.setGranularityCutoffs=function(a){_.IN(this.children,b=>b.setGranularityCutoffs(a))};
var d8=function(a){return null===a._selected?null:a.children[a._selected]},eKe=function(a){_.IN(a._onDataFetchComplete,b=>{"function"===typeof b&&b()})};_.aa=c8.prototype;_.aa.triggerDataChanged_=function(a,b){_.IN(this._onDataChange,c=>{"function"===typeof c&&c(a,b)})};_.aa.isTopN=function(){const a=d8(this);return a&&a.isTopN&&a.isTopN()};_.aa.topNLabel=function(){if(!this.isTopN())return"";const a=d8(this);return a&&a.topNLabel?a.topNLabel():""};
_.aa.isCapped=function(){const a=d8(this);return a&&a.isCapped?a.isCapped():!1};_.aa.getInfoObjects=function(){const a=d8(this);return a&&a.getInfoObjects?a.getInfoObjects():null};c8.prototype.getInfoObjects=c8.prototype.getInfoObjects;c8.prototype.getIsLoadingInterval=function(){const a=d8(this);return a&&a.getIsLoadingInterval&&a.getIsLoadingInterval()};c8.prototype.setLabelTemplateString=function(a){const b=d8(this);b&&b.setLabelTemplateString&&b.setLabelTemplateString(a)};
c8.prototype.setLabelTemplateString=c8.prototype.setLabelTemplateString;c8.prototype.fetch=function(a,b,c){this.handleDataFetch();this._lastFetchedDomain=a;const d=d8(this);return null===d?null:d.fetch(...arguments)};c8.prototype.fetch=c8.prototype.fetch;c8.prototype.generateLabelTables=function(){const a=d8(this);return a.generateLabelTables?a.generateLabelTables():null};c8.prototype.generateLabelTables=c8.prototype.generateLabelTables;
c8.prototype.generateLabelTemplate=function(){const a=d8(this);return a.generateLabelTemplate?a.generateLabelTemplate():null};c8.prototype.generateLabelTemplate=c8.prototype.generateLabelTemplate;c8.prototype.getData=function(a,b){var c=d8(this);if(null===c)return null;if(c=c.getData(...arguments))c.dataLayer=this;return c};c8.prototype.getData=c8.prototype.getData;c8.prototype.getDataArray=function(a,b){const c=d8(this);return null===c?[]:c.getDataArray(...arguments)};c8.prototype.getDataArray=c8.prototype.getDataArray;
c8.prototype.hasData=function(a){const b=d8(this);return null!==b&&b.hasData(a)};c8.prototype.hasData=c8.prototype.hasData;c8.prototype.dataSeries=function(a){const b=d8(this);null!==b&&(a=b.dataSeries(a));a&&(a.dataLayer=this);return a};c8.prototype.dataSeries=c8.prototype.dataSeries;c8.prototype.getLastFetchedDomain=function(){if(null!==this._lastFetchedDomain)return this._lastFetchedDomain;const a=d8(this);return null!==a?this._lastFetchedDomain=a.getLastFetchedDomain():null};
c8.prototype.getLastFetchedDomain=c8.prototype.getLastFetchedDomain;c8.prototype.cleanupChildren=function(){const a=d8(this);null!==a&&a.cleanup()};c8.prototype.cleanupChildren=c8.prototype.cleanupChildren;c8.prototype.resetCleanupFlagForChildren=function(){const a=d8(this);null!==a&&a.resetCleanupFlag()};c8.prototype.resetCleanupFlagForChildren=c8.prototype.resetCleanupFlagForChildren;
var e8=function(a){if(!(this instanceof e8))return new e8(a);this.dlType=this.dlType||"transform";this.child=null;this.transform=a;this._childErrorHandlerId=this._childChangeHandlerId=null;_.mO.call(this,null)};_.Ui(e8,_.mO);_.nh("awesomecharts.datalayer.TransformDataLayer",e8);
var fKe=function(a,b){b&&(null!==a.child&&(null!==a._childChangeHandlerId&&a.child.removeDataChangeHandler(a._childChangeHandlerId),null!==a._childErrorHandlerId&&a.child.removeErrorHandler(a._childErrorHandlerId)),a.child=b,a._childChangeHandlerId=b.addDataChangeHandler((c,d)=>a.triggerDataChanged_(c,d)),a._childErrorHandlerId=b.addErrorHandler(c=>a.handleError(c)))};e8.prototype.triggerDataChanged_=function(a,b){_.IN(this._onDataChange,c=>c(a,b))};e8.prototype.setGranularityCutoffs=function(a){this.child.setGranularityCutoffs(a)};
e8.prototype.fetch=function(a,b,c){this._lastFetchedDomain=a;if(null===this.child)throw Error("ll");return this.child.fetch(...arguments)};e8.prototype.fetch=e8.prototype.fetch;e8.prototype.getData=function(a,b){if(null===this.child)throw Error("ml");let c=this.child.getData(...arguments);c&&(c=this.transform(c),c.dataLayer=this);return c};e8.prototype.getData=e8.prototype.getData;e8.prototype.hasData=function(a){return null===this.child?!1:this.child.hasData(a)};e8.prototype.hasData=e8.prototype.hasData;
e8.prototype.dataSeries=function(a){null!==this.child&&(a=this.child.dataSeries(a));a&&(a.dataLayer=this);return a};e8.prototype.dataSeries=e8.prototype.dataSeries;
var gKe=function(){if(!(this instanceof gKe))return new gKe;c8.call(this);this.base=null};_.Ui(gKe,c8);_.nh("awesomecharts.datalayer.ModeBasedDataLayer",gKe);gKe.prototype.addBase=function(a){this.base=a;if(null===a)return{};const b=this.addChild(a),c=new e8(d=>{const e=_.MN(d.series,f=>f.data);return{data:d,bucketed:_.Irc(e)}});fKe(c,a);a=this.addChild(c,!1);return{"x-ray":b,color:b,stats:a,outlier:a}};
var hKe=a=>{a=dKe(a);const b=new gKe;b.addBase(a);return b};
var iKe=class extends mCe{constructor(a){super();this.register("adaptor",vee(x7));this.register("billingReport",vee(a8));this.register("concord",vee(UJe));this.register("mixedSdv3",BHe(a));this.register("sdV3",dKe);this.register("gcmV3Proxy",YJe);this.register("gcmV3PublicProxy",bKe);this.register("wrapped",hKe)}};iKe.\u0275fac=function(a){return new (a||iKe)(_.p(CHe))};iKe.\u0275prov=_.m({token:iKe,factory:iKe.\u0275fac,providedIn:"root"});
var wee=function(a){return{"background-color":a}},jKe=class extends OIe{streamStyle(a,b,c){return b||c?{color:a.color}:{color:"currentcolor"}}};jKe.\u0275fac=function(a){return new (a||jKe)(_.A(n7),_.A(_.el),_.A(_.Jf),_.A(_.ad),_.A(_.ut,8),_.A(s7),_.A(q7))};
jKe.\u0275cmp=_.q({type:jKe,selectors:[["ac-inline-legend"],["ac-legacy-inline-legend"]],features:[_.wd],decls:2,vars:1,consts:[[1,"ac-inline-legend"],["class","ac-inline-legend-items",4,"ngFor","ngForOf"],[1,"ac-inline-legend-items"],["class","ac-inline-legend-item",3,"ngStyle","click","mouseover","mouseleave",4,"ngIf"],[1,"ac-inline-legend-item",3,"ngStyle","click","mouseover","mouseleave"],[1,"ac-inline-legend-chip",3,"ngStyle"],[1,"ac-legend-value",3,"hidden"]],template:function(a,b){a&1&&(_.E(0,
"div",0),_.P(1,yee,2,1,"div",1),_.F());a&2&&(_.x(1),_.C("ngForOf",b.streams))},dependencies:[_.kl,_.ll,_.xD,_.pl],styles:[".ac-inline-legend[_ngcontent-%COMP%], .ac-inline-legend-items[_ngcontent-%COMP%]{display:inline-block}.ac-inline-legend[_ngcontent-%COMP%]   .ac-inline-legend-item[_ngcontent-%COMP%], .ac-inline-legend-items[_ngcontent-%COMP%]   .ac-inline-legend-item[_ngcontent-%COMP%]{box-sizing:content-box;cursor:pointer;display:inline-block;height:12px;margin-right:6px;padding:4px 6px}.ac-inline-legend[_ngcontent-%COMP%]   .ac-inline-legend-item[_ngcontent-%COMP%]   .ac-inline-legend-chip[_ngcontent-%COMP%], .ac-inline-legend-items[_ngcontent-%COMP%]   .ac-inline-legend-item[_ngcontent-%COMP%]   .ac-inline-legend-chip[_ngcontent-%COMP%]{border-radius:50px;display:inline-block;height:12px;margin-right:6px;vertical-align:middle;width:12px}.ac-inline-legend[_ngcontent-%COMP%]   .ac-inline-legend-item[_ngcontent-%COMP%]   .ac-legend-value[_ngcontent-%COMP%], .ac-inline-legend-items[_ngcontent-%COMP%]   .ac-inline-legend-item[_ngcontent-%COMP%]   .ac-legend-value[_ngcontent-%COMP%]{margin:0 5px;min-width:5em;text-overflow:ellipsis;white-space:nowrap}.ac-inline-legend[_ngcontent-%COMP%]   .ac-inline-legend-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .ac-inline-legend-items[_ngcontent-%COMP%]   .ac-inline-legend-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;height:12px}.ac-legend-key[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ac-legend-table-virtual-scroll[_ngcontent-%COMP%]{display:block;flex-grow:1;overflow-y:scroll}.ac-legend-table-virtual-scroll.overflow-visible[_ngcontent-%COMP%]{overflow-y:visible;overflow:visible}ac-table-legend[_ngcontent-%COMP%], ng2-ac-table-legend[_ngcontent-%COMP%], .ac-table-legend-switch[_ngcontent-%COMP%]{display:flex;flex-direction:column}.ac-table-legend-switch[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]::after, .ac-table-legend-switch[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]::before, .ac-table-legend-switch[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], .ac-table-legend-switch[_ngcontent-%COMP%]{box-sizing:content-box}.ac-table-legend-switch.scrolling-div[_ngcontent-%COMP%]{overflow:auto}.ac-table-legend-value[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;user-select:text}.ac-table-value-column[_ngcontent-%COMP%], .ac-table-legend-value[_ngcontent-%COMP%]{display:inline-block;flex:none;text-align:right;width:80px}.ac-table-legend-value.ac-stats-left-align[_ngcontent-%COMP%]{text-align:left}.ac-table-value-column.ac-stats-left-align[_ngcontent-%COMP%]{text-align:left}div.ac-table-legend-value.legend-table-cell.current-value[_ngcontent-%COMP%], span.ac-table-value-column.legend-table-cell.current-value[_ngcontent-%COMP%]{box-sizing:content-box;padding:0 8px 0 0}.ac-table-options-column[_ngcontent-%COMP%]{display:inline-block;flex:none;align-content:center;width:40px}div.ac-table-legend-options.legend-table-cell.table-options[_ngcontent-%COMP%]{min-width:40px;width:40px}.ac-chip-static-container[_ngcontent-%COMP%]{flex:none;width:50px}.ac-chip-relative-container[_ngcontent-%COMP%]{flex:none;line-height:42px;position:relative}.ac-chip-absolute-background[_ngcontent-%COMP%]{height:12px;line-height:42px;padding:15px 8px 15px 24px;position:absolute;width:12px;box-sizing:content-box}.ac-table-legend-chip[_ngcontent-%COMP%]{border-radius:50px;flex:none;height:12px;line-height:42px;position:absolute;margin:15px 8px 15px 24px;width:12px}.ac-table-legend-chip.ac-chip-position-static[_ngcontent-%COMP%]{position:static}.ac-table-legend-header[_ngcontent-%COMP%]{display:block;font-weight:bold;margin:0}ac-table-legend-header[_ngcontent-%COMP%], ac-stats-legend-header[_ngcontent-%COMP%]{border-style:solid;border-width:1px 0;cursor:default;display:block;height:42px;line-height:42px}mat-icon.sort-icon[_ngcontent-%COMP%]{vertical-align:middle;width:18px;visibility:visible}mat-icon.sort-icon.hidden[_ngcontent-%COMP%]{overflow:hidden;visibility:hidden}.sortable-column[_ngcontent-%COMP%]{cursor:pointer}.ac-table-legend-row[_ngcontent-%COMP%]{border-style:solid;border-width:0 0 1px;cursor:pointer;display:block;height:42px;line-height:42px}.ac-table-legend-label[_ngcontent-%COMP%]{overflow-x:hidden;text-overflow:ellipsis;white-space:nowrap;user-select:text}.legend-table-cell[_ngcontent-%COMP%]{height:42px;padding-left:0;padding-right:8px}.legend-table-cell.leftmost-frozen[_ngcontent-%COMP%]{padding-left:8px}.legend-table-cell.last[_ngcontent-%COMP%]{padding-right:0}.ac-table-legend-label-header[_ngcontent-%COMP%], .ac-table-legend-value-header[_ngcontent-%COMP%]{overflow-x:hidden;text-overflow:ellipsis;white-space:nowrap}div.column-selector-menu-scroll[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:visible;max-height:184px}div.column-selector-menu-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding-right:8px;height:40px}div.column-selector-menu-buttons[_ngcontent-%COMP%]   button.mat-button[_ngcontent-%COMP%]{color:#3367d6;margin:4px 0px}.column-selector-icon[_ngcontent-%COMP%]{width:32px;height:32px;padding:4px;border-radius:50%;margin-top:8px}.column-selector-icon[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.1)}.column-selector-header[_ngcontent-%COMP%]{height:32px;padding:8px 0px 8px 16px;color:rgba(0,0,0,.66)}\n/*# sourceMappingURL=legend_style.css.map */"]});
var kKe=class extends J7{constructor(a,b,c,d,e){super();this.base=a;this.chart=b;this.width=c;this.height=d;this.margins=e;this.chartType="timeAxis";this.theme=_.DN.getColorTheme();this.axisCanvas=this.base.append("canvas").node();this.drawBuffer=new _.nP({width:this.width,height:this.height,canvas:this.axisCanvas,fillStyle:_.ZO("label",this.theme),strokeStyle:_.ZO("x-axis",this.theme),font:"smaller sans-serif",textAlign:"center",textBaseline:"top",strokeWidth:1});this.xAxis=d3.axisBottom(this.chart.xScale)}draw(){this.drawInner(this.width,
this.margins)}handleResize(a,b,c){this.width=b;this.margins=c;this.height=a;this.drawBuffer.resize(b,a);this.drawInner(b,c)}drawInner(a,b){this.drawBuffer.clear();const {tickLength:c,tickTextOffset:d,textPadding:e,ticks:f,tickFormat:g}=this.computeTicksAndFormat();if(f){f.reverse();var h=[];a-=e;for(let n=0;n<f.length;n++){const r=f[n];if(!(r instanceof Date))continue;var l=this.xAxis.scale()(r)||0;const v=g(r),w=this.drawBuffer.measureText(v);l=b.left+l;const y=l-w/2;y<e||l+w/2>a||(h.push({date:r,
text:v,textCenter:l}),a=y-e)}for(b=1;b<h.length;b++)this.updateLaterTickDataForYearBoundary(h[b],h[b-1],g);h.forEach(n=>{_.eP(this.drawBuffer,n.text,n.textCenter,d);this.chart.showTickLines&&this.drawBuffer.drawLines([{data:[[n.textCenter,0],[n.textCenter,c]]}])})}}getInitialTicks(){const a=this.xAxis.tickArguments()[0];var b=this.xAxis.tickValues()||[];if(!b.length){const d=this.chart.getTimezonePreference();b=this.xAxis.scale().copy();var c=b.domain();let e=c[0];c=c[1];e=_.PN(e,d,1);c=_.PN(c,d,
1);b.domain([e,c]);b=b.ticks(a)||[];b=_.snc(d,b)||[]}return b}computeTicksAndFormat(){let a=5,b=this.getInitialTicks();var c=b.reduce((f,g,h)=>h+1===b.length?f:Math.min(f,Math.abs(b[h+1].valueOf()-g.valueOf())),Infinity);const d=this.chart.getTickStyle(),e=this.chart.getTimeFormatter();if(e){const f=this.chart.getTimezonePreference();c=(g,h)=>e(_.PN(g,f),h)}else if(d){const f=_.DN.getTimezone();c=g=>d.formatter(_.PN(g,f));b=this.xAxis.scale().ticks(d.interval);a=10}else c=_.rnc(this.chart.getTimezonePreference())(c);
return{tickLength:5,tickTextOffset:7,textPadding:a,ticks:b,tickFormat:c}}updateLaterTickDataForYearBoundary(a,b,c){var d=this.chart.getTimezonePreference();a=_.PN(a.date,d);d=_.PN(b.date,d);a.getFullYear()<d.getFullYear()&&(c=c(d,!0),d=this.drawBuffer.measureText(c),a=this.drawBuffer.measureText(b.text),d<=a&&(b.text=c))}};
var lKe=d3.timeInterval(a=>{15>a.getDate()&&a.setMonth(a.getMonth()-1);a.setDate(15);a.setHours(0,0,0,0)},(a,b)=>{a.setMonth(a.getMonth()+b)}),mKe=d3.timeInterval(a=>{12>a.getHours()&&a.setDate(a.getDate()-1);a.setHours(12,0,0,0)},(a,b)=>{a.setDate(a.getDate()+b)}),nKe=d3.timeInterval(a=>{30>a.getMinutes()&&a.setHours(a.getHours()-1);a.setMinutes(30,0,0)},(a,b)=>{a.setHours(a.getHours()+b)}),oKe={month:{formatter:_.Cnc,interval:d3.timeMonth},midMonth:{formatter:_.Cnc,interval:lKe},date:{formatter:_.Anc,
interval:d3.timeDay},midDate:{formatter:_.Anc,interval:mKe},hour:{formatter:_.Enc,interval:d3.timeHour},midHour:{formatter:_.Enc,interval:nKe}},pKe=class extends nIe{constructor(a){super(a);this.base=a;this.chartType="timeAxis";this.theme=_.DN.getColorTheme();this.yAxisPosition="right";this.margins={top:0,bottom:0,left:"left"===this.yAxisPosition?60:10,right:"right"===this.yAxisPosition?60:10};this.xScale=d3.scaleTime();this.xAxis=d3.axisBottom(d3.scaleTime());this.showTickLines=!0;this.timePin=new _.jP;
this.emptyStateManager=new _.kO;a.classed("sd-time-legend",!0);_.DN.isWhitelisted("chart-time-pin")||(this.proxyEvent(this.base,"mousedown"),this.proxyEvent(this.base,"mousemove"),this.proxyEvent(this.base,"mouseup"),this.proxyEvent(this.base,"mouseenter"),this.proxyEvent(this.base,"mouseleave"));this.setTimezonePreference(_.DN.getTimezone());const b=new kKe(this.base,this,this._innerWidth,this._innerHeight,this.margins);this.layers.push(b);this.on("change:yAxisPosition",()=>{this.margins.left="left"===
this.yAxisPosition?60:10;this.margins.right="right"===this.yAxisPosition?60:10;b.handleResize(this._innerWidth,this._innerHeight,this.margins)});this.on("change:scale",()=>{this.xAxis.scale(this.xScale);this.redrawXAxis()});a=()=>{this.xAxis.ticks(Math.floor(this._innerWidth/80));this.xScale.range([0,this._innerWidth]);this.trigger("change:scale")};a();this.on("change:innerWidth",a);this.on("change:innerHeight",a);this.setHeight(20)}domainX(a){if(a){const b=this.xScale.domain();_.TN(b,a)||(this.xScale.domain(a),
this.redrawXAxis())}return this.xScale.domain()}setTickStyle(a){this.tickStyleId=a;this.redrawXAxis()}getTickStyle(){return oKe[this.tickStyleId||""]}setTimeFormatter(a){a&&(this.timeFormatter=a,this.redrawXAxis())}getTimeFormatter(){return this.timeFormatter}setYAxisPosition(a){this.yAxisPosition=a;this.trigger("change:yAxisPosition")}brush(){}brushLock(){}xStateFromPos(a){return this.xScale.invert(a)}unit(a){return this.unitInternal=a||this.unitInternal}redrawXAxis(){this.draw()}getExternalTickFormat(){const a=
this.getTimeFormatter(),b=this.getTickStyle();if(a){const c=this.getTimezonePreference();return(d,e)=>a(_.PN(d,c),e)}if(b){const c=_.DN.getTimezone();return d=>b.formatter(_.PN(d,c))}return _.rnc(this.getTimezonePreference())()}mouseValue(){const a=this.mousePosInMargin();return this.xScale.invert(a[0])}isXPosInMargin(a){return a>this.margins.left&&a<this.widthInternal-this.margins.right}draw(){L7(this,a=>{a.draw([],this.emptyStateManager)},{useDrawQueue:!0})}};
var qKe=["timelineWrapper"],rKe=["timePin"],sKe=["timePinUnpinButton"],zee=function(a,b,c){return{locked:a,draggable:b,dragging:c}},tKe=function(a){return{dragging:a}},Aee=function(a){if(!a.acChart)return"";if(a.timePin.isTrackingNow())return"now";const b=a.timePin.getDate();if(b){const c=a.acChart.domainX();return a.tickFormat(X9d(b,c))}return""},xKe=function(a){d3.select(a.timelineWrapperNode.nativeElement).on("mousemove",()=>uKe(a)).on("mouseup",()=>{if(vKe(a)){if(a.wasMouseDownRecordedOnTimePinHandle){var b=
a.timePin.getDate();!a.timePin.isLocked()&&b&&(a.timePinDisableSnapToNow?a.timePinManager.setAll(b):r7(a.timePinManager,b))}else a.clickResetTimePinEnabled&&(b=a.acChart.mouseValue("x"),a.timePinDisableSnapToNow?a.timePinManager.setAll(b,!0):r7(a.timePinManager,b,!0),a.cdr.detectChanges());a.setChartFocus.emit();a.wasMouseDownRecordedOnTimePinHandle=!1;a.timePinHandlDragOffset=0}});d3.select(a.timePinHandleNode.nativeElement).on("mousedown",Cee(()=>{if(vKe(a)){a.wasMouseDownRecordedOnTimePinHandle=
!0;var b=a.timePin.getDate();a.timePinHandlDragOffset=b?a.acChart.mouseValue("x").getTime()-b.getTime():0;wKe(a)}}));d3.select(a.timePinUnsetBottonNode.nativeElement).on("click",()=>{rCe(a.timePinManager);uKe(a)});a.timeline.on("change:innerWidth",()=>{a.timePin.isLocked()&&a.cdr.detectChanges()}).on("change:scale",()=>{a.tickFormat=a.acChart.getExternalTickFormat();if(a.timePin.getDate()&&a.timePinManager){var b=a.timePinManager;const d=b.chartGroupManager.domain;if(!b.prevDomain||!X$d(d,b.prevDomain)){var c=
b.getDate();c&&(W$d(d,c)?b.chartGroupTimePin.isTrackingNow()?sCe(b,b.chartGroupTimePin.isLocked()):b.setAll(c,b.chartGroupTimePin.isLocked()):(rCe(b),b.onUnsetOnDomainChangeSubj.next()),b.prevDomain=d)}}a.cdr.detectChanges()});a.acChart.timePin.onSetChange.pipe(_.Af(a.destroyed)).subscribe(()=>{a.cdr.detectChanges()});a.acChart.timePin.onTrackNowChange.pipe(_.Af(a.destroyed)).subscribe(()=>{a.cdr.detectChanges()})},uKe=function(a){if(vKe(a)&&!a.timePin.isLocked()){var b=a.acChart.mouseValue("x");
a.timePinDisableSnapToNow?a.timePinManager.setAll(b,!1):r7(a.timePinManager,b,!1);a.cdr.detectChanges()}},vKe=function(a){a=a.acChart.domainX();return a[1]>a[0]},yKe=function(a){a.isTimePinDragging=!1;const b=d3.select("body");b.on("mousemove.brush",null);b.on("mouseup.brush",null);a.wasMouseDownRecordedOnTimePinHandle=!1;a.timePinHandlDragOffset=0},wKe=function(a){const b=d3.select("body");b.on("mousemove.brush",()=>{a:{a.isTimePinDragging=!0;var c=a.acChart.mouseValue("x"),d=a.timePin.getDate();
const e=c.getTime()-a.timePinHandlDragOffset;c=!0;if(d){if(e===d.getTime())break a;c=!a.timePinDisableSnapToNow&&e>d.getTime()}d=new Date(e);c?(r7(a.timePinManager,d),a.timePin.isTrackingNow()&&yKe(a)):(a.timePinManager.setAll(d),a.timePinManager.disableTrackNow());a.cdr.detectChanges()}});b.on("mouseup.brush",()=>{yKe(a)})},zKe=class extends zCe{constructor(a,b,c,d,e,f,g,h,l,n){super(a,b,c,d,e,f,g,h,l,n);this.clickResetTimePinEnabled=this.timePinDisableSnapToNow=this.timePinEnabled=!1;this.yAxisPosition=
"right";this.setChartFocus=new _.$k;this.chartType="timeLegend";this.isTimePinDragging=!1;this.timePinHandlDragOffset=0;this.wasMouseDownRecordedOnTimePinHandle=!1}get timePin(){return this.acChart.timePin}get isTimePinLocked(){return this.acChart&&this.timePin&&!(!this.timePin.isLocked()||!this.timePin.getDate())}get canShowTimePinHandle(){return this.acChart&&this.timePin&&!(!this.timePin.getDate()&&!this.isTimePinLocked)}get isTimePinDraggable(){return this.isTimePinLocked&&!this.isTimePinDragging}get timePinHandleOffset(){if(!this.acChart)return 0;
const a=this.timePin.getDate();if(!a)return 0;const b="left"===this.yAxisPosition?60:10;return void 0!==this.acChart.scale?this.acChart.scale("x")(a)+b:this.acChart.xScale(a)+b}ngOnChanges(a){const b=this.acChart;b&&a.timeFormat&&(a.timeFormatter&&b.setTimeFormatter(this.timeFormatter),a.timeFormat&&b.setTickStyle(this.timeFormat));a.timePinEnabled&&this.timePinEnabled&&this.acChart&&((a=this.acChart)&&a.timePinEnabled(this.timePinEnabled),this.cdr.detectChanges(),this.tickFormat=this.acChart.getExternalTickFormat(),
xKe(this))}chartTypeSetup(){var a=this.acChart;this.timeline=a;a.allowScrollZoomAndPan&&(a.allowScrollZoomAndPan(!0),a.enableScrollZoom(this.enablePanningInteractions),a.enableDragPan(this.enablePanningInteractions),a.enableAxisZoom(this.enablePanningInteractions));this.timeFormatter&&this.acChart.setTimeFormatter(this.timeFormatter);this.timeFormat&&this.acChart.setTickStyle(this.timeFormat);this.showTicks&&(void 0!==this.acChart.scale?this.acChart.base.attr("with-lines",this.showTicks):this.acChart.showTickLines=
this.showTicks);this.timezoneService.timezone.pipe(_.Af(this.destroyed)).subscribe(b=>{this.acChart&&(this.acChart.setTimezonePreference(b),this.acChart.redrawXAxis())});this.timePinEnabled&&this.acChart&&((a=this.acChart)&&a.timePinEnabled(this.timePinEnabled),this.cdr.detectChanges(),this.tickFormat=this.acChart.getExternalTickFormat(),xKe(this));this.acChart.setYAxisPosition(this.yAxisPosition)}createChartGroupChild(){return this.useLegacyCoreChart?super.createChartGroupChild():new pKe(d3.select(this.chartElementRef.nativeElement))}};
zKe.\u0275fac=function(a){return new (a||zKe)(_.A(n7),_.A(_.Jf),_.A(q7),_.A(o7),_.A(_.el),_.A(t7),_.A(_.ad),_.A(_.ut,8),_.A(s7),_.A(p7))};
zKe.\u0275cmp=_.q({type:zKe,selectors:[["ac-timeline"]],viewQuery:function(a,b){a&1&&(_.Oe(qKe,7),_.Oe(rKe,5),_.Oe(sKe,5));if(a&2){let c;_.Ne(c=_.Qe())&&(b.timelineWrapperNode=c.first);_.Ne(c=_.Qe())&&(b.timePinHandleNode=c.first);_.Ne(c=_.Qe())&&(b.timePinUnsetBottonNode=c.first)}},inputs:{enablePanningInteractions:"enablePanningInteractions",timePinEnabled:"timePinEnabled",timePinDisableSnapToNow:"timePinDisableSnapToNow",clickResetTimePinEnabled:"clickResetTimePinEnabled",timeFormat:"timeFormat",
timeFormatter:"timeFormatter",showTicks:"showTicks",yAxisPosition:"yAxisPosition"},outputs:{setChartFocus:"setChartFocus"},features:[_.wd,_.Gc],decls:5,vars:4,consts:[[1,"timeline-wrapper",3,"ngClass","mouseleave"],["timelineWrapper",""],[4,"ngIf"],[1,"timeline","sd-chart-base-timeline"],["chart",""],[1,"time-pin",3,"ngClass"],["timePin",""],[1,"time-pin-label"],[1,"time-pin-icon"],["timePinUnpinButton",""],["svgIcon","ac:time_pin_unset",1,"icon","time-pin-mat-icon"],["svgIcon","ac:time_pin_set",
1,"icon","time-pin-mat-icon"]],template:function(a,b){a&1&&(_.E(0,"div",0,1),_.L("mouseleave",function(){b.isTimePinLocked||rCe(b.timePinManager,!0)}),_.P(2,Bee,10,14,"div",2),_.I(3,"div",3,4),_.F());a&2&&(_.C("ngClass",_.Yd(2,tKe,b.isTimePinDragging)),_.x(2),_.C("ngIf",b.timePinEnabled))},dependencies:[_.qx,_.ll,_.vo],styles:['.sd-chart-base-timeline[_ngcontent-%COMP%]{height:20px;top:-10px}.timeline-wrapper[_ngcontent-%COMP%]{position:relative;z-index:4;cursor:default}.time-pin[_ngcontent-%COMP%]{top:-6px;position:absolute;display:inline-block;height:12px;margin-left:-1000px;transform:translateX(calc(1000px - 50%));z-index:4;border-radius:8px;border-style:solid;border-width:2px;padding-right:12px;box-sizing:content-box;cursor:default}.time-pin.draggable[_ngcontent-%COMP%]{cursor:grab}.time-pin[_ngcontent-%COMP%]   .time-pin-icon[_ngcontent-%COMP%]{border-radius:8px;text-align:center;display:inline-block;height:12px;width:12px;line-height:12px;position:absolute;right:0;top:0;cursor:default}.time-pin[_ngcontent-%COMP%]   .time-pin-label[_ngcontent-%COMP%]{margin:0 4px;vertical-align:top;line-height:13px;font-family:"Roboto",sans-serif;font-style:normal;font-weight:400;font-size:11px}.time-pin.locked[_ngcontent-%COMP%]{background:#3468d6;color:#fff;border-color:#3468d6}.time-pin.locked[_ngcontent-%COMP%]   .time-pin-icon[_ngcontent-%COMP%]{background:#3468d6;color:#fff;cursor:pointer}.time-pin[_ngcontent-%COMP%]:not(.locked){background:#bdbdbd;color:#757575;border-color:#bdbdbd}.time-pin[_ngcontent-%COMP%]:not(.locked)   .time-pin-icon[_ngcontent-%COMP%]{background:#bdbdbd;color:#757575}.time-pin[_ngcontent-%COMP%]   .time-pin-mat-icon[_ngcontent-%COMP%]{height:100%;width:100%;vertical-align:top}.dragging[_ngcontent-%COMP%]{cursor:grabbing}[_nghost-%COMP%]     .sd-chart-base-timeline .brush-marker circle, [_nghost-%COMP%]     .sd-chart-base-timeline .brush-marker rect{fill:#ccc;stroke-width:0}\n/*# sourceMappingURL=timeline_style.css.map */',
'.ac-screen-reader-only-content[_ngcontent-%COMP%]{clip:rect(1px, 1px, 1px, 1px);height:1px;margin:0;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px;z-index:-1000}.ac-a11y-focused[_ngcontent-%COMP%]{outline:1px solid blue;outline-offset:-1px}.sd-chart-base-focus-ring[_ngcontent-%COMP%]{margin-bottom:-10px;padding-bottom:10px;width:100%}.sd-chart-base[_ngcontent-%COMP%]{position:relative;color:#b8b8b8;background-color:transparent}.sd-chart-base[_ngcontent-%COMP%]    >svg{font:smaller sans-serif;width:100%;height:100%;position:absolute;top:0;left:0}.sd-chart-base[_ngcontent-%COMP%]    >svg   path{fill:none}.sd-chart-base[_ngcontent-%COMP%]    >svg   .area{stroke:none}.sd-chart-base[_ngcontent-%COMP%]    >svg   text{fill:#b8b8b8}.sd-chart-base[_ngcontent-%COMP%]     .axis .domain{stroke:#999;stroke-width:1.5px}.sd-chart-base[_ngcontent-%COMP%]     .axis line{stroke:#999;stroke-width:1.5px}.sd-chart-base[_ngcontent-%COMP%]     .axis text{fill:#999}.sd-chart-base[_ngcontent-%COMP%]     .brush path.brush-marker{stroke:#ccc;stroke-dasharray:4,4;stroke-width:2px}.sd-chart-base[_ngcontent-%COMP%]     .brush path.brush-marker.time-pin-marker-locked{stroke-width:4;stroke:#3468d6;stroke-dasharray:none}.sd-chart-base[_ngcontent-%COMP%]     .brush path.brush-marker.time-pin-marker-unlocked{stroke-width:4;stroke:#bdbdbd;stroke-dasharray:none}.sd-chart-base[_ngcontent-%COMP%]     .brush path.brush-marker.time-pin-snap-threshold{fill-opacity:.5;stroke:none}.sd-chart-base[_ngcontent-%COMP%]     .brush path.brush-marker.time-pin-hidden{display:none}.sd-chart-base[_ngcontent-%COMP%]     .threshold-group text.threshold-text, .sd-chart-base[_ngcontent-%COMP%]     .threshold-group text.threshold-label{fill:#fff}.sd-chart-base[_ngcontent-%COMP%]     .threshold-group .threshold-text-box, .sd-chart-base[_ngcontent-%COMP%]     .threshold-group .threshold-label-box{fill:#d2191d;stroke:#d2191d}.sd-chart-base[_ngcontent-%COMP%]     .threshold-group .threshold-line{stroke:#d2191d;stroke-dasharray:4,2}.sd-chart-base[form=compact][_ngcontent-%COMP%]{margin:-10px}.sd-chart-base-background[_ngcontent-%COMP%]{fill:transparent}.sd-chart-base-bar[_ngcontent-%COMP%]   .sd-chart-base-axis.x[_ngcontent-%COMP%]   line[_ngcontent-%COMP%]{stroke:#999}.sd-chart-base-brush[_ngcontent-%COMP%]   .extent[_ngcontent-%COMP%]{fill:none;shape-rendering:crispEdges}.sd-chart-base-chart[_ngcontent-%COMP%]   .ac-chart-a11y-label[_ngcontent-%COMP%]{position:absolute}.too-many-lines-warning[_ngcontent-%COMP%]{font-size:13px;padding:16px 0 16px 16px;display:flex;align-items:center}.too-many-lines-warning[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:18px;width:18px;min-width:18px}.too-many-lines-warning[_ngcontent-%COMP%]   .warning-text[_ngcontent-%COMP%]{padding:0 8px}.chart-container[_ngcontent-%COMP%]{position:relative}.chart-message[_ngcontent-%COMP%]{position:absolute;z-index:3;left:0;top:0;width:100%;height:100%;display:flex}.chart-message[_ngcontent-%COMP%]   .chart-message-text[_ngcontent-%COMP%]{font-family:"Roboto",sans-serif;font-size:13px;font-weight:normal;text-align:center;text-shadow:none;width:100%;margin:auto 10px}.chart-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;margin-right:8px;vertical-align:text-top}.chart-message[_ngcontent-%COMP%]   .chart-message-text.y-axis-left[_ngcontent-%COMP%]{margin-left:60px}.chart-message[_ngcontent-%COMP%]   .chart-message-text.y-axis-right[_ngcontent-%COMP%]{margin-right:60px}.chart-warning[_ngcontent-%COMP%]{font-family:sans-serif;font-size:12px;margin:0 0 0 10px;position:absolute;width:100%;z-index:3}.chart-warning-inline[_ngcontent-%COMP%]{margin:0;padding:0}.chart-warning-inline[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{vertical-align:text-top}.partial-error-div[_ngcontent-%COMP%]{display:flex;font-family:"Roboto",sans-serif;font-size:13px;line-height:20px;margin:8px -12px 12px;max-height:80px;overflow:auto;padding:16px 24px 12px}.partial-error-icon[_ngcontent-%COMP%]{flex:0 0 26px}.partial-error-message[_ngcontent-%COMP%]{flex:0 0 1}.band-container[_ngcontent-%COMP%], .circle-container[_ngcontent-%COMP%]{position:absolute;width:100%}.band-on-top[_ngcontent-%COMP%]{z-index:3;pointer-events:none}.percentile-container[_ngcontent-%COMP%]{position:absolute;width:100%;z-index:3;pointer-events:none}.exemplars-container[_ngcontent-%COMP%]{position:absolute;width:100%;z-index:4}.zero-state-frame[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.zero-state-svg[_ngcontent-%COMP%]{width:100%}.zero-state-message[_ngcontent-%COMP%]{font-size:20px;margin-top:12px;text-align:center;width:100%}\n/*# sourceMappingURL=chart_style.css.map */']});
new _.Zc("API_VERSION");new _.Zc("REQUEST_SERVICE");
var AKe=class{};AKe.\u0275fac=function(a){return new (a||AKe)};AKe.\u0275mod=_.Bc({type:AKe});AKe.\u0275inj=_.tc({imports:[_.ql,_.$D,_.Do]});
var BKe=class extends v7{constructor(a,b,c,d,e,f,g,h,l,n,r){super(a,b,c,d,e,f,g,h,l,n);this.overlay=r;this.unitOverrideSource=new _.rf(1);this.positionStrategy=this.overlay.position().global();this.chartType="hovercard"}set unitOverride(a){a&&this.unitOverrideSource.next(a)}chartTypeSetup(a){a.height(200);this.legendTemplate&&a.setLegendLabelTemplate(this.legendTemplate);this.valueFormatter&&a.setValueFormatter(this.valueFormatter);a.unit(this.hintUnit);a.setResourceMetadataNamingFunctions(this.resourceMetadataNamingFunctions);
this.timeFormat&&a.setTimeFormat(this.timeFormat);this.timeFormatter&&a.setTimeFormatter(this.timeFormatter);_.qe(this.unitOverrideSource,this.dataLayerStream).pipe(_.Af(this.destroyed)).subscribe(([b])=>{a.unit(b)})}ngAfterViewInit(){const a=this.overlay.create({positionStrategy:this.positionStrategy});a.attach(new _.zUa(this.chartElementRef));this.destroyed.subscribe(()=>{a.dispose()})}onMouseMove(a){a.clientX+310<window.innerWidth?this.positionStrategy.left(`${a.clientX+10}px`):this.positionStrategy.right(`${window.innerWidth-
a.clientX+10}px`);a.clientY+50<window.innerHeight?this.positionStrategy.top(`${a.clientY}px`):this.positionStrategy.bottom(`${window.innerHeight-a.clientY}px`);this.positionStrategy.apply()}ngOnChanges(a){super.ngOnChanges(a);a.timeFormat&&this.acChart&&this.acChart.setTimeFormat(a.timeFormat.currentValue);a.valueFormatter&&this.acChart&&this.acChart.setValueFormatter(a.valueFormatter.currentValue);a.hintUnit&&this.unitOverrideSource.next(a.hintUnit.currentValue)}};
BKe.\u0275fac=function(a){return new (a||BKe)(_.A(n7),_.A(_.Jf),_.A(q7),_.A(o7),_.A(_.el),_.A(t7),_.A(_.ad),_.A(_.ut,8),_.A(s7),_.A(p7),_.A(_.eo))};
BKe.\u0275cmp=_.q({type:BKe,selectors:[["ac-legacy-hovercard"]],hostBindings:function(a,b){a&1&&_.L("mousemove",function(c){return b.onMouseMove(c)},!1,_.fGb)},inputs:{hintUnit:"hintUnit",legendTemplate:"legendTemplate",resourceMetadataNamingFunctions:"resourceMetadataNamingFunctions",valueFormatter:"valueFormatter",timeFormat:"timeFormat",timeFormatter:"timeFormatter",unitOverride:"unitOverride"},features:[_.wd,_.Gc],decls:2,vars:0,consts:[[1,"chart","sd-chart-base-chart",2,"height","auto !important"],
["chart",""]],template:function(a){a&1&&_.I(0,"div",0,1)},styles:[".sd-chart-base-hovercard[_ngcontent-%COMP%]    {width:auto;height:auto;pointer-events:none;padding:12px;border:1px solid}.sd-chart-base-hovercard[_ngcontent-%COMP%]     table thead{height:16px;line-height:16px;font-size:12px}.sd-chart-base-hovercard[_ngcontent-%COMP%]     table thead tr td{padding:0 3px;text-align:right}.sd-chart-base-hovercard[_ngcontent-%COMP%]     table thead tr td.datetime{min-width:130px;text-align:left}.sd-chart-base-hovercard[_ngcontent-%COMP%]     table tbody.list{max-width:300px}.sd-chart-base-hovercard[_ngcontent-%COMP%]     table tbody.list tr.focus{opacity:1}.sd-chart-base-hovercard[_ngcontent-%COMP%]     table tbody.list tr.fade{opacity:.5}.sd-chart-base-hovercard[_ngcontent-%COMP%]     table tbody.list tr td{font-size:12px;overflow:hidden;text-overflow:ellipsis;height:12px;line-height:16px;top:0;padding:6px 3px 0;vertical-align:top}.sd-chart-base-hovercard[_ngcontent-%COMP%]     table tbody.list tr td.key{padding-right:4px;width:8px}.sd-chart-base-hovercard[_ngcontent-%COMP%]     table tbody.list tr td.key .icon{vertical-align:center;display:inline-block;width:8px;height:8px;border-radius:50%}.sd-chart-base-hovercard[_ngcontent-%COMP%]     table tbody.list tr td.name{text-align:left}.sd-chart-base-hovercard[_ngcontent-%COMP%]     table tbody.list tr td.value, .sd-chart-base-hovercard[_ngcontent-%COMP%]     table tbody.list tr td.value2{font-weight:bold;text-align:right}.hidden[_ngcontent-%COMP%]{display:none;visibility:hidden}\n/*# sourceMappingURL=hovercard_style.css.map */"]});
var CKe=class{constructor(){this.columnKeys=[]}ngOnInit(){this.columnFlexWidth=100/(this.columnKeys?this.columnKeys.length:0)}};CKe.\u0275fac=function(a){return new (a||CKe)};
CKe.\u0275cmp=_.q({type:CKe,selectors:[["ac-stats-legend-header"]],inputs:{columnKeys:"columnKeys",valueName:"valueName",allValuesName:"allValuesName"},decls:8,vars:3,consts:[["fxLayout","row"],[1,"ac-table-legend-chip","ac-chip-position-static"],["fxFlex","70"],[3,"fxFlex",4,"ngFor","ngForOf"],["fxFlex","1 1 15",1,"ac-table-value-column","ac-stats-left-align","current-value"],["fxFlex","1 1 20",1,"ac-table-value-column","legend-table-cell","current-value"],[3,"fxFlex"]],template:function(a,b){a&
1&&(_.E(0,"div",0),_.I(1,"span",1),_.E(2,"div",2),_.P(3,Dee,2,2,"span",3),_.F(),_.E(4,"span",4),_.Q(5),_.F(),_.E(6,"span",5),_.Q(7),_.F()());a&2&&(_.x(3),_.C("ngForOf",b.columnKeys),_.x(2),_.Sd(" ",b.allValuesName," "),_.x(2),_.Sd(" ",b.valueName," "))},dependencies:[_.kl,_.SD,_.VD],styles:[".ac-inline-legend[_ngcontent-%COMP%], .ac-inline-legend-items[_ngcontent-%COMP%]{display:inline-block}.ac-inline-legend[_ngcontent-%COMP%]   .ac-inline-legend-item[_ngcontent-%COMP%], .ac-inline-legend-items[_ngcontent-%COMP%]   .ac-inline-legend-item[_ngcontent-%COMP%]{box-sizing:content-box;cursor:pointer;display:inline-block;height:12px;margin-right:6px;padding:4px 6px}.ac-inline-legend[_ngcontent-%COMP%]   .ac-inline-legend-item[_ngcontent-%COMP%]   .ac-inline-legend-chip[_ngcontent-%COMP%], .ac-inline-legend-items[_ngcontent-%COMP%]   .ac-inline-legend-item[_ngcontent-%COMP%]   .ac-inline-legend-chip[_ngcontent-%COMP%]{border-radius:50px;display:inline-block;height:12px;margin-right:6px;vertical-align:middle;width:12px}.ac-inline-legend[_ngcontent-%COMP%]   .ac-inline-legend-item[_ngcontent-%COMP%]   .ac-legend-value[_ngcontent-%COMP%], .ac-inline-legend-items[_ngcontent-%COMP%]   .ac-inline-legend-item[_ngcontent-%COMP%]   .ac-legend-value[_ngcontent-%COMP%]{margin:0 5px;min-width:5em;text-overflow:ellipsis;white-space:nowrap}.ac-inline-legend[_ngcontent-%COMP%]   .ac-inline-legend-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .ac-inline-legend-items[_ngcontent-%COMP%]   .ac-inline-legend-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;height:12px}.ac-legend-key[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ac-legend-table-virtual-scroll[_ngcontent-%COMP%]{display:block;flex-grow:1;overflow-y:scroll}.ac-legend-table-virtual-scroll.overflow-visible[_ngcontent-%COMP%]{overflow-y:visible;overflow:visible}ac-table-legend[_ngcontent-%COMP%], ng2-ac-table-legend[_ngcontent-%COMP%], .ac-table-legend-switch[_ngcontent-%COMP%]{display:flex;flex-direction:column}.ac-table-legend-switch[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]::after, .ac-table-legend-switch[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]::before, .ac-table-legend-switch[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], .ac-table-legend-switch[_ngcontent-%COMP%]{box-sizing:content-box}.ac-table-legend-switch.scrolling-div[_ngcontent-%COMP%]{overflow:auto}.ac-table-legend-value[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;user-select:text}.ac-table-value-column[_ngcontent-%COMP%], .ac-table-legend-value[_ngcontent-%COMP%]{display:inline-block;flex:none;text-align:right;width:80px}.ac-table-legend-value.ac-stats-left-align[_ngcontent-%COMP%]{text-align:left}.ac-table-value-column.ac-stats-left-align[_ngcontent-%COMP%]{text-align:left}div.ac-table-legend-value.legend-table-cell.current-value[_ngcontent-%COMP%], span.ac-table-value-column.legend-table-cell.current-value[_ngcontent-%COMP%]{box-sizing:content-box;padding:0 8px 0 0}.ac-table-options-column[_ngcontent-%COMP%]{display:inline-block;flex:none;align-content:center;width:40px}div.ac-table-legend-options.legend-table-cell.table-options[_ngcontent-%COMP%]{min-width:40px;width:40px}.ac-chip-static-container[_ngcontent-%COMP%]{flex:none;width:50px}.ac-chip-relative-container[_ngcontent-%COMP%]{flex:none;line-height:42px;position:relative}.ac-chip-absolute-background[_ngcontent-%COMP%]{height:12px;line-height:42px;padding:15px 8px 15px 24px;position:absolute;width:12px;box-sizing:content-box}.ac-table-legend-chip[_ngcontent-%COMP%]{border-radius:50px;flex:none;height:12px;line-height:42px;position:absolute;margin:15px 8px 15px 24px;width:12px}.ac-table-legend-chip.ac-chip-position-static[_ngcontent-%COMP%]{position:static}.ac-table-legend-header[_ngcontent-%COMP%]{display:block;font-weight:bold;margin:0}ac-table-legend-header[_ngcontent-%COMP%], ac-stats-legend-header[_ngcontent-%COMP%]{border-style:solid;border-width:1px 0;cursor:default;display:block;height:42px;line-height:42px}mat-icon.sort-icon[_ngcontent-%COMP%]{vertical-align:middle;width:18px;visibility:visible}mat-icon.sort-icon.hidden[_ngcontent-%COMP%]{overflow:hidden;visibility:hidden}.sortable-column[_ngcontent-%COMP%]{cursor:pointer}.ac-table-legend-row[_ngcontent-%COMP%]{border-style:solid;border-width:0 0 1px;cursor:pointer;display:block;height:42px;line-height:42px}.ac-table-legend-label[_ngcontent-%COMP%]{overflow-x:hidden;text-overflow:ellipsis;white-space:nowrap;user-select:text}.legend-table-cell[_ngcontent-%COMP%]{height:42px;padding-left:0;padding-right:8px}.legend-table-cell.leftmost-frozen[_ngcontent-%COMP%]{padding-left:8px}.legend-table-cell.last[_ngcontent-%COMP%]{padding-right:0}.ac-table-legend-label-header[_ngcontent-%COMP%], .ac-table-legend-value-header[_ngcontent-%COMP%]{overflow-x:hidden;text-overflow:ellipsis;white-space:nowrap}div.column-selector-menu-scroll[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:visible;max-height:184px}div.column-selector-menu-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding-right:8px;height:40px}div.column-selector-menu-buttons[_ngcontent-%COMP%]   button.mat-button[_ngcontent-%COMP%]{color:#3367d6;margin:4px 0px}.column-selector-icon[_ngcontent-%COMP%]{width:32px;height:32px;padding:4px;border-radius:50%;margin-top:8px}.column-selector-icon[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.1)}.column-selector-header[_ngcontent-%COMP%]{height:32px;padding:8px 0px 8px 16px;color:rgba(0,0,0,.66)}\n/*# sourceMappingURL=legend_style.css.map */"]});
var DKe=function(a){return{"background-color":a}},EKe=class{};EKe.\u0275fac=function(a){return new (a||EKe)};
EKe.\u0275cmp=_.q({type:EKe,selectors:[["ac-stats-legend-row"]],inputs:{stream:"stream"},decls:11,vars:10,consts:[["fxLayout","row"],[1,"ac-table-legend-chip","ac-chip-position-static",3,"ngStyle"],["fxFlex","70",1,"ac-legend-key"],["fxFlex","1 1 15",1,"ac-table-legend-value","ac-stats-left-align","timeshift-value"],["fxFlex","1 1 20",1,"ac-table-legend-value","legend-table-cell","current-value"]],template:function(a,b){a&1&&(_.E(0,"div",0),_.I(1,"span",1),_.E(2,"div",2)(3,"span"),_.Q(4),_.F()(),
_.E(5,"div",3),_.Q(6),_.Zd(7,"async"),_.F(),_.E(8,"div",4),_.Q(9),_.Zd(10,"async"),_.F()());a&2&&(_.x(1),_.C("ngStyle",_.Yd(8,DKe,b.stream.color)),_.x(3),_.Sd(" ",b.stream.name||b.stream.theStream.name," "),_.x(2),_.Sd(" ",_.$d(7,4,b.stream.allValuesStream)," "),_.x(3),_.Sd(" ",_.$d(10,6,b.stream.displayValueStream)," "))},dependencies:[_.xD,_.SD,_.VD,_.pl],styles:[".ac-inline-legend[_ngcontent-%COMP%], .ac-inline-legend-items[_ngcontent-%COMP%]{display:inline-block}.ac-inline-legend[_ngcontent-%COMP%]   .ac-inline-legend-item[_ngcontent-%COMP%], .ac-inline-legend-items[_ngcontent-%COMP%]   .ac-inline-legend-item[_ngcontent-%COMP%]{box-sizing:content-box;cursor:pointer;display:inline-block;height:12px;margin-right:6px;padding:4px 6px}.ac-inline-legend[_ngcontent-%COMP%]   .ac-inline-legend-item[_ngcontent-%COMP%]   .ac-inline-legend-chip[_ngcontent-%COMP%], .ac-inline-legend-items[_ngcontent-%COMP%]   .ac-inline-legend-item[_ngcontent-%COMP%]   .ac-inline-legend-chip[_ngcontent-%COMP%]{border-radius:50px;display:inline-block;height:12px;margin-right:6px;vertical-align:middle;width:12px}.ac-inline-legend[_ngcontent-%COMP%]   .ac-inline-legend-item[_ngcontent-%COMP%]   .ac-legend-value[_ngcontent-%COMP%], .ac-inline-legend-items[_ngcontent-%COMP%]   .ac-inline-legend-item[_ngcontent-%COMP%]   .ac-legend-value[_ngcontent-%COMP%]{margin:0 5px;min-width:5em;text-overflow:ellipsis;white-space:nowrap}.ac-inline-legend[_ngcontent-%COMP%]   .ac-inline-legend-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .ac-inline-legend-items[_ngcontent-%COMP%]   .ac-inline-legend-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;height:12px}.ac-legend-key[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ac-legend-table-virtual-scroll[_ngcontent-%COMP%]{display:block;flex-grow:1;overflow-y:scroll}.ac-legend-table-virtual-scroll.overflow-visible[_ngcontent-%COMP%]{overflow-y:visible;overflow:visible}ac-table-legend[_ngcontent-%COMP%], ng2-ac-table-legend[_ngcontent-%COMP%], .ac-table-legend-switch[_ngcontent-%COMP%]{display:flex;flex-direction:column}.ac-table-legend-switch[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]::after, .ac-table-legend-switch[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]::before, .ac-table-legend-switch[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], .ac-table-legend-switch[_ngcontent-%COMP%]{box-sizing:content-box}.ac-table-legend-switch.scrolling-div[_ngcontent-%COMP%]{overflow:auto}.ac-table-legend-value[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;user-select:text}.ac-table-value-column[_ngcontent-%COMP%], .ac-table-legend-value[_ngcontent-%COMP%]{display:inline-block;flex:none;text-align:right;width:80px}.ac-table-legend-value.ac-stats-left-align[_ngcontent-%COMP%]{text-align:left}.ac-table-value-column.ac-stats-left-align[_ngcontent-%COMP%]{text-align:left}div.ac-table-legend-value.legend-table-cell.current-value[_ngcontent-%COMP%], span.ac-table-value-column.legend-table-cell.current-value[_ngcontent-%COMP%]{box-sizing:content-box;padding:0 8px 0 0}.ac-table-options-column[_ngcontent-%COMP%]{display:inline-block;flex:none;align-content:center;width:40px}div.ac-table-legend-options.legend-table-cell.table-options[_ngcontent-%COMP%]{min-width:40px;width:40px}.ac-chip-static-container[_ngcontent-%COMP%]{flex:none;width:50px}.ac-chip-relative-container[_ngcontent-%COMP%]{flex:none;line-height:42px;position:relative}.ac-chip-absolute-background[_ngcontent-%COMP%]{height:12px;line-height:42px;padding:15px 8px 15px 24px;position:absolute;width:12px;box-sizing:content-box}.ac-table-legend-chip[_ngcontent-%COMP%]{border-radius:50px;flex:none;height:12px;line-height:42px;position:absolute;margin:15px 8px 15px 24px;width:12px}.ac-table-legend-chip.ac-chip-position-static[_ngcontent-%COMP%]{position:static}.ac-table-legend-header[_ngcontent-%COMP%]{display:block;font-weight:bold;margin:0}ac-table-legend-header[_ngcontent-%COMP%], ac-stats-legend-header[_ngcontent-%COMP%]{border-style:solid;border-width:1px 0;cursor:default;display:block;height:42px;line-height:42px}mat-icon.sort-icon[_ngcontent-%COMP%]{vertical-align:middle;width:18px;visibility:visible}mat-icon.sort-icon.hidden[_ngcontent-%COMP%]{overflow:hidden;visibility:hidden}.sortable-column[_ngcontent-%COMP%]{cursor:pointer}.ac-table-legend-row[_ngcontent-%COMP%]{border-style:solid;border-width:0 0 1px;cursor:pointer;display:block;height:42px;line-height:42px}.ac-table-legend-label[_ngcontent-%COMP%]{overflow-x:hidden;text-overflow:ellipsis;white-space:nowrap;user-select:text}.legend-table-cell[_ngcontent-%COMP%]{height:42px;padding-left:0;padding-right:8px}.legend-table-cell.leftmost-frozen[_ngcontent-%COMP%]{padding-left:8px}.legend-table-cell.last[_ngcontent-%COMP%]{padding-right:0}.ac-table-legend-label-header[_ngcontent-%COMP%], .ac-table-legend-value-header[_ngcontent-%COMP%]{overflow-x:hidden;text-overflow:ellipsis;white-space:nowrap}div.column-selector-menu-scroll[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:visible;max-height:184px}div.column-selector-menu-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding-right:8px;height:40px}div.column-selector-menu-buttons[_ngcontent-%COMP%]   button.mat-button[_ngcontent-%COMP%]{color:#3367d6;margin:4px 0px}.column-selector-icon[_ngcontent-%COMP%]{width:32px;height:32px;padding:4px;border-radius:50%;margin-top:8px}.column-selector-icon[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.1)}.column-selector-header[_ngcontent-%COMP%]{height:32px;padding:8px 0px 8px 16px;color:rgba(0,0,0,.66)}\n/*# sourceMappingURL=legend_style.css.map */"]});
/*

 Copyright (c) 2013 Marc J. Schmidt

 Use of this source code is governed by a MIT-style
 license that can be found in the LICENSE file or at
 https://opensource.org/licenses/MIT.
*/
"use strict";
var FKe="undefined"!==typeof window?window:this,GKe=function(){function a(l,n){var r=Object.prototype.toString.call(l),v=0,w=l.length;if("[object Array]"===r||"[object NodeList]"===r||"[object HTMLCollection]"===r||"[object Object]"===r||"undefined"!==typeof jQuery&&l instanceof jQuery||"undefined"!==typeof Elements&&l instanceof Elements)for(;v<w;v++)n(l[v]);else n(l)}function b(l){if(!l.getBoundingClientRect)return{width:l.offsetWidth,height:l.offsetHeight};l=l.getBoundingClientRect();return{width:Math.round(l.width),
height:Math.round(l.height)}}function c(l,n){Object.keys(n).forEach(function(r){l.style[r]=n[r]})}if("undefined"===typeof window)return null;var d="undefined"!=typeof window&&Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:globalThis,e=d.requestAnimationFrame||d.mozRequestAnimationFrame||d.webkitRequestAnimationFrame||function(l){return d.setTimeout(l,20)},f=d.cancelAnimationFrame||d.mozCancelAnimationFrame||d.webkitCancelAnimationFrame||function(l){d.clearTimeout(l)},g=function(l,
n){function r(){var y=[];this.add=function(O){y.push(O)};var B,G;this.call=function(O){B=0;for(G=y.length;B<G;B++)y[B].call(this,O)};this.remove=function(O){var T=[];B=0;for(G=y.length;B<G;B++)y[B]!==O&&T.push(y[B]);y=T};this.length=function(){return y.length}}function v(y,B){if(y)if(y.resizedAttached)y.resizedAttached.add(B);else{y.resizedAttached=new r;y.resizedAttached.add(B);y.resizeSensor=document.createElement("div");y.resizeSensor.dir="ltr";y.resizeSensor.className="resize-sensor";var G={pointerEvents:"none",
position:"absolute",left:"0px",top:"0px",right:"0px",bottom:"0px",overflow:"hidden",zIndex:"-1",visibility:"hidden",maxWidth:"100%"};B={position:"absolute",left:"0px",top:"0px",transition:"0s"};c(y.resizeSensor,G);var O=document.createElement("div");O.className="resize-sensor-expand";c(O,G);var T=document.createElement("div");c(T,B);O.appendChild(T);var J=document.createElement("div");J.className="resize-sensor-shrink";c(J,G);G=document.createElement("div");c(G,B);c(G,{width:"200%",height:"200%"});
J.appendChild(G);y.resizeSensor.appendChild(O);y.resizeSensor.appendChild(J);y.appendChild(y.resizeSensor);B=(B=window.getComputedStyle(y))?B.getPropertyValue("position"):null;"absolute"!==B&&"relative"!==B&&"fixed"!==B&&"sticky"!==B&&(y.style.position="relative");var R=!1,ra=0,Ba=b(y),Ka=0,Va=0,cb=!0;w=0;var H=function(){var W=y.offsetWidth,Z=y.offsetHeight;T.style.width=W+10+"px";T.style.height=Z+10+"px";O.scrollLeft=W+10;O.scrollTop=Z+10;J.scrollLeft=W+10;J.scrollTop=Z+10},Y=function(){if(cb){if(0===
y.offsetWidth&&0===y.offsetHeight){w||(w=e(function(){w=0;Y()}));return}cb=!1}H()};y.resizeSensor.resetSensor=Y;var X=function(){ra=0;R&&(Ka=Ba.width,Va=Ba.height,y.resizedAttached&&y.resizedAttached.call(Ba))};B=function(){Ba=b(y);(R=Ba.width!==Ka||Ba.height!==Va)&&!ra&&(ra=e(X));Y()};G=function(W,Z,ua){W.attachEvent?W.attachEvent("on"+Z,ua):W.addEventListener(Z,ua)};G(O,"scroll",B);G(J,"scroll",B);w=e(function(){w=0;Y()})}}var w=0;a(l,function(y){v(y,n)});this.detach=function(y){w&&(f(w),w=0);g.detach(l,
y)};this.reset=function(){l.resizeSensor.resetSensor&&l.resizeSensor.resetSensor()}};g.reset=function(l){a(l,function(n){l.resizeSensor.resetSensor&&n.resizeSensor.resetSensor()})};g.detach=function(l,n){a(l,function(r){if(r){if(r.resizedAttached&&"function"===typeof n&&(r.resizedAttached.remove(n),r.resizedAttached.length()))return;r.resizeSensor&&(r.contains(r.resizeSensor)&&r.removeChild(r.resizeSensor),delete r.resizeSensor,delete r.resizedAttached)}})};if("undefined"!==typeof MutationObserver){var h=
new MutationObserver(function(l){for(var n in l)if(l.hasOwnProperty(n))for(var r=l[n].addedNodes,v=0;v<r.length;v++)r[v].resizeSensor&&g.reset(r[v])});document.addEventListener("DOMContentLoaded",function(){h.observe(document.body,{childList:!0,subtree:!0})})}return g};"function"===typeof define&&define.amd?define(GKe):"object"===typeof exports?module.exports=GKe():FKe.ResizeSensor=GKe();
var HKe=window.ResizeSensor;
var IKe={chipType:8,elementType:2,showOnSingle:!0,muxCollapsedCombiner:1,showOnMuxExpanded:!0},JKe={chipType:11,elementType:2,showOnSingle:!0,muxCollapsedCombiner:1,showOnMuxExpanded:!0},KKe={chipType:9,elementType:2,showOnSingle:!0,muxCollapsedCombiner:1,showOnMuxExpanded:!0},LKe={chipType:1,elementType:1,showOnSingle:!1,muxCollapsedCombiner:3,showOnMuxExpanded:!0},MKe={chipType:2,elementType:4,showOnSingle:!0,muxCollapsedCombiner:2,showOnMuxExpanded:!0},NKe={chipType:3,elementType:3,showOnSingle:!0,
muxCollapsedCombiner:1,showOnMuxExpanded:!0},OKe={chipType:4,elementType:2,showOnSingle:!0,muxCollapsedCombiner:1,showOnMuxExpanded:!0},PKe={chipType:5,elementType:2,showOnSingle:!0,muxCollapsedCombiner:1,showOnMuxExpanded:!0},QKe={chipType:6,elementType:2,showOnSingle:!0,muxCollapsedCombiner:1,showOnMuxExpanded:!0},RKe={chipType:7,elementType:2,showOnSingle:!0,muxCollapsedCombiner:1,showOnMuxExpanded:!0},SKe={chipType:10,elementType:2,showOnSingle:!0,muxCollapsedCombiner:1,showOnMuxExpanded:!0},
TKe={TOP:"Top",BOTTOM:"Bottom",DIRECTION_UNSPECIFIED:"Unspecified"},UKe={METHOD_MEAN:"Mean",METHOD_MIN:"Min",METHOD_MAX:"Max",METHOD_SUM:"Sum",METHOD_LATEST:"Latest value",METHOD_CLUSTER_OUTLIER:"Outlier score",METHOD_UNSPECIFIED:"Unspecified"},VKe={ALIGN_NONE:"none",ALIGN_DELTA:"delta",ALIGN_RATE:"rate",ALIGN_INTERPOLATE:"interpolate",ALIGN_NEXT_OLDER:"next older",ALIGN_MIN:"min",ALIGN_MAX:"max",ALIGN_MEAN:"mean",ALIGN_COUNT:"count",ALIGN_SUM:"sum",ALIGN_STDDEV:"std. dev.",ALIGN_COUNT_TRUE:"count true",
ALIGN_FRACTION_TRUE:"fraction true",ALIGN_PERCENTILE_99:"99th percentile",ALIGN_PERCENTILE_95:"95th percentile",ALIGN_PERCENTILE_50:"50th percentile",ALIGN_PERCENTILE_05:"5th percentile"},WKe={REDUCE_NONE:"none",REDUCE_MEAN:"mean",REDUCE_MIN:"min",REDUCE_MAX:"max",REDUCE_SUM:"sum",REDUCE_STDDEV:"std. dev.",REDUCE_COUNT:"count",REDUCE_COUNT_TRUE:"count true",REDUCE_COUNT_FALSE:"count false",REDUCE_FRACTION_TRUE:"fraction true",REDUCE_PERCENTILE_99:"99th percentile",REDUCE_PERCENTILE_95:"95th percentile",
REDUCE_PERCENTILE_50:"50th percentile",REDUCE_PERCENTILE_05:"5th percentile"},XKe={ALIGN_DELTA:"Number of {Counts} over {Alignment} window.",ALIGN_RATE:"Mean {Counts}/s over {Alignment} window.",ALIGN_INTERPOLATE:"Interpolated measurement of {Metric}at the boundaries of {Alignment} windows.",ALIGN_NEXT_OLDER:"Last measurement of {Metric} in a {Alignment} window.",ALIGN_MIN:"Min of {Metric} over {Alignment} window.",ALIGN_MAX:"Max of {Metric} over {Alignment} window.",ALIGN_MEAN:"Mean of {Metric} over {Alignment} window.",
ALIGN_SUM:"Sum of {Metric} over {Alignment} window.",ALIGN_STDDEV:"Std. dev. of {Metric} over {Alignment} window."},YKe={ALIGN_DELTA:"Number of {Counts} over {Alignment} window",ALIGN_RATE:"Mean {Counts}/s over {Alignment} window.",ALIGN_MIN:"Min of number of {Counts} per {Delta}, over {Alignment} window.",ALIGN_MAX:"Max of number of {Counts} per {Delta}, over {Alignment} window.",ALIGN_MEAN:"Mean of number of {Counts} per {Delta}, over {Alignment} window.",ALIGN_STDDEV:"Std. dev. of number of {Counts} per {Delta}, over {Alignment} window."};
(new _.vP).unit("{INTERVAL_TIME}");
var ZKe=function(a){var b=_.fQ(a);b?a=b:(b=a.lastIndexOf("."),a=-1===b?a:a.substring(b+1));return a.replace(/_/g," ")},$Ke=class{getChips(a,b,c,d,e,f=null,g=!1,h=null,l){const n=[];for(let v=0;v<a.length;v++){const w=a[v],y=[];let B,G;var r=void 0;let O,T,J,R,ra,Ba,Ka;f&&(B=this.basicModeChip(f));h&&(Ba=this.valueDomainChip(h,l));w.filterInfo&&(G=this.metricChip(w.filterInfo,c&&c[v]));w.limitInfo&&(r=0,e&&e[v]&&e[v].series&&(r=e[v].series.length),r=this.cappedChip(w.limitInfo,r));w.filterInfo&&(O=
this.filterChip(w.filterInfo,d));w.groupByInfo&&(T=this.groupByChip(w.groupByInfo),J=this.secondaryChip(w.groupByInfo));w.alignmentInfo&&!g&&(R=this.alignmentChip(w.alignmentInfo,b&&b[v],c&&c[v]));w.topNInfo&&(ra=this.outlierChip(w.topNInfo));w.timeSeriesQueryInfo&&(Ka=this.timeSeriesQueryChip(w.timeSeriesQueryInfo));B&&y.push(B);Ba&&y.push(Ba);G&&y.push(G);r&&y.push(r);O&&y.push(O);T&&y.push(T);J&&y.push(J);R&&y.push(R);ra&&y.push(ra);Ka&&y.push(Ka);n.push(y)}return n}basicModeChip(a){return(a=jbe(a))?
{chipDescriptor:IKe,text:a,tooltip:kJe[a]}:null}valueDomainChip(a,b){if(a){var c=this.formatTime((a[1].valueOf()-a[0].valueOf())/1E3)||"";if(a){var d=new _.Sr(9),e=void 0!==b?_.Rr(b):void 0;b=d.format(a[0],e);a=d.format(a[1],e);a=`Displaying data for ${b} to ${a}`}else a="";c={chipDescriptor:KKe,text:c,tooltip:a}}else c=null;return c}metricChip(a,b){if(!a.metricType)return null;let c=a.metricType;a.resourceType&&(c=a.resourceType+" - "+c);return b&&b.displayName?{chipDescriptor:LKe,text:b.displayName,
tooltip:c}:{chipDescriptor:LKe,text:a.metricType,tooltip:c}}cappedChip(a,b){return!a.direction||!a.numTimeSeries||!a.rankingMethod||b<a.numTimeSeries?null:{chipDescriptor:MKe,text:"i",tooltip:"Capped:  "+(TKe[a.direction]||a.direction)+" "+String(a.numTimeSeries)+" ranked by "+(UKe[a.rankingMethod].toLowerCase()||a.rankingMethod)}}filterChip(a,b){if(!a.filters||!a.filters.length)return null;let c=0,d="";for(let f=0;f<a.filters.length;f++){const g=a.filters[f];let h=g.lhs,l=g.rhs.replace(/"/g,"");
if("group.id"===h){var e=b?(e=b[l])?e.fullDisplayName:null:null;e&&(h="group",l=e)}else(e=_.fQ(h))&&(h=e);e="";e+=h;e="="===g.op?e+": ":e+g.op;e+=l;f<a.filters.length-1&&(e+="\n");d+=e;c++}return c?{chipDescriptor:NKe,text:String(c),tooltip:d}:null}groupByChip(a){if(a&&a.groups&&a.groups.length){var b=a.groups.map(ZKe).join(", ");let c="by "+b;b="Group by: "+b;a.reducer&&(a=WKe[a.reducer]||a.reducer,c+=" ("+a+")",b+="\nAggregation: "+a);return{chipDescriptor:OKe,text:c,tooltip:b}}return!a||!a.reducer||
a.groups&&a.groups.length?null:{chipDescriptor:OKe,text:WKe[a.reducer]||a.reducer,tooltip:"Aggregation"}}secondaryChip(a){if(a&&a.secondaryGroups&&a.secondaryGroups.length){var b=a.secondaryGroups.map(ZKe).join(", ");let c="by "+b;b="Secondary Group by: "+b;a.secondaryReducer&&(a=WKe[a.secondaryReducer]||a.secondaryReducer,c+=" ("+a+")",b+="\nSecondary Aggregation: "+a);return{chipDescriptor:PKe,text:c,tooltip:b}}return!a||!a.secondaryReducer||a.secondaryGroups&&a.secondaryGroups.length?null:{chipDescriptor:PKe,
text:WKe[a.secondaryReducer]||a.secondaryReducer,tooltip:"Secondary Aggregation"}}formatTime(a){if(null===a||void 0===a)return null;const b=Math.floor(a/604800);a%=604800;const c=Math.floor(a/86400);a%=86400;const d=Math.floor(a/3600);a%=3600;const e=Math.floor(a/60);a%=60;let f="";b&&(f=f+(f?" ":"")+`${b} week`);c&&(f=f+(f?" ":"")+`${c} day`);d&&(f=f+(f?" ":"")+`${d} hr`);e&&(f=f+(f?" ":"")+`${e} min`);a&&(f=f+(f?" ":"")+`${a} sec`);return f}alignmentChip(a,b,c){let d=null;var e=null;let f=null;
var g=1;a&&a.aligner&&(e=VKe[a.aligner]||a.aligner);b&&b.granularity&&(d=this.formatTime(b.granularity),b.granularityFromUser&&b.granularity!==b.granularityFromUser&&60!==b.granularityFromUser&&(g=this.formatTime(b.granularityFromUser),null!==g&&(f="\n"+g+" was requested but can not be displayed."),g=2));b="";d&&(b&&(b+=" "),b+=d+" interval");e&&(b&&(b+=" "),b+="("+e+")");let h="";h||!c||"GAUGE"!==c.metricKind&&"CUMULATIVE"!==c.metricKind||(h=a.aligner?XKe[a.aligner]:"Metric kind is "+c.metricKind+
", no aligner.");!h&&c&&"DELTA"===c.metricKind&&(h=a.aligner?YKe[a.aligner]:"Metric kind is Delta, no aligner.");!h&&a&&a.aligner&&null!==e&&(a=["Alignment period"],d&&a.push(`: ${d}`),a.push(`\nAligner: ${e}`),h=a.join(""));e=h;d&&(e=e.replace("{Alignment}",d));c&&c.displayName?e=e.replace("{Metric}",c.displayName):c&&c.type&&(e=e.replace("{Metric}",c.type));e=e.replace("{Delta}","sampling period");c&&c.unit&&(c=c.unit.replace("(rate)",""),"1"===c&&(c="count"),e=e.replace("{Counts}",c));f&&(e+=f);
return{chipDescriptor:QKe,text:b,tooltip:e,status:g}}outlierChip(a){if(!a.direction||!a.numTimeSeries||!a.rankingMethod)return null;const b=TKe[a.direction]||a.direction;return{chipDescriptor:RKe,text:b+" "+String(a.numTimeSeries),tooltip:b+" "+String(a.numTimeSeries)+" ranked by "+(UKe[a.rankingMethod].toLowerCase()||a.rankingMethod)}}timeSeriesQueryChip(a){return a.text?{chipDescriptor:JKe,text:"query",tooltip:a.text}:null}};$Ke.prototype.secondaryChip=$Ke.prototype.secondaryChip;
$Ke.prototype.groupByChip=$Ke.prototype.groupByChip;
var aLe=class{getDescriptorStream(a){if(!a||!a.filterInfo||!a.filterInfo.metricType)return new _.bg(null);const b=_.hO.getMetricDescriptor(a.filterInfo.metricType);return b?new _.bg(b):_.re(_.hO.getMetricDescriptorPromise(a.filterInfo.metricType)).pipe(_.yf(null))}};aLe.\u0275fac=function(a){return new (a||aLe)};aLe.\u0275prov=_.m({token:aLe,factory:aLe.\u0275fac,providedIn:"root"});
var bLe=[{cutoff:432E8,granularity:172800},{cutoff:3024E7,granularity:86400},{cutoff:15552E6,granularity:43200},{cutoff:6912E6,granularity:21600},{cutoff:19872E5,granularity:10800},{cutoff:5184E5,granularity:3600},{cutoff:828E5,granularity:300},{cutoff:66E5,granularity:60},{cutoff:0,granularity:10}],cLe=[{cutoff:432E8,granularity:172800},{cutoff:3024E7,granularity:86400},{cutoff:15552E6,granularity:43200},{cutoff:6912E6,granularity:21600},{cutoff:19872E5,granularity:10800},{cutoff:5184E5,granularity:3600},
{cutoff:828E5,granularity:300},{cutoff:0,granularity:60}],dLe=[{cutoff:432E8,granularity:4838400},{cutoff:3024E7,granularity:2419200},{cutoff:15552E6,granularity:1209600},{cutoff:6912E6,granularity:604800},{cutoff:19872E5,granularity:172800},{cutoff:5184E5,granularity:86400},{cutoff:828E5,granularity:7200},{cutoff:18E6,granularity:1800},{cutoff:12E5,granularity:300},{cutoff:0,granularity:60}],eLe=class{constructor(){_.DN.isWhitelisted("chart-two-year-retention")?this.granularityTableFine=bLe:this.granularityTableFine=
cLe;this.granularityTableMap={LINE:this.granularityTableFine,STACKED_BAR:dLe,STACKED_AREA:this.granularityTableFine,HEATMAP:this.granularityTableFine}}getGranularityInfoObjects(a,b){return a?a.map(c=>{const d={};let e=null;c.alignmentInfo&&(e=c.alignmentInfo.granularityFromUser,null!=e&&(d.granularityFromUser=e));let f=null;if(b){let g;f=this.granularityForDomain(b,null==(g=c.filterInfo)?void 0:g.plotType)}null!=f&&(d.granularityForDomain=f,d.granularity=null!=e?Math.max(f,e):f);return d}):null}granularityForDomain(a,
b){let c=this.granularityTableFine;b&&(c=this.granularityTableMap[b]||this.granularityTableFine);a=+a[1]-+a[0];for(const d of c)if(a>d.cutoff)return d.granularity;return c[c.length-1].granularity}};eLe.\u0275fac=function(a){return new (a||eLe)};eLe.\u0275prov=_.m({token:eLe,factory:eLe.\u0275fac,providedIn:"root"});
var fLe=function(a){return a.getGroupsStream().pipe(_.U(b=>{const c={};b.forEach(d=>{c[d.id]=d});return c}),_.yf(null))},gLe=class{};gLe.\u0275fac=function(a){return new (a||gLe)};gLe.\u0275prov=_.m({token:gLe,factory:gLe.\u0275fac,providedIn:"root"});
var hLe=class{getInfoObjects(a){if(!a||!a.hasDataSets||0===a.dataSets.length)return null;const b=[];a.dataSets.forEach(c=>{b.push(this.getInfoObject(c))});return b}getInfoObject(a){const b=Eee(a);if(b)return{timeSeriesQueryInfo:{text:b}};const c={limitInfo:this.limitInfo()||void 0,filterInfo:this.filterInfo(a)||void 0,groupByInfo:this.groupByInfo(a)||void 0,alignmentInfo:this.alignmentInfo(a)||void 0,topNInfo:this.topNInfo(a)||void 0};Object.keys(c).forEach(d=>{c[d]||delete c[d]});return c}limitInfo(){const a=
_.CN(_.DN,"chart-server-stream-limit");return a?{numTimeSeries:a,direction:"TOP",rankingMethod:"METHOD_MEAN"}:null}filterInfo(a){const b=[];let c=null,d=null;const e=a.plotType;if(a.hasTimeSeriesFilter){a=(new _.fO(a.timeSeriesFilter.filter)).parsed;let l=0;for(;a&&l<a.length;){var f=a[l++],g=a[l++],h=a[l++];l++;f&&g&&h&&(f=f.toString(),g=g.toString(),h=h.toString(),"resource.type"===f?c=h.replace(/"/g,""):"metric.type"===f?d=h.replace(/"/g,""):f.startsWith("select_")?d=f+h:b.push({lhs:f,op:g,rhs:h}))}}a=
null;e&&(a=a||{},a.plotType=e);c&&(a=a||{},a.resourceType=c);d&&(a=a||{},a.metricType=d);b&&b.length&&(a=a||{},a.filters=b);return a}groupByInfo(a){let b=null,c=null,d=null;var e=null;if(a.hasTimeSeriesFilter){var f=a.timeSeriesFilter;f.hasAggregations&&0<f.aggregations.length?(a=f.aggregations[0],c=a.crossSeriesReducer,a.hasGroupByFields&&(b=a.groupByFields),1<f.aggregations.length&&(e=f.aggregations[1],e.hasGroupByFields&&(d=e.groupByFields),e=f.aggregations[1].crossSeriesReducer)):(f.hasGroupByFields&&
(b=a.timeSeriesFilter.groupByFields),c=f.crossSeriesReducer,f.hasSecondaryGroupByFields&&(d=f.secondaryGroupByFields),e=f.secondaryCrossSeriesReducer)}f={};b&&b.length&&(f.groups=b);c&&"REDUCE_NONE"!==c&&(f.reducer=c);d&&d.length&&(f.secondaryGroups=d);e&&"REDUCE_NONE"!==e&&(f.secondaryReducer=e);return b&&b.length||c||d&&d.length||e?f:null}alignmentInfo(a){let b=null;var c=null;a.hasTimeSeriesFilter&&(c=a.timeSeriesFilter,b=c.hasAggregations&&0<c.aggregations.length?c.aggregations[0].perSeriesAligner:
c.perSeriesAligner,c=c.minAlignmentPeriod);a={};b&&(a.aligner=b);c&&(a.granularityFromUser=+c.replace("s",""));return a}topNInfo(a){return a.hasTimeSeriesFilter&&a.timeSeriesFilter&&a.timeSeriesFilter.hasPickTimeSeriesFilter&&a.timeSeriesFilter.pickTimeSeriesFilter&&(a=a.timeSeriesFilter.pickTimeSeriesFilter,a.numTimeSeries&&a.direction&&a.rankingMethod&&"DIRECTION_UNSPECIFIED"!==a.direction&&"METHOD_UNSPECIFIED"!==a.rankingMethod)?{numTimeSeries:a.numTimeSeries,direction:a.direction,rankingMethod:a.rankingMethod}:
null}};hLe.\u0275fac=function(a){return new (a||hLe)};hLe.\u0275prov=_.m({token:hLe,factory:hLe.\u0275fac,providedIn:"root"});
var iLe=new _.Zc("GroupsDataFetcherInterface");
var jLe=function(a){return a.xyChartStream.pipe(_.U(b=>b?a.infoTranslationService.getInfoObjects(a.xyChart):null))},kLe=function(a){return a.scorecardStream.pipe(_.U(b=>b?[a.infoTranslationService.getInfoObject(a.scorecard)]:null))},lLe=class{constructor(a,b,c,d,e){this.infoTranslationService=a;this.descriptorService=b;this.granularityService=c;this.groupsDataFetcher=e;this.scorecard=this.xyChart=void 0;this.subtitleHelper=new $Ke;this.domain=void 0;this.basicMode=this.data=null;this.hideAlignmentChip=
!1;this.valueDomain=null;this.xyChartStream=new _.bg;this.scorecardStream=new _.bg;this.domainStream=new _.bg;this.dataStream=new _.bg(null);this.basicModeStream=new _.bg(null);this.hideAlignmentChipStream=new _.bg(!1);this.valueDomainStream=new _.bg(null);this.timezoneOffsetStream=new _.bg}ngOnInit(){this.infoObjectsStream=_.qe([jLe(this),kLe(this)]).pipe(_.U(([c,d])=>c?c:d?d:null));this.descriptorsStream=this.infoObjectsStream.pipe(_.zf(c=>c?_.qe(c.map(d=>this.descriptorService.getDescriptorStream(d))):
new _.bg(null)));this.granularityStream=_.qe([this.infoObjectsStream,this.domainStream,this.descriptorsStream]).pipe(_.U(([c,d])=>this.granularityService.getGranularityInfoObjects(c,d)));this.groupsTranslationStream=fLe(this.groupsDataFetcher);const a=_.qe([this.infoObjectsStream,this.descriptorsStream,this.granularityStream,this.groupsTranslationStream,this.dataStream,this.basicModeStream]),b=_.qe([this.hideAlignmentChipStream,this.valueDomainStream,this.timezoneOffsetStream]);this.chipsStream=_.qe([a,
b]).pipe(_.U(([[c,d,e,f,g,h],[l,n,r]])=>c?this.subtitleHelper.getChips(c,e,d,f,g,h,l,n,r):null))}ngOnChanges(a){a.xyChart&&this.xyChartStream.next(this.xyChart);a.scorecard&&this.scorecardStream.next(this.scorecard);a.domain&&this.domainStream.next(this.domain);a.data&&this.dataStream.next(this.data);a.basicMode&&this.basicModeStream.next(this.basicMode);a.hideAlignmentChip&&this.hideAlignmentChipStream.next(this.hideAlignmentChip);a.valueDomain&&this.valueDomainStream.next(this.valueDomain);a.timezoneOffset&&
this.timezoneOffsetStream.next(this.timezoneOffset)}};lLe.\u0275fac=function(a){return new (a||lLe)(_.A(hLe),_.A(aLe),_.A(eLe),_.A(gLe),_.A(iLe))};lLe.\u0275dir=_.q({type:lLe,inputs:{xyChart:"xyChart",scorecard:"scorecard",subtitleHelper:"subtitleHelper",domain:"domain",data:"data",basicMode:"basicMode",hideAlignmentChip:"hideAlignmentChip",valueDomain:"valueDomain",timezoneOffset:"timezoneOffset"},features:[_.Gc]});
var mLe=["container"],Jee=function(a,b,c){return{"subtitle-info-chip":a,"subtitle-warn-chip":b,"subtitle-error-chip":c}},nLe=class{constructor(){this.chips=null;this.expanded=this.preserveWhitespace=!1}isHeader(a){return 1===a.elementType}isFilter(a){return 3===a.elementType}isInfoChip(a){return 4===a.elementType}isWarnStatusChip(a){return a.status&&2===a.status}isErrorStatusChip(a){return a.status&&3===a.status}combineChips(a,b){if(0===a.length)return null;switch(a[0].chipDescriptor.muxCollapsedCombiner){case 3:return null;
case 2:return a[0];case 1:if(b!==a.length)return null;for(b=1;b<a.length;b++)if(a[b].chipDescriptor.chipType!==a[0].chipDescriptor.chipType||a[b].status!==a[0].status||a[b].text!==a[0].text||a[b].tooltip!==a[0].tooltip)return null;return a[0];default:return null}}collapsedChips(a){if(!a||0===a.length)return null;const b={};a.forEach(c=>{c.forEach(d=>{b[d.chipDescriptor.chipType]=b[d.chipDescriptor.chipType]||[];b[d.chipDescriptor.chipType].push(d)})});return Object.keys(b).map(c=>Number(c)).sort().map(c=>
this.combineChips(b[c],a.length)).filter(c=>c)}get singleChipTooltipClass(){return this.preserveWhitespace?"ac-subtitle-tooltip preserve-whitespace":"ac-subtitle-tooltip"}getWidth(){return this.container.nativeElement.offsetWidth}};nLe.\u0275fac=function(a){return new (a||nLe)};
nLe.\u0275cmp=_.q({type:nLe,selectors:[["ac-subtitle-view"]],viewQuery:function(a,b){a&1&&_.Oe(mLe,7);if(a&2){let c;_.Ne(c=_.Qe())&&(b.container=c.first)}},inputs:{chips:"chips",preserveWhitespace:"preserveWhitespace"},decls:5,vars:3,consts:[[1,"subtitle-view-container"],["container",""],[4,"ngIf"],["style","height: 32px",4,"ngIf"],[4,"ngFor","ngForOf"],["class","subtitle-header","matTooltipClass","ac-subtitle-tooltip",3,"matTooltip",4,"ngIf"],["matTooltipClass","ac-subtitle-tooltip",1,"subtitle-header",
3,"matTooltip"],[1,"tooltip-test-hook"],[1,"text-test-hook"],["disabled","",3,"matTooltip","ngClass","matTooltipClass",4,"ngIf"],["disabled","",3,"matTooltip","ngClass","matTooltipClass"],["class","mat-18 icon subtitle-filter-icon","svgIcon","ac:filter_list",4,"ngIf"],["svgIcon","ac:filter_list",1,"mat-18","icon","subtitle-filter-icon"],[1,"expanded-mux-div"],[1,"subtitle-down-chevron-div","chevron-test-hook",3,"click"],["svgIcon","ac:subtitle_down_chevron",1,"mat-24","icon","expanded-mux-chevron"],
["matTooltipClass","ac-subtitle-tooltip","disabled","",3,"ngClass","matTooltip",4,"ngIf"],["matTooltipClass","ac-subtitle-tooltip","disabled","",3,"ngClass","matTooltip"],[2,"height","32px"],[1,"collapsed-mux-div"],[1,"subtitle-left-chevron-div","chevron-test-hook",3,"click"],["svgIcon","ac:subtitle_left_chevron",1,"mat-24","icon","collapsed-mux-chevron"]],template:function(a,b){a&1&&(_.E(0,"div",0,1),_.P(2,Oee,2,1,"ng-container",2),_.P(3,Xee,6,1,"div",2),_.P(4,cfe,8,2,"div",3),_.F());a&2&&(_.x(2),
_.C("ngIf",b.chips&&1==b.chips.length),_.x(1),_.C("ngIf",b.chips&&1<b.chips.length&&b.expanded),_.x(1),_.C("ngIf",b.chips&&1!=b.chips.length&&!b.expanded))},dependencies:[_.qx,_.kl,_.ll,A6,z6,_.vo,R7],styles:["mat-chip.mat-chip.mat-standard-chip.mat-chip-disabled[_ngcontent-%COMP%]{font-size:12px;font-weight:400;opacity:1}div.subtitle-header[_ngcontent-%COMP%]{font-size:12px;height:16px;line-height:16px;margin:10px 6px 6px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.subtitle-info-chip[_ngcontent-%COMP%]{height:18px;min-height:unset;line-height:12px;padding:1px 6px}.subtitle-filter-icon[_ngcontent-%COMP%]{padding-right:2px}div.expanded-mux-div[_ngcontent-%COMP%]{padding-bottom:10px;border-color:transparent;border-style:solid;border-width:2px;position:relative}div.expanded-mux-div[_ngcontent-%COMP%]   .expanded-mux-chevron[_ngcontent-%COMP%]{margin-top:8px}div.collapsed-mux-div[_ngcontent-%COMP%]{position:relative}.tooltip-test-hook[_ngcontent-%COMP%]{display:none}.subtitle-down-chevron-div[_ngcontent-%COMP%]{position:absolute;right:0px;top:-2px}.subtitle-left-chevron-div[_ngcontent-%COMP%]{position:absolute;right:0px;top:8px}[_nghost-%COMP%]     .subtitle-chip-row.subtitle-container{display:block;overflow:hidden}[_nghost-%COMP%]     .subtitle-chip-row .subtitle-view-container{display:inline-block}[_nghost-%COMP%]     .subtitle-chip-row .mat-chip-list-wrapper{flex-flow:row nowrap}[_nghost-%COMP%]     .subtitle-chip-row mat-chip{white-space:nowrap}\n/*# sourceMappingURL=subtitle_style.css.map */"]});
var oLe=["container"],pLe=function(a){a.showResponsive&&a.checkOverflow.next()},qLe=class extends lLe{constructor(){super(...arguments);this.showResponsiveInternal=!1;this.drawn=new _.$k;this.checkOverflow=new _.tf;this.chipsOverflowing=new _.bg(!1);this.lastWidthMeasurement=this.lastChipMeasurement=this.lastMeasuredChips=this.currentChips=null;this.showingCombined=!1;this.destroyed=new _.tf}set showResponsive(a){this.showResponsiveInternal=a;a||(this.chipsOverflowing.next(!1),this.lastWidthMeasurement=
this.lastChipMeasurement=this.lastMeasuredChips=null)}get showResponsive(){return this.showResponsiveInternal}ngOnInit(){super.ngOnInit();this.chipsStream.subscribe(()=>{this.chipsOverflowing.next(!1)});this.responsiveChipsStream=_.qe([this.chipsStream,this.chipsOverflowing.pipe(_.Ze())]).pipe(_.U(([a,b])=>{this.currentChips=a;if(!this.showResponsive||!a)return a;var c=1<a.length;this.showingCombined=b=b||c;if(b){if(b=a){b=[];const e=(c=1<a.length)?"    ":"";for(d of a){a=[];const f=[];for(const g of d){const h=
`${g.text} (${g.tooltip.replace(/\r\n|\n|\r/gm,"; ")})`;1===g.chipDescriptor.elementType?c&&a.push(h):f.push(e+h)}b.push([...a,...f].join("\n"))}var d=b.join("\n\n");b=[[{chipDescriptor:SKe,text:"Configuration",tooltip:d}]]}d=b}else d=a;return d}));this.responsiveChipsStream.subscribe(()=>{this.drawn.emit()});this.checkOverflow.pipe(_.Af(this.destroyed),_.We(100)).subscribe(()=>{const a=this.lastWidthMeasurement||this.container.nativeElement.offsetWidth;this.lastWidthMeasurement=a;if(this.currentChips===
this.lastMeasuredChips&&null!==this.lastChipMeasurement)a<this.lastChipMeasurement?this.chipsOverflowing.next(!0):this.chipsOverflowing.next(!1);else if(!this.showingCombined){const b=this.subtitleView.getWidth();this.lastMeasuredChips=this.currentChips;this.lastChipMeasurement=b;this.chipsOverflowing.next(b>a)}})}ngAfterViewInit(){"function"===typeof window.ResizeObserver?(this.resizeObserver=new ResizeObserver(()=>{this.lastWidthMeasurement=null}),this.resizeObserver.observe(this.container.nativeElement)):
this.resizeSensor=new HKe(this.container.nativeElement,()=>{this.lastWidthMeasurement=null})}ngOnDestroy(){this.resizeObserver&&this.resizeObserver.disconnect();this.resizeSensor&&this.resizeSensor.detach(()=>{});this.destroyed.next();this.destroyed.complete()}ngAfterViewChecked(){pLe(this)}get subtitleContainerClasses(){const a=["subtitle-container"];this.showResponsive&&a.push("subtitle-chip-row");return a}};qLe.\u0275fac=function(){let a;return function(b){return(a||(a=_.Xc(qLe)))(b||qLe)}}();
qLe.\u0275cmp=_.q({type:qLe,selectors:[["ac-subtitle-ng2"]],viewQuery:function(a,b){a&1&&(_.Oe(oLe,7),_.Oe(nLe,7));if(a&2){let c;_.Ne(c=_.Qe())&&(b.container=c.first);_.Ne(c=_.Qe())&&(b.subtitleView=c.first)}},inputs:{showResponsive:"showResponsive"},outputs:{drawn:"drawn"},features:[_.wd],decls:4,vars:5,consts:[[3,"ngClass"],["container",""],[1,"subtitle",3,"chips","preserveWhitespace"]],template:function(a,b){a&1&&(_.E(0,"div",0,1),_.I(2,"ac-subtitle-view",2),_.Zd(3,"async"),_.F());a&2&&(_.C("ngClass",
b.subtitleContainerClasses),_.x(2),_.C("chips",_.$d(3,3,b.responsiveChipsStream))("preserveWhitespace",b.showResponsive))},dependencies:[_.qx,nLe,_.pl],styles:["mat-chip.mat-chip.mat-standard-chip.mat-chip-disabled[_ngcontent-%COMP%]{font-size:12px;font-weight:400;opacity:1}div.subtitle-header[_ngcontent-%COMP%]{font-size:12px;height:16px;line-height:16px;margin:10px 6px 6px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.subtitle-info-chip[_ngcontent-%COMP%]{height:18px;min-height:unset;line-height:12px;padding:1px 6px}.subtitle-filter-icon[_ngcontent-%COMP%]{padding-right:2px}div.expanded-mux-div[_ngcontent-%COMP%]{padding-bottom:10px;border-color:transparent;border-style:solid;border-width:2px;position:relative}div.expanded-mux-div[_ngcontent-%COMP%]   .expanded-mux-chevron[_ngcontent-%COMP%]{margin-top:8px}div.collapsed-mux-div[_ngcontent-%COMP%]{position:relative}.tooltip-test-hook[_ngcontent-%COMP%]{display:none}.subtitle-down-chevron-div[_ngcontent-%COMP%]{position:absolute;right:0px;top:-2px}.subtitle-left-chevron-div[_ngcontent-%COMP%]{position:absolute;right:0px;top:8px}[_nghost-%COMP%]     .subtitle-chip-row.subtitle-container{display:block;overflow:hidden}[_nghost-%COMP%]     .subtitle-chip-row .subtitle-view-container{display:inline-block}[_nghost-%COMP%]     .subtitle-chip-row .mat-chip-list-wrapper{flex-flow:row nowrap}[_nghost-%COMP%]     .subtitle-chip-row mat-chip{white-space:nowrap}\n/*# sourceMappingURL=subtitle_style.css.map */"]});
var f8=class{};f8.\u0275fac=function(a){return new (a||f8)};f8.\u0275mod=_.Bc({type:f8});f8.\u0275inj=_.tc({imports:[_.ql,B6,_.Do,S7]});
var rLe=class extends HHe{};
var sLe=["matSelect"],mfe=function(a){return{transform:a}},ofe=function(a){return{hidden:a}},tLe={category:"",id:null,direction:null},ufe=function(a){a.labelsModel.columnsModel=a.columnsModelCopy?a.columnsModelCopy.filter(b=>-2!==b&&-1!==b):a.columnsModelCopy;a.labelsModel.selectableColumns&&(a.labelsModel.selectedColumns=a.labelsModel.selectableColumns.filter(b=>b.uniqueId&&a.labelsModel.columnsModel&&-1!==a.labelsModel.columnsModel.indexOf(b.uniqueId)));a.resetSortFunc();a.selectedColumnsChanged.emit();
a.matSelect&&a.matSelect.close()},vfe=function(a){return!(a.columnsModelCopy&&a.columnsModelCopy.filter(b=>-2!==b&&-1!==b).length)},u5=function(a){a.prevSortColumn=Object.assign({},a.currentSortColumn)},uLe=function(a){return 1E3===a.currentSortColumn.id&&0<(a.currentSortColumn.direction||0)},vLe=function(a){return 1E3===a.currentSortColumn.id&&0>(a.currentSortColumn.direction||0)},g8=function(){return _.DN.isWhitelisted("chart-selectable-legend-labels")},wLe=class{constructor(){this.columnKeys=[];
this.timePinEnabled=!1;this.defaultSortingColumn="";this.defaultSortingDirection=null;this.sortFunc=new _.$k;this.selectedColumnsChanged=new _.$k;this.setAndSnapTimePin=new _.$k;this.currentSortColumn=tLe;this.hoveredColumn=null;this.columnsModelCopy=[-1,-2];this.ve=f7;this.isTimePinSet=!1;this.prevSortColumn=tLe;this.destroyed=new _.tf}ngOnInit(){"VALUE"===this.defaultSortingColumn&&(this.setSortColumnDefault(this.defaultSortingColumn,1E3,this.defaultSortingDirection),u5(this));this.timePinEnabled&&
this.timePinUpdated&&this.timePinUpdated.pipe(_.Af(this.destroyed)).subscribe(a=>{a[0]&&a[1]?(this.isTimePinSet||this.setSortColumnDefault("VALUE",1E3,-1),this.isTimePinSet=!0):(this.currentSortColumn=Object.assign({},this.prevSortColumn),this.isTimePinSet=!1);this.resetSortFunc()})}ngOnDestroy(){this.destroyed.next()}toggleSortDirection(a){switch(a){case null:case 1:return-1;case -1:return 1;default:return null}}resetSortFunc(){if(this.currentSortColumn.id)switch(this.currentSortColumn.category){case "MAIN":this.sortFunc.emit(Wae(this.currentSortColumn.direction));
break;case "LABEL":let a=0;this.labelsModel.selectedColumns&&this.labelsModel.selectedColumns.forEach((b,c)=>{null!==this.currentSortColumn.id&&b.uniqueId===this.currentSortColumn.id-10&&(a=c)});this.sortFunc.emit(Xae(a,this.currentSortColumn.direction));break;case "VALUE":this.sortFunc.emit(Yae(this.currentSortColumn.direction))}else this.sortFunc.emit(Wae(this.currentSortColumn.direction))}toggleSortColumn(a,b){this.currentSortColumn.id===b?(this.currentSortColumn=Object.assign({},this.currentSortColumn,
{direction:this.toggleSortDirection(this.currentSortColumn.direction)}),null===this.currentSortColumn.direction&&(this.currentSortColumn=Object.assign({},this.currentSortColumn,{id:0}))):this.setSortColumnDefault(a,b,-1);this.resetSortFunc()}setSortColumnDefault(a,b,c){this.currentSortColumn={category:a,id:b,direction:c}}labelSortColumnClicked(a){this.toggleSortColumn("LABEL",10+a);u5(this)}isLabelSortColumnAscending(a){return this.currentSortColumn.id===10+a&&0<(this.currentSortColumn.direction||
0)}isLabelSortColumnDescending(a){return this.currentSortColumn.id===10+a&&0>(this.currentSortColumn.direction||0)}labelSortColumnHovered(a){this.hoveredColumn=a}isLabelColumnHovered(a){return this.hoveredColumn===a&&!(this.currentSortColumn.id===10+a&&0!==(this.currentSortColumn.direction||0))}valueSortColumnClicked(){this.timePinEnabled&&(this.isTimePinSet?this.toggleSortColumn("VALUE",1E3):this.setAndSnapTimePin.emit())}valueSortColumnHovered(){this.timePinEnabled&&(this.hoveredColumn=1E3)}valueSortColumnUnhovered(){this.timePinEnabled&&
(this.hoveredColumn=null)}isValueColumnHovered(){return this.timePinEnabled?1E3===this.hoveredColumn&&!(1E3===this.currentSortColumn.id&&0!==(this.currentSortColumn.direction||0)):!1}labelToClass(a){return a.toLowerCase().replace(/[^\w]+/g,"-")}};wLe.\u0275fac=function(a){return new (a||wLe)};
wLe.\u0275cmp=_.q({type:wLe,selectors:[["ac-table-legend-header"]],viewQuery:function(a,b){a&1&&_.Oe(sLe,5);if(a&2){let c;_.Ne(c=_.Qe())&&(b.matSelect=c.first)}},inputs:{columnKeys:"columnKeys",timePinUpdated:"timePinUpdated",valueName:"valueName",timeshiftName:"timeshiftName",columnFlexWidth:"columnFlexWidth",scale:"scale",labelsModel:"labelsModel",scrollLeft:"scrollLeft",widthDifference:"widthDifference",timePinEnabled:"timePinEnabled",defaultSortingColumn:"defaultSortingColumn",defaultSortingDirection:"defaultSortingDirection"},
outputs:{sortFunc:"sortFunc",selectedColumnsChanged:"selectedColumnsChanged",setAndSnapTimePin:"setAndSnapTimePin"},decls:16,vars:18,consts:[["fxLayout","row"],[1,"ac-chip-static-container",3,"ngStyle"],[1,"ac-chip-relative-container"],[1,"ac-chip-absolute-background"],[1,"ac-chip-header","ac-table-legend-chip"],["fxFlex","100",4,"ngIf"],["fxFlex","100","class","ac-legend-key",4,"ngIf"],["class","ac-table-legend-value-header ac-table-value-column legend-table-cell timeshift-value",3,"matTooltip",
"ngStyle","ngClass",4,"ngIf"],[1,"ac-table-legend-value-header","ac-table-value-column","legend-table-cell","current-value","sortable-column","Value",3,"ngStyle","ngClass"],[1,"sort-by-value-trigger",3,"ve","veClick","mouseenter","mouseleave","click"],["class","icon sort-icon hovered-icon","svgIcon","ac:keyboard_arrow_down",3,"ngClass",4,"ngIf"],["class","icon sort-icon","svgIcon","ac:keyboard_arrow_up",4,"ngIf"],["class","icon sort-icon","svgIcon","ac:keyboard_arrow_down",4,"ngIf"],[3,"matTooltip"],
["class","ac-table-options-column legend-table-cell last table-options",3,"ngStyle",4,"ngIf"],["fxFlex","100"],[3,"class","fxFlex","matTooltip","click",4,"ngFor","ngForOf"],[3,"fxFlex","matTooltip","click"],["svgIcon","ac:keyboard_arrow_up",1,"icon","sort-icon"],["svgIcon","ac:keyboard_arrow_down",1,"icon","sort-icon"],["fxFlex","100",1,"ac-legend-key"],[3,"class","fxFlex","ve","veClick","matTooltip","mouseenter","mouseleave","click",4,"ngFor","ngForOf"],[3,"fxFlex","ve","veClick","matTooltip","mouseenter",
"mouseleave","click"],["class","icon sort-icon hovered-icon","svgIcon","ac:keyboard_arrow_down",4,"ngIf"],["svgIcon","ac:keyboard_arrow_down",1,"icon","sort-icon","hovered-icon"],[1,"ac-table-legend-value-header","ac-table-value-column","legend-table-cell","timeshift-value",3,"matTooltip","ngStyle","ngClass"],["svgIcon","ac:keyboard_arrow_down",1,"icon","sort-icon","hovered-icon",3,"ngClass"],[1,"ac-table-options-column","legend-table-cell","last","table-options",3,"ngStyle"],["multiple","","placeholder",
"",1,"legend-column-selector-mat-select",3,"value","panelClass","valueChange","openedChange"],["matSelect",""],[3,"ve","veClick"],["svgIcon","ac:view_column",1,"column-selector-icon"],[1,"column-selector-header"],[3,"ve"],[1,"column-selector-menu-scroll"],["disabled","true",3,"value",4,"ngIf"],["disabled","true",3,"value"],[3,"value","matTooltip","ve","veClick",4,"ngFor","ngForOf"],[1,"column-selector-menu-buttons",3,"ve"],["mat-button","","color","basic",3,"ve","veClick","click"],["mat-button","",
"color","primary",3,"disabled","ve","veClick","click"],[3,"value","matTooltip","ve","veClick"]],template:function(a,b){a&1&&(_.E(0,"div",0)(1,"span",1)(2,"span",2),_.I(3,"span",3)(4,"span",4),_.F()(),_.P(5,gfe,2,1,"div",5),_.P(6,lfe,2,1,"div",6),_.P(7,nfe,2,6,"span",7),_.E(8,"span",8)(9,"span",9),_.L("mouseenter",function(){return b.valueSortColumnHovered()})("mouseleave",function(){return b.valueSortColumnUnhovered()})("click",function(){return b.valueSortColumnClicked()}),_.P(10,pfe,1,3,"mat-icon",
10),_.P(11,qfe,1,0,"mat-icon",11),_.P(12,rfe,1,0,"mat-icon",12),_.E(13,"span",13),_.Q(14),_.F()()(),_.P(15,wfe,18,18,"span",14),_.F());a&2&&(_.x(1),_.C("ngStyle",_.Yd(14,mfe,"translateX("+b.scrollLeft+"px)")),_.x(4),_.C("ngIf",!g8()),_.x(1),_.C("ngIf",g8()),_.x(1),_.C("ngIf",b.timeshiftName),_.x(1),_.C("ngStyle",_.Yd(16,mfe,"translateX("+(-1*b.widthDifference+b.scrollLeft)+"px)"))("ngClass",!b.timeshiftName&&100<b.scale?"leftmost-frozen":""),_.x(1),_.C("ve",b.ve.ColumnSortButton)("veClick",!0),_.x(1),
_.C("ngIf",!(uLe(b)||vLe(b))),_.x(1),_.C("ngIf",uLe(b)),_.x(1),_.C("ngIf",vLe(b)),_.x(1),_.fv("matTooltip",b.valueName),_.x(1),_.Ud(b.valueName),_.x(1),_.C("ngIf",g8()))},dependencies:[_.qx,_.kl,_.ll,_.xD,_.SD,_.VD,_.Bp,_.vo,U7,T7,_.zy,R7,_.wt],styles:[".ac-inline-legend[_ngcontent-%COMP%], .ac-inline-legend-items[_ngcontent-%COMP%]{display:inline-block}.ac-inline-legend[_ngcontent-%COMP%]   .ac-inline-legend-item[_ngcontent-%COMP%], .ac-inline-legend-items[_ngcontent-%COMP%]   .ac-inline-legend-item[_ngcontent-%COMP%]{box-sizing:content-box;cursor:pointer;display:inline-block;height:12px;margin-right:6px;padding:4px 6px}.ac-inline-legend[_ngcontent-%COMP%]   .ac-inline-legend-item[_ngcontent-%COMP%]   .ac-inline-legend-chip[_ngcontent-%COMP%], .ac-inline-legend-items[_ngcontent-%COMP%]   .ac-inline-legend-item[_ngcontent-%COMP%]   .ac-inline-legend-chip[_ngcontent-%COMP%]{border-radius:50px;display:inline-block;height:12px;margin-right:6px;vertical-align:middle;width:12px}.ac-inline-legend[_ngcontent-%COMP%]   .ac-inline-legend-item[_ngcontent-%COMP%]   .ac-legend-value[_ngcontent-%COMP%], .ac-inline-legend-items[_ngcontent-%COMP%]   .ac-inline-legend-item[_ngcontent-%COMP%]   .ac-legend-value[_ngcontent-%COMP%]{margin:0 5px;min-width:5em;text-overflow:ellipsis;white-space:nowrap}.ac-inline-legend[_ngcontent-%COMP%]   .ac-inline-legend-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .ac-inline-legend-items[_ngcontent-%COMP%]   .ac-inline-legend-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;height:12px}.ac-legend-key[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ac-legend-table-virtual-scroll[_ngcontent-%COMP%]{display:block;flex-grow:1;overflow-y:scroll}.ac-legend-table-virtual-scroll.overflow-visible[_ngcontent-%COMP%]{overflow-y:visible;overflow:visible}ac-table-legend[_ngcontent-%COMP%], ng2-ac-table-legend[_ngcontent-%COMP%], .ac-table-legend-switch[_ngcontent-%COMP%]{display:flex;flex-direction:column}.ac-table-legend-switch[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]::after, .ac-table-legend-switch[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]::before, .ac-table-legend-switch[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], .ac-table-legend-switch[_ngcontent-%COMP%]{box-sizing:content-box}.ac-table-legend-switch.scrolling-div[_ngcontent-%COMP%]{overflow:auto}.ac-table-legend-value[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;user-select:text}.ac-table-value-column[_ngcontent-%COMP%], .ac-table-legend-value[_ngcontent-%COMP%]{display:inline-block;flex:none;text-align:right;width:80px}.ac-table-legend-value.ac-stats-left-align[_ngcontent-%COMP%]{text-align:left}.ac-table-value-column.ac-stats-left-align[_ngcontent-%COMP%]{text-align:left}div.ac-table-legend-value.legend-table-cell.current-value[_ngcontent-%COMP%], span.ac-table-value-column.legend-table-cell.current-value[_ngcontent-%COMP%]{box-sizing:content-box;padding:0 8px 0 0}.ac-table-options-column[_ngcontent-%COMP%]{display:inline-block;flex:none;align-content:center;width:40px}div.ac-table-legend-options.legend-table-cell.table-options[_ngcontent-%COMP%]{min-width:40px;width:40px}.ac-chip-static-container[_ngcontent-%COMP%]{flex:none;width:50px}.ac-chip-relative-container[_ngcontent-%COMP%]{flex:none;line-height:42px;position:relative}.ac-chip-absolute-background[_ngcontent-%COMP%]{height:12px;line-height:42px;padding:15px 8px 15px 24px;position:absolute;width:12px;box-sizing:content-box}.ac-table-legend-chip[_ngcontent-%COMP%]{border-radius:50px;flex:none;height:12px;line-height:42px;position:absolute;margin:15px 8px 15px 24px;width:12px}.ac-table-legend-chip.ac-chip-position-static[_ngcontent-%COMP%]{position:static}.ac-table-legend-header[_ngcontent-%COMP%]{display:block;font-weight:bold;margin:0}ac-table-legend-header[_ngcontent-%COMP%], ac-stats-legend-header[_ngcontent-%COMP%]{border-style:solid;border-width:1px 0;cursor:default;display:block;height:42px;line-height:42px}mat-icon.sort-icon[_ngcontent-%COMP%]{vertical-align:middle;width:18px;visibility:visible}mat-icon.sort-icon.hidden[_ngcontent-%COMP%]{overflow:hidden;visibility:hidden}.sortable-column[_ngcontent-%COMP%]{cursor:pointer}.ac-table-legend-row[_ngcontent-%COMP%]{border-style:solid;border-width:0 0 1px;cursor:pointer;display:block;height:42px;line-height:42px}.ac-table-legend-label[_ngcontent-%COMP%]{overflow-x:hidden;text-overflow:ellipsis;white-space:nowrap;user-select:text}.legend-table-cell[_ngcontent-%COMP%]{height:42px;padding-left:0;padding-right:8px}.legend-table-cell.leftmost-frozen[_ngcontent-%COMP%]{padding-left:8px}.legend-table-cell.last[_ngcontent-%COMP%]{padding-right:0}.ac-table-legend-label-header[_ngcontent-%COMP%], .ac-table-legend-value-header[_ngcontent-%COMP%]{overflow-x:hidden;text-overflow:ellipsis;white-space:nowrap}div.column-selector-menu-scroll[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:visible;max-height:184px}div.column-selector-menu-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding-right:8px;height:40px}div.column-selector-menu-buttons[_ngcontent-%COMP%]   button.mat-button[_ngcontent-%COMP%]{color:#3367d6;margin:4px 0px}.column-selector-icon[_ngcontent-%COMP%]{width:32px;height:32px;padding:4px;border-radius:50%;margin-top:8px}.column-selector-icon[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.1)}.column-selector-header[_ngcontent-%COMP%]{height:32px;padding:8px 0px 8px 16px;color:rgba(0,0,0,.66)}\n/*# sourceMappingURL=legend_style.css.map */"]});
var yfe=function(){return{"user-select":"text"}},Bfe=function(a){return{transform:a}},xLe=function(a){return{"background-color":a}},yLe=function(a,b){return[a,b]},zLe=function(a,b){null===a.toggleSelectedTimeout?[2,3].includes(b)||(a.timesClicked=1,a.toggleSelectedTimeout=setTimeout(()=>{a.timesClicked%2&&a.timesClicked%3&&a.toggleSelected.next();a.toggleSelectedTimeout=null},250)):a.timesClicked++},ALe=class{constructor(){this.timeshift=!1;this.labelPercents=[];this.widthDifference=this.scrollLeft=
0;this.scale=100;this.toggleSelected=new _.$k;this.toggleSelectedTimeout=null;this.timesClicked=0;this.lastMouseDown=null;this.draggable="true"}getStreamName(){return this.stream.name||this.stream.theStream.name}};ALe.\u0275fac=function(a){return new (a||ALe)};
ALe.\u0275cmp=_.q({type:ALe,selectors:[["ac-table-legend-row"]],hostVars:1,hostBindings:function(a,b){a&1&&_.L("mousedown",function(c){b.lastMouseDown=c})("mouseout",function(){b.lastMouseDown=null})("mouseup",function(c){null===b.lastMouseDown||10<Math.abs(b.lastMouseDown.screenX-c.screenX)||(zLe(b,c.detail||0),b.lastMouseDown=null)})("dragstart",function(c){c.preventDefault();c.stopPropagation()});a&2&&_.zd("draggable",b.draggable)},inputs:{stream:"stream",timeshift:"timeshift",labelPercents:"labelPercents",
columnFlexWidth:"columnFlexWidth",scrollLeft:"scrollLeft",widthDifference:"widthDifference",scale:"scale"},outputs:{toggleSelected:"toggleSelected"},decls:13,vars:23,consts:[["fxLayout","row"],[1,"ac-chip-static-container",3,"ngStyle"],[1,"ac-chip-relative-container"],[1,"ac-chip-absolute-background"],[1,"ac-table-legend-chip",3,"ngStyle"],["class","ac-legend-key","fxFlex","100",4,"ngIf"],["class","ac-legend-key","fxFlex","100","fxLayout","row",4,"ngIf"],["class","ac-table-legend-value legend-table-cell timeshift-value",
3,"matTooltip","ngStyle","ngClass",4,"ngIf"],[1,"ac-table-legend-value","legend-table-cell","current-value",3,"matTooltip","ngStyle","ngClass"],["class","ac-table-legend-options last legend-table-cell table-options",3,"ngStyle",4,"ngIf"],["fxFlex","100",1,"ac-legend-key"],[1,"legend-table-cell",3,"matTooltip"],["fxFlex","100","fxLayout","row",1,"ac-legend-key"],["class","ac-table-legend-label legend-table-cell",3,"ngStyle","fxFlex","matTooltip",4,"ngFor","ngForOf"],[1,"ac-table-legend-label","legend-table-cell",
3,"ngStyle","fxFlex","matTooltip"],[1,"ac-table-legend-value","legend-table-cell","timeshift-value",3,"matTooltip","ngStyle","ngClass"],[1,"ac-table-legend-options","last","legend-table-cell","table-options",3,"ngStyle"]],template:function(a,b){a&1&&(_.E(0,"div",0)(1,"span",1)(2,"span",2),_.I(3,"span",3)(4,"span",4),_.F()(),_.P(5,xfe,3,2,"div",5),_.P(6,Afe,2,1,"div",6),_.P(7,Cfe,4,10,"div",7),_.E(8,"div",8),_.Zd(9,"async"),_.Q(10),_.Zd(11,"async"),_.F(),_.P(12,Dfe,1,3,"div",9),_.F());a&2&&(_.x(1),
_.C("ngStyle",_.Yd(14,Bfe,"translateX("+b.scrollLeft+"px)")),_.x(3),_.C("ngStyle",_.Yd(16,xLe,b.stream.color)),_.x(1),_.C("ngIf",!g8()),_.x(1),_.C("ngIf",g8()),_.x(1),_.C("ngIf",b.timeshift),_.x(1),_.fv("matTooltip",_.$d(9,10,b.stream.displayValueStream)),_.C("ngStyle",_.Yd(18,Bfe,"translateX("+(-1*b.widthDifference+b.scrollLeft)+"px)"))("ngClass",_.Zx(20,yLe,!b.timeshift&&100<b.scale?"leftmost-frozen":"",g8()?"":"last")),_.x(2),_.Sd(" ",_.$d(11,12,b.stream.displayValueStream)," "),_.x(2),_.C("ngIf",
g8()))},dependencies:[_.qx,_.kl,_.ll,_.xD,_.SD,_.VD,R7,_.pl],styles:[".ac-inline-legend[_ngcontent-%COMP%], .ac-inline-legend-items[_ngcontent-%COMP%]{display:inline-block}.ac-inline-legend[_ngcontent-%COMP%]   .ac-inline-legend-item[_ngcontent-%COMP%], .ac-inline-legend-items[_ngcontent-%COMP%]   .ac-inline-legend-item[_ngcontent-%COMP%]{box-sizing:content-box;cursor:pointer;display:inline-block;height:12px;margin-right:6px;padding:4px 6px}.ac-inline-legend[_ngcontent-%COMP%]   .ac-inline-legend-item[_ngcontent-%COMP%]   .ac-inline-legend-chip[_ngcontent-%COMP%], .ac-inline-legend-items[_ngcontent-%COMP%]   .ac-inline-legend-item[_ngcontent-%COMP%]   .ac-inline-legend-chip[_ngcontent-%COMP%]{border-radius:50px;display:inline-block;height:12px;margin-right:6px;vertical-align:middle;width:12px}.ac-inline-legend[_ngcontent-%COMP%]   .ac-inline-legend-item[_ngcontent-%COMP%]   .ac-legend-value[_ngcontent-%COMP%], .ac-inline-legend-items[_ngcontent-%COMP%]   .ac-inline-legend-item[_ngcontent-%COMP%]   .ac-legend-value[_ngcontent-%COMP%]{margin:0 5px;min-width:5em;text-overflow:ellipsis;white-space:nowrap}.ac-inline-legend[_ngcontent-%COMP%]   .ac-inline-legend-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .ac-inline-legend-items[_ngcontent-%COMP%]   .ac-inline-legend-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;height:12px}.ac-legend-key[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ac-legend-table-virtual-scroll[_ngcontent-%COMP%]{display:block;flex-grow:1;overflow-y:scroll}.ac-legend-table-virtual-scroll.overflow-visible[_ngcontent-%COMP%]{overflow-y:visible;overflow:visible}ac-table-legend[_ngcontent-%COMP%], ng2-ac-table-legend[_ngcontent-%COMP%], .ac-table-legend-switch[_ngcontent-%COMP%]{display:flex;flex-direction:column}.ac-table-legend-switch[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]::after, .ac-table-legend-switch[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]::before, .ac-table-legend-switch[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], .ac-table-legend-switch[_ngcontent-%COMP%]{box-sizing:content-box}.ac-table-legend-switch.scrolling-div[_ngcontent-%COMP%]{overflow:auto}.ac-table-legend-value[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;user-select:text}.ac-table-value-column[_ngcontent-%COMP%], .ac-table-legend-value[_ngcontent-%COMP%]{display:inline-block;flex:none;text-align:right;width:80px}.ac-table-legend-value.ac-stats-left-align[_ngcontent-%COMP%]{text-align:left}.ac-table-value-column.ac-stats-left-align[_ngcontent-%COMP%]{text-align:left}div.ac-table-legend-value.legend-table-cell.current-value[_ngcontent-%COMP%], span.ac-table-value-column.legend-table-cell.current-value[_ngcontent-%COMP%]{box-sizing:content-box;padding:0 8px 0 0}.ac-table-options-column[_ngcontent-%COMP%]{display:inline-block;flex:none;align-content:center;width:40px}div.ac-table-legend-options.legend-table-cell.table-options[_ngcontent-%COMP%]{min-width:40px;width:40px}.ac-chip-static-container[_ngcontent-%COMP%]{flex:none;width:50px}.ac-chip-relative-container[_ngcontent-%COMP%]{flex:none;line-height:42px;position:relative}.ac-chip-absolute-background[_ngcontent-%COMP%]{height:12px;line-height:42px;padding:15px 8px 15px 24px;position:absolute;width:12px;box-sizing:content-box}.ac-table-legend-chip[_ngcontent-%COMP%]{border-radius:50px;flex:none;height:12px;line-height:42px;position:absolute;margin:15px 8px 15px 24px;width:12px}.ac-table-legend-chip.ac-chip-position-static[_ngcontent-%COMP%]{position:static}.ac-table-legend-header[_ngcontent-%COMP%]{display:block;font-weight:bold;margin:0}ac-table-legend-header[_ngcontent-%COMP%], ac-stats-legend-header[_ngcontent-%COMP%]{border-style:solid;border-width:1px 0;cursor:default;display:block;height:42px;line-height:42px}mat-icon.sort-icon[_ngcontent-%COMP%]{vertical-align:middle;width:18px;visibility:visible}mat-icon.sort-icon.hidden[_ngcontent-%COMP%]{overflow:hidden;visibility:hidden}.sortable-column[_ngcontent-%COMP%]{cursor:pointer}.ac-table-legend-row[_ngcontent-%COMP%]{border-style:solid;border-width:0 0 1px;cursor:pointer;display:block;height:42px;line-height:42px}.ac-table-legend-label[_ngcontent-%COMP%]{overflow-x:hidden;text-overflow:ellipsis;white-space:nowrap;user-select:text}.legend-table-cell[_ngcontent-%COMP%]{height:42px;padding-left:0;padding-right:8px}.legend-table-cell.leftmost-frozen[_ngcontent-%COMP%]{padding-left:8px}.legend-table-cell.last[_ngcontent-%COMP%]{padding-right:0}.ac-table-legend-label-header[_ngcontent-%COMP%], .ac-table-legend-value-header[_ngcontent-%COMP%]{overflow-x:hidden;text-overflow:ellipsis;white-space:nowrap}div.column-selector-menu-scroll[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:visible;max-height:184px}div.column-selector-menu-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding-right:8px;height:40px}div.column-selector-menu-buttons[_ngcontent-%COMP%]   button.mat-button[_ngcontent-%COMP%]{color:#3367d6;margin:4px 0px}.column-selector-icon[_ngcontent-%COMP%]{width:32px;height:32px;padding:4px;border-radius:50%;margin-top:8px}.column-selector-icon[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.1)}.column-selector-header[_ngcontent-%COMP%]{height:32px;padding:8px 0px 8px 16px;color:rgba(0,0,0,.66)}\n/*# sourceMappingURL=legend_style.css.map */"]});
var BLe=["scrollingDiv"],Efe=function(a){return a.columnKeys&&a.columnKeys.length&&100/a.columnKeys.length||0},CLe=class extends OIe{constructor(a,b,c,d,e,f,g){super(a,b,c,d,e,f,g);this.chartGroupManagerService=a;this.changeDetectorRef=b;this.ngZone=c;this.elementRef=d;this.eventTrackerService=e;this.timePinManagerService=f;this.chartResizeService=g;this.viewPortStreams=[];this.columnKeys=[u7.LEGEND_NAME_COLUMN];this.statsViewPortStreams=[];this.statsColumnKeys=[u7.LEGEND_STATS_NAME_COLUMN];this.divComputedStyle=
this.contentComputedStyle=null;this.widthDifference=this.scrollTop=this.scrollLeft=0;this.scale=100;this.ve=f7;this.isOnSdDashboard=!1;this.height=210;this.defaultSortingColumn="";this.defaultSortingDirection=null;this.labelsModel={columnsModel:[],selectedColumns:[],selectableColumns:[],labelHeaders:[],labelWidths:[],labelPercents:[],scale:100,nextColumnId:1};this.preventAveScrollEvents=!1;this.eventTracker=this.eventTrackerService?this.eventTrackerService.getEventTracker():null;this.interactionEventListener=
()=>{this.preventAveScrollEvents=!1};this.eventTracker&&this.eventTracker.addInteractionEventListener(this.interactionEventListener)}retrack(){this.nameStreams(this.streams)}getScrollingDivWidth(){if(!this.scrollingDiv)return 0;this.divComputedStyle=this.divComputedStyle||getComputedStyle(this.scrollingDiv.nativeElement);return+this.divComputedStyle.getPropertyValue("width").replace("px","")}selectedColumnsChanged(){this.labelsModel.columnsModel=this.labelsModel.selectedColumns.map(a=>a.uniqueId||
-1);this.labelsModel.labelHeaders=this.labelsModel.selectedColumns.map(a=>a.title||"");this.labelsModel.labelWidths=[];this.labelsModel.labelPercents=[]}selectedColumnsChangedHandler(){0===this.labelsModel.selectedColumns.length&&(this.labelsModel.selectedColumns=this.labelsModel.selectableColumns.filter(a=>a.isDefault));this.selectedColumnsChanged();this.retrack();this.sort()}regenerateLegendTokenizerIfNeeded(){super.regenerateLegendTokenizerIfNeeded();if(this.dataLayer&&this.dataLayer.generateLabelTables){const a=
this.dataLayer.generateLabelTables();a&&0<a.length&&_.puc.updateLabelsModel(this.labelsModel,a)&&this.selectedColumnsChanged()}}nameStreams(a){a&&(super.nameStreams(a),a.forEach(b=>{const c=this.resourceMetadataNamingFunctions?this.resourceMetadataNamingFunctions.getBoundGlobalFunctions():null;b.labels=this.labelsModel.selectedColumns.map(e=>{const f=b.theStream.metadata&&b.theStream.metadata.childId||0;let g=null;e.tokenizers&&e.tokenizers[f]&&(g=e.tokenizers[f].format(b.theStream.metadata||null,
c));return g||""});const d=this.getScrollingDivWidth();_.puc.updatePercents(this.labelsModel,b.labels,100,d)}),requestAnimationFrame(()=>{this.onScroll(!1)}))}makeLegendStream(a,b,c,d){const e=DHe.includes(OHe.get(this.chartType)||"");return new rLe(a,b,c,e,d)}onScroll(a){if(this.scrollingDiv&&this.scrollingDiv.nativeElement&&this.scrollingDiv.nativeElement.children&&this.scrollingDiv.nativeElement.children.length){a&&!this.preventAveScrollEvents&&(this.sendAveEvent("scroll",this.ve.AwesomeChartLegendPane,
this.elementRef),this.preventAveScrollEvents=!0);this.contentComputedStyle=this.contentComputedStyle||getComputedStyle(this.scrollingDiv.nativeElement.children[0]);a=+this.contentComputedStyle.getPropertyValue("width").replace("px","");var b=this.getScrollingDivWidth();this.widthDifference=a-b;this.scrollLeft=this.scrollingDiv.nativeElement.scrollLeft;this.scrollTop=this.scrollingDiv.nativeElement.scrollTop}}virtualScrollStyle(a){this.scale!==a&&this.resize();this.scale=a;return{width:`${a}%`,height:`${this.height}px`}}resize(){super.resize();
requestAnimationFrame(()=>{this.onScroll(!1);this.changeDetectorRef.destroyed||this.changeDetectorRef.detectChanges()})}ngOnDestroy(){super.ngOnDestroy();this.changeDetectorRef.detach();this.eventTracker&&this.eventTracker.removeInteractionEventListener(this.interactionEventListener)}};CLe.\u0275fac=function(a){return new (a||CLe)(_.A(n7),_.A(_.el),_.A(_.Jf),_.A(_.ad),_.A(_.ut,8),_.A(s7),_.A(q7))};
CLe.\u0275cmp=_.q({type:CLe,selectors:[["ac-table-legend"],["ng2-ac-table-legend"]],viewQuery:function(a,b){a&1&&_.Oe(BLe,5);if(a&2){let c;_.Ne(c=_.Qe())&&(b.scrollingDiv=c.first)}},inputs:{isOnSdDashboard:"isOnSdDashboard",height:"height",defaultSortingColumn:"defaultSortingColumn",defaultSortingDirection:"defaultSortingDirection"},features:[_.wd],decls:2,vars:2,consts:[["class","ac-table-legend-switch scrolling-div",3,"draggable","ve","scroll",4,"ngIf"],[1,"ac-table-legend-switch","scrolling-div",
3,"draggable","ve","scroll"],["scrollingDiv",""],[1,"ac-legend-table-virtual-scroll","overflow-visible",3,"items","childHeight","ngStyle","scrollTop","hasHeader","update"],["class","ac-table-legend-header","header","",3,"columnKeys","labelsModel","valueName","timeshiftName","columnFlexWidth","scrollLeft","widthDifference","scale","timePinUpdated","timePinEnabled","defaultSortingColumn","defaultSortingDirection","sortFunc","selectedColumnsChanged","setAndSnapTimePin",4,"ngIf"],[4,"ngFor","ngForOf"],
["header","",1,"ac-table-legend-header",3,"columnKeys","labelsModel","valueName","timeshiftName","columnFlexWidth","scrollLeft","widthDifference","scale","timePinUpdated","timePinEnabled","defaultSortingColumn","defaultSortingDirection","sortFunc","selectedColumnsChanged","setAndSnapTimePin"],["scrollingHeader",""],["class","ac-table-legend-row",3,"ve","veClick","stream","timeshift","ngStyle","ngClass","labelPercents","columnFlexWidth","scrollLeft","scale","widthDifference","toggleSelected","mouseover",
"mouseleave",4,"ngIf"],[1,"ac-table-legend-row",3,"ve","veClick","stream","timeshift","ngStyle","ngClass","labelPercents","columnFlexWidth","scrollLeft","scale","widthDifference","toggleSelected","mouseover","mouseleave"],["class","ac-table-legend-header","header","",3,"columnKeys","valueName","allValuesName",4,"ngIf"],["header","",1,"ac-table-legend-header",3,"columnKeys","valueName","allValuesName"],["class","ac-table-legend-row",3,"ve","veClick","ngStyle","ngClass","stream","click","mouseover",
"mouseleave",4,"ngIf"],[1,"ac-table-legend-row",3,"ve","veClick","ngStyle","ngClass","stream","click","mouseover","mouseleave"]],template:function(a,b){a&1&&(_.P(0,Ife,5,9,"div",0),_.P(1,Mfe,5,9,"div",0));a&2&&(_.C("ngIf","stats"!==b.chartMode),_.x(1),_.C("ngIf","stats"===b.chartMode))},dependencies:[_.qx,_.kl,_.ll,_.xD,_.e3,_.wt,wLe,ALe,CKe,EKe],styles:[".ac-inline-legend[_ngcontent-%COMP%], .ac-inline-legend-items[_ngcontent-%COMP%]{display:inline-block}.ac-inline-legend[_ngcontent-%COMP%]   .ac-inline-legend-item[_ngcontent-%COMP%], .ac-inline-legend-items[_ngcontent-%COMP%]   .ac-inline-legend-item[_ngcontent-%COMP%]{box-sizing:content-box;cursor:pointer;display:inline-block;height:12px;margin-right:6px;padding:4px 6px}.ac-inline-legend[_ngcontent-%COMP%]   .ac-inline-legend-item[_ngcontent-%COMP%]   .ac-inline-legend-chip[_ngcontent-%COMP%], .ac-inline-legend-items[_ngcontent-%COMP%]   .ac-inline-legend-item[_ngcontent-%COMP%]   .ac-inline-legend-chip[_ngcontent-%COMP%]{border-radius:50px;display:inline-block;height:12px;margin-right:6px;vertical-align:middle;width:12px}.ac-inline-legend[_ngcontent-%COMP%]   .ac-inline-legend-item[_ngcontent-%COMP%]   .ac-legend-value[_ngcontent-%COMP%], .ac-inline-legend-items[_ngcontent-%COMP%]   .ac-inline-legend-item[_ngcontent-%COMP%]   .ac-legend-value[_ngcontent-%COMP%]{margin:0 5px;min-width:5em;text-overflow:ellipsis;white-space:nowrap}.ac-inline-legend[_ngcontent-%COMP%]   .ac-inline-legend-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .ac-inline-legend-items[_ngcontent-%COMP%]   .ac-inline-legend-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;height:12px}.ac-legend-key[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ac-legend-table-virtual-scroll[_ngcontent-%COMP%]{display:block;flex-grow:1;overflow-y:scroll}.ac-legend-table-virtual-scroll.overflow-visible[_ngcontent-%COMP%]{overflow-y:visible;overflow:visible}ac-table-legend[_ngcontent-%COMP%], ng2-ac-table-legend[_ngcontent-%COMP%], .ac-table-legend-switch[_ngcontent-%COMP%]{display:flex;flex-direction:column}.ac-table-legend-switch[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]::after, .ac-table-legend-switch[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]::before, .ac-table-legend-switch[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], .ac-table-legend-switch[_ngcontent-%COMP%]{box-sizing:content-box}.ac-table-legend-switch.scrolling-div[_ngcontent-%COMP%]{overflow:auto}.ac-table-legend-value[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;user-select:text}.ac-table-value-column[_ngcontent-%COMP%], .ac-table-legend-value[_ngcontent-%COMP%]{display:inline-block;flex:none;text-align:right;width:80px}.ac-table-legend-value.ac-stats-left-align[_ngcontent-%COMP%]{text-align:left}.ac-table-value-column.ac-stats-left-align[_ngcontent-%COMP%]{text-align:left}div.ac-table-legend-value.legend-table-cell.current-value[_ngcontent-%COMP%], span.ac-table-value-column.legend-table-cell.current-value[_ngcontent-%COMP%]{box-sizing:content-box;padding:0 8px 0 0}.ac-table-options-column[_ngcontent-%COMP%]{display:inline-block;flex:none;align-content:center;width:40px}div.ac-table-legend-options.legend-table-cell.table-options[_ngcontent-%COMP%]{min-width:40px;width:40px}.ac-chip-static-container[_ngcontent-%COMP%]{flex:none;width:50px}.ac-chip-relative-container[_ngcontent-%COMP%]{flex:none;line-height:42px;position:relative}.ac-chip-absolute-background[_ngcontent-%COMP%]{height:12px;line-height:42px;padding:15px 8px 15px 24px;position:absolute;width:12px;box-sizing:content-box}.ac-table-legend-chip[_ngcontent-%COMP%]{border-radius:50px;flex:none;height:12px;line-height:42px;position:absolute;margin:15px 8px 15px 24px;width:12px}.ac-table-legend-chip.ac-chip-position-static[_ngcontent-%COMP%]{position:static}.ac-table-legend-header[_ngcontent-%COMP%]{display:block;font-weight:bold;margin:0}ac-table-legend-header[_ngcontent-%COMP%], ac-stats-legend-header[_ngcontent-%COMP%]{border-style:solid;border-width:1px 0;cursor:default;display:block;height:42px;line-height:42px}mat-icon.sort-icon[_ngcontent-%COMP%]{vertical-align:middle;width:18px;visibility:visible}mat-icon.sort-icon.hidden[_ngcontent-%COMP%]{overflow:hidden;visibility:hidden}.sortable-column[_ngcontent-%COMP%]{cursor:pointer}.ac-table-legend-row[_ngcontent-%COMP%]{border-style:solid;border-width:0 0 1px;cursor:pointer;display:block;height:42px;line-height:42px}.ac-table-legend-label[_ngcontent-%COMP%]{overflow-x:hidden;text-overflow:ellipsis;white-space:nowrap;user-select:text}.legend-table-cell[_ngcontent-%COMP%]{height:42px;padding-left:0;padding-right:8px}.legend-table-cell.leftmost-frozen[_ngcontent-%COMP%]{padding-left:8px}.legend-table-cell.last[_ngcontent-%COMP%]{padding-right:0}.ac-table-legend-label-header[_ngcontent-%COMP%], .ac-table-legend-value-header[_ngcontent-%COMP%]{overflow-x:hidden;text-overflow:ellipsis;white-space:nowrap}div.column-selector-menu-scroll[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:visible;max-height:184px}div.column-selector-menu-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding-right:8px;height:40px}div.column-selector-menu-buttons[_ngcontent-%COMP%]   button.mat-button[_ngcontent-%COMP%]{color:#3367d6;margin:4px 0px}.column-selector-icon[_ngcontent-%COMP%]{width:32px;height:32px;padding:4px;border-radius:50%;margin-top:8px}.column-selector-icon[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.1)}.column-selector-header[_ngcontent-%COMP%]{height:32px;padding:8px 0px 8px 16px;color:rgba(0,0,0,.66)}\n/*# sourceMappingURL=legend_style.css.map */",
"[_nghost-%COMP%]{flex-grow:1;display:flex;flex-direction:column}.ac-table-legend-switch[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column}\n/*# sourceMappingURL=table_legend_style.css.map */"]});
var DLe=class{constructor(a){this.mdIconRegistry=a;a=(0,_.Vb)`https://www.gstatic.com/stackdriver/ng2_awesomecharts/icons/core_icon_set_20.svg`;this.mdIconRegistry._addSvgIconSetConfig("ac",new _.to(a))}};DLe.\u0275fac=function(a){return new (a||DLe)(_.p(_.uo),_.p(_.Kl))};DLe.\u0275mod=_.Bc({type:DLe});DLe.\u0275inj=_.tc({imports:[_.DS]});
var h8=class{};h8.\u0275fac=function(a){return new (a||h8)};h8.\u0275mod=_.Bc({type:h8});h8.\u0275inj=_.tc({imports:[_.ql]});
var i8=class{};i8.\u0275fac=function(a){return new (a||i8)};i8.\u0275mod=_.Bc({type:i8});i8.\u0275inj=_.tc({providers:[o7],imports:[_.ql,_.$D,AKe,h8,_.f3,_.Fp,B6,_.Do,V7,S7,f8,DLe,_.yt,f8]});
var j8=class{};j8.\u0275fac=function(a){return new (a||j8)};j8.\u0275mod=_.Bc({type:j8});j8.\u0275inj=_.tc({imports:[_.ql,i8,_.$D,h8,_.Do]});
var ELe=new _.Zc("GRPCRequestAdapterToken");
var k8=class{constructor(a){this.monitoringApiBaseUrl=FLe(a);a.grpcMonitoringApiBaseUrl||(a.grpcMonitoringApiBaseUrl=FLe(a));this.grpcMonitoringApiBaseUrl=a.grpcMonitoringApiBaseUrl;a.useDefaultsForConfiguration&&!a.stackdriverApiBaseUrl&&(a.stackdriverApiBaseUrl="https://stackdriver.googleapis.com");if(a.stackdriverApiBaseUrl)var b=a.stackdriverApiBaseUrl;else throw Error(Nfe("stackdriverApiBaseUrl",["setStackdriverApiBaseUrl","useDefaults"]));this.stackdriverApiBaseUrl=b;this.authenticationClientId=
a.authenticationClientId;this.preAuthenticatedAccessToken=a.preAuthenticatedAccessToken?a.preAuthenticatedAccessToken:"";a.useDefaultsForConfiguration&&!a.authScopes&&(a.authScopes=GLe);if(a.authScopes)b=a.authScopes;else throw Error(Nfe("authScopes",["setAuthScopes","useDefaults"]));this.authScopes=b;a.useDefaultsForConfiguration&&null===a.authImmediate&&(a.authImmediate=!0);if(null!==a.authImmediate)a=a.authImmediate;else throw Error(Nfe("authImmediate",["setAuthImmediate","useDefaults"]));this.authImmediate=
a}};k8.\u0275fac=function(a){return new (a||k8)(_.p(l8))};k8.\u0275prov=_.m({token:k8,factory:k8.\u0275fac,providedIn:"root"});
var FLe=function(a){a.useDefaultsForConfiguration&&!a.monitoringApiBaseUrl&&(a.monitoringApiBaseUrl="https://monitoring.googleapis.com");if(a.monitoringApiBaseUrl)return a.monitoringApiBaseUrl;throw Error(Nfe("monitoringApiBaseUrl",["setMonitoringApiBaseUrl","useDefaults"]));},l8=class{constructor(){this.useDefaultsForConfiguration=!0;this.configuration=this.authImmediate=this.authScopes=this.preAuthenticatedAccessToken=this.authenticationClientId=this.stackdriverApiBaseUrl=this.grpcMonitoringApiBaseUrl=
this.monitoringApiBaseUrl=null}useDefaults(){this.useDefaultsForConfiguration=!0;return this}setMonitoringApiBaseUrl(a){this.monitoringApiBaseUrl=a;return this}setAuthenticationClientId(a){this.authenticationClientId=a;return this}setPreAuthenticatedAccessToken(a){this.preAuthenticatedAccessToken=a;return this}getConfiguration(){this.configuration||(this.configuration=new k8(this));return this.configuration}};l8.prototype.setPreAuthenticatedAccessToken=l8.prototype.setPreAuthenticatedAccessToken;
l8.prototype.setAuthenticationClientId=l8.prototype.setAuthenticationClientId;l8.prototype.setMonitoringApiBaseUrl=l8.prototype.setMonitoringApiBaseUrl;l8.\u0275fac=function(a){return new (a||l8)};l8.\u0275prov=_.m({token:l8,factory:l8.\u0275fac,providedIn:"root"});var GLe=["https://www.googleapis.com/auth/monitoring"];
var HLe=function(a){if(!a.authorizeObservable){const b="undefined"!==typeof gapi&&gapi.auth&&gapi.auth.getToken();a.authorizeObservable=(b?_.S(b):z9d(Ofe)(a.configuration)).pipe(_.sf(1),_.me())}return a.authorizeObservable},m8=class{constructor(a){this.configuration=a;this.projectIdSubject=new _.rf;this.authorizeObservable=null}setProjectId(a){this.projectIdSubject.next(a)}getAccessToken(){return HLe(this).pipe(_.U(a=>{if(a&&a.access_token)return a.access_token;throw _.ie(a);}))}};
m8.prototype.setProjectId=m8.prototype.setProjectId;m8.\u0275fac=function(a){return new (a||m8)(_.p(k8))};m8.\u0275prov=_.m({token:m8,factory:m8.\u0275fac,providedIn:"root"});
var ILe=class{constructor(a,b){this.configuration=b;this.metricServiceClient=new zGe(b.grpcMonitoringApiBaseUrl,null)}};ILe.\u0275fac=function(a){return new (a||ILe)(_.p(m8),_.p(k8),_.p(ELe,8))};ILe.\u0275prov=_.m({token:ILe,factory:ILe.\u0275fac,providedIn:"root"});
var JLe=function(a,{originalQueryText:b,projectId:c,addDrilldownAnnotation:d=!0}){if(!a.baseUrl)return _.S(void 0);var e=`${a.baseUrl}/v3/projects/${c}:annotateQuery`;d={name:c,query:b.trim(),addDrilldownAnnotation:d,addOutlierAnnotation:!0};e={method:"POST",path:e,body:d,headers:{"method-id-xhr-identifier":"monitoring.projects.annotateQuery"}};d=JSON.stringify(e);let f=a.cachedRequests.get(d);f||(f=a.doRequest({requestParams:e,originalQueryText:b,projectId:c}).pipe(_.Ue(()=>_.S(void 0)),_.vf(1)),
a.cachedRequests.set(d,f));return f},n8=class extends ILe{constructor(){super(...arguments);this.baseUrl=_.$mc();this.cachedRequests=new Map}doRequest({requestParams:a}){const b=_.DN.auth_;return b.getAccessToken?_.S(void 0):_.re(b.request(a))}};n8.\u0275fac=function(){let a;return function(b){return(a||(a=_.Xc(n8)))(b||n8)}}();n8.\u0275prov=_.m({token:n8,factory:n8.\u0275fac,providedIn:"root"});
var Rfe=new Map([["LINE","line"],["STACKED_BAR","bar"],["STACKED_AREA","stacked-area"],["HEATMAP","heatmap"]]);
var KLe=["bit","bit/s"],LLe="By byte bytes BY byte/s By/s bytes/s BY/s".split(" "),MLe={bit:"ByteAsBit","bit/s":"ByteAsBit/s"},NLe=function(a,b){const c=a.errorStreamSubscriptions.get(b);c&&(c.dataErrorSubscription.unsubscribe(),c.transientErrorSubscription.unsubscribe(),a.errorStreamSubscriptions.delete(b))},OLe=function(a,b){const c=b.errorStream.pipe(_.Af(a.destroyed)).subscribe(e=>{a.dataErrorStream.next(e)}),d=b.transientErrorStream.pipe(_.Af(a.destroyed)).subscribe(e=>{a.transientErrorStream.next(e)});
a.errorStreamSubscriptions.set(b,{dataErrorSubscription:c,transientErrorSubscription:d})},PLe=function(a){return a.useAlignmentPeriodAsOutputPeriod?!1:"LINE"===a.plotType||"STACKED_AREA"===a.plotType},QLe=function(a,b,c){if(a.unitOverride)return a.unitOverride;if(!c||!b)return b||c;if(c===b)return b;if(!LLe.includes(c))throw Error("ol`"+c+"`"+b);let d;return null!=(d=MLe[b])?d:b},SLe=function(a){a.xyChart=a.xyChart instanceof _.ci?a.xyChart:_.jwa(_.DO,a.xyChart);var b=a.xyChart;if(!b||a.xyChartStore&&
I9d(b,a.xyChartStore))return!1;a.xyChartStore=b;const c=Yfe(b);a.chartMode=c.chartMode;a.isOutlierMode=c.isOutlierMode;a.plotType=c.plotType;a.thresholdLines=c.thresholdLines;a.timeshiftDuration=c.timeshiftDuration;a.unitOverrideInternal=QLe(a,a.displayUnit,c.unitOverride);a.yAxisScale=c.yAxisScale;a.defaultSortingDirection=c.defaultSortingDirection;a.defaultSortingColumn=c.defaultSortingColumn;b.hasDataSets&&(a.filterDescriptors=b.dataSets.map(d=>(d=d.hasTimeSeriesFilter&&d.timeSeriesFilter.filter||
d.hasTimeSeriesFilterRatio&&d.timeSeriesFilterRatio.numeratorFilter.filter)&&_.hO.getFilterDescriptor(d)).filter(d=>d),a.filterDescriptorsStream.next(a.filterDescriptors),b=b.dataSets.filter(d=>d.timeSeriesQuery),b.length&&(a.queryAnalyses=Array(b.length),a.labelDescriptors=[],a.queryTypeStream.next("qn"),b.forEach((d,e)=>{const f=d.timeSeriesQuery;a.projectIdStream.pipe(_.df(),_.zf(g=>JLe(a.queryAnalysisService,{originalQueryText:f,projectId:g,addDrilldownAnnotation:a.enableQNDrilldowns}))).subscribe(g=>
{if(g&&a.queryAnalyses){a.queryAnalyses[e]=g;if(null==g?0:g.drilldownAnalysis){let h;g=null!=(h=g.drilldownAnalysis.map(l=>new eCe(l)))?h:[];a.labelDescriptors.push(...g);a.labelDescriptorsStream.next(a.labelDescriptors)}RLe(a)}})})));if(a.waitForFilters){const d=_.$mc(),e=new y7(d+"/v3/projects/:projectId/timeSeries",{baseUrls:null,multiValueParams:!0});a.filterDescriptors.forEach(f=>{nze(f,e,a.projectId,d)})}return!0},o8=function(a){return a?a.previousValue!==a.currentValue:!1},RLe=function(a){if(a.directDataInput){const d=
a.directDataInput;a.usingDirectData=!0;a.dataLayerFactory=a.dataLayerFactoryService.get("adaptor");DCe(a.dataLayerManager,a.dataLayerFactory);a.dataLayerManager.updateParams(d.translation);a.dataLayerManager.setIndependentOutputPeriod(PLe(a));a.dataLayerManager.dataLayerStream.pipe(_.Af(a.destroyed)).subscribe(e=>{d.dataStream.pipe(_.Af(a.dataLayerManager.dataLayerStream.pipe(_.wf(1))),_.Af(a.destroyed)).subscribe(f=>{e.updateData&&(e.updateData(f),a.dataLayerManager.isLoadingSource.next(!1))});d.onFetchCallback&&
e.setFetchCallback&&e.setFetchCallback(d.onFetchCallback);d.granularityCutoffs&&e.setGranularityCutoffs&&e.setGranularityCutoffs(d.granularityCutoffs);d.gapThreshold&&e.setGapThreshold&&("number"===typeof d.gapThreshold?e.setGapThreshold(d.gapThreshold):d.gapThreshold.pipe(_.Af(a.destroyed)).subscribe(f=>{let g;null==(g=e.setGapThreshold)||g.call(e,f)}));d.labelTemplateString&&e.setLabelTemplateString&&e.setLabelTemplateString(d.labelTemplateString);d.tableColumns&&e.setLabelTableColumns&&e.setLabelTableColumns(d.tableColumns)});
d.isLoadingStream&&d.isLoadingStream.pipe(_.Af(a.destroyed)).subscribe(e=>{a.dataLayerManager.isLoadingSource.next(e)})}else if(a.usingDirectData&&(a.useProxy&&(a.dataLayerFactory=a.dataLayerFactoryService.get("gcmV3Proxy")),DCe(a.dataLayerManager,a.dataLayerFactory)),a.projectIdStore&&a.xyChartStore&&!a.waitForFilters){var b=(a.isOutlierMode||_.DN.isWhitelisted("chart-show-bands-first"))&&"STACKED_BAR"!==a.plotType&&"HEATMAP"!==a.plotType;b=$fe({xyChart:a.xyChartStore,projectId:a.projectIdStore,
legendTemplates:a.legendTemplatesStore,shouldGenerateOutlierParams:b,granularity:a.granularity,strategyWhitelists:a.strategyWhitelists,appliedDrilldowns:a.appliedDrilldowns,queryAnalyses:a.queryAnalyses,applyFullSecondaryAggregation:a.applyFullSecondaryAggregation});var c=a.outlierDataLayerManagers||[];c.length=b.dataLayerParams.length;for(let d=0;d<b.dataLayerParams.length;d++){if(b.outlierDLParams){const e=b.outlierDLParams[d]||[];let f=c[d];f||(f=new KCe(a.dataLayerFactory,e,a.destroyed),f.setIndependentOutputPeriod(PLe(a)),
f.timezoneService=a.timezoneService);a.dataLayerManager&&_.DN.isWhitelisted("chart-show-bands-first")&&!a.isOutlierMode&&a.dataLayerManager.waitFor(f);f.updateParams(e);c[d]=f}a.outlierDataLayerManagers=c}b.percentileDLParams&&"HEATMAP"===a.plotType&&b.dataLayerParams[0]&&"gcmv3"===b.dataLayerParams[0].dlType&&(a.percentileDataLayerManager?a.percentileDataLayerManager.updateParams(b.percentileDLParams):(a.percentileDataLayerManager=new KCe(a.dataLayerFactory,b.percentileDLParams,a.destroyed),a.percentileDataLayerManager.timezoneService=
a.timezoneService));a.dataLayerManager.updateParams(b.dataLayerParams);a.dataLayerManager.setIndependentOutputPeriod(PLe(a))}},p8=class{constructor(a,b,c,d,e,f,g){this.dataLayerFactoryService=a;this.chartGroupManagerService=b;this.localComponentFactoryResolver=c;this.timezoneService=d;this.resizeService=e;this.queryAnalysisService=f;this.el=g;this.useLegacyCoreChart=!0;this.enableSizeWarnings=!1;this.projectIdStream=new _.bg("");this.strategyWhitelists=[];this.componentFactoryResolver=this.localComponentFactoryResolver;
this.projectIdStore=void 0;this.colorManager=new _.HP;this.showResponsiveSubtitles=this.showSubtitles=this.isOnSdDashboard=!1;this.forcePercentZoom=!0;this.xyChart=void 0;this.innerTileSize=0;this.waitForFilters=!1;this.xyChartStore=void 0;this.timePinDisableSnapToNow=this.timePinSnapToData=this.timePinEnabled=!1;this.a11yEnabled=_.DN.isWhitelisted("chart-a11y");this.disableReason=null;this.enableQNDrilldowns=this.clickResetTimePinEnabled=this.disableSelection=this.disableZoom=!1;this.showHovercard=
!0;this.showLegend=!1;this.legendType="table";this.forceV2Hovercard=this.enablePanningInteractions=!1;this.height=200;this.forceUnitChangeForRate=this.zerofill=!1;this.legendTemplates=void 0;this.useProxy=!1;this.forceChartMode=null;this.tableLegendHeight=210;this.tableLegendMinHeight=175;this.valueName=u7.LEGEND_VALUE_COLUMN;this.suppressHighlighting=this.forceInterpolation=!1;this.messageOverrides={};this.applyFullSecondaryAggregation=this.complexThreshold=this.showThresholdLabels=!1;this.chartData=
new _.$k;this.onSelect=new _.$k;this.unitsChange=new _.$k;this.usingDirectData=!1;this.legendTemplatesStore=void 0;this.filterDescriptorsStream=new _.bg([]);this.filterDescriptors=[];this.labelDescriptorsObservable=this.labelDescriptorsStream=new _.bg;this.labelDescriptors=[];this.queryTypeObservable=this.queryTypeStream=new _.bg("standard");this.thresholdLines=[];this.yAxisScale="LINEAR";this.defaultSortingColumn="";this.defaultSortingDirection=null;this.chartMode="color";this.showDataTooCoarseError=
!1;this.destroyed=new _.tf;this.onClick=new _.$k;this.dataErrorStream=new _.$k;this.transientErrorStream=new _.$k;this.onDataLayerManagerChange=new _.$k;this.subtitlesDrawn=new _.$k;this.statsManager=new NHe;this.chartGroupManagerStream=new _.bg(null);this.domainStream=this.chartGroupManagerStream.pipe(_.zf(h=>h?h.domainStream:new _.bg));this.setFocusStream=new _.tf;this.errorStreamSubscriptions=new Map;this.onDataLayerManagerChange.pipe(_.Af(this.destroyed),_.zf(h=>h.dataLayerStream)).subscribe(h=>
{h.addDataChangeHandler(()=>{this.chartData.emit(h.getData())})})}set projectId(a){this.projectIdStream.next(a)}get projectId(){return this.projectIdStream.value}set tileSize(a){this.innerTileSize=a;if(this.dataLayerManager){var b=this.dataLayerManager;b.tileSize=a;b.dataLayer&&CCe(b,b.tileSize)}}updateUnit(a){this.unitsChange.emit(a)}get dataLayerManager(){return this.dataLayerManagerInternal}set dataLayerManager(a){NLe(this,this.dataLayerManagerInternal);this.dataLayerManagerInternal=a;OLe(this,
this.dataLayerManagerInternal);this.onDataLayerManagerChange.emit(a)}get outlierDataLayerManagers(){return this.outlierDataLayerManagersInternal}set outlierDataLayerManagers(a){for(const b of this.outlierDataLayerManagersInternal||[])b&&NLe(this,b);this.outlierDataLayerManagersInternal=a;for(const b of this.outlierDataLayerManagersInternal||[])b&&OLe(this,b)}get percentileDataLayerManager(){return this.percentileDataLayerManagerInternal}set percentileDataLayerManager(a){NLe(this,this.percentileDataLayerManagerInternal);
this.percentileDataLayerManagerInternal=a;OLe(this,this.percentileDataLayerManagerInternal)}ngAfterViewInit(){"function"===typeof window.ResizeObserver?(this.resizeObserver=new ResizeObserver(()=>{this.resizeService.triggerResize(!0)}),this.resizeObserver.observe(this.el.nativeElement)):this.resizeSensor=new HKe(this.el.nativeElement,()=>{this.resizeService.triggerResize(!0)})}ngOnChanges(a){let b=!1;a.dataLayerFactory?a.dataLayerFactory.firstChange?(this.dataLayerManager=new KCe(this.dataLayerFactory,
[],this.destroyed),this.dataLayerManager.setForceInterpolation(this.forceInterpolation),this.dataLayerManager.setSuppressHighlighting(this.suppressHighlighting),this.dataLayerManager.setIndependentOutputPeriod(PLe(this))):DCe(this.dataLayerManager,this.dataLayerFactory):this.dataLayerFactory||(this.dataLayerFactory=this.dataLayerFactoryService.get("mixedSdv3"),this.dataLayerManager?DCe(this.dataLayerManager,this.dataLayerFactory):(this.dataLayerManager=new KCe(this.dataLayerFactory,[],this.destroyed),
this.dataLayerManager.setForceInterpolation(this.forceInterpolation),this.dataLayerManager.setSuppressHighlighting(this.suppressHighlighting),this.dataLayerManager.setIndependentOutputPeriod(PLe(this))));if(a.groupId){const d=this.chartGroupManagerService.get(this.groupId);var c=d;c.visualizations.includes(this)||(c.visualizations=[...c.visualizations,this],c.visualizationsStream.next(c.visualizations));this.chartGroupManagerStream.next(d)}if(a.displayUnit){if(this.displayUnit&&!KLe.includes(this.displayUnit))throw Error("pl`"+
this.displayUnit);this.unitOverrideInternal=QLe(this,this.displayUnit)}a.unitOverride&&(this.unitOverrideInternal=QLe(this,this.displayUnit,this.unitOverride));a.xyChart&&(b=b||SLe(this));o8(a.directDataInput)&&(b=!0);o8(a.projectId)&&(c=this.projectId,this.projectIdStore!==c&&(this.projectIdStore=c,b=!0,this.projectIdStream.next(c)));o8(a.legendTemplates)&&(this.legendTemplatesStore=this.legendTemplates,b=!0);o8(a.waitForFilters)&&a.waitForFilters.previousValue&&!this.waitForFilters&&(b=!0);o8(a.forceInterpolation)&&
this.dataLayerManager.setForceInterpolation(this.forceInterpolation);o8(a.suppressHighlighting)&&this.dataLayerManager.setSuppressHighlighting(this.suppressHighlighting);o8(a.strategyWhitelists)&&(b=!0);o8(a.appliedDrilldowns)&&(b=!0);(a=a.disableReason)&&(this.disableReason?this.dataLayerManager.handleError({name:"CustomError",details:{isTimeout:!1,isFatal:!0},code:418,displayMessage:this.disableReason,message:this.disableReason}):a.isFirstChange()||this.dataLayerManager.errorSource.next(void 0));
b&&RLe(this)}ngOnDestroy(){this.groupId&&iCe(this.chartGroupManagerService.get(this.groupId),this);this.resizeSensor&&this.resizeSensor.detach(()=>{});this.destroyed.next();this.destroyed.complete()}ngOnInit(){this.useProxy&&(this.dataLayerFactory=this.dataLayerFactoryService.get("gcmV3Proxy"),DCe(this.dataLayerManager,this.dataLayerFactory));if(this.innerTileSize){var a=this.dataLayerManager;a.tileSize=this.innerTileSize;a.dataLayer&&CCe(a,a.tileSize)}this.dataLayerManager.timezoneService=this.timezoneService;
this.dataStream=this.dataLayerManager.dataStream}getFilterDescriptorsStream(){return this.filterDescriptorsStream}getLabelDescriptorsStream(){return this.labelDescriptorsStream.pipe(_.U(a=>null!=a?a:[]))}getLabelValuesStream(){return this.queryTypeObservable.pipe(_.zf(()=>_.S([])))}};p8.\u0275fac=function(a){return new (a||p8)(_.A(iKe),_.A(n7),_.A(_.Lk),_.A(t7),_.A(q7),_.A(n8),_.A(_.ad))};
p8.\u0275cmp=_.q({type:p8,selectors:[["ac-dashboard-chart"]],inputs:{useLegacyCoreChart:"useLegacyCoreChart",emptyChartPlaceholderTemplate:"emptyChartPlaceholderTemplate",enableSizeWarnings:"enableSizeWarnings",projectId:"projectId",strategyWhitelists:"strategyWhitelists",componentFactoryResolver:"componentFactoryResolver",colorManager:"colorManager",isOnSdDashboard:"isOnSdDashboard",showSubtitles:"showSubtitles",showResponsiveSubtitles:"showResponsiveSubtitles",forcePercentZoom:"forcePercentZoom",
xyChart:"xyChart",tileSize:"tileSize",waitForFilters:"waitForFilters",timePinEnabled:"timePinEnabled",timePinSnapToData:"timePinSnapToData",timePinDisableSnapToNow:"timePinDisableSnapToNow",a11yEnabled:"a11yEnabled",disableReason:"disableReason",disableZoom:"disableZoom",disableSelection:"disableSelection",clickResetTimePinEnabled:"clickResetTimePinEnabled",enableQNDrilldowns:"enableQNDrilldowns",groupId:"groupId",showHovercard:"showHovercard",showLegend:"showLegend",legendType:"legendType",resourceMetadataNamingFunctions:"resourceMetadataNamingFunctions",
groupNameLookupFunction:"groupNameLookupFunction",enablePanningInteractions:"enablePanningInteractions",forceV2Hovercard:"forceV2Hovercard",height:"height",zerofill:"zerofill",displayUnit:"displayUnit",unitOverride:"unitOverride",forceUnitChangeForRate:"forceUnitChangeForRate",legendTemplates:"legendTemplates",legendValueFormatter:"legendValueFormatter",useProxy:"useProxy",directDataInput:"directDataInput",forceChartMode:"forceChartMode",tableLegendHeight:"tableLegendHeight",tableLegendMinHeight:"tableLegendMinHeight",
title:"title",yTopMin:"yTopMin",yBottomMax:"yBottomMax",yAxisValueFormatter:"yAxisValueFormatter",yAxisPrecisionLimit:"yAxisPrecisionLimit",valueName:"valueName",forceInterpolation:"forceInterpolation",suppressHighlighting:"suppressHighlighting",messageOverrides:"messageOverrides",showThresholdLabels:"showThresholdLabels",complexThreshold:"complexThreshold",granularity:"granularity",appliedDrilldowns:"appliedDrilldowns",applyFullSecondaryAggregation:"applyFullSecondaryAggregation",showPointsOutsideDomain:"showPointsOutsideDomain",
useAlignmentPeriodAsOutputPeriod:"useAlignmentPeriodAsOutputPeriod",dataLayerFactory:"dataLayerFactory",showDataTooCoarseError:"showDataTooCoarseError"},outputs:{chartData:"chartData",onSelect:"onSelect",unitsChange:"unitsChange",filterDescriptorsStream:"filterDescriptorsStream",labelDescriptorsObservable:"labelDescriptorsObservable",onClick:"onClick",dataErrorStream:"dataErrorStream",transientErrorStream:"transientErrorStream",onDataLayerManagerChange:"onDataLayerManagerChange",subtitlesDrawn:"subtitlesDrawn"},
features:[_.Gc],decls:10,vars:54,consts:[[1,"chart-container"],[3,"mousemove"],["class","subtitle-container","style","margin-left: 14px",4,"ngIf"],[3,"a11yEnabled","chartMode","colorManager","dataLayerManager","disableReason","disableZoom","disableSelection","enablePanningInteractions","enableSizeWarnings","componentFactoryResolver","groupId","groupNameLookupFunction","messageOverrides","outlierDataLayerManagers","percentileDataLayerManager","plotType","resourceMetadataNamingFunctions","statsManager",
"thresholdLines","showThresholdLabels","complexThreshold","timeshiftDuration","title","unitOverride","useLegacyCoreChart","forcePercentZoom","forceUnitChangeForRate","useV2Hovercard","yAxisScale","yTopMin","yBottomMax","zerofill","showSubtitles","height","yAxisPrecisionLimit","yAxisValueFormatter","timePinEnabled","timePinSnapToData","timePinDisableSnapToNow","setFocusStream","showDataTooCoarseError","showResponsiveSubtitles","emptyChartPlaceholderTemplate","showPointsOutsideDomain","onSelect","onClick",
"subtitlesDrawn","unitsChange"],["chart",""],[3,"enablePanningInteractions","groupId","showTicks","useLegacyCoreChart","timePinEnabled","timePinDisableSnapToNow","clickResetTimePinEnabled","setChartFocus"],["timeline",""],["class","legend-container",3,"ngSwitch",4,"ngIf"],[3,"groupId","dataLayerManager","hintUnit","resourceMetadataNamingFunctions","valueFormatter",4,"ngIf"],[1,"subtitle-container",2,"margin-left","14px"],[3,"xyChart","domain","data","showResponsive","drawn"],[1,"legend-container",
3,"ngSwitch"],[3,"groupId","chartType","dataLayerManager","unitOverride","resourceMetadataNamingFunctions","colorManager","chartMode","forceUnitChangeForRate","isOnSdDashboard","statsManager","height","ngStyle","timePinEnabled","defaultSortingColumn","defaultSortingDirection","timePinDisableSnapToNow","valueFormatter","valueName",4,"ngSwitchCase"],[3,"colorManager","chartType","groupId","forceUnitChangeForRate","dataLayerManager","unitOverride","resourceMetadataNamingFunctions","timePinEnabled","valueFormatter",
4,"ngSwitchCase"],[3,"groupId","chartType","dataLayerManager","unitOverride","resourceMetadataNamingFunctions","colorManager","chartMode","forceUnitChangeForRate","isOnSdDashboard","statsManager","height","ngStyle","timePinEnabled","defaultSortingColumn","defaultSortingDirection","timePinDisableSnapToNow","valueFormatter","valueName"],["legend",""],[3,"colorManager","chartType","groupId","forceUnitChangeForRate","dataLayerManager","unitOverride","resourceMetadataNamingFunctions","timePinEnabled",
"valueFormatter"],[3,"groupId","dataLayerManager","hintUnit","resourceMetadataNamingFunctions","valueFormatter"]],template:function(a,b){a&1&&(_.E(0,"div",0)(1,"div",1),_.L("mousemove",function(c){b.timePinEnabled&&c.preventDefault()}),_.P(2,Qfe,4,8,"div",2),_.E(3,"div")(4,"ac-dynamic-chart",3,4),_.L("onSelect",function(c){return b.onSelect.emit(c)})("onClick",function(c){return b.onClick.emit(c)})("subtitlesDrawn",function(){return b.subtitlesDrawn.emit()})("unitsChange",function(c){return b.updateUnit(c)}),
_.F(),_.E(6,"ac-timeline",5,6),_.L("setChartFocus",function(){return b.setFocusStream.next()}),_.F()()(),_.P(8,Ufe,3,3,"div",7),_.P(9,Vfe,1,5,"ac-legacy-hovercard",8),_.F());a&2&&(_.x(2),_.C("ngIf",(_.DN.isWhitelisted("chart-subtitles")&&_.DN.isWhitelisted("chart-subtitles-ng2")?!0:!1)&&b.showSubtitles),_.x(2),_.C("a11yEnabled",b.a11yEnabled)("chartMode",b.forceChartMode||b.chartMode)("colorManager",b.colorManager)("dataLayerManager",b.dataLayerManager)("disableReason",b.disableReason)("disableZoom",
b.disableZoom)("disableSelection",b.disableSelection)("enablePanningInteractions",b.enablePanningInteractions)("enableSizeWarnings",b.enableSizeWarnings)("componentFactoryResolver",b.componentFactoryResolver)("groupId",b.groupId)("groupNameLookupFunction",b.groupNameLookupFunction)("messageOverrides",b.messageOverrides)("outlierDataLayerManagers",b.outlierDataLayerManagers)("percentileDataLayerManager",b.percentileDataLayerManager)("plotType",b.plotType)("resourceMetadataNamingFunctions",b.resourceMetadataNamingFunctions)("statsManager",
b.statsManager)("thresholdLines",b.thresholdLines)("showThresholdLabels",b.showThresholdLabels)("complexThreshold",b.complexThreshold)("timeshiftDuration",b.timeshiftDuration)("title",b.title)("unitOverride",b.unitOverrideInternal)("useLegacyCoreChart",b.useLegacyCoreChart)("forcePercentZoom",b.forcePercentZoom)("forceUnitChangeForRate",b.forceUnitChangeForRate)("useV2Hovercard",b.showHovercard&&b.forceV2Hovercard)("yAxisScale",b.yAxisScale)("yTopMin",b.yTopMin)("yBottomMax",b.yBottomMax)("zerofill",
b.zerofill)("showSubtitles",b.showSubtitles)("height",b.height)("yAxisPrecisionLimit",b.yAxisPrecisionLimit)("yAxisValueFormatter",b.yAxisValueFormatter)("timePinEnabled",b.timePinEnabled)("timePinSnapToData",b.timePinSnapToData)("timePinDisableSnapToNow",b.timePinDisableSnapToNow)("setFocusStream",b.setFocusStream)("showDataTooCoarseError",b.showDataTooCoarseError)("showResponsiveSubtitles",b.showResponsiveSubtitles)("emptyChartPlaceholderTemplate",b.emptyChartPlaceholderTemplate)("showPointsOutsideDomain",
b.showPointsOutsideDomain),_.x(2),_.C("enablePanningInteractions",b.enablePanningInteractions)("groupId",b.groupId)("showTicks",!0)("useLegacyCoreChart",b.useLegacyCoreChart)("timePinEnabled",b.timePinEnabled)("timePinDisableSnapToNow",b.timePinDisableSnapToNow)("clickResetTimePinEnabled",b.clickResetTimePinEnabled),_.x(2),_.C("ngIf",b.showLegend),_.x(1),_.C("ngIf",b.showHovercard&&!b.forceV2Hovercard))},dependencies:[MJe,jKe,qLe,CLe,zKe,BKe,_.ll,_.xD,_.ml,_.nl,_.pl],styles:["[_nghost-%COMP%]{flex-grow:1;display:flex;flex-direction:column}.chart-container[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column}.legend-container[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column}\n/*# sourceMappingURL=dashboard_chart_style.css.map */"]});
var q8=class{};q8.\u0275fac=function(a){return new (a||q8)};q8.\u0275mod=_.Bc({type:q8});q8.\u0275inj=_.tc({imports:[i8,_.ql]});
var TLe=class{constructor(a,b,c,d){_.DN.setAsyncEventWrapperFn&&_.DN.setAsyncEventWrapperFn(e=>a.runOutsideAngular(()=>e()));_.DN.setAuth&&_.DN.setAuth(b);_.DN.setAnalytics&&_.DN.setAnalytics(c);_.DN.setBaseUrl&&_.DN.setBaseUrl("gcm_v3",_.Nf("pantheon_monitoringV3GapiRoot1pUrl"));_.DN.setThrowPartials&&_.DN.setThrowPartials(!1);d.isWhitelisted("chart-override-performance-10").pipe(_.Ge(Boolean),_.af(1)).subscribe(()=>{hae()});_.Of("ChartAccessibility__enabled")&&_.DN.setWhitelist("chart-a11y",!0);
b=K9d();Qze(b)}};TLe.\u0275fac=function(a){return new (a||TLe)(_.p(_.Jf),_.p(lBe),_.p(R6),_.p(eBe))};TLe.\u0275mod=_.Bc({type:TLe});TLe.\u0275inj=_.tc({imports:[i8,j8,q8,_.Vu,i8,q8,j8]});
var ULe=class{constructor(){this.chartInfoSet=new Set}};ULe.\u0275fac=function(a){return new (a||ULe)};ULe.\u0275prov=_.m({token:ULe,factory:ULe.\u0275fac,providedIn:"root"});
var VLe={HEADER_TOOLBAR:0,OVERFLOW_MENU:1,0:"HEADER_TOOLBAR",1:"OVERFLOW_MENU"};
new _.Zc("API_VERSION");new _.Zc("REQUEST_SERVICE");
var WLe={errorMessage:'This page does not support directly adding a chart to a dashboard yet. Instead, to add a chart, please click "View in Metrics Explorer" and then click "Save Chart" inside the Metrics Explorer.',errorExperience:3,presentationFormat:3},XLe=["COLOR","X_RAY","STATS"],YLe={COLOR:"Color Mode",X_RAY:"X-Ray Mode",STATS:"Stats Mode"},ZLe={COLOR:f7.ChartColorModeButton,X_RAY:f7.ChartXrayModeButton,STATS:f7.ChartStatsModeButton},zpe=function(a){switch(a.buttonTextOption){case 0:return"Explore in Monitoring";
case 1:return"View in Metrics Explorer";default:_.Wb(a.buttonTextOption,void 0)}},aMe=function(a,b,c){let d=[];a.shouldShowChartModes&&(d=XLe.map(e=>({callback:()=>{a.onModeChange(e)},ve:ZLe[e],label:YLe[e],className:"pPrimary"})));d.push({callback:()=>{a.onScreenshot()},ve:f7.DownloadPngButton,label:"Download PNG",i18nLabel:"Button to download the chart as a PNG",className:"download-png-link"});a.exportCSVEnabled&&d.push({callback:()=>{a.onExportCSV()},ve:f7.DownloadCsvButton,label:"Download CSV",
i18nLabel:"Button to download the chart data as a CSV file",className:"download-csv-link"});c&&c.link&&(a.headerCollapsed||1===c.buttonPosition)&&d.push({callback:()=>{},ve:f7.CreateAlertingPolicyButton,label:"Create alerting policy",className:"alert-policy-link-overflow-menu",internalLink:c.link.build(),internalLinkQueryParams:c.link.buildQueryParams()});a.showAddToCustomDashboard&&d.push({callback:()=>{a.onChartEventOccurred({veTag:137437,event:"click"});!0===a.isAddToCustomDashboardAvailable?$Le(a):
void 0===a.isAddToCustomDashboardAvailable?a.displayAddToCustomDashboardQueued=!0:a.errorService.handleError({},WLe)},ve:f7.AddToCustomDashboardButton,label:"Add to Custom Dashboard",className:"add-to-custom-dashboard"});b&&b.showLink&&b.link&&(a.headerCollapsed||1===b.buttonPosition)&&d.push({callback:()=>{},ve:f7.OpenMetricsExplorerButton,label:zpe(b),className:"metrics-explorer-link",internalLink:b.link.build(),internalLinkQueryParams:b.link.buildQueryParams()});a.defaultMenuItems$.next(d)},$Le=
function(a){let b;a.deferredDialogService.open({moduleId:"pm_stackdriver_save_chart_dialog",className:"SaveChartDialog"},{data:{charts:[{title:(null==(b=a.addToCustomDashboardConfig)?void 0:b.chartTitleOverride)||a.title,xyChart:a.xyChart}]}})},Cpe=function(a){a.showAddToCustomDashboard&&void 0===a.isAddToCustomDashboardAvailable&&_.KOa(a.deferredLoader,"pm_stackdriver_save_chart_dialog").then(()=>{a.isAddToCustomDashboardAvailable=!0;a.displayAddToCustomDashboardQueued&&($Le(a),a.displayAddToCustomDashboardQueued=
!1);a.cdr.detectChanges()},()=>{a.isAddToCustomDashboardAvailable=!1;a.displayAddToCustomDashboardQueued&&a.errorService.handleError({},WLe);a.cdr.detectChanges()})},cMe=class{constructor(a,b,c,d){this.cdr=a;this.deferredDialogService=b;this.deferredLoader=c;this.errorService=d;this.isFullscreenSubject=new _.bg(!1);this.showLegendSubject=new _.bg(!1);this.showColaRefreshButtonSubject=new _.bg(!1);this.colaEnabledSubject=new _.bg(!1);this.displayAddToCustomDashboardQueued=!1;this.defaultMenuItems$=
new _.bg([]);this.resetZoomActionData$=this.colaEnabledSubject.pipe(_.U(e=>e?{label:"Reset zoom",callback:()=>{this.resetZoom()},ve:f7.ResetZoomButton,iconset:"monitoring",icon:"zoom-reset",iconSize:"medium",collapsible:!0,className:"zoom-reset-button",buttonType:"button"}:null));this.refreshGranularityActionData$=_.qe([this.colaEnabledSubject,this.showColaRefreshButtonSubject]).pipe(_.U(([e,f])=>e&&f?{label:"Refresh",callback:()=>{this.colaChartHandle&&this.colaChartHandle.refresh()},ve:f7.RefreshChartButton,
icon:"refresh",iconSize:"medium",collapsible:!0,className:"refresh-chart-button",buttonType:"button"}:null));this.toggleLegendActionData$=this.showLegendSubject.pipe(_.U(e=>({label:e?"Collapse chart legend":"Expand chart legend",callback:()=>{this.onToggleLegend()},ve:f7.LegendToggle,iconset:"monitoring",icon:"legend-toggle",iconSize:"medium",collapsible:!0,className:"chart-legend-button",ariaPressed:e,buttonType:"button"})));this.toggleFullscreenActionData$=this.isFullscreenSubject.pipe(_.U(e=>({label:e?
"Exit fullscreen":"View chart in fullscreen",callback:()=>{this.onToggleFullscreen()},ve:f7.ChartFullscreenButton,icon:"full-screen",iconSize:"medium",collapsible:!0,className:"fullscreen-button",ariaPressed:e,buttonType:"button"})));this.builtInAction$=_.qe([this.resetZoomActionData$,this.refreshGranularityActionData$,this.toggleLegendActionData$,this.toggleFullscreenActionData$]).pipe(_.U(e=>e.filter(cge)))}resetZoom(){if(this.colaChartGroupHandle){var a=this.colaChartGroupHandle;a.store.dispatch(O5({actions:bMe(a)}))}this.colaChartHandle&&
this.colaChartHandle.resetYAxisPanZoom()}};
var dMe=class{constructor(){this.ve={MetricHelpTooltip:f7.MetricHelpTooltip,MetricHelpLearnMoreButton:f7.MetricHelpLearnMoreButton}}ngOnInit(){}};dMe.\u0275fac=function(a){return new (a||dMe)};
dMe.\u0275cmp=_.q({type:dMe,selectors:[["cfc-chart-header-help-button"]],inputs:{config:"config"},decls:3,vars:6,consts:function(){return[["cfcTooltipPosition","top",1,"cfc-chart-card-help-button",3,"ve","veClick","veHover","ariaLabel"],[4,"ngIf"],["target","_blank","color","primary",3,"cfcDocHref","ve","veClick"]," Learn more "]},template:function(a,b){a&1&&(_.E(0,"cfc-help-button",0),_.Q(1),_.P(2,dge,3,4,"div",1),_.F());a&2&&(_.C("ve",b.ve.MetricHelpTooltip)("veClick",!0)("veHover",!0)("ariaLabel",
b.config.helpButtonAriaLabel||"Show metric definition tooltip"),_.x(1),_.Sd(" ",b.config.helpText," "),_.x(1),_.C("ngIf",b.config.learnMoreLink))},dependencies:[_.wt,_.ll,_.Gz,_.Xu],encapsulation:2});
var eMe=class{constructor(){this.actions$=new _.bg([]);this.menuItems$=new _.bg([]);this.collapseActions$=new _.bg(!1);this.moreOptionsClick=new _.$k;this.expandedAndCollapsedActionsStream=_.qe([this.actions$,this.collapseActions$]).pipe(_.U(([a,b])=>{const c=[],d=[];if(b)for(const e of a)e.collapsible?d.push(e):c.push(e);else c.push(...a);return{expandedActions:c,collapsedActions:d}}));this.expandedActionsStream=this.expandedAndCollapsedActionsStream.pipe(_.U(a=>a.expandedActions));this.collapsedActionsStream=
this.expandedAndCollapsedActionsStream.pipe(_.U(a=>a.collapsedActions));this.showMoreOptionsButtonStream=_.qe([this.menuItems$,this.collapsedActionsStream]).pipe(_.U(([a,b])=>void 0!==this.subMenu||0<a.length||0<b.length));this.defaultIconset="common";this.defaultIconSize="small";this.defaultVeImpression=this.defaultAriaIconHidden=!1;this.ve=f7}set actions(a){a=a||[];a!==this.actions&&this.actions$.next(a)}get actions(){return this.actions$.value}set menuItems(a){a=a||[];a!==this.menuItems&&this.menuItems$.next(a)}get menuItems(){return this.menuItems$.value}set collapseActions(a){a!==
this.collapseActions&&this.collapseActions$.next(a)}get collapseActions(){return this.collapseActions$.value}trackByActionLabelIcon(a){return`${a.label}-${a.icon}`}trackByMenuItemLabel(a){return a.label}};eMe.\u0275fac=function(a){return new (a||eMe)};
eMe.\u0275cmp=_.q({type:eMe,selectors:[["collapsible-actions-and-menu"]],inputs:{subMenu:"subMenu",actions:"actions",menuItems:"menuItems",collapseActions:"collapseActions"},outputs:{moreOptionsClick:"moreOptionsClick"},decls:12,vars:15,consts:function(){return[[3,"menu"],["headerOptions",""],[3,"ve","veClick","veImpression","label","cfcDisable","cfcDisableTooltip","ngClass","internalLink","internalLinkQueryParams","click",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngFor","ngForOf"],["fxLayout","row",
1,"collapsible-actions-and-menu-gray-icon-container"],["mat-icon-button","","class","collapsible-actions-and-menu-gray-icon",3,"ve","veClick","veImpression","cmNativeDisabled","cfcTooltip","ngClass","type","click",4,"ngFor","ngForOf","ngForTrackBy"],["class","header-button more-options-button collapsible-actions-and-menu-gray-icon","mat-icon-button","","cfcMenuButton","","aria-label","More chart options","cfcTooltip","More chart options","type","button",3,"cfcMenuTriggerFor","ve","veClick","click",
4,"ngIf"],[3,"ve","veClick","veImpression","label","cfcDisable","cfcDisableTooltip","ngClass","internalLink","internalLinkQueryParams","click"],[3,"ve","veImpression"],[3,"ve","veClick","veImpression","label","disabled","ngClass","click"],["mat-icon-button","",1,"collapsible-actions-and-menu-gray-icon",3,"ve","veClick","veImpression","cmNativeDisabled","cfcTooltip","ngClass","type","click"],[3,"iconset","icon","size"],["mat-icon-button","","cfcMenuButton","","aria-label","More chart options","cfcTooltip",
"More chart options","type","button",1,"header-button","more-options-button","collapsible-actions-and-menu-gray-icon",3,"cfcMenuTriggerFor","ve","veClick","click"],["icon","more","size","medium"]]},template:function(a,b){a&1&&(_.E(0,"cfc-menu",0,1)(2,"cfc-menu-section"),_.P(3,ege,2,11,"cfc-menu-item",2),_.Zd(4,"async"),_.P(5,fge,3,8,"ng-container",3),_.Zd(6,"async"),_.F()(),_.E(7,"span",4),_.P(8,gge,2,13,"button",5),_.Zd(9,"async"),_.P(10,hge,2,3,"button",6),_.Zd(11,"async"),_.F());a&2&&(_.C("menu",
b.subMenu),_.x(3),_.C("ngForOf",_.$d(4,7,b.menuItems$))("ngForTrackBy",b.trackByMenuItemLabel),_.x(2),_.C("ngForOf",_.$d(6,9,b.collapsedActionsStream)),_.x(3),_.C("ngForOf",_.$d(9,11,b.expandedActionsStream))("ngForTrackBy",b.trackByActionLabelIcon),_.x(2),_.C("ngIf",_.$d(11,13,b.showMoreOptionsButtonStream)))},dependencies:[_.qx,_.kl,_.ll,_.xI,_.SD,_.xo,_.ot,_.mt,_.jt,_.Nx,_.Kx,_.Lx,_.Qx,_.Ev,_.wt,_.pl],styles:["[_nghost-%COMP%]   span.collapsible-actions-and-menu-gray-icon-container[_ngcontent-%COMP%]   button.collapsible-actions-and-menu-gray-icon[_ngcontent-%COMP%]{color:#707070}"],
changeDetection:0});
var fMe=["headerActions"],gMe=[[["","title",""]],[["","info-button",""]],[["","cola-actions",""]],[["","subtitle",""]],[["","header-actions",""]]],hMe=function(a){let b=-Infinity,c=null;a.checkOverflow.pipe(_.Af(a.destroyed),_.We(100)).subscribe(()=>{var d=a.lastContainerMeasurement||a.el.nativeElement.offsetWidth;a.lastContainerMeasurement=d;b=Math.max(b,a.headerActions.nativeElement.offsetWidth);d=b>=.5*d;c!==d&&(c=d,a.requestToCollapseHeader.emit(d))})},iMe=function(a){"function"===typeof window.ResizeObserver?
(a.resizeObserver=new ResizeObserver(()=>{a.handleResize()}),a.resizeObserver.observe(a.el.nativeElement)):a.resizeSensor=new HKe(a.el.nativeElement,()=>{a.handleResize()})},jMe=function(a){a.resizeObserver&&a.resizeObserver.disconnect();a.resizeSensor&&a.resizeSensor.detach(()=>{})},kMe=class{constructor(a){this.el=a;this.title$=new _.bg("Untitled Chart");this.collapseSpaceBelow=!1;this.showHelp=!0;this.actions$=new _.bg([]);this.menuItems$=new _.bg([]);this.stretchTitle=this.collapseHeader=!1;this.semanticHeadingLevel=
3;this.showResponsiveInternal=!1;this.requestToCollapseHeader=new _.$k;this.moreOptionsClick=new _.$k;this.checkOverflow=new _.tf;this.contentOverflowing=new _.bg(!1);this.lastContainerMeasurement=null;this.displayTitle$=this.title$;this.destroyed=new _.tf}set title(a){this.title$.next(a)}get title(){return this.title$.value}set actions(a){this.actions$.next(a)}set menuItems(a){this.menuItems$.next(a)}set showResponsive(a){(this.showResponsiveInternal=a)?(this.contentOverflowing.next(!1),this.lastContainerMeasurement=
null):pLe(this)}get showResponsive(){return this.showResponsiveInternal}ngOnInit(){hMe(this)}ngAfterViewInit(){iMe(this)}ngAfterViewChecked(){pLe(this)}handleResize(){this.lastContainerMeasurement=null;pLe(this)}ngOnDestroy(){jMe(this);this.destroyed.next();this.destroyed.complete()}};kMe.\u0275fac=function(a){return new (a||kMe)(_.A(_.ad))};
kMe.\u0275cmp=_.q({type:kMe,selectors:[["cfc-chart-header-view"]],viewQuery:function(a,b){a&1&&_.Oe(fMe,7);if(a&2){let c;_.Ne(c=_.Qe())&&(b.headerActions=c.first)}},inputs:{title:"title",collapseSpaceBelow:"collapseSpaceBelow",chartHelpConfig:"chartHelpConfig",showHelp:"showHelp",actions:"actions",menuItems:"menuItems",subMenu:"subMenu",collapseHeader:"collapseHeader",stretchTitle:"stretchTitle",semanticHeadingLevel:"semanticHeadingLevel",showResponsive:"showResponsive"},outputs:{requestToCollapseHeader:"requestToCollapseHeader",
moreOptionsClick:"moreOptionsClick"},ngContentSelectors:["[title]","[info-button]","[cola-actions]","[subtitle]","[header-actions]"],decls:19,vars:17,consts:[["fxLayout","column","fxLayoutAlign","start start",1,"cfc-chart-card-header","cfc-width-full"],["fxLayout","row","fxLayoutAlign","space-between",1,"cfc-chart-card-header-row"],["fxLayout","row","fxLayoutAlign","start center",1,"cfc-chart-card-title-container"],["class","cfc-chart-card-default-title cfc-space-first cfc-space-last",3,"semanticLevel",
"visualLevel","removeMargins","textOverflowEllipsis","cfcTooltip",4,"ngIf"],["titleContent",""],[3,"config",4,"ngIf"],[1,"cfc-chart-card-header-item"],["fxLayout","row",1,"cfc-chart-card-header-actions-row"],["headerActions",""],[4,"ngIf"],[3,"actions","menuItems","collapseActions","subMenu","mousedown","moreOptionsClick"],[1,"cfc-chart-card-margin-left-shift"],[1,"cfc-chart-card-default-title","cfc-space-first","cfc-space-last",3,"semanticLevel","visualLevel","removeMargins","textOverflowEllipsis",
"cfcTooltip"],[3,"config"]],template:function(a,b){a&1&&(_.Pd(gMe),_.E(0,"div",0)(1,"div",1)(2,"span",2),_.P(3,ige,3,8,"cfc-heading",3),_.E(4,"span",null,4),_.Qd(6),_.F(),_.P(7,jge,1,1,"cfc-chart-header-help-button",5),_.E(8,"span",6),_.Qd(9,1),_.F()(),_.E(10,"span",7,8),_.P(12,kge,1,0,"ng-content",9),_.Qd(13,2),_.E(14,"collapsible-actions-and-menu",10),_.L("mousedown",function(c){return c.stopPropagation()})("moreOptionsClick",function(){return b.moreOptionsClick.emit()}),_.Zd(15,"async"),_.Zd(16,
"async"),_.F()()(),_.E(17,"span",11),_.Qd(18,3),_.F()());if(a&2){const c=_.Rd(5);_.Bd("cfc-chart-card-header-space-below",!b.collapseSpaceBelow);_.x(2);_.Bd("cfc-flex-grow-content",b.stretchTitle);_.x(1);_.C("ngIf",0===c.children.length);_.x(1);_.Cd("cfc-chart-card-projected-title"+(b.stretchTitle?" cfc-width-full":""));_.x(3);_.C("ngIf",b.showHelp&&b.chartHelpConfig);_.x(5);_.C("ngIf",!1===b.collapseHeader);_.x(2);_.C("actions",_.$d(15,13,b.actions$))("menuItems",_.$d(16,15,b.menuItems$))("collapseActions",
b.collapseHeader)("subMenu",b.subMenu)}},dependencies:[eMe,_.ll,_.SC,_.Ev,_.SD,_.WD,dMe,_.pl],styles:[".cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-primary[_ngcontent-%COMP%]{color:#000!important;fill:#000!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-secondary[_ngcontent-%COMP%]{color:rgba(0,0,0,.66)!important;fill:rgba(0,0,0,.66)!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-disabled[_ngcontent-%COMP%]{color:rgba(0,0,0,.54)!important;fill:rgba(0,0,0,.54)!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-danger[_ngcontent-%COMP%]{color:#d50000!important;fill:#d50000!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-warning[_ngcontent-%COMP%]{color:#f2a600!important;fill:#f2a600!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-good[_ngcontent-%COMP%]{color:#0b8043!important;fill:#0b8043!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-active[_ngcontent-%COMP%]{color:#3367d6!important;fill:#3367d6!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-primary-1[_ngcontent-%COMP%]{color:#4285f4!important;fill:#4285f4!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-primary-2[_ngcontent-%COMP%]{color:#ff5722!important;fill:#ff5722!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-primary-3[_ngcontent-%COMP%]{color:#ff8f00!important;fill:#ff8f00!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-primary-4[_ngcontent-%COMP%]{color:#7cb342!important;fill:#7cb342!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-primary-5[_ngcontent-%COMP%]{color:#ab47bc!important;fill:#ab47bc!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-primary-6[_ngcontent-%COMP%]{color:#00acc1!important;fill:#00acc1!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-primary-7[_ngcontent-%COMP%]{color:#f57c00!important;fill:#f57c00!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-primary-8[_ngcontent-%COMP%]{color:#9e9d24!important;fill:#9e9d24!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-primary-9[_ngcontent-%COMP%]{color:#5c6bc0!important;fill:#5c6bc0!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-primary-10[_ngcontent-%COMP%]{color:#f06292!important;fill:#f06292!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-primary-11[_ngcontent-%COMP%]{color:#00796b!important;fill:#00796b!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-primary-12[_ngcontent-%COMP%]{color:#c2185b!important;fill:#c2185b!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-secondary-1[_ngcontent-%COMP%]{color:#fa937f!important;fill:#fa937f!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-secondary-2[_ngcontent-%COMP%]{color:#0fbfff!important;fill:#0fbfff!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-secondary-3[_ngcontent-%COMP%]{color:#e91e63!important;fill:#e91e63!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-secondary-4[_ngcontent-%COMP%]{color:#31d8d0!important;fill:#31d8d0!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-secondary-5[_ngcontent-%COMP%]{color:#e26c28!important;fill:#e26c28!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-secondary-6[_ngcontent-%COMP%]{color:#9fabe4!important;fill:#9fabe4!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-secondary-7[_ngcontent-%COMP%]{color:#259fa7!important;fill:#259fa7!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-secondary-8[_ngcontent-%COMP%]{color:#673ab7!important;fill:#673ab7!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-secondary-9[_ngcontent-%COMP%]{color:#7ac6ff!important;fill:#7ac6ff!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-secondary-10[_ngcontent-%COMP%]{color:#f40bb2!important;fill:#f40bb2!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-secondary-11[_ngcontent-%COMP%]{color:#2e5d9e!important;fill:#2e5d9e!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-secondary-12[_ngcontent-%COMP%]{color:#e889ff!important;fill:#e889ff!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-unfilled[_ngcontent-%COMP%]{color:#e0e0e0!important;fill:#e0e0e0!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-background-base[_ngcontent-%COMP%]{background-color:#fafafa}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-background-contrast[_ngcontent-%COMP%]{background-color:#fff}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-background-disabled[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.54)}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-background-message[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.05)}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-background-row-active[_ngcontent-%COMP%]{background-color:rgba(161,194,250,.16)}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-background-code[_ngcontent-%COMP%]{background-color:#f7f7f7}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-align-left[_ngcontent-%COMP%]{text-align:left!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-align-center[_ngcontent-%COMP%]{text-align:center!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-align-right[_ngcontent-%COMP%]{text-align:right!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-vertical-align-middle[_ngcontent-%COMP%]{vertical-align:middle}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-white-space-normal[_ngcontent-%COMP%]{white-space:normal}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-nowrap[_ngcontent-%COMP%]{white-space:nowrap}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-pre-line[_ngcontent-%COMP%]{white-space:pre-line}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-pre-wrap[_ngcontent-%COMP%]{white-space:pre-wrap}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-break-word-wrap[_ngcontent-%COMP%]{word-wrap:break-word;word-break:break-word}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-heading-with-icon-button[_ngcontent-%COMP%]{display:flex;align-items:center}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-heading-with-icon-button[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(h1, h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6)[_ngcontent-%COMP%]{margin-right:4px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-heading-with-icon-button[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(h1, .cfc-heading-visual-level-1)[_ngcontent-%COMP%] ~ [_ngcontent-%COMP%]:is([mat-icon-button], cfc-help-button[_ngcontent-%COMP%], cfc-easy-copy)[_ngcontent-%COMP%]{margin-bottom:0;margin-top:0}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-heading-with-icon-button[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(h2, .cfc-heading-visual-level-2)[_ngcontent-%COMP%] ~ [_ngcontent-%COMP%]:is([mat-icon-button], cfc-help-button[_ngcontent-%COMP%], cfc-easy-copy)[_ngcontent-%COMP%]{margin-bottom:8px;margin-top:32px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-heading-with-icon-button[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(h3, .cfc-heading-visual-level-3)[_ngcontent-%COMP%] ~ [_ngcontent-%COMP%]:is([mat-icon-button], cfc-help-button[_ngcontent-%COMP%], cfc-easy-copy)[_ngcontent-%COMP%]{margin-bottom:8px;margin-top:28px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-heading-with-icon-button[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(h4, .cfc-heading-visual-level-4)[_ngcontent-%COMP%] ~ [_ngcontent-%COMP%]:is([mat-icon-button], cfc-help-button[_ngcontent-%COMP%], cfc-easy-copy)[_ngcontent-%COMP%]{margin-bottom:8px;margin-top:28px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-heading-with-icon-button[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(h5, .cfc-heading-visual-level-5)[_ngcontent-%COMP%] ~ [_ngcontent-%COMP%]:is([mat-icon-button], cfc-help-button[_ngcontent-%COMP%], cfc-easy-copy)[_ngcontent-%COMP%]{margin-bottom:8px;margin-top:24px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-heading-with-icon-button[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(h6, .cfc-heading-visual-level-6)[_ngcontent-%COMP%] ~ [_ngcontent-%COMP%]:is([mat-icon-button], cfc-help-button[_ngcontent-%COMP%], cfc-easy-copy)[_ngcontent-%COMP%]{margin-bottom:8px;margin-top:24px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-truncated-text[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-truncated-text-left[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;direction:rtl}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-truncated-text-inline[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:inline-block;line-height:normal;vertical-align:text-top}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-truncated-text-single-line[_ngcontent-%COMP%]{-webkit-line-clamp:1;-webkit-box-orient:vertical;display:-webkit-box;overflow:hidden}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-truncated-text-multi-line-2[_ngcontent-%COMP%]{-webkit-line-clamp:2;-webkit-box-orient:vertical;display:-webkit-box;overflow:hidden}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-truncated-text-multi-line-3[_ngcontent-%COMP%]{-webkit-line-clamp:3;-webkit-box-orient:vertical;display:-webkit-box;overflow:hidden}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-truncated-text-multi-line-4[_ngcontent-%COMP%]{-webkit-line-clamp:4;-webkit-box-orient:vertical;display:-webkit-box;overflow:hidden}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-font-weight-light[_ngcontent-%COMP%]{font-weight:300}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-font-weight-base[_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-font-weight-regular[_ngcontent-%COMP%]{font-weight:400}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-font-weight-bold[_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-font-weight-medium[_ngcontent-%COMP%]{font-weight:500}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-label-text[_ngcontent-%COMP%]{color:#000;font-family:Roboto;font-size:13px;font-weight:500;line-height:20px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-cursor-default[_ngcontent-%COMP%]{cursor:default}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-cursor-move[_ngcontent-%COMP%]{cursor:move}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-text-base[_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-text-body[_ngcontent-%COMP%]{color:#000;font-family:Roboto;font-size:13px;font-weight:400;line-height:20px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-text-body-strong[_ngcontent-%COMP%]{color:#000;font-family:Roboto;font-size:13px;font-weight:500;line-height:20px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-text-caption[_ngcontent-%COMP%]{color:rgba(0,0,0,.66);font-family:Roboto;font-size:12px;font-weight:400;line-height:16px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-text-caption-strong[_ngcontent-%COMP%]{color:#000;font-family:Roboto;font-size:12px;font-weight:500;line-height:16px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-text-headline[_ngcontent-%COMP%]{color:#000;font-family:Roboto;font-size:24px;font-weight:400;line-height:32px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-text-headline-strong[_ngcontent-%COMP%]{color:#000;font-family:Roboto;font-size:24px;font-weight:500;line-height:32px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-text-title-1[_ngcontent-%COMP%]{color:#000;font-family:Roboto;font-size:20px;font-weight:500;line-height:28px;margin-bottom:8px;margin-top:32px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-text-title-1-subtle[_ngcontent-%COMP%]{color:#000;font-family:Roboto;font-size:20px;font-weight:400;line-height:28px;margin-bottom:8px;margin-top:32px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-text-title-2[_ngcontent-%COMP%]{color:#000;font-family:Roboto;font-size:18px;font-weight:500;line-height:24px;margin-bottom:8px;margin-top:28px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-text-title-3[_ngcontent-%COMP%]{color:#000;font-family:Roboto;font-size:18px;font-weight:400;line-height:24px;margin-bottom:8px;margin-top:28px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-text-title-4[_ngcontent-%COMP%]{color:#000;font-family:Roboto;font-size:15px;font-weight:500;line-height:20px;margin-bottom:8px;margin-top:24px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-text-body-large[_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-text-title-5[_ngcontent-%COMP%]{color:#000;font-family:Roboto;font-size:15px;font-weight:400;line-height:20px;margin-bottom:8px;margin-top:24px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-fixed-font[_ngcontent-%COMP%]{font-family:Roboto Mono,monospace}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-italic-font[_ngcontent-%COMP%]{font-style:italic}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-below-minus-6[_ngcontent-%COMP%]{margin-bottom:2px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-below-minus-5[_ngcontent-%COMP%]{margin-bottom:4px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-below-minus-4[_ngcontent-%COMP%]{margin-bottom:8px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-below-minus-3[_ngcontent-%COMP%]{margin-bottom:12px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-below-minus-2[_ngcontent-%COMP%]{margin-bottom:16px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-below-minus-1[_ngcontent-%COMP%]{margin-bottom:20px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-below-base[_ngcontent-%COMP%]{margin-bottom:24px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-below-plus-1[_ngcontent-%COMP%]{margin-bottom:28px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-below-plus-2[_ngcontent-%COMP%]{margin-bottom:32px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-below-plus-3[_ngcontent-%COMP%]{margin-bottom:36px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-below-plus-4[_ngcontent-%COMP%]{margin-bottom:40px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-below-plus-5[_ngcontent-%COMP%]{margin-bottom:48px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-below-plus-6[_ngcontent-%COMP%]{margin-bottom:56px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-above-minus-6[_ngcontent-%COMP%]{margin-top:2px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-above-minus-5[_ngcontent-%COMP%]{margin-top:4px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-above-minus-4[_ngcontent-%COMP%]{margin-top:8px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-above-minus-3[_ngcontent-%COMP%]{margin-top:12px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-above-minus-2[_ngcontent-%COMP%]{margin-top:16px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-above-minus-1[_ngcontent-%COMP%]{margin-top:20px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-above-base[_ngcontent-%COMP%]{margin-top:24px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-above-plus-1[_ngcontent-%COMP%]{margin-top:28px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-above-plus-2[_ngcontent-%COMP%]{margin-top:32px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-above-plus-3[_ngcontent-%COMP%]{margin-top:36px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-above-plus-4[_ngcontent-%COMP%]{margin-top:40px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-above-plus-5[_ngcontent-%COMP%]{margin-top:48px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-above-plus-6[_ngcontent-%COMP%]{margin-top:56px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-first[_ngcontent-%COMP%]{margin-top:0!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-last[_ngcontent-%COMP%]{margin-bottom:0!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-indent[_ngcontent-%COMP%]{margin-left:24px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-prefix[_ngcontent-%COMP%]{margin-right:12px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-width-xsmall[_ngcontent-%COMP%]{width:256px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-width-small[_ngcontent-%COMP%]{width:320px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-width-base[_ngcontent-%COMP%]{width:512px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-width-large[_ngcontent-%COMP%]{width:768px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-width-xlarge[_ngcontent-%COMP%]{width:1024px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-width-jumbo[_ngcontent-%COMP%]{width:1280px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-width-increment[_ngcontent-%COMP%]{width:64px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-max-width-base[_ngcontent-%COMP%]{max-width:512px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-max-width-small[_ngcontent-%COMP%]{max-width:320px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-max-width-xsmall[_ngcontent-%COMP%]{max-width:256px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-max-width-large[_ngcontent-%COMP%]{max-width:768px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-max-width-xlarge[_ngcontent-%COMP%]{max-width:1024px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-max-width-full[_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-max-width-full[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(p, h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6)[_ngcontent-%COMP%]{max-width:100%!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-width-full[_ngcontent-%COMP%]{width:100%}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-height-full[_ngcontent-%COMP%]{height:100%}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-width-none[_ngcontent-%COMP%]{width:0}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-height-none[_ngcontent-%COMP%]{height:0}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-gutter-none[_ngcontent-%COMP%]{padding:0!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-gutter-minus-4[_ngcontent-%COMP%]{padding:8px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-gutter-minus-2[_ngcontent-%COMP%]{padding:16px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-gutter-base[_ngcontent-%COMP%]{padding:24px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-form-control-hint[_ngcontent-%COMP%]{color:rgba(0,0,0,.66);font-family:Roboto;font-size:12px;font-weight:400;line-height:16px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-small[_ngcontent-%COMP%]{--cm-button-line-height:24px;--cm-icon-button-height:24px;--cm-icon-button-width:24px;--cm-icon-button-line-height:24px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-small.mat-button-toggle-label-content[_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-small[_ngcontent-%COMP%]   .mat-button-toggle-label-content[_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-small[mat-button][_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-small[_ngcontent-%COMP%]   [mat-button][_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-small[mat-raised-button][_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-small[_ngcontent-%COMP%]   [mat-raised-button][_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-small[mat-stroked-button][_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-small[_ngcontent-%COMP%]   [mat-stroked-button][_ngcontent-%COMP%]{line-height:24px;padding:0 8px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-small[mat-icon-button][_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-small[_ngcontent-%COMP%]   [mat-icon-button][_ngcontent-%COMP%]{--cm-focus-indicator-offset:2px;padding:0}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-small[mat-icon-button][_ngcontent-%COMP%]:where(:not(.cm-button)), .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-small[_ngcontent-%COMP%]   [mat-icon-button][_ngcontent-%COMP%]:where(:not(.cm-button)){height:24px;line-height:24px;width:24px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-small.cfc-split-button-menu-button[_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-small[_ngcontent-%COMP%]   .cfc-split-button-menu-button[_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-small.cfc-split-button-menu-button.cm-button[_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-small[_ngcontent-%COMP%]   .cfc-split-button-menu-button.cm-button[_ngcontent-%COMP%]{padding:0}body.cfc-focus-indicators-enabled[_ngcontent-%COMP%]   .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-small.mat-icon-button[_ngcontent-%COMP%]:before, body.cfc-focus-indicators-enabled[_ngcontent-%COMP%]   .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-small[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]:before{margin:-2px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-medium[_ngcontent-%COMP%]{--cm-icon-button-height:32px;--cm-icon-button-width:32px;--cm-icon-button-line-height:32px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-medium[mat-icon-button][_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-medium[_ngcontent-%COMP%]   [mat-icon-button][_ngcontent-%COMP%]{padding:0}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-medium[mat-icon-button][_ngcontent-%COMP%]:where(:not(.cm-button)), .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-medium[_ngcontent-%COMP%]   [mat-icon-button][_ngcontent-%COMP%]:where(:not(.cm-button)){height:32px;line-height:32px;width:32px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-small-icon-button[_ngcontent-%COMP%]{--cm-button-line-height:24px;--cm-icon-button-height:24px;--cm-icon-button-width:24px;--cm-icon-button-line-height:24px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-small-icon-button.mat-button-toggle-label-content[_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-small-icon-button[_ngcontent-%COMP%]   .mat-button-toggle-label-content[_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-small-icon-button[mat-button][_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-small-icon-button[_ngcontent-%COMP%]   [mat-button][_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-small-icon-button[mat-raised-button][_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-small-icon-button[_ngcontent-%COMP%]   [mat-raised-button][_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-small-icon-button[mat-stroked-button][_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-small-icon-button[_ngcontent-%COMP%]   [mat-stroked-button][_ngcontent-%COMP%]{line-height:24px;padding:0 8px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-small-icon-button[mat-icon-button][_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-small-icon-button[_ngcontent-%COMP%]   [mat-icon-button][_ngcontent-%COMP%]{--cm-focus-indicator-offset:2px;padding:0}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-small-icon-button[mat-icon-button][_ngcontent-%COMP%]:where(:not(.cm-button)), .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-small-icon-button[_ngcontent-%COMP%]   [mat-icon-button][_ngcontent-%COMP%]:where(:not(.cm-button)){height:24px;line-height:24px;width:24px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-small-icon-button.cfc-split-button-menu-button[_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-small-icon-button[_ngcontent-%COMP%]   .cfc-split-button-menu-button[_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-small-icon-button.cfc-split-button-menu-button.cm-button[_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-small-icon-button[_ngcontent-%COMP%]   .cfc-split-button-menu-button.cm-button[_ngcontent-%COMP%]{padding:0}body.cfc-focus-indicators-enabled[_ngcontent-%COMP%]   .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-small-icon-button.mat-icon-button[_ngcontent-%COMP%]:before, body.cfc-focus-indicators-enabled[_ngcontent-%COMP%]   .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-small-icon-button[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]:before{margin:-2px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-small-icon-button[_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-small-icon-button.cm-button[_ngcontent-%COMP%]{margin-top:-8px;margin-bottom:-4px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-align-left[_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-align-left.cm-button[_ngcontent-%COMP%]{margin:12px 0 -12px -12px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-full-bleed[_ngcontent-%COMP%]{margin-left:-24px;margin-right:-24px;max-width:none}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-full-bleed[_ngcontent-%COMP%]:first-child:not(.cfc-full-bleed-keep-top-padding){margin-top:-24px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-full-bleed[_ngcontent-%COMP%]:last-child:not(.cfc-full-bleed-keep-bottom-padding){margin-bottom:-24px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-hover-display[_ngcontent-%COMP%]{opacity:0;will-change:opacity}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-hover-display-container[_ngcontent-%COMP%]:hover   .cfc-hover-display[_ngcontent-%COMP%]{opacity:1}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-text-caption[_ngcontent-%COMP%]{color:rgba(0,0,0,.66);font-family:Roboto;font-size:12px;font-weight:400;line-height:16px;--cm-button-text-color:rgba(0,0,0,0.66);--cm-button-line-height:16px}@media screen and (hover:none){.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-disable-user-select-on-touch-device[_ngcontent-%COMP%]{-webkit-touch-callout:none;user-select:none;-webkit-user-select:none}}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-scroll-vertical[_ngcontent-%COMP%]{overflow-y:auto}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-scroll-horizontal[_ngcontent-%COMP%]{overflow-x:auto}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-no-scroll-vertical[_ngcontent-%COMP%]{overflow-y:hidden}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-no-scroll-horizontal[_ngcontent-%COMP%]{overflow-x:hidden}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-list-item-icons-left[_ngcontent-%COMP%]   .ace-icon[_ngcontent-%COMP%]{padding-right:8px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-list-item-icons-left[_ngcontent-%COMP%]   [mat-button][_ngcontent-%COMP%]   .ace-icon[_ngcontent-%COMP%]{padding-right:0}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-list-item-icons-left[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .mat-list-item-content[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-list-item-icons-left[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .mat-list-item-content[_ngcontent-%COMP%]   [mat-button][_ngcontent-%COMP%]{padding-right:8px;margin-right:4px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-mat-tab-expand-content[_ngcontent-%COMP%]   .mat-tab-body-wrapper[_ngcontent-%COMP%]{flex-grow:1}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-border-none[_ngcontent-%COMP%]{border:0}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-border-primary[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12)}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-border-top-primary[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.12)}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-container-item[_ngcontent-%COMP%]{margin:12px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-flex-container[_ngcontent-%COMP%]{display:flex}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-flex-direction-column[_ngcontent-%COMP%]{flex-direction:column}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-flex-container[_ngcontent-%COMP%]{display:inline-flex!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-flex-wrap-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-flex-center-aligned[_ngcontent-%COMP%]{align-items:center}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-flex-end-aligned[_ngcontent-%COMP%]{align-items:flex-end}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-flex-baseline-aligned[_ngcontent-%COMP%]{align-items:baseline}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-flex-space-between-content[_ngcontent-%COMP%]{justify-content:space-between}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-flex-justify-start[_ngcontent-%COMP%]{justify-content:start}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-flex-justify-center[_ngcontent-%COMP%]{justify-content:center}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-flex-justify-end[_ngcontent-%COMP%]{justify-content:flex-end}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-flex-grow-content[_ngcontent-%COMP%]{flex-grow:1}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-flex-no-shrink[_ngcontent-%COMP%]{flex-shrink:0}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-hidden[_ngcontent-%COMP%]{display:none!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-visibility-hidden[_ngcontent-%COMP%]{visibility:hidden}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-icon-button-right-align[_ngcontent-%COMP%]{float:right}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-full-screen[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:100%;width:100%;z-index:1}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-position-relative[_ngcontent-%COMP%]{position:relative}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-print-only[_ngcontent-%COMP%]{display:none}@media print{.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-print-only[_ngcontent-%COMP%]{display:block}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-print-never[_ngcontent-%COMP%]{display:none!important}}.cfc-ng2-region[_ngcontent-%COMP%]   .screen-reader-only-content[_ngcontent-%COMP%]{clip:rect(1px,1px,1px,1px);height:1px;margin:0;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px;z-index:-1000}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-third-party-icon-list[_ngcontent-%COMP%]{vertical-align:middle}.cfc-chart-card-header[_ngcontent-%COMP%]{display:flex;width:100%;align-items:center}.cfc-chart-card-header.cfc-chart-card-header-space-below[_ngcontent-%COMP%]{padding-bottom:4px}.cfc-chart-card-header[_ngcontent-%COMP%]   .cfc-chart-card-header-row[_ngcontent-%COMP%]{width:100%}.cfc-chart-card-header-item[_ngcontent-%COMP%]:not(:empty){margin-left:4px}.cfc-chart-card-projected-title[_ngcontent-%COMP%]{margin-left:-16px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.cfc-chart-card-default-title[_ngcontent-%COMP%]{margin-left:-16px;min-width:0;margin-right:20px}.cfc-chart-card-title-container[_ngcontent-%COMP%]{min-width:0}.cfc-chart-card-overflow-visible[_ngcontent-%COMP%]{overflow:visible}.cfc-chart-card-margin-left-shift[_ngcontent-%COMP%]{margin-left:-16px}.cfc-chart-card-gray-icon[_ngcontent-%COMP%]{color:#707070}.cfc-chart-card-help-button[_ngcontent-%COMP%]{margin-top:-1px}"],
changeDetection:0});
var lMe=class extends _.Bpc{constructor(){super();this.project=new _.sm("query","project");_.um(this,["alerting"])}};
var mMe=class extends lMe{constructor(){super();this.id=new _.sm("query","id");this.dn=new _.sm("query","dn");this.ct=new _.sm("query","ct");this.f=new _.sm("query","f");this.th=new _.sm("query","th");this.d=new _.sm("query","d");this.cmp=new _.sm("query","cmp");this.t=new _.sm("query","t");this.agg=new _.sm("query","agg");_.um(this,["policies","create"])}};
var nMe=class extends _.Bpc{constructor(){super();this.model=new _.sm("query","pageState");this.project=new _.sm("query","project");_.um(this,["metrics-explorer"])}};
var oMe=function(a,b){return a.linkWithinCloudConsole$.pipe(_.df(),_.U(c=>{if(!c)return null;c=nMe.create(a.route);const d=new _.tm(c,!0);b&&d.set(c.model,b);return d}))},pMe=function(a,b={}){return a.linkWithinCloudConsole$.pipe(_.df(),_.U(c=>{if(c){c=mMe.create(a.route);const d=new _.tm(c,!0);b.agg&&d.set(c.agg,b.agg);b.cmp&&d.set(c.cmp,b.cmp);b.ct&&d.set(c.ct,b.ct);b.d&&d.set(c.d,b.d);b.dn&&d.set(c.dn,b.dn);b.f&&d.set(c.f,b.f);b.t&&d.set(c.t,b.t);b.th&&d.set(c.th,b.th);c=d}else c=null;return c}))},
qMe=class{constructor(a,b){this.projectParamService=a;this.route=b;this.linkWithinCloudConsole$=this.projectParamService.getCurrentProjectId().pipe(_.zf(()=>_.S(!0).pipe(_.yf(null))),_.vf(1),_.Ge(lge));this.destroyed$=new _.tf;this.linkWithinCloudConsole$.pipe(_.Af(this.destroyed$)).subscribe()}ngOnDestroy(){this.destroyed$.next();this.destroyed$.complete()}};qMe.\u0275fac=function(a){return new (a||qMe)(_.p(_.Zm),_.p(_.ag))};qMe.\u0275prov=_.m({token:qMe,factory:qMe.\u0275fac,providedIn:"root"});
var u9d=_.Ub(""),rMe=function(){return new Promise(a=>{"loading"!=document.readyState?a():_.vCa(document,"DOMContentLoaded",()=>{a()})})},sMe=function(){const a=(window.crypto||window.msCrypto).getRandomValues(new Uint8Array(16));return Array.prototype.join.call(a,".")},tMe=class{constructor(){this.port=this.iframe=null;this.deferredMessages=[]}load(){const a=sMe();this.iframe=nge(a);rMe().then(()=>{this.iframe&&document.body.appendChild(this.iframe)});return mge(this.iframe,a).then(b=>{for(this.port=
b.ports[0];0<this.deferredMessages.length;)b=this.deferredMessages.shift(),this.port.postMessage(b.data,b.transferables)})}exec(a,b){return new Promise((c,d)=>{const e=new MessageChannel;e.port1.onmessage=n=>{e.port1.onmessage=null;n=n.data;null!=n.error?d(new EvalError(n.error)):c(n.result)};var f=null!=b?b:[];const g=[],h=[],l=[];for(const n of f)g.push(n.name),h.push(n.value),n.transfer&&l.push(n.value);f={code:a,paramNames:g,values:h};this.port?this.port.postMessage(f,[e.port2,...l]):this.deferredMessages.push({data:f,
transferables:[e.port2,...l]})})}dispose(){null!=this.iframe&&(this.iframe.parentNode&&this.iframe.parentNode.removeChild(this.iframe),this.iframe=null)}};
var uMe,vMe=class{static download(a,b,c=""){return _.ne(function*(){uMe||(uMe=new vMe,uMe.init());yield uMe.download(a,b,c)})}constructor(){this.sandbox=new tMe}init(){return this.sandbox.load()}download(a,b,c=""){a=a instanceof Blob?a:new Blob([a],{type:c});if(navigator.msSaveOrOpenBlob)return navigator.msSaveOrOpenBlob(a,b),oge();if(!_.la()||0<=_.sAa(_.jaa(),16)?0:_.ja()||!(!_.ia("iPad")&&!_.ia("iPhone")||_.daa()||_.ja()||_.ia("Coast")||_.caa())&&_.ia("AppleWebKit")){const d=new FileReader;d.onload=
()=>{const e=_.mk(document,"A"),f=_.Oxb(String(d.result),_.xHa)||_.ak;e.href=_.Tb(f);e.download=b;e.click()};d.readAsDataURL(a);return oge()}return this.sandbox.exec('var url=URL.createObjectURL(blob);var a=document.createElement("a");if(!("download" in a)){throw new Error("Downloading not supported on this browser");}a.href=url;a.download=filename;document.body.appendChild(a);a.click();setTimeout(function(){document.body.removeChild(a);URL.revokeObjectURL(url);},250);',[{name:"blob",value:a,transfer:!1},
{name:"filename",value:b,transfer:!1}]).then(()=>oge())}dispose(){this.sandbox.dispose()}};_.nh("SafeDownloader",vMe);
var xMe=function(a,b){let c=[];const d=[[]];if(void 0!==a.chartData){c=["Time"].concat(a.chartData.series.map(g=>g.id));var e=a.chartData.series.map(g=>g.data.map(h=>h.x.toString()));const f=[...(new Set(e.flat()))];for(let g=0;g<f.length;g++){e=f.length-(g+1);d[e]=[f[g]];for(let h=0;h<a.chartData.series.length;h++){const l=a.chartData.series[h].data.find(n=>n.x.toString()===f[g]);void 0===l?d[e].push("undefined"):d[e].push(l.y)}}d.sort((g,h)=>Date.parse(g[0])-Date.parse(h[0]))}wMe(c,d,b)},yMe=function(a,
b){b=`${b.replace(/ /g,"_")}.csv`;const c=new vMe;a=new Blob([a],{type:"text/csv"});c.init();c.download(a,b).then(()=>{c.dispose()})},wMe=function(a,b,c){a=a.map(d=>d.split(",").join(""));a=a.join(",")+"\r\n"+b.map(d=>d.join(",")).join("\r\n");yMe(a,c)},zMe=class{constructor(a){this.chartData=a}download(a){xMe(this,a)}},AMe=class{exportCSV(a){return new zMe(a)}};AMe.\u0275fac=function(a){return new (a||AMe)};AMe.\u0275prov=_.m({token:AMe,factory:AMe.\u0275fac,providedIn:"root"});
var BMe=["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],r8=class{constructor(){this.target=null;this.fullscreenChange$=_.De(...BMe.map(a=>_.ze(document,a)));this.subscription=this.fullscreenChange$.subscribe(()=>{null==document.fullscreenElement&&null==document.mozFullScreenElement&&null==document.webkitFullscreenElement&&null==document.msFullscreenElement&&(this.target=null)})}ngOnDestroy(){this.subscription.unsubscribe()}request(a){this.target=a;a.requestFullscreen?
a.requestFullscreen():a.webkitRequestFullscreen?a.webkitRequestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.msRequestFullscreen&&a.msRequestFullscreen()}exit(){this.target=null;document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()}toggle(a){this.target===a?this.exit():null==this.target&&this.request(a)}status(a){return this.fullscreenChange$.pipe(_.U(()=>
document.fullscreenElement===a||document.mozFullScreenElement===a||document.webkitFullscreenElement===a||document.msFullscreenElement===a),_.yf(this.target===a))}};r8.prototype.toggle=r8.prototype.toggle;r8.\u0275fac=function(a){return new (a||r8)};r8.\u0275prov=_.m({token:r8,factory:r8.\u0275fac,providedIn:"root"});
var CMe=/[\/\?<>\\:\*\|":]/g,DMe=/[\x00-\x1f\x80-\x9f]/g,EMe=/^\.+$/,FMe=/^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i,GMe=/[\. ]+$/,HMe=class{constructor(a,b){this.el=a;this.bgColor=b;this.title=null;this.titleColor="black"}download(a){var b=document.createElement("canvas"),c=this.el.getBoundingClientRect();b.width=2*this.el.offsetWidth;b.height=2*this.el.offsetHeight;let d=0;this.title&&(d=20,b.height+=2*d);const e=b.getContext("2d");if(e){e.beginPath();e.fillStyle=this.bgColor;e.rect(0,0,b.width,
b.height);e.fill();this.title&&(e.save(),e.font="16px roboto",e.fillStyle=this.titleColor,e.scale(2,2),e.textBaseline="top",e.fillText(this.title,10,2),e.restore());var f=Array.from(this.el.querySelectorAll("canvas"));for(const g of f)f=g.getBoundingClientRect(),e.drawImage(g,2*(f.left-c.left),2*(f.top-c.top+d),2*f.width,2*f.height)}c=b.toDataURL("image/png");b.remove();a=a.replace(CMe,"_").replace(DMe,"_").replace(EMe,"_").replace(FMe,"_").replace(GMe,"_").slice(0,252)+".png";b=document.createElement("a");
_.peb(b,_.VCa(c)||_.ak);b.download=a;b.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window}))}setTitle(a,b){this.title=a;this.titleColor=b}},IMe=class{};IMe.\u0275fac=function(a){return new (a||IMe)};IMe.\u0275prov=_.m({token:IMe,factory:IMe.\u0275fac,providedIn:"root"});
var JMe=Object.freeze("1h 6h 1d 1w 1m 6w custom".split(" ")),Oge=function(a){var b=new Date;const c=b.getTime()-pge(a);return new Sge(a,new Tge(new Date(c),b))},Sge=class{constructor(a,b){this.timeRange=a;this.domain=b}};
var KMe=class{constructor(){this.isZoomed=!1;this.resetZoom=new _.$k}};KMe.\u0275fac=function(a){return new (a||KMe)};
KMe.\u0275cmp=_.q({type:KMe,selectors:[["me-reset-zoom-button"]],inputs:{isZoomed:"isZoomed"},outputs:{resetZoom:"resetZoom"},decls:1,vars:1,consts:function(){return[["aria-label","Reset chart zoom","class","me-reset-zoom-button ac-button no-style plain-enabled",3,"click",4,"ngIf"],["aria-label","Reset chart zoom",1,"me-reset-zoom-button","ac-button","no-style","plain-enabled",3,"click"],["svgIcon","ac:zoom_out",1,"icon","mat-18","ac-pointer"]]},template:function(a,b){a&1&&_.P(0,qge,2,0,"button",
0);a&2&&_.C("ngIf",b.isZoomed)},dependencies:[_.ll,_.vo],styles:["button.me-reset-zoom-button[_ngcontent-%COMP%]{line-height:32px}button.me-reset-zoom-button[_ngcontent-%COMP%]     .mat-icon{vertical-align:middle;height:32px}\n/*# sourceMappingURL=reset_zoom_button_style.css.map */"],changeDetection:0});
var LMe=class{constructor(a,b){this.target=a;this.targetElement=b;this.value=this.target.value}},MMe=class{constructor(a,b,c){this._elementRef=a;this._dateAdapter=b;this._dateFormats=c;this.dateChange=new _.$k;this.dateInput=new _.$k;this.stateChanges=new _.tf;this._onTouched=()=>{};this._validatorOnChange=()=>{};this._cvaOnChange=()=>{};this._localeSubscription=this._valueChangesSubscription=_.be.EMPTY;this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}};
this._filterValidator=d=>{d=t6(this._dateAdapter,this._dateAdapter.deserialize(d.value));return!d||this._matchesFilter(d)?null:{matDatepickerFilter:!0}};this._minValidator=d=>{d=t6(this._dateAdapter,this._dateAdapter.deserialize(d.value));const e=this._getMinDate();return!e||!d||0>=u6(this._dateAdapter,e,d)?null:{matDatepickerMin:{min:e,actual:d}}};this._maxValidator=d=>{d=t6(this._dateAdapter,this._dateAdapter.deserialize(d.value));const e=this._getMaxDate();return!e||!d||0<=u6(this._dateAdapter,
e,d)?null:{matDatepickerMax:{max:e,actual:d}}};this._lastValueValid=!1;this._localeSubscription=b.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(a){this._assignValueProgrammatically(a)}get disabled(){return!!this._disabled||!1}set disabled(a){a=_.Lg(a);const b=this._elementRef.nativeElement;this._disabled!==a&&(this._disabled=a,this.stateChanges.next(void 0));a&&
this._isInitialized&&b.blur&&b.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(a){this._model=a;this._valueChangesSubscription.unsubscribe();this._pendingValue&&this._assignValue(this._pendingValue);this._valueChangesSubscription=this._model.selectionChanged.subscribe(b=>{this._shouldHandleChangeEvent(b)&&(b=this._getValueFromModel(b.selection),this._lastValueValid=this._isValidValue(b),this._cvaOnChange(b),this._onTouched(),
this._formatValue(b),this.dateInput.emit(new LMe(this,this._elementRef.nativeElement)),this.dateChange.emit(new LMe(this,this._elementRef.nativeElement)))})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(a){a:{var b=this._dateAdapter;const c=Object.keys(a);for(let d of c){const {previousValue:e,currentValue:f}=a[d];if(b.isDateInstance(e)&&b.isDateInstance(f)){if(!v6(b,e,f)){a=!0;break a}}else{a=!0;break a}}a=!1}a&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe();
this._localeSubscription.unsubscribe();this.stateChanges.complete()}registerOnValidatorChange(a){this._validatorOnChange=a}validate(a){return this._validator?this._validator(a):null}writeValue(a){this._assignValueProgrammatically(a)}registerOnChange(a){this._cvaOnChange=a}registerOnTouched(a){this._onTouched=a}setDisabledState(a){this.disabled=a}_onKeydown(a){a.altKey&&40===a.keyCode&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),a.preventDefault())}_onInput(a){const b=this._lastValueValid;
let c=this._dateAdapter.parse(a,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(c);c=t6(this._dateAdapter,c);const d=!v6(this._dateAdapter,c,this.value);!c||d?this._cvaOnChange(c):(a&&!this.value&&this._cvaOnChange(c),b!==this._lastValueValid&&this._validatorOnChange());d&&(this._assignValue(c),this.dateInput.emit(new LMe(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new LMe(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value);
this._onTouched()}_formatValue(a){this._elementRef.nativeElement.value=null!=a?this._dateAdapter.format(a,this._dateFormats.display.dateInput):""}_assignValue(a){this._model?(this._assignValueToModel(a),this._pendingValue=null):this._pendingValue=a}_isValidValue(a){return!a||this._dateAdapter.isValid(a)}_parentDisabled(){return!1}_assignValueProgrammatically(a){a=this._dateAdapter.deserialize(a);this._lastValueValid=this._isValidValue(a);a=t6(this._dateAdapter,a);this._assignValue(a);this._formatValue(a)}_matchesFilter(a){const b=
this._getDateFilter();return!b||b(a)}};MMe.\u0275fac=function(a){return new (a||MMe)(_.A(_.ad),_.A(w6,8),_.A(_.ho,8))};MMe.\u0275dir=_.q({type:MMe,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[_.Gc]});
var NMe={provide:_.qw,useExisting:_.rc(()=>s8),multi:!0},OMe={provide:_.rw,useExisting:_.rc(()=>s8),multi:!0},s8=class extends MMe{constructor(a,b,c,d){super(a,b,c);this._formField=d;this._closedSubscription=_.be.EMPTY;this._validator=_.jw(super._getValidators())}set matDatepicker(a){a&&(this._datepicker=a,this._closedSubscription=a.closedStream.subscribe(()=>this._onTouched()),this._registerModel(a.registerInput(this)))}get min(){return this._min}set min(a){a=t6(this._dateAdapter,this._dateAdapter.deserialize(a));
v6(this._dateAdapter,a,this._min)||(this._min=a,this._validatorOnChange())}get max(){return this._max}set max(a){a=t6(this._dateAdapter,this._dateAdapter.deserialize(a));v6(this._dateAdapter,a,this._max)||(this._max=a,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(a){const b=this._matchesFilter(this.value);this._dateFilter=a;this._matchesFilter(this.value)!==b&&this._validatorOnChange()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():
this._elementRef}ngOnDestroy(){super.ngOnDestroy();this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(a){return a}_assignValueToModel(a){this._model&&this._model.updateSelection(a,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(a){return a.source!==this}};s8.\u0275fac=function(a){return new (a||s8)(_.A(_.ad),_.A(w6,8),_.A(_.ho,8),_.A(_.yr,8))};
s8.\u0275dir=_.q({type:s8,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(a,b){a&1&&_.L("input",function(c){return b._onInput(c.target.value)})("change",function(){return b._onChange()})("blur",function(){return b._onBlur()})("keydown",function(c){return b._onKeydown(c)});a&2&&(_.Gd("disabled",b.disabled),_.zd("aria-haspopup",b._datepicker?"dialog":null)("aria-owns",(null==b._datepicker?null:b._datepicker.opened)&&b._datepicker.id||null)("min",
b.min?b._dateAdapter.toIso8601(b.min):null)("max",b.max?b._dateAdapter.toIso8601(b.max):null)("data-mat-calendar",b._datepicker?b._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[_.Wd([NMe,OMe,{provide:_.Ukb,useExisting:s8}]),_.wd]});
var t8=class{constructor(){this.changes=new _.tf;this.openCalendarLabel="Open calendar";this.closeCalendarLabel="Close calendar"}};t8.\u0275fac=function(a){return new (a||t8)};t8.\u0275prov=_.m({token:t8,factory:t8.\u0275fac,providedIn:"root"});
var PMe=["button"],QMe=[[["","matDatepickerToggleIcon",""]]],RMe=class{};RMe.\u0275fac=function(a){return new (a||RMe)};RMe.\u0275dir=_.q({type:RMe,selectors:[["","matDatepickerToggleIcon",""]]});
var SMe=class{constructor(a,b,c){this._intl=a;this._changeDetectorRef=b;this._stateChanges=_.be.EMPTY;this.tabIndex=(c=Number(c))||0===c?c:null}get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(a){this._disabled=_.Lg(a)}ngOnChanges(a){a.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(a){this.datepicker&&!this.disabled&&(this.datepicker.open(),
a.stopPropagation())}_watchStateChanges(){const a=this.datepicker?this.datepicker.stateChanges:_.S(),b=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:_.S(),c=this.datepicker?_.De(this.datepicker.openedStream,this.datepicker.closedStream):_.S();this._stateChanges.unsubscribe();this._stateChanges=_.De(this._intl.changes,a,b,c).subscribe(()=>this._changeDetectorRef.markForCheck())}};SMe.\u0275fac=function(a){return new (a||SMe)(_.A(t8),_.A(_.el),_.Vc("tabindex"))};
SMe.\u0275cmp=_.q({type:SMe,selectors:[["mat-datepicker-toggle"]],contentQueries:function(a,b,c){a&1&&_.Pe(c,RMe,5);if(a&2){let d;_.Ne(d=_.Qe())&&(b._customIcon=d.first)}},viewQuery:function(a,b){a&1&&_.Oe(PMe,5);if(a&2){let c;_.Ne(c=_.Qe())&&(b._button=c.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(a,b){a&1&&_.L("click",function(c){return b._open(c)});a&2&&(_.zd("tabindex",null)("data-mat-calendar",b.datepicker?b.datepicker.id:null),_.Bd("mat-datepicker-toggle-active",
b.datepicker&&b.datepicker.opened)("mat-accent",b.datepicker&&"accent"===b.datepicker.color)("mat-warn",b.datepicker&&"warn"===b.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[_.Gc],ngContentSelectors:["[matDatepickerToggleIcon]"],decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class",
"mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(a,b){a&1&&(_.Pd(QMe),_.E(0,"button",0,1),_.P(2,rge,2,0,"svg",2),
_.Qd(3),_.F());a&2&&(_.C("disabled",b.disabled)("disableRipple",b.disableRipple),_.zd("aria-haspopup",b.datepicker?"dialog":null)("aria-label",b.ariaLabel||b._intl.openCalendarLabel)("tabindex",b.disabled?-1:b.tabIndex),_.x(2),_.C("ngIf",!b._customIcon))},dependencies:[_.ll,_.Bp],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}\n"],
encapsulation:2,changeDetection:0});
var u8=class{constructor(a,b){this.selection=a;this._adapter=b;this.selectionChanged=this._selectionChanged=new _.tf;this.selection=a}updateSelection(a,b){const c=this.selection;this.selection=a;this._selectionChanged.next({selection:a,source:b,oldValue:c})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(a){return this._adapter.isDateInstance(a)&&this._adapter.isValid(a)}};u8.\u0275fac=function(){_.dd()};u8.\u0275prov=_.m({token:u8,factory:u8.\u0275fac});
var w8=class extends u8{constructor(a){super(null,a)}add(a){super.updateSelection(a,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const a=new w8(this._adapter);a.updateSelection(this.selection,this);return a}};w8.\u0275fac=function(a){return new (a||w8)(_.p(w6))};w8.\u0275prov=_.m({token:w8,factory:w8.\u0275fac});var TMe={provide:u8,deps:[[new _.Hk,new _.Ik,u8],w6],useFactory:function(a,b){return a||new w8(b)}};
new _.Hk;new _.Ik;
var UMe=class{constructor(a,b,c,d,e={},f=a,g){this.value=a;this.displayValue=b;this.ariaLabel=c;this.enabled=d;this.cssClasses=e;this.compareValue=f;this.rawValue=g}},x8=class{constructor(a,b){this._elementRef=a;this._ngZone=b;this._focusActiveCellAfterViewChecked=!1;this.numCols=7;this.activeCell=0;this.isRange=!1;this.cellAspectRatio=1;this.previewEnd=this.previewStart=null;this.selectedValueChange=new _.$k;this.previewChange=new _.$k;this.activeDateChange=new _.$k;this._enterHandler=c=>{if(this._skipNextFocus&&
"focus"===c.type)this._skipNextFocus=!1;else if(c.target&&this.isRange){const d=this._getCellFromElement(c.target);d&&this._ngZone.run(()=>this.previewChange.emit({value:d.enabled?d:null,event:c}))}};this._leaveHandler=c=>{null!==this.previewEnd&&this.isRange&&c.target&&this._getCellFromElement(c.target)&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:c}))};b.runOutsideAngular(()=>{const c=a.nativeElement;c.addEventListener("mouseenter",this._enterHandler,!0);c.addEventListener("focus",
this._enterHandler,!0);c.addEventListener("mouseleave",this._leaveHandler,!0);c.addEventListener("blur",this._leaveHandler,!0)})}ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}_cellClicked(a,b){a.enabled&&this.selectedValueChange.emit({value:a.value,event:b})}_emitActiveDateChange(a,b){a.enabled&&this.activeDateChange.emit({value:a.value,event:b})}_isSelected(a){return this.startValue===a||this.endValue===a}ngOnChanges(a){const b=
a.numCols,c=this.rows,d=this.numCols;if(a.rows||b)this._firstRowOffset=c&&c.length&&c[0].length?d-c[0].length:0;if(a.cellAspectRatio||b||!this._cellPadding)this._cellPadding=`${50*this.cellAspectRatio/d}%`;if(b||!this._cellWidth)this._cellWidth=`${100/d}%`}ngOnDestroy(){const a=this._elementRef.nativeElement;a.removeEventListener("mouseenter",this._enterHandler,!0);a.removeEventListener("focus",this._enterHandler,!0);a.removeEventListener("mouseleave",this._leaveHandler,!0);a.removeEventListener("blur",
this._leaveHandler,!0)}_isActiveCell(a,b){b=a*this.numCols+b;a&&(b-=this._firstRowOffset);return b==this.activeCell}_focusActiveCell(a=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(_.af(1)).subscribe(()=>{setTimeout(()=>{const b=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");b&&(a||(this._skipNextFocus=!0),b.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(a){return wge(a,this.startValue,
this.endValue)}_isRangeEnd(a){return xge(a,this.startValue,this.endValue)}_isInRange(a){return yge(a,this.startValue,this.endValue,this.isRange)}_isComparisonStart(a){return wge(a,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(a,b,c){if(!this._isComparisonStart(a)||this._isRangeStart(a)||!this._isInRange(a))return!1;a=this.rows[b][c-1];a||(a=(b=this.rows[b-1])&&b[b.length-1]);return a&&!this._isRangeEnd(a.compareValue)}_isComparisonBridgeEnd(a,b,c){if(!this._isComparisonEnd(a)||
this._isRangeEnd(a)||!this._isInRange(a))return!1;a=this.rows[b][c+1];a||(a=(b=this.rows[b+1])&&b[0]);return a&&!this._isRangeStart(a.compareValue)}_isComparisonEnd(a){return xge(a,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(a){return yge(a,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(a){return this.comparisonStart===this.comparisonEnd&&a===this.comparisonStart}_isPreviewStart(a){return wge(a,this.previewStart,this.previewEnd)}_isPreviewEnd(a){return xge(a,
this.previewStart,this.previewEnd)}_isInPreview(a){return yge(a,this.previewStart,this.previewEnd,this.isRange)}_getCellFromElement(a){if("TD"===a.nodeName)var b=a;else"TD"===a.parentNode.nodeName&&(b=a.parentNode);return b&&(a=b.getAttribute("data-mat-row"),b=b.getAttribute("data-mat-col"),a&&b)?this.rows[parseInt(a)][parseInt(b)]:null}};x8.\u0275fac=function(a){return new (a||x8)(_.A(_.ad),_.A(_.Jf))};
x8.\u0275cmp=_.q({type:x8,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd"},outputs:{selectedValueChange:"selectedValueChange",
previewChange:"previewChange",activeDateChange:"activeDateChange"},exportAs:["matCalendarBody"],features:[_.Gc],attrs:["mat-calendar-body",""],decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role",
"gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(a,b){a&1&&(_.P(0,sge,3,6,"tr",0),_.P(1,vge,3,2,"tr",1));a&2&&(_.C("ngIf",b._firstRowOffset<b.labelMinRequiredCells),_.x(1),_.C("ngForOf",b.rows))},dependencies:[_.qx,_.kl,_.ll],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}\n'],
encapsulation:2,changeDetection:0});
var VMe=new _.Zc("MAT_DATE_RANGE_SELECTION_STRATEGY");new _.Hk;new _.Ik;
var WMe=class{constructor(a,b,c,d,e){this._changeDetectorRef=a;this._dateFormats=b;this._dateAdapter=c;this._dir=d;this._rangeStrategy=e;this._rerenderSubscription=_.be.EMPTY;this.selectedChange=new _.$k;this._userSelection=new _.$k;this.activeDateChange=new _.$k;this._activeDate=_.pE()}get activeDate(){return this._activeDate}set activeDate(a){const b=this._activeDate;a=t6(this._dateAdapter,this._dateAdapter.deserialize(a))||_.pE();this._activeDate=Eze(this._dateAdapter,a,this.minDate,this.maxDate);
this._hasSameMonthAndYear(b,this._activeDate)||this._init()}get selected(){return this._selected}set selected(a){this._selected=t6(this._dateAdapter,this._dateAdapter.deserialize(a));this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(a){this._minDate=t6(this._dateAdapter,this._dateAdapter.deserialize(a))}get maxDate(){return this._maxDate}set maxDate(a){this._maxDate=t6(this._dateAdapter,this._dateAdapter.deserialize(a))}ngAfterContentInit(){this._rerenderSubscription=
this._dateAdapter.localeChanges.pipe(_.yf(null)).subscribe(()=>this._init())}ngOnChanges(a){(a=a.comparisonStart||a.comparisonEnd)&&!a.firstChange&&this._setRanges(this.selected)}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(a){const b=a.value,c=this._getDateFromDayOfMonth(b);let d;(d=this._getDateInCurrentMonth(this._selected))===b&&d===b||this.selectedChange.emit(c);this._userSelection.emit({value:c,event:a.event});this._previewStart=this._previewEnd=null;this._changeDetectorRef.markForCheck()}_updateActiveDate(a){const b=
this._activeDate;this.activeDate=this._getDateFromDayOfMonth(a.value);u6(this._dateAdapter,b,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(a){const b=this._activeDate,c=this._isRtl();switch(a.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,c?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,c?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);
break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=a.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,
-1);break;case 34:this.activeDate=a.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:this._selectionKeyPressed=!0;this._canSelect(this._activeDate)&&a.preventDefault();return;case 27:null==this._previewEnd||_.Gg(a)||(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:a}),a.preventDefault(),a.stopPropagation());return;default:return}u6(this._dateAdapter,
b,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked());a.preventDefault()}_handleCalendarBodyKeyup(a){if(32===a.keyCode||13===a.keyCode)this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:a}),this._selectionKeyPressed=!1}_init(){this._setRanges(this.selected);this._todayDate=this._getCellCompareValue(_.pE());this._monthLabel=this._dateFormats.display.monthLabel?
this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let a=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(a)-this._dateAdapter.firstDayOfWeek_)%7;this._initWeekdays();this._createWeekCells();this._changeDetectorRef.markForCheck()}_focusActiveCell(a){this._matCalendarBody._focusActiveCell(a)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:a,
value:b}){this._rangeStrategy&&(a=this._rangeStrategy.createPreview(b?b.rawValue:null,this.selected,a),this._previewStart=this._getCellCompareValue(a.start),this._previewEnd=this._getCellCompareValue(a.end),this._changeDetectorRef.detectChanges())}_getDateFromDayOfMonth(a){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),a)}_initWeekdays(){const a=this._dateAdapter.firstDayOfWeek_,b=this._dateAdapter.getDayOfWeekNames("narrow");
let c=this._dateAdapter.getDayOfWeekNames("long").map((d,e)=>({long:d,narrow:b[e]}));this._weekdays=c.slice(a).concat(c.slice(0,a))}_createWeekCells(){const a=this._dateAdapter.getNumDaysInMonth(this.activeDate),b=this._dateAdapter.getDateNames();this._weeks=[[]];for(let c=0,d=this._firstWeekOffset;c<a;c++,d++){7==d&&(this._weeks.push([]),d=0);const e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),c+1),f=this._shouldEnableDate(e),
g=this._dateAdapter.format(e,this._dateFormats.display.dateA11yLabel),h=this.dateClass?this.dateClass(e,"month"):void 0;this._weeks[this._weeks.length-1].push(new UMe(c+1,b[c],g,f,h,this._getCellCompareValue(e),e))}}_shouldEnableDate(a){return!!a&&(!this.minDate||0<=u6(this._dateAdapter,a,this.minDate))&&(!this.maxDate||0>=u6(this._dateAdapter,a,this.maxDate))&&(!this.dateFilter||this.dateFilter(a))}_getDateInCurrentMonth(a){return a&&this._hasSameMonthAndYear(a,this.activeDate)?this._dateAdapter.getDate(a):
null}_hasSameMonthAndYear(a,b){return!(!a||!b||this._dateAdapter.getMonth(a)!=this._dateAdapter.getMonth(b)||this._dateAdapter.getYear(a)!=this._dateAdapter.getYear(b))}_getCellCompareValue(a){return a?(new Date(this._dateAdapter.getYear(a),this._dateAdapter.getMonth(a),this._dateAdapter.getDate(a))).getTime():null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(a){this._rangeStart=this._rangeEnd=this._getCellCompareValue(a);this._isRange=!1;this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart);
this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(a){return!this.dateFilter||this.dateFilter(a)}};WMe.\u0275fac=function(a){return new (a||WMe)(_.A(_.el),_.A(_.ho,8),_.A(w6,8),_.A(_.In,8),_.A(VMe,8))};
WMe.\u0275cmp=_.q({type:WMe,selectors:[["mat-month-view"]],viewQuery:function(a,b){a&1&&_.Oe(x8,5);if(a&2){let c;_.Ne(c=_.Qe())&&(b._matCalendarBody=c.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[_.Gc],
decls:7,vars:13,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","selectedValueChange","activeDateChange","previewChange","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],
["aria-hidden","true"]],template:function(a,b){a&1&&(_.E(0,"table",0)(1,"thead",1)(2,"tr"),_.P(3,zge,5,2,"th",2),_.F(),_.E(4,"tr"),_.I(5,"th",3),_.F()(),_.E(6,"tbody",4),_.L("selectedValueChange",function(c){return b._dateSelected(c)})("activeDateChange",function(c){return b._updateActiveDate(c)})("previewChange",function(c){return b._previewChanged(c)})("keyup",function(c){return b._handleCalendarBodyKeyup(c)})("keydown",function(c){return b._handleCalendarBodyKeydown(c)}),_.F()());a&2&&(_.x(3),
_.C("ngForOf",b._weekdays),_.x(3),_.C("label",b._monthLabel)("rows",b._weeks)("todayValue",b._todayDate)("startValue",b._rangeStart)("endValue",b._rangeEnd)("comparisonStart",b._comparisonRangeStart)("comparisonEnd",b._comparisonRangeEnd)("previewStart",b._previewStart)("previewEnd",b._previewEnd)("isRange",b._isRange)("labelMinRequiredCells",3)("activeCell",b._dateAdapter.getDate(b.activeDate)-1))},dependencies:[_.kl,x8],encapsulation:2,changeDetection:0});
var XMe=class{constructor(a,b,c){this._changeDetectorRef=a;this._dateAdapter=b;this._dir=c;this._rerenderSubscription=_.be.EMPTY;this.selectedChange=new _.$k;this.yearSelected=new _.$k;this.activeDateChange=new _.$k;this._activeDate=_.pE()}get activeDate(){return this._activeDate}set activeDate(a){let b=this._activeDate;a=t6(this._dateAdapter,this._dateAdapter.deserialize(a))||_.pE();this._activeDate=Eze(this._dateAdapter,a,this.minDate,this.maxDate);Bge(this._dateAdapter,b,this._activeDate,this.minDate,
this.maxDate)||this._init()}get selected(){return this._selected}set selected(a){this._selected=t6(this._dateAdapter,this._dateAdapter.deserialize(a));this._setSelectedYear(a)}get minDate(){return this._minDate}set minDate(a){this._minDate=t6(this._dateAdapter,this._dateAdapter.deserialize(a))}get maxDate(){return this._maxDate}set maxDate(a){this._maxDate=t6(this._dateAdapter,this._dateAdapter.deserialize(a))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(_.yf(null)).subscribe(()=>
this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(_.pE());const a=this._dateAdapter.getYear(this._activeDate)-Cge(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let b=0,c=[];24>b;b++)c.push(a+b),4==c.length&&(this._years.push(c.map(d=>this._createCellForYear(d))),c=[]);this._changeDetectorRef.markForCheck()}_yearSelected(a){var b=a.value;a=this._dateAdapter.createDate(b,0,1);b=this._getDateFromYear(b);
this.yearSelected.emit(a);this.selectedChange.emit(b)}_updateActiveDate(a){const b=this._activeDate;this.activeDate=this._getDateFromYear(a.value);u6(this._dateAdapter,b,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(a){const b=this._activeDate,c=this._isRtl();switch(a.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,c?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,c?-1:1);break;
case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Cge(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-Cge(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,
a.altKey?-240:-24);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,a.altKey?240:24);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}u6(this._dateAdapter,b,this.activeDate)&&this.activeDateChange.emit(this.activeDate);this._focusActiveCellAfterViewChecked();a.preventDefault()}_handleCalendarBodyKeyup(a){if(32===a.keyCode||13===a.keyCode)this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:a}),
this._selectionKeyPressed=!1}_getActiveCell(){return Cge(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(a){const b=this._dateAdapter.getMonth(this.activeDate),c=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(a,b,1));return this._dateAdapter.createDate(a,b,Math.min(this._dateAdapter.getDate(this.activeDate),
c))}_createCellForYear(a){var b=this._dateAdapter.createDate(a,0,1);const c=this._dateAdapter.getYearName(b);b=this.dateClass?this.dateClass(b,"multi-year"):void 0;return new UMe(a,c,c,this._shouldEnableYear(a),b)}_shouldEnableYear(a){if(void 0===a||null===a||this.maxDate&&a>this._dateAdapter.getYear(this.maxDate)||this.minDate&&a<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(var b=this._dateAdapter.createDate(a,0,1);this._dateAdapter.getYear(b)==a;b=this._dateAdapter.addCalendarDays(b,
1))if(this.dateFilter(b))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(a){this._selectedYear=null;a&&(this._selectedYear=this._dateAdapter.getYear(a))}};XMe.\u0275fac=function(a){return new (a||XMe)(_.A(_.el),_.A(w6,8),_.A(_.In,8))};
XMe.\u0275cmp=_.q({type:XMe,selectors:[["mat-multi-year-view"]],viewQuery:function(a,b){a&1&&_.Oe(x8,5);if(a&2){let c;_.Ne(c=_.Qe())&&(b._matCalendarBody=c.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden",
"true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(a,b){a&1&&(_.E(0,"table",0)(1,"thead",1)(2,"tr"),_.I(3,"th",2),_.F()(),_.E(4,"tbody",3),_.L("selectedValueChange",function(c){return b._yearSelected(c)})("activeDateChange",function(c){return b._updateActiveDate(c)})("keyup",
function(c){return b._handleCalendarBodyKeyup(c)})("keydown",function(c){return b._handleCalendarBodyKeydown(c)}),_.F()());a&2&&(_.x(4),_.C("rows",b._years)("todayValue",b._todayYear)("startValue",b._selectedYear)("endValue",b._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",b._getActiveCell()))},dependencies:[x8],encapsulation:2,changeDetection:0});
var YMe=class{constructor(a,b,c,d){this._changeDetectorRef=a;this._dateFormats=b;this._dateAdapter=c;this._dir=d;this._rerenderSubscription=_.be.EMPTY;this.selectedChange=new _.$k;this.monthSelected=new _.$k;this.activeDateChange=new _.$k;this._activeDate=_.pE()}get activeDate(){return this._activeDate}set activeDate(a){let b=this._activeDate;a=t6(this._dateAdapter,this._dateAdapter.deserialize(a))||_.pE();this._activeDate=Eze(this._dateAdapter,a,this.minDate,this.maxDate);this._dateAdapter.getYear(b)!==
this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(a){this._selected=t6(this._dateAdapter,this._dateAdapter.deserialize(a));this._setSelectedMonth(a)}get minDate(){return this._minDate}set minDate(a){this._minDate=t6(this._dateAdapter,this._dateAdapter.deserialize(a))}get maxDate(){return this._maxDate}set maxDate(a){this._maxDate=t6(this._dateAdapter,this._dateAdapter.deserialize(a))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(_.yf(null)).subscribe(()=>
this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(a){a=a.value;const b=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),a,1);this.monthSelected.emit(b);a=this._getDateFromMonth(a);this.selectedChange.emit(a)}_updateActiveDate(a){const b=this._activeDate;this.activeDate=this._getDateFromMonth(a.value);u6(this._dateAdapter,b,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(a){const b=this._activeDate,c=
this._isRtl();switch(a.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,c?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,c?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));
break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,a.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,a.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}u6(this._dateAdapter,b,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked());
a.preventDefault()}_handleCalendarBodyKeyup(a){if(32===a.keyCode||13===a.keyCode)this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:a}),this._selectionKeyPressed=!1}_init(){this._setSelectedMonth(this.selected);this._todayMonth=this._getMonthInCurrentYear(_.pE());this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let a=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(b=>b.map(c=>this._createCellForMonth(c,
a[c])));this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(a){return a&&this._dateAdapter.getYear(a)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(a):null}_getDateFromMonth(a){var b=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),a,1);b=this._dateAdapter.getNumDaysInMonth(b);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),
a,Math.min(this._dateAdapter.getDate(this.activeDate),b))}_createCellForMonth(a,b){var c=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),a,1);const d=this._dateAdapter.format(c,this._dateFormats.display.monthYearA11yLabel);c=this.dateClass?this.dateClass(c,"year"):void 0;return new UMe(a,b.toLocaleUpperCase(),d,this._shouldEnableMonth(a),c)}_shouldEnableMonth(a){var b=this._dateAdapter.getYear(this.activeDate);if(void 0===a||null===a||this._isYearAndMonthAfterMaxDate(b,a)||
this._isYearAndMonthBeforeMinDate(b,a))return!1;if(!this.dateFilter)return!0;for(b=this._dateAdapter.createDate(b,a,1);this._dateAdapter.getMonth(b)==a;b=this._dateAdapter.addCalendarDays(b,1))if(this.dateFilter(b))return!0;return!1}_isYearAndMonthAfterMaxDate(a,b){if(this.maxDate){const c=this._dateAdapter.getYear(this.maxDate),d=this._dateAdapter.getMonth(this.maxDate);return a>c||a===c&&b>d}return!1}_isYearAndMonthBeforeMinDate(a,b){if(this.minDate){const c=this._dateAdapter.getYear(this.minDate),
d=this._dateAdapter.getMonth(this.minDate);return a<c||a===c&&b<d}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(a){this._selectedMonth=this._getMonthInCurrentYear(a)}};YMe.\u0275fac=function(a){return new (a||YMe)(_.A(_.el),_.A(_.ho,8),_.A(w6,8),_.A(_.In,8))};
YMe.\u0275cmp=_.q({type:YMe,selectors:[["mat-year-view"]],viewQuery:function(a,b){a&1&&_.Oe(x8,5);if(a&2){let c;_.Ne(c=_.Qe())&&(b._matCalendarBody=c.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden",
"true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(a,b){a&1&&(_.E(0,"table",0)(1,"thead",1)(2,"tr"),_.I(3,"th",2),_.F()(),_.E(4,"tbody",3),_.L("selectedValueChange",function(c){return b._monthSelected(c)})("activeDateChange",function(c){return b._updateActiveDate(c)})("keyup",
function(c){return b._handleCalendarBodyKeyup(c)})("keydown",function(c){return b._handleCalendarBodyKeydown(c)}),_.F()());a&2&&(_.x(4),_.C("label",b._yearLabel)("rows",b._months)("todayValue",b._todayMonth)("startValue",b._selectedMonth)("endValue",b._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",b._dateAdapter.getMonth(b.activeDate)))},dependencies:[x8],encapsulation:2,changeDetection:0});
var ZMe=0,$Me=class{constructor(a,b,c,d,e){this._intl=a;this.calendar=b;this._dateAdapter=c;this._dateFormats=d;this._buttonDescriptionId=`mat-calendar-button-${ZMe++}`;this.calendar.stateChanges.subscribe(()=>e.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);
var a=this._dateAdapter.getYear(this.calendar.activeDate)-Cge(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),b=a+24-1;a=this._dateAdapter.getYearName(this._dateAdapter.createDate(a,0,1));b=this._dateAdapter.getYearName(this._dateAdapter.createDate(b,0,1));return`${a} \u2013 ${b}`}get periodButtonLabel(){return"month"==this.calendar.currentView?"Choose month and year":"Choose date"}get prevButtonLabel(){return{month:"Previous month",year:"Previous year","multi-year":"Previous 24 years"}[this.calendar.currentView]}get nextButtonLabel(){return{month:"Next month",
year:"Next year","multi-year":"Next 24 years"}[this.calendar.currentView]}_isSameView(a,b){return"month"==this.calendar.currentView?this._dateAdapter.getYear(a)==this._dateAdapter.getYear(b)&&this._dateAdapter.getMonth(a)==this._dateAdapter.getMonth(b):"year"==this.calendar.currentView?this._dateAdapter.getYear(a)==this._dateAdapter.getYear(b):Bge(this._dateAdapter,a,b,this.calendar.minDate,this.calendar.maxDate)}};
$Me.\u0275fac=function(a){return new (a||$Me)(_.A(t8),_.A(_.rc(()=>y8)),_.A(w6,8),_.A(_.ho,8),_.A(_.el))};
$Me.\u0275cmp=_.q({type:$Me,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:["*"],decls:11,vars:10,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["viewBox","0 0 10 5","focusable","false",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],
["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(a,b){a&1&&(_.Pd(),_.E(0,"div",0)(1,"div",1)(2,"button",2),_.L("click",function(){b.calendar.currentView="month"==b.calendar.currentView?"multi-year":"month"}),_.E(3,"span"),_.Q(4),_.F(),_.Uc(),_.E(5,"svg",3),_.I(6,"polygon",4),_.F()(),_.Oc.currentNamespace=null,_.I(7,"div",5),_.Qd(8),_.E(9,"button",6),_.L("click",function(){b.calendar.activeDate="month"==b.calendar.currentView?b._dateAdapter.addCalendarMonths(b.calendar.activeDate,
-1):b._dateAdapter.addCalendarYears(b.calendar.activeDate,"year"==b.calendar.currentView?-1:-24)}),_.F(),_.E(10,"button",7),_.L("click",function(){b.calendar.activeDate="month"==b.calendar.currentView?b._dateAdapter.addCalendarMonths(b.calendar.activeDate,1):b._dateAdapter.addCalendarYears(b.calendar.activeDate,"year"==b.calendar.currentView?1:24)}),_.F()()());a&2&&(_.x(2),_.zd("aria-label",b.periodButtonLabel)("aria-describedby",b._buttonDescriptionId),_.x(1),_.zd("id",b._buttonDescriptionId),_.x(1),
_.Ud(b.periodButtonText),_.x(1),_.Bd("mat-calendar-invert","month"!==b.calendar.currentView),_.x(4),_.C("disabled",!(b.calendar.minDate?!b.calendar.minDate||!b._isSameView(b.calendar.activeDate,b.calendar.minDate):1)),_.zd("aria-label",b.prevButtonLabel),_.x(1),_.C("disabled",!(!b.calendar.maxDate||!b._isSameView(b.calendar.activeDate,b.calendar.maxDate))),_.zd("aria-label",b.nextButtonLabel))},dependencies:[_.Bp],encapsulation:2,changeDetection:0});
var y8=class{constructor(a,b,c,d){this._dateAdapter=b;this._dateFormats=c;this._changeDetectorRef=d;this._moveFocusOnNextTick=!1;this.startView="month";this.selectedChange=new _.$k;this.yearSelected=new _.$k;this.monthSelected=new _.$k;this.viewChanged=new _.$k(!0);this._userSelection=new _.$k;this.stateChanges=new _.tf;this._intlChanges=a.changes.subscribe(()=>{d.markForCheck();this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(a){this._startAt=t6(this._dateAdapter,this._dateAdapter.deserialize(a))}get selected(){return this._selected}set selected(a){this._selected=
t6(this._dateAdapter,this._dateAdapter.deserialize(a))}get minDate(){return this._minDate}set minDate(a){this._minDate=t6(this._dateAdapter,this._dateAdapter.deserialize(a))}get maxDate(){return this._maxDate}set maxDate(a){this._maxDate=t6(this._dateAdapter,this._dateAdapter.deserialize(a))}get activeDate(){return this._clampedActiveDate}set activeDate(a){this._clampedActiveDate=Eze(this._dateAdapter,a,this.minDate,this.maxDate);this.stateChanges.next();this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(a){const b=
this._currentView!==a?a:null;this._currentView=a;this._moveFocusOnNextTick=!0;this._changeDetectorRef.markForCheck();b&&this.viewChanged.emit(b)}ngAfterContentInit(){this._calendarHeaderPortal=new _.Zn(this.headerComponent||$Me);this.activeDate=this.startAt||_.pE();this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this._getCurrentViewComponent()._focusActiveCell(!1))}ngOnDestroy(){this._intlChanges.unsubscribe();this.stateChanges.complete()}ngOnChanges(a){const b=
a.minDate&&!v6(this._dateAdapter,a.minDate.previousValue,a.minDate.currentValue)?a.minDate:void 0,c=a.maxDate&&!v6(this._dateAdapter,a.maxDate.previousValue,a.maxDate.currentValue)?a.maxDate:void 0;(a=b||c||a.dateFilter)&&!a.firstChange&&(a=this._getCurrentViewComponent())&&(this._changeDetectorRef.detectChanges(),a._init());this.stateChanges.next()}_dateSelected(a){const b=a.value;b&&!v6(this._dateAdapter,b,this.selected)&&this.selectedChange.emit(b);this._userSelection.emit(a)}_yearSelectedInMultiYearView(a){this.yearSelected.emit(a)}_monthSelectedInYearView(a){this.monthSelected.emit(a)}_goToDateInView(a,
b){this.activeDate=a;this.currentView=b}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}};y8.\u0275fac=function(a){return new (a||y8)(_.A(t8),_.A(w6,8),_.A(_.ho,8),_.A(_.el))};
y8.\u0275cmp=_.q({type:y8,selectors:[["mat-calendar"]],viewQuery:function(a,b){a&1&&(_.Oe(WMe,5),_.Oe(YMe,5),_.Oe(XMe,5));if(a&2){let c;_.Ne(c=_.Qe())&&(b.monthView=c.first);_.Ne(c=_.Qe())&&(b.yearView=c.first);_.Ne(c=_.Qe())&&(b.multiYearView=c.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",
comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[_.Wd([TMe]),_.Gc],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection",
4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate",
"dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(a,b){a&1&&(_.P(0,Dge,0,0,"ng-template",0),_.E(1,"div",1),_.P(2,Ege,1,8,"mat-month-view",2),_.P(3,Fge,1,6,"mat-year-view",3),_.P(4,Gge,1,6,"mat-multi-year-view",4),_.F());a&2&&(_.C("cdkPortalOutlet",b._calendarHeaderPortal),_.x(1),_.C("ngSwitch",b.currentView),_.x(1),_.C("ngSwitchCase","month"),
_.x(1),_.C("ngSwitchCase","year"),_.x(1),_.C("ngSwitchCase","multi-year"))},dependencies:[_.ml,_.nl,_.yD,_.bo,WMe,YMe,XMe],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}\n'],
encapsulation:2,changeDetection:0});
var aNe=_.Ug("transformPanel",[_.Yg("void => enter-dropdown",_.Vg("120ms cubic-bezier(0, 0, 0.2, 1)",{type:5,steps:[_.Wg({opacity:0,transform:"scale(1, 0.8)"}),_.Wg({opacity:1,transform:"scale(1, 1)"})]})),_.Yg("void => enter-dialog",_.Vg("150ms cubic-bezier(0, 0, 0.2, 1)",{type:5,steps:[_.Wg({opacity:0,transform:"scale(0.7)"}),_.Wg({transform:"none",opacity:1})]})),_.Yg("* => void",_.Vg("100ms linear",_.Wg({opacity:0})))]),bNe=_.Ug("fadeInCalendar",[_.Xg("void",_.Wg({opacity:0})),_.Xg("enter",_.Wg({opacity:1})),
_.Yg("void => *",_.Vg("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))]);
var cNe=0,dNe=new _.Zc("mat-datepicker-scroll-strategy"),eNe=_.Qg(class{constructor(a){this._elementRef=a}}),fNe=class extends eNe{constructor(a,b,c,d,e,f){super(a);this._changeDetectorRef=b;this._globalModel=c;this._dateAdapter=d;this._rangeSelectionStrategy=e;this._subscriptions=new _.be;this._animationDone=new _.tf;this._actionsPortal=null;this._closeButtonText=f.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>
{this._changeDetectorRef.markForCheck()}));this._calendar._getCurrentViewComponent()._focusActiveCell(!1)}ngOnDestroy(){this._subscriptions.unsubscribe();this._animationDone.complete()}_handleUserSelection(a){const b=this._model.selection;a=a.value;!a||v6(this._dateAdapter,a,b)||this._model.add(a);this._model&&!this._model.isComplete()||this._actionsPortal||this.datepicker.close()}_startExitAnimation(){this._animationState="void";this._changeDetectorRef.markForCheck()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==
this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(a,b){this._model=a?this._globalModel.clone():this._globalModel;this._actionsPortal=a;b&&this._changeDetectorRef.detectChanges()}};fNe.\u0275fac=function(a){return new (a||fNe)(_.A(_.ad),_.A(_.el),_.A(u8),_.A(w6),_.A(VMe,8),_.A(t8))};
fNe.\u0275cmp=_.q({type:fNe,selectors:[["mat-datepicker-content"]],viewQuery:function(a,b){a&1&&_.Oe(y8,5);if(a&2){let c;_.Ne(c=_.Qe())&&(b._calendar=c.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(a,b){a&1&&_.zia("@transformPanel.done",function(){return b._animationDone.next()});a&2&&(_.Oha("@transformPanel",b._animationState),_.Bd("mat-datepicker-content-touch",b.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[_.wd],decls:5,
vars:24,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","yearSelected","monthSelected","viewChanged","_userSelection"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(a,b){a&1&&(_.E(0,"div",0)(1,"mat-calendar",1),_.L("yearSelected",
function(c){return b.datepicker._selectYear(c)})("monthSelected",function(c){return b.datepicker._selectMonth(c)})("viewChanged",function(c){return b.datepicker._viewChanged(c)})("_userSelection",function(c){return b._handleUserSelection(c)}),_.F(),_.P(2,Hge,0,0,"ng-template",2),_.E(3,"button",3),_.L("focus",function(){return b._closeButtonFocused=!0})("blur",function(){return b._closeButtonFocused=!1})("click",function(){return b.datepicker.close()}),_.Q(4),_.F()());if(a&2){let c;_.Bd("mat-datepicker-content-container-with-custom-header",
b.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",b._actionsPortal);_.zd("aria-modal",!0)("aria-labelledby",null!==(c=b._dialogLabelId)&&void 0!==c?c:void 0);_.x(1);_.C("id",b.datepicker.id)("ngClass",b.datepicker.panelClass)("startAt",b.datepicker.startAt)("startView",b.datepicker.startView)("minDate",b.datepicker._getMinDate())("maxDate",b.datepicker._getMaxDate())("dateFilter",b.datepicker._getDateFilter())("headerComponent",b.datepicker.calendarHeaderComponent)("selected",
b._model.selection)("dateClass",b.datepicker.dateClass)("comparisonStart",b.comparisonStart)("comparisonEnd",b.comparisonEnd)("@fadeInCalendar","enter");_.x(1);_.C("cdkPortalOutlet",b._actionsPortal);_.x(1);_.Bd("cdk-visually-hidden",!b._closeButtonFocused);_.C("color",b.color||"primary");_.x(1);_.Ud(b._closeButtonText)}},dependencies:[_.qx,_.Bp,_.mx,_.bo,y8],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}\n"],
encapsulation:2,data:{animation:[aNe,bNe]},changeDetection:0});
var gNe=class{constructor(a,b,c,d,e,f,g){this._overlay=a;this._ngZone=b;this._viewContainerRef=c;this._dateAdapter=e;this._dir=f;this._model=g;this._inputStateChanges=_.be.EMPTY;this.startView="month";this._touchUi=!1;this.xPosition="start";this.yPosition="below";this._restoreFocus=!0;this.yearSelected=new _.$k;this.monthSelected=new _.$k;this.viewChanged=new _.$k(!0);this.openedStream=new _.$k;this.closedStream=new _.$k;this._opened=!1;this.id=`mat-datepicker-${cNe++}`;this._focusedElementBeforeOpen=
null;this._backdropHarnessClass=`${this.id}-backdrop`;this.stateChanges=new _.tf;this._scrollStrategy=d}get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.value:null)}set startAt(a){this._startAt=t6(this._dateAdapter,this._dateAdapter.deserialize(a))}get color(){var a;(a=this._color)||(this.datepickerInput?(a=this.datepickerInput,a=a._formField?a._formField.color:void 0):a=void 0);return a}set color(a){this._color=a}get touchUi(){return this._touchUi}set touchUi(a){this._touchUi=
_.Lg(a)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(a){a=_.Lg(a);a!==this._disabled&&(this._disabled=a,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(a){this._restoreFocus=_.Lg(a)}get panelClass(){return this._panelClass}set panelClass(a){this._panelClass=_.wIb(a)}get opened(){return this._opened}set opened(a){_.Lg(a)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&
this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}ngOnChanges(a){(a=a.xPosition||a.yPosition)&&!a.firstChange&&this._overlayRef&&(a=this._overlayRef.getConfig().positionStrategy,a instanceof _.yfb&&(this._setConnectedPositions(a),this.opened&&this._overlayRef.updatePosition()));this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay();this.close();this._inputStateChanges.unsubscribe();
this.stateChanges.complete()}select(a){this._model.add(a)}_selectYear(a){this.yearSelected.emit(a)}_selectMonth(a){this.monthSelected.emit(a)}_viewChanged(a){this.viewChanged.emit(a)}registerInput(a){this._inputStateChanges.unsubscribe();this.datepickerInput=a;this._inputStateChanges=a.stateChanges.subscribe(()=>this.stateChanges.next(void 0));return this._model}open(){this._opened||this.disabled||(this._focusedElementBeforeOpen=_.Ppa(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(this._opened){if(this._componentRef){var a=
this._componentRef.instance;a._startExitAnimation();a._animationDone.pipe(_.af(1)).subscribe(()=>this._destroyOverlay())}a=()=>{this._opened&&(this._opened=!1,this.closedStream.emit(),this._focusedElementBeforeOpen=null)};this._restoreFocus&&this._focusedElementBeforeOpen&&"function"===typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(a)):a()}}_applyPendingSelection(){let a,b;null==(a=this._componentRef)||null==(b=a.instance)||b._applyPendingSelection()}_forwardContentValues(a){a.datepicker=
this;a.color=this.color;var b=this.datepickerInput;b=b._formField?_.LAb(b._formField):b._elementRef.nativeElement.getAttribute("aria-labelledby");a._dialogLabelId=b;a._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const a=this.touchUi,b=new _.Zn(fNe,this._viewContainerRef),c=this._overlayRef=this._overlay.create(new _.Xn({positionStrategy:a?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[a?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",
this._backdropHarnessClass],direction:this._dir,scrollStrategy:a?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:`mat-datepicker-${a?"dialog":"popup"}`}));this._getCloseStream(c).subscribe(d=>{d&&d.preventDefault();this.close()});c.keydownEvents().subscribe(d=>{const e=d.keyCode;38!==e&&40!==e&&37!==e&&39!==e&&33!==e&&34!==e||d.preventDefault()});this._componentRef=c.attach(b);this._forwardContentValues(this._componentRef.instance);a||this._ngZone.onStable.pipe(_.af(1)).subscribe(()=>
c.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return _.wUa(_.vUa(this._overlay.position().global()))}_getDropdownStrategy(){const a=_.wx(_.Kjb(_.nv(_.Njb(_.ov(this._overlay.position(),this.datepickerInput.getConnectedOverlayOrigin()),".mat-datepicker-content"),!1),8));return this._setConnectedPositions(a)}_setConnectedPositions(a){const b="end"===this.xPosition?"end":"start",c="start"===b?"end":"start",
d="above"===this.yPosition?"bottom":"top",e="top"===d?"bottom":"top";return _.mv(a,[{originX:b,originY:e,overlayX:b,overlayY:d},{originX:b,originY:d,overlayX:b,overlayY:e},{originX:c,originY:e,overlayX:c,overlayY:d},{originX:c,originY:d,overlayX:c,overlayY:e}])}_getCloseStream(a){return _.De(a.backdropClick(),a._detachments,a.keydownEvents().pipe(_.Ge(b=>27===b.keyCode&&!_.Gg(b)||this.datepickerInput&&_.Gg(b,"altKey")&&38===b.keyCode)))}};
gNe.\u0275fac=function(a){return new (a||gNe)(_.A(_.eo),_.A(_.Jf),_.A(_.Me),_.A(dNe),_.A(w6,8),_.A(_.In,8),_.A(u8))};
gNe.\u0275dir=_.q({type:gNe,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[_.Gc]});
var z8=class extends gNe{};z8.\u0275fac=function(){let a;return function(b){return(a||(a=_.Xc(z8)))(b||z8)}}();z8.\u0275cmp=_.q({type:z8,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[_.Wd([TMe,{provide:gNe,useExisting:z8}]),_.wd],decls:0,vars:0,template:function(){},encapsulation:2,changeDetection:0});
new _.Zc("MAT_DATE_RANGE_INPUT_PARENT");
var hNe=class{constructor(){this.formGroupErrors=["startAfterEndError"]}isErrorState(a){if(!a||!a.touched)return!1;if(a.invalid)return!0;a=a.parent;for(const b of this.formGroupErrors)if(a.hasError(b))return!0;return!1}};
var iNe=function(a){var b=a.get("startDate");const c=a.get("startTime"),d=a.get("endDate");a=a.get("endTime");if(b&&b.valid&&c&&c.valid&&d&&d.valid&&a&&a.valid){const [e,f]=c.value.split(":"),[g,h]=a.value.split(":");b=[new Date(b.value.getTime()),new Date(d.value.getTime())];b[0].setHours(Number(e));b[0].setMinutes(Number(f));b[1].setHours(Number(g));b[1].setMinutes(Number(h));return b}return null},jNe=class{constructor(a){this.ve=f7;this.startAfterEndErrorMatcher=new hNe;this.innerCurrentDomain=
Mge();this.close=new _.$k;this.maxDate=new Date;this.minStartDate=new Date;_.DN.isWhitelisted("chart-two-year-retention")?this.maxWeeksAgo=105:this.maxWeeksAgo=6;this.minStartDate.setDate(this.maxDate.getDate()-7*this.maxWeeksAgo);this.form=a.group({startDate:[this.currentDomain[0],_.Dy],startTime:[Nge(this.currentDomain[0]),_.Dy],endDate:[this.currentDomain[1],_.Dy],endTime:[Nge(this.currentDomain[1]),_.Dy]},{validator:b=>{b=iNe(b);return null!==b?b[0].getTime()>b[1].getTime()?{startAfterEndError:!0}:
null:null}})}set currentDomain(a){a&&2===a.length&&this.form.setValue({startDate:a[0],startTime:Nge(a[0]),endDate:a[1],endTime:Nge(a[1])})}get currentDomain(){return this.innerCurrentDomain}submit(){const a=iNe(this.form);this.close.next(a)}};jNe.\u0275fac=function(a){return new (a||jNe)(_.A(_.CH))};
jNe.\u0275cmp=_.q({type:jNe,selectors:[["sd-domain-range-selector"]],inputs:{currentDomain:"currentDomain"},outputs:{close:"close"},decls:31,vars:31,consts:[[1,"domain-range-selector",3,"ve"],[1,"domain-form",3,"formGroup"],[1,"domain-form__start"],["matInput","","formControlName","startDate","placeholder","Start date",1,"no-sd-style",3,"matDatepicker","min","max","ve","veClick","click"],["matSuffix","",3,"for","ve","veClick"],["matDatepickerToggleIcon","",1,"ac-mat-icon"],["svgIcon","ac:baseline-calendar_today-24px"],
[4,"ngIf"],["startDatePicker",""],["matInput","","placeholder","Start time","type","time","formControlName","startTime",1,"no-sd-style",3,"ve","veClick"],[1,"domain-form__end"],["matInput","","formControlName","endDate","placeholder","End date",1,"no-sd-style",3,"max","matDatepicker","errorStateMatcher","ve","veClick","click"],["endDatePicker",""],["matInput","","placeholder","End time","type","time","formControlName","endTime",1,"no-sd-style",3,"ve","veClick"],[1,"domain-form__buttons"],["mat-stroked-button",
"","color","primary","type","submit",1,"sd-button","dark-theme-lighten-border",3,"disabled","ve","veClick","click"],["mat-stroked-button","","type","button",1,"sd-button","dark-theme-lighten-border",3,"ve","veClick","click"]],template:function(a,b){if(a&1){const c=_.Pc();_.E(0,"div",0)(1,"form",1)(2,"div",2)(3,"mat-form-field")(4,"input",3);_.L("click",function(){_.t(c);const d=_.Rd(11);return _.u(d.open())});_.F();_.E(5,"mat-datepicker-toggle",4)(6,"div",5);_.I(7,"mat-icon",6);_.F()();_.P(8,Ige,
2,1,"mat-error",7);_.P(9,Jge,2,0,"mat-error",7);_.I(10,"mat-datepicker",null,8);_.F();_.E(12,"mat-form-field");_.I(13,"input",9);_.F()();_.E(14,"div",10)(15,"mat-form-field")(16,"input",11);_.L("click",function(){_.t(c);const d=_.Rd(21);return _.u(d.open())});_.F();_.E(17,"mat-datepicker-toggle",4)(18,"div",5);_.I(19,"mat-icon",6);_.F()();_.I(20,"mat-datepicker",null,12);_.P(22,Kge,2,0,"mat-error",7);_.P(23,Lge,2,0,"mat-error",7);_.F();_.E(24,"mat-form-field");_.I(25,"input",13);_.F()();_.E(26,"div",
14)(27,"button",15);_.L("click",function(){return b.submit()});_.Q(28,"Select");_.F();_.E(29,"button",16);_.L("click",function(){return b.close.next(null)});_.Q(30,"Cancel");_.F()()()()}if(a&2){const c=_.Rd(11),d=_.Rd(21);_.C("ve",b.ve.CustomRangePicker);_.x(1);_.C("formGroup",b.form);_.x(3);_.C("matDatepicker",c)("min",b.minStartDate)("max",b.maxDate)("ve",b.ve.StartDateInput)("veClick",!0);_.x(1);_.C("for",c)("ve",b.ve.StartDateInput)("veClick",!0);_.x(3);_.C("ngIf",b.form.controls.startDate.hasError("matDatepickerMin"));
_.x(1);_.C("ngIf",b.form.controls.startDate.hasError("matDatepickerMax"));_.x(4);_.C("ve",b.ve.StartTimeInput)("veClick",!0);_.x(3);_.C("max",b.maxDate)("matDatepicker",d)("errorStateMatcher",b.startAfterEndErrorMatcher)("ve",b.ve.EndDateInput)("veClick",!0);_.x(1);_.C("for",d)("ve",b.ve.EndDateInput)("veClick",!0);_.x(5);_.C("ngIf",b.form.controls.endDate.hasError("matDatepickerMax"));_.x(1);_.C("ngIf",b.form.hasError("startAfterEndError"));_.x(2);_.C("ve",b.ve.EndTimeInput)("veClick",!0);_.x(2);
_.C("disabled",!b.form.valid)("ve",b.ve.SaveButton)("veClick",!0);_.x(2);_.C("ve",b.ve.CancelButton)("veClick",!0)}},dependencies:[_.ll,_.Bp,_.CB,_.Cy,_.qF,_.GB,z8,s8,SMe,RMe,_.EB,_.mw,_.cy,_.DB,_.Fw,_.Iw,_.wt,_.vo],styles:["[_nghost-%COMP%]   textarea[_ngcontent-%COMP%], [_nghost-%COMP%]   input[_ngcontent-%COMP%], [_nghost-%COMP%]   textarea[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   textarea[_ngcontent-%COMP%]:hover:focus, [_nghost-%COMP%]   input[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   input[_ngcontent-%COMP%]:hover:focus, [_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus, [_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus:invalid, [_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus:invalid:focus, [_nghost-%COMP%]   textarea[_ngcontent-%COMP%]:focus:invalid, [_nghost-%COMP%]   textarea[_ngcontent-%COMP%]:focus:invalid:focus{border:none !important}.domain-range-selector[_ngcontent-%COMP%]{display:flex;flex-direction:column}.domain-form[_ngcontent-%COMP%]{margin:8px 0;display:flex;flex-direction:column}.domain-form[_ngcontent-%COMP%]     mat-datepicker-toggle .mat-icon-button{width:24px;height:24px}.domain-form[_ngcontent-%COMP%]     .mat-form-field-flex{height:44px}.domain-form__start[_ngcontent-%COMP%], .domain-form__end[_ngcontent-%COMP%]{display:flex}.domain-form__start[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]:first-child, .domain-form__end[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]:first-child{margin-right:4px}.domain-form__buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-right:4px}.mat-datepicker-toggle[_ngcontent-%COMP%]{position:relative;top:-4px}mat-form-field[_ngcontent-%COMP%]{margin-bottom:8px}.ac-mat-icon[_ngcontent-%COMP%]{width:24px;height:24px;line-height:24px;display:inline-block;overflow:hidden;fill:#777;box-sizing:content-box}.ac-mat-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{min-height:0;min-width:0;vertical-align:inherit;height:100%;width:100%;color:inherit;fill:inherit}.ac-mat-icon[_ngcontent-%COMP%]   mat-icon.svgeventcon[_ngcontent-%COMP%]{padding-top:4px;width:16px;height:18px;line-height:18px}\n/*# sourceMappingURL=domain_range_selector.css.map */"],
changeDetection:0});
var kNe=["customMenuTrigger"],Pge=function(a,b){switch(b){case "1h":return a.ve.OneHourToggle;case "6h":return a.ve.SixHourToggle;case "1d":return a.ve.OneDayToggle;case "1w":return a.ve.OneWeekToggle;case "1m":return a.ve.OneMonthToggle;case "6w":return a.ve.SixWeekToggle}},lNe=function(a){return a.selectedTimeRange&&a.selectedTimeRange.domain&&(a=Goe(a.selectedTimeRange.domain))&&2===a.length&&a[0]&&a[1]?a:null},mNe=class{constructor(){this.selectedTimeRange=Oge("1h");this.showCustom=!1;this.selectedTimeRangeChange=
new _.$k;this.ve=f7;this.currentDomain=null;this.TIME_RANGE_VALUES=JMe;this.currentDomain=lNe(this)}ngOnChanges(a){a.selectedTimeRange&&(this.currentDomain=lNe(this))}};mNe.\u0275fac=function(a){return new (a||mNe)};
mNe.\u0275cmp=_.q({type:mNe,selectors:[["me-time-range-selector"]],viewQuery:function(a,b){a&1&&_.Oe(kNe,5);if(a&2){let c;_.Ne(c=_.Qe())&&(b.customMenuTrigger=c.first)}},inputs:{selectedTimeRange:"selectedTimeRange",showCustom:"showCustom"},outputs:{selectedTimeRangeChange:"selectedTimeRangeChange"},features:[_.Gc],decls:3,vars:3,consts:[[1,"me-time-range-selector",3,"ve"],[4,"ngFor","ngForOf"],[4,"ngIf"],["type","button","class","time-range-button ac-button no-style ac-pointer plain-enabled",3,"ve",
"veClick","enabled","click",4,"ngIf"],["type","button",1,"time-range-button","ac-button","no-style","ac-pointer","plain-enabled",3,"ve","veClick","click"],[1,"domain-range-selector-mat-menu"],["customMenu","matMenu"],[3,"currentDomain","click","close"],["type","button",1,"time-range-button","ac-button","no-style","ac-pointer","plain-enabled",3,"ve","veClick","mat-menu-trigger-for"],["customMenuTrigger","matMenuTrigger"]],template:function(a,b){a&1&&(_.E(0,"div",0),_.P(1,Rge,2,1,"span",1),_.P(2,Uge,
7,6,"span",2),_.F());a&2&&(_.C("ve",b.ve.TimeSelectorPicker),_.x(1),_.C("ngForOf",b.TIME_RANGE_VALUES),_.x(1),_.C("ngIf",b.showCustom))},dependencies:[_.kl,_.ll,jNe,_.Ix,y6,_.wt],styles:["button.time-range-button[_ngcontent-%COMP%]{line-height:32px}\n/*# sourceMappingURL=time_range_selector_style.css.map */"]});
var nNe=class{constructor(){this.timeRangeAndDomain=Oge("1h");this.showCustom=this.isZoomed=!1;this.timeRangeAndDomainChange=new _.$k;this.onClose=new _.$k;this.resetZoom=new _.$k}};nNe.\u0275fac=function(a){return new (a||nNe)};
nNe.\u0275cmp=_.q({type:nNe,selectors:[["ac-full-panel-chart-control-panel"]],inputs:{timeRangeAndDomain:"timeRangeAndDomain",isZoomed:"isZoomed",showCustom:"showCustom"},outputs:{timeRangeAndDomainChange:"timeRangeAndDomainChange",onClose:"onClose",resetZoom:"resetZoom"},decls:9,vars:3,consts:[[1,"full-panel-chart-control-panel"],[1,"mid-spacing"],[3,"isZoomed","resetZoom"],[1,"full-panel-chart-time-range-selector"],[3,"selectedTimeRange","showCustom","selectedTimeRangeChange"],["mat-button","",
1,"mat-button","full-panel-chart-close-button",3,"click"]],template:function(a,b){a&1&&(_.E(0,"div",0)(1,"mat-toolbar")(2,"mat-toolbar-row"),_.I(3,"span",1),_.E(4,"me-reset-zoom-button",2),_.L("resetZoom",function(){return b.resetZoom.emit()}),_.F(),_.E(5,"div",3)(6,"me-time-range-selector",4),_.L("selectedTimeRangeChange",function(c){return b.timeRangeAndDomainChange.emit(c)}),_.F()(),_.E(7,"button",5),_.L("click",function(){return b.onClose.emit()}),_.Q(8,"Close"),_.F()()()());a&2&&(_.x(4),_.C("isZoomed",
b.isZoomed),_.x(2),_.C("selectedTimeRange",b.timeRangeAndDomain)("showCustom",b.showCustom))},dependencies:[mNe,KMe,_.Bp,_.WC,_.VC],styles:["[_nghost-%COMP%]{width:100%}.full-panel-chart-control-panel[_ngcontent-%COMP%]{height:48px;min-height:48px}.full-panel-chart-control-panel[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{height:48px;min-height:48px;margin-bottom:24px}.full-panel-chart-control-panel[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]   .mat-toolbar-row[_ngcontent-%COMP%]{height:48px;min-height:48px}.full-panel-chart-control-panel[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]    .mat-toolbar-row-implicit{display:none}.full-panel-chart-control-panel[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]     .ac-button.no-style{background:none;border:0}.full-panel-chart-control-panel[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]     .ac-button.no-style.enabled{color:#2196f3}.full-panel-chart-control-panel[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]   .mid-spacing[_ngcontent-%COMP%]{flex:1 1 auto}\n/*# sourceMappingURL=full_panel_chart_control_panel_style.css.map */"],
changeDetection:0});
var she=Math.sqrt(50),the=Math.sqrt(10),uhe=Math.sqrt(2),oNe=Math.pow(1E3,-8),pNe=Math.pow(1E3,-7),qNe=Math.pow(1E3,-6),rNe=Math.pow(1E3,-5),sNe=Math.pow(1E3,-4),tNe=Math.pow(1E3,-3),uNe=Math.pow(1E3,-2),vNe=Math.pow(1E3,-1),wNe=Math.pow(100,-1),xNe=Math.pow(1E3,1),yNe=Math.pow(1E3,2),zNe=Math.pow(1E3,3),ANe=Math.pow(1E3,4),BNe=Math.pow(1E3,5),CNe=Math.pow(1E3,6),DNe=Math.pow(1E3,7),ENe=Math.pow(1E3,8),FNe=Math.pow(1024,1),GNe=Math.pow(1024,2),HNe=Math.pow(1024,3),INe=Math.pow(1024,4),JNe=Math.pow(1024,
5),KNe=Math.pow(1024,6),LNe=Math.pow(1024,7),MNe=Math.pow(1024,8),fhe={1:{key:"1",coef:1,base:1},"%":{key:"%",suffix:"%",coef:wNe,base:4},ratio:{key:"ratio",coef:1,base:4},"10^2":{key:"10^2",suffix:"\u00b7100",coef:Math.pow(100,1),base:4},s:{key:"s",suffix:"s",coef:1,base:5},min:{key:"min",suffix:"min",coef:60,base:5},h:{key:"h",suffix:"h",coef:3600,base:5},d:{key:"d",suffix:"d",coef:86400,base:5},w:{key:"w",suffix:"w",coef:604800,base:5},By:{key:"By",suffix:"B",coef:1,base:2,scale:2},"\u00a2":{key:"\u00a2",
suffix:"\u00a2",coef:wNe,base:3},$:{key:"$",prefix:"$",coef:1,base:3}},NNe={1:["count","load","Count","Cycles"],"%":["whole_percent"],"10^2.%":["percent"],s:["second","seconds"],min:["minute","minutes"],h:["hour","hours"],d:["day","days"],By:["byte","bytes","BY"],kBy:["KB","KBy","kB"],MBy:["MB"],GBy:["GB"],TBy:["TB"],KiBy:"kilobyte kilobytes kibibyte kibibytes Ki KIB".split(" "),MiBy:"megabyte megabytes mebibyte mebibytes Mi MIB".split(" "),GiBy:"gigabyte gigabytes gibibyte gibibytes Gi GIB".split(" "),
TiBy:"terabyte terabytes tebibyte tebibytes Ti TIB".split(" "),$:["us_dollar"],"\u00a2":["us_cent"]},jhe=Object.keys(NNe).reduce((a,b)=>{const c=NNe[b];for(const d of c)a[d]=b;return a},{}),ghe={y:{coef:oNe,scale:1},z:{coef:pNe,scale:1},a:{coef:qNe,scale:1},f:{coef:rNe,scale:1},p:{coef:sNe,scale:1},n:{coef:tNe,scale:1},u:{coef:uNe,scale:1},m:{coef:vNe,scale:1},k:{coef:xNe,scale:1},K:{coef:xNe,scale:1},M:{coef:yNe,scale:1},G:{coef:zNe,scale:1},T:{coef:ANe,scale:1},P:{coef:BNe,scale:1},E:{coef:CNe,
scale:1},Z:{coef:DNe,scale:1},Y:{coef:ENe,scale:1},Ki:{coef:FNe,scale:2},Mi:{coef:GNe,scale:2},Gi:{coef:HNe,scale:2},Ti:{coef:INe,scale:2},Pi:{coef:JNe,scale:2},Ei:{coef:KNe,scale:2},Zi:{coef:LNe,scale:2},Yi:{coef:MNe,scale:2}},lhe={["1,1"]:"1kMGTPEZY".split(""),["1,2"]:"By kBy MBy GBy TBy PBy EBy ZBy YBy".split(" "),["2,2"]:"By KiBy MiBy GiBy TiBy PiBy EiBy ZiBy YiBy".split(" "),["1,3"]:"\u00a2 $ k$ M$ G$ T$ P$ E$ Z$ Y$".split(" "),["1,4"]:["%","ratio"],["1,5"]:"ys zs as fs ps ns us ms s min h d w".split(" ")},
ONe=Object.keys(ghe).map(bhe).join("|"),PNe=Object.keys(fhe).map(bhe).join("|"),ehe=new RegExp(`^(${ONe})?(${PNe})?$`),zhe=new _.Sr(8);
var QNe=function(a,b){a.drawListener=b},RNe=function(a){a.drawListener=()=>{}},A8=function(a,b,c){a.lastDrawnDomain={min:b,max:c}},SNe=class{constructor(a){this.base=a;this.canvas=document.createElement("canvas");this.fastResizeBufferMap=new Map;this.lastDrawnDomain=null;this.drawListener=()=>{};this.canvas.setAttribute("aria-hidden","true");this.canvas.style.position="absolute";const b=this.canvas.getContext("2d");if(!b)throw Error("ul");this.ctx=b;a.appendChild(this.canvas)}detach(){this.isAttached()&&
this.base.removeChild(this.canvas)}reattach(){this.isAttached()||this.base.appendChild(this.canvas)}isAttached(){return this.base.contains(this.canvas)}pan(a){this.ctx.save();const b=window.devicePixelRatio||2,c=new Path2D;c.rect(a.clip.left,a.clip.top,a.clip.width,a.clip.height);this.ctx.clip(c);this.ctx.globalCompositeOperation="copy";this.ctx.translate(a.shift,0);this.ctx.drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,this.canvas.width/b,this.canvas.height/b);this.lastDrawnDomain=
{min:a.xAxisMin,max:a.xAxisMax};this.ctx.restore()}resize(a,b,c,d=!1){var e=a.height,f=a.width;a=a.margins;var g=f;let h=e;d&&(g=f-a.left-a.right,h=e-a.top-a.bottom);f=this.fastResizeBufferMap.get(b);f||(e=document.createElement("canvas"),f=e.getContext("2d"),H5(e,b.height,b.width,"transparent",1),0!==b.width&&0!==b.height&&f.drawImage(b,0,0,b.width,b.height,0,0,b.width,b.height),f=c.getTransform&&c.getTransform()||c.getTransform&&c.getTransform(),f={bufferCanvas:e,bufferScaleFactor:f&&(f.a||f.a)||
1},this.fastResizeBufferMap.set(b,f));e=f.bufferCanvas;f=f.bufferScaleFactor;if(d)b.style.left=`${a.left}px`,b.style.top=`${a.top}px`,H5(b,h,g),0!==e.width&&0!==e.height&&c.drawImage(e,0,0,e.width,e.height,0,0,g,h);else{d=g/(e.width/f);f=h/(e.height/f);b.style.left="0px";b.style.top="0px";H5(b,h,g);b=a.left*(1-d);const l=a.top*(1-f);g=g-b-a.right*(1-d);a=h-l-a.bottom*(1-f);0!==e.width&&0!==e.height&&c.drawImage(e,0,0,e.width,e.height,b|0,l|0,g|0,a|0)}}},TNe=class extends SNe{},UNe=function(a,{state:b}){if(!b)return null;
var c=b.resize,d=b.xAxis;if(!c||!d)return null;b=d.min;const e=d.max;if(3!==d.lastUpdateCausedBy||!b||!e||!a.lastDrawnDomain||e-b!==a.lastDrawnDomain.max-a.lastDrawnDomain.min)return null;const f=c.width-c.margins.left-c.margins.right;c=c.height-c.margins.top-c.margins.bottom;return(d=E5(d,0,f))?{shift:d(a.lastDrawnDomain.min)-d(b),xAxisMin:b,xAxisMax:e,clip:{left:0,top:0,width:f,height:c}}:null},B8=function(a,b,c,d,e=!1){(b=b.state)&&(b=b.resize)&&a.resize({height:b.height,width:b.width,margins:b.margins},
c,d,e)},C8=class extends SNe{onConfigChange(){}onResizeChange(){}onXAxisChange(){}onYAxisChange(){}onErrorChange(){}onLoadingChange(){}onBrushChange(){}onSeriesSelectionChange(){}onXAxisPinChange(){}onRefreshChange(){}onTimeSeriesChange(){}onFocusChange(){}onColorScaleChange(){}onColorMapChange(){}};
var VNe={globalAlpha:.4,fillStyle:"#D2E3FC",strokeStyle:"#1967D2",globalCompositeOperation:"source-over"},WNe={globalAlpha:.4,fillStyle:"#4285f4",strokeStyle:"#4285f4",globalCompositeOperation:"source-over"},XNe=function(a,b,c){const d=a.min,e=a.max,f=a.unit,g=a.scaleType,h=a.absoluteMin;if(null===d||null===e)return null;const l=f&&b&&A5(f,b)||1;return 1===g?n=>$ge(d,e,c,0,n,h,l):n=>w5(d*l,e*l,c,0,n)},YNe=function(a,b){const c=b.data;var d=b.state;b=b.config;if(!c||!d||!b)return null;const e=d.resize;
var f=d.xAxis,g=d.yAxis;if(!e||!f||!g)return null;d=e.width-e.margins.left-e.margins.right;const h=e.height-e.margins.top-e.margins.bottom;f=E5(f,0,d);g=XNe(g,c.unit,h);if(!f||!g)return null;a.canvas.style.left=`${e.margins.left}px`;a.canvas.style.top=`${e.margins.top}px`;H5(a.canvas,h,d);return{exemplars:c.exemplars,domainMap:f,rangeMap:g,exemplarSize:b.exemplarSize}},ZNe=function(a,b,c,d,e,f){var g=c.resize,h=c.xAxis,l=c.yAxis;if(!g||!h||!l)return null;var n=g.margins.top;const r=g.margins.left,
v=g.width-g.margins.right;var w=g.height-g.margins.top-g.margins.bottom;c=d-r;const y=e-n;if(e>g.height-g.margins.bottom||e<n||d<r||d>v)return null;d=E5(h,0,g.width-g.margins.left-g.margins.right);e=XNe(l,b.unit,w);if(!d||!e)return null;g=Number.MAX_VALUE;b=b.exemplars;h=null;for(l=0;l<b.length;l++)w=e(b[l].y),n=d(b[l].x.valueOf()),Math.abs(w-y)>f+a.bufferPx||Math.abs(n-c)>f+a.bufferPx||(w=Math.sqrt(Math.pow(w-y,2)+Math.pow(n-c,2)),g>w&&(g=w,h=l));return h},$Ne=class extends C8{constructor(a){super(a);
this.bufferPx=3.5}draw(a,b){this.drawInternal(b)}onResizeChange(a,b){J5(a)&&this.drawInternal(b)}onYAxisChange(a,b){K5(a)&&this.drawInternal(b)}onXAxisChange(a,b){D5(a)&&this.drawInternal(b)}onConfigChange(a,b){this.drawInternal(b)}drawInternal(a){const b=YNe(this,a);if(null!==b){a=a.config;this.ctx.save();0===a.exemplarTheme?G5(this.ctx,VNe):G5(this.ctx,WNe);for(const c of b.exemplars){a=b.domainMap(c.x.valueOf());const d=b.rangeMap(c.y);this.ctx.beginPath();this.ctx.arc(a,d,b.exemplarSize,0,2*Math.PI);
this.ctx.fill();this.ctx.stroke()}this.ctx.restore()}}};
var aOe={globalAlpha:1,lineWidth:1,fillStyle:"#4285f4",strokeStyle:"#4285f4"},bOe={globalAlpha:1,lineWidth:1,fillStyle:"#669DF6",strokeStyle:"#D2E3FC"},cOe=function(a,b,c,d,e){a.ctx.globalAlpha=1;a.ctx.fillStyle="rgba(255, 255, 255, .75)";for(const f of b){b=c(f.x.valueOf());const g=d(f.y);a.ctx.beginPath();a.ctx.arc(b,g,e+a.bufferPx,0,2*Math.PI,!1);a.ctx.fill()}},dOe=function(a,b,c,d,e,f){G5(a.ctx,f);for(const g of b)b=c(g.x.valueOf()),f=d(g.y),a.ctx.beginPath(),a.ctx.arc(b,f,e,0,2*Math.PI),a.ctx.fill(),
a.ctx.beginPath(),a.ctx.arc(b,f,e+a.bufferPx,0,2*Math.PI,!1),a.ctx.stroke()},eOe=function(a,b,c,d,e,f){G5(a.ctx,f);for(const g of b)b=c(g.x.valueOf()),f=d(g.y),a.ctx.beginPath(),a.ctx.arc(b,f,e,0,2*Math.PI,!1),a.ctx.fill(),a.ctx.globalAlpha=.3,a.ctx.lineWidth=a.bufferPx,a.ctx.beginPath(),a.ctx.arc(b,f,e+a.bufferPx/2,0,2*Math.PI,!1),a.ctx.stroke()},fOe=class extends $Ne{onSeriesSelectionChange(a,b){Nhe(a,b.scope.layerId)&&this.drawInternal(b)}drawInternal(a){const b=YNe(this,a);if(null!==b){var c=
a.data,d=a.state,e=a.config;if(c&&0!==c.exemplars.length&&d&&e&&(d=d.seriesSelection)){d=(a=d.byLayer.entities[a.scope.layerId])?a.selectedSeries.map(h=>h):[];var f=[];(a?a.hoveredSeries.map(h=>h):[]).forEach(h=>{f.push(c.exemplars[Number(h.seriesId)])});var g=[];d.forEach(h=>{g.push(c.exemplars[Number(h.seriesId)])});e=0===e.exemplarTheme?bOe:aOe;this.ctx.save();cOe(this,f.concat(g),b.domainMap,b.rangeMap,b.exemplarSize);dOe(this,g,b.domainMap,b.rangeMap,b.exemplarSize,e);eOe(this,f,b.domainMap,
b.rangeMap,b.exemplarSize,e);this.ctx.restore()}}}};
var D8=_.wh("[AC] Add chart",_.xh()),E8=_.wh("[AC] Remove chart",_.xh()),F8=_.wh("[AC] Rename chart",_.xh()),gOe=_.wh("[AC] Remove ChartGroup",_.xh()),hOe=_.wh("[AC] Add X Axis",_.xh()),iOe=_.wh("[AC] Remove X Axis",_.xh()),jOe=_.wh("[AC] Add Layer",_.xh()),kOe=_.wh("[AC] Remove layer",_.xh()),G8=_.wh("[AC] Rename layer",_.xh()),O5=_.wh("[AC] Batch actions",_.xh());
var H8=function(a,b){return a.scopeObservable.pipe(_.zf(c=>a.store.pipe(_.Eh(b(c)))),_.vf(1))},I8=function(a,b){return a.scopeObservable.pipe(_.zf(c=>a.selectorService.getSelection(b,c)),_.vf(1))},lOe=function(a){const b=Object.keys(a);return _.qe(Object.values(a)).pipe(_.U(c=>{const d={};for(let e=0;e<b.length;e++)d[b[e]]=c[e];return d}),_.yf(null),_.qf(),_.U(Q5),_.vf(1))},mOe=class{constructor(a,b){this.store=a;this.selectorService=b;this.setupCalled=!1;this.stateObservableSwitcher=new _.bg(_.S({previousValue:null,
currentValue:null}));this.stateObservableInternal=this.stateObservableSwitcher.pipe(_.zf(c=>c))}set stateObservable(a){this.stateObservableSwitcher.next(a)}get stateObservable(){return this.stateObservableInternal}select(a){let b=void 0;this.scopeObservable.pipe(_.zf(c=>this.selectorService.getSelection(a,c)),_.af(1)).subscribe(c=>{b=c});return b}setup(a){this.setupCalled||(this.stateObservable=lOe(a.stateSelectionObservables),this.setupCalled=!0)}},W5=_.Jta("awesomecharts");
var S5=class{constructor(a){this.getKey=a.getKey;this.getSelector=a.getSelector}},Rhe=_.Hta(function(a){return _.yh(a,She,The)});
var nOe=new S5({getKey:function({chartGroupId:a,chartId:b}){return`chartGroupId:${a},chartId:${b}`},getSelector:({chartGroupId:a,chartId:b})=>_.S(_.zh(Whe(),c=>(null==c?void 0:c.chartGroupId)===a&&(null==c?void 0:c.chartId)===b))});
var Xhe=_.zh(W5,a=>a.refresh);
var Zhe=_.zh(W5,a=>a.resize),oOe=new S5({getKey:({chartId:a})=>a,getSelector:({chartId:a})=>_.S(_.zh(X5({chartId:a}),b=>{if(b)return Math.max(0,b.height-b.margins.top-b.margins.bottom)}))}),pOe=new S5({getKey:({chartId:a})=>a,getSelector:({chartId:a})=>_.S(_.zh(X5({chartId:a}),b=>{if(b)return Math.max(0,b.width-b.margins.left-b.margins.right)}))}),qOe=new S5({getKey:({chartId:a})=>a,getSelector:({chartId:a})=>_.S(_.zh(X5({chartId:a}),b=>{if(b)return Math.max(0,b.margins.top)}))}),rOe=new S5({getKey:({chartId:a})=>
a,getSelector:({chartId:a})=>_.S(_.zh(X5({chartId:a}),b=>{if(b)return Math.max(0,b.margins.left)}))}),sOe=new S5({getKey:({chartId:a})=>a,getSelector:({chartId:a})=>_.S(_.zh(X5({chartId:a}),b=>{if(b)return Math.max(0,b.width-b.margins.right)}))}),tOe=new S5({getKey:({chartId:a})=>a,getSelector:({chartId:a})=>_.S(_.zh(X5({chartId:a}),b=>{if(b)return Math.max(0,b.height-b.margins.bottom)}))}),uOe=T5(({chartId:a})=>a,(a,b)=>{if(void 0!==a&&void 0!==b)return{bodyLeft:a,bodyRight:b}},rOe,sOe),vOe=new S5({getKey:({chartId:a})=>
a,getSelector:({chartId:a})=>_.S(_.zh(X5({chartId:a}),b=>null==b?void 0:b.width))}),wOe=new S5({getKey:({chartId:a})=>a,getSelector:({chartId:a})=>_.S(_.zh(X5({chartId:a}),b=>null==b?void 0:b.height))}),xOe=new S5({getKey:({chartId:a})=>a,getSelector:({chartId:a})=>_.S(_.zh(X5({chartId:a}),b=>null==b?void 0:b.margins))}),yOe=new S5({getKey:({chartId:a,layerId:b})=>`chartId:${a},layerId:${b}`,getSelector:({chartId:a,layerId:b})=>_.S(_.zh(X5({chartId:a}),c=>{let d;return null!=(d=null==c?void 0:c.reservedMarginsByLayer.entities[b])?
d:void 0}))}),zOe=new S5({getKey:({chartId:a})=>a,getSelector:(a,b)=>_.qe([b.getSelector(wOe,a),b.getSelector(vOe,a),b.getSelector(xOe,a)]).pipe(_.U(([c,d,e])=>_.zh(c,d,e,(f,g,h)=>{if(void 0!==f&&0<f&&void 0!==g&&0<g&&void 0!==h)return{height:f,width:g,margins:h}})))}),AOe=T5(Vhe,(a,b,c)=>{if(a&&void 0!==b&&void 0!==c)return Object.assign({},a,{chartWidth:b,chartHeight:c})},T5(Vhe,(a,b,c,d,e,f)=>{if(void 0!==a&&void 0!==b&&void 0!==c&&void 0!==d&&void 0!==e&&void 0!==f)return{bodyTop:a,bodyLeft:b,
bodyRight:c,bodyBottom:d,bodyWidth:e,bodyHeight:f}},qOe,rOe,sOe,tOe,pOe,oOe),vOe,wOe);
var cie={"=":"eq","<":"lt",">":"gt","<=":"lte",">=":"gte","=~":"rgx"};
var $he=_.zh(W5,a=>a.timeSeries);
var eie=_.zh(W5,a=>a.xAxisPin),BOe=new S5({getKey:V5,getSelector:({chartGroupId:a})=>_.S(_.zh(eie,b=>{let c,d;return null!=(d=null==(c=b.entities[a])?void 0:c.xPos)?d:void 0}))}),COe=new S5({getKey:V5,getSelector:({chartGroupId:a})=>_.S(_.zh(eie,b=>{let c;return null==(c=b.entities[a])?void 0:c.locked}))}),DOe=new S5({getKey:V5,getSelector:({chartGroupId:a})=>_.S(_.zh(eie,b=>{let c;return null==(c=b.entities[a])?void 0:c.trackingNow}))});
var EOe=0,J8=function(a,b){a.changeDetectionActionsBatch=a.changeDetectionActionsBatch.concat(b)},FOe=function(a,b){let c=a.eventHandlerRegistry.get(b);c||(c=new Map,a.eventHandlerRegistry.set(b,c));a=c.get("mousemove");a||(a=new Set,c.set("mousemove",a))},GOe=function(a,b){a=a.eventHandlerRegistry.get(b);return a?(a=a.get("mousemove"))?a:new Set:new Set},K8=function(a,b,c,d){GOe(a,b).add(c);d&&d.pipe(_.af(1)).subscribe(()=>{GOe(a,b).delete(c)})},HOe=function(a){if(a.changeDetectionActionsBatch.length){const b=
a.changeDetectionActionsBatch;a.changeDetectionActionsBatch=[];a.store.dispatch(O5({actions:b}))}},L8=class extends mOe{constructor(a,b,c){super(b,c);this.el=a;this.destroyed=new _.tf;this.objectiveChartId=`ac-composable-chart-${EOe++}`;this.boundingClientRectCache=null;this.boundingClientRectCachedAsOf=0;this.chartGroupId="default";this.chartId=this.objectiveChartId;this.title="Untitled";this.scopeObservable=this.scopeSubject=new _.rf(1);this.eventHandlerRegistry=new Map;this.mouseDownObservable=
this.mouseDownSubject=new _.tf;this.mouseUpObservable=this.mouseUpSubject=new _.tf;this.mouseEnterObservable=this.mouseEnterSubject=new _.tf;this.mouseLeaveObservable=this.mouseLeaveSubject=new _.tf;this.mouseClickObservable=this.mouseClickSubject=new _.tf;this.keyDownObservable=this.keyDownSubject=new _.tf;this.syncKeyDownObservable=this.syncKeyDownSubject=new _.tf;this.keyUpObservable=this.keyUpSubject=new _.tf;this.scrollObservable=this.scrollSubject=new _.tf;this.syncScrollObservable=this.syncScrollSubject=
new _.tf;this.documentMouseUpObservable=this.documentMouseUpSubject=new _.tf;this.documentScroll=new _.tf;this.dragStartSubject=new _.tf;this.syncDragStartObservable=this.syncDragStartSubject=new _.tf;this.dragSubject=new _.tf;this.syncDragObservable=this.syncDragSubject=new _.tf;this.dragEndSubject=new _.tf;this.syncDragEndObservable=this.syncDragEndSubject=new _.tf;this.windowCaptureScrollObservable=this.windowCaptureScrollSubject=new _.tf;this.context={scope:{chartGroupId:this.chartGroupId,chartId:this.chartId},
state:null};this.changeDetectionActionsBatch=[];this.defaultStateSelectionObservables={focus:H8(this,Whe),refresh:H8(this,Yhe),resize:H8(this,X5),xAxisPin:H8(this,fie),timeSeries:H8(this,aie)};_.qe([this.scopeObservable,this.stateObservable]).pipe(_.Af(this.destroyed)).subscribe(([d,e])=>{this.context.scope=d;this.context.state=e.currentValue})}setup(a){a=Object.assign({},this.defaultStateSelectionObservables,a.stateSelectionObservables);super.setup({stateSelectionObservables:a});this.scopeObservable.pipe(_.Af(this.destroyed),
_.yf(null),_.qf(),_.U(Q5),_.Gf(this.stateObservable)).subscribe(([b])=>{if(b.currentValue)this.onScopeChange(b)});this.setupStateChangeHandler(a.resize,(b,c)=>this.onResizeChange(R5(b,d=>d.resize),c),"resize");this.setupStateChangeHandler(a.refresh,(b,c)=>this.onRefreshChange(R5(b,d=>d.refresh),c),"refresh");this.setupStateChangeHandler(a.xAxisPin,(b,c)=>this.onXAxisPinChange(R5(b,d=>d.xAxisPin),c),"xAxisPin");this.setupStateChangeHandler(a.timeSeries,(b,c)=>this.onTimeSeriesChange(R5(b,d=>d.timeSeries),
c),"timeSeries");this.setupStateChangeHandler(a.focus,(b,c)=>this.onFocusChange(R5(b,d=>d.focus),c),"focus")}setupStateChangeHandler(a,b,c){if(this.setupCalled&&a){let d=null;a.pipe(hie(this.scopeObservable,this.stateObservable),_.Af(this.destroyed)).subscribe(([e,f])=>{const g={scope:e,state:f.currentValue},h={previousValue:d,currentValue:f.currentValue};d=f.currentValue;this.scheduleStateChangeHandler({changes:h,context:g,componentHandlerUsingContext:b,mergeKey:`${e.chartId}-${c}`,scope:e})})}}onScopeChange(a){const b=
a.previousValue,c=a.currentValue,d=[];c&&(null==b?void 0:b.chartId)!==(null==c?void 0:c.chartId)&&(d.push(F8({chartGroupId:c.chartGroupId,previousChartId:null==b?void 0:b.chartId,currentChartId:c.chartId})),IOe(this.selectorService,a));J8(this,d)}onResizeChange(){}onRefreshChange(){}onXAxisPinChange(){}onTimeSeriesChange(){}onFocusChange(){}withLatest(a){a({scope:this.context.scope,state:this.context.state})}scheduleStateChangeHandler(a){jie(a)?a.viewHandlerUsingContext(a.changes,a.context):lie(a)&&
(a=a.componentHandlerUsingContext(a.changes,a.context))&&a.length&&this.store.dispatch(O5({actions:a}))}scheduleChangeHandler(a){const b=a.changes;iie(a)&&a.viewHandler(b);kie(a)&&(a=a.componentHandler(b))&&a.length&&this.store.dispatch(O5({actions:a}))}getBoundingClientRect(){const a=Date.now();if(!this.boundingClientRectCache||500<a-this.boundingClientRectCachedAsOf){const b=this.el.nativeElement.getBoundingClientRect();this.boundingClientRectCache=b;this.boundingClientRectCachedAsOf=a;return b}return this.boundingClientRectCache}ngOnInit(){this.scopeSubject.next({chartGroupId:this.chartGroupId,
chartId:this.chartId});J8(this,[D8({chartId:this.chartId,chartGroupId:this.chartGroupId})])}ngOnChanges(a){("chartId"in a||"chartGroupId"in a)&&this.scopeSubject.next({chartGroupId:this.chartGroupId,chartId:this.chartId})}ngAfterViewChecked(){HOe(this)}ngOnDestroy(){const a=E8({chartId:this.chartId,chartGroupId:this.chartGroupId});J8(this,[a]);HOe(this);this.destroyed.next();this.destroyed.complete()}};L8.\u0275fac=function(){_.dd()};
L8.\u0275dir=_.q({type:L8,inputs:{chartGroupId:"chartGroupId",chartId:"chartId",title:"title"},features:[_.wd,_.Gc]});
var mie=_.zh(W5,a=>a.brush),JOe=new S5({getKey:V5,getSelector:({chartGroupId:a})=>_.S(_.zh(mie,b=>{let c;return null==(c=b.entities[a])?void 0:c.brushing}))}),KOe=new S5({getKey:V5,getSelector:({chartGroupId:a})=>_.S(_.zh(mie,b=>{let c;return null==(c=b.entities[a])?void 0:c.panning}))}),LOe=new S5({getKey:V5,getSelector:({chartGroupId:a})=>_.S(_.zh(mie,b=>{let c;return null==(c=b.entities[a])?void 0:c.xPosStart}))}),MOe=new S5({getKey:V5,getSelector:({chartGroupId:a})=>_.S(_.zh(mie,b=>{let c;return null==
(c=b.entities[a])?void 0:c.xPos}))}),NOe=new S5({getKey:V5,getSelector:({chartGroupId:a})=>_.S(_.zh(mie,b=>{let c;return null==(c=b.entities[a])?void 0:c.axis}))});
var OOe=_.wh("[AC] Set layer color map",_.xh());
var oie=_.zh(W5,a=>a.colorMap);
var qie=_.zh(W5,a=>a.colorScale);
var POe=_.wh("[AC] Set chart error for source",_.xh()),QOe=_.wh("[AC] Clear chart error for source",_.xh()),ROe=_.wh("[AC] Set non-blocking chart error for source",_.xh()),SOe=_.wh("[AC] Clear chart error for source",_.xh());
var sie=_.zh(W5,a=>a.error);
var TOe=_.wh("[AC] Set focus requirement",_.xh()),UOe=_.wh("[AC] Remove focus requirement",_.xh());
var uie=_.zh(W5,a=>a.lastInteraction);
var VOe=_.wh("[AC] Set chart loading for source",_.xh()),WOe=_.wh("[AC] Clear chart loading for source",_.xh()),XOe=_.wh("[AC] Set chart pause status",_.xh());
var wie=_.zh(W5,a=>a.loading);
var yie=_.zh(W5,a=>a.seriesSelection);
var Bie=_.zh(W5,a=>a.chartSpec);
var M8=_.wh("[AC] Set X Axis requirement",_.xh()),N8=_.wh("[AC] Remove X Axis requirements by priority",_.xh()),YOe=_.wh("[AC] Remove X Axis requirement by id",_.xh()),ZOe=_.wh("[AC] Set X axis relative-to",_.xh()),$Oe=_.wh("[AC] Set X axis timezone offset",_.xh()),aPe=_.wh("[AC] Set X axis time zone ID",_.xh());
var Lie={americaLosAngeles:{id:"America/Los_Angeles",names:["PST","Pacific Standard Time","PDT","Pacific Daylight Time"],names_ext:{STD_LONG_NAME_GMT:"GMT-08:00",STD_GENERIC_LOCATION:"Los Angeles Time",DST_LONG_NAME_GMT:"GMT-07:00",DST_GENERIC_LOCATION:"Los Angeles Time"},std_offset:-480,transitions:[2770,60,7137,0,11506,60,16041,0,20410,60,24777,0,29146,60,33513,0,35194,60,42249,0,45106,60,50985,0,55354,60,59889,0,64090,60,68625,0,72994,60,77361,0,81730,60,86097,0,90466,60,94833,0,99202,60,103569,
0,107938,60,112473,0,116674,60,121209,0,125578,60,129945,0,134314,60,138681,0,143050,60,147417,0,151282,60,156153,0,160018,60,165057,0,168754,60,173793,0,177490,60,182529,0,186394,60,191265,0,195130,60,200001,0,203866,60,208905,0,212602,60,217641,0,221338,60,226377,0,230242,60,235113,0,238978,60,243849,0,247714,60,252585,0,256450,60,261489,0,265186,60,270225,0,273922,60,278961,0,282826,60,287697,0,291562,60,296433,0,300298,60,305337,0,309034,60,314073,0,317770,60,322809,0,326002,60,331713,0,334738,
60,340449,0,343474,60,349185,0,352378,60,358089,0,361114,60,366825,0,369850,60,375561,0,378586,60,384297,0,387322,60,393033,0,396058,60,401769,0,404962,60,410673,0,413698,60,419409,0,422434,60,428145,0,431170,60,436881,0,439906,60,445617,0,448810,60,454521,0,457546,60,463257,0,466282,60,471993,0,475018,60,480729,0,483754,60,489465,0,492490,60,498201,0,501394,60,507105,0,510130,60,515841,0,518866,60,524577,0,527602,60,533313,0,536338,60,542049,0,545242,60,550953,0,553978,60,559689,0,562714,60,568425,
0,571450,60,577161,0,580186,60,585897,0,588922,60,594633,0]},americaNewYork:{id:"America/New_York",names:["EST","Eastern Standard Time","EDT","Eastern Daylight Time"],names_ext:{STD_LONG_NAME_GMT:"GMT-05:00",STD_GENERIC_LOCATION:"New York Time",DST_LONG_NAME_GMT:"GMT-04:00",DST_GENERIC_LOCATION:"New York Time"},std_offset:-300,transitions:[2767,60,7134,0,11503,60,16038,0,20407,60,24774,0,29143,60,33510,0,35191,60,42246,0,45103,60,50982,0,55351,60,59886,0,64087,60,68622,0,72991,60,77358,0,81727,60,
86094,0,90463,60,94830,0,99199,60,103566,0,107935,60,112470,0,116671,60,121206,0,125575,60,129942,0,134311,60,138678,0,143047,60,147414,0,151279,60,156150,0,160015,60,165054,0,168751,60,173790,0,177487,60,182526,0,186391,60,191262,0,195127,60,199998,0,203863,60,208902,0,212599,60,217638,0,221335,60,226374,0,230239,60,235110,0,238975,60,243846,0,247711,60,252582,0,256447,60,261486,0,265183,60,270222,0,273919,60,278958,0,282823,60,287694,0,291559,60,296430,0,300295,60,305334,0,309031,60,314070,0,317767,
60,322806,0,325999,60,331710,0,334735,60,340446,0,343471,60,349182,0,352375,60,358086,0,361111,60,366822,0,369847,60,375558,0,378583,60,384294,0,387319,60,393030,0,396055,60,401766,0,404959,60,410670,0,413695,60,419406,0,422431,60,428142,0,431167,60,436878,0,439903,60,445614,0,448807,60,454518,0,457543,60,463254,0,466279,60,471990,0,475015,60,480726,0,483751,60,489462,0,492487,60,498198,0,501391,60,507102,0,510127,60,515838,0,518863,60,524574,0,527599,60,533310,0,536335,60,542046,0,545239,60,550950,
0,553975,60,559686,0,562711,60,568422,0,571447,60,577158,0,580183,60,585894,0,588919,60,594630,0]},UTC:{id:"UTC",names:["UTC","Coordinated Universal Time"],names_ext:{STD_LONG_NAME_GMT:"GMT",STD_GENERIC_LOCATION:"GMT"},std_offset:0,transitions:[]},americaAnchorage:{id:"America/Anchorage",names:["AKST","Alaska Standard Time","AKDT","Alaska Daylight Time"],names_ext:{STD_LONG_NAME_GMT:"GMT-09:00",STD_GENERIC_LOCATION:"Anchorage Time",DST_LONG_NAME_GMT:"GMT-08:00",DST_GENERIC_LOCATION:"Anchorage Time"},
std_offset:-540,transitions:[2772,60,7139,0,11508,60,16043,0,20412,60,24779,0,29148,60,33515,0,35196,60,42251,0,45108,60,50987,0,55356,60,59891,0,64092,60,68627,0,72996,60,77363,0,81732,60,86099,0,90468,60,94835,0,99204,60,103571,0,107940,60,112475,0,116676,60,121211,0,125579,60,129946,0,134315,60,138682,0,143051,60,147418,0,151283,60,156154,0,160019,60,165058,0,168755,60,173794,0,177491,60,182530,0,186395,60,191266,0,195131,60,200002,0,203867,60,208906,0,212603,60,217642,0,221339,60,226378,0,230243,
60,235114,0,238979,60,243850,0,247715,60,252586,0,256451,60,261490,0,265187,60,270226,0,273923,60,278962,0,282827,60,287698,0,291563,60,296434,0,300299,60,305338,0,309035,60,314074,0,317771,60,322810,0,326003,60,331714,0,334739,60,340450,0,343475,60,349186,0,352379,60,358090,0,361115,60,366826,0,369851,60,375562,0,378587,60,384298,0,387323,60,393034,0,396059,60,401770,0,404963,60,410674,0,413699,60,419410,0,422435,60,428146,0,431171,60,436882,0,439907,60,445618,0,448811,60,454522,0,457547,60,463258,
0,466283,60,471994,0,475019,60,480730,0,483755,60,489466,0,492491,60,498202,0,501395,60,507106,0,510131,60,515842,0,518867,60,524578,0,527603,60,533314,0,536339,60,542050,0,545243,60,550954,0,553979,60,559690,0,562715,60,568426,0,571451,60,577162,0,580187,60,585898,0,588923,60,594634,0]},asiaCalcutta:{id:"Asia/Calcutta",names:["GMT+5:30","India Standard Time"],names_ext:{STD_LONG_NAME_GMT:"GMT+05:30",STD_GENERIC_LOCATION:"India Time"},std_offset:330,transitions:[]}};
var Mie=(new Date).getTimezoneOffset();
var bPe={chartGroupId:"",chartId:"",xAxisId:"chart_group",requirements:[],min:null,max:null,unit:"ms_since_epoch",ticks:[],scaleType:0,lastUpdateCausedBy:0};
var O8=({chartGroupId:a,chartId:b,xAxisId:c})=>d6(a,b,c),P8=({chartGroupId:a,chartId:b,xAxisId:c})=>`chartGroupId:${a},chartId:${b},xAxisKey:${d6(a,b,c)}`,Q8=_.zh(W5,a=>a.xAxis),cPe=new S5({getKey:O8,getSelector:a=>_.S(_.zh(Q8,b=>{let c;return null==(c=b.entities[O8(a)])?void 0:c.requirements}))}),dPe=new S5({getKey:O8,getSelector:a=>_.S(_.zh(Q8,b=>{let c;return null==(c=b.entities[O8(a)])?void 0:c.lastUpdateCausedBy}))}),ePe=new S5({getKey:O8,getSelector:a=>_.S(_.zh(Q8,b=>{let c;return null==(c=
b.entities[O8(a)])?void 0:c.timezoneOffset}))}),fPe=new S5({getKey:O8,getSelector:a=>_.S(_.zh(Q8,b=>{let c;return null==(c=b.entities[O8(a)])?void 0:c.timeZoneId}))}),gPe=T5(P8,(a,b)=>e6(a,b),ePe,fPe),hPe=new S5({getKey:O8,getSelector:a=>_.S(_.zh(Q8,b=>{let c;return null==(c=b.entities[O8(a)])?void 0:c.relativeTo}))}),R8=new S5({getKey:P8,getSelector:(a,b)=>b.getSelection(hPe,a).pipe(_.zf(c=>{let d=a;(null==c?0:c.xAxisId)&&(null==c?0:c.shift)&&(d=Object.assign({},a,{xAxisId:c.xAxisId}));return _.qe([iPe(b,
d),b.getSelector(cPe,d),b.getSelector(dPe,d),b.getSelector(ePe,d),b.getSelector(fPe,d),b.getSelector(pOe,d)]).pipe(_.U(([e,f,g,h,l,n])=>_.Hta(r=>_.yh(r,(v,w)=>v===w,Oie))(f,g,h,l,n,(r,v,w,y,B)=>{if(void 0!==r&&void 0!==v)return e(r,{lastUpdateCausedBy:v,timezoneOffset:w,timeZoneId:y,axisWidth:B,shift:null==c?void 0:c.shift})})))}))}),S8=new S5({getKey:P8,getSelector:(a,b)=>_.qe([b.getSelector(cPe,a),b.getSelector(dPe,a),b.getSelector(ePe,a),b.getSelector(fPe,a),b.getSelector(hPe,a),b.getSelector(R8,
a)]).pipe(_.U(([c,d,e,f,g,h])=>_.zh(c,d,e,f,g,h,(l,n,r,v,w,y)=>{if(void 0!==l&&void 0!==n&&void 0!==y)return Object.assign({},a,{requirements:l,lastUpdateCausedBy:n,timezoneOffset:r,timeZoneId:v,relativeTo:w},y)})))}),jPe=new S5({getKey:P8,getSelector:(a,b)=>b.getSelector(R8,a).pipe(_.U(c=>_.zh(c,d=>{if(void 0!==d)return d.min})))}),kPe=new S5({getKey:P8,getSelector:(a,b)=>b.getSelector(R8,a).pipe(_.U(c=>_.zh(c,d=>{if(void 0!==d)return d.max})))}),lPe=new S5({getKey:P8,getSelector:(a,b)=>b.getSelector(R8,
a).pipe(_.U(c=>_.zh(c,d=>{if(void 0!==d)return d.tickIncrement})))}),mPe=new S5({getKey:P8,getSelector:(a,b)=>b.getSelector(R8,a).pipe(_.U(c=>_.zh(c,d=>{if(void 0!==d)return d.unit})))}),nPe=new S5({getKey:P8,getSelector:(a,b)=>b.getSelector(R8,a).pipe(_.U(c=>_.Hta(d=>_.yh(d,(e,f)=>e===f,(e,f)=>Array.isArray(e)&&Array.isArray(f)?Vge(e,f):e===f))(c,d=>{if(void 0!==d)return d.ticks})))}),oPe=new S5({getKey:P8,getSelector:(a,b)=>_.qe([b.getSelector(jPe,a),b.getSelector(kPe,a),b.getSelector(mPe,a)]).pipe(_.U(([c,
d,e])=>_.zh(c,d,e,(f,g,h)=>{if(null!=f&&null!=g&&void 0!==h)return{min:f,max:g,unit:h}})))});
var T8=_.wh("[AC] Set Y Axis requirement",_.xh()),U8=_.wh("[AC] Remove Y Axis requirements by priority",_.xh()),pPe=_.wh("[AC] Remove Y Axis requirement by id",_.xh()),qPe=_.wh("[AC] Set for Y Axis",_.xh());
var Iie={chartId:"",yAxisId:"right",requirements:[],min:0,max:1,unit:"count",ticks:[],scaleType:0,lastUpdateCausedBy:0,position:"right"};
var rPe=({chartId:a,yAxisId:b})=>`${a},${b}`,sPe=_.zh(W5,a=>a.yAxis),tPe=new S5({getKey:rPe,getSelector:({chartId:a,yAxisId:b})=>_.S(_.zh(sPe,c=>{let d;return null==(d=c.entities[`${a},${b}`])?void 0:d.requirements}))}),uPe=new S5({getKey:rPe,getSelector:({chartId:a,yAxisId:b})=>_.S(_.zh(sPe,c=>{let d;return null==(d=c.entities[`${a},${b}`])?void 0:d.lastUpdateCausedBy}))}),vPe=new S5({getKey:rPe,getSelector:({chartId:a,yAxisId:b})=>_.S(_.zh(sPe,c=>{let d;return null==(d=c.entities[`${a},${b}`])?
void 0:d.position}))}),xPe=new S5({getKey:rPe,getSelector:(a,b)=>_.qe([wPe(b,a),b.getSelector(tPe,a),b.getSelector(uPe,a),b.getSelector(oOe,a)]).pipe(_.U(([c,d,e,f])=>_.Hta(g=>_.yh(g,(h,l)=>h===l,Pie))(d,e,f,(g,h,l)=>{if(void 0!==g&&void 0!==h&&void 0!==l)return c(g,{lastUpdateCausedBy:h,axisHeight:l})})))}),V8=new S5({getKey:rPe,getSelector:(a,b)=>_.qe([b.getSelector(tPe,a),b.getSelector(uPe,a),b.getSelector(vPe,a),b.getSelector(xPe,a)]).pipe(_.U(([c,d,e,f])=>_.zh(c,d,e,f,(g,h,l,n)=>{if(void 0!==
g&&void 0!==h&&void 0!==l&&void 0!==n)return Object.assign({},a,{requirements:g,lastUpdateCausedBy:h,position:l},n)})))});
var yPe=0,W8=function(a,b){a=a.chart.getBoundingClientRect();return{x:b.clientX-a.left,y:b.clientY-a.top}},X8=function(a,b,c){return b?T8(Object.assign({},b,{chartId:a.chartId,yAxisId:a.yAxisId,id:c?`${a.objectiveLayerId}-${c}`:a.objectiveLayerId})):pPe({chartId:a.chartId,yAxisId:a.yAxisId,id:c?`${a.objectiveLayerId}-${c}`:a.objectiveLayerId})},Y8=function(a,b,c=a.layerId){return b?M8(Object.assign({},b,{chartGroupId:a.chartGroupId,chartId:a.chartId,xAxisId:a.xAxisId,id:c})):YOe({chartGroupId:a.chartGroupId,
chartId:a.chartId,xAxisId:a.xAxisId,id:c,keepLastCause:!0})},Z8=function(a,b,c){return b?VOe({chartId:a.chartId,sourceId:a.objectiveLayerId,loading:b,loadingDescription:c}):WOe({chartId:a.chartId,sourceId:a.objectiveLayerId})},$8=function(a,b,c){return b?POe({chartId:a.chartId,layerId:a.layerId,sourceId:a.objectiveLayerId,success:!1,error:b}):c?POe({chartId:a.chartId,layerId:a.layerId,sourceId:a.objectiveLayerId,success:!0,error:null}):QOe({chartId:a.chartId,sourceId:a.objectiveLayerId})},zPe=function(a,
b,c,d){if(a.onDataChange){a=a.onDataChange(b,c,d);const e=null==d?void 0:d.colorMap;if(a){d=a.order;const f=a.colorMap,g=a.shapeMap;if(!e||Object.keys(f).some(h=>f[h]!==e.colorMap[h])||Object.keys(g).some(h=>g[h]!==e.shapeMap[h]))return OOe({chartId:b.chartId,layerId:b.layerId,order:d,colorMap:f,shapeMap:g})}}return null},a9=class extends mOe{constructor(a,b,c,d,e){super(b,d);this.el=a;this.chart=c;this.deprecateOmnibusStateObservable=e;this.destroyed=new _.tf;this.views=[];this.layerType=null;this.layerId=
this.objectiveLayerId=`ac-composable-layer-${yPe++}`;this.xAxisId="chart_group";this.yAxisId="right";this.chartId=this.chartGroupId="default";this.layerScopeSubject=new _.rf(1);this.dataObservableSwitcher=new _.bg(_.S({previousValue:null,currentValue:null}));this.dataObservableInternal=this.dataObservableSwitcher.pipe(_.zf(f=>f));this.configObservableSwitcher=new _.bg(_.S({previousValue:null,currentValue:null}));this.configObservableInternal=this.configObservableSwitcher.pipe(_.zf(f=>f));this.context=
{scope:{chartGroupId:this.chartGroupId,chartId:this.chartId,xAxisId:this.xAxisId,yAxisId:this.yAxisId,layerId:this.layerId},data:null,state:null,config:null};c.scopeObservable.pipe(_.Af(this.destroyed)).subscribe(f=>{this.chartId=f.chartId;this.chartGroupId=f.chartGroupId});this.scopeObservable=_.qe([c.scopeObservable,this.layerScopeSubject]).pipe(_.U(([f,g])=>Object.assign({},f,g)));this.defaultStateSelectionObservables=e?{brush:_.S(void 0),colorMap:_.S(void 0),colorScale:_.S(void 0),error:_.S(void 0),
focus:_.S(void 0),loading:_.S(void 0),refresh:_.S(void 0),resize:_.S(void 0),seriesSelection:_.S(void 0),spec:_.S(void 0),xAxisPin:_.S(void 0),timeSeries:_.S(void 0),xAxis:_.S(void 0),yAxis:_.S(void 0),lastInteraction:_.S(void 0)}:{brush:H8(this,nie),colorMap:H8(this,pie),colorScale:H8(this,rie),error:H8(this,tie),focus:H8(this,Whe),loading:H8(this,xie),refresh:H8(this,Yhe),resize:H8(this,X5),seriesSelection:H8(this,zie),spec:H8(this,Cie),xAxisPin:H8(this,fie),timeSeries:H8(this,aie),xAxis:I8(this,
S8),yAxis:I8(this,V8),lastInteraction:H8(this,vie)};this.latestObservable=_.qe([this.scopeObservable,this.dataObservable,this.stateObservable,this.configObservable]);this.latestObservable.pipe(_.Af(this.destroyed)).subscribe(([f,g,h,l])=>{this.context.scope=f;this.context.data=g.currentValue;this.context.state=h.currentValue;this.context.config=l.currentValue})}set dataObservable(a){this.dataObservableSwitcher.next(a)}get dataObservable(){return this.dataObservableInternal}set configObservable(a){this.configObservableSwitcher.next(a)}get configObservable(){return this.configObservableInternal}setup(a){const b=
a.dataObservable,c=a.configObservable;b&&(this.dataObservable=b.pipe(_.yf(null),_.qf(),_.U(Q5)));c&&(this.configObservable=c.pipe(_.yf(null),_.qf(),_.U(Q5)));this.scopeObservable.pipe(_.Af(this.destroyed),_.yf(null),_.qf(),_.U(Q5)).subscribe(({previousValue:d,currentValue:e})=>{if((d||e)&&null!=this.layerType){var f=[],g=null!=e&&null!=d&&(e.layerId!==d.layerId||e.chartId!==d.chartId||e.chartGroupId!==d.chartGroupId),h=e&&(null==d||g);d&&(null==e||g)&&d&&f.push(kOe({layerType:this.layerType,layerId:d.layerId,
chartId:d.chartId,chartGroupId:d.chartGroupId}));h&&e&&f.push(jOe({layerType:this.layerType,layerId:e.layerId,chartId:e.chartId,chartGroupId:e.chartGroupId}));J8(this.chart,f)}});this.deprecateOmnibusStateObservable||(a=Object.assign({},this.defaultStateSelectionObservables,a.stateSelectionObservables),super.setup({stateSelectionObservables:a}),this.dataObservable.pipe(_.Af(this.destroyed)).subscribe(d=>{this.chart.scheduleStateChangeHandler({changes:d,context:this.context,componentHandlerUsingContext:(e,
f)=>this.onDataChange(e,f),viewHandlerUsingContext:(e,f)=>{for(const g of this.views)g.draw(e,f)},mergeKey:`${this.context.scope.layerId}-data`,scope:this.context.scope})}),this.configObservable.pipe(_.Af(this.destroyed)).subscribe(d=>{this.chart.scheduleStateChangeHandler({changes:d,context:this.context,componentHandlerUsingContext:(e,f)=>this.onConfigChange(e,f),viewHandlerUsingContext:(e,f)=>{for(const g of this.views)g.onConfigChange(e,f)},mergeKey:`${this.context.scope.layerId}-config`,scope:this.context.scope})}),
this.scopeObservable.pipe(_.Af(this.destroyed),_.yf(null),_.qf(),_.U(Q5),_.Gf(this.dataObservable,this.stateObservable,this.configObservable)).subscribe(([d])=>{if(d.currentValue)this.onScopeChange(d)}),(this.onResizeChange!==a9.prototype.onResizeChange||this.views.some(d=>d.onResizeChange!==C8.prototype.onResizeChange))&&this.setupStateChangeHandler(a.resize,(d,e)=>{d=R5(d,f=>f.resize);return this.onResizeChange(d,e)},(d,e)=>{d=R5(d,f=>f.resize);for(const f of this.views)f.onResizeChange(d,e)},"resize"),
(this.onXAxisChange!==a9.prototype.onXAxisChange||this.views.some(d=>d.onXAxisChange!==C8.prototype.onXAxisChange))&&this.setupStateChangeHandler(a.xAxis,(d,e)=>{d=R5(d,f=>f.xAxis);return this.onXAxisChange(d,e)},(d,e)=>{d=R5(d,f=>f.xAxis);for(const f of this.views)f.onXAxisChange(d,e)},"xAxis"),(this.onYAxisChange!==a9.prototype.onYAxisChange||this.views.some(d=>d.onYAxisChange!==C8.prototype.onYAxisChange))&&this.setupStateChangeHandler(a.yAxis,(d,e)=>{d=R5(d,f=>f.yAxis);return this.onYAxisChange(d,
e)},(d,e)=>{d=R5(d,f=>f.yAxis);for(const f of this.views)f.onYAxisChange(d,e)},"yAxis"),(this.onErrorChange!==a9.prototype.onErrorChange||this.views.some(d=>d.onErrorChange!==C8.prototype.onErrorChange))&&this.setupStateChangeHandler(a.error,(d,e)=>{d=R5(d,f=>f.error);return this.onErrorChange(d,e)},(d,e)=>{d=R5(d,f=>f.error);for(const f of this.views)f.onErrorChange(d,e)},"error"),(this.onLoadingChange!==a9.prototype.onLoadingChange||this.views.some(d=>d.onLoadingChange!==C8.prototype.onLoadingChange))&&
this.setupStateChangeHandler(a.loading,(d,e)=>{d=R5(d,f=>f.loading);return this.onLoadingChange(d,e)},(d,e)=>{d=R5(d,f=>f.loading);for(const f of this.views)f.onLoadingChange(d,e)},"loading"),(this.onBrushChange!==a9.prototype.onBrushChange||this.views.some(d=>d.onBrushChange!==C8.prototype.onBrushChange))&&this.setupStateChangeHandler(a.brush,(d,e)=>{d=R5(d,f=>f.brush);return this.onBrushChange(d,e)},(d,e)=>{d=R5(d,f=>f.brush);for(const f of this.views)f.onBrushChange(d,e)},"brush"),(this.onSeriesSelectionChange!==
a9.prototype.onSeriesSelectionChange||this.views.some(d=>d.onSeriesSelectionChange!==C8.prototype.onSeriesSelectionChange))&&this.setupStateChangeHandler(a.seriesSelection,(d,e)=>{d=R5(d,f=>f.seriesSelection);return this.onSeriesSelectionChange(d,e)},(d,e)=>{d=R5(d,f=>f.seriesSelection);for(const f of this.views)f.onSeriesSelectionChange(d,e)},"seriesSelection"),(this.onRefreshChange!==a9.prototype.onRefreshChange||this.views.some(d=>d.onRefreshChange!==C8.prototype.onRefreshChange))&&this.setupStateChangeHandler(a.refresh,
(d,e)=>{d=R5(d,f=>f.refresh);return this.onRefreshChange(d,e)},(d,e)=>{d=R5(d,f=>f.refresh);for(const f of this.views)f.onRefreshChange(d,e)},"refresh"),(this.onXAxisPinChange!==a9.prototype.onXAxisPinChange||this.views.some(d=>d.onXAxisPinChange!==C8.prototype.onXAxisPinChange))&&this.setupStateChangeHandler(a.xAxisPin,(d,e)=>{d=R5(d,f=>f.xAxisPin);return this.onXAxisPinChange(d,e)},(d,e)=>{d=R5(d,f=>f.xAxisPin);for(const f of this.views)f.onXAxisPinChange(d,e)},"xAxisPin"),(this.onTimeSeriesChange!==
a9.prototype.onTimeSeriesChange||this.views.some(d=>d.onTimeSeriesChange!==C8.prototype.onTimeSeriesChange))&&this.setupStateChangeHandler(a.timeSeries,(d,e)=>{d=R5(d,f=>f.timeSeries);return this.onTimeSeriesChange(d,e)},(d,e)=>{d=R5(d,f=>f.timeSeries);for(const f of this.views)f.onTimeSeriesChange(d,e)},"timeSeries"),(this.onFocusChange!==a9.prototype.onFocusChange||this.views.some(d=>d.onFocusChange!==C8.prototype.onFocusChange))&&this.setupStateChangeHandler(a.focus,(d,e)=>{d=R5(d,f=>f.focus);
return this.onFocusChange(d,e)},(d,e)=>{d=R5(d,f=>f.focus);for(const f of this.views)f.onFocusChange(d,e)},"focus"),(this.onColorScaleChange!==a9.prototype.onColorScaleChange||this.views.some(d=>d.onColorScaleChange!==C8.prototype.onColorScaleChange))&&this.setupStateChangeHandler(a.colorScale,(d,e)=>{d=R5(d,f=>f.colorScale);return this.onColorScaleChange(d,e)},(d,e)=>{d=R5(d,f=>f.colorScale);for(const f of this.views)f.onColorScaleChange(d,e)},"colorScale"),(this.onColorMapChange!==a9.prototype.onColorMapChange||
this.views.some(d=>d.onColorMapChange!==C8.prototype.onColorMapChange))&&this.setupStateChangeHandler(a.colorMap,(d,e)=>{d=R5(d,f=>f.colorMap);return this.onColorMapChange(d,e)},(d,e)=>{d=R5(d,f=>f.colorMap);for(const f of this.views)f.onColorMapChange(d,e)},"colorMap"))}setupStateChangeHandler(a,b,c,d){if(this.setupCalled&&a){let e=null;a.pipe(hie(this.stateObservable),_.Af(this.destroyed)).subscribe(([f])=>{const g={previousValue:e,currentValue:f.currentValue};e=f.currentValue;this.chart.scheduleStateChangeHandler({changes:g,
context:this.context,componentHandlerUsingContext:b,viewHandlerUsingContext:c,mergeKey:`${this.context.scope.layerId}-${d}`,scope:this.context.scope})})}}onDataChange(){}onScopeChange(a){const b=a.previousValue;a=a.currentValue;const c=[];a&&(null==b?void 0:b.layerId)!==(null==a?void 0:a.layerId)&&c.push(G8({chartGroupId:a.chartGroupId,chartId:a.chartId,previousLayerId:null==b?void 0:b.layerId,currentLayerId:a.layerId}));J8(this.chart,c)}onConfigChange(){}onResizeChange(){}onXAxisChange(){}onYAxisChange(){}onErrorChange(){}onLoadingChange(){}onBrushChange(){}onSeriesSelectionChange(){}onXAxisPinChange(){}onRefreshChange(){}onTimeSeriesChange(){}onFocusChange(){}onColorScaleChange(){}onLastInteractionChange(){}onColorMapChange(){}withLatest(a){a({scope:this.context.scope,
data:this.context.data,state:this.context.state,config:this.context.config})}onFocus(){this.withLatest(({scope:a})=>{this.store.dispatch(TOe({chartGroupId:a.chartGroupId,chartId:a.chartId,layerId:a.layerId}))})}onBlur(){this.withLatest(({scope:a})=>{this.store.dispatch(UOe({chartGroupId:a.chartGroupId,chartId:a.chartId,layerId:a.layerId}))})}ngOnInit(){this.layerScopeSubject.next({layerId:this.layerId,xAxisId:this.xAxisId,yAxisId:this.yAxisId})}ngOnChanges(a){("layerId"in a||"yAxisId"in a||"xAxisId"in
a)&&this.layerScopeSubject.next({layerId:this.layerId,xAxisId:this.xAxisId,yAxisId:this.yAxisId})}ngOnDestroy(){for(const a of this.views)RNe(a);this.withLatest(({scope:a})=>{J8(this.chart,[kOe(Object.assign({},a,{layerType:this.layerType}))])});this.destroyed.next();this.destroyed.complete()}};a9.\u0275fac=function(){_.dd()};a9.\u0275dir=_.q({type:a9,inputs:{layerId:"layerId",xAxisId:"xAxisId",yAxisId:"yAxisId"},features:[_.wd,_.Gc]});
var f6={WEEKLY:6048E5,DAILY:864E5,QUARTER_DAY:216E5,TWO_HOURLY:72E5,HOURLY:36E5,HALF_HOURLY:18E5,TEN_MINUTES:6E5,FIVE_MINUTES:3E5,ONE_MINUTE:6E4,THIRTY_SECONDS:3E4,TEN_SECONDS:1E4},Zie=Object.values(f6),bje={[f6.WEEKLY]:new _.Sr(2),[f6.DAILY]:new _.Sr(_.iZ.MONTH_DAY_ABBR),[f6.QUARTER_DAY]:new _.Sr(7),[f6.TWO_HOURLY]:new _.Sr(7),[f6.HOURLY]:new _.Sr(7),[f6.HALF_HOURLY]:new _.Sr(7),[f6.TEN_MINUTES]:new _.Sr(7),[f6.FIVE_MINUTES]:new _.Sr(7),[f6.ONE_MINUTE]:new _.Sr(7),[f6.THIRTY_SECONDS]:new _.Sr(6),
[f6.TEN_SECONDS]:new _.Sr(6)},aje={[f6.DAILY]:new _.Sr(_.iZ.YEAR_FULL),[f6.QUARTER_DAY]:new _.Sr(_.iZ.MONTH_DAY_ABBR),[f6.TWO_HOURLY]:new _.Sr(_.iZ.MONTH_DAY_ABBR),[f6.HOURLY]:new _.Sr(_.iZ.MONTH_DAY_ABBR),[f6.HALF_HOURLY]:new _.Sr(_.iZ.MONTH_DAY_ABBR),[f6.TEN_MINUTES]:new _.Sr(_.iZ.MONTH_DAY_ABBR),[f6.FIVE_MINUTES]:new _.Sr(_.iZ.MONTH_DAY_ABBR),[f6.ONE_MINUTE]:new _.Sr(_.iZ.MONTH_DAY_ABBR),[f6.THIRTY_SECONDS]:new _.Sr(_.iZ.MONTH_DAY_ABBR),[f6.TEN_SECONDS]:new _.Sr(_.iZ.MONTH_DAY_ABBR)};
var APe=["left","right"],BPe=["chart_group","bottom"];
var jje=Math.log10(ANe),kje=Math.log10(1);
var IOe=function(a,b){const c=b.previousValue,d=b.currentValue;if((null==c?0:c.chartGroupId)&&(null==c?0:c.chartId)&&(null==d?0:d.chartGroupId)&&(null==d?0:d.chartId)&&(c.chartGroupId!==d.chartGroupId||c.chartId!==d.chartId)){for(const e of BPe)(b=a.xAxisTickStrategyRegistry.get(d6(c.chartGroupId,c.chartId,e)))&&b.pipe(_.af(1)).subscribe(f=>{CPe(a,{chartGroupId:d.chartGroupId,chartId:d.chartId,xAxisId:e},f)});for(const e of APe)(b=a.yAxisTickStrategyRegistry.get(`${c.chartId},${e}`))&&b.pipe(_.af(1)).subscribe(f=>
{DPe(a,{chartId:d.chartId,yAxisId:e},f)})}},iPe=function(a,b){b=d6(b.chartGroupId,b.chartId,b.xAxisId);let c=a.xAxisTickStrategyRegistry.get(b);c||(c=new _.bg(cje),a.xAxisTickStrategyRegistry.set(b,c));return c.pipe(_.Ze())},wPe=function(a,b){b=`${b.chartId},${b.yAxisId}`;let c=a.yAxisTickStrategyRegistry.get(b);c||(c=new _.bg(lje),a.yAxisTickStrategyRegistry.set(b,c));return c.pipe(_.Ze())},EPe=function(a,b){let c=a.factoryRegistry.get(b);c||(c={selectors:new Map,selections:new Map},a.factoryRegistry.set(b,
c));return c},DPe=function(a,b,c){b=`${b.chartId},${b.yAxisId}`;let d=a.yAxisTickStrategyRegistry.get(b);d?d.next(c):(d=new _.bg(c),a.yAxisTickStrategyRegistry.set(b,d))},CPe=function(a,b,c){b=d6(b.chartGroupId,b.chartId,b.xAxisId);let d=a.xAxisTickStrategyRegistry.get(b);d?d.next(c):(d=new _.bg(c),a.xAxisTickStrategyRegistry.set(b,d))},b9=class{constructor(a){this.store=a;this.factoryRegistry=new Map;this.xAxisTickStrategyRegistry=new Map;this.yAxisTickStrategyRegistry=new Map}getSelector(a,b){const c=
EPe(this,a),d=a.getKey(b);let e=c.selectors.get(d);e||(e=A9d(()=>{const f=new _.tf;return{selectorObservable:a.getSelector(b,this),destroyed:f,unsubscribe:()=>{c.selectors.delete(d);f.next();f.complete()}}},f=>{const g=new _.rf(1);f.selectorObservable.pipe(_.Af(f.destroyed)).subscribe(h=>{g.next(h)});return g}).pipe(_.vf({refCount:!0,bufferSize:1})),c.selectors.set(d,e));return e}getSelection(a,b){const c=EPe(this,a),d=a.getKey(b);let e=c.selections.get(d);e||(e=this.getSelector(a,b).pipe(_.zf(f=>
this.store.pipe(_.Eh(f)))),c.selections.set(d,e));return e}};b9.\u0275fac=function(a){return new (a||b9)(_.p(_.fq))};b9.\u0275prov=_.m({token:b9,factory:b9.\u0275fac,providedIn:"root"});
var FPe=_.wh("[AC] Set selected exemplar for chart and layer",_.xh()),GPe=_.wh("[AC] Set hovered exemplar for chart and layer",_.xh());
var nje=_.zh(W5,a=>a.exemplarSelection);
var c9=_.wh("[AC] Set selected series for chart and layer",_.xh()),HPe=_.wh("[AC] Clear selected series for chart and layer",_.xh()),IPe=_.wh("[AC] Add a selected series for chart and layer",_.xh()),JPe=_.wh("[AC] Remove a selected series for chart and layer",_.xh()),d9=_.wh("[AC] Set hovered series for chart and layer",_.xh()),KPe=_.wh("[AC] Set last clicked series for chart and layer",_.xh()),LPe=_.wh("[AC] Set tooltip annotations for chart and layer",_.xh()),MPe=_.wh("[AC] Set selected annotations for chart and layer",
_.xh());
var NPe=/projects\/(.*)\/traces\/(.*)\/spans\/(.*)/,OPe=function(a){const b=[];if(null===a)return b;for(const c of a.series)for(const d of c.data)if(d.y.exemplars)for(const e of d.y.exemplars){const f={x:new Date(e.timestamp),y:e.value,unit:a.unit};if(e.attachments){for(const g of e.attachments)if("type.googleapis.com/google.monitoring.v3.SpanContext"===g["@type"]){const h=g.spanName.match(NPe);if(4!==h.length)break;f.traceId=h[2];break}else if("type.googleapis.com/monitoring.streamz.TraceRecordID"===
g["@type"]){f.traceId=g.traceId;break}b.push(f)}}return b},RPe=function(a,b){a.withLatest(({scope:c,data:d,state:e,config:f})=>{if(d&&e&&f){var g=W8(a,b);f=ZNe(a.exemplarView,d,e,g.x,g.y,f.exemplarSize);var h,l,n;g=null!=(n=null==(h=e.exemplarSelection)?void 0:null==(l=h.byLayer.entities[c.layerId])?void 0:l.hoveredExemplar)?n:null;var r,v,w;e=null!=(w=null==(r=e.seriesSelection)?void 0:null==(v=r.byLayer.entities[c.layerId])?void 0:v.hoveredSeries)?w:[];null!=f?(a.isExemplarHovered=!0,PPe(a,c,f,
e),QPe(a,c,d.exemplars[f],g)):a.isExemplarHovered&&(a.isExemplarHovered=!1,PPe(a,c,null,e),QPe(a,c,null,g))}})},PPe=function(a,b,c,d){c=null!==c?[{seriesId:null!==c?c.toString():""}]:[];N5(d,c)&&a.store.dispatch(d9({chartId:b.chartId,layerId:b.layerId,series:c}))},QPe=function(a,b,c,d){(null==d?void 0:d.x.valueOf())===(null==c?void 0:c.x.valueOf())&&(null==d?void 0:d.y)===(null==c?void 0:c.y)&&(null==d?void 0:d.traceId)===(null==c?void 0:c.traceId)&&(null==d?void 0:d.unit)===(null==c?void 0:c.unit)||
a.store.dispatch(GPe({chartId:b.chartId,layerId:b.layerId,exemplarPoint:c}))},SPe=class extends a9{constructor(a,b,c,d){super(a,b,c,d);this.loading=this.data=null;this.exemplarSize=4;this.chartConfig=null;this.loadingDescription="";this.exemplarTheme=0;this.onClickExemplarId=new _.$k;this.isExemplarHovered=!1;let e;this.dataSubject=new _.bg({unit:(null==(e=this.data)?void 0:e.unit)||null,exemplars:OPe(this.data)});this.configSubject=new _.bg({exemplarSize:this.exemplarSize,exemplarTheme:this.exemplarTheme});
b=new $Ne(a.nativeElement);a=new fOe(a.nativeElement);this.exemplarView=b;this.views.push(b);this.views.push(a)}ngOnInit(){super.ngOnInit();const a={exemplarSelection:H8(this,oje)};this.setup({dataObservable:this.dataSubject,stateSelectionObservables:a,configObservable:this.configSubject});this.chart.mouseClickObservable.pipe(_.Af(this.destroyed)).subscribe(b=>{this.onClick(b)});K8(this.chart,"chart",b=>{RPe(this,b);return[]},this.destroyed)}onDataChange(a){if(a=a.currentValue){var b=-Infinity,c=
Infinity,d=Infinity;for(e of a.exemplars)b=Math.max(b,e.y),c=Math.min(c,e.y),d=Math.min(d,Math.abs(e.y||d));var e=-Infinity===b||Infinity===c?null:{priority:0,absoluteMin:d,min:c,max:b,unit:a.unit}}else e=null;e?this.store.dispatch(T8(Object.assign({},e,{chartId:this.chartId,yAxisId:this.yAxisId,id:this.layerId}))):this.store.dispatch(pPe({chartId:this.chartId,yAxisId:this.yAxisId,id:this.layerId}))}ngOnChanges(a){super.ngOnChanges(a);if("data"in a){let b;this.dataSubject.next({unit:(null==(b=this.data)?
void 0:b.unit)||null,exemplars:OPe(this.data)})}"exemplarSize"in a&&this.configSubject.next({exemplarSize:this.exemplarSize,exemplarTheme:this.exemplarTheme});if("chartConfig"in a){let b;(null==(b=this.chartConfig)?0:b.heatmapLayers)&&0<this.chartConfig.heatmapLayers.length?this.exemplarTheme=0:this.exemplarTheme=1;this.configSubject.next({exemplarSize:this.exemplarSize,exemplarTheme:this.exemplarTheme})}"loading"in a&&((a=this.loading)?this.store.dispatch(VOe({chartId:this.chartId,sourceId:this.layerId,
loading:[a],loadingDescription:this.loadingDescription})):this.store.dispatch(WOe({chartId:this.chartId,sourceId:this.layerId})))}onClick(a){this.withLatest(({scope:b,data:c,state:d,config:e})=>{if(c&&d&&e){var f=W8(this,a);d=ZNe(this.exemplarView,c,d,f.x,f.y,e.exemplarSize);null!==d&&(this.store.dispatch(c9({chartId:b.chartId,layerId:b.layerId,series:null!==d?[{seriesId:null!==d?d.toString():""}]:[]})),this.store.dispatch(FPe({chartId:b.chartId,layerId:b.layerId,exemplarPoint:c.exemplars[d]})),void 0!==
c.exemplars[d].traceId&&this.onClickExemplarId.emit(c.exemplars[d].traceId))}})}};SPe.\u0275fac=function(a){return new (a||SPe)(_.A(_.ad),_.A(_.fq),_.A(L8),_.A(b9))};
SPe.\u0275cmp=_.q({type:SPe,selectors:[["ac-exemplar"]],hostAttrs:[1,"composable-layer","exemplar"],inputs:{data:"data",loading:"loading",exemplarSize:"exemplarSize",chartConfig:"chartConfig",loadingDescription:"loadingDescription"},outputs:{onClickExemplarId:"onClickExemplarId"},features:[_.wd,_.Gc],decls:0,vars:0,template:function(){},styles:[".composable-layer[_nghost-%COMP%]{position:absolute;height:100%;width:100%;top:0;left:0}[_nghost-%COMP%] .overlay-z-index{z-index:9}\n/*# sourceMappingURL=exemplar.css.map */"],
changeDetection:0});
var pje=_.zh(W5,a=>a.map);
var TPe={chartGroupId:"",chartId:"",xAxisId:"chart_group",yAxisId:"right",layerId:""},UPe=0,e9=class extends mOe{constructor(a,b,c,d,e){super(a,b);this.deprecateOmnibusStateObservable=e;this.destroyed=new _.tf;this.extensionId=`ac-extension-${UPe++}`;this.inputScopeSubject=new _.bg({});a=(null==d?void 0:d.scopeObservable)||(null==c?void 0:c.scopeObservable)||_.S({});this.scopeObservable=_.qe([a,this.inputScopeSubject]).pipe(_.U(([r,v])=>Object.assign({},TPe,r,v)));this.defaultStateSelectionObservables=
e?{brush:_.S(void 0),colorScale:_.S(void 0),error:_.S(void 0),focus:_.S(void 0),lastInteraction:_.S(void 0),loading:_.S(void 0),map:_.S(void 0),refresh:_.S(void 0),resize:_.S(void 0),seriesSelection:_.S(void 0),spec:_.S(void 0),xAxisPin:_.S(void 0),timeSeries:_.S(void 0),xAxis:_.S(void 0),yAxis:_.S(void 0)}:{brush:H8(this,nie),colorScale:H8(this,rie),error:H8(this,tie),focus:H8(this,Whe),lastInteraction:H8(this,vie),loading:H8(this,xie),map:H8(this,qje),refresh:H8(this,Yhe),resize:H8(this,X5),seriesSelection:H8(this,
zie),spec:H8(this,Cie),xAxisPin:H8(this,fie),timeSeries:H8(this,aie),xAxis:I8(this,S8),yAxis:I8(this,V8)};let f,g,h,l,n;this.context={scope:{chartGroupId:(null==(f=this.scope)?void 0:f.chartGroupId)||"",chartId:(null==(g=this.scope)?void 0:g.chartId)||"",yAxisId:(null==(h=this.scope)?void 0:h.yAxisId)||"right",xAxisId:(null==(l=this.scope)?void 0:l.xAxisId)||"chart_group",layerId:(null==(n=this.scope)?void 0:n.layerId)||""},state:null};_.qe([this.scopeObservable,this.stateObservable]).pipe(_.Af(this.destroyed)).subscribe(([r,
v])=>{this.context.scope=r;this.context.state=v.currentValue})}setup(a){this.deprecateOmnibusStateObservable||(a=Object.assign({},this.defaultStateSelectionObservables,a.stateSelectionObservables),super.setup({stateSelectionObservables:a}),this.scopeObservable.pipe(_.Af(this.destroyed),_.yf(null),_.qf(),_.U(Q5),_.Gf(this.stateObservable)).subscribe(([b])=>{if(b.currentValue)this.onScopeChange(b)}),this.setupStateChangeHandler(a.resize,(b,c)=>{b=R5(b,d=>d.resize);this.onResizeChange(b,c)},"resize"),
this.setupStateChangeHandler(a.xAxis,(b,c)=>{b=R5(b,d=>d.xAxis);this.onXAxisChange(b,c)},"xAxis"),this.setupStateChangeHandler(a.yAxis,(b,c)=>{b=R5(b,d=>d.yAxis);this.onYAxisChange(b,c)},"yAxis"),this.setupStateChangeHandler(a.error,(b,c)=>{b=R5(b,d=>d.error);this.onErrorChange(b,c)},"error"),this.setupStateChangeHandler(a.loading,(b,c)=>{b=R5(b,d=>d.loading);this.onLoadingChange(b,c)},"loading"),this.setupStateChangeHandler(a.brush,(b,c)=>{b=R5(b,d=>d.brush);this.onBrushChange(b,c)},"brush"),this.setupStateChangeHandler(a.seriesSelection,
(b,c)=>{b=R5(b,d=>d.seriesSelection);this.onSeriesSelectionChange(b,c)},"seriesSelection"),this.setupStateChangeHandler(a.refresh,(b,c)=>{b=R5(b,d=>d.refresh);this.onRefreshChange(b,c)},"refresh"),this.setupStateChangeHandler(a.xAxisPin,(b,c)=>{b=R5(b,d=>d.xAxisPin);this.onXAxisPinChange(b,c)},"xAxisPin"),this.setupStateChangeHandler(a.timeSeries,(b,c)=>{b=R5(b,d=>d.timeSeries);this.onTimeSeriesChange(b,c)},"timeSeries"),this.setupStateChangeHandler(a.focus,(b,c)=>{b=R5(b,d=>d.focus);this.onFocusChange(b,
c)},"focus"),this.setupStateChangeHandler(a.lastInteraction,(b,c)=>{R5(b,d=>d.lastInteraction);this.onLastInteractionChange(c)},"lastInteraction"),this.setupStateChangeHandler(a.colorScale,(b,c)=>{b=R5(b,d=>d.colorScale);this.onColorScaleChange(b,c)},"colorScale"),this.setupStateChangeHandler(a.spec,b=>{b=R5(b,c=>c.spec);this.onChartSpecChange(b)},"spec"),this.setupStateChangeHandler(a.map,(b,c)=>{b=R5(b,d=>d.map);this.onMapChange(b,c)},"map"))}setupStateChangeHandler(a,b,c){if(this.setupCalled&&
a){let d=null;a.pipe(hie(this.stateObservable),_.Af(this.destroyed)).subscribe(([e])=>{const f={previousValue:d,currentValue:e.currentValue};d=e.currentValue;this.scheduleStateChangeHandler(f,this.context,b,`${this.extensionId}-${c}`,this.context.scope)})}}onScopeChange(){}onResizeChange(){}onXAxisChange(){}onYAxisChange(){}onErrorChange(){}onLoadingChange(){}onBrushChange(){}onSeriesSelectionChange(){}onXAxisPinChange(){}onRefreshChange(){}onTimeSeriesChange(){}onFocusChange(){}onLastInteractionChange(){}onColorScaleChange(){}onChartSpecChange(){}onMapChange(){}withLatest(a){a({scope:this.context.scope,
state:this.context.state})}scheduleStateChangeHandler(a,b,c){c(a,b)}ngOnChanges(a){"scope"in a&&this.inputScopeSubject.next(Object.assign({},this.scope))}ngOnDestroy(){this.destroyed.next();this.destroyed.complete()}};e9.\u0275fac=function(){_.dd()};e9.\u0275dir=_.q({type:e9,inputs:{scope:"scope"},features:[_.wd,_.Gc]});
var VPe=class extends e9{constructor(a,b,c,d,e){super(a,b,d,e);this.store=a;this.ngZone=c;this.exemplarLayerId="default";this.dataSource="hover";this.chartConfig=null;this.heatmapCss=!1;this.dateTimeFormatter=new _.Sr(10);this.setup({});this.exemplarInfoObservable=this.scopeObservable.pipe(_.zf(f=>this.store.select(oje(f))),_.U(f=>{let g;f=null!=(g=null==f?void 0:f.byLayer.entities[this.exemplarLayerId])?g:null;return"hover"===this.dataSource?(null==f?void 0:f.hoveredExemplar)||null:(null==f?void 0:
f.selectedExemplar)||null}),_.vf(1),_.U(f=>f?{timestamp:this.dateTimeFormatter.format(f.x),value:f.y,unit:f.unit}:null),Y5(this.ngZone))}ngOnChanges(a){"chartConfig"in a&&(this.heatmapCss=!!(this.chartConfig&&void 0!==this.chartConfig.heatmapLayers&&0<this.chartConfig.heatmapLayers.length))}};VPe.\u0275fac=function(a){return new (a||VPe)(_.A(_.fq),_.A(b9),_.A(_.Jf),_.A(L8),_.A(a9))};
VPe.\u0275cmp=_.q({type:VPe,selectors:[["ac-exemplar-hover-widget"]],inputs:{exemplarLayerId:"exemplarLayerId",dataSource:"dataSource",chartConfig:"chartConfig"},features:[_.wd,_.Gc],decls:2,vars:3,consts:[[4,"ngIf"],[1,"exemplar-card"],[1,"list"],[1,"icon"],[1,"circle","outer",3,"ngClass"],[1,"circle","inner",3,"ngClass"],[1,"name"],[1,"value","current-value"]],template:function(a,b){a&1&&(_.P(0,rje,17,8,"ng-container",0),_.Zd(1,"async"));a&2&&_.C("ngIf",_.$d(1,1,b.exemplarInfoObservable))},dependencies:[_.qx,
_.ll,_.pl,Cze],styles:['.exemplar-card[_ngcontent-%COMP%]{text-align:left;min-height:16px;font-size:12px;font-family:"Roboto",sans-serif}table[_ngcontent-%COMP%]{table-layout:auto;width:100%;padding-right:20px}table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]{max-width:300px}table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:13px;font-family:"Roboto",sans-serif;font-weight:500;line-height:20px;margin-left:-2px}table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:12px;height:12px;line-height:20px;overflow:hidden;text-overflow:ellipsis;top:0}table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.icon[_ngcontent-%COMP%]{display:inline-block;padding-top:2px}table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.icon[_ngcontent-%COMP%]   .outer[_ngcontent-%COMP%]{width:10px;height:10px;opacity:1}table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.icon[_ngcontent-%COMP%]   .outer-heatmap[_ngcontent-%COMP%]{background-color:#d2e3fc}table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.icon[_ngcontent-%COMP%]   .outer-linechart[_ngcontent-%COMP%]{background-color:#c5dbfc}table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.icon[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]{width:6px;height:6px;opacity:1;vertical-align:middle;text-align:center;left:2px;top:2px;position:relative}table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.icon[_ngcontent-%COMP%]   .inner-heatmap[_ngcontent-%COMP%]{background-color:#669df6}table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.icon[_ngcontent-%COMP%]   .inner-linechart[_ngcontent-%COMP%]{background-color:#4285f4}table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.icon[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{border-radius:50%;display:table-cell}table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.name[_ngcontent-%COMP%]{max-width:250px;overflow-x:hidden;overflow-y:hidden;padding-right:20px;text-align:left;word-wrap:break-word}table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.value[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.value2[_ngcontent-%COMP%]{text-align:right}div.name[_ngcontent-%COMP%]{max-height:60px}\n/*# sourceMappingURL=ac_exemplar_hovercard_widget.css.map */'],
changeDetection:0});
var f9={chartGroupId:"",axis:0,panning:!1,brushing:!1,xPos:null,xPosStart:null,yAxes:[],chartId:null};
var WPe=_.wh("[AC] Set project id for chart",_.xh());
var XPe=_.wh("[AC] Update chart granularity",_.xh()),YPe=_.wh("[AC] Trigger refresh for granularity and top-n",_.xh());
var ZPe=_.wh("[AC] Update chart dimensions",_.xh()),$Pe=_.wh("[AC] Set chart margin requirement",_.xh()),aQe=_.wh("[AC] Remove chart margin requirements",_.xh()),bQe=_.wh("[AC] Set margins strategy to use max chart group margins",_.xh());
var cQe=_.wh("[AC] Set Chart Spec State",_.xh());
var dQe=class extends a9{constructor(a,b,c,d){super(a,b,c,d);this.color="transparent";this.canvas=document.createElement("canvas");this.marginTop=this.marginLeft=this.width=this.height=0;this.canvas.setAttribute("aria-hidden","true");this.canvas.style.position="absolute";b=this.canvas.getContext("2d");if(!b)throw Error("ul");this.ctx=b;a.nativeElement.appendChild(this.canvas)}ngOnInit(){super.ngOnInit();this.setup({})}drawInternal(){this.canvas.style.left=`${this.marginLeft}px`;this.canvas.style.top=
`${this.marginTop}px`;H5(this.canvas,this.height,this.width,this.color)}onResizeChange(a,b){let c;if(a=null==b?void 0:null==(c=b.state)?void 0:c.resize)this.marginLeft=a.margins.left,this.marginTop=a.margins.top,this.width=a.width-a.margins.left-a.margins.right,this.height=a.height-a.margins.top-a.margins.bottom,this.drawInternal()}ngOnChanges(a){super.ngOnChanges(a);"color"in a&&this.drawInternal()}ngOnDestroy(){super.ngOnDestroy()}};
dQe.\u0275fac=function(a){return new (a||dQe)(_.A(_.ad),_.A(_.fq),_.A(L8),_.A(b9))};dQe.\u0275cmp=_.q({type:dQe,selectors:[["ac-background"]],inputs:{color:"color"},features:[_.wd,_.Gc],decls:0,vars:0,template:function(){},encapsulation:2,changeDetection:0});var g9=class{};g9.\u0275fac=function(a){return new (a||g9)};g9.\u0275mod=_.Bc({type:g9});g9.\u0275inj=_.tc({imports:[_.ql]});
var h9=_.wh("[AC] Set the value for multiple time series in a chart",_.xh()),i9=_.wh("[AC] Set the metadata for multiple time series in a chart",_.xh()),j9=_.wh("[AC] Sets the time series metadata for a layer",_.xh());
var Iqe={chartId:"",byLayer:{ids:[],entities:{}}},eQe={layerId:"",yAxisId:"right",xAxisId:"chart_group",valueType:1,unit:null,bySeries:{ids:[],entities:{}}},fQe={seriesId:"",name:"",atTimeKey:{}};
var gQe={fillStyle:"#000000",globalCompositeOperation:"source-over"},iQe=function(a,b,c,d,e){a.ctx.save();G5(a.ctx,gQe);if(e.showBand)for(const f of b){const g=d(f);switch(e.pointConnectionMethod){case "always":hQe(f,h=>{a.drawLineAlwaysConnect(h,c,g)},e.outputPeriodMs||Infinity,zje);break;case "zero_fill":hQe(f,h=>{a.drawLineZeroFill(h,c,g,e.outputPeriodMs)},e.outputPeriodMs||Infinity,zje);break;case "never":throw Error("xl");default:a.drawLineGapDetection(f,c,g,e.outputPeriodMs)}}a.ctx.restore()},
hQe=function(a,b,c,d=yje){const {data:e,shiftedData:f=[]}=Bje(a,null!=c?c:Infinity,d);for(const g of e)b(Object.assign({},a,{data:g}));for(const g of f)b(Object.assign({},a,{shiftedData:g}))},jQe=class extends C8{constructor(){super(...arguments);this.fullDrawDebounceId=null}draw(a,b){this.drawInternal(b)}onXAxisChange(a,b){D5(a)&&this.drawInternal(b)}onResizeChange(a,b){J5(a)&&(Jhe(a)?this.drawInternal(b):(this.fullDrawDebounceId&&(clearTimeout(this.fullDrawDebounceId),this.fullDrawDebounceId=null),
B8(this,b,this.canvas,this.ctx),this.fullDrawDebounceId=setTimeout(()=>{this.fastResizeBufferMap.delete(this.canvas);this.drawInternal(b)},250)))}onYAxisChange(a,b){K5(a)&&this.drawInternal(b)}onConfigChange(a,b){this.drawInternal(b)}unpack(a){const b=a.data;var c=a.state;a=a.config;if(!c||!a)return null;const d=c.resize;var e=c.xAxis;const f=c.yAxis;c=c.brush;if(!(d&&e&&f&&c))return null;const g=d.width,h=d.height,l=d.margins.top,n=d.height-d.margins.bottom,r=d.margins.left,v=d.width-d.margins.right,
w=L5(f,l,n,b?b.unit:null),y=E5(e,r,v);e=F5(e,r,v);return y&&w&&e?{data:b,config:a,colorMap:()=>"#000000",marginTop:d.margins.top,marginLeft:d.margins.left,canvasWidth:g,canvasHeight:h,bodyTop:l,bodyBottom:n,bodyLeft:r,bodyRight:v,bodyWidth:v-r,bodyHeight:n-l,dataMap:B=>{const G=B.x,O=B.y0,T=B.y1;if(null==O||null==T)throw Error("wl`"+JSON.stringify(B));return[y(G.valueOf()),w(O),w(T)]},inverseDomainMap:e,brushing:c.brushing||!1}:null}drawInternal(a){if(a=this.unpack(a)){this.fullDrawDebounceId&&(clearTimeout(this.fullDrawDebounceId),
this.fullDrawDebounceId=null);this.canvas.style.left="0px";this.canvas.style.top="0px";H5(this.canvas,a.canvasHeight,a.canvasWidth);var b=new Path2D;b.rect(a.bodyLeft,a.bodyTop,a.bodyWidth,a.bodyHeight);this.ctx.clip(b);b=[];if(a.data&&0<a.data.series.length&&2>=a.data.series.length){b=a.data;a:{var c=b.series;switch(c.length){case 1:[c]=c;c=tje(uje(c),c);break a;case 2:const [d,e]=c;c=tje(d,e);break a;default:throw Error("vl");}}b=Object.assign({},b,{series:[c]}).series}b.length&&iQe(this,b,a.dataMap,
a.colorMap,a.config)}}drawLineGapDetection(a,b,c,d){hQe(a,e=>{this.drawLineAlwaysConnect(e,b,c)},d||Infinity,(e,f,g)=>yje(e,f,g)||zje(e,f,g))}drawLineAlwaysConnect(a,b,c){this.drawLineZeroFill(a,b,c,Infinity)}drawLineZeroFill(a,b,c,d,e={}){a=a.data;if(a.length){d=d||Infinity;this.ctx.save();this.ctx.beginPath();this.ctx.strokeStyle=`${c}${"60"}`;this.ctx.fillStyle=`${c}${"20"}`;c=a[0];var [f,,g]=I5(b(c),e.lineWidth);this.ctx.moveTo(f,g);for(var h=1;h<a.length;h++){var l=a[h-1];c=a[h];[r,,v]=I5(b(c),
e.lineWidth);if(l&&yje(l,c,d)){l=new Date(l.x.valueOf()+d);for(var n={x:l,y:0,y0:0,y1:0};l<c.x;l.setMilliseconds(l.getMilliseconds()+d)){const [w,y]=I5(b(n),e.lineWidth);this.ctx.lineTo(w,y)}}this.ctx.lineTo(r,v)}for(c=a.length-1;0<=c;c--){l=a[c+1];var r=a[c];const [w,y]=I5(b(r),e.lineWidth);var v=w;h=y;if(l&&yje(l,r,d))for(l=new Date(l.x.valueOf()-d),n={x:l,y:0,y0:0,y1:0};l>r.x;l.setMilliseconds(l.getMilliseconds()-d)){const [B,G]=I5(b(n),e.lineWidth);this.ctx.lineTo(B,G)}this.ctx.lineTo(v,h)}this.ctx.stroke();
this.ctx.fill();this.ctx.restore()}}getValuesAtPosition(a,b){a=this.unpack(a);if(null==a||!a.data)return null;let c;b=null==(c=a.inverseDomainMap(b.x-a.marginLeft))?void 0:c.valueOf();return xje(a.data,b,a.config.pointConnectionMethod,a.config.outputPeriodMs,a.config.useLegacyGapDetection)}getValuesAtTime(a,b){a=this.unpack(a);return null!=a&&a.data?xje(a.data,b,a.config.pointConnectionMethod,a.config.outputPeriodMs,a.config.useLegacyGapDetection):null}};
var kQe=class extends a9{constructor(a,b,c,d){super(a,b,c,d);this.showBand=!0;this.loading=!1;this.outputPeriodMsInternal=this.alignmentPeriodMs=this.error=null;this.pointConnectionMethod="gap_detection";this.useLegacyGapDetection=!1;this.configSubject=new _.bg({outputPeriodMs:this.outputPeriodMs,pointConnectionMethod:this.pointConnectionMethod,showBand:this.showBand,useLegacyGapDetection:this.useLegacyGapDetection});this.dataSubject=new _.bg(null);this.xAxisRequirement=this.yAxisRequirement=null;
this.isMouseOver=!1;this.updateHoverValuesTriggerSubject=new _.rf(1);this.bandView=new jQe(a.nativeElement);this.views.push(this.bandView)}set data(a){this.dataSubject.next(a)}set outputPeriodMs(a){this.outputPeriodMsInternal=a}get outputPeriodMs(){let a;return null!=(a=this.outputPeriodMsInternal)?a:this.alignmentPeriodMs}ngOnInit(){super.ngOnInit();this.setup({configObservable:this.configSubject,dataObservable:this.dataSubject});this.updateHoverValuesTriggerSubject.pipe(_.Af(this.destroyed),k5(10,
_.Ae)).subscribe(a=>{this.updateHoverValues(a)});this.chart.mouseEnterObservable.pipe(_.Af(this.destroyed)).subscribe(a=>{this.onMouseEnter(a)});K8(this.chart,"chart",a=>{this.onMouseMove(a);return[]},this.destroyed);this.chart.mouseLeaveObservable.pipe(_.Af(this.destroyed)).subscribe(a=>{this.onMouseLeave(a)});this.chart.mouseClickObservable.pipe(_.Af(this.destroyed)).subscribe(a=>{this.onClick(a)})}ngOnChanges(a){super.ngOnChanges(a);const b=[];("outputPeriodMs"in a||"pointConnectionMethod"in a||
"alignmentPeriodMs"in a||"showBand"in a||"useLegacyGapDetection"in a)&&this.configSubject.next({outputPeriodMs:this.outputPeriodMs,pointConnectionMethod:this.pointConnectionMethod,showBand:this.showBand,useLegacyGapDetection:this.useLegacyGapDetection});"loading"in a&&b.push(Z8(this,this.loading,"Band"));"error"in a&&b.push($8(this,this.error,!!this.data));J8(this.chart,b)}onDataChange(a,b){const c=a.currentValue,d=b.scope,e=b.state,f=[];if(a.previousValue!==c){if(e){const l=e.xAxis;l&&(this.yAxisRequirement=
Qie(c,l.min,l.max))}this.xAxisRequirement=Vie(a.currentValue);f.push(X8(this,this.yAxisRequirement));f.push(Y8(this,this.xAxisRequirement));f.push(j9({chartId:d.chartId,layerId:d.layerId,yAxisId:d.yAxisId,xAxisId:d.xAxisId,valueType:1,unit:(null==c?void 0:c.unit)||null,alignmentPeriodMs:this.alignmentPeriodMs||void 0}))}let g,h;(null==e?0:null==(g=e.xAxisPin)?0:g.xPos)&&(null==e?0:null==(h=e.xAxisPin)?0:h.locked)&&(a=this.bandView.getValuesAtTime(b,e.xAxisPin.xPos),(a=this.updateTimeSeriesValues(a,
0))&&f.push(a));f.length&&this.store.dispatch(O5({actions:f}))}onXAxisChange(a,b){b=b.data;const c=a.currentValue,d=[];D5(a)&&c&&(this.yAxisRequirement=Qie(b,c.min,c.max),d.push(X8(this,this.yAxisRequirement)));return d}onXAxisPinChange(a,b){const c=[];let d,e;if((null==(d=a.previousValue)?void 0:d.xPos)!==(null==(e=a.currentValue)?void 0:e.xPos)){var f;a=this.bandView.getValuesAtTime(b,(null==(f=a.currentValue)?void 0:f.xPos)||null);if(!a)return;(f=this.updateTimeSeriesValues(a,0))&&c.push(f)}return c}onClick(a){const b=
W8(this,a);this.withLatest(c=>{c=this.bandView.getValuesAtPosition(c,b);(c=this.updateTimeSeriesValues(c,2))&&this.store.dispatch(c)})}onMouseEnter(){this.isMouseOver=!0}onMouseMove(a){this.isMouseOver&&(a=W8(this,a),this.updateHoverValuesTriggerSubject.next(a))}onMouseLeave(){this.isMouseOver=!1}updateHoverValues(a){this.withLatest(b=>{b=this.bandView.getValuesAtPosition(b,a);(b=this.updateTimeSeriesValues(b,1))&&this.store.dispatch(b)})}updateTimeSeriesValues(a,b){let c=null;this.withLatest(({scope:d})=>
{a&&(c=h9({chartId:d.chartId,layerId:d.layerId,valueType:1,timeKey:b,values:a.values,timeRange:a.timeRange}))});return c}ngOnDestroy(){super.ngOnDestroy();this.store.dispatch($8(this,null,!1));this.store.dispatch(Z8(this,!1,"Band"))}};kQe.\u0275fac=function(a){return new (a||kQe)(_.A(_.ad),_.A(_.fq),_.A(L8),_.A(b9))};
kQe.\u0275cmp=_.q({type:kQe,selectors:[["ac-band"]],hostAttrs:[1,"composable-layer","ac-band"],inputs:{data:"data",showBand:"showBand",loading:"loading",error:"error",alignmentPeriodMs:"alignmentPeriodMs",outputPeriodMs:"outputPeriodMs",pointConnectionMethod:"pointConnectionMethod",useLegacyGapDetection:"useLegacyGapDetection"},features:[_.wd,_.Gc],decls:0,vars:0,template:function(){},styles:[".composable-layer[_nghost-%COMP%]{position:absolute;height:100%;width:100%;top:0;left:0}[_nghost-%COMP%] .overlay-z-index{z-index:9}\n/*# sourceMappingURL=ac_band.css.map */"],
changeDetection:0});var lQe=class{};lQe.\u0275fac=function(a){return new (a||lQe)};lQe.\u0275mod=_.Bc({type:lQe});lQe.\u0275inj=_.tc({imports:[_.ql]});
var k9=_.wh("[AC] Set last interaction for chart X axis",_.xh()),l9=_.wh("[AC] Set last interaction for Y axis",_.xh());
var m9=_.wh("[AC] Sets x axis pin position",_.xh()),n9=_.wh("[AC] Sets whether x axis pin is locked",_.xh()),o9=_.wh("[AC] Sets whether x axis pin is tracking now",_.xh());
var qBe=function(){mQe||(mQe=Uint8Array.from(atob(nQe),a=>a.charCodeAt(0)).buffer);return mQe.slice(0)},oQe=class{},mQe,nQe="UklGRpYGAABXQVZFZm10IBAAAAABAAEAgLsAAAB3AQACABAAZGF0YXIGAAAVABMCiwc3CUwKDPwt+nv/3pyOIa0hAoD8J+pEGwikGsU+jW+hJvM1iURL0gW7VeYNlTmB2axy1mK8ov0+UqB5+lv/f2d1JVmPFkUATsFoll+bbYUBgKvq67zF/4RSlVc1ZgBw43NEOFEPlQgfy+WoHpbNmQ+hz8X749sOoiA3VatuWmWQPAFQbRDW8PHcX7e4nKOi/7kI1y7QEg+zNstAF1EOUsFDITvYFozxXtRlyTar9rQCyzLFjt2QIvYmTSwhRoVOujizKdUS0vhe1cjT1MPysXnFVuq36iUEYRygOfg4jToXMSElmAiR+9Hmo9G4wmPOl9ZF4KntvwnXGLosrDCMLPUt7xolDSX51Oab2pjQBdj43NLd6PaZDEAVaRtILrImohwFHuYMiPbg5dDm1tz012fek/PN81kCThGcIL8eqyASGSga+QAS+WX1S+l82RXlVuxI6uz1EQ+1Ba0Xdh8SGRcTkA8oCib9tuoQ8bzneOm+5zHzOf7kAdkLRRABF7wXixAyC+ICnQED77jzJO+M527vNvcM/v0BawajEUoOKxQvECQHzwG+/1n4cvGO7yrzEfD/+Av9HAXjAt8LPhBXDg8J6gjYAl78kfm59gP1zvDd9ZP8+fvp/msIzgpLC6YGRwtDCPH/Cfzi/Ur4v/Or9Zz78/eD/ncDVgMrBhkJKgnaB3YDfgJu/Wj7Qvle+vD29/k3/EX9UQOVA/sDogcAB0cGbwNAAUv+t/ux/H36Tvj0+439nP3+/28GCgOEAvQGJAbiATYAlf6q/+v52Pqc/Kr9bvt9/wMABgXuAGwFtgNOAsMD7AAR/in+2v18+4z84vys/rv/AgCSAI8E2APUAHYCxgPcAEj9uP4t/4H7Ev6R/tj9q/5/AX8BkgAmBMACHQHDANYAGQF4/jH7NwAr/aL/Wf6Q/TsCiQFqAIYCVwFSAlEAfAAIALb+Nf45/2f9qP5YAIT/6f6uAQUBgwJJAPMANAGTAHD/JwDf/SH+sP/s/tb/ZP9u/4QBIwHUAPMAKAGDAJgAYf7+AI3+zv66/8H+r/4mAe7/BQCjAMEBFQDFAFwAuQAa/2oAHf80/4z+ewAM/7f/iAChAFIAJgCTAHgB4//g/x0AYv/i/27/Nf+c/4D/BQBGALwAq/+KAJsAxgDU/73/AwEG/2X/bwDZ/mr/IQBLACAA1f8kAH0AwwDs/8EArP9x/4IAXP/a//X/BP9dAOv/kf/OADUAzP/PAHn/MAF8/7L/nQDg/jYAFQA//+T/UgAOALD/jgAxAOL/RQCuAIv/+f/k/9//Yf+lAKX/f/87AMb/RQA8AB0AUwDP/zsA9//1/zIAof/1/9z/wv8dAM//UgDX/ysAGgD2/4cAsf/x/2wAdf/y//7//v8/AE//6/+GAMn/SwDe/zcALgCc/0QALgCW/xoAKQCI/9X/QgDy/+f/JwAkAOn/IQD9/xsABQAOAP3/uf8PADYAg/8hAAoA6v8SADQA5P/l/00A6v8iAM7/NwDU//j/BADV/8P/ZwDr/+7/FADx/xkAFADt/xMADQD3//X/2v8eAOT/1f9CAP3/AAD6/9z/PQAxAMD/9v8qANj/QADI/9z/EwDf/zoAyf82APL/1P8nACQAxv81AAAAxf8iAPD/+f/c/yUANwCL/2sAxP8oACAAq/9nANL/7f81ALb/QwDZ/9f/LgD8/wsA8v/+/xQA+P/i/04A1v/q/zUA2//a/z8A4f8RAPn/7v8JABEA8f8NAPz/BAD+/wIA+/8CAPz////+//////8DAP7/BAAAAAIAAQACAP7/AwD8/wEA/f////////8AAAIA/f8FAP3/BQD//wEAAAAAAP//////////AAD//wAA//8CAAAAAgD//wMA/v8CAP////8BAP7/AAD//wAA//8CAP//AgD+/wMA/v8DAP//AAD/////AQD+/wIA/f8BAAEA/v8EAPv/BwD6/wUA/f8BAAEA/f8CAP7/AQD//wEA/f8FAPv/BQD8/wMA//8AAAEA/v8BAAAA//8BAP//AAAAAAEA//8BAAAAAAAAAAEA/v8CAP//AAD//wIA/v8BAP//AQD//wIA/////wMA/f8CAAAA/v8DAP7/AAABAP//AQD//wEA//8BAAAA//8BAAAAAAAAAP//AgD9/wQA+/8FAPz/AwD+/wEAAAD//wEAAAAAAP//AQA=",
pQe=new oQe;
var j6=(a,b)=>{if((a=a.bucketOptions)&&a.exponentialBuckets&&a.exponentialBuckets.growthFactor){var c=a.exponentialBuckets.scale||1;a=a.exponentialBuckets.growthFactor;return[c*Math.pow(a,b-1),c*Math.pow(a,b)]}return a&&a.linearBuckets&&a.linearBuckets.width?(c=a.linearBuckets.offset||0,a=a.linearBuckets.width,[c+a*(b-1),c+a*b]):a&&a.explicitBuckets&&a.explicitBuckets.bounds?(a=a.explicitBuckets.bounds,[0<b?a[b-1]:-Infinity,b<a.length?a[b]:Infinity]):[null,null]};
var qQe=class{constructor(){try{this.session=new sBe}catch(a){this.session=null}}};qQe.\u0275fac=function(a){return new (a||qQe)};qQe.\u0275prov=_.m({token:qQe,factory:qQe.\u0275fac,providedIn:"root"});
var rQe=["topLeftCell"],sQe=["audioHeader"],tQe=["virtualTableValueButton"],uQe=["virtualTableColumnHeaderButton"],vQe=["virtualTableRowHeaderButton"],wQe=["virtualTableAudioValueButton"],Zje=function(a,b){return{"left.px":a,"top.px":b}},hke=function(a,b,c,d){return{"left.px":a,"top.px":b,"height.px":c,"width.px":d}},xQe="ArrowUp ArrowDown ArrowLeft ArrowRight Enter Space PageDown PageUp Home End".split(" "),yQe=0,Wje=function(a){if(!a.focusedCell||!a.audioChartsEnabled)return!1;const [b,c]=a.focusedCell;
return 0===b&&1===c},Yje=function(a,b){if($je(a,b+1))a.expansionColumnMask[b]=!1,a.statusUpdate="1 column hidden";else{let c=b+1,d=0;for(a.expansionColumnMask[b]=!0;c<a.expansionColumnMask.length&&!$je(a,c)&&10>d;)a.expansionColumnMask[c]=!0,c++,d++;a.statusUpdate=(new _.ji("{NUM_COLUMNS, plural, =1 {1 more column shown} other {{NUM_COLUMNS} more columns shown}}")).format({NUM_COLUMNS:d})}a.cdr.markForCheck()},bke=function(a){let b;return null!==(null==(b=a.audioChartsService.session)?void 0:b.getProgress())},
eke=function(a,b){const c=a.internalRows[b];return a.internalAudioValues[b].audioChartOptions?(new _.ji("Play audio overview for {ROW_LABEL}")).format({ROW_LABEL:c.label}):(new _.ji("No audio overview available for {ROW_LABEL}")).format({ROW_LABEL:c.label})},fke=function(a,b){if(!a.internalAudioValues[b].audioChartOptions)return"";b=a.internalRows[b];b=[(new _.ji("Pitch represents the y axis and time represents the x axis.")).format({ROW_LABEL:b.label})];let c;const d=null==(c=a.grid)?void 0:c.yAxisState;
d&&null!==d.min&&null!==d.max&&b.push((new _.ji("Y axis ranges from {MIN} to {MAX}.")).format({MIN:C5(d.min,d.unit),MAX:C5(d.max,d.unit)}));var e;(a=null==(e=a.grid)?void 0:e.xAxisState)&&null!==a.min&&null!==a.max&&("ms_since_epoch"===a.unit?(e=e6(a.timezoneOffset,a.timeZoneId),b.push((new _.ji("X axis ranges from {MIN} to {MAX}.")).format({MIN:Ahe(new Date(a.min),e),MAX:Ahe(new Date(a.max),e)}))):b.push((new _.ji("X axis ranges from {MIN} to {MAX}.")).format({MIN:C5(a.min,a.unit),MAX:C5(a.max,a.unit)})));
return b.join(" ")},mke=function(a){return(new _.ji('Populate data for table, "{LAYER_TITLE}", on chart, "{CHART_TITLE}"')).format({CHART_TITLE:a.chartTitle||"Untitled",LAYER_TITLE:a.layerTitle})},$je=function(a,b){const c=a.columnMask||[];return!!(a.baseColumnMask[b]||c[b]||a.expansionColumnMask[b]||a.focusColumnMask[b])},jke=function(a,b){const c=a.rowMask||[];return!!(a.baseRowMask[b]||c[b]||a.expansionRowMask[b]||a.focusRowMask[b])},zQe=function(a,b){const c=[];for(let d=0;d<b.length;d++)jke(a,
d)&&c.push({rowIndex:d,row:b[d]});return c},AQe=function(a,b){if(0===b)return a.internalRows;if(a.audioChartsEnabled&&1===b)return a.internalAudioValues;const c=[];for(let d=0;d<a.internalValues.length;d++)c.push(a.internalValues[d][b-a.numberOfHeaderColumns]);return c},BQe=function(a,b,c){return 1>b?b:AQe(a,c).findIndex(d=>d.visualRowIndex===b)+1},CQe=function(a,b,c){if(0===b)return a.internalColumns[c-a.numberOfHeaderColumns];if(0===c)return a.internalRows[b-1];if(a.audioChartsEnabled&&1===c)return a.internalAudioValues[b-
1];if(!a.focusedValue)return null;const [d,e]=a.focusedValue;return(a=a.internalValues[d])?a[e]||null:null},dke=function(a,b,c){if(a.audioChartsEnabled){var d=DQe(a);c&&!d&&(c=a.audioChartsService.session,b=a.internalAudioValues[b].audioChartOptions,DQe(a),b&&(null==c||c.play(b)))}},EQe=function(a,b){a.onFocusedCellChange.emit({focusedCell:b,focusedGridIndices:k6(b,a.numberOfHeaderColumns)})},FQe=function(a){if(!a.focusedCell)return!1;const [b,c]=a.focusedCell;return 0===b&&0===c},HQe=function(a){GQe(a);
if(a.grid){const b=a.grid.columns;a.baseColumnMask=b.map((f,g)=>0===g||g===b.length-1);a.expansionColumnMask=b.map(()=>!1);const c=k6(a.focusedCell,a.numberOfHeaderColumns)[1];a.focusColumnMask=b.map((f,g)=>g===c);const d=a.grid.rows;a.baseRowMask=12>=d.length?d.map(()=>!0):d.map((f,g)=>0===g||g===d.length-1);a.expansionRowMask=d.map(()=>!1);const e=k6(a.focusedCell,a.numberOfHeaderColumns)[0];a.focusRowMask=d.map((f,g)=>g===e)}},IQe=function(a){return(new _.ji('Grid for data, "{LAYER_TITLE}", on chart, "{CHART_TITLE}". Navigate this grid using arrow keys. Page Up and Page Down moves focus up and down by 10 rows. Home and End moves focus to the first and last cell in the current row. Ctrl+Home and Ctrl+End moves focus to the first and last cell of the grid.')).format({CHART_TITLE:a.chartTitle||
"Untitled",LAYER_TITLE:a.layerTitle})},GQe=function(a){const b=a.focusedCellRow,c=a.focusedCellColumn,d=a.focusedCell;if(a.grid){var e=a.grid.rows,f=a.grid.columns,g=a.grid.values,h=[];for(var l=0;l<e.length;l++){var n=g[l];if(!n)break;h.push([]);for(let B=0;B<f.length;B++){const G=n[B];if(!G)break;h[l].push(Object.assign({},{id:`${a.id}-value-${l}-${B}`,tabindex:-1,visualRowIndex:0},G))}}for(g=0;g<f.length;g++){l=[];for(n=0;n<e.length;n++)l.push(h[n][g]);l=l.sort((B,G)=>void 0===B.value&&void 0===
G.value?0:void 0===B.value?1:void 0===G.value?-1:B.position.y-G.position.y);for(n=0;n<l.length;n++)l[n].visualRowIndex=n+1}var r=[];for(g=0;g<f.length;g++){var v=void 0;l=null==(v=h[0])?void 0:v[g];var w=void 0,y=void 0;l=Object.assign({},null!=(y=null==(w=l)?void 0:w.position)?y:{},{y:0,height:void 0,width:void 0});r.push(Object.assign({},{id:`${a.id}-column-${g}`,tabindex:-1,position:l,visualRowIndex:0},f[g]))}f=[];v=[];w=a.grid.audioChartContext;for(y=0;y<e.length;y++){let B;g=Object.assign({},
null==(B=h[y][0])?void 0:B.position,{height:void 0,width:void 0});let G;f.push(Object.assign({},{id:`${a.id}-row-${y}`,tabindex:-1,position:g,visualRowIndex:null==(G=h[y][0])?void 0:G.visualRowIndex},e[y]));l=null;w&&(l={values:h[y].reduce((T,J,R)=>{R=r[R].value;J=J.value;return void 0===R||void 0===J?T:T.concat([{x:R,y:J}])},[]),earcons:r.length>=5*w.xAxis.ticks.length?w.xAxis.ticks.map(T=>({x:T,earcon:pQe})):void 0,xAxis:{density:r.length,min:w.xAxis.min,max:w.xAxis.max},yAxis:{min:w.yAxis.min,
max:w.yAxis.max}});let O;v.push({id:`${a.id}-audio-${y}`,tabindex:-1,position:g,visualRowIndex:null==(O=h[y][0])?void 0:O.visualRowIndex,audioChartOptions:l})}a.internalValues=h;a.internalColumns=r;a.internalRows=f;a.internalAudioValues=v}else a.internalValues=[],a.internalColumns=[],a.internalRows=[],a.internalAudioValues=[];JQe(a,d,b,c)},DQe=function(a){if(bke(a)){let b;null==(b=a.audioChartsService.session)||b.stop();return!0}return!1},JQe=function(a,b,c,d){if(b){var e=null,f=null;c&&(e=a.internalRows.findIndex(g=>
g.label===c.label),e=-1<e?e:null);d&&(f=a.internalColumns.findIndex(g=>g.label===d.label),f=-1<f?f:null);a.focusedCell=null!==e&&null!==f?[e+1,f+a.numberOfHeaderColumns]:null!==e&&null===f&&b[1]<a.numberOfHeaderColumns?[e+1,b[1]]:null!==f&&null===e&&1>b[0]?[b[0],f+a.numberOfHeaderColumns]:null;EQe(a,a.focusedCell)}},p9=class{constructor(a,b,c,d){this.chart=a;this.audioChartsService=b;this.cdr=c;this.ngZone=d;this.rowMask=this.columnMaskGenerator=this.columnMask=this.gridGenerator=this.grid=null;this.onGridCellActivateDescription=
"Activating a grid cell will open the tooltip at this data point";this.chartTitle="Untitled";this.layerTitle="";this.audioChartsEnabled=!0;this.onFocus=new _.$k;this.onBlur=new _.$k;this.onFocusedCellChange=new _.$k;this.onGridCellActivate=new _.$k;this.internalValues=[];this.internalColumns=[];this.internalRows=[];this.internalAudioValues=[];this.statusUpdate="";this.AUDIO_HEADER="Audio";this.refocusAfterViewChecked=!1;this.ignoreKeyboardEvents=new Set;this.focused=!1;this.id=`ac-accessibility-grid-${yQe++}`;
this.columnToggleDescriptionId=`${this.id}-column-toggle-description`;this.rowToggleDescriptionId=`${this.id}-row-toggle-description`;this.activateGridCellDescriptionId=`${this.id}-activate-gridcell-description`;this.audioChartButtonDescriptionId=`${this.id}-audio-chart-button-description`;this.focusColumnMask=[];this.expansionColumnMask=[];this.baseColumnMask=[];this.focusRowMask=[];this.expansionRowMask=[];this.baseRowMask=[];this.focusedCellInternal=null;this.destroyed=new _.tf;this.isActive=this.internalFocusTransfer=
!1;this.chart.keyDownObservable.pipe(_.Af(this.destroyed)).subscribe(e=>{this.ngZone.run(()=>{this.onKeyDown(e)})});this.chart.syncKeyDownObservable.pipe(_.Af(this.destroyed)).subscribe(e=>{this.focused?this.grid&&this.grid.rows.length&&this.grid.columns.length&&xQe.includes(e.key)&&e.preventDefault():this.ignoreKeyboardEvents.add(e)})}get numberOfHeaderColumns(){return this.audioChartsEnabled?2:1}get focusedCell(){return this.focusedCellInternal}get focusedValue(){const a=this.focusedCell;if(!a)return null;
const [b,c]=a;return 1>b||c<this.numberOfHeaderColumns?null:[b-1,c-this.numberOfHeaderColumns]}set focusedCell(a){var b=this.focusedCellProps;b&&(b.tabindex=-1);this.focusedCellInternal=a;if(b=this.focusedCellProps)b.tabindex=0;const c=k6(a,this.numberOfHeaderColumns)[0],d=k6(a,this.numberOfHeaderColumns)[1];let e;this.focusColumnMask=(null==(e=this.grid)?void 0:e.columns.map((g,h)=>h===d))||[];let f;this.focusRowMask=(null==(f=this.grid)?void 0:f.rows.map((g,h)=>h===c))||[];this.focused&&(this.refocusAfterViewChecked=
!0)}shownColumns(a){const b=[];for(let c=0;c<a.length;c++)$je(this,c)&&b.push({colIndex:c,column:a[c]});return b}trackByIndex(a){return String(a)}trackColumnById(a,b){return b.column.id}trackRowById(a,b){return b.row.id}onKeyDown(a){if(this.focused&&this.grid&&this.grid.rows.length&&!this.ignoreKeyboardEvents.has(a)&&this.grid.columns.length&&xQe.includes(a.key)){this.statusUpdate="";var b=this.grid.rows.length+1-1,c=this.grid.columns.length+this.numberOfHeaderColumns-1;if(this.focusedCell){const [g,
h]=this.focusedCell;var d,e,f=null!=(e=null==(d=CQe(this,g,h))?void 0:d.visualRowIndex)?e:0;e=g;d=h;switch(a.key){case "ArrowUp":a=Math.max(0,f-1);e=BQe(this,a,d);break;case "PageUp":a=Math.max(0,f-10);e=BQe(this,a,d);break;case "ArrowDown":a=Math.min(b,f+1);e=BQe(this,a,d);break;case "PageDown":a=Math.min(b,f+10);e=BQe(this,a,d);break;case "ArrowLeft":d=Math.max(0,h-1);break;case "ArrowRight":d=Math.min(c,h+1);break;case "Home":a.ctrlKey&&(e=0);d=0;break;case "End":d=c;a.ctrlKey&&(e=BQe(this,b,d));
break;case "Enter":case "Space":dke(this,e-1,d<this.numberOfHeaderColumns);let l;d>=this.numberOfHeaderColumns&&1<=e&&null===(null==(l=this.audioChartsService.session)?void 0:l.getProgress())?(a=this.focusedCellRef)&&this.focused&&this.onGridCellActivate.emit(a.nativeElement):d>=this.numberOfHeaderColumns&&0===e?Yje(this,d-this.numberOfHeaderColumns):0===d&&1<=e&&this.toggleRow(e-1)}if(g!==e||h!==d)this.focusedCell=[e,d],EQe(this,this.focusedCell);g!==e&&(this.statusUpdate=1<=e?(new _.ji("Data series {SERIES_NAME} is now selected")).format({SERIES_NAME:this.internalRows[e-
1].label}):"Data series unselected")}else{f=null;switch(a.key){case "ArrowUp":case "PageDown":case "ArrowLeft":case "ArrowDown":case "ArrowRight":case "PageUp":case "Home":f=[1,0];break;case "End":f=[b,c]}f!==this.focusedCell&&(f[0]=BQe(this,f[0],f[1]),this.focusedCell=f,EQe(this,this.focusedCell))}}else this.ignoreKeyboardEvents.has(a)&&this.ignoreKeyboardEvents.delete(a)}get focusedCellRef(){if(!this.focusedCell)return null;if(FQe(this))return this.topLeftCellRef;if(Wje(this))return this.audioHeaderRef;
let a;const b=null==(a=this.focusedCellProps)?void 0:a.id;return b?this.valueRefs.find(c=>c.nativeElement.id===b)||this.columnHeaderRefs.find(c=>c.nativeElement.id===b)||this.rowHeaderRefs.find(c=>c.nativeElement.id===b)||this.audioValueRefs.find(c=>c.nativeElement.id===b)||null:null}get focusedCellProps(){if(!this.focusedCell||2!==this.focusedCell.length)return null;const [a,b]=this.focusedCell;return CQe(this,a,b)}focus(a){this.isActive||(this.isActive=!0,this.gridGenerator&&(this.grid=this.gridGenerator(),
HQe(this)),this.columnMaskGenerator&&(this.columnMask=this.columnMaskGenerator()));this.focused=!0;this.onFocus.next(a);this.focusedCell||(this.focusedCell=[0,0]);this.internalFocusTransfer||EQe(this,this.focusedCell)}blur(a){this.focused=!1;this.internalFocusTransfer||(this.onBlur.next(a),EQe(this,null))}ngOnChanges(a){if("grid"in a||"gridGenerator"in a)this.gridGenerator&&this.isActive&&(this.grid=this.gridGenerator()),HQe(this);"columnMaskGenerator"in a&&this.columnMaskGenerator&&this.isActive&&
(this.columnMask=this.columnMaskGenerator())}ngAfterViewChecked(){if(this.refocusAfterViewChecked){this.refocusAfterViewChecked=!1;const a=this.focusedCellRef;this.internalFocusTransfer=!0;a&&a.nativeElement.focus();this.internalFocusTransfer=!1}}toggleRow(a){if(jke(this,a+1))this.expansionRowMask[a]=!1,this.statusUpdate="1 row hidden";else{let b=a+1,c=0;for(this.expansionRowMask[a]=!0;b<this.expansionRowMask.length&&!jke(this,b)&&10>c;)this.expansionRowMask[b]=!0,b++,c++;this.statusUpdate=(new _.ji("{NUM_ROWS, plural, =1 {1 more row shown} other {{NUM_ROWS} more rows shown}}")).format({NUM_ROWS:c})}this.cdr.markForCheck()}get focusedCellRow(){var a=
this.focusedCell;if(!a)return null;[a]=k6(a,this.numberOfHeaderColumns);return null===a?null:this.internalRows[a]}get focusedCellColumn(){var a=this.focusedCell;if(!a)return null;[,a]=k6(a,this.numberOfHeaderColumns);return null===a?null:this.internalColumns[a]}getAriaLabel(){return this.grid&&this.internalRows.length?(new _.ji("{NUM_OTHER_TIME_SERIES, plural,=0 {Data for chart, {CHART_TITLE}, including time series, {FIRST_TIME_SERIES_NAME}}=1 {Data for chart, {CHART_TITLE}, including time series, {FIRST_TIME_SERIES_NAME}, and # other}other {Data for chart, {CHART_TITLE}, including time series, {FIRST_TIME_SERIES_NAME}, and # others}}")).format({CHART_TITLE:this.chartTitle||
"Untitled",FIRST_TIME_SERIES_NAME:this.internalRows[0].label,NUM_OTHER_TIME_SERIES:this.internalRows.length-1}):(new _.ji("No data available for table, {LAYER_TITLE}, on chart, {CHART_TITLE}")).format({CHART_TITLE:this.chartTitle||"Untitled",LAYER_TITLE:this.layerTitle})}ngOnDestroy(){this.destroyed.next();this.destroyed.complete()}};p9.\u0275fac=function(a){return new (a||p9)(_.A(L8),_.A(qQe),_.A(_.el),_.A(_.Jf))};
p9.\u0275cmp=_.q({type:p9,selectors:[["ac-accessibility-grid"]],viewQuery:function(a,b){a&1&&(_.Oe(rQe,5),_.Oe(sQe,5),_.Oe(tQe,5),_.Oe(uQe,5),_.Oe(vQe,5),_.Oe(wQe,5));if(a&2){let c;_.Ne(c=_.Qe())&&(b.topLeftCellRef=c.first);_.Ne(c=_.Qe())&&(b.audioHeaderRef=c.first);_.Ne(c=_.Qe())&&(b.valueRefs=c);_.Ne(c=_.Qe())&&(b.columnHeaderRefs=c);_.Ne(c=_.Qe())&&(b.rowHeaderRefs=c);_.Ne(c=_.Qe())&&(b.audioValueRefs=c)}},hostAttrs:[1,"ac-accessibility-grid"],inputs:{grid:"grid",gridGenerator:"gridGenerator",
columnMask:"columnMask",columnMaskGenerator:"columnMaskGenerator",rowMask:"rowMask",onGridCellActivateDescription:"onGridCellActivateDescription",chartTitle:"chartTitle",layerTitle:"layerTitle",audioChartsEnabled:"audioChartsEnabled"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onFocusedCellChange:"onFocusedCellChange",onGridCellActivate:"onGridCellActivate"},features:[_.Gc],decls:24,vars:23,consts:function(){return[[1,"show-on-focus","ac-screen-reader-only-content","ac-a11y-focusable",3,"disabled",
"click"],["role","grid",1,"ac-accessibility-grid-table"],["virtualTable",""],["role","rowgroup"],["role","row",1,"table-rendering-layer"],["scope","col","role","columnheader",1,"top-left-table-header","ac-a11y-focusable","show-on-focus",3,"focus","blur"],["topLeftCell",""],[1,"ac-screen-reader-only-content"],["scope","col","role","columnheader","class","top-left-table-header ac-a11y-focusable",3,"focus","blur",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["role","row","class","table-rendering-layer series-row",
4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"]," If subsequent columns are omitted, activating a column header will reveal all subsequent columns up to the next revealed column.\n"," If subsequent rows are omitted, activating a row header will reveal all subsequent rows up to the next revealed row.\n",["role","status","aria-live","polite",1,"ac-screen-reader-only-content"],["scope","col","role","columnheader",1,"top-left-table-header","ac-a11y-focusable",3,"focus","blur"],["audioHeader",""],["scope",
"col","role","columnheader",1,"positioned-table-header",3,"ngStyle"],[1,"ac-screen-reader-only-content","show-on-focus","ac-a11y-focusable",3,"click","focus","blur"],["virtualTableColumnHeaderButton",""],["role","row",1,"table-rendering-layer","series-row"],["scope","row","role","rowheader",1,"positioned-table-header",3,"ngStyle"],["virtualTableRowHeaderButton",""],["class","positioned-table-header","role","gridcell",3,"ngStyle",4,"ngIf"],["role","gridcell",1,"positioned-table-header",3,"ngStyle"],
[1,"ac-screen-reader-only-content","show-on-focus","ac-a11y-focusable",3,"disabled","click","focus","blur"],["virtualTableAudioValueButton",""],["hidden",""],["role","presentation",1,"audio-chart-icon",3,"svgIcon"],["role","gridcell",1,"ac-a11y-focus-within","positioned-table-value",3,"ngStyle"],[1,"ac-screen-reader-only-content",3,"click","focus","blur"],["virtualTableValueButton",""],["role","gridcell","colspan","0"]," No data. ",' To save memory, this table is inactive by default. To populate this table, click the "\ufffd0\ufffd" button just prior to this table. ']},
template:function(a,b){a&1&&(_.E(0,"button",0),_.L("click",function(){b.isActive||(b.isActive=!0,b.gridGenerator&&(b.grid=b.gridGenerator(),HQe(b)),b.columnMaskGenerator&&(b.columnMask=b.columnMaskGenerator()),b.statusUpdate=(new _.ji("Table populated. A {NUM_ROWS} \u00d7 {NUM_COLUMNS} (rows \u00d7 columns) datasetis now available.")).format({NUM_COLUMNS:b.internalColumns.length,NUM_ROWS:b.internalRows.length}),b.focused=!0,b.focusedCell=[0,0])}),_.Q(1),_.F(),_.E(2,"table",1,2)(4,"thead",3)(5,"tr",
4)(6,"th",5,6),_.L("focus",function(c){return b.focus(c)})("blur",function(c){return b.blur(c)}),_.E(8,"span",7),_.Q(9),_.F()(),_.P(10,Xje,4,3,"th",8),_.P(11,ake,5,10,"ng-container",9),_.F()(),_.E(12,"tbody",3),_.P(13,kke,8,14,"tr",10),_.P(14,lke,4,0,"tr",11),_.P(15,nke,4,1,"tr",11),_.F()(),_.E(16,"p",7),_.K(17,12),_.F(),_.E(18,"p",7),_.K(19,13),_.F(),_.E(20,"p",7),_.Q(21),_.F(),_.E(22,"p",14),_.Q(23),_.F());a&2&&(_.C("disabled",b.isActive),_.x(1),_.Sd(" ",mke(b),"\n"),_.x(1),_.Bd("ac-a11y-focusable",
!0),_.zd("aria-label",b.getAriaLabel())("aria-rowcount",b.internalRows.length+1)("aria-colcount",b.internalColumns.length+1),_.x(3),_.zd("aria-rowindex",1),_.x(1),_.zd("aria-colindex",1)("tabindex",!b.focusedCell||FQe(b)?0:-1),_.x(3),_.Ud(IQe(b)),_.x(1),_.C("ngIf",b.audioChartsEnabled),_.x(1),_.C("ngForOf",b.shownColumns(b.internalColumns))("ngForTrackBy",b.trackByIndex),_.x(2),_.C("ngForOf",zQe(b,b.internalRows))("ngForTrackBy",b.trackRowById),_.x(1),_.C("ngIf",0===zQe(b,b.internalRows).length&&
b.grid),_.x(1),_.C("ngIf",!b.grid&&b.gridGenerator&&!b.isActive),_.x(1),_.zd("id",b.columnToggleDescriptionId),_.x(2),_.zd("id",b.rowToggleDescriptionId),_.x(2),_.zd("id",b.activateGridCellDescriptionId),_.x(1),_.Sd(" ",b.onGridCellActivateDescription,"\n"),_.x(2),_.Ud(b.statusUpdate))},dependencies:[_.kl,_.ll,_.xD,_.vo],styles:[".ac-screen-reader-only-content[_ngcontent-%COMP%]{clip:rect(1px, 1px, 1px, 1px);height:1px;margin:0;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px;z-index:-1000}.ac-a11y-focused[_ngcontent-%COMP%], .ac-a11y-focusable[_ngcontent-%COMP%]:focus, .ac-a11y-focus-within[_ngcontent-%COMP%]:focus-within, .ac-a11y-keyboard-focusable.cdk-keyboard-focused[_ngcontent-%COMP%]{outline:3px solid #3367d6;outline-offset:-3px}.ac-a11y-keyboard-focusable[_ngcontent-%COMP%]{outline:none}[_nghost-%COMP%]{position:relative}[_nghost-%COMP%]   .ac-accessibility-grid-table[_ngcontent-%COMP%]{position:relative;height:100%;width:100%}.table-rendering-layer[_ngcontent-%COMP%]{backface-visbility:hidden;will-change:opacity}.series-row[_ngcontent-%COMP%]{position:absolute;top:0px;left:0px}.positioned-table-header[_ngcontent-%COMP%]{position:absolute;white-space:nowrap;text-align:left;padding:0;max-width:100%;background-color:rgba(255,255,255,.5)}.positioned-table-value[_ngcontent-%COMP%]{position:absolute;text-align:left;padding:6px;transform:translate(-50%, -50%)}.audio-chart-icon[_ngcontent-%COMP%]{height:1em;width:1em;vertical-align:top;margin-top:-1px}.top-left-table-header[_ngcontent-%COMP%]{position:absolute;text-align:left;padding:0;font-weight:normal;top:0;left:0;background-color:rgba(255,255,255,.5)}button.show-on-focus[_ngcontent-%COMP%]:focus, th.show-on-focus[_ngcontent-%COMP%]:focus > span.ac-screen-reader-only-content[_ngcontent-%COMP%]{background-color:rgba(255,255,255,.5);font-family:sans-serif;font-size:11px;line-height:1.4em;padding:3px;color:#000}button.show-on-focus[_ngcontent-%COMP%]:focus.ac-screen-reader-only-content, th.show-on-focus[_ngcontent-%COMP%]:focus > span.ac-screen-reader-only-content.ac-screen-reader-only-content[_ngcontent-%COMP%]{clip:unset;height:unset;margin:unset;overflow:unset;position:unset;white-space:unset;width:unset;z-index:unset}th.show-on-focus[_ngcontent-%COMP%]:focus > span.ac-screen-reader-only-content[_ngcontent-%COMP%]{padding:5.5px;display:block}\n/*# sourceMappingURL=ac_accessibility_grid.css.map */"],
changeDetection:0});var q9=class{};q9.\u0275fac=function(a){return new (a||q9)};q9.\u0275mod=_.Bc({type:q9});q9.\u0275inj=_.tc({imports:[_.ql,_.Do]});
var KQe={fillStyle:"#000000",globalAlpha:1,globalCompositeOperation:"source-over",strokeStyle:"#000000",lineWidth:0},LQe={strokeStyle:"#ffffff",lineWidth:3},MQe=function(a,b){return(b=b.data.find(c=>null==c.x0||null==c.x?!1:c.x0.valueOf()<=a&&c.x.valueOf()>a))?b:null},NQe=function(a){return a.map(b=>({seriesId:b.metadata.series.id,value:b.metadata.point}))},OQe=function(a,b){let c=0,d=a.drawnRects.length-1,e=null;for(;c<=d;){const f=Math.floor((d+c)/2),{left:g,top:h,height:l,width:n}=a.drawnRects[f];
if(b.x>=g)if(b.x<g+n)if(b.y>=h)if(b.y<h+l){e=a.drawnRects[f];break}else c=f+1;else d=f-1;else c=f+1;else d=f-1}return e},PQe=function(a,b,c){return(d,e,f)=>{var g=d.y0||0;const h=Math.round(c(d.y1||d.y));g=Math.round(c(g))-h;var l,n=b((null!=(l=d.x0)?l:d.x).valueOf());l=b(d.x.valueOf());const r=l-n;n=Math.round(n+r*a.halfGutterRatio);return{top:h,left:n,height:g,width:Math.max(Math.round(l-r*a.halfGutterRatio)-n,1),metadata:{point:d,series:e,index:f}}}},RQe=function(a,b,c,d,e,f,g,h,l){a.ctx.save();
G5(a.ctx,h);G5(a.shapeCtx,LQe);b=l?b.filter(n=>l.has(n.id)):b;for(const n of b){b=d(n);a.ctx.fillStyle=b;a.shapeCtx.fillStyle=b;b=e&&e(n);let r=n.data.map((B,G)=>c(B,n,G));if(l){h=l.get(n.id);let B,G;if(null==(B=h)?0:null==(G=B.datumIndices)?0:G.length)r=h.datumIndices.map(O=>r[O.index])}let v;h=!(null==(v=l)||!v.get(n.id));let w=null,y=null;for(const B of r){a.ctx.fillRect(B.left,B.top,B.width,B.height);if(b){const {x:O,y:T,shapeWidth:J,shapeHeight:R,scalingFactor:ra}=QQe(B,f);null===w&&(w=10>=J);
!w&&(h||R<B.height)&&a.drawShapeWithinBounds(O,T,g,b,ra)}const G=B.left+B.width;G<=g.right&&(null===y||y.left+y.width<G)&&(y=B);a.drawnStacks.set(B.left,(a.drawnStacks.get(B.left)||[]).concat([B]))}b&&w&&y&&a.drawShape(y.left+y.width+8,y.top+y.height/2,b,f?16.8/f.width:1)}a.ctx.restore()},QQe=function(a,b){const c=Math.min(16.8,.5*a.width);return{x:a.left+a.width/2,y:a.top+a.height/2,shapeWidth:c,shapeHeight:c,scalingFactor:b?c/b.width:1}},SQe=class extends C8{constructor(a,b){super(a);this.queueService=
b;this.drawnRects=[];this.drawnStacks=new Map;this.shapeCanvas=document.createElement("canvas");this.fullDrawDebounceId=null;this.gutterRatioInternal=.35;this.shapeCanvas.setAttribute("aria-hidden","true");this.shapeCanvas.style.position="absolute";b=this.shapeCanvas.getContext("2d");if(!b)throw Error("ul");this.shapeCtx=b;a.appendChild(this.shapeCanvas)}get gutterRatio(){return this.gutterRatioInternal}set gutterRatio(a){this.gutterRatioInternal=a}get halfGutterRatio(){return this.gutterRatioInternal/
2}get halfGutterReverseRatio(){return 1/(1-this.halfGutterRatio)-1}draw(a,b){this.drawInternal(b)}onXAxisChange(a,b){if(D5(a)){this.drawInternal(b);let c;a=null==(c=a.currentValue)?void 0:c.lastUpdateCausedBy;this.queueService&&a&&(3===a&&r9(this.queueService,"time_to_pan_redraw","time to redraw chart from panning interaction"),4===a&&r9(this.queueService,"time_to_zoom_redraw","time to redraw chart from zooming interaction"))}}onResizeChange(a,b){J5(a)&&(Jhe(a)?this.drawInternal(b):(this.fullDrawDebounceId&&
(clearTimeout(this.fullDrawDebounceId),this.fullDrawDebounceId=null),B8(this,b,this.canvas,this.ctx),B8(this,b,this.shapeCanvas,this.shapeCtx),this.fullDrawDebounceId=setTimeout(()=>{this.fastResizeBufferMap.delete(this.canvas);this.fastResizeBufferMap.delete(this.shapeCanvas);this.drawInternal(b)},250)))}onYAxisChange(a,b){K5(a)&&this.drawInternal(b)}onSeriesSelectionChange(a,b){Lhe(a)&&this.drawInternal(b)}onColorMapChange(a,b){this.drawInternal(b)}getValuesAtTime(a,b){if(!b)return null;var c;a=
null==(c=a.data)?void 0:c.series;if(!a)return null;let d=null;c=a.map(e=>{const f=MQe(b,e);if(f&&!d){let g;d={x:f.x.valueOf(),x0:null==(g=f.x0)?void 0:g.valueOf()}}return{value:f,seriesId:e.id}});return d?{values:c,timeRange:d}:null}getValuesAtXPosition(a,b){a:{a=0;let f=this.drawnRects.length-1;for(;a<=f;){const g=Math.floor((f+a)/2),h=this.drawnRects[g],l=this.halfGutterReverseRatio*h.width,n=h.left+h.width+l;if(b>=h.left-l){if(b<n){b=this.drawnStacks.get(this.drawnRects[g].left)||null;break a}a=
g+1}else f=g-1}b=null}if(!b)return null;let c,d,e;return{values:NQe(b),timeRange:{x:null==(c=b[0])?void 0:c.metadata.point.x.valueOf(),x0:null==(d=b[0])?void 0:null==(e=d.metadata.point.x0)?void 0:e.valueOf()}}}getSeriesIdsBetween(a,b,c){c=OQe(this,c);if(!c)return null;var d=this.drawnStacks.get(c.left)||null;if(!d)return null;c=[];let e=!1;for(const f of d){d=f.metadata;if(d.series.id===a||d.series.id===b)if(e){c.push(d.series.id);break}else e=!0;e&&c.push(d.series.id)}return c}unpack(a){var b=a.scope;
const c=a.data,d=a.state,e=a.config;if(!d||!e)return null;var f=d.resize;a=d.xAxis;var g=d.yAxis;const h=d.brush;var l=d.seriesSelection;if(!(f&&a&&g&&h&&l))return null;const n=f.width,r=f.height,v=f.margins.top,w=f.height-f.margins.bottom,y=f.margins.left;f=f.width-f.margins.right;var B=L5(g,v,w,c?c.unit:null);g=E5(a,y,f);const G=F5(a,y,f);if(!(a.min&&null!==a.max&&g&&B&&G))return null;b=l.byLayer.entities[b.layerId];const O=!c||!e.colorStrategy.isReady||e.colorStrategy.isReady(c,d);B=PQe(this,g,
B);const T=e.colorStrategy.getShape,J=T&&(null==c?0:c.series.length)&&1<c.series.length?R=>T(R,d):null;l=Object.values(l.byLayer.entities).filter(R=>!!R).some(R=>R.selectedSeries.length||R.hoveredSeries.length);return{data:c,colorMap:R=>e.colorStrategy.getColor(R,d),isColorMapReady:O,shapeMap:J,shapeBoundingBox:e.colorStrategy.shapeBoundingBox,canvasWidth:n,canvasHeight:r,pointToRectMap:B,bodyLeft:y,bodyTop:v,bodyWidth:f-y,bodyHeight:w-v,bounds:{top:v,right:f,bottom:w,left:y},brushing:h.brushing||
!1,hoveredSeries:(null==b?void 0:b.hoveredSeries)||[],selectedSeries:(null==b?void 0:b.selectedSeries)||[],anySeriesSelectedOrHovered:l,inverseDomainMap:G,domainMap:g,xAxisMin:a.min,xAxisMax:a.max,gutterRatio:e.gutterRatio}}drawInternal(a){const b=performance.now();if((a=this.unpack(a))&&a.isColorMapReady){this.fullDrawDebounceId&&(clearTimeout(this.fullDrawDebounceId),this.fullDrawDebounceId=null);this.gutterRatio=void 0!==a.gutterRatio?a.gutterRatio:.35;this.canvas.style.left="0px";this.canvas.style.top=
"0px";H5(this.canvas,a.canvasHeight,a.canvasWidth);this.shapeCanvas.style.left="0px";this.shapeCanvas.style.top="0px";H5(this.shapeCanvas,a.canvasHeight,a.canvasWidth);this.drawnRects=[];this.drawnStacks.clear();var c=new Path2D;c.rect(a.bodyLeft,a.bodyTop,a.bodyWidth,a.bodyHeight);this.ctx.clip(c);var d=!a.brushing&&a.anySeriesSelectedOrHovered;c=Object.assign({},KQe,{globalAlpha:d?.15:1});this.shapeCtx.globalAlpha=d?.15:1;var e;d=null==(e=a.data)?void 0:e.series;if(null==d?0:d.length){if(e=a.shapeMap){const h=
new Set;for(var f of d)h.add(e(f));d.length>h.size&&(e=null)}RQe(this,d,a.pointToRectMap,a.colorMap,e,a.shapeBoundingBox,a.bounds,c)}f=Array.from(this.drawnStacks.keys()).sort((h,l)=>h-l);for(var g of f)f=this.drawnStacks.get(g)||[],f.sort((h,l)=>h.top-l.top),this.drawnStacks.set(g,f),this.drawnRects=this.drawnRects.concat(f);A8(this,a.xAxisMin,a.xAxisMax);g=performance.now();this.drawListener({drawStartTimestamp:b,drawStopTimestamp:g})}}drawShape(a,b,c,d){this.shapeCtx.moveTo(a,b);a=Hhe(a,b,c,d);
this.shapeCtx.save();this.shapeCtx.globalAlpha=1;this.shapeCtx.strokeStyle="#ffffff";this.shapeCtx.fillStyle="#ffffff";this.shapeCtx.lineWidth=void 0!==d?.6<=d?3:.4<=d?2:1:3;this.shapeCtx.stroke(a);this.shapeCtx.fill(a);this.shapeCtx.restore();this.shapeCtx.fill(a)}drawShapeWithinBounds(a,b,c,d,e){a<c.left-1||a>c.right+1||b<c.top-1||b>c.bottom+1||this.drawShape(a,b,d,e)}};
var TQe=class extends SQe{onSeriesSelectionChange(a,b){this.drawInternal(b)}drawInternal(a){if((a=this.unpack(a))&&a.isColorMapReady){this.canvas.style.left="0px";this.canvas.style.top="0px";H5(this.canvas,a.canvasHeight,a.canvasWidth);this.shapeCanvas.style.left="0px";this.shapeCanvas.style.top="0px";H5(this.shapeCanvas,a.canvasHeight,a.canvasWidth);var b=new Path2D;b.rect(a.bodyLeft,a.bodyTop,a.bodyWidth,a.bodyHeight);this.ctx.clip(b);b=[];if(!a.brushing&&a.hoveredSeries.length){const e=[...(new Set(a.hoveredSeries.flatMap(({datumIndices:f})=>
f||[]).map(({index:f})=>f)))];b=a.selectedSeries.map(f=>Object.assign({},f,{datumIndices:e.map(g=>({index:g}))})).concat(a.hoveredSeries)}else b=a.selectedSeries;b=b.reduce((e,f)=>e.set(f.seriesId,f),new Map);var c,d=null==(c=a.data)?void 0:c.series;(null==d?0:d.length)&&RQe(this,d,a.pointToRectMap,a.colorMap,a.shapeMap,a.shapeBoundingBox,a.bounds,KQe,b);A8(this,a.xAxisMin,a.xAxisMax)}}};
var s9=class{constructor(a){this.lastAveEvent=this.tracker=null;this.interactionEventListener=()=>{this.lastAveEvent=null};a&&(this.tracker=a.getEventTracker())&&this.tracker.addInteractionEventListener(this.interactionEventListener)}sendAveEvent(a,b,c,d={}){!(this.tracker&&this.tracker.logSyntheticEvent&&c)||d.debounce&&this.lastAveEvent&&this.lastAveEvent.eventType===a&&this.lastAveEvent.visualElement===b&&this.lastAveEvent.el===c||(this.tracker.logSyntheticEvent(a,new tBe(b),c),this.lastAveEvent=
{eventType:a,visualElement:b,el:c})}ngOnDestroy(){this.tracker&&this.tracker.removeInteractionEventListener(this.interactionEventListener)}},UQe=f7.AwesomeChartLegendPane,VQe=f7.HovercardZone,WQe=f7.LineDeselectToggle,XQe=f7.LineMultiSelectToggle,YQe=f7.LineSelectToggle,ZQe=f7.LineSpecificSelectToggle,$Qe=f7.XPanZone,aRe=f7.XZoomZone,bRe=f7.YZoomZone;s9.\u0275fac=function(a){return new (a||s9)(_.p(_.ut,8))};s9.\u0275prov=_.m({token:s9,factory:s9.\u0275fac,providedIn:"root"});
var t9=class{constructor(){this.registry=new Map}register(a,b){this.registry.set(a,b)}unregister(a,b){const c=this.registry.get(a);b===c&&this.registry.delete(a)}focus(a,b){(a=this.registry.get(a))&&a.focus(()=>{b.focus()})}};t9.\u0275fac=function(a){return new (a||t9)};t9.\u0275prov=_.m({token:t9,factory:t9.\u0275fac,providedIn:"root"});
var cRe=function(a,b){const c=performance.now();return(b=a.hiddenPageMeasurements.get(b))?b.hiddenSpans.reduce((d,{startTimestamp:e,endTimestamp:f})=>{if(null==f){if(a.isPageHidden)return d+c-e;console.error("Page hidden time span is missing an end timestamp");return d}return d+f-e},0):null},u9=class{constructor(a){this.document=a;this.hiddenPageMeasurements=new Map;this.isPageHidden="visible"!==this.document.visibilityState;this.onVisibilityChange=()=>{if("visible"===this.document.visibilityState){var b=
performance.now();this.isPageHidden=!1;for(var c of this.hiddenPageMeasurements.values()){var d=c.hiddenSpans;(d=d[d.length-1])?d.endTimestamp=b:console.error("No latest span was found for a hidden time measurement")}}else{c=performance.now();this.isPageHidden=!0;for(b of this.hiddenPageMeasurements.values())b.hiddenSpans.push({startTimestamp:c})}};this.document.addEventListener("visibilitychange",this.onVisibilityChange)}startHiddenMeasurement(a){const b=performance.now(),c=[];this.isPageHidden&&
c.push({startTimestamp:b});this.hiddenPageMeasurements.set(a,{hiddenSpans:c})}endHiddenMeasurement(a){const b=cRe(this,a);this.hiddenPageMeasurements.delete(a);return b}ngOnDestroy(){this.document.removeEventListener("visibilitychange",this.onVisibilityChange)}};u9.prototype.endHiddenMeasurement=u9.prototype.endHiddenMeasurement;u9.\u0275fac=function(a){return new (a||u9)(_.p(_.Pg))};u9.\u0275prov=_.m({token:u9,factory:u9.\u0275fac,providedIn:"root"});
var dRe=_.wh("[AC] Map chart IDs to a dashboard ID",_.xh());
var eRe=function(a,b){return a.dashboardState$.pipe(_.Ge(({chartIdToDashboardId:c})=>null!=c[b]),_.U(({chartIdToDashboardId:c})=>c[b]),_.af(1))},v9=function(a,b){a.didWarnMissingGenerator||null!==a.generator?a.generator&&(null!=b.dashboardId||"dashboardId"in b?a.generator.receiveSignal(b):eRe(a,b.chartId).subscribe(c=>{b.dashboardId=c;let d;null==(d=a.generator)||d.receiveSignal(b)})):a.didWarnMissingGenerator=!0},w9=class{constructor(a,b){this.pageVisibilityService=a;this.store=b;this.analyticsService=
this.generator=null;this.didWarnMissingGenerator=!1;this.dashboardState$=this.store.pipe(_.Eh(oke()),_.Ge(c=>null!=(null==c?void 0:c.chartIdToDashboardId)))}initialize(){this.didWarnMissingGenerator||null!==this.generator?this.generator&&this.generator.initialize():this.didWarnMissingGenerator=!0}stop(){this.didWarnMissingGenerator||null!==this.generator?this.generator&&this.generator.stop():this.didWarnMissingGenerator=!0}};w9.\u0275fac=function(a){return new (a||w9)(_.p(u9),_.p(_.fq))};
w9.\u0275prov=_.m({token:w9,factory:w9.\u0275fac,providedIn:"root"});
var r9=function(a,b,c){var d;if(null!=(d=_.DN.getAnalytics())&&d.sendTiming&&a.eventStartTime){d=a.analyticEventTimings.get(b);var e=Date.now()-a.eventStartTime;d?(d.lastEventTime=Date.now(),d.eventTimings.push(e)):(a.analyticEventTimings.set(b,{eventTimings:[e],lastEventTime:Date.now()}),fRe(a,b,c))}},x9=function(a,b,c){const d=Date.now();if(gRe){var e=a.pendingEventTimeouts.has(b);a.pendingEventTimeouts.set(b,c);e||setTimeout(()=>{const f=a.pendingEventTimeouts.get(b);a.eventStartTime=d;f&&f();
a.eventStartTime=null;a.pendingEventTimeouts.delete(b)},0)}else a.eventStartTime=d,c(),a.eventStartTime=null},jRe=function(a,b){const c=b.changes,d=b.mergeKey;var e=Date.now();if(iie(b)||jie(b)){const f=a.pendingViewRequests.get(d);f?f.changes={previousValue:f.changes.previousValue,currentValue:c.currentValue}:iie(b)?a.pendingViewRequests.set(d,{handler:b.viewHandler,changes:c,scheduledTime:e,scope:b.scope,eventStartTime:a.eventStartTime}):a.pendingViewRequests.set(d,{handlerUsingContext:b.viewHandlerUsingContext,
changes:c,context:b.context,scheduledTime:e,scope:b.scope,eventStartTime:a.eventStartTime});null===a.timeToFirstQueue&&(a.timeToFirstQueue=Date.now()-a.timeInit)}if(kie(b)||lie(b))(e=a.pendingComponentRequests.get(d))?e.changes={previousValue:e.changes.previousValue,currentValue:c.currentValue}:kie(b)?a.pendingComponentRequests.set(d,{handler:b.componentHandler,changes:c,scope:b.scope,eventStartTime:a.eventStartTime}):a.pendingComponentRequests.set(d,{handlerUsingContext:b.componentHandlerUsingContext,
changes:c,context:b.context,scope:b.scope,eventStartTime:a.eventStartTime});(kie(b)||lie(b))&&hRe(a);(iie(b)||jie(b))&&iRe(a)},kRe=function(a,b){const c=b.changes;iie(b)?b.viewHandler(c):jie(b)&&b.viewHandlerUsingContext(c,b.context);let d;kie(b)?d=b.componentHandler(c):lie(b)&&(d=b.componentHandlerUsingContext(c,b.context));d&&d.length&&a.store.dispatch(O5({actions:d}))},hRe=function(a){a.nextSetTimeoutId||a.ngZone.runOutsideAngular(()=>{a.nextSetTimeoutId=setTimeout(()=>{a.nextSetTimeoutId=null;
let b=[];var c=Array.from(a.pendingComponentRequests.keys());for(const d of c){c=a.pendingComponentRequests.get(d);if(!c)continue;a.eventStartTime=c.eventStartTime;a.pendingComponentRequests.delete(d);let e;c.handlerUsingContext?e=c.handlerUsingContext(c.changes,c.context):c.handler&&(e=c.handler(c.changes));a.eventStartTime=null;e&&(b=b.concat(e))}b.length&&a.store.dispatch(O5({actions:b}));a.pendingComponentRequests.size&&hRe(a)},0)})},iRe=function(a){a.nextAnimationFrameId||a.ngZone.runOutsideAngular(()=>
{a.nextAnimationFrameId=requestAnimationFrame(()=>{a.nextAnimationFrameId=null;var b=Array.from(a.pendingViewRequests.keys());for(const h of b)if(b=a.pendingViewRequests.get(h)){var c=void 0,d=a,e=h;if(null===d.timeToFirstDraw){var f=void 0,g=d;g.timeToFirstDraw=Date.now()-(null!=(f=g.timeToFirstQueue)?f:0)-g.timeInit;g.pageVisibilityService.startHiddenMeasurement("timeToInteractivity")}if(e=d.pendingViewRequests.get(e))if(g=Date.now(),f=g-Math.max(e.scheduledTime,null!=(c=d.lastTaskRunTime)?c:0),
d.lastTaskRunTime=g,50<f&&lRe(d,performance.now(),e.scope,f),null===d.timeToInteractivity){d.trailingDelays.unshift({delay:f,time:g});d.trailingDelaysSum+=f;for(c=g-500;d.trailingDelays[d.trailingDelays.length-1].time<c;){let l,n;d.trailingDelaysSum-=null!=(n=null==(l=d.trailingDelays.pop())?void 0:l.delay)?n:0}50>(10<=d.trailingDelays.length?d.trailingDelaysSum/d.trailingDelays.length:Infinity)&&(e=c=void 0,d.timeToInteractivity=Date.now()-(null!=(e=d.timeToFirstDraw)?e:0)-(null!=(c=d.timeToFirstQueue)?
c:0)-d.timeInit,c=d.pageVisibilityService.endHiddenMeasurement("timeToInteractivity")||0,(e=_.DN.getAnalytics())&&e.sendTiming&&e.sendTiming("interval","pageLoadTime",d.timeToInteractivity,"page load time by time to interactivity",{pageHiddenMs:c},{prohibitGa:!0}))}a.eventStartTime=b.eventStartTime;a.pendingViewRequests.delete(h);b.handlerUsingContext?b.handlerUsingContext(b.changes,b.context):b.handler&&b.handler(b.changes);a.eventStartTime=null;0===a.pendingViewRequests.size&&_.QO.sendPointEvent("queue-emptied")}a.pendingViewRequests.size&&
iRe(a)})})},lRe=function(a,b,c,d){eRe(a.instrumentationService,c.chartId).subscribe(e=>{v9(a.instrumentationService,{type:"dashboard-non-interactivity",dashboardId:e,timestamp:b,metadata:{blockingTimeMs:d}})})},fRe=function(a,b,c){var d=a.analyticEventTimings.get(b);d&&(d=Date.now()-d.lastEventTime,setTimeout(()=>{var e=a.analyticEventTimings.get(b);e&&(0<2E3-(Date.now()-e.lastEventTime)?fRe(a,b,c):(e=e.eventTimings.reduce((f,g)=>f+g,0)/e.eventTimings.length,a.sendAnalyticsEvent(b,c,e),a.analyticEventTimings.delete(b)))},
2E3-d))},y9=class{constructor(a,b,c,d){this.store=a;this.ngZone=b;this.instrumentationService=c;this.pageVisibilityService=d;this.pendingComponentRequests=new Map;this.pendingViewRequests=new Map;this.nextSetTimeoutId=this.nextAnimationFrameId=null;this.pendingEventTimeouts=new Map;this.trailingDelays=[];this.trailingDelaysSum=0;this.timeInit=Date.now();this.lastTaskRunTime=this.eventStartTime=this.timeToInteractivity=this.timeToFirstDraw=this.timeToFirstQueue=null;this.analyticEventTimings=new Map}scheduleChangeHandler(a){gRe?
a.mergeKey?jRe(this,a):this.ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{kRe(this,a)})}):kRe(this,a)}sendAnalyticsEvent(a,b,c){const d=_.DN.getAnalytics();(null==d?0:d.sendTiming)&&d.sendTiming("interval",a,c,b,{},{prohibitGa:!0})}},gRe=!0;y9.\u0275fac=function(a){return new (a||y9)(_.p(_.fq),_.p(_.Jf),_.p(w9),_.p(u9))};y9.\u0275prov=_.m({token:y9,factory:y9.\u0275fac,providedIn:"root"});
var mRe=new _.Sr(_.iZ.MONTH_DAY_ABBR),nRe=new _.Sr(7),oRe=(a,b)=>nRe.format(a,b),qke=(a,b)=>{const c=mRe.format(a,b);a=nRe.format(a,b);return`${c}, ${a}`},pke={[f6.WEEKLY]:qke,[f6.DAILY]:qke,[f6.QUARTER_DAY]:qke,[f6.TWO_HOURLY]:qke,[f6.HOURLY]:oRe,[f6.HALF_HOURLY]:oRe,[f6.TEN_MINUTES]:oRe,[f6.FIVE_MINUTES]:oRe};
var Qle=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform);
/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
var rRe=function(a){var b=0,c=a.length,d={a:-1640531527,b:-1640531527,c:314159265},e;for(e=c;12<=e;e-=12,b+=12)d.a+=pRe(a,b),d.b+=pRe(a,b+4),d.c+=pRe(a,b+8),qRe(d);d.c+=c;switch(e){case 11:d.c+=a[b+10]<<24;case 10:d.c+=(a[b+9]&255)<<16;case 9:d.c+=(a[b+8]&255)<<8;case 8:d.b+=pRe(a,b+4);d.a+=pRe(a,b);break;case 7:d.b+=(a[b+6]&255)<<16;case 6:d.b+=(a[b+5]&255)<<8;case 5:d.b+=a[b+4]&255;case 4:d.a+=pRe(a,b);break;case 3:d.a+=(a[b+2]&255)<<16;case 2:d.a+=(a[b+1]&255)<<8;case 1:d.a+=a[b]&255}return qRe(d)},
qRe=function(a){var b=a.a,c=a.b,d=a.c;b=b-c-d^d>>>13;c=c-d-b^b<<8;d-=b;d=d-c^c>>>13;b-=c;b-=d;b^=d>>>12;c=c-d-b^b<<16;d-=b;d=d-c^c>>>5;b-=c;b-=d;b^=d>>>3;c=c-d-b^b<<10;d-=b;d=d-c^c>>>15;a.a=b;a.b=c;return a.c=d},pRe=function(a,b){return sRe(a[b])+(sRe(a[b+1])<<8)+(sRe(a[b+2])<<16)+(sRe(a[b+3])<<24)},sRe=function(a){return 127<a?a-256:a};
var tRe="#1967D2 #129EAF #D01884 #E64A19 #7627BB #34A853 #283593 #455A64 #EF6C00 #B31412 #0D652D #0091EA".split(" ");
var uRe="m -6.5 0 a 6.5 6.5 0 1 0 13 0 a 6.5 6.5 0 1 0 -13 0;m 5.835 5.835 h -11.67 v -11.67 h 11.67 v 11.67 z m -5.835 -5.835;m 0 -7.82 l 7.82 7.82 l -7.82 7.82 l -7.82 -7.82 l 7.82 -7.82 z m 0 7.82;m -8.25 -5.28 h 16.5 l -8.25 12.17 l -8.25 -12.17 z m 8.25 5.28;m -8.25 5.28 h 16.5 l -8.25 -12.17 l -8.25 12.17 z m 8.25 -5.28;m 6.54 -0.19 a 6.54 6.54 0 1 0 -13.08 0 v 6.54 h 13.08 z m -6.54 0.19;m 2.94 -2.94 h 5.36 v 5.88 h -5.36 v 5.36 h -5.88 v -5.36 h -5.36 v -5.88 h 5.36 v -5.36 h 5.88 v 5.36 z m -2.94 2.94;m 0 -4.158 l 3.79 -3.79 l 4.158 4.158 l -3.79 3.79 l 3.79 3.79 l -4.158 4.158 l -3.79 -3.79 l -3.79 3.79 l -4.158 -4.158 l 3.79 -3.79 l -3.79 -3.79 l 4.158 -4.158 l 3.79 3.79 z m 0 4.158;m -6.54 0.19 a 6.54 6.54 0 1 0 13.08 0 v -6.54 h -13.08 z m 6.54 -0.19;m 2.85 -3.7 l 6.24 1.04 l -4.62 4.33 l 0.94 6.26 l -5.55 -3.07 l -5.66 2.83 l 1.2 -6.22 l -4.44 -4.51 l 6.28 -0.78 l 2.92 -5.62 l 2.69 5.74 z m -2.85 3.7;m 0 -8.464 l -8.05 5.85 l 3.08 9.46 l 9.95 0 l 3.08 -9.46 l -8.06 -5.85 z m 0 8.464;m 5.72 -2.36 c 0 3.17 -5.72 11.65 -5.72 11.65 s -5.72 -8.47 -5.72 -11.64 a 5.73 5.73 0 0 1 11.45 0 z m -5.72 2.36".split(";");
Array.from((new Map([["circle","m -6.5 0 a 6.5 6.5 0 1 0 13 0 a 6.5 6.5 0 1 0 -13 0"],["square","m 5.835 5.835 h -11.67 v -11.67 h 11.67 v 11.67 z m -5.835 -5.835"],["diamond","m 0 -7.82 l 7.82 7.82 l -7.82 7.82 l -7.82 -7.82 l 7.82 -7.82 z m 0 7.82"],["down_triangle","m -8.25 -5.28 h 16.5 l -8.25 12.17 l -8.25 -12.17 z m 8.25 5.28"],["up_triangle","m -8.25 5.28 h 16.5 l -8.25 -12.17 l -8.25 12.17 z m 8.25 -5.28"],["hill","m 6.54 -0.19 a 6.54 6.54 0 1 0 -13.08 0 v 6.54 h 13.08 z m -6.54 0.19"],["plus",
"m 2.94 -2.94 h 5.36 v 5.88 h -5.36 v 5.36 h -5.88 v -5.36 h -5.36 v -5.88 h 5.36 v -5.36 h 5.88 v 5.36 z m -2.94 2.94"],["cross","m 0 -4.158 l 3.79 -3.79 l 4.158 4.158 l -3.79 3.79 l 3.79 3.79 l -4.158 4.158 l -3.79 -3.79 l -3.79 3.79 l -4.158 -4.158 l 3.79 -3.79 l -3.79 -3.79 l 4.158 -4.158 l 3.79 3.79 z m 0 4.158"],["valley","m -6.54 0.19 a 6.54 6.54 0 1 0 13.08 0 v -6.54 h -13.08 z m 6.54 -0.19"],["star","m 2.85 -3.7 l 6.24 1.04 l -4.62 4.33 l 0.94 6.26 l -5.55 -3.07 l -5.66 2.83 l 1.2 -6.22 l -4.44 -4.51 l 6.28 -0.78 l 2.92 -5.62 l 2.69 5.74 z m -2.85 3.7"],
["pentagon","m 0 -8.464 l -8.05 5.85 l 3.08 9.46 l 9.95 0 l 3.08 -9.46 l -8.06 -5.85 z m 0 8.464"],["marker","m 5.72 -2.36 c 0 3.17 -5.72 11.65 -5.72 11.65 s -5.72 -8.47 -5.72 -11.64 a 5.73 5.73 0 0 1 11.45 0 z m -5.72 2.36"]])).entries()).map(([a,b])=>[b,a]);var vRe={height:28,width:28};
var wRe=function(a,b,c,d){const e={},f=new Map,g={};for(var h of c)for(const [r,v]of Object.entries(h)){c=v;g[r]=c;var l=void 0;f.set(c,(null!=(l=f.get(c))?l:0)+1)}h=new Map(f);for(const [r,v]of Object.entries(d))if(l=v,a.includes(r)){var n=void 0;f.set(l,(null!=(n=f.get(l))?n:0)+1)}for(const r of a)if((a=g[r])||!d[r]||h.get(d[r])||(a=d[r]),a)e[r]=a;else if(f.size<b.length)a=b.filter(v=>!f.get(v)),e[r]=a[0],f.set(a[0],1);else{a=b[0];n=Infinity;for(const w of b){let y;l=null!=(y=f.get(w))?y:0;l<n&&
(n=l,a=w)}let v;f.set(a,(null!=(v=f.get(a))?v:0)+1);e[r]=a}return e},yRe=class{constructor(){this.colorPalette=tRe;this.shapePalette=uRe;this.shapeBoundingBox=vRe;this.onDataChange=(a,b,c)=>{b=b.series.map(n=>String(n.id)).sort();let d;const e=null==c?void 0:null==(d=c.colorMap)?void 0:d.byLayer.entities[a.layerId],f=e?e.order:xRe++;var g;c=Object.values((null==c?void 0:null==(g=c.colorMap)?void 0:g.byLayer.entities)||{});g=c.filter(n=>n&&n.layerId!==a.layerId&&n.order<f).map(n=>{let r;return null!=
(r=null==n?void 0:n.colorMap)?r:{}});var h;g=wRe(b,this.colorPalette,g,null!=(h=null==e?void 0:e.colorMap)?h:{});h=c.filter(n=>n&&n.layerId!==a.layerId&&n.order<f).map(n=>{let r;return null!=(r=null==n?void 0:n.shapeMap)?r:{}});let l;b=wRe(b,this.shapePalette,h,null!=(l=null==e?void 0:e.shapeMap)?l:{});return{order:f,colorMap:g,shapeMap:b}};this.isReady=(a,b)=>{let c;const d=null==b?void 0:null==(c=b.colorMap)?void 0:c.colorMap;return d?a.series.every(e=>d[String(e.id)]):!1};this.getColor=(a,b)=>
{a=String(a.id);let c;return(null==b?0:null==(c=b.colorMap)?0:c.colorMap[a])?b.colorMap.colorMap[a]:this.colorPalette[Math.abs(rRe(_.gAa(a)))%this.colorPalette.length]};this.getShape=(a,b)=>{a=String(a.id);let c;return(null==b?0:null==(c=b.colorMap)?0:c.shapeMap)?b.colorMap.shapeMap[a]:this.shapePalette[Math.abs(rRe(_.gAa(a)))%this.shapePalette.length]}}},xRe=0;
var zRe={clickSelect:!0,hoverHighlight:!0},ARe=class extends a9{constructor(a,b,c,d,e,f,g,h,l){super(a,b,c,d);this.modalService=e;this.interactionService=f;this.instrumentationService=g;this.ngZone=l;this.data=null;this.loading=!1;this.error=null;this.outputPeriodMsInternal=void 0;this.layerName="";this.colorStrategyInternal=new yRe;this.onSelect=new _.$k;this.dataSubject=new _.bg(this.data);this.configSubject=new _.bg({colorStrategy:this.colorStrategy});this.updateGridTriggerSubject=new _.tf;this.gridGeneratorSubject=
new _.bg(null);this.gridGeneratorObservable=this.gridGeneratorSubject.pipe(_.Ye(0),Y5(this.ngZone));this.defaultColumnMaskGeneratorSubject=new _.bg(()=>[]);this.defaultColumnMaskGeneratorObservable=this.defaultColumnMaskGeneratorSubject.pipe(_.Ye(0),Y5(this.ngZone));this.xAxisRequirement=this.derivedMinMaxBand=this.yAxisRequirement=null;this.interactionsInternal=zRe;this.isShiftKeyDown=this.isMetaKeyDown=this.isCtrlKeyDown=!1;this.shiftSelectingFromSeriesId=null;this.isMouseOver=!1;this.updateHoverValuesTriggerSubject=
new _.rf(1);this.syncActionsBuffer=this.dataTypeError=null;this.colorRecalculationAttemptsRemaining=2;this.layerType="graphic";this.barView=new SQe(a.nativeElement,h);this.views.push(this.barView);this.views.push(new TQe(a.nativeElement));this.bindDrawInstrumentation()}set outputPeriodMs(a){this.outputPeriodMsInternal=a}get outputPeriodMs(){let a;return null!=(a=this.outputPeriodMsInternal)?a:this.alignmentPeriodMs}set colorStrategy(a){this.colorStrategyInternal=a||this.colorStrategyInternal}get colorStrategy(){return this.colorStrategyInternal}set interactions(a){this.interactionsInternal=
Object.assign({},zRe,a)}get interactions(){return this.interactionsInternal}get isPrimaryModifierKeyDown(){return Qle?this.isMetaKeyDown:this.isCtrlKeyDown}ngOnInit(){super.ngOnInit();this.setup({dataObservable:this.dataSubject.pipe(_.U(a=>a?tke(a,!1):null),_.sf(1),_.me()),configObservable:this.configSubject});this.updateGridTriggerSubject.pipe(_.Af(this.destroyed),_.We(500)).subscribe(a=>{let b=void 0;this.gridGeneratorSubject.next(()=>{void 0===b&&(b=this.generateGrid(a));return b})});this.updateHoverValuesTriggerSubject.pipe(_.Af(this.destroyed),
k5(10,_.Ae)).subscribe(a=>{this.updateHoverValues(a)});this.chart.mouseEnterObservable.pipe(_.Af(this.destroyed)).subscribe(a=>{this.onMouseEnter(a)});K8(this.chart,"chart",a=>this.onMouseMove(a),this.destroyed);this.chart.mouseLeaveObservable.pipe(_.Af(this.destroyed)).subscribe(a=>{this.onMouseLeave(a)});this.chart.mouseClickObservable.pipe(_.Af(this.destroyed)).subscribe(a=>{this.onClick(a)});this.chart.keyDownObservable.pipe(_.Af(this.destroyed)).subscribe(a=>{this.onKeyDown(a)});this.chart.keyUpObservable.pipe(_.Af(this.destroyed)).subscribe(a=>
{this.onKeyUp(a)})}onDataChange(a,b){var c=a.previousValue;const d=a.currentValue,e=b.scope,f=b.state,g=[];this.derivedMinMaxBand=Sie(d);if(c!==d){if(null==f?0:f.xAxis)c=Tie(this.derivedMinMaxBand,(null==d?void 0:d.unit)||null,f.xAxis.min,f.xAxis.max),Uie(this.yAxisRequirement,c)&&(this.yAxisRequirement=c,g.push(X8(this,this.yAxisRequirement)));this.xAxisRequirement=Vie(a.currentValue);g.push(X8(this,this.yAxisRequirement));g.push(Y8(this,this.xAxisRequirement));g.push(j9({chartId:e.chartId,layerId:e.layerId,
yAxisId:e.yAxisId,xAxisId:e.xAxisId,valueType:1,unit:(null==d?void 0:d.unit)||null,legendTemplate:this.legendTemplate,alignmentPeriodMs:this.alignmentPeriodMs||void 0}));g.push(i9({chartId:e.chartId,layerId:e.layerId,series:(null==d?void 0:d.series.map((v,w)=>({seriesId:v.id,name:v.name||v.id,drawnAs:2,stackingIndex:d.series.length-1-w,dataSeriesMetadata:v.metadata,statsModeSummaryValue:v.statsModeSummaryValue,legendTemplate:v.legendTemplate})))||[]}));if(f&&d){if(a=zPe(this.colorStrategy,e,d,f))g.push(a),
this.colorRecalculationAttemptsRemaining=2;g.push(this.createSetSeriesColorMetadataAction(e,d,f));(a=this.updateMostRecentValues(b))&&g.push(a)}var h;if(a=null==f?void 0:null==(h=f.seriesSelection)?void 0:h.byLayer.entities[e.layerId]){h=a.selectedSeries;a=a.hoveredSeries;var l;const v=new Set(null!=(l=null==d?void 0:d.series.map(w=>w.id))?l:[]);l=h.filter(w=>v.has(w.seriesId));l.length!==h.length&&g.push(c9({chartId:e.chartId,layerId:e.layerId,series:l}));l=a.filter(w=>v.has(w.seriesId));l.length!==
a.length&&g.push(d9({chartId:e.chartId,layerId:e.layerId,series:l}))}this.updateGridTriggerSubject.next(b)}let n,r;(null==f?0:null==(n=f.xAxisPin)?0:n.xPos)&&(null==f?0:null==(r=f.xAxisPin)?0:r.locked)&&(b=this.barView.getValuesAtTime(b,f.xAxisPin.xPos),(b=this.updateTimeSeriesValues(b,0))&&g.push(b));return g}bindDrawInstrumentation(){QNe(this.barView,({drawStartTimestamp:a,drawStopTimestamp:b})=>{const c=!this.loading;this.scopeObservable.pipe(_.af(1)).subscribe(({chartId:d,layerId:e})=>{v9(this.instrumentationService,
{type:"draw-start",layerType:"graphic",timestamp:a,chartId:d,layerId:e});v9(this.instrumentationService,{type:"draw-stop",layerType:"graphic",timestamp:b,chartId:d,layerId:e,metadata:{hasCompleteData:c}})})})}onResizeChange(a,b){J5(a)&&this.updateGridTriggerSubject.next(b)}onYAxisChange(a,b){K5(a)&&this.updateGridTriggerSubject.next(b)}onXAxisChange(a,b){const c=[];if(D5(a)){var d=b.data;const e=b.state;if(null==e?0:e.xAxis)d=Tie(this.derivedMinMaxBand,(null==d?void 0:d.unit)||null,e.xAxis.min,e.xAxis.max),
Uie(this.yAxisRequirement,d)&&(this.yAxisRequirement=d,c.push(X8(this,this.yAxisRequirement)));(d=this.updateMostRecentValues(b))&&c.push(d)}(D5(a)||Che(a)||Dhe(a))&&this.updateGridTriggerSubject.next(b);if(Bhe(a)){let e=void 0;this.defaultColumnMaskGeneratorSubject.next(()=>{let f=null;void 0===e&&(this.gridGeneratorSubject.pipe(_.af(1)).subscribe(g=>{f=g&&g()}),e=this.generateDefaultColumnMask(b,f));return e})}return c}onXAxisPinChange(a,b){const c=[];let d,e;if((null==(d=a.previousValue)?void 0:
d.xPos)!==(null==(e=a.currentValue)?void 0:e.xPos)){var f;a=this.barView.getValuesAtTime(b,(null==(f=a.currentValue)?void 0:f.xPos)||null);(f=this.updateTimeSeriesValues(a,0))&&c.push(f)}return c}onColorMapChange(a,b){a=b.scope;const c=b.data;b=b.state;const d=[];if(c&&b){if(0<this.colorRecalculationAttemptsRemaining){const e=zPe(this.colorStrategy,a,c,b);e&&(d.push(e),this.colorRecalculationAttemptsRemaining--)}d.push(this.createSetSeriesColorMetadataAction(a,c,b))}return d}ngOnChanges(a){super.ngOnChanges(a);
const b=[];"data"in a&&(!this.data||yke(this.data)?(this.dataSubject.next(this.data),this.dataTypeError&&(this.dataTypeError=null),b.push($8(this,this.error,!!this.data))):(this.dataSubject.next(null),this.dataTypeError={name:"InvalidRequestError",code:400,displayMessage:"Only numeric data can be drawn as a bar chart. The data provided cannot be drawn.",message:"Only numeric data can be drawn as a bar chart. The data provided cannot be drawn.",details:{isTimeout:!1}},b.push($8(this,this.dataTypeError,
!1))));("outputPeriodMs"in a||"colorStrategy"in a||"alignmentPeriodMs"in a||"gutterRatio"in a)&&this.configSubject.next({outputPeriodMs:this.outputPeriodMs,colorStrategy:this.colorStrategy,gutterRatio:this.gutterRatio});"loading"in a&&b.push(Z8(this,this.loading,"Bar"));"error"in a&&b.push($8(this,this.error,!!this.data));J8(this.chart,b)}onFocusedCellChange(a){const [b,c]=a.focusedGridIndices;this.withLatest(({scope:d,config:e})=>{this.gridGeneratorSubject.pipe(_.af(1)).subscribe(f=>{if(f=f&&f()){var g=
null!==b?f.rows[b]:null,h=null!==c?f.columns[c]:null;if(a.focusedCell){this.store.dispatch(c9({chartId:d.chartId,layerId:d.layerId,series:g?[{seriesId:g.metadata.seriesId}]:[]}));var l;g=null!=(l=null==h?void 0:h.metadata.timeMs)?l:null;null!==g&&(null==e?0:e.outputPeriodMs)&&(g-=((null==e?void 0:e.outputPeriodMs)||0)/2);let n;this.store.dispatch(m9({chartGroupId:d.chartGroupId,position:null!=(n=g)?n:null}));this.store.dispatch(n9({chartGroupId:d.chartGroupId,locked:!!h}))}this.store.dispatch(d9({chartId:d.chartId,
layerId:d.layerId,series:[]}));null!==b&&null!==c&&(l=f.values[b][c],this.store.dispatch(k9({chartId:d.chartId,lastInteraction:{focus:l.position.x}})),this.store.dispatch(l9({chartId:d.chartId,yAxisId:d.yAxisId,lastInteraction:{focus:l.position.y}})))}})})}onGridCellActivate(a){this.modalService.focus(0,a)}updateHoverValues(a){this.withLatest(b=>{b=this.barView.getValuesAtXPosition(b,a.x);(b=this.updateTimeSeriesValues(b,1))&&(this.syncActionsBuffer?this.syncActionsBuffer.push(b):this.store.dispatch(b))})}updateMostRecentValues(a){var b=
a.data;const c=a.config;let d,e;const f=null==(d=a.state)?void 0:null==(e=d.xAxis)?void 0:e.max;if(!f||!c)return null;b=null==b?void 0:b.series.reduce((g,h)=>{h=h.data;var l;const n=g6(h,f,h6(null!=(l=c.outputPeriodMs)?l:null));return(l=h[n])&&(null===g||Math.abs(f-l.x.valueOf())<Math.abs(f-g.x.valueOf()))?l:g},null);return(a=this.barView.getValuesAtTime(a,b&&void 0!==b.x0?(b.x.valueOf()+b.x0.valueOf())/2:f))?this.updateTimeSeriesValues(a,3):null}updateTimeSeriesValues(a,b){let c=null;this.withLatest(({scope:d})=>
{let e,f;c=h9({chartId:d.chartId,layerId:d.layerId,valueType:1,timeKey:b,values:null!=(e=null==a?void 0:a.values)?e:[],timeRange:null!=(f=null==a?void 0:a.timeRange)?f:void 0})});return c}onMouseEnter(){this.isMouseOver=!0}onMouseMove(a){let b=[];if(!this.isMouseOver)return b;a=W8(this,a);this.syncActionsBuffer=[];this.interactions.hoverHighlight&&this.hoverHighlight(a);this.updateHoverValuesTriggerSubject.next(a);b=b.concat(this.syncActionsBuffer);this.syncActionsBuffer=null;return b}onMouseLeave(){this.isMouseOver=
!1;this.interactions.hoverHighlight&&this.hoverHighlight(null)}onClick(a){const b=W8(this,a);this.withLatest(c=>{var d=c.state,e=c.data;if(d&&e){var f=d.seriesSelection;d=d.brush;if(f&&d&&!d.brushing){f=f.byLayer.entities[c.scope.layerId];var g=OQe(this.barView,b);f=f?f.selectedSeries.map(h=>h.seriesId):[];if(null==g?0:g.metadata.series.id)e=e.series.find(h=>h.id===g.metadata.series.id),this.onSelect.emit(e);this.interactions.clickSelect&&(e=[],d=WQe,g&&(d=YQe,this.isShiftKeyDown&&this.shiftSelectingFromSeriesId?
(e=this.barView.getSeriesIdsBetween(this.shiftSelectingFromSeriesId,g.metadata.series.id,b)||[g.metadata.series.id],d=XQe):this.isPrimaryModifierKeyDown?(e=f.includes(g.metadata.series.id)?f.filter(h=>h!==g.metadata.series.id):f.concat([g.metadata.series.id]),d=ZQe):1===f.length&&f.includes(g.metadata.series.id)?(e=[],d=WQe):(e=[g.metadata.series.id],d=YQe)),this.shiftSelectingFromSeriesId=(null==g?void 0:g.metadata.series.id)||null,this.store.dispatch(c9({chartId:c.scope.chartId,layerId:c.scope.layerId,
series:e.map(h=>({seriesId:h}))})),this.interactionService.sendAveEvent("click",d,this.el.nativeElement),this.onMouseMove(a))}}});this.withLatest(c=>{c=this.barView.getValuesAtXPosition(c,b.x);(c=this.updateTimeSeriesValues(c,2))&&this.store.dispatch(c)})}onKeyDown(a){this.isCtrlKeyDown=a.ctrlKey;this.isMetaKeyDown=a.metaKey;this.isShiftKeyDown=a.shiftKey}onKeyUp(a){this.isCtrlKeyDown=a.ctrlKey;this.isMetaKeyDown=a.metaKey;this.isShiftKeyDown=a.shiftKey;this.isShiftKeyDown||(this.shiftSelectingFromSeriesId=
null)}generateGrid({data:a,state:b,config:c}){if(!a||!b)return null;const d=b.xAxis,e=b.resize;b=b.yAxis;if(!d||!e||!b)return null;const f=E5(d,e.margins.left,e.width-e.margins.right),g=a.unit,h=b.unit,l=L5(b,e.margins.top,e.height-e.margins.bottom,g),n=d.tickIncrement||null,r=d.timezoneOffset,v=d.timeZoneId;if(!f||!l)return null;let w,y,B,G;return Tje({data:a,xAxisState:d,yAxisState:b,columnFormatter:O=>({label:l6({position:O,tickIncrement:n,timeZone:e6(r,v)}),value:O}),valueFormatter:Oje(g,h),positionMap:Mje(f,
l,{top:e.margins.top,right:e.width-e.margins.right,bottom:e.height-e.margins.bottom,left:e.margins.left},{outputPeriodMs:(null==c?void 0:c.outputPeriodMs)||void 0,centerInOutputPeriod:!0,widthMultiplier:1-this.barView.gutterRatio}),audioChartContext:null!==d.min&&null!==d.max&&null!==b.min&&null!==b.max?{xAxis:{ticks:d.ticks.map(O=>O.value),min:null!=(w=d.min)?w:void 0,max:null!=(y=d.max)?y:void 0},yAxis:{min:null!=(B=b.min)?B:void 0,max:null!=(G=b.max)?G:void 0}}:void 0})}generateDefaultColumnMask({state:a},
b){return a&&b?(a=a.xAxis)?Vje({ticks:a.ticks,grid:b}):[]:[]}hoverHighlight(a){this.withLatest(b=>{var c=b.scope;if(b=b.state){var d=b.brush,e=b.seriesSelection;if(d&&e&&!d.panning){d=a&&OQe(this.barView,a);var f,g;b=(null==b?void 0:null==(f=b.seriesSelection)?void 0:null==(g=f.byLayer.entities[c.layerId])?void 0:g.hoveredSeries)||[];f=d?[{seriesId:d.metadata.series.id,datumIndices:[{index:d.metadata.index}]}]:[];N5(b,f)&&(c=d9({chartId:c.chartId,layerId:c.layerId,series:f}),this.syncActionsBuffer?
this.syncActionsBuffer.push(c):this.store.dispatch(c))}}})}createSetSeriesColorMetadataAction(a,b,c){return i9({chartId:a.chartId,layerId:a.layerId,series:b.series.map(d=>({seriesId:d.id,name:d.name||d.id,drawnAs:2,color:this.colorStrategy.getColor(d,c),shape:this.colorStrategy.getShape&&this.colorStrategy.getShape(d,c),legendTemplate:d.legendTemplate}))})}getLayerTitle(){return this.layerName?`${"Bar"} ${this.layerName}`:"Bar"}ngOnDestroy(){super.ngOnDestroy();J8(this.chart,[X8(this,null),Y8(this,
null),$8(this,null,!1),Z8(this,!1,"Bar")])}};ARe.\u0275fac=function(a){return new (a||ARe)(_.A(_.ad),_.A(_.fq),_.A(L8),_.A(b9),_.A(t9),_.A(s9),_.A(w9),_.A(y9),_.A(_.Jf))};
ARe.\u0275cmp=_.q({type:ARe,selectors:[["ac-bar"]],hostAttrs:[1,"composable-layer","ac-bar"],inputs:{data:"data",loading:"loading",error:"error",alignmentPeriodMs:"alignmentPeriodMs",outputPeriodMs:"outputPeriodMs",layerName:"layerName",colorStrategy:"colorStrategy",interactions:"interactions",legendTemplate:"legendTemplate",gutterRatio:"gutterRatio"},outputs:{onSelect:"onSelect"},features:[_.wd,_.Gc],decls:3,vars:8,consts:[[3,"gridGenerator","columnMaskGenerator","chartTitle","layerTitle","onFocusedCellChange",
"onGridCellActivate","onFocus","onBlur"]],template:function(a,b){a&1&&(_.E(0,"ac-accessibility-grid",0),_.L("onFocusedCellChange",function(c){return b.onFocusedCellChange(c)})("onGridCellActivate",function(c){return b.onGridCellActivate(c)})("onFocus",function(c){return b.onFocus(c)})("onBlur",function(c){return b.onBlur(c)}),_.Zd(1,"async"),_.Zd(2,"async"),_.F());a&2&&_.C("gridGenerator",_.$d(1,4,b.gridGeneratorObservable))("columnMaskGenerator",_.$d(2,6,b.defaultColumnMaskGeneratorObservable))("chartTitle",
b.chart.title)("layerTitle",b.getLayerTitle())},dependencies:[p9,_.pl],styles:[".composable-layer[_nghost-%COMP%]{position:absolute;height:100%;width:100%;top:0;left:0}[_nghost-%COMP%] .overlay-z-index{z-index:9}\n/*# sourceMappingURL=ac_bar.css.map */"],changeDetection:0});var z9=class{};z9.\u0275fac=function(a){return new (a||z9)};z9.\u0275mod=_.Bc({type:z9});z9.\u0275inj=_.tc({imports:[q9,_.ql]});
var BRe=function(a,b){const c=[];if(b&&b.length)for(const d of b)c.push(POe({chartId:a.chartId,layerId:a.layerId,sourceId:a.objectiveLayerId,success:!1,error:d}));else c.push(QOe({chartId:a.chartId,sourceId:a.objectiveLayerId}));return c},CRe=function(a){const b=a.some(c=>c.success);a=a.filter(c=>!c.success);b&&(a=a.filter(c=>"NoDataError"!==c.error.name));return a.map(c=>c.error)},ERe=function(a,b){DRe(a);a.signalTimeoutId=setTimeout(()=>{DRe(a);const c=performance.now();for(const d of b){if(!d.layerId||
d.layerId===a.layerId)continue;let e,f,g,h;v9(a.instrumentationService,{type:"error-display",timestamp:c,layerId:d.layerId,chartId:a.chartId,layerType:"graphic",metadata:{name:(null==(e=d)?void 0:null==(f=e.error)?void 0:f.name)||"unknown",message:(null==(g=d)?void 0:null==(h=g.error)?void 0:h.message)||"unknown"}})}},0)},DRe=function(a){null!=a.signalTimeoutId&&(clearTimeout(a.signalTimeoutId),a.signalTimeoutId=null)},FRe=class extends a9{constructor(a,b,c,d,e,f){super(a,b,c,d);this.ngZone=e;this.instrumentationService=
f;this.errorsSubject=new _.bg([]);this.errorsObservable=this.errorsSubject.pipe(_.Ye(0),Y5(this.ngZone));this.signalTimeoutId=null;this.styleSubject=new _.rf(1);this.styleObservable=this.styleSubject.pipe(_.U(g=>(null==g?0:g.margins)?(g=g.margins,{marginLeft:`${g.left}px`,marginRight:`${g.right}px`,marginTop:`${g.top}px`,marginBottom:`${g.bottom}px`,width:`calc(100% - ${g.left+g.right}px)`,height:`calc(100% - ${g.top+g.bottom}px)`}):{}),Y5(this.ngZone));this.ve={InstallAgentButton:f7.InstallAgentButton};
this.opsAgentInstallPrompt='Requires <a href="https://cloud.google.com/stackdriver/docs/solutions/agents/ops-agent" target="_blank">Ops Agent</a>';this.isAgentMetric=this.installAgentHandled=!1;this.data=null;this.installAgentRequest=new _.$k}ngOnChanges(a){super.ngOnChanges(a);let b=[];"data"in a&&(b=b.concat(BRe(this,this.data)));J8(this.chart,b)}onErrorChange(a){let b,c;a=null!=(c=null==(b=a.currentValue)?void 0:b.statuses)?c:[];this.errorsSubject.next(CRe(a));ERe(this,a.filter(d=>!d.success));
this.withLatest(d=>{d=d.state;let e,f,g,h,l,n,r,v,w;(null==d?0:null==(e=d.spec)?0:null==(f=e.dataSets)?0:null==(g=f[0])?0:null==(h=g.timeSeriesFilter)?0:null==(l=h.filter)?0:l.includes("agent.googleapis.com"))||(null==d?0:null==(n=d.spec)?0:null==(r=n.dataSets)?0:null==(v=r[0])?0:null==(w=v.timeSeriesQuery)?0:w.includes("agent.googleapis.com"))?this.isAgentMetric=!0:this.isAgentMetric=!1})}onResizeChange(a){J5(a)&&this.styleSubject.next(a.currentValue)}ngOnInit(){super.ngOnInit();this.setup({});this.installAgentHandled=
0<this.installAgentRequest.observers.length}ngOnDestroy(){super.ngOnDestroy();DRe(this);this.store.dispatch(O5({actions:BRe(this,null)}))}};FRe.\u0275fac=function(a){return new (a||FRe)(_.A(_.ad),_.A(_.fq),_.A(L8),_.A(b9),_.A(_.Jf),_.A(w9))};
FRe.\u0275cmp=_.q({type:FRe,selectors:[["ac-error"]],hostAttrs:[1,"composable-layer","ac-error"],inputs:{data:"data"},outputs:{installAgentRequest:"installAgentRequest"},features:[_.wd,_.Gc],decls:2,vars:3,consts:function(){return[[4,"ngIf"],["class","ac-error-container",3,"ngStyle",4,"ngIf"],[1,"ac-error-container",3,"ngStyle"],[1,"ac-error-text"],[4,"ngIf","ngIfElse"],["defaultMessage",""],["svgIcon","ac:info",1,"icon","mat-18"],[3,"innerHTML"],["mat-raised-button","",3,"ve","veClick","click"],
" Install ",["svgIcon","ac:warning",1,"icon","mat-18"]]},template:function(a,b){a&1&&(_.P(0,Dke,2,1,"ng-container",0),_.Zd(1,"async"));a&2&&_.C("ngIf",_.$d(1,1,b.errorsObservable))},dependencies:[_.ll,_.xD,_.Bp,_.vo,_.wt,_.pl],styles:[".composable-layer[_nghost-%COMP%]{position:absolute;height:100%;width:100%;top:0;left:0}[_nghost-%COMP%] .overlay-z-index{z-index:9}.ac-error[_nghost-%COMP%]   .ac-error-container[_ngcontent-%COMP%]{width:100%;height:100%;background-color:hsla(0,0%,100%,.5);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;position:relative;z-index:9}.ac-error[_nghost-%COMP%]   .ac-error-text[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:13px;font-weight:400;text-align:center;text-shadow:none;width:100%;margin:auto 10px}.ac-error[_nghost-%COMP%]   mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;margin-right:8px;vertical-align:text-top}.ac-error[_nghost-%COMP%]   button[_ngcontent-%COMP%]{margin-left:12px}\n/*# sourceMappingURL=ac_error.css.map */"],
changeDetection:0});var A9=class{};A9.\u0275fac=function(a){return new (a||A9)};A9.\u0275mod=_.Bc({type:A9});A9.\u0275inj=_.tc({imports:[_.ql,_.Fp,_.Do,_.yt]});
var GRe=_.wh("[AC] Set layer colorScale",_.xh());
var HRe={globalAlpha:1,globalCompositeOperation:"source-over"},IRe=[[38,50,56],[25,53,172],[62,78,184],[103,52,186],[143,25,172],[218,19,95],[255,12,62],[255,109,0],[246,181,0],[255,255,0],[255,255,255]],JRe=function(a,b,c){if(a=a.unpack(b))if(b=a.inverseDomainMap(c.x),c=a.inverseRangeMap(c.y),b&&c&&(b=g6(a.points,b.valueOf(),h6(null)),(a=a.points[b])&&a.y.bucketCounts))return Dje(a,c)},KRe=function(a,b){G5(a.bgCtx,HRe);Fhe(a.bgCanvas,b)},LRe=function(a,b,c,d,e){b=b.data;if(b.length){a.ctx.save();
for(const r of b){b=r;var f=c,g=d,h=e;const v=[],w=b.y.bucketCounts;for(let y=0;w&&y<w.length;y++){let [B,G]=j6(b.y,y).map(g);var l=B;let O=G;var n=f(b.x);let T=f(b.x0||b.x);n-=T;l-=O;1>n&&(T-=.5,n=1);1>l&&(O-=.5,l=1);v.push({x:T,y:O,width:n,height:l,color:h(w[y])})}b=v;for(const y of b)b=y.x,f=y.y,g=y.width,h=y.height,a.ctx.fillStyle=y.color,a.ctx.strokeStyle=a.ctx.fillStyle,a.ctx.fillRect(Math.floor(b),f,Math.ceil(g),h)}a.ctx.restore()}},MRe=class extends C8{constructor(a,b){super(a);this.queueService=
b;this.bgCanvas=document.createElement("canvas");this.fullDrawDebounceId=null;this.bgCanvas.setAttribute("aria-hidden","true");this.bgCanvas.style.position="absolute";b=this.bgCanvas.getContext("2d");if(!b)throw Error("ul");this.bgCtx=b;a.insertBefore(this.bgCanvas,this.canvas)}draw(a,b){this.drawInternal(b)}onXAxisChange(a,b){if(D5(a)){const c=UNe(this,b);c?this.pan(c):this.drawInternal(b);let d;a=null==(d=a.currentValue)?void 0:d.lastUpdateCausedBy;this.queueService&&a&&(3===a&&r9(this.queueService,
"time_to_pan_redraw","time to redraw chart from panning interaction"),4===a&&r9(this.queueService,"time_to_zoom_redraw","time to redraw chart from zooming interaction"))}}onResizeChange(a,b){J5(a)&&(Jhe(a)?this.drawInternal(b):(this.fullDrawDebounceId&&(clearTimeout(this.fullDrawDebounceId),this.fullDrawDebounceId=null),B8(this,b,this.canvas,this.ctx,!0),B8(this,b,this.bgCanvas,this.bgCtx,!0),this.fullDrawDebounceId=setTimeout(()=>{this.fastResizeBufferMap.delete(this.canvas);this.fastResizeBufferMap.delete(this.bgCanvas);
this.drawInternal(b)},250)))}onYAxisChange(a,b){var c=a.previousValue;let d;const e=null==(d=a.currentValue)?void 0:d.position;c=null==c?void 0:c.position;(K5(a)||e!==c)&&this.drawInternal(b)}onColorScaleChange(a,b){this.drawInternal(b)}onConfigChange(a,b){this.drawInternal(b)}getValuesAtTime(a,b){a=this.unpack(a);if(null===b||!a)return null;if(!a.points.length)return{values:[],timeRange:null};b=g6(a.points,b,h6(null));return{values:[{seriesId:a.series.id,value:a.points[b]}],timeRange:{x:a.points[b].x.valueOf()}}}getValuesAtXPosition(a,
b){const c=this.unpack(a);return c?this.getValuesAtTime(a,c.inverseDomainMap(b)):null}unpack(a){var b=a.data,c=a.state;if(!b||!c||!b.series[0])return null;a=b.series[0];const d=a.data,e=c.resize;var f=c.xAxis;c=c.yAxis;if(!e||!f||!c)return null;f=F5(f,e.margins.left,e.width-e.margins.right);b=Khe(c,e.margins.top,e.height-e.margins.bottom,b.unit);return f&&b?{series:a,points:d,inverseDomainMap:f,ascending:d.length?0<d[d.length-1].x.valueOf()-d[0].x.valueOf():!1,inverseRangeMap:b}:null}drawInternal(a){const b=
performance.now();var c=a.data,d=a.state;const e=a.config,f=a.scope;if(d&&e){var g=d.resize,h=d.xAxis;a=d.yAxis;d=d.colorScale;if(g&&d){this.fullDrawDebounceId&&(clearTimeout(this.fullDrawDebounceId),this.fullDrawDebounceId=null);var l,n=null!=(l=d.byLayer.entities[f.layerId])?l:{layerId:f.layerId,max:0,min:0,colorPivots:[[38,50,56]]},r=g.width-g.margins.left-g.margins.right,v=g.height-g.margins.top-g.margins.bottom;this.fullDrawDebounceId&&clearTimeout(this.fullDrawDebounceId);this.canvas.style.left=
`${g.margins.left}px`;this.canvas.style.top=`${g.margins.top}px`;H5(this.canvas,v,r);this.bgCanvas.style.left=`${g.margins.left}px`;this.bgCanvas.style.top=`${g.margins.top}px`;H5(this.bgCanvas,v,r);l=J=>e.colorStrategy.getColor(J,n);KRe(this,e.colorStrategy.getColor(0,n));if(h&&a){var w=h.min,y=h.max,B=a.min,G=a.max;d=a.scaleType;var O=a.absoluteMin;if(null!==w&&null!==y&&null!==B&&null!==G){h=J=>w5(w,y,0,r,J.valueOf());var T=A5(a.unit||"1",(null==c?void 0:c.unit)||"1")||1;a=1===d?J=>$ge(B,G,v,0,
J,O,T):J=>w5(B*T,G*T,v,0,J);c=null==c?void 0:c.series;this.ctx.save();G5(this.ctx,HRe);c&&0<c.length&&LRe(this,c[0],h,a,l);this.ctx.restore();A8(this,w,y);c=performance.now();this.drawListener({drawStartTimestamp:b,drawStopTimestamp:c})}}}}}};
var NRe={getColor:(a,b)=>{a=Fke(b.max,b.colorPivots)(a);return Gke(a)}};
var ORe=function(a,b){a.withLatest(c=>{{const g=a.heatmapView.unpack(c);if(g)if(g.points.length){var d=g.inverseDomainMap(b.x);var e=g.inverseRangeMap(b.y);if(d&&e){d=g6(g.points,d.valueOf(),h6(null));var f=g.points[d];e=f&&f.y.bucketCounts?[{seriesId:g.series.id,datumIndices:[{index:d,bucketIndex:Dje(f,e)}],ignoreSeriesForHighlighting:!0}]:null}else e=null}else e=[];else e=null}c=d9({chartId:c.scope.chartId,layerId:c.scope.layerId,series:e||[]});a.syncActionsBuffer?a.syncActionsBuffer.push(c):a.store.dispatch(c)})},
PRe=function(a){if(!a)return null;let b=-Infinity,c=Infinity,d=Infinity;for(const l of a.series)for(const n of l.data){var e=n.y,f=e.bucketCounts;let r;if(null==(r=f)?0:r.length){var g=j6(e,f.length-1),h=g[1];if(Infinity===h){const [y,B]=j6(e,f.length-2);h=y;const G=B;h=null!==h&&null!==G?G+2*(G-h):g[0]}if(f.length&&0<f[0]){if(f=j6(e,0),g=f[0],-Infinity===g){const [y,B]=j6(e,1);e=y;g=B;g=null!==e&&null!==g?e-(g-e)/2:f[1]}}else f=j6(e,1),g=f[0];let v;b=Math.max(b,null!=(v=h)?v:b);let w;c=Math.min(c,
null!=(w=g)?w:c);d=Math.min(d,Math.abs(g||f[1]||d))}}return-Infinity===b||Infinity===c?null:{priority:1,absoluteMin:d,min:c,max:b,unit:a.unit||null}},QRe=function(a){if(!a)return null;let b=-Infinity,c=Infinity;var d=!1;for(const e of a.series)a=e.data,0!==a.length&&(d=a[a.length-1],b=Math.max(b,a[0].x.valueOf()),c=Math.min(c,(d.x0||d.x).valueOf()),d=!0);return d?{priority:1,min:c,max:b,unit:"ms_since_epoch"}:null},RRe=function(a){let b=1;for(const c of a.series)for(const d of c.data)d.y&&d.y.bucketCounts&&
(b=Math.max(b,Math.max.apply({},d.y.bucketCounts)));return b},SRe=function(a,b){return GRe({chartId:a.chartId,layerId:a.layerId,max:b,min:0,colorPivots:a.colorPivots})},TRe=class extends a9{constructor(a,b,c,d,e,f,g,h){super(a,b,c,d);this.instrumentationService=e;this.modalService=f;this.ngZone=h;this.data=null;this.loading=!1;this.error=null;this.colorPivots=IRe;this.colorStrategy=NRe;this.layerName="";this.dataSubject=new _.bg(this.data);this.configSubject=new _.bg({colorStrategy:this.colorStrategy});
this.updateGridTriggerSubject=new _.tf;this.gridGeneratorSubject=new _.bg(null);this.gridGeneratorObservable=this.gridGeneratorSubject.pipe(_.Ye(0),Y5(this.ngZone));this.defaultColumnMaskGeneratorSubject=new _.bg(()=>[]);this.defaultColumnMaskGeneratorObservable=this.defaultColumnMaskGeneratorSubject.pipe(_.Ye(0),Y5(this.ngZone));this.maxBucketCount=this.xAxisRequirement=this.yAxisRequirement=null;this.isMouseOver=!1;this.updateHoverSelectionTriggerSubject=new _.rf(1);this.updateHoverValuesTriggerSubject=
new _.rf(1);this.syncActionsBuffer=this.dataTypeError=null;this.layerType="graphic";this.heatmapView=new MRe(a.nativeElement,g);this.views.push(this.heatmapView);this.bindDrawInstrumentation()}ngOnInit(){super.ngOnInit();this.setup({dataObservable:this.dataSubject,configObservable:this.configSubject});this.updateGridTriggerSubject.pipe(_.Af(this.destroyed),k5(500,_.Ae)).subscribe(a=>{let b=void 0;this.gridGeneratorSubject.next(()=>{void 0===b&&(b=this.generateGrid(a));return b})});this.updateHoverValuesTriggerSubject.pipe(_.Af(this.destroyed),
k5(10,_.Ae)).subscribe(a=>{this.updateHoverValues(a)});this.updateHoverSelectionTriggerSubject.pipe(_.Af(this.destroyed),k5(10,_.Ae)).subscribe(a=>{ORe(this,a)});this.chart.mouseEnterObservable.pipe(_.Af(this.destroyed)).subscribe(a=>{this.onMouseEnter(a)});K8(this.chart,"chart",a=>this.onMouseMove(a),this.destroyed);this.chart.mouseLeaveObservable.pipe(_.Af(this.destroyed)).subscribe(a=>{this.onMouseLeave(a)});this.chart.mouseClickObservable.pipe(_.Af(this.destroyed)).subscribe(a=>{this.onClick(a)})}bindDrawInstrumentation(){QNe(this.heatmapView,
({drawStartTimestamp:a,drawStopTimestamp:b})=>{const c=!this.loading;this.scopeObservable.pipe(_.af(1)).subscribe(({chartId:d,layerId:e})=>{v9(this.instrumentationService,{type:"draw-start",layerType:"graphic",timestamp:a,chartId:d,layerId:e});v9(this.instrumentationService,{type:"draw-stop",layerType:"graphic",timestamp:b,chartId:d,layerId:e,metadata:{hasCompleteData:c}})})})}onDataChange(a,b){const c=b.scope,d=b.state,e=a.currentValue,f=[];a.previousValue!==e&&(f.push(j9({chartId:c.chartId,layerId:c.layerId,
yAxisId:c.yAxisId,xAxisId:c.xAxisId,valueType:2,unit:(null==e?void 0:e.unit)||null,legendTemplate:this.legendTemplate,alignmentPeriodMs:this.alignmentPeriodMs||void 0})),f.push(i9({chartId:c.chartId,layerId:c.layerId,series:(null==e?void 0:e.series.map(l=>({seriesId:l.id,name:l.name||l.id,drawnAs:3,dataSeriesMetadata:l.metadata})))||[]})),e?(this.yAxisRequirement=PRe(e),f.push(X8(this,this.yAxisRequirement)),this.xAxisRequirement=QRe(e),f.push(Y8(this,this.xAxisRequirement)),a=RRe(e),a!==this.maxBucketCount&&
f.push(SRe(this,a))):f.push(SRe(this,0)),this.updateGridTriggerSubject.next(b));let g,h;(null==d?0:null==(g=d.xAxisPin)?0:g.xPos)&&(null==d?0:null==(h=d.xAxisPin)?0:h.locked)&&(b=this.heatmapView.getValuesAtTime(b,d.xAxisPin.xPos),(b=this.updateTimeSeriesValues((null==b?void 0:b.values)||null,(null==b?void 0:b.timeRange)||null,0))&&f.push(b));J8(this.chart,f)}onResizeChange(a,b){J5(a)&&this.updateGridTriggerSubject.next(b)}onYAxisChange(a,b){K5(a)&&this.updateGridTriggerSubject.next(b)}onColorScaleChange(a,
b){a=b.scope;let c,d;const e=null==(c=b.state)?void 0:null==(d=c.colorScale)?void 0:d.byLayer.entities[a.layerId];if(e&&e.max!==this.maxBucketCount){this.maxBucketCount=e.max;for(const f of this.views)f.draw({currentValue:b.data,previousValue:b.data},b)}}onXAxisChange(a,b){(D5(a)||Che(a)||Dhe(a))&&this.updateGridTriggerSubject.next(b);if(Bhe(a)){let c=void 0;this.defaultColumnMaskGeneratorSubject.next(()=>{let d=null;void 0===c&&(this.gridGeneratorSubject.pipe(_.af(1)).subscribe(e=>{d=e&&e()}),c=
this.generateDefaultColumnMask(b,d));return c})}}onXAxisPinChange(a,b){const c=[];let d,e;if((null==(d=a.previousValue)?void 0:d.xPos)!==(null==(e=a.currentValue)?void 0:e.xPos)){var f;let g;a=this.heatmapView.getValuesAtTime(b,(null==(f=a.currentValue)?void 0:null==(g=f.xPos)?void 0:g.valueOf())||null);let h,l;(f=this.updateTimeSeriesValues(null!=(h=null==a?void 0:a.values)?h:null,null!=(l=null==a?void 0:a.timeRange)?l:null,0))&&c.push(f)}return c}onMouseEnter(){this.isMouseOver=!0}onMouseMove(a){let b=
[];if(!this.isMouseOver)return b;a=W8(this,a);this.syncActionsBuffer=[];this.updateHoverSelectionTriggerSubject.next(a);this.updateHoverValuesTriggerSubject.next(a);b=b.concat(this.syncActionsBuffer);this.syncActionsBuffer=null;return b}onMouseLeave(){this.isMouseOver=!1}onClick(a){const b=W8(this,a);this.withLatest(c=>{const d=this.heatmapView.getValuesAtXPosition(c,b.x);c=JRe(this.heatmapView,c,b);let e,f;const g=this.updateTimeSeriesValues(null!=(e=null==d?void 0:d.values)?e:null,null!=(f=null==
d?void 0:d.timeRange)?f:null,2,c);g&&this.store.dispatch(g)})}onFocusedCellChange(a){const [b,c]=a.focusedGridIndices;this.withLatest(({scope:d})=>{this.gridGeneratorSubject.pipe(_.af(1)).subscribe(e=>{if(e=e&&e()){var f=null!==c?e.columns[c]:null,g=null!==c?e.columns[c-1]:null;if(a.focusedCell){var h;let n=null!=(h=null==f?void 0:f.metadata.timeMs)?h:null;var l;h=null!=(l=null==g?void 0:g.metadata.timeMs)?l:null;null!==n&&null!==h&&(n=(n+h)/2);this.store.dispatch(m9({chartGroupId:d.chartGroupId,
position:n}));this.store.dispatch(n9({chartGroupId:d.chartGroupId,locked:!!f}))}null!==b&&null!==c&&(l=e.values[b][c],this.store.dispatch(k9({chartId:d.chartId,lastInteraction:{focus:l.position.x}})),this.store.dispatch(l9({chartId:d.chartId,yAxisId:d.yAxisId,lastInteraction:{focus:l.position.y}})))}})})}onGridCellActivate(a){this.modalService.focus(0,a)}generateGrid({data:a,state:b}){if(!a||!b)return null;const c=b.xAxis;var d=b.resize;b=b.yAxis;if(!c||!d||!b)return null;const e=E5(c,d.margins.left,
d.width-d.margins.right),f=a.unit,g=b.unit;d=L5(b,d.margins.top,d.height-d.margins.bottom,f);const h=c.tickIncrement||null,l=c.timezoneOffset,n=c.timeZoneId;return e&&d?Uje({data:a,xAxisState:c,yAxisState:b,rowFormatter:Qje(f,g,b.maximumFractionDigits),columnFormatter:r=>({label:l6({position:r,tickIncrement:h,timeZone:e6(l,n)}),value:r}),valueFormatter:Pje(),positionMap:Nje(e,d)}):null}updateHoverValues(a){this.withLatest(b=>{const c=this.heatmapView.getValuesAtXPosition(b,a.x);b=JRe(this.heatmapView,
b,a);let d,e;const f=this.updateTimeSeriesValues(null!=(d=null==c?void 0:c.values)?d:null,null!=(e=null==c?void 0:c.timeRange)?e:null,1,b);f&&(this.syncActionsBuffer?this.syncActionsBuffer.push(f):this.store.dispatch(f))})}updateTimeSeriesValues(a,b,c,d){let e=null;this.withLatest(({scope:f})=>{const g=(null!=a?a:[]).map(h=>null===h.value?h:Object.assign({},h,{value:Object.assign({},h.value,{bucketIndex:d})}));e=h9({chartId:f.chartId,layerId:f.layerId,valueType:2,timeKey:c,values:g,timeRange:null!=
b?b:void 0})});return e}generateDefaultColumnMask({state:a},b){return a&&b?(a=a.xAxis)?Vje({ticks:a.ticks,grid:b}):[]:[]}ngOnChanges(a){super.ngOnChanges(a);const b=[];"data"in a&&(!this.data||zke(this.data)?(this.dataSubject.next(this.data),this.dataTypeError&&(this.dataTypeError=null),b.push($8(this,this.error,!!this.data))):(this.dataSubject.next(null),this.dataTypeError={name:"InvalidRequestError",code:400,displayMessage:"Only distribution data can be drawn as a heatmap chart. The data provided cannot be drawn.",
message:"Only distribution data can be drawn as a heatmap chart. The data provided cannot be drawn.",details:{isTimeout:!1}},b.push($8(this,this.dataTypeError,!1))));"colorStrategy"in a&&this.configSubject.next({colorStrategy:this.colorStrategy});"loading"in a&&b.push(Z8(this,this.loading,"Heatmap"));"error"in a&&b.push($8(this,this.error,!!this.data));J8(this.chart,b)}getLayerTitle(){return this.layerName?`${"Heatmap"} ${this.layerName}`:"Heatmap"}ngOnDestroy(){super.ngOnDestroy();J8(this.chart,
[X8(this,null),Y8(this,null),$8(this,null,!1),Z8(this,!1,"Heatmap")])}};TRe.\u0275fac=function(a){return new (a||TRe)(_.A(_.ad),_.A(_.fq),_.A(L8),_.A(b9),_.A(w9),_.A(t9),_.A(y9),_.A(_.Jf))};
TRe.\u0275cmp=_.q({type:TRe,selectors:[["ac-heatmap"]],hostAttrs:[1,"composable-layer","ac-heatmap"],inputs:{data:"data",loading:"loading",error:"error",alignmentPeriodMs:"alignmentPeriodMs",colorPivots:"colorPivots",colorStrategy:"colorStrategy",layerName:"layerName",legendTemplate:"legendTemplate"},features:[_.wd,_.Gc],decls:3,vars:8,consts:[[3,"gridGenerator","columnMaskGenerator","chartTitle","layerTitle","onFocusedCellChange","onGridCellActivate","onFocus","onBlur"]],template:function(a,b){a&
1&&(_.E(0,"ac-accessibility-grid",0),_.L("onFocusedCellChange",function(c){return b.onFocusedCellChange(c)})("onGridCellActivate",function(c){return b.onGridCellActivate(c)})("onFocus",function(c){return b.onFocus(c)})("onBlur",function(c){return b.onBlur(c)}),_.Zd(1,"async"),_.Zd(2,"async"),_.F());a&2&&_.C("gridGenerator",_.$d(1,4,b.gridGeneratorObservable))("columnMaskGenerator",_.$d(2,6,b.defaultColumnMaskGeneratorObservable))("chartTitle",b.chart.title)("layerTitle",b.getLayerTitle())},dependencies:[p9,
_.pl],styles:[".composable-layer[_nghost-%COMP%]{position:absolute;height:100%;width:100%;top:0;left:0}[_nghost-%COMP%] .overlay-z-index{z-index:9}\n/*# sourceMappingURL=ac_heatmap.css.map */"],changeDetection:0});var B9=class{};B9.\u0275fac=function(a){return new (a||B9)};B9.\u0275mod=_.Bc({type:B9});B9.\u0275inj=_.tc({imports:[q9,_.ql]});
var URe={fillStyle:"#000000",globalAlpha:1,globalCompositeOperation:"source-over",strokeStyle:"#000000",lineWidth:1.25},VRe={globalAlpha:.3,lineWidth:.5},WRe={globalAlpha:.05},XRe={strokeStyle:"#ffffff",lineWidth:2},YRe=2*Math.PI,ZRe=function(a,b,c){const d=(f,g)=>(g[0]-f[0])**2+(g[1]-f[1])**2;var e=d(b,c);if(0===e)return Math.sqrt(d(a,b));e=((a[0]-b[0])*(c[0]-b[0])+(a[1]-b[1])*(c[1]-b[1]))/e;e=Math.max(0,Math.min(1,e));return Math.sqrt(d(a,[b[0]+e*(c[0]-b[0]),b[1]+e*(c[1]-b[1])]))},$Re=function(a,
b,c){a=a.unpack(b);if(null==a||!a.data)return null;b=Infinity;let d=null;const e=a.inverseDomainMap(c.x),f=a.inverseDomainMap(10)-a.inverseDomainMap(0);for(const l of a.data.series){const [n,r]=wje(l,e,f);var g=Math.max(0,n);const v=Math.min(r,l.data.length-1);for(;g<v;g++){var h=l.data[g];const w=l.data[g+1];h=ZRe([c.x,c.y],a.dataMap(h.x,h.y),a.dataMap(w.x,w.y));h<b&&10>=h&&(b=h,d=l.id)}}return d},aSe=class extends C8{constructor(a,b){super(a);this.queueService=b;this.shapeCanvas=document.createElement("canvas");
this.bandCanvas=document.createElement("canvas");this.bandCanvasAttached=!1;this.fullDrawDebounceId=null;this.shapeCanvas.setAttribute("aria-hidden","true");this.shapeCanvas.style.position="absolute";b=this.shapeCanvas.getContext("2d");if(!b)throw Error("ul");this.shapeCtx=b;this.bandCanvas.setAttribute("aria-hidden","true");this.bandCanvas.style.position="absolute";b=this.bandCanvas.getContext("2d");if(!b)throw Error("ul");this.bandCtx=b;a.appendChild(this.shapeCanvas)}draw(a,b){this.drawInternal(b)}onXAxisChange(a,
b){if(D5(a)){this.drawInternal(b);let c;a=null==(c=a.currentValue)?void 0:c.lastUpdateCausedBy;this.queueService&&a&&(3===a&&r9(this.queueService,"time_to_pan_redraw","time to redraw chart from panning interaction"),4===a&&r9(this.queueService,"time_to_zoom_redraw","time to redraw chart from zooming interaction"))}}onResizeChange(a,b){J5(a)&&(Jhe(a)||(null==this.queueService?0:!gRe)?this.drawInternal(b):(this.fullDrawDebounceId&&(clearTimeout(this.fullDrawDebounceId),this.fullDrawDebounceId=null),
B8(this,b,this.canvas,this.ctx),B8(this,b,this.shapeCanvas,this.shapeCtx),this.fullDrawDebounceId=setTimeout(()=>{this.drawInternal(b)},250)))}onYAxisChange(a,b){K5(a)&&this.drawInternal(b)}onSeriesSelectionChange(a,b){Lhe(a)&&this.drawInternal(b)}onColorMapChange(a,b){this.drawInternal(b)}onConfigChange(a,b){this.drawInternal(b)}unpack(a){var b=a.scope;const c=a.data,d=a.state,e=a.config;if(!d||!e)return null;a=d.resize;const f=d.xAxis;var g=d.yAxis,h=d.seriesSelection;const l=d.brush;if(!(a&&f&&
h&&g&&l)||0>=a.height||0>=a.width)return null;const n=a.width-a.margins.left-a.margins.right,r=a.height-a.margins.top-a.margins.bottom,v=a.margins.top,w=a.height-a.margins.bottom,y=a.margins.left,B=a.width-a.margins.right,G=L5(g,v,w,(null==c?0:c.unit)?c.unit:null),O=E5(f,y,B);g=F5(f,y,B);if(!O||!G||!g||null===f.min||null===f.max)return null;var T=h.byLayer.entities[b.layerId];b=T?T.selectedSeries.map(R=>R.seriesId):[];T=T?T.hoveredSeries.map(R=>R.seriesId):[];h=Object.values(h.byLayer.entities).filter(R=>
!!R).some(R=>M5(R.selectedSeries).length||M5(R.hoveredSeries).length);const J=!c||!e.colorStrategy.isReady||e.colorStrategy.isReady(c,d);return{data:c,config:e,colorMap:R=>e.colorStrategy.getColor(R,d),isColorMapReady:J,shapeMap:e.colorStrategy.getShape?R=>e.colorStrategy.getShape(R,d):null,shapeBoundingBox:e.colorStrategy.shapeBoundingBox,canvasWidth:a.width,canvasHeight:a.height,bounds:{top:v,right:B,bottom:w,left:y},bodyLeft:y,bodyTop:v,bodyWidth:n,bodyHeight:r,dataMap:(R,ra)=>[O(R.valueOf()),
G(ra)],domainMap:O,rangeMap:G,inverseDomainMap:g,selectedSeriesIds:b,hoveredSeriesIds:T,anySeriesSelectedOrHovered:h,brushing:l.brushing||!1,xAxisMin:f.min,xAxisMax:f.max}}unpackForGetValues(a){const b=a.data;var c=a.state;a=a.config;if(!c||!a)return null;const d=c.resize;c=c.xAxis;return d&&c&&null!==c.min&&null!==c.max?(c=F5(c,d.margins.left,d.width-d.margins.right))?{data:b,config:a,inverseDomainMap:c}:null:null}getSeriesIdsBetween(a,b,c,d){const e=this.unpack(a);if(!e)return null;const f=e.config.outputPeriodMs,
g=e.config.useLegacyGapDetection,h=e.inverseDomainMap(d);a=[];e.data&&(a=e.data.series.reduce((n,r)=>{const [v,w]=wje(r,h.valueOf(),0),y=r.data[v],B=r.data[w],G=e.config.pointConnectionMethod;if(!y||!B)return n;"always"!==G&&("gap_detection"!==G&&"zero_fill"!==G||i6(f,y,B,g).gapDetected)||n.push({series:r,value:w5(+y.x,+B.x,y.y,B.y,+h)});"zero_fill"===G&&i6(f,y,B,g).gapDetected&&n.push({series:r,value:0});return n},[]).sort((n,r)=>r.value>n.value?-1:r.value<n.value?1:0).map(n=>n.series));d=[];let l=
!1;for(const n of a){if(n.id===b||n.id===c)if(l){d.push(n.id);break}else l=!0;l&&d.push(n.id)}return d}getValuesAtPosition(a,b){a=this.unpackForGetValues(a);if(null==a||!a.data)return null;b=a.inverseDomainMap(b.x);return xje(a.data,b,a.config.pointConnectionMethod,a.config.outputPeriodMs,a.config.useLegacyGapDetection)}getValuesAtTime(a,b,c){a=this.unpackForGetValues(a);return null!=a&&a.data?xje(a.data,b,a.config.pointConnectionMethod,a.config.outputPeriodMs,a.config.useLegacyGapDetection,c):null}drawInternal(a){const b=
performance.now();if((a=this.unpack(a))&&a.isColorMapReady){this.fastResizeBufferMap.delete(this.canvas);this.fastResizeBufferMap.delete(this.shapeCanvas);this.fullDrawDebounceId&&(clearTimeout(this.fullDrawDebounceId),this.fullDrawDebounceId=null);this.canvas.style.left="0px";this.canvas.style.top="0px";H5(this.canvas,a.canvasHeight,a.canvasWidth);this.shapeCanvas.style.left="0px";this.shapeCanvas.style.top="0px";H5(this.shapeCanvas,a.canvasHeight,a.canvasWidth);this.bandCanvas.style.left="0px";
this.bandCanvas.style.top="0px";H5(this.bandCanvas,a.canvasHeight,a.canvasWidth);var c=new Path2D;c.rect(a.bodyLeft,a.bodyTop,a.bodyWidth,a.bodyHeight+1);this.ctx.clip(c);var d=a.anySeriesSelectedOrHovered&&!a.brushing;c={lineDrawingOptions:Object.assign({},URe,{globalAlpha:d?.15:1}),bandLineDrawingOptions:VRe,bandShadingDrawingOptions:WRe};this.shapeCtx.globalAlpha=d?.15:1;var e;d=null==(e=a.data)?void 0:e.series;if(null==d?0:d.length){if(e=a.shapeMap){const g=new Set;for(var f of d)g.add(e(f));
d.length>g.size&&(e=null)}this.drawLines(d,a.domainMap,a.rangeMap,a.colorMap,e,a.shapeBoundingBox,a.bounds,a.config,c)}A8(this,a.xAxisMin,a.xAxisMax);f=performance.now();this.drawListener({drawStartTimestamp:b,drawStopTimestamp:f})}}drawLines(a,b,c,d,e,f,g,h,l){this.ctx.save();var n;G5(this.ctx,Object.assign({},l.lineDrawingOptions,{lineDash:null==(n=h.styles)?void 0:n.lineDash}));G5(this.shapeCtx,XRe);n=!1;for(const v of a){a=d(v);const w=e&&e(v);let y;if(null==(y=h.styles)?0:y.lineBorderColor){let B,
G,O;var r=2*(null!=(O=null==(B=l)?void 0:null==(G=B.lineDrawingOptions)?void 0:G.lineWidth)?O:1);r=Object.assign({},l,{lineDrawingOptions:Object.assign({},l.lineDrawingOptions,{lineWidth:r})});let T;this.drawLine({points:v.data,domainMap:b,rangeMap:c,color:null==(T=h.styles)?void 0:T.lineBorderColor,shape:w,shapeBoundingBox:f,bounds:g,outputPeriodMs:h.outputPeriodMs,pointConnectionMethod:h.pointConnectionMethod,useLegacyGapDetection:h.useLegacyGapDetection,drawingOptions:r})}({drewBands:a}=this.drawLine({points:v.data,
domainMap:b,rangeMap:c,color:a,shape:w,shapeBoundingBox:f,bounds:g,outputPeriodMs:h.outputPeriodMs,pointConnectionMethod:h.pointConnectionMethod,useLegacyGapDetection:h.useLegacyGapDetection,drawingOptions:l}));n||(n=a)}n&&!this.bandCanvasAttached&&(this.base.insertBefore(this.bandCanvas,this.canvas),this.bandCanvasAttached=!0);this.ctx.restore()}drawLine(a){var b=a.points,c=a.domainMap,d=a.rangeMap,e=a.color,f=a.shape,g=a.shapeBoundingBox;const h=a.bounds;var l=a.outputPeriodMs,n=a.pointConnectionMethod;
const r=a.useLegacyGapDetection,v=a.drawingOptions;if(!b.length)return{drewBands:!1};const w=l||Infinity,y=[];a=[];var B,G;const O="number"===typeof(null==b?void 0:null==(B=b[0])?void 0:B.min)&&"number"===typeof(null==b?void 0:null==(G=b[0])?void 0:G.max);let T=void 0;B=null;G=[];let J=[],R=void 0;const ra=(ua,ma)=>{R?(R.x=ua,R.y=ma):R={x:ua,y:ma}};for(let ua=0;ua<b.length;ua++){var Ba=b[ua-1]||null,Ka=b[ua],Va=c(Ka.x.valueOf());let ma;const [ea,na]=I5([Va,d(Ka.y)],null!=(ma=v.lineDrawingOptions.lineWidth)?
ma:1),ya=ea,Qa=na;let Ya,Ca,Ta;if(O){let Pa,va,ub;[Ya,Ca,Ta]=I5([Va,d(null!=(Pa=Ka.min)?Pa:Ka.y),d(null!=(va=Ka.max)?va:Ka.y)],null!=(ub=v.bandLineDrawingOptions.lineWidth)?ub:1)}(!B||ya>B[0])&&ya>=h.left-1&&ya<=h.right+1&&Qa>=h.top-1&&Qa<=h.bottom+1&&(B=[ya,Qa]);Va=!1;var cb=0,H=!1;if(Ba){if("gap_detection"===n||"zero_fill"===n)cb=i6(w,Ba,Ka,r),Va=cb.gapDetected,cb=cb.gapWidthMs;if(Ka.tileDomain&&Ba.tileDomain&&Ka.tileDomain!==Ba.tileDomain){const [Pa,va]=Ba.tileDomain;var Y=Pa,X=va;const [ub,gb]=
Ka.tileDomain,Jb=ub;if(Y>gb||Jb>X)H=!0}}if(Va||H||"never"===n)if(H||"zero_fill"!==n)G.length&&y.push(G),G=[[ya,Qa]],O&&(a.push(J),J=[],void 0!==Ya&&void 0!==Ca&&void 0!==Ta&&J.push([Ya,Ca,Ta]));else{Va=cb/w-1;Ba=(Ka=Ka.x.valueOf()>Ba.x.valueOf())?Ba.x.valueOf()+w:Ba.x.valueOf()-w;for(H=0;H<Va;H++){let Pa;const [va,ub]=I5([c(Ba),d(0)],null!=(Pa=v.lineDrawingOptions.lineWidth)?Pa:1);cb=va;Y=ub;G.push([cb,Y]);T=Ihe(T,cb,Y,R,h);if(O){const [gb,Jb]=I5([c(Ba),d(0)],v.bandLineDrawingOptions.lineWidth);X=
Jb;J.push([gb,X,X])}ra(cb,Y);Ba=Ka?Ba+w:Ba-w}G.push([ya,Qa]);T=Ihe(T,ya,Qa,R,h);O&&void 0!==Ya&&void 0!==Ca&&void 0!==Ta&&J.push([Ya,Ca,Ta])}else G.push([ya,Qa]),T=Ihe(T,ya,Qa,R,h),O&&void 0!==Ya&&void 0!==Ca&&void 0!==Ta&&J.push([Ya,Ca,Ta]);ra(ya,Qa)}G.length&&y.push(G);O&&J.length&&a.push(J);if("zero_fill"===n&&l&&y.length&&y[0].length&&y[y.length-1].length){b=Math.abs(c(l)-c(0));c=y[0];l=y[y.length-1];const ua=c[0][0]<l[l.length-1][0],ma=d(0);d=(ea,na,ya)=>{const Qa=ya?{x:ea[0][0],y:ea[0][1]}:
{x:ea[ea.length-1][0],y:ea[ea.length-1][1]};let Ya;const [Ca,Ta]=I5([na,ma],null!=(Ya=v.lineDrawingOptions.lineWidth)?Ya:1);if((!ua&&ya||ua&&!ya)&&Ca>Qa.x||(!ua&&!ya||ua&&ya)&&Ca<Qa.x)T=Ihe(T,Ca,Ta,Qa,h),ya?ea.unshift([Ca,Ta]):ea.push([Ca,Ta])};ua?(d(c,c[0][0]-b,!0),d(c,h.left,!0),d(l,l[l.length-1][0]+b,!1),d(l,h.right,!1)):(d(c,c[0][0]+b,!0),d(c,h.right,!0),d(l,l[l.length-1][0]-b,!1),d(l,h.left,!1))}this.ctx.save();var W;this.ctx.lineWidth=null!=(W=v.lineDrawingOptions.lineWidth)?W:1;this.ctx.strokeStyle=
e;this.shapeCtx.fillStyle=e;this.ctx.beginPath();for(var Z of y){if(!Z[0])continue;const [ua,ma]=Z[0];W=ua;d=ma;this.ctx.moveTo(W,d);if(1===Z.length)"never"===n?(this.ctx.beginPath(),this.ctx.arc(W,d,2,0,YRe),this.ctx.closePath(),this.ctx.fill(),this.ctx.stroke()):(this.ctx.moveTo(W-2,d),this.ctx.lineTo(W+2,d));else for(W=1;W<Z.length;W++){const [ea,na]=Z[W];this.ctx.lineTo(ea,na)}}this.ctx.stroke();if(f&&(T&&"never"!==n&&this.drawShapeOrInterpolate(T,h,f,g),B&&("never"===n||!T))){const [ua,ma]=B;
this.drawShapeWithinBounds(ua,ma,h,f,g)}if(a.length){this.bandCtx.fillStyle=e;this.bandCtx.strokeStyle=e;for(const ua of a){if(0===ua.length)continue;const [ma,ea,na]=ua[0];n=ma;Z=ea;B=na;e=new Path2D;f=new Path2D;g=new Path2D;if(1===ua.length)e.moveTo(n-2,Z),e.lineTo(n+2,Z),f.moveTo(n-2,B),f.lineTo(n+2,B),g.moveTo(n-2,B),g.lineTo(n+2,B),g.lineTo(n+2,Z),g.lineTo(n-2,Z);else{e.moveTo(n,Z);f.moveTo(n,B);g.moveTo(n,B);for(n=1;n<ua.length;n++){const [ya,Qa,Ya]=ua[n];Z=ya;B=Ya;e.lineTo(Z,Qa);f.lineTo(Z,
B);g.lineTo(Z,B)}for(n=ua.length-1;0<=n;n--){const [ya,Qa]=ua[n];g.lineTo(ya,Qa)}}g.closePath();G5(this.bandCtx,v.bandShadingDrawingOptions);this.bandCtx.fill(g);G5(this.bandCtx,v.bandLineDrawingOptions);this.bandCtx.stroke(e);this.bandCtx.stroke(f)}}this.ctx.restore();return{drewBands:!(!O||!a.length)}}drawShape(a,b,c,d){this.shapeCtx.moveTo(a,b);a=Hhe(a,b,c,d?16.8/d.width:1);this.shapeCtx.save();this.shapeCtx.globalAlpha=1;this.shapeCtx.strokeStyle="#ffffff";this.shapeCtx.fillStyle="#ffffff";this.shapeCtx.stroke(a);
this.shapeCtx.fill(a);this.shapeCtx.restore();this.shapeCtx.fill(a)}drawShapeWithinBounds(a,b,c,d,e){a<c.left-1||a>c.right+1||b<c.top-1||b>c.bottom+1||this.drawShape(a,b,d,e)}drawShapeOrInterpolate(a,b,c,d){if(c&&a){let e=a.x1,f=a.y1;a.x0>a.x1&&(e=a.x0,f=a.y0);e>b.right+1&&(e=Math.max(b.right,Math.min(a.x0,a.x1)),f=Xge(a.x0,a.y0,a.x1,a.y1,e));f<b.top-1&&(f=Math.min(b.top,Math.max(a.y0,a.y1)),e=Xge(a.y0,a.x0,a.y1,a.x1,f));f>b.bottom+1&&(f=Math.max(b.bottom,Math.min(a.y0,a.y1)),e=Xge(a.y0,a.x0,a.y1,
a.x1,f));this.drawShapeWithinBounds(e,f,b,c,d)}}};
var bSe=Object.assign({},URe,{lineWidth:1.75}),cSe=Object.assign({},VRe,{globalAlpha:1}),dSe=Object.assign({},WRe,{globalAlpha:.3}),eSe=class extends aSe{onSeriesSelectionChange(a,b){Nhe(a,b.scope.layerId)&&this.drawInternal(b)}drawInternal(a){if((a=this.unpack(a))&&a.isColorMapReady){this.canvas.style.left="0px";this.canvas.style.top="0px";H5(this.canvas,a.canvasHeight,a.canvasWidth);this.shapeCanvas.style.left="0px";this.shapeCanvas.style.top="0px";H5(this.shapeCanvas,a.canvasHeight,a.canvasWidth);
this.bandCanvas.style.left="0px";this.bandCanvas.style.top="0px";H5(this.bandCanvas,a.canvasHeight,a.canvasWidth);var b=new Path2D;b.rect(a.bodyLeft,a.bodyTop,a.bodyWidth,a.bodyHeight+1);this.ctx.clip(b);var c=a.selectedSeriesIds;a.brushing||(c=c.concat(a.hoveredSeriesIds));var d;b=null==(d=a.data)?void 0:d.series.filter(e=>c.includes(e.id));(null==b?0:b.length)&&this.drawLines(b,a.domainMap,a.rangeMap,a.colorMap,a.shapeMap,a.shapeBoundingBox,a.bounds,a.config,{lineDrawingOptions:bSe,bandLineDrawingOptions:cSe,
bandShadingDrawingOptions:dSe});A8(this,a.xAxisMin,a.xAxisMax)}}};
var fSe={clickSelect:!0,hoverHighlight:!0},gSe={lineDash:[]},hSe=function(a,b){const c=b.drawStartTimestamp,d=b.drawStopTimestamp,e=b.hasCompleteData;a.scopeObservable.pipe(_.af(1)).subscribe(({chartId:f,layerId:g})=>{v9(a.instrumentationService,{type:"draw-start",layerType:"graphic",timestamp:c,chartId:f,layerId:g});v9(a.instrumentationService,{type:"draw-stop",layerType:"graphic",timestamp:d,chartId:f,layerId:g,metadata:{hasCompleteData:e}})})},iSe=class extends a9{constructor(a,b,c,d,e,f,g,h,l){super(a,
b,c,d);this.interactionService=f;this.instrumentationService=g;this.modalService=h;this.ngZone=l;this.data=null;this.loading=!1;this.error=null;this.pointConnectionMethod="gap_detection";this.outputPeriodMsInternal=this.alignmentPeriodMs=null;this.colorStrategyInternal=new yRe;this.layerName="";this.audioChartsEnabled=!0;this.useLegacyGapDetection=!1;this.onSelect=new _.$k;this.dataSubject=new _.bg(this.data);this.configSubject=new _.bg({pointConnectionMethod:this.pointConnectionMethod,colorStrategy:this.colorStrategy,
outputPeriodMs:null,useLegacyGapDetection:this.useLegacyGapDetection,styles:this.styles});this.updateGridTriggerSubject=new _.tf;this.gridGeneratorSubject=new _.bg(null);this.gridGeneratorObservable=this.gridGeneratorSubject.pipe(_.Ye(0),Y5(this.ngZone));this.defaultColumnMaskGeneratorSubject=new _.bg(()=>[]);this.defaultColumnMaskGeneratorObservable=this.defaultColumnMaskGeneratorSubject.pipe(_.Ye(0),Y5(this.ngZone));this.xAxisRequirement=this.derivedMinMaxBand=this.yAxisRequirement=null;this.stylesInternal=
gSe;this.interactionsInternal=fSe;this.isShiftKeyDown=this.isMetaKeyDown=this.isCtrlKeyDown=!1;this.shiftSelectingFromSeriesId=null;this.isMouseOver=!1;this.hoverHighlightTriggerSubject=new _.rf(1);this.updateHoverValuesTriggerSubject=new _.rf(1);this.syncActionsBuffer=this.dataTypeError=null;this.colorRecalculationAttemptsRemaining=2;this.layerType="graphic";this.lineView=new aSe(a.nativeElement,e);this.views.push(this.lineView);this.views.push(new eSe(a.nativeElement));this.bindDrawInstrumentation()}set outputPeriodMs(a){this.outputPeriodMsInternal=
a}get outputPeriodMs(){let a;return null!=(a=this.outputPeriodMsInternal)?a:this.alignmentPeriodMs}set colorStrategy(a){this.colorStrategyInternal=a||new yRe}get colorStrategy(){return this.colorStrategyInternal}set interactions(a){this.interactionsInternal=Object.assign({},fSe,a)}get interactions(){return this.interactionsInternal}set styles(a){this.stylesInternal=Object.assign({},gSe,a)}get styles(){return this.stylesInternal}get isPrimaryModifierKeyDown(){return Qle?this.isMetaKeyDown:this.isCtrlKeyDown}bindDrawInstrumentation(){QNe(this.lineView,
a=>{hSe(this,Object.assign({},a,{hasCompleteData:!this.loading}))})}onDataChange(a,b){var c=a.previousValue;const d=a.currentValue,e=b.scope,f=b.state;a=[];var g;a.push(j9({chartId:b.scope.chartId,layerId:b.scope.layerId,yAxisId:b.scope.yAxisId,xAxisId:b.scope.xAxisId,valueType:1,unit:(null==d?void 0:d.unit)||null,pointConnectionMethod:(null==(g=b.config)?void 0:g.pointConnectionMethod)||void 0,legendTemplate:this.legendTemplate,alignmentPeriodMs:this.alignmentPeriodMs||void 0}));a.push(i9({chartId:b.scope.chartId,
layerId:b.scope.layerId,series:(null==d?void 0:d.series.map(v=>({seriesId:v.id,name:v.name||v.id,drawnAs:0,dataSeriesMetadata:v.metadata,statsModeSummaryValue:v.statsModeSummaryValue})))||[]}));this.derivedMinMaxBand=Sie(d);(null==f?0:f.xAxis)&&c!==d&&((g=Tie(this.derivedMinMaxBand,(null==d?void 0:d.unit)||null,f.xAxis.min,f.xAxis.max))&&"zero_fill"===this.pointConnectionMethod&&(g=Xie(g)),Uie(this.yAxisRequirement,g)&&(this.yAxisRequirement=g,a.push(X8(this,this.yAxisRequirement))));c!==d&&(this.xAxisRequirement=
Vie(d),a.push(Y8(this,this.xAxisRequirement)));if(f&&d){if(c=zPe(this.colorStrategy,e,d,f))a.push(c),this.colorRecalculationAttemptsRemaining=2;a.push(this.createSetSeriesColorMetadataAction(e,d,f));(c=this.updateMostRecentValues(b))&&a.push(c)}var h;if(c=null==f?void 0:null==(h=f.seriesSelection)?void 0:h.byLayer.entities[e.layerId]){h=c.selectedSeries;c=c.hoveredSeries;var l;const v=new Set(null!=(l=null==d?void 0:d.series.map(w=>w.id))?l:[]);l=h.filter(w=>v.has(w.seriesId));l.length!==h.length&&
a.push(c9({chartId:e.chartId,layerId:e.layerId,series:l}));l=c.filter(w=>v.has(w.seriesId));l.length!==c.length&&a.push(d9({chartId:e.chartId,layerId:e.layerId,series:l}))}this.updateGridTriggerSubject.next(b);let n,r;(null==f?0:null==(n=f.xAxisPin)?0:n.xPos)&&(null==f?0:null==(r=f.xAxisPin)?0:r.locked)&&(b=this.lineView.getValuesAtTime(b,f.xAxisPin.xPos),(b=this.updateTimeSeriesValues(b,0))&&a.push(b));return a}onResizeChange(a,b){const c=[];J5(a)&&(this.updateGridTriggerSubject.next(b),(a=this.updateMostRecentValues(b))&&
c.push(a));return c}onYAxisChange(a,b){K5(a)&&this.updateGridTriggerSubject.next(b)}onXAxisChange(a,b){const c=[];if(D5(a)){var d=b.data;const e=b.state;if(null==e?0:e.xAxis)(d=Tie(this.derivedMinMaxBand,(null==d?void 0:d.unit)||null,e.xAxis.min,e.xAxis.max))&&"zero_fill"===this.pointConnectionMethod&&(d=Xie(d)),Uie(this.yAxisRequirement,d)&&(this.yAxisRequirement=d,c.push(X8(this,this.yAxisRequirement)));(d=this.updateMostRecentValues(b))&&c.push(d)}(D5(a)||Che(a)||Dhe(a))&&this.updateGridTriggerSubject.next(b);
if(Bhe(a)){let e=void 0;this.defaultColumnMaskGeneratorSubject.next(()=>{let f=null;this.gridGeneratorSubject.pipe(_.af(1)).subscribe(g=>{f=g&&g()});void 0===e&&(e=this.generateDefaultColumnMask(b,f));return e})}return c}onXAxisPinChange(a,b){const c=[];let d,e;if((null==(d=a.previousValue)?void 0:d.xPos)!==(null==(e=a.currentValue)?void 0:e.xPos)){var f;a=this.lineView.getValuesAtTime(b,(null==(f=a.currentValue)?void 0:f.xPos)||null);if(!a)return;(f=this.updateTimeSeriesValues(a,0))&&c.push(f)}return c}onColorMapChange(a,
b){a=b.scope;const c=b.data;b=b.state;const d=[];if(c&&b){if(0<this.colorRecalculationAttemptsRemaining){const e=zPe(this.colorStrategy,a,c,b);e&&(d.push(e),this.colorRecalculationAttemptsRemaining--)}d.push(this.createSetSeriesColorMetadataAction(a,c,b))}return d}createSetSeriesColorMetadataAction(a,b,c){return i9({chartId:a.chartId,layerId:a.layerId,series:b.series.map(d=>({seriesId:d.id,name:d.name||d.id,drawnAs:0,color:this.colorStrategy.getColor(d,c),shape:this.colorStrategy.getShape&&this.colorStrategy.getShape(d,
c)}))})}onFocusedCellChange(a){const [b,c]=a.focusedGridIndices;this.withLatest(({scope:d})=>{this.gridGeneratorSubject.pipe(_.af(1)).subscribe(e=>{if(e=e&&e()){var f=null!==b?e.rows[b]:null,g=null!==c?e.columns[c]:null;a.focusedCell&&(this.store.dispatch(c9({chartId:d.chartId,layerId:d.layerId,series:f?[{seriesId:f.metadata.seriesId}]:[]})),this.store.dispatch(m9({chartGroupId:d.chartGroupId,position:g?g.metadata.timeMs:null})),this.store.dispatch(n9({chartGroupId:d.chartGroupId,locked:!!g})));this.store.dispatch(d9({chartId:d.chartId,
layerId:d.layerId,series:[]}));null!==b&&null!==c&&(e=e.values[b][c],this.store.dispatch(k9({chartId:d.chartId,lastInteraction:{focus:e.position.x}})),this.store.dispatch(l9({chartId:d.chartId,yAxisId:d.yAxisId,lastInteraction:{focus:e.position.y}})))}})})}onGridCellActivate(a){this.modalService.focus(0,a)}onClick(a){const b=W8(this,a);this.withLatest(c=>{var d=c.state,e=c.data;if(d&&e){var f=d.seriesSelection;d=d.brush;if(f&&d&&!d.brushing){f=(f=f.byLayer.entities[c.scope.layerId])?f.selectedSeries.map(h=>
h.seriesId):[];var g=$Re(this.lineView,c,b);g&&(e=e.series.find(h=>h.id===g))&&this.onSelect.emit(e);this.interactions.clickSelect&&(e=[],d=WQe,g&&(d=YQe,this.isShiftKeyDown?this.shiftSelectingFromSeriesId&&(e=this.lineView.getSeriesIdsBetween(c,this.shiftSelectingFromSeriesId,g,b.x)||[g],d=XQe):this.isPrimaryModifierKeyDown?(e=f.includes(g)?f.filter(h=>h!==g):f.concat([g]),d=ZQe):e=1===f.length&&f.includes(g)?[]:[g]),this.shiftSelectingFromSeriesId=g,this.store.dispatch(c9({chartId:c.scope.chartId,
layerId:c.scope.layerId,series:e.map(h=>({seriesId:h}))})),this.interactionService.sendAveEvent("click",d,this.el.nativeElement))}}});this.withLatest(c=>{c=this.lineView.getValuesAtPosition(c,b);(c=this.updateTimeSeriesValues(c,2))&&this.store.dispatch(c)})}onKeyDown(a){this.isCtrlKeyDown=a.ctrlKey;this.isMetaKeyDown=a.metaKey;this.isShiftKeyDown=a.shiftKey}onKeyUp(a){this.isCtrlKeyDown=a.ctrlKey;this.isMetaKeyDown=a.metaKey;this.isShiftKeyDown=a.shiftKey;this.isShiftKeyDown||(this.shiftSelectingFromSeriesId=
null)}onMouseEnter(){this.isMouseOver=!0}onMouseMove(a){let b=[];if(!this.isMouseOver)return b;a=W8(this,a);this.syncActionsBuffer=[];this.interactions.hoverHighlight&&this.hoverHighlightTriggerSubject.next(a);this.updateHoverValuesTriggerSubject.next(a);b=b.concat(this.syncActionsBuffer);this.syncActionsBuffer=null;return b}updateHoverValues(a){this.withLatest(b=>{b=this.lineView.getValuesAtPosition(b,a);(b=this.updateTimeSeriesValues(b,1))&&(this.syncActionsBuffer?this.syncActionsBuffer.push(b):
this.store.dispatch(b))})}updateMostRecentValues(a){var b=a.data,c=a.state;const d=a.config;let e;const f=null==c?void 0:null==(e=c.xAxis)?void 0:e.max;let g;if(!(null==c?0:null==(g=c.xAxis)?0:g.min)||!f||!d)return null;b=null==b?void 0:b.series.reduce((h,l)=>{l=l.data;const n=g6(l,f,h6(d.outputPeriodMs));return(l=l[n])&&(null===h||Math.abs(f-l.x.valueOf())<Math.abs(f-h))?l.x.valueOf():h},null);c=3E5;d.outputPeriodMs&&d.outputPeriodMs<=c&&(c=void 0);return(a=this.lineView.getValuesAtTime(a,null!=
b?b:f,c))?this.updateTimeSeriesValues(a,3):null}updateTimeSeriesValues(a,b){let c=null;this.withLatest(({scope:d})=>{let e,f;c=h9({chartId:d.chartId,layerId:d.layerId,valueType:1,timeKey:b,values:null!=(e=null==a?void 0:a.values)?e:[],timeRange:null!=(f=null==a?void 0:a.timeRange)?f:void 0})});return c}hoverHighlight(a){this.withLatest(b=>{var c=b.scope,d=b.state;let e;if(!(null==d?0:null==(e=d.brush)?0:e.panning)){b=a?$Re(this.lineView,b,a):null;var f;let g;d=(null==d?void 0:null==(f=d.seriesSelection)?
void 0:null==(g=f.byLayer.entities[c.layerId])?void 0:g.hoveredSeries)||[];f=b?[{seriesId:b}]:[];N5(d,f)&&(c=d9({chartId:c.chartId,layerId:c.layerId,series:f}),this.syncActionsBuffer?this.syncActionsBuffer.push(c):this.store.dispatch(c))}})}onMouseLeave(){this.isMouseOver=!1;this.interactions.hoverHighlight&&this.hoverHighlight(null)}generateGrid({data:a,state:b,config:c}){if(!a||!b)return null;const d=b.xAxis,e=b.resize;b=b.yAxis;if(!d||!e||!b)return null;const f=E5(d,e.margins.left,e.width-e.margins.right),
g=a.unit,h=b.unit,l=L5(b,e.margins.top,e.height-e.margins.bottom,g),n=d.tickIncrement||null,r=d.timezoneOffset,v=d.timeZoneId;if(!f||!l)return null;let w,y,B,G;return Tje({data:a,xAxisState:d,yAxisState:b,columnFormatter:O=>({label:l6({position:O,tickIncrement:n,timeZone:e6(r,v)}),value:O}),valueFormatter:Oje(g,h),positionMap:Mje(f,l,{top:e.margins.top,right:e.width-e.margins.right,bottom:e.height-e.margins.bottom,left:e.margins.left},{outputPeriodMs:(null==c?void 0:c.outputPeriodMs)||void 0}),audioChartContext:null!==
d.min&&null!==d.max&&null!==b.min&&null!==b.max?{xAxis:{ticks:d.ticks.map(O=>O.value),min:null!=(w=d.min)?w:void 0,max:null!=(y=d.max)?y:void 0},yAxis:{min:null!=(B=b.min)?B:void 0,max:null!=(G=b.max)?G:void 0}}:void 0})}generateDefaultColumnMask({state:a},b){return a&&b?(a=a.xAxis)?Vje({ticks:a.ticks,grid:b}):[]:[]}ngOnInit(){super.ngOnInit();this.setup({dataObservable:this.dataSubject,configObservable:this.configSubject});this.updateGridTriggerSubject.pipe(_.Af(this.destroyed),_.We(500)).subscribe(a=>
{let b=void 0;this.gridGeneratorSubject.next(()=>{void 0===b&&(b=this.generateGrid(a));return b})});this.hoverHighlightTriggerSubject.pipe(_.Af(this.destroyed),k5(10,_.Ae)).subscribe(a=>{this.hoverHighlight(a)});this.updateHoverValuesTriggerSubject.pipe(_.Af(this.destroyed),k5(10,_.Ae)).subscribe(a=>{this.updateHoverValues(a)});this.chart.mouseEnterObservable.pipe(_.Af(this.destroyed)).subscribe(a=>{this.onMouseEnter(a)});K8(this.chart,"chart",a=>this.onMouseMove(a),this.destroyed);this.chart.mouseLeaveObservable.pipe(_.Af(this.destroyed)).subscribe(a=>
{this.onMouseLeave(a)});this.chart.mouseClickObservable.pipe(_.Af(this.destroyed)).subscribe(a=>{this.onClick(a)});this.chart.keyDownObservable.pipe(_.Af(this.destroyed)).subscribe(a=>{this.onKeyDown(a)});this.chart.keyUpObservable.pipe(_.Af(this.destroyed)).subscribe(a=>{this.onKeyUp(a)})}ngOnChanges(a){super.ngOnChanges(a);const b=[];"data"in a&&(!this.data||yke(this.data)?(this.dataSubject.next(this.data),this.dataTypeError&&(this.dataTypeError=null),b.push($8(this,this.error,!!this.data))):(this.dataSubject.next(null),
this.dataTypeError={name:"InvalidRequestError",code:400,displayMessage:"Only numeric data can be drawn as a line chart. The data provided cannot be drawn.",message:"Only numeric data can be drawn as a line chart. The data provided cannot be drawn.",details:{isTimeout:!1}},b.push($8(this,this.dataTypeError,!1))));("pointConnectionMethod"in a||"outputPeriodMs"in a||"alignmentPeriodMs"in a||"colorStrategy"in a||"styles"in a||"useLegacyGapDetection"in a)&&this.configSubject.next({pointConnectionMethod:this.pointConnectionMethod,
outputPeriodMs:this.outputPeriodMs,colorStrategy:this.colorStrategy,useLegacyGapDetection:this.useLegacyGapDetection,styles:this.styles});"loading"in a&&b.push(Z8(this,this.loading,"Line"));"error"in a&&b.push($8(this,this.error,!!this.data));J8(this.chart,b)}getLayerTitle(){return this.layerName?`${"Line"} ${this.layerName}`:"Line"}ngOnDestroy(){super.ngOnDestroy();J8(this.chart,[X8(this,null),Y8(this,null),Z8(this,!1,"Line"),$8(this,null,!1),HPe({chartId:this.chartId,layerId:this.layerId})])}};
iSe.\u0275fac=function(a){return new (a||iSe)(_.A(_.ad),_.A(_.fq),_.A(L8),_.A(b9),_.A(y9),_.A(s9),_.A(w9),_.A(t9),_.A(_.Jf))};
iSe.\u0275cmp=_.q({type:iSe,selectors:[["ac-line"]],hostAttrs:[1,"composable-layer","ac-line"],inputs:{data:"data",loading:"loading",error:"error",pointConnectionMethod:"pointConnectionMethod",alignmentPeriodMs:"alignmentPeriodMs",outputPeriodMs:"outputPeriodMs",colorStrategy:"colorStrategy",interactions:"interactions",styles:"styles",layerName:"layerName",legendTemplate:"legendTemplate",audioChartsEnabled:"audioChartsEnabled",useLegacyGapDetection:"useLegacyGapDetection"},outputs:{onSelect:"onSelect"},
features:[_.wd,_.Gc],decls:3,vars:9,consts:[[3,"gridGenerator","columnMaskGenerator","chartTitle","layerTitle","audioChartsEnabled","onGridCellActivate","onFocusedCellChange","onFocus","onBlur"]],template:function(a,b){a&1&&(_.E(0,"ac-accessibility-grid",0),_.L("onGridCellActivate",function(c){return b.onGridCellActivate(c)})("onFocusedCellChange",function(c){return b.onFocusedCellChange(c)})("onFocus",function(c){return b.onFocus(c)})("onBlur",function(c){return b.onBlur(c)}),_.Zd(1,"async"),_.Zd(2,
"async"),_.F());a&2&&_.C("gridGenerator",_.$d(1,5,b.gridGeneratorObservable))("columnMaskGenerator",_.$d(2,7,b.defaultColumnMaskGeneratorObservable))("chartTitle",b.chart.title)("layerTitle",b.getLayerTitle())("audioChartsEnabled",b.audioChartsEnabled)},dependencies:[p9,_.pl],styles:[".composable-layer[_nghost-%COMP%]{position:absolute;height:100%;width:100%;top:0;left:0}[_nghost-%COMP%] .overlay-z-index{z-index:9}\n/*# sourceMappingURL=ac_line.css.map */"],changeDetection:0});var C9=class{};
C9.\u0275fac=function(a){return new (a||C9)};C9.\u0275mod=_.Bc({type:C9});C9.\u0275inj=_.tc({imports:[q9,_.ql]});
var jSe={fillStyle:"#3367d6",globalAlpha:.1},kSe=class extends C8{constructor(a){super(a)}draw(a,b){this.drawInternal(b)}onResizeChange(a,b){J5(a)&&this.drawInternal(b)}onXAxisChange(a,b){D5(a)&&this.drawInternal(b)}drawInternal(a){var b=a.data;a=a.state;if(b&&a){var c=a.resize,d=a.xAxis;if(c&&d){var e=Math.max(0,c.width-c.margins.left-c.margins.right);a=Math.max(0,c.height-c.margins.top-c.margins.bottom);if(d=E5(d,0,e)){this.canvas.style.left=`${c.margins.left}px`;this.canvas.style.top=`${c.margins.top}px`;
H5(this.canvas,a,e);this.ctx.save();G5(this.ctx,jSe);if(b.paused||"boolean"===typeof b.domains&&!0===b.domains)this.ctx.beginPath(),this.ctx.rect(0,0,e,a),this.ctx.fill();else if(Array.isArray(b.domains))for(const f of b.domains)b=d(f.start.valueOf()),c=d(f.end.valueOf()),this.ctx.beginPath(),this.ctx.rect(b,0,c-b,a),this.ctx.fill();this.ctx.restore()}}}}};
var lSe=new _.ji("Loading {chartTitle}"),oSe=function(a,b){const c=[];for(var d of Object.keys(a)){const e=a[d];if("boolean"===typeof e){if(!0===e)return!0;continue}const f=b[d];for(const g of e)c.push({start:g[0],end:g[1],layerNames:[f]})}c.sort((e,f)=>f.start.getTime()-e.start.getTime());a=c.pop();for(b=[];0!==c.length;)if(a){if(d=c.pop())mSe(a,d)?a=nSe(a,d):(b.push(a),a=d)}else a=c.pop();a&&b.push(a);return b},mSe=function(a,b){return a.start.getTime()<=b.start.getTime()&&a.end.getTime()>=b.start.getTime()},
nSe=function(a,b){const c=new Set(a.layerNames.concat(b.layerNames));return{start:a.start,end:b.end.getTime()>a.end.getTime()?b.end:a.end,layerNames:Array.from(c)}},pSe=class extends a9{constructor(a,b,c,d,e,f){super(a,b,c,d);this.cdr=e;this.ngZone=f;this.spinnerDiameter=40;this.bodyTop=this.bodyLeft=this.bodyWidth=this.bodyHeight=0;this.dataSubject=new _.bg({domains:[],paused:!1});this.spinnerLabel=lSe.format({chartTitle:"chart"});a=new kSe(a.nativeElement);this.views.push(a);this.ngZoneDataObservable=
this.dataObservable.pipe(_.Ye(0),Y5(this.ngZone));this.ngZoneIsLoadingObservable=this.ngZoneDataObservable.pipe(_.U(g=>{let h;g=null==(h=g.currentValue)?void 0:h.domains;return Array.isArray(g)?0<g.length:null!=g?g:!1}))}set chartTitle(a){a&&(this.spinnerLabel=lSe.format({chartTitle:a}))}ngOnInit(){super.ngOnInit();this.setup({dataObservable:this.dataSubject})}ngOnChanges(a){super.ngOnChanges(a);"showPausedBeforeFirstLoad"in a&&this.withLatest(({state:b})=>{let c;this.dataSubject.next(Object.assign({},
this.dataSubject.value,{paused:!(!this.showPausedBeforeFirstLoad||(null==b?0:null==(c=b.loading)?0:c.hasLoadingEverOccurred))}))})}onResizeChange(a,b){let c;if(a=null==b?void 0:null==(c=b.state)?void 0:c.resize)this.bodyLeft=a.margins.left,this.bodyTop=a.margins.top,this.bodyWidth=a.width-a.margins.left-a.margins.right,this.bodyHeight=a.height-a.margins.top-a.margins.bottom,this.spinnerDiameter=Math.max(12,Math.min(40,this.bodyHeight-16)),this.cdr.markForCheck()}onLoadingChange(a){var b=a.currentValue;
a=!(!this.showPausedBeforeFirstLoad||(null==b?0:b.hasLoadingEverOccurred));if((null==b?0:b.sourceToDescriptionMap)&&(null==b?0:b.sourceToLoadingMap))if(b=oSe(null==b?void 0:b.sourceToLoadingMap,null==b?void 0:b.sourceToDescriptionMap),"boolean"===typeof b)this.dataSubject.next({domains:b,paused:a});else{const c=[];for(const d of b)c.push({start:d.start,end:d.end,loadingDescription:d.layerNames});this.dataSubject.next({domains:c,paused:a})}else this.dataSubject.next({domains:[],paused:a})}};
pSe.\u0275fac=function(a){return new (a||pSe)(_.A(_.ad),_.A(_.fq),_.A(L8),_.A(b9),_.A(_.el),_.A(_.Jf))};
pSe.\u0275cmp=_.q({type:pSe,selectors:[["ac-loading"]],hostAttrs:[1,"composable-layer","loading"],inputs:{chartTitle:"chartTitle",showPausedBeforeFirstLoad:"showPausedBeforeFirstLoad"},features:[_.wd,_.Gc],decls:2,vars:3,consts:[["class","chart-body",3,"height","width","top","left",4,"ngIf"],[1,"chart-body"],["color","primary",3,"diameter","strokeWidth"]],template:function(a,b){a&1&&(_.P(0,Hke,2,11,"div",0),_.Zd(1,"async"));a&2&&_.C("ngIf",_.$d(1,1,b.ngZoneIsLoadingObservable))},dependencies:[_.ll,
_.wo,_.pl],styles:[".composable-layer[_nghost-%COMP%]{position:absolute;height:100%;width:100%;top:0;left:0}[_nghost-%COMP%] .overlay-z-index{z-index:9}[_nghost-%COMP%]     .mat-progress-spinner circle, [_nghost-%COMP%]     .mat-spinner circle{stroke:#3367d6}[_nghost-%COMP%]     .mat-progress-spinner.mat-accent circle, [_nghost-%COMP%]     .mat-spinner.mat-accent circle{stroke:#3367d6}[_nghost-%COMP%]     .mat-progress-spinner.mat-warn circle, [_nghost-%COMP%]     .mat-spinner.mat-warn circle{stroke:#d50000}.chart-body[_ngcontent-%COMP%]{position:absolute}.chart-body[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);z-index:9}\n/*# sourceMappingURL=ac_loading.css.map */"],
changeDetection:0});var D9=class{};D9.\u0275fac=function(a){return new (a||D9)};D9.\u0275mod=_.Bc({type:D9});D9.\u0275inj=_.tc({imports:[_.ql,_.Fo]});
var qSe=[-Infinity,Infinity],rSe={fillStyle:"#000000",globalAlpha:1,globalCompositeOperation:"source-over",strokeStyle:"#000000",lineWidth:1.25,lineCap:"square"},sSe={strokeStyle:"#ffffff",lineWidth:2},tSe=function(a,b,c){let d=null,e=null;for(let g=0;g<a.length;g++){var f=a[g];if(!f.length)continue;const h=b(f[0]),l=f[f.length-1]?b(f[f.length-1]):null;if(!f.some(v=>{const [w,y]=b(v);return w<c.left-1||w>c.right+1||y<c.top-1||y>c.bottom+1?!1:!0}))continue;let n,r;f=Math.max(h[0],null!=(r=null==(n=
l)?void 0:n[0])?r:-Infinity);if(null===d||null===e||f>e)d=g,e=f}return d},uSe=function(a,b,c){const d=a.unpack(b);if(null==d||!d.data)return null;a=d.config.outputPeriodMs;b=d.config.useLegacyGapDetection;const e=d.inverseDomainMap(c.x).valueOf();for(const r of d.data.series){var f=r.data.map(T=>d.dataMap(T)),g=g6(r.data,e,h6(a)),h=g+1,l=r.data[g],n=r.data[h];if(!n)continue;if(a&&i6(a,l,n,b).gapDetected)continue;const [v,w,y]=f[g];g=v;n=w;l=y;const [B,G,O]=f[h];f=B;h=w5(g,f,n,G,c.x);if(w5(g,f,l,O,
c.x)<c.y&&c.y<h)return r.id}return null},vSe=class extends C8{constructor(a,b){super(a);this.queueService=b;this.shapeCanvas=document.createElement("canvas");this.fullDrawDebounceId=null;this.shapeCanvas.setAttribute("aria-hidden","true");this.shapeCanvas.style.position="absolute";b=this.shapeCanvas.getContext("2d");if(!b)throw Error("ul");this.shapeCtx=b;a.appendChild(this.shapeCanvas)}draw(a,b){this.drawInternal(b)}onXAxisChange(a,b){if(D5(a)){this.drawInternal(b);let c;a=null==(c=a.currentValue)?
void 0:c.lastUpdateCausedBy;this.queueService&&a&&(3===a&&r9(this.queueService,"time_to_pan_redraw","time to redraw chart from panning interaction"),4===a&&r9(this.queueService,"time_to_zoom_redraw","time to redraw chart from zooming interaction"))}}onResizeChange(a,b){J5(a)&&(Jhe(a)?this.drawInternal(b):(this.fullDrawDebounceId&&(clearTimeout(this.fullDrawDebounceId),this.fullDrawDebounceId=null),B8(this,b,this.canvas,this.ctx),B8(this,b,this.shapeCanvas,this.shapeCtx),this.fullDrawDebounceId=setTimeout(()=>
{this.fastResizeBufferMap.delete(this.canvas);this.fastResizeBufferMap.delete(this.shapeCanvas);this.drawInternal(b)},250)))}onYAxisChange(a,b){K5(a)&&this.drawInternal(b)}onSeriesSelectionChange(a,b){Lhe(a)&&this.drawInternal(b)}onColorMapChange(a,b){this.drawInternal(b)}onConfigChange(a,b){this.drawInternal(b)}unpackForGetValues(a){const b=a.data;var c=a.state;a=a.config;if(!c||!a)return null;const d=c.resize;c=c.xAxis;return d&&c&&null!==c.min&&null!==c.max?(c=F5(c,d.margins.left,d.width-d.margins.right))?
{data:b,config:a,inverseDomainMap:c}:null:null}getValuesAtTime(a,b,c){a=this.unpackForGetValues(a);return null!=a&&a.data?xje(a.data,b,a.config.pointConnectionMethod,a.config.outputPeriodMs,a.config.useLegacyGapDetection,c):null}getValuesAtXPosition(a,b){a=this.unpackForGetValues(a);return a?(b=a.inverseDomainMap(b))?xje(a.data,null==b?void 0:b.valueOf(),a.config.pointConnectionMethod,a.config.outputPeriodMs,a.config.useLegacyGapDetection):null:null}unpack(a){var b=a.scope;const c=a.data,d=a.state,
e=a.config;if(!d||!e)return null;var f=d.resize;a=d.xAxis;var g=d.yAxis,h=d.seriesSelection;const l=d.brush;if(!(f&&a&&h&&g&&l))return null;const n=f.width,r=f.height,v=f.margins.top,w=f.height-f.margins.bottom,y=f.margins.left;f=f.width-f.margins.right;const B=L5(g,v,w,c?c.unit:null),G=E5(a,y,f);g=F5(a,y,f);if(null===a.min||null===a.max||!G||!B||!g)return null;var O=h.byLayer.entities[b.layerId];b=O?O.selectedSeries.map(J=>J.seriesId):[];O=O?O.hoveredSeries.map(J=>J.seriesId):[];h=Object.values(h.byLayer.entities).filter(J=>
!!J).some(J=>J.selectedSeries.length||J.hoveredSeries.length);const T=!c||!e.colorStrategy.isReady||e.colorStrategy.isReady(c,d);return{data:c,config:e,colorMap:J=>e.colorStrategy.getColor(J,d),isColorMapReady:T,shapeMap:e.colorStrategy.getShape?J=>e.colorStrategy.getShape(J,d):null,shapeBoundingBox:e.colorStrategy.shapeBoundingBox,bounds:{top:v,right:f,bottom:w,left:y},canvasWidth:n,canvasHeight:r,bodyTop:v,bodyBottom:w,bodyLeft:y,bodyRight:f,bodyWidth:f-y,bodyHeight:w-v,dataMap:J=>{const R=J.x,
ra=J.y0,Ba=J.y1;if(null==ra||null==Ba)throw Error("zl`"+JSON.stringify(J));return[G(R.valueOf()),B(ra),B(Ba)]},inverseDomainMap:g,selectedSeriesIds:b,hoveredSeriesIds:O,anySeriesSelectedOrHovered:h,brushing:l.brushing||!1,xAxisMin:a.min,xAxisMax:a.max}}drawInternal(a){const b=performance.now();if((a=this.unpack(a))&&a.isColorMapReady){this.fullDrawDebounceId&&(clearTimeout(this.fullDrawDebounceId),this.fullDrawDebounceId=null);this.canvas.style.left="0px";this.canvas.style.top="0px";H5(this.canvas,
a.canvasHeight,a.canvasWidth);this.shapeCanvas.style.left="0px";this.shapeCanvas.style.top="0px";H5(this.shapeCanvas,a.canvasHeight,a.canvasWidth);var c=new Path2D;c.rect(a.bodyLeft,a.bodyTop,a.bodyWidth,a.bodyHeight+1);var d=new Path2D;d.rect(a.bodyLeft,a.bodyTop,a.bodyWidth,a.bodyHeight);c={line:c,area:d};var e=a.anySeriesSelectedOrHovered&&!a.brushing;d=Object.assign({},rSe,{globalAlpha:e?.15:1});this.shapeCtx.globalAlpha=e?.15:1;var f;e=null==(f=a.data)?void 0:f.series;if(null==e?0:e.length){if(f=
a.shapeMap){const h=new Set;for(var g of e)h.add(f(g));e.length>h.size&&(f=null)}this.drawLines(e,a.dataMap,a.colorMap,f,a.shapeBoundingBox,a.bounds,a.config,c,d)}A8(this,a.xAxisMin,a.xAxisMax);g=performance.now();this.drawListener({drawStartTimestamp:b,drawStopTimestamp:g})}}drawLines(a,b,c,d,e,f,g,h,l){this.ctx.save();G5(this.ctx,l);G5(this.shapeCtx,sSe);for(const n of a)switch(a=c(n),l=d&&d(n),g.pointConnectionMethod){case "always":this.drawLineAlwaysConnect(n,b,a,l,e,f,h);break;case "zero_fill":this.drawLineZeroFill(n,
b,a,l,e,f,g.outputPeriodMs,g.useLegacyGapDetection,h);break;case "never":throw Error("Al");default:this.drawLineGapDetection(n,b,a,l,e,f,g.outputPeriodMs,g.useLegacyGapDetection,h)}this.ctx.restore()}drawLineGapDetection(a,b,c,d,e,f,g,h,l){const {data:n,shiftedData:r=[]}=Kke(a,null!=g?g:Infinity,h);g=tSe(n,b,f);for(h=0;h<n.length;h++)this.drawLineAlwaysConnect(Object.assign({},a,{data:n[h]}),b,c,g===h?d:null,e,f,l);g=tSe(r,b,f);for(h=0;h<r.length;h++)this.drawLineAlwaysConnect(Object.assign({},a,
{shiftedData:r[h]}),b,c,g===h?d:null,e,f,l)}drawLineAlwaysConnect(a,b,c,d,e,f,g){this.drawLineZeroFill(a,b,c,d,e,f,Infinity,!1,g)}drawLineZeroFill(a,b,c,d,e,f,g,h,l){var n={};a=a.data;if(a.length){g=g||Infinity;this.ctx.save();this.ctx.beginPath();this.ctx.strokeStyle=c;this.ctx.fillStyle=`${c}${"60"}`;this.shapeCtx.fillStyle=c;this.ctx.clip(l.line);var r=null,v=void 0,w=void 0;for(let G=0;G<a.length;G++){var y=a[G-1];const O=a[G],[T,,J]=I5(b(O),n.lineWidth),R=T,ra=J;var B=void 0;c=null!=(B=O.tileDomain)?
B:qSe;if(Ike(r,c)){if(y&&i6(g,y,O,h).gapDetected)for(r=new Date(y.x.valueOf()+g),y={x:r,y:0,y0:0,y1:0};r<O.x;r.setMilliseconds(r.getMilliseconds()+g)){const [Ba,Ka]=I5(b(y),n.lineWidth),Va=Ba,cb=Ka;this.ctx.lineTo(Va,cb);w=Ihe(w,Va,cb,v,f);v={x:Va,y:cb}}this.ctx.lineTo(R,ra);w=Ihe(w,R,ra,v,f)}else this.ctx.moveTo(R,ra);v={x:R,y:ra};r=c}this.ctx.stroke();this.drawShapeOrInterpolate(w,f,d,e);this.ctx.clip(l.area);for(d=a.length-1;0<=d;d--){B=a[d+1];e=a[d];const [G,O]=I5(b(e),n.lineWidth);f=G;l=O;let T;
c=null!=(T=e.tileDomain)?T:qSe;if(Ike(r,c,!0)){if(B&&i6(g,B,e,h).gapDetected)for(B=new Date(B.x.valueOf()-g),r={x:B,y:0,y0:0,y1:0};B>e.x;B.setMilliseconds(B.getMilliseconds()-g)){const [J,R]=I5(b(r),n.lineWidth);this.ctx.lineTo(J,R)}this.ctx.lineTo(f,l)}else this.ctx.moveTo(f,l);r=c}this.ctx.fill();this.ctx.restore()}}getSeriesIdsBetween(a,b,c){const d=this.unpack(a);if(null==d||!d.data)return null;const [e,f]=[b,c].map(g=>d.data.series.findIndex(h=>h.id===g)).sort((g,h)=>g-h);return d.data.series.slice(e,
f+1).map(g=>g.id)}drawShape(a,b,c,d){this.shapeCtx.moveTo(a,b);a=Hhe(a,b,c,d?16.8/d.width:1);this.shapeCtx.save();this.shapeCtx.globalAlpha=1;this.shapeCtx.strokeStyle="#ffffff";this.shapeCtx.fillStyle="#ffffff";this.shapeCtx.stroke(a);this.shapeCtx.fill(a);this.shapeCtx.restore();this.shapeCtx.fill(a)}drawShapeWithinBounds(a,b,c,d,e){a<c.left-1||a>c.right+1||b<c.top-1||b>c.bottom+1||this.drawShape(a,b,d,e)}drawShapeOrInterpolate(a,b,c,d){if(c&&a){let e=a.x1,f=a.y1;a.x0>a.x1&&(e=a.x0,f=a.y0);e>b.right+
1&&(e=b.right,f=Xge(a.x0,a.y0,a.x1,a.y1,e));f<b.top-1&&(f=b.top,e=Xge(a.y0,a.x0,a.y1,a.x1,f));f>b.bottom+1&&(f=b.bottom,e=Xge(a.y0,a.x0,a.y1,a.x1,f));this.drawShapeWithinBounds(e,f,b,c,d)}}};
var wSe=Object.assign({},rSe,{lineWidth:1.75}),xSe=class extends vSe{onSeriesSelectionChange(a,b){Nhe(a,b.scope.layerId)&&this.drawInternal(b)}drawInternal(a){if((a=this.unpack(a))&&a.isColorMapReady){this.canvas.style.left="0px";this.canvas.style.top="0px";H5(this.canvas,a.canvasHeight,a.canvasWidth);this.shapeCanvas.style.left="0px";this.shapeCanvas.style.top="0px";H5(this.shapeCanvas,a.canvasHeight,a.canvasWidth);var b=new Path2D;b.rect(a.bodyLeft,a.bodyTop,a.bodyWidth,a.bodyHeight+1);var c=new Path2D;
c.rect(a.bodyLeft,a.bodyTop,a.bodyWidth,a.bodyHeight);b={line:b,area:c};var d=a.selectedSeriesIds;a.brushing||(d=d.concat(a.hoveredSeriesIds));var e;c=null==(e=a.data)?void 0:e.series.filter(f=>d.includes(f.id));(null==c?0:c.length)&&this.drawLines(c,a.dataMap,a.colorMap,a.shapeMap,a.shapeBoundingBox,a.bounds,a.config,b,wSe);A8(this,a.xAxisMin,a.xAxisMax)}}};
var ySe={clickSelect:!0,hoverHighlight:!0},zSe=function(a,b,c){return[j9({chartId:b.chartId,layerId:b.layerId,yAxisId:b.yAxisId,xAxisId:b.xAxisId,valueType:1,unit:(null==c?void 0:c.unit)||null,legendTemplate:a.legendTemplate,alignmentPeriodMs:a.alignmentPeriodMs||void 0}),i9({chartId:b.chartId,layerId:b.layerId,series:c?c.series.map((d,e)=>({seriesId:d.id,name:d.name||d.id,drawnAs:1,stackingIndex:c.series.length-1-e,dataSeriesMetadata:d.metadata,statsModeSummaryValue:d.statsModeSummaryValue,legendTemplate:d.legendTemplate})):
[]})]},ASe=class extends a9{constructor(a,b,c,d,e,f,g,h,l){super(a,b,c,d);this.el=a;this.modalService=e;this.interactionService=f;this.instrumentationService=g;this.ngZone=l;this.data=null;this.loading=!1;this.error=null;this.pointConnectionMethod="gap_detection";this.outputPeriodMsInternal=this.alignmentPeriodMs=null;this.colorStrategyInternal=new yRe;this.layerName="";this.useLegacyGapDetection=!1;this.onSelect=new _.$k;this.configSubject=new _.bg({outputPeriodMs:this.outputPeriodMs,colorStrategy:this.colorStrategy,
pointConnectionMethod:this.pointConnectionMethod,useLegacyGapDetection:this.useLegacyGapDetection});this.dataSubject=new _.bg(null);this.updateGridTriggerSubject=new _.tf;this.gridGeneratorSubject=new _.bg(null);this.gridGeneratorObservable=this.gridGeneratorSubject.pipe(_.Ye(0),Y5(this.ngZone));this.defaultColumnMaskGeneratorSubject=new _.bg(()=>[]);this.defaultColumnMaskGeneratorObservable=this.defaultColumnMaskGeneratorSubject.pipe(_.Ye(0),Y5(this.ngZone));this.xAxisRequirement=this.derivedMinMaxBand=
this.yAxisRequirement=null;this.interactionsInternal=ySe;this.isShiftKeyDown=this.isMetaKeyDown=this.isCtrlKeyDown=!1;this.shiftSelectingFromSeriesId=null;this.isMouseOver=!1;this.hoverHighlightTriggerSubject=new _.rf(1);this.updateHoverValuesTriggerSubject=new _.rf(1);this.syncActionsBuffer=this.dataTypeError=null;this.colorRecalculationAttemptsRemaining=2;this.layerType="graphic";this.stackedAreaView=new vSe(this.el.nativeElement,h);this.views.push(this.stackedAreaView);this.views.push(new xSe(a.nativeElement));
this.bindDrawInstrumentation()}set interactions(a){this.interactionsInternal=Object.assign({},ySe,a)}get interactions(){return this.interactionsInternal}set outputPeriodMs(a){this.outputPeriodMsInternal=a}get outputPeriodMs(){let a;return null!=(a=this.outputPeriodMsInternal)?a:this.alignmentPeriodMs}set colorStrategy(a){this.colorStrategyInternal=a||this.colorStrategyInternal}get colorStrategy(){return this.colorStrategyInternal}get isPrimaryModifierKeyDown(){return Qle?this.isMetaKeyDown:this.isCtrlKeyDown}ngOnInit(){super.ngOnInit();
this.setup({dataObservable:this.dataSubject.pipe(_.U(a=>a&&tke(a)),_.sf(1),_.me()),configObservable:this.configSubject});this.updateGridTriggerSubject.pipe(_.Af(this.destroyed),_.We(500)).subscribe(a=>{let b=void 0;this.gridGeneratorSubject.next(()=>{void 0===b&&(b=this.generateGrid(a));return b})});this.hoverHighlightTriggerSubject.pipe(_.Af(this.destroyed),k5(10,_.Ae)).subscribe(a=>{this.hoverHighlight(a)});this.updateHoverValuesTriggerSubject.pipe(_.Af(this.destroyed),k5(10,_.Ae)).subscribe(a=>
{this.updateHoverValues(a)});this.chart.mouseEnterObservable.pipe(_.Af(this.destroyed)).subscribe(a=>{this.onMouseEnter(a)});K8(this.chart,"chart",a=>this.onMouseMove(a),this.destroyed);this.chart.mouseLeaveObservable.pipe(_.Af(this.destroyed)).subscribe(a=>{this.onMouseLeave(a)});this.chart.mouseClickObservable.pipe(_.Af(this.destroyed)).subscribe(a=>{this.onClick(a)});this.chart.keyDownObservable.pipe(_.Af(this.destroyed)).subscribe(a=>{this.onKeyDown(a)});this.chart.keyUpObservable.pipe(_.Af(this.destroyed)).subscribe(a=>
{this.onKeyUp(a)})}ngOnChanges(a){super.ngOnChanges(a);const b=[];"data"in a&&(!this.data||yke(this.data)?(this.dataSubject.next(this.data),this.dataTypeError&&(this.dataTypeError=null),b.push($8(this,this.error,!!this.data))):(this.dataSubject.next(null),this.dataTypeError={name:"InvalidRequestError",code:400,displayMessage:"Only numeric data can be drawn as a stacked area chart. The data provided cannot be drawn.",message:"Only numeric data can be drawn as a stacked area chart. The data provided cannot be drawn.",
details:{isTimeout:!1}},b.push($8(this,this.dataTypeError,!1))));("pointConnectionMethod"in a||"outputPeriodMs"in a||"alignmentPeriodMs"in a||"colorStrategy"in a||"useLegacyGapDetection"in a)&&this.configSubject.next({pointConnectionMethod:this.pointConnectionMethod,outputPeriodMs:this.outputPeriodMs,colorStrategy:this.colorStrategy,useLegacyGapDetection:this.useLegacyGapDetection});"loading"in a&&b.push(Z8(this,this.loading,"Stacked Area"));"error"in a&&b.push($8(this,this.error,!!this.data));J8(this.chart,
b)}bindDrawInstrumentation(){QNe(this.stackedAreaView,({drawStartTimestamp:a,drawStopTimestamp:b})=>{const c=!this.loading;this.scopeObservable.pipe(_.af(1)).subscribe(({chartId:d,layerId:e})=>{v9(this.instrumentationService,{type:"draw-start",layerType:"graphic",timestamp:a,chartId:d,layerId:e});v9(this.instrumentationService,{type:"draw-stop",layerType:"graphic",timestamp:b,chartId:d,layerId:e,metadata:{hasCompleteData:c}})})})}onDataChange(a,b){var c=a.previousValue;const d=a.currentValue,e=b.scope,
f=b.state;a=[];this.derivedMinMaxBand=Sie(d);if(c!==d){if(null==f?0:f.xAxis)(c=Tie(this.derivedMinMaxBand,(null==d?void 0:d.unit)||null,f.xAxis.min,f.xAxis.max))&&"zero_fill"===this.pointConnectionMethod&&(c=Xie(c)),Uie(this.yAxisRequirement,c)&&(this.yAxisRequirement=c,a.push(X8(this,this.yAxisRequirement)));this.xAxisRequirement=Vie(d);a.push(Y8(this,this.xAxisRequirement));a=a.concat(zSe(this,e,d));if(f&&d){if(c=zPe(this.colorStrategy,e,d,f))a.push(c),this.colorRecalculationAttemptsRemaining=2;
a.push(this.createSetSeriesColorMetadataAction(e,d,f));(c=this.updateMostRecentValues(b))&&a.push(c)}var g;if(c=null==f?void 0:null==(g=f.seriesSelection)?void 0:g.byLayer.entities[e.layerId]){g=c.selectedSeries;c=c.hoveredSeries;var h;const r=new Set(null!=(h=null==d?void 0:d.series.map(v=>v.id))?h:[]);h=g.filter(v=>r.has(v.seriesId));h.length!==g.length&&a.push(c9({chartId:e.chartId,layerId:e.layerId,series:h}));h=c.filter(v=>r.has(v.seriesId));h.length!==c.length&&a.push(d9({chartId:e.chartId,
layerId:e.layerId,series:h}))}this.updateGridTriggerSubject.next(b)}let l,n;(null==f?0:null==(l=f.xAxisPin)?0:l.xPos)&&(null==f?0:null==(n=f.xAxisPin)?0:n.locked)&&(b=this.stackedAreaView.getValuesAtTime(b,f.xAxisPin.xPos),(b=this.updateTimeSeriesValues(b,0))&&a.push(b));return a}onResizeChange(a,b){J5(a)&&this.updateGridTriggerSubject.next(b)}onYAxisChange(a,b){K5(a)&&this.updateGridTriggerSubject.next(b)}onXAxisChange(a,b){const c=[];if(D5(a)){var d=b.data;const e=b.state;if(null==e?0:e.xAxis)(d=
Tie(this.derivedMinMaxBand,(null==d?void 0:d.unit)||null,e.xAxis.min,e.xAxis.max))&&"zero_fill"===this.pointConnectionMethod&&(d=Xie(d)),Uie(this.yAxisRequirement,d)&&(this.yAxisRequirement=d,c.push(X8(this,this.yAxisRequirement)));(d=this.updateMostRecentValues(b))&&c.push(d)}(D5(a)||Che(a)||Dhe(a))&&this.updateGridTriggerSubject.next(b);if(Bhe(a)){let e=void 0;this.defaultColumnMaskGeneratorSubject.next(()=>{let f=null;this.gridGeneratorSubject.pipe(_.af(1)).subscribe(g=>{f=g&&g()});void 0===e&&
(e=this.generateDefaultColumnMask(b,f));return e})}return c}onXAxisPinChange(a,b){const c=[];let d,e;if((null==(d=a.previousValue)?void 0:d.xPos)!==(null==(e=a.currentValue)?void 0:e.xPos)){var f;a=this.stackedAreaView.getValuesAtTime(b,(null==(f=a.currentValue)?void 0:f.xPos)||null);(f=this.updateTimeSeriesValues(a,0))&&c.push(f)}return c}onColorMapChange(a,b){a=[];const c=b.scope,d=b.data;b=b.state;if(d&&b){if(0<this.colorRecalculationAttemptsRemaining){const e=zPe(this.colorStrategy,c,d,b);e&&
(a.push(e),this.colorRecalculationAttemptsRemaining--)}a.push(this.createSetSeriesColorMetadataAction(c,d,b))}return a}onFocusedCellChange(a){const [b,c]=a.focusedGridIndices;this.withLatest(({scope:d})=>{this.gridGeneratorSubject.pipe(_.af(1)).subscribe(e=>{if(e=e&&e()){var f=null!==b?e.rows[b]:null,g=null!==c?e.columns[c]:null;a.focusedCell&&(this.store.dispatch(c9({chartId:d.chartId,layerId:d.layerId,series:f?[{seriesId:f.metadata.seriesId}]:[]})),this.store.dispatch(m9({chartGroupId:d.chartGroupId,
position:g?g.metadata.timeMs:null})),this.store.dispatch(n9({chartGroupId:d.chartGroupId,locked:!!g})));this.store.dispatch(d9({chartId:d.chartId,layerId:d.layerId,series:[]}));null!==b&&null!==c&&(e=e.values[b][c],this.store.dispatch(k9({chartId:d.chartId,lastInteraction:{focus:e.position.x}})),this.store.dispatch(l9({chartId:d.chartId,yAxisId:d.yAxisId,lastInteraction:{focus:e.position.y}})))}})})}onGridCellActivate(a){this.modalService.focus(0,a)}hoverHighlight(a){this.withLatest(b=>{var c=b.scope,
d=b.state;let e;if(!(null==d?0:null==(e=d.brush)?0:e.panning)){b=a?uSe(this.stackedAreaView,b,a):null;var f;let g;d=(null==d?void 0:null==(f=d.seriesSelection)?void 0:null==(g=f.byLayer.entities[c.layerId])?void 0:g.hoveredSeries)||[];f=b?[{seriesId:b}]:[];N5(d,f)&&(c=d9({chartId:c.chartId,layerId:c.layerId,series:f}),this.syncActionsBuffer?this.syncActionsBuffer.push(c):this.store.dispatch(c))}})}onClick(a){const b=W8(this,a);this.withLatest(c=>{var d=c.scope,e=c.state,f=c.data;if(e&&f&&(e=e.seriesSelection)){var g=
uSe(this.stackedAreaView,c,b);d=(d=e.byLayer.entities[d.layerId])?d.selectedSeries.map(h=>h.seriesId):[];g&&(f=f.series.find(h=>h.id===g))&&this.onSelect.emit(f);this.interactions.clickSelect&&(f=[],e=WQe,g&&(this.isShiftKeyDown?this.shiftSelectingFromSeriesId&&(f=this.stackedAreaView.getSeriesIdsBetween(c,this.shiftSelectingFromSeriesId,g,b.x)||f,e=XQe):this.isPrimaryModifierKeyDown?(f=d.includes(g)?d.filter(h=>h!==g):[...d,g],e=ZQe):1===d.length&&d.includes(g)?(f=[],e=WQe):(f=[g],e=YQe)),this.shiftSelectingFromSeriesId=
g,this.store.dispatch(c9({chartId:c.scope.chartId,layerId:c.scope.layerId,series:f.map(h=>({seriesId:h}))})),this.interactionService.sendAveEvent("click",e,this.el.nativeElement))}});this.withLatest(c=>{c=this.stackedAreaView.getValuesAtXPosition(c,b.x);(c=this.updateTimeSeriesValues(c,2))&&this.store.dispatch(c)})}onKeyDown(a){this.isCtrlKeyDown=a.ctrlKey;this.isMetaKeyDown=a.metaKey;this.isShiftKeyDown=a.shiftKey}onKeyUp(a){this.isCtrlKeyDown=a.ctrlKey;this.isMetaKeyDown=a.metaKey;this.isShiftKeyDown=
a.shiftKey;this.isShiftKeyDown||(this.shiftSelectingFromSeriesId=null)}onMouseEnter(){this.isMouseOver=!0}onMouseMove(a){let b=[];if(!this.isMouseOver)return b;a=W8(this,a);this.syncActionsBuffer=[];this.interactions.hoverHighlight&&this.hoverHighlightTriggerSubject.next(a);this.updateHoverValuesTriggerSubject.next(a);b=b.concat(this.syncActionsBuffer);this.syncActionsBuffer=null;return b}onMouseLeave(){this.isMouseOver=!1;this.interactions.hoverHighlight&&this.hoverHighlight(null)}generateGrid({data:a,
state:b,config:c}){if(!a||!b)return null;const d=b.xAxis,e=b.resize;b=b.yAxis;if(!d||!e||!b)return null;const f=E5(d,e.margins.left,e.width-e.margins.right),g=a.unit,h=b.unit,l=L5(b,e.margins.top,e.height-e.margins.bottom,g),n=d.tickIncrement||null,r=d.timezoneOffset,v=d.timeZoneId;if(!f||!l)return null;let w,y,B,G;return Tje({data:a,xAxisState:d,yAxisState:b,columnFormatter:O=>({label:l6({position:O,tickIncrement:n,timeZone:e6(r,v)}),value:O}),valueFormatter:Oje(g,h),positionMap:Mje(f,l,{top:e.margins.top,
right:e.width-e.margins.right,bottom:e.height-e.margins.bottom,left:e.margins.left},{outputPeriodMs:(null==c?void 0:c.outputPeriodMs)||void 0}),audioChartContext:null!==d.min&&null!==d.max&&null!==b.min&&null!==b.max?{xAxis:{ticks:d.ticks.map(O=>O.value),min:null!=(w=d.min)?w:void 0,max:null!=(y=d.max)?y:void 0},yAxis:{min:null!=(B=b.min)?B:void 0,max:null!=(G=b.max)?G:void 0}}:void 0})}generateDefaultColumnMask({state:a},b){return a&&b?(a=a.xAxis)?Vje({ticks:a.ticks,grid:b}):[]:[]}updateHoverValues(a){this.withLatest(b=>
{b=this.stackedAreaView.getValuesAtXPosition(b,a.x);(b=this.updateTimeSeriesValues(b,1))&&(this.syncActionsBuffer?this.syncActionsBuffer.push(b):this.store.dispatch(b))})}updateMostRecentValues(a){var b=a.data,c=a.state;const d=a.config;let e;const f=null==c?void 0:null==(e=c.xAxis)?void 0:e.max;let g;if(!(null==c?0:null==(g=c.xAxis)?0:g.min)||!f||!d)return null;b=null==b?void 0:b.series.reduce((h,l)=>{l=l.data;const n=g6(l,f,h6(d.outputPeriodMs));return(l=l[n])&&(null===h||Math.abs(f-l.x.valueOf())<
Math.abs(f-h))?l.x.valueOf():h},null);c=3E5;d.outputPeriodMs&&d.outputPeriodMs<=c&&(c=void 0);return(a=this.stackedAreaView.getValuesAtTime(a,null!=b?b:f))?this.updateTimeSeriesValues(a,3):null}updateTimeSeriesValues(a,b){let c=null;this.withLatest(({scope:d})=>{let e,f;c=h9({chartId:d.chartId,layerId:d.layerId,valueType:1,timeKey:b,values:null!=(e=null==a?void 0:a.values)?e:[],timeRange:null!=(f=null==a?void 0:a.timeRange)?f:void 0})});return c}createSetSeriesColorMetadataAction(a,b,c){return i9({chartId:a.chartId,
layerId:a.layerId,series:b.series.map(d=>({seriesId:d.id,name:d.name||d.id,drawnAs:1,color:this.colorStrategy.getColor(d,c),shape:this.colorStrategy.getShape&&this.colorStrategy.getShape(d,c)}))})}getLayerTitle(){return this.layerName?`${"Stacked Area"} ${this.layerName}`:"Stacked Area"}ngOnDestroy(){super.ngOnDestroy();J8(this.chart,[X8(this,null),Y8(this,null),Z8(this,!1,"Stacked Area"),$8(this,null,!1),HPe({chartId:this.chartId,layerId:this.layerId})])}};
ASe.\u0275fac=function(a){return new (a||ASe)(_.A(_.ad),_.A(_.fq),_.A(L8),_.A(b9),_.A(t9),_.A(s9),_.A(w9),_.A(y9),_.A(_.Jf))};
ASe.\u0275cmp=_.q({type:ASe,selectors:[["ac-stacked-area"]],hostAttrs:[1,"composable-layer","ac-stacked-area"],inputs:{data:"data",loading:"loading",error:"error",interactions:"interactions",pointConnectionMethod:"pointConnectionMethod",alignmentPeriodMs:"alignmentPeriodMs",outputPeriodMs:"outputPeriodMs",colorStrategy:"colorStrategy",layerName:"layerName",legendTemplate:"legendTemplate",useLegacyGapDetection:"useLegacyGapDetection"},outputs:{onSelect:"onSelect"},features:[_.wd,_.Gc],decls:3,vars:8,
consts:[[3,"gridGenerator","columnMaskGenerator","chartTitle","layerTitle","onGridCellActivate","onFocusedCellChange","onFocus","onBlur"]],template:function(a,b){a&1&&(_.E(0,"ac-accessibility-grid",0),_.L("onGridCellActivate",function(c){return b.onGridCellActivate(c)})("onFocusedCellChange",function(c){return b.onFocusedCellChange(c)})("onFocus",function(c){return b.onFocus(c)})("onBlur",function(c){return b.onBlur(c)}),_.Zd(1,"async"),_.Zd(2,"async"),_.F());a&2&&_.C("gridGenerator",_.$d(1,4,b.gridGeneratorObservable))("columnMaskGenerator",
_.$d(2,6,b.defaultColumnMaskGeneratorObservable))("chartTitle",b.chart.title)("layerTitle",b.getLayerTitle())},dependencies:[p9,_.pl],styles:[".composable-layer[_nghost-%COMP%]{position:absolute;height:100%;width:100%;top:0;left:0}[_nghost-%COMP%] .overlay-z-index{z-index:9}\n/*# sourceMappingURL=ac_stacked_area.css.map */"],changeDetection:0});var E9=class{};E9.\u0275fac=function(a){return new (a||E9)};E9.\u0275mod=_.Bc({type:E9});E9.\u0275inj=_.tc({imports:[q9,_.ql]});
var BSe=[4,4],CSe={globalAlpha:1,lineWidth:2,lineCap:"square",font:'10px "Roboto", sans-serif'},DSe=function(a,b){let c=[];if(null==a?0:a.relatedSeriesId){let d;for(const e of(null==(d=b.seriesSelection)?void 0:d.byLayer.ids)||[]){let f,g,h,l;c=c.concat((null==(f=b.seriesSelection)?void 0:null==(g=f.byLayer.entities[e])?void 0:g.hoveredSeries.map(n=>n.seriesId))||[],(null==(h=b.seriesSelection)?void 0:null==(l=h.byLayer.entities[e])?void 0:l.selectedSeries.map(n=>n.seriesId))||[])}}return 0===c.length||
c.some(d=>d===(null==a?void 0:a.relatedSeriesId))?1:.15},ESe=class extends C8{constructor(a){super(a)}draw(a,b){this.drawInternal(b)}onSeriesSelectionChange(a,b){let c;Nhe(a)&&(null==(c=b.data)?0:c.relatedSeriesId)&&this.drawInternal(b)}onResizeChange(a,b){J5(a)&&this.drawInternal(b)}onConfigChange(a,b){this.drawInternal(b)}onYAxisChange(a,b){var c=a.previousValue;let d;const e=null==(d=a.currentValue)?void 0:d.position;c=null==c?void 0:c.position;(K5(a)||e!==c)&&this.drawInternal(b)}drawInternal(a){var b=
this.unpack(a);if(b&&(this.canvas.style.left="0px",this.canvas.style.top="0px",H5(this.canvas,b.canvasHeight,b.canvasWidth),b.threshold||0===b.threshold)){this.ctx.save();G5(this.ctx,Object.assign({},CSe,{globalAlpha:b.alpha}));this.ctx.fillStyle=b.color;this.ctx.strokeStyle=b.color;this.ctx.setLineDash(BSe);this.ctx.beginPath();this.ctx.moveTo(b.lineStart[0],b.lineStart[1]);this.ctx.lineTo(b.lineEnd[0],b.lineEnd[1]);this.ctx.stroke();if(""!==b.label){a=b.label;var c=this.ctx.measureText(a).width,
d=c+8;let g;"right"===b.yAxisPosition?(g=b.lineEnd[0]+4,b.marginWidth<c&&(g+=b.marginWidth-d)):g=b.lineStart[0]-Math.min(c,b.marginWidth)+4;var e=g-4;c=b.lineEnd[1];this.ctx.setLineDash([]);b=this.ctx;var f=c;b.beginPath();b.moveTo(e+2,f);b.lineTo(e+d-2,f);b.quadraticCurveTo(e+d,f,e+d,f+2);b.lineTo(e+d,f+14-2);b.quadraticCurveTo(e+d,f+14,e+d-2,f+14);b.lineTo(e+2,f+14);b.quadraticCurveTo(e,f+14,e,f+14-2);b.lineTo(e,f+2);b.quadraticCurveTo(e,f,e+2,f);b.closePath();b.fill();b.stroke();this.ctx.fillStyle=
"#ffffff";this.ctx.fillText(a,g,c+11)}this.ctx.restore()}}unpack(a){const b=a.data,c=a.state;a=a.config;if(!c||!a)return null;const d=c.resize,e=c.yAxis;if(!d||!e)return null;const f=d.width,g=d.height;var h=L5(e,0,d.height-d.margins.top-d.margins.bottom,(null==b?0:b.unit)?b.unit:null);if(!h)return null;var l="";b&&(void 0!==b.label?l=b.label:(l=B5(b.unit,e.unit,b.threshold),l=null!==l?C5(l,e.unit||"1",{maximumFractionDigits:9}):C5(b.threshold,e.unit||"1")));var n=h(b?b.threshold:0)+d.margins.top;
const r=f-d.margins.right;h=I5([d.margins.left,n],CSe.lineWidth);n=I5([r,n],CSe.lineWidth);return{color:a.color,label:l,threshold:null==b?void 0:b.threshold,lineStart:h,lineEnd:n,canvasWidth:f,canvasHeight:g,yAxisPosition:e.position,marginWidth:"left"===e.position?d.margins.left:d.margins.right,alpha:DSe(b,c)}}};
var FSe=0,GSe=class extends a9{constructor(a,b,c,d){super(a,b,c,d);this.data=null;this.color="#757575";this.seriesId=`ac-threshold-line-series-${FSe++}`;this.dataSubject=new _.bg(this.data);this.configSubject=new _.bg({color:this.color});this.yAxisRequirement=null;this.thresholdLineView=new ESe(a.nativeElement);this.views.push(this.thresholdLineView)}ngOnInit(){super.ngOnInit();this.setup({dataObservable:this.dataSubject,configObservable:this.configSubject})}onConfigChange(a,b){(a=a.currentValue)&&
b.data&&this.store.dispatch(i9({chartId:b.scope.chartId,layerId:b.scope.layerId,series:[{seriesId:this.seriesId,name:b.data.label||"Threshold",color:a.color,drawnAs:6}]}))}onDataChange(a,b){a=a.currentValue;const c=b.scope,d=[];this.yAxisRequirement=a?{min:a.threshold,max:a.threshold,priority:1,unit:a.unit||null}:null;d.push(X8(this,this.yAxisRequirement));d.push(j9({chartId:b.scope.chartId,layerId:b.scope.layerId,yAxisId:b.scope.yAxisId,xAxisId:b.scope.xAxisId,valueType:1,unit:(null==a?void 0:a.unit)||
null}));b.config&&d.push(i9({chartId:b.scope.chartId,layerId:b.scope.layerId,series:a?[{seriesId:this.seriesId,name:a.label||"Threshold",color:b.config.color,drawnAs:6}]:[]}));if(a)for(const e of[1,0,2])d.push(h9({chartId:c.chartId,layerId:c.layerId,valueType:1,timeKey:e,values:[{seriesId:this.seriesId,value:{x:new Date,y:a.threshold}}]}));return d}ngOnChanges(a){super.ngOnChanges(a);"data"in a&&this.dataSubject.next(this.data);"color"in a&&this.configSubject.next({color:this.color})}ngOnDestroy(){super.ngOnDestroy();
J8(this.chart,[X8(this,null)])}};GSe.\u0275fac=function(a){return new (a||GSe)(_.A(_.ad),_.A(_.fq),_.A(L8),_.A(b9))};
GSe.\u0275cmp=_.q({type:GSe,selectors:[["ac-threshold-line"]],hostAttrs:[1,"composable-layer","ac-threshold-line"],inputs:{data:"data",color:"color"},features:[_.wd,_.Gc],decls:0,vars:0,template:function(){},styles:[".composable-layer[_nghost-%COMP%]{position:absolute;height:100%;width:100%;top:0;left:0}[_nghost-%COMP%] .overlay-z-index{z-index:9}\n/*# sourceMappingURL=ac_threshold_line.css.map */"],changeDetection:0});var F9=class{};F9.\u0275fac=function(a){return new (a||F9)};F9.\u0275mod=_.Bc({type:F9});
F9.\u0275inj=_.tc({});
var HSe=_.wh("[AC] Start brushing on the x axis",_.xh()),ISe=_.wh("[AC] Stop brushing on the x axis",_.xh()),JSe=_.wh("[AC] Update brush position on the x axis",_.xh()),KSe=_.wh("[AC] Start panning on the x axis",_.xh()),LSe=_.wh("[AC] Stop panning on the x axis",_.xh()),MSe=_.wh("[AC] Start brushing on the y axis",_.xh()),NSe=_.wh("[AC] Stop brushing on the y axis",_.xh()),OSe=_.wh("[AC] Update brush position on the y axis",_.xh());
var PSe={globalAlpha:1,fillStyle:"#b2b2b240",lineWidth:2,lineCap:"square",strokeStyle:"#ccc"},QSe=[4,4],RSe=class extends TNe{constructor(a){super(a);this.canvas.className="overlay-z-index"}draw(a){if(a=a.currentValue){var b=a.state;if(b){a=b.bodyTop;var c=b.bodyLeft,d=b.bodyHeight,e=b.bodyWidth,f=b.chartHeight,g=b.chartWidth,h=b.brushing,l=b.brushStart,n=b.brushEnd;b=b.brushAxis;this.canvas.style.left="0px";this.canvas.style.top="0px";H5(this.canvas,f,g);f=new Path2D;f.rect(c,a,e,d);this.ctx.clip(f);
n&&0===b&&(l&&h&&(this.drawBrushSelection(l,n,a,d),this.drawBrushLine(l,a,d)),this.drawBrushLine(n,a,d))}}}drawBrushLine(a,b,c){this.ctx.save();G5(this.ctx,PSe);this.ctx.setLineDash(QSe);this.ctx.beginPath();this.ctx.moveTo(...I5([a,b],PSe.lineWidth));this.ctx.lineTo(...I5([a,b+c],PSe.lineWidth));this.ctx.stroke();this.ctx.restore()}drawBrushSelection(a,b,c,d){this.ctx.save();G5(this.ctx,PSe);this.ctx.fillRect(Math.min(a,b),c,Math.abs(b-a),d);this.ctx.restore()}};
var SSe=T5(U5,(a,b)=>{if(a&&b){const c=a.bodyLeft,d=a.bodyRight;if(0<d&&0<c&&d>c){const e=b.min,f=b.max;return{domainMap:g=>w5(e,f,c,d,g),inverseDomainMap:g=>w5(c,d,e,f,g)}}}},uOe,oPe),TSe=T5(U5,(a,b)=>a&&0===b||!1,KOe,NOe),USe=T5(Uhe,(a,b,c)=>({position:a,locked:null!=b?b:!1,trackingNow:null!=c?c:!1}),BOe,COe,DOe),VSe=T5(function({chartId:a,layerId:b}){return`chartId:${a},layerId:${b}`},(a,b)=>{if(void 0!==a)return Math.max(a+((null==b?void 0:b.bottom)||0),0)},tOe,yOe),WSe=T5(U5,(a,b)=>{if(void 0!==
a&&null!==a&&null!==b&&void 0!==b&&0<b)return Date.now()-b<=a},kPe,lPe),XSe=T5(U5,(a,b,c,d,e,f)=>{if(a&&0<a.bodyWidth&&0<a.bodyHeight){let g;return Object.assign({},a,{brushing:null!=(g=c&&0===f)?g:!1,brushStart:void 0!==d&&null!==d&&b?b.domainMap(d):null,brushEnd:void 0!==e&&null!==e&&b?b.domainMap(e):null,brushAxis:null!=f?f:0})}},T5(Vhe,(a,b,c,d,e,f)=>{if(void 0!==a&&void 0!==b&&void 0!==c&&void 0!==d&&void 0!==e&&void 0!==f)return{bodyTop:a,bodyLeft:b,bodyWidth:c,bodyHeight:d,chartWidth:e,chartHeight:f}},
qOe,rOe,pOe,oOe,vOe,wOe),SSe,JOe,LOe,MOe,NOe),YSe=T5(U5,(a,b,c,d,e)=>{if(a&&0<a.bodyWidth&&0<a.bodyHeight)return Object.assign({},a,{bottomMarginHeight:Math.max(0,a.chartHeight-a.bodyBottom),xAxisPinPosition:void 0!==c&&b?b.domainMap(c):null,xAxisPinLocked:null!=d?d:!1,xAxisPinCanTrackNow:null!=e?e:!1})},AOe,SSe,BOe,COe,WSe),ZSe=T5(Uhe,(a,b,c,d,e)=>{if(a&&0<a.bodyWidth&&0<a.chartHeight&&void 0!==d)return{bodyTop:a.bodyTop,bodyLeft:a.bodyLeft,bodyRight:a.bodyRight,bodyBottom:a.bodyBottom,chartWidth:a.chartWidth,
axisTopEdge:d,ticks:null!=b?b:[],timeZoneLabel:c,domainMaps:e}},AOe,T5(U5,(a,b)=>{if(a)return(null!=b?b:[]).map(c=>({label:c.label,value:a.domainMap(c.value)}))},SSe,nPe),T5(U5,(a,b)=>{if(a&&null!==a.min&&null!==a.max&&"ms_since_epoch"===a.unit){let c;return null!=(c=b.getShortName(new Date(a.min)))?c:void 0}},R8,gPe),VSe,SSe),$Se=T5(Uhe,(a,b)=>{if(void 0!==a&&b)return{xAxisPinPxPos:b.domainMap(a)}},BOe,SSe),aTe=T5(Uhe,(a,b,c,d,e,f)=>{if(void 0!==e.position&&a&&null!==a.max&&d&&void 0!==f)return{xAxisPinPxPos:d.xAxisPinPxPos,
xAxisPinPosition:e.trackingNow?a.max:e.position,axisTopEdge:f,xAxisTickIncrement:b,xAxisUnit:a.unit,xAxisTimeZone:c,xAxisPinTrackingNow:e.trackingNow,xAxisPinLocked:e.locked}},oPe,lPe,gPe,$Se,USe,VSe),bTe=T5(Uhe,(a,b)=>{if(a)return{xAxisMin:a.min,xAxisMax:a.max,xAxisUnit:a.unit,xAxisTimeZone:b}},oPe,gPe),cTe=T5(Uhe,(a,b,c)=>{if(void 0!==a.position&&b&&"ms_since_epoch"===b.unit)return{xAxisPinPosition:a.position,xAxisPinLocked:a.locked,xAxisPinTrackingNow:a.trackingNow,xAxisPinCanTrackNow:null!=c?
c:!1,xAxisMin:b.min,xAxisMax:b.max}},USe,oPe,WSe),dTe=T5(U5,(a,b,c,d,e)=>({brushPanning:null!=e?e:!1,brushBrushing:null!=b?b:!1,brushAxis:null!=d?d:0,brushPositionStart:null!=c?c:null,xAxisUnit:null!=a?a:null}),mPe,JOe,LOe,NOe,KOe),eTe=T5(U5,(a,b,c)=>({xAxisMax:null!=a?a:null,xAxisPinCanTrackNow:null!=b?b:!1,xAxisUnit:null!=c?c:null}),kPe,WSe,mPe),fTe=T5(U5,(a,b,c,d,e)=>{let f;return{brushPanning:null!=a?a:!1,xAxisMax:null!=b?b:null,xAxisPinCanTrackNow:null!=c?c:!1,xAxisPinLocked:d.locked,xAxisPinPosition:null!=
(f=d.position)?f:null,xAxisPinTrackingNow:d.trackingNow,xAxisUnit:null!=e?e:null}},KOe,kPe,WSe,USe,mPe),gTe=T5(U5,(a,b,c,d,e)=>{let f,g,h;return{brushAxis:null!=a?a:0,brushBrushing:null!=b?b:!1,brushPanning:null!=c?c:!1,brushPosition:null!=d?d:null,xAxisMax:null!=(f=null==e?void 0:e.max)?f:null,xAxisMin:null!=(g=null==e?void 0:e.min)?g:null,xAxisUnit:null!=(h=null==e?void 0:e.unit)?h:null}},NOe,JOe,KOe,MOe,oPe);
var hTe={globalAlpha:1,lineWidth:2,lineCap:"square",globalCompositeOperation:"source-over",strokeStyle:"#bebebe"},iTe=Object.assign({},hTe,{strokeStyle:"#3468d6"}),jTe={globalAlpha:.2},kTe=function(a,b,c,d,e={}){a.ctx.save();G5(a.ctx,e);a.ctx.beginPath();a.ctx.moveTo(...I5([b,c],e.lineWidth));a.ctx.lineTo(...I5([b,d+4],e.lineWidth));a.ctx.stroke();a.ctx.restore()},lTe=class extends TNe{constructor(a){super(a);this.canvas.className="overlay-z-index"}draw(a){if(a=a.currentValue){var b=a.state;if(b){a=
b.bodyHeight;var c=b.bodyWidth,d=b.bodyLeft,e=b.bodyTop,f=b.bodyRight,g=b.bodyBottom,h=b.chartHeight,l=b.chartWidth,n=b.bottomMarginHeight,r=b.xAxisPinPosition,v=b.xAxisPinLocked;b=b.xAxisPinCanTrackNow;this.canvas.style.left="0px";this.canvas.style.top="0px";H5(this.canvas,h,l);h=v?iTe:hTe;({lineWidth:l=0}=h);var w=new Path2D;w.rect(d-l,e,c+2*l,a+n);this.ctx.clip(w);r&&(b&&!v&&(this.ctx.save(),c=f-30,f=this.ctx.createLinearGradient(f,e,c,e),f.addColorStop(0,"black"),f.addColorStop(.7,"hsla(0, 0%, 0%, 0.125)"),
f.addColorStop(.9,"hsla(0, 0%, 0%, 0.02)"),f.addColorStop(.95,"hsla(0, 0%, 0%, 0.008)"),f.addColorStop(1,"transparent"),G5(this.ctx,Object.assign({},jTe,{fillStyle:f})),this.ctx.fillRect(c,e,30,a),this.ctx.restore()),kTe(this,r,e,g,h))}}}};
var mTe={globalAlpha:1,font:"10px sans-serif",fillStyle:"#3C4043",textAlign:"center",textBaseline:"top",strokeStyle:"#80868B",lineWidth:1,lineCap:"square"},nTe=function(a,b,c,d={}){a.ctx.save();G5(a.ctx,Object.assign({},d,{textAlign:"left"}));c=Ghe(a.ctx,c,b,8);a.ctx.restore();return b+c},G9=function(a,b,c){if(!a.lastDrawnState)return!1;const d=a.lastDrawnState.bodyTop,e=a.lastDrawnState.bodyRight,f=a.lastDrawnState.bodyBottom;return b>=a.lastDrawnState.bodyLeft&&b<=e&&c>=d&&c<=f},oTe=function(a,
b){let c,d;return(a=null==(c=a.lastDrawnState)?void 0:null==(d=c.domainMaps)?void 0:d.inverseDomainMap)?a(b)-a(0):null},pTe=class extends TNe{constructor(){super(...arguments);this.lastDrawnState=null}draw(a){const b=performance.now();var c=a.currentValue;if(c&&(a=c.state,c=c.config,a&&c)){var d=a.bodyLeft,e=a.chartWidth,f=a.ticks,g=a.axisTopEdge,h=a.bodyRight,l=a.timeZoneLabel,n=c.shift?Mke(c.shift):"";this.canvas.style.left="0px";this.canvas.style.top=`${g}px`;H5(this.canvas,20,e);var r;if(!(null==
c?0:null==(r=c.styles)?0:r.hideAxis)){r=mTe;var v,w,y,B;r=Object.assign({},r,{fillStyle:null!=(y=null==c?void 0:null==(v=c.styles)?void 0:v.textColor)?y:r.fillStyle,font:null!=(B=null==c?void 0:null==(w=c.styles)?void 0:w.font)?B:r.font});v=n||l;w=0;var G;v&&!0!==(null==c?void 0:null==(G=c.styles)?void 0:G.hideLeftLabel)&&(w=nTe(this,d,v,r));G=this.drawAxisTickLabels(f,w,e,r);this.drawAxisAndTickLines(d,h,G,c.styles,r);G=performance.now();this.drawListener({drawStartTimestamp:b,drawStopTimestamp:G});
this.lastDrawnState=a}}}withinBodyOrAxis(a,b){if(!this.lastDrawnState)return!1;const c=this.lastDrawnState.bodyRight,d=this.lastDrawnState.bodyTop,e=this.lastDrawnState.axisTopEdge;return a>=this.lastDrawnState.bodyLeft&&a<=c&&b>=d&&b<=e+20}withinAxis(a,b){if(!this.lastDrawnState)return!1;const c=this.lastDrawnState.bodyRight,d=this.lastDrawnState.axisTopEdge;return a>=this.lastDrawnState.bodyLeft&&a<=c&&b>=d&&b<=d+20}calculateDataValue(a){let b,c;const d=null==(b=this.lastDrawnState)?void 0:null==
(c=b.domainMaps)?void 0:c.inverseDomainMap;return d?d(a):null}drawAxisAndTickLines(a,b,c,d,e={}){this.ctx.save();G5(this.ctx,e);this.ctx.save();this.ctx.beginPath();(null==d?0:d.lineDash)&&G5(this.ctx,Object.assign({},e,{lineDash:d.lineDash}));this.ctx.moveTo(...I5([a,0],e.lineWidth));this.ctx.lineTo(...I5([b,0],e.lineWidth));this.ctx.stroke();this.ctx.restore();this.ctx.beginPath();a=c.length?c:[{value:a,label:""},{value:b,label:""}];for(const {value:f}of a)this.ctx.moveTo(...I5([f,0],e.lineWidth)),
this.ctx.lineTo(...I5([f,5],e.lineWidth));this.ctx.stroke();this.ctx.restore()}drawAxisTickLabels(a,b,c,d={}){const e=[];this.ctx.save();G5(this.ctx,d);for(const g of a){a=g.label;d=g.value;var f=this.ctx.measureText(a).width;const h=d-f/2;f=d+f/2;0>h||h<b+6||f>c||(Ghe(this.ctx,a,d,8),b=f,e.push(g))}this.ctx.restore();return e}};
var qTe=["pinPill"],Oke=function(a,b){return{left:a,top:b}},Uke=function(a,b,c){return{locked:a,draggable:b,dragging:c}},Vke=function(a,b,c){return{top:a,height:b,"border-radius":c}},Wke=function(a,b){return{"margin-left":a,"margin-right":b}},Xke=function(a,b,c){return{height:a,width:b,padding:c}},rTe=new _.Zc("AwesomechartsTimezoneOffset");new _.Zc("AwesomechartsTimeZoneId");
var sTe={dragZoom:!0,ctrlScrollZoom:!0,ctrlDragPan:!0,hoverBrush:!0,clickTimePin:!0,hoverTimePin:!0},tTe={lineDash:[],hideAxis:!1},uTe=new _.ji("Data in this chart spans a time range from {MIN} to {MAX}."),vTe=new _.ji("Independent values in this chart along the X axis range from {MIN} to {MAX}."),wTe=0,xTe={comment:"M11 14H13V11H16V9H13V6H11V9H8V11H11ZM2 22V4Q2 3.175 2.588 2.587Q3.175 2 4 2H20Q20.825 2 21.413 2.587Q22 3.175 22 4V16Q22 16.825 21.413 17.413Q20.825 18 20 18H6ZM4 16H20Q20 16 20 16Q20 16 20 16V4Q20 4 20 4Q20 4 20 4H4Q4 4 4 4Q4 4 4 4V16ZM4 16V4Q4 4 4 4Q4 4 4 4Q4 4 4 4Q4 4 4 4V16Q4 16 4 16Q4 16 4 16Z"},
Nke=function(a){a.xAxisBrushActionButtonConfig&&a.actionButtonPosition$.pipe(_.af(1),_.U(b=>b&&b.left)).subscribe(b=>{if((b=b&&a.axisView.calculateDataValue(b))&&a.xAxisBrushActionButtonConfig)a.xAxisBrushActionButtonConfig.onClick(b)})},Rke=function(a,b){a.lastCloseXAxisPinEvent=b;a.store.dispatch(O5({actions:yTe(a)}))},yTe=function(a,b=!1){const c=[];c.push(n9({chartGroupId:a.chartGroupId,locked:!1}));b&&(c.push(m9({chartGroupId:a.chartGroupId,position:null})),c.push(o9({chartGroupId:a.chartGroupId,
trackingNow:!1})));return c},zTe=function(a,b,c,d,e){if(!b||!c||"ms_since_epoch"!==d||null===e)return!1;a=oTe(a.axisView,30);c=Math.abs(e-c);return!!a&&c<=a},ATe=class extends a9{constructor(a,b,c,d,e,f,g,h){super(a,b,c,d,!0);this.interactionService=e;this.instrumentationService=f;this.ngZone=g;this.tickStrategy=cje;this.timePinLabelStrategy=l6;this.xAxisBrushActionButtonConfig=this.relativeTo=null;this.axisDescriptionObservable=_.S("");this.dataSubject=new _.bg(null);let l;this.configSubject=new _.bg({shift:(null==
(l=this.relativeTo)?void 0:l.shift)||0,styles:this.styles});this.stylesInternal=tTe;this.interactionsInternal=sTe;this.isMouseDown=!1;this.lastMouseMoveEvent=this.lastMouseDownEvent=this.lastCloseXAxisPinEvent=null;let n;this.timePinLabelStrategySubject=new _.bg(null!=(n=this.timePinLabelStrategy)?n:l6);let r,v;this.showXAxisPinPillSubject=new _.bg(!!((null==(r=this.interactions)?0:r.clickTimePin)||(null==(v=this.interactions)?0:v.hoverTimePin)));this.relativeToSubject=new _.bg(null);this.xAxisPinPillObservable=
_.S(null);this.actionButtonPosition$=_.S(null);this.isActionButtonBeingHovered$=new _.bg(!1);this.xAxisCursorDescribedById=`ac-x-axis-aria-describedby-${wTe++}`;this.isCurrentChartBeingHovered$=new _.bg(!1);this.layerType="axis";h&&(this.timezoneOffset=h);this.axisView=new pTe(a.nativeElement);this.brushView=new RSe(a.nativeElement);this.xAxisPinView=new lTe(a.nativeElement);this.bindDrawInstrumentation()}set interactions(a){this.interactionsInternal=a?Object.assign({},sTe,a):sTe}get interactions(){return this.interactionsInternal}set styles(a){this.stylesInternal=
Object.assign({},tTe,a)}get styles(){return this.stylesInternal}isPrimaryModifierKeyDown(a){return Qle?a.metaKey:a.ctrlKey}bindDrawInstrumentation(){QNe(this.axisView,({drawStartTimestamp:a,drawStopTimestamp:b})=>{this.scopeObservable.pipe(_.af(1)).subscribe(({chartId:c,layerId:d})=>{v9(this.instrumentationService,{type:"draw-start",layerType:"axis",timestamp:a,chartId:c,layerId:d});v9(this.instrumentationService,{type:"draw-stop",layerType:"axis",timestamp:b,chartId:c,layerId:d,metadata:{hasCompleteData:!1}})})})}ngOnInit(){super.ngOnInit();
const a=[];this.setup({dataObservable:this.dataSubject,configObservable:this.configSubject});this.chart.mouseClickObservable.pipe(_.Af(this.destroyed)).subscribe(e=>{this.onClick(e)});this.chart.mouseDownObservable.pipe(_.Af(this.destroyed)).subscribe(e=>{this.onMouseDown(e)});_.qe([this.chart.mouseLeaveObservable,this.isActionButtonBeingHovered$]).pipe(_.Af(this.destroyed)).subscribe(([e,f])=>{if(!f)this.onMouseLeave(e)});K8(this.chart,"chart",e=>this.onMouseMove(e),this.destroyed);this.chart.keyDownObservable.pipe(_.Af(this.destroyed)).subscribe(e=>
{this.onKeyDown(e)});this.chart.keyUpObservable.pipe(_.Af(this.destroyed)).subscribe(e=>{this.onKeyUp(e)});this.chart.scrollObservable.pipe(_.Af(this.destroyed)).subscribe(e=>{this.onScroll(e)});this.chart.syncScrollObservable.pipe(_.Af(this.destroyed)).subscribe(e=>{this.syncOnScroll(e)});this.chart.documentMouseUpObservable.pipe(_.Af(this.destroyed)).subscribe(e=>{this.onMouseUp(e)});K8(this.chart,"document",e=>this.onDocumentMouseMove(e),this.destroyed);this.chart.mouseEnterObservable.pipe(_.Af(this.destroyed)).subscribe(e=>
{this.onMouseEnter(e)});_.De(this.chart.syncDragStartObservable,this.chart.syncDragObservable,this.chart.syncDragEndObservable).pipe(_.Af(this.destroyed)).subscribe(e=>{let f,g;if((null==(f=this.interactions)?0:f.ctrlDragPan)||(null==(g=this.interactions)?0:g.dragZoom))e.preventDefault(),e.stopPropagation()});void 0!==this.timezoneOffset&&null!==this.timezoneOffset&&a.push($Oe({chartGroupId:this.chartGroupId,chartId:this.chartId,xAxisId:this.xAxisId,timezoneOffset:this.timezoneOffset}));this.timeZoneId&&
a.push(aPe({chartGroupId:this.chartGroupId,chartId:this.chartId,xAxisId:this.xAxisId,timeZoneId:this.timeZoneId}));a.push($Pe({chartGroupId:this.chartGroupId,chartId:this.chartId,layerId:this.layerId,reservedMargins:{bottom:this.styles.hideAxis?0:20},overlappingMargins:{left:10,right:10}}));CPe(this.selectorService,{chartGroupId:this.chartGroupId,chartId:this.chartId,xAxisId:this.xAxisId},this.tickStrategy);const b=I8(this,ZSe),c=I8(this,XSe),d=I8(this,YSe);_.qe([b,this.configObservable]).pipe(_.U(([e,
f])=>({data:null,config:f.currentValue,state:null!=e?e:null})),_.yf(null),_.qf(),_.U(Q5),_.Af(this.destroyed),_.Gf(this.scopeObservable)).subscribe(([e,f])=>{this.chart.scheduleChangeHandler({mergeKey:`${f.layerId||this.layerId}-drawFromSelection`,changes:e,viewHandler:g=>{this.axisView.draw(g)},scope:f||{layerId:this.layerId,chartId:this.chartId,chartGroupId:this.chartGroupId,xAxisId:this.xAxisId,yAxisId:this.yAxisId}})});_.qe([c,this.configObservable]).pipe(_.U(([e,f])=>({data:null,config:f.currentValue,
state:null!=e?e:null})),_.yf(null),_.qf(),_.U(Q5),_.Af(this.destroyed),_.Gf(this.scopeObservable)).subscribe(([e,f])=>{this.chart.scheduleChangeHandler({mergeKey:`${f.layerId||this.layerId}-drawBrushFromSelection`,changes:e,viewHandler:g=>{this.brushView.draw(g)},scope:f||{layerId:this.layerId,chartId:this.chartId,chartGroupId:this.chartGroupId,xAxisId:this.xAxisId,yAxisId:this.yAxisId}})});_.qe([d,this.configObservable]).pipe(_.U(([e,f])=>({data:null,config:f.currentValue,state:null!=e?e:null})),
_.yf(null),_.qf(),_.U(Q5),_.Af(this.destroyed),_.Gf(this.scopeObservable)).subscribe(([e,f])=>{this.chart.scheduleChangeHandler({mergeKey:`${f.layerId||this.layerId}-drawTimePinFromSelection`,changes:e,viewHandler:g=>{this.xAxisPinView.draw(g)},scope:f||{layerId:this.layerId,chartId:this.chartId,chartGroupId:this.chartGroupId,xAxisId:this.xAxisId,yAxisId:this.yAxisId}})});this.xAxisPinPillObservable=_.qe([I8(this,aTe).pipe(_.Ye(0)),this.timePinLabelStrategySubject,this.showXAxisPinPillSubject]).pipe(_.U(([e,
f,g])=>{if(!g||!e)return null;g=e.xAxisPinPxPos;const h=e.xAxisPinPosition,l=e.xAxisPinTrackingNow,n=e.xAxisPinLocked,r=e.axisTopEdge;return h?{label:f({position:h,tickIncrement:e.xAxisTickIncrement,timeZone:e.xAxisTimeZone,trackingNow:l,unit:e.xAxisUnit||"ms_since_epoch"}),locked:n,draggable:n,dragging:!1,left:g,top:r+4,height:16,trackingNow:l}:null}),Y5(this.ngZone));this.actionButtonPosition$=c.pipe(_.U(e=>e&&e.brushEnd?{left:e.brushEnd,top:e.bodyTop}:null),_.Af(this.destroyed));this.axisDescriptionObservable=
I8(this,bTe).pipe(_.U(e=>{if(!e)return"";const f=e.xAxisUnit,g=e.xAxisMin,h=e.xAxisMax;e=e.xAxisTimeZone;return null!==g&&null!==h?"ms_since_epoch"===f?uTe.format({MIN:Ahe(new Date(g),e),MAX:Ahe(new Date(h),e)}):vTe.format({MIN:C5(g,f),MAX:C5(h,f)}):""}),_.Ye(0),Y5(this.ngZone));I8(this,cTe).pipe(_.Af(this.destroyed)).subscribe(e=>{if(e){var f=e.xAxisPinPosition,g=e.xAxisPinTrackingNow,h=e.xAxisPinCanTrackNow,l=e.xAxisMin,n=e.xAxisMax;e.xAxisPinLocked&&g?h?this.store.dispatch(m9({chartGroupId:this.chartGroupId,
position:n})):this.store.dispatch(O5({actions:yTe(this,!0)})):null!==l&&null!==n&&(f<l||n<f)&&this.store.dispatch(O5({actions:yTe(this,!0)}))}});this.scopeObservable.pipe(_.Af(this.destroyed),_.yf(null),_.qf(),_.U(Q5)).subscribe(({previousValue:e,currentValue:f})=>{f&&(null==e?void 0:e.layerId)!==(null==f?void 0:f.layerId)&&J8(this.chart,[G8({chartGroupId:f.chartGroupId,chartId:f.chartId,previousLayerId:null==e?void 0:e.layerId,currentLayerId:f.layerId})])});J8(this.chart,a)}ngAfterViewInit(){_.qe([I8(this,
$Se),this.showXAxisPinPillSubject,this.pillEl.changes]).pipe(_.Af(this.destroyed)).subscribe(([a,b])=>{b&&this.pillEl&&this.pillEl.length&&a&&(this.pillEl.first.nativeElement.style.left=`${a.xAxisPinPxPos}px`)})}ngOnChanges(a){super.ngOnChanges(a);const b=[];"tickStrategy"in a&&CPe(this.selectorService,{chartGroupId:this.chartGroupId,chartId:this.chartId,xAxisId:this.xAxisId},this.tickStrategy);if("timePinLabelStrategy"in a){let c;this.timePinLabelStrategySubject.next(null!=(c=this.timePinLabelStrategy)?
c:l6)}"timezoneOffset"in a&&void 0!==this.timezoneOffset&&null!==this.timezoneOffset&&b.push($Oe({chartGroupId:this.chartGroupId,chartId:this.chartId,xAxisId:this.xAxisId,timezoneOffset:this.timezoneOffset}));"timeZoneId"in a&&this.timeZoneId&&b.push(aPe({chartGroupId:this.chartGroupId,chartId:this.chartId,xAxisId:this.xAxisId,timeZoneId:this.timeZoneId}));if("styles"in a||"relativeTo"in a){let c;this.configSubject.next({shift:null==(c=this.relativeTo)?void 0:c.shift,styles:this.styles})}if("interactions"in
a){let c,d;if((null==(c=this.interactions)?0:c.hoverBrush)||(null==(d=this.interactions)?0:d.dragZoom)||!this.brushView.isAttached()){let g,h;((null==(g=this.interactions)?0:g.hoverBrush)||(null==(h=this.interactions)?0:h.dragZoom))&&!this.brushView.isAttached()&&this.brushView.reattach()}else this.brushView.detach();let e,f;if((null==(e=this.interactions)?0:e.clickTimePin)||(null==(f=this.interactions)?0:f.hoverTimePin)||!this.xAxisPinView.isAttached()){let g,h;((null==(g=this.interactions)?0:g.clickTimePin)||
(null==(h=this.interactions)?0:h.hoverTimePin))&&!this.xAxisPinView.isAttached()&&(this.xAxisPinView.reattach(),this.showXAxisPinPillSubject.next(!0))}else this.xAxisPinView.detach(),this.showXAxisPinPillSubject.next(!1)}"relativeTo"in a&&(this.relativeTo&&b.push(ZOe({chartGroupId:this.chartGroupId,chartId:this.chartId,xAxisId:this.xAxisId,relativeToId:this.relativeTo.xAxisId,shift:this.relativeTo.shift})),this.relativeToSubject.next(this.relativeTo));J8(this.chart,b)}ngOnDestroy(){super.ngOnDestroy();
const a=Y8(this,null);this.store.dispatch(O5({actions:[aQe({chartGroupId:this.chartGroupId,chartId:this.chartId,layerId:this.layerId}),a]}))}onClick(a){var b=this.select(eTe);if(b){var c=b.xAxisUnit,d=b.xAxisMax,e=b.xAxisPinCanTrackNow,f=W8(this,a);b=this.axisView.calculateDataValue(f.x);this.axisView.withinBodyOrAxis(f.x,f.y)&&this.store.dispatch(k9({chartId:this.chartId,lastInteraction:{click:f.x}}));var g,h;if((null==(g=this.interactions)?0:g.clickTimePin)&&a.timeStamp!==(null==(h=this.lastCloseXAxisPinEvent)?
void 0:h.timeStamp)&&this.axisView.withinAxis(f.x,f.y)){if((g=this.pillEl.first)&&g.nativeElement.className.includes("x-axis-pin")&&g.nativeElement.querySelector(".x-axis-pin-icon-wrapper")&&(g=g.nativeElement.children[1].getBoundingClientRect(),h=a.clientX-g.x,f=a.clientY-g.y,0<h&&h<g.width&&0<f&&f<g.height)){Rke(this,a);return}(c=(a=zTe(this,e,b,c,d))&&"ms_since_epoch"===c&&null!==d?d:b)&&this.store.dispatch(O5({actions:[m9({chartGroupId:this.chartGroupId,position:c}),n9({chartGroupId:this.chartGroupId,
locked:!0}),o9({chartGroupId:this.chartGroupId,trackingNow:a})]}))}}}onMouseDown(a){this.isMouseDown=!0;this.lastMouseDownEvent=a}onMouseMove(a){const b=[];var c=this.select(fTe);if(!c)return b;var d=c.xAxisPinLocked;const e=c.xAxisPinPosition,f=c.xAxisPinTrackingNow;var g=c.xAxisPinCanTrackNow;const h=c.brushPanning,l=c.xAxisUnit;c=c.xAxisMax;a=W8(this,a);let n;(null==(n=this.interactions)?0:n.hoverTimePin)&&!d&&!h&&(this.axisView.withinAxis(a.x,a.y)?(d=this.axisView.calculateDataValue(a.x),g=zTe(this,
g,d,l,c),b.push(m9({chartGroupId:this.chartGroupId,position:g&&"ms_since_epoch"===l&&null!==c?c:d})),b.push(o9({chartGroupId:this.chartGroupId,trackingNow:g}))):d||(null!==e&&b.push(m9({chartGroupId:this.chartGroupId,position:null})),f&&b.push(o9({chartGroupId:this.chartGroupId,trackingNow:!1}))));G9(this.axisView,a.x,a.y)?(b.push(k9({chartId:this.chartId,lastInteraction:{hover:a.x}})),this.isCurrentChartBeingHovered$.getValue()||this.isCurrentChartBeingHovered$.next(!0)):b.push(k9({chartId:this.chartId,
lastInteraction:{hover:null}}));return b}onMouseEnter(){this.isCurrentChartBeingHovered$.next(!0)}onMouseLeave(){this.isCurrentChartBeingHovered$.next(!1);const a=this.select(USe);if(a){a.locked||(void 0!==a.position&&this.store.dispatch(m9({chartGroupId:this.chartGroupId,position:null})),a.trackingNow&&this.store.dispatch(o9({chartGroupId:this.chartGroupId,trackingNow:!1})));var b;(null==(b=this.interactions)?0:b.hoverBrush)&&this.store.dispatch(JSe({chartGroupId:this.chartGroupId,position:null}));
this.store.dispatch(k9({chartId:this.chartId,lastInteraction:{hover:null}}))}}onDocumentMouseMove(a){const b=[];var c=this.select(gTe);if(!c)return b;var d=c.brushBrushing,e=c.brushPanning;const f=c.brushAxis,g=c.brushPosition;var h=c.xAxisMin,l=c.xAxisMax;c=c.xAxisUnit;var n=W8(this,a),r;if(G9(this.axisView,n.x,n.y)&&(null==(r=this.interactions)?0:r.dragZoom)&&!this.isPrimaryModifierKeyDown(a)&&this.isMouseDown&&this.lastMouseDownEvent){r=W8(this,this.lastMouseDownEvent);const J=G9(this.axisView,
r.x,r.y);var v;if(v=!d){var w=this.lastMouseDownEvent;v=a.clientX-w.clientX;w=a.clientY-w.clientY;const R=Math.sqrt(v**2+w**2);v=1>Math.abs(w/v)&&10<R}v&&J&&(n=this.axisView.calculateDataValue(n.x),(r=this.axisView.calculateDataValue(r.x))&&n&&b.push(HSe({chartGroupId:this.chartGroupId,positionStart:(new Date(r)).valueOf(),position:(new Date(n)).valueOf()})))}n=0;var y;if((null==(y=this.interactions)?0:y.ctrlDragPan)&&this.isPrimaryModifierKeyDown(a)&&this.isMouseDown&&this.lastMouseMoveEvent&&null!==
h&&null!==l&&(e||b.push(KSe({chartGroupId:this.chartGroupId})),e=W8(this,this.lastMouseMoveEvent),y=W8(this,a),G9(this.axisView,y.x,y.y)&&(e=oTe(this.axisView,e.x-y.x)))){n=l-h;var B;let J;y=null!=(J=null==(B=this.interactionBounds)?void 0:B.max)?J:Date.now();var G;let R;B=null!=(R=null==(G=this.interactionBounds)?void 0:G.max)?R:"ms_since_epoch"===c?y:n;G=Math.min(h+e,B-n);var O;(null==(O=this.interactionBounds)?0:O.min)&&this.interactionBounds.min>G&&(e+=this.interactionBounds.min-G,G=this.interactionBounds.min);
l=Math.min(l+e,B);n=G-h;b.push(N8({chartGroupId:this.chartGroupId,chartId:this.chartId,xAxisId:this.xAxisId,priority:4}));b.push(M8({chartGroupId:this.chartGroupId,chartId:this.chartId,xAxisId:this.xAxisId,id:this.layerId,priority:4,cause:3,min:G,max:l,unit:c}))}if(this.isEventInsideWindow(a)){var T;h=(null==(T=this.interactions)?void 0:T.dragZoom)&&!this.isPrimaryModifierKeyDown(a)&&this.isMouseDown&&d&&0===f;l=this.lastMouseDownEvent&&W8(this,this.lastMouseDownEvent);T=W8(this,a);c=this.lastMouseMoveEvent&&
W8(this,this.lastMouseMoveEvent);l=l&&G9(this.axisView,l.x,l.y);c=c&&G9(this.axisView,c.x,c.y);O=G9(this.axisView,T.x,T.y);let J;(null==(J=this.interactions)?0:J.hoverBrush)&&O&&(!d||0!==f)||h&&l?(d=this.axisView.calculateDataValue(T.x))&&b.push(JSe({chartGroupId:this.chartGroupId,position:d+n})):!c||O||null===g||this.isActionButtonBeingHovered$.getValue()||b.push(JSe({chartGroupId:this.chartGroupId,position:null}))}else b.push(ISe({chartGroupId:this.chartGroupId}));this.lastMouseMoveEvent=a;return b}onMouseUp(a){var b=
this.select(dTe);if(b){var c=b.brushPanning,d=b.brushBrushing,e=b.brushAxis,f=b.brushPositionStart;b=b.xAxisUnit;var g;(null==(g=this.interactions)?0:g.ctrlDragPan)&&this.isPrimaryModifierKeyDown(a)&&c&&0===e&&(this.store.dispatch(LSe({chartGroupId:this.chartGroupId})),this.interactionService.sendAveEvent("drag",$Qe,this.el.nativeElement));var h;if((null==(h=this.interactions)?0:h.dragZoom)&&!this.isPrimaryModifierKeyDown(a)&&d&&0===e&&this.isEventInsideWindow(a)&&(a=W8(this,a),c=this.axisView.calculateDataValue(a.x),
d=(d=this.lastMouseDownEvent&&W8(this,this.lastMouseDownEvent))&&G9(this.axisView,d.x,d.y),c&&d&&f)){d=f<c;this.store.dispatch(O5({actions:[ISe({chartGroupId:this.chartGroupId}),N8({chartGroupId:this.chartGroupId,chartId:this.chartId,xAxisId:this.xAxisId,priority:4}),M8({chartGroupId:this.chartGroupId,chartId:this.chartId,xAxisId:this.xAxisId,id:this.layerId,priority:4,cause:4,min:d?f:c,max:d?c:f,unit:b})]}));this.interactionService.sendAveEvent("drag",aRe,this.el.nativeElement);let l;(f=null==(l=
this.select(SSe))?void 0:l.inverseDomainMap)&&this.store.dispatch(JSe({chartGroupId:this.chartGroupId,position:f(a.x)}))}this.isMouseDown=!1;this.lastMouseDownEvent=null}}syncOnScroll(a){var b;(null==(b=this.interactions)?0:b.ctrlScrollZoom)&&this.isPrimaryModifierKeyDown(a)&&this.lastMouseMoveEvent&&(b=W8(this,this.lastMouseMoveEvent),this.axisView.withinBodyOrAxis(b.x,b.y)&&a.preventDefault())}onScroll(a){var b;(null==(b=this.interactions)?0:b.ctrlScrollZoom)&&this.isPrimaryModifierKeyDown(a)&&
this.lastMouseMoveEvent&&(b=W8(this,this.lastMouseMoveEvent),this.axisView.withinBodyOrAxis(b.x,b.y)&&this.scrollZoom(b,a.deltaY))}scrollZoom(a,b){var c=this.select(oPe);if(c&&this.lastMouseMoveEvent){var d=c.min,e=c.max;c=c.unit;if(b=oTe(this.axisView,b))if(a=this.axisView.calculateDataValue(a.x)){a=(a-d)/(e-d);d-=b*a;e+=b*(1-a);if("ms_since_epoch"===c){var f;let h;b=null!=(h=null==(f=this.interactionBounds)?void 0:f.max)?h:Date.now();e>b&&(f=e-b,e-=f,d-=f)}if(this.interactionBounds){var g;f=null!=
(g=this.interactionBounds.max)?g:"ms_since_epoch"===c?Date.now():Infinity;let h;g=null!=(h=this.interactionBounds.min)?h:-Infinity;f<e?(d=Math.max(g,d+f-e),e=f):g>d&&(e=Math.min(f,e+g-d),d=g)}this.store.dispatch(O5({actions:[N8({chartGroupId:this.chartGroupId,chartId:this.chartId,xAxisId:this.xAxisId,priority:4}),M8({chartGroupId:this.chartGroupId,chartId:this.chartId,xAxisId:this.xAxisId,id:this.layerId,priority:4,cause:4,min:d,max:e,unit:c})]}));this.interactionService.sendAveEvent("scroll",aRe,
this.el.nativeElement,{debounce:!0})}}}onKeyDown(a){const b=this.select(nOe);switch(a.key){case "Escape":b&&(a=yTe(this,!0),this.store.dispatch(O5({actions:a})))}}onKeyUp(a){const b=this.select(TSe);let c;(null==(c=this.interactions)?0:c.ctrlDragPan)&&b&&!this.isPrimaryModifierKeyDown(a)&&(this.store.dispatch(LSe({chartGroupId:this.chartGroupId})),this.interactionService.sendAveEvent("drag",$Qe,this.el.nativeElement))}get topButtonIconPath(){let a;return null!=(a=this.xAxisBrushActionButtonConfig)&&
a.icon?xTe[this.xAxisBrushActionButtonConfig.icon]||"":""}isEventInsideWindow(a){return 0<=a.clientX&&0<=a.clientY&&a.clientX<=window.innerWidth&&a.clientY<=window.innerHeight}};ATe.\u0275fac=function(a){return new (a||ATe)(_.A(_.ad),_.A(_.fq),_.A(L8),_.A(b9),_.A(s9),_.A(w9),_.A(_.Jf),_.A(rTe,8))};
ATe.\u0275cmp=_.q({type:ATe,selectors:[["ac-x-axis"]],viewQuery:function(a,b){a&1&&_.Oe(qTe,5);if(a&2){let c;_.Ne(c=_.Qe())&&(b.pillEl=c)}},hostAttrs:[1,"composable-layer","ac-x-axis"],inputs:{timeZoneId:"timeZoneId",timezoneOffset:"timezoneOffset",tickStrategy:"tickStrategy",timePinLabelStrategy:"timePinLabelStrategy",interactions:"interactions",relativeTo:"relativeTo",styles:"styles",xAxisBrushActionButtonConfig:"xAxisBrushActionButtonConfig",interactionBounds:"interactionBounds"},features:[_.wd,
_.Gc],decls:9,vars:10,consts:function(){return[[1,"ac-screen-reader-only-content"],[4,"ngIf"],["class","x-axis-pin overlay-z-index",3,"ngClass","ngStyle",4,"ngIf"],[1,"ac-screen-reader-only-content",3,"id"]," Unpinning the X axis cursor allows the cursor to follow the mouse while hovering over the chart. The X axis cursor will always be pinned while using keyboard navigation to indicate that the values reflected in the tooltip or the legend are associated with the position of the X axis cursor.\n",
["class","x-axis-cursor-action-button overlay-z-index",3,"ngStyle","mouseenter","mouseleave",4,"ngIf"],[1,"x-axis-cursor-action-button","overlay-z-index",3,"ngStyle","mouseenter","mouseleave"],["aria-label","Select a point on a chart",1,"ac-a11y-focusable",3,"click"],"width;16px;height;16px;viewBox;0 0 24 24;fill;#000000".split(";"),[1,"x-axis-pin","overlay-z-index",3,"ngClass","ngStyle"],["pinPill",""],[1,"x-axis-pin-label",3,"ngStyle"],[1,"x-axis-pin-icon-wrapper",3,"ngStyle"],["class","x-axis-icon ac-a11y-focusable",
"aria-label","Unpin X axis cursor",3,"click",4,"ngIf"],["class","icon x-axis-pin-mat-icon","svgIcon","ac:time_pin_set",4,"ngIf"],["aria-label","Unpin X axis cursor",1,"x-axis-icon","ac-a11y-focusable",3,"click"],["svgIcon","ac:time_pin_unset",1,"icon","x-axis-pin-mat-icon"],["svgIcon","ac:time_pin_set",1,"icon","x-axis-pin-mat-icon"]]},template:function(a,b){a&1&&(_.E(0,"p",0),_.Q(1),_.Zd(2,"async"),_.F(),_.P(3,Qke,3,3,"ng-container",1),_.Zd(4,"async"),_.P(5,Yke,7,22,"div",2),_.Zd(6,"async"),_.E(7,
"p",3),_.K(8,4),_.F());a&2&&(_.x(1),_.Ud(_.$d(2,4,b.axisDescriptionObservable)),_.x(2),_.C("ngIf",_.$d(4,6,b.xAxisBrushActionButtonConfig&&b.isCurrentChartBeingHovered$)),_.x(2),_.C("ngIf",_.$d(6,8,b.xAxisPinPillObservable)),_.x(2),_.C("id",b.xAxisCursorDescribedById))},dependencies:[_.qx,_.ll,_.xD,_.vo,_.pl],styles:[".composable-layer[_nghost-%COMP%]{position:absolute;height:100%;width:100%;top:0;left:0}[_nghost-%COMP%] .overlay-z-index{z-index:9}.ac-screen-reader-only-content[_ngcontent-%COMP%]{clip:rect(1px, 1px, 1px, 1px);height:1px;margin:0;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px;z-index:-1000}.ac-a11y-focused[_ngcontent-%COMP%], .ac-a11y-focusable[_ngcontent-%COMP%]:focus, .ac-a11y-focus-within[_ngcontent-%COMP%]:focus-within, .ac-a11y-keyboard-focusable.cdk-keyboard-focused[_ngcontent-%COMP%]{outline:3px solid #3367d6;outline-offset:-3px}.ac-a11y-keyboard-focusable[_ngcontent-%COMP%]{outline:none}.x-axis-cursor-action-button[_ngcontent-%COMP%]{position:absolute;display:flex;transform:translateX(-50%) translateY(-100%);padding-bottom:4px}.x-axis-cursor-action-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;padding:0;margin:0;line-height:inherit;font-size:inherit;background:none;display:flex;background-color:#fff;border-radius:10000px;box-shadow:0 0 5px rgba(0,0,0,.25);justify-content:center;align-items:center;width:24px;height:24px}.x-axis-pin[_ngcontent-%COMP%]{position:absolute;display:flex;transform:translateX(-50%);border:none;box-sizing:border-box;cursor:default;line-height:10px;width:fit-content}.x-axis-pin[_ngcontent-%COMP%]:focus-within{outline-offset:1px}.x-axis-pin.draggable[_ngcontent-%COMP%]{cursor:grab}.x-axis-pin[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;padding:0;margin:0;line-height:inherit;font-size:inherit;background:none;color:#fff}.x-axis-pin[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{outline-offset:3px}.x-axis-pin[_ngcontent-%COMP%]   .x-axis-pin-icon-wrapper[_ngcontent-%COMP%]{box-sizing:border-box}.x-axis-pin[_ngcontent-%COMP%]   .x-axis-pin-icon[_ngcontent-%COMP%]{background:transparent;border-radius:50%;text-align:center;display:block;cursor:default}.x-axis-pin[_ngcontent-%COMP%]   .x-axis-pin-label[_ngcontent-%COMP%]{margin:auto 6px;vertical-align:top;font-family:sans-serif;font-style:normal;font-weight:400;font-size:10px}.x-axis-pin.locked[_ngcontent-%COMP%]{background:#3468d6;color:#fff}.x-axis-pin.locked[_ngcontent-%COMP%]   .x-axis-pin-icon[_ngcontent-%COMP%]{color:#fff;cursor:pointer}.x-axis-pin[_ngcontent-%COMP%]:not(.locked){background:#bdbdbd;color:#757575}.x-axis-pin[_ngcontent-%COMP%]:not(.locked)   .x-axis-pin-icon[_ngcontent-%COMP%]{color:#757575}.x-axis-pin[_ngcontent-%COMP%]   .x-axis-pin-mat-icon[_ngcontent-%COMP%]{height:100%;width:100%;vertical-align:top}.dragging[_ngcontent-%COMP%]{cursor:grabbing}"],
changeDetection:0});var H9=class{};H9.\u0275fac=function(a){return new (a||H9)};H9.\u0275mod=_.Bc({type:H9});H9.\u0275inj=_.tc({imports:[_.ql,_.Do]});
var BTe={globalAlpha:1,fillStyle:"#b2b2b240",lineWidth:2,lineCap:"square",strokeStyle:"#ccc"},CTe=[4,4],DTe=class extends C8{draw(a,b){this.drawInternal(b)}onResizeChange(a,b){J5(a)&&this.drawInternal(b)}onYAxisChange(a,b){this.drawInternal(b)}onBrushChange(a,b){this.drawInternal(b)}unpack(a){const b=a.scope;var c=a.state;if(!c)return null;a=c.resize;var d=c.yAxis;c=c.brush;if(!(a&&d&&c&&null!==d.min&&d.max)||0>=a.height||0>=a.width)return null;const e=c.yAxes.find(l=>l.chartId===b.chartId&&l.yAxisId===
b.yAxisId),f=d.min,g=d.max,h=a.height-a.margins.top-a.margins.bottom;d=l=>l?w5(f,g,h,0,l):null;return{map:d,bodyTopEdge:a.margins.top,bodyLeftEdge:a.margins.left,bodyHeight:h,bodyWidth:a.width-a.margins.left-a.margins.right,brushing:c.brushing&&1===c.axis,brushStart:e?d(e.yPosStart||null):null,brushEnd:e?d(e.yPos||null):null,brushAxis:c.axis}}drawInternal(a){if(a=this.unpack(a)){var b=a.bodyTopEdge,c=a.bodyHeight,d=a.bodyWidth,e=a.brushing,f=a.brushStart,g=a.brushEnd,h=a.brushAxis;this.canvas.style.left=
`${a.bodyLeftEdge}px`;this.canvas.style.top=`${b}px`;H5(this.canvas,c,d);g&&1===h&&(f&&e&&(this.drawBrushSelection(g,f,d),this.drawBrushLine(f,d)),this.drawBrushLine(g,d))}}drawBrushLine(a,b,c=BTe){this.ctx.save();G5(this.ctx,c);this.ctx.setLineDash(CTe);this.ctx.beginPath();this.ctx.moveTo(...I5([0,a],c.lineWidth));this.ctx.lineTo(...I5([b,a],c.lineWidth));this.ctx.stroke();this.ctx.restore()}drawBrushSelection(a,b,c,d=BTe){this.ctx.save();G5(this.ctx,d);this.ctx.fillRect(0,a,c,b-a);this.ctx.restore()}};
var ETe={globalAlpha:1,strokeStyle:"#ebebeb",lineWidth:1,lineCap:"square"},FTe={globalAlpha:1,font:"10px sans-serif",fillStyle:"#3C4043"},GTe=Object.assign({},FTe,{textAlign:"left",textBaseline:"middle"}),HTe=Object.assign({},FTe,{textAlign:"right",textBaseline:"middle"}),ITe=class extends C8{draw(a,b){this.drawInternal(b)}onResizeChange(a,b){J5(a)&&this.drawInternal(b)}onYAxisChange(a,b){this.drawInternal(b)}onConfigChange(a,b){this.drawInternal(b)}withinBodyOrAxis(a,b,c,d){return"right"===c?a>=
d.margins.left&&a<=d.width&&b>=d.margins.top&&b<=d.height:"left"===c?0<=a&&a<=d.width-d.margins.right&&b>=d.margins.top&&b<=d.height:0<=a&&a<=d.width&&b>=d.margins.top&&b<=d.height}withinAxis(a,b,c,d){return"right"===c?a>=d.width-d.margins.right&&a<=d.width&&b>=d.margins.top&&b<=d.height:"left"===c?0<=a&&a<=d.margins.left&&b>=d.margins.top&&b<=d.height:0<=a&&a<=d.width&&b>=d.margins.top&&b<=d.height}calculateDataValue(a,b,c){b=this.unpack(b,c);return null!=b&&b.inverse?b.inverse(a):null}unpack(a,
b){if(!a||!b)return null;const c=a.resize;a=a.yAxis;var d=b.position;if(!c||!d||0>=c.height||0>=c.width)return null;const e=c.height-c.margins.bottom,f=c.margins.top;var g;const h=null!=(g=null==a?void 0:a.min)?g:null;var l;const n=null!=(l=null==a?void 0:a.max)?l:null;let r;const v=null!=(r=null==a?void 0:a.absoluteMin)?r:null;l=g=null;null!==h&&null!==n&&(g=1===(null==a?void 0:a.scaleType)&&null!==v?y=>$ge(h,n,e,f,y,v):y=>w5(h,n,e,f,y),l=y=>w5(e,f,h,n,y));d="right"===d?c.width-c.margins.right:c.margins.left;
let w;return{config:b,map:g,inverse:l,chartBodyLeft:c.margins.left,chartBodyRight:c.width-c.margins.right,yAxisTicks:null!=(w=null==a?void 0:a.ticks)?w:[],yAxisHeight:c.height,yAxisCanvasWidth:c.width,xOffset:d,rangeBottom:e,rangeTop:f}}drawInternal(a){const b=performance.now();if(a=this.unpack(a.state,a.config)){var c=a.map,d=a.chartBodyLeft,e=a.chartBodyRight,f=a.yAxisTicks,g=a.yAxisHeight,h=a.yAxisCanvasWidth,l=a.xOffset,n=a.rangeBottom,r=a.rangeTop,v=a.config.position;f=c?f.map(J=>({label:J.label,
value:c(J.value)})):[];this.canvas.style.left="0px";this.canvas.style.top="0px";H5(this.canvas,g,h);if("none"!==v){g="right"===v?GTe:HTe;var w,y,B,G;g=Object.assign({},g,{fillStyle:null!=(B=null==(w=a.config.styles)?void 0:w.textColor)?B:g.fillStyle,font:null!=(G=null==(y=a.config.styles)?void 0:y.font)?G:g.font});w=ETe;var O,T;w=Object.assign({},w,{strokeStyle:null!=(T=null==(O=a.config.styles)?void 0:O.gridLineColor)?T:w.strokeStyle});this.drawAxisAndTickLines(n,r,d,e,f,w);this.drawAxisTickLabels(l,
f,v,g);O=performance.now();this.drawListener({drawStartTimestamp:b,drawStopTimestamp:O})}}}drawAxisAndTickLines(a,b,c,d,e,f={}){this.ctx.save();G5(this.ctx,f);this.ctx.beginPath();a=e.length?e:[{value:a,label:""},{value:b,label:""}];for(const {value:g}of a)this.ctx.moveTo(...I5([c,g],f.lineWidth)),this.ctx.lineTo(...I5([d,g],f.lineWidth));this.ctx.closePath();this.ctx.stroke();this.ctx.restore()}drawAxisTickLabels(a,b,c,d={}){this.ctx.save();G5(this.ctx,d);a="right"===c?a+8:a-8;for(const {label:e,
value:f}of b)Ghe(this.ctx,e,a,f);this.ctx.restore()}};
var JTe={dragZoom:!0,ctrlScrollZoom:!0},KTe=new _.ji("Data values on this chart range from a minimum of {MIN} to a maximum of {MAX}."),LTe=function(a,b,c){let d={};c=Math.max(50,c||0);b&&"none"!==b.position&&(d="right"===b.position?{right:c}:{left:c});return $Pe({chartGroupId:a.chartGroupId,chartId:a.chartId,layerId:a.layerId,reservedMargins:d,overlappingMargins:{top:10,bottom:10}})},MTe=class extends a9{constructor(a,b,c,d,e,f,g){super(a,b,c,d);this.interactionService=e;this.instrumentationService=
f;this.ngZone=g;this.dataSubject=new _.bg(null);this.position="right";this.styles={};this.tickStrategy=lje;this.configSubject=new _.bg({position:this.position,styles:this.styles});this.interactionsInternal=JTe;this.isMouseDown=!1;this.lastMouseMoveEvent=this.lastMouseDownEvent=null;this.cachedScrollAmount=0;this.scrollZoomSubject=new _.rf(1);this.axisDescriptionSubject=new _.bg("");this.axisDescriptionObservable=this.axisDescriptionSubject.pipe(_.Ye(0),Y5(this.ngZone));this.rulerCanvas=document.createElement("canvas");
this.rulerCanvasCtx=this.rulerCanvas.getContext("2d");this.lastAxisDynamicWidth=0;this.initialized=!1;this.layerType="axis";this.axisView=new ITe(a.nativeElement);this.brushView=new DTe(a.nativeElement);this.views.push(this.axisView);this.views.push(this.brushView);this.bindDrawInstrumentation()}set interactions(a){this.interactionsInternal=Object.assign({},JTe,a)}get interactions(){return this.interactionsInternal}isPrimaryModifierKeyDown(a){return Qle?a.metaKey:a.ctrlKey}bindDrawInstrumentation(){QNe(this.axisView,
({drawStartTimestamp:a,drawStopTimestamp:b})=>{this.scopeObservable.pipe(_.af(1)).subscribe(({chartId:c,layerId:d})=>{v9(this.instrumentationService,{type:"draw-start",layerType:"axis",timestamp:a,chartId:c,layerId:d});v9(this.instrumentationService,{type:"draw-stop",layerType:"axis",timestamp:b,chartId:c,layerId:d,metadata:{hasCompleteData:!1}})})})}onYAxisChange(){const a=[];this.withLatest(({scope:b,config:c,state:d})=>{var e,f=null==d?void 0:null==(e=d.yAxis)?void 0:e.requirements,g;e=(null==
d?void 0:null==(g=d.yAxis)?void 0:g.unit)||null;if(null==f?0:f.length){f=dje(f,[1,0]);var h;g=null!=(h=null==f?void 0:f.min)?h:null;let n;h=null!=(n=null==f?void 0:f.max)?n:null;e&&f&&e!==f.unit&&(g=B5(f.unit,e,f.min),h=B5(f.unit,e,f.max));null!==g&&null!==h&&this.axisDescriptionSubject.next(KTe.format({MIN:C5(g,e),MAX:C5(h,e)}))}let l;if(null==d?0:null==(l=d.yAxis)?0:l.ticks){let n;d=(null==d?void 0:null==(n=d.yAxis)?void 0:n.ticks.reduce((r,v)=>Math.max(r,this.rulerCanvasCtx.measureText(v.label).width),
0))+18;this.lastAxisDynamicWidth!==d&&(this.lastAxisDynamicWidth=d,a.push(LTe(b,c,d)))}});return a}onConfigChange(a,b){J8(this.chart,[LTe(b.scope,a.currentValue,this.lastAxisDynamicWidth||void 0)])}ngOnInit(){super.ngOnInit();this.initialized=!0;this.setup({dataObservable:this.dataSubject,configObservable:this.configSubject});this.configSubject.next({position:this.position,styles:this.styles});this.scrollZoomSubject.pipe(_.Af(this.destroyed)).subscribe(a=>{this.scrollZoom(a)});this.chart.mouseClickObservable.pipe(_.Af(this.destroyed)).subscribe(a=>
{this.onClick(a)});this.chart.mouseDownObservable.pipe(_.Af(this.destroyed)).subscribe(a=>{this.onMouseDown(a)});this.chart.documentMouseUpObservable.pipe(_.Af(this.destroyed)).subscribe(a=>{this.onMouseUp(a)});this.chart.mouseLeaveObservable.pipe(_.Af(this.destroyed)).subscribe(a=>{this.onMouseLeave(a)});K8(this.chart,"chart",a=>this.onMouseMove(a),this.destroyed);K8(this.chart,"document",a=>this.onDocumentMouseMove(a),this.destroyed);this.chart.scrollObservable.pipe(_.Af(this.destroyed)).subscribe(a=>
{this.onScroll(a)});this.chart.syncScrollObservable.pipe(_.Af(this.destroyed)).subscribe(a=>{this.syncOnScroll(a)});_.De(this.chart.syncDragStartObservable,this.chart.syncDragObservable,this.chart.syncDragEndObservable).pipe(_.Af(this.destroyed)).subscribe(a=>{this.interactions.dragZoom&&(a.preventDefault(),a.stopPropagation())});this.withLatest(({scope:a})=>{const b=[];DPe(this.selectorService,a,this.tickStrategy);b.push(qPe({chartId:a.chartId,yAxisId:a.yAxisId,position:this.position}));let c,d;
if(void 0!==(null==(c=this.includeRange)?void 0:c.min)||void 0!==(null==(d=this.includeRange)?void 0:d.max)){let g,h,l,n,r,v,w,y,B,G;b.push(X8(this,{priority:1,min:Math.min(null!=(v=null==(g=this.includeRange)?void 0:g.min)?v:Infinity,null!=(w=null==(h=this.includeRange)?void 0:h.max)?w:Infinity),max:Math.max(null!=(y=null==(l=this.includeRange)?void 0:l.min)?y:-Infinity,null!=(B=null==(n=this.includeRange)?void 0:n.max)?B:-Infinity),unit:null!=(G=null==(r=this.includeRange)?void 0:r.unit)?G:null,
constraints:{onlyApplyIfUnitCompatible:!0}},"includeRange"))}let e,f;if(void 0!==(null==(e=this.exactRange)?void 0:e.min)||void 0!==(null==(f=this.exactRange)?void 0:f.max)){let g,h,l,n;b.push(X8(this,{priority:2,min:null==(g=this.exactRange)?void 0:g.min,max:null==(h=this.exactRange)?void 0:h.max,unit:null!=(n=null==(l=this.exactRange)?void 0:l.unit)?n:null,cause:2},"exactRange"))}J8(this.chart,b)})}ngOnChanges(a){super.ngOnChanges(a);const b=[];if(this.initialized){"tickStrategy"in a&&this.withLatest(({scope:c})=>
{DPe(this.selectorService,c,this.tickStrategy)});if("position"in a||"styles"in a)this.configSubject.next({position:this.position,styles:this.styles}),"position"in a&&this.withLatest(({scope:c})=>{b.push(qPe({chartId:c.chartId,yAxisId:c.yAxisId,position:this.position}))});if("includeRange"in a){let c,d;if(void 0!==(null==(c=this.includeRange)?void 0:c.min)||void 0!==(null==(d=this.includeRange)?void 0:d.max)){let e,f,g,h,l,n,r,v,w,y;b.push(X8(this,{priority:1,min:Math.min(null!=(n=null==(e=this.includeRange)?
void 0:e.min)?n:Infinity,null!=(r=null==(f=this.includeRange)?void 0:f.max)?r:Infinity),max:Math.max(null!=(v=null==(g=this.includeRange)?void 0:g.min)?v:-Infinity,null!=(w=null==(h=this.includeRange)?void 0:h.max)?w:-Infinity),unit:null!=(y=null==(l=this.includeRange)?void 0:l.unit)?y:null,constraints:{onlyApplyIfUnitCompatible:!0}},"includeRange"))}else b.push(X8(this,null,"includeRange"))}if("exactRange"in a){let c,d;if(void 0!==(null==(c=this.exactRange)?void 0:c.min)||void 0!==(null==(d=this.exactRange)?
void 0:d.max)){let e,f,g,h;b.push(X8(this,{priority:2,min:null==(e=this.exactRange)?void 0:e.min,max:null==(f=this.exactRange)?void 0:f.max,unit:null!=(h=null==(g=this.exactRange)?void 0:g.unit)?h:null,cause:2},"exactRange"))}else this.withLatest(()=>{b.push(X8(this,null,"exactRange"))})}J8(this.chart,b)}}onMouseDown(a){this.isMouseDown=!0;this.lastMouseDownEvent=a}onMouseMove(a){const b=[];this.withLatest(({scope:c,state:d,config:e})=>{if(d){var f=d.brush,g=d.resize;if(f&&g){var h=W8(this,a),l=this.axisView.withinBodyOrAxis(h.x,
h.y,this.position,g);l?b.push(l9({chartId:c.chartId,yAxisId:c.yAxisId,lastInteraction:{hover:h.y}})):b.push(l9({chartId:c.chartId,yAxisId:c.yAxisId,lastInteraction:{hover:null}}));if(l&&this.interactions.dragZoom&&this.isMouseDown&&!this.isPrimaryModifierKeyDown(a)&&this.lastMouseDownEvent&&!f.panning&&!f.brushing){f=W8(this,this.lastMouseDownEvent);g=this.axisView.withinBodyOrAxis(f.x,f.y,this.position,g);var n=this.lastMouseDownEvent;l=a.clientX-n.clientX;n=a.clientY-n.clientY;const r=Math.sqrt(l**
2+n**2);1<=Math.abs(n/l)&&10<r&&g&&(h=this.axisView.calculateDataValue(h.y,d,e),d=this.axisView.calculateDataValue(f.y,d,e),h&&d&&b.push(MSe({chartGroupId:c.chartGroupId,chartId:c.chartId,yAxisId:c.yAxisId,position:h,positionStart:d})))}}}});this.lastMouseMoveEvent=a;return b}onDocumentMouseMove(a){const b=[];this.withLatest(({scope:c,state:d,config:e})=>{if(d){var f=d.brush,g=d.resize;f&&g&&(g=W8(this,a),this.isEventInsideWindow(a)?this.interactions.dragZoom&&this.isMouseDown&&f.brushing&&1===f.axis&&
(d=this.axisView.calculateDataValue(g.y,d,e))&&b.push(OSe({chartGroupId:c.chartGroupId,chartId:c.chartId,yAxisId:c.yAxisId,position:d})):b.push(NSe({chartGroupId:c.chartGroupId,chartId:c.chartId})))}});return b}onMouseUp(a){this.isMouseDown=!1;this.lastMouseDownEvent=null;this.withLatest(({scope:b,state:c,config:d})=>{if(c){var e=c.brush,f=c.yAxis;if(e&&f&&this.interactions.dragZoom&&e.brushing&&1===e.axis&&(this.store.dispatch(NSe({chartGroupId:b.chartGroupId,chartId:b.chartId})),this.isEventInsideWindow(a))){const h=
W8(this,a);c=this.axisView.calculateDataValue(h.y,c,d);var g;e=null==(g=e.yAxes.find(l=>l.chartId===b.chartId&&l.yAxisId===b.yAxisId))?void 0:g.yPosStart;c&&e&&(g=e<c,this.store.dispatch(T8({chartId:b.chartId,yAxisId:b.yAxisId,id:b.layerId,priority:4,cause:4,min:g?e:c,max:g?c:e,unit:f.unit})),this.interactionService.sendAveEvent("drag",bRe,this.el.nativeElement))}}})}onMouseLeave(){this.withLatest(({scope:a})=>{this.store.dispatch(l9({chartId:a.chartId,yAxisId:a.yAxisId,lastInteraction:{hover:null}}))})}syncOnScroll(a){this.interactions.ctrlScrollZoom&&
this.isPrimaryModifierKeyDown(a)&&this.withLatest(({state:b})=>{if(b&&this.lastMouseMoveEvent&&(b=b.resize)){var c=W8(this,this.lastMouseMoveEvent);this.axisView.withinAxis(c.x,c.y,this.position,b)&&a.preventDefault()}})}onScroll(a){this.interactions.ctrlScrollZoom&&this.isPrimaryModifierKeyDown(a)&&this.withLatest(({state:b})=>{if(b&&this.lastMouseMoveEvent&&(b=b.resize)){var c=W8(this,this.lastMouseMoveEvent);this.axisView.withinAxis(c.x,c.y,this.position,b)&&(this.cachedScrollAmount+=a.deltaY,
this.scrollZoomSubject.next(c))}})}scrollZoom(a){this.withLatest(({scope:b,state:c,config:d})=>{if(c&&this.lastMouseMoveEvent){var e=c.yAxis;if(e&&null!==e.min&&null!==e.max){var f=this.cachedScrollAmount;var g=this.axisView.unpack(c,d);if(f=null!=g&&g.inverse?g.inverse(f)-g.inverse(0):null)if(c=this.axisView.calculateDataValue(a.y,c,d))c=(c-e.min)/(e.max-e.min),f=Math.min(f,.999*(e.max-e.min)),d=e.min+f*c,g=e.max-f*(1-c),f=d,d=g,g=1E-9-Math.abs(d-f),0<g&&(f-=g*c,d+=g*(1-c)),[d,g]=[f,d],this.store.dispatch(T8({chartId:b.chartId,
yAxisId:b.yAxisId,id:b.layerId,priority:4,cause:4,min:d,max:g,unit:e.unit})),this.interactionService.sendAveEvent("scroll",bRe,this.el.nativeElement,{debounce:!0}),this.cachedScrollAmount=0}}})}onClick(a){this.withLatest(({scope:b,state:c})=>{if(c&&(c=c.resize)){var d=W8(this,a);this.axisView.withinBodyOrAxis(d.x,d.y,this.position,c)&&this.store.dispatch(l9({chartId:b.chartId,yAxisId:b.yAxisId,lastInteraction:{click:d.y}}))}})}isEventInsideWindow(a){return 0<=a.clientX&&0<=a.clientY&&a.clientX<=window.innerWidth&&
a.clientY<=window.innerHeight}ngOnDestroy(){super.ngOnDestroy();J8(this.chart,[aQe({chartGroupId:this.chartGroupId,chartId:this.chartId,layerId:this.layerId})])}};MTe.\u0275fac=function(a){return new (a||MTe)(_.A(_.ad),_.A(_.fq),_.A(L8),_.A(b9),_.A(s9),_.A(w9),_.A(_.Jf))};
MTe.\u0275cmp=_.q({type:MTe,selectors:[["ac-y-axis"]],hostAttrs:[1,"composable-layer","ac-y-axis"],inputs:{position:"position",styles:"styles",tickStrategy:"tickStrategy",interactions:"interactions",includeRange:"includeRange",exactRange:"exactRange"},features:[_.wd,_.Gc],decls:3,vars:3,consts:[[1,"ac-screen-reader-only-content"]],template:function(a,b){a&1&&(_.E(0,"p",0),_.Q(1),_.Zd(2,"async"),_.F());a&2&&(_.x(1),_.Ud(_.$d(2,1,b.axisDescriptionObservable)))},dependencies:[_.pl],styles:[".composable-layer[_nghost-%COMP%]{position:absolute;height:100%;width:100%;top:0;left:0}[_nghost-%COMP%] .overlay-z-index{z-index:9}.ac-screen-reader-only-content[_ngcontent-%COMP%]{clip:rect(1px, 1px, 1px, 1px);height:1px;margin:0;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px;z-index:-1000}.ac-a11y-focused[_ngcontent-%COMP%], .ac-a11y-focusable[_ngcontent-%COMP%]:focus, .ac-a11y-focus-within[_ngcontent-%COMP%]:focus-within, .ac-a11y-keyboard-focusable.cdk-keyboard-focused[_ngcontent-%COMP%]{outline:3px solid #3367d6;outline-offset:-3px}.ac-a11y-keyboard-focusable[_ngcontent-%COMP%]{outline:none}"],
changeDetection:0});var I9=class{};I9.\u0275fac=function(a){return new (a||I9)};I9.\u0275mod=_.Bc({type:I9});I9.\u0275inj=_.tc({imports:[_.ql]});
var NTe=function(a){if(!a.dataLayer)return null;const b=a.dataLayer.isLoadingIntervals,c=a.dataLayer.isLoadingWindow;let d,e,f,g;return c&&2===c.length&&1===b.length&&(null==(d=c[0])?void 0:d.valueOf())===(null==(e=b[0][0])?void 0:e.valueOf())&&(null==(f=c[1])?void 0:f.valueOf())===(null==(g=b[0][1])?void 0:g.valueOf())&&a.didTimeout?null:b.length?b:null},OTe=function(a,b){if(a.dataLayer instanceof G7){const c=a.getMinGranularity();c&&(a.dataLayer.granularityToSeconds(c),a.dataLayer.granularityToSeconds(b))}},
PTe=function(a,b){if(a.instrumentationService&&a.layerMetadata){var c;v9(a.instrumentationService,{type:"data-request",timestamp:b,layerId:a.layerMetadata.layerId,chartId:a.layerMetadata.chartId,layerType:null!=(c=a.layerMetadata.layerType)?c:"graphic"})}},QTe=function(a,b){if(a.instrumentationService&&a.layerMetadata){var c=a.layerMetadata.chartId,d=a.layerMetadata.layerId,e=a.layerMetadata.layerType;_.qe([a.loadingObservable,a.dataObservable]).pipe(_.Af(_.De(a.cancelDataResponseSignal,a.destroyed)),
_.Ge(([f,g])=>{if(f)return!1;let h;return g&&0<(null==g?void 0:null==(h=g.series)?void 0:h.length)?!0:0<a.errorCount}),_.af(1)).subscribe(([,f])=>{const g=performance.now();if(a.instrumentationService){var h=(null==f?0:f.series)?f.series.reduce((l,n)=>{let r,v;return null!=(v=l+(null==n?void 0:null==(r=n.data)?void 0:r.length))?v:0},0):0;v9(a.instrumentationService,{type:"data-response",timestamp:g,layerId:d,chartId:c,layerType:null!=e?e:"graphic",metadata:{errorCount:a.errorCount,timeSeriesCount:f?
f.series.length:0,pointCount:h,tileCount:null!=b.tileSize&&Number.isFinite(b.tileSize)?100/b.tileSize:1,didTimeout:a.didTimeout}})}})}},RTe=function(a){let b=null;if(a.dataLayer instanceof G7){a=a.dataLayer.alignmentInfo();var c=(null==a?void 0:a.granularity)&&Lke(a.granularity);a=(null==a?void 0:a.alignmentPeriod)&&1E3*Number(a.alignmentPeriod);b=c||a||null}else a.dataLayer instanceof xHe&&(b=(a=null==(c=wHe(a.dataLayer))?void 0:c.alignmentPeriod)?Lke(a):null);return b},STe=function(a){let b=null;
if(a.dataLayer instanceof G7){var c=a.dataLayer.alignmentInfo();b=(null==c?void 0:c.alignmentPeriod)&&1E3*Number(c.alignmentPeriod)||null}else a.dataLayer instanceof xHe&&(b=(a=null==(c=wHe(a.dataLayer))?void 0:c.alignmentPeriod)?Lke(a):null);return b},TTe=function(a){null!==a.fetchTimeoutId&&(clearTimeout(a.fetchTimeoutId),a.fetchTimeoutId=null)},UTe=class{constructor(a,b={}){this.params=a;this.options=b;this.fetchTimeoutId=null;this.fetchTimeoutsEnabled=!0;this.streamLimit=_.CN(_.DN,"chart-server-stream-limit");
this.dataObservable=this.dataSubject=new _.bg(null);this.errorSubject=new _.bg(null);this.errorObservable=this.errorSubject.pipe(_.Ze());this.loadingSubject=new _.bg(null);this.loadingObservable=_.De(this.dataSubject.pipe(_.U(()=>NTe(this))),this.loadingSubject).pipe(_.Ze((c,d)=>c===d?!0:c&&d&&(null==c?void 0:c.length)===(null==d?void 0:d.length)?d.every((e,f)=>e[0].valueOf()===c[f][0].valueOf()&&e[1].valueOf()===c[f][1].valueOf()):!1));this.cancelDataResponseSignal=new _.tf;this.destroyed=new _.tf;
this.streamLimitReachedSubject=new _.bg(!1);this.alignmentPeriodMsSubject=new _.bg(null);this.alignmentPeriodMsObservable=this.alignmentPeriodMsSubject.pipe(_.Ze());this.outputPeriodMsSubject=new _.bg(null);this.outputPeriodMsObservable=this.outputPeriodMsSubject.pipe(_.Ze());this.dataLayer=null;this.granularityCutoffs="fine";this.messageOverrides={};this.errorCount=0;this.layerMetadata=null;this.didTimeout=!1;this.updateParams(a,b)}get dataLayerType(){let a;return null==(a=this.dataLayer)?void 0:
a.dlType}updateParams(a,b){this.cancelDataResponseSignal.next();void 0!==b&&(this.options=b);this.options.instrumentationService&&(this.instrumentationService=this.options.instrumentationService);this.options.fetchTimeoutsEnabled&&(this.fetchTimeoutsEnabled=this.options.fetchTimeoutsEnabled);void 0!==this.options.streamLimit&&(this.streamLimit=this.options.streamLimit);this.options.messageOverrides&&(this.messageOverrides=this.options.messageOverrides);this.fetchTimeoutsEnabled="undefined"===typeof this.options.fetchTimeoutsEnabled?
this.fetchTimeoutsEnabled:this.options.fetchTimeoutsEnabled;this.dataLayer&&this.removeHandlers();a=this.applyServerStreamLimit(_.Kb(a));this.params=_.Kb(a);if(this.dataLayer=this.createDataLayer(a,this.options))this.dataFetchHandlerId=this.dataLayer.addDataFetchHandler(this.handleDataFetchStart.bind(this)),this.dataFetchCompleteHandlerId=this.dataLayer.addDataFetchCompleteHandler(this.handleDataFetchComplete.bind(this)),this.errorHandlerId=this.dataLayer.addErrorHandler(this.handleError.bind(this)),
this.descriptorErrorHandlerId=_.hO.addErrorHandler(this.handleDescriptorError.bind(this))}updateOptions(a){this.updateParams(this.params,a)}fetch(a,b={}){this.cancelDataResponseSignal.next();var c=b.cause,d=b.purpose;const e=b.tileSize;var f=b.force;this.didTimeout=!1;this.errorCount=0;f&&this.updateParams(this.params);if(!this.dataLayer)return Promise.resolve(null);f=new IBe(this.dataLayer.dlType,this.dataLayer.isTopN&&this.dataLayer.isTopN(),this.dataLayer.hasWaiters(),_.BN(_.DN));f.cause=c||"DOMAINX";
f.purpose=d||"Unknown";f.tileSize=this.dataLayer.tileSize||e;c=JBe(f);d={};b.minGranularity&&(OTe(this,b.minGranularity),this.dataLayer instanceof G7&&(this.dataLayer.params.minGranularity=b.minGranularity),this.dataLayer.setMinGranularity(b.minGranularity),d.minGranularity=b.minGranularity);b.maxDataPointsPerSeries&&(d.maxDataPointsPerSeries=String(b.maxDataPointsPerSeries));b.maxGranularity&&this.dataLayer.setMaxGranularity(b.maxGranularity);b.timezoneOffset&&this.dataLayer.setTzOffset(b.timezoneOffset);
var g;this.layerMetadata=null!=(g=b.layerMetadata)?g:null;this.loadingSubject.next([a]);g=performance.now();a=this.dataLayer.fetch(a,c,d);PTe(this,g);QTe(this,b);a&&a.catch(h=>{this.handleError(h)});return a}getGranularityCutoff(){return this.granularityCutoffs}getMinGranularity(){const a=this.params;return"gcmv3"===a.dlType?a.params.minGranularity||a.params["aggregation.alignmentPeriod"]||null:null}applyServerStreamLimit(a){if(!this.streamLimit)return a;if("gcmv3"===a.dlType){if(a.params["pickTimeSeriesFilter.direction"]&&
a.params["pickTimeSeriesFilter.numTimeSeries"]&&a.params["pickTimeSeriesFilter.rankingMethod"])return a.params["pickTimeSeriesFilter.cause"]="user",a;var b=a.params;const c=b["aggregation.groupByFields"];if((b=c&&c.length?b["secondaryAggregation.crossSeriesReducer"]:b["aggregation.crossSeriesReducer"])&&"REDUCE_NONE"!==b)return a;a.params["pickTimeSeriesFilter.direction"]="TOP";a.params["pickTimeSeriesFilter.numTimeSeries"]=this.streamLimit;a.params["pickTimeSeriesFilter.rankingMethod"]="METHOD_MEAN";
a.params["pickTimeSeriesFilter.cause"]="forced"}return a}handleDataFetchStart(){this.errorSubject.next(null);TTe(this);this.fetchTimeoutsEnabled&&(this.fetchTimeoutId=setTimeout(this.handleTimeout.bind(this),55E3))}handleDataFetchComplete(){TTe(this);this.updateData()}handleError(a){this.errorCount++;TTe(this);let b;if(null==a?0:null==(b=a.details)?0:b.isTimeout)this.didTimeout=!0;let c;null!=(c=a.details)&&c.transient||(a instanceof _.aO?this.loadingObservable.pipe(_.Af(this.errorSubject.pipe(_.wf(1))),
_.Af(this.dataSubject.pipe(_.wf(1))),_.Ge(d=>!d),_.af(1)).subscribe(()=>{this.errorSubject.next(ble(a,this.messageOverrides))}):this.errorSubject.next(ble(a,this.messageOverrides)),this.loadingSubject.next(NTe(this)))}updateData(){if(this.dataLayer){var a=this.dataLayer.getData();if(a.series){var b;this.streamLimitReachedSubject.next(a.series.length>=(null!=(b=this.streamLimit)?b:Infinity));this.loadingSubject.next(NTe(this));this.dataSubject.next(a);this.alignmentPeriodMsSubject.next(STe(this));
this.outputPeriodMsSubject.next(RTe(this));this.errorSubject.pipe(_.af(1)).subscribe(c=>{c&&"TimeoutError"===c.name&&this.errorSubject.next(null)})}}}handleDescriptorError(){}handleTimeout(){this.handleError({name:"TimeoutError",details:{isTimeout:!0},code:499,displayMessage:"Timed out waiting for data",message:"Timed out waiting for data"})}removeHandlers(){this.dataLayer&&(this.dataLayer.removeDataFetchHandler(this.dataFetchHandlerId),this.dataLayer.removeDataFetchCompleteHandler(this.dataFetchCompleteHandlerId),
this.dataLayer.removeErrorHandler(this.errorHandlerId),_.hO.removeErrorHandler(this.descriptorErrorHandlerId))}createDataLayer(a,{transportClass:b,independentOutputPeriod:c,requestPrism:d,annotatedQuery:e,transformations:f}={}){if("qn"===a.dlType)return c=a,d&&(c=Object.assign({},c,{requestPrism:!0})),e&&f&&(c.annotatedQueryText=e,c.transformations=f),d=new xHe(c),this.granularityCutoffs=c.granularity||"fine",d.setGranularityCutoffs(this.granularityCutoffs||null),d;e=a;d&&(e=Object.assign({},e,{params:Object.assign({},
e.params,{requestPrism:!0})}));d=new G7(e.params,b);d.setIndependentOutputPeriod(c||!1);e.params.legendTemplate&&d.setLabelTemplateString(e.params.legendTemplate);this.granularityCutoffs=e.params.granularity||"fine";d.setGranularityCutoffs(this.granularityCutoffs||null);return d}onDestroy(){this.cancelDataResponseSignal.next();this.destroyed.next();this.removeHandlers()}};
var ole=class{constructor(a,b){this.fetchables=a;this.perLayerLegendTemplates=b;this.dataLayerType="mux";b=a.map(c=>c.alignmentPeriodMsObservable).filter(c=>!!c);this.alignmentPeriodMsObservable=0<b.length?_.qe(b).pipe(_.U(c=>Math.min(...c.filter(d=>null!==d))||null)):void 0;b=a.map(c=>c.alignmentPeriodMsObservable).filter(c=>!!c);this.outputPeriodMsObservable=0<b.length?_.qe(b).pipe(_.U(c=>Math.min(...c.filter(d=>null!==d))||null)):void 0;b=a.map(c=>c.errorObservable).filter(c=>!!c);this.errorObservable=
0<b.length?_.qe(b).pipe(_.U(c=>{let d;return null!=(d=c.find(e=>null!==e))?d:null})):void 0;b=a.map(c=>c.loadingObservable).filter(c=>null!==c);this.loadingObservable=0<b.length?_.qe(b).pipe(_.U(c=>{c=c.filter(d=>!!d).flat(1);_.VN(c);return c})):void 0;this.dataObservable=_.qe(a.map(c=>c.dataObservable)).pipe(_.U(c=>{let d;return cle(c,null!=(d=this.perLayerLegendTemplates)?d:[])}))}fetch(a,b={}){this.fetchables.forEach(c=>{c.fetch(a,b)});return null}updateOptions(a){this.fetchables.forEach(b=>{let c;
null==(c=b.updateOptions)||c.call(b,a)})}getGranularityCutoff(){return this.fetchables.map(a=>a.getGranularityCutoff()).some(a=>"fine"===a)?"fine":"coarse"}onDestroy(){this.fetchables.forEach(a=>{let b;null==(b=a.onDestroy)||b.call(a)})}};
var jle=[[1,3],[1,2,4],[1,1.5,2,3.5,5,7.5]];
var ple=0,nle=(a,b)=>{if("qn"!==a.dlType&&"gcmv3"!==a.dlType)throw Error("Bl`"+a.dlType);return new UTe(a,b)};
var VTe=[[["",8,"below"]],"*",[["",8,"ac-chart-project-behind-lines"]]],WTe=new _.Zc("window-with-resize-observer",{providedIn:"root",factory:()=>window}),XTe={waitForRefresh:!1},YTe=0,ZTe=new _.Zc("AWESOMECHARTS_FETCHABLE_FACTORY_OVERRIDE"),Lle=function(a){return a?"zero_fill":"gap_detection"},$Te=function(a){if(!a.granularityStrategy)return null;let b=null;a.withLatest(({state:c})=>{a.granularityStrategy&&c&&c.xAxis&&null!==c.xAxis.min&&null!==c.xAxis.max&&(c=a.granularityStrategy(new Date(c.xAxis.min),
new Date(c.xAxis.max)),b=XPe(Object.assign({},{chartId:a.chartId},c)))});return b},aUe=function(a,b){let c;switch(b){case "chart":c=a.el.nativeElement;break;case "document":c=document;break;case "window":c=window;break;default:_.Wb(b,"Unknown event target for chart.")}FOe(a,b);a.unregisterFunctions.push(a.renderer.listen(c,"mousemove",d=>{x9(a.queueService,`${a.objectiveChartId}-${b}-${"mousemove"}`,()=>{const e=GOe(a,b);let f=[];for(const g of e.values())f=f.concat(g(d));f.length&&a.store.dispatch(O5({actions:f}))})}))},
bUe=function(a){_.qe([a.chartLoadStartSubject,a.pauseFetchingObservable]).pipe(_.Af(a.destroyed),_.yf([{scope:{chartId:"",chartGroupId:""},timeDomainMs:-1,lastUpdateCausedBy:0},null]),_.qf()).subscribe(([[,b],[c,d]])=>{const e=performance.now(),f=c.scope,g=c.timeDomainMs;c=c.lastUpdateCausedBy;let h="unknown";!0!==d&&null!==d&&(b?h="unpause":3===c?h="pan":4===c?h="zoom":[2,1].includes(c)?h=a.isFirstLoad?"first-load":"time-domain-change":5===c&&(h="unzoom"),a.isFirstLoad=!1,v9(a.instrumentationService,
{type:"chart-load-start",timestamp:e,chartId:f.chartId,metadata:{timeDomainMs:g,fetchTriggerType:h}}))})},cUe=function(a){a.pauseFetchingObservable.pipe(_.Af(a.destroyed)).subscribe(b=>{a.store.dispatch(XOe({chartId:a.chartId,isPaused:b}))})},dUe=function(a,b){let c,d,e,f,g,h,l,n;return Object.assign({},b,{xAxisLayers:null==(c=b.xAxisLayers)?void 0:c.map(r=>Object.assign({},r,{xAxisId:J9(a,r.xAxisId),interactions:J9(a,r.interactions),relativeTo:J9(a,r.relativeTo),styles:J9(a,r.styles)})),yAxisLayers:null==
(d=b.yAxisLayers)?void 0:d.map(r=>Object.assign({},r,{yAxisId:J9(a,r.yAxisId),position:J9(a,r.position),interactions:J9(a,r.interactions),includeRange:J9(a,r.includeRange),tickStrategy:J9(a,r.tickStrategy)})),lineLayers:null==(e=b.lineLayers)?void 0:e.map(r=>Object.assign({},r,{data:K9(a,r.data),loading:J9(a,r.loading),error:J9(a,r.error),alignmentPeriodMs:K9(a,r.alignmentPeriodMs),outputPeriodMs:K9(a,r.outputPeriodMs),legendTemplate:J9(a,r.legendTemplate),interactions:J9(a,r.interactions),styles:J9(a,
r.styles)})),barLayers:null==(f=b.barLayers)?void 0:f.map(r=>Object.assign({},r,{data:K9(a,r.data),loading:J9(a,r.loading),error:J9(a,r.error),alignmentPeriodMs:K9(a,r.alignmentPeriodMs),outputPeriodMs:K9(a,r.outputPeriodMs),legendTemplate:J9(a,r.legendTemplate),interactions:J9(a,r.interactions)})),stackedAreaLayers:null==(g=b.stackedAreaLayers)?void 0:g.map(r=>Object.assign({},r,{data:K9(a,r.data),loading:J9(a,r.loading),error:J9(a,r.error),alignmentPeriodMs:K9(a,r.alignmentPeriodMs),outputPeriodMs:K9(a,
r.outputPeriodMs),legendTemplate:J9(a,r.legendTemplate),interactions:J9(a,r.interactions)})),heatmapLayers:null==(h=b.heatmapLayers)?void 0:h.map(r=>Object.assign({},r,{data:K9(a,r.data),loading:J9(a,r.loading),error:J9(a,r.error),alignmentPeriodMs:K9(a,r.alignmentPeriodMs),outputPeriodMs:K9(a,r.outputPeriodMs),legendTemplate:J9(a,r.legendTemplate)})),thresholdLineLayers:null==(l=b.thresholdLineLayers)?void 0:l.map(r=>Object.assign({},r,{data:J9(a,r.data),color:J9(a,r.color),yAxisId:J9(a,r.yAxisId)})),
bandLayers:null==(n=b.bandLayers)?void 0:n.map(r=>Object.assign({},r,{data:K9(a,r.data),loading:J9(a,r.loading),error:J9(a,r.error),alignmentPeriodMs:K9(a,r.alignmentPeriodMs),outputPeriodMs:K9(a,r.outputPeriodMs),legendTemplate:J9(a,r.legendTemplate),showBand:J9(a,r.showBand)}))})},eUe=function(a,b){if(!b)return null;let c;if(null==(c=b.heatmapLayers)?0:c.length)return a.ve.AwesomechartsHeatmap;let d;if(null==(d=b.stackedAreaLayers)?0:d.length)return a.ve.AwesomechartsStackedArea;let e;if(null==
(e=b.barLayers)?0:e.length)return a.ve.AwesomechartsTimeBar;let f;return(null==(f=b.lineLayers)?0:f.length)?a.ve.AwesomechartsLine:null},fUe=function(a,b){a.withLatest(({scope:c})=>{b?a.store.dispatch(ROe({chartId:c.chartId,sourceId:a.objectiveChartId,error:b})):a.store.dispatch(SOe({chartId:c.chartId,sourceId:a.objectiveChartId}))})},hUe=function(a,b){const c=a.el.nativeElement.getBoundingClientRect();gUe(a,c,b)},gUe=function(a,b,c){a.lastMeasuredHeight=b.height;a.lastMeasuredWidth=b.width;let d,
e;a.resize(null!=(d=a.height)?d:b.height,null!=(e=a.width)?e:b.width,b.top,b.left,c)},iUe=function(a){return["left","right"].reduce((b,c)=>b.concat([U8({chartId:a.chartId,yAxisId:c,priority:4}),U8({chartId:a.chartId,yAxisId:c,priority:3})]),[])},jUe=function(a){return a.chartConfigObservable?a.chartConfigObservable.pipe(_.zf(b=>{if(!b)return _.S([]);b=[...(b.lineLayers||[]),...(b.barLayers||[]),...(b.stackedAreaLayers||[]),...(b.heatmapLayers||[]),...(b.bandLayers||[])].map(c=>m6(c.data));return _.qe(b)}),
_.af(1)):_.S([])},K9=function(a,b){return m6(b).pipe(Y5(a.ngZone))},J9=function(a,b){if(void 0!==b)return K9(a,b)},L9=class extends L8{constructor(a,b,c,d,e,f,g,h,l,n){super(a,b,c);this.window=d;this.renderer=e;this.queueService=f;this.instrumentationService=g;this.ngZone=h;this.testingTimezoneOffset=l;this.fetchableFactoryOverride=n;this.lastMeasuredWidth=this.lastMeasuredHeight=null;this.labelledById=`ac-chart-aria-labelledby-${YTe++}`;this.describedById=`ac-chart-aria-describedby-${YTe++}`;this.keyboardNavInstructions=
"This chart is described by one or more grids. A grid row represents a time series. A grid column corresponds to a timestamp. By default, charts hide most columns. To display the hidden columns next to the activated column, use the Read previous item (up arrow) key until you access the column header, and then use the Activate button (enter) key.";this.yAxisInteractions={};this.timeAxisInteractions={};this.defaultTimezone=(new Date).getTimezoneOffset();this.pauseFetchingSubject=new _.bg(null);this.pauseFetchingObservable=
this.pauseFetchingSubject.pipe(_.Ze());this.xyChartInput=null;this.xyChartSubject=new _.bg(this.xyChartInput);this.xyChartObservable=this.xyChartSubject.pipe(_.Ze());this.xyChart=null;this.projectIdsSubject=new _.rf(1);this.strategyWhitelists=[];this.strategyWhitelistsSubject=new _.bg(this.strategyWhitelists);this.defaultFetchableFactory=null;this.defaultFetchableFactorySubject=new _.bg(this.defaultFetchableFactory);this.chartLoadStartSubject=new _.tf;this.isFirstLoad=!0;this.applyFullSecondaryAggregation=
!1;this.applyFullSecondaryAggregationSubject=new _.bg(this.applyFullSecondaryAggregation);this.xyChartParsingStrategy=Cle;this.xyChartParsingStrategySubject=new _.bg(this.xyChartParsingStrategy);this.chartConfigGenerationStrategy=tle(this.projectIdsSubject,this.applyFullSecondaryAggregationSubject,this.strategyWhitelistsSubject,this.defaultFetchableFactorySubject);this.chartConfigGenerationStrategySubject=new _.bg(this.chartConfigGenerationStrategy);this.chartConfigTransformationStrategies=[];this.chartConfigTransformationStrategiesSubject=
new _.bg(this.chartConfigTransformationStrategies);this.tilesPerFetch=1;this.idealTileIntervalMs=Infinity;this.featureFlags={};this.useChartGroupHorizontalMargins=!1;this.renderedChartConfig=new _.$k;this.latestDataSets=new _.$k;this.anyLayerLoading=new _.$k;this.interactionsInternal=XTe;this.refreshTriggeredOnFirstDomain=!1;this.fetchAllTriggerSubject=new _.tf;this.chartConfigObservable=null;this.showPausedBeforeFirstLoadObservable=_.S(!1);this.chartVe=null;this.ve={AwesomechartsHeatmap:f7.AwesomechartsHeatmap,
AwesomechartsStackedArea:f7.AwesomechartsStackedArea,AwesomechartsTimeBar:f7.AwesomechartsTimeBar,AwesomechartsLine:f7.AwesomechartsLine,AwesomeChartImage:f7.AwesomeChartImage};this.unregisterFunctions=[];n&&this.defaultFetchableFactorySubject.next(n);b={xAxis:I8(this,S8)};this.setup({stateSelectionObservables:b});this.setupStateChangeHandler(b.xAxis,w=>this.onXAxisChange(R5(w,y=>y.xAxis)),"xAxis");this.mouseUpObservable.pipe(_.Gf(this.mouseDownObservable),_.Af(this.destroyed)).subscribe(([w,y])=>
{10>Math.abs(y.clientX-w.clientX)+Math.abs(y.clientY-w.clientY)&&this.mouseClickSubject.next(w)});b=[];(c=$Te(this))&&b.push(c);const r=a.nativeElement,v=w=>{this.windowCaptureScrollSubject.next(w)};d.addEventListener("scroll",v,!0);this.ngZone.runOutsideAngular(()=>{aUe(this,"chart");aUe(this,"document");this.unregisterFunctions=[e.listen(r,"mousedown",w=>{x9(f,`${this.objectiveChartId}-mousedown`,()=>{Rle(w)&&this.mouseDownSubject.next(w)})}),e.listen(r,"mouseup",w=>{x9(f,`${this.objectiveChartId}-mouseup`,
()=>{Rle(w)&&this.mouseUpSubject.next(w)})}),e.listen(r,"mouseenter",w=>{x9(f,`${this.objectiveChartId}-mouseenter`,()=>{this.mouseEnterSubject.next(w)})}),e.listen(r,"mouseleave",w=>{x9(f,`${this.objectiveChartId}-mouseleave`,()=>{this.mouseLeaveSubject.next(w)})}),e.listen(r,"wheel",w=>{this.syncScrollSubject.next(w);x9(f,`${this.objectiveChartId}-wheel`,()=>{this.scrollSubject.next(w)})}),e.listen(r,"dragstart",w=>{this.syncDragStartSubject.next(w);x9(f,`${this.objectiveChartId}-dragstart`,()=>
{this.dragStartSubject.next(w)})}),e.listen(r,"drag",w=>{this.syncDragSubject.next(w);x9(f,`${this.objectiveChartId}-drag`,()=>{this.dragSubject.next(w)})}),e.listen(r,"dragend",w=>{this.syncDragEndSubject.next(w);x9(f,`${this.objectiveChartId}-dragend`,()=>{this.dragEndSubject.next(w)})}),e.listen(d,"keydown",w=>{this.syncKeyDownSubject.next(w);x9(f,`${this.objectiveChartId}-window-keydown`,()=>{this.keyDownSubject.next(w)})}),e.listen(d,"keyup",w=>{x9(f,`${this.objectiveChartId}-window-keyup`,()=>
{this.keyUpSubject.next(w)})}),()=>{d.removeEventListener("scroll",v,!0)},e.listen(document,"mouseup",w=>{x9(f,`${this.objectiveChartId}-document-mouseup`,()=>{Rle(w)&&this.documentMouseUpSubject.next(w)})}),e.listen(document,"scroll",w=>{x9(f,`${this.objectiveChartId}-document-scroll`,()=>{this.documentScroll.next(w)})})]});J8(this,b)}set disableZoomAndPan(a){a?(this.yAxisInteractions={dragZoom:!1,ctrlScrollZoom:!1},this.timeAxisInteractions={dragZoom:!1,ctrlScrollZoom:!1,ctrlDragPan:!1,clickTimePin:!1,
hoverTimePin:!1}):(this.yAxisInteractions={},this.timeAxisInteractions={})}set pauseFetching(a){this.pauseFetchingSubject.next(a)}set timezoneOffset(a){this.timezoneOffsetInternal=a}get timezoneOffset(){if(this.testingTimezoneOffset)return this.testingTimezoneOffset;let a;return null!=(a=this.timezoneOffsetInternal)?a:this.defaultTimezone}set interactions(a){this.interactionsInternal=Object.assign({},XTe,a)}get interactions(){return this.interactionsInternal}ngOnInit(){super.ngOnInit();let a=null;
v9(this.instrumentationService,{type:"chart-initialization-start",timestamp:performance.now(),chartId:this.chartId});bUe(this);cUe(this);this.chartConfigObservable=_.qe([this.xyChartParsingStrategySubject,this.chartConfigGenerationStrategySubject,this.chartConfigTransformationStrategiesSubject]).pipe(_.zf(([g,h,l])=>{const n=this.xyChartObservable.pipe(_.U(v=>{if(v=v?g(v):null)a=performance.now(),J8(this,[cQe(Object.assign({},{chartId:this.chartId},v))]);return v}),_.vf(1));let r=n.pipe(_.zf(v=>v?
h(v,{featureFlags:this.featureFlags,instrumentationService:this.instrumentationService}):_.S(null)),_.vf(1));for(const v of l)r=_.qe([r,n]).pipe(_.zf(([w,y])=>v(w,y,{featureFlags:this.featureFlags,stateObservable:this.stateObservable,strategyWhitelistsObservable:this.strategyWhitelistsSubject,fetchableFactoryObservable:this.defaultFetchableFactorySubject,instrumentationService:this.instrumentationService})));return r}),Y5(this.ngZone,{runOutsideAngular:!0}),_.vf(1));this.ngZoneChartConfigObservable=
this.chartConfigObservable.pipe(_.U(g=>g?dUe(this,g):null),Y5(this.ngZone));this.chartConfigObservable.pipe(_.Af(this.destroyed)).subscribe(g=>{this.renderedChartConfig.emit(g);this.chartVe=eUe(this,g)});_.qe([this.chartConfigObservable.pipe(_.Ge(g=>!!g)),this.scopeObservable]).pipe(_.zf(([g,h])=>_.qe([_.S(g),_.S(h),this.store.pipe(_.Eh(sje()),_.Ge(l=>!!l))]).pipe(_.Ge(([l,n,{layersByGroup:r}])=>{if(null==a)return!1;r=r[n.chartGroupId];if(!r)return!1;n=r[n.chartId];if(!n)return!1;const v=n.graphicLayerIds,
w=n.axisLayerIds;return[...(l.lineLayers||[]),...(l.barLayers||[]),...(l.stackedAreaLayers||[]),...(l.heatmapLayers||[]),...(l.xAxisLayers||[]),...(l.yAxisLayers||[])].map(({layerId:y})=>y).filter(y=>"string"===typeof y).every(y=>v.has(y)||w.has(y))}),_.af(1))),_.Af(this.destroyed)).subscribe(([,g,{layersByGroup:h}])=>{null!=a&&(h=h[g.chartGroupId])&&(g=h[g.chartId])&&(h=g.axisLayerIds,v9(this.instrumentationService,{type:"chart-configuration",timestamp:a,chartId:this.chartId,metadata:{graphicLayerIds:Array.from(g.graphicLayerIds),
axisLayerIds:Array.from(h)}}))});const b=this.chartConfigObservable.pipe(_.U(g=>{if(!g)return[];g=[...(g.lineLayers||[]),...(g.barLayers||[]),...(g.stackedAreaLayers||[]),...(g.heatmapLayers||[]),...(g.bandLayers||[])];const h=[];for(const l of g)l.fetchable&&h.push({fetcher:l.fetchable,xAxisId:l.xAxisId||"chart_group",layerId:l.layerId});return h}),_.vf(1));let c=!0;b.pipe(_.Af(this.destroyed)).subscribe(g=>{for(const {fetcher:h,xAxisId:l,layerId:n}of g)g=this.scopeObservable.pipe(_.zf(r=>this.selectorService.getSelection(S8,
Object.assign({},r,{xAxisId:l}))),_.Ge(r=>!!r),_.yf(null),_.qf(),_.U(Q5),_.Ge(r=>{let v,w;return D5(r)&&null!==(null==(v=r.currentValue)?void 0:v.min)&&null!==(null==(w=r.currentValue)?void 0:w.max)}),_.vf(1)),g=_.De(g,this.fetchAllTriggerSubject),g=c?_.De(g.pipe(_.af(1)),g.pipe(_.wf(1),_.We(250))):g.pipe(_.We(250)),_.qe([g,this.pauseFetchingObservable]).pipe(_.Ge(([,r])=>!0!==r),_.Af(_.De(b.pipe(_.wf(1)),this.destroyed))).subscribe(()=>{this.fetch(h,l,n)});c=!1});this.destroyed.pipe(_.zf(()=>b.pipe(_.U(g=>
g))),_.af(1)).subscribe(g=>{for(const {fetcher:h}of g){let l,n;null==(n=(l=h).onDestroy)||n.call(l)}});var d=this.chartConfigObservable.pipe(_.U(g=>g?[...(g.lineLayers||[]),...(g.barLayers||[]),...(g.stackedAreaLayers||[]),...(g.heatmapLayers||[]),...(g.bandLayers||[])]:[]));const e=d.pipe(_.zf(g=>{if(!g.length)return _.S([]);g=g.map(h=>m6(h.data).pipe(_.yf(null)));return _.qe(g)})),f=d.pipe(_.zf(g=>{if(!g.length)return _.S([]);g=g.map(h=>m6(h.loading).pipe(_.yf(null)));return _.qe(g)}));d=d.pipe(_.zf(g=>
{if(!g.length)return _.S([]);g=g.map(h=>m6(h.error).pipe(_.yf(null)));return _.qe(g)}));this.featureFlags.showPausedBeforeFirstLoad&&(this.showPausedBeforeFirstLoadObservable=_.qe([b.pipe(_.U(g=>!!g.length),_.Ze()),e.pipe(_.U(g=>g.some(h=>h)),_.kf((g,h)=>h||g,!1),_.Ze()),d.pipe(_.U(g=>g.some(h=>h)),_.kf((g,h)=>h||g,!1),_.Ze())]).pipe(_.U(([g,h,l])=>g&&!(h||l)),_.Ze()));this.featureFlags.useAnnotationLayerForPartialDataErrors||e.pipe(_.U(g=>{let h=[];for(const l of g){let n;if(null==(n=l)?0:n.partialErrors)h=
h.concat(l.partialErrors)}return h}),_.Ze((g,h)=>{if(g.length!==h.length)return!1;for(let l=0;l<g.length;l++)if(g[l]!==h[l])return!1;return!0}),_.U(g=>{const h=new Set;for(const l of g)l.message&&h.add(l.message);g=Array.from(h);return g.length?(g=`${"Some data is missing. "}${g.join(", ")}`,{name:"Error",message:g,displayMessage:g,details:{isTimeout:!1},code:500}):null}),_.Ze((g,h)=>(null==g?void 0:g.displayMessage)===(null==h?void 0:h.displayMessage)),_.yf(null),_.qf(),_.Af(this.destroyed)).subscribe(([g,
h])=>{g!==h&&fUe(this,h)});e.pipe(_.Af(this.destroyed)).subscribe(g=>{this.latestDataSets.emit(g.filter(h=>!!h))});f.pipe(_.Af(this.destroyed)).subscribe(g=>{this.anyLayerLoading.emit(g.some(h=>Array.isArray(h)?null==h?void 0:h.length:!!h))});this.mouseEnterObservable.pipe(_.Af(this.destroyed)).subscribe(g=>{this.onMouseEnter(g)})}onMouseEnter(){hUe(this)}onRefreshChange(a){const b=[];var c;if(c=this.interactions.waitForRefresh){c=a.previousValue;const v=a.currentValue;c=!(!v||c&&v.trigger===c.trigger)}c&&
(c=$Te(this))&&b.push(c);c=a.previousValue;a=a.currentValue;let d,e,f,g,h,l,n,r;!a||c&&(null==(d=a.minGranularities)?void 0:d.coarse)===(null==(e=c.minGranularities)?void 0:e.coarse)&&(null==(f=a.minGranularities)?void 0:f.fine)===(null==(g=c.minGranularities)?void 0:g.fine)&&(null==(h=a.maxGranularities)?void 0:h.coarse)===(null==(l=c.maxGranularities)?void 0:l.coarse)&&(null==(n=a.maxGranularities)?void 0:n.fine)===(null==(r=c.maxGranularities)?void 0:r.fine)||this.fetchAllTriggerSubject.next();
return b}onXAxisChange(a){const b=[];if((null==a?0:a.currentValue)&&D5(a)){var c=a.currentValue;const d=c.lastUpdateCausedBy;a=c.min;c=c.max;const e=null!=c&&null!=a?c-a:null;this.withLatest(({scope:f})=>{null!=e&&this.chartLoadStartSubject.next({lastUpdateCausedBy:d,scope:f,timeDomainMs:e});!this.interactions.waitForRefresh||this.refreshTriggeredOnFirstDomain&&2!==d?this.interactions.waitForRefresh||(f=$Te(this))&&b.push(f):(b.push(YPe({chartId:f.chartId})),this.refreshTriggeredOnFirstDomain=!0)})}return b}ngAfterViewInit(){"function"===
typeof this.window.ResizeObserver?(this.resizeObserver=new ResizeObserver(()=>{this.resizeObserverTimeout=setTimeout(()=>{this.resizeObserverTimeout=void 0;gUe(this,this.el.nativeElement.getBoundingClientRect())},0)}),this.resizeObserver.observe(this.el.nativeElement)):this.resizeSensor=new HKe(this.el.nativeElement,()=>{gUe(this,this.el.nativeElement.getBoundingClientRect())});hUe(this,!0);this.windowCaptureScrollObservable.pipe(_.Af(this.destroyed),k5(250,_.Ae)).subscribe(()=>{var a,b=null!=(a=
this.height)?a:this.lastMeasuredHeight;let c;a=null!=(c=this.width)?c:this.lastMeasuredWidth;b&&a?this.resize(b,a):(b=this.el.nativeElement.getBoundingClientRect(),gUe(this,b))})}ngOnChanges(a){super.ngOnChanges(a);let b=[];if("xyChartInput"in a){const g=this.xyChartInput instanceof _.ci?this.xyChartInput:_.jwa(_.DO,this.xyChartInput),h=g&&!this.xyChart||this.xyChart&&!I9d(g,this.xyChart);(this.xyChart=g)&&h&&(this.ngZone.runOutsideAngular(()=>{this.xyChartSubject.next(g)}),b=b.concat(iUe(this)))}"projectId"in
a&&this.projectId&&(this.projectIdsSubject.next([this.projectId]),b.push(WPe({chartId:this.chartId,projectId:this.projectId})));var c;"projectIds"in a&&(null==(c=this.projectIds)?0:c.length)&&(this.projectIdsSubject.next(this.projectIds),b.push(WPe({chartId:this.chartId,projectId:this.projectIds[0]})));if("height"in a||"width"in a){var d;c=null!=(d=this.height)?d:this.lastMeasuredHeight;var e;d=null!=(e=this.width)?e:this.lastMeasuredWidth;null!==c&&null!==d&&this.resize(c,d)}"granularityStrategy"in
a&&(e=$Te(this))&&b.push(e);"xyChartParsingStrategy"in a&&this.ngZone.runOutsideAngular(()=>{this.xyChartParsingStrategySubject.next(this.xyChartParsingStrategy)});"chartConfigGenerationStrategy"in a&&this.ngZone.runOutsideAngular(()=>{this.chartConfigGenerationStrategySubject.next(this.chartConfigGenerationStrategy)});"chartConfigTransformationStrategies"in a&&this.ngZone.runOutsideAngular(()=>{this.chartConfigTransformationStrategiesSubject.next(this.chartConfigTransformationStrategies)});"applyFullSecondaryAggregation"in
a&&this.applyFullSecondaryAggregationSubject.next(this.applyFullSecondaryAggregation);"strategyWhitelists"in a&&this.strategyWhitelistsSubject.next(this.strategyWhitelists);"defaultFetchableFactory"in a&&this.defaultFetchableFactorySubject.next(this.fetchableFactoryOverride||this.defaultFetchableFactory);let f;("projectId"in a&&this.projectId||"projectIds"in a&&(null==(f=this.projectIds)?0:f.length))&&this.fetchAllTriggerSubject.next();"useChartGroupHorizontalMargins"in a&&b.push(bQe({chartGroupId:this.chartGroupId,
chartId:this.chartId,useChartGroupHorizontalMargins:this.useChartGroupHorizontalMargins}));J8(this,b)}ngOnDestroy(){super.ngOnDestroy();this.resizeObserver&&this.resizeObserver.unobserve(this.el.nativeElement);this.resizeObserverTimeout&&clearTimeout(this.resizeObserverTimeout);this.resizeSensor&&this.resizeSensor.detach(()=>{});for(const a of this.unregisterFunctions)a()}asObservable(a){return m6(a)}fetch(a,b,c,d={}){this.scopeObservable.pipe(_.zf(e=>this.selectorService.getSelection(S8,Object.assign({},
e,{xAxisId:b})))).pipe(_.af(1)).subscribe(e=>{this.withLatest(({scope:f,state:g})=>{if(g){var h=g.refresh;g=g.resize;if(h&&e&&g&&null!==e.min&&null!==e.max&&"ms_since_epoch"===e.unit){f=Object.assign({},d,{tileSize:1!==this.tilesPerFetch?100/this.tilesPerFetch:void 0,idealTileIntervalMs:this.idealTileIntervalMs,maxDataPointsPerSeries:(g.width-g.margins.left-g.margins.right)/2,layerMetadata:null==c?void 0:{chartGroupId:f.chartGroupId,chartId:f.chartId,layerId:c,layerType:"graphic"}});switch(e.lastUpdateCausedBy){case 2:f.cause=
"DOMAINX";break;case 3:f.cause="PAN";break;case 4:f.cause="ZOOM"}h.minGranularities&&(f.minGranularity="fine"===a.getGranularityCutoff()?h.minGranularities.fine||"":h.minGranularities.coarse||"");if(h.maxGranularities){var l;let n;f.maxGranularity="fine"===a.getGranularityCutoff()?(null==(l=h.maxGranularities)?void 0:l.fine)||"":(null==(n=h.maxGranularities)?void 0:n.coarse)||""}if(void 0!==h.alignToTimezoneOffset){let n;l=null!=(n=this.timeZoneId?Nie(this.timeZoneId).getOffset(new Date):this.timezoneOffset)?
n:Mie;f.timezoneOffset=h.alignToTimezoneOffset?-60*l:void 0}a.fetch([new Date(e.min),new Date(e.max)],f)}}})})}resize(a,b,c,d,e){if(void 0===c||void 0===d)d=this.el.nativeElement.getBoundingClientRect(),c=d.top,d=d.left;let f,g;a=ZPe({chartGroupId:this.chartGroupId,chartId:this.chartId,height:a,width:b,offsets:{top:null!=(f=c)?f:0,left:null!=(g=d)?g:0}});e?J8(this,[a]):this.store.dispatch(a)}trackByIndex(a){return a}scheduleStateChangeHandler(a){this.queueService.scheduleChangeHandler(Object.assign({},
a,{mergeKey:`${this.chartId}-${a.mergeKey}`}))}scheduleChangeHandler(a){this.queueService.scheduleChangeHandler(Object.assign({},a,{mergeKey:`${this.chartId}-${a.mergeKey}`}))}};L9.\u0275fac=function(a){return new (a||L9)(_.A(_.ad),_.A(_.fq),_.A(b9),_.A(WTe),_.A(_.Ok),_.A(y9),_.A(w9),_.A(_.Jf),_.A(rTe,8),_.A(ZTe,8))};
L9.\u0275cmp=_.q({type:L9,selectors:[["ac-chart"]],hostAttrs:["draggable","true",1,"ac-chart","ac-composable-chart"],hostVars:4,hostBindings:function(a,b){a&2&&_.Ad("height",b.height,"px")("width",b.width,"px")},inputs:{disableZoomAndPan:"disableZoomAndPan",pauseFetching:"pauseFetching",timezoneOffset:"timezoneOffset",timeZoneId:"timeZoneId",xyChartInput:["xyChart","xyChartInput"],projectId:"projectId",projectIds:"projectIds",strategyWhitelists:"strategyWhitelists",defaultFetchableFactory:"defaultFetchableFactory",
height:"height",width:"width",granularityStrategy:"granularityStrategy",interactions:"interactions",applyFullSecondaryAggregation:"applyFullSecondaryAggregation",xyChartParsingStrategy:"xyChartParsingStrategy",chartConfigGenerationStrategy:"chartConfigGenerationStrategy",chartConfigTransformationStrategies:"chartConfigTransformationStrategies",tilesPerFetch:"tilesPerFetch",idealTileIntervalMs:"idealTileIntervalMs",featureFlags:"featureFlags",xAxisBrushActionButtonConfig:"xAxisBrushActionButtonConfig",
useChartGroupHorizontalMargins:"useChartGroupHorizontalMargins"},outputs:{renderedChartConfig:"renderedChartConfig",latestDataSets:"latestDataSets",anyLayerLoading:"anyLayerLoading"},features:[_.Wd([{provide:L8,useExisting:L9}]),_.wd,_.Gc],ngContentSelectors:[".below","*",".ac-chart-project-behind-lines"],decls:11,vars:11,consts:[[3,"ve","veMutable"],[1,"ac-screen-reader-only-content",3,"id"],[3,"ve","veImpression",4,"ngIf"],[3,"ve","veImpression"],[3,"chartTitle","showPausedBeforeFirstLoad",4,"ngFor",
"ngForOf","ngForTrackBy"],[3,"layerId","position","yAxisId","includeRange","tickStrategy","interactions",4,"ngFor","ngForOf","ngForTrackBy"],[3,"layerId","xAxisId","timezoneOffset","timeZoneId","xAxisBrushActionButtonConfig","interactions","interactionBounds","relativeTo","styles",4,"ngFor","ngForOf","ngForTrackBy"],[3,"color",4,"ngIf"],[3,"layerId","layerName","data","loading","error","yAxisId","legendTemplate",4,"ngFor","ngForOf","ngForTrackBy"],[3,"layerId","data","loading","error","alignmentPeriodMs",
"outputPeriodMs","yAxisId","showBand","useLegacyGapDetection",4,"ngFor","ngForOf","ngForTrackBy"],[3,"layerId","layerName","data","loading","error","alignmentPeriodMs","outputPeriodMs","yAxisId","legendTemplate","useLegacyGapDetection","colorStrategy","onSelect",4,"ngFor","ngForOf","ngForTrackBy"],[3,"layerId","layerName","data","loading","error","alignmentPeriodMs","outputPeriodMs","yAxisId","legendTemplate","colorStrategy","onSelect",4,"ngFor","ngForOf","ngForTrackBy"],[3,"layerId","layerName",
"data","loading","error","alignmentPeriodMs","outputPeriodMs","yAxisId","xAxisId","colorStrategy","styles","legendTemplate","useLegacyGapDetection","pointConnectionMethod","onSelect",4,"ngFor","ngForOf","ngForTrackBy"],[3,"data","color","yAxisId",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"chartTitle","showPausedBeforeFirstLoad"],[3,"layerId","position","yAxisId","includeRange","tickStrategy","interactions"],[3,"layerId","xAxisId","timezoneOffset","timeZoneId","xAxisBrushActionButtonConfig",
"interactions","interactionBounds","relativeTo","styles"],[3,"color"],[3,"layerId","layerName","data","loading","error","yAxisId","legendTemplate"],[3,"layerId","data","loading","error","alignmentPeriodMs","outputPeriodMs","yAxisId","showBand","useLegacyGapDetection"],[3,"layerId","layerName","data","loading","error","alignmentPeriodMs","outputPeriodMs","yAxisId","legendTemplate","useLegacyGapDetection","colorStrategy","onSelect"],[3,"layerId","layerName","data","loading","error","alignmentPeriodMs",
"outputPeriodMs","yAxisId","legendTemplate","colorStrategy","onSelect"],[3,"layerId","layerName","data","loading","error","alignmentPeriodMs","outputPeriodMs","yAxisId","xAxisId","colorStrategy","styles","legendTemplate","useLegacyGapDetection","pointConnectionMethod","onSelect"],[3,"data","color","yAxisId"]],template:function(a,b){a&1&&(_.Pd(VTe),_.E(0,"figure",0)(1,"div",1)(2,"p"),_.Q(3),_.F()(),_.E(4,"div",1)(5,"p"),_.Q(6),_.F()(),_.Qd(7),_.P(8,Ple,18,33,"div",2),_.Zd(9,"async"),_.Qd(10,1),_.F());
a&2&&(_.C("ve",b.chartVe)("veMutable",!0),_.zd("aria-labelledby",b.labelledById)("aria-describedby",b.describedById),_.x(1),_.C("id",b.labelledById),_.x(2),_.Ud(b.title),_.x(1),_.C("id",b.describedById),_.x(2),_.Ud(b.keyboardNavInstructions),_.x(2),_.C("ngIf",_.$d(9,9,b.ngZoneChartConfigObservable)))},dependencies:[_.kl,_.ll,iSe,dQe,ARe,TRe,ASe,ATe,MTe,GSe,kQe,pSe,FRe,_.wt,_.pl],styles:[".ac-screen-reader-only-content[_ngcontent-%COMP%]{clip:rect(1px, 1px, 1px, 1px);height:1px;margin:0;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px;z-index:-1000}.ac-a11y-focused[_ngcontent-%COMP%], .ac-a11y-focusable[_ngcontent-%COMP%]:focus, .ac-a11y-focus-within[_ngcontent-%COMP%]:focus-within, .ac-a11y-keyboard-focusable.cdk-keyboard-focused[_ngcontent-%COMP%]{outline:3px solid #3367d6;outline-offset:-3px}.ac-a11y-keyboard-focusable[_ngcontent-%COMP%]{outline:none}[_nghost-%COMP%]{position:relative;width:100%;height:100%;display:block}[_nghost-%COMP%]   figure[_ngcontent-%COMP%]{margin:0}.ac-composable-chart[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}\n/*# sourceMappingURL=ac_chart_style.css.map */"],
changeDetection:0});var M9=class{constructor(){_.DN.setThrowPartials&&_.DN.setThrowPartials(!1)}};M9.\u0275fac=function(a){return new (a||M9)};M9.\u0275mod=_.Bc({type:M9});M9.\u0275inj=_.tc({imports:[_.ql,C9,g9,z9,B9,E9,H9,I9,F9,lQe,D9,A9,_.yt]});
var kUe={chartGroupId:"",xPos:null,locked:!1,trackingNow:!1,directionOfTravel:0};
var lUe=["hoverContent"],mUe=function(a,b){switch(b){case "no_override":return a.defaultShowHovercard;case "show":return _.S(!0);case "hide":return _.S(!1);default:return _.Wb(b,void 0)}},nUe=function(a,b){var c=b.state;b=b.scope;if(c){var d=c.focus,e=c.resize,f=c.lastInteraction;c=c.xAxisPin;d&&e&&f&&c&&(f=Sle(b,f),d.chartGroupId===b.chartGroupId&&d.chartId===b.chartId&&null!==f.focus&&null!==f.focus.x&&null!==f.focus.y&&e.offsets?(b=new MouseEvent("mousemove",{clientX:f.focus.x+e.offsets.left,clientY:f.focus.y+
e.offsets.top}),a.reposition(b,0,c.directionOfTravel)):a.detachHovercard())}},N9=class extends a9{constructor(a,b,c,d,e,f,g,h){super(a,b,c,d);this.queueService=e;this.overlay=f;this.viewContainerRef=g;this.ngZone=h;this.mouseInBounds=new _.bg(!1);this.showHovercardOverrideSubject=new _.bg("no_override");this.dataSubject=new _.bg(null);this.defaultShowHovercard=this.mouseInBounds.pipe(_.zf(l=>l?Tle(this.store,this.scopeObservable).pipe(_.U(n=>!n)):_.S(!1)));this.showHovercard=this.showHovercardOverrideSubject.pipe(_.zf(l=>
mUe(this,l)),_.vf(1),_.Ze(),Y5(this.ngZone));this.timeKeySubject=new _.bg(1);this.timeKeyObservable=this.timeKeySubject.pipe(_.Ze());this.overlayPositionStrategy=this.overlay.position().global();this.overlayRef=this.overlay.create(new _.Xn({positionStrategy:this.overlayPositionStrategy,scrollStrategy:this.overlay.scrollStrategies.close()}));this.setup({dataObservable:this.dataSubject});this.chart.mouseEnterObservable.pipe(_.Af(this.destroyed)).subscribe(l=>{this.onMouseEnter(l)});K8(this.chart,"chart",
l=>{if(this.mouseInBounds.value)this.onMouseMove(l);return[]},this.destroyed);this.chart.mouseLeaveObservable.pipe(_.Af(this.destroyed)).subscribe(l=>{this.onMouseLeave(l)});this.showHovercard.pipe(_.Ge(l=>!l),_.Af(this.destroyed)).subscribe(()=>void this.detachHovercard())}set showHovercardOverride(a){this.showHovercardOverrideSubject.next(a)}ngAfterViewInit(){}onFocusChange(a,b){nUe(this,b)}onLastInteractionChange(a){nUe(this,a)}onAttach(){}onDetach(){}onMouseEnter(a){this.mouseInBounds.next(!0);
this.reposition(a,1)}onMouseMove(a){this.reposition(a,1);r9(this.queueService,"time_to_show_hovercard","display the hovercard")}onMouseLeave(){this.mouseInBounds.next(!1)}reposition(a,b=1,c=0){this.withLatest(({state:d})=>{null!=d&&d.resize&&(d=this.positionStrategy(a,{height:this.overlayRef.overlayElement.offsetHeight,width:this.overlayRef.overlayElement.offsetWidth},d.resize,c),void 0===d?this.detachHovercard():(this.timeKeySubject.next(b),this.overlayRef.hasAttached()||this.attachHovercard(),this.overlayPositionStrategy.top(`${d.y}px`).left(`${d.x}px`),
this.overlayRef.updatePosition()))})}attachHovercard(){this.overlayRef.hasAttached()||(this.overlayRef.attach(new _.$n(this.hoverContent,this.viewContainerRef)),this.onAttach())}detachHovercard(){this.overlayRef.hasAttached()&&(this.overlayRef.detach(),this.onDetach())}ngOnDestroy(){super.ngOnDestroy();this.detachHovercard()}};N9.\u0275fac=function(a){return new (a||N9)(_.A(_.ad),_.A(_.fq),_.A(L8),_.A(b9),_.A(y9),_.A(_.eo),_.A(_.Me),_.A(_.Jf))};
N9.\u0275dir=_.q({type:N9,viewQuery:function(a,b){a&1&&_.Oe(lUe,5);if(a&2){let c;_.Ne(c=_.Qe())&&(b.hoverContent=c.first)}},inputs:{positionStrategy:"positionStrategy",showHovercardOverride:"showHovercardOverride"},features:[_.wd]});
var oUe=class extends e9{constructor(a,b,c,d,e,f,g){super(a,b,e,f);this.queueService=c;this.ngZone=d;this.timeKey=1;this.updateDebouncedTriggerSubject=new _.tf;this.dateFormatStrategy=Ule;this.dateTimeSubject=new _.bg({cursorDate:null,minDate:null,maxDate:null});this.timeZoneSubject=new _.bg(_.Rr(0));this.formattedDateTimeObservable=_.qe([this.dateTimeSubject,this.timeZoneSubject]).pipe(_.U(([h,l])=>this.dateFormatStrategy(h.cursorDate,h.minDate,h.maxDate,l)),Y5(this.ngZone));this.setup({});g&&g.timeKeyObservable.pipe(_.Af(this.destroyed)).subscribe(h=>
{this.timeKey=h;this.withLatest(l=>{this.update(l)})});this.ngZone.runOutsideAngular(()=>{this.updateDebouncedTriggerSubject.pipe(k5(250,_.Ae)).pipe(_.Af(this.destroyed)).subscribe(()=>{this.withLatest(h=>{this.update(h)})})})}set dataSource(a){switch(a){case "click":this.timeKey=2;break;case "hover":this.timeKey=1;break;case "time_pin":this.timeKey=0;break;case "most_recent":this.timeKey=3;break;default:_.Wb(a,"unknown data source")}}onLastInteractionChange(){this.updateDebouncedTriggerSubject.next()}onXAxisChange(a){if(Che(a)||
Dhe(a)){let c;var b=null==(c=a.currentValue)?void 0:c.timezoneOffset;let d;a=null==(d=a.currentValue)?void 0:d.timeZoneId;b=e6(b,a);this.timeZoneSubject.next(b)}}onTimeSeriesChange(){this.updateDebouncedTriggerSubject.next()}update(a){var b=a.state;if(b){var c=b.xAxis,d=b.resize,e=b.lastInteraction;b=b.timeSeries;if(c&&d&&e){a:{a=Sle(a.scope,e);switch(this.timeKey){case 0:var f,g;a=null!=(g=null==(f=a.focus)?void 0:f.x)?g:null;break a;case 2:var h,l;a=null!=(l=null==(h=a.click)?void 0:h.x)?l:null;
break a;case 1:var n,r;a=null!=(r=null==(n=a.hover)?void 0:n.x)?r:null;break a;case 3:a=c.max;break a;default:_.Wb(this.timeKey,"unknown data source")}a=void 0}c=(c=F5(c,d.margins.left,d.width-d.margins.right))&&null!==a?c(a):null;if(null!==c){d=new Date(c);n=null==b?void 0:b.byLayer.ids;b=null==b?void 0:b.byLayer.entities;g=f=null;l=h=Infinity;if((null==n?0:n.length)&&b)for(const v of n){r=b[v];let w,y,B;n=null==(w=r)?void 0:null==(y=w.snapshotMetadata)?void 0:null==(B=y[this.timeKey])?void 0:B.alignmentRange.x0;
let G,O,T;r=null==(G=r)?void 0:null==(O=G.snapshotMetadata)?void 0:null==(T=O[this.timeKey])?void 0:T.alignmentRange.x;n&&r?(a=Math.abs(r-c)+Math.abs(n-c),a<l&&(g=new Date(n),f=new Date(r),l=a)):r&&Infinity===l&&(n=Math.abs(r-c),n<h&&(f=new Date(r),h=n))}this.dateTimeSubject.next({cursorDate:d,maxDate:f,minDate:g})}}}}scheduleStateChangeHandler(a,b,c,d,e){this.queueService.scheduleChangeHandler({changes:a,context:b,scope:e,componentHandlerUsingContext:c,mergeKey:d})}};
oUe.\u0275fac=function(a){return new (a||oUe)(_.A(_.fq),_.A(b9),_.A(y9),_.A(_.Jf),_.A(L8,8),_.A(a9,8),_.A(N9,8))};oUe.\u0275cmp=_.q({type:oUe,selectors:[["ac-date-time"]],inputs:{dataSource:"dataSource",dateFormatStrategy:"dateFormatStrategy"},features:[_.wd],decls:2,vars:3,consts:[[4,"ngIf"],[1,"date-time-card"]],template:function(a,b){a&1&&(_.P(0,Vle,3,1,"ng-container",0),_.Zd(1,"async"));a&2&&_.C("ngIf",_.$d(1,1,b.formattedDateTimeObservable))},dependencies:[_.ll,_.pl],styles:[".date-time-card[_ngcontent-%COMP%]{color:rgba(0,0,0,.6);text-align:left;height:16px;font-size:12px}\n/*# sourceMappingURL=ac_date_time.css.map */"]});
var O9=class{};O9.\u0275fac=function(a){return new (a||O9)};O9.\u0275mod=_.Bc({type:O9});O9.\u0275inj=_.tc({imports:[_.ql]});
var P9=class{};P9.\u0275fac=function(a){return new (a||P9)};P9.\u0275mod=_.Bc({type:P9});P9.\u0275inj=_.tc({imports:[_.ql,_.Do]});
var pUe=class{constructor(a){this.columnIdsCache=this.labelsCache=this.statsModeSummaryValueCache=this.displayValueCache=this.nameCache=null;this.seriesId=a.seriesId;this.color=a.color;this.shape=a.shape;this.drawnAs=a.drawnAs;this.dataSeriesMetadata=a.dataSeriesMetadata;this.isInteracted=a.isInteracted;this.isSelected=a.isSelected;this.rawValue=a.rawValue;this.pxValue=a.pxValue;this.timeshiftValue=a.timeshiftValue;this.setHovered=a.setHovered;this.setSelected=a.setSelected;this.unit=a.unit;this.getNameInternal=
a.getName;this.getDisplayValueInternal=a.getDisplayValue;this.getStatsModeSummaryValueInternal=a.getStatsModeSummaryValue;this.getLabelsInternal=a.getLabels;this.getColumnIdsInternal=a.getColumnIds;this.onLabelsChange=a.onLabelsChange}set getName(a){this.nameCache=null;this.getNameInternal=a}get getName(){return this.getNameInternal}set getDisplayValue(a){this.displayValueCache=null;this.getDisplayValueInternal=a}get getDisplayValue(){return this.getDisplayValueInternal}set getStatsModeSummaryValue(a){this.statsModeSummaryValueCache=
null;this.getStatsModeSummaryValueInternal=a}get getStatsModeSummaryValue(){return this.getStatsModeSummaryValueInternal}set getLabels(a){this.labelsCache=null;this.getLabelsInternal=a}get getLabels(){return this.getLabelsInternal}set getColumnIds(a){this.columnIdsCache=null;this.getColumnIdsInternal=a}get getColumnIds(){return this.getColumnIdsInternal}get name(){if(null!==this.nameCache)return this.nameCache;const a=this.getName();return this.nameCache=a}get displayValue(){if(null!==this.displayValueCache)return this.displayValueCache;
const a=this.getDisplayValue();return this.displayValueCache=a}get statsModeSummaryValue(){if(null!==this.statsModeSummaryValueCache)return this.statsModeSummaryValueCache;const a=this.getStatsModeSummaryValue();return this.statsModeSummaryValueCache=a}get labels(){if(null!==this.labelsCache)return this.labelsCache;const a=this.getLabels();this.labelsCache=a;if(this.onLabelsChange)this.onLabelsChange(a);return a}get columnIds(){if(null!==this.columnIdsCache)return this.columnIdsCache;const a=this.getColumnIds();
return this.columnIdsCache=a}};
var qUe=function(a,b){return{fill:a,stroke:b}},rUe=new Map([[0,"line"],[1,"line-with-area"],[2,"square"],[3,"square"],[4,"band-max"],[5,"band-min"],[6,"threshold"]]),Q9=class{constructor(){this.keyShape="circle";this.color="#000000"}set drawnAs(a){this.keyShape=void 0!==a?rUe.get(a)||"circle":"circle"}};Q9.\u0275fac=function(a){return new (a||Q9)};
Q9.\u0275cmp=_.q({type:Q9,selectors:[["ac-key"]],inputs:{drawnAs:"drawnAs",color:"color",shape:"shape"},decls:8,vars:11,consts:[[1,"icon",3,"ngSwitch","ngStyle"],["class","line","viewBox","0 0 24 12",4,"ngSwitchCase"],["class","line-with-area","viewBox","0 0 24 12",4,"ngSwitchCase"],["class","band-max","viewBox","0 0 12 12",4,"ngSwitchCase"],["class","band-min","viewBox","0 0 12 12",4,"ngSwitchCase"],["class","threshold","viewBox","0 0 12 12",4,"ngSwitchCase"],["class","square","viewBox","0 0 24 12",
4,"ngSwitchCase"],["class","circle","viewBox","0 0 12 12",4,"ngSwitchDefault"],["viewBox","0 0 24 12",1,"line"],["d","M 0 6 H 18","stroke-width","2"],["transform","translate(18 6) scale(0.6 0.6)",4,"ngIf"],["transform","translate(18 6) scale(0.6 0.6)"],["stroke-width","4","stroke","white"],["viewBox","0 0 24 12",1,"line-with-area"],"d;M 0 6 H 18 V 18 H 0 Z;fill-rule;evenodd;fill-opacity;0.38".split(";"),["viewBox","0 0 12 12",1,"band-max"],"d;M 0 4 H 12 V 12 H 0 Z;fill-rule;evenodd;fill-opacity;0.12".split(";"),
"d;M 0 4 H 12;stroke-width;2;stroke-opacity;0.38".split(";"),["viewBox","0 0 12 12",1,"band-min"],"d;M 0 8 H 12 V 0 H 0 Z;fill-rule;evenodd;fill-opacity;0.12".split(";"),"d;M 0 8 H 12;stroke-width;2;stroke-opacity;0.38".split(";"),["viewBox","0 0 12 12",1,"threshold"],"d;M 0 6 H 12;stroke-width;2;stroke-dasharray;3 1".split(";"),["viewBox","0 0 24 12",1,"square"],["d","M 3 0 h 18 v 12 h -18 Z","fill-rule","evenodd",4,"ngIf"],["transform","translate(12 6) scale(0.6 0.6)",4,"ngIf"],["d","M 3 0 h 18 v 12 h -18 Z",
"fill-rule","evenodd"],["transform","translate(12 6) scale(0.6 0.6)"],["viewBox","0 0 12 12",1,"circle"],"cx 6 cy 6 r 6 fill-rule evenodd".split(" ")],template:function(a,b){a&1&&(_.E(0,"i",0),_.P(1,gme,3,1,"svg",1),_.P(2,ime,4,1,"svg",2),_.P(3,jme,3,0,"svg",3),_.P(4,kme,3,0,"svg",4),_.P(5,lme,2,0,"svg",5),_.P(6,ome,3,2,"svg",6),_.P(7,pme,2,0,"svg",7),_.F());a&2&&(_.C("ngSwitch",b.keyShape)("ngStyle",_.Zx(8,qUe,b.color||"#000",b.color||"#000")),_.x(1),_.C("ngSwitchCase","line"),_.x(1),_.C("ngSwitchCase",
"line-with-area"),_.x(1),_.C("ngSwitchCase","band-max"),_.x(1),_.C("ngSwitchCase","band-min"),_.x(1),_.C("ngSwitchCase","threshold"),_.x(1),_.C("ngSwitchCase","square"))},dependencies:[_.ll,_.xD,_.ml,_.nl,_.QB],styles:["i[_ngcontent-%COMP%]{position:relative;display:block;width:24px;height:12px;line-height:0}i[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:100%}\n/*# sourceMappingURL=ac_key.css.map */"],changeDetection:0});var R9=class{};R9.\u0275fac=function(a){return new (a||R9)};
R9.\u0275mod=_.Bc({type:R9});R9.\u0275inj=_.tc({imports:[_.ql]});
var sUe=class{constructor(a){this.valueType=0;this.getColor=a.getColor;this.getDisplayValue=a.getDisplayValue;this.getIsInteracted=a.getIsInteracted;this.getName=a.getName;this.getMinDisplayValue=a.getMinDisplayValue;this.getMaxDisplayValue=a.getMaxDisplayValue;this.drawnAs=a.drawnAs;this.rawValue=a.rawValue;this.scaledValue=a.scaledValue;this.pxValue=a.pxValue;this.shape=a.shape;this.stackingIndex=a.stackingIndex}get color(){return this.getColor()}get displayValue(){return this.displayValueCache?
this.displayValueCache:this.displayValueCache=this.getDisplayValue()}get minDisplayValue(){if(this.minDisplayValueCache)return this.minDisplayValueCache;if(this.getMinDisplayValue)return this.minDisplayValueCache=this.getMinDisplayValue()}get maxDisplayValue(){if(this.maxDisplayValueCache)return this.maxDisplayValueCache;if(this.getMaxDisplayValue)return this.maxDisplayValueCache=this.getMaxDisplayValue()}get isInteracted(){return this.getIsInteracted()}get name(){return this.getName()}get timeshiftDisplayValue(){if(this.getTimeshiftDisplayValue)return this.getTimeshiftDisplayValue()}},
tUe=class extends sUe{constructor(){super(...arguments);this.valueType=1}},uUe=class extends sUe{constructor(){super(...arguments);this.valueType=2}};
var Dme=function(a){return{strong:a}},Hme=function(a){return{"min-width":a}},vUe=["right","left"],wUe=function(a){let b=[];a&&Object.values(a.byLayer.entities).forEach(c=>{b=b.concat((null==c?void 0:c.selectedSeries)||[])});return b},yUe=function(a,b){let c=[];b&&Object.values(b.byLayer.entities).forEach(d=>{c=c.concat(xUe(a,d))});return c},zUe=function(a,b){if(!b)return null;switch(a.timeKey){case 0:let c,d;return null!=(d=null==(c=b.focus)?void 0:c.y)?d:null;case 2:let e,f;return null!=(f=null==
(e=b.click)?void 0:e.y)?f:null;case 1:let g,h;return null!=(h=null==(g=b.hover)?void 0:g.y)?h:null;case 3:return null;default:_.Wb(a.timeKey,"unknown data source")}},BUe=function(a,b,c,d,e){const f=new Map,g=new Map;let h=null;for(const n of c){const r=e.get(n.yAxisId);if(!r)continue;let v,w,y,B,G,O;var l=null==(y=a.xAxisLookup.entities[d6(null!=(G=null==(v=b)?void 0:v.chartGroupId)?G:"",null!=(O=null==(w=b)?void 0:w.chartId)?O:"",n.xAxisId)])?void 0:null==(B=y.relativeTo)?void 0:B.shift;c=!!l;l=
l?Mke(l):null;if(!h)h=l;else if(l&&h!==l)throw Error("Cl");if(2!==n.valueType&&1===n.valueType){l=Object.values(n.bySeries.entities);const T=AUe(a,l,n.legendTemplate);for(const J of l){if(!J||a.hideThresholds&&6===J.drawnAs||!d.map(W=>W.seriesId).includes(J.seriesId))continue;const R=J.atTimeKey[a.timeKey];let ra;l=void 0!==(null==(ra=R)?void 0:ra.min)?()=>{let W;return a.formatNumericValue(null==(W=R)?void 0:W.min,n.unit,r.unit,r.maximumFractionDigits,n.pointConnectionMethod)}:void 0;let Ba;const Ka=
void 0!==(null==(Ba=R)?void 0:Ba.max)?()=>{let W;return a.formatNumericValue(null==(W=R)?void 0:W.max,n.unit,r.unit,r.maximumFractionDigits,n.pointConnectionMethod)}:void 0;let Va;const cb=void 0!==R&&null!==R?null!=(Va=B5(n.unit,r.unit,R.y))?Va:R.y:void 0;let H,Y;const X=new tUe({getColor:()=>J.color,getDisplayValue:()=>{let W;return a.formatNumericValue(null==(W=R)?void 0:W.y,n.unit,r.unit,r.maximumFractionDigits,n.pointConnectionMethod)},getIsInteracted:()=>!1,getName:()=>a.displayName(J,T),drawnAs:J.drawnAs,
rawValue:null!=(Y=null==(H=R)?void 0:H.y)?Y:void 0,scaledValue:cb,shape:J.shape,stackingIndex:J.stackingIndex,getMinDisplayValue:l,getMaxDisplayValue:Ka});c?g.set(J.seriesId,X):f.set(J.seriesId,X)}}}a.timeshiftColumnLabel=h;for(const [n,r]of f){b=n;d=r;const v=g.get(b);v&&(d.getTimeshiftDisplayValue=()=>v.displayValue,g.delete(b))}return Array.from(f.values()).concat(Array.from(g.values())).sort(Ome)},xUe=function(a,b){if(!b)return[];switch(a.timeKey){case 2:return[];case 0:case 3:return b.selectedSeries;
case 1:return b.hoveredSeries;default:_.Wb(a.timeKey,"unknown data source")}},AUe=function(a,b,c){return void 0!==c?new _.XN(c):CUe(a,b)},EUe=function(a,b,c,d,e){if((a=b.atTimeKey[a.timeKey])&&void 0!==a.bucketIndex){b=a.bucketIndex;const f=a.y.bucketCounts[b]||0,g=f.toString(),h=(100*f/a.y.count).toFixed();let [l,n]=j6(a.y,b),r=l,v=n;b===a.y.bucketCounts.length&&(v=null);-Infinity===r&&(r=null);const [w,y]=[r,v].map(B=>{if(null===B)return null;B=B5(c,d,B)||0;return C5(B,d,{maximumFractionDigits:e})});
return{displayValue:DUe(g,h,w,y),bucketCount:f}}return{displayValue:"-",bucketCount:null}},FUe=function(a,b,c){b=b.sort(Ome);var d=0;for(var e=b.length-1;0<=e;e--){const f=b[e];if(f.isInteracted){d=e;break}null!==c&&1===f.valueType&&void 0!==f.pxValue&&f.pxValue>c&&(d=e)}c=Math.max(0,d-Math.ceil(Math.max(0,a.visibleRows-1)/2));d=Math.min(c+a.visibleRows,b.length);(e=a.visibleRows-(d-c))&&(0===c?d=Math.min(b.length,d+e):c=Math.max(0,c-e));a.streamsAboveCount=c;a.streamsBelowCount=b.length-d;return b.slice(c,
d)},CUe=function(a,b){var c;a=a.getLabelTables(null!=(c=b.map(d=>{let e;return null!=(e=null==d?void 0:d.dataSeriesMetadata)?e:null}))?c:[]);if(!a)return null;c="";for(const d of a)if(d)for(const e of d)if(e.isDefault){let f;c+=(null!=(f=e.template)?f:"")+'" "'}return c?new _.XN(c):null},DUe=function(a,b,c,d){return null===c?(new _.ji("{COUNT} ({PERCENT}%) below {UPPER}")).format({COUNT:a,PERCENT:b,UPPER:c}):null===d?(new _.ji("{COUNT} ({PERCENT}%) above {LOWER}")).format({COUNT:a,PERCENT:b,LOWER:c}):
(new _.ji("{COUNT} ({PERCENT}%) between {LOWER} and {UPPER}")).format({COUNT:a,PERCENT:b,LOWER:c,UPPER:d})},GUe=class extends e9{constructor(a,b,c,d,e,f,g){super(a,b,e,f);this.cdRef=c;this.queueService=d;this.timeKey=1;this.hideThresholds=!1;this.visibleRows=5;this.layout="default";this.streamsBelowCount=this.streamsAboveCount=this.minWidth=0;this.updateTimeout=this.timeshiftColumnLabel=this.streams=this.selectedStreams=null;this.updateTriggerSubject=new _.tf;this.updateDebouncedTriggerSubject=new _.tf;
this.xAxisLookup={ids:[],entities:{}};this.isQuery=!1;this.seriesMetadataForLabelTablesCache=this.labelTablesCache=null;this.valueColumnLabel="Value";this.setup({});_.De(this.updateTriggerSubject.pipe(k5(250,_.Ae)),this.updateDebouncedTriggerSubject.pipe(_.We(250))).pipe(_.Af(this.destroyed)).subscribe(()=>{this.updateTimeout=setTimeout(()=>{this.updateTimeout=null;this.update()},0)});this.store.pipe(_.Eh(Q8),_.Af(this.destroyed)).subscribe(h=>{this.xAxisLookup=h});g&&g.timeKeyObservable.pipe(_.Af(this.destroyed)).subscribe(h=>
{this.timeKey=h})}set dataSource(a){switch(a){case "click":this.timeKey=2;break;case "hover":this.timeKey=1;break;case "time_pin":this.timeKey=0;break;case "most_recent":this.timeKey=3;break;default:_.Wb(a,"unknown data source")}}ngOnInit(){const a=vUe.map(b=>this.scopeObservable.pipe(_.zf(c=>this.selectorService.getSelection(V8,Object.assign({},c,{yAxisId:b}))),_.Ge(c=>!!c),_.yf(null),_.qf(),_.U(Q5),_.Ge(c=>K5(c)),_.vf(1)));_.qe(a).pipe(_.Af(this.destroyed)).subscribe(()=>{this.updateTriggerSubject.next()})}get compact(){return"compact"===
this.layout}update(){const a=vUe.map(b=>this.scopeObservable.pipe(_.zf(c=>this.selectorService.getSelection(V8,Object.assign({},c,{yAxisId:b})))));_.qe(a).pipe(_.af(1)).subscribe(b=>{const c=new Map;for(let d=0;d<vUe.length;d++)c.set(vUe[d],b[d]);this.withLatest(({scope:d,state:e})=>{if(d&&e&&e.timeSeries&&e.brush&&e.resize){var f=e.colorScale,g=e.seriesSelection,h=e.timeSeries,l=e.resize;if(!e.brush.panning){var n=Sle(d,e.lastInteraction);e=wUe(g);g=yUe(this,g);n=zUe(this,n);var r=new Map;for(const w of vUe){var v=
c.get(w);if(v){v=L5(v,l.margins.top,l.height-l.margins.bottom,v.unit);let y;r.set(w,null!=(y=v)?y:null)}else r.set(w,null)}h=this.getRelevantLayers(h);this.streams=this.buildStreams(d,h,g,n,r,c,f);this.selectedStreams=BUe(this,d,h,e,c);this.cdRef.markForCheck()}}})})}onScopeChange(){this.update()}onSeriesSelectionChange(a){Nhe(a)&&this.updateTriggerSubject.next()}onChartSpecChange(a){let b,c;a=null==(b=a.currentValue)?void 0:null==(c=b.dataSets)?void 0:c[0];this.isQuery=void 0!==(null==a?void 0:a.timeSeriesQuery)||
void 0!==(null==a?void 0:a.prometheusQuery)}onTimeSeriesChange(){this.updateDebouncedTriggerSubject.next()}onLastInteractionChange(){this.updateTriggerSubject.next()}displayName(a,b){let c=null;a.legendTemplate&&(b=new _.XN(a.legendTemplate));a.dataSeriesMetadata&&b&&(c=b.format(a.dataSeriesMetadata,this.getTranslationFunctions()));let d;return null!=(d=c)?d:a.name||a.seriesId||""}getRelevantLayers(a){return Object.values(a.byLayer.entities).filter(b=>!(!b||1!==b.valueType&&2!==b.valueType))}buildStreams(a,
b,c,d,e,f,g){const h=new Map,l=new Map;let n=null;for(const w of b){const y=f.get(w.yAxisId);if(!y)continue;let B,G,O,T,J,R;var r=null==(O=this.xAxisLookup.entities[d6(null!=(J=null==(B=a)?void 0:B.chartGroupId)?J:"",null!=(R=null==(G=a)?void 0:G.chartId)?R:"",w.xAxisId)])?void 0:null==(T=O.relativeTo)?void 0:T.shift;b=!!r;r=r?Mke(r):null;if(!n)n=r;else if(r&&n!==r)throw Error("Dl");if(2===w.valueType){let ra;const Ba=null==(ra=g)?void 0:ra.byLayer.entities[w.layerId],Ka=Ba?Fke(Ba.max,Ba.colorPivots):
null;r=Object.values(w.bySeries.entities);const Va=AUe(this,r,w.legendTemplate);for(const cb of r){if(!cb||this.hideThresholds&&6===cb.drawnAs)continue;const H=()=>EUe(this,cb,w.unit,y.unit,y.maximumFractionDigits);let Y;r=new uUe({getColor:()=>{const {bucketCount:X}=H();return Ka&&Ba?Gke(Ka(null!=X?X:Ba.min)):"#000000"},getDisplayValue:()=>{const {displayValue:X}=H();return X},getIsInteracted:()=>c.map(X=>X.seriesId).includes(cb.seriesId),getName:()=>this.displayName(cb,Va),drawnAs:cb.drawnAs,rawValue:null!=
(Y=cb.atTimeKey[this.timeKey])?Y:void 0});b?l.set(cb.seriesId,r):h.set(cb.seriesId,r)}}else if(1===w.valueType){r=e.get(w.yAxisId);if(!r)continue;var v=Object.values(w.bySeries.entities);const ra=AUe(this,v,w.legendTemplate);for(const Ba of v){if(!Ba||this.hideThresholds&&6===Ba.drawnAs)continue;const Ka=Ba.atTimeKey[this.timeKey];let Va;v=void 0!==(null==(Va=Ka)?void 0:Va.min)?()=>{let ma;return this.formatNumericValue(null==(ma=Ka)?void 0:ma.min,w.unit,y.unit,y.maximumFractionDigits,w.pointConnectionMethod)}:
void 0;let cb;const H=void 0!==(null==(cb=Ka)?void 0:cb.max)?()=>{let ma;return this.formatNumericValue(null==(ma=Ka)?void 0:ma.max,w.unit,y.unit,y.maximumFractionDigits,w.pointConnectionMethod)}:void 0;let Y;const X=void 0!==Ka&&null!==Ka?null!=(Y=B5(w.unit,y.unit,Ka.y))?Y:Ka.y:void 0;let W,Z;const ua=new tUe({getColor:()=>Ba.color,getDisplayValue:()=>{let ma;return this.formatNumericValue(null==(ma=Ka)?void 0:ma.y,w.unit,y.unit,y.maximumFractionDigits,w.pointConnectionMethod)},getIsInteracted:()=>
c.map(ma=>ma.seriesId).includes(Ba.seriesId),getName:()=>this.displayName(Ba,ra),drawnAs:Ba.drawnAs,rawValue:null!=(Z=null==(W=Ka)?void 0:W.y)?Z:void 0,scaledValue:X,pxValue:void 0!==Ka&&null!==Ka?r(Ka.y):void 0,shape:Ba.shape,stackingIndex:Ba.stackingIndex,getMinDisplayValue:v,getMaxDisplayValue:H});b?l.set(Ba.seriesId,ua):h.set(Ba.seriesId,ua)}}}this.timeshiftColumnLabel=n;for(const [w,y]of h){a=w;e=y;const B=l.get(a);B&&(e.getTimeshiftDisplayValue=()=>B.displayValue,l.delete(a))}return FUe(this,
Array.from(h.values()).concat(Array.from(l.values())),d)}getLabelTables(a){if(this.labelTablesCache&&this.seriesMetadataForLabelTablesCache&&this.seriesMetadataForLabelTablesCache.length===a.length){var b=!0;for(let c=0;c<this.seriesMetadataForLabelTablesCache.length;c++)if(this.seriesMetadataForLabelTablesCache[c]!==a[c]){b=!1;break}if(b)return this.labelTablesCache}this.labelTablesCache=b=this.isQuery?dme(a):eme(a,!1);this.seriesMetadataForLabelTablesCache=a;return b}getTranslationFunctions(){let a=
{};this.withLatest(({state:b})=>{const c=null==b?void 0:b.map;if(void 0!==c){let d,e;a=Object.assign({},null!=(e=null==(d=this.customTranslationFunctions)?void 0:d.getBoundGlobalFunctions())?e:{},{instanceNameOrId:f=>{let g,h,l;f=null!=(l=null==f?void 0:null==(g=f.resource)?void 0:null==(h=g.labels)?void 0:h.instance_id)?l:"";let n;return null!=(n=c.instance[f])?n:f}})}});return a}formatNumericValue(a,b,c,d,e){if(void 0!==a&&null!==a){let f;b=null!=(f=B5(b,c,a))?f:a;return C5(b,c,{maximumFractionDigits:d})}switch(e){case "gap_detection":return"-";
case "zero_fill":return C5(0,c);default:return"-"}}scheduleStateChangeHandler(a,b,c,d,e){this.queueService.scheduleChangeHandler({mergeKey:d,context:b,changes:a,scope:e,componentHandlerUsingContext:c})}ngOnDestroy(){super.ngOnDestroy();this.updateTimeout&&clearTimeout(this.updateTimeout)}};GUe.\u0275fac=function(a){return new (a||GUe)(_.A(_.fq),_.A(b9),_.A(_.el),_.A(y9),_.A(L8,8),_.A(a9,8),_.A(N9,8))};
GUe.\u0275cmp=_.q({type:GUe,selectors:[["ac-series-snapshot"]],inputs:{dataSource:"dataSource",hideThresholds:"hideThresholds",visibleRows:"visibleRows",customTranslationFunctions:"customTranslationFunctions",layout:"layout"},features:[_.wd],decls:1,vars:1,consts:[[4,"ngIf"],[1,"series-snapshot"],[1,"list"],[4,"ngFor","ngForOf"],["id","above-count",4,"ngIf"],["id","below-count",4,"ngIf"],[1,"subhead","subhead-spacing"],["class","subhead subhead-spacing",4,"ngIf"],[1,"key","bright"],[3,"color","drawnAs",
"shape"],[1,"name-wrapper","strong"],[1,"name"],["class","value current-value strong",4,"ngIf"],[1,"value","current-value","strong"],["id","above-count"],[1,"series-snapshot-fade","subhead-spacing"],[1,"name-wrapper",3,"ngClass"],[1,"name",3,"ngStyle"],["class","value current-value",3,"ngClass",4,"ngIf"],[1,"value","current-value",3,"ngClass"],["id","below-count"],["colspan","4",1,"series-snapshot-fade"]],template:function(a,b){a&1&&_.P(0,Nme,10,8,"ng-container",0);a&2&&_.C("ngIf",0<(null==b.streams?
null:b.streams.length))},dependencies:[_.qx,_.kl,_.ll,_.xD,Q9],styles:[".series-snapshot[_ngcontent-%COMP%]{color:#000;text-align:left;min-height:16px;font-size:12px}table[_ngcontent-%COMP%]{table-layout:auto;width:100%}table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:12px;font-weight:400;line-height:20px;max-width:300px}table[_ngcontent-%COMP%]   tbody.list.compact[_ngcontent-%COMP%]{font-size:11px;line-height:16px;letter-spacing:.25px}table[_ngcontent-%COMP%]   tbody.list.compact[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{opacity:.8;padding:0}table[_ngcontent-%COMP%]   tbody.list.compact[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.series-snapshot-fade[_ngcontent-%COMP%]{opacity:.5}table[_ngcontent-%COMP%]   tbody.list.compact[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   ac-key[_ngcontent-%COMP%]{position:relative;top:2px}table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr.dummy-row[_ngcontent-%COMP%]{position:absolute;visibility:hidden}table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{height:12px;opacity:.66;overflow:hidden;padding:1px 0;text-overflow:ellipsis;top:0;vertical-align:top}table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:not(:last-child){padding-right:20px}table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.strong[_ngcontent-%COMP%]{font-weight:500;opacity:1}table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.subhead-spacing[_ngcontent-%COMP%]{padding:8px 0 1px}table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.subhead[_ngcontent-%COMP%]{font-size:10px;line-height:16px}table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.key[_ngcontent-%COMP%]{opacity:.9;padding-right:4px}table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.key.bright[_ngcontent-%COMP%]{opacity:1}table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.key.dim[_ngcontent-%COMP%]{opacity:.3}table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.key[_ngcontent-%COMP%]   ac-key[_ngcontent-%COMP%]{position:relative;top:4px}table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.name-wrapper[_ngcontent-%COMP%]{max-width:250px;overflow-x:hidden;overflow-y:hidden;text-align:left}table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.name-wrapper[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;word-break:break-all;max-height:60px}table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.value[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   td.value2[_ngcontent-%COMP%]{text-align:right}table[_ngcontent-%COMP%]   tbody.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:not(:last-child){margin-right:12px}table[_ngcontent-%COMP%]   td.key[_ngcontent-%COMP%]{width:24px}\n/*# sourceMappingURL=ac_series_snapshot.css.map */"],
changeDetection:0});var S9=class{};S9.\u0275fac=function(a){return new (a||S9)};S9.\u0275mod=_.Bc({type:S9});S9.\u0275inj=_.tc({imports:[_.ql,R9]});
var Pme=_.zh(W5,a=>a.chart);
var HUe={chipType:8,elementType:2,showOnSingle:!0,muxCollapsedCombiner:1,showOnMuxExpanded:!0},IUe={chipType:10,elementType:2,showOnSingle:!0,muxCollapsedCombiner:1,showOnMuxExpanded:!0},JUe={chipType:1,elementType:1,showOnSingle:!1,muxCollapsedCombiner:3,showOnMuxExpanded:!0},KUe={chipType:2,elementType:4,showOnSingle:!0,muxCollapsedCombiner:2,showOnMuxExpanded:!0},LUe={chipType:3,elementType:3,showOnSingle:!0,muxCollapsedCombiner:1,showOnMuxExpanded:!0},MUe={chipType:4,elementType:2,showOnSingle:!0,
muxCollapsedCombiner:1,showOnMuxExpanded:!0},NUe={chipType:5,elementType:2,showOnSingle:!0,muxCollapsedCombiner:1,showOnMuxExpanded:!0},OUe={chipType:6,elementType:2,showOnSingle:!0,muxCollapsedCombiner:1,showOnMuxExpanded:!0},PUe={chipType:7,elementType:2,showOnSingle:!0,muxCollapsedCombiner:1,showOnMuxExpanded:!0},QUe={chipType:9,elementType:2,showOnSingle:!0,muxCollapsedCombiner:1,showOnMuxExpanded:!0},RUe={TOP:"Top",BOTTOM:"Bottom",DIRECTION_UNSPECIFIED:"Unspecified"},SUe={METHOD_MEAN:"Mean",
METHOD_MIN:"Min",METHOD_MAX:"Max",METHOD_SUM:"Sum",METHOD_LATEST:"Latest value",METHOD_CLUSTER_OUTLIER:"Outlier score",METHOD_UNSPECIFIED:"Unspecified"},TUe={ALIGN_NONE:"none",ALIGN_DELTA:"delta",ALIGN_RATE:"rate",ALIGN_INTERPOLATE:"interpolate",ALIGN_NEXT_OLDER:"next older",ALIGN_MIN:"min",ALIGN_MAX:"max",ALIGN_MEAN:"mean",ALIGN_COUNT:"count",ALIGN_SUM:"sum",ALIGN_STDDEV:"std. dev.",ALIGN_COUNT_TRUE:"count true",ALIGN_FRACTION_TRUE:"fraction true",ALIGN_PERCENTILE_99:"99th percentile",ALIGN_PERCENTILE_95:"95th percentile",
ALIGN_PERCENTILE_50:"50th percentile",ALIGN_PERCENTILE_05:"5th percentile"},UUe={REDUCE_NONE:"none",REDUCE_MEAN:"mean",REDUCE_MIN:"min",REDUCE_MAX:"max",REDUCE_SUM:"sum",REDUCE_STDDEV:"std. dev.",REDUCE_COUNT:"count",REDUCE_COUNT_TRUE:"count true",REDUCE_COUNT_FALSE:"count false",REDUCE_FRACTION_TRUE:"fraction true",REDUCE_PERCENTILE_99:"99th percentile",REDUCE_PERCENTILE_95:"95th percentile",REDUCE_PERCENTILE_50:"50th percentile",REDUCE_PERCENTILE_05:"5th percentile"},VUe={ALIGN_DELTA:"Number of {Counts} over {Alignment} window.",
ALIGN_RATE:"Mean {Counts}/s over {Alignment} window.",ALIGN_INTERPOLATE:"Interpolated measurement of {Metric}at the boundaries of {Alignment} windows.",ALIGN_NEXT_OLDER:"Last measurement of {Metric} in a {Alignment} window.",ALIGN_MIN:"Min of {Metric} over {Alignment} window.",ALIGN_MAX:"Max of {Metric} over {Alignment} window.",ALIGN_MEAN:"Mean of {Metric} over {Alignment} window.",ALIGN_SUM:"Sum of {Metric} over {Alignment} window.",ALIGN_STDDEV:"Std. dev. of {Metric} over {Alignment} window."},
WUe={ALIGN_DELTA:"Number of {Counts} over {Alignment} window",ALIGN_RATE:"Mean {Counts}/s over {Alignment} window.",ALIGN_MIN:"Min of number of {Counts} per {Delta}, over {Alignment} window.",ALIGN_MAX:"Max of number of {Counts} per {Delta}, over {Alignment} window.",ALIGN_MEAN:"Mean of number of {Counts} per {Delta}, over {Alignment} window.",ALIGN_STDDEV:"Std. dev. of number of {Counts} per {Delta}, over {Alignment} window."};(new _.vP).unit("{INTERVAL_TIME}");
var XUe=function(a){var b=_.fQ(a);b?a=b:(b=a.lastIndexOf("."),a=-1===b?a:a.substring(b+1));return a.replace(/_/g," ")},YUe=class{getChips(a,b,c,d,e,f=null){const g=[];a.forEach((h,l)=>{const n=[];let r,v,w,y,B,G,O,T,J;f&&(r=this.basicModeChip(f));h.filterInfo&&(v=this.metricChip(h.filterInfo,c&&c[l]));if(h.limitInfo){let R=0;e&&Object.values(e.byLayer.entities).forEach(ra=>{ra&&(R=Math.max(R,ra.bySeries.ids.length))});w=this.cappedChip(h.limitInfo,R)}h.filterInfo&&(y=this.filterChip(h.filterInfo,
d));h.groupByInfo&&(B=this.groupByChip(h.groupByInfo),G=this.secondaryChip(h.groupByInfo));h.alignmentInfo&&(O=this.alignmentChip(h.alignmentInfo,b&&b[l],c&&c[l]));h.topNInfo&&(T=this.outlierChip(h.topNInfo));h.timeSeriesQueryInfo&&(J=this.timeSeriesQueryChip(h.timeSeriesQueryInfo));r&&n.push(r);v&&n.push(v);w&&n.push(w);y&&n.push(y);B&&n.push(B);G&&n.push(G);O&&n.push(O);T&&n.push(T);J&&n.push(J);g.push(n)});return g}basicModeChip(a){return(a=jbe(a))?{chipDescriptor:HUe,text:a,tooltip:kJe[a]}:null}metricChip(a,
b){if(!a.metricType)return null;let c=a.metricType;a.resourceType&&(c=a.resourceType+" - "+c);return b&&b.displayName?{chipDescriptor:JUe,text:b.displayName,tooltip:c}:{chipDescriptor:JUe,text:a.metricType,tooltip:c}}cappedChip(a,b){return!a.direction||!a.numTimeSeries||!a.rankingMethod||b<a.numTimeSeries?null:{chipDescriptor:KUe,text:"i",tooltip:"Capped:  "+(RUe[a.direction]||a.direction)+" "+String(a.numTimeSeries)+" ranked by "+(SUe[a.rankingMethod].toLowerCase()||a.rankingMethod)}}filterChip(a,
b){if(!a.filters||!a.filters.length)return null;let c=0,d="";for(let f=0;f<a.filters.length;f++){const g=a.filters[f];let h=g.lhs,l=g.rhs.replace(/"/g,"");if("group.id"===h){let n,r;var e=null!=(r=null==(n=b)?void 0:n[l])?r:null;e&&(h="group",l=e)}else(e=_.fQ(h))&&(h=e);e="";e+=h;e="="===g.op?e+": ":e+g.op;e+=l;f<a.filters.length-1&&(e+="\n");d+=e;c++}return c?{chipDescriptor:LUe,text:String(c),tooltip:d}:null}groupByChip(a){if(a&&a.groups&&a.groups.length){var b=a.groups.map(XUe).join(", ");let c=
"by "+b;b="Group by: "+b;a.reducer&&(a=UUe[a.reducer]||a.reducer,c+=" ("+a+")",b+="\nAggregation: "+a);return{chipDescriptor:MUe,text:c,tooltip:b}}return!a||!a.reducer||a.groups&&a.groups.length?null:{chipDescriptor:MUe,text:UUe[a.reducer]||a.reducer,tooltip:"Aggregation"}}secondaryChip(a){if(a&&a.secondaryGroups&&a.secondaryGroups.length){var b=a.secondaryGroups.map(XUe).join(", ");let c="by "+b;b="Secondary Group by: "+b;a.secondaryReducer&&(a=UUe[a.secondaryReducer]||a.secondaryReducer,c+=" ("+
a+")",b+="\nSecondary Aggregation: "+a);return{chipDescriptor:NUe,text:c,tooltip:b}}return!a||!a.secondaryReducer||a.secondaryGroups&&a.secondaryGroups.length?null:{chipDescriptor:NUe,text:UUe[a.secondaryReducer]||a.secondaryReducer,tooltip:"Secondary Aggregation"}}formatTime(a){if(null===a||void 0===a)return null;const b=Math.floor(a/604800);a%=604800;const c=Math.floor(a/86400);a%=86400;const d=Math.floor(a/3600);a%=3600;const e=Math.floor(a/60);a%=60;let f="";b&&(f=f+(f?" ":"")+`${b} week`);c&&
(f=f+(f?" ":"")+`${c} day`);d&&(f=f+(f?" ":"")+`${d} hr`);e&&(f=f+(f?" ":"")+`${e} min`);a&&(f=f+(f?" ":"")+`${a} sec`);return f}alignmentChip(a,b,c){let d=null;var e=null;let f=null;var g=1;a&&a.aligner&&(e=TUe[a.aligner]||a.aligner);b&&b.granularity&&(d=this.formatTime(b.granularity),b.granularityFromUser&&b.granularity!==b.granularityFromUser&&60!==b.granularityFromUser&&(g=this.formatTime(b.granularityFromUser),null!==g&&(f="\n"+g+" was requested but can not be displayed."),g=2));b="";d&&(b&&
(b+=" "),b+=d+" interval");e&&(b&&(b+=" "),b+="("+e+")");let h="";h||!c||"GAUGE"!==c.metricKind&&"CUMULATIVE"!==c.metricKind||(h=a.aligner?VUe[a.aligner]:"Metric kind is "+c.metricKind+", no aligner.");!h&&c&&"DELTA"===c.metricKind&&(h=a.aligner?WUe[a.aligner]:"Metric kind is Delta, no aligner.");!h&&a&&a.aligner&&null!==e&&(a=["Alignment period"],d&&a.push(`: ${d}`),a.push(`\nAligner: ${e}`),h=a.join(""));e=h;d&&(e=e.replace("{Alignment}",d));c&&c.displayName?e=e.replace("{Metric}",c.displayName):
c&&c.type&&(e=e.replace("{Metric}",c.type));e=e.replace("{Delta}","sampling period");c&&c.unit&&(c=c.unit.replace("(rate)",""),"1"===c&&(c="count"),e=e.replace("{Counts}",c));f&&(e+=f);return{chipDescriptor:OUe,text:b,tooltip:e,status:g}}outlierChip(a){if(!a.direction||!a.numTimeSeries||!a.rankingMethod)return null;const b=RUe[a.direction]||a.direction;return{chipDescriptor:PUe,text:b+" "+String(a.numTimeSeries),tooltip:b+" "+String(a.numTimeSeries)+" ranked by "+(SUe[a.rankingMethod].toLowerCase()||
a.rankingMethod)}}timeSeriesQueryChip(a){return a.text?{chipDescriptor:IUe,text:"query",tooltip:a.text}:null}};
var ZUe=class{getDescriptorStream(a){if(!a||!a.filterInfo||!a.filterInfo.metricType)return new _.bg(null);const b=_.hO.getMetricDescriptor(a.filterInfo.metricType);return b?new _.bg(b):_.re(_.hO.getMetricDescriptorPromise(a.filterInfo.metricType)).pipe(_.yf(null))}};ZUe.\u0275fac=function(a){return new (a||ZUe)};ZUe.\u0275prov=_.m({token:ZUe,factory:ZUe.\u0275fac,providedIn:"root"});
var $Ue=[{cutoff:432E8,granularity:172800},{cutoff:3024E7,granularity:86400},{cutoff:15552E6,granularity:43200},{cutoff:6912E6,granularity:21600},{cutoff:19872E5,granularity:10800},{cutoff:5184E5,granularity:3600},{cutoff:828E5,granularity:300},{cutoff:66E5,granularity:60},{cutoff:0,granularity:10}],aVe=[{cutoff:432E8,granularity:172800},{cutoff:3024E7,granularity:86400},{cutoff:15552E6,granularity:43200},{cutoff:6912E6,granularity:21600},{cutoff:19872E5,granularity:10800},{cutoff:5184E5,granularity:3600},
{cutoff:828E5,granularity:300},{cutoff:0,granularity:60}],bVe=[{cutoff:432E8,granularity:4838400},{cutoff:3024E7,granularity:2419200},{cutoff:15552E6,granularity:1209600},{cutoff:6912E6,granularity:604800},{cutoff:19872E5,granularity:172800},{cutoff:5184E5,granularity:86400},{cutoff:828E5,granularity:7200},{cutoff:18E6,granularity:1800},{cutoff:12E5,granularity:300},{cutoff:0,granularity:60}],cVe=class{constructor(){_.DN.isWhitelisted("chart-two-year-retention")?this.granularityTableFine=$Ue:this.granularityTableFine=
aVe;this.granularityTableMap={[0]:this.granularityTableFine,[1]:bVe,[2]:this.granularityTableFine,[3]:this.granularityTableFine}}getGranularityInfoObjects(a,b){return a?a.map(c=>{const d={};let e=null;c.alignmentInfo&&(e=c.alignmentInfo.granularityFromUser,null!=e&&(d.granularityFromUser=e));let f=null;if(b){let g;f=this.granularityForDomain(b,null==(g=c.filterInfo)?void 0:g.plotType)}null!=f&&(d.granularityForDomain=f,d.granularity=null!=e?Math.max(f,e):f);return d}):null}granularityForDomain(a,
b){let c=this.granularityTableFine;b&&(c=this.granularityTableMap[b]||this.granularityTableFine);a=+a[1]-+a[0];for(const d of c)if(a>d.cutoff)return d.granularity;return c[c.length-1].granularity}};cVe.\u0275fac=function(a){return new (a||cVe)};cVe.\u0275prov=_.m({token:cVe,factory:cVe.\u0275fac,providedIn:"root"});
var dVe=class{getInfoObjects(a){if(null==a?0:a.dataSets.length){const b=[];for(const c of a.dataSets)b.push(this.getInfoObject(c));return b}return null}getInfoObject(a,b){const c=Rme(a);if(c)return{timeSeriesQueryInfo:{text:c},alignmentInfo:this.alignmentInfo(a,b)||void 0};const d={limitInfo:this.limitInfo()||void 0,filterInfo:this.filterInfo(a)||void 0,groupByInfo:this.groupByInfo(a)||void 0,alignmentInfo:this.alignmentInfo(a)||void 0,topNInfo:this.topNInfo(a)||void 0};Object.keys(d).forEach(e=>
{d[e]||delete d[e]});return d}limitInfo(){const a=_.CN(_.DN,"chart-server-stream-limit");return a?{numTimeSeries:a,direction:"TOP",rankingMethod:"METHOD_MEAN"}:null}filterInfo(a){const b=[];let c=null,d=null;const e=a.plotType;if(a.timeSeriesFilter){var f=a.timeSeriesFilter.filter;a=void 0;try{a=(new _.fO(f)).parsed}catch(n){}for(f=0;a&&f<a.length;){var g=a[f++],h=a[f++],l=a[f++];f++;g&&h&&l&&(g=g.toString(),h=h.toString(),l=l.toString(),"resource.type"===g?c=l.replace(/"/g,""):"metric.type"===g?
d=l.replace(/"/g,""):g.startsWith("select_")?d=g+l:b.push({lhs:g,op:h,rhs:l}))}}a=null;e&&(a=a||{},a.plotType=e);c&&(a=a||{},a.resourceType=c);d&&(a=a||{},a.metricType=d);b&&b.length&&(a=a||{},a.filters=b);return a}groupByInfo(a){let b=null,c=null,d=null;var e=null;if(a.timeSeriesFilter){a=a.timeSeriesFilter;var f;if(null==(f=a.aggregations)?0:f.length){f=a.aggregations[0];let n;c=null!=(n=f.crossSeriesReducer)?n:null;f.groupByFields&&(b=f.groupByFields);if(1<a.aggregations.length){e=a.aggregations[1];
e.groupByFields&&(d=e.groupByFields);var g;e=null!=(g=a.aggregations[1].crossSeriesReducer)?g:null}}else{a.groupByFields&&(b=a.groupByFields);let n;c=null!=(n=a.crossSeriesReducer)?n:null;a.secondaryGroupByFields&&(d=a.secondaryGroupByFields);let r;e=null!=(r=a.secondaryCrossSeriesReducer)?r:null}}g={};let h;if(null==(h=b)?0:h.length)g.groups=b;c&&"REDUCE_NONE"!==c&&(g.reducer=c);let l;if(null==(l=d)?0:l.length)g.secondaryGroups=d;e&&"REDUCE_NONE"!==e&&(g.secondaryReducer=e);return b&&b.length||c||
d&&d.length||e?g:null}alignmentInfo(a,b){let c=null,d=null;if(a.timeSeriesFilter){const e=a.timeSeriesFilter;let f;if(null==(f=e.aggregations)?0:f.length){let l;c=null!=(l=e.aggregations[0].perSeriesAligner)?l:null;let n;d=null!=(n=e.aggregations[0].alignmentPeriod)?n:null}else{let l;c=null!=(l=e.perSeriesAligner)?l:null}let g,h;d=null!=(h=null!=(g=e.minAlignmentPeriod)?g:d)?h:null}if(Rme(a)&&b){let e,f,g;d=null!=(g=null==(e=b.timingAnalysis)?void 0:null==(f=e.initialState)?void 0:f.queryPeriod)?
g:null}a={};c&&(a.aligner=c);d&&(a.granularityFromUser=+d.replace("s",""));return a}topNInfo(a){return a.timeSeriesFilter&&a.timeSeriesFilter.pickTimeSeriesFilter&&(a=a.timeSeriesFilter.pickTimeSeriesFilter,a.numTimeSeries&&a.direction&&a.rankingMethod&&"DIRECTION_UNSPECIFIED"!==a.direction&&"METHOD_UNSPECIFIED"!==a.rankingMethod)?{numTimeSeries:a.numTimeSeries,direction:a.direction,rankingMethod:a.rankingMethod}:null}};dVe.\u0275fac=function(a){return new (a||dVe)};
dVe.\u0275prov=_.m({token:dVe,factory:dVe.\u0275fac,providedIn:"root"});
var eVe=["container"],Wme=function(a,b,c){return{"subtitle-info-chip":a,"subtitle-warn-chip":b,"subtitle-error-chip":c}},fVe=[[["prefix-chips"]],[["postfix-chips"]]],Xme=function(a){switch(a.chipDescriptor.chipType){case 3:return f7.FilterChips;case 4:return f7.GroupByChips;case 5:return f7.SecondaryChips;case 6:return f7.AlignmentChips;case 7:return f7.OutlierChips;case 10:return f7.TimeSeriesQueryChips;default:return f7.SubtitleChips}},gVe=class{constructor(){this.chips=null;this.expanded=this.preserveWhitespace=
!1}isHeader(a){return 1===a.elementType}isFilter(a){return 3===a.elementType}isInfoChip(a){return 4===a.elementType}isWarnStatusChip(a){return a.status&&2===a.status}isErrorStatusChip(a){return a.status&&3===a.status}combineChips(a,b){if(0===a.length)return null;switch(a[0].chipDescriptor.muxCollapsedCombiner){case 3:return null;case 2:return a[0];case 1:if(b!==a.length)return null;for(b=1;b<a.length;b++)if(a[b].chipDescriptor.chipType!==a[0].chipDescriptor.chipType||a[b].status!==a[0].status||a[b].text!==
a[0].text||a[b].tooltip!==a[0].tooltip)return null;return a[0];default:return null}}collapsedChips(a){if(!a||0===a.length)return null;const b={};a.forEach(c=>{c.forEach(d=>{b[d.chipDescriptor.chipType]=b[d.chipDescriptor.chipType]||[];b[d.chipDescriptor.chipType].push(d)})});return Object.keys(b).map(c=>Number(c)).sort().map(c=>this.combineChips(b[c],a.length)).filter(c=>c)}get singleChipTooltipClass(){return this.preserveWhitespace?"ac-subtitle-tooltip preserve-whitespace":"ac-subtitle-tooltip"}getWidth(){return this.container.nativeElement.offsetWidth}};
gVe.\u0275fac=function(a){return new (a||gVe)};
gVe.\u0275cmp=_.q({type:gVe,selectors:[["ac-subtitle-view"]],viewQuery:function(a,b){a&1&&_.Oe(eVe,7);if(a&2){let c;_.Ne(c=_.Qe())&&(b.container=c.first)}},inputs:{chips:"chips",preserveWhitespace:"preserveWhitespace"},ngContentSelectors:["prefix-chips","postfix-chips"],decls:5,vars:3,consts:[[1,"subtitle-view-container"],["container",""],[4,"ngIf"],["class","subtitle-collapsible",4,"ngIf"],["class","subtitle-collapsible","style","height: 32px",4,"ngIf"],[4,"ngFor","ngForOf"],["class","subtitle-header",
"matTooltipClass","ac-subtitle-tooltip",3,"matTooltip",4,"ngIf"],["matTooltipClass","ac-subtitle-tooltip",1,"subtitle-header",3,"matTooltip"],[1,"tooltip-test-hook"],[1,"text-test-hook"],["disabled","",3,"matTooltip","ngClass","matTooltipClass","ve","veHover",4,"ngIf"],["disabled","",3,"matTooltip","ngClass","matTooltipClass","ve","veHover"],["class","icon subtitle-filter-icon","svgIcon","ac:filter_small",4,"ngIf"],["svgIcon","ac:filter_small",1,"icon","subtitle-filter-icon"],[1,"subtitle-collapsible"],
[1,"expanded-mux-div"],[1,"subtitle-down-chevron-div","chevron-test-hook",3,"click"],["svgIcon","ac:subtitle_down_chevron",1,"mat-24","icon","expanded-mux-chevron"],["class","subtitle-header","matTooltipClass","ac-subtitle-tooltip",3,"matTooltip","ve","veHover",4,"ngIf"],["matTooltipClass","ac-subtitle-tooltip",1,"subtitle-header",3,"matTooltip","ve","veHover"],["matTooltipClass","ac-subtitle-tooltip","disabled","",3,"ngClass","matTooltip","ve","veHover",4,"ngIf"],["matTooltipClass","ac-subtitle-tooltip",
"disabled","",3,"ngClass","matTooltip","ve","veHover"],["class","mat-18 icon subtitle-filter-icon","svgIcon","ac:filter_list",4,"ngIf"],["svgIcon","ac:filter_list",1,"mat-18","icon","subtitle-filter-icon"],[1,"subtitle-collapsible",2,"height","32px"],[1,"collapsed-mux-div"],[1,"subtitle-left-chevron-div","chevron-test-hook",3,"click"],["svgIcon","ac:subtitle_left_chevron",1,"mat-24","icon","collapsed-mux-chevron"]],template:function(a,b){a&1&&(_.Pd(fVe),_.E(0,"div",0,1),_.P(2,bne,2,1,"ng-container",
2),_.P(3,kne,6,1,"div",3),_.P(4,qne,8,2,"div",4),_.F());a&2&&(_.x(2),_.C("ngIf",b.chips&&1==b.chips.length),_.x(1),_.C("ngIf",b.chips&&1<b.chips.length&&b.expanded),_.x(1),_.C("ngIf",b.chips&&1!=b.chips.length&&!b.expanded))},dependencies:[_.Uu,_.wt,_.qx,_.kl,_.ll,A6,z6,_.vo,R7],styles:["mat-chip.mat-chip.mat-standard-chip.mat-chip-disabled[_ngcontent-%COMP%]{font-size:12px;font-weight:400;opacity:1}div.subtitle-header[_ngcontent-%COMP%]{font-size:12px;height:16px;line-height:16px;margin:10px 6px 6px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.subtitle-info-chip[_ngcontent-%COMP%]{height:18px;min-height:unset;line-height:12px;padding:1px 6px}.subtitle-filter-icon[_ngcontent-%COMP%]{padding-right:2px;height:18px;width:18px}div.expanded-mux-div[_ngcontent-%COMP%]{padding-bottom:10px;border:2px solid transparent;position:relative}div.expanded-mux-div[_ngcontent-%COMP%]   .expanded-mux-chevron[_ngcontent-%COMP%]{margin-top:8px}div.collapsed-mux-div[_ngcontent-%COMP%]{position:relative}.tooltip-test-hook[_ngcontent-%COMP%]{display:none}.subtitle-down-chevron-div[_ngcontent-%COMP%]{position:absolute;right:0;top:-2px}.subtitle-left-chevron-div[_ngcontent-%COMP%]{position:absolute;right:0;top:8px}[_nghost-%COMP%]     .subtitle-chip-row.subtitle-container{display:block;overflow:hidden}[_nghost-%COMP%]     .subtitle-chip-row .subtitle-view-container{display:inline-block}[_nghost-%COMP%]     .subtitle-chip-row .mat-chip-list-wrapper{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-flow:row nowrap;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-flow:row nowrap;flex-flow:row nowrap}[_nghost-%COMP%]     .subtitle-chip-row mat-chip{white-space:nowrap}\n/*# sourceMappingURL=ac_subtitle_style.css.map */"],
changeDetection:0});
var hVe=["container"],iVe=[[["mat-chip","prefix",""]],[["mat-chip","postfix",""]]],jVe=class extends e9{constructor(a,b,c,d,e,f,g,h){super(b,c);this.ngZone=d;this.infoTranslationService=e;this.descriptorService=f;this.granularityService=g;this.queryAnalysisService=h;this.subtitleHelper=new YUe;this.basicMode=null;this.showResponsiveInternal=!1;this.basicModeStream=new _.bg(null);this.checkOverflow=new _.tf;this.chipsOverflowing=new _.bg(!1);this.lastWidthMeasurement=this.lastChipMeasurement=this.lastMeasuredChips=
this.currentChips=null;this.showingCombined=!1;this.domainStream=this.scopeObservable.pipe(_.zf(n=>this.selectorService.getSelection(S8,n)),_.U(n=>n&&"ms_since_epoch"===n.unit&&null!==n.min&&null!==n.max?[new Date(n.min),new Date(n.max)]:void 0));a=this.scopeObservable.pipe(_.zf(n=>this.store.select(Cie(n))));const l=this.scopeObservable.pipe(_.zf(n=>this.store.select(Qme(n))));this.infoObjectsStream=a.pipe(_.zf(n=>null!=n&&n.dataSets.length?_.qe(n.dataSets.map(r=>{const v=Rme(r);return v?l.pipe(_.Ge(w=>
!!w),_.zf(w=>{let y;return JLe(this.queryAnalysisService,{originalQueryText:v,projectId:null!=(y=w.projectId)?y:"",addDrilldownAnnotation:!1})}),_.U(w=>this.infoTranslationService.getInfoObject(r,w))):_.S(this.infoTranslationService.getInfoObject(r))})):_.S(null)));this.groupIdToNameMapStream=this.scopeObservable.pipe(_.zf(n=>this.store.select(qje(n))),_.U(n=>n?n.group:null));this.timeSeriesStateStream=this.scopeObservable.pipe(_.zf(n=>this.store.select(aie(n))))}set showResponsive(a){this.showResponsiveInternal=
a;a||(this.chipsOverflowing.next(!1),this.lastWidthMeasurement=this.lastChipMeasurement=this.lastMeasuredChips=null)}get showResponsive(){return this.showResponsiveInternal}ngOnInit(){this.descriptorsStream=this.infoObjectsStream.pipe(_.zf(a=>a?_.qe(a.map(b=>this.allMetricDescriptorsStream?this.allMetricDescriptorsStream.pipe(_.U(c=>{let d;return null!=(d=c.find(e=>{let f;return e.type===(null==(f=b.filterInfo)?void 0:f.metricType)}))?d:null})):this.descriptorService.getDescriptorStream(b))):new _.bg(null)));
this.granularityStream=_.qe(this.infoObjectsStream,this.domainStream,this.descriptorsStream).pipe(_.U(([a,b])=>this.granularityService.getGranularityInfoObjects(a,b)));this.chipsStream=_.qe([this.infoObjectsStream,this.descriptorsStream,this.granularityStream,this.groupIdToNameMapStream,this.timeSeriesStateStream,this.basicModeStream]).pipe(_.bka(1E3),_.Ef(()=>{this.chipsOverflowing.next(!1)}),_.U(([a,b,c,d,e,f])=>a?this.subtitleHelper.getChips(a,c,b,d,e,f):null));this.responsiveChipsStream=_.qe([this.chipsStream,
this.chipsOverflowing.pipe(_.Ze())]).pipe(_.U(([a,b])=>{this.currentChips=a;if(!this.showResponsive||!a)return a;var c=1<a.length;this.showingCombined=b=b||c;if(b){if(b=a){b=[];const e=(c=1<a.length)?"    ":"";for(d of a){a=[];const f=[];for(const g of d){const h=`${g.text} (${g.tooltip.replace(/\r\n|\n|\r/gm,"; ")})`;1===g.chipDescriptor.elementType?c&&a.push(h):f.push(e+h)}b.push([...a,...f].join("\n"))}var d=b.join("\n\n");b=[[{chipDescriptor:QUe,text:"Configuration",tooltip:d}]]}d=b}else d=a;
return d}),Y5(this.ngZone));this.checkOverflow.pipe(_.Af(this.destroyed),_.We(100)).subscribe(()=>{const a=this.lastWidthMeasurement||this.container.nativeElement.offsetWidth;this.lastWidthMeasurement=a;if(this.currentChips===this.lastMeasuredChips&&null!==this.lastChipMeasurement)a<this.lastChipMeasurement?this.chipsOverflowing.next(!0):this.chipsOverflowing.next(!1);else if(!this.showingCombined){const b=this.subtitleView.getWidth();this.lastMeasuredChips=this.currentChips;this.lastChipMeasurement=
b;this.chipsOverflowing.next(b>a)}})}ngOnChanges(a){super.ngOnChanges(a);a.basicMode&&this.basicModeStream.next(this.basicMode)}ngAfterViewInit(){"function"===typeof window.ResizeObserver?(this.resizeObserver=new ResizeObserver(()=>{this.lastWidthMeasurement=null}),this.resizeObserver.observe(this.container.nativeElement)):this.resizeSensor=new HKe(this.container.nativeElement,()=>{this.lastWidthMeasurement=null})}ngOnDestroy(){super.ngOnDestroy();this.resizeObserver&&this.resizeObserver.disconnect();
this.resizeSensor&&this.resizeSensor.detach(()=>{})}ngAfterViewChecked(){pLe(this)}get subtitleContainerClasses(){const a=["subtitle-container"];this.showResponsive&&a.push("subtitle-chip-row");return a}};jVe.\u0275fac=function(a){return new (a||jVe)(_.A(_.ad),_.A(_.fq),_.A(b9),_.A(_.Jf),_.A(dVe),_.A(ZUe),_.A(cVe),_.A(n8))};
jVe.\u0275cmp=_.q({type:jVe,selectors:[["cola-subtitle"]],viewQuery:function(a,b){a&1&&(_.Oe(hVe,7),_.Oe(gVe,7));if(a&2){let c;_.Ne(c=_.Qe())&&(b.container=c.first);_.Ne(c=_.Qe())&&(b.subtitleView=c.first)}},inputs:{subtitleHelper:"subtitleHelper",basicMode:"basicMode",allMetricDescriptorsStream:"allMetricDescriptorsStream",showResponsive:"showResponsive"},features:[_.wd,_.Gc],ngContentSelectors:["mat-chip[prefix]","mat-chip[postfix]"],decls:8,vars:5,consts:[[3,"ngClass"],["container",""],[1,"subtitle",
3,"chips","preserveWhitespace"],["ngProjectAs","prefix-chips",5,["prefix-chips"]],["ngProjectAs","postfix-chips",5,["postfix-chips"]]],template:function(a,b){a&1&&(_.Pd(iVe),_.E(0,"div",0,1)(2,"ac-subtitle-view",2),_.Zd(3,"async"),_.Dd(4,3),_.Qd(5),_.Ed(),_.Dd(6,4),_.Qd(7,1),_.Ed(),_.F()());a&2&&(_.C("ngClass",b.subtitleContainerClasses),_.x(2),_.C("chips",_.$d(3,3,b.responsiveChipsStream))("preserveWhitespace",b.showResponsive))},dependencies:[_.qx,gVe,_.pl],styles:["mat-chip.mat-chip.mat-standard-chip.mat-chip-disabled[_ngcontent-%COMP%]{font-size:12px;font-weight:400;opacity:1}div.subtitle-header[_ngcontent-%COMP%]{font-size:12px;height:16px;line-height:16px;margin:10px 6px 6px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.subtitle-info-chip[_ngcontent-%COMP%]{height:18px;min-height:unset;line-height:12px;padding:1px 6px}.subtitle-filter-icon[_ngcontent-%COMP%]{padding-right:2px;height:18px;width:18px}div.expanded-mux-div[_ngcontent-%COMP%]{padding-bottom:10px;border:2px solid transparent;position:relative}div.expanded-mux-div[_ngcontent-%COMP%]   .expanded-mux-chevron[_ngcontent-%COMP%]{margin-top:8px}div.collapsed-mux-div[_ngcontent-%COMP%]{position:relative}.tooltip-test-hook[_ngcontent-%COMP%]{display:none}.subtitle-down-chevron-div[_ngcontent-%COMP%]{position:absolute;right:0;top:-2px}.subtitle-left-chevron-div[_ngcontent-%COMP%]{position:absolute;right:0;top:8px}[_nghost-%COMP%]     .subtitle-chip-row.subtitle-container{display:block;overflow:hidden}[_nghost-%COMP%]     .subtitle-chip-row .subtitle-view-container{display:inline-block}[_nghost-%COMP%]     .subtitle-chip-row .mat-chip-list-wrapper{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-flow:row nowrap;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-flow:row nowrap;flex-flow:row nowrap}[_nghost-%COMP%]     .subtitle-chip-row mat-chip{white-space:nowrap}\n/*# sourceMappingURL=ac_subtitle_style.css.map */"]});
var T9=class{};T9.\u0275fac=function(a){return new (a||T9)};T9.\u0275mod=_.Bc({type:T9});T9.\u0275inj=_.tc({imports:[_.Vu,_.ql,B6,_.Do,S7]});
var kVe=["right","left"],mVe=function(a,b){let c=[];b&&Object.values(b.byLayer.entities).forEach(d=>{c=c.concat(lVe(a,d))});return c},nVe=function(a){let b=[];a&&Object.values(a.byLayer.entities).forEach(c=>{b=b.concat((null==c?void 0:c.selectedSeries.map(({seriesId:d})=>d))||[])});return b},oVe=function(a){if(a.streams){var b=a.streams.slice();b.sort(a.sortFunc);a.streams=b}},pVe=function(a,b){let c,d,e,f;const g=null!=(f=null==(d=(null==(c=b.state)?0:c.lastInteraction)?Sle(b.scope,b.state.lastInteraction):
null)?void 0:null==(e=d.hover)?void 0:e.x)?f:null;let h;b=null==(h=b.state)?void 0:h.xAxisPin;a.dataSource=b&&null!==b.xPos&&b.locked?"time_pin":null!==g?"hover":"most_recent"},lVe=function(a,b){if(!b)return[];switch(a.dataSource){case "time_pin":case "click":case "most_recent":return[];case "hover":return b.hoveredSeries.map(({seriesId:c})=>c);default:_.Wb(a.dataSource,"unknown data source")}},qVe=function(a,b){if(a.hideThresholds&&6===b.drawnAs)return!0;if(!a.filterByColumnValue||!a.filterByColumnValue.column)return!1;
let c;return(null==(c=b.dataSeriesMetadata)?0:c.metadata)?b.dataSeriesMetadata.metadata[a.filterByColumnValue.column]!==a.filterByColumnValue.value:!0},rVe=function(a){var b;let c;a=a.getLabelTables(null!=(c=null==(b=a.streams)?void 0:b.map(d=>{let e;return null!=(e=d.dataSeriesMetadata)?e:null}))?c:[]);if(!a)return null;b="";for(const d of a)if(d)for(const e of d)if(e.isDefault){let f;b+=(null!=(f=e.template)?f:"")+'" "'}return b?new _.XN(b):null},sVe=class extends e9{constructor(a,b,c,d,e,f,g){super(a,
b,f,g);this.cdRef=c;this.elementRef=d;this.queueService=e;this.dataSource="most_recent";this.hideThresholds=!1;this.valueName="Value";this.valueFormatter=C5;this.showAllColumnsByDefault=!1;this.streamsInternal=null;this.streamsSubject=new _.bg(this.streamsInternal);this.streamsObservable=this.streamsSubject.pipe(_.Ye(0),_.yf(null));this.customTemplate=this.labelTablesCacheInvalid=this.multipleLayers=this.isQuery=!1;this.statsModeSummaryColumnLabel=this.timeshiftName="";this.sortFunc=rne();this.xAxisLookup=
{ids:[],entities:{}};this.seriesMetadataForLabelTablesCache=this.labelTablesCache=null;this.updateTriggerSubject=new _.tf;this.lastSeriesSelectedInLegend=null;this.setup({});this.updateTriggerSubject.pipe(_.Af(this.destroyed),k5(250,_.Ae)).subscribe(()=>{this.update()});this.store.pipe(_.Eh(Q8),_.Af(this.destroyed)).subscribe(h=>{this.xAxisLookup=h});this.scopeObservable.pipe(_.zf(h=>this.store.pipe(_.Eh(die(h))))).subscribe(h=>{this.labelStats=h;this.labelTablesCacheInvalid=!0})}get streams(){return this.streamsInternal}set streams(a){this.streamsInternal=
a;this.streamsSubject.next(a)}get timeKey(){switch(this.dataSource){case "time_pin":return 0;case "click":return 2;case "hover":return 1;case "most_recent":return 3;default:_.Wb(this.dataSource,"unknown data source")}}bringLastSelectedIntoView(){}ngOnInit(){const a=kVe.map(b=>this.scopeObservable.pipe(_.zf(c=>this.selectorService.getSelection(V8,Object.assign({},c,{yAxisId:b}))),_.Ge(c=>!!c),_.yf(null),_.qf(),_.U(Q5),_.Ge(c=>K5(c))));_.qe(a).pipe(_.Af(this.destroyed)).subscribe(()=>{this.updateTriggerSubject.next()})}ngOnChanges(a){super.ngOnChanges(a);
"legendTemplate"in a&&this.update();"filterByColumnValue"in a&&this.update()}setSortFunc(a){this.sortFunc=a;this.update()}update(){const a=kVe.map(b=>this.scopeObservable.pipe(_.zf(c=>this.selectorService.getSelection(V8,Object.assign({},c,{yAxisId:b})))));_.qe(a).pipe(_.af(1)).subscribe(b=>{const c=new Map;for(let d=0;d<kVe.length;d++)c.set(kVe[d],b[d]);this.withLatest(({scope:d,state:e})=>{if(d&&e&&e.timeSeries){var f=d.layerId,g=e.seriesSelection,h=e.timeSeries;e=e.resize;d=mVe(this,g);g=nVe(g);
f=this.getRelevantLayers(h,f);this.multipleLayers!==1<f.length&&(this.multipleLayers=!this.multipleLayers,this.labelTablesCacheInvalid=!0);h=new Map;for(const n of kVe){var l=c.get(n);if(l&&e){l=L5(l,e.margins.top,e.height-e.margins.bottom,l.unit);let r;h.set(n,null!=(r=l)?r:null)}else h.set(n,null)}this.streams=this.buildStreams(f,d,g,c,h);oVe(this);this.cdRef.markForCheck()}})})}onScopeChange(){this.update()}onLastInteractionChange(a){pVe(this,a)}onMapChange(){this.update()}onSeriesSelectionChange(a,
b){Nhe(a,b.scope.layerId)&&this.updateTriggerSubject.next()}onChartSpecChange(a){let b,c;a=null==(b=a.currentValue)?void 0:null==(c=b.dataSets)?void 0:c[0];this.isQuery=void 0!==(null==a?void 0:a.timeSeriesQuery)||void 0!==(null==a?void 0:a.prometheusQuery);this.labelTablesCacheInvalid=!0;this.updateTriggerSubject.next()}onTimeSeriesChange(){this.updateTriggerSubject.next()}onXAxisPinChange(a,b){pVe(this,b);this.updateTriggerSubject.next()}getRelevantLayers(a,b){return Object.values(a.byLayer.entities).filter(c=>
!(!c||1!==c.valueType||b&&c.layerId!==b)).filter(c=>!Object.values(c.bySeries.entities).every(d=>!d||qVe(this,d)))}getTranslationFunctions(){let a={};this.withLatest(({state:b})=>{if(null==b?0:b.map){let c,d;a=Object.assign({},null!=(d=null==(c=this.customTranslationFunctions)?void 0:c.getBoundGlobalFunctions())?d:{},{instanceNameOrId:e=>{let f,g,h;e=null!=(h=null==e?void 0:null==(f=e.resource)?void 0:null==(g=f.labels)?void 0:g.instance_id)?h:"";let l;return null!=(l=b.map.instance[e])?l:e},getName:e=>
{let f;return null!=(f=e.name)?f:""}})}});return a}buildStreams(a,b,c,d,e){const f=new Map,g=new Map;this.customTemplate=!!this.legendTemplate;let h="",l="";for(const v of a){if(2===v.valueType)continue;const w=d.get(v.yAxisId);if(!w)continue;a=e.get(v.yAxisId);let y,B,G,O,T,J;var n=null==(G=this.xAxisLookup.entities[d6(null!=(T=null==(y=this.scope)?void 0:y.chartGroupId)?T:"",null!=(J=null==(B=this.scope)?void 0:B.chartId)?J:"",v.xAxisId)])?void 0:null==(O=G.relativeTo)?void 0:O.shift;const R=!!n;
n=n?Mke(n):"";if(""===h)h=n;else if(""!==n&&h!==n)throw Error("Cl");v.legendTemplate&&(this.customTemplate=!0);n=this.legendTemplate&&new _.XN(this.legendTemplate)||v.legendTemplate&&new _.XN(v.legendTemplate)||rVe(this);for(const ra of Object.values(v.bySeries.entities)){if(!ra||qVe(this,ra))continue;null===ra.statsModeSummaryValue||void 0===ra.statsModeSummaryValue||l||(l="All Values");const Ba=ra.legendTemplate&&new _.XN(ra.legendTemplate)||n;var r=b.includes(ra.seriesId);const Ka=c.includes(ra.seriesId),
Va=ra.atTimeKey[this.timeKey],cb=void 0!==Va&&null!==Va&&"number"===typeof Va.y?B5(v.unit,w.unit,Va.y):null;let H,Y;r=new pUe({seriesId:ra.seriesId,color:ra.color,shape:ra.shape,drawnAs:ra.drawnAs,dataSeriesMetadata:ra.dataSeriesMetadata,getDisplayValue:()=>this.formatNumericValue(ra,v.unit,w.unit,w.maximumFractionDigits,v.pointConnectionMethod),getStatsModeSummaryValue:()=>{a:{var X=ra.statsModeSummaryValue;var W=w.unit;var Z=w.maximumFractionDigits;if(void 0!==X&&null!==X&&(X=B5(v.unit,W,X),null!==
X)){W=this.valueFormatter(X,W,{maximumFractionDigits:Z});break a}W="-"}return W},isInteracted:r,isSelected:Ka,getColumnIds:()=>[],getLabels:()=>[],getName:()=>{let X;return ra.dataSeriesMetadata&&(null==(X=Ba)?void 0:X.format(ra.dataSeriesMetadata,this.getTranslationFunctions()))||ra.name||ra.seriesId},rawValue:null!=(Y=null==(H=Va)?void 0:H.y)?Y:void 0,unit:v.unit,pxValue:"number"===typeof cb&&a?a(cb):void 0,setHovered:X=>{X=X?[{seriesId:ra.seriesId}]:[];let W,Z;this.store.dispatch(d9({chartId:null!=
(Z=null==(W=this.scope)?void 0:W.chartId)?Z:"",layerId:v.layerId,series:X}))},setSelected:X=>{if(X){this.lastSeriesSelectedInLegend=ra.seriesId;let W,Z;this.store.dispatch(IPe({chartId:null!=(Z=null==(W=this.scope)?void 0:W.chartId)?Z:"",layerId:v.layerId,series:{seriesId:ra.seriesId}}))}else{let W,Z;this.store.dispatch(JPe({chartId:null!=(Z=null==(W=this.scope)?void 0:W.chartId)?Z:"",layerId:v.layerId,series:{seriesId:ra.seriesId}}))}}});R?g.set(ra.seriesId,r):f.set(ra.seriesId,r)}}this.timeshiftName=
h;this.statsModeSummaryColumnLabel=l;for(const [v,w]of f)if(b=v,c=w,d=g.get(b))c.timeshiftValue=d.displayValue,g.delete(b);return Array.from(f.values()).concat(Array.from(g.values()))}formatNumericValue(a,b,c,d,e){a=a.atTimeKey[this.timeKey];if(void 0!==a&&null!==a)return b=B5(b,c,a.y)||0,this.valueFormatter(b,c,{maximumFractionDigits:d,rawValue:a.y});switch(e){case "gap_detection":return"-";case "zero_fill":return"0";default:return""}}getLabelTables(a){if(!this.labelTablesCacheInvalid&&this.labelTablesCache&&
this.seriesMetadataForLabelTablesCache&&this.seriesMetadataForLabelTablesCache.length===a.length){var b=!0;for(var c=0;c<this.seriesMetadataForLabelTablesCache.length;c++)if(this.seriesMetadataForLabelTablesCache[c]!==a[c]){b=!1;break}if(b)return this.labelTablesCache}b=this.customTemplate?bme():this.isQuery?dme(a):eme(a,this.multipleLayers);if(this.showAllColumnsByDefault&&b)for(var d of b)for(var e of d)this.filterByColumnValue&&this.filterByColumnValue.column===e.title||(e.isDefault=!0);if(b&&
this.multipleLayers&&this.labelStats){var f;d=this.labelStats;e="";1<d.metric&&(e=d.metric>d.shortMetric?e+'${metric.type}" "':e+'${metricDisplayName()}" "');1<d.aligner&&(e+='${requestParams.aggregation\\.perSeriesAligner}" "');1<d.primaryReducer&&(e+='${requestParams.aggregation\\.crossSeriesReducer}" "');1<d.secondaryReducer&&(e+='${requestParams.secondaryAggregation\\.crossSeriesReducer}" "');if(d.filter)for(f of Object.keys(d.filter)){c=d.filter[f];const g=c.count;for(const h of Object.keys(c.entries)){const l=
c.entries[h];if(l.count!==g||1!==l.set.size)e+="${requestParams.filterTokens."+h+".key}${requestParams.filterTokens."+h+".op}${requestParams.filterTokens."+h+'.value}" "'}}if(f=e?{isDefault:!0,title:"Metric",template:e,tokenizer:new _.XN(e)}:null)for(const g of b)g.unshift(f)}this.labelTablesCache=b;this.labelTablesCacheInvalid=!1;this.seriesMetadataForLabelTablesCache=a;return b}scheduleStateChangeHandler(a,b,c,d,e){this.queueService.scheduleChangeHandler({changes:a,context:b,scope:e,componentHandlerUsingContext:c,
mergeKey:d})}hover(a){let b;null==(b=a.setHovered)||b.call(a,!0)}clearHover(a){let b;null==(b=a.setHovered)||b.call(a,!1)}};sVe.\u0275fac=function(a){return new (a||sVe)(_.A(_.fq),_.A(b9),_.A(_.el),_.A(_.ad),_.A(y9),_.A(L8,8),_.A(a9,8))};
sVe.\u0275dir=_.q({type:sVe,inputs:{hideThresholds:"hideThresholds",valueName:"valueName",valueFormatter:"valueFormatter",filterByColumnValue:"filterByColumnValue",showAllColumnsByDefault:"showAllColumnsByDefault",customTranslationFunctions:"customTranslationFunctions",legendTemplate:"legendTemplate"},features:[_.wd,_.Gc]});
var tVe=function(a){return{scrollable:a}},uVe=function(){return[]},vVe=0,wVe=class extends sVe{constructor(a,b,c,d,e,f,g){super(a,b,c,d,e,f,g);this.cdRef=c;this.elementRef=d;this.ve={ChartLegendPane:f7.ChartLegendPane};this.valueLabel="Value: ";this.inlineLegendDescribedBy="Name and value for each data series. Values listed are usually the most recent values for the data series. When using keyboard navigation on the chart, values listed are the values as of the focused time.";this.describedById=`ac-inline-legend-${vVe++}-describedby`;
this.inlineLegendLabel="Legend for nearby chart";this.enableScrolling=!1}set chartTitle(a){this.inlineLegendLabel='Legend for chart, "'+a+'"'}};wVe.\u0275fac=function(a){return new (a||wVe)(_.A(_.fq),_.A(b9),_.A(_.el),_.A(_.ad),_.A(y9),_.A(L8,8),_.A(a9,8))};
wVe.\u0275cmp=_.q({type:wVe,selectors:[["ac-inline-legend"],["cola-inline-legend"]],inputs:{enableScrolling:"enableScrolling",chartTitle:"chartTitle"},features:[_.wd],decls:5,vars:12,consts:[["role","list",1,"ac-inline-legend",3,"ve","ngClass"],["class","ac-inline-legend-items","role","listitem",4,"ngFor","ngForOf"],[1,"ac-screen-reader-only-content"],["role","listitem",1,"ac-inline-legend-items"],[1,"ac-inline-legend-item",3,"ngStyle","mouseenter","mouseleave"],[1,"ac-legend-label"],[3,"color","drawnAs",
"shape"],[4,"ngIf"],[1,"ac-legend-value"]],template:function(a,b){a&1&&(_.E(0,"div",0),_.P(1,wne,10,8,"div",1),_.Zd(2,"async"),_.F(),_.E(3,"p",2),_.Q(4),_.F());a&2&&(_.C("ve",b.ve.ChartLegendPane)("ngClass",_.Yd(9,tVe,b.enableScrolling)),_.zd("aria-label",b.inlineLegendLabel)("aria-describedby",b.describedById),_.x(1),_.C("ngForOf",_.$d(2,7,b.streamsObservable)||_.Xd(11,uVe)),_.x(2),_.zd("id",b.describedById),_.x(1),_.Ud(b.inlineLegendDescribedBy))},dependencies:[Q9,_.qx,_.kl,_.ll,_.xD,_.wt,_.pl],
styles:[".ac-screen-reader-only-content[_ngcontent-%COMP%]{clip:rect(1px,1px,1px,1px);height:1px;margin:0;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px;z-index:-1000}.ac-a11y-focus-within[_ngcontent-%COMP%]:focus-within, .ac-a11y-focusable[_ngcontent-%COMP%]:focus, .ac-a11y-focused[_ngcontent-%COMP%], .ac-a11y-keyboard-focusable.cdk-keyboard-focused[_ngcontent-%COMP%]{outline:3px solid #3367d6;outline-offset:-3px}.ac-a11y-keyboard-focusable[_ngcontent-%COMP%]{outline:none}.scrollable[_ngcontent-%COMP%]{overflow-y:auto}.ac-inline-legend[_ngcontent-%COMP%]{display:inline-block;height:100%}.ac-inline-legend[_ngcontent-%COMP%]   .ac-inline-legend-items[_ngcontent-%COMP%]{display:inline-block}.ac-inline-legend[_ngcontent-%COMP%]   .ac-inline-legend-items[_ngcontent-%COMP%]   .ac-inline-legend-item[_ngcontent-%COMP%]{-moz-box-sizing:content-box;box-sizing:content-box;cursor:pointer;display:inline-block;height:12px;margin-right:6px;padding:4px 6px}.ac-inline-legend[_ngcontent-%COMP%]   .ac-inline-legend-items[_ngcontent-%COMP%]   .ac-inline-legend-item[_ngcontent-%COMP%]   ac-key[_ngcontent-%COMP%]{display:inline-block;margin-right:6px}.ac-inline-legend[_ngcontent-%COMP%]   .ac-inline-legend-items[_ngcontent-%COMP%]   .ac-inline-legend-item[_ngcontent-%COMP%]   .ac-legend-value[_ngcontent-%COMP%]{margin:0 5px;min-width:5em;text-overflow:ellipsis;white-space:nowrap}.ac-inline-legend[_ngcontent-%COMP%]   .ac-inline-legend-items[_ngcontent-%COMP%]   .ac-inline-legend-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;height:12px}\n/*# sourceMappingURL=ac_inline_legend_style.css.map */"],
changeDetection:0});
var xVe=["matSelect"],yVe=class{constructor(){this.ve=f7;this.VALUE_COLUMN_UNIQUE_ID=-1;this.TIMESHIFT_COLUMN_UNIQUE_ID=-2;this.selectedColumnsChanged=new _.$k;this.columnsModel=[]}ngOnChanges(a){if(a.labelsModel){a=a.labelsModel.previousValue;const b=this.labelsModel.selectableColumns;a&&zne(b,a.selectableColumns)||(this.columnsModel=(a=this.labelsModel.selectedColumns)?[-1,-2].concat(...a.map(c=>c.uniqueId)):[-1,-2])}}valueChanged(a){this.columnsModel=a;let b;this.labelsModel.selectedColumns=(null==
(b=this.labelsModel.selectableColumns)?void 0:b.filter(c=>c.uniqueId&&-1!==a.indexOf(c.uniqueId)))||[];this.selectedColumnsChanged.emit()}};yVe.\u0275fac=function(a){return new (a||yVe)};
yVe.\u0275cmp=_.q({type:yVe,selectors:[["ac-column-selector"]],viewQuery:function(a,b){a&1&&_.Oe(xVe,5);if(a&2){let c;_.Ne(c=_.Qe())&&(b.matSelect=c.first)}},inputs:{labelsModel:"labelsModel",timeshiftName:"timeshiftName",valueName:"valueName"},outputs:{selectedColumnsChanged:"selectedColumnsChanged"},features:[_.Gc],decls:9,vars:9,consts:function(){return[[1,"ac-legend-column-selector-root"],["multiple","","aria-label","Legend columns","matTooltip","Legend columns",1,"ac-legend-column-selector-mat-select",
3,"value","panelClass","ve","valueChange"],["matSelect",""],[3,"ve","veClick"],["svgIcon","ac:view_column","aria-label","Open legend columns selector",1,"ac-column-selector-icon"],["disabled","true",3,"value",4,"ngIf"],["disabled","true",3,"value"]," \ufffd0\ufffd [Required] ",[3,"value","ve","veClick",4,"ngFor","ngForOf"]," \ufffd0\ufffd [Required] ",[3,"value","ve","veClick"]]},template:function(a,b){a&1&&(_.E(0,"div",0)(1,"mat-select",1,2),_.L("valueChange",function(c){return b.valueChanged(c)}),
_.E(3,"mat-select-trigger",3),_.I(4,"mat-icon",4),_.F(),_.P(5,xne,2,2,"mat-option",5),_.E(6,"mat-option",6),_.K(7,7),_.F(),_.P(8,yne,2,4,"mat-option",8),_.F()());a&2&&(_.x(1),_.C("value",b.columnsModel)("panelClass","ac-legend-column-selector-panel")("ve",b.ve.ChartLegendMenu),_.x(2),_.C("ve",b.ve.ColumnMenuToggle)("veClick",!0),_.x(2),_.C("ngIf",b.timeshiftName),_.x(1),_.C("value",b.VALUE_COLUMN_UNIQUE_ID),_.x(1),_.Kd(b.valueName),_.Ld(7),_.x(1),_.C("ngForOf",b.labelsModel.selectableColumns))},dependencies:[_.kl,
_.ll,_.vo,U7,T7,_.zy,R7,_.wt],styles:[".ac-screen-reader-only-content{clip:rect(1px,1px,1px,1px);height:1px;margin:0;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px;z-index:-1000}.ac-a11y-focus-within:focus-within,.ac-a11y-focusable:focus,.ac-a11y-focused,.ac-a11y-keyboard-focusable.cdk-keyboard-focused{outline:3px solid #3367d6;outline-offset:-3px}.ac-a11y-keyboard-focusable{outline:none}div.ac-legend-column-selector-root{position:absolute;z-index:1;top:1px;right:8px;height:40px;width:40px}.ac-column-selector-icon{border-radius:50%;-moz-box-sizing:border-box;box-sizing:border-box;height:32px;margin-top:4px;margin-left:4px;padding:4px;width:32px;fill:#353535}.ac-column-selector-icon:hover{background-color:rgba(0,0,0,.1)}.mat-select.ac-legend-column-selector-mat-select .mat-select-trigger{display:block;position:static;height:100%}.mat-select.ac-legend-column-selector-mat-select .mat-select-trigger .mat-select-value{max-width:unset;width:0}.mat-select.ac-legend-column-selector-mat-select .mat-select-arrow-wrapper{display:none}.mat-select.ac-legend-column-selector-mat-select :focus{outline:3px solid #3367d6;outline-offset:-3px}.ac-legend-column-selector-panel{margin-top:44px;max-width:448px;min-width:156px}.ac-legend-column-selector-panel mat-option.mat-option{height:28px}\n/*# sourceMappingURL=ac_column_selector_style.css.map */"],
encapsulation:2,changeDetection:0});
var zVe=["valueHeader"],Ane=function(a){return{hidden:a}},One=function(a,b){return{transform:a,width:b}},Une=function(a){return{transform:a}},AVe={category:"",id:null,direction:null},Lne=function(a,b){return a.isLabelSortColumnAscending(b)?"ascending":a.isLabelSortColumnDescending(b)?"descending":"none"},BVe=function(a){return 2===a.currentSortColumn.id&&0<(a.currentSortColumn.direction||0)},CVe=function(a){return 2===a.currentSortColumn.id&&0>(a.currentSortColumn.direction||0)},DVe=class{constructor(a,
b,c){this.focusMonitor=a;this.ngZone=b;this.cdr=c;this.columnKeys=[];this.valueColumnWidth=80;this.statsModeSummaryColumnLabel="";this.xAxisPinEnabled=!0;this.defaultSortingColumn="";this.defaultSortingDirection=null;this.streamActions=[];this.sortFunc=new _.$k;this.setAndSnapXAxisPin=new _.$k;this.currentSortColumn=AVe;this.hoveredColumn=null;this.ve=f7;this.sortBySelectedTooltip="Sort by selected";this.streamActionsMenuTooltip="Actions";this.isXAxisPinSet=!0;this.prevSortColumn=AVe;this.destroyed=
new _.tf}ngAfterViewInit(){this.focusMonitor.monitor(this.valueHeader,!0).subscribe(()=>{this.ngZone.run(()=>{this.cdr.markForCheck()})})}ngOnInit(){"VALUE"===this.defaultSortingColumn&&(this.setSortColumnDefault(this.defaultSortingColumn,1E3,this.defaultSortingDirection),u5(this));this.xAxisPinEnabled&&this.xAxisPinUpdated&&this.xAxisPinUpdated.pipe(_.Af(this.destroyed)).subscribe(a=>{a[0]&&a[1]?(this.isXAxisPinSet||this.setSortColumnDefault("VALUE",1E3,-1),this.isXAxisPinSet=!0):(this.currentSortColumn=
Object.assign({},this.prevSortColumn),this.isXAxisPinSet=!1);this.resetSortFunc()})}ngOnDestroy(){this.destroyed.next()}toggleSortDirection(a){switch(a){case null:case 1:return-1;case -1:return 1;default:return null}}resetSortFunc(){if(this.currentSortColumn.id)switch(this.currentSortColumn.category){case "MAIN":this.sortFunc.emit(rne(this.currentSortColumn.direction));break;case "LABEL":let a=0;this.labelsModel.selectedColumns&&this.labelsModel.selectedColumns.forEach((b,c)=>{null!==this.currentSortColumn.id&&
b.uniqueId===this.currentSortColumn.id-10&&(a=c)});this.sortFunc.emit(sne(a,this.currentSortColumn.direction));break;case "VALUE":this.sortFunc.emit(tne(this.currentSortColumn.direction));break;case "IS_SELECTED":this.sortFunc.emit(une(this.currentSortColumn.direction))}else this.sortFunc.emit(rne(this.currentSortColumn.direction))}toggleSortColumn(a,b){this.currentSortColumn.id===b?(this.currentSortColumn=Object.assign({},this.currentSortColumn,{direction:this.toggleSortDirection(this.currentSortColumn.direction)}),
null===this.currentSortColumn.direction&&(this.currentSortColumn=Object.assign({},this.currentSortColumn,{id:0}))):this.setSortColumnDefault(a,b,-1);this.resetSortFunc()}setSortColumnDefault(a,b,c){this.currentSortColumn={category:a,id:b,direction:c}}getColIndexOffset(){let a;const b=null==(a=this.labelsModel.labelHeaders)?void 0:a.length;return b?b-1:0}getColIndexOffsetForStatsMode(){let a=3;this.timeshiftName&&(a+=1);return a+this.getColIndexOffset()}getColIndexOffsetForValue(){let a=3;this.timeshiftName&&
(a+=1);this.statsModeSummaryColumnLabel&&(a+=1);return a+this.getColIndexOffset()}labelSortColumnClicked(a){this.toggleSortColumn("LABEL",10+a);u5(this)}isLabelSortColumnAscending(a){return this.currentSortColumn.id===10+a&&0<(this.currentSortColumn.direction||0)}isLabelSortColumnDescending(a){return this.currentSortColumn.id===10+a&&0>(this.currentSortColumn.direction||0)}labelSortColumnHovered(a){this.hoveredColumn=a}isLabelColumnHovered(a){return this.hoveredColumn===a&&!(this.currentSortColumn.id===
10+a&&0!==(this.currentSortColumn.direction||0))}valueSortColumnClicked(){this.xAxisPinEnabled&&(this.isXAxisPinSet?this.toggleSortColumn("VALUE",1E3):this.setAndSnapXAxisPin.emit())}valueSortColumnHovered(){this.xAxisPinEnabled&&(this.hoveredColumn=1E3)}valueSortColumnUnhovered(){this.xAxisPinEnabled&&(this.hoveredColumn=null)}isValueColumnHovered(){return this.xAxisPinEnabled?1E3===this.hoveredColumn&&!(1E3===this.currentSortColumn.id&&0!==(this.currentSortColumn.direction||0)):!1}labelToClass(a){return a.toLowerCase().replace(/[^\w]+/g,
"-")}};DVe.\u0275fac=function(a){return new (a||DVe)(_.A(_.sn),_.A(_.Jf),_.A(_.el))};
DVe.\u0275cmp=_.q({type:DVe,selectors:[["ac-table-legend-header"]],viewQuery:function(a,b){a&1&&_.Oe(zVe,5);if(a&2){let c;_.Ne(c=_.Qe())&&(b.valueHeader=c.first)}},inputs:{columnKeys:"columnKeys",xAxisPinUpdated:"xAxisPinUpdated",valueName:"valueName",valueColumnWidth:"valueColumnWidth",timeshiftName:"timeshiftName",statsModeSummaryColumnLabel:"statsModeSummaryColumnLabel",columnFlexWidth:"columnFlexWidth",scale:"scale",labelsModel:"labelsModel",scrollLeft:"scrollLeft",widthDifference:"widthDifference",
xAxisPinEnabled:"xAxisPinEnabled",defaultSortingColumn:"defaultSortingColumn",defaultSortingDirection:"defaultSortingDirection",streamActions:"streamActions"},outputs:{sortFunc:"sortFunc",setAndSnapXAxisPin:"setAndSnapXAxisPin"},decls:24,vars:34,consts:[["fxLayout","row","role","presentation"],["role","columnheader","aria-colindex","1","aria-colspan","2",1,"ac-combined-chip-and-is-selected-container",3,"ngStyle"],[1,"ac-table-legend-header","ac-table-legend-checkbox-header","sortable-column",3,"ve",
"veClick","matTooltip","click","mouseenter","mouseleave"],[1,"ac-table-legend-checkbox-header-container"],["class","icon sort-icon hovered-icon","svgIcon","ac:keyboard_arrow_down",3,"ngClass",4,"ngIf"],["class","icon sort-icon checkbox-sort-icon","svgIcon","ac:keyboard_arrow_up",4,"ngIf"],["class","icon sort-icon checkbox-sort-icon","svgIcon","ac:keyboard_arrow_down",4,"ngIf"],["svgIcon","ac:selected_series",1,"icon","checkbox-header-icon"],["aria-colindex","2","role","columnheader","class","ac-table-legend-label-header-column-keys",
"fxFlex","100",4,"ngIf"],["fxFlex","100","role","presentation",1,"ac-legend-key"],[4,"ngIf"],["class","ac-table-legend-header ac-table-legend-value-header ac-table-value-column legend-table-cell timeshift-value ac-a11y-keyboard-focusable","role","columnheader",3,"matTooltip","ngStyle","ngClass",4,"ngIf"],["class","ac-table-legend-header ac-table-legend-value-header ac-table-value-column legend-table-cell stats-mode-summary-value ac-a11y-keyboard-focusable","role","columnheader",3,"matTooltip","ngStyle",
"ngClass",4,"ngIf"],["role","columnheader",1,"ac-legend-key","ac-table-value-column","current-value","sortable-column","Value","ac-a11y-keyboard-focusable",3,"ngStyle"],["fxFlex","100",1,"ac-table-legend-header","ac-table-legend-value-header","legend-table-cell",3,"ngClass","ve","veClick","mouseenter","mouseleave","click"],["valueHeader",""],[1,"sort-by-value-trigger"],["class","icon sort-icon","svgIcon","ac:keyboard_arrow_up",4,"ngIf"],["class","icon sort-icon","svgIcon","ac:keyboard_arrow_down",
4,"ngIf"],[3,"matTooltip"],["class","ac-table-options-column legend-table-cell last table-options","role","none",3,"ngStyle",4,"ngIf"],["class","ac-table-options-column legend-table-cell last table-options","role","columnheader",3,"ngStyle",4,"ngIf"],["svgIcon","ac:keyboard_arrow_down",1,"icon","sort-icon","hovered-icon",3,"ngClass"],["svgIcon","ac:keyboard_arrow_up",1,"icon","sort-icon","checkbox-sort-icon"],["svgIcon","ac:keyboard_arrow_down",1,"icon","sort-icon","checkbox-sort-icon"],["aria-colindex",
"2","role","columnheader","fxFlex","100",1,"ac-table-legend-label-header-column-keys"],[3,"class","fxFlex","matTooltip","click",4,"ngFor","ngForOf"],[3,"fxFlex","matTooltip","click"],["svgIcon","ac:keyboard_arrow_up",1,"icon","sort-icon"],["svgIcon","ac:keyboard_arrow_down",1,"icon","sort-icon"],["role","columnheader",3,"fxFlex","class",4,"ngFor","ngForOf"],["role","columnheader",3,"fxFlex"],[1,"legend-table-cell","ac-table-legend-header","ac-table-legend-label-header",3,"ve","veClick","matTooltip",
"mouseenter","mouseleave","click"],["role","columnheader",1,"ac-table-legend-header","ac-table-legend-value-header","ac-table-value-column","legend-table-cell","timeshift-value","ac-a11y-keyboard-focusable",3,"matTooltip","ngStyle","ngClass"],["role","columnheader",1,"ac-table-legend-header","ac-table-legend-value-header","ac-table-value-column","legend-table-cell","stats-mode-summary-value","ac-a11y-keyboard-focusable",3,"matTooltip","ngStyle","ngClass"],["role","none",1,"ac-table-options-column",
"legend-table-cell","last","table-options",3,"ngStyle"],["role","columnheader",1,"ac-table-options-column","legend-table-cell","last","table-options",3,"ngStyle"],[1,"ac-screen-reader-only-content"]],template:function(a,b){a&1&&(_.E(0,"div",0)(1,"div",1)(2,"button",2),_.L("click",function(){b.toggleSortColumn("IS_SELECTED",2);u5(b)})("mouseenter",function(){b.xAxisPinEnabled&&(b.hoveredColumn=2)})("mouseleave",function(){b.xAxisPinEnabled&&(b.hoveredColumn=null)}),_.E(3,"span",3),_.P(4,Bne,1,3,"mat-icon",
4),_.P(5,Cne,1,0,"mat-icon",5),_.P(6,Dne,1,0,"mat-icon",6),_.I(7,"mat-icon",7),_.F()()(),_.P(8,Hne,2,1,"div",8),_.E(9,"div",9),_.P(10,Nne,2,1,"ng-container",10),_.F(),_.P(11,Pne,2,9,"span",11),_.P(12,Qne,2,9,"span",12),_.E(13,"div",13)(14,"button",14,15),_.L("mouseenter",function(){return b.valueSortColumnHovered()})("mouseleave",function(){return b.valueSortColumnUnhovered()})("click",function(){return b.valueSortColumnClicked()}),_.E(16,"span",16),_.P(17,Rne,1,3,"mat-icon",4),_.P(18,Sne,1,0,"mat-icon",
17),_.P(19,Tne,1,0,"mat-icon",18),_.E(20,"span",19),_.Q(21),_.F()()()(),_.P(22,Vne,1,3,"span",20),_.P(23,Wne,3,3,"span",21),_.F());a&2&&(_.x(1),_.C("ngStyle",_.Yd(29,Une,"translateX("+b.scrollLeft+"px)")),_.zd("aria-sort",BVe(b)?"ascending":CVe(b)?"descending":"none"),_.x(1),_.C("ve",b.ve.ColumnSortButton)("veClick",!0)("matTooltip",b.sortBySelectedTooltip),_.zd("aria-label",b.sortBySelectedTooltip)("title",BVe(b)?"Sort in descending order.":"Sort in ascending order."),_.x(2),_.C("ngIf",!(BVe(b)||
CVe(b))),_.x(1),_.C("ngIf",BVe(b)),_.x(1),_.C("ngIf",CVe(b)),_.x(2),_.C("ngIf",!(null==b.labelsModel?0:null==b.labelsModel.labelHeaders?0:b.labelsModel.labelHeaders.length)),_.x(2),_.C("ngIf",b.labelsModel&&b.labelsModel.labelPercents&&b.labelsModel.selectedColumns),_.x(1),_.C("ngIf",b.timeshiftName),_.x(1),_.C("ngIf",b.statsModeSummaryColumnLabel),_.x(1),_.C("ngStyle",_.Zx(31,One,"translateX("+(-1*b.widthDifference+b.scrollLeft)+"px)",b.valueColumnWidth+"px")),_.zd("aria-sort",uLe(b)?"ascending":
vLe(b)?"descending":"none")("aria-colindex",b.getColIndexOffsetForValue()),_.x(1),_.C("ngClass",!b.timeshiftName&&!b.statsModeSummaryColumnLabel&&100<b.scale?"leftmost-frozen":"")("ve",b.ve.ColumnSortButton)("veClick",!0),_.zd("title",uLe(b)?"Sort in descending order.":"Sort in ascending order."),_.x(3),_.C("ngIf",!(uLe(b)||vLe(b))),_.x(1),_.C("ngIf",uLe(b)),_.x(1),_.C("ngIf",vLe(b)),_.x(1),_.fv("matTooltip",b.valueName),_.zd("aria-label",b.valueName),_.x(1),_.Ud(b.valueName),_.x(1),_.C("ngIf",0===
b.streamActions.length),_.x(1),_.C("ngIf",0<b.streamActions.length))},dependencies:[_.qx,_.kl,_.ll,_.xD,_.SD,_.VD,_.vo,R7,_.wt],styles:[".ac-screen-reader-only-content[_ngcontent-%COMP%]{clip:rect(1px,1px,1px,1px);height:1px;margin:0;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px;z-index:-1000}.ac-a11y-focus-within[_ngcontent-%COMP%]:focus-within, .ac-a11y-focusable[_ngcontent-%COMP%]:focus, .ac-a11y-focused[_ngcontent-%COMP%], .ac-a11y-keyboard-focusable.cdk-keyboard-focused[_ngcontent-%COMP%]{outline:3px solid #3367d6;outline-offset:-3px}.ac-a11y-keyboard-focusable[_ngcontent-%COMP%]{outline:none}button.ac-table-legend-header[_ngcontent-%COMP%], span.ac-table-legend-header[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;border:none;background:none;font-family:inherit;font-size:100%;font-style:inherit;font-weight:700;-moz-box-sizing:border-box;box-sizing:border-box}button.ac-table-legend-label-header[_ngcontent-%COMP%]{padding-left:4px;padding-right:8px;text-align:left}button.ac-table-legend-checkbox-header[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.checkbox-header-text[_ngcontent-%COMP%]{padding-left:4px}button.ac-table-legend-value-header[_ngcontent-%COMP%]{padding-right:8px;text-align:right}.ac-table-options-column[_ngcontent-%COMP%]{-webkit-align-content:center;-ms-flex-line-pack:center;align-content:center;display:inline-block;-webkit-box-flex:0;-webkit-flex:none;-moz-box-flex:0;-ms-flex:none;flex:none;width:40px}.ac-table-value-column[_ngcontent-%COMP%]{display:inline-block;-webkit-box-flex:0;-webkit-flex:none;-moz-box-flex:0;-ms-flex:none;flex:none;text-align:right;background:#fff}.sortable-column[_ngcontent-%COMP%]{cursor:pointer}.sort-icon[_ngcontent-%COMP%]{vertical-align:middle;visibility:visible;width:18px}.sort-icon.hidden[_ngcontent-%COMP%]{overflow:hidden;visibility:hidden}.sort-icon.hovered-icon[_ngcontent-%COMP%]{color:rgba(0,0,0,.43)}.checkbox-header-icon[_ngcontent-%COMP%]{vertical-align:middle;visibility:visible;width:18px}.ac-table-legend-checkbox-header[_ngcontent-%COMP%]{-webkit-box-flex:100%;-webkit-flex:100%;-moz-box-flex:100%;-ms-flex:100%;flex:100%;text-align:right;padding-left:12px;padding-right:5px}\n/*# sourceMappingURL=ac_table_legend_header_style.css.map */",
".ac-chip-absolute-background[_ngcontent-%COMP%], .ac-chip-static-container[_ngcontent-%COMP%], .ac-is-selected-container[_ngcontent-%COMP%], .ac-table-legend-options.legend-table-cell[_ngcontent-%COMP%], .ac-table-legend-value.legend-table-cell[_ngcontent-%COMP%], .ac-table-options-column.legend-table-cell[_ngcontent-%COMP%], .ac-table-value-column.legend-table-cell[_ngcontent-%COMP%]{background-color:#fff}.ac-chip-absolute-background[_ngcontent-%COMP%]{-moz-box-sizing:content-box;box-sizing:content-box;height:12px;line-height:42px;padding:15px 8px 15px 24px;position:absolute;width:12px}.ac-chip-relative-container[_ngcontent-%COMP%]{-webkit-box-flex:0;-webkit-flex:none;-moz-box-flex:0;-ms-flex:none;flex:none;line-height:42px;position:relative}.ac-chip-static-container[_ngcontent-%COMP%]{-webkit-box-flex:0;-webkit-flex:none;-moz-box-flex:0;-ms-flex:none;flex:none;width:50px}.ac-is-selected-container[_ngcontent-%COMP%]{-webkit-box-flex:0;-webkit-flex:none;-moz-box-flex:0;-ms-flex:none;flex:none;width:22px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.ac-legend-key[_ngcontent-%COMP%]{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ac-table-legend-chip[_ngcontent-%COMP%]{border-radius:50px;-webkit-box-flex:0;-webkit-flex:none;-moz-box-flex:0;-ms-flex:none;flex:none;height:12px;line-height:42px;margin:15px 8px 15px 24px;position:absolute;width:12px}.ac-table-legend-chip.ac-chip-position-static[_ngcontent-%COMP%]{position:static}.legend-table-cell[_ngcontent-%COMP%]{height:42px;padding-left:4px;padding-right:8px}.legend-table-cell[_ngcontent-%COMP%]   .current-value[_ngcontent-%COMP%]{-moz-box-sizing:content-box;box-sizing:content-box;padding:0 8px 0 0}.legend-table-cell.leftmost-frozen[_ngcontent-%COMP%]{border-left:1px solid #b8b8b8;padding-left:8px}.legend-table-cell.last[_ngcontent-%COMP%]{padding-right:0}.ac-combined-chip-and-is-selected-container[_ngcontent-%COMP%]{-webkit-box-flex:0;-webkit-flex:none;-moz-box-flex:0;-ms-flex:none;flex:none;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-direction:row;flex-direction:row;width:72px;background:#fff}\n/*# sourceMappingURL=ac_table_legend_header_and_row_style.css.map */"],
changeDetection:0});
var EVe=["streamActionsMenuContents"],FVe=function(a){if(a.streamActionMenu)for(const b of a.filteredStreamActions){const c=_.al(a.streamActionMenu,b.menuItem);c.instance.config=b.config;c.instance.streamMetadata=a.streamMetadata}},GVe=class{constructor(a){this.cdr=a;this.streamActions=[];this.filteredStreamActions=[]}ngOnChanges(a){if(a.streamMetadata||a.streamActions)this.filteredStreamActions=this.streamActions.filter(b=>this.streamMetadata?b.relevant(this.streamMetadata):!1),this.streamActionMenu&&
this.streamActionMenu.clear(),FVe(this),this.cdr.detectChanges()}ngAfterViewInit(){let a;this.streamActionMenu&&(null==(a=this.filteredStreamActions)?0:a.length)&&(this.streamActionMenu.clear(),FVe(this),this.cdr.detectChanges())}};GVe.\u0275fac=function(a){return new (a||GVe)(_.A(_.el))};
GVe.\u0275cmp=_.q({type:GVe,selectors:[["ac-stream-action-menu"]],viewQuery:function(a,b){a&1&&_.Oe(EVe,5,_.Me);if(a&2){let c;_.Ne(c=_.Qe())&&(b.streamActionMenu=c.first)}},inputs:{streamMetadata:"streamMetadata",streamActions:"streamActions"},features:[_.Gc],decls:2,vars:0,consts:[["streamActionsMenuContents",""]],template:function(a){a&1&&_.I(0,"div",null,0)},encapsulation:2,changeDetection:0});var HVe=class{};HVe.\u0275fac=function(a){return new (a||HVe)};HVe.\u0275mod=_.Bc({type:HVe});
HVe.\u0275inj=_.tc({imports:[_.ql]});
var Yne=function(){return{"user-select":"text"}},$ne=function(a,b){return{transform:a,width:b}},coe=function(a){return{transform:a}},IVe=function(a){return{strong:a}},JVe=function(a){return[a]},KVe=function(a){var b=a.stream.unit,c;a=null!=(c=a.stream.rawValue)?c:null;c=null!=b?b:null;null==a?a="":(b=yhe({min:0,max:a,unit:c},{idealMaxMagnitude:1,idealMinMagnitude:0,countPrefixMaxMagnitude:Math.log10(ANe),countPrefixMinMagnitude:Math.log10(1)}),a=B5(c,b.unit,a),a=null===a?"":C5(a,b.unit));return a},
LVe=class{constructor(){this.showStatsModeSummaryColumn=this.timeshift=!1;this.labelPercents=[];this.widthDifference=this.scrollLeft=0;this.scale=100;this.valueColumnWidth=80;this.streamActions=[];this.ve={LineDeselectToggle:f7.LineDeselectToggle,LineSelectToggle:f7.LineSelectToggle,MonitoringStreamActionTableLegendMenu:f7.MonitoringStreamActionTableLegendMenu};this.selectedTooltip="Selected";this.notSelectedTooltip="Not selected";this.streamActionsMenuTooltip="Actions for this Timeseries"}getStreamName(){return this.stream.name}getColIndexOffset(){const a=
this.stream.labels.length;return a?a-1:0}getColIndexOffsetForStatsMode(){let a=3;this.timeshift&&(a+=1);return a+this.getColIndexOffset()}getColIndexOffsetForValue(){let a=3;this.timeshift&&(a+=1);this.showStatsModeSummaryColumn&&(a+=1);return a+this.getColIndexOffset()}};LVe.\u0275fac=function(a){return new (a||LVe)};
LVe.\u0275cmp=_.q({type:LVe,selectors:[["ac-table-legend-row"]],inputs:{stream:"stream",timeshift:"timeshift",showStatsModeSummaryColumn:"showStatsModeSummaryColumn",labelPercents:"labelPercents",columnFlexWidth:"columnFlexWidth",scrollLeft:"scrollLeft",widthDifference:"widthDifference",scale:"scale",valueColumnWidth:"valueColumnWidth",streamActions:"streamActions"},decls:19,vars:34,consts:[["fxLayout","row","role","presentation","draggable","false",3,"ngClass"],["role","cell","aria-colindex","1",
"aria-colspan","2",1,"ac-combined-chip-and-is-selected-container",3,"ngStyle"],["role","presentation",1,"ac-chip-static-container"],[1,"ac-chip-absolute-background"],[3,"color","drawnAs","shape"],["role","presentation",1,"ac-is-selected-container"],[1,"ac-is-selected",3,"checked","aria-label","matTooltip","ve","veClick","veMutable","change"],["class","ac-legend-key ac-table-legend-stream","role","rowheader","aria-colindex","2","fxFlex","100",4,"ngIf"],["role","presentation","fxFlex","100","fxLayout",
"row",1,"ac-legend-key"],["class","ac-table-legend-label legend-table-cell",3,"ngStyle","fxFlex","matTooltip",4,"ngFor","ngForOf"],["class","ac-table-legend-value legend-table-cell timeshift-value","role","cell",3,"matTooltip","ngStyle","ngClass",4,"ngIf"],["class","ac-table-legend-value legend-table-cell stats-mode-summary-value","role","cell",3,"matTooltip","ngStyle","ngClass",4,"ngIf"],["role","cell",1,"ac-table-legend-value","legend-table-cell","current-value",3,"matTooltip","ngStyle","ngClass"],
["class","ac-table-legend-options last legend-table-cell table-options","role","none",3,"ngStyle",4,"ngIf"],["class","ac-table-legend-options last legend-table-cell table-options","role","cell",3,"ngStyle",4,"ngIf"],[1,"ac-table-legend-stream-actions",3,"ve"],["streamActionsMenu",""],[3,"streamMetadata","streamActions"],["role","rowheader","aria-colindex","2","fxFlex","100",1,"ac-legend-key","ac-table-legend-stream"],[1,"legend-table-cell",3,"matTooltip"],[1,"ac-table-legend-label","legend-table-cell",
3,"ngStyle","fxFlex","matTooltip"],["role","cell",1,"ac-table-legend-value","legend-table-cell","timeshift-value",3,"matTooltip","ngStyle","ngClass"],["role","cell",1,"ac-table-legend-value","legend-table-cell","stats-mode-summary-value",3,"matTooltip","ngStyle","ngClass"],["role","none",1,"ac-table-legend-options","last","legend-table-cell","table-options",3,"ngStyle"],["role","cell",1,"ac-table-legend-options","last","legend-table-cell","table-options",3,"ngStyle"],["mat-icon-button","",1,"ac-table-legend-stream-actions-button",
3,"matTooltip","matMenuTriggerFor"],["svgIcon","ac:more_vert"]],template:function(a,b){a&1&&(_.E(0,"div",0)(1,"div",1)(2,"span",2),_.I(3,"span",3)(4,"ac-key",4),_.F(),_.E(5,"span",5)(6,"mat-checkbox",6),_.L("change",function(c){let d,e;null==(e=(d=b.stream).setSelected)||e.call(d,c.checked)}),_.F()()(),_.P(7,Xne,3,2,"div",7),_.E(8,"div",8),_.P(9,Zne,2,7,"span",9),_.F(),_.P(10,aoe,2,8,"div",10),_.P(11,boe,2,8,"div",11),_.E(12,"div",12),_.Q(13),_.F(),_.P(14,doe,1,3,"div",13),_.P(15,eoe,3,6,"div",14),
_.E(16,"mat-menu",15,16),_.I(18,"ac-stream-action-menu",17),_.F()());a&2&&(_.C("ngClass",_.Yd(25,IVe,b.stream.isInteracted)),_.x(1),_.C("ngStyle",_.Yd(27,coe,"translateX("+b.scrollLeft+"px)")),_.x(3),_.C("color",b.stream.color)("drawnAs",b.stream.drawnAs)("shape",b.stream.shape),_.x(2),_.C("checked",b.stream.isSelected)("aria-label",b.stream.isSelected?b.selectedTooltip:b.notSelectedTooltip)("matTooltip",b.stream.isSelected?b.selectedTooltip:b.notSelectedTooltip)("ve",b.stream.isSelected?b.ve.LineDeselectToggle:
b.ve.LineSelectToggle)("veClick",!0)("veMutable",!0),_.x(1),_.C("ngIf",!b.stream.labels.length),_.x(2),_.C("ngForOf",b.stream.labels),_.x(1),_.C("ngIf",b.timeshift),_.x(1),_.C("ngIf",b.showStatsModeSummaryColumn),_.x(1),_.C("matTooltip",KVe(b))("ngStyle",_.Zx(29,$ne,"translateX("+(-1*b.widthDifference+b.scrollLeft)+"px)",b.valueColumnWidth+"px"))("ngClass",_.Yd(32,JVe,!b.timeshift&&!b.showStatsModeSummaryColumn&&100<b.scale?"leftmost-frozen":"")),_.zd("aria-colindex",b.getColIndexOffsetForValue()),
_.x(1),_.Sd(" ",b.stream.displayValue," "),_.x(1),_.C("ngIf",0===b.streamActions.length),_.x(1),_.C("ngIf",0<b.streamActions.length),_.x(1),_.C("ve",b.ve.MonitoringStreamActionTableLegendMenu),_.x(2),_.C("streamMetadata",b.stream.dataSeriesMetadata)("streamActions",b.streamActions))},dependencies:[Q9,_.qx,_.kl,_.ll,_.xD,_.SD,_.VD,_.Bp,_.Vx,_.vo,_.Ix,y6,R7,_.wt,GVe],styles:[".ac-table-legend-label[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}mat-checkbox.ac-is-selected[_ngcontent-%COMP%]{line-height:normal;margin-bottom:0}mat-checkbox.ac-is-selected[_ngcontent-%COMP%]     .mat-checkbox-inner-container{margin-top:0}.ac-table-legend-options.legend-table-cell.table-options[_ngcontent-%COMP%]{min-width:40px;width:40px}.ac-table-legend-value[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;display:inline-block;-webkit-box-flex:0;-webkit-flex:none;-moz-box-flex:0;-ms-flex:none;flex:none;text-align:right;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;-moz-box-sizing:border-box;box-sizing:border-box}.ac-chip-static-container[_ngcontent-%COMP%]{position:relative}.ac-chip-static-container[_ngcontent-%COMP%]   ac-key[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.strong[_ngcontent-%COMP%]{font-weight:500;opacity:1}\n/*# sourceMappingURL=ac_table_legend_row_style.css.map */",
".ac-chip-absolute-background[_ngcontent-%COMP%], .ac-chip-static-container[_ngcontent-%COMP%], .ac-is-selected-container[_ngcontent-%COMP%], .ac-table-legend-options.legend-table-cell[_ngcontent-%COMP%], .ac-table-legend-value.legend-table-cell[_ngcontent-%COMP%], .ac-table-options-column.legend-table-cell[_ngcontent-%COMP%], .ac-table-value-column.legend-table-cell[_ngcontent-%COMP%]{background-color:#fff}.ac-chip-absolute-background[_ngcontent-%COMP%]{-moz-box-sizing:content-box;box-sizing:content-box;height:12px;line-height:42px;padding:15px 8px 15px 24px;position:absolute;width:12px}.ac-chip-relative-container[_ngcontent-%COMP%]{-webkit-box-flex:0;-webkit-flex:none;-moz-box-flex:0;-ms-flex:none;flex:none;line-height:42px;position:relative}.ac-chip-static-container[_ngcontent-%COMP%]{-webkit-box-flex:0;-webkit-flex:none;-moz-box-flex:0;-ms-flex:none;flex:none;width:50px}.ac-is-selected-container[_ngcontent-%COMP%]{-webkit-box-flex:0;-webkit-flex:none;-moz-box-flex:0;-ms-flex:none;flex:none;width:22px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.ac-legend-key[_ngcontent-%COMP%]{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ac-table-legend-chip[_ngcontent-%COMP%]{border-radius:50px;-webkit-box-flex:0;-webkit-flex:none;-moz-box-flex:0;-ms-flex:none;flex:none;height:12px;line-height:42px;margin:15px 8px 15px 24px;position:absolute;width:12px}.ac-table-legend-chip.ac-chip-position-static[_ngcontent-%COMP%]{position:static}.legend-table-cell[_ngcontent-%COMP%]{height:42px;padding-left:4px;padding-right:8px}.legend-table-cell[_ngcontent-%COMP%]   .current-value[_ngcontent-%COMP%]{-moz-box-sizing:content-box;box-sizing:content-box;padding:0 8px 0 0}.legend-table-cell.leftmost-frozen[_ngcontent-%COMP%]{border-left:1px solid #b8b8b8;padding-left:8px}.legend-table-cell.last[_ngcontent-%COMP%]{padding-right:0}.ac-combined-chip-and-is-selected-container[_ngcontent-%COMP%]{-webkit-box-flex:0;-webkit-flex:none;-moz-box-flex:0;-ms-flex:none;flex:none;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-direction:row;flex-direction:row;width:72px;background:#fff}\n/*# sourceMappingURL=ac_table_legend_header_and_row_style.css.map */"],
changeDetection:0});
var MVe=["scrollingDiv"],NVe=["virtualScroll"],foe=function(a){if(!a.streams||0===a.streams.length)return 80;a=10*a.streams.reduce((b,c)=>{let d,e,f,g;return Math.max(b,c.displayValue.length,null!=(f=null==(d=c.timeshiftValue)?void 0:d.length)?f:0,null!=(g=null==(e=c.statsModeSummaryValue)?void 0:e.length)?g:0)},0);return Math.max(a,80)},hoe=function(a,b){let c;return null==(c=a.streamRowIndexMap)?void 0:c.get(b)},OVe=function(a){if(a.labelsModel){var b;let c,d=a.getLabelTables(null!=(c=null==(b=
a.streams)?void 0:b.map(e=>{let f;return null!=(f=e.dataSeriesMetadata)?f:null}))?c:[]);d||(d=bme());d&&0<d.length&&(b=_.puc.updateLabelsModel(a.labelsModel,d),a.labelsModel=Object.assign({},a.labelsModel),a.labelsModelSubject.next(a.labelsModel),b&&a.selectedColumnsChanged())}},PVe=function(a){return!!a.streams&&0<a.streams.length},QVe=class extends sVe{constructor(a,b,c,d,e,f,g,h,l,n){super(a,b,c,d,e,l,n);this.cdRef=c;this.elementRef=d;this.focusMonitor=f;this.ngZone=g;this.interactionService=h;
this.viewPortStreams=[];this.columnKeys=["Name"];this.divComputedStyle=this.contentComputedStyle=null;this.widthDifference=this.scrollTop=this.scrollLeft=0;this.scale=100;this.ve={ChartLegendPane:f7.ChartLegendPane};this.isOnSdDashboard=!1;this.height=210;this.defaultSortingColumn="";this.defaultSortingDirection=null;this.streamActions=[];this.labelsModel={columnsModel:[],selectedColumns:[],selectableColumns:[],labelHeaders:[],labelWidths:[],labelPercents:[],scale:100,nextColumnId:1};this.labelsModelSubject=
new _.bg(this.labelsModel);this.preventAveScrollEvents=!1;this.lastSelected=null;this.updatePercentsWithLabelsSubject=new _.tf;this.streamRowIndexMap=null;this.updatePercentsWithLabelsSubject.pipe(_.dka(this.updatePercentsWithLabelsSubject.pipe(_.We(0))),_.Af(this.destroyed)).subscribe(r=>{const v=this.getScrollingDivWidth();this.labelsModel.labelWidths=[];for(const w of r)_.puc.updatePercents(this.labelsModel,w,100,v);this.labelsModel=Object.assign({},this.labelsModel);this.labelsModelSubject.next(this.labelsModel);
this.cdRef.markForCheck()})}ngAfterViewInit(){this.focusMonitor.monitor(this.scrollingDiv).subscribe(()=>{this.ngZone.run(()=>{this.cdRef.markForCheck()})})}onMapChange(a,b){super.onMapChange(a,b);OVe(this)}update(){super.update();OVe(this);this.nameStreams();oVe(this);this.streamRowIndexMap=new Map;if(this.streams)for(const [a,b]of this.streams.entries())this.streamRowIndexMap.set(b,a+2);this.bringLastSelectedIntoView();this.cdRef.markForCheck()}retrack(){this.nameStreams()}getScrollingDivWidth(){if(!this.divComputedStyle&&
!this.scrollingDiv)return 0;this.divComputedStyle=this.divComputedStyle||getComputedStyle(this.scrollingDiv.nativeElement);return+this.divComputedStyle.getPropertyValue("width").replace("px","")}selectedColumnsChanged(){this.labelsModel.labelHeaders=(this.labelsModel.selectedColumns||[]).map(a=>a.title||"");this.labelsModel.labelWidths=[];this.labelsModel.labelPercents=[];this.labelsModel=Object.assign({},this.labelsModel);this.labelsModelSubject.next(this.labelsModel)}selectedColumnsChangedHandler(){let a;
null!=(a=this.labelsModel.selectedColumns)&&a.length||!this.labelsModel.selectableColumns||(this.labelsModel.selectedColumns=this.labelsModel.selectableColumns.filter(b=>b.isDefault));this.labelsModel=Object.assign({},this.labelsModel);this.labelsModelSubject.next(this.labelsModel);this.selectedColumnsChanged();this.retrack();this.update()}nameStreams(){let a;null==(a=this.streams)||a.forEach(b=>{b.getLabels=()=>(this.labelsModel.selectedColumns||[]).map(c=>{const d=b.dataSeriesMetadata&&b.dataSeriesMetadata.childId||
0;var e=null;if(c.tokenizers&&c.tokenizers[d]){var f;e=null!=(f=b.dataSeriesMetadata)?f:{};f=this.getTranslationFunctions();f.getName=g=>b.getName()||g.name||"";e=c.tokenizers[d].format(e,f)}return e||""});b.onLabelsChange=c=>{this.updatePercentsWithLabelsSubject.next(c)};b.getColumnIds=()=>(this.labelsModel.selectedColumns||[]).map(c=>c.uniqueId)});requestAnimationFrame(()=>{this.onScroll(!1)})}onScroll(a){if(this.scrollingDiv&&this.scrollingDiv.nativeElement&&this.scrollingDiv.nativeElement.children&&
this.scrollingDiv.nativeElement.children.length){a&&!this.preventAveScrollEvents&&(this.interactionService.sendAveEvent("scroll",UQe,this.elementRef.nativeElement,{debounce:!0}),this.preventAveScrollEvents=!0);this.contentComputedStyle=this.contentComputedStyle||getComputedStyle(this.scrollingDiv.nativeElement.children[0]);a=+this.contentComputedStyle.getPropertyValue("width").replace("px","");var b=this.getScrollingDivWidth();this.widthDifference=a-b;this.scrollLeft=this.scrollingDiv.nativeElement.scrollLeft;
this.scrollTop=this.scrollingDiv.nativeElement.scrollTop}}onSeriesSelectionChange(a,b){this.lastSelected=Ohe(a,b.scope.layerId);this.lastSeriesSelectedInLegend&&(this.lastSelected=this.lastSelected.filter(c=>c!==this.lastSeriesSelectedInLegend));this.lastSeriesSelectedInLegend=null;super.onSeriesSelectionChange(a,b)}bringLastSelectedIntoView(){super.bringLastSelectedIntoView();if(this.lastSelected){if(1<=this.lastSelected.length){const d=this.lastSelected[0];var a,b,c=null!=(b=null==(a=this.streams)?
void 0:a.findIndex(e=>e.seriesId===d))?b:-1;if(0>c)return;a=_.ZQd(this.virtualScrollRef);c=Math.floor(c/a.itemsPerRow)*a.childHeight;a=c-Math.max(0,a.itemsPerCol-2)*a.childHeight;b=this.scrollingDiv.nativeElement.scrollTop;b>c?b=c:b<a&&(b=a);this.scrollToPosition(b)}this.lastSelected=null}}scrollToPosition(a){this.scrollingDiv.nativeElement.scrollTop!==a&&(this.scrollTop=this.scrollingDiv.nativeElement.scrollTop=a,requestAnimationFrame(()=>{this.onScroll(!1);this.cdRef.detectChanges()}))}virtualScrollStyle(a){this.scale!==
a&&this.resize();this.scale=a;return{width:`${a}%`,height:`${this.height}px`}}trackByStreamName(a,b){return b.name}resize(){requestAnimationFrame(()=>{this.onScroll(!1);this.cdRef.detectChanges()})}};QVe.\u0275fac=function(a){return new (a||QVe)(_.A(_.fq),_.A(b9),_.A(_.el),_.A(_.ad),_.A(y9),_.A(_.sn),_.A(_.Jf),_.A(s9),_.A(L8,8),_.A(a9,8))};
QVe.\u0275cmp=_.q({type:QVe,selectors:[["ac-table-legend"],["cola-table-legend"]],viewQuery:function(a,b){a&1&&(_.Oe(MVe,5),_.Oe(NVe,5));if(a&2){let c;_.Ne(c=_.Qe())&&(b.scrollingDiv=c.first);_.Ne(c=_.Qe())&&(b.virtualScrollRef=c.first)}},inputs:{isOnSdDashboard:"isOnSdDashboard",height:"height",defaultSortingColumn:"defaultSortingColumn",defaultSortingDirection:"defaultSortingDirection",streamActions:"streamActions"},features:[_.wd],decls:8,vars:14,consts:[[1,"ac-legend-outer-div"],[1,"ac-table-legend-switch",
"scrolling-div","ac-a11y-keyboard-focusable",3,"draggable","ve","scroll"],["scrollingDiv",""],["role","presentation",1,"ac-legend-table-virtual-scroll","overflow-visible",3,"items","childHeight","ngStyle","scrollTop","hasHeader","update"],["virtualScroll",""],["role","rowgroup","header","",4,"ngIf"],["role","rowgroup",4,"ngIf"],[3,"labelsModel","valueName","selectedColumnsChanged"],["role","rowgroup","header",""],["role","row","aria-rowindex","1",1,"ac-table-legend-header",3,"columnKeys","labelsModel",
"valueName","columnFlexWidth","scrollLeft","widthDifference","scale","valueColumnWidth","streamActions","defaultSortingColumn","defaultSortingDirection","timeshiftName","statsModeSummaryColumnLabel","sortFunc"],["scrollingHeader",""],["role","rowgroup"],["class","ac-table-legend-row","role","row",3,"stream","labelPercents","columnFlexWidth","scrollLeft","scale","valueColumnWidth","streamActions","widthDifference","timeshift","showStatsModeSummaryColumn","mouseenter","mouseleave",4,"ngFor","ngForOf",
"ngForTrackBy"],["role","row",1,"ac-table-legend-row",3,"stream","labelPercents","columnFlexWidth","scrollLeft","scale","valueColumnWidth","streamActions","widthDifference","timeshift","showStatsModeSummaryColumn","mouseenter","mouseleave"]],template:function(a,b){a&1&&(_.E(0,"div",0)(1,"div",1,2),_.L("scroll",function(){return b.onScroll(!0)}),_.E(3,"virtual-scroll",3,4),_.L("update",function(c){return b.viewPortStreams=c}),_.P(5,goe,4,15,"div",5),_.P(6,joe,2,2,"div",6),_.F()(),_.E(7,"ac-column-selector",
7),_.L("selectedColumnsChanged",function(){return b.selectedColumnsChangedHandler()}),_.F()());a&2&&(_.x(1),_.C("draggable",b.isOnSdDashboard)("ve",b.ve.ChartLegendPane),_.zd("role",PVe(b)?"table":"presentation")("aria-label",PVe(b)?"Legend":void 0)("aria-rowcount",b.streams&&PVe(b)?b.streams.length+1:void 0),_.x(2),_.C("items",b.streams)("childHeight",42)("ngStyle",b.virtualScrollStyle(b.labelsModel.scale))("scrollTop",b.scrollTop)("hasHeader",!0),_.x(2),_.C("ngIf",PVe(b)),_.x(1),_.C("ngIf",0<b.viewPortStreams.length),
_.x(1),_.C("labelsModel",b.labelsModel)("valueName",b.valueName))},dependencies:[_.kl,_.ll,_.xD,_.wt,_.e3,yVe,DVe,LVe,_.pl],styles:[".ac-screen-reader-only-content[_ngcontent-%COMP%]{clip:rect(1px,1px,1px,1px);height:1px;margin:0;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px;z-index:-1000}.ac-a11y-focus-within[_ngcontent-%COMP%]:focus-within, .ac-a11y-focusable[_ngcontent-%COMP%]:focus, .ac-a11y-focused[_ngcontent-%COMP%], .ac-a11y-keyboard-focusable.cdk-keyboard-focused[_ngcontent-%COMP%]{outline:3px solid #3367d6;outline-offset:-3px}.ac-a11y-keyboard-focusable[_ngcontent-%COMP%]{outline:none}[_nghost-%COMP%]{-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.ac-table-legend-switch[_ngcontent-%COMP%]{-moz-box-sizing:content-box;box-sizing:content-box;-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.ac-table-legend-switch.scrolling-div[_ngcontent-%COMP%]{overflow:auto}.ac-table-legend-switch[_ngcontent-%COMP%]::-webkit-scrollbar{height:7px;width:7px;-webkit-appearance:none}.ac-table-legend-switch[_ngcontent-%COMP%]::-webkit-scrollbar-corner{color:#fff}.ac-table-legend-switch[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px;background-color:rgba(0,0,0,.4)}.ac-table-legend-switch[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], .ac-table-legend-switch[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:after, .ac-table-legend-switch[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:before{-moz-box-sizing:content-box;box-sizing:content-box}.ac-table-legend-switch[_ngcontent-%COMP%]:focus{outline-offset:0}.ac-legend-table-virtual-scroll[_ngcontent-%COMP%]{display:block;-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1;overflow-y:scroll}.ac-legend-table-virtual-scroll.overflow-visible[_ngcontent-%COMP%]{overflow-y:visible;overflow:visible}.ac-table-legend-header[_ngcontent-%COMP%]{background-color:#fff;border-color:rgba(0,0,0,.12);display:block;font-weight:700;margin:0}ac-stats-legend-header[_ngcontent-%COMP%], ac-table-legend-header[_ngcontent-%COMP%]{border-style:solid;border-width:1px 0;cursor:default;display:block;height:42px;line-height:42px}.ac-table-legend-row[_ngcontent-%COMP%]{border-style:solid;border-width:0 0 1px;display:block;height:42px;line-height:42px}virtual-scroll[_ngcontent-%COMP%]{height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;min-height:100px;overflow-y:scroll}virtual-scroll[_ngcontent-%COMP%]   .ac-table-legend-row[_ngcontent-%COMP%]{border-color:rgba(0,0,0,.12)}virtual-scroll[_ngcontent-%COMP%]   .ac-stream-hovered[_ngcontent-%COMP%], virtual-scroll[_ngcontent-%COMP%]   .ac-stream-selected[_ngcontent-%COMP%]{background-color:#f5f5f5}.ac-legend-outer-div[_ngcontent-%COMP%]{position:relative;-moz-box-sizing:content-box;box-sizing:content-box;-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}\n/*# sourceMappingURL=ac_table_legend_style.css.map */"],
changeDetection:0});
var U9=class{};U9.\u0275fac=function(a){return new (a||U9)};U9.\u0275mod=_.Bc({type:U9});U9.\u0275inj=_.tc({imports:[R9,_.ql,_.$D,_.Fp,_.Yx,_.Do,_.Jx,V7,S7,_.yt,_.f3,HVe]});
var RVe=new S5({getKey:({chartGroupId:a,chartId:b,xAxisId:c})=>`chartGroupId:${a},chartId:${b},xAxisId:${c}`,getSelector:(a,b)=>_.qe([b.getSelector(zOe,a),b.getSelector(R8,a)]).pipe(_.U(([c,d])=>_.zh(c,d,(e,f)=>{if(void 0!==e&&void 0!==f&&(f=E5(Object.assign({},f,{unit:"ms_since_epoch"}),e.margins.left,e.width-e.margins.right)))return{chartHeight:e.height,chartWidth:e.width,bodyTop:e.margins.top,bodyBottom:e.height-e.margins.bottom,bodyLeft:e.margins.left,bodyRight:e.width-e.margins.right,domainMap:f}})))});
var SVe=function(a,b,c){a.ctx.save();const d=c.top-7,e=c.top;var f=b+20;const g=new Path2D;g.moveTo(b,c.bottom);g.lineTo(b,d+2);g.arcTo(b,d,b+2,d,2);if(f>c.right){var h=b+7;g.lineTo(h-2,d);g.arcTo(h,d,h,d+2,2)}else g.lineTo(f-2,d),g.arcTo(f,d,f,d+2,2),g.lineTo(f,e-2),g.arcTo(f,e,f-2,e,2),g.lineTo(b+9,e),g.arcTo(b+7,e,b+7,e+2,2);g.lineTo(b+7,e+7-2);g.arcTo(b+7,e+7,b+7-2,e+7,2);g.lineTo(b+3,e+7);g.arcTo(b+1,e+7,b+1,e+9,2);g.lineTo(b+1,c.bottom);g.lineTo(b,c.bottom);g.closePath();h=new Path2D;h.moveTo(b-
1,c.bottom);h.lineTo(b-1,d+2);h.arcTo(b-1,d-1,b+2,d-1,3);f>c.right?(f=b+7,h.lineTo(f-2,d-1),h.arcTo(f+1,d-1,f+1,d+2,3)):(h.lineTo(f-2,d-1),h.arcTo(f+1,d-1,f+1,d+2,3),h.lineTo(f+1,e-2),h.arcTo(f+1,e+1,f-2,e+1,3),h.lineTo(b+9,e+1),h.arcTo(b+7,e+1,b+8,e+2,1));h.lineTo(b+8,e+7-2);h.arcTo(b+8,e+8,b+7-2,e+8,3);h.lineTo(b+3,e+8);h.arcTo(b+2,e+8,b+2,e+9,1);h.lineTo(b+2,c.bottom);a.ctx.strokeStyle="#ffffff";a.ctx.lineWidth=2;a.ctx.stroke(h);a.ctx.fill(g);a.ctx.restore()},TVe=function(a,b,c,d){const e=d.top-
7,f=d.top,g=new Path2D;g.moveTo(b+2,e);g.lineTo(c-2,e);g.arcTo(c,e,c,e+2,2);g.lineTo(c,d.bottom);g.lineTo(b,d.bottom);g.lineTo(b,e+2);g.arcTo(b,e,b+2,e,2);g.closePath();const h=new Path2D;h.moveTo(b-1,d.bottom);h.lineTo(b-1,e+2);h.arcTo(b-1,e-1,b+2,e-1,3);h.lineTo(c-2,e-1);h.arcTo(c+1,e-1,c+1,e+2,3);h.lineTo(c+1,d.bottom);const l=new Path2D;b<d.left?l.moveTo(d.left,e):l.moveTo(b+2,e);if(c>d.right){var n=d.right;b+9>d.right&&(n=Math.max(d.right,b+7));l.lineTo(n,e);l.lineTo(n+3,(f+e)/2);l.lineTo(n,
f)}else b+7>c?(n=b+7,l.lineTo(n-2,e),l.arcTo(n,e,n,e+2,2)):(l.lineTo(c-2,e),l.arcTo(c,e,c,e+2,2),l.lineTo(c,f));b<d.left?(l.lineTo(d.left,f),l.lineTo(d.left-3,(f+e)/2),l.lineTo(d.left,e)):(b+9>d.right||b+7>c||b+9>c?(n=c,b+7>c&&(n=b+7),b+9>d.right&&(n=Math.max(d.right,b+7)),c<=n&&c>n-1?l.lineTo(n,f+7):(l.lineTo(n,f+7-4),l.arcTo(n,f+7,n-2,f+7,2))):(l.lineTo(b+9,f),l.arcTo(b+7,f,b+7,f+2,2),l.lineTo(b+7,f+7-4),l.arcTo(b+7,f+7,b+7-2,f+7,2)),l.lineTo(b,f+7),l.lineTo(b,e+2),l.arcTo(b,e,b+2,e,2));l.closePath();
b=new Path2D;b.rect(d.left,0,d.right-d.left,d.bottom);a.ctx.save();a.ctx.clip(b);a.ctx.globalCompositeOperation="destination-out";a.ctx.fill(g);a.ctx.globalCompositeOperation="source-over";a.ctx.globalAlpha=.1;a.ctx.fill(g);a.ctx.restore();a.ctx.save();a.ctx.clip(b);a.ctx.strokeStyle="#ffffff";a.ctx.globalCompositeOperation="destination-out";a.ctx.lineWidth=2;a.ctx.stroke(h);a.ctx.restore();a.ctx.save();a.ctx.fill(l);a.ctx.restore()},UVe=function(a,b){const c=b.x;b=b.y;if(!a.lastBodyTop||b<a.lastBodyTop||
!a.lastBodyBottom||b>a.lastBodyBottom)return[];b=[];for(const {annotationId:d,left:e,right:f}of a.lastAnnotationSpans)c>=e&&c<=f&&b.push(d);return b},VVe=class extends TNe{constructor(){super(...arguments);this.lastAnnotationSpans=[];this.lastBodyBottom=this.lastBodyTop=null}draw(a){if(a.currentValue){var b=a.currentValue.data,c=a.currentValue.state;a=a.currentValue.config;if(c&&a){this.canvas.style.left="0px";this.canvas.style.top="0px";H5(this.canvas,c.chartHeight,c.chartWidth);var d=[],e;for(const {start:g,
end:h,style:l,annotationId:n}of null!=(e=b)?e:[]){var f=a.annotationStyles.get(l);f||(f=a.fallbackAnnotationStyle);e=b=c.domainMap(g);this.ctx.fillStyle=f.color;f={top:c.bodyTop,bottom:c.bodyBottom,left:c.bodyLeft,right:c.bodyRight};b>f.right||(void 0===h?SVe(this,b,f):(e=c.domainMap(h),TVe(this,b,e,f)),d.push({annotationId:n,left:Math.max(b-2,c.bodyLeft),right:Math.min(e+2,c.bodyRight)}))}this.lastBodyTop=c.bodyTop;this.lastBodyBottom=c.bodyBottom;this.lastAnnotationSpans=d.sort((g,h)=>g.left-h.left)}}}};
var WVe=["projectedContent"],koe=function(a,b){return{fill:a,left:b}},poe=function(a,b){return{left:a,top:b}},qoe=function(a){return{$implicit:a}},roe=function(a){return{width:a}},XVe=new Map([["warning","M 9.3731 4.5 C 10.5338 2.4688 13.4626 2.4688 14.6233 4.5 L 21.5073 16.5469 C 22.6591 18.5625 21.2038 21.0705 18.8822 21.0705 H 5.1142 C 2.7927 21.0705 1.3373 18.5625 2.4891 16.5469 L 9.3731 4.5 Z M 10.4866 13.5117 H 13.5101 V 7.4648 H 10.4866 V 13.5117 Z M 13.5101 18.047 H 10.4866 V 15.0235 H 13.5101 V 18.047 Z"],
["alert","M 14 19.3333 H 10 C 10 20.7999 10.9 21.9999 12 21.9999 C 13.1 21.9999 14 20.7999 14 19.3333 Z M 13.3269 3.4654 C 16.373 4.0806 18.6666 6.7724 18.6666 10 V 15.3277 L 19.9999 16.661 V 17.9999 H 4 V 16.661 L 5.3333 15.3277 V 10 C 5.3333 6.7724 7.6269 4.0806 10.673 3.4654 C 10.6688 3.4219 10.6666 3.3779 10.6666 3.3333 C 10.6666 2.5969 11.2636 2 12 2 C 12.7363 2 13.3333 2.5969 13.3333 3.3333 C 13.3333 3.3779 13.3311 3.4219 13.3269 3.4654 Z"],["topic","M 5.5715 4 C 4.1572 4 3.0128 5.1572 3.0128 6.5715 L 3 22 L 6.8572 18.1428 H 18.4286 C 19.8428 18.1428 21 16.9857 21 15.5714 V 6.5715 C 21 5.1572 19.8428 4 18.4286 4 H 5.5715 Z M 6.8572 9.1428 V 7.8572 H 17.1428 V 9.1428 H 6.8572 Z M 6.8572 11.7143 V 10.4286 H 17.1428 V 11.7143 H 6.8572 Z M 6.8572 14.2857 V 13 H 13.2857 V 14.2857 H 6.8572 Z"],
["info","M 12 21 C 16.9705 21 21 16.9705 21 12 C 21 7.0295 16.9705 3 12 3 C 7.0295 3 3 7.0295 3 12 C 3 16.9705 7.0295 21 12 21 Z M 13.2857 10.7143 V 17.1428 H 10.7143 V 10.7143 H 13.2857 Z M 13.2857 9.4285 V 6.8572 H 10.7143 V 9.4285 H 13.2857 Z"]]),YVe={style:"default",color:"#202124",icon:"info"},ZVe=[{style:"alert",color:"#D50000",icon:"alert"},{style:"warning",color:"#E37400",icon:"warning"},{style:"comment",color:"#3367D6",icon:"topic"},{style:"info",color:"#757575",icon:"info"}],loe=function(a){let b;
return null!=(b=XVe.get(a))?b:""},ooe=function(a,b){a.scopeObservable.pipe(_.af(1)).subscribe(c=>{a.store.dispatch(LPe({chartId:c.chartId,layerId:c.layerId,annotations:b.annotationIds.map(d=>({annotationId:d}))}))})},$Ve=function(a){return new Map(a.map(b=>[b.style,b]))},aWe=function(a,b){var c=b.currentValue,d;b=null==c?void 0:null==(d=c.data)?void 0:d.sort((h,l)=>h.start-l.start);var e;d=null==c?void 0:null==(e=c.config)?void 0:e.annotationStyles;e=null==c?void 0:c.state;var f;c=null==c?void 0:
null==(f=c.config)?void 0:f.fallbackAnnotationStyle;if((null==b?0:b.length)&&d&&e&&c){f=[];var g=null;for(const h of b){b=e.domainMap(h.start);let l;const n=null!=(l=h.end&&e.domainMap(h.end))?l:null;let r;const v=null!=(r=d.get(h.style))?r:c;null!==b&&b<e.bodyLeft&&null!==n&&n>e.bodyLeft&&(b=e.bodyLeft);null===b||b<e.bodyLeft||b>e.bodyRight||(g&&b>=g.left&&b<=g.left+(28+8*(g.icons.length-1)+.6*12*(Math.floor(Math.log10(g.annotationIds.length))+1))?(g.icons.filter(w=>w.icon===v.icon&&w.color===v.color).length||
g.icons.push({icon:v.icon,color:v.color}),g.annotationIds.push(h.annotationId),h.annotationContent&&g.annotationContents.push(h.annotationContent)):(g&&f.push(g),g={icons:[{icon:v.icon,color:v.color}],top:0,left:b-4,annotationIds:[h.annotationId],annotationContents:h.annotationContent?[h.annotationContent]:[]}))}g&&f.push(g);a.annotationClusterSubject.next(f)}else a.annotationClusterSubject.next([])},bWe=class extends a9{constructor(a,b,c,d,e,f){super(a,b,c,d,!0);this.ngZone=f;this.data=null;this.styles=
ZVe;this.dataSubject=new _.bg(this.data);this.configSubject=new _.bg({annotationStyles:$Ve(this.styles),fallbackAnnotationStyle:YVe});this.annotationClusterSubject=new _.bg([]);this.annotationClusterObservable=this.annotationClusterSubject.pipe(_.Ye(0),Y5(this.ngZone));this.iconSize=20;this.groupedIconOffset=8;this.annotationView=new VVe(a.nativeElement)}ngOnInit(){super.ngOnInit();this.setup({dataObservable:this.dataSubject,configObservable:this.configSubject});const a=I8(this,RVe);_.qe([this.dataObservable,
a,this.configObservable]).pipe(_.U(([b,c,d])=>({data:b.currentValue,config:d.currentValue,state:null!=c?c:null})),_.yf(null),_.qf(),_.U(Q5),_.Af(this.destroyed),_.Gf(this.scopeObservable)).subscribe(([b,c])=>{this.chart.scheduleChangeHandler({mergeKey:`${c.layerId||this.layerId}-drawFromSelection`,changes:b,viewHandler:d=>{this.annotationView.draw(d)},scope:c||{layerId:this.layerId,chartId:this.chartId,chartGroupId:this.chartGroupId,xAxisId:this.xAxisId,yAxisId:this.yAxisId}})});_.qe([this.dataObservable,
this.scopeObservable]).pipe(_.U(([b,c])=>({data:b.currentValue,scope:c})),_.yf(null),_.qf(),_.U(Q5),_.Af(this.destroyed)).subscribe(b=>{let c,d;this.chart.scheduleChangeHandler({mergeKey:`${(null==(c=b.currentValue)?void 0:c.scope.layerId)||this.layerId}-setMarginRequirement`,changes:b,componentHandler:e=>{if(e.currentValue){var f=e.currentValue.scope,g;e=[$Pe({chartGroupId:f.chartGroupId,chartId:f.chartId,layerId:f.layerId,reservedMargins:{top:(null==(g=e.currentValue.data)?0:g.length)?33:0}})]}else e=
[];return e},scope:(null==(d=b.currentValue)?void 0:d.scope)||{layerId:this.layerId,chartId:this.chartId,chartGroupId:this.chartGroupId,xAxisId:this.xAxisId,yAxisId:this.yAxisId}})});_.qe([this.dataObservable,a,this.configObservable,this.scopeObservable]).pipe(_.U(([b,c,d,e])=>({data:b.currentValue,config:d.currentValue,scope:e,state:null!=c?c:null})),_.yf(null),_.qf(),_.U(Q5),_.Af(this.destroyed)).subscribe(b=>{let c,d;this.chart.scheduleChangeHandler({mergeKey:`${(null==(c=b.currentValue)?void 0:
c.scope.layerId)||this.layerId}-drawIcons`,changes:b,componentHandler:e=>{aWe(this,e)},scope:(null==(d=b.currentValue)?void 0:d.scope)||{layerId:this.layerId,chartId:this.chartId,chartGroupId:this.chartGroupId,xAxisId:this.xAxisId,yAxisId:this.yAxisId}})});K8(this.chart,"chart",b=>this.onMouseMove(b),this.destroyed)}onMouseMove(a){const b=[];a=W8(this,a);a=UVe(this.annotationView,a);let c;b.push(MPe({chartId:this.chartId,layerId:this.layerId,annotations:null!=(c=null==a?void 0:a.map(d=>({annotationId:d})))?
c:[]}));return b}ngAfterViewInit(){for(const a of this.data||[])if(a.annotationContent)break}ngOnChanges(a){super.ngOnChanges(a);"data"in a&&this.dataSubject.next(this.data);"styles"in a&&this.configSubject.next({annotationStyles:$Ve(this.styles),fallbackAnnotationStyle:YVe})}};bWe.\u0275fac=function(a){return new (a||bWe)(_.A(_.ad),_.A(_.fq),_.A(L8),_.A(b9),_.A(y9),_.A(_.Jf))};
bWe.\u0275cmp=_.q({type:bWe,selectors:[["ac-annotation"]],viewQuery:function(a,b){a&1&&_.Oe(WVe,5);if(a&2){let c;_.Ne(c=_.Qe())&&(b.projectedContent=c.first)}},hostAttrs:[1,"composable-layer","ac-annotation"],inputs:{data:"data",styles:"styles",tooltipContentTemplate:"tooltipContentTemplate"},features:[_.wd,_.Gc],ngContentSelectors:["*"],decls:6,vars:3,consts:[["mat-button","","class","annotation-cluster-button",3,"ngStyle","aceTooltip","aceTooltipTemplateData","aceTooltipInteractive","click","mouseenter",
4,"ngFor","ngForOf"],["tooltipContent",""],["projectedContent",""],["mat-button","",1,"annotation-cluster-button",3,"ngStyle","aceTooltip","aceTooltipTemplateData","aceTooltipInteractive","click","mouseenter"],[1,"button-content"],[1,"icon-group",3,"ngStyle"],[4,"ngFor","ngForOf"],["class","annotation-count",4,"ngIf"],[3,"ngStyle"],["viewBox","0 0 24 24"],"stroke-width 3 stroke white fill-rule evenodd clip-rule evenodd".split(" "),["fill-rule","evenodd","clip-rule","evenodd"],[1,"annotation-count"],
[4,"ngIf","ngIfElse"],["projectedTooltipContents",""],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(a,b){a&1&&(_.Pd(),_.P(0,soe,5,14,"button",0),_.Zd(1,"async"),_.P(2,Aoe,3,2,"ng-template",null,1,_.Te),_.P(4,Boe,1,0,"ng-template",null,2,_.Te));a&2&&_.C("ngForOf",_.$d(1,1,b.annotationClusterObservable))},dependencies:[_.kl,_.ll,_.ol,_.xD,_.ml,_.nl,_.QB,_.Bp,_.hE,_.pl],styles:[".composable-layer[_nghost-%COMP%]{position:absolute;height:100%;width:100%;top:0;left:0}[_nghost-%COMP%] .overlay-z-index{z-index:9}.ac-screen-reader-only-content[_ngcontent-%COMP%]{clip:rect(1px, 1px, 1px, 1px);height:1px;margin:0;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px;z-index:-1000}.ac-a11y-focused[_ngcontent-%COMP%], .ac-a11y-focusable[_ngcontent-%COMP%]:focus, .ac-a11y-focus-within[_ngcontent-%COMP%]:focus-within, .ac-a11y-keyboard-focusable.cdk-keyboard-focused[_ngcontent-%COMP%]{outline:3px solid #3367d6;outline-offset:-3px}.ac-a11y-keyboard-focusable[_ngcontent-%COMP%]{outline:none}.annotation-cluster-button[mat-button][_ngcontent-%COMP%]{position:absolute;line-height:20px;font-size:12px;padding:3px 4px;min-width:unset;z-index:9;background:transparent;font-weight:700;color:#4f4f4f}.annotation-cluster-button[mat-button][_ngcontent-%COMP%]   .button-content[_ngcontent-%COMP%]{display:flex;flex-direction:row}.annotation-cluster-button[mat-button][_ngcontent-%COMP%]   .button-content[_ngcontent-%COMP%]   .icon-group[_ngcontent-%COMP%]{position:relative;height:20px}.annotation-cluster-button[mat-button][_ngcontent-%COMP%]   .button-content[_ngcontent-%COMP%]   .icon-group[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;height:20px;width:20px}\n/*# sourceMappingURL=ac_annotation.css.map */"],
changeDetection:0});var V9=class{};V9.\u0275fac=function(a){return new (a||V9)};V9.\u0275mod=_.Bc({type:V9});V9.\u0275inj=_.tc({imports:[_.ql,_.Fp,_.jE]});
var cWe=["*"],dWe=function(){return".composable-layer[_nghost-%COMP%]{position:absolute;height:100%;width:100%;top:0;left:0}[_nghost-%COMP%] .overlay-z-index{z-index:9}.ac-screen-reader-only-content[_ngcontent-%COMP%]{clip:rect(1px, 1px, 1px, 1px);height:1px;margin:0;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px;z-index:-1000}.ac-a11y-focused[_ngcontent-%COMP%], .ac-a11y-focusable[_ngcontent-%COMP%]:focus, .ac-a11y-focus-within[_ngcontent-%COMP%]:focus-within, .ac-a11y-keyboard-focusable.cdk-keyboard-focused[_ngcontent-%COMP%]{outline:3px solid #3367d6;outline-offset:-3px}.ac-a11y-keyboard-focusable[_ngcontent-%COMP%]{outline:none}div.ac-hover-container[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;background-color:rgba(255,255,255,.9);border:1px solid rgba(0,0,0,.12);padding:12px;min-width:200px}button.close-button[_ngcontent-%COMP%]{color:#80868b;position:absolute;right:6px;top:6px;height:24px;width:24px;line-height:24px;padding:0}button.close-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{height:18px;width:18px}\n/*# sourceMappingURL=ac_hovercard.css.map */"},
eWe=class{constructor(){this.refocusAfterViewChecked=this.grabFocusAndUseAsModal=this.initialized=!1}ngOnInit(){this.initialized=!0}ngOnChanges(a){this.initialized&&"grabFocusAndUseAsModal"in a&&this.grabFocusAndUseAsModal&&(this.refocusAfterViewChecked=!0)}ngAfterViewChecked(){if(this.refocusAfterViewChecked){let a;if(null==(a=this.cdkTrapFocus)?0:_.STa(a.focusTrap))this.refocusAfterViewChecked=!1}}};eWe.\u0275fac=function(a){return new (a||eWe)};
eWe.\u0275cmp=_.q({type:eWe,selectors:[["ac-hovercard-dialog"]],viewQuery:function(a,b){a&1&&_.Oe(_.mx,5);if(a&2){let c;_.Ne(c=_.Qe())&&(b.cdkTrapFocus=c.first)}},inputs:{grabFocusAndUseAsModal:"grabFocusAndUseAsModal"},features:[_.Gc],ngContentSelectors:cWe,decls:2,vars:2,consts:[["cdkTrapFocus","",1,"ac-hover-container"]],template:function(a,b){a&1&&(_.Pd(),_.E(0,"div",0),_.Qd(1),_.F());a&2&&_.zd("aria-modal",b.grabFocusAndUseAsModal?!0:void 0)("role",b.grabFocusAndUseAsModal?"dialog":"tooltip")},
dependencies:[_.mx],styles:[dWe()],changeDetection:0});
var W9=class extends N9{constructor(a,b,c,d,e,f,g,h,l,n){super(a,b,c,d,e,f,g,n);this.interactionService=h;this.modalService=l;this.ngZone=n;this.positionStrategy=Coe;this.onClose=()=>{};this.closeAriaLabel="Return to chart";this.grabFocusAndUseAsModalSubject=new _.bg(!1);this.grabFocusAndUseAsModalObservable=this.grabFocusAndUseAsModalSubject.pipe(Y5(this.ngZone))}focus(a){this.onClose=a;this.grabFocusAndUseAsModalSubject.next(!0)}onFocusIn(a){this.onFocus(a)}onDetach(){this.grabFocusAndUseAsModalSubject.next(!1)}onAttach(){this.modalService.register(0,this);
this.interactionService.sendAveEvent("hover",VQe,this.el.nativeElement)}};W9.\u0275fac=function(a){return new (a||W9)(_.A(_.ad),_.A(_.fq),_.A(L8),_.A(b9),_.A(y9),_.A(_.eo),_.A(_.Me),_.A(s9),_.A(t9),_.A(_.Jf))};
W9.\u0275cmp=_.q({type:W9,selectors:[["ac-hovercard"]],viewQuery:function(a,b){a&1&&_.Oe(_.mx,5);if(a&2){let c;_.Ne(c=_.Qe())&&(b.cdkTrapFocus=c.first)}},hostAttrs:[1,"composable-layer","ac-hovercard"],features:[_.Wd([{provide:a9,useExisting:W9},{provide:N9,useExisting:W9}]),_.wd],ngContentSelectors:cWe,decls:2,vars:0,consts:[["hoverContent",""],[3,"grabFocusAndUseAsModal","focusin",4,"ngIf"],[3,"grabFocusAndUseAsModal","focusin"],["mat-icon-button","","class","close-button ac-a11y-focusable",3,"click",
"focus",4,"ngIf"],["mat-icon-button","",1,"close-button","ac-a11y-focusable",3,"click","focus"],["svgIcon","ac:close"]],template:function(a){a&1&&(_.Pd(),_.P(0,Foe,2,3,"ng-template",null,0,_.Te))},dependencies:[_.ll,_.Bp,_.vo,eWe,_.pl],styles:[dWe()],changeDetection:0});var X9=class{};X9.\u0275fac=function(a){return new (a||X9)};X9.\u0275mod=_.Bc({type:X9});X9.\u0275inj=_.tc({imports:[_.ql,_.fo,_.Cn,_.Fp,_.Do,_.fo]});
var Y9=class{};Y9.\u0275fac=function(a){return new (a||Y9)};Y9.\u0275mod=_.Bc({type:Y9});Y9.\u0275inj=_.tc({imports:[_.ql]});
var fWe=class{constructor(a){this.mdIconRegistry=a;a=(0,_.Vb)`https://www.gstatic.com/stackdriver/ng2_awesomecharts/icons/core_icon_set_27.svg`;this.mdIconRegistry._addSvgIconSetConfig("ac",new _.to(a))}};fWe.\u0275fac=function(a){return new (a||fWe)(_.p(_.uo))};fWe.\u0275mod=_.Bc({type:fWe});fWe.\u0275inj=_.tc({imports:[_.DS]});
var Z9=class{constructor(){_.DN.setWhitelist("chart-analytics-events",!0);_.DN.setWhitelist("chart-loading-timings",!0);_.DN.setThrowPartials&&_.DN.setThrowPartials(!1)}};Z9.\u0275fac=function(a){return new (a||Z9)};Z9.\u0275mod=_.Bc({type:Z9,id:"pm_awesomecharts_module"});Z9.\u0275inj=_.tc({providers:[{provide:_.bm,useValue:{AcChart:L9}}],imports:[V9,g9,z9,M9,O9,A9,B9,X9,fWe,U9,C9,D9,P9,Y9,S9,E9,T9,F9,H9,I9,V9,z9,M9,O9,A9,B9,X9,U9,C9,D9,P9,Y9,S9,E9,T9,F9,H9,I9]});_.vd(Z9,"pm_awesomecharts_module");
var gWe=_.wh("[AC] Sets the group ID to name map",_.xh()),hWe=_.wh("[AC] Sets the instance ID to name map",_.xh());
var iWe=function(a){return null!==a.min&&null!==a.max||a.requirements.length&&(a=Yie(a.requirements))?{min:new Date(a.min),max:new Date(a.max)}:{min:null,max:null}},jWe=function(a){return 0===a.axis&&a.xPos?{position:a.xPos,startPosition:a.xPosStart}:null},kWe=function([a,b]){let c,d;return!!(b&&!a||!b&&a||b&&a&&(b.position.valueOf()!==a.position.valueOf()||(null==(c=b.startPosition)?void 0:c.valueOf())!==(null==(d=a.startPosition)?void 0:d.valueOf())))},lWe=function(a){return null!=a&&a.xPos?{position:a.xPos,
locked:a.locked,trackingNow:a.trackingNow}:null},bMe=function(a){return[N8({chartGroupId:a.chartGroupId,chartId:a.chartId,xAxisId:a.xAxisId,priority:4,cause:5}),N8({chartGroupId:a.chartGroupId,chartId:a.chartId,xAxisId:a.xAxisId,priority:3,cause:5})]},mWe=function(a,b){return[N8({chartGroupId:a.chartGroupId,chartId:a.chartId,xAxisId:a.xAxisId,priority:2,cause:2}),M8({chartGroupId:a.chartGroupId,chartId:a.chartId,xAxisId:a.xAxisId,min:b.min.valueOf(),max:b.max.valueOf(),id:a.chartGroupId,priority:2,
cause:2,unit:"ms_since_epoch"})]},nWe=function(a,b){b?a.store.dispatch(O5({actions:[m9({chartGroupId:a.chartGroupId,position:b.position}),n9({chartGroupId:a.chartGroupId,locked:b.locked}),o9({chartGroupId:a.chartGroupId,trackingNow:b.trackingNow})]})):a.store.dispatch(O5({actions:[m9({chartGroupId:a.chartGroupId,position:null}),n9({chartGroupId:a.chartGroupId,locked:!1}),o9({chartGroupId:a.chartGroupId,trackingNow:!1})]}))},oWe=function(a,b=!1){const c=a.definedXAxisObservable.pipe(_.U(iWe),_.Ze(a.isDomainSame));
return b?c:c.pipe(Y5(a.ngZone))},pWe=function(a){return a.definedBrushObservable.pipe(_.U(jWe),_.yf(null),_.qf(),_.Ge(kWe),_.U(([,b])=>b))},qWe=function(a){return _.ke(gie(a.xAxisObservable).pipe(_.U(([b])=>!!b&&b.requirements.some(c=>4===c.priority))))},rWe=class{constructor(a,b,c,d,e){this.store=a;this.selectorService=b;this.chartGroupId=c;this.queryAnalysisService=d;this.ngZone=e;this.chartId="";this.xAxisId="chart_group";this.xAxisObservable=this.selectorService.getSelection(S8,{chartGroupId:c,
chartId:this.chartId,xAxisId:this.xAxisId});this.definedXAxisObservable=this.xAxisObservable.pipe(_.Ge(f=>!!f));this.brushObservable=a.pipe(_.Eh(nie({chartGroupId:c})));this.definedBrushObservable=this.brushObservable.pipe(_.Ge(f=>!!f));this.xAxisPinObservable=a.pipe(_.Eh(fie({chartGroupId:c})));this.definedXAxisPinObservable=this.xAxisPinObservable.pipe(_.Ge(f=>!!f));this.hierarchyObservable=a.pipe(_.Eh(sje()));this.definedHierarchyObservable=this.hierarchyObservable.pipe(_.Ge(f=>!!f));this.chartSpecEntityStateObservable=
a.pipe(_.Eh(Bie));a.pipe(_.Eh(Pme));this.chartSpecObservable=_.qe([this.definedHierarchyObservable,this.chartSpecEntityStateObservable]).pipe(_.U(([f,g])=>{const h=g.ids;let l;return Array.from(null!=(l=f.chartsByGroup[this.chartGroupId])?l:new Set).filter(n=>h.includes(n)).map(n=>g.entities[n])}));this.chartSpecObservable.pipe(_.U(f=>f.flatMap(g=>{const h=[];for(const l of g.dataSets)void 0!==l.timeSeriesFilter&&(g=_.hO.getFilterDescriptor(l.timeSeriesFilter.filter))&&h.push(g),void 0!==l.timeSeriesFilterRatio&&
(g=_.hO.getFilterDescriptor(l.timeSeriesFilterRatio.numeratorFilter.filter))&&h.push(g);return h})),_.yf([]));this.chartSpecObservable.pipe(_.U(f=>f.flatMap(g=>{const h=[];for(const l of g.dataSets)void 0!==l.timeSeriesFilter&&(g=l.timeSeriesFilter.filter)&&h.push(g),void 0!==l.timeSeriesFilterRatio&&(g=l.timeSeriesFilterRatio.numeratorFilter.filter)&&h.push(g);return h})),_.Ze((f,g)=>JSON.stringify(f)===JSON.stringify(g)),_.yf([]))}setDomain(a,b=!1){a={min:a.max.valueOf()>a.min.valueOf()?a.min:a.max,
max:a.max.valueOf()>a.min.valueOf()?a.max:a.min};this.store.dispatch(O5({actions:[...(b?[]:bMe(this)),...mWe(this,a)]}))}setZoom(a,b){this.store.dispatch(O5({actions:[...(b?mWe(this,b):[]),...bMe(this),M8({chartGroupId:this.chartGroupId,chartId:this.chartId,xAxisId:this.xAxisId,min:a.min.valueOf(),max:a.max.valueOf(),id:this.chartGroupId,priority:4,cause:4,unit:"ms_since_epoch"})]}))}setBrush(a){a?a.startPosition?this.store.dispatch(HSe({chartGroupId:this.chartGroupId,positionStart:a.startPosition,
position:a.position})):this.store.dispatch(JSe({chartGroupId:this.chartGroupId,position:a.position})):this.store.dispatch(ISe({chartGroupId:this.chartGroupId}))}resetYAxisPanZoom(){this.definedHierarchyObservable.pipe(_.af(1)).subscribe(a=>{let b;a=this.resetYAxisPanZoomActions(Array.from(null!=(b=a.chartsByGroup[this.chartGroupId])?b:[]));a.length&&this.store.dispatch(O5({actions:a}))})}resetYAxisPanZoomActions(a){return a.reduce((b,c)=>b.concat([U8({chartId:c,yAxisId:"right",priority:4}),U8({chartId:c,
yAxisId:"right",priority:3}),U8({chartId:c,yAxisId:"left",priority:4}),U8({chartId:c,yAxisId:"left",priority:3})]),[])}isDomainSame(a,b){let c,d,e,f;return(null==(c=a.min)?void 0:c.valueOf())===(null==(d=b.min)?void 0:d.valueOf())&&(null==(e=a.max)?void 0:e.valueOf())===(null==(f=b.max)?void 0:f.valueOf())}getDomain(){return _.ke(gie(this.xAxisObservable).pipe(_.U(([a])=>a?{min:a.min?new Date(a.min):null,max:a.max?new Date(a.max):null}:{min:null,max:null})))}getDefaultDomainFromXAxis(a){return a?
(a=Yie(a.requirements,[1,2]))?{min:a.min?new Date(a.min):null,max:a.max?new Date(a.max):null}:{min:null,max:null}:{min:null,max:null}}};
var sWe=class{constructor(a,b,c,d,e,f){this.store=a;this.selectorService=b;this.chartId=d;this.queryAnalysisService=e;this.ngZone=f;b={chartGroupId:c,chartId:d,yAxisId:"right",xAxisId:"chart_group",layerId:""};c=Object.assign({},b,{yAxisId:"left"});a.pipe(_.Eh(zie(b))).pipe(_.U(g=>{const h=[];g&&g.byLayer.entities&&Object.values(g.byLayer.entities).forEach(l=>{null==l||l.selectedSeries.forEach(n=>{h.push(n.seriesId)})});return h}),Y5(this.ngZone));this.rightYAxisObservable=this.selectorService.getSelection(V8,
b);this.definedRightYAxisObservable=this.rightYAxisObservable.pipe(_.Ge(g=>!!g));this.rightYAxisObservable.pipe(_.U(g=>!(!g||!g.requirements.some(h=>4===h.priority))));this.leftYAxisObservable=this.selectorService.getSelection(V8,c);this.definedLeftYAxisObservable=this.leftYAxisObservable.pipe(_.Ge(g=>!!g));c=_.De(this.definedRightYAxisObservable,this.definedLeftYAxisObservable).pipe(_.af(1));_.qe([this.rightYAxisObservable,this.leftYAxisObservable]).pipe(C9d(c),_.U(([g,h])=>{const [l,n]=[g,h].map(r=>
(r=null==r?void 0:r.requirements.reduce((v,w)=>{let y;return 1===w.priority&&!(null==(y=w.constraints)?0:y.onlyApplyIfUnitCompatible)&&!v&&w.unit||v},null))&&r.replace("(rate)","/s")||null);return{right:l,left:n}}));this.chartSpecObservable=a.pipe(_.Eh(Cie(b)));this.definedChartSpecObservable=this.chartSpecObservable.pipe(_.Ge(g=>!!g));this.chartStateObservable=a.pipe(_.Eh(Qme(b)));this.definedChartStateObservable=this.chartStateObservable.pipe(_.Ge(g=>!!g));this.definedChartSpecObservable.pipe(_.U(g=>
{const h=[];for(const l of g.dataSets)void 0!==l.timeSeriesFilter&&h.push(_.hO.getFilterDescriptor(l.timeSeriesFilter.filter)),void 0!==l.timeSeriesFilterRatio&&h.push(_.hO.getFilterDescriptor(l.timeSeriesFilterRatio.numeratorFilter.filter));return h}));this.queryAnalysesObservable=_.qe([this.definedChartSpecObservable,this.definedChartStateObservable]).pipe(_.zf(([g,h])=>{const l=[];let n;if(h=null!=(n=h.projectId)?n:"")for(const r of g.dataSets)void 0!==r.timeSeriesQuery&&l.push(JLe(this.queryAnalysisService,
{originalQueryText:r.timeSeriesQuery,projectId:h,addDrilldownAnnotation:!0}));return _.ye(l)}),_.U(g=>g.filter(h=>!!h)));this.queryAnalysesObservable.pipe(_.U(g=>{const h=[];for(const l of g){let n;if(null==(n=l)?0:n.drilldownAnalysis){let r;g=null!=(r=l.drilldownAnalysis.map(v=>new eCe(v)))?r:[];h.push(...g)}}return h}),_.yf([]));a.pipe(_.Eh(aie(b)),_.We(10),_.U(g=>g?Object.values(g.byLayer.entities).filter(h=>{let l;return!!(h&&1===h.valueType&&(null==(l=h.snapshotMetadata)?0:l[1]))}).map(h=>({series:Object.values(h.bySeries.entities).filter(l=>
!(!l||!l.atTimeKey[1])).map(l=>({id:l.seriesId,datum:l.atTimeKey[1]})),unit:h.unit,window:h.snapshotMetadata[1].alignmentRange})):null));a.pipe(_.Eh(pie(b)),_.U(g=>{const h=new Map;if(null!=g)for(const l of Object.keys(g.colorMap))h.set(l,g.colorMap[l]);return h}));this.store.pipe(_.Eh(Aie(b)),_.Ge(g=>!!g))}refresh(){this.store.dispatch(YPe({chartId:this.chartId}))}resetYAxisPanZoom(){this.store.dispatch(O5({actions:this.resetYAxisPanZoomActions()}))}resetYAxisPanZoomActions(){return[U8({chartId:this.chartId,
yAxisId:"right",priority:4}),U8({chartId:this.chartId,yAxisId:"right",priority:3})]}setZoom(a,b){var c=this.store,d=c.dispatch;b=b?[U8({chartId:this.chartId,yAxisId:"right",priority:2}),T8({chartId:this.chartId,yAxisId:"right",min:b[0],max:b[1],id:this.chartId,priority:2,cause:2,unit:"ms_since_epoch"})]:[];d.call(c,O5({actions:[...b,...this.resetYAxisPanZoomActions(),T8({chartId:this.chartId,yAxisId:"right",min:a[0],max:a[1],id:this.chartId,priority:4,cause:4,unit:"ms_since_epoch"})]}))}};
var tWe=function(a,b){var c=a.chartGroupHandleCache.get(b);if(c)return c;c=new rWe(a.store,a.selectorService,b,a.queryAnalysisService,a.ngZone);a.chartGroupHandleCache.set(b,c);return c},$9=class{constructor(a,b,c,d){this.store=a;this.selectorService=b;this.queryAnalysisService=c;this.ngZone=d;this.chartGroupHandleCache=new Map;this.chartHandleCache=new Map}getChart(a,b){const c=`${a},${b}`,d=this.chartHandleCache.get(c);if(d)return d;a=new sWe(this.store,this.selectorService,a,b,this.queryAnalysisService,
this.ngZone);this.chartHandleCache.set(c,a);return a}};$9.\u0275fac=function(a){return new (a||$9)(_.p(_.fq),_.p(b9),_.p(n8),_.p(_.Jf))};$9.\u0275prov=_.m({token:$9,factory:$9.\u0275fac,providedIn:"root"});
var uWe=function(a,b){0===a.primary&&(a.primary=b);a.primary===b&&a.resetPrimarySubject.next()},vWe=function(a,b,c){return!(!(b&&b.min&&b.max)||a.lastColaDomains[c]&&(!a.lastColaDomains[c]||a.lastColaDomains[c].min.valueOf()===b.min.valueOf()&&a.lastColaDomains[c].max.valueOf()===b.max.valueOf()))},wWe=function(a,b){if(!a.linked.has(b)){var c=new _.tf,d=_.De(c,a.destroyed);a.linked.set(b,c);var e=a.ng2ChartGroupService.get(b),f=a.ng2TimePinManagerService.get(b),g=tWe(a.colaChartGroupService,b);e.domainStream.pipe(_.Af(d),
_.Ge(h=>!(!(h&&h[0]&&h[1]&&0<Math.abs(h[0].valueOf()-h[1].valueOf()))||a.lastNg2Domains[b]&&(!a.lastNg2Domains[b]||a.lastNg2Domains[b][0].valueOf()===h[0].valueOf()&&a.lastNg2Domains[b][1].valueOf()===h[1].valueOf()))),_.Ef(h=>{a.lastNg2Domains[b]=h;uWe(a,1)}),_.Ge(()=>1===a.primary)).subscribe(()=>_.ne(function*(){var h=e.acChartGroup.defaultZoom();if(h=h&&h[0]&&h[1]?{min:h[0],max:h[1]}:null)if(e.isZoomed()){var l=jCe(e);(l=l&&l[0]&&l[1]?{min:l[0],max:l[1]}:null)&&g.setZoom(l,h)}else g.setDomain(h)}));
_.qe([oWe(g,!0).pipe(_.yf({min:null,max:null})),g.definedXAxisObservable.pipe(_.U(g.getDefaultDomainFromXAxis),_.Ze(g.isDomainSame))]).pipe(_.Af(d),_.U(([h,l])=>vWe(a,h,b)?[h,l]:[l,l]),_.Ge(h=>{[h]=h;return vWe(a,h,b)}),_.Ef(([h])=>{a.lastColaDomains[b]=h;uWe(a,2)}),_.Ge(()=>2===a.primary)).subscribe(([h,l])=>_.ne(function*(){(yield qWe(g))?l.min&&l.max&&(e.domain=[l.min,l.max],e.setZoom([h.min,h.max])):(e.isZoomed()&&e.resetZoom(),e.domain=[h.min,h.max])}));e.brushStream.pipe(_.Af(d),_.Ef(()=>{uWe(a,
1)}),_.Ge(()=>1===a.primary)).subscribe(h=>{let l=null;if(h&&h.length)if(2===h.length){const [n,r]=h;n&&r&&(l={startPosition:n.valueOf(),position:r.valueOf()})}else 1===h.length&&([h]=h,h&&(l={startPosition:null,position:h.valueOf()}));g.setBrush(l)});pWe(g).pipe(_.Af(d),_.Ef(()=>{uWe(a,2)}),_.Ge(()=>2===a.primary)).subscribe(h=>{const l=[];(null==h?0:h.startPosition)&&l.push(new Date(h.startPosition));(null==h?0:h.position)&&l.push(new Date(h.position));e.setBrush(l)});_.De(f.onSetChange,f.onTrackNowChange).pipe(_.Af(d),
_.Ef(()=>{uWe(a,1)}),_.Ge(()=>1===a.primary)).subscribe(()=>{const h=f.getDate(),l=f.isLocked(),n=f.isTrackingNow();h?nWe(g,{position:h.valueOf(),locked:l,trackingNow:n}):nWe(g,null)});g.definedXAxisPinObservable.pipe(_.U(lWe)).pipe(_.Af(d),_.Ef(()=>{uWe(a,2)}),_.Ge(()=>2===a.primary)).subscribe(h=>{h?(f.setAll(new Date(h.position),h.locked),h.trackingNow?f.enableTrackNow():f.disableTrackNow()):rCe(f)})}},xWe=class{constructor(a,b,c){this.ng2ChartGroupService=a;this.ng2TimePinManagerService=b;this.colaChartGroupService=
c;this.destroyed=new _.tf;this.linked=new Map;this.resetPrimarySubject=new _.tf;this.primary=0;this.lastColaDomains={};this.lastNg2Domains={};this.resetPrimarySubject.pipe(_.Af(this.destroyed),_.We(250)).subscribe(()=>{this.primary=0})}ngOnDestroy(){this.destroyed.next();this.destroyed.complete()}};xWe.\u0275fac=function(a){return new (a||xWe)(_.p(n7),_.p(s7),_.p($9))};xWe.\u0275prov=_.m({token:xWe,factory:xWe.\u0275fac,providedIn:"root"});
var Koe=function(a,b){return{chartGroupId:a,chartId:b}},Poe=function(a,b){return{chartId:a,yAxisId:b}},yWe=class{constructor(a){this.viewContainerRef=a}};yWe.\u0275fac=function(a){return new (a||yWe)(_.A(_.Me))};yWe.\u0275dir=_.q({type:yWe,selectors:[["","dynamic-chart-control-panel",""]]});
var zWe=new _.Zc("CONTAINER_DATA"),AWe=0,BWe=class{constructor(a,b,c,d,e){this.data=a;this.chartGroupManagerService=b;this.chartGroupService=c;this.componentFactoryResolver=d;this.hybridChartGroupService=e;this.timeRangeAndDomain=Oge("1h");this.chartConfigObservable=new _.rf;this.chartId=`fullscreen-chart-${AWe++}`;this.destroyed=new _.tf;this.useCustomChartControlPanel=!1;this.xyChart=this.data.xyChart;this.groupId=this.data.groupId;this.projectIdObservable=this.data.projectIdObservable;this.onCloseCb=
this.data.onCloseCb;this.data.componentFactoryResolver&&(this.componentFactoryResolver=this.data.componentFactoryResolver);this.resourceMetadataNamingFunctions=this.data.resourceMetadataNamingFunctions;a=this.chartGroupManagerService.get(this.groupId);fCe(a,f=>{f.domain&&(this.isZoomed=!0)});this.timeRangeAndDomain=this.data.selectedTimeRange;this.isZoomed=a.isZoomed();this.heightObservable=this.data.heightObservable.pipe(_.U(f=>f/2));this.colaEnabled=this.data.colaEnabled;this.chartConfigTransformationStrategies=
this.data.chartConfigTransformationStrategies||[];this.fetchableFactory=this.data.fetchableFactory||null;this.defaultYAxisId=this.data.defaultYAxisId||"right";this.exemplarConfig=this.data.exemplarConfig;this.colaEnabled&&wWe(this.hybridChartGroupService,this.groupId)}ngOnInit(){if(this.data.customChartControlsComponent){this.useCustomChartControlPanel=!0;const a=this.componentFactoryResolver.resolveComponentFactory(this.data.customChartControlsComponent),b=this.dynamicChartControlsPanelDirective.viewContainerRef;
b.clear();_.al(b,a)}}ngOnDestroy(){this.destroyed.next(null);this.destroyed.complete();var a=this.hybridChartGroupService,b=this.groupId;const c=a.linked.get(b);c&&(c.next(),c.complete(),a.linked.delete(b))}onClose(){this.onCloseCb()}resetZoom(){this.isZoomed=!1;this.chartGroupManagerService.get(this.groupId).resetZoom()}};BWe.\u0275fac=function(a){return new (a||BWe)(_.A(zWe),_.A(n7),_.A($9),_.A(_.Lk),_.A(xWe))};
BWe.\u0275cmp=_.q({type:BWe,selectors:[["ac-full-panel-chart"]],viewQuery:function(a,b){a&1&&_.Oe(yWe,7);if(a&2){let c;_.Ne(c=_.Qe())&&(b.dynamicChartControlsPanelDirective=c.first)}},decls:8,vars:5,consts:[[1,"ac-full-panel-chart"],[3,"isZoomed","showCustom","timeRangeAndDomain","resetZoom","timeRangeAndDomainChange","onClose",4,"ngIf"],["dynamic-chart-control-panel",""],[3,"xyChart","forceV2Hovercard","showLegend","showSubtitles","timePinEnabled","groupId","projectId","enablePanningInteractions",
"height","resourceMetadataNamingFunctions","componentFactoryResolver",4,"ngIf"],[3,"scope",4,"ngIf"],[1,"chart-container"],[3,"chartConfigTransformationStrategies","chartGroupId","chartId","projectId","xyChart","defaultFetchableFactory","renderedChartConfig",4,"ngIf"],[3,"isZoomed","showCustom","timeRangeAndDomain","resetZoom","timeRangeAndDomainChange","onClose"],[3,"xyChart","forceV2Hovercard","showLegend","showSubtitles","timePinEnabled","groupId","projectId","enablePanningInteractions","height",
"resourceMetadataNamingFunctions","componentFactoryResolver"],[3,"scope"],[3,"chartConfigTransformationStrategies","chartGroupId","chartId","projectId","xyChart","defaultFetchableFactory","renderedChartConfig"],["layerId","exemplarLayer",3,"data","loading","loadingDescription","yAxisId","chartConfig","onClickExemplarId",4,"ngIf"],[3,"yAxisId"],["class","ac-hovercard-widget","exemplarLayerId","exemplarLayer",3,"chartConfig",4,"ngIf"],["layerId","exemplarLayer",3,"data","loading","loadingDescription",
"yAxisId","chartConfig","onClickExemplarId"],["exemplarLayerId","exemplarLayer",1,"ac-hovercard-widget",3,"chartConfig"]],template:function(a,b){a&1&&(_.E(0,"div",0),_.P(1,Hoe,1,3,"ac-full-panel-chart-control-panel",1),_.P(2,Ioe,0,0,"ng-template",2),_.P(3,Joe,3,15,"ac-dashboard-chart",3),_.P(4,Loe,1,4,"cola-subtitle",4),_.E(5,"div",5),_.P(6,Ooe,7,11,"ac-chart",6),_.F(),_.P(7,Qoe,1,4,"cola-table-legend",4),_.F());a&2&&(_.x(1),_.C("ngIf",!b.useCustomChartControlPanel),_.x(2),_.C("ngIf",!b.colaEnabled),
_.x(1),_.C("ngIf",b.colaEnabled),_.x(2),_.C("ngIf",b.colaEnabled),_.x(1),_.C("ngIf",b.colaEnabled))},dependencies:[SPe,VPe,L9,oUe,W9,QVe,GUe,jVe,_.ll,p8,nNe,yWe,_.pl],styles:["[_nghost-%COMP%]{flex-grow:1;display:flex;flex-direction:column;background:#fff}.ac-full-panel-chart[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column}.ac-full-panel-chart[_ngcontent-%COMP%]   ac-dashboard-chart[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column}.ac-full-panel-chart[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column}.ac-full-panel-chart[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]   .ng-star-inserted[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column}\n/*# sourceMappingURL=full_panel_chart_style.css.map */"],
changeDetection:0});
var CWe=class{constructor(a,b,c,d){this.overlay=a;this.injector=b;this.chartGroupManagerService=c;this.hovercardService=d}open(a,b,c,d,e,f,g,h="full-panel-chart-group",l,n={colaEnabled:!1},r=[]){this.overlayRef&&this.close();if(!this.parentEl)throw Error("El");a=_.mv(_.wx(_.Ljb(_.nv(_.ov(this.overlay.position(),this.parentEl),!0),!0),!0),[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"}]);const v=this.parentEl.getBoundingClientRect(),w=this.chartGroupManagerService.get(h);w.domain=
Goe(c.domain);g&&w.setZoom(g);this.fullscreenService&&(this.fullscreenService.request(document.body),this.fullscreenService.status(document.body).pipe(_.Ge(B=>!B)).pipe(_.af(1)).subscribe(()=>{this.close()}));this.overlayRef=this.overlay.create({positionStrategy:a,panelClass:"ac-chart-full-panel",hasBackdrop:!1,height:v.height,width:v.width});this.overlayRef.addPanelClass(r);this.overlayRef.keydownEvents().subscribe(B=>{"Escape"===B.code&&this.close()});const y=new _.bg(v.height);this.chartConfig=
Object.assign({},{groupId:h,xyChart:b,heightObservable:y.asObservable(),selectedTimeRange:c,onCloseCb:()=>{this.close()},componentFactoryResolver:f,projectIdObservable:d,resourceMetadataNamingFunctions:e,injector:this.injector,customChartControlsComponent:l},n);b=this.createInjector(this.chartConfig);this.overlayRef.attach(new _.Zn(BWe,null,b,f));a.positionChanges.subscribe(()=>{const B=this.parentEl.getBoundingClientRect();this.overlayRef.updateSize({height:B.height,width:B.width});y.next(B.height)})}reposition(){this.overlayRef&&
this.overlayRef.updatePosition()}close(){this.overlayRef&&(this.fullscreenService&&this.fullscreenService.exit(),this.chartGroupManagerService.remove("full-panel-chart-group"),this.overlayRef.detach(),this.overlayRef.dispose(),this.overlayRef=void 0,this.hovercardService.detachHovercard())}createInjector(a){const b=new WeakMap;b.set(zWe,a);return new Dze(this.injector,b)}};CWe.\u0275fac=function(a){return new (a||CWe)(_.p(_.eo),_.p(_.hg),_.p(n7),_.p(o7))};
CWe.\u0275prov=_.m({token:CWe,factory:CWe.\u0275fac,providedIn:"root"});
var DWe=class extends a9{constructor(a,b,c,d,e){super(a,b,c,d);this.ngZone=e;this.positionSubject=new _.bg({marginLeft:"0px",marginTop:"0px",maxHeight:"0px",maxWidth:"0px"});this.styleObservable=this.positionSubject.pipe(Y5(this.ngZone));this.shownSubject=new _.bg(!1);this.shownObservable=this.shownSubject.pipe(Y5(this.ngZone));this.isChartFocused=this.tooltipOpen=!1;this.action={label:"Learn more",ariaLabel:"Learn more about exploring charted data",kind:"cfcDocHref",docId:"MONITORING_CHARTS_WORKING_WITH_CHARTS"};
this.dialogAriaLabel="Instructions for how to explore charted data"}ngOnInit(){super.ngOnInit();this.setup({});this.chart.mouseEnterObservable.pipe(_.Af(this.destroyed)).subscribe(a=>{this.onMouseEnter(a)});this.chart.mouseLeaveObservable.pipe(_.Af(this.destroyed)).subscribe(a=>{this.onMouseLeave(a)})}ngAfterViewInit(){this.tooltipRef&&(this.tooltipRef.onShow.pipe(_.Af(this.destroyed)).subscribe(()=>{this.tooltipOpen=!0;this.shownSubject.next(!0)}),this.tooltipRef.onHide.pipe(_.Af(this.destroyed)).subscribe(()=>
{this.tooltipOpen=!1;this.shownSubject.next(this.tooltipOpen||this.isChartFocused)}))}onMouseEnter(){this.shownSubject.next(!0)}onMouseLeave(){this.shownSubject.next(this.tooltipOpen||this.isChartFocused)}onResizeChange(a){const b=a.currentValue;b&&J5(a)&&this.positionSubject.next({marginLeft:`${b.margins.left}px`,marginTop:`${b.margins.top}px`,maxHeight:`${b.height}px`,maxWidth:`${b.width}px`})}onFocusChange(a){a=a.currentValue;this.isChartFocused=!!a&&a.chartId===this.chartId;this.shownSubject.next(this.tooltipOpen||
this.isChartFocused)}};DWe.\u0275fac=function(a){return new (a||DWe)(_.A(_.ad),_.A(_.fq),_.A(L8),_.A(b9),_.A(_.Jf))};
DWe.\u0275cmp=_.q({type:DWe,selectors:[["ac-help"]],viewQuery:function(a,b){a&1&&_.Oe(_.hE,5);if(a&2){let c;_.Ne(c=_.Qe())&&(b.tooltipRef=c.first)}},hostAttrs:[1,"composable-layer","ac-help"],features:[_.wd],decls:6,vars:10,consts:function(){return[["mat-icon-button","","aria-label","Learn about exploring charted data",3,"ngStyle","aceTooltip","aceTooltipInteractive","aceTooltipInteractiveDialogAriaLabel"],["svgIcon","ac:help_outline"],["tooltipContent",""],[1,"tooltip-content"],[3,"action"]]},template:function(a,
b){a&1&&(_.E(0,"button",0),_.Zd(1,"async"),_.Zd(2,"async"),_.I(3,"mat-icon",1),_.F(),_.P(4,Roe,45,1,"ng-template",null,2,_.Te));if(a&2){const c=_.Rd(5);_.Bd("shown",_.$d(1,6,b.shownObservable));_.C("ngStyle",_.$d(2,8,b.styleObservable))("aceTooltip",c)("aceTooltipInteractive",!0)("aceTooltipInteractiveDialogAriaLabel",b.dialogAriaLabel)}},dependencies:[_.xD,_.Bp,_.vo,_.hE,_.fE,_.pl],styles:[".composable-layer[_nghost-%COMP%]{position:absolute;height:100%;width:100%;top:0;left:0}[_nghost-%COMP%] .overlay-z-index{z-index:9}[_nghost-%COMP%]   button[_ngcontent-%COMP%]{height:32px;width:32px;position:absolute;top:0;left:0;color:#6f7676;z-index:9;line-height:32px;font-size:11px;opacity:0;-webkit-transition:opacity .2s ease-in-out 0s;transition:opacity .2s ease-in-out 0s}[_nghost-%COMP%]   button.shown[_ngcontent-%COMP%], [_nghost-%COMP%]   button[_ngcontent-%COMP%]:focus{opacity:1;-webkit-transition:opacity .2s ease-in-out 0s;transition:opacity .2s ease-in-out 0s}[_nghost-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;line-height:18px;height:18px;width:18px}.tooltip-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .tooltip-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;margin-bottom:8px;font-size:12px;line-height:16px}.tooltip-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;line-height:16px;margin-bottom:12px;color:rgba(0,0,0,.66)}\n/*# sourceMappingURL=ac_help.css.map */"],
changeDetection:0});var EWe=class{};EWe.\u0275fac=function(a){return new (a||EWe)};EWe.\u0275mod=_.Bc({type:EWe});EWe.\u0275inj=_.tc({imports:[_.ql,_.Fp,_.Do,_.yt,_.jE]});
var Zoe=[{seriesTemplate:{name:"Mean",id:"mean"},computeFunction:dpe},{seriesTemplate:{name:"Standard Deviation",id:"stdev"},computeFunction:epe},{seriesTemplate:{name:"Median",id:"median"},computeFunction:fpe(.5)},{seriesTemplate:{name:"95th Percentile",id:"95th"},computeFunction:fpe(.95)},{seriesTemplate:{name:"5th Percentile",id:"5th"},computeFunction:fpe(.05)}],ape=[{seriesTemplate:{name:"5 Minute Moving Average",id:"5minMovAvg"},computeFunction:gpe(3E5),granularity:3E4,lowDomain:0,highDomain:864E5},
{seriesTemplate:{name:"5 Minute Moving Average",id:"5minMovAvg"},computeFunction:gpe(3E5),granularity:6E4,lowDomain:0,highDomain:864E5},{seriesTemplate:{name:"15 Minute Moving Average",id:"15minMovAvg"},computeFunction:gpe(9E5),granularity:6E4,lowDomain:216E5,highDomain:864E5},{seriesTemplate:{name:"15 Minute Moving Average",id:"15minMovAvg"},computeFunction:gpe(9E5),granularity:3E5,lowDomain:864E5,highDomain:5184E5},{seriesTemplate:{name:"60 Minute Moving Average",id:"60minMovAvg"},computeFunction:gpe(36E5),
granularity:3E5,lowDomain:864E5,highDomain:5184E5},{seriesTemplate:{name:"120 Minute Moving Average",id:"120minMovAvg"},computeFunction:gpe(72E5),granularity:36E5,lowDomain:5184E5,highDomain:36288E5}];
var FWe=["projectedChartContainer"],wpe=function(a,b){return{"cfc-chart-card-toolbar-link":a,"cfc-chart-card-toolbar-icon":b}},Kpe=function(a,b){return{chartGroupId:a,chartId:b}},Ope=function(a){return{waitForRefresh:a}},GWe=[[["","header",""]],[["","title",""]],[["","subtitle",""]],[["","menu-item",""]],[["","info-button",""]],[["","cola-actions",""]],[["","cola-chart",""]]],HWe=0,IWe=function(a){if(!a.alertPolicyConfig||void 0===a.xyChart.dataSets||0===a.xyChart.dataSets.length||void 0===a.xyChart.dataSets[0].timeSeriesFilter||
a.directDataInput)return null;const b=a.alertPolicyConfig.customFilter||a.xyChart.dataSets[0].timeSeriesFilter;var c;let d;const e=null!=(d=null==(c=b.filter)?void 0:c.split(/\s+/).join(" "))?d:"";c=`${b.minAlignmentPeriod||"60s"},`+`${b.perSeriesAligner||"ALIGN_NONE"},`+`${b.crossSeriesReducer||"REDUCE_NONE"}`;let f;if(null==(f=b.groupByFields)?0:f.length)c=`${c},${b.groupByFields}`;return{f:e,agg:c,ct:a.alertPolicyConfig.conditionType||"t",dn:a.alertPolicyConfig.displayName}},JWe=function(a){if(a.xyChart&&
a.xyChart.dataSets)for(const b of a.xyChart.dataSets)b.timeSeriesFilter&&b.timeSeriesFilter.filter&&(b.timeSeriesFilter.filter=_.ntb(b.timeSeriesFilter.filter))},KWe=function(a){var b,c=null==(b=a.internalColaCharts)?void 0:b.first;let d;b=null==(d=a.projectedColaCharts)?void 0:d.first;c=(null==c?void 0:c.scopeObservable)||(null==b?void 0:b.scopeObservable);a.chartIdObservableSwitcher.next(c?c.pipe(_.U(e=>e.chartId)):_.S(""));a.chartGroupIdObservableSwitcher.next(c?c.pipe(_.U(e=>e.chartGroupId)):
_.S(""))},LWe=class extends cMe{constructor(a,b,c,d,e,f,g,h,l,n,r,v,w,y,B,G){super(a,y,B,G);this.cdr=a;this.fullscreenService=c;this.exportCSVService=d;this.fullPanelChartService=e;this.monitoringConsoleCrossLinkService=f;this.el=g;this.componentFactoryResolver=h;this.chartGroupManagerService=l;this.eventTrackerService=n;this.activeChartCardService=r;this.themeContext=v;this.chartGroupService=w;this.deferredDialogService=y;this.deferredLoader=B;this.errorService=G;this.forceUnitChangeForRate=this.allowAgentInstall=
this.externalFullScreenHandler=this.stretchTitle=this.exportCSVEnabled=this.colaEnabled=!1;this.semanticHeadingLevel=3;this.showChartInteractionsHelp=!1;this.showChartDataHelp=!0;this.collapseSpaceBelowHeader=!1;this.fullScreenToggle=new _.$k;this.chartData=new _.$k;this.dataErrorStream=new _.$k;this.dashboardChart=new _.$k;this.modeChange=new _.$k;this.legendToggled=new _.$k;this.installAgentRequest=new _.$k;this.destroyed=new _.tf;this.disableErrorsSubject=new _.bg(this.allowAgentInstall);this.disableErrorsTransformation=
Uoe(this.disableErrorsSubject);let O;this.messageOverridesSubject=new _.bg(null==(O=this.config)?void 0:O.messageOverrides);this.applyMessageOverridesTransformation=Soe(this.messageOverridesSubject);this.includeRangeSubject=new _.bg(bge(this.config));this.includeRangeTransformation=Voe(this.includeRangeSubject);let T;this.numericColorStrategySubject=new _.bg(null==(T=this.config)?void 0:T.colorStrategy);this.numericColorStrategyTransformation=Woe(this.numericColorStrategySubject);let J;this.constantLineColorSubject=
new _.bg(null==(J=this.config)?void 0:J.constantLineColor);this.constantLineColorTransformation=Toe(this.constantLineColorSubject);let R;this.onSelectSubject=new _.bg(null==(R=this.config)?void 0:R.onSelect);this.onSelectTransformation=Xoe(this.onSelectSubject);this.statsModeSubject=new _.bg;this.statsModeTransformation=tpe(this.statsModeSubject);this.chartIdObservableSwitcher=new _.bg(_.S(""));this.chartIdObservable=this.chartIdObservableSwitcher.pipe(_.zf(ra=>ra));this.chartGroupIdObservableSwitcher=
new _.bg(_.S(""));this.chartGroupIdObservable=this.chartGroupIdObservableSwitcher.pipe(_.zf(ra=>ra));this.showLegend=!1;this.showMetricsExplorerLinkInternal=this.updateShowLegendOnChange=!0;this.showAddToCustomDashboard=!1;this.hasProjectedColaChart=!0;this.isSmallDisplay$=new _.bg(!1);this.isHeaderLarge$=new _.bg(!1);this.defaultColorManager=new _.HP;this.ve=f7;this.colaChartId=`cfc-chart-card-ac-chart-${HWe++}`;this.ButtonPosition=VLe;this.configMenuItems$=new _.bg([]);this.allMenuItems$=_.qe([this.defaultMenuItems$,
this.configMenuItems$]).pipe(_.U(([ra,Ba])=>[...ra,...Ba]));this.configActionItems$=new _.bg([]);this.allActionItems$=_.qe([this.builtInAction$,this.configActionItems$]).pipe(_.U(([ra,Ba])=>[...ra,...Ba]));this.initialized$=new _.rf(1);this.menuNeedsUpdate$=new _.bg;this.alertPolicyConfig$=this.menuNeedsUpdate$.pipe(C9d(this.initialized$),_.zf(()=>{const ra=IWe(this.config);return ra?pMe(this.monitoringConsoleCrossLinkService,ra).pipe(_.U(Ba=>({link:null!=Ba?Ba:void 0,buttonPosition:void 0!==this.config.alertPolicyConfig&&
void 0!==this.config.createAlertingPolicyButtonPosition?this.config.createAlertingPolicyButtonPosition:0,buttonUseIcon:this.config.useCreateAlertingPolicyIcon}))):_.S(null)}));this.metricsExplorerConfig$=this.menuNeedsUpdate$.pipe(C9d(this.initialized$),_.zf(()=>{const ra={xyChart:"getConstructor"in this.config.xyChart?_.fwa(this.config.xyChart):this.config.xyChart};JWe(ra);return this.domainStream().pipe(_.U(Ba=>{if(!Ba.min&&!Ba.max)return{};const Ka={timeSelection:{timeRange:"custom"}};Ba.min&&
(Ka.timeSelection.start=Ba.min.toISOString());Ba.max&&(Ka.timeSelection.end=Ba.max.toISOString());return Ka}),_.yf({}),_.Af(this.destroyed)).pipe(_.zf(Ba=>oMe(this.monitoringConsoleCrossLinkService,JSON.stringify(Object.assign({},ra,Ba))).pipe(_.U(Ka=>{var Va;var cb=null!=(Va=this.config.metricsExplorerButtonPosition)?Va:1;let H;Va=null!=(H=this.config.metricsExplorerButtonTextOption)?H:1;return{link:null!=Ka?Ka:void 0,showLink:this.showMetricsExplorerLink,buttonPosition:cb,buttonTextOption:Va}}))))}));
this.createAlertingPolicyLabel="Create alerting policy";this.onToggleFullscreen=this.toggleFullscreen;this.onToggleLegend=this.toggleLegend;this.onModeChange=this.toggleMode;this.onExportCSV=this.exportCSV;this.onScreenshot=this.downloadPng;this.onChartEventOccurred=this.logSyntheticEvent;_.qe([this.metricsExplorerConfig$,this.alertPolicyConfig$,this.isHeaderLarge$,this.isSmallDisplay$]).pipe(_.Af(this.destroyed)).subscribe(([ra,Ba])=>{aMe(this,ra,Ba)});_.qe([this.chartIdObservable,this.chartGroupIdObservable]).pipe(_.Af(this.destroyed),
_.Ge(([ra,Ba])=>!!ra&&!!Ba),_.af(1)).subscribe(([ra,Ba])=>{this.colaChartGroupHandle=tWe(this.chartGroupService,Ba);this.colaChartHandle=this.chartGroupService.getChart(Ba,ra)})}set acChart(a){this.innerAcChart=a;let b,c;(null==(b=this.config.xyChart)?0:null==(c=b.options)?0:c.mode)&&this.toggleMode(this.config.xyChart.options.mode);a&&this.dashboardChart.emit(a)}get acChart(){return this.innerAcChart}set showMetricsExplorerLink(a){this.showMetricsExplorerLinkInternal=a}get showMetricsExplorerLink(){return!this.config.directDataInput&&
this.showMetricsExplorerLinkInternal}ngOnInit(){this.disableErrorsSubject.next(this.allowAgentInstall);this.activeChartCardService.chartInfoSet.add(this);if(this.config.directDataInput)var a=!1;else{var b;a=void 0!==(null==(b=this.config.addToCustomDashboardConfig)?void 0:b.actionHidden)?!this.config.addToCustomDashboardConfig.actionHidden:!0}this.showAddToCustomDashboard=a;this.initialized$.next();this.menuNeedsUpdate$.next()}ngAfterViewInit(){"function"===typeof window.ResizeObserver?(this.resizeObserver=
new ResizeObserver(this.handleResize.bind(this)),this.resizeObserver.observe(this.el.nativeElement)):this.resizeSensor=new HKe(this.el.nativeElement,this.handleResize.bind(this));if(this.config.directDataInput){const a=this.chartGroupManagerService.get(this.config.groupId);this.config.directDataInput.dataStream.subscribe(b=>{a.domain=age(b)})}if(this.colaEnabled){const a=this.projectedChartContainer&&this.projectedChartContainer.nativeElement&&this.projectedChartContainer.nativeElement.children&&
this.projectedChartContainer.nativeElement.children.length;this.timeout=setTimeout(()=>{this.hasProjectedColaChart=a;this.cdr.detectChanges()},0);KWe(this);this.internalColaCharts.changes.pipe(_.Af(this.destroyed)).subscribe(()=>{KWe(this)})}this.fullscreenService.status(this.el.nativeElement.children[0]).pipe(_.Af(this.destroyed)).subscribe(this.isFullscreenSubject)}ngAfterContentInit(){KWe(this);this.projectedColaCharts.changes.pipe(_.Af(this.destroyed)).subscribe(()=>{KWe(this)})}ngOnChanges(a){void 0!==
this.config.showLegend&&this.updateShowLegendOnChange&&(this.showLegend=this.config.showLegend,this.showLegendSubject.next(this.showLegend));this.config.colorManager||(this.config.colorManager=this.defaultColorManager);this.config.chartHeight||(this.config.chartHeight=200);if(a.config&&!a.config.firstChange){var b;let Z;(null==(b=this.config.xyChart)?0:null==(Z=b.options)?0:Z.mode)&&this.toggleMode(this.config.xyChart.options.mode)}if(void 0!==this.config.includeRange||void 0!==this.config.yTopMin||
this.config.forcePercentZoom)b=bge(this.config),this.includeRangeSubject.next(b);let c,d,e,f;if((null==(c=a.config)?void 0:null==(d=c.previousValue)?void 0:d.colorStrategy)!==(null==(e=a.config)?void 0:null==(f=e.currentValue)?void 0:f.colorStrategy)){let Z;this.numericColorStrategySubject.next(null==(Z=this.config)?void 0:Z.colorStrategy)}let g,h,l,n;if((null==(g=a.config)?void 0:null==(h=g.previousValue)?void 0:h.constantLineColor)!==(null==(l=a.config)?void 0:null==(n=l.currentValue)?void 0:n.constantLineColor)){let Z;
this.constantLineColorSubject.next(null==(Z=this.config)?void 0:Z.constantLineColor)}let r,v,w,y,B,G;if((null==(r=a.config)?void 0:null==(v=r.previousValue)?void 0:null==(w=v.xyChart.options)?void 0:w.mode)!==(null==(y=a.config)?void 0:null==(B=y.currentValue)?void 0:null==(G=B.xyChart.options)?void 0:G.mode)){let Z;this.statsModeSubject.next(null==(Z=this.config.xyChart.options)?void 0:Z.mode)}let O,T,J,R;if((null==(O=a.config)?void 0:null==(T=O.previousValue)?void 0:T.onSelect)!==(null==(J=a.config)?
void 0:null==(R=J.currentValue)?void 0:R.onSelect)){let Z;this.onSelectSubject.next(null==(Z=this.config)?void 0:Z.onSelect)}let ra,Ba,Ka,Va;if((null==(ra=a.config)?void 0:null==(Ba=ra.previousValue)?void 0:Ba.menuItems)!==(null==(Ka=a.config)?void 0:null==(Va=Ka.currentValue)?void 0:Va.menuItems)){let Z;this.configMenuItems$.next((null==(Z=this.config)?void 0:Z.menuItems)||[])}let cb,H,Y,X;if((null==(cb=a.config)?void 0:null==(H=cb.previousValue)?void 0:H.actions)!==(null==(Y=a.config)?void 0:null==
(X=Y.currentValue)?void 0:X.actions)){let Z;this.configActionItems$.next((null==(Z=this.config)?void 0:Z.actions)||[])}let W;this.messageOverridesSubject.next(null==(W=this.config)?void 0:W.messageOverrides);a.allowAgentInstall&&this.disableErrorsSubject.next(this.allowAgentInstall);a.colaEnabled&&this.colaEnabledSubject.next(this.colaEnabled);a.config&&this.menuNeedsUpdate$.next()}ngOnDestroy(){this.destroyed.next();this.destroyed.complete();this.resizeSensor&&this.resizeSensor.detach(()=>{});this.timeout&&
clearTimeout(this.timeout);this.activeChartCardService.chartInfoSet.delete(this)}domainStream(){const a=this.config.groupId;if(!a)return _.$e;if(this.colaEnabled)return oWe(tWe(this.chartGroupService,a));const b=this.chartGroupManagerService.get(a);return b.domainStream.pipe(_.U(()=>b.isXZoomed()?jCe(b):b.domain),_.Ge(c=>!!c),_.U(([c,d])=>({min:c,max:d})))}handleResize(){const a=this.el.nativeElement.getBoundingClientRect().width;this.isSmallDisplay$.next(576>=a)}toggleLegend(){this.showLegend=!this.showLegend;
this.showLegendSubject.next(this.showLegend);this.updateShowLegendOnChange=!1;this.legendToggled.emit(this.showLegend)}toggleFullscreen(){this.externalFullScreenHandler?this.fullScreenToggle.emit(void 0):this.timeRange$?this.timeRange$.pipe(_.df()).subscribe(a=>{if(a){const b=this.chartGroupManagerService.get(this.config.groupId),c="getConstructor"in this.config.xyChart?_.SK(this.config.xyChart):JSON.parse(JSON.stringify(this.config.xyChart));this.fullPanelChartService.open(this.el.nativeElement,
c,a,_.S(this.config.projectId),this.config.resourceMetadataNamingFunctions,this.componentFactoryResolver,jCe(b)||void 0,"full-panel-chart-group",this.customFullScreenControls,{colaEnabled:this.colaEnabled,chartConfigTransformationStrategies:[this.statsModeTransformation]},[...this.themeContext.getThemeClasses()])}}):this.fullscreenService.toggle(this.el.nativeElement.children[0])}toggleMode(a){!this.colaEnabled&&this.acChart&&(this.acChart.chartMode=a.toLocaleLowerCase().replace("_","-"));this.modeChange.emit(a)}downloadPng(){var a=
this.el.nativeElement.querySelector(".chart-container"),b=getComputedStyle(document.body);const c=b.getPropertyValue("background-color");b=b.getPropertyValue("color");a=new HMe(a,c);a.setTitle(this.config.title,b);a.download(this.config.title)}exportCSV(){var a,b=null==(a=this.internalColaCharts)?void 0:a.first;let c;a=null==(c=this.projectedColaCharts)?void 0:c.first;(b=null!=b?b:a)?jUe(b).subscribe(d=>{let e;this.exportCSVService.exportCSV(null!=(e=d[0])?e:void 0).download(this.config.title)}):
this.exportCSVService.exportCSV(this.latestChartData).download(this.config.title)}showColaRefreshButton(){return this.config.showColaRefreshButton||!1}logSyntheticEvent(a){this.eventTrackerService.getEventTracker().logSyntheticEvent(a.event,new _.qvc(a.veTag),this.el.nativeElement)}get title(){return this.config.title}get xyChart(){return this.config.xyChart}get addToCustomDashboardConfig(){return this.config.addToCustomDashboardConfig}get shouldShowChartModes(){return!!this.config.showChartModes}get headerCollapsed(){return this.isSmallDisplay$.value&&
!this.config.useResponsiveHeader||this.isHeaderLarge$.value}};LWe.\u0275fac=function(a){return new (a||LWe)(_.A(_.el),_.A(IMe),_.A(r8),_.A(AMe),_.A(CWe),_.A(qMe),_.A(_.ad),_.A(_.Lk),_.A(n7),_.A(_.nQ),_.A(ULe),_.A(_.$m),_.A($9),_.A(_.es),_.A(_.ih),_.A(_.Ht))};
LWe.\u0275cmp=_.q({type:LWe,selectors:[["cfc-chart-card"]],contentQueries:function(a,b,c){a&1&&_.Pe(c,L9,5);if(a&2){let d;_.Ne(d=_.Qe())&&(b.projectedColaCharts=d)}},viewQuery:function(a,b){a&1&&(_.Oe(FWe,5),_.Oe(p8,5),_.Oe(L9,5));if(a&2){let c;_.Ne(c=_.Qe())&&(b.projectedChartContainer=c.first);_.Ne(c=_.Qe())&&(b.acChart=c.first);_.Ne(c=_.Qe())&&(b.internalColaCharts=c)}},inputs:{config:"config",colaEnabled:"colaEnabled",customFullScreenControls:"customFullScreenControls",exportCSVEnabled:"exportCSVEnabled",
headerMenu:"headerMenu",stretchTitle:"stretchTitle",timeRange$:"timeRange$",externalFullScreenHandler:"externalFullScreenHandler",allowAgentInstall:"allowAgentInstall",forceUnitChangeForRate:"forceUnitChangeForRate",semanticHeadingLevel:"semanticHeadingLevel",showChartInteractionsHelp:"showChartInteractionsHelp",showChartDataHelp:"showChartDataHelp",collapseSpaceBelowHeader:"collapseSpaceBelowHeader",showMetricsExplorerLink:"showMetricsExplorerLink"},outputs:{fullScreenToggle:"fullScreenToggle",chartData:"chartData",
dataErrorStream:"dataErrorStream",dashboardChart:"dashboardChart",modeChange:"modeChange",legendToggled:"legendToggled",installAgentRequest:"installAgentRequest"},features:[_.wd,_.Gc],ngContentSelectors:"[header] [title] [subtitle] [menu-item] [info-button] [cola-actions] [cola-chart]".split(" "),decls:10,vars:12,consts:[[1,"cfc-chart-card",3,"ve","veImpression"],["class","cfc-chart-header-view",3,"title","semanticHeadingLevel","subMenu","chartHelpConfig","showHelp","stretchTitle","collapseHeader",
"collapseSpaceBelow","showResponsive","actions","menuItems","requestToCollapseHeader","moreOptionsClick",4,"ngIf"],["headerContent",""],[1,"cfc-chart-card-content"],["class","cfc-chart-card-chart",3,"xyChart","yTopMin","yBottomMax","height","showSubtitles","showResponsiveSubtitles","forcePercentZoom","groupId","legendValueFormatter","complexThreshold","legendTemplates","useProxy","projectId","showLegend","enablePanningInteractions","legendType","colorManager","resourceMetadataNamingFunctions","messageOverrides",
"zerofill","yAxisPrecisionLimit","yAxisValueFormatter","showThresholdLabels","strategyWhitelists","enableSizeWarnings","isOnSdDashboard","forceV2Hovercard","timePinEnabled","forceUnitChangeForRate","unitOverride","disableSelection","directDataInput","dataErrorStream","chartData","onSelect","subtitlesDrawn","unitsChange",4,"ngIf"],["class","chart-container",4,"ngIf"],[3,"ngIf"],[1,"cfc-chart-header-view",3,"title","semanticHeadingLevel","subMenu","chartHelpConfig","showHelp","stretchTitle","collapseHeader",
"collapseSpaceBelow","showResponsive","actions","menuItems","requestToCollapseHeader","moreOptionsClick"],["header-actions",""],[4,"ngIf"],["class","alert-policy-link-header-toolbar",3,"ngClass","cfcRouterLink","queryParams","ve","veClick","cfcTooltip",4,"ngIf"],[1,"alert-policy-link-header-toolbar",3,"ngClass","cfcRouterLink","queryParams","ve","veClick","cfcTooltip"],["icon","add-alert",4,"ngIf","ngIfElse"],["createAlertPolicyText",""],["icon","add-alert"],["class","cfc-chart-card-toolbar-link metrics-explorer-link-header-toolbar",
3,"cfcRouterLink","queryParams","ve","veClick",4,"ngIf"],[1,"cfc-chart-card-toolbar-link","metrics-explorer-link-header-toolbar",3,"cfcRouterLink","queryParams","ve","veClick"],[1,"cfc-chart-card-chart",3,"xyChart","yTopMin","yBottomMax","height","showSubtitles","showResponsiveSubtitles","forcePercentZoom","groupId","legendValueFormatter","complexThreshold","legendTemplates","useProxy","projectId","showLegend","enablePanningInteractions","legendType","colorManager","resourceMetadataNamingFunctions",
"messageOverrides","zerofill","yAxisPrecisionLimit","yAxisValueFormatter","showThresholdLabels","strategyWhitelists","enableSizeWarnings","isOnSdDashboard","forceV2Hovercard","timePinEnabled","forceUnitChangeForRate","unitOverride","disableSelection","directDataInput","dataErrorStream","chartData","onSelect","subtitlesDrawn","unitsChange"],[1,"chart-container"],["projectedChartContainer",""],[3,"title","projectId","chartGroupId","chartId","height","xyChart","chartConfigTransformationStrategies","interactions",
"timezoneOffset"],["class","ac-chart-project-behind-lines",3,"data",4,"ngIf"],[3,"customTranslationFunctions"],[3,"installAgentRequest",4,"ngIf"],["class","legend-container",3,"ngSwitch",4,"ngIf"],[1,"ac-chart-project-behind-lines",3,"data"],[3,"installAgentRequest"],[1,"legend-container",3,"ngSwitch"],[3,"customTranslationFunctions","scope",4,"ngSwitchCase"],[3,"customTranslationFunctions","scope"]],template:function(a,b){a&1&&(_.Pd(GWe),_.E(0,"mat-card",0)(1,"mat-card-header"),_.P(2,Dpe,13,21,"cfc-chart-header-view",
1),_.E(3,"span",null,2),_.Qd(5),_.F()(),_.E(6,"mat-card-content",3),_.P(7,Fpe,2,34,"ac-dashboard-chart",4),_.P(8,Gpe,3,0,"div",5),_.P(9,Ppe,9,24,"ng-template",6),_.F()());if(a&2){const c=_.Rd(4);_.Bd("cola-chart-card",b.colaEnabled)("cfc-chart-card-hide-box-shadow",b.config.hideBoxShadow)("cfc-chart-card-no-padding",b.config.noPadding);_.C("ve",b.ve.ChartCard)("veImpression",!0);_.x(2);_.C("ngIf",0===c.children.length);_.x(5);_.C("ngIf",!b.colaEnabled);_.x(1);_.C("ngIf",b.hasProjectedColaChart);_.x(1);
_.C("ngIf",b.colaEnabled&&!b.hasProjectedColaChart)}},dependencies:[DWe,_.wt,_.qx,_.ll,_.ml,_.nl,p8,bWe,L9,oUe,FRe,W9,QVe,wVe,GUe,_.AT,eAe,_.xT,_.vT,_.Ev,_.bv,kMe,_.pl],styles:[".cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-primary[_ngcontent-%COMP%]{color:#000!important;fill:#000!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-secondary[_ngcontent-%COMP%]{color:rgba(0,0,0,.66)!important;fill:rgba(0,0,0,.66)!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-disabled[_ngcontent-%COMP%]{color:rgba(0,0,0,.54)!important;fill:rgba(0,0,0,.54)!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-danger[_ngcontent-%COMP%]{color:#d50000!important;fill:#d50000!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-warning[_ngcontent-%COMP%]{color:#f2a600!important;fill:#f2a600!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-good[_ngcontent-%COMP%]{color:#0b8043!important;fill:#0b8043!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-active[_ngcontent-%COMP%]{color:#3367d6!important;fill:#3367d6!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-primary-1[_ngcontent-%COMP%]{color:#4285f4!important;fill:#4285f4!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-primary-2[_ngcontent-%COMP%]{color:#ff5722!important;fill:#ff5722!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-primary-3[_ngcontent-%COMP%]{color:#ff8f00!important;fill:#ff8f00!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-primary-4[_ngcontent-%COMP%]{color:#7cb342!important;fill:#7cb342!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-primary-5[_ngcontent-%COMP%]{color:#ab47bc!important;fill:#ab47bc!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-primary-6[_ngcontent-%COMP%]{color:#00acc1!important;fill:#00acc1!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-primary-7[_ngcontent-%COMP%]{color:#f57c00!important;fill:#f57c00!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-primary-8[_ngcontent-%COMP%]{color:#9e9d24!important;fill:#9e9d24!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-primary-9[_ngcontent-%COMP%]{color:#5c6bc0!important;fill:#5c6bc0!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-primary-10[_ngcontent-%COMP%]{color:#f06292!important;fill:#f06292!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-primary-11[_ngcontent-%COMP%]{color:#00796b!important;fill:#00796b!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-primary-12[_ngcontent-%COMP%]{color:#c2185b!important;fill:#c2185b!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-secondary-1[_ngcontent-%COMP%]{color:#fa937f!important;fill:#fa937f!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-secondary-2[_ngcontent-%COMP%]{color:#0fbfff!important;fill:#0fbfff!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-secondary-3[_ngcontent-%COMP%]{color:#e91e63!important;fill:#e91e63!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-secondary-4[_ngcontent-%COMP%]{color:#31d8d0!important;fill:#31d8d0!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-secondary-5[_ngcontent-%COMP%]{color:#e26c28!important;fill:#e26c28!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-secondary-6[_ngcontent-%COMP%]{color:#9fabe4!important;fill:#9fabe4!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-secondary-7[_ngcontent-%COMP%]{color:#259fa7!important;fill:#259fa7!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-secondary-8[_ngcontent-%COMP%]{color:#673ab7!important;fill:#673ab7!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-secondary-9[_ngcontent-%COMP%]{color:#7ac6ff!important;fill:#7ac6ff!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-secondary-10[_ngcontent-%COMP%]{color:#f40bb2!important;fill:#f40bb2!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-secondary-11[_ngcontent-%COMP%]{color:#2e5d9e!important;fill:#2e5d9e!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-secondary-12[_ngcontent-%COMP%]{color:#e889ff!important;fill:#e889ff!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-color-charting-unfilled[_ngcontent-%COMP%]{color:#e0e0e0!important;fill:#e0e0e0!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-background-base[_ngcontent-%COMP%]{background-color:#fafafa}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-background-contrast[_ngcontent-%COMP%]{background-color:#fff}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-background-disabled[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.54)}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-background-message[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.05)}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-background-row-active[_ngcontent-%COMP%]{background-color:rgba(161,194,250,.16)}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-background-code[_ngcontent-%COMP%]{background-color:#f7f7f7}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-align-left[_ngcontent-%COMP%]{text-align:left!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-align-center[_ngcontent-%COMP%]{text-align:center!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-align-right[_ngcontent-%COMP%]{text-align:right!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-vertical-align-middle[_ngcontent-%COMP%]{vertical-align:middle}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-white-space-normal[_ngcontent-%COMP%]{white-space:normal}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-nowrap[_ngcontent-%COMP%]{white-space:nowrap}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-pre-line[_ngcontent-%COMP%]{white-space:pre-line}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-pre-wrap[_ngcontent-%COMP%]{white-space:pre-wrap}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-break-word-wrap[_ngcontent-%COMP%]{word-wrap:break-word;word-break:break-word}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-heading-with-icon-button[_ngcontent-%COMP%]{display:flex;align-items:center}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-heading-with-icon-button[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(h1, h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6)[_ngcontent-%COMP%]{margin-right:4px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-heading-with-icon-button[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(h1, .cfc-heading-visual-level-1)[_ngcontent-%COMP%] ~ [_ngcontent-%COMP%]:is([mat-icon-button], cfc-help-button[_ngcontent-%COMP%], cfc-easy-copy)[_ngcontent-%COMP%]{margin-bottom:0;margin-top:0}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-heading-with-icon-button[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(h2, .cfc-heading-visual-level-2)[_ngcontent-%COMP%] ~ [_ngcontent-%COMP%]:is([mat-icon-button], cfc-help-button[_ngcontent-%COMP%], cfc-easy-copy)[_ngcontent-%COMP%]{margin-bottom:8px;margin-top:32px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-heading-with-icon-button[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(h3, .cfc-heading-visual-level-3)[_ngcontent-%COMP%] ~ [_ngcontent-%COMP%]:is([mat-icon-button], cfc-help-button[_ngcontent-%COMP%], cfc-easy-copy)[_ngcontent-%COMP%]{margin-bottom:8px;margin-top:28px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-heading-with-icon-button[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(h4, .cfc-heading-visual-level-4)[_ngcontent-%COMP%] ~ [_ngcontent-%COMP%]:is([mat-icon-button], cfc-help-button[_ngcontent-%COMP%], cfc-easy-copy)[_ngcontent-%COMP%]{margin-bottom:8px;margin-top:28px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-heading-with-icon-button[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(h5, .cfc-heading-visual-level-5)[_ngcontent-%COMP%] ~ [_ngcontent-%COMP%]:is([mat-icon-button], cfc-help-button[_ngcontent-%COMP%], cfc-easy-copy)[_ngcontent-%COMP%]{margin-bottom:8px;margin-top:24px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-heading-with-icon-button[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(h6, .cfc-heading-visual-level-6)[_ngcontent-%COMP%] ~ [_ngcontent-%COMP%]:is([mat-icon-button], cfc-help-button[_ngcontent-%COMP%], cfc-easy-copy)[_ngcontent-%COMP%]{margin-bottom:8px;margin-top:24px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-truncated-text[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-truncated-text-left[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;direction:rtl}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-truncated-text-inline[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:inline-block;line-height:normal;vertical-align:text-top}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-truncated-text-single-line[_ngcontent-%COMP%]{-webkit-line-clamp:1;-webkit-box-orient:vertical;display:-webkit-box;overflow:hidden}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-truncated-text-multi-line-2[_ngcontent-%COMP%]{-webkit-line-clamp:2;-webkit-box-orient:vertical;display:-webkit-box;overflow:hidden}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-truncated-text-multi-line-3[_ngcontent-%COMP%]{-webkit-line-clamp:3;-webkit-box-orient:vertical;display:-webkit-box;overflow:hidden}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-truncated-text-multi-line-4[_ngcontent-%COMP%]{-webkit-line-clamp:4;-webkit-box-orient:vertical;display:-webkit-box;overflow:hidden}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-font-weight-light[_ngcontent-%COMP%]{font-weight:300}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-font-weight-base[_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-font-weight-regular[_ngcontent-%COMP%]{font-weight:400}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-font-weight-bold[_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-font-weight-medium[_ngcontent-%COMP%]{font-weight:500}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-label-text[_ngcontent-%COMP%]{color:#000;font-family:Roboto;font-size:13px;font-weight:500;line-height:20px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-cursor-default[_ngcontent-%COMP%]{cursor:default}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-cursor-move[_ngcontent-%COMP%]{cursor:move}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-text-base[_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-text-body[_ngcontent-%COMP%]{color:#000;font-family:Roboto;font-size:13px;font-weight:400;line-height:20px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-text-body-strong[_ngcontent-%COMP%]{color:#000;font-family:Roboto;font-size:13px;font-weight:500;line-height:20px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-text-caption[_ngcontent-%COMP%]{color:rgba(0,0,0,.66);font-family:Roboto;font-size:12px;font-weight:400;line-height:16px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-text-caption-strong[_ngcontent-%COMP%]{color:#000;font-family:Roboto;font-size:12px;font-weight:500;line-height:16px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-text-headline[_ngcontent-%COMP%]{color:#000;font-family:Roboto;font-size:24px;font-weight:400;line-height:32px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-text-headline-strong[_ngcontent-%COMP%]{color:#000;font-family:Roboto;font-size:24px;font-weight:500;line-height:32px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-text-title-1[_ngcontent-%COMP%]{color:#000;font-family:Roboto;font-size:20px;font-weight:500;line-height:28px;margin-bottom:8px;margin-top:32px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-text-title-1-subtle[_ngcontent-%COMP%]{color:#000;font-family:Roboto;font-size:20px;font-weight:400;line-height:28px;margin-bottom:8px;margin-top:32px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-text-title-2[_ngcontent-%COMP%]{color:#000;font-family:Roboto;font-size:18px;font-weight:500;line-height:24px;margin-bottom:8px;margin-top:28px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-text-title-3[_ngcontent-%COMP%]{color:#000;font-family:Roboto;font-size:18px;font-weight:400;line-height:24px;margin-bottom:8px;margin-top:28px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-text-title-4[_ngcontent-%COMP%]{color:#000;font-family:Roboto;font-size:15px;font-weight:500;line-height:20px;margin-bottom:8px;margin-top:24px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-text-body-large[_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-text-title-5[_ngcontent-%COMP%]{color:#000;font-family:Roboto;font-size:15px;font-weight:400;line-height:20px;margin-bottom:8px;margin-top:24px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-fixed-font[_ngcontent-%COMP%]{font-family:Roboto Mono,monospace}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-italic-font[_ngcontent-%COMP%]{font-style:italic}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-below-minus-6[_ngcontent-%COMP%]{margin-bottom:2px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-below-minus-5[_ngcontent-%COMP%]{margin-bottom:4px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-below-minus-4[_ngcontent-%COMP%]{margin-bottom:8px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-below-minus-3[_ngcontent-%COMP%]{margin-bottom:12px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-below-minus-2[_ngcontent-%COMP%]{margin-bottom:16px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-below-minus-1[_ngcontent-%COMP%]{margin-bottom:20px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-below-base[_ngcontent-%COMP%]{margin-bottom:24px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-below-plus-1[_ngcontent-%COMP%]{margin-bottom:28px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-below-plus-2[_ngcontent-%COMP%]{margin-bottom:32px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-below-plus-3[_ngcontent-%COMP%]{margin-bottom:36px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-below-plus-4[_ngcontent-%COMP%]{margin-bottom:40px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-below-plus-5[_ngcontent-%COMP%]{margin-bottom:48px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-below-plus-6[_ngcontent-%COMP%]{margin-bottom:56px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-above-minus-6[_ngcontent-%COMP%]{margin-top:2px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-above-minus-5[_ngcontent-%COMP%]{margin-top:4px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-above-minus-4[_ngcontent-%COMP%]{margin-top:8px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-above-minus-3[_ngcontent-%COMP%]{margin-top:12px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-above-minus-2[_ngcontent-%COMP%]{margin-top:16px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-above-minus-1[_ngcontent-%COMP%]{margin-top:20px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-above-base[_ngcontent-%COMP%]{margin-top:24px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-above-plus-1[_ngcontent-%COMP%]{margin-top:28px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-above-plus-2[_ngcontent-%COMP%]{margin-top:32px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-above-plus-3[_ngcontent-%COMP%]{margin-top:36px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-above-plus-4[_ngcontent-%COMP%]{margin-top:40px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-above-plus-5[_ngcontent-%COMP%]{margin-top:48px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-above-plus-6[_ngcontent-%COMP%]{margin-top:56px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-first[_ngcontent-%COMP%]{margin-top:0!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-space-last[_ngcontent-%COMP%]{margin-bottom:0!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-indent[_ngcontent-%COMP%]{margin-left:24px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-prefix[_ngcontent-%COMP%]{margin-right:12px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-width-xsmall[_ngcontent-%COMP%]{width:256px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-width-small[_ngcontent-%COMP%]{width:320px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-width-base[_ngcontent-%COMP%]{width:512px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-width-large[_ngcontent-%COMP%]{width:768px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-width-xlarge[_ngcontent-%COMP%]{width:1024px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-width-jumbo[_ngcontent-%COMP%]{width:1280px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-width-increment[_ngcontent-%COMP%]{width:64px!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-max-width-base[_ngcontent-%COMP%]{max-width:512px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-max-width-small[_ngcontent-%COMP%]{max-width:320px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-max-width-xsmall[_ngcontent-%COMP%]{max-width:256px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-max-width-large[_ngcontent-%COMP%]{max-width:768px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-max-width-xlarge[_ngcontent-%COMP%]{max-width:1024px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-max-width-full[_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-max-width-full[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(p, h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6)[_ngcontent-%COMP%]{max-width:100%!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-width-full[_ngcontent-%COMP%]{width:100%}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-height-full[_ngcontent-%COMP%]{height:100%}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-width-none[_ngcontent-%COMP%]{width:0}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-height-none[_ngcontent-%COMP%]{height:0}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-gutter-none[_ngcontent-%COMP%]{padding:0!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-gutter-minus-4[_ngcontent-%COMP%]{padding:8px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-gutter-minus-2[_ngcontent-%COMP%]{padding:16px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-gutter-base[_ngcontent-%COMP%]{padding:24px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-form-control-hint[_ngcontent-%COMP%]{color:rgba(0,0,0,.66);font-family:Roboto;font-size:12px;font-weight:400;line-height:16px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-small[_ngcontent-%COMP%]{--cm-button-line-height:24px;--cm-icon-button-height:24px;--cm-icon-button-width:24px;--cm-icon-button-line-height:24px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-small.mat-button-toggle-label-content[_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-small[_ngcontent-%COMP%]   .mat-button-toggle-label-content[_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-small[mat-button][_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-small[_ngcontent-%COMP%]   [mat-button][_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-small[mat-raised-button][_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-small[_ngcontent-%COMP%]   [mat-raised-button][_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-small[mat-stroked-button][_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-small[_ngcontent-%COMP%]   [mat-stroked-button][_ngcontent-%COMP%]{line-height:24px;padding:0 8px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-small[mat-icon-button][_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-small[_ngcontent-%COMP%]   [mat-icon-button][_ngcontent-%COMP%]{--cm-focus-indicator-offset:2px;padding:0}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-small[mat-icon-button][_ngcontent-%COMP%]:where(:not(.cm-button)), .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-small[_ngcontent-%COMP%]   [mat-icon-button][_ngcontent-%COMP%]:where(:not(.cm-button)){height:24px;line-height:24px;width:24px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-small.cfc-split-button-menu-button[_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-small[_ngcontent-%COMP%]   .cfc-split-button-menu-button[_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-small.cfc-split-button-menu-button.cm-button[_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-small[_ngcontent-%COMP%]   .cfc-split-button-menu-button.cm-button[_ngcontent-%COMP%]{padding:0}body.cfc-focus-indicators-enabled[_ngcontent-%COMP%]   .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-small.mat-icon-button[_ngcontent-%COMP%]:before, body.cfc-focus-indicators-enabled[_ngcontent-%COMP%]   .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-small[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]:before{margin:-2px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-medium[_ngcontent-%COMP%]{--cm-icon-button-height:32px;--cm-icon-button-width:32px;--cm-icon-button-line-height:32px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-medium[mat-icon-button][_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-medium[_ngcontent-%COMP%]   [mat-icon-button][_ngcontent-%COMP%]{padding:0}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-medium[mat-icon-button][_ngcontent-%COMP%]:where(:not(.cm-button)), .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-medium[_ngcontent-%COMP%]   [mat-icon-button][_ngcontent-%COMP%]:where(:not(.cm-button)){height:32px;line-height:32px;width:32px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-small-icon-button[_ngcontent-%COMP%]{--cm-button-line-height:24px;--cm-icon-button-height:24px;--cm-icon-button-width:24px;--cm-icon-button-line-height:24px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-small-icon-button.mat-button-toggle-label-content[_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-small-icon-button[_ngcontent-%COMP%]   .mat-button-toggle-label-content[_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-small-icon-button[mat-button][_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-small-icon-button[_ngcontent-%COMP%]   [mat-button][_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-small-icon-button[mat-raised-button][_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-small-icon-button[_ngcontent-%COMP%]   [mat-raised-button][_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-small-icon-button[mat-stroked-button][_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-small-icon-button[_ngcontent-%COMP%]   [mat-stroked-button][_ngcontent-%COMP%]{line-height:24px;padding:0 8px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-small-icon-button[mat-icon-button][_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-small-icon-button[_ngcontent-%COMP%]   [mat-icon-button][_ngcontent-%COMP%]{--cm-focus-indicator-offset:2px;padding:0}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-small-icon-button[mat-icon-button][_ngcontent-%COMP%]:where(:not(.cm-button)), .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-small-icon-button[_ngcontent-%COMP%]   [mat-icon-button][_ngcontent-%COMP%]:where(:not(.cm-button)){height:24px;line-height:24px;width:24px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-small-icon-button.cfc-split-button-menu-button[_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-small-icon-button[_ngcontent-%COMP%]   .cfc-split-button-menu-button[_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-small-icon-button.cfc-split-button-menu-button.cm-button[_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-small-icon-button[_ngcontent-%COMP%]   .cfc-split-button-menu-button.cm-button[_ngcontent-%COMP%]{padding:0}body.cfc-focus-indicators-enabled[_ngcontent-%COMP%]   .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-small-icon-button.mat-icon-button[_ngcontent-%COMP%]:before, body.cfc-focus-indicators-enabled[_ngcontent-%COMP%]   .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-small-icon-button[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]:before{margin:-2px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-small-icon-button[_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-small-icon-button.cm-button[_ngcontent-%COMP%]{margin-top:-8px;margin-bottom:-4px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-align-left[_ngcontent-%COMP%], .cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-align-left.cm-button[_ngcontent-%COMP%]{margin:12px 0 -12px -12px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-full-bleed[_ngcontent-%COMP%]{margin-left:-24px;margin-right:-24px;max-width:none}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-full-bleed[_ngcontent-%COMP%]:first-child:not(.cfc-full-bleed-keep-top-padding){margin-top:-24px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-full-bleed[_ngcontent-%COMP%]:last-child:not(.cfc-full-bleed-keep-bottom-padding){margin-bottom:-24px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-hover-display[_ngcontent-%COMP%]{opacity:0;will-change:opacity}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-hover-display-container[_ngcontent-%COMP%]:hover   .cfc-hover-display[_ngcontent-%COMP%]{opacity:1}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-button-text-caption[_ngcontent-%COMP%]{color:rgba(0,0,0,.66);font-family:Roboto;font-size:12px;font-weight:400;line-height:16px;--cm-button-text-color:rgba(0,0,0,0.66);--cm-button-line-height:16px}@media screen and (hover:none){.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-disable-user-select-on-touch-device[_ngcontent-%COMP%]{-webkit-touch-callout:none;user-select:none;-webkit-user-select:none}}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-scroll-vertical[_ngcontent-%COMP%]{overflow-y:auto}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-scroll-horizontal[_ngcontent-%COMP%]{overflow-x:auto}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-no-scroll-vertical[_ngcontent-%COMP%]{overflow-y:hidden}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-no-scroll-horizontal[_ngcontent-%COMP%]{overflow-x:hidden}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-list-item-icons-left[_ngcontent-%COMP%]   .ace-icon[_ngcontent-%COMP%]{padding-right:8px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-list-item-icons-left[_ngcontent-%COMP%]   [mat-button][_ngcontent-%COMP%]   .ace-icon[_ngcontent-%COMP%]{padding-right:0}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-list-item-icons-left[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .mat-list-item-content[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-list-item-icons-left[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .mat-list-item-content[_ngcontent-%COMP%]   [mat-button][_ngcontent-%COMP%]{padding-right:8px;margin-right:4px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-mat-tab-expand-content[_ngcontent-%COMP%]   .mat-tab-body-wrapper[_ngcontent-%COMP%]{flex-grow:1}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-border-none[_ngcontent-%COMP%]{border:0}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-border-primary[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12)}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-border-top-primary[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.12)}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-container-item[_ngcontent-%COMP%]{margin:12px}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-flex-container[_ngcontent-%COMP%]{display:flex}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-flex-direction-column[_ngcontent-%COMP%]{flex-direction:column}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-inline-flex-container[_ngcontent-%COMP%]{display:inline-flex!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-flex-wrap-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-flex-center-aligned[_ngcontent-%COMP%]{align-items:center}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-flex-end-aligned[_ngcontent-%COMP%]{align-items:flex-end}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-flex-baseline-aligned[_ngcontent-%COMP%]{align-items:baseline}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-flex-space-between-content[_ngcontent-%COMP%]{justify-content:space-between}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-flex-justify-start[_ngcontent-%COMP%]{justify-content:start}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-flex-justify-center[_ngcontent-%COMP%]{justify-content:center}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-flex-justify-end[_ngcontent-%COMP%]{justify-content:flex-end}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-flex-grow-content[_ngcontent-%COMP%]{flex-grow:1}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-flex-no-shrink[_ngcontent-%COMP%]{flex-shrink:0}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-hidden[_ngcontent-%COMP%]{display:none!important}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-visibility-hidden[_ngcontent-%COMP%]{visibility:hidden}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-icon-button-right-align[_ngcontent-%COMP%]{float:right}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-full-screen[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:100%;width:100%;z-index:1}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-position-relative[_ngcontent-%COMP%]{position:relative}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-print-only[_ngcontent-%COMP%]{display:none}@media print{.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-print-only[_ngcontent-%COMP%]{display:block}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-print-never[_ngcontent-%COMP%]{display:none!important}}.cfc-ng2-region[_ngcontent-%COMP%]   .screen-reader-only-content[_ngcontent-%COMP%]{clip:rect(1px,1px,1px,1px);height:1px;margin:0;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px;z-index:-1000}.cfc-ng2-region[_ngcontent-%COMP%]   .cfc-third-party-icon-list[_ngcontent-%COMP%]{vertical-align:middle}[_nghost-%COMP%]{display:block}.cfc-grid-chart[_nghost-%COMP%]{margin-bottom:24px}.cfc-chart-card[_ngcontent-%COMP%]{padding:12px}.cfc-chart-card.cfc-chart-card-no-padding[_ngcontent-%COMP%]{padding:0}.cfc-chart-card-hide-box-shadow[_ngcontent-%COMP%]{box-shadow:none}.cfc-chart-header-view[_ngcontent-%COMP%]{width:calc(100% - 32px)}.cfc-chart-card-toolbar-link[_ngcontent-%COMP%]{line-height:36px;margin-right:20px;border-bottom:none;white-space:nowrap}.cfc-chart-card-toolbar-icon[_ngcontent-%COMP%]{line-height:40px;margin-right:8px;border-bottom:none}"],
changeDetection:0});
Object.freeze({lowerBound:"200",upperBound:"599"});Object.freeze(["appengine.googleapis.com/request_log","appengine.googleapis.com/stderr","appengine.googleapis.com/nginx.request","appengine.googleapis.com/nginx.health_check"]);Object.freeze(["appengine.googleapis.com/request_log","appengine.googleapis.com/stderr","appengine.googleapis.com/nginx.request"]);Object.freeze(["appengine.googleapis.com/request_log","appengine.googleapis.com/nginx.request","appengine.googleapis.com/nginx.health_check"]);
Object.freeze([{regexp:/^(instance\.apache|agent\.googleapis\.com\/apache\/)/,logs:["apache-access","apache-error"]},{regexp:/^(instance\.cassandra|instance\.genericjmx_cassandra|agent\.googleapis\.com\/cassandra\/)/,logs:["cassandra","cassandra-output"]},{regexp:/^(instance\.memcached|agent\.googleapis\.com\/memcached\/)/,logs:["memcached"]},{regexp:/^(instance\.mongodb|agent\.googleapis\.com\/mongodb\/)/,logs:["mongodb"]},{regexp:/^(instance\.mysql|agent\.googleapis\.com\/mysql\/)/,logs:["mysql",
"mysql-slow"]},{regexp:/^(instance\.nginx|agent\.googleapis\.com\/nginx\/)/,logs:["nginx-access","nginx-error"]},{regexp:/^(instance\.postgresql|agent\.googleapis\.com\/postgresql\/)/,logs:["postgresql"]},{regexp:/^(instance\.rabbitmq|agent\.googleapis\.com\/rabitmq\/)/,logs:["rabbitmq-startup","rabbitmq-startup_err","rabbitmq-sasl"]},{regexp:/^(instance\.redis|agent\.googleapis\.com\/redis\/)/,logs:["redis"]},{regexp:/^(instance\.tomcat|agent\.googleapis\.com\/tomcat\/)/,logs:["tomcat","tomcat-localhost_access_log"]},
{regexp:/^(instance\.zookeeper|agent\.googleapis\.com\/zookeeper\/)/,logs:["zookeeper","zookeeper-trace"]}]);
var MWe=class{};MWe.\u0275fac=function(a){return new (a||MWe)};MWe.\u0275mod=_.Bc({type:MWe});MWe.\u0275inj=_.tc({imports:[_.ql,_.kz,_.$D,_.Go,_.qt,_.Rx,_.Hv,_.yt]});
var a$=_.bx({selectId:Eie}),NWe=_.Bh(a$.getInitialState({}),_.Ah(D8,Fie(a$,f9)),_.Ah(gOe,Gie(a$)),_.Ah(F8,b6(a$,f9)),_.Ah(HSe,(a,{chartGroupId:b,position:c,positionStart:d})=>a$.upsertOne(Object.assign({},a.entities[b]||f9,{chartGroupId:b,axis:0,brushing:!0,xPos:c,xPosStart:d,panning:!1}),a)),_.Ah(ISe,(a,{chartGroupId:b})=>a$.upsertOne(Object.assign({},a.entities[b]||f9,{chartGroupId:b,axis:0,brushing:!1,xPos:null,xPosStart:null,panning:!1}),a)),_.Ah(JSe,(a,{chartGroupId:b,position:c})=>a$.upsertOne(Object.assign({},
a.entities[b]||f9,{chartGroupId:b,xPos:c}),a)),_.Ah(KSe,(a,{chartGroupId:b})=>a$.upsertOne(Object.assign({},a.entities[b]||f9,{chartGroupId:b,axis:0,brushing:!1,panning:!0}),a)),_.Ah(LSe,(a,{chartGroupId:b})=>a$.upsertOne(Object.assign({},a.entities[b]||f9,{chartGroupId:b,axis:0,brushing:!1,panning:!1}),a)),_.Ah(MSe,(a,{chartGroupId:b,chartId:c,yAxisId:d,position:e,positionStart:f})=>{const g=a.entities[b];return g&&g.chartId&&g.chartId!==c?a:a$.upsertOne(Object.assign({},g||f9,{chartGroupId:b,axis:1,
brushing:!0,yAxes:(g?g.yAxes:[]).concat([{chartId:c,yAxisId:d,yPos:e,yPosStart:f}]),chartId:c}),a)}),_.Ah(NSe,(a,{chartGroupId:b,chartId:c})=>{const d=a.entities[b];return!d||d.chartId&&d.chartId===c?a$.upsertOne(Object.assign({},d||f9,{chartGroupId:b,axis:0,brushing:!1,yAxes:[],chartId:null}),a):a}),_.Ah(OSe,(a,{chartGroupId:b,chartId:c,yAxisId:d,position:e})=>{const f=a.entities[b];if(f&&(!f.chartId||f.chartId!==c))return a;var g=f?f.yAxes.filter(h=>h.yAxisId===d&&h.chartId===c)[0]:{};e=Object.assign({},
g,{chartId:c,yAxisId:d,yPos:e});g=f?f.yAxes.filter(h=>h.yAxisId!==d||h.chartId!==c):[];return a$.upsertOne(Object.assign({},f||f9,{chartGroupId:b,yAxes:g.concat(e)}),a)})),Qpe=P5(NWe);
var OWe={chartId:"",projectId:void 0};
var PWe=_.bx({selectId:Z5}),QWe=_.Bh(PWe.getInitialState(),_.Ah(F8,b6(PWe,OWe)),_.Ah(WPe,(a,{chartId:b,projectId:c})=>{let d;return PWe.upsertOne(Object.assign({},null!=(d=a.entities[b])?d:OWe,{chartId:b,projectId:c}),a)})),Spe=P5(QWe);
var RWe={layerId:"",order:0,colorMap:{},shapeMap:{}},SWe={chartId:"",byLayer:{ids:[],entities:{}},colorMap:{},shapeMap:{}};
var TWe=_.bx({selectId:Z5}),UWe=_.bx({selectId:Hie}),VWe=_.Bh(TWe.getInitialState({}),_.Ah(D8,$5(TWe,SWe)),_.Ah(E8,a6(TWe)),_.Ah(F8,b6(TWe,SWe)),_.Ah(G8,Die(TWe,UWe)),_.Ah(OOe,(a,{chartId:b,layerId:c,order:d,colorMap:e,shapeMap:f})=>{const g=a.entities[b]||SWe;c=UWe.upsertOne(Object.assign({},g.byLayer.entities[c]||RWe,{layerId:c,order:d,colorMap:e,shapeMap:f}),g.byLayer);d={};e={};for(const h of Object.values(c.entities))if(h){for(const [l,n]of Object.entries(h.colorMap))d[l]=n;for(const [l,n]of Object.entries(h.shapeMap))e[l]=
n}return TWe.upsertOne(Object.assign({},g,{chartId:b,byLayer:c,colorMap:d,shapeMap:e}),a)})),Upe=P5(VWe);
var WWe={chartId:"",byLayer:{ids:[],entities:{}}},XWe={layerId:"",min:0,max:1,colorPivots:[]};
var YWe=_.bx({selectId:Z5}),ZWe=_.bx({selectId:Hie}),$We=a=>Object.assign({},WWe,{chartId:a||"",byLayer:ZWe.getInitialState({})}),aXe=_.Bh(YWe.getInitialState({}),_.Ah(D8,$5(YWe,$We())),_.Ah(E8,a6(YWe)),_.Ah(F8,b6(YWe,$We())),_.Ah(G8,Die(YWe,ZWe,$We())),_.Ah(GRe,(a,{chartId:b,layerId:c,min:d,max:e,colorPivots:f})=>{let g=a.entities[b];g||(g=$We(b));(b=g.byLayer.entities[c])||(b=Object.assign({},XWe,{layerId:c,min:0,max:1,colorPivots:[]}));const {chartState:h,layerState:l}={chartState:g,layerState:b};
c=Object.assign({},l,{min:d,max:e,colorPivots:f});c=Object.assign({},h,{byLayer:ZWe.upsertOne(c,h.byLayer)});return YWe.upsertOne(c,a)})),Wpe=P5(aXe);
var bXe=_.Bh({chartIdToDashboardId:{}},_.Ah(dRe,(a,{dashboardId:b,chartIds:c})=>{let {chartIdToDashboardId:d}=a;d=Object.assign({},d,c.reduce((e,f)=>{e[f]=b;return e},{}));return Object.assign({},a,{chartIdToDashboardId:d})})),Ype=P5(bXe);
var cXe={chartId:"",statuses:[],nonblockingErrors:[]};
var b$=_.bx({selectId:Z5}),dXe=_.Bh(b$.getInitialState({}),_.Ah(D8,$5(b$,cXe)),_.Ah(E8,a6(b$)),_.Ah(F8,b6(b$,cXe)),_.Ah(G8,(a,{chartId:b,previousLayerId:c,currentLayerId:d})=>(b=a.entities[b])?b$.upsertOne(Object.assign({},b,{statuses:b.statuses.map(e=>e.layerId!==c?e:Object.assign({},e,{layerId:d}))}),a):a),_.Ah(POe,(a,{chartId:b,layerId:c,error:d,success:e,sourceId:f})=>{d={layerId:c,sourceId:f,error:d,success:e};d=(c=a.entities[b])?c.statuses.filter(g=>g.sourceId!==f).concat([d]):[d];return b$.upsertOne(Object.assign({},
cXe,c,{chartId:b,statuses:d}),a)}),_.Ah(QOe,(a,{chartId:b,sourceId:c})=>{var d=a.entities[b];if(!d)return a;d=d.statuses.filter(e=>e.sourceId!==c);return b$.updateOne({id:b,changes:{statuses:d}},a)}),_.Ah(ROe,(a,{chartId:b,layerId:c,error:d,sourceId:e})=>{d={sourceId:e,layerId:c,error:d,success:!1};d=(c=a.entities[b])?c.nonblockingErrors.filter(f=>f.sourceId!==e).concat([d]):[d];return b$.upsertOne(Object.assign({},cXe,c,{chartId:b,nonblockingErrors:d}),a)}),_.Ah(SOe,(a,{chartId:b,sourceId:c})=>{var d=
a.entities[b];if(!d)return a;d=d.nonblockingErrors.filter(e=>e.sourceId!==c);return b$.updateOne({id:b,changes:{nonblockingErrors:d}},a)})),$pe=P5(dXe);
var dqe=_.bx({selectId:Z5}),cqe=_.bx({selectId:Hie}),bqe=a=>({chartId:a||"",byLayer:cqe.getInitialState({})}),eXe=_.Bh(dqe.getInitialState({}),_.Ah(D8,$5(dqe,bqe())),_.Ah(E8,a6(dqe)),_.Ah(F8,b6(dqe,bqe())),_.Ah(G8,Die(dqe,cqe,bqe())),_.Ah(FPe,(a,{chartId:b,layerId:c,exemplarPoint:d})=>eqe(a,b,c,{selectedExemplar:d})),_.Ah(GPe,(a,{chartId:b,layerId:c,exemplarPoint:d})=>eqe(a,b,c,{hoveredExemplar:d}))),fqe=P5(eXe);
var fXe=Object.assign({},{requirements:[]},{chartGroupId:null,chartId:null,layerId:null});
var gXe=_.Bh(fXe,_.Ah(F8,(a,{chartGroupId:b,previousChartId:c,currentChartId:d})=>{a=a.requirements.map(e=>e.chartGroupId===b&&e.chartId===c?Object.assign({},e,{chartId:d}):e);return Object.assign({},fXe,{requirements:a},a[a.length-1])}),_.Ah(G8,(a,{chartId:b,previousLayerId:c,currentLayerId:d})=>{a=a.requirements.map(e=>e.chartId===b&&e.layerId===c?Object.assign({},e,{layerId:d}):e);return Object.assign({},fXe,{requirements:a},a[a.length-1])}),_.Ah(TOe,(a,{chartGroupId:b,chartId:c,layerId:d})=>{a=
a.requirements.filter(e=>e.chartGroupId!==b&&e.chartId!==c&&e.layerId!==(d||null)).concat([{chartGroupId:b,chartId:c,layerId:d||null}]);return Object.assign({},fXe,{requirements:a},a[a.length-1])}),_.Ah(UOe,(a,{chartGroupId:b,chartId:c,layerId:d})=>{a=a.requirements.filter(e=>e.chartGroupId!==b&&e.chartId!==c&&e.layerId!==(d||null));return Object.assign({},fXe,{requirements:a},a[a.length-1])})),hqe=P5(gXe);
var hXe=_.Bh({chartsByGroup:{},layersByGroup:{}},_.Ah(F8,(a,{chartGroupId:b,previousChartId:c,currentChartId:d})=>{const e=Object.assign({},a.chartsByGroup),f=e[b]?new Set(e[b]):new Set;c&&f.delete(c);f.add(d);e[b]=f;return Object.assign({},a,{chartsByGroup:e})}),_.Ah(G8,(a,{chartGroupId:b,chartId:c,previousLayerId:d,currentLayerId:e})=>{const f=a.layersByGroup[b],g=null==f?void 0:f[c];if(!d||!g||!g.graphicLayerIds.has(d)&&!g.axisLayerIds.has(d))return a;let h=g.graphicLayerIds;h.has(d)&&(h=new Set(h),
h.delete(d),h.add(e));let l=g.axisLayerIds;l.has(d)&&(l=new Set(l),l.delete(d),l.add(e));return Object.assign({},a,{layersByGroup:Object.assign({},a.layersByGroup,{[b]:Object.assign({},f,{[c]:Object.assign({},g,{graphicLayerIds:h,axisLayerIds:l})})})})}),_.Ah(D8,(a,{chartId:b,chartGroupId:c})=>{const d=Object.assign({},a.chartsByGroup),e=d[c]?new Set(d[c]):new Set;e.add(b);d[c]=e;return Object.assign({},a,{chartsByGroup:d})}),_.Ah(E8,(a,{chartId:b,chartGroupId:c})=>{const d=Object.assign({},a.chartsByGroup),
e=Object.assign({},a.layersByGroup);var f=d[c]?new Set(d[c]):new Set;f.delete(b);0<f.size?d[c]=f:delete d[c];f=e[c]?Object.assign({},e[c]):{};delete f[b];0<Object.keys(f).length?e[c]=f:delete e[c];return Object.assign({},a,{chartsByGroup:d,layersByGroup:e})}),_.Ah(jOe,(a,{layerId:b,chartId:c,chartGroupId:d,layerType:e})=>{if(null==e)return a;const f=Object.assign({},a.layersByGroup),g=f[d]?Object.assign({},f[d]):{};if(g[c]){let {graphicLayerIds:h,axisLayerIds:l}=g[c];"graphic"===e?(h=new Set(h),h.add(b)):
(l=new Set(l),l.add(b));g[c]=Object.assign({},g[c],{graphicLayerIds:h,axisLayerIds:l})}else"graphic"===e?(e=new Set([b]),b=new Set):(e=new Set,b=new Set([b])),g[c]={graphicLayerIds:e,axisLayerIds:b};f[d]=g;return Object.assign({},a,{layersByGroup:f})}),_.Ah(kOe,(a,{layerId:b,chartId:c,chartGroupId:d,layerType:e})=>{if(null==e)return a;const f=Object.assign({},a.layersByGroup),g=f[d]?Object.assign({},f[d]):{};if(!g[c])return a;if("graphic"===e){({axisLayerIds:e}=g[c]);var {graphicLayerIds:h}=g[c];
h=new Set(h);h.delete(b);0<e.size+h.size?g[c]={axisLayerIds:e,graphicLayerIds:h}:delete g[c]}else({graphicLayerIds:e}=g[c]),{axisLayerIds:h}=g[c],h=new Set(h),h.delete(b),0<h.size+e.size?g[c]={axisLayerIds:h,graphicLayerIds:e}:delete g[c];0<Object.keys(g).length?f[d]=g:delete f[d];return Object.assign({},a,{layersByGroup:f})})),jqe=P5(hXe);
var iXe={chartId:"",domain:{hover:null,click:null,focus:null},byYAxis:{ids:[],entities:{}}},jXe={yAxisId:"right",hover:null,click:null,focus:null};
var kXe={hover:null,click:null},lXe=_.bx({selectId:Z5}),mXe=_.bx({selectId:function(a){return a.yAxisId}}),nXe=_.Bh(lXe.getInitialState({}),_.Ah(D8,$5(lXe,iXe)),_.Ah(E8,a6(lXe)),_.Ah(F8,b6(lXe,iXe)),_.Ah(k9,(a,{chartId:b,lastInteraction:c})=>{b=a.entities[b];if(!b)return a;c=Object.assign({},iXe,b,{domain:Object.assign({},kXe,b.domain,c)});return lXe.upsertOne(c,a)}),_.Ah(l9,(a,{chartId:b,yAxisId:c,lastInteraction:d})=>{b=a.entities[b];if(!b)return a;c=Object.assign({},jXe,b.byYAxis.entities[c],{yAxisId:c},
d);c=Object.assign({},b,{byYAxis:mXe.upsertOne(c,b.byYAxis)});return lXe.upsertOne(c,a)})),lqe=P5(nXe);
var oXe={isPaused:null,chartId:"",sourceToLoadingMap:{},sourceToDescriptionMap:{},loading:!1,loadingDescription:"default",hasLoadingEverOccurred:!1};
var c$=_.bx({selectId:Z5}),pXe=_.Bh(c$.getInitialState({}),_.Ah(D8,$5(c$,oXe)),_.Ah(E8,a6(c$)),_.Ah(F8,b6(c$,oXe)),_.Ah(VOe,(a,{chartId:b,sourceId:c,loading:d,loadingDescription:e})=>{const f=a.entities[b],g=Object.assign({},f?f.sourceToLoadingMap:{},{[c]:d});c=Object.assign({},f?f.sourceToDescriptionMap:{},{[c]:e});e=c$.upsertOne;var h=Object,l=h.assign,n=nqe(g);d=Array.isArray(d)?!!d.length:!!d;return e.call(c$,l.call(h,{},oXe,f,{chartId:b,sourceToLoadingMap:g,sourceToDescriptionMap:c,loading:n,
hasLoadingEverOccurred:d||!(null==f||!f.hasLoadingEverOccurred)}),a)}),_.Ah(WOe,(a,{chartId:b,sourceId:c})=>{const d=a.entities[b];if(!d)return a;const e=Object.keys(d.sourceToLoadingMap).filter(g=>g!==c).reduce((g,h)=>Object.assign({},g,{[h]:d.sourceToLoadingMap[h]}),{}),f=nqe(e);return c$.updateOne({id:b,changes:{sourceToLoadingMap:e,loading:f}},a)}),_.Ah(XOe,(a,{chartId:b,isPaused:c})=>c$.upsertOne(Object.assign({},oXe,a.entities[b],{chartId:b,isPaused:c}),a))),oqe=P5(pXe);
var qXe={chartGroupId:"",group:{},instance:{}};
var rXe=_.bx({selectId:Eie}),sXe=_.Bh(rXe.getInitialState({}),_.Ah(D8,Fie(rXe,qXe)),_.Ah(gOe,Gie(rXe)),_.Ah(F8,b6(rXe,qXe)),_.Ah(gWe,(a,{chartGroupId:b,map:c})=>rXe.upsertOne(Object.assign({},a.entities[b]||qXe,{chartGroupId:b,group:c}),a)),_.Ah(hWe,(a,{chartGroupId:b,map:c})=>rXe.upsertOne(Object.assign({},a.entities[b]||qXe,{chartGroupId:b,instance:c}),a))),qqe=P5(sXe);
var tXe={chartId:"",minGranularities:{coarse:"",fine:""},trigger:null};
var uXe=_.bx({selectId:Z5}),vXe=_.Bh(uXe.getInitialState({}),_.Ah(D8,$5(uXe,tXe)),_.Ah(E8,a6(uXe)),_.Ah(F8,b6(uXe,tXe)),_.Ah(XPe,(a,{chartId:b,minGranularities:c,maxGranularities:d,alignToTimezoneOffset:e})=>uXe.upsertOne(Object.assign({},tXe,{chartId:b,minGranularities:c,maxGranularities:d,alignToTimezoneOffset:e}),a)),_.Ah(YPe,(a,{chartId:b})=>uXe.upsertOne(Object.assign({},tXe,{chartId:b,trigger:new Date}),a))),sqe=P5(vXe);
var wXe={chartGroupId:"",chartId:"",height:0,width:0,margins:{top:0,bottom:0,left:0,right:0},offsets:{top:0,left:0},requirements:[],reservedMarginsByLayer:{ids:[],entities:{}},useChartGroupHorizontalMargins:!1};
var d$=_.bx({selectId:Z5}),zqe=_.bx({selectId:Hie}),xXe=_.Bh(d$.getInitialState({}),_.Ah(D8,(a,{chartGroupId:b,chartId:c})=>a.entities[c]?a:d$.addOne(Object.assign({},wXe,{chartId:c,chartGroupId:b}),a)),_.Ah(E8,a6(d$)),_.Ah(F8,(a,{chartGroupId:b,previousChartId:c,currentChartId:d})=>c?d$.mapOne({id:c,map:e=>Object.assign({},e,{chartId:d})},a):a.entities[d]?a:d$.addOne(Object.assign({},wXe,{chartId:d,chartGroupId:b}),a)),_.Ah(G8,(a,{previousLayerId:b,currentLayerId:c})=>d$.map(d=>Object.assign({},
d,{requirements:d.requirements.map(e=>e.layerId===b?Object.assign({},e,{layerId:c}):e),reservedMarginsByLayer:zqe.map(e=>e.layerId===b?Object.assign({},e,{layerId:c}):e,d.reservedMarginsByLayer)}),a)),_.Ah(bQe,(a,{chartGroupId:b,chartId:c,useChartGroupHorizontalMargins:d})=>{const e=a.entities[c],f=null==e?void 0:e.margins;var g;const {margins:h,reservedMarginsByLayer:l}=uqe(null!=(g=null==e?void 0:e.requirements)?g:[]);g=yqe(a,b,c);if(d){const {left:n,right:r}=vqe(h.left,h.right,g);h.left=n;h.right=
r}return d$.upsertOne(Object.assign({},wXe,e,{chartGroupId:b,chartId:c,useChartGroupHorizontalMargins:d,margins:h.top===(null==f?void 0:f.top)&&h.bottom===(null==f?void 0:f.bottom)&&h.left===(null==f?void 0:f.left)&&h.right===(null==f?void 0:f.right)?f:h,reservedMarginsByLayer:l}),a)}),_.Ah(ZPe,(a,{chartGroupId:b,chartId:c,height:d,width:e,offsets:f})=>d$.upsertOne(Object.assign({},a.entities[c]||wXe,{chartGroupId:b,chartId:c,height:Math.ceil(d),width:Math.ceil(e),offsets:f}),a)),_.Ah($Pe,(a,{chartGroupId:b,
chartId:c,layerId:d,reservedMargins:e,overlappingMargins:f})=>{var g={layerId:d,reservedMargins:e,overlappingMargins:f};e=a.entities[c];f=null==e?void 0:e.margins;g=e?e.requirements.filter(n=>n.layerId!==d).concat([g]):[g];const {margins:h,reservedMarginsByLayer:l}=uqe(g);e=Object.assign({},wXe,e,{chartGroupId:b,chartId:c,requirements:g,margins:h.top===(null==f?void 0:f.top)&&h.bottom===(null==f?void 0:f.bottom)&&h.left===(null==f?void 0:f.left)&&h.right===(null==f?void 0:f.right)?f:h,reservedMarginsByLayer:l});
b=yqe(a,b,c);return d$.upsertMany(xqe(e,b).concat([e]),a)}),_.Ah(aQe,(a,{chartGroupId:b,chartId:c,layerId:d})=>{var e=a.entities[c];if(!e)return a;const f=e.margins,g=e.requirements.filter(n=>n.layerId!==d),{margins:h,reservedMarginsByLayer:l}=uqe(g);e=Object.assign({},wXe,e,{chartGroupId:b,chartId:c,requirements:g,margins:h.top===f.top&&h.bottom===f.bottom&&h.left===f.left&&h.right===f.right?f:h,reservedMarginsByLayer:l});b=yqe(a,b,c);return d$.upsertMany(xqe(e,b).concat([e]),a)})),Aqe=P5(xXe);
var yXe={chartId:"",byLayer:{ids:[],entities:{}}},Dqe={layerId:"",selectedSeries:[],hoveredSeries:[],lastClickedSeries:[],tooltipAnnotations:[],hoveredAnnotations:[]};
var e$=_.bx({selectId:Z5}),f$=_.bx({selectId:Hie}),Cqe=a=>Object.assign({},yXe,{chartId:a||"",byLayer:f$.getInitialState({})}),zXe=_.Bh(e$.getInitialState({}),_.Ah(D8,$5(e$,Cqe())),_.Ah(E8,a6(e$)),_.Ah(F8,b6(e$,Cqe())),_.Ah(G8,Die(e$,f$,Cqe())),_.Ah(c9,(a,{chartId:b,layerId:c,series:d})=>{const {chartState:e,layerState:f}=n6(a,b,c);if(!N5(f.selectedSeries,d))return a;b=Object.assign({},f,{selectedSeries:d});b=Object.assign({},e,{byLayer:f$.upsertOne(b,e.byLayer)});return e$.upsertOne(b,a)}),_.Ah(HPe,
(a,{chartId:b,layerId:c})=>{const {chartState:d,layerState:e}=n6(a,b,c);b=Object.assign({},e,{selectedSeries:[]});b=Object.assign({},d,{byLayer:f$.upsertOne(b,d.byLayer)});return e$.upsertOne(b,a)}),_.Ah(IPe,(a,{chartId:b,layerId:c,series:d})=>{const {chartState:e,layerState:f}=n6(a,b,c);b=[...f.selectedSeries,d];b=Object.assign({},f,{selectedSeries:b});b=Object.assign({},e,{byLayer:f$.upsertOne(b,e.byLayer)});return e$.upsertOne(b,a)}),_.Ah(JPe,(a,{chartId:b,layerId:c,series:d})=>{const {chartState:e,
layerState:f}=n6(a,b,c);b=f.selectedSeries.filter(g=>g.seriesId!==d.seriesId);b=Object.assign({},f,{selectedSeries:b});b=Object.assign({},e,{byLayer:f$.upsertOne(b,e.byLayer)});return e$.upsertOne(b,a)}),_.Ah(d9,(a,{chartId:b,layerId:c,series:d})=>{const {chartState:e,layerState:f}=n6(a,b,c);if(!N5(f.hoveredSeries,d))return a;b=Object.assign({},f,{hoveredSeries:d});b=Object.assign({},e,{byLayer:f$.upsertOne(b,e.byLayer)});return e$.upsertOne(b,a)}),_.Ah(KPe,(a,{chartId:b,layerId:c,series:d})=>{const {chartState:e,
layerState:f}=n6(a,b,c);b=Object.assign({},f,{lastClickedSeries:d});b=Object.assign({},e,{byLayer:f$.upsertOne(b,e.byLayer)});return e$.upsertOne(b,a)}),_.Ah(LPe,(a,{chartId:b,layerId:c,annotations:d})=>{const {chartState:e,layerState:f}=n6(a,b,c);b=Object.assign({},f,{tooltipAnnotations:d});b=Object.assign({},e,{byLayer:f$.upsertOne(b,e.byLayer)});return e$.upsertOne(b,a)}),_.Ah(MPe,(a,{chartId:b,layerId:c,annotations:d})=>{const {chartState:e,layerState:f}=n6(a,b,c);b=Object.assign({},f,{hoveredAnnotations:d});
b=Object.assign({},e,{byLayer:f$.upsertOne(b,e.byLayer)});return e$.upsertOne(b,a)})),Eqe=P5(zXe);
var AXe=_.bx({selectId:Z5}),BXe={chartId:"",dataSets:[]},CXe=_.Bh(AXe.getInitialState({}),_.Ah(D8,$5(AXe,BXe)),_.Ah(E8,a6(AXe)),_.Ah(F8,b6(AXe,BXe)),_.Ah(cQe,(a,b)=>AXe.upsertOne(Object.assign({},b||BXe),a))),Gqe=P5(CXe);
var Kqe=_.bx({selectId:Z5}),Jqe=_.bx({selectId:Hie}),DXe=_.bx({selectId:function(a){return a.seriesId}}),EXe=_.Bh(Kqe.getInitialState(),_.Ah(D8,$5(Kqe,Iqe)),_.Ah(E8,a6(Kqe)),_.Ah(F8,b6(Kqe,Iqe)),_.Ah(G8,Die(Kqe,Jqe)),_.Ah(kOe,(a,{chartId:b,layerId:c})=>Lqe(a,b,c,()=>{})),_.Ah(j9,(a,{chartId:b,layerId:c,yAxisId:d,xAxisId:e,valueType:f,unit:g,legendTemplate:h,pointConnectionMethod:l,alignmentPeriodMs:n})=>Lqe(a,b,c,r=>Object.assign({},eQe,r,{layerId:c,yAxisId:d,xAxisId:e,valueType:f,unit:g,legendTemplate:h,
pointConnectionMethod:l||(null==r?void 0:r.pointConnectionMethod),alignmentPeriodMs:n}))),_.Ah(i9,(a,{chartId:b,layerId:c,series:d})=>Lqe(a,b,c,e=>{if(!e)return e;const f=d.map(g=>Object.assign({},fQe,null==e?void 0:e.bySeries.entities[g.seriesId],g));return Object.assign({},e,{bySeries:DXe.addMany(f,DXe.getInitialState({})),layerId:c})})),_.Ah(h9,(a,{chartId:b,layerId:c,valueType:d,timeKey:e,values:f,timeRange:g})=>Lqe(a,b,c,h=>{if(!h||h.valueType!==d)return h;let l={};g&&(l=Object.assign({},h.snapshotMetadata,
{[e]:{alignmentRange:Object.assign({},g)}}));const n=new Map;for(const {seriesId:v,value:w}of f)n.set(v,w);const r=[];for(const v of Object.values(h.bySeries.entities)){if(!v)continue;const w=v.seriesId;let y;const B=null==(y=h)?void 0:y.bySeries.entities[w];if(!B)continue;const G=n.get(w);r.push(Object.assign({},B,{atTimeKey:Object.assign({},B.atTimeKey,{[e]:G}),seriesId:w}))}return Object.assign({},eQe,h,{snapshotMetadata:l,bySeries:DXe.upsertMany(r,(null==h?void 0:h.bySeries)||DXe.getInitialState({})),
layerId:c})}))),Mqe=P5(EXe);
var g$=_.bx({selectId:function(a){return d6(a.chartGroupId,a.chartId,a.xAxisId)}}),FXe=_.Bh(g$.getInitialState({}),_.Ah(F8,(a,{chartGroupId:b,previousChartId:c,currentChartId:d})=>{if(!c)return a;let e=a;for(const f of a.ids){const g=a.entities[f];g&&g.chartGroupId===b&&g.chartId===c&&(e=g$.mapOne({id:String(f),map:h=>Object.assign({},h,{chartId:d})},e))}return e}),_.Ah(hOe,(a,{chartGroupId:b,chartId:c,xAxisId:d})=>a.entities[d6(b,c,d)]?a:g$.addOne(Object.assign({},bPe,{chartGroupId:b,chartId:c,xAxisId:d}),
a)),_.Ah(iOe,(a,{chartGroupId:b,chartId:c,xAxisId:d})=>g$.removeOne(d6(b,c,d),a)),_.Ah(gOe,(a,{chartGroupId:b})=>{const c=Object.values(a.entities).reduce((d,e)=>e&&e.chartGroupId===b?d.concat([d6(e.chartGroupId,e.chartId,e.xAxisId)]):d,[]);return g$.removeMany(c,a)}),_.Ah(M8,(a,{chartGroupId:b,chartId:c,xAxisId:d,id:e,priority:f,absoluteMin:g,min:h,max:l,unit:n,cause:r,constraints:v})=>{g={id:e,priority:f,absoluteMin:g,min:h,max:l,unit:n,constraints:v};h=a.entities[d6(b,c,d)];l=[];l=h?(e?h.requirements.filter(w=>
void 0===w.id||w.id!==e||w.priority!==f):h.requirements).concat([g]):[g];return g$.upsertOne(Object.assign({},h||bPe,{chartGroupId:b,chartId:c,xAxisId:d,requirements:l,lastUpdateCausedBy:r||0}),a)}),_.Ah(N8,(a,{chartGroupId:b,chartId:c,xAxisId:d,priority:e,cause:f,keepLastCause:g})=>{b=d6(b,c,d);c=a.entities[b];if(!c)return a;c=c.requirements.filter(h=>h.priority!==e);return g$.updateOne({id:b,changes:Object.assign({},{requirements:c},g?{}:{lastUpdateCausedBy:f||0})},a)}),_.Ah(YOe,(a,{chartGroupId:b,
chartId:c,xAxisId:d,id:e,cause:f,keepLastCause:g})=>{b=d6(b,c,d);c=a.entities[b];if(!c)return a;c=c.requirements.filter(h=>h.id!==e);return g$.updateOne({id:b,changes:Object.assign({},{requirements:c},g?{}:{lastUpdateCausedBy:f||0})},a)}),_.Ah(ZOe,(a,{chartGroupId:b,chartId:c,xAxisId:d,relativeToId:e,shift:f})=>g$.upsertOne(Object.assign({},a.entities[d6(b,c,d)]||bPe,{chartGroupId:b,chartId:c,xAxisId:d,relativeTo:{xAxisId:e,shift:f}}),a)),_.Ah($Oe,(a,{chartGroupId:b,chartId:c,xAxisId:d,timezoneOffset:e})=>
g$.upsertOne(Object.assign({},a.entities[d6(b,c,d)]||bPe,{chartGroupId:b,chartId:c,xAxisId:d,timezoneOffset:e}),a)),_.Ah(aPe,(a,{chartGroupId:b,chartId:c,xAxisId:d,timeZoneId:e})=>g$.upsertOne(Object.assign({},a.entities[d6(b,c,d)]||bPe,{chartGroupId:b,chartId:c,xAxisId:d,timeZoneId:e}),a))),Oqe=P5(FXe);
var GXe=_.bx({selectId:Eie}),HXe=_.Bh(GXe.getInitialState({}),_.Ah(D8,Fie(GXe,kUe)),_.Ah(gOe,Gie(GXe)),_.Ah(m9,(a,{chartGroupId:b,position:c})=>{const d=a.entities[b];let e=0;d&&null!==d.xPos&&null!==c&&(c>d.xPos&&(e=3),c<d.xPos&&(e=2),c===d.xPos&&(e=1));return GXe.upsertOne(Object.assign({},d||kUe,{chartGroupId:b,xPos:c,directionOfTravel:e}),a)}),_.Ah(n9,(a,{chartGroupId:b,locked:c})=>GXe.upsertOne(Object.assign({},a.entities[b]||kUe,{chartGroupId:b,locked:c}),a)),_.Ah(o9,(a,{chartGroupId:b,trackingNow:c})=>
GXe.upsertOne(Object.assign({},a.entities[b]||kUe,{chartGroupId:b,trackingNow:c}),a))),Qqe=P5(HXe);
var c6=_.bx({selectId:function(a){return`${a.chartId},${a.yAxisId}`}}),IXe=_.Bh(c6.getInitialState({}),_.Ah(F8,(a,{previousChartId:b,currentChartId:c})=>b?c6.map(d=>d.chartId===b?Object.assign({},d,{chartId:c}):d,a):a),_.Ah(T8,(a,{chartId:b,yAxisId:c,id:d,priority:e,absoluteMin:f,min:g,max:h,unit:l,cause:n,constraints:r})=>{e={id:d,priority:e,absoluteMin:f,min:g,max:h,unit:l,constraints:r};f=a.entities[`${b},${c}`];g=[];g=f?(d?f.requirements.filter(v=>void 0===v.id||v.id!==d):f.requirements).concat([e]):
[e];return c6.upsertOne(Object.assign({},f||Iie,{chartId:b,yAxisId:c,requirements:g,lastUpdateCausedBy:n||0}),a)}),_.Ah(U8,(a,{chartId:b,yAxisId:c,priority:d,cause:e})=>{var f=c?[`${b},${c}`]:a.ids.filter(g=>g.startsWith(b));c=[];for(const g of f)if(f=a.entities[g])f=f.requirements.filter(h=>h.priority!==d),c.push({id:g,changes:{requirements:f,lastUpdateCausedBy:e||0}});return c6.updateMany(c,a)}),_.Ah(pPe,(a,{chartId:b,yAxisId:c,id:d,cause:e})=>{const f=`${b},${c}`,g=a.entities[f];if(!g)return Jie()(a,
{chartId:b,yAxisId:c});b=g.requirements.filter(h=>h.id!==d);return c6.updateOne({id:f,changes:{requirements:b,lastUpdateCausedBy:e||0}},a)}),_.Ah(qPe,(a,{chartId:b,yAxisId:c,position:d})=>c6.upsertOne(Object.assign({},a.entities[`${b},${c}`]||Iie,{position:d}),a))),Sqe=P5(IXe);
var JXe=class{};_.sib("awesomecharts",Uqe);JXe.\u0275fac=function(a){return new (a||JXe)};JXe.\u0275mod=_.Bc({type:JXe});JXe.\u0275inj=_.tc({imports:[_.sib("awesomecharts",Uqe)]});
var KXe=class{};KXe.\u0275fac=function(a){return new (a||KXe)};KXe.\u0275mod=_.Bc({type:KXe});KXe.\u0275inj=_.tc({imports:[EWe,_.Vu,MWe,_.ql,TLe,Z9,JXe,_.kz,_.fy,_.UB,_.pV,_.qt,_.by,_.Rx,_.yt,_.kD,_.ly,_.IT,_.Hv,_.$D,_.Iz,_.Yu,_.cv,Yze]});
var LXe={OFF:"OFF",GRANULAR:"GRANULAR",BINARY:"BINARY"},Yqe=["P1","P2"];
var Vqe=function(a){switch(a){case "P1":return"P1 recommended actions may have a critical impact on your resources.";case "P2":return"P2 recommended actions may have a high impact on your resources.";case "P3":return"P3 recommended actions may have a medium impact on your resources.";case "P4":return"P4 recommended actions may have a low impact on your resources.";default:return""}},MXe=class{constructor(){this.IndicatorType=LXe;this.type=_.Of("RecommendationPriority__granular_indicators_enabled")?
"GRANULAR":_.Of("RecommendationPriority__binary_indicators_enabled")?"BINARY":"OFF";this.priority="PRIORITY_UNSPECIFIED";this.shownInGroupIndicator=!1}};MXe.\u0275fac=function(a){return new (a||MXe)};
MXe.\u0275cmp=_.q({type:MXe,selectors:[["aa-priority-indicator"]],inputs:{priority:"priority",shownInGroupIndicator:"shownInGroupIndicator"},decls:1,vars:1,consts:[[4,"ngIf"],["data-test-id","aa-granular-priority-indicator","tabindex","0",3,"ngClass","cfcTooltip","cfcTooltipTapToShow","cfcTooltipName",4,"ngIf"],["iconset","recommendations_hub","icon","priority-flame","data-test-id","aa-binary-priority-indicator","tabindex","0",3,"cfcTooltip","cfcTooltipTapToShow","cfcTooltipName",4,"ngIf"],["data-test-id",
"aa-granular-priority-indicator","tabindex","0",3,"ngClass","cfcTooltip","cfcTooltipTapToShow","cfcTooltipName"],["iconset","recommendations_hub","icon","priority-flame","data-test-id","aa-binary-priority-indicator","tabindex","0",3,"cfcTooltip","cfcTooltipTapToShow","cfcTooltipName"]],template:function(a,b){a&1&&_.P(0,Zqe,3,2,"ng-container",0);a&2&&_.C("ngIf","PRIORITY_UNSPECIFIED"!==b.priority)},dependencies:[_.qx,_.ll,_.vT,_.Fz,_.Ev],styles:[".aa-priority-indicator-p1[_ngcontent-%COMP%]{color:#fff;font-family:Roboto;font-size:12px;font-weight:400;line-height:20px;border-radius:2px;display:inline-block;white-space:nowrap;height:20px;padding:0 4px;vertical-align:middle;background-color:#d93025}.aa-priority-indicator-p2[_ngcontent-%COMP%]{color:#202124;font-family:Roboto;font-size:12px;font-weight:400;line-height:20px;border-radius:2px;display:inline-block;white-space:nowrap;height:20px;padding:0 4px;vertical-align:middle;background-color:#fdd663}.aa-priority-indicator-p3[_ngcontent-%COMP%]{color:#1967d2;font-family:Roboto;font-size:12px;font-weight:400;line-height:20px;border-radius:2px;display:inline-block;white-space:nowrap;height:20px;padding:0 4px;vertical-align:middle;background-color:#e8f0fe}.aa-priority-indicator-p4[_ngcontent-%COMP%]{color:#6b6b6b;font-family:Roboto;font-size:12px;font-weight:400;line-height:20px;border-radius:2px;display:inline-block;white-space:nowrap;height:20px;padding:0 4px;vertical-align:middle;background-color:#f0f0f0}"]});
var NXe=class{};NXe.\u0275fac=function(a){return new (a||NXe)};NXe.\u0275mod=_.Bc({type:NXe});NXe.\u0275inj=_.tc({imports:[_.ql,_.IT,_.Hz,_.Hv]});
var h$=class{constructor(a){this.iconService=a;this.iconService.registerIconset("recommendations_hub","small",12);this.iconService.registerIconset("recommendations_hub","medium",5)}};h$.\u0275fac=function(a){return new (a||h$)(_.p(_.wT))};h$.\u0275mod=_.Bc({type:h$});h$.\u0275inj=_.tc({imports:[_.IT]});
var OXe=class{constructor(a){this.destroyed=new _.tf;this.editor=a.editor;a.onContentChange.pipe(_.Af(this.destroyed)).subscribe(this.onContentChange.bind(this));a.onConfigChange.pipe(_.Af(this.destroyed)).subscribe(this.onConfigChange.bind(this))}onInit(){}onDestroy(){}onContentChange(){}onConfigChange(){}ngOnInit(){this.onInit()}ngOnDestroy(){this.onDestroy();this.destroyed.next();this.destroyed.complete()}};OXe.\u0275fac=function(a){return new (a||OXe)(_.A(_.yE))};OXe.\u0275dir=_.q({type:OXe});
var PXe=function(a,b){for(const c of Object.keys(b)){const d=Number(c);if(isNaN(d))throw Error("Fl`"+c);a.editor.addLineClass(d-1,"background","cfc-highlighted-line");a.lineNumbersOnly&&a.editor.addLineClass(d-1,"background","cfc-highlighted-line-only-line-number");a.editor.addLineClass(d-1,"background",b[d]);a.editor.addLineClass(d-1,"gutter",b[d])}},QXe=class extends OXe{onContentChange(){this.editor.operation(()=>{PXe(this,this.linesMap||{})})}ngOnChanges(a){const b=(a.linesMap?a.linesMap.previousValue:
this.linesMap)||{},c=this.linesMap||{};JSON.stringify(b)!==JSON.stringify(c)&&this.editor.operation(()=>{for(const d of Object.keys(b)){const e=Number(d);this.editor.removeLineClass(e-1,"background","cfc-highlighted-line");this.lineNumbersOnly&&this.editor.removeLineClass(e-1,"background","cfc-highlighted-line-only-line-number");this.editor.removeLineClass(e-1,"background",b[e]);this.editor.removeLineClass(e-1,"gutter",b[e])}PXe(this,c)})}};
QXe.\u0275fac=function(){let a;return function(b){return(a||(a=_.Xc(QXe)))(b||QXe)}}();
QXe.\u0275cmp=_.q({type:QXe,selectors:[["cfc-code-editor-highlight-lines"]],inputs:{linesMap:"linesMap",lineNumbersOnly:"lineNumbersOnly"},features:[_.wd,_.Gc],decls:0,vars:0,template:function(){},styles:[".cfc-highlighted-line-blue.CodeMirror-linebackground:not(.cfc-highlighted-line-only-line-number),.cfc-highlighted-line-blue .CodeMirror-linenumber{background-color:#a1c2fa}.cfc-highlighted-line-green.CodeMirror-linebackground:not(.cfc-highlighted-line-only-line-number),.cfc-highlighted-line-green .CodeMirror-linenumber{background-color:#57bb8a}.cfc-highlighted-line-grey.CodeMirror-linebackground:not(.cfc-highlighted-line-only-line-number),.cfc-highlighted-line-grey .CodeMirror-linenumber{background-color:rgba(0,0,0,.54)}.cfc-highlighted-line-red.CodeMirror-linebackground:not(.cfc-highlighted-line-only-line-number),.cfc-highlighted-line-red .CodeMirror-linenumber{background-color:#d50000}.cfc-highlighted-line-yellow.CodeMirror-linebackground:not(.cfc-highlighted-line-only-line-number),.cfc-highlighted-line-yellow .CodeMirror-linenumber{background-color:#f2a600}.CodeMirror-code .cfc-highlighted-line-grey .CodeMirror-linenumber,.CodeMirror-code .cfc-highlighted-line-red .CodeMirror-linenumber{color:#fff}.cfc-highlighted-line.CodeMirror-linebackground{opacity:.16}"],encapsulation:2});
var RXe=class{};RXe.\u0275fac=function(a){return new (a||RXe)};RXe.\u0275mod=_.Bc({type:RXe});RXe.\u0275inj=_.tc({});
var SXe=class extends _.wm{constructor(){super();this.project=new _.sm("query","project");this.time=new _.sm("query","time");this.service=new _.sm("query","service");this.version=new _.sm("query","version");this.filter=new _.sm("query","filter");_.um(this,["errors"])}},TXe=class extends SXe{constructor(){super();this.errorGroupId=new _.sm("path","errorGroupId");_.um(this,[this.errorGroupId])}};
var UXe=/^([a-zA-Z$_][0-9a-zA-Z$_]*\.)*[a-zA-Z$_][0-9a-zA-Z$_]*$/,VXe=function(a,b){const c=[];if(!b.monitoredResource)return"";var d=b.monitoredResource;c.push(d.type?`resource.type="${d.type}"`:null);d.labels&&(d=d.labels,c.push(d.service?`resource.labels.service="${d.service}"`:null),c.push(d.method?`resource.labels.method="${d.method}"`:null),c.push(d.project_id&&b.logName?`logName="projects/${d.project_id}/logs/${b.logName}"`:null));c.push(a.errorGroup.group?`error_group("${a.errorGroup.group.groupId}")`:
null);return c.filter(e=>null!==e).join("\n")},WXe=class{constructor(){this.timeWindowSeconds=86400;this.linkType=0;this.errorGroupTitle="";this.ve={CrashDetailsLink:68471}}ngOnInit(){}ngOnChanges(){if(1===this.linkType){var a=_.fyd.create();var b=a.link();this.errorGroup&&(b.set(a.expandAll,"false"),this.errorGroup.representative&&this.errorGroup.representative.logContext&&b.set(a.advancedFilter,VXe(this,this.errorGroup.representative.logContext)),this.linkTimeRange&&(b.set(a.interval,this.linkTimeRange.interval),
"JUMP_TO_TIME"===this.linkTimeRange.interval&&b.set(a.timestamp,this.linkTimeRange.startTime.toString()||""),"CUSTOM"===this.linkTimeRange.interval&&(b.set(a.dateRangeStart,this.linkTimeRange.startTime.toString()||""),b.set(a.dateRangeEnd,this.linkTimeRange.endTime.toString()||""))));a=b}else{var c=TXe.create(),d=c.link();if(this.errorGroup){a=d;b=a.set;var e=c.time;var f=this.timeWindowSeconds;if(null===f)f=null;else{var g=Math.floor(f/86400);f-=86400*g;var h=Math.floor(f/3600);f-=3600*h;var l=Math.floor(f/
60);f=(new _.VS(0,0,g,h,l,f-60*l)).toIsoString()}b.call(a,e,f);d.set(c.errorGroupId,this.errorGroup.group&&this.errorGroup.group.groupId||"")}a=d}this.detailLink=a;a:if(b="",this.errorGroup){if((a=this.errorGroup.representative||null)&&a.exception){e=a.exception.type;c=a.exception.message;d=a.exception.exceptionText;if(e&&c&&UXe.test(e)){a=`${e.split(".").pop()}: ${c}`;break a}b=b||(d?d.split("\n").shift():"")||""}a=b||a.message||this.errorGroup.group.groupId}else a=b;this.errorGroupTitle=a}};
WXe.\u0275fac=function(a){return new (a||WXe)};
WXe.\u0275cmp=_.q({type:WXe,selectors:[["crash-error-table-title"]],inputs:{errorGroup:"errorGroup",timeWindowSeconds:"timeWindowSeconds",linkType:"linkType",linkTimeRange:"linkTimeRange"},features:[_.Gc],decls:2,vars:5,consts:[[1,"cfc-truncated-text-inline","crash-error-table-title","cfc-color-primary","cfc-font-weight-medium",3,"ve","veClick","cfcRouterLink","queryParams"]],template:function(a,b){a&1&&(_.E(0,"a",0),_.Q(1),_.F());a&2&&(_.C("ve",b.ve.CrashDetailsLink)("veClick",!0)("cfcRouterLink",
b.detailLink.build())("queryParams",b.detailLink.buildQueryParams()),_.x(1),_.Sd(" ",b.errorGroupTitle,"\n"))},dependencies:[_.wt,_.bv],encapsulation:2,changeDetection:0});var XXe=class{};XXe.\u0275fac=function(a){return new (a||XXe)};XXe.\u0275mod=_.Bc({type:XXe});XXe.\u0275inj=_.tc({imports:[_.Vu,_.cv]});
var YXe=class extends _.wm{constructor(){super();this.filePath=new _.sm("query","file");this.lineNumber=new _.kwd("query","line");this.service=new _.sm("query","appModule");this.version=new _.sm("query","appVersion");_.um(this,["debug"]);var a={referrer:"fromlog"};_.dpa(Object.keys(this.staticQueryParams).concat(Object.keys(a)));Object.assign(this.staticQueryParams,a)}};
var ZXe=function(a){if(a.sourceLocationData){var b=a.sourceLocationData;a.classMethod=[b.className,b.functionName].filter(c=>!!c).join(".");a.packageName=`${b.packageName}.`;a.fileLine=b.filePath&&b.fileName&&b.lineNumber?`${b.filePath}/${b.fileName}:${b.lineNumber}`:b.fileName&&b.lineNumber?`${b.fileName}:${b.lineNumber}`:void 0}},$Xe=class{constructor(a){this.analyticsService=a;this.hideLink=!1;this.ve={CrashSourceLocationLink:68008}}ngOnInit(){}ngOnChanges(a){a.sourceLocation&&this.sourceLocation&&
(this.sourceLocationData=this.parse(),ZXe(this));if((!this.hideLink&&a.sourceLocation||a.serviceContext||!a.hideLink)&&this.sourceLocationData&&this.sourceLocation.lineNumber&&this.sourceLocationData.fileName&&!_.Xi(this.sourceLocationData.fileName)){a=_.wD(this.sourceLocationData.fileName);a=!this.sourceLocationData.filePath||_.Xi(this.sourceLocationData.filePath)?a:`${_.wD(this.sourceLocationData.filePath)}/${a}`;var b=this.sourceLocation.lineNumber,c=this.serviceContext;a=a.replace(/\\g/,"/");
const d=YXe.create(),e=d.link();e.set(d.filePath,a);b&&e.set(d.lineNumber,b);c&&(e.set(d.service,c.service),e.set(d.version,c.version));this.sourceLink=e}}sendAnalyticsEvent(){this.analyticsEventForClick&&this.analyticsService.sendEvent(this.analyticsEventForClick)}parse(){if(this.sourceLocation.filePath&&this.sourceLocation.lineNumber||this.sourceLocation.functionName){var a=void 0,b=void 0,c=void 0;this.sourceLocation.filePath&&this.sourceLocation.lineNumber&&(b=this.sourceLocation.filePath.split("/"),
a=b.pop(),b=b.join("/"),c=this.sourceLocation.lineNumber);var d=void 0,e=void 0,f=void 0;if(this.sourceLocation.functionName){f=this.sourceLocation.functionName.split(".");d=f.pop();if(0<f.length){const h=f[f.length-1];var g;if(!(g="java"===this.programmingLanguage))a:{for(g=0;g<h.length;++g)if(h[g].toLowerCase()!==h[g].toUpperCase()){g=h[g].toUpperCase()===h[g];break a}g=!1}g&&(e=f.pop())}(f=f.join("."))&&"java"===this.programmingLanguage&&(b=f.replace(".","/"))}return{fileName:a,filePath:b,lineNumber:c,
functionName:d,className:e,packageName:f}}}};$Xe.\u0275fac=function(a){return new (a||$Xe)(_.A(_.sq))};
$Xe.\u0275cmp=_.q({type:$Xe,selectors:[["crash-source-location"]],inputs:{analyticsEventForClick:"analyticsEventForClick",hideLink:"hideLink",programmingLanguage:"programmingLanguage",serviceContext:"serviceContext",sourceLocation:"sourceLocation"},features:[_.Gc],decls:7,vars:3,consts:[[1,"crash-source-package-name","cfc-color-secondary"],[1,"crash-source-class-method","cfc-color-primary"],["class","cfc-color-secondary",4,"ngIf"],["plainFileLine",""],[1,"cfc-color-secondary"],["class","crash-source-file-line crash-source-location-link",
3,"ve","veClick","cfcRouterLink","queryParams","click",4,"ngIf","ngIfElse"],[1,"crash-source-file-line","crash-source-location-link",3,"ve","veClick","cfcRouterLink","queryParams","click"],[1,"crash-source-file-line"]],template:function(a,b){a&1&&(_.E(0,"span",0),_.Q(1),_.F(),_.E(2,"span",1),_.Q(3),_.F(),_.P(4,are,4,2,"span",2),_.P(5,bre,2,1,"ng-template",null,3,_.Te));a&2&&(_.x(1),_.Ud(b.packageName),_.x(2),_.Ud(b.classMethod),_.x(1),_.C("ngIf",b.fileLine))},dependencies:[_.wt,_.ll,_.bv],encapsulation:2,
changeDetection:0});
var aYe=class{};aYe.\u0275fac=function(a){return new (a||aYe)};aYe.\u0275mod=_.Bc({type:aYe});aYe.\u0275inj=_.tc({imports:[_.Vu,_.ql,_.cv]});
var bYe={sparkline:!0,count:!0,error:!0,users:!0,firstSeen:!0,lastSeen:!0,playbookUri:!1,status:!0},dre=function(a){a=a.map(c=>Number(c.count||"0"));const b=15.5/Math.max(...a);return a.map((c,d)=>({x:4*d,y:15.5-c*b,width:3,height:.5+c*b}))},qre=function(a){if(void 0!==a.representative&&void 0!==a.representative.context&&void 0!==a.representative.context.httpRequest&&void 0!==a.representative.context.httpRequest.responseStatusCode)return a.representative.context.httpRequest.responseStatusCode},cYe=
class{constructor(a){this.columns=bYe;this.timeWindowSeconds=86400;this.fillContainerWidth=!0;this.linkType=0;this.MAX_HEIGHT=16;this.COL_WIDTH=119;this.config=[{id:"sparkline",accessor:b=>b.timedCounts},{id:"count",accessor:b=>b.count},{id:"error",accessor:b=>b.representative},{id:"users",accessor:b=>b.affectedUsersCount},{id:"firstSeen",accessor:b=>b.firstSeenTime},{id:"lastSeen",accessor:b=>b.lastSeenTime},{id:"playbookUri",accessor:b=>{let c,d;return null==(c=b.group)?void 0:null==(d=c.attachedErrorInfo)?
void 0:d.playbookUri}},{id:"status",accessor:b=>qre(b)||""}];this.clientTableManager=_.pA(a)}set errorGroupStats(a){this.errorGroupStatsInternal=a;this.clientTableManager.rows=a}get errorGroupStats(){return this.errorGroupStatsInternal}hasLocation(a){if(void 0===a.representative)return!1;let b,c,d;return void 0!==(null==(b=a.representative.exception)?void 0:b.stackFrames)||void 0!==(null==(c=a.representative.exception)?void 0:c.causeLocation)||void 0!==(null==(d=a.representative.context)?void 0:d.reportLocation)}};
cYe.\u0275fac=function(a){return new (a||cYe)(_.A(_.qA))};
cYe.\u0275cmp=_.q({type:cYe,selectors:[["crash-error-table-view"]],inputs:{errorGroupStats:"errorGroupStats",columns:"columns",timeWindowSeconds:"timeWindowSeconds",fillContainerWidth:"fillContainerWidth",linkType:"linkType",linkTimeRange:"linkTimeRange"},decls:3,vars:2,consts:function(){return[["class","crash-error-table","externalTableCaptionId","crash-error-table",3,"columnsConfig","fillContainerWidth","tableManager","pagination",4,"ngIf","ngIfElse"],["noErrors",""],["externalTableCaptionId","crash-error-table",
1,"crash-error-table",3,"columnsConfig","fillContainerWidth","tableManager","pagination"],["id","sparkline","header","Occurrences","cellAlignment","center","type","non_filterable",3,"hidden","maxWidth","width"],["class","error-table-sparkline-cell",4,"cfcTableTemplate"],["id","count","header","Count","cellAlignment","right","type","number",3,"hidden","maxWidth"],[4,"cfcTableTemplate"],["id","error","header","Error","overflow","truncate","type","non_filterable",3,"hidden"],["id","users","header","Users",
"cellAlignment","right","type","number",3,"hidden"],["id","firstSeen","header","First seen","type","non_filterable",3,"hidden"],["id","lastSeen","header","Last seen","type","non_filterable",3,"hidden"],["id","playbookUri","header","Documentation","type","non_filterable",3,"hidden"],["id","status","header","Status","type","number",3,"hidden"],[1,"error-table-sparkline-cell"],["class","crash-sparkline-fill",4,"ngFor","ngForOf"],[1,"crash-sparkline-fill"],[3,"errorGroup","linkType","linkTimeRange","timeWindowSeconds"],
[3,"sourceLocation","serviceContext","programmingLanguage","hideLink",4,"ngIf"],[4,"ngIf"],[3,"sourceLocation","serviceContext","programmingLanguage","hideLink"],[4,"ngIf","ngIfElse"],["target","_blank",3,"href"]," Troubleshooting guide ",["icon","external-link"],["empty",""],[1,"cfc-space-above-minus-3"]," No errors have been received in this time period. "]},template:function(a,b){a&1&&(_.P(0,sre,17,23,"cfc-table",0),_.P(1,tre,2,0,"ng-template",null,1,_.Te));if(a&2){const c=_.Rd(2);_.C("ngIf",b.errorGroupStats.length)("ngIfElse",
c)}},dependencies:[_.kl,_.ll,WXe,$Xe,_.xo,_.aB,_.PA,_.OA,_.lB,Jze,_.$S],styles:[".error-table-sparkline-cell{margin-top:12px}.crash-sparkline-fill{fill:#3b78e7}crash-error-table-title,crash-source-location{display:block}.crash-error-table-title{max-width:900px}"],encapsulation:2,changeDetection:0});var dYe=class{};dYe.\u0275fac=function(a){return new (a||dYe)};dYe.\u0275mod=_.Bc({type:dYe});dYe.\u0275inj=_.tc({imports:[_.ql,XXe,aYe,_.gz,_.Go,_.mB]});
var eYe=class{constructor(a,b,c){this.addMembersSubtaskService=a;this.viewContainerRef=c;this.onIamSave=new _.$k;this.ve={IamAddUserRoleButton:58568};b.registerIconset("iam","small",18)}set resource(a){this.internalResource=a;this.updatePermission=_.Yq.get(a.getResourceType()).set}get resource(){return this.internalResource}openAddMembers(){this.addMembersSubtaskService.openSubtask({resources:[this.internalResource],conditionsDisabledTooltip:this.conditionsDisabledTooltip},{viewContainerRef:this.viewContainerRef}).subscribe(()=>
{this.onIamSave.emit()})}};eYe.\u0275fac=function(a){return new (a||eYe)(_.A(_.xJ),_.A(_.Eo),_.A(_.Me))};
eYe.\u0275cmp=_.q({type:eYe,selectors:[["iam-add-member-action"]],inputs:{resource:"resource",label:"label",conditionsDisabledTooltip:"conditionsDisabledTooltip"},outputs:{onIamSave:"onIamSave"},decls:4,vars:6,consts:function(){return[["mat-button","","color","primary","aria-label","Add principal","instrumentationId","iam-add-member","cfcDisable","",3,"ve","veClick","cfcIamCheck","cfcIamResource","click"],"icon person-add size small iconset iam".split(" "),[4,"ngIf"]," Add "]},template:function(a,
b){a&1&&(_.E(0,"button",0),_.L("click",function(){return b.openAddMembers()}),_.I(1,"ace-icon",1),_.P(2,ure,2,0,"span",2),_.P(3,vre,2,1,"span",2),_.F());a&2&&(_.C("ve",b.ve.IamAddUserRoleButton)("veClick",!0)("cfcIamCheck",b.updatePermission)("cfcIamResource",b.resource),_.x(2),_.C("ngIf",!b.label),_.x(1),_.C("ngIf",b.label))},dependencies:[_.Uu,_.wt,_.ot,_.lt,_.jt,_.ll,_.iz,_.EH,_.xo,_.UU],encapsulation:2});var fYe=class{};fYe.\u0275fac=function(a){return new (a||fYe)};fYe.\u0275mod=_.Bc({type:fYe});
fYe.\u0275inj=_.tc({imports:[_.Vu,_.wJ,_.qt,_.ql,_.kz,_.FH,_.Go,_.VU]});
var gYe=class{constructor(a){this.subtaskService=a;this.ve={IamPageEditMember:62842}}ngOnInit(){this.updatePermission=_.Yq.get(this.resource.getResourceType()).set}};gYe.\u0275fac=function(a){return new (a||gYe)(_.A(_.AC))};
gYe.\u0275cmp=_.q({type:gYe,selectors:[["cfc-iam-edit-button"]],inputs:{member:"member",resourceLabel:"resourceLabel",inherited:"inherited",resource:"resource",conditionsDisabledTooltip:"conditionsDisabledTooltip"},decls:2,vars:5,consts:function(){return[["mat-icon-button","","cfcTooltip","Edit principal","cfcDisableTooltip","Role cannot be edited as it is inherited from another resource",1,"cfc-button-small",3,"ve","veClick","cfcDisable","cfcIamCheck","cfcIamResource","click"],["icon","edit","size",
"small"]]},template:function(a,b){a&1&&(_.E(0,"button",0),_.L("click",function(){const c={resource:b.resource,resourceLabel:b.resourceLabel,member:b.member};b.conditionsDisabledTooltip&&(c.conditionsDisabledTooltip=b.conditionsDisabledTooltip);b.subtaskService.open(_.AJ,{id:"PanelComponent",width:850,data:c})}),_.I(1,"ace-icon",1),_.F());a&2&&_.C("ve",b.ve.IamPageEditMember)("veClick",!0)("cfcDisable",!!b.inherited)("cfcIamCheck",b.updatePermission)("cfcIamResource",b.resource)},dependencies:[_.Uu,
_.wt,_.ot,_.mt,_.jt,_.iz,_.EH,_.xo,_.Ev],encapsulation:2});var i$=class{};i$.\u0275fac=function(a){return new (a||i$)};i$.\u0275mod=_.Bc({type:i$});i$.\u0275inj=_.tc({imports:[_.Vu,_.qt,_.kz,_.BJ,_.FH,_.Go,_.BC,_.Hv]});
var hYe=function(a){if(a.member.roleSourceMap){const b=a.member.roleSourceMap.values().next().value||null;a.inherited=b&&!a.member.resources.has(b[0].getResourceId())}else a.inherited=!1},iYe=class{ngOnInit(){hYe(this)}ngOnChanges(a){a.member&&hYe(this)}};iYe.\u0275fac=function(a){return new (a||iYe)};
iYe.\u0275cmp=_.q({type:iYe,selectors:[["cfc-iam-edit-button-role-member"]],inputs:{member:"member",resourceLabel:"resourceLabel",resource:"resource",conditionsDisabledTooltip:"conditionsDisabledTooltip"},features:[_.Gc],decls:1,vars:5,consts:[[3,"member","resourceLabel","inherited","resource","conditionsDisabledTooltip"]],template:function(a,b){a&1&&_.I(0,"cfc-iam-edit-button",0);a&2&&_.C("member",b.member)("resourceLabel",b.resourceLabel)("inherited",b.inherited)("resource",b.resource)("conditionsDisabledTooltip",
b.conditionsDisabledTooltip)},dependencies:[gYe],encapsulation:2,changeDetection:0});var jYe=class{};jYe.\u0275fac=function(a){return new (a||jYe)};jYe.\u0275mod=_.Bc({type:jYe});jYe.\u0275inj=_.tc({imports:[i$]});
var kYe=class{constructor(a){this.serviceAccountDescriptor=a}ngOnInit(){}ngOnChanges(){const a=hze(this.serviceAccountDescriptor,[this.serviceAccount],this.projectIds||[]).pipe(_.U(b=>b.get(this.serviceAccount)),_.Ge(b=>!!b),_.vf(1));this.description=a.pipe(_.U(b=>b.short));this.tooltipText=a.pipe(_.U(b=>b.long));this.tooltipLearnMoreAction=a.pipe(_.U(b=>b.moreInfoUrl))}};kYe.\u0275fac=function(a){return new (a||kYe)(_.A(_.nJ))};
kYe.\u0275cmp=_.q({type:kYe,selectors:[["cfc-service-account-description"]],inputs:{projectIds:"projectIds",serviceAccount:"serviceAccount"},features:[_.Gc],decls:2,vars:3,consts:function(){return[[4,"ngIf"],[3,"disabled",4,"ngIf"],[3,"disabled"],[1,"cfc-button-align-left"],["mat-button","","target","_blank","color","primary",3,"href",4,"ngIf"],["mat-button","","target","_blank","color","primary",3,"href"]," Learn more "]},template:function(a,b){a&1&&(_.P(0,yre,5,6,"ng-container",0),_.Zd(1,"async"));
a&2&&_.C("ngIf",_.$d(1,1,b.description))},dependencies:[_.ot,_.rv,_.jt,_.ll,_.Gz,_.pl],encapsulation:2,changeDetection:0});var j$=class{};j$.\u0275fac=function(a){return new (a||j$)};j$.\u0275mod=_.Bc({type:j$});j$.\u0275inj=_.tc({imports:[_.qt,_.ql,_.Iz]});
var lYe=class{constructor(a,b){this.email=a;this.projectIds=b}},mYe=function(a,b,c){return _.I_b(a.serviceAccountDescriptor,b,c).pipe(_.U(d=>{const e=new Map;for(const f of b)e.set(f,d.has(f)?d.get(f).short:null);return e}))},nYe=function(a,b){return(new _.ge(c=>{a.userFetchQueue.next(b);c.next(!0);c.complete()})).pipe(_.se(()=>a.bufferedUserFetchQueue),_.Ge(c=>c.has(b)),_.U(c=>c.get(b)),_.df(),_.vf(1))},oYe=function(a,b,c){return(new _.ge(d=>{a.serviceAccountFetchQueue.next(new lYe(b,c));d.next(!0);
d.complete()})).pipe(_.se(()=>a.bufferedServiceAccountFetchQueue),_.Ge(d=>d.has(b)),_.U(d=>d.get(b)),_.df(),_.vf(1))},k$=class{constructor(a,b){this.peopleService=a;this.serviceAccountDescriptor=b;this.userFetchQueue=new _.rf(1);this.serviceAccountFetchQueue=new _.rf(1);this.bufferedUserFetchQueue=this.userFetchQueue.pipe(_.fka(100),_.Ge(c=>0<c.length),_.se(c=>lze(this.peopleService,c)),_.uf());this.bufferedServiceAccountFetchQueue=this.serviceAccountFetchQueue.pipe(_.fka(100),_.Ge(c=>0<c.length),
_.se(c=>{const d=[...(new Set([].concat(...c.map(e=>e.projectIds))))];return mYe(this,c.map(e=>e.email),d)}),_.uf());this.memberCache=new Map}getDescription(a,b=[]){if(!this.memberCache.has(a)){var c=this.memberCache,d=c.set;if(/(user|serviceAccount):(.+)/.test(a)){var [,e,f]=/(user|serviceAccount):(.+)/.exec(a);b="user"===e?nYe(this,f):oYe(this,f,b)}else b=_.S(null);d.call(c,a,b)}return this.memberCache.get(a)}};k$.\u0275fac=function(a){return new (a||k$)(_.p(_.tJ),_.p(_.nJ))};
k$.\u0275prov=_.m({token:k$,factory:k$.\u0275fac,providedIn:"root"});
var l$=class{constructor(){this.insightGroup$=new _.bg;this.blankLinesForInsightGroup$=this.insightGroup$.pipe(_.U(a=>{if(!a)return[];let b=0;for(const c of a.insightsByRecommendations)b+=Math.min(c.activeInsightMetadata.activeInsightCount,1);return[].constructor(Math.max(0,b-1))}))}set insightGroup(a){this.insightGroup$.next(a)}get insightGroup(){return this.insightGroup$.value}};l$.\u0275fac=function(a){return new (a||l$)};
l$.\u0275cmp=_.q({type:l$,selectors:[["iam-insight-group-blank-lines"]],inputs:{insightGroup:"insightGroup"},decls:2,vars:3,consts:[[4,"ngIf"],["class","members-table-column-multi-line-item",4,"ngFor","ngForOf"],[1,"members-table-column-multi-line-item"]],template:function(a,b){a&1&&(_.P(0,Are,2,1,"ng-container",0),_.Zd(1,"async"));a&2&&_.C("ngIf",_.$d(1,1,b.blankLinesForInsightGroup$))},dependencies:[_.kl,_.ll,_.pl],styles:[".members-table-column-multi-line-item[_ngcontent-%COMP%], .members-table-column-multi-line-item[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{height:20px!important;line-height:20px!important}"],
changeDetection:0});var m$=class{};m$.\u0275fac=function(a){return new (a||m$)};m$.\u0275mod=_.Bc({type:m$});m$.\u0275inj=_.tc({imports:[_.ql]});
var pYe=class{transform(a){return"ACTIVE"===(null==a?void 0:a.state)}};pYe.\u0275fac=function(a){return new (a||pYe)};pYe.\u0275pipe=_.Cc({name:"isInsightActive",type:pYe,pure:!0});var qYe=class{transform(a){let b,c;return null!=(c=null!=(b=a.title)?b:a.name)?c:""}};qYe.\u0275fac=function(a){return new (a||qYe)};qYe.\u0275pipe=_.Cc({name:"toRoleDisplayTitle",type:qYe,pure:!0});
var rYe=class{transform(a){return a.sort((b,c)=>{let d,e;d=b.iamPolicyInsight?2:0;e=c.iamPolicyInsight?2:0;d+=b.lateralMovementInsight?1:0;e+=c.lateralMovementInsight?1:0;return e-d})}};rYe.\u0275fac=function(a){return new (a||rYe)};rYe.\u0275pipe=_.Cc({name:"sortInsightsByRecommendations",type:rYe,pure:!0});var n$=class{};n$.\u0275fac=function(a){return new (a||n$)};n$.\u0275mod=_.Bc({type:n$});n$.\u0275inj=_.tc({});
var Bre=function(a,b){return(new _.ji("{ELEMENT_LABEL}, for role {ROLE_TITLE}")).format({ELEMENT_LABEL:a,ROLE_TITLE:b})},sYe=class{constructor(a){this.dialogService=a;this.ve={IamMembersTableConditionLink:62837}}ngOnInit(){}showConditionsDialog(a,b){this.dialogService.open(_.EJ,{data:{roleDisplayName:a,condition:b}})}};sYe.\u0275fac=function(a){return new (a||sYe)(_.A(_.vp))};
sYe.\u0275cmp=_.q({type:sYe,selectors:[["iam-grant-role-condition"]],inputs:{insightGroup:"insightGroup",sourcedRole:"sourcedRole"},decls:3,vars:3,consts:[[4,"ngIf"],["class","members-table-column-multi-line-item",4,"ngIf"],[3,"insightGroup"],["class","cfc-nowrap cfctest-table-condition-link members-table-column-multi-line-item",3,"ve","veClick","click",4,"ngVar"],[1,"cfc-nowrap","cfctest-table-condition-link","members-table-column-multi-line-item",3,"ve","veClick","click"],[1,"members-table-column-multi-line-item"]],
template:function(a,b){a&1&&(_.P(0,Dre,3,3,"ng-container",0),_.P(1,Ere,2,0,"div",1),_.I(2,"iam-insight-group-blank-lines",2));a&2&&(_.C("ngIf",b.sourcedRole.condition),_.x(1),_.C("ngIf",!b.sourcedRole.condition),_.x(1),_.C("insightGroup",b.insightGroup))},dependencies:[_.wt,l$,_.ll,H6,qYe],styles:[".members-table-column-multi-line-item[_ngcontent-%COMP%], .members-table-column-multi-line-item[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{height:20px!important;line-height:20px!important}"],
changeDetection:0});var tYe=class{};tYe.\u0275fac=function(a){return new (a||tYe)};tYe.\u0275mod=_.Bc({type:tYe});tYe.\u0275inj=_.tc({imports:[_.Vu,m$,_.ql,_.FJ,n$,_.Ap,I6]});
var uYe=class{constructor(){this.tableResource$=new _.bg;this.sourcedRole$=new _.bg;this.roleInheritanceResource$=this.sourcedRole$.pipe(_.Ge(_.hi),_.U(a=>a.inheritedFrom[0]));this.isInheritanceUniqueFromTable$=_.qe([this.roleInheritanceResource$,this.tableResource$.pipe(_.Ge(_.hi))]).pipe(_.U(([a,b])=>!!a&&a.getResourceId()!==b.getResourceId()))}set tableResource(a){this.tableResource$.next(a)}set sourcedRole(a){this.sourcedRole$.next(a)}get sourcedRole(){return this.sourcedRole$.value}ngOnInit(){}};
uYe.\u0275fac=function(a){return new (a||uYe)};
uYe.\u0275cmp=_.q({type:uYe,selectors:[["iam-grant-role-inheritance"]],inputs:{tableResource:"tableResource",sourcedRole:"sourcedRole",insightGroup:"insightGroup"},decls:7,vars:5,consts:[[1,"members-table-column-multi-line-item"],[4,"ngIf","ngIfElse"],["screenReaderText",""],[3,"insightGroup"],[3,"resource","associatedRole",4,"ngIf"],[3,"resource","associatedRole"],[1,"screen-reader-only-content"]],template:function(a,b){a&1&&(_.E(0,"div",0),_.P(1,Gre,3,3,"ng-container",1),_.Zd(2,"async"),_.P(3,Hre,
2,1,"ng-template",null,2,_.Te),_.I(5,"br"),_.F(),_.I(6,"iam-insight-group-blank-lines",3));if(a&2){const c=_.Rd(4);_.x(1);_.C("ngIf",_.$d(2,3,b.isInheritanceUniqueFromTable$))("ngIfElse",c);_.x(5);_.C("insightGroup",b.insightGroup)}},dependencies:[l$,_.ll,_.CJ,_.pl],styles:[".members-table-column-multi-line-item[_ngcontent-%COMP%], .members-table-column-multi-line-item[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{height:20px!important;line-height:20px!important}"],changeDetection:0});
var vYe=class{};vYe.\u0275fac=function(a){return new (a||vYe)};vYe.\u0275mod=_.Bc({type:vYe});vYe.\u0275inj=_.tc({imports:[m$,_.ql,_.DJ,I6]});
var wYe=function(a,b){b=b.filter(c=>c.includes("recommenders/google.iam.policy.Recommender"));return WAe(a.roleRecommendationsService,b).pipe(_.U(c=>"Left"===c.tag?c:m5(c.right.filter(d=>{let e;const f=null==d?void 0:null==(e=d.properties)?void 0:e.metadata;return!!d&&!d.reverted&&!(null==f||!f.accessObservationStartTime)&&!(null==f||!f.accessObservationEndTime)&&"DISMISSED"!==d.state&&["INACTIVE","NEW_ROLE"].includes(d.properties.recommendationType)&&"ACTIVE"===d.state}))),_.vf({refCount:!0,bufferSize:1}))},
xYe=class{constructor(a){this.roleRecommendationsService=a}};xYe.\u0275fac=function(a){return new (a||xYe)(_.p(O6))};xYe.\u0275prov=_.m({token:xYe,factory:xYe.\u0275fac,providedIn:"root"});
var yYe=class{constructor(){this.showRecommenderErrors=_.Nf("IamLateralMovementInsightsErrors__enabled")}};yYe.\u0275fac=function(a){return new (a||yYe)};
yYe.\u0275cmp=_.q({type:yYe,selectors:[["iam-grant-recommendation-fetch-error-icon"]],decls:1,vars:1,consts:function(){return[["mat-icon-button","","type","button","cfcTooltip","Failed to fetch recommendation(s) associated with this insight.",4,"ngIf"],"mat-icon-button;;type;button;cfcTooltip;Failed to fetch recommendation(s) associated with this insight.".split(";"),"iconset material icon error_outline size small".split(" ")]},template:function(a,b){a&1&&_.P(0,Ire,2,0,"button",0);a&2&&_.C("ngIf",
b.showRecommenderErrors)},dependencies:[_.ot,_.mt,_.jt,_.ll,_.xo,_.Ev],encapsulation:2});var zYe=class{};zYe.\u0275fac=function(a){return new (a||zYe)};zYe.\u0275mod=_.Bc({type:zYe});zYe.\u0275inj=_.tc({imports:[_.qt,_.ql,_.Go,_.Hv]});
var AYe=["iam.roles.create","iam.roles.list"],DYe=function(a,b,c){return BYe(a,b,c).pipe(_.zf(d=>void 0===d?_.S({canCreateCustomRoles:!1}):CYe(a,d).pipe(_.U(e=>({roleParent:d,canCreateCustomRoles:e})))),_.vf({bufferSize:1,refCount:!0}))},EYe=function(a,b,c){return b.properties.allowCreateCustomRole?DYe(a,Fze(b.resourceName),c):_.S({canCreateCustomRoles:!1})},BYe=function(a,b,c){switch(b.getResourceType()){case 0:return a.projectService.getProject(b.getResourceId()).pipe(_.zf(d=>c?_.L9a(a.purviewService,
d).pipe(_.U(e=>e?e:d)):_.S(d)),_.vf({bufferSize:1,refCount:!0}));case 43:case 2:return a.crmResourceService.getResource({id:b.getResourceId(),type:b.getResourceType()}).pipe(_.zf(d=>_.L9a(a.purviewService,d).pipe(_.U(e=>e?e:void 0))),_.vf({bufferSize:1,refCount:!0}));default:return _.S(void 0)}},CYe=function(a,b){return a.iamPermissionsService.preFetchPermissions(AYe,[b]).pipe(_.U(c=>{const d=Array.from(c.values())[0];return AYe.every(e=>!!d.get(e))}),_.vf({bufferSize:1,refCount:!0}))},o$=class{constructor(a,
b,c,d){this.crmResourceService=a;this.iamPermissionsService=b;this.projectService=c;this.purviewService=d}};o$.\u0275fac=function(a){return new (a||o$)(_.p(_.Xt),_.p(_.Vs),_.p(_.tr),_.p(_.$t))};o$.\u0275prov=_.m({token:o$,factory:o$.\u0275fac,providedIn:"root"});
var p$=class{constructor(a){this.feedbackService=a}};p$.\u0275fac=function(a){return new (a||p$)(_.A(_.lK))};
p$.\u0275cmp=_.q({type:p$,selectors:[["iam-feedback-button"]],inputs:{error:"error"},decls:3,vars:0,consts:function(){return[["mat-button","","type","button",3,"click"],"\ufffd#2\ufffd\ufffd/#2\ufffd Send Feedback\n",["iconset","shell","icon","feedback"]]},template:function(a,b){a&1&&(_.E(0,"button",0),_.L("click",function(){let c;const d=b.error?{trackingId:b.error.trackingId,requestId:null==(c=b.error.requestId)?void 0:c.toString()}:{};_.x4b(b.feedbackService,{},d)}),_.Id(1,1),_.I(2,"ace-icon",
2),_.Jd(),_.F())},dependencies:[_.ot,_.lt,_.jt,_.xo],encapsulation:2});var q$=class{};q$.\u0275fac=function(a){return new (a||q$)};q$.\u0275mod=_.Bc({type:q$});q$.\u0275inj=_.tc({imports:[_.qt,_.Go]});
var FYe=function(a,b){return a.roleService.getRole(b$d(b)).pipe(_.U(c=>m5(c)),_.Ue(c=>_.S({tag:"Left",left:c})))},r$=class{constructor(a){this.roleService=a}};r$.\u0275fac=function(a){return new (a||r$)(_.p(_.HE))};r$.\u0275prov=_.m({token:r$,factory:r$.\u0275fac,providedIn:"root"});
var GYe=new _.ji("Permissions for {ROLE_NAME} could not be retrieved.");
var HYe=class extends _.rm{staticSerialize(a){return"undefined"!==typeof a?a.replace(/\//g,"<"):void 0}staticDeserialize(a){return"undefined"!==typeof a?a.replace(/</g,"/"):void 0}},IYe=class extends _.qWd{constructor(){super();_.um(this,["roles"])}},JYe=class extends IYe{constructor(){super();this.role=new HYe("path","role");_.um(this,["details",this.role])}};
var KYe=new _.ji("Remove role recommendation for {USER}"),LYe=new _.ji("Replace {ROLE_TITLE} role for {USER}"),MYe=new _.ji("There are no permissions being used for {ROLE_TITLE} for {USER}. Remove this role to clean up your policy. Analysis is based off of the last {DAYS} days."),NYe=new _.ji("Replacing the {ROLE_TITLE} role with the {NEW_ROLE} role will reduce the principal's permissions from {OLD_NUM} to {NEW_NUM}. Analysis is based off of the last {DAYS} days."),OYe=new _.ji("Replacing the {ROLE_TITLE} role with the following {NUM_NEW_ROLES} roles will reduce the principal's permissions from {OLD_NUM} to {NEW_NUM}."),
PYe=new _.ji("Replacing the {ROLE_TITLE} role with the {NEW_ROLE} role will reduce {USER}'s permissions. However, you do not have permission to view the role definition of both the current role and the role replacement recommendation. Analysis is based off of the last {DAYS} days."),QYe=new _.ji("Remove {ROLE_TITLE} role recommendation"),RYe=new _.ji("Current permissions for {ROLE_TITLE} role"),SYe=new _.ji('Remove {USER} from "{ROLE}"'),TYe=new _.ji('{NUM_ROLES, plural,=1 {Replace "{OLD_ROLE}" with "{NEW_ROLE}" for {USER}}other {Replace "{OLD_ROLE}" with # role recommendations for {USER}}}'),
UYe=new _.ji('Replace "{OLD_ROLE}" with custom role "{NEW_ROLE}" for {USER}'),VYe=new _.ji("{USER} applied the recommendation"),WYe=new _.ji("{USER} reverted the recommendation"),XYe=new _.ji("{USER} dismissed the recommendation"),YYe=new _.ji("{USER} created custom role"),ZYe=new _.ji("Last Analyzed {DATE}"),$Ye=new _.ji("Permissions for {USER}"),bZe=function(a,b,c,d,e){return aZe(a,e.currentRole).pipe(_.U(f=>"string"===typeof f?{role:f,user:c,policyBuilder:(new _.EE).removeMember(f,b),message:"There is a remove role recommendation here. However, you do not have permission to view the analysis of the current role definition.",
title:QYe.format({ROLE_TITLE:f}),recommendationType:"INACTIVE",actionBarTitle:KYe.format({USER:c}),dateObserved:d,inferredPermissions:e.justification.inferredPermissions,showPermissionList:!1}:{role:f,user:c,policyBuilder:(new _.EE).removeMember(f.name,b),message:MYe.format({ROLE_TITLE:p6(f),USER:c,DAYS:Jre(e)}),title:QYe.format({ROLE_TITLE:p6(f)}),recommendationType:"INACTIVE",actionBarTitle:KYe.format({USER:c}),dateObserved:d,inferredPermissions:e.justification.inferredPermissions,showPermissionList:!0}),
_.vf(1))},eZe=function(a,b,c,d,e){const f={user:c,dateObserved:d,sampledUsedPermissions:e.justification.sampledUsedPermissions,inferredPermissions:e.justification.inferredPermissions,numDaysObserved:Jre(e),recommendationType:"NEW_ROLE",createdCustomRole:e.createdCustomRole};return _.ye([aZe(a,e.currentRole),...e.recommendedRoles.map(g=>aZe(a,g))]).pipe(_.U(([g,...h])=>"string"===typeof g||h.some(l=>"string"===typeof l)?cZe(f,b,g,h[0]):dZe(f,b,g,h)),_.vf(1))},fZe=function(a,b,c,d){const e=d.justification.sampledUsedPermissions,
f=d.justification.inferredPermissions;return aZe(a,d.currentRole).pipe(_.U(g=>"string"===typeof g?{role:g,title:RYe.format({ROLE_TITLE:g}),message:"There is no recommendation available at this time for this binding. However, you do not have permission to view the analysis of the current role definition.",unusedPermissions:[],recommendationType:"OK",actionBarTitle:$Ye.format({USER:b}),dateObserved:c,inferredPermissions:f,showPermissionList:!1}:{role:g,title:RYe.format({ROLE_TITLE:g.title||g.name}),
message:"",unusedPermissions:g.includedPermissions.filter(h=>!e.includes(h)),recommendationType:"OK",actionBarTitle:$Ye.format({USER:b}),dateObserved:c,inferredPermissions:f,showPermissionList:!0}),_.vf(1))},gZe=function(a,b){const c=b.userId,d=`${b.userType}:${b.userId}`;var e="";b.metadata.accessObservationEndTime&&(e=o6(b.metadata.accessObservationEndTime,3),e=ZYe.format({DATE:e}));return"INACTIVE"===b.recommendationType?bZe(a,d,c,e,b):"NEW_ROLE"===b.recommendationType?eZe(a,d,c,e,b):fZe(a,c,e,
b)},aZe=function(a,b){return a.rolesService.getRole(b).pipe(_.Ue(c=>403===c.status?_.S(b):_.ie(c)))},cZe=function(a,b,c,d){var e=Object,f=e.assign;b=(new _.EE).removeMember("string"===typeof c?c:c.name,b).addMembers("string"===typeof d?d:d.name,[b]);return f.call(e,{},a,{oldRole:c,newRoles:"string"===typeof d?d:[d],policyBuilder:b,message:PYe.format({ROLE_TITLE:p6(c),USER:a.user,NEW_ROLE:p6(d),DAYS:a.numDaysObserved}),actionBarTitle:LYe.format({ROLE_TITLE:p6(c),USER:a.user})})},dZe=function(a,b,c,
d){if(1===d.length){var e=d[0];e=NYe.format({ROLE_TITLE:p6(c),NEW_ROLE:p6(e),OLD_NUM:c.includedPermissions.length,NEW_NUM:e.includedPermissions.length,DAYS:a.numDaysObserved})}else{e=new Set;for(var f of d)for(const g of f.includedPermissions)e.add(g);e=OYe.format({ROLE_TITLE:p6(c),NUM_NEW_ROLES:d.length,OLD_NUM:c.includedPermissions.length,NEW_NUM:e.size})}f=new _.EE;f.removeMember(c.name,b);for(const g of d)f.addMembers(g.name,[b]);return Object.assign({},a,{oldRole:c,newRoles:d,policyBuilder:f,
message:e,actionBarTitle:LYe.format({ROLE_TITLE:p6(c),USER:a.user})})},s$=class{constructor(a){this.rolesService=a}};s$.\u0275fac=function(a){return new (a||s$)(_.p(_.HE))};s$.\u0275prov=_.m({token:s$,factory:s$.\u0275fac,providedIn:"root"});
var hZe=class{tableFilters(a,b){a=new Set;for(const c of b.get("ACTIVE")||[])a.add(c.properties.userId);return Array.from(a).map(c=>({member:c}))}};(new Map).set("OWNER_EDITOR",new hZe);
var iZe=["removeIcon"],jZe=["addIcon"],kZe=["inferredIcon"],lZe=["labelSpan"],mZe=["excessSpan"],nZe=function(a,b,c){b=b.map((d,e)=>({line:e,item:d})).filter(({item:d})=>c.has(d));for(const {line:d,item:e}of b)a.editor.getDoc().markText({line:d,ch:0},{line:d,ch:e.length+1},{className:"cfc-color-secondary"}),a.editor.addLineClass(d,"gutter","CodeMirror-line-unused")},oZe=function(a,b,c,d,e){b=b.map((f,g)=>({line:g,item:f})).filter(({item:f})=>c.includes(f));for(const {line:f}of b)b=d.createEmbeddedView(void 0),
b.detectChanges(),a.editor.setGutterMarker(f,"CodeMirror-diff-icons",b.rootNodes[0]),a.highlightLinesMap[f+1]=e},t$=class{constructor(a,b){this.changeDetectorRef=a;this.editorConfig={mode:"clike",readOnly:!0,lineWrapping:!1,gutters:["CodeMirror-linenumbers"]};this.highlightLinesMap={};this.showTitleIcon=!1;this.items=[];this.removed=[];this.added=[];this.inferred=[];this.unused=[];this.isError=!1;this.internalForm=new _.xw({code:new _.Bw("")});b.registerIconset("iam","small",18)}ngOnInit(){const a=
[];this.label&&a.push("CodeMirror-date");a.push("CodeMirror-linenumbers");(this.added.length||this.removed.length||this.inferred.length)&&a.push("CodeMirror-diff-icons");this.editorConfig={mode:"clike",lineWrapping:!1,readOnly:!0,gutters:a};const b=new Set(this.unused),c=this.items.slice(0).sort((d,e)=>b.has(d)&&!b.has(e)?1:!b.has(d)&&b.has(e)?-1:d.localeCompare(e));this.internalForm.controls.code.setValue(c.join("\n"));this.changeDetectorRef.detectChanges();this.editor=this.cfcCodeEditor.editor;
this.editor.operation(()=>{if(this.label){var d=this.labelTemplate.createEmbeddedView({label:this.label});d.detectChanges();this.editor.setGutterMarker(0,"CodeMirror-date",d.rootNodes[0]);if(0<b.size&&(d=c.length-b.size,0!==d)){this.editor.addLineClass(d,"gutter","CodeMirror-line-unused-divder");this.editor.addLineClass(d,"text","CodeMirror-line-unused-divder");1===d&&this.editor.addLineClass(0,"text","CodeMirror-line-double-height");var e=this.excessSpanTemplate.createEmbeddedView();e.detectChanges();
this.editor.setGutterMarker(d,"CodeMirror-date",e.rootNodes[0])}}this.highlightLinesMap={};nZe(this,c,b);oZe(this,c,this.removed,this.removeTemplate,"cfc-highlighted-line-red");oZe(this,c,this.added,this.addTemplate,"cfc-highlighted-line-green");oZe(this,c,this.inferred,this.inferredTemplate,"cfc-highlighted-line-blue")})}ngAfterViewInit(){setTimeout(()=>{this.editor.refresh()})}};t$.\u0275fac=function(a){return new (a||t$)(_.A(_.el),_.A(_.Eo))};
t$.\u0275cmp=_.q({type:t$,selectors:[["iam-role-permission-list"]],viewQuery:function(a,b){a&1&&(_.Oe(_.yE,7),_.Oe(iZe,5),_.Oe(jZe,5),_.Oe(kZe,5),_.Oe(lZe,5),_.Oe(mZe,5));if(a&2){let c;_.Ne(c=_.Qe())&&(b.cfcCodeEditor=c.first);_.Ne(c=_.Qe())&&(b.removeTemplate=c.first);_.Ne(c=_.Qe())&&(b.addTemplate=c.first);_.Ne(c=_.Qe())&&(b.inferredTemplate=c.first);_.Ne(c=_.Qe())&&(b.labelTemplate=c.first);_.Ne(c=_.Qe())&&(b.excessSpanTemplate=c.first)}},inputs:{showTitleIcon:"showTitleIcon",items:"items",removed:"removed",
added:"added",inferred:"inferred",unused:"unused",label:"label",title:"title",isError:"isError"},decls:18,vars:12,consts:function(){return[[1,"permission-list-form",3,"formGroup"],[1,"iam-role-permission-list-title","cfc-heading-with-icon-button"],["icon","rec-bulb-blue","iconset","recommendations_hub","aria-label","Recommended role change","role","img",4,"ngIf"],["icon","status-error","iconset","common","aria-label","No access to view recommended role","role","img",4,"ngIf"],[1,"cfc-text-title-5",
3,"cfcTooltip"],["aria-label","Expression input field","formControlName","code",3,"config"],[3,"linesMap","lineNumbersOnly"],["removeIcon",""],["addIcon",""],["inferredIcon",""],["labelSpan",""],["excessSpan",""],"icon;rec-bulb-blue;iconset;recommendations_hub;aria-label;Recommended role change;role;img".split(";"),"icon;status-error;iconset;common;aria-label;No access to view recommended role;role;img".split(";"),[1,"cfc-text-title-2","iam-permission-remove","iam-permission-diff-bg"],[1,"cfc-text-title-2",
"iam-permission-add","iam-permission-diff-bg"],[1,"cfc-text-title-2","iam-permission-inferred","iam-permission-diff-bg"],["icon","ai-recommendation","iconset","iam","cfcTooltip","This is a machine learning generated permission recommendation",1,""],[1,"cfc-color-active","p6ntest-permission-list-label","CodeMirror-permission-diff-label","CodeMirror-permission-diff-label-first"],[1,"cfc-color-active","p6ntest-unused-permission-list-label","CodeMirror-permission-diff-label"]," Excess permissions "]},
template:function(a,b){a&1&&(_.E(0,"form",0)(1,"div",1),_.P(2,Lre,1,0,"ace-icon",2),_.P(3,Mre,1,0,"ace-icon",3),_.E(4,"h2",4),_.Q(5),_.F()(),_.E(6,"cfc-code-editor-deprecated",5),_.I(7,"cfc-code-editor-highlight-lines",6),_.F()(),_.P(8,Nre,2,0,"ng-template",null,7,_.Te),_.P(10,Ore,2,0,"ng-template",null,8,_.Te),_.P(12,Pre,2,0,"ng-template",null,9,_.Te),_.P(14,Qre,2,1,"ng-template",null,10,_.Te),_.P(16,Rre,2,0,"ng-template",null,11,_.Te));a&2&&(_.Bd("iam-role-diff-icons",b.removed.length||b.added.length),
_.C("formGroup",b.internalForm),_.x(1),_.Bd("error",b.isError),_.x(1),_.C("ngIf",b.showTitleIcon),_.x(1),_.C("ngIf",b.isError),_.x(1),_.C("cfcTooltip",b.title),_.x(1),_.Sd(" ",b.title," "),_.x(1),_.C("config",b.editorConfig),_.x(1),_.C("linesMap",b.highlightLinesMap)("lineNumbersOnly",!0))},dependencies:[_.yE,_.ll,QXe,_.xo,_.EB,_.cy,_.DB,_.Fw,_.Iw,_.Ev,_.Fv],styles:["[_nghost-%COMP%]{max-width:512px}[_nghost-%COMP%]   .iam-role-diff-icons[_ngcontent-%COMP%]     pre.CodeMirror-line{padding-left:20px}[_nghost-%COMP%]   .iam-permission-diff-bg[_ngcontent-%COMP%]{position:absolute;left:1px;width:20px}[_nghost-%COMP%]   form.permission-list-form[_ngcontent-%COMP%]{max-width:inherit}[_nghost-%COMP%]   .iam-role-permission-list-title[_ngcontent-%COMP%]{border:1px solid #ddd;border-bottom:0;padding:16px 8px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}[_nghost-%COMP%]   .iam-role-permission-list-title[_ngcontent-%COMP%]   .ace-icon[_ngcontent-%COMP%]{vertical-align:bottom;margin-right:8px}[_nghost-%COMP%]   .iam-role-permission-list-title[_ngcontent-%COMP%]   .cfc-text-title-5[_ngcontent-%COMP%]{margin:0}[_nghost-%COMP%]   .iam-role-permission-list-title.error[_ngcontent-%COMP%]{background-color:#fbe9e7}[_nghost-%COMP%]     .CodeMirror-diff-icons{width:0}[_nghost-%COMP%]     .CodeMirror-date{width:112px}[_nghost-%COMP%]     .CodeMirror-linenumber{color:#000}[_nghost-%COMP%]     .CodeMirror-gutter-wrapper .iam-permission-add, [_nghost-%COMP%]     .CodeMirror-gutter-wrapper .iam-permission-inferred, [_nghost-%COMP%]     .CodeMirror-gutter-wrapper .iam-permission-remove{line-height:16px;text-align:center;font-size:13px;margin-top:0}[_nghost-%COMP%]     .CodeMirror-gutter-wrapper .iam-permission-remove{background-color:#fbecea}[_nghost-%COMP%]     .CodeMirror-gutter-wrapper .iam-permission-add{background-color:#c6e8d7}[_nghost-%COMP%]     .CodeMirror-gutter-wrapper .iam-permission-inferred{background-color:#eff5fe;max-height:16px}[_nghost-%COMP%]     .CodeMirror-gutter-wrapper .iam-permission-inferred .ace-icon{margin-top:-1px}[_nghost-%COMP%]     .CodeMirror-line-unused-divder{border-top:1px solid #d0d0d0}[_nghost-%COMP%]     .CodeMirror-line-double-height{height:40px}[_nghost-%COMP%]     .CodeMirror-line-unused .CodeMirror-linenumber{color:rgba(0,0,0,.66)}[_nghost-%COMP%]     .CodeMirror-permission-diff-label{display:block;padding:8px}[_nghost-%COMP%]     .CodeMirror-permission-diff-label-first{padding-top:0}"]});
var u$=class{};u$.\u0275fac=function(a){return new (a||u$)};u$.\u0275mod=_.Bc({type:u$});u$.\u0275inj=_.tc({imports:[_.zE,_.ql,RXe,_.Go,_.gy,_.Hv,_.UB]});
var pZe=function(a,b){a.register.set("create_role_fields",b)},qZe=function(a,b){return _.ne(function*(){const c=a.confirmDialogService.confirmation(Object.assign({},{theme:"warning",header:"Warning"},b.dialogConfig));return(yield _.ke(c)).confirmed?0:1})},rZe=function(a){return _.ne(function*(){for(const b of a.register.values()){const c=b();if(c&&1===(yield qZe(a,c)))return 1}return 0})},v$=class{constructor(a){this.confirmDialogService=a;this.register=new Map}};
v$.\u0275fac=function(a){return new (a||v$)(_.p(_.kC))};v$.\u0275prov=_.m({token:v$,factory:v$.\u0275fac});
var sZe=["permissionsListTable"],tZe=function(){return["permission"]},uZe=function(){return[10]},vZe={notSupported:[],notApplicable:[],testing:[],deprecated:[]},xZe=function(a,b){return b?b.map(c=>wZe(a,c)):[]},wZe=function(a,b){var c=b.split("."),d=c[0];c=c[1];if(a.notSupportedSet.has(b))a={icon:"status-error",status:"Not supported",tooltip:"Not supported in custom roles"};else if(a.notApplicableSet.has(b)){let e="Non-applicable",f=a.organizationScoped?"Retired or hidden permission":"Not applicable for project-level custom roles";
a.isEditing&&(e="Hidden",f="Permission may not be supported in custom roles");a={icon:"status-warning",status:e,tooltip:f}}else a=a.deprecatedSet.has(b)?{icon:"status-info",status:"Deprecated",tooltip:"Deprecated permission, may be removed soon"}:a.testingSet.has(b)?{icon:"status-info",status:"Testing",tooltip:"Not recommended for production use"}:{status:"Supported"};return{rowID:b,permission:b,service:d,type:c,permissionState:a}},yZe=function(a){a.selectedPermissionsInternal=_.Wwb(a.permissionsListTable).map(b=>
b.permission);a.onSelect.emit(a.selectedPermissionsInternal);a.onTouched();a.propagateChange(a.selectedPermissionsInternal)},w$=class{constructor(a){this.propagateChange=()=>{};this.onTouched=()=>{};this.clientColumnsConfig=[{id:"permission",accessor:b=>b.permission},{id:"service",accessor:b=>b.service},{id:"type",accessor:b=>b.type},{id:"status",accessor:b=>b.permissionState.status}];this.permissions=[];this.isEditing=!1;this.forbiddenPermissions=vZe;this.selectedPermissions=[];this.organizationScoped=
!1;this.selectedPermissionsInternal=[];this.notApplicableSet=new Set;this.notSupportedSet=new Set;this.testingSet=new Set;this.deprecatedSet=new Set;this.onSelect=new _.$k;this.clientTableManager=_.pA(a)}ngAfterViewInit(){}ngOnChanges(a){var b=a.permissions,c=a.forbiddenPermissions;a=a.selectedPermissions;c&&c.currentValue&&(c=c.currentValue,this.notApplicableSet=new Set(c.notApplicable),this.notSupportedSet=new Set(c.notSupported),this.testingSet=new Set(c.testing),this.deprecatedSet=new Set(c.deprecated));
b&&(this.permissionRows=b=xZe(this,b.currentValue),this.clientTableManager.rows=b);b=[];for(const d of this.notSupportedSet.values())b.push(wZe(this,d));if(!this.isEditing)for(const d of this.notApplicableSet.values())b.push(wZe(this,d));b.length&&this.permissionsListTable.setDisabledFor(b,!0);a&&this.updateSelected(a.currentValue)}updateSelected(a=[]){this.selectedPermissionsInternal=a;a.length&&(this.permissionsListTable.resetSelectedRows(!1),a=xZe(this,a),this.permissionsListTable.setSelectedFor(a,
!0,!1))}addPermissions(a){const b=xZe(this,a);var c=this.permissionRows.concat(b);this.permissionRows=c;this.clientTableManager.rows=c;for(const d of a)this.selectedPermissionsInternal.push(d);this.permissionsListTable.setSelectedFor(b,!0,!1);this.propagateChange(this.selectedPermissionsInternal);this.onSelect.emit(this.selectedPermissionsInternal)}writeValue(a){a&&this.updateSelected(a)}registerOnChange(a){this.propagateChange=a}registerOnTouched(a){this.onTouched=a}};
w$.\u0275fac=function(a){return new (a||w$)(_.A(_.qA))};
w$.\u0275cmp=_.q({type:w$,selectors:[["iam-permission-list"]],viewQuery:function(a,b){a&1&&_.Oe(sZe,7);if(a&2){let c;_.Ne(c=_.Qe())&&(b.permissionsListTable=c.first)}},inputs:{permissions:"permissions",isEditing:"isEditing",forbiddenPermissions:"forbiddenPermissions",selectedPermissions:"selectedPermissions",organizationScoped:"organizationScoped"},outputs:{onSelect:"onSelect"},features:[_.Wd([{provide:_.qw,useExisting:_.rc(()=>w$),multi:!0}]),_.Gc],decls:10,vars:19,consts:function(){return[["selectionMode",
"multiple","ariaLabel","Permissions",3,"primaryColumnId","columnsConfig","sortKeys","rowsPerPage","pageSizeOptions","showFilter","showColumnsChooser","showSelectionControls","tableManager","pagination","selectedRowsChanged"],["permissionsListTable",""],["id","permission","header","Permission","type","string",3,"nonHideable"],[4,"cfcTableTemplate"],["id","service","header","Service","type","string",3,"hidden"],["id","type","header","Type","type","string",3,"hidden"],"id status header Status type string".split(" "),
[1,"cfc-nowrap"],["iconset","common","size","small",3,"icon","cfcTooltip",4,"ngIf"],["iconset","common","size","small",3,"icon","cfcTooltip"]]},template:function(a,b){a&1&&(_.E(0,"cfc-table",0,1),_.L("selectedRowsChanged",function(){return yZe(b)}),_.E(2,"cfc-table-column",2),_.P(3,Sre,2,1,"ng-container",3),_.F(),_.E(4,"cfc-table-column",4),_.P(5,Tre,2,1,"ng-container",3),_.F(),_.E(6,"cfc-table-column",5),_.P(7,Ure,2,1,"ng-container",3),_.F(),_.E(8,"cfc-table-column",6),_.P(9,Wre,4,2,"ng-container",
3),_.F()());a&2&&(_.C("primaryColumnId","permission")("columnsConfig",b.clientColumnsConfig)("sortKeys",_.Xd(17,tZe))("rowsPerPage",10)("pageSizeOptions",_.Xd(18,uZe))("showFilter",!0)("showColumnsChooser",!0)("showSelectionControls",!0)("tableManager",b.clientTableManager)("pagination",!0),_.x(2),_.C("nonHideable",!0),_.x(1),_.C("cfcTableTemplate","body"),_.x(1),_.C("hidden",!0),_.x(1),_.C("cfcTableTemplate","body"),_.x(1),_.C("hidden",!0),_.x(1),_.C("cfcTableTemplate","body"),_.x(2),_.C("cfcTableTemplate",
"body"))},dependencies:[_.ll,_.xo,_.aB,_.PA,_.OA,_.lB,_.Ev,_.Fv],encapsulation:2});var x$=class{};x$.\u0275fac=function(a){return new (a||x$)};x$.\u0275mod=_.Bc({type:x$});x$.\u0275inj=_.tc({imports:[_.ql,_.Go,_.mB,_.Hv,_.Hv]});
var zZe=class{constructor(a){this.organizationScoped=!1;this.selectedPermissionsSubject$=new _.bg([]);this.customValidation$=this.selectedPermissionsSubject$.pipe(_.U(d=>this.validator(d)),_.vf({refCount:!0,bufferSize:1}));this.canConfirm$=_.Je(this.selectedPermissionsSubject$,this.customValidation$).pipe(_.U(([d,e])=>null===e&&0!=d.length));this.roles=a.roles;this.forbiddenPermissions=a.forbiddenPermissions;this.excludedPermissions=a.excludedPermissions;this.organizationScoped=a.organizationScoped;
const b=M9d(this.roles);this.grantablePermissions=a.grantablePermissions.filter(d=>!b.includes(d));let c;this.validator=null!=(c=a.validate)?c:zze;this.selectedRoles=[]}set selectedRoles(a){let b=[];a.length||(a=this.roles,b=this.grantablePermissions);this.listPermissions=M9d(a).filter(c=>!this.excludedPermissions.includes(c)).concat(b)}};zZe.\u0275fac=function(a){return new (a||zZe)(_.A(_.up))};
zZe.\u0275cmp=_.q({type:zZe,selectors:[["cfc-iam-permissions-dialog"]],decls:18,vars:16,consts:function(){return[["matDialogTitle",""]," Add permissions\n",[1,"cfc-width-base","cfc-max-width-full"],["type","error",4,"ngIf"],[3,"multiple","ngModel","hasFilter","hasOkCancelButtons","hasSelectAllNoneCheckbox","ngModelChange"],[3,"value",4,"ngFor","ngForOf"]," Filter permissions by role ",[3,"permissions","forbiddenPermissions","organizationScoped","onSelect"],"mat-raised-button  color secondary matDialogClose ".split(" "),
" Cancel ",["mat-raised-button","","color","primary","aria-label","Add",3,"cmNativeDisabled","matDialogClose"]," Add ",["type","error"],[3,"value"]]},template:function(a,b){a&1&&(_.E(0,"h1",0),_.K(1,1),_.F(),_.E(2,"div",2)(3,"mat-dialog-content"),_.P(4,Xre,3,1,"cfc-message",3),_.Zd(5,"async"),_.E(6,"mat-form-field")(7,"cfc-select",4),_.L("ngModelChange",function(c){return b.selectedRoles=c}),_.P(8,Yre,2,2,"mat-option",5),_.F(),_.E(9,"mat-label"),_.K(10,6),_.F()(),_.E(11,"iam-permission-list",7),_.L("onSelect",
function(c){return b.selectedPermissionsSubject$.next(c)}),_.F()(),_.E(12,"mat-dialog-actions")(13,"button",8),_.K(14,9),_.F(),_.E(15,"button",10),_.K(16,11),_.Zd(17,"async"),_.F()()());a&2&&(_.x(4),_.C("ngIf",_.$d(5,12,b.customValidation$)),_.x(3),_.C("multiple",!0)("ngModel",b.selectedRoles)("hasFilter",!0)("hasOkCancelButtons",!0)("hasSelectAllNoneCheckbox",!0),_.x(1),_.C("ngForOf",b.roles),_.x(3),_.C("permissions",b.listPermissions)("forbiddenPermissions",b.forbiddenPermissions)("organizationScoped",
b.organizationScoped),_.x(4),_.C("cmNativeDisabled",!_.$d(17,14,b.canConfirm$))("matDialogClose",b.selectedPermissionsSubject$.value))},dependencies:[_.ot,_.lt,_.jt,_.kl,_.ll,_.cy,_.Cw,_.wp,_.xp,_.yp,_.zp,_.Cy,_.By,_.yo,_.zo,w$,_.Oy,_.zy,_.Sy,_.pl],encapsulation:2});var AZe=class{};AZe.\u0275fac=function(a){return new (a||AZe)};AZe.\u0275mod=_.Bc({type:AZe});AZe.\u0275inj=_.tc({imports:[_.qt,_.ql,_.fy,_.Ap,_.by,_.iy,_.Jo,x$,_.gy,_.ly]});
var BZe=0,CZe=class{constructor(){this.alwaysVisible=[];this.hiddenPermissions=[];this.hiddenPermissionsIds=[];this.uniqueId=BZe++}set permissions(a){this.alwaysVisible=a.slice(0,4);this.hiddenPermissions=a.slice(4);this.hiddenPermissionsIds=this.hiddenPermissions.map((b,c)=>`cfc-iam-permission-item-${this.uniqueId}-${c}`)}};CZe.\u0275fac=function(a){return new (a||CZe)};
CZe.\u0275cmp=_.q({type:CZe,selectors:[["iam-truncated-permission-list"]],viewQuery:function(a,b){a&1&&_.Oe(_.xt,5);if(a&2){let c;_.Ne(c=_.Qe())&&(b.hiddenPermissionsExtender=c.first)}},inputs:{permissions:"permissions"},decls:3,vars:3,consts:[[1,"cfc-color-secondary","cfc-space-last"],[4,"ngFor","ngForOf"],["class","cfc-space-last",4,"ngIf"],[1,"cfc-space-last"],["class","cfc-color-secondary",3,"id",4,"ngFor","ngForOf"],[1,"cfc-color-secondary",3,"id"]],template:function(a,b){a&1&&(_.E(0,"ul",0),
_.P(1,Zre,2,1,"li",1),_.F(),_.P(2,ase,3,1,"cfc-extender",2));a&2&&(_.zd("aria-owns",0!==b.hiddenPermissions.length&&b.hiddenPermissionsExtender&&b.hiddenPermissionsExtender.isShowingMore?b.hiddenPermissionsIds.join(" "):null),_.x(1),_.C("ngForOf",b.alwaysVisible),_.x(1),_.C("ngIf",b.hiddenPermissions.length))},dependencies:[_.kl,_.ll,_.xt],encapsulation:2});var DZe=class{};DZe.\u0275fac=function(a){return new (a||DZe)};DZe.\u0275mod=_.Bc({type:DZe});DZe.\u0275inj=_.tc({imports:[_.ql,_.At]});
var EZe=["confirmRemovePermissionsWarning"],FZe=["confirmRemovePermissionsBody"],GZe=new _.ji("Custom {roleTitle}"),HZe=new _.ji("Created on: {date}"),IZe=new _.ji("Created on: {date} Based on: {roleList}"),JZe=new _.ji("Created on: {date} Based on: {roleCount} roles"),KZe=function(a,b){if(a.editRole)return a.editRole.description||"";const c=(new _.Sr("yyyy-MM-dd")).format(new Date(Date.now()));var d=b.map(e=>e.title||e.name).join(", ");if(0===d.length)return HZe.format({date:c});d=IZe.format({date:c,
roleList:d});return d.length>a.maxDescription?JZe.format({date:c,roleCount:b.length}):d},LZe=function(a,b){const c=a.allRoles.map(d=>(d.name||"").replace(/^.*roles\//,""));return a.isEditing?["",[]]:[gze(b,a.allRoles),[_.Dy,_.I1c(3),_.hw(64),_.iw(/^[A-Za-z0-9_\.]+$/),zse(c)]]},MZe=function(a,b){a.addedPermissions=b.filter(c=>!a.originalPermissions.includes(c));a.removedPermissions=a.originalPermissions.filter(c=>!b.includes(c)&&!a.allForbiddenPermissions.includes(c));a.removedForbiddenPermissions.testing=
b.filter(c=>a.forbiddenPermissions.testing.includes(c))},NZe=class{constructor(a,b,c,d){this.dialogService=a;this.formBuilder=b;this.iamRolesService=c;this.warningRegisterService=d;this.rolesToCopy=[];this.isEditing=!1;this.removedForbiddenPermissions={notApplicable:[],notSupported:[],testing:[],deprecated:[]};this.listPermissions=[];this.organizationScoped=!1;this.maxDescription=256;this.maxTitle=100;this.maxId=64;this.launchStageStates=[x6.ALPHA,x6.BETA,x6.GA,x6.DISABLED];this.addedPermissions=
[];this.removedPermissions=[]}ngAfterViewInit(){let a;null==(a=this.warningRegisterService)||pZe(a,()=>{var b=this.removedPermissions.length?{dialogConfig:{message:this.confirmRemovePermissionsWarningRef,body:this.confirmRemovePermissionsBodyRef}}:void 0;return b})}ngOnInit(){}ngOnChanges(a){if(a.role||a.allRoles||a.selectedRoles||a.forbiddenPermissions||a.rolesToCopy||a.initialLaunchStage){this.isEditing=!!this.editRole;a=this.editRole?[this.editRole]:this.rolesToCopy;this.listPermissions=this.originalPermissions=
M9d(a);this.allForbiddenPermissions=this.forbiddenPermissions.notSupported.concat(this.isEditing?[]:this.forbiddenPermissions.notApplicable);const c=this.originalPermissions.filter(e=>!this.allForbiddenPermissions.includes(e));this.removedForbiddenPermissions.notSupported=this.forbiddenPermissions.notSupported.filter(e=>this.listPermissions.includes(e));this.removedForbiddenPermissions.notApplicable=this.forbiddenPermissions.notApplicable.filter(e=>this.listPermissions.includes(e));this.removedForbiddenPermissions.testing=
this.forbiddenPermissions.testing.filter(e=>this.listPermissions.includes(e));const d=this.editRole?this.editRole.title||"":1===a.length&&a[0].title?GZe.format({roleTitle:a[0].title}):"Custom Role";var b=this.initialLaunchStage||this.launchStageStates[0];b=this.isEditing?this.editRole.stage||b:b;this.roleForm=this.formBuilder.group({title:[d,[_.hw(100),_.Dy]],description:[KZe(this,a),_.hw(this.maxDescription)],id:LZe(this,d),stage:[b,_.Dy],permissions:[c,Ase]});this.parentFormGroup.setControl("roleForm",
this.roleForm);this.permissionFormControl.valueChanges.forEach(e=>{MZe(this,e)})}}addPermissions(){this.dialogService.open(zZe,{data:{grantablePermissions:this.grantablePermissions,roles:this.allRoles,excludedPermissions:this.listPermissions,forbiddenPermissions:this.forbiddenPermissions,organizationScoped:this.organizationScoped}}).afterClosed().pipe(_.Ge(a=>!!a)).subscribe(a=>{this.listPermissions=this.listPermissions.concat(a);this.permissionList.addPermissions(a)})}get permissionFormControl(){return this.roleForm.get("permissions")}get assignedPermissionsText(){return N9d(this.permissionFormControl?
this.permissionFormControl.value:[])}};NZe.\u0275fac=function(a){return new (a||NZe)(_.A(_.vp),_.A(_.CH),_.A(_.HE),_.A(v$,12))};
NZe.\u0275cmp=_.q({type:NZe,selectors:[["create-role-fields"]],viewQuery:function(a,b){a&1&&(_.Oe(w$,5),_.Oe(EZe,7),_.Oe(FZe,7));if(a&2){let c;_.Ne(c=_.Qe())&&(b.permissionList=c.first);_.Ne(c=_.Qe())&&(b.confirmRemovePermissionsWarningRef=c.first);_.Ne(c=_.Qe())&&(b.confirmRemovePermissionsBodyRef=c.first)}},inputs:{parentFormGroup:"parentFormGroup",allRoles:"allRoles",editRole:"editRole",rolesToCopy:"rolesToCopy",initialLaunchStage:"initialLaunchStage",forbiddenPermissions:"forbiddenPermissions",
organizationScoped:"organizationScoped",grantablePermissions:"grantablePermissions"},features:[_.Wd([],[{provide:_.uw,useExisting:_.Fw}]),_.Gc],decls:41,vars:18,consts:function(){return[["formGroupName","roleForm"],["matInput","","formControlName","title","required","",3,"maxlength"],["titleInput",""]," Title ",["align","end"],[4,"cfcDebounceErrorFor"],["matInput","","formControlName","description","ariaLabel","description",3,"maxlength"],["descriptionTextArea",""]," Description "," \ufffd0\ufffd / \ufffd1\ufffd ",
[4,"ngIf"],["formControlName","stage","ariaLabel","Launch stage"],[3,"value",4,"ngFor","ngForOf"]," Role launch stage ",["mat-raised-button","","type","button","aria-label","Add permissions",3,"click"],"\ufffd#27\ufffd\ufffd/#27\ufffd Add permissions ",["icon","add","size","medium"],["errorFor","requiredList",3,"control",4,"ngIf"],["formControlName","permissions",3,"isEditing","permissions","forbiddenPermissions","organizationScoped"]," Some permissions might be associated with and checked by third parties. These permissions contain the third party's service and domain name in the permission prefix. ",
["altMoreText","Show added and removed permissions","altLessText","Hide added and removed permissions",3,"startExtended",4,"ngIf"],["confirmRemovePermissionsWarning",""],["confirmRemovePermissionsBody",""]," Title is required "," Description is too long. "," ID ","matInput  formControlName id required ".split(" ")," ID is required "," ID must be at least 3 characters long. "," ID cannot be more than \ufffd0\ufffd characters long. "," ID has already been used. "," ID can only include letters, numbers, periods and underscores. ",
[3,"value"],["errorFor","requiredList",3,"control"]," Must add at least one permission to create a role. "," Must select at least one permission to create a role. ",["altMoreText","Show added and removed permissions","altLessText","Hide added and removed permissions",3,"startExtended"],["icon","status-error",4,"ngIf"],["type","warning",4,"ngIf"],["type","informational",4,"ngIf"],[4,"ngFor","ngForOf"],["icon","status-error"],[1,"cfc-text-body-strong","cfc-space-first","cfc-space-last"]," Not supported in custom roles ",
" These permissions cannot be added to custom roles. Instead, you can grant predefined roles that contain the permissions you need. For a list of predefined roles, see the \ufffd#6\ufffd documentation. \ufffd/#6\ufffd",["cfcDocHref","IAM_HELP_ROLES_CREATING_CUSTOM_ROLES"],[3,"permissions"],["type","warning"]," Retired or hidden permission "," These permissions were retired, or are hidden. They may no longer be valid on custom roles. Updating your role with these permissions included may fail. "," Retired or hidden permission ",
" These permissions were retired, or are hidden. They cannot be assigned to custom roles "," Not applicable for project-level custom roles "," These permissions can only be added to custom roles at the organization level; they have no effect at the project level or below. ",["type","informational"]," Not recommended for production use "," These permissions might be changed in backward-incompatible ways and are not recommended for production use. They are not subject to any SLA or deprecation policy. ",
" Added Permissions "," Removed Permissions "," You have removed the following permissions which our analysis has recommended to be included: ",["cfc-list",""],["class","cfc-fixed-font",4,"ngFor","ngForOf"],[1,"cfc-fixed-font"]," Removing these permissions may have unexpected errors or outages in your system. Are you sure you want to proceed? "]},template:function(a,b){a&1&&(_.E(0,"div",0)(1,"mat-form-field"),_.I(2,"input",1,2),_.E(4,"mat-label"),_.K(5,3),_.F(),_.E(6,"mat-hint",4),_.Q(7),_.F(),_.P(8,
bse,2,0,"mat-error",5),_.F(),_.E(9,"mat-form-field")(10,"textarea",6,7),_.Q(12,"    "),_.F(),_.E(13,"mat-label"),_.K(14,8),_.F(),_.E(15,"mat-hint",4),_.K(16,9),_.F(),_.P(17,cse,2,0,"mat-error",5),_.F(),_.P(18,ise,9,5,"mat-form-field",10),_.E(19,"mat-form-field")(20,"cfc-select",11),_.P(21,jse,2,2,"mat-option",12),_.F(),_.E(22,"mat-label"),_.K(23,13),_.F()(),_.E(24,"div")(25,"button",14),_.L("click",function(){return b.addPermissions()}),_.Id(26,15),_.I(27,"ace-icon",16),_.Jd(),_.F(),_.P(28,kse,2,
1,"cfc-form-error",17),_.F(),_.E(29,"h2"),_.Q(30),_.F(),_.I(31,"iam-permission-list",18),_.P(32,lse,2,1,"cfc-form-error",17),_.E(33,"cfc-message")(34,"cfc-message-text"),_.K(35,19),_.F()(),_.P(36,vse,12,10,"cfc-extender",20),_.F(),_.P(37,xse,4,1,"ng-template",null,21,_.Te),_.P(39,yse,2,0,"ng-template",null,22,_.Te));if(a&2){const c=_.Rd(3),d=_.Rd(11);_.x(2);_.fv("maxlength",b.maxTitle);_.x(5);_.Vd("",c.value.length," / ",b.maxTitle,"");_.x(1);_.C("cfcDebounceErrorFor","required");_.x(2);_.fv("maxlength",
b.maxDescription);_.x(6);_.Kd(d.value.length)(b.maxDescription);_.Ld(16);_.x(1);_.C("cfcDebounceErrorFor","maxLength");_.x(1);_.C("ngIf",!b.isEditing);_.x(3);_.C("ngForOf",b.launchStageStates);_.x(7);_.C("ngIf",0===b.listPermissions.length);_.x(2);_.Sd(" ",b.assignedPermissionsText," ");_.x(1);_.C("isEditing",b.isEditing)("permissions",b.originalPermissions)("forbiddenPermissions",b.forbiddenPermissions)("organizationScoped",b.organizationScoped);_.x(1);_.C("ngIf",b.listPermissions.length);_.x(4);
_.C("ngIf",b.addedPermissions.length||b.removedPermissions.length||b.removedForbiddenPermissions.notApplicable.length||b.removedForbiddenPermissions.notSupported.length||b.removedForbiddenPermissions.testing.length)}},dependencies:[_.kl,_.ll,_.NB,_.Xu,_.xt,_.$C,_.mw,_.cy,_.DB,_.Kw,_.Mw,_.xo,_.Tu,_.ot,_.lt,_.jt,_.CB,_.Cy,_.BE,_.By,_.GB,_.yo,_.zo,w$,_.Iw,_.Gw,CZe,_.Oy,_.zy,_.Sy],encapsulation:2,changeDetection:0});var OZe=class{};OZe.\u0275fac=function(a){return new (a||OZe)};OZe.\u0275mod=_.Bc({type:OZe});
OZe.\u0275inj=_.tc({imports:[_.XB,_.ql,_.OB,_.Yu,_.At,_.aD,_.fy,_.Go,_.Ct,_.qt,_.Yx,_.Ap,_.iy,_.cz,_.Jo,_.PT,x$,AZe,_.gy,DZe,_.ly,_.iC]});
var y$=class{};y$.\u0275fac=function(a){return new (a||y$)};y$.\u0275mod=_.Bc({type:y$});y$.\u0275inj=_.tc({imports:[_.vF]});
var PZe=function(a,b){return b.valid?!0:(a.snackBar.open("Please fix errors and try again"),!1)},z$=class{constructor(a,b,c){this.iamRolesService=a;this.errorService=b;this.snackBar=c}getRole(a){return{title:a.value.title,description:a.value.description,stage:a.value.stage,includedPermissions:a.value.permissions}}createRole(a,b){if(!PZe(this,a))throw Error("Hl");const c=this.getRole(a);return this.iamRolesService.createRole(b,{roleId:a.value.id,role:c}).pipe(_.U(d=>{this.snackBar.open("Role created");
return d}),_.Ue(d=>{this.errorService.showErrorSnackBar(d,"Create role failed");return _.ie(d)}))}updateRole(a,b){if(!PZe(this,a))throw Error("Il");a=this.getRole(a);return this.iamRolesService.updateRole(b.name||"",a).pipe(_.U(c=>{this.snackBar.open("Role updated");return c}),_.Ue(c=>{this.errorService.showErrorSnackBar(c,"Update role failed");return _.ie(c)}))}};z$.\u0275fac=function(a){return new (a||z$)(_.p(_.HE),_.p(_.Ht),_.p(_.wF))};z$.\u0275prov=_.m({token:z$,factory:z$.\u0275fac,providedIn:y$});
var QZe=class{constructor(a){this.lateralInsightService=a;this.log$=new _.bg;this.lateralInsight$=this.log$.pipe(_.Ge(_.hi),_.zf(b=>b.lateralMovementInsightName?this.lateralInsightService.getInsight(b.lateralMovementInsightName,{listParentEntitiesFirst:!0}).pipe(_.U(c=>{if("Left"!==c.tag){c=c.right;var d=e$d(c);if(!d)return c;d=o6(d,10);return Object.assign({},c,{lastImpersonationDate:d})}})):_.S(void 0)),_.vf({bufferSize:1,refCount:!0}));this.kvWidth$=this.lateralInsight$.pipe(_.yf(10),_.U(b=>b?
4:10))}set log(a){this.log$.next(a)}get log(){return this.log$.getValue()}};QZe.\u0275fac=function(a){return new (a||QZe)(_.A(XAe))};
QZe.\u0275cmp=_.q({type:QZe,selectors:[["cfc-iam-recommendation-log-entry"]],inputs:{log:"log"},decls:33,vars:20,consts:function(){return[[4,"ngIf"],["cfc-kv-list","",1,"cfc-full-bleed","cfc-full-bleed-keep-bottom-padding",3,"keyWidth"],[4,"ngIf","ngIfElse"],"Date","Recommendation"," Status ",["defaultPrincipalType",""]," There was a custom role that was created and applied. To view the permissions inside the custom role, view the link below under \u201cCreated custom role\u201d. Note that reverting a custom role recommendation will not delete the custom role.\n","Origin project",
"Number of affected service accounts","Impersonating service account","Last impersonation date"," Applied by ","Reverted by","Dismissed by",["cfcTrackedEvent","","track-type","iamRecommendationsLogEntry","track-name","viewCreatedCustomRole","target","_blank",3,"cfcRouterLink"]," Created custom role ",[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],"Service account","Group","User"]},template:function(a,b){a&1&&(_.P(0,Bse,2,0,"cfc-message",0),_.E(1,"dl",1),_.Zd(2,"async"),_.E(3,"div"),_.P(4,
Dse,2,2,"ng-container",2),_.Zd(5,"async"),_.E(6,"dd"),_.Q(7),_.F()(),_.P(8,Gse,13,4,"ng-container",0),_.Zd(9,"async"),_.E(10,"div"),_.P(11,Hse,2,0,"dt",0),_.P(12,Ise,2,0,"dt",0),_.P(13,Jse,2,0,"dt",0),_.E(14,"dd"),_.Q(15),_.F()(),_.E(16,"div")(17,"dt"),_.K(18,3),_.F(),_.E(19,"dd"),_.Q(20),_.F()(),_.E(21,"div")(22,"dt"),_.K(23,4),_.F(),_.E(24,"dd"),_.Q(25),_.F()(),_.E(26,"div")(27,"dt"),_.K(28,5),_.F(),_.P(29,Kse,2,1,"dd",0),_.P(30,Lse,3,1,"dd",0),_.F()(),_.P(31,Pse,4,3,"ng-template",null,6,_.Te));
if(a&2){const c=_.Rd(32);_.C("ngIf",b.log.createdCustomRole);_.x(1);_.C("keyWidth",_.$d(2,14,b.kvWidth$));_.x(3);_.C("ngIf",_.$d(5,16,b.lateralInsight$))("ngIfElse",c);_.x(3);_.Ud(b.log.recommendation.userId);_.x(1);_.C("ngIf",_.$d(9,18,b.lateralInsight$));_.x(3);_.C("ngIf",!b.log.reverted&&!b.log.dismissed);_.x(1);_.C("ngIf",b.log.reverted);_.x(1);_.C("ngIf",b.log.dismissed);_.x(2);_.Ud(b.log.actor);_.x(5);_.Ud(b.log.dateLong);_.x(5);_.Ud(b.log.description);_.x(4);_.C("ngIf",!b.log.createdCustomRole);
_.x(1);_.C("ngIf",b.log.createdCustomRole)}},dependencies:[_.ll,_.ml,_.nl,_.QB,_.BR,_.Bt,_.yo,_.bv,_.pl],encapsulation:2,changeDetection:0});var RZe=class{};RZe.\u0275fac=function(a){return new (a||RZe)};RZe.\u0275mod=_.Bc({type:RZe});RZe.\u0275inj=_.tc({imports:[_.ql,_.CR,_.Ct,_.Jo,_.cv]});
var Qse=function(){return[]},SZe=new _.ji("Current permissions for {ROLE_TITLE} role"),TZe=new _.ji("{ROLE_TITLE} role replacement recommendation"),UZe=new _.ji("{NUM_NEW_ROLES} recommended roles to replace {OLD_ROLE_TITLE} role"),VZe=class{constructor(){this.sampledUsedPermissions=[];this.inferredPermissions=[];this.highlightAddedPermissions=!0;this.canAccessNewRole=this.canAccessOldRole=!1;this.canDiffPermissions=!0;this.removedTitle="";this.oldPermissions=[];this.oldUnusedPermissions=[];this.addedTitle=
"";this.allPermissions=[];this.addedPermissions=[];this.removedPermissions=[];this.allUnusedPermissions=[]}ngOnInit(){}ngOnChanges(a){this.canAccessOldRole="string"!==typeof this.oldRole;this.canAccessNewRole="string"!==typeof this.newRoles;if(this.canDiffPermissions=this.canAccessOldRole||this.canAccessNewRole){var b=a.oldRole||a.newRoles;a=a.sampledUsedPermissions||a.inferredPermissions;(b||a)&&this.updatePermissions();b&&(b=null,this.canAccessOldRole?(b=this.oldRole,this.removedTitle=SZe.format({ROLE_TITLE:b.title||
b.name})):this.removedTitle="You do not have permission to view the role definition",this.canAccessNewRole?1===this.newRoles.length?(b=this.newRoles[0],this.addedTitle=TZe.format({ROLE_TITLE:b.title||b.name})):this.addedTitle=UZe.format({OLD_ROLE_TITLE:b?b.title||b.name:"",NUM_NEW_ROLES:this.newRoles.length}):this.addedTitle="You do not have permission to view the role definition")}}updatePermissions(){let a=null;this.canAccessOldRole?(a=this.oldRole,this.oldPermissions=a.includedPermissions.sort((b,
c)=>b.localeCompare(c)),this.oldUnusedPermissions=this.oldPermissions.filter(b=>!this.sampledUsedPermissions.includes(b))):(this.oldPermissions=[],this.oldUnusedPermissions=[]);if(this.canAccessNewRole){const b=new Set;for(const c of this.newRoles)for(const d of c.includedPermissions)b.add(d);this.allPermissions=[...b,...this.oldPermissions,...this.inferredPermissions].sort((c,d)=>c.localeCompare(d));_.za(this.allPermissions);this.allUnusedPermissions=this.allPermissions.filter(c=>!this.sampledUsedPermissions.includes(c));
this.addedPermissions=[...b].filter(c=>a&&!a.includedPermissions.includes(c));this.removedPermissions=this.oldPermissions.filter(c=>!b.has(c))}else this.allPermissions=[],this.allUnusedPermissions=[],this.addedPermissions=[],this.removedPermissions=[]}};VZe.\u0275fac=function(a){return new (a||VZe)};
VZe.\u0275cmp=_.q({type:VZe,selectors:[["cfc-role-diff"]],hostAttrs:[1,"cfc-role-diff"],inputs:{date:"date",oldRole:"oldRole",newRoles:"newRoles",sampledUsedPermissions:"sampledUsedPermissions",inferredPermissions:"inferredPermissions",highlightAddedPermissions:"highlightAddedPermissions"},features:[_.Gc],decls:1,vars:1,consts:[[4,"ngIf"],[3,"items","unused","label","title","isError"],[3,"items","added","inferred","removed","unused","title","showTitleIcon","isError"]],template:function(a,b){a&1&&
_.P(0,Rse,3,14,"ng-container",0);a&2&&_.C("ngIf",b.canDiffPermissions)},dependencies:[_.ll,t$],styles:[".cfc-role-diff{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;max-width:768px;min-width:512px}.cfc-role-diff iam-role-permission-list{-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1}.cfc-role-diff iam-role-permission-list:last-child .CodeMirror{border-left:0}.cfc-role-diff iam-role-permission-list:last-child .iam-role-permission-list-title{border-left:0}"],
encapsulation:2,changeDetection:0});var WZe=class{};WZe.\u0275fac=function(a){return new (a||WZe)};WZe.\u0275mod=_.Bc({type:WZe});WZe.\u0275inj=_.tc({imports:[_.ql,u$]});
var A$=class{};A$.\u0275fac=function(a){return new (a||A$)};A$.\u0275mod=_.Bc({type:A$});A$.\u0275inj=_.tc({});
var XZe=function(a,b,c){const d=b.recommendationData,e=b.cloudRoleRecommendation;b=b.roleParent;if("OK"===d.recommendationType)return _.S({});if(!c||"NEW_ROLE"!==d.recommendationType)return _.S({policyBuilder:d.policyBuilder});const f=e.properties;return _.S(b).pipe(_.zf(g=>a.createRoleFieldsService.createRole(c,g)),_.U(g=>{var h=`${f.userType}:${f.userId}`;const l=d.oldRole,n=g.name;h=(new _.EE).removeMember("string"===typeof l?l:l.name,h).addMembers(n,[h]);return{createdRole:g,policyBuilder:h}}))},
YZe=function(a,b,c,d){if(d){let f;return[null!=(f=d.title)?f:d.name]}if(c){a=a.createRoleFieldsService.getRole(c);var e;return[null!=(e=a.title)?e:a.name]}if("NEW_ROLE"===b.recommendationType)return e=b.newRoles,"string"===typeof e?[e]:e.map(f=>{let g;return null!=(g=f.title)?g:f.name})},B$=class{constructor(a,b){this.recommendationDataService=a;this.createRoleFieldsService=b}handleStaleRecommendation(a){var b=a.oldRecommendation;const c=a.newRecommendation;if(b.state===c.state&&b.reverted===c.reverted)return{actionCompleted:!1,
confirmDialogHeader:"Recommendation out of date"};b="NEW_ROLE"===c.properties.recommendationType?"Replace role recommendation already applied":"Remove role recommendation already applied";var d=a.recommendationData;var e="NEW_ROLE"===d.recommendationType?d.oldRole:d.role,f;d="string"===typeof e?e:null!=(f=e.title)?f:e.name;f=this.recommendationDataService;a=a.newRoleTitles;e=c.properties;const g=c.lastModifiedUser;var h=e.userId;const l=e.createdCustomRole;h="INACTIVE"===e.recommendationType?SYe.format({ROLE:d,
USER:h}):l?UYe.format({OLD_ROLE:d,NEW_ROLE:a[0],USER:h}):TYe.format({OLD_ROLE:d,NEW_ROLE:a[0],NUM_ROLES:a.length,USER:h});const n="SUCCEEDED"===c.state,r="DISMISSED"===c.state,v=c.reverted;var w=VYe;v?w=WYe:r?w=XYe:l&&(w=YYe);w=w.format({USER:g});var y=void 0;l&&(y=JYe.create(),y=y.link().set(y.role,e.recommendedRoles[0]).build());const B=o$d(c);var G=c.name,O=c.id,T=c.etag,J=c.userLastUpdateTime,R=_.nz(3);J=o6(J,3);R=R.format(new Date);return{appliedLog:{name:G,id:O,etag:T,dateDay:J===R?"Today":
J,dateLong:o6(c.userLastUpdateTime,10),dateTime:o6(c.userLastUpdateTime,7),recommendation:e,recommendationData:gZe(f,e),actor:g,userAction:w,description:h,applied:n,appliedMsg:v?"Reverted":n?"Applied":"Dismissed",reverted:v,dismissed:r,revertInProgress:!1,restoreInProgress:!1,restored:!1,oldRoleTitle:d,newRoleTitles:a,createdCustomRole:l,createdCustomRoleUrl:y,lateralMovementInsightName:B},confirmDialogHeader:b,actionCompleted:!0}}};B$.\u0275fac=function(a){return new (a||B$)(_.p(s$),_.p(z$))};
B$.\u0275prov=_.m({token:B$,factory:B$.\u0275fac,providedIn:A$});
var ZZe=new _.ji("Dismiss role recommendation for {USER} confirmation"),C$=class{};C$.\u0275fac=function(a){return new (a||C$)};C$.\u0275mod=_.Bc({type:C$});C$.\u0275inj=_.tc({imports:[_.vF]});
var $Ze=function(a,b,c){const d=Sse(b.properties),e=c.currentView,f=c.source,g=!!o$d(b);a.analyticsService.sendEvent({type:"iamRecommendation",name:"dismissClicked",metadata:{type:d,currentView:e,source:f,withLateralMoveInsight:g,priority:b.priority}});return gZe(a.recommendationDataService,b.properties).pipe(_.zf(h=>{if("OK"===h.recommendationType)return _.S(void 0);const l=ZZe.format({USER:h.user});return a.confirmDialogService.confirmation({header:l,body:"NEW_ROLE"===h.recommendationType?"Dismissing this role replacement recommendation will cause it to not resurface again. To view again, go to the recommendations history tab. Are you sure you want to dismiss this?":
"Dismissing this role removal recommendation will cause it to not resurface again. To view again, go to the recommendations history tab. Are you sure you want to dismiss this?",confirmButtonText:"Dismiss"}).pipe(_.Ef(n=>{n.confirmed&&(a.analyticsService.sendEvent({type:"iamRecommendations",name:"recommendationDismissed",metadata:{name:b.name,id:b.id,withLateralMoveInsight:g,priority:b.priority}}),a.analyticsService.sendEvent({type:"iamRecommendation",name:"dismissConfirmed",metadata:{type:d,currentView:e,
source:f,withLateralMoveInsight:g,priority:b.priority}}))}))}))},a_e=function(a,b,c){const d=Sse(b.properties);a.snackBar.open("Dismissing recommendation",{duration:4E3});const e=!!o$d(b);return a.cloudRecommendations.markDismissed(b.name,b.etag).pipe(_.Ef(()=>{a.snackBar.open("Recommendation dismissed",{duration:4E3});a.analyticsService.sendEvent({type:"iamRecommendation",name:"dismissSuccess",metadata:{type:d,currentView:c.currentView,source:c.source,withLateralMoveInsight:e,priority:b.priority}})},
()=>{a.snackBar.open("Dismissal failed. Please try again",{duration:4E3})}))},b_e=function(a,b,c,d,e){const f=Sse(c.properties);var g=a.cloudRecommendations.markClaimed(c.name,c.etag);const h=!!o$d(c);g=g.pipe(_.zf(n=>{c.etag=n.etag;return d.pipe(_.U(r=>Object.assign({},n,r)))}));const l=e.source;return g.pipe(_.zf(n=>_.YYb(a.iamUIService,[b],n.policyBuilder,{propagateEtagMismatchFlow:!0}).pipe(_.U(()=>{a.analyticsService.sendEvent({type:"iamRecommendations",name:"recommendationAccepted",metadata:{name:c.name,
id:c.id,withLateralMoveInsight:h,priority:c.priority}});return n})))).pipe(_.zf(n=>a.cloudRecommendations.markSucceeded(c.name,n.etag,!1,n.createdRole?n.createdRole.name:void 0).pipe(_.U(()=>Object.assign({},n,{actionCompleted:!0}))))).pipe(_.Ue(n=>VAe(a.cloudRecommendations,c.name,{forceCacheRefresh:!0}).pipe(_.U(r=>{if("Left"===r.tag)throw Error("Jl`"+c.name);return r.right}),_.af(1)).pipe(_.zf(r=>{if(c.etag!==r.etag)return a.analyticsService.sendEvent({type:"iamRecommendation",name:"applyFailedForStaleRecommendation",
metadata:{type:f,oldState:c.state,newState:r.state,source:l,withLateralMoveInsight:h,priority:c.priority}}),n.errorExperience=2,_.S({refreshedConflictedRecommendation:r});if("CLAIMED"===r.state)return a.cloudRecommendations.markFailed(r.name,r.etag).pipe(_.U(()=>{c.etag=r.etag;a.analyticsService.sendEvent({type:"iamRecommendation",name:"markFailedInsteadOfClaimed",metadata:{type:f,source:l,withLateralMoveInsight:h,priority:c.priority}});throw n;}));throw n;})))).pipe(_.U(n=>{if(n.actionCompleted){const r=
!!n.createdRole;a.analyticsService.sendEvent({type:"iamRecommendation",name:"applySuccess",metadata:{type:f,customRoleCreated:"replace_customizable"===f?String(r):"NA",source:l,withLateralMoveInsight:h,priority:c.priority}})}return n}),_.Ue(n=>{a.snackBar.open("Apply failed. Please try again",{duration:4E3});throw n;}))},c_e=function(a,b,c,d){const e=gZe(a.recommendationDataService,c.properties).pipe(_.U(f=>({policyBuilder:f.policyBuilder})));return b_e(a,b,c,e,d)},D$=class{constructor(a,b,c,d,e,
f){this.analyticsService=a;this.cloudRecommendations=b;this.confirmDialogService=c;this.iamUIService=d;this.recommendationDataService=e;this.snackBar=f}};D$.\u0275fac=function(a){return new (a||D$)(_.p(_.sq),_.p(O6),_.p(_.kC),_.p(_.hJ),_.p(s$),_.p(_.wF))};D$.\u0275prov=_.m({token:D$,factory:D$.\u0275fac,providedIn:C$});
var d_e=function(a,b){const c=b?dze(a.rolesService,b):_.S(void 0),d=b?eze(a.rolesService,b):_.S(void 0);a=b?fze(a.rolesService,b):_.S(void 0);return _.Je(c,d,a).pipe(_.U(([e,f,g])=>({roles:e,forbiddenPermissions:f,grantablePermissions:g})))},e_e=function(a,b,c,d){const e=Vse(b.resourceName);b=new _.bg(b);const f=new _.bg(!1),g=b.pipe(_.zf(r=>gZe(a.recommendationDataService,r.properties).pipe(_.U(v=>{const w=r.properties,y=Sse(w);var B=w.justification;B=B.sampledUsedPermissions.concat(B.inferredPermissions);
B.sort();return{cloudRoleRecommendation:r,recommendationData:v,recommendation:w,recommendationType:y,includedPermissions:B,analyticsData:{impactMetricMetadata:q6(d,r),recommendationType:y,withLateralMoveInsight:!!o$d(r),priority:r.priority},overgrantedPermissions:Use(v,B)}}))),_.zf(r=>EYe(a.createCustomRolesChecker,r.cloudRoleRecommendation,c).pipe(_.U(v=>Object.assign({},{roleParent:v.roleParent,canCreateRoles:v.canCreateCustomRoles},r)))),_.vf({bufferSize:1,refCount:!0})),h=g.pipe(_.zf(r=>d_e(a,
r.canCreateRoles?r.roleParent:void 0).pipe(_.U(v=>Object.assign({},{orgData:v},r)))),_.U(r=>({rolesToCopy:[{includedPermissions:r.includedPermissions}],recommendedPermissions:r.includedPermissions,overgrantedPermissions:r.overgrantedPermissions,allRoles:r.orgData.roles,forbiddenPermissions:r.orgData.forbiddenPermissions,grantablePermissions:r.orgData.grantablePermissions})),_.vf({bufferSize:1,refCount:!0})),l=_.Yq.get(e.getResourceType()).set;var n=a.iamPermissionsService.preFetchPermissions([l,"recommender.iamPolicyRecommendations.update"],
[e]);n=_.qe([g,n]).pipe(_.U(([r,v])=>({recommendationState:r,preFetchedUpdatePermissions:v})),_.vf({bufferSize:1,refCount:!0}));g.pipe(_.U(r=>r.canCreateRoles)).subscribe(f);return{resource:e,updatePolicyPermission:l,cloudRoleRecommendation$:b,createCustomRoleFlowIsActive$:f,recommendationState$:g,ccrData$:h,pageLoadData$:n}},f_e=function(a,b,c){c.recommendationState$.pipe(_.af(1)).subscribe(d=>{a.sendAnalyticsEvent({type:"iamRecommendation",name:b,metadata:{currentView:c.createCustomRoleFlowIsActive$.value?
"customRole":"existingRole"}},d.analyticsData)})},g_e=function(a,b,c){c.recommendationState$.pipe(_.af(1)).subscribe(d=>{a.sendAnalyticsEvent({type:"iamRecommendation",name:b},d.analyticsData)})},h_e=function(a,b,c){c.pageLoadData$.pipe(_.af(1)).subscribe(d=>{a.sendAnalyticsEvent({type:"iamRecommendation",name:b,metadata:{initialView:d.recommendationState.canCreateRoles?"customRole":"existingRole",canUpdatePolicy:!!a.iamPermissionsService.can(c.updatePolicyPermission,c.resource),canUpdateRecommendation:!!a.iamPermissionsService.can("recommender.iamPolicyRecommendations.update",
c.resource)}},d.recommendationState.analyticsData)})},E$=class{constructor(a,b,c,d,e){this.analyticsService=a;this.createCustomRolesChecker=b;this.iamPermissionsService=c;this.recommendationDataService=d;this.rolesService=e}sendAnalyticsEvent(a,b){a.metadata=Object.assign({},{type:b.recommendationType},a.metadata,b.impactMetricMetadata,{withLateralMoveInsight:b.withLateralMoveInsight,priority:b.priority});this.analyticsService.sendEvent(a)}};
E$.\u0275fac=function(a){return new (a||E$)(_.p(_.sq),_.p(o$),_.p(_.Vs),_.p(s$),_.p(_.HE))};E$.\u0275prov=_.m({token:E$,factory:E$.\u0275fac,providedIn:"root"});
var i_e=["appliedLogTemplate"],Yse=function(a,b){return[a,b]},Wse=function(a,b){return _.ne(function*(){try{yield b}catch(c){a.errorService.handleError(c)}})},Xse=function(a,b,c=!1){return _.ne(function*(){let d=void 0;if(c&&(d=a.createRoleForm.controls.roleForm,!PZe(a.createRoleFieldsService,d)))return;const e={createCustomRole:"replace_customizable"===b.recommendationType?String(c):"NA"};a.subtaskService.sendAnalyticsEvent({type:"iamRecommendation",name:"applyClicked",metadata:Object.assign({},
e,{source:a.sourceAnalyticsMetadata})},b.analyticsData);1!==(yield rZe(a.warningRegisterService))&&(a.subtaskService.sendAnalyticsEvent({type:"iamRecommendation",name:"applyConfirmed",metadata:e},b.analyticsData),yield _.ke(j_e(a,b,d)))})},j_e=function(a,b,c){const d=b.cloudRoleRecommendation,e=b.recommendationData;if("OK"===e.recommendationType)return _.S({});a.applyInProgress$.next(!0);b=XZe(a.applyButtonService,b,c);return b_e(a.roleRecommendationUiService,a.state.resource,d,b,{source:a.sourceAnalyticsMetadata}).pipe(_.zf(f=>
{if(!f.refreshedConflictedRecommendation)return _.S(f);const g=YZe(a.applyButtonService,e,c,f.createdRole);return a.handleStaleRecommendation(d,f.refreshedConflictedRecommendation,e,g)}),_.U(f=>{f.actionCompleted&&a.subtaskRef.accept(!!f.createdRole);return f}),_.cf(()=>{a.applyInProgress$.next(!1)}))},k_e=class{constructor(a,b,c,d,e,f,g){this.roleRecommendationUiService=a;this.errorService=b;this.warningRegisterService=c;this.subtaskService=d;this.applyButtonService=e;this.confirmDialogService=f;
this.createRoleFieldsService=g;this.appliedLog=null;this.applyInProgress$=new _.bg(!1);this.updateRecommendationPermission="recommender.iamPolicyRecommendations.update";this.IamCheckOperator=_.exd;this.ve={IamRecommendationSubtaskApply:62845}}ngOnInit(){}handleStaleRecommendation(a,b,c,d){this.state.cloudRoleRecommendation$.next(b);const {actionCompleted:e,confirmDialogHeader:f,appliedLog:g}=this.applyButtonService.handleStaleRecommendation({oldRecommendation:a,newRecommendation:b,newRoleTitles:d,
recommendationData:c});g&&(this.appliedLog=g);return this.confirmDialogService.confirmation({header:f,body:this.appliedLog?this.appliedLogTemplate:"This recommendation out of date due to recent changes. The page will be automatically refreshed with the latest update.",confirmButtonText:"OK",confirmOnly:!0}).pipe(_.hf({actionCompleted:e}))}};k_e.\u0275fac=function(a){return new (a||k_e)(_.A(D$),_.A(_.Ht),_.A(v$,4),_.A(E$),_.A(B$),_.A(_.kC),_.A(z$))};
k_e.\u0275cmp=_.q({type:k_e,selectors:[["iam-role-recommendation-subtask-apply-button"]],viewQuery:function(a,b){a&1&&_.Oe(i_e,5);if(a&2){let c;_.Ne(c=_.Qe())&&(b.appliedLogTemplate=c.first)}},inputs:{state:"state",subtaskRef:"subtaskRef",createRoleForm:"createRoleForm",sourceAnalyticsMetadata:"sourceAnalyticsMetadata"},features:[_.Wd([B$])],decls:4,vars:3,consts:function(){return[[4,"ngIf"],["appliedLogTemplate",""],["message","Applying",3,"inProgress",4,"ngIf"],["message","Applying",3,"inProgress",
4,"ngIf"],["message","Applying",3,"inProgress"],["mat-raised-button","","color","primary","cfcDisable","",1,"apply-button",3,"ve","veClick","cfcIamCheck","cfcIamResource","cfcIamOperator","click"]," Apply ",["message","Applying",3,"inProgress"]," Create and Apply ",[3,"log"]]},template:function(a,b){a&1&&(_.P(0,bte,2,1,"ng-container",0),_.Zd(1,"async"),_.P(2,cte,1,1,"ng-template",null,1,_.Te));a&2&&_.C("ngIf",_.$d(1,1,b.state.recommendationState$))},dependencies:[_.Uu,_.wt,_.ot,_.lt,_.jt,_.ll,_.iz,
_.EH,_.ox,QZe,_.pl],encapsulation:2});
var l_e=class{transform(a){if(void 0===a)return"A resource to create a custom role on could not be found.";switch(a.getResourceType()){case 2:return"You do not have the required permissions to create organization-level custom roles.";case 0:return"You do not have the required permissions to create project-level custom roles."}}};l_e.\u0275fac=function(a){return new (a||l_e)};l_e.\u0275pipe=_.Cc({name:"customRoleButtonDisabledMessage",type:l_e,pure:!0});var m_e=class{};
m_e.\u0275fac=function(a){return new (a||m_e)};m_e.\u0275mod=_.Bc({type:m_e});m_e.\u0275inj=_.tc({});
var F$=class{constructor(a){this.subtaskService=a}ngOnInit(){}};F$.\u0275fac=function(a){return new (a||F$)(_.A(E$))};
F$.\u0275cmp=_.q({type:F$,selectors:[["iam-role-recommendation-subtask-create-custom-role-button"]],inputs:{state:"state",sourceAnalyticsMetadata:"sourceAnalyticsMetadata"},decls:2,vars:3,consts:function(){return[[4,"ngIf"],["class","toggle-custom","mat-button","","color","primary","type","button",3,"cfcDisable","cfcDisableTooltip","click",4,"ngIf"],["mat-button","","color","primary","type","button",1,"toggle-custom",3,"cfcDisable","cfcDisableTooltip","click"]," View Recommended Predefined Role ",
" View Recommended Custom Role Creation "]},template:function(a,b){a&1&&(_.P(0,gte,2,1,"ng-container",0),_.Zd(1,"async"));a&2&&_.C("ngIf",_.$d(1,1,b.state.recommendationState$))},dependencies:[_.Uu,_.ot,_.lt,_.jt,_.ll,_.iz,_.pl,l_e],encapsulation:2});
var ite=function(a){return[a]},hte=function(a,b){const c={source:a.sourceAnalyticsMetadata,currentView:a.state.createCustomRoleFlowIsActive$.value?"customRole":"existingRole"};$Ze(a.roleRecommendationUiService,b,c).pipe(_.af(1)).subscribe(d=>{null!=d&&d.confirmed&&(a.dismissInProgress$.next(!0),a_e(a.roleRecommendationUiService,b,c).pipe(_.af(1)).subscribe(()=>{a.dismissInProgress$.next(!1);a.subtaskRef.accept()},()=>{a.dismissInProgress$.next(!1)}))})},n_e=class{constructor(a){this.roleRecommendationUiService=
a;this.dismissInProgress$=new _.bg(!1);this.updateRecommendationPermission="recommender.iamPolicyRecommendations.update";this.ve={IamRecommendationSubtaskDismiss:69664}}ngOnInit(){}};n_e.\u0275fac=function(a){return new (a||n_e)(_.A(D$))};
n_e.\u0275cmp=_.q({type:n_e,selectors:[["iam-role-recommendation-subtask-dismiss-button"]],inputs:{state:"state",subtaskRef:"subtaskRef",sourceAnalyticsMetadata:"sourceAnalyticsMetadata"},decls:2,vars:3,consts:function(){return[[4,"ngIf"],["message","Dismissing",3,"inProgress",4,"ngIf"],["message","Dismissing",3,"inProgress"],["mat-raised-button","","cfcDisable","","cfcTooltip","Dismissing a recommendation prevents it from being displayed in the future.",3,"ve","veClick","cfcIamCheck","cfcIamResource",
"click"]," Dismiss "]},template:function(a,b){a&1&&(_.P(0,kte,2,1,"ng-container",0),_.Zd(1,"async"));a&2&&_.C("ngIf",_.$d(1,1,b.state.recommendationState$))},dependencies:[_.Uu,_.wt,_.ot,_.lt,_.jt,_.ll,_.iz,_.EH,_.ox,_.Ev,_.pl],encapsulation:2});
var G$=class{constructor(){this.shouldCreateRoleOnOrganization=!1;this.RoleStageEnum=x6;this.migrationExp=_.Of("IamRecommendationSubtaskMigration__aaui_subtask_enabled")}ngOnInit(){}};G$.\u0275fac=function(a){return new (a||G$)};
G$.\u0275cmp=_.q({type:G$,selectors:[["iam-role-recommendation-subtask-body"]],inputs:{state:"state",createRoleForm:"createRoleForm",shouldCreateRoleOnOrganization:"shouldCreateRoleOnOrganization"},decls:2,vars:3,consts:function(){let a;a=_.Md("{VAR_PLURAL, plural, =1 {{ROLE_NAME},\n                  {NUMBER_OF_PERMISSIONS}\n                  permission\n                  } other {{ROLE_NAME},\n                  {NUMBER_OF_PERMISSIONS}\n                  permissions\n                  }}",{VAR_PLURAL:"\ufffd0\ufffd",
ROLE_NAME:"\ufffd1\ufffd",NUMBER_OF_PERMISSIONS:"\ufffd2\ufffd"});let b;b=_.Md("{VAR_PLURAL, plural, =1 {Analysis is based off of the last day.} other {Analysis is based off of the last\n                {NUM_DAYS_OBSERVED} days.\n                }}",{VAR_PLURAL:"\ufffd0\ufffd",NUM_DAYS_OBSERVED:"\ufffd1\ufffd"});return[[3,"ngSwitch",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[4,"ngIf"],["icon","rec-bulb-blue","iconset","recommendations_hub"],[4,"ngIf","ngIfElse"],["multipleNewRoles",
""],[3,"date","oldRole","newRoles","sampledUsedPermissions","inferredPermissions","highlightAddedPermissions"],[4,"ngFor","ngForOf"],a,b,["sourceAnalyticsMetadata","subtask",3,"state"],[3,"formGroup"],[3,"observable","renderOnNext"],[3,"allRoles","organizationScoped","rolesToCopy","initialLaunchStage","forbiddenPermissions","grantablePermissions","parentFormGroup"],["altMoreText","Show recommended permissions","altLessText","Hide recommended permissions"]," Recommended Permissions ",["altMoreText",
"Show excess permissions","altLessText","Hide excess permissions",4,"ngIf"],["altMoreText","Show excess permissions","altLessText","Hide excess permissions"]," Excess Permissions ",[3,"label","items","removed","unused","inferred","title","showTitleIcon"],[3,"label","items","unused","title",4,"ngIf","ngIfElse"],["noPermissionList",""],[3,"label","items","unused","title"]]},template:function(a,b){a&1&&(_.P(0,Dte,4,3,"ng-container",0),_.Zd(1,"async"));a&2&&_.C("ngIf",_.$d(1,1,b.state.recommendationState$))},
encapsulation:2});
var o_e=new _.ji("{NUM_PREDEFINED_ROLES, plural,=1 {Replacing the {OLD_ROLE} role with a custom role will reduce the principal's permissions from {OLD_ROLE_NUM_PERMISSIONS} to an estimated {CUSTOM_ROLE_NUM_PERMISSIONS}. Analysis is based off of the last {NUM_DAYS} days. You may also choose to select the recommended predefined role instead.}other {Replacing the {OLD_ROLE} role with a custom role will reduce the principal's permissions from {OLD_ROLE_NUM_PERMISSIONS} to an estimated {CUSTOM_ROLE_NUM_PERMISSIONS}. Analysis is based off of the last {NUM_DAYS} days. You may also choose to select the recommended predefined roles instead.}}"),
p_e=new _.ji("{NUM_PREDEFINED_ROLES, plural,=1 {Replacing the {OLD_ROLE} role with a custom role will reduce the principal's permissions. Analysis is based off of the last {NUM_DAYS} days. You may also choose to select the recommended predefined role instead.}other {Replacing the {OLD_ROLE} role with a custom role will reduce the principal's permissions. Analysis is based off of the last {NUM_DAYS} days. You may also choose to select the recommended predefined roles instead.}}"),q_e=class{constructor(a,
b,c,d,e){this.data=a;this.roleRecSubtaskService=b;this.subtaskRef=c;this.router=d;this.analyticsService=e;this.RoleStageEnum=x6;this.sourceAnalyticsMetadata="subtask";this.ve={IamRecommendationSubtask:134422,IamRecommendationSubtaskCancel:62846};this.shouldCreateRoleOnOrganization=!1;this.createRoleForm=new _.xw({});this.IamCheckOperator=_.exd;this.destroyed=new _.rf(1);this.showPriorityIndicator=(_.Of("RecommendationPriority__granular_indicators_enabled")||_.Of("RecommendationPriority__binary_indicators_enabled"))&&
this.router.url.startsWith(Hze.create().link().asString());this.state=e_e(this.roleRecSubtaskService,this.data.recommendation,this.shouldCreateRoleOnOrganization,this.data.impactMetric)}ngOnInit(){this.analyticsService.recordExperimentExposure(13836840);g_e(this.roleRecSubtaskService,"subtaskOpened",this.state);h_e(this.roleRecSubtaskService,"recommendationDisplayed",this.state)}cancel(){f_e(this.roleRecSubtaskService,"cancel",this.state);this.subtaskRef.cancel()}ngOnDestroy(){this.destroyed.next();
this.destroyed.complete()}};q_e.\u0275fac=function(a){return new (a||q_e)(_.A(_.zC),_.A(E$),_.A(_.yC),_.A(_.gg),_.A(_.sq))};
q_e.\u0275cmp=_.q({type:q_e,selectors:[["iam-role-recommendation-subtask"]],features:[_.Wd([v$])],decls:3,vars:6,consts:function(){return[[3,"observable","renderOnNext","ve"],[4,"ngIf"],["id","recommendation-action-bar","titleNoCollapse","true",3,"cfcTitle"],["class","cfc-action-bar-content-left cfc-indent cfc-space-below-minus-5",4,"ngIf"],[1,"cfc-action-bar-content-right"],[3,"state","sourceAnalyticsMetadata"],[3,"state","createRoleForm","shouldCreateRoleOnOrganization"],[3,"state","subtaskRef",
"sourceAnalyticsMetadata","createRoleForm"],[3,"state","subtaskRef","sourceAnalyticsMetadata"],["type","button","mat-button","",3,"ve","veClick","click"],"Close",[1,"cfc-action-bar-content-left","cfc-indent","cfc-space-below-minus-5"],[3,"priority"]]},template:function(a,b){a&1&&(_.E(0,"cfc-loader",0),_.P(1,Fte,13,16,"ng-container",1),_.Zd(2,"async"),_.F());a&2&&(_.C("observable",b.state.pageLoadData$)("renderOnNext",!0)("ve",b.ve.IamRecommendationSubtask),_.x(1),_.C("ngIf",_.$d(2,4,b.state.recommendationState$)))},
dependencies:function(){return[_.YC,MXe,_.Uu,_.wt,_.ot,_.lt,_.jt,_.ll,p$,_.CE,_.Co,_.ME,F$,k_e,G$,n_e,_.pl]},encapsulation:2});var r_e=class{transform(a){return"string"===typeof a.newRoles||1===a.newRoles.length}};r_e.\u0275fac=function(a){return new (a||r_e)};r_e.\u0275pipe=_.Cc({name:"hasOneNewRole",type:r_e,pure:!0});
var s_e=class{transform(a){const b=a.oldRole;return("string"===typeof b?p_e:o_e).format({NUM_PREDEFINED_ROLES:a.newRoles.length,OLD_ROLE:"string"===typeof b?b:b.title||b.name,OLD_ROLE_NUM_PERMISSIONS:"string"===typeof b?0:b.includedPermissions.length,CUSTOM_ROLE_NUM_PERMISSIONS:a.sampledUsedPermissions.length+a.inferredPermissions.length,NUM_DAYS:a.numDaysObserved})}};s_e.\u0275fac=function(a){return new (a||s_e)};s_e.\u0275pipe=_.Cc({name:"createCustomRoleSummary",type:s_e,pure:!0});var H$=class{};
H$.\u0275fac=function(a){return new (a||H$)};H$.\u0275mod=_.Bc({type:H$});H$.\u0275inj=_.tc({imports:[_.XB,NXe,_.Vu,_.qt,_.ql,OZe,y$,_.kz,_.At,_.kD,q$,_.Iz,_.FH,_.DE,_.Jo,_.px,_.gy,RZe,h$,WZe,u$,m_e,A$,C$,_.iC,_.BC,_.Hv]});_.sx(G$,[_.Uu,_.kl,_.ll,_.ml,_.nl,_.QB,NZe,_.xt,_.CE,_.yo,_.Ao,_.zo,_.EB,_.DB,_.Fw,VZe,t$,F$],[_.pl,s_e,r_e]);
var t_e=class{constructor(a,b,c,d){this.data=a;this.analyticsService=b;this.insightRoleService=c;this.subtaskRef=d;this.ve={IamPolicyInsightSubtaskVe:134944,IamRecommendationSubtaskCancel:62846};this.permissionsData$=FYe(this.insightRoleService,this.data.insight).pipe(_.U(e=>{if("Left"===e.tag)return e;let f;return m5({title:RYe.format({ROLE_TITLE:null!=(f=e.right.title)?f:e.right.name}),label:ZYe.format({DATE:o6(this.data.insight.lastRefreshTime,3)}),inferredPermissions:this.data.insight.inferredPermissions,
unusedPermissions:e.right.includedPermissions.filter(g=>!this.data.insight.exercisedPermissions.includes(g)),includedPermissions:e.right.includedPermissions})}),_.vf({bufferSize:1,refCount:!0}));this.isRight=FAe;this.actionBarTitle=$Ye.format({USER:_.xF(a$d(this.data.insight)).displayName});this.rolePermissionsErrorMessage=GYe.format({ROLE_NAME:b$d(this.data.insight)})}ngOnInit(){this.sendEvent("policyInsightSubtaskOpened")}cancel(){this.sendEvent("policyInsightSubtaskCancelled");this.subtaskRef.cancel()}sendEvent(a){const b=
q6(this.data.impactMetric);this.analyticsService.sendEvent({type:"iamRecommendation",name:a,metadata:Object.assign({},b)})}};t_e.\u0275fac=function(a){return new (a||t_e)(_.A(_.zC),_.A(_.sq),_.A(r$),_.A(_.yC))};
t_e.\u0275cmp=_.q({type:t_e,selectors:[["iam-policy-insight-subtask"]],decls:11,vars:9,consts:function(){return[[3,"observable","renderOnNext","ve"],["id","iam-policy-insight-action-bar",6,"cfcTitle"],["cfcTitle","\ufffd0\ufffd"],[1,"cfc-action-bar-content-right"],[4,"ngIf"],["type","button","mat-button","",3,"ve","veClick","click"]," Close ",[4,"ngIf","ngIfElse"],["roleError",""],[3,"label","items","inferred","unused","title"],["type","error"]]},template:function(a,b){a&1&&(_.E(0,"cfc-loader",0)(1,
"cfc-action-bar",1),_.jW(2,2),_.E(3,"div",3),_.I(4,"iam-feedback-button"),_.F()(),_.E(5,"cfc-panel-body"),_.P(6,Ite,4,2,"ng-container",4),_.Zd(7,"async"),_.F(),_.E(8,"cfc-panel-footer")(9,"button",5),_.L("click",function(){return b.cancel()}),_.K(10,6),_.F()()());a&2&&(_.C("observable",b.permissionsData$)("renderOnNext",!0)("ve",b.ve.IamPolicyInsightSubtaskVe),_.x(1),_.Kd(b.actionBarTitle),_.Ld(2),_.x(5),_.C("ngIf",_.$d(7,7,b.permissionsData$)),_.x(3),_.C("ve",b.ve.IamRecommendationSubtaskCancel)("veClick",
!0))},dependencies:[_.YC,_.Uu,_.wt,_.ot,_.lt,_.jt,_.ll,p$,_.CE,_.yo,_.zo,t$,_.Co,_.ME,_.pl],encapsulation:2,changeDetection:0});var u_e=class{};u_e.\u0275fac=function(a){return new (a||u_e)};u_e.\u0275mod=_.Bc({type:u_e});u_e.\u0275inj=_.tc({imports:[_.XB,_.Vu,_.qt,_.ql,q$,_.UB,_.DE,_.Jo,u$,H$,_.iC,_.BC]});
var Kte=new _.ji("Service accounts that can be impersonated in this project ({NUM_SA})"),Mte=new _.ji("Service accounts that can be impersonated in this folder ({NUM_SA})"),Lte=new _.ji("Service accounts that can be impersonated in this organization ({NUM_SA})"),Nte=new _.ji("Service accounts that can be impersonated ({NUM_SA})"),v_e=class{constructor(a){this.insight$=new _.bg;this.resource$=new _.bg;this.tableHeader$=_.qe([this.insight$.pipe(_.Ge(_.hi)),this.resource$.pipe(_.Ge(_.hi))]).pipe(_.U(([b,
c])=>Ote(b,c)));this.rows$=this.insight$.pipe(_.Ge(_.hi),_.U(b=>b.targetServiceAccountEmailAddresses.sort().map(c=>({emailAddress:c}))));this.columnsConfig=[{id:"emailAddress",accessor:b=>b.emailAddress}];this.destroy$=new _.tf;this.clientTableManager=_.pA(a)}set insight(a){this.insight$.next(a)}get insight(){return this.insight$.getValue()}set resource(a){this.resource$.next(a)}get resource(){return this.resource$.getValue()}ngOnInit(){this.rows$.pipe(_.Af(this.destroy$)).subscribe(a=>{this.clientTableManager.rows=
a})}ngOnDestroy(){this.destroy$.next()}};v_e.\u0275fac=function(a){return new (a||v_e)(_.A(_.qA))};
v_e.\u0275cmp=_.q({type:v_e,selectors:[["iam-impersonated-sa-table"]],inputs:{insight:"insight",resource:"resource",headerSemanticLevel:"headerSemanticLevel",headerVisualLevel:"headerVisualLevel"},decls:2,vars:3,consts:function(){return[[4,"ngIf"],["id","cfc-iam-impersonated-service-accounts-table-caption",1,"cfc-max-width-full",3,"semanticLevel","visualLevel"]," \ufffd0\ufffd ",["externalTableCaptionId","cfc-iam-impersonated-service-accounts-table-caption","primaryColumnId","emailAddress","filterPlaceholder",
"Filter table",3,"tableManager","columnsConfig","rowsPerPage","hideTooltip","showFilter","pagination"],["id","emailAddress","header","Service account"]]},template:function(a,b){a&1&&(_.P(0,Jte,5,9,"ng-container",0),_.Zd(1,"async"));a&2&&_.C("ngIf",_.$d(1,1,b.tableHeader$))},dependencies:[_.ll,_.SC,_.aB,_.PA,_.lB,_.pl],encapsulation:2,changeDetection:0});var w_e=class{};w_e.\u0275fac=function(a){return new (a||w_e)};w_e.\u0275mod=_.Bc({type:w_e});w_e.\u0275inj=_.tc({imports:[_.ql,_.UB,_.mB]});
var x_e=class{constructor(a){this.insight$=new _.bg;this.rows$=this.insight$.pipe(_.Ge(_.hi),_.U(b=>b.impersonationPermissionUsages.map(c=>{let d;return{permission:c.permission,isUsed:null!=(d=c.used)?d:!1,lastUsedDate:c.lastUsedTime?o6(c.lastUsedTime,10):void 0}})),_.vf({bufferSize:1,refCount:!0}));this.showLastUsedDates=!1;this.columnsConfig=[{id:"permission",accessor:b=>b.permission},{id:"status",accessor:b=>b.isUsed},{id:"lastUsedDate",accessor:b=>b.lastUsedDate}];this.destroy$=new _.tf;this.clientTableManager=
_.pA(a)}set insight(a){this.insight$.next(a)}get insight(){return this.insight$.getValue()}ngOnInit(){this.rows$.pipe(_.Af(this.destroy$)).subscribe(a=>{this.showLastUsedDates=a.some(b=>!!b.lastUsedDate);this.clientTableManager.rows=a})}ngOnDestroy(){this.destroy$.next()}};x_e.\u0275fac=function(a){return new (a||x_e)(_.A(_.qA))};
x_e.\u0275cmp=_.q({type:x_e,selectors:[["iam-impersonation-permissions-table"]],inputs:{insight:"insight"},decls:6,vars:9,consts:function(){return[["tableTitle","Impersonation permissions","primaryColumnId","permission",3,"tableManager","columnsConfig","rowsPerPage","hideTooltip","showFilter","showColumnsChooser","pagination"],["id","permission","header","Impersonation permission",3,"nonHideable"],["id","status","header","Status"],["cfcTableTemplate","","type","body"],["id","lastUsedDate","header",
"Last used date",3,"hidden"],[4,"ngIf"],"Used","Unused"]},template:function(a,b){a&1&&(_.E(0,"cfc-table",0),_.I(1,"cfc-table-column",1),_.E(2,"cfc-table-column",2),_.P(3,Rte,2,2,"ng-template",3),_.F(),_.E(4,"cfc-table-column",4),_.P(5,Tte,1,1,"ng-template",3),_.F()());a&2&&(_.C("tableManager",b.clientTableManager)("columnsConfig",b.columnsConfig)("rowsPerPage",10)("hideTooltip",!0)("showFilter",!1)("showColumnsChooser",!0)("pagination",!0),_.x(1),_.C("nonHideable",!0),_.x(3),_.C("hidden",!b.showLastUsedDates))},
dependencies:[_.ll,_.aB,_.PA,_.OA,_.lB],encapsulation:2});var y_e=class{};y_e.\u0275fac=function(a){return new (a||y_e)};y_e.\u0275mod=_.Bc({type:y_e});y_e.\u0275inj=_.tc({imports:[_.ql,_.UB,_.mB]});
var $te=new _.ji('To remove the ability of {SERVICE_ACCOUNT} to laterally move into project "{RESOURCE_NAME}", remove its impersonation permissions.'),bue=new _.ji('To remove the ability of {SERVICE_ACCOUNT} to laterally move into folder "{RESOURCE_NAME}", remove its impersonation permissions.'),aue=new _.ji('To remove the ability of {SERVICE_ACCOUNT} to laterally move into organization "{RESOURCE_NAME}", remove its impersonation permissions.'),cue=new _.ji('To remove the ability of {SERVICE_ACCOUNT} to laterally move into "{RESOURCE_NAME}", remove its impersonation permissions.'),
Vte=new _.ji('The following permissions allow impersonation of service accounts in project "{RESOURCE_NAME}". To remove the abiity to impersonate, you may need to change the policy binding.'),Xte=new _.ji('The following permissions allow impersonation of service accounts in folder "{RESOURCE_NAME}". To remove the abiity to impersonate, you may need to change the policy binding.'),Wte=new _.ji('The following permissions allow impersonation of service accounts in organization "{RESOURCE_NAME}". To remove the abiity to impersonate, you may need to change the policy binding.'),
Yte=new _.ji('The following permissions allow impersonation of service accounts in "{RESOURCE_NAME}". To remove the abiity to impersonate, you may need to change the policy binding.'),z_e=class{constructor(){this.insight$=new _.bg;this.resource$=new _.bg;this.hasAssociatedRoleRecommendation$=new _.bg;this.infoMessage$=_.qe([this.insight$.pipe(_.Ge(_.hi)),this.resource$.pipe(_.Ge(_.hi)),this.hasAssociatedRoleRecommendation$.pipe(_.Ge(_.hi))]).pipe(_.U(([a,b,c])=>c?due(a,b):Zte(b)))}set insight(a){this.insight$.next(a)}get insight(){return this.insight$.getValue()}set resource(a){this.resource$.next(a)}get resource(){return this.resource$.getValue()}set hasAssociatedRoleRecommendation(a){this.hasAssociatedRoleRecommendation$.next(a)}get hasAssociatedRoleRecommendation(){return this.hasAssociatedRoleRecommendation$.getValue()}};
z_e.\u0275fac=function(a){return new (a||z_e)};z_e.\u0275cmp=_.q({type:z_e,selectors:[["iam-lateral-insight-info-message"]],inputs:{insight:"insight",resource:"resource",hasAssociatedRoleRecommendation:"hasAssociatedRoleRecommendation"},decls:2,vars:3,consts:function(){return[[4,"ngIf"]," \ufffd0\ufffd "]},template:function(a,b){a&1&&(_.P(0,Ute,3,1,"cfc-message",0),_.Zd(1,"async"));a&2&&_.C("ngIf",_.$d(1,1,b.infoMessage$))},dependencies:[_.ll,_.yo,_.zo,_.pl],encapsulation:2,changeDetection:0});
var A_e=class{};A_e.\u0275fac=function(a){return new (a||A_e)};A_e.\u0275mod=_.Bc({type:A_e});A_e.\u0275inj=_.tc({imports:[_.ql,_.Jo]});
var B_e=class{constructor(a){this.insightRoleService=a;this.insight$=new _.bg;this.permissionsData$=this.insight$.pipe(_.Ge(_.hi),_.zf(b=>FYe(this.insightRoleService,b).pipe(_.U(c=>({insight:b,roleResult:c})))),_.U(b=>{const c=b.insight;b=b.roleResult;if("Left"===b.tag)return b;let d;return m5({title:RYe.format({ROLE_TITLE:null!=(d=b.right.title)?d:b.right.name}),label:ZYe.format({DATE:o6(c.lastRefreshTime,3)}),unusedPermissions:c.impersonationPermissionUsages.map(e=>e.permission),includedPermissions:b.right.includedPermissions})}),
_.vf({bufferSize:1,refCount:!0}));this.isRight=FAe;this.rolePermissionsErrorMessage$=this.insight$.pipe(_.Ge(_.hi),_.U(b=>GYe.format({ROLE_NAME:b$d(b)})))}set insight(a){this.insight$.next(a)}get insight(){return this.insight$.getValue()}};B_e.\u0275fac=function(a){return new (a||B_e)(_.A(r$))};
B_e.\u0275cmp=_.q({type:B_e,selectors:[["iam-lateral-insight-permission-list"]],inputs:{insight:"insight"},decls:3,vars:5,consts:[[3,"observable","renderOnNext"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["roleError",""],[3,"label","items","title"],["type","error"]],template:function(a,b){a&1&&(_.E(0,"cfc-loader",0),_.P(1,gue,4,2,"ng-container",1),_.Zd(2,"async"),_.F());a&2&&(_.C("observable",b.permissionsData$)("renderOnNext",!0),_.x(1),_.C("ngIf",_.$d(2,3,b.permissionsData$)))},dependencies:[_.ll,_.CE,_.yo,
_.zo,t$,_.pl],encapsulation:2,changeDetection:0});var C_e=class{};C_e.\u0275fac=function(a){return new (a||C_e)};C_e.\u0275mod=_.Bc({type:C_e});C_e.\u0275inj=_.tc({imports:[_.ql,_.DE,_.Jo,u$]});
var lue=new _.ji('{NUM_SA, plural,=1 { {SERVICE_ACCOUNT} is a service account from a different project that can impersonate 1 service account}other { {SERVICE_ACCOUNT} is a service account from a different project that can impersonate {NUM_SA} service accounts}} in project "{RESOURCE_NAME}".'),nue=new _.ji('{NUM_SA, plural,=1 {{SERVICE_ACCOUNT} is a service account from a different project that can impersonate 1 service account}other {{SERVICE_ACCOUNT} is a service account from a different project that can impersonate {NUM_SA} service accounts}} in folder "{RESOURCE_NAME}".'),
mue=new _.ji('{NUM_SA, plural,=1 {{SERVICE_ACCOUNT} is a service account from a different project that can impersonate 1 service account}other {{SERVICE_ACCOUNT} is a service account from a different project that can impersonate {NUM_SA} service accounts}} in organization "{RESOURCE_NAME}".'),oue=new _.ji('{NUM_SA, plural,=1 {{SERVICE_ACCOUNT} is a service account from a different project that can impersonate 1 service account}other {{SERVICE_ACCOUNT} is a service account from a different project that can impersonate {NUM_SA} service accounts}} in "{RESOURCE_NAME}".'),
que=new _.ji('The most recent time that this service account impersonated a service account in project "{RESOURCE_NAME}".'),sue=new _.ji('The most recent time that this service account impersonated a service account in folder "{RESOURCE_NAME}".'),rue=new _.ji('The most recent time that this service account impersonated a service account in organization "{RESOURCE_NAME}".'),tue=new _.ji('The most recent time that this service account impersonated a service account in "{RESOURCE_NAME}".'),D_e=class{constructor(){this.insight$=
new _.bg;this.resource$=new _.bg;this.summary$=_.qe([this.insight$.pipe(_.Ge(_.hi)),this.resource$.pipe(_.Ge(_.hi))]).pipe(_.U(([a,b])=>pue(a,b)));this.lastImpersonationDate$=this.insight$.pipe(_.Ge(_.hi),_.U(a=>{if(a=e$d(a))return o6(a,10)}));this.lastImpersonationDateHelpText$=this.resource$.pipe(_.Ge(_.hi),_.U(a=>uue(a)));this.kvWidth=4}set insight(a){this.insight$.next(a)}get insight(){return this.insight$.getValue()}set resource(a){this.resource$.next(a)}get resource(){return this.resource$.getValue()}};
D_e.\u0275fac=function(a){return new (a||D_e)};
D_e.\u0275cmp=_.q({type:D_e,selectors:[["iam-lateral-insight-summary"]],inputs:{insight:"insight",resource:"resource"},decls:7,vars:10,consts:function(){return[["type","informational",4,"ngIf"],["cfc-kv-list","",3,"keyWidth"],[4,"ngIf"],["type","informational"]," Origin project \ufffd#3\ufffd The project where the impersonating service account was created \ufffd/#3\ufffd"," Last impersonation date \ufffd*3:1\ufffd\ufffd#1:1\ufffd \ufffd0:1\ufffd \ufffd/#1:1\ufffd\ufffd/*3:1\ufffd"]},template:function(a,
b){a&1&&(_.P(0,hue,4,1,"cfc-message",0),_.Zd(1,"async"),_.E(2,"dl",1),_.P(3,iue,6,1,"div",2),_.Zd(4,"async"),_.P(5,kue,7,4,"div",2),_.Zd(6,"async"),_.F());a&2&&(_.C("ngIf",_.$d(1,4,b.summary$)),_.x(2),_.C("keyWidth",b.kvWidth),_.x(1),_.C("ngIf",_.$d(4,6,b.insight$)),_.x(2),_.C("ngIf",_.$d(6,8,b.lastImpersonationDate$)))},dependencies:[_.ll,_.Gz,_.Bt,_.yo,_.zo,_.pl],encapsulation:2,changeDetection:0});var E_e=class{};E_e.\u0275fac=function(a){return new (a||E_e)};E_e.\u0275mod=_.Bc({type:E_e});
E_e.\u0275inj=_.tc({imports:[_.ql,_.Iz,_.Ct,_.Jo]});
var F_e=new _.ji('Permissions that allow impersonation in project "{RESOURCE_NAME}"'),G_e=new _.ji('Permissions that allow impersonation in folder "{RESOURCE_NAME}"'),H_e=new _.ji('Permissions that allow impersonation in organization "{RESOURCE_NAME}"'),I_e=new _.ji('Permissions that allow impersonation in "{RESOURCE_NAME}"'),J_e=function(a,b){const c=q6(a.data.impactMetric);a.analyticsService.sendEvent({type:"iamRecommendation",name:b,metadata:Object.assign({},c)})},K_e=function(a){if(a.data.associatedRoleRecommendation)return"Recommendation";
const b={RESOURCE_NAME:a.data.resource.getDisplayName()};switch(a.data.resource.getResourceType()){case 0:return F_e.format(b);case 2:return H_e.format(b);case 43:return G_e.format(b);default:return I_e.format(b)}},L_e=class{constructor(a,b,c,d){this.data=a;this.subtaskRef=b;this.roleRecSubtaskService=c;this.analyticsService=d;this.recommendationSubtaskState=void 0;this.shouldCreateRoleOnOrganization=!1;this.sourceAnalyticsMetadata="lateralMovementInsightSubtask";this.createRoleForm=new _.xw({});
this.ve={IamLateralMoveInsightSubtask:134502,IamRecommendationSubtaskCancel:62846};this.data.associatedRoleRecommendation&&(this.recommendationSubtaskState=e_e(this.roleRecSubtaskService,this.data.associatedRoleRecommendation,this.shouldCreateRoleOnOrganization,this.data.impactMetric))}ngOnInit(){let a,b;this.pageLoadData$=null!=(b=null==(a=this.recommendationSubtaskState)?void 0:a.pageLoadData$)?b:_.S(!0);this.recommendationSubtaskState?(g_e(this.roleRecSubtaskService,"lateralInsightSubtaskOpened",
this.recommendationSubtaskState),h_e(this.roleRecSubtaskService,"recommendationForLateralInsightSubtaskDisplayed",this.recommendationSubtaskState)):J_e(this,"lateralInsightSubtaskOpened")}cancel(){this.recommendationSubtaskState?f_e(this.roleRecSubtaskService,"lateralInsightSubtaskCancelled",this.recommendationSubtaskState):J_e(this,"lateralInsightSubtaskCancelled");this.subtaskRef.cancel()}};L_e.\u0275fac=function(a){return new (a||L_e)(_.A(_.zC),_.A(_.yC),_.A(E$),_.A(_.sq))};
L_e.\u0275cmp=_.q({type:L_e,selectors:[["iam-lateral-insight-subtask"]],features:[_.Wd([v$])],decls:26,vars:24,consts:function(){return[[3,"observable","renderOnNext","ve"],["id","lateral-move-insight-action-bar",3,"titleNoCollapse",6,"cfcTitle"],["cfcTitle","Remove impersonation permissions for\n                            \ufffd0\ufffd"],[1,"cfc-action-bar-content-right"],[3,"state","sourceAnalyticsMetadata",4,"ngIf"],[3,"disableBorderBottom","disableVerticalPadding"]," Impersonation permissions allow a service account to laterally move from one project to another. ",
"mat-button;;cfcDocHref;IAM_HELP_RECOMMENDATIONS_IMPERSONATION_PERMISSIONS;color;primary;aria-label;Learn more about the impersonation permissions".split(";")," Learn more ",[1,"cfc-align-right","cfc-text-caption","cfc-space-below-minus-4"]," Refreshed: \ufffd0\ufffd ",[3,"resource","insight"],[3,"resource","insight","headerSemanticLevel"],["id","iam-lateral-insight-subtask-permissions-header",1,"cfc-max-width-full",3,"semanticLevel"]," \ufffd0\ufffd ",[3,"resource","insight","hasAssociatedRoleRecommendation"],
[4,"ngIf","ngIfElse"],["noRecView",""],[4,"ngIf"],["type","button","mat-button","",3,"ve","veClick","click"]," Close ",[3,"state","sourceAnalyticsMetadata"],[3,"state","createRoleForm","shouldCreateRoleOnOrganization"],[3,"insight"],[3,"state","subtaskRef","sourceAnalyticsMetadata","createRoleForm"],[3,"state","subtaskRef","sourceAnalyticsMetadata"]]},template:function(a,b){a&1&&(_.E(0,"cfc-loader",0)(1,"cfc-action-bar",1),_.jW(2,2),_.E(3,"div",3),_.I(4,"iam-feedback-button"),_.P(5,vue,1,2,"iam-role-recommendation-subtask-create-custom-role-button",
4),_.F()(),_.E(6,"cfc-panel-sub-header",5),_.Dd(7),_.K(8,6),_.Ed(),_.E(9,"a",7),_.K(10,8),_.F()(),_.E(11,"cfc-panel-body")(12,"div",9),_.K(13,10),_.F(),_.I(14,"iam-lateral-insight-summary",11)(15,"iam-impersonated-sa-table",12),_.E(16,"cfc-heading",13),_.K(17,14),_.F(),_.I(18,"iam-lateral-insight-info-message",15),_.P(19,wue,2,3,"ng-container",16),_.P(20,xue,2,2,"ng-template",null,17,_.Te),_.F(),_.E(22,"cfc-panel-footer"),_.P(23,yue,3,7,"ng-container",18),_.E(24,"button",19),_.L("click",function(){return b.cancel()}),
_.K(25,20),_.F()()());if(a&2){const c=_.Rd(21);_.C("observable",b.pageLoadData$)("renderOnNext",!0)("ve",b.ve.IamLateralMoveInsightSubtask);_.x(1);_.Kd(b.data.insight.impersonatingServiceAccount.emailAddress);_.Ld(2);_.C("titleNoCollapse",!0);_.x(4);_.C("ngIf",b.recommendationSubtaskState);_.x(1);_.C("disableBorderBottom",!0)("disableVerticalPadding",!0);_.x(7);_.Kd(o6(b.data.insight.lastRefreshTime,10));_.Ld(13);_.x(1);_.C("resource",b.data.resource)("insight",b.data.insight);_.x(1);_.C("resource",
b.data.resource)("insight",b.data.insight)("headerSemanticLevel",2);_.x(1);_.C("semanticLevel",2);_.x(1);_.Kd(K_e(b));_.Ld(17);_.x(1);_.C("resource",b.data.resource)("insight",b.data.insight)("hasAssociatedRoleRecommendation",!!b.data.associatedRoleRecommendation);_.x(1);_.C("ngIf",b.recommendationSubtaskState)("ngIfElse",c);_.x(4);_.C("ngIf",b.recommendationSubtaskState);_.x(1);_.C("ve",b.ve.IamRecommendationSubtaskCancel)("veClick",!0)}},dependencies:[_.YC,_.Uu,_.wt,_.ot,_.rv,_.lt,_.jt,_.ll,_.Xu,
p$,_.SC,x_e,v_e,B_e,z_e,D_e,_.CE,F$,k_e,G$,n_e,_.Co,_.ME,Nze],encapsulation:2,changeDetection:0});var M_e=class{};M_e.\u0275fac=function(a){return new (a||M_e)};M_e.\u0275mod=_.Bc({type:M_e});M_e.\u0275inj=_.tc({imports:[_.XB,_.Vu,_.qt,_.ql,_.Yu,q$,_.UB,y_e,w_e,C_e,A_e,E_e,_.DE,_.gy,H$,_.iC,_.BC]});
var I$=class{};I$.\u0275fac=function(a){return new (a||I$)};I$.\u0275mod=_.Bc({type:I$});I$.\u0275inj=_.tc({imports:[u_e,M_e,H$,_.BC]});
var N_e=function(a,b,c){a.analyticsService.sendEvent({type:"iamRecommendations",name:"openRecommendationClicked",metadata:q6(c,b)});a=a.subtaskService.open(q_e,{width:"NEW_ROLE"===b.properties.recommendationType?1110:850,data:{recommendation:b,impactMetric:c}});return _.He(a.onAccept,a.onCancel).pipe(_.U(d=>void 0===d?"NO_POLICY_CHANGE":d?"RECOMMENDATION_APPLIED_NEW_CUSTOM_ROLE_CREATED":"RECOMMENDATION_APPLIED_NEW_CUSTOM_ROLE_NOT_CREATED"))},O_e=function(a,b,c,d,e){a.analyticsService.sendEvent({type:"iamRecommendations",
name:"openLateralMovementInsightClicked",metadata:q6(e,d)});a=a.subtaskService.open(L_e,{width:1110,data:{associatedRoleRecommendation:d,insight:b,resource:c,impactMetric:e}});return _.He(a.onAccept,a.onCancel).pipe(_.U(f=>void 0===f?"NO_POLICY_CHANGE":f?"RECOMMENDATION_APPLIED_NEW_CUSTOM_ROLE_CREATED":"RECOMMENDATION_APPLIED_NEW_CUSTOM_ROLE_NOT_CREATED"))},P_e=function(a,b,c,d,e){switch(c.kind){case "iamPolicy":return d?a=N_e(a,d,e):(a.analyticsService.sendEvent({type:"iamRecommendations",name:"openPolicyInsightClicked",
metadata:q6(e)}),a=a.subtaskService.open(t_e,{width:1110,data:{impactMetric:e,insight:c}}).onCancel.pipe(_.hf("NO_POLICY_CHANGE"))),a;case "lateralMove":return O_e(a,c,b,d,e);default:_.Wb(c,`Invalid insight: ${c}`)}},Q_e=class{constructor(a,b){this.analyticsService=a;this.subtaskService=b}};Q_e.\u0275fac=function(a){return new (a||Q_e)(_.p(_.sq),_.p(_.AC))};Q_e.\u0275prov=_.m({token:Q_e,factory:Q_e.\u0275fac,providedIn:I$});
var J$=class{};J$.\u0275fac=function(a){return new (a||J$)};J$.\u0275mod=_.Bc({type:J$});J$.\u0275inj=_.tc({imports:[C$]});
var R_e=class{constructor(a,b){this.analyticsService=a;this.roleRecommendationUiService=b}applyRoleRecommendation(a,b,c,d){d={source:d};this.analyticsService.sendEvent({type:"iamRecommendation",name:"applyClicked",metadata:Object.assign({},{type:Sse(b.properties),createCustomRole:"NA",source:d.source},q6(c,b))});return c_e(this.roleRecommendationUiService,a,b,d).pipe(_.af(1))}dismissRoleRecommendation(a,b){const c={source:b,currentView:"existingRole"};return $Ze(this.roleRecommendationUiService,a,
c).pipe(_.zf(d=>null!=d&&d.confirmed?a_e(this.roleRecommendationUiService,a,c):_.S(void 0)),_.af(1))}};R_e.\u0275fac=function(a){return new (a||R_e)(_.p(_.sq),_.p(D$))};R_e.\u0275prov=_.m({token:R_e,factory:R_e.\u0275fac,providedIn:J$});
var S_e=function(a,b){return a.policyChanged$.pipe(_.Ge(c=>c.resource.getResourceId()===b.getResourceId()))},T_e=function(a,b){return a.newRoleCreated$.pipe(_.Ge(c=>c.resource.getResourceId()===b.getResourceId()))},K$=class{constructor(){this.newRoleCreatedSubject$=new _.tf;this.policyChangedSubject$=new _.tf;this.newRoleCreated$=this.newRoleCreatedSubject$;this.policyChanged$=this.policyChangedSubject$}};K$.\u0275fac=function(a){return new (a||K$)};
K$.\u0275prov=_.m({token:K$,factory:K$.\u0275fac,providedIn:"root"});
var L$=class{};L$.\u0275fac=function(a){return new (a||L$)};L$.\u0275mod=_.Bc({type:L$});L$.\u0275inj=_.tc({imports:[I$,J$,_.vF]});
var zue=function(a,b){P_e(a.insightSubtaskService,b.resource,b.insight,b.recommendation,b.impactMetric).pipe(_.af(1),_.Af(a.destroy$)).subscribe(c=>{switch(c){case "RECOMMENDATION_APPLIED_NEW_CUSTOM_ROLE_CREATED":a.events.newRoleCreatedSubject$.next(b);break;case "RECOMMENDATION_APPLIED_NEW_CUSTOM_ROLE_NOT_CREATED":a.events.policyChangedSubject$.next(b)}})},M$=class{constructor(a,b,c,d){this.insightSubtaskService=a;this.memberRecommendationsService=b;this.snackBarService=c;this.events=d;this.newRoleCreatedSubject$=
new _.tf;this.policyChangedSubject$=new _.tf;this.newRoleCreated$=this.newRoleCreatedSubject$;this.policyChanged$=this.policyChangedSubject$;this.destroy$=new _.rf(1)}ngOnDestroy(){this.destroy$.next();this.destroy$.complete()}dismissRoleRecommendation(a){this.memberRecommendationsService.dismissRoleRecommendation(a.recommendation,Tse(a.insight)).pipe(_.af(1),_.Af(this.destroy$)).subscribe()}applyRoleRecommendation(a){this.memberRecommendationsService.applyRoleRecommendation(a.resource,a.recommendation,
a.impactMetric,Tse(a.insight)).pipe(_.af(1),_.Af(this.destroy$)).subscribe(b=>{b.actionCompleted||this.snackBarService.open("Unable to apply the recommendation since it is out of date due to recent changes. The table will be automatically refreshed with the latest recommendations.");this.events.policyChangedSubject$.next(a)})}};M$.\u0275fac=function(a){return new (a||M$)(_.p(Q_e),_.p(R_e),_.p(_.wF),_.p(K$))};M$.\u0275prov=_.m({token:M$,factory:M$.\u0275fac,providedIn:L$});
var U_e=class{constructor(a,b){this.createCustomRolesChecker=a;this.menuService=b;this.params$=new _.bg;this.canCreateCustomRole$=this.params$.pipe(_.Ge(_.hi),_.zf(c=>c.recommendation?EYe(this.createCustomRolesChecker,c.recommendation).pipe(_.U(d=>d.canCreateCustomRoles)):_.S(!1)),_.vf({bufferSize:1,refCount:!0}));this.IamCheckOperator=_.exd;this.permissionsToApplyRecommendations$=this.params$.pipe(_.Ge(_.hi),_.U(c=>["recommender.iamPolicyRecommendations.update",_.Yq.get(c.resource.getResourceType()).set]));
this.templateData$=_.qe([this.canCreateCustomRole$,this.permissionsToApplyRecommendations$]).pipe(_.Gf(this.params$.pipe(_.Ge(_.hi))),_.U(([[c,d],e])=>{const f=e.recommendation&&"OK"===e.recommendation.properties.recommendationType;return{params:e,permissionsToApplyRecommendations:d,showAnalyzedPermissions:!e.recommendation||f,showApplyDismiss:e.recommendation&&!f,disableApplyButton:c}}))}set params(a){this.params$.next(a)}get params(){return this.params$.getValue()}};
U_e.\u0275fac=function(a){return new (a||U_e)(_.A(o$),_.A(M$))};
U_e.\u0275cmp=_.q({type:U_e,selectors:[["iam-grant-recommendation-menu"]],inputs:{params:"params"},decls:2,vars:3,consts:function(){return[[4,"ngIf"],["label","View analyzed permissions",3,"ve","veClick","click",4,"ngIf","ngIfElse"],["displayViewRecommendationDetailsMenu",""],["label","View analyzed permissions",3,"ve","veClick","click"],["label","View recommendation",3,"ve","veClick","click"],["label","Apply recommendation","cfcDisableTooltip","The recommendation needs to be reviewed. Click on 'View\n                                        Recommendation Details' for more information.",
3,"cfcDisable","cfcIamCheck","cfcIamResource","cfcIamOperator","ve","veClick","click"],["label","Dismiss recommendation","cfcDisable","","cfcIamCheck","recommender.iamPolicyRecommendations.update",3,"ve","veClick","cfcIamResource","click"]]},template:function(a,b){a&1&&(_.P(0,Due,6,3,"cfc-menu",0),_.Zd(1,"async"));a&2&&_.C("ngIf",_.$d(1,1,b.templateData$))},dependencies:[_.wt,_.ll,_.xI,_.EH,_.Nx,_.Kx,_.Lx,_.pl],encapsulation:2,changeDetection:0});var V_e=class{};
V_e.\u0275fac=function(a){return new (a||V_e)};V_e.\u0275mod=_.Bc({type:V_e});V_e.\u0275inj=_.tc({imports:[_.Vu,_.ql,_.kz,_.FH,_.Rx,I6,L$]});
var Gue=function(a,b,c,d){return{insight:a,recommendation:b,resource:c,impactMetric:d}},Fue=function(a){return{$implicit:a}},W_e=class{ngOnInit(){}};W_e.\u0275fac=function(a){return new (a||W_e)};
W_e.\u0275cmp=_.q({type:W_e,selectors:[["iam-grant-recommendation-list-menu"]],inputs:{params:"params"},decls:4,vars:2,consts:function(){return[[4,"ngIf"],["recommendationMenu",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"label","cfcMenuTriggerFor","cfcMenuTriggerData",4,"ngFor","ngForOf"],[3,"cfcMenuTriggerFor","cfcMenuTriggerData",6,"label"],["label","Recommendation \ufffd0\ufffd"],[3,"params"]]},template:function(a,b){a&1&&(_.P(0,Hue,2,9,"ng-container",0),_.P(1,Jue,4,1,"ng-container",
0),_.P(2,Kue,1,1,"ng-template",null,1,_.Te));a&2&&(_.C("ngIf",1>=b.params.recommendations.length),_.x(1),_.C("ngIf",1<b.params.recommendations.length))},dependencies:[_.kl,_.ll,_.ol,_.Nx,_.Kx,_.Lx,_.Qx,U_e],encapsulation:2,changeDetection:0});var X_e=class{};X_e.\u0275fac=function(a){return new (a||X_e)};X_e.\u0275mod=_.Bc({type:X_e});X_e.\u0275inj=_.tc({imports:[_.ql,_.Rx,V_e]});
var Nue=function(a,b,c,d){return{insight:a,recommendations:b,resource:c,impactMetric:d}},Y_e=class{constructor(a,b,c){this.associatedRecsService=a;this.asyncTaskTracker=b;this.menuService=c;this.associatedRecommendationNames$=new _.bg;this.activeRoleRecommendationsOrError$=this.associatedRecommendationNames$.pipe(_.Ge(_.hi),_.zf(d=>this.asyncTaskTracker.runOutsideTracker(()=>wYe(this.associatedRecsService,d))),_.vf({refCount:!0,bufferSize:1}));this.activeRoleRecommendations$=this.activeRoleRecommendationsOrError$.pipe(_.U(d=>
{let e;return"Right"===d.tag?null!=(e=d.right)?e:[]:[]}));this.activeRoleRecommendationsErrors$=this.activeRoleRecommendationsOrError$.pipe(_.U(d=>{let e;return"Left"===d.tag?null!=(e=d.left)?e:void 0:void 0}))}set associatedRecommendationNames(a){this.associatedRecommendationNames$.next(a)}get associatedRecommendationNames(){return this.associatedRecommendationNames$.value}ngOnInit(){}};Y_e.\u0275fac=function(a){return new (a||Y_e)(_.A(xYe),_.A(_.zm),_.A(M$))};
Y_e.\u0275cmp=_.q({type:Y_e,selectors:[["iam-grant-insight-split-button"]],inputs:{resource:"resource",insight:"insight",impactMetric:"impactMetric",veWithRecommendation:"veWithRecommendation",veWithoutRecommendation:"veWithoutRecommendation",associatedRecommendationNames:"associatedRecommendationNames"},ngContentSelectors:["*"],decls:4,vars:3,consts:[["class","members-table-column-multi-line-item cfc-align-right cfc-nowrap",4,"ngIf"],["recommendationListMenu",""],[1,"members-table-column-multi-line-item",
"cfc-align-right","cfc-nowrap"],[4,"ngIf"],[1,"cfc-button-small",3,"menuTemplate","menuTemplateData","primary"],["mat-button","","cfcButtonGroupItem","","color","primary","type","button",1,"cfc-font-weight-regular","cfc-text-button",3,"ve","veClick","click"],["icon","rec-bulb-blue","iconset","recommendations_hub",4,"ngIf"],["icon","rec-bulb-blue","iconset","recommendations_hub"],[3,"params"]],template:function(a,b){a&1&&(_.Pd(),_.P(0,Oue,8,14,"div",0),_.Zd(1,"async"),_.P(2,Pue,1,1,"ng-template",null,
1,_.Te));a&2&&_.C("ngIf",_.$d(1,1,b.activeRoleRecommendations$))},dependencies:[_.Uu,_.wt,_.ot,_.lt,_.jt,_.ll,_.xo,yYe,W_e,_.nD,_.pl],styles:[".members-table-column-multi-line-item[_ngcontent-%COMP%], .members-table-column-multi-line-item[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{height:20px!important;line-height:20px!important}"],changeDetection:0});var N$=class{};N$.\u0275fac=function(a){return new (a||N$)};N$.\u0275mod=_.Bc({type:N$});
N$.\u0275inj=_.tc({imports:[_.Vu,_.qt,_.ql,_.Go,zYe,X_e,L$,_.qD]});
var Z_e=class{constructor(){this.IamLateralMoveInsightSubtaskWithRecommendationOpen=132327;this.IamLateralMoveInsightSubtaskWithoutRecommendationOpen=132326}ngOnInit(){}};Z_e.\u0275fac=function(a){return new (a||Z_e)};
Z_e.\u0275cmp=_.q({type:Z_e,selectors:[["iam-grant-lateral-movement-insight-item"]],inputs:{resource:"resource",lateralMovementInsight:"lateralMovementInsight",impactMetric:"impactMetric",policyInsight:"policyInsight",associatedRecommendationNames:"associatedRecommendationNames"},decls:1,vars:1,consts:function(){var a=_.Md("{VAR_PLURAL, plural, =1 {service account impersonation} other {service account impersonations}}",{VAR_PLURAL:"\ufffd3\ufffd"});a=_.Md("[\ufffd#2\ufffd|\ufffd#4\ufffd]\ufffd0\ufffd[\ufffd/#2\ufffd|\ufffd/#4\ufffd][\ufffd#3\ufffd|\ufffd#5\ufffd]/\ufffd1\ufffd excess permissions and [\ufffd/#3\ufffd|\ufffd/#5\ufffd][\ufffd#2\ufffd|\ufffd#4\ufffd] \ufffd2\ufffd [\ufffd/#2\ufffd|\ufffd/#4\ufffd][\ufffd#3\ufffd|\ufffd#5\ufffd] "+
a+" [\ufffd/#3\ufffd|\ufffd/#5\ufffd]");let b;b=_.Md("{VAR_PLURAL, plural, =1 {service account impersonation} other {service account impersonations}}",{VAR_PLURAL:"\ufffd1\ufffd"});return[[3,"resource","insight","impactMetric","associatedRecommendationNames","veWithRecommendation","veWithoutRecommendation",4,"ngVar"],[3,"resource","insight","impactMetric","associatedRecommendationNames","veWithRecommendation","veWithoutRecommendation"],[4,"ngIf"],a,"\ufffd#2\ufffd \ufffd0\ufffd \ufffd/#2\ufffd\ufffd#3\ufffd "+
b+" \ufffd/#3\ufffd"]},template:function(a,b){a&1&&_.P(0,Sue,3,8,"iam-grant-insight-split-button",0);a&2&&_.C("ngVar",b.lateralMovementInsight.targetServiceAccountEmailAddresses.length)},dependencies:[_.ll,H6,Y_e],encapsulation:2,changeDetection:0});var $_e=class{};$_e.\u0275fac=function(a){return new (a||$_e)};$_e.\u0275mod=_.Bc({type:$_e});$_e.\u0275inj=_.tc({imports:[_.ql,I6,N$]});
var a0e=class{constructor(){this.IamPolicyInsightSubtaskOpen=132331;this.IamRecommendationSubtaskOpen=132335}ngOnInit(){}};a0e.\u0275fac=function(a){return new (a||a0e)};
a0e.\u0275cmp=_.q({type:a0e,selectors:[["iam-grant-policy-insight-item"]],inputs:{resource:"resource",policyInsight:"policyInsight",impactMetric:"impactMetric",associatedRecommendationNames:"associatedRecommendationNames"},decls:4,vars:8,consts:function(){return[[3,"resource","insight","impactMetric","associatedRecommendationNames","veWithRecommendation","veWithoutRecommendation"],"\ufffd#2\ufffd\ufffd0\ufffd\ufffd/#2\ufffd\ufffd#3\ufffd/\ufffd1\ufffd excess permissions \ufffd/#3\ufffd"]},template:function(a,
b){a&1&&(_.E(0,"iam-grant-insight-split-button",0),_.Id(1,1),_.I(2,"b")(3,"span"),_.Jd(),_.F());a&2&&(_.C("resource",b.resource)("insight",b.policyInsight)("impactMetric",b.impactMetric)("associatedRecommendationNames",b.associatedRecommendationNames)("veWithRecommendation",b.IamRecommendationSubtaskOpen)("veWithoutRecommendation",b.IamPolicyInsightSubtaskOpen),_.x(3),_.Kd(b.policyInsight.currentTotalPermissionsCount-b.policyInsight.exercisedPermissions.length)(b.policyInsight.currentTotalPermissionsCount),
_.Ld(1))},dependencies:[Y_e],encapsulation:2,changeDetection:0});var b0e=class{};b0e.\u0275fac=function(a){return new (a||b0e)};b0e.\u0275mod=_.Bc({type:b0e});b0e.\u0275inj=_.tc({imports:[_.ql,N$]});
var c0e=class{constructor(){this.insightGroup$=new _.bg;this.destroyed$=new _.rf}set insightGroup(a){this.insightGroup$.next(a)}get insightGroup(){return this.insightGroup$.value}ngOnInit(){}ngOnDestroy(){this.destroyed$.next();this.destroyed$.complete()}};c0e.\u0275fac=function(a){return new (a||c0e)};
c0e.\u0275cmp=_.q({type:c0e,selectors:[["iam-grant-insight-group-item"]],inputs:{resource:"resource",impactMetric:"impactMetric",insightGroup:"insightGroup"},decls:2,vars:3,consts:[[4,"ngVar"],[3,"resource","policyInsight","impactMetric","associatedRecommendationNames",4,"ngIf"],[3,"resource","lateralMovementInsight","policyInsight","impactMetric","associatedRecommendationNames",4,"ngIf"],[3,"resource","policyInsight","impactMetric","associatedRecommendationNames"],[3,"resource","lateralMovementInsight",
"policyInsight","impactMetric","associatedRecommendationNames"]],template:function(a,b){a&1&&(_.P(0,Wue,3,3,"ng-container",0),_.Zd(1,"isInsightActive"));a&2&&_.C("ngVar",_.$d(1,1,b.insightGroup.iamPolicyInsight))},dependencies:[_.ll,Z_e,H6,a0e,pYe],encapsulation:2,changeDetection:0});var O$=class{};O$.\u0275fac=function(a){return new (a||O$)};O$.\u0275mod=_.Bc({type:O$});O$.\u0275inj=_.tc({imports:[_.ql,n$,$_e,I6,b0e]});
var d0e=class{constructor(a){this.crmResourceService=a;this.insightGroup$=new _.bg;this.resource$=this.insightGroup$.pipe(_.Ge(_.hi),_.zf(b=>{b=Fze(b.fullResourceName);return this.crmResourceService.getResource({id:b.getResourceId(),type:b.getResourceType()})}))}set insightGroup(a){this.insightGroup$.next(a)}get insightGroup(){return this.insightGroup$.getValue()}};d0e.\u0275fac=function(a){return new (a||d0e)(_.A(_.Xt))};
d0e.\u0275cmp=_.q({type:d0e,selectors:[["iam-role-insight-group"]],inputs:{insightGroup:"insightGroup",impactMetric:"impactMetric"},decls:2,vars:2,consts:[[4,"ngIf"],["class","members-table-column-multi-line-item",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"resource","insightGroup","impactMetric"],[1,"members-table-column-multi-line-item"]],template:function(a,b){a&1&&(_.P(0,Zue,3,3,"ng-container",0),_.P(1,$ue,2,0,"div",1));a&2&&(_.C("ngIf",b.insightGroup&&0<b.insightGroup.activeInsightMetadata.activeInsightCount),
_.x(1),_.C("ngIf",!b.insightGroup||0==b.insightGroup.activeInsightMetadata.activeInsightCount))},dependencies:[_.kl,_.ll,c0e,_.pl,rYe],styles:[".members-table-column-multi-line-item[_ngcontent-%COMP%], .members-table-column-multi-line-item[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{height:20px!important;line-height:20px!important}"],changeDetection:0});var e0e=class{};e0e.\u0275fac=function(a){return new (a||e0e)};e0e.\u0275mod=_.Bc({type:e0e});
e0e.\u0275inj=_.tc({imports:[_.ql,n$,O$,_.vF]});
var f0e=class{ngOnInit(){}};f0e.\u0275fac=function(a){return new (a||f0e)};
f0e.\u0275cmp=_.q({type:f0e,selectors:[["iam-grant-role-title"]],inputs:{insightGroup:"insightGroup",sourcedRole:"sourcedRole"},decls:7,vars:8,consts:[[1,"cfc-nowrap","members-table-column-multi-line-item"],[1,"iam-role-title"],[4,"ngIf"],[3,"insightGroup"]],template:function(a,b){a&1&&(_.E(0,"div",0)(1,"span",1),_.Q(2),_.Zd(3,"toRoleDisplayTitle"),_.F(),_.P(4,ave,1,0,"iam-owner-pending-invite-button",2),_.P(5,bve,1,0,"non-grantable-role-button",2),_.F(),_.I(6,"iam-insight-group-blank-lines",3));
a&2&&(_.x(1),_.Bd("cfc-color-disabled",b.sourcedRole.invitee||b.sourcedRole.nonGrantable),_.x(1),_.Sd(" ",_.$d(3,6,b.sourcedRole.role)," "),_.x(2),_.C("ngIf",b.sourcedRole.invitee),_.x(1),_.C("ngIf",b.sourcedRole.nonGrantable),_.x(1),_.C("insightGroup",b.insightGroup))},dependencies:[l$,_.ll,_.MJ,_.OJ,qYe],styles:[".members-table-column-multi-line-item[_ngcontent-%COMP%], .members-table-column-multi-line-item[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{height:20px!important;line-height:20px!important}"],
changeDetection:0});var g0e=class{};g0e.\u0275fac=function(a){return new (a||g0e)};g0e.\u0275mod=_.Bc({type:g0e});g0e.\u0275inj=_.tc({imports:[m$,_.qt,_.ql,n$,_.Go,_.NJ,_.PJ,_.Hv]});
var h0e=function(a,b){return _.qe([a.lateralInsightsService.listInsights(b),a.iamPolicyInsightsService.listInsights(b)]).pipe(_.U(([c,d])=>{var e=[];"Right"===c.tag&&e.push(...c.right);"Right"===d.tag&&e.push(...d.right);e=dve(e).map(h=>{var l=cve(h.insights);l={fullResourceName:h.fullResourceName,roleName:h.roleName,member:h.member,insightsByRecommendations:l,activeInsightMetadata:d$d(l.map(n=>n.activeInsightMetadata))};h.condition&&(l.condition=h.condition);return l});let f=!1;const g={partialInsightGroups:e};
"Left"===c.tag&&(f=!0,g.listLateralInsightsError=c.left);"Left"===d.tag&&(f=!0,g.listPolicyInsightsError=d.left);return f?{tag:"Left",left:g}:m5(e)}),_.vf({refCount:!0,bufferSize:1}))},i0e=class{constructor(a,b){this.lateralInsightsService=a;this.iamPolicyInsightsService=b}};i0e.\u0275fac=function(a){return new (a||i0e)(_.p(P6),_.p(YAe))};i0e.\u0275prov=_.m({token:i0e,factory:i0e.\u0275fac,providedIn:"root"});
var j0e=["recommender.iamPolicyInsights.get","recommender.iamPolicyInsights.list"],k0e=["recommender.iamPolicyLateralMovementInsights.get","recommender.iamPolicyLateralMovementInsights.list"],l0e=["recommender.iamPolicyRecommendations.get","recommender.iamPolicyRecommendations.list"],m0e={readPolicyInsightsPermissions:j0e,readLateralMovementInsightsPermissions:k0e,readRecommendationsPermissions:l0e,updateRecommendationPermission:"recommender.iamPolicyRecommendations.update"},n0e=new Map([[2,m0e],
[43,m0e],[0,m0e]]),P$=class{};P$.\u0275fac=function(a){return new (a||P$)};P$.\u0275prov=_.m({token:P$,factory:P$.\u0275fac,providedIn:"root"});
var o0e=[...j0e,...k0e,...l0e],p0e=function(a,b){return a.iamPermissionsService.preFetchPermissions(o0e,[b]).pipe(_.U(()=>o0e.every(c=>a.iamPermissionsService.can(c,b))))},q0e=class{constructor(a){this.iamPermissionsService=a}};q0e.\u0275fac=function(a){return new (a||q0e)(_.p(_.Vs))};q0e.\u0275prov=_.m({token:q0e,factory:q0e.\u0275fac,providedIn:"root"});
var r0e=class{constructor(a){this.insightGroupings=a;this.groupsByResourceRoleAndUser=new Map;this.groupByPolicyBinding=new Map;for(const c of this.insightGroupings){var b=c.condition;a=`${c.fullResourceName}:${c.member}:${c.roleName}`;b=`${a}:${b?_.cZb(b):""}`;this.groupsByResourceRoleAndUser.has(a)?this.groupsByResourceRoleAndUser.get(a).push(c):this.groupsByResourceRoleAndUser.set(a,[c]);this.groupByPolicyBinding.set(b,c)}}};
var s0e=class{constructor(a,b,c){this.asyncTaskTracker=a;this.insightGroupingService=b;this.insightGroupsPermissionsChecker=c}getState(a){const b=new _.rf(1),c=n0e.has(a.getResourceType())?b.pipe(_.zf(()=>p0e(this.insightGroupsPermissionsChecker,a)),_.vf({refCount:!0,bufferSize:1})):_.S(!1),d=c.pipe(_.Ze(),_.zf(f=>f?this.asyncTaskTracker.runOutsideTracker(()=>h0e(this.insightGroupingService,a)):_.S(void 0)),_.vf({refCount:!0,bufferSize:1})),e=d.pipe(_.U(f=>f?"Left"===f.tag:!1),_.vf({refCount:!0,bufferSize:1}));
return{policyInsightGroupMap$:d.pipe(_.U(f=>f&&"Right"===f.tag?new r0e(f.right):void 0),_.vf({refCount:!0,bufferSize:1})),listInsightGroupsError$:e,canViewInsightGroups$:c,policyChanged$:b}}};s0e.\u0275fac=function(a){return new (a||s0e)(_.p(_.zm),_.p(i0e),_.p(q0e),_.p(P$))};s0e.\u0275prov=_.m({token:s0e,factory:s0e.\u0275fac,providedIn:"root"});
var Ave=function(){return["member"]},t0e=[2,3,4,5],Bve=function(a){return a?a.every(b=>b.conditions.every(c=>!c)):!0},w0e=function(a,b,c,d){const e=b.roles,f=b.iamMember,g=a.policyInsightGroupMap$.pipe(_.U(v=>null!=v?v:new r0e([])),_.U(v=>e.map(w=>{var y=v.groupByPolicyBinding;var B=y.get;var G=w.condition;G=`${`${c}:${f}:${w.role.name}`}:${G?_.cZb(G):""}`;y=B.call(y,G);return{sourcedRole:w,insightGroup:y}})),_.U(v=>v.sort((w,y)=>{let B;const G=null!=(B=w.sourcedRole.role.title)?B:w.sourcedRole.role.name;
let O;w=null!=(O=y.sourcedRole.role.title)?O:y.sourcedRole.role.name;return G.localeCompare(w)}))),h=g.pipe(_.U(v=>{v=v.filter(w=>!!w.insightGroup).map(w=>w.insightGroup.activeInsightMetadata);v=d$d(v);return Array.from(v.activeInsightTypes).map(w=>{a:switch(w){case "iamPolicy":w="Excess permissions";break a;case "lateralMove":w="Cross-project impersonation";break a;default:throw Error("Gl`"+w);}return w})})),l=e.map(v=>{const w=v.invitee,y=v.condition||void 0,B=v.role;v=(v=v.inheritedFrom[0])&&v.getResourceId()!==
a.resource.getResourceId()?v:void 0;return{role:B,inheritedFrom:v,condition:y,invitee:w}}),n=l.map(v=>v.inheritedFrom),r=n.every(v=>!!v);d=u0e(b,d)?"google-managed":b.type;return{rowID:b.iamMember,invitee:l.map(v=>v.invitee),iamMember:b.iamMember,displayName:b.displayName,insightTypes:h,description:a.getDescriptionOutsideSLO(b.iamMember,d),type:d,conditions:l.map(v=>v.condition),roles:l.map(v=>v.role),roleTitles:l.map(v=>v.role.title||v.role.name||""),inheritance:n,inheritedResourceNames:v0e(a,n),
allInherited:r,sourcedRolesWithInsightGroups:g}},x0e=function(a,b){if(a.tableFilters){var c=new Map;for(var d of b)for(var e of d.roles)c.set(e.name,e);b=[];for(const g of a.tableFilters){0<b.length&&b.push(new _.rz("","OR",10,!0));if(g.principalType){d=b;e=d.push;var f=_.EUb.get(g.principalType);f=new _.rz("Type",f);e.call(d,f)}g.member&&b.push(new _.rz("",g.member));if(g.roleIds)for(const h of g.roleIds){f=c.get(h)||h;d=b;e=d.push;let l=void 0;const n="string"===typeof f?f:null!=(l=f.title)?l:f.name;
f=new _.rz("Role",n);e.call(d,f)}}a.filterChips=b;a.tableFilters=void 0}},u0e=function(a,b){a=a.serviceAccountInfo;return b&&a?!(!a.isApiServiceAgent||a.projectId!==b.numericProjectId):!1},y0e=function(a,b){b=b.map(c=>c?a.crmResourceService.getResource({id:c.getResourceId(),type:c.getResourceType()}).pipe(_.Ue(()=>_.S(c))):_.S(void 0));return _.qe(b).pipe(_.U(c=>c.map(d=>d?d.getDisplayName()||d.getResourceId()||"":"No inheritance")),_.vf(1))},v0e=function(a,b){return a.asyncTaskTracker.runOutsideTracker(()=>
y0e(a,b))},z0e=class{constructor(a,b,c,d,e,f,g,h,l,n,r,v){this.asyncTaskTracker=a;this.authStateService=b;this.crmResourceService=c;this.memberDescriptionService=d;this.memberInsightGroupsService=e;this.parentResourceService=f;this.policyService=g;this.purviewService=h;this.recommendationMenuServiceEvents=l;this.resourceAttribute$=new _.bg;this.resource$=this.resourceAttribute$.pipe(_.Ge(w=>!!w));this.showGoogleManagedAccountsSubject$=new _.bg(!0);this.selectionMode="multiple";this.fullBleed=!1;this.skipVisibilityChecks=
!0;this.bulkActionRowsChanged=new _.$k;this.listInsightGroupsErrorChanged=new _.$k;this.destroy$=new _.tf;this.ROLE_FILTER_HEADER="Role";this.RECOMMENDATION_FILTER_HEADER="Security insight type";this.PRINCIPAL_TYPE_FILTER_HEADER="Type";this.refreshRoleMembers$=new _.bg;this.newRoleCreated$=this.resource$.pipe(_.zf(w=>T_e(this.recommendationMenuServiceEvents,w)),_.hf());this.roleMembers$=_.qe([this.resource$,this.refreshRoleMembers$]).pipe(_.zf(([w])=>_.v_b(this.policyService,w,this.skipVisibilityChecks)),
_.Af(this.destroy$),_.vf(1));this.serviceAccountType=4;this.resourceLabel$=this.resource$.pipe(_.U(w=>_.TZb(w.getResourceType())));this.fullResourcePath$=this.resource$.pipe(_.zf(w=>HAe(this.parentResourceService,w)),_.vf({bufferSize:1,refCount:!0}));this.policyChanged$=new _.rf(1);this.policyChangedFromMenu$=this.resource$.pipe(_.zf(w=>S_e(this.recommendationMenuServiceEvents,w)),_.hf());this.resourceChanged$=this.resource$.pipe(_.wf(1));this.insightGroupsState$=this.resource$.pipe(_.U(w=>this.memberInsightGroupsService.getState(w)),
_.Ef(w=>{this.policyChanged$.pipe(_.Af(_.He(this.destroy$,this.resourceChanged$))).subscribe(w.policyChanged$)}),_.vf({bufferSize:1,refCount:!0}));this.canViewInsightGroups$=this.insightGroupsState$.pipe(_.Ge(_.hi),_.zf(w=>w.canViewInsightGroups$));this.listInsightGroupsError$=this.insightGroupsState$.pipe(_.Ge(_.hi),_.zf(w=>w.listInsightGroupsError$));this.policyInsightGroupMap$=this.insightGroupsState$.pipe(_.Ge(_.hi),_.zf(w=>w.policyInsightGroupMap$));this.doesResourceSupportRecColumn$=this.resource$.pipe(_.U(w=>
n0e.has(w.getResourceType())));this.showRecsColumn$=this.doesResourceSupportRecColumn$.pipe(_.zf(w=>w?this.canViewInsightGroups$.pipe(_.Ze()):_.S(!1)));this.projectIds$=_.pW(this.purviewService).pipe(_.U(w=>w?[w.getResourceId()]:[]));this.clientColumnsConfig=[{id:"member",accessor:w=>w.displayName},{id:"type",accessor:w=>"google-managed"===w.type?"google-managed":_.EUb.get(w.type)},{id:"name",accessor:w=>w.description},{id:"role",accessor:w=>w.roleTitles},{id:"inheritance",accessor:w=>w.inheritedResourceNames},
{id:"condition",accessor:w=>w.conditions.map(y=>y?y.displayName:"")},{id:"action",accessor:()=>{}},{id:"permissions",accessor:w=>w.insightTypes}];this.typeShorthands=t0e.map(w=>({kind:"shorthand",suggestion:_.EUb.get(w),key:"type",icon:_.DUb.get(w),iconset:2===w?"common":"iam"}));this.DEFAULT_FULL_BLEED_CONFIG=_.Pwb;this.tableFullBleedConfig={mode:"always",keepTopPadding:!0};this.filterChips=[];this.clientTableManager=_.pA(r);v.registerIconset("iam","small",18)}set resource(a){this.resourceAttribute$.next(a)}get resource(){return this.resourceAttribute$.getValue()}set showGoogleManagedAccounts(a){this.showGoogleManagedAccountsSubject$.next(a)}get showGoogleManagedAccounts(){return this.showGoogleManagedAccountsSubject$.value}ngOnInit(){this.roleMembers$.pipe(_.Af(this.destroy$),
_.Ef(()=>{this.policyChanged$.next()})).subscribe();this.listInsightGroupsError$.pipe(_.Af(this.destroy$)).subscribe(b=>{this.listInsightGroupsErrorChanged.emit(b)});const a=_.qe([this.roleMembers$,_.pW(this.purviewService),this.fullResourcePath$]).pipe(_.Af(this.destroy$),_.U(([b,c,d])=>b.map(e=>w0e(this,e,d,c))));_.qe([a,this.showGoogleManagedAccountsSubject$]).pipe(_.U(([b,c])=>c?b:b.filter(d=>"google-managed"!==d.type))).pipe(_.Af(this.destroy$)).subscribe(b=>{this.clientTableManager.rows=b;x0e(this,
b)});this.policyChangedFromMenu$.pipe(_.Af(this.destroy$)).subscribe(this.policyChanged$);this.newRoleCreated$.pipe(_.Af(this.destroy$)).subscribe(this.refreshRoleMembers$)}ngOnChanges(a){a.tableFilters&&this.clientTableManager.rows&&x0e(this,this.clientTableManager.rows)}ngOnDestroy(){this.destroy$.next()}getDescriptionOutsideSLO(a,b){return this.authStateService.isBYOID()&&4!==b?_.S(null):this.asyncTaskTracker.runOutsideTracker(()=>{const c=this.projectIds$.pipe(_.zf(d=>this.memberDescriptionService.getDescription(a,
d)));c.subscribe();return c})}};z0e.\u0275fac=function(a){return new (a||z0e)(_.A(_.zm),_.A(_.Xm),_.A(_.Xt),_.A(k$),_.A(s0e),_.A(N6),_.A(_.KH),_.A(_.$t),_.A(K$),_.A(P$),_.A(_.qA),_.A(_.Eo))};
z0e.\u0275cmp=_.q({type:z0e,selectors:[["cfc-iam-members-table"]],inputs:{resource:"resource",tableFilters:"tableFilters",impactMetric:"impactMetric",tableCaptionId:"tableCaptionId",showGoogleManagedAccounts:"showGoogleManagedAccounts",selectionMode:"selectionMode",fullBleed:"fullBleed",skipVisibilityChecks:"skipVisibilityChecks"},outputs:{bulkActionRowsChanged:"bulkActionRowsChanged",listInsightGroupsErrorChanged:"listInsightGroupsErrorChanged"},features:[_.Gc],decls:6,vars:3,consts:function(){return[["href",
"https://fonts.googleapis.com/icon?family=Material+Icons","rel","stylesheet"],[4,"ngIf"],[3,"primaryColumnId","columnsConfig","sortKeys","rowsPerPage","showFilter","showColumnsChooser","selectionMode","filterChips","showSelectionControls","disableRowClick","externalTableCaptionId","tableManager","fullBleedConfig","pagination","bulkActionRowsChanged",4,"ngIf"],[3,"primaryColumnId","columnsConfig","sortKeys","rowsPerPage","showFilter","showColumnsChooser","selectionMode","filterChips","showSelectionControls",
"disableRowClick","externalTableCaptionId","tableManager","fullBleedConfig","pagination","bulkActionRowsChanged"],["id","type","type","string",3,"header","noPadding","shorthands"],[4,"cfcTableTemplate"],"id member header Principal type string".split(" "),["id","name","header","Name","type","string",4,"ngIf"],["id","role","type","string",3,"header","sortDisabled"],["id","permissions","cellAlignment","right","type","string",3,"header","sortDisabled",4,"ngIf"],"id inheritance header Inheritance type string".split(" "),
["id","condition","header","Conditions","type","string",4,"ngIf"],["id","action","header","","ariaLabel","Actions","sticky","right","type","non_filterable","overflowMechanism","truncate",3,"sortDisabled","nonHideable","noPadding",4,"ngIf"],[3,"type",4,"ngIf"],["class","cfctest-iam-member-type-icon cfc-color-secondary","iconset","iam","size","small","icon","cloud-products","cfcTooltip","Google-managed service account",4,"ngIf"],[3,"type"],["iconset","iam","size","small","icon","cloud-products","cfcTooltip",
"Google-managed service account",1,"cfctest-iam-member-type-icon","cfc-color-secondary"],"id name header Name type string".split(" "),[3,"serviceAccount","projectIds"],[3,"cfc-space-above-minus-3",4,"ngFor","ngForOf"],[3,"insightGroup","sourcedRole"],["id","permissions","cellAlignment","right","type","string",3,"header","sortDisabled"],"\n          Security insights\n        ","\n          Security insights show patterns in how a principal accesses a resource. Using machine\n          learning, Google Cloud analyzes these insights to recommend ways to safely make those\n          principals more secure.\n          \ufffd#7\ufffd\n            \ufffd#8\ufffd\n              Learn more\n            \ufffd/#8\ufffd\n          \ufffd/#7\ufffd\n        ",
[1,"cfc-button-align-left"],"mat-button;;cfcDocHref;IAM_HELP_RECOMMENDATIONS_ROLES;color;primary;aria-label;Learn more about the security insights column".split(";"),["class","cfctest-role-insight-group",3,"cfc-space-above-minus-3",4,"ngFor","ngForOf"],[1,"cfctest-role-insight-group"],[3,"insightGroup","impactMetric"],[3,"insightGroup","sourcedRole","tableResource"],"id condition header Conditions type string".split(" "),["id","action","header","","ariaLabel","Actions","sticky","right","type","non_filterable",
"overflowMechanism","truncate",3,"sortDisabled","nonHideable","noPadding"],[3,"member","inherited","resourceLabel","resource"]]},template:function(a,b){a&1&&(_.Q(0,"\n"),_.I(1,"link",0),_.Q(2,"\n"),_.P(3,Dve,5,3,"ng-container",1),_.Zd(4,"async"),_.Q(5,"\n"));a&2&&(_.x(3),_.C("ngIf",_.$d(4,1,b.roleMembers$)))},dependencies:[_.ot,_.rv,_.jt,_.kl,_.ll,_.Xu,gYe,_.Gz,_.xo,_.vH,sYe,uYe,d0e,f0e,kYe,_.aB,_.PA,_.OA,_.lB,_.Ev,_.Fv,_.pl],styles:[".members-table-column-multi-line-item[_ngcontent-%COMP%], .members-table-column-multi-line-item[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{height:20px!important;line-height:20px!important}"],
changeDetection:0});var A0e=class{};A0e.\u0275fac=function(a){return new (a||A0e)};A0e.\u0275mod=_.Bc({type:A0e});A0e.\u0275inj=_.tc({imports:[_.qt,_.ql,_.Yu,i$,_.Iz,n$,_.Go,O$,_.wH,_.LH,_.au,h$,tYe,vYe,e0e,g0e,j$,_.mB,_.Hz,_.Hv]});
var Qve=function(){return["displayName"]},B0e=function(a,b){return a.crmResourceService.getResource({id:b.getResourceId(),type:b.getResourceType()}).pipe(_.Ue(()=>_.S(b)),_.U(c=>c||b),_.U(c=>c.getDisplayName()||c.getResourceId()))},C0e=function(a,b){return b?a.asyncTaskTracker.runOutsideTracker(()=>B0e(a,b)):_.S("No inheritance")},D0e=class{constructor(a,b,c,d,e,f,g){this.asyncTaskTracker=a;this.authStateService=b;this.cdr=c;this.crmResourceService=d;this.dialogService=e;this.memberDescriptionService=
f;this.purviewService=g;this.serviceAccountType=4;this.bulkActionRowsChanged=new _.$k;this.fullBleed=!1;this.showGoogleManagedAccounts=!0;this.selectionMode="multiple";this.projectIds=[];this.columnsConfig=[{id:"displayName",accessor:h=>h.displayName},{id:"inherited",accessor:h=>h.inheritedFromDisplayName},{id:"name",accessor:h=>h.description},{id:"action",accessor:()=>{}}];this.DEFAULT_FULL_BLEED_CONFIG=_.Pwb;this.tableFullBleedConfig={mode:"always",keepTopPadding:!0};this.showPrincipalNames=!this.authStateService.isBYOID();
this.destroy$=new _.tf;this.changes$=new _.bg;this.treeGenerated$=new _.tf;this.treeGridReady$=new _.tf;this.treeGridReadySent=!1;this.isRoleMemberNode=Sve}ngOnInit(){_.qe([this.treeGenerated$,this.treeGridReady$.pipe(_.af(1))]).pipe(_.Af(this.destroy$)).subscribe(()=>{const a=[];for(const b of this.root.children)a.push(b);this.treeGrid.setDisabledFor(a,!0)});_.qe([_.pW(this.purviewService),this.changes$]).pipe(_.Af(this.destroy$)).subscribe(([a])=>{this.projectIds=a?[a.getResourceId()]:[];this.generateTree(a);
this.cdr.markForCheck();this.treeGenerated$.next()})}ngOnDestroy(){this.destroy$.next();this.destroy$.complete()}ngOnChanges(){this.resourceLabel=_.TZb(this.resource.getResourceType());this.oneOwner=this.hasOneOwner();this.changes$.next()}ngAfterViewChecked(){this.treeGrid&&!this.treeGridReadySent&&(this.treeGridReadySent=!0,this.treeGridReady$.next())}emitBulkActionRowsChanged(a){this.bulkActionRowsChanged.emit(a)}hasOneOwner(){return this.roleData.has("roles/owner")&&0===this.resource.getResourceType()?
2>this.roleData.get("roles/owner").filter(a=>!a.invitee).length:!1}getDescriptionOutsideSLO(a){return this.authStateService.isBYOID()?_.S(null):this.asyncTaskTracker.runOutsideTracker(()=>this.memberDescriptionService.getDescription(a,this.projectIds))}showConditionsDialog(a,b){this.dialogService.open(_.EJ,{data:{roleDisplayName:a,condition:b}})}generateTree(a){const b=[];for(const d of this.roleData.values()){var c=d.filter(e=>this.showGoogleManagedAccounts||!(a&&e.serviceAccountInfo&&e.serviceAccountInfo.isApiServiceAgent&&
e.serviceAccountInfo.projectId===a.numericProjectId));0!==c.length&&(c=c.map(e=>this.getMemberNode(e)),b.push(this.getRoleNode(c[0].role,c)))}this.root=this.getRootNode(b)}getMemberNode(a){const b=_.c_b(a,this.resource.getResourceId());return Object.assign({},{kind:"node",hasMoreChildrenBefore:!1,hasMoreChildrenAfter:!1,description:this.getDescriptionOutsideSLO(a.iamMember),rowID:`node-${a.displayName}-${a.role.name}`,children:new _.uI([]),inheritedFrom:b,inheritedFromDisplayName:C0e(this,b)},a)}getRoleNode(a,
b){const c=b[0].condition,d=c?c.displayName:"",e=a.title||a.name||"";return{kind:"node",hasMoreChildrenBefore:!1,hasMoreChildrenAfter:!1,rowID:`node-${a.name}-${d}`,children:new _.uI(b),displayName:c?`${e} : ${d}`:e,roleTitle:e,condition:c}}getRootNode(a){return{kind:"node",hasMoreChildrenBefore:!1,hasMoreChildrenAfter:!1,rowID:"node-root",children:new _.uI(a)}}};D0e.\u0275fac=function(a){return new (a||D0e)(_.A(_.zm),_.A(_.Xm),_.A(_.el),_.A(_.Xt),_.A(_.vp),_.A(k$),_.A(_.$t))};
D0e.\u0275cmp=_.q({type:D0e,selectors:[["cfc-iam-roles-table"]],viewQuery:function(a,b){a&1&&_.Oe(_.MI,5);if(a&2){let c;_.Ne(c=_.Qe())&&(b.treeGrid=c.first)}},inputs:{canEdit:"canEdit",resource:"resource",roleData:"roleData",tableCaptionId:"tableCaptionId",fullBleed:"fullBleed",showGoogleManagedAccounts:"showGoogleManagedAccounts",selectionMode:"selectionMode",conditionsDisabledTooltip:"conditionsDisabledTooltip"},outputs:{bulkActionRowsChanged:"bulkActionRowsChanged"},features:[_.Gc],decls:1,vars:1,
consts:function(){return[[3,"primaryColumnId","root","columnsConfig","showSelectionControls","selectionMode","sortKeys","disableRowClick","depthIndent","showFilter","tableCaptionId","fullBleedConfig","bulkActionRowsChanged",4,"ngIf"],[3,"primaryColumnId","root","columnsConfig","showSelectionControls","selectionMode","sortKeys","disableRowClick","depthIndent","showFilter","tableCaptionId","fullBleedConfig","bulkActionRowsChanged"],["id","displayName","header","Role / Principal","type","string",3,"nonHideable"],
["cfcTreeGridTemplate","","type","body"],"id name header Name type string".split(" "),["id","inherited","header","Inheritance","type","string",3,"sortDisabled"],["id","action","header","","ariaLabel","Action","type","non_filterable",3,"sortDisabled","noPadding"],["class","cfc-font-weight-medium",4,"ngIf"],[3,"rolePrincipal",4,"ngIf"],[1,"cfc-font-weight-medium"],["class","cfc-font-weight-medium cfctest-iam-conditions-dialog-link",3,"click",4,"ngIf"],[1,"cfc-font-weight-medium","cfctest-iam-conditions-dialog-link",
3,"click"]," condition: \ufffd0\ufffd ",[3,"rolePrincipal"],[4,"ngIf"],[3,"serviceAccount","projectIds"],[3,"resource",4,"ngIf"],[3,"resource"],["class","cfc-nowrap",4,"ngIf"],[1,"cfc-nowrap"],[3,"member","resourceLabel","resource","conditionsDisabledTooltip"],[3,"member","resource","oneOwner"]]},template:function(a,b){a&1&&_.P(0,Rve,9,16,"cfc-tree-grid",0);a&2&&_.C("ngIf",b.root)},dependencies:[_.ll,iYe,_.CJ,_.KJ,_.QJ,kYe,_.MI,_.JI,_.II,_.pl],encapsulation:2,changeDetection:0});var E0e=class{};
E0e.\u0275fac=function(a){return new (a||E0e)};E0e.\u0275mod=_.Bc({type:E0e});E0e.\u0275inj=_.tc({imports:[_.ql,_.FJ,jYe,_.Go,_.DJ,_.Ap,_.wH,_.au,_.LJ,_.RJ,j$,_.Hv,_.OI,_.HJ]});
var F0e=class{constructor(a,b){this.analyticsService=a;this.purviewService=b;this.memberTableSelectedRows=[];this.roleTableSelectedRows=[];this.viewMode="members";this.showGoogleManagedFilterChanged$=new _.bg(!1);this.fullBleed=!1;this.selectionMode="multiple";this.tableFilters=[];this.skipVisibilityChecks=!0;this.viewModeChanged=new _.$k;this.listInsightGroupsErrorChanged=new _.$k;this.ve={IamPageViewModeMembers:62843,IamPageViewModeRoles:62844};this.showGoogleManagedAccounts=new _.Bw(!1);this.shouldShowGoogleManagedFilter$=
_.qe([this.showGoogleManagedFilterChanged$,_.pW(this.purviewService)]).pipe(_.U(([c,d])=>!!d&&c),_.vf({refCount:!0,bufferSize:1}))}set showGoogleManagedAccountFilter(a){this.showGoogleManagedFilterChanged$.next(a)}ngOnInit(){this.viewModeChanged.emit(this.viewMode)}};F0e.\u0275fac=function(a){return new (a||F0e)(_.A(_.sq),_.A(_.$t))};
F0e.\u0275cmp=_.q({type:F0e,selectors:[["iam-table-view"]],inputs:{resource:"resource",roleData:"roleData",tableCaptionId:"tableCaptionId",fullBleed:"fullBleed",selectionMode:"selectionMode",showGoogleManagedAccountFilter:"showGoogleManagedAccountFilter",tableFilters:"tableFilters",impactMetric:"impactMetric",skipVisibilityChecks:"skipVisibilityChecks",conditionsDisabledTooltip:"conditionsDisabledTooltip"},outputs:{viewModeChanged:"viewModeChanged",listInsightGroupsErrorChanged:"listInsightGroupsErrorChanged"},
decls:13,vars:10,consts:function(){return[[1,"cfc-space-below-minus-3","cfc-flex-container","cfc-flex-space-between-content"],["id","view-by-label"]," View By: ",["aria-labelledby","view-by-label",3,"ngModel","ngModelChange"],["value","members",3,"ve","veClick"]," Principals ",["value","roles",3,"ve","veClick"]," Roles ",["class","cfc-inline-form-control",4,"ngIf"],["data-prober","permissions",3,"fullBleed","resource","tableCaptionId","showGoogleManagedAccounts","selectionMode","tableFilters","impactMetric",
"skipVisibilityChecks","bulkActionRowsChanged","listInsightGroupsErrorChanged",4,"ngIf"],[4,"ngIf"],[1,"cfc-inline-form-control"],[1,"cfc-inline-form-control",3,"formControl","change"]," Include Google-provided role grants ",["id","google-managed-account-help-button",1,"cfc-form-control-suffix"]," Google-managed service accounts are used to access the APIs of Google Cloud Platform services. ",[1,"cfc-button-align-left"],"cfcDocHref;IAM_HELP_SERVICE_ACCOUNTS_GOOGLE_MANAGED;mat-button;;target;_blank;color;primary;aria-label;Learn more about Google-managed service accounts".split(";"),
" Learn more ",["data-prober","permissions",3,"fullBleed","resource","tableCaptionId","showGoogleManagedAccounts","selectionMode","tableFilters","impactMetric","skipVisibilityChecks","bulkActionRowsChanged","listInsightGroupsErrorChanged"],[3,"fullBleed","canEdit","resource","roleData","tableCaptionId","showGoogleManagedAccounts","selectionMode","conditionsDisabledTooltip","bulkActionRowsChanged",4,"ngIf"],[3,"fullBleed","canEdit","resource","roleData","tableCaptionId","showGoogleManagedAccounts",
"selectionMode","conditionsDisabledTooltip","bulkActionRowsChanged"]]},template:function(a,b){a&1&&(_.E(0,"div",0)(1,"div")(2,"span",1),_.K(3,2),_.F(),_.E(4,"mat-button-toggle-group",3),_.L("ngModelChange",function(c){return b.viewMode=c})("ngModelChange",function(){b.memberTableSelectedRows=[];b.roleTableSelectedRows=[];b.tableFilters=[];b.viewModeChanged.emit(b.viewMode)}),_.E(5,"mat-button-toggle",4),_.K(6,5),_.F(),_.E(7,"mat-button-toggle",6),_.K(8,7),_.F()()(),_.P(9,Tve,10,1,"div",8),_.Zd(10,
"async"),_.F(),_.P(11,Uve,2,10,"cfc-iam-members-table",9),_.P(12,Wve,2,1,"ng-container",10));a&2&&(_.x(4),_.C("ngModel",b.viewMode),_.x(1),_.C("ve",b.ve.IamPageViewModeMembers)("veClick",!0),_.x(2),_.C("ve",b.ve.IamPageViewModeRoles)("veClick",!0),_.x(2),_.C("ngIf",_.$d(10,8,b.shouldShowGoogleManagedFilter$)),_.x(2),_.C("ngIf","members"===b.viewMode),_.x(1),_.C("ngIf",b.roleData))},dependencies:[_.Uu,_.wt,_.ot,_.rv,_.jt,_.ll,_.Xu,_.cy,_.Cw,_.Gz,_.ny,_.oy,_.Vx,z0e,_.Ew,D0e,_.pl],encapsulation:2});
var G0e=class{};G0e.\u0275fac=function(a){return new (a||G0e)};G0e.\u0275mod=_.Bc({type:G0e});G0e.\u0275inj=_.tc({imports:[_.Vu,_.qt,_.ql,_.Yu,_.fy,_.Iz,_.py,_.Yx,A0e,_.au,_.gy,E0e]});
var H0e=new _.ji("{NUM_MEMBERS, plural,   =1 {Delete {TITLE}} other {Delete these # principals?}}"),I0e=new _.ji('{NUM_ROLES, plural,   =1 {Remove "{TITLE}" role?} other {Remove # roles?}}'),J0e=new _.ji("{NUM_MEMBERS, plural,   =1 {Are you sure you want to remove {TITLE}? They will lose all roles on this resource.} other {Are you sure you want to remove these # principals? They will lose all roles on this resource.}}"),L0e=function(a){const b=a.memberTableSelectedRows[0].displayName,c=new _.EE;a.memberTableSelectedRows.forEach(d=>
{d.roles.forEach((e,f)=>{c.removeMember(e.name||"",d.iamMember,d.conditions[f])})});_.$Yb(a.iamUIservice,[a.internalResource],c).subscribe(d=>{d.shouldContinue&&(d.wasShown?K0e(a,c):a.confirmDialog.confirmation({header:H0e.format({TITLE:b,NUM_MEMBERS:a.memberTableSelectedRows.length}),body:J0e.format({TITLE:b,NUM_MEMBERS:a.memberTableSelectedRows.length}),operation:()=>a.applyBuilder(c)}).subscribe())})},N0e=function(a){const b=new _.EE;a.roleTableSelectedRows.forEach(c=>{b.removeMember(c.role.name||
"",c.iamMember,c.condition)});_.$Yb(a.iamUIservice,[a.internalResource],b).subscribe(c=>{c.shouldContinue&&(c.wasShown?K0e(a,b):M0e(a,b))})},O0e=function(a){return!a.table||"members"===a.table.viewMode&&a.memberTableSelectedRows&&0===a.memberTableSelectedRows.length||"roles"===a.table.viewMode&&a.roleTableSelectedRows&&0===a.roleTableSelectedRows.length},P0e=function(a){return!!a.table&&!!a.roleTableSelectedRows&&"roles"===a.table.viewMode&&0<a.roleTableSelectedRows.length&&a.roleTableSelectedRows.map(b=>
null!==b.inheritedFrom).includes(!0)},Q0e=function(a){return!!a.table&&!!a.memberTableSelectedRows&&"members"===a.table.viewMode&&0<a.memberTableSelectedRows.length&&a.memberTableSelectedRows.map(b=>!b.inheritance||b.inheritance.map(c=>void 0===c).includes(!0)).includes(!1)},K0e=function(a,b){a.snackBar.open("Removing principal",{duration:2E3});a.applyBuilder(b).subscribe(()=>{a.snackBar.open("Principal removed",{duration:2E3})})},M0e=function(a,b){var c=a.roleTableSelectedRows[0].displayName,d=a.roleTableSelectedRows[0].role;
d=d.title||d.name;1===a.roleTableSelectedRows.length?a.dialogService.open(_.IJ,{data:{memberName:c,roleTitle:d}}).afterClosed().subscribe(e=>{if(e){var [f,g]=e;g&&a.roleTableSelectedRows.forEach(h=>{b.removeMemberFromAllRoles(h.iamMember)});f&&K0e(a,b)}}):(c=a.roleTableSelectedRows.map(e=>e.role.name),_.za(c),a.confirmDialog.confirm({header:I0e.format({NUM_ROLES:c.length,TITLE:d}),body:"Are you sure you want to remove the selected roles from the selected principals?",operation:()=>a.applyBuilder(b)}))},
R0e=class{constructor(a,b,c,d,e,f,g){this.confirmDialog=b;this.dialogService=c;this.iamActionService=d;this.iamErrorService=e;this.snackBar=f;this.iamUIservice=g;this.onIamSave=new _.$k;this.ve={IamPageActionBarRemoveMember:62841};a.registerIconset("iam","small",18)}set resource(a){this.internalResource=a;this.updatePermission=_.Yq.get(a.getResourceType()).set}get resource(){return this.internalResource}get roleTableSelectedRows(){return this.table.roleTableSelectedRows}get memberTableSelectedRows(){return this.table.memberTableSelectedRows}get toolTipMessage(){return O0e(this)?
"Must select row":P0e(this)?"Please select only roles that are not inherited":Q0e(this)?"Please select only principals that have a non-inherited role":"dummy tooltip"}shouldDisable(){return O0e(this)||P0e(this)||Q0e(this)}applyBuilder(a){return _.bJ(this.iamActionService,[this.internalResource],a).pipe(_.Ef(()=>{this.onIamSave.emit()}),_.Ue(b=>{this.iamErrorService.showErrorMessage(b);return _.S({})}))}};
R0e.\u0275fac=function(a){return new (a||R0e)(_.A(_.Eo),_.A(_.kC),_.A(_.vp),_.A(_.Us),_.A(_.gJ),_.A(_.wF),_.A(_.hJ))};
R0e.\u0275cmp=_.q({type:R0e,selectors:[["iam-remove-member-action"]],inputs:{table:"table",resource:"resource"},outputs:{onIamSave:"onIamSave"},decls:3,vars:6,consts:function(){return[["mat-button","","color","primary","aria-label","Remove principal",3,"ve","veClick","cfcDisable","cfcIamCheck","cfcIamResource","cfcDisableTooltip","click"],"\ufffd#2\ufffd\ufffd/#2\ufffd Remove\n","icon person-remove size small iconset iam".split(" ")]},template:function(a,b){a&1&&(_.E(0,"button",0),_.L("click",function(){"members"===
b.table.viewMode?L0e(b):N0e(b)}),_.Id(1,1),_.I(2,"ace-icon",2),_.Jd(),_.F());a&2&&_.C("ve",b.ve.IamPageActionBarRemoveMember)("veClick",!0)("cfcDisable",b.shouldDisable())("cfcIamCheck",b.updatePermission)("cfcIamResource",b.resource)("cfcDisableTooltip",b.toolTipMessage)},dependencies:[_.Uu,_.wt,_.ot,_.lt,_.jt,_.iz,_.EH,_.xo],encapsulation:2});var S0e=class{};S0e.\u0275fac=function(a){return new (a||S0e)};S0e.\u0275mod=_.Bc({type:S0e});
S0e.\u0275inj=_.tc({imports:[_.Vu,_.qt,_.kz,_.FH,_.Go,_.Ap,_.JJ,_.vF]});
var U0e=function(a){return a.nativeElement.querySelectorAll(".mat-button-toggle-button").length+(T0e(a)?1:0)},V0e=function(a,b){const c=T0e(a);if(c&&U0e(a)===b+1)return c;b=a.buttonToggles.toArray()[b];return a.nativeElement.querySelector("#"+b.buttonId)},T0e=function(a){return a.nativeElement.querySelector(".cfc-interval-picker-custom-toggle")},Q$=class{onKeyDownButtonToggle(a,b){switch(a.which||a.keyCode){case 40:case 37:a.preventDefault();0!==b&&V0e(this,b-1).focus();break;case 38:case 39:a.preventDefault(),
b+1!==U0e(this)&&V0e(this,b+1).focus()}}};Q$.\u0275fac=function(a){return new (a||Q$)};Q$.\u0275prov=_.m({token:Q$,factory:Q$.\u0275fac});
var W0e=class{constructor(a,b,c){this.fb=a;this.overlay=b;this.defaultErrorStateMatcher=c;this.intervalSelected=new _.$k;this.startPicker=this.fb.control(new _.mE(null),[Q9d()]);this.endPicker=this.fb.control(new _.mE(null),[Q9d()]);this.MSG_DATE_FIELD_HINT="Requires a date in the past";this.MSG_START_AFTER_END_ERROR="End date needs to be after start date";this.errorMatcher={isErrorState:(d,e)=>{var f=d.parent.errors;f=f&&f.startBeforeEnd;return this.defaultErrorStateMatcher.isErrorState(d,e)||!(!f||
!(d.touched||e&&e.submitted))}};this.form=a.group({start:this.startPicker,end:this.endPicker},{validators:()=>{if(this.startPicker.invalid||this.endPicker.invalid)var d=null;else{d=this.getDate(this.startPicker);var e=this.getDate(this.endPicker);d=!d||!e||d.getTime()<e.getTime()?null:{startBeforeEnd:!0}}return d}})}ngOnInit(){this.initialInterval&&this.form.setValue({start:new _.mE(this.initialInterval.start),end:new _.mE(this.initialInterval.end)});this.minStartDateTime&&(this.startPicker.setValidators([this.startPicker.validator,
R9d(this.minStartDateTime)]),this.startPicker.updateValueAndValidity(),this.formattedMinCustomStartDatetime=_.nz(11).format(this.minStartDateTime))}cancel(){this.overlay.close()}submit(){this.form.valid&&(this.intervalSelected.emit({start:this.getDate(this.startPicker),end:this.getDate(this.endPicker)}),this.overlay.close())}getDate(a){return a.value.date}};W0e.\u0275fac=function(a){return new (a||W0e)(_.A(_.CH),_.A(_.Dx),_.A(_.$x))};
W0e.\u0275cmp=_.q({type:W0e,selectors:[["cfc-interval-picker-custom-form"]],inputs:{initialInterval:"initialInterval",minStartDateTime:"minStartDateTime"},outputs:{intervalSelected:"intervalSelected"},decls:28,vars:16,consts:function(){return[["cdkTrapFocus","","cfcGoToFirstError","",3,"formGroup","cdkTrapFocusAutoCapture","ngSubmit"],["formControlName","start",3,"isRequired","disableCalendarDatesBefore"],["startPicker",""],["matSuffix","",3,"picker"]," Start date and time ",[4,"cfcDebounceErrorFor"],
["formControlName","end",3,"isRequired","errorStateMatcher"],["endPicker",""]," End date and time ",[4,"cfcDebounceErrorIf"],[1,"cfc-align-right","cfc-interval-picker-custom-form-buttons"],["mat-button","","type","button",1,"cfc-interval-picker-custom-form-cancel",3,"click"]," Cancel ",["mat-button","","color","primary","type","submit",1,"cfc-interval-picker-custom-form-submit"]," Apply "," Date needs to be after \ufffd0\ufffd "]},template:function(a,b){a&1&&(_.E(0,"form",0),_.L("ngSubmit",function(){return b.submit()}),
_.E(1,"mat-form-field"),_.I(2,"cfc-date-time-picker-v2",1,2)(4,"cfc-date-picker-suffix",3),_.E(5,"mat-label"),_.K(6,4),_.F(),_.E(7,"mat-hint"),_.Q(8),_.F(),_.P(9,Xve,2,1,"mat-error",5),_.P(10,Yve,2,1,"mat-error",5),_.P(11,Zve,2,1,"mat-error",5),_.F(),_.E(12,"mat-form-field"),_.I(13,"cfc-date-time-picker-v2",6,7)(15,"cfc-date-picker-suffix",3),_.E(16,"mat-label"),_.K(17,8),_.F(),_.E(18,"mat-hint"),_.Q(19),_.F(),_.P(20,$ve,2,1,"mat-error",5),_.P(21,awe,2,1,"mat-error",5),_.P(22,bwe,2,1,"mat-error",
9),_.F(),_.E(23,"div",10)(24,"button",11),_.L("click",function(){return b.cancel()}),_.K(25,12),_.F(),_.E(26,"button",13),_.K(27,14),_.F()()());if(a&2){const c=_.Rd(3),d=_.Rd(14);_.C("formGroup",b.form)("cdkTrapFocusAutoCapture",!0);_.x(2);_.C("isRequired",!0)("disableCalendarDatesBefore",b.minStartDateTime);_.x(2);_.C("picker",c);_.x(4);_.Ud(b.MSG_DATE_FIELD_HINT);_.x(1);_.C("cfcDebounceErrorFor","datePickerError");_.x(1);_.C("cfcDebounceErrorFor","pastDate");_.x(1);_.C("cfcDebounceErrorFor","validDateRange");
_.x(2);_.C("isRequired",!0)("errorStateMatcher",b.errorMatcher);_.x(2);_.C("picker",d);_.x(4);_.Ud(b.MSG_DATE_FIELD_HINT);_.x(1);_.C("cfcDebounceErrorFor","datePickerError");_.x(1);_.C("cfcDebounceErrorFor","pastDate");_.x(1);_.C("cfcDebounceErrorIf",null==b.form.errors?null:b.form.errors.startBeforeEnd)}},dependencies:[_.mx,_.Uu,_.vE,_.sE,_.NB,_.a1,_.ot,_.lt,_.jt,_.CB,_.Cy,_.BE,_.By,_.qF,_.EB,_.cy,_.DB,_.Fw,_.Iw],styles:["[_nghost-%COMP%]   form[_ngcontent-%COMP%]{padding:16px 16px 8px;width:320px}[_nghost-%COMP%]   .cfc-interval-picker-custom-form-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-right:0}"]});
var X0e=class{constructor(){this.msgRegistry=new Map;this.registerMessages()}getMessage(a,b,c=0){b=this.msgRegistry.get(b+(1===c?"_short":""));return(new _.ji(b)).format({QUANTITY:a})}registerMessages(){this.msgRegistry.set("millisecond","{QUANTITY, plural, =1 {1 millisecond}other {# milliseconds}}");this.msgRegistry.set("second","{QUANTITY, plural, =1 {1 second}other {# seconds}}");this.msgRegistry.set("minute","{QUANTITY, plural, =1 {1 minute}other {# minutes}}");this.msgRegistry.set("hour","{QUANTITY, plural, =1 {1 hour}other {# hours}}");
this.msgRegistry.set("day","{QUANTITY, plural, =1 {1 day}other {# days}}");this.msgRegistry.set("week","{QUANTITY, plural, =1 {1 week}other {# weeks}}");this.msgRegistry.set("month","{QUANTITY, plural, =1 {1 month}other {# months}}");this.msgRegistry.set("year","{QUANTITY, plural, =1 {1 year}other {# years}}");this.msgRegistry.set("millisecond_short","{QUANTITY}ms");this.msgRegistry.set("second_short","{QUANTITY}s");this.msgRegistry.set("minute_short","{QUANTITY}min");this.msgRegistry.set("hour_short",
"{QUANTITY}h");this.msgRegistry.set("day_short","{QUANTITY}d");this.msgRegistry.set("week_short","{QUANTITY}wk");this.msgRegistry.set("month_short","{QUANTITY}mo");this.msgRegistry.set("year_short","{QUANTITY}yr")}};X0e.\u0275fac=function(a){return new (a||X0e)};X0e.\u0275prov=_.m({token:X0e,factory:X0e.\u0275fac,providedIn:"root"});
var Y0e=[{quantity:1,timeUnit:"hour",isoDuration:"PT1H",hideInCompactLayout:!1},{quantity:6,timeUnit:"hour",isoDuration:"PT6H",hideInCompactLayout:!1},{quantity:12,timeUnit:"hour",isoDuration:"PT12H",hideInCompactLayout:!0},{quantity:1,timeUnit:"day",isoDuration:"P1D",hideInCompactLayout:!1},{quantity:2,timeUnit:"day",isoDuration:"P2D",hideInCompactLayout:!0},{quantity:4,timeUnit:"day",isoDuration:"P4D",hideInCompactLayout:!0},{quantity:7,timeUnit:"day",isoDuration:"P7D",hideInCompactLayout:!1},{quantity:14,
timeUnit:"day",isoDuration:"P14D",hideInCompactLayout:!0},{quantity:30,timeUnit:"day",isoDuration:"P30D",hideInCompactLayout:!1}];
new _.Zc("INTERVAL_PICKER_COLLAPSE_TO_MENU");
var Z0e=function(a){for(const b of a.modelInternal)b.mode=0;a.layout=0},R$=class{constructor(){this.layout=0;this.widthRegistry=new Map}set model(a){this.modelInternal=a;this.resetState()}getAvailableWidth(){return this.nativeElement.getBoundingClientRect().width}resize(){const a=this.getAvailableWidth(),b=this.getContentWidth();this.widthRegistry.get(this.layout)||this.widthRegistry.set(this.layout,b);return b<a?this.expand(a):b>a?this.shorten():{layoutChanged:!1,retryResize:!1}}expand(a){1===this.layout?
this.widthRegistry.get(0)<=a?(Z0e(this),a={layoutChanged:!0,retryResize:!1}):a={layoutChanged:!1,retryResize:!1}:a={layoutChanged:!1,retryResize:!1};return a}shorten(){return 0===this.layout?(this.layout=1,{layoutChanged:!0,retryResize:!1}):{layoutChanged:!1,retryResize:!1}}resetState(){this.widthRegistry.clear();Z0e(this)}getContentWidth(){return _.DC(this.nativeElement.querySelector(".cfc-interval-picker"))}};R$.\u0275fac=function(a){return new (a||R$)};R$.\u0275prov=_.m({token:R$,factory:R$.\u0275fac});
var $0e=["buttonToggleGroup"],a1e=["customOverlayTrigger"],b1e=["overlay"],c1e=Number.MAX_SAFE_INTEGER,fwe=function(a){if(a.customIntervalValue){var b=a.customIntervalValue.start;a=a.customIntervalValue.end;const e=_.nz(11);var c=_.nz(3);const f=_.nz(7);var d=c.format(b);const g=c.format(a);c=c.format(new Date);b=(d=d===c&&g===c)?f.format(b):e.format(b);a=d?f.format(a):e.format(a);return`${b} - ${a}`}return"Custom"},jwe=function(a){const b=(a.isMenu?a.fullModel:a.isMenu?[]:a.fullModel).find(c=>c.isoDuration===
a.groupValue);if(b)return a.getLabel(b)},lwe=function(a,b){a.customIntervalValue=b;a.groupValue=void 0;a.initialSelectedIndex=c1e;b=Object.assign({},b,{isCustomInterval:!0});a.valueChange.emit(b);d1e(a)},e1e=function(a,b){return b.map(c=>({abbreviatedLabel:a.msgService.getMessage(c.quantity,c.timeUnit,1),fullLabel:a.msgService.getMessage(c.quantity,c.timeUnit),hideInCompactLayout:c.hideInCompactLayout,isoDuration:c.isoDuration,mode:0,timeUnit:c.timeUnit,quantity:c.quantity}))},f1e=function(a){"responsive"===
a.layoutMode&&a.resize()},d1e=function(a){a.resizeService.resetState();setTimeout(()=>{f1e(a)})},mwe=function(a,b=a.initialSelectedIndex){return a.showCustomIntervalOption&&b===c1e&&!!a.customIntervalValue},nwe=function(a){const b=_.MKc(a),c=new _.FV,d=c.clone();d.add(b.times(-1));return{start:new Date(d.getTime()),end:new Date(c.getTime()),isoDuration:a,isCustomInterval:!1}},g1e=class{constructor(a,b,c,d,e,f){this.elementRef=a;this.a11yService=b;this.changeDetectorRef=c;this.resizeService=d;this.msgService=
e;this.resizeMonitor=f;this.groupAriaLabel="Interval picker";this.rightAligned=!1;this.initialSelectedIndex=0;this.showCustomIntervalOption=!1;this.layoutMode="responsive";this.valueChange=new _.$k;this.ve={CfcIntervalPicker:54816};this.overlayPositions=[{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top",offsetX:0,offsetY:0}];this.onDestroy=new _.tf;this.a11yService.nativeElement=a.nativeElement;this.resizeService.nativeElement=a.nativeElement}set model(a){const b=!this.fullModel;this.fullModel=
e1e(this,a);this.resizeService.model=this.fullModel;b||setTimeout(()=>{f1e(this)})}set groupValue(a){a!==this.groupValueInternal&&(this.groupValueInternal=a);this.changeDetectorRef.markForCheck();a&&(this.customIntervalValue&&(this.customIntervalValue=void 0,d1e(this)),a=nwe(a),this.valueChange.emit(a))}get groupValue(){return this.groupValueInternal}get isMenu(){return"menu"===this.layoutMode||1===this.resizeService.layout}get overlayTrigger(){return this.overlayTriggerInternal||new _.ad({})}ngOnInit(){this.fullModel||
(this.model=Y0e);this.groupValue||this.updateSelection(mwe(this))}ngOnDestroy(){this.onDestroy.next()}ngAfterViewInit(){this.a11yService.buttonToggles=this.buttonToggles;this.resizeMonitor.monitor(this.elementRef.nativeElement,"width").pipe(_.Af(this.onDestroy)).subscribe(()=>{f1e(this)});this.buttonToggleGroupElement.nativeElement.removeAttribute("aria-disabled")}ngOnChanges(a){this.fullModel||(this.model=Y0e);const b=a.initialSelectedIndex,c=a.customIntervalValue;a=a.model;if(b||a||c)c&&c.currentValue&&
mwe(this)&&lwe(this,c.currentValue),a?this.updateSelection(mwe(this,b?b.previousValue:this.initialSelectedIndex)):this.updateSelection(mwe(this))}getLabel(a){return 0===a.mode?a.fullLabel:a.abbreviatedLabel}onKeyDownButtonToggle(a,b){this.a11yService.onKeyDownButtonToggle(a,b)}resize(){const a=this.resizeService.resize();a.layoutChanged&&this.changeDetectorRef.markForCheck();return a}updateSelection(a){this.fullModel&&(a?(this.initialSelectedIndex=c1e,this.groupValue=void 0):(a=0,this.fullModel.length>
this.initialSelectedIndex&&0<=this.initialSelectedIndex&&(a=this.initialSelectedIndex),this.initialSelectedIndex=a,this.groupValue=this.fullModel[a].isoDuration))}};g1e.\u0275fac=function(a){return new (a||g1e)(_.A(_.ad),_.A(Q$),_.A(_.el),_.A(R$),_.A(X0e),_.A(_.Zz))};
g1e.\u0275cmp=_.q({type:g1e,selectors:[["cfc-interval-picker"]],viewQuery:function(a,b){a&1&&(_.Oe($0e,7),_.Oe($0e,7,_.ad),_.Oe(a1e,5,_.ad),_.Oe(b1e,5),_.Oe(_.oy,5));if(a&2){let c;_.Ne(c=_.Qe())&&(b.buttonToggleGroup=c.first);_.Ne(c=_.Qe())&&(b.buttonToggleGroupElement=c.first);_.Ne(c=_.Qe())&&(b.overlayTriggerInternal=c.first);_.Ne(c=_.Qe())&&(b.overlay=c.first);_.Ne(c=_.Qe())&&(b.buttonToggles=c)}},hostAttrs:[1,"cfc-interval-picker-flex-grow"],hostVars:2,hostBindings:function(a,b){a&2&&_.Bd("cfc-interval-picker-right-aligned",
b.rightAligned)},inputs:{groupAriaLabel:"groupAriaLabel",rightAligned:"rightAligned",model:"model",initialSelectedIndex:"initialSelectedIndex",showCustomIntervalOption:"showCustomIntervalOption",customIntervalValue:"customIntervalValue",minCustomIntervalDateTime:"minCustomIntervalDateTime",layoutMode:"layoutMode"},outputs:{valueChange:"valueChange"},features:[_.Wd([Q$,R$]),_.Gc],decls:7,vars:7,consts:function(){return[[1,"cfc-interval-picker",3,"ve"],[3,"value","change"],["buttonToggleGroup","matButtonToggleGroup"],
[3,"value","aria-label","keydown",4,"ngFor","ngForOf"],[4,"ngIf"],["ariaLabel","Custom time range",3,"trigger","positions","isModal",4,"ngIf"],[3,"value","aria-label","keydown"],["buttonToggle","matButtonToggle"],["icon","done","size","small",4,"ngIf"],["icon","done","size","small"],["mat-button","","cdk-overlay-origin","","aria-haspopup","dialog","type","button",1,"cfc-interval-picker-custom-toggle","cfc-button-small","cfc-text-button",3,"click","keydown"],["customOverlayTrigger","cdkOverlayOrigin"],
["icon","arrow-drop-down","size","medium"],["mat-button","","cfcMenuButton","","type","button",1,"cfc-interval-picker-menu-button","cfc-button-small","cfc-text-button",3,"cfcMenuTriggerFor"]," \ufffd0\ufffd ",["intervalMenu",""],[3,"label","click",4,"ngFor","ngForOf"],["hasSeparator","true",4,"ngIf"],[3,"label","click"],["hasSeparator","true"],["label","Custom",3,"click"],["customOverlayTrigger",""],["ariaLabel","Custom time range",3,"trigger","positions","isModal"],["overlay",""],["aceOverlayTemplate",
""],[3,"initialInterval","minStartDateTime","intervalSelected"]]},template:function(a,b){a&1&&(_.E(0,"div",0)(1,"mat-button-toggle-group",1,2),_.L("change",function(c){b.groupValue=c.value}),_.P(3,dwe,4,4,"mat-button-toggle",3),_.P(4,gwe,6,5,"ng-container",4),_.P(5,kwe,8,4,"ng-container",4),_.F()(),_.P(6,pwe,3,3,"ace-overlay",5));a&2&&(_.C("ve",b.ve.CfcIntervalPicker),_.x(1),_.C("value",b.groupValue),_.zd("aria-label",b.groupAriaLabel),_.x(2),_.C("ngForOf",b.isMenu?[]:b.fullModel),_.x(1),_.C("ngIf",
b.showCustomIntervalOption&&!b.isMenu),_.x(1),_.C("ngIf",b.isMenu),_.x(1),_.C("ngIf",b.showCustomIntervalOption&&b.overlayTrigger))},dependencies:[_.Dx,_.Cx,_.xx,_.Uu,_.wt,_.kl,_.ll,_.xo,_.ot,_.lt,_.jt,_.ny,_.oy,_.PI,_.Nx,_.Kx,_.Lx,_.Qx,W0e],styles:["[_nghost-%COMP%]{white-space:nowrap}.cfc-interval-picker-flex-grow[_nghost-%COMP%]{display:flex;flex-grow:1;overflow:hidden}.cfc-interval-picker-right-aligned[_nghost-%COMP%]{justify-content:flex-end}[_nghost-%COMP%]     .mat-button-toggle{--cm-button-line-height:24px;--cm-icon-button-height:24px;--cm-icon-button-width:24px;--cm-icon-button-line-height:24px}[_nghost-%COMP%]     .mat-button-toggle.mat-button-toggle-label-content, [_nghost-%COMP%]     .mat-button-toggle .mat-button-toggle-label-content, [_nghost-%COMP%]     .mat-button-toggle[mat-button], [_nghost-%COMP%]     .mat-button-toggle [mat-button], [_nghost-%COMP%]     .mat-button-toggle[mat-raised-button], [_nghost-%COMP%]     .mat-button-toggle [mat-raised-button], [_nghost-%COMP%]     .mat-button-toggle[mat-stroked-button], [_nghost-%COMP%]     .mat-button-toggle [mat-stroked-button]{line-height:24px;padding:0 8px}[_nghost-%COMP%]     .mat-button-toggle[mat-icon-button], [_nghost-%COMP%]     .mat-button-toggle [mat-icon-button]{--cm-focus-indicator-offset:2px;padding:0}[_nghost-%COMP%]     .mat-button-toggle[mat-icon-button]:where(:not(.cm-button)), [_nghost-%COMP%]     .mat-button-toggle [mat-icon-button]:where(:not(.cm-button)){height:24px;line-height:24px;width:24px}[_nghost-%COMP%]     .mat-button-toggle.cfc-split-button-menu-button, [_nghost-%COMP%]     .mat-button-toggle .cfc-split-button-menu-button, [_nghost-%COMP%]     .mat-button-toggle.cfc-split-button-menu-button.cm-button, [_nghost-%COMP%]     .mat-button-toggle .cfc-split-button-menu-button.cm-button{padding:0}body.cfc-focus-indicators-enabled   [_nghost-%COMP%]     .mat-button-toggle.mat-icon-button:before, body.cfc-focus-indicators-enabled   [_nghost-%COMP%]     .mat-button-toggle .mat-icon-button:before{margin:-2px}[_nghost-%COMP%]     .mat-button-toggle .mat-button-toggle-label-content{color:#000;text-transform:lowercase}[_nghost-%COMP%]     .mat-button-toggle:hover .mat-button-toggle-focus-overlay{background-color:rgba(0,0,0,.08)}[_nghost-%COMP%]     .mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay, [_nghost-%COMP%]     .mat-button-toggle .mat-button-toggle-ripple .mat-ripple-element{background-color:rgba(0,0,0,.1)}[_nghost-%COMP%]     .mat-button-toggle.mat-button-toggle-checked{background-color:rgba(0,0,0,.1)}.cfc-interval-picker-custom-toggle[_ngcontent-%COMP%], .cfc-interval-picker-menu-button[_ngcontent-%COMP%]{border-radius:0}.cfc-interval-picker-custom-toggle-checked[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.1)}"],
changeDetection:0});
var h1e=[_.Cn,_.rx,_.Vu,_.ql,_.wE,_.xE,_.OB,_.b1,_.Go,_.qt,_.py,_.by,_.QI,_.Rx,_.fo,_.gy],i1e=class{};i1e.\u0275fac=function(a){return new (a||i1e)};i1e.\u0275mod=_.Bc({type:i1e});i1e.\u0275inj=_.tc({imports:[_.nB,h1e]});
var j1e=class{constructor(a,b,c){this.intervalPicker=a;this.stateSyncUrl=b;this.cdr=c;this.cfcIntervalPickerUrlStateSyncKeepOnDestroy=!1;this.destroy=new _.tf}ngOnInit(){this.stateSyncUrl.capture({config:{key:this.cfcIntervalPickerUrlStateSync,keepOnDestroy:this.cfcIntervalPickerUrlStateSyncKeepOnDestroy},triggers:[this.intervalPicker.valueChange],takeSnapshotCB:()=>{const a=this.intervalPicker.customIntervalValue;return{groupValue:this.intervalPicker.groupValue||"",customValue:a?[a.start.toISOString(),
a.end.toISOString()]:null}},restoreSnapshotCB:a=>{a.customValue&&this.intervalPicker.showCustomIntervalOption?(lwe(this.intervalPicker,{start:new Date(a.customValue[0]),end:new Date(a.customValue[1])}),this.cdr.markForCheck()):this.intervalPicker.groupValue=a.groupValue}}).pipe(_.Af(this.destroy)).subscribe()}ngOnDestroy(){this.destroy.next()}};j1e.\u0275fac=function(a){return new (a||j1e)(_.A(g1e,1),_.A(_.RV),_.A(_.el))};
j1e.\u0275dir=_.q({type:j1e,selectors:[["","cfcIntervalPickerUrlStateSync",""]],inputs:{cfcIntervalPickerUrlStateSync:"cfcIntervalPickerUrlStateSync",cfcIntervalPickerUrlStateSyncKeepOnDestroy:"cfcIntervalPickerUrlStateSyncKeepOnDestroy"}});
var k1e=class{};k1e.\u0275fac=function(a){return new (a||k1e)};k1e.\u0275mod=_.Bc({type:k1e});k1e.\u0275inj=_.tc({});
var l1e=class{};l1e.\u0275fac=function(a){return new (a||l1e)};l1e.\u0275mod=_.Bc({type:l1e});l1e.\u0275inj=_.tc({providers:[_.$S],imports:[_.Vu,_.ql,_.Go,_.qt,_.Hv]});
var m1e=class{constructor(a){this.projectParamService=a}};m1e.\u0275fac=function(a){return new (a||m1e)(_.p(_.Zm))};m1e.\u0275prov=_.m({token:m1e,factory:m1e.\u0275fac,providedIn:"root"});
var o1e=function(a,b,c,d){b={title:"gcloud command line",description:"This is the gcloud command line with the parameters you have selected.",descriptionMessage:a.getDescriptionMessage&&a.getDescriptionMessage(),content:c,contentPromise:a.getGcloudPromise&&a.getGcloudPromise(),secondaryDescription:"",secondaryContent:"",showSecondaryContent:!1,showShortVersionContent:!1,lineWrap:!0,showDevShellButton:b,docLink:{label:"gcloud reference",href:a.showGcloud?"//developers.google.com/cloud/sdk/gcloud/reference/compute/":
"//developers.google.com/compute/docs/gcloud-compute/",trackAs:a.showGcloud?"compute-gcloud-compute-docs":"compute-gcloud-docs"}};Object.assign(b,d);b.showDevShellButton=b.showDevShellButton&&("string"===typeof c||Array.isArray(c)||!!b.contentPromise);b.docLink.label=b.docLink.label||"gcloud reference";b.content=n1e(a,b.content);b.secondaryContent=n1e(a,b.secondaryContent);return b},n1e=function(a,b){return(b?"string"===typeof b?[b]:Array.isArray(b)?_.lBc(b.map(c=>n1e(a,c))):[JSON.stringify(b,null,
"  ")]:[]).map(c=>c.replace(/\s+$/,""))},p1e=class{constructor(a,b,c,d,e,f,g){this.devShellService=a;this.panAnalyticsService=b;this.dialog=c;this.location=d;this.eventTrackerService=f;this.el=g;this.showRest=!0;this.isRestRequest=this.showGcloud=!1;this.getRestContent=()=>"";this.getGcloudContent=()=>"";this.addMargins=!1;this.onInit=new _.$k;this.menuModel=new _.GC({sections:[new _.HC({items:[new _.IC({label:"Equivalent REST",action:()=>{this.eventTrackerService.getEventTracker().logSyntheticEvent("click",
new _.qvc(136435),this.el.nativeElement);this.restDialogFunction()}})]})]});this.restButton={label:"Equivalent REST",ve:66079,dialogFunction:()=>this.restDialogFunction()};this.gCloudButton={label:"Equivalent command line",ve:66064,dialogFunction:()=>this.gCloudDialogFunction()};this.defaultShowGcloudDialog=(h={})=>{if(this.isFormValid&&!this.isFormValid())return Promise.resolve().then();this.sendAnalyticsEvent("gcloudDialog");const l=this.getGcloudContent&&this.getGcloudContent()||this.gcloudContent,
n=h.content||l;return!1===h.showDevShellButton?this.showModal(o1e(this,!1,n,h)):Promise.resolve().then(()=>this.devShellService.devShellInitialized.promise.then(()=>this.showModal(o1e(this,!0,n,h))))};this.defaultShowRestDialog=(h={})=>{if(this.isFormValid&&!this.isFormValid())return Promise.resolve().then();this.sendAnalyticsEvent("restDialog");const l={title:this.isRestRequest?"Equivalent REST request":"Equivalent REST response",description:this.isRestRequest?"This is the REST request with the parameters you have selected.":
"This is the original REST response from the Google Compute Engine service.",content:uwe(this.getRestContent&&this.getRestContent()||this.restContent),descriptionMessage:this.getDescriptionMessage&&this.getDescriptionMessage(),contentPromise:this.getRestPromise&&this.getRestPromise(),secondaryDescription:"",secondaryContent:"",showSecondaryContent:!1,showShortVersionContent:!1,lineWrap:!1,docLink:{href:"//developers.google.com/compute/docs/reference/latest",trackAs:"compute-api-docs"}};Object.assign(l,
h);l.showDevShellButton=!1;l.docLink.label=l.docLink.label||"REST API reference";l.content=n1e(this,l.content);return this.showModal(l)}}get showRestWithDefault(){return!1!==this.showRest}get mainButton(){return this.showGcloud?this.gCloudButton:this.restButton}get restDialogFunction(){return this.showRestDialog||this.defaultShowRestDialog}get gCloudDialogFunction(){return this.showGcloudDialog||this.defaultShowGcloudDialog}get showMenu(){return this.showRestWithDefault&&this.showGcloud}get buttonColor(){let a;
return(null!=(a=this.overrideIsPrimary)?a:!this.showMenu)?"primary":""}ngOnInit(){this.onInit.emit(this)}getCurrentPage(){const a=(new _.yg(this.location.path())).getPath().substring(1).split("/");var b=Object.assign({},_.Rsa);const c={};for(const d in b)c[b[d]]=d;return c[a[0]]+"_"+a[1]}sendAnalyticsEvent(a){this.panAnalyticsService.sendEvent({type:a,name:this.getCurrentPage()})}showModal(a){a.contentPromise&&a.contentPromise.then(c=>{a.content=c;a.contentPromise=void 0});const b=cAe(a,this.sendAnalyticsEvent.bind(this));
return _.ke(this.dialog.open(b.info,b.config).pipe(_.se(c=>c.afterClosed())))}};p1e.\u0275fac=function(a){return new (a||p1e)(_.A(_.NR),_.A(_.sq),_.A(_.es),_.A(_.wl),_.A(m1e),_.A(_.nQ),_.A(_.ad))};
p1e.\u0275cmp=_.q({type:p1e,selectors:[["gce-rest-gcloud"]],inputs:{isFormValid:"isFormValid",showRest:"showRest",showGcloud:"showGcloud",isRestRequest:"isRestRequest",getRestContent:"getRestContent",getRestPromise:"getRestPromise",restContent:"restContent",getGcloudContent:"getGcloudContent",getGcloudPromise:"getGcloudPromise",gcloudContent:"gcloudContent",showRestDialog:"showRestDialog",showGcloudDialog:"showGcloudDialog",addMargins:"addMargins",overrideIsPrimary:"overrideIsPrimary",getDescriptionMessage:"getDescriptionMessage"},
outputs:{onInit:"onInit"},decls:1,vars:1,consts:[["class","rest-gcloud-section",3,"cfc-space-above-minus-1","cfc-space-below-minus-1",4,"ngIf"],[1,"rest-gcloud-section"],[3,"menu",4,"ngIf","ngIfElse"],["singleButton",""],[3,"menu"],[4,"ngTemplateOutlet"],["type","button","mat-button","",3,"ve","veClick","color","click"]],template:function(a,b){a&1&&_.P(0,twe,4,6,"div",0);a&2&&_.C("ngIf",b.showRestWithDefault||b.showGcloud)},dependencies:[_.Uu,_.wt,_.ll,_.ol,_.ot,_.lt,_.jt,_.nD],encapsulation:2});
var q1e=[_.Vu,_.ql,_.qt,_.qD],S$=class{};S$.\u0275fac=function(a){return new (a||S$)};S$.\u0275mod=_.Bc({type:S$,id:"pm_common_compute_rest_gcloud"});S$.\u0275inj=_.tc({imports:[_.Rx,_.QR,q1e]});_.vd(S$,"pm_common_compute_rest_gcloud");
var r1e=new _.Zc("API_VERSION"),s1e=new _.Zc("REQUEST_SERVICE"),t1e={$Xgafv:"$.xgafv",access_token:"access_token",alignment:"alignment",alignmentTime:"alignmentTime",alt:"alt",callback:"callback",categoryFilter:"categoryFilter",eventView:"eventView",fields:"fields",filter:"filter",filterTerm:"filterTerm",groupId:"groupId",groupStatsResponseView:"groupStatsResponseView",key:"key",mutedFilter:"mutedFilter",oauth_token:"oauth_token",order:"order",pageSize:"pageSize",pageToken:"pageToken",prettyPrint:"prettyPrint",
quotaUser:"quotaUser",resolutionFilter:"resolutionFilter",serviceFilterEnvironment:"serviceFilter.environment",serviceFilterResourceType:"serviceFilter.resourceType",serviceFilterService:"serviceFilter.service",serviceFilterVersion:"serviceFilter.version",timeRangePeriod:"timeRange.period",timedCountDuration:"timedCountDuration",updateInternalFields:"updateInternalFields",updateMask:"updateMask",uploadType:"uploadType",upload_protocol:"upload_protocol"},u1e=class{constructor(a,b,c){this.gapiVersion=
a;this.gapiVersion=null==a?"v1beta1":a;this.$apiClient=new _.js(b,c)}};u1e.\u0275fac=function(a){return new (a||u1e)(_.p(r1e,8),_.p(s1e),_.p(_.fr,8))};u1e.\u0275prov=_.m({token:u1e,factory:u1e.\u0275fac});
var v1e=class{constructor(a,b,c){this.gapiVersion=a;this.gapiVersion=null==a?"v1beta1":a;this.$apiClient=new _.js(b,c)}list(a,b={},c={}){_.hs(a,RegExp("^projects/[^/]+$"));return _.is(this.$apiClient,{body:null,httpMethod:"GET",methodId:"clouderrorreporting.projects.events.list",path:`/${this.gapiVersion}/${a}/events`,queryParams:_.di(b,t1e,c)})}report(a,b,c={},d={}){_.hs(a,RegExp("^projects/[^/]+$"));return _.is(this.$apiClient,{body:b,httpMethod:"POST",methodId:"clouderrorreporting.projects.events.report",
path:`/${this.gapiVersion}/${a}/events:report`,queryParams:_.di(c,t1e,d)})}};v1e.\u0275fac=function(a){return new (a||v1e)(_.p(r1e,8),_.p(s1e),_.p(_.fr,8))};v1e.\u0275prov=_.m({token:v1e,factory:v1e.\u0275fac});
var w1e=class{constructor(a,b,c){this.gapiVersion=a;this.gapiVersion=null==a?"v1beta1":a;this.$apiClient=new _.js(b,c)}list(a,b={},c={}){_.hs(a,RegExp("^projects/[^/]+$"));return _.is(this.$apiClient,{body:null,httpMethod:"GET",methodId:"clouderrorreporting.projects.groupStats.list",path:`/${this.gapiVersion}/${a}/groupStats`,queryParams:_.di(b,t1e,c)})}};w1e.\u0275fac=function(a){return new (a||w1e)(_.p(r1e,8),_.p(s1e),_.p(_.fr,8))};w1e.\u0275prov=_.m({token:w1e,factory:w1e.\u0275fac});
var x1e=class{constructor(a,b,c){this.gapiVersion=a;this.gapiVersion=null==a?"v1beta1":a;this.$apiClient=new _.js(b,c)}get(a,b={},c={}){_.hs(a,RegExp("^projects/[^/]+/groups/[^/]+$"));return _.is(this.$apiClient,{body:null,httpMethod:"GET",methodId:"clouderrorreporting.projects.groups.get",path:`/${this.gapiVersion}/${a}`,queryParams:_.di(b,t1e,c)})}update(a,b,c={},d={}){_.hs(a,RegExp("^projects/[^/]+/groups/[^/]+$"));return _.is(this.$apiClient,{body:b,httpMethod:"PUT",methodId:"clouderrorreporting.projects.groups.update",
path:`/${this.gapiVersion}/${a}`,queryParams:_.di(c,t1e,d)})}};x1e.\u0275fac=function(a){return new (a||x1e)(_.p(r1e,8),_.p(s1e),_.p(_.fr,8))};x1e.\u0275prov=_.m({token:x1e,factory:x1e.\u0275fac});var y1e=class{constructor(a,b,c){this.gapiVersion=a;this.gapiVersion=null==a?"v1beta1":a;this.$apiClient=new _.js(b,c)}};y1e.\u0275fac=function(a){return new (a||y1e)(_.p(r1e,8),_.p(s1e),_.p(_.fr,8))};y1e.\u0275prov=_.m({token:y1e,factory:y1e.\u0275fac});
var z1e=class{constructor(a){a=a.create({host:_.Nf("pantheon_crash_cloudErrorReportingUrl"),version:"v1beta1"});this.projects=a.init(u1e);this.events=a.init(v1e);this.groupStats=a.init(w1e);this.groups=a.init(x1e);a.init(y1e)}};z1e.\u0275fac=function(a){return new (a||z1e)(_.p(_.hr))};z1e.\u0275prov=_.m({token:z1e,factory:z1e.\u0275fac,providedIn:"root"});
var A1e=class{constructor(){this.linkDisabled=!1;this.detailCloudRunUrl=_.vOc.create();this.detailFunctionUrl=_.jOc.create();this.cloudFunctionToCloudRunBadgeConfig={icon:"CLOUD_RUN_SECTION",title:"Powered by Cloud Run",link:(a,b)=>this.detailCloudRunUrl.link().set(this.detailCloudRunUrl.region,a).set(this.detailCloudRunUrl.name,b),helpButtonText:"Cloud Functions 2nd gen is a Function-as-a-Service product powered by Cloud Run and Eventarc. This enables users to leverage key benefits of Cloud Run including concurrency, traffic splitting, and longer processing times.",
helpButtonLearnMore:"FUNCTIONS_DOCS_2ND_GEN_OVERVIEW",trackName:"cloudRunLinkClick",trackType:"functionsDetails"};this.cloudRunToCloudFunctionBadgeConfig={icon:"FUNCTIONS_SECTION",title:"Used by Cloud Functions",link:(a,b)=>this.detailFunctionUrl.link().set(this.detailFunctionUrl.region,a).set(this.detailFunctionUrl.name,b).set(this.detailFunctionUrl.env,"gen2"),helpButtonText:"",trackName:"cloudFunctionBadgeClick",trackType:"cloudRunDetails"}}ngOnInit(){this.config=this.createConfig()}get link(){return this.config.link(this.region,
this.resourceName)}createConfig(){return 0===this.badgeType?this.cloudFunctionToCloudRunBadgeConfig:1===this.badgeType?this.cloudRunToCloudFunctionBadgeConfig:{icon:"",title:"",link:()=>{},helpButtonText:"",trackName:"",trackType:""}}};A1e.\u0275fac=function(a){return new (a||A1e)};
A1e.\u0275cmp=_.q({type:A1e,selectors:[["s8s-badge"]],inputs:{resourceName:"resourceName",region:"region",badgeType:"badgeType",linkDisabled:"linkDisabled"},decls:12,vars:6,consts:function(){return[[1,"cfc-space-below-minus-4","gcf-panel-small-vertical-spacing","gcf-hide-on-mobile"],[1,"cfc-flex-center-aligned","cfc-flex-container"],[1,"cfc-prefix"],["iconset","shelllogos","size","medium",3,"icon",4,"ngIf"],[1,"flex-layout-column"],[1,"cfc-heading-with-icon-button"],["class","cfc-color-secondary cfc-text-title-4 cfc-space-above-minus-6\n                   cfc-space-below-minus-6",
4,"ngIf"],["class","cfc-button-small cfc-space-above-minus-6 cfc-space-below-minus-6","ariaLabel","Help with information of Cloud Functions 2 gen\n                                      and Cloud Run services",4,"ngIf"],["role","link","cfcTrackedEvent","",3,"cfcRouterLink","queryParams","track-name","track-type",4,"ngIf"],[4,"ngIf"],["class","cfc-space-below-minus-4 gcf-min-width-small gcf-show-on-mobile",4,"ngIf"],["iconset","shelllogos","size","medium",3,"icon"],[1,"cfc-color-secondary","cfc-text-title-4",
"cfc-space-above-minus-6","cfc-space-below-minus-6"],["ariaLabel","Help with information of Cloud Functions 2 gen\n                                      and Cloud Run services",1,"cfc-button-small","cfc-space-above-minus-6","cfc-space-below-minus-6"],["aria-label","Learn more about this product",3,"cfcDocHref",4,"ngIf"],["aria-label","Learn more about this product",3,"cfcDocHref"],["role","link","cfcTrackedEvent","",3,"cfcRouterLink","queryParams","track-name","track-type"],[1,"cfc-space-below-minus-4",
"gcf-min-width-small","gcf-show-on-mobile"],[1,"cfc-font-weight-bold"]]},template:function(a,b){a&1&&(_.E(0,"mat-card",0)(1,"mat-card-content")(2,"div",1)(3,"span",2),_.P(4,vwe,1,1,"cfc-icon",3),_.F(),_.E(5,"div",4)(6,"div",5),_.P(7,wwe,2,1,"h4",6),_.P(8,ywe,3,2,"cfc-help-button",7),_.F(),_.P(9,zwe,2,5,"a",8),_.P(10,Awe,2,1,"ng-container",9),_.F()()()(),_.P(11,Bwe,6,6,"div",10));a&2&&(_.x(4),_.C("ngIf",b.config.icon),_.x(3),_.C("ngIf",b.config.title),_.x(1),_.C("ngIf",b.config.helpButtonText),_.x(1),
_.C("ngIf",!!b.resourceName&&!b.linkDisabled&&b.link),_.x(1),_.C("ngIf",!(b.resourceName&&!b.linkDisabled&&b.link)&&b.resourceName),_.x(1),_.C("ngIf",!!b.resourceName&&!b.linkDisabled&&b.link))},dependencies:[_.ll,_.Xu,_.BR,_.Gz,_.vT,_.AT,_.xT,_.bv],styles:[".gcf-message-no-top-spacing[_ngcontent-%COMP%]{padding-top:0}.gcf-message-no-bottom-spacing[_ngcontent-%COMP%]{padding-bottom:0}.gcf-panel-no-vertical-spacing[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0}.gcf-panel-small-vertical-spacing[_ngcontent-%COMP%]{padding-top:8px;padding-bottom:8px}.gcf-top-bleed[_ngcontent-%COMP%]{margin-top:-16px}.gcf-vertical-middle[_ngcontent-%COMP%]{vertical-align:middle}.gcf-inline-block[_ngcontent-%COMP%]{display:inline-block}.gcf-indent-small[_ngcontent-%COMP%]{margin-left:8px}.gcf-margin-left-0[_ngcontent-%COMP%]{margin-left:0}.gcf-padding-left[_ngcontent-%COMP%]{padding-left:16px}.gcf-overflow-auto[_ngcontent-%COMP%]{overflow:auto}.gcf-width-code-form[_ngcontent-%COMP%]{width:395px!important}.gcf-min-height-150[_ngcontent-%COMP%]{min-height:150px}.gcf-min-height-0[_ngcontent-%COMP%]{min-height:0}.gcf-max-height-130[_ngcontent-%COMP%]{max-height:130px}.gcf-flex-fill[_ngcontent-%COMP%]{-webkit-box-flex:1;-webkit-flex:1 1 0;-moz-box-flex:1;-ms-flex:1 1 0px;flex:1 1 0}.gcf-min-width-small[_ngcontent-%COMP%]{min-width:320px}.gcf-margin-between-rows[_ngcontent-%COMP%]{margin-top:-4px}.gcf-margin-between-rows[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-top:4px}@media screen and (max-width:600px){.gcf-hide-on-mobile[_ngcontent-%COMP%]{display:none}}.gcf-show-on-mobile[_ngcontent-%COMP%]{display:none}@media screen and (max-width:600px){.gcf-show-on-mobile[_ngcontent-%COMP%]{display:block}}"]});
var B1e=[_.ql,_.Yu,_.CR,_.Iz,_.IT,_.pV,_.cv],C1e=class{};C1e.\u0275fac=function(a){return new (a||C1e)};C1e.\u0275mod=_.Bc({type:C1e});C1e.\u0275inj=_.tc({imports:[B1e]});
var D1e=function(a,b){var c=b.params.resourceName;b=_.Ym(a.projectParamService);c={service:c};return a.crashApiService.groupStats.list(`projects/${b}`,{serviceFilterEnvironment:c.environment,serviceFilterService:c.service,serviceFilterVersion:c.version,mutedFilter:"EXCLUDE_MUTED",filter:"",resolutionFilter:["OPEN","ACKNOWLEDGED"],timeRangePeriod:"PERIOD_1_WEEK",timedCountDuration:"604800s",order:"COUNT_DESC",eventView:"ORIGINAL_AND_PARSED",pageSize:10,pageToken:""}).toPromise().then(d=>({crashErrorGroupStats:d.errorGroupStats||
[]}),d=>{if(403===d.errorCode)return{crashErrorGroupStats:[],crashErrorGroupFailure:d.message};throw Error(d.userMessage);})},T$=class{constructor(a,b,c,d,e){this.crashApiService=a;this.gcfAnalyticsService=b;this.gcfApiService=c;this.graphqlClient=d;this.projectParamService=e}resolve(a){const b=_.Ym(this.projectParamService);return _.Wvd(this.gcfApiService,b).then(()=>_.WPc({functionDetailsGraphql:this.getFunctionDetails(a),crashData:D1e(this,a)}))}getFunctionDetails(a){const b=Cwe(a);a=_.U3c(a.queryParams.env);
tze(this.gcfAnalyticsService,a);return _.ke(_.Rvd(this.graphqlClient,{name:b,version:a}).pipe(_.U(c=>c.function)))}};T$.\u0275fac=function(a){return new (a||T$)(_.p(z1e),_.p(_.y4),_.p(_.rV),_.p(_.aV),_.p(_.Zm))};T$.\u0275prov=_.m({token:T$,factory:T$.\u0275fac,providedIn:"root"});
var E1e=class{constructor(){this.statusDataArray=[];this.statusMessages=[];this.autoKeyWidth=9}ngOnInit(){}};E1e.\u0275fac=function(a){return new (a||E1e)};
E1e.\u0275cmp=_.q({type:E1e,selectors:[["s8s-deployment-progress-tracker"]],inputs:{title:"title",statusDataArray:"statusDataArray",statusMessages:"statusMessages"},decls:2,vars:2,consts:[[3,"type",4,"ngFor","ngForOf"],[3,"unfolded",4,"ngIf"],[3,"type"],[3,"unfolded"],[3,"headingLevel","headingVisualLevel"],["cfc-kv-list","",3,"keyWidth","hidePinlines"],[4,"ngFor","ngForOf"],["iconset","common",3,"icon"]],template:function(a,b){a&1&&(_.P(0,Dwe,3,2,"cfc-message",0),_.P(1,Gwe,6,7,"cfc-unfold",1));a&
2&&(_.C("ngForOf",b.statusMessages),_.x(1),_.C("ngIf",0<b.statusDataArray.length))},dependencies:[_.kl,_.ll,_.xo,_.Bt,_.yo,_.zo,_.p3,_.q3,_.r3],encapsulation:2});var Ewe={pending:"Pending",working:"Running",["status-success"]:"Completed",["status-warning"]:"Warning",["status-error"]:"Error"},F1e=[_.ql,_.Go,_.Ct,_.Jo,_.s3],U$=class{};U$.\u0275fac=function(a){return new (a||U$)};U$.\u0275mod=_.Bc({type:U$,id:"pm_serverless_components_deployment_progress_tracker"});U$.\u0275inj=_.tc({imports:[F1e]});
_.vd(U$,"pm_serverless_components_deployment_progress_tracker");
var J1e=function(a){var b=[G1e(a)];if(H1e(a)){let e;b.push(I1e(null==(e=a.details)?void 0:e.operationVersion))}a.revisionList=b;a:{if(!a.currentModel.isV2Function())for(const e of a.revisionList)if(a.currentModel.versionId===e.revision){b=!1;break a}b=!0}if(b){var c,d;r6(a,null==(c=a.details)?void 0:null==(d=c.deployedVersion)?void 0:d.revision)}c=a.isV2Function()?(c=a.details.deployedVersion)?H1e(a)&&"DEPLOYING"===c.status&&!c.buildId:!1:!1;a.isInitialV2Deployment=c},r6=function(a,b){var c;if(a.isV2Function()){if(H1e(a))var d=
null==(c=a.details)?void 0:c.operationVersion;else{let v;d=null==(v=a.details)?void 0:v.deployedVersion}c=[_.T3c(d),d]}else{{let v,w;if(b===(null==(v=a.details)?void 0:null==(w=v.deployedVersion)?void 0:w.revision))c=null==(d=a.details)?void 0:d.deployedVersion,c=[_.T3c(c),c];else{var e,f;if(b===(null==(e=a.details)?void 0:null==(f=e.operationVersion)?void 0:f.revision)){let y;c=null==(y=a.details)?void 0:y.operationVersion;c=[_.T3c(c),c]}else throw Error("Kl`"+b);}}}[a.currentModel,a.currentGqlModel]=
c;var g;if(null==(g=a.currentGqlModel)?0:g.sourceDownloadUrl)_.Zvd(a.apiService,a.currentModel,a.currentGqlModel.sourceDownloadUrl);else{var h,l;g=null!=(l=null==(h=a.currentGqlModel)?void 0:h.sourceDownloadUrlError)?l:"UNKNOWN";a.currentModel.inlineStatus=_.$rd(g)}if(a.currentModel.isV2Function()){if(h=a.currentModel.deploymentStages){l=[];for(n of h)l.push({name:Iwe(n.name),status:Hwe(n.state),message:n.message});var n=l}else n=[];a.deploymentTrackerStatusData=n;if(h=a.currentModel.deployedStateMessages){n=
[];for(r of h){let v;h={type:Jwe(r.severity),message:null!=(v=r.message)?v:""};n.push(h)}var r=n}else r=[];a.postDeploymentsMessages=r}},K1e=function(a,b){let c,d;b=null!=(d=null==b?void 0:null==(c=b.deployedVersion)?void 0:c.status)?d:"STATUS_UNKNOWN";return H1e(a)||"DEPLOYING"===b},H1e=function(a){var b;let c,d;const e=null!=(d=null==(b=a.details)?void 0:null==(c=b.operationVersion)?void 0:c.productVersion)?d:"V1";let f,g,h;b="V1"===e&&"0"!==(null!=(h=null==(f=a.details)?void 0:null==(g=f.operationVersion)?
void 0:g.revision)?h:"0");let l,n,r;a="V2"===e&&""!==(null!=(r=null==(l=a.details)?void 0:null==(n=l.operationVersion)?void 0:n.name)?r:"");return b||a},L1e=function(a,b){return a.dataLoader.getFunctionDetails(b).then(c=>{a.details=c;J1e(a);if(H1e(a)){let d,e;r6(a,null==(d=a.details)?void 0:null==(e=d.operationVersion)?void 0:e.revision)}K1e(a,a.details)&&a.refreshDetailsTrigger.next(b);return c})},Kwe=function(a){let b,c;return null!=(c=null==(b=a.currentGqlModel)?void 0:b.deploymentError)?c:""},
M1e=function(a){let b,c;return null!=(c=null==(b=a.currentGqlModel)?void 0:b.restResponse)?c:""},I1e=function(a){const b=_.P3c(a.status);var c=a.revision;a:{var d=a.revision;var e=new Date(a.deployTime);e=(new _.Sr(10)).format(e);a="V2"===a.productVersion;switch(b){case "READY":case "TERMINATED":case "READY_WITH_TRAFFIC_SPLIT":d=a?"Deployed at "+e:"Version "+d+", deployed at "+e;break a;case "WARNING":case "FAILED":case "UNKNOWN":d=a?"Deployment failed at "+e:"Version "+d+", deployment failed at "+
e;break a;case "DEPLOYING":d=a?"Deployment started at "+e:"Version "+d+", deployment started at "+e;break a;default:_.Wb(b,`invalid function status: ${b}`)}d=void 0}return{revision:c,description:d,note:fAe[b]}},G1e=function(a){let b;return I1e(null==(b=a.details)?void 0:b.deployedVersion)},V$=class{constructor(a,b){this.apiService=a;this.dataLoader=b;this.destroyed=new _.rf(1);this.refreshDetailsTrigger=new _.rf;this.refreshDetailsFlow=this.refreshDetailsTrigger.pipe(_.zf(c=>_.Ie(0,5E3).pipe(_.hf(c))),
_.zf(c=>_.re(this.dataLoader.getFunctionDetails(c))),_.Ef(c=>{this.details=c;J1e(this);r6(this,this.currentModel.versionId)}),_.Df(c=>K1e(this,c),!0),_.Af(this.destroyed))}initialize(a){this.details=a.data.pageData.functionDetailsGraphql;if(H1e(this)){let b,c;r6(this,null==(b=this.details)?void 0:null==(c=b.operationVersion)?void 0:c.revision)}else{let b,c;r6(this,null==(b=this.details)?void 0:null==(c=b.deployedVersion)?void 0:c.revision)}J1e(this);this.setupAutoRefresh(a)}getModel(){return this.currentModel}ngOnDestroy(){this.destroyed.next()}setupAutoRefresh(a){this.refreshDetailsFlow.subscribe();
K1e(this,this.details)&&this.refreshDetailsTrigger.next(a)}isV2Function(){let a,b,c;return"V2"===(null!=(c=null==(a=this.details)?void 0:null==(b=a.deployedVersion)?void 0:b.productVersion)?c:"V1")}};V$.\u0275fac=function(a){return new (a||V$)(_.p(_.rV),_.p(T$))};V$.\u0275prov=_.m({token:V$,factory:V$.\u0275fac});
var N1e=class{};N1e.\u0275fac=function(a){return new (a||N1e)};N1e.\u0275prov=_.m({token:N1e,factory:N1e.\u0275fac,providedIn:"root"});
var O1e={OVERVIEW:"overview",VERSIONS:"versions",USAGE_TRACKING:"usage",PERMISSIONS:"permissions"};
var P1e=class extends _.wm{constructor(){super();_.um(this,["security","kms"])}},Q1e=class extends P1e{constructor(){super();this.regionId=new _.sm("path","regionId");this.keyRingId=new _.sm("path","keyRingId");this.keyId=new _.sm("path","keyId");this.source=new _.SUb(["keys"],"matrix","source");this.tab=new _.SUb(Object.values(O1e),"matrix","tab");_.um(this,["key","manage",this.regionId,this.keyRingId,this.keyId])}};
var R1e=class{constructor(a,b,c){this.projectParamService=b;this.regionService=c;this.nullify=S9d;this.serviceAccountsUrl=_.rWd.create().link().build()}get model(){return this.dataHolder.getModel()}get projectId(){return _.Ym(this.projectParamService)}get workerPoolsAvailableInRegion(){return _.pyd(this.regionService,this.model.region)}get kmsKeyLink(){const a=_.qY(this.model.kmsKeyName),b=Q1e.create();return b.link().set(b.regionId,a.locationId).set(b.keyRingId,a.keyRingId).set(b.keyId,a.cryptoKeyId).build()}get dockerRepositoryShortName(){const {name:a}=
_.MY("location",this.model.dockerRepositoryName);return a}get dockerRepositoryLink(){const {location:a,name:b}=_.MY("location",this.model.dockerRepositoryName);var c={projectId:this.projectId,locationName:a,repositoryName:b};const d=iAe.create(),e=d.link();e.set(d.resource,c);return e.build()}get securityCardEnabled(){return!!this.model.kmsKeyName}showRestDialog(){var a=this.dataHolder;let b;return this.restGcloudDialog.defaultShowRestDialog({description:"This is the original REST response from the Cloud Functions service",
content:null!=(b=null==a?void 0:M1e(a))?b:"",docLink:{href:_.yB(_.zB.FUNCTIONS_DOCS_REFERENCE_REST),trackAs:"functions-api-docs"}})}};R1e.\u0275fac=function(a){return new (a||R1e)(_.A(N1e),_.A(_.Zm),_.A(_.UZ))};
R1e.\u0275cmp=_.q({type:R1e,selectors:[["gcf-tab-details"]],inputs:{dataHolder:"dataHolder"},decls:73,vars:29,consts:function(){return[[1,"cfc-indent","cfc-prefix"],["role","alert","type","error",4,"ngIf"],[1,"cfc-grid","cfc-grid--chart-cards","cfc-space-above-plus-1"],["role","heading","aria-level","2"]," General Information ",["cfc-kv-list","",1,"cfctest-function-details-summary-general",3,"hidePinlines"]," Last deployed "," Region "," Memory allocated "," Timeout "," Minimum instances "," Maximum instances ",
[4,"ngIf"]," Networking Settings ",["cfc-kv-list","",1,"cfctest-function-details-summary-network",3,"hidePinlines"]," Ingress settings ",[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"]," VPC connector "," VPC connector egress routing ",[3,"addMargins","showGcloud","isRestRequest","showRestDialog","onInit",4,"ngIf"],["role","alert","type","error"]," Deployment failure: \ufffd#3\ufffd\ufffd0\ufffd\ufffd/#3\ufffd",[1,"cfc-pre-line"]," Service account ",[3,"cfcRouterLink"]," Build Worker Pools ",
" Container build log "," Allow all traffic "," Allow internal traffic only "," Allow internal traffic and traffic from Cloud Load Balancing "," All traffic "," Private ranges only "," Security Settings "," CMEK Protected Function ",["cfc-kv-list","",1,"cfctest-function-details-summary-security",3,"hidePinlines"]," Encryption key "," Artifact Registry Repository ",[3,"addMargins","showGcloud","isRestRequest","showRestDialog","onInit"]]},template:function(a,b){a&1&&(_.E(0,"div",0),_.P(1,Lwe,4,1,"cfc-message",
1),_.E(2,"div",2)(3,"mat-card")(4,"mat-card-title",3),_.K(5,4),_.F(),_.E(6,"mat-card-content")(7,"dl",5)(8,"div")(9,"dt"),_.K(10,6),_.F(),_.E(11,"dd"),_.Q(12),_.Zd(13,"date"),_.F()(),_.E(14,"div")(15,"dt"),_.K(16,7),_.F(),_.E(17,"dd"),_.Q(18),_.F()(),_.E(19,"div")(20,"dt"),_.K(21,8),_.F(),_.E(22,"dd"),_.Q(23),_.F()(),_.E(24,"div")(25,"dt"),_.K(26,9),_.F(),_.E(27,"dd"),_.Q(28),_.F()(),_.E(29,"div")(30,"dt"),_.K(31,10),_.F(),_.E(32,"dd"),_.Q(33),_.F()(),_.E(34,"div")(35,"dt"),_.K(36,11),_.F(),_.E(37,
"dd"),_.Q(38),_.Zd(39,"placeholder"),_.F()(),_.P(40,Mwe,6,2,"div",12),_.P(41,Nwe,6,3,"div",12),_.P(42,Owe,6,2,"div",12),_.F()()(),_.E(43,"mat-card")(44,"mat-card-title",3),_.K(45,13),_.F(),_.E(46,"mat-card-content")(47,"dl",14)(48,"div")(49,"dt"),_.K(50,15),_.F(),_.E(51,"dd"),_.Dd(52,16),_.P(53,Pwe,2,0,"ng-container",17),_.P(54,Qwe,2,0,"ng-container",17),_.P(55,Rwe,2,0,"ng-container",17),_.P(56,Swe,3,3,"ng-container",18),_.Ed(),_.F()(),_.E(57,"div")(58,"dt"),_.K(59,19),_.F(),_.E(60,"dd"),_.Q(61),
_.Zd(62,"placeholder"),_.F()(),_.E(63,"div")(64,"dt"),_.K(65,20),_.F(),_.E(66,"dd"),_.Dd(67,16),_.P(68,Twe,2,0,"ng-container",17),_.P(69,Uwe,2,0,"ng-container",17),_.P(70,Vwe,3,3,"ng-container",18),_.Ed(),_.F()()()()(),_.P(71,Ywe,18,5,"mat-card",12),_.F(),_.P(72,Zwe,1,4,"gce-rest-gcloud",21),_.F());if(a&2){var c;_.x(1);_.C("ngIf",Kwe(b.dataHolder));_.x(6);_.C("hidePinlines",!0);_.x(5);_.Ud(_.CC(13,22,b.model.updateTime,"long"));_.x(6);_.Ud(b.model.region);_.x(5);a=b.model;a=a.isV2Function()?_.RHc(a.availableMemory):
_.SHc(a.availableMemory);_.Ud(a);_.x(5);_.Ud(b.model.timeoutString);_.x(5);_.Ud(null!==(c=b.model.minInstances)&&void 0!==c?c:0);_.x(5);_.Ud(_.$d(39,25,b.model.maxInstances));_.x(2);_.C("ngIf",b.model.serviceAccount);_.x(1);_.C("ngIf",b.workerPoolsAvailableInRegion);_.x(1);_.C("ngIf",b.model.buildId);_.x(5);_.C("hidePinlines",!0);_.x(5);_.C("ngSwitch",b.model.ingressSettings);_.x(1);_.C("ngSwitchCase","allowAll");_.x(1);_.C("ngSwitchCase","allowInternalOnly");_.x(1);_.C("ngSwitchCase","allowInternalAndGCLB");
_.x(6);c=b.model.vpcConnector;a=(c||"").match("^projects/([^/]+)/locations/[^/]+/connectors/([^/]+)$");_.Ud(_.$d(62,27,a?a[2]:c));_.x(6);_.C("ngSwitch",b.model.egressSettings);_.x(1);_.C("ngSwitchCase","allTraffic");_.x(1);_.C("ngSwitchCase","privateRangesOnly");_.x(2);_.C("ngIf",b.securityCardEnabled);_.x(1);_.C("ngIf",M1e(b.dataHolder))}},dependencies:[_.ll,_.ml,_.nl,_.QB,_.Bt,_.AT,_.xT,_.yT,_.yo,_.zo,p1e,_.bv,_.qW,_.GV],encapsulation:2});var S1e=[_.ql,_.Ct,_.pV,_.Jo,_.z3,_.gz,S$,_.cv],T1e=class{};
T1e.\u0275fac=function(a){return new (a||T1e)};T1e.\u0275mod=_.Bc({type:T1e});T1e.\u0275inj=_.tc({imports:[S1e]});
var U1e=class{constructor(a,b){this.apiService=b;this.logsFilter="";this.logsErrorCallback=c=>{c&&500===c.status&&_.qV(this.apiService,{error:c,message:"An unknown error has occurred while fetching logs for a function."})};this.resourceNames=["projects/"+_.Ym(a)]}ngOnInit(){this.model.isV2Function()?this.logsFilter='(resource.type = "cloud_function"\n'+`resource.labels.function_name = "${this.model.name}"\n`+`resource.labels.region = "${this.model.region}")\n`+' OR \n(resource.type = "cloud_run_revision"\n'+
`resource.labels.service_name = "${_.IHc(this.model.cloudRunService)}"\n`+`resource.labels.location = "${this.model.region}")\n`:this.logsFilter='resource.type = "cloud_function"\n'+`resource.labels.function_name = "${this.model.name}"\n`+`resource.labels.region = "${this.model.region}"\n`}};U1e.\u0275fac=function(a){return new (a||U1e)(_.A(_.Zm),_.A(_.rV))};
U1e.\u0275cmp=_.q({type:U1e,selectors:[["gcf-tab-logs"]],hostAttrs:[1,"cfc-flex-layout-column"],inputs:{model:"model"},decls:1,vars:5,consts:[["viewerId","cloudfunctions",3,"resourceNames","scopeFilter","pageSize","hasRefreshButton","clientErrorCallback"]],template:function(a,b){a&1&&_.I(0,"logs-panel",0);a&2&&_.C("resourceNames",b.resourceNames)("scopeFilter",b.logsFilter)("pageSize",50)("hasRefreshButton",!1)("clientErrorCallback",b.logsErrorCallback)},dependencies:[_.DNd],encapsulation:2});
var V1e=[_.k3],W1e=class{};W1e.\u0275fac=function(a){return new (a||W1e)};W1e.\u0275mod=_.Bc({type:W1e});W1e.\u0275inj=_.tc({imports:[V1e]});
var X1e=function(a,b){return`metric.type="${b}"
            AND resource.type="cloud_function"
            AND resource.labels.project_id="${a.projectId}"
            AND resource.labels.function_name="${a.name}"
            AND resource.labels.region="${a.region}"`},Y1e=function(a){return{dataSets:a,options:{mode:"COLOR"},xAxis:{scale:"LINEAR"}}},Z1e=function(a){var b=c=>({filter:X1e(a,"cloudfunctions.googleapis.com/function/execution_times"),crossSeriesReducer:c,perSeriesAligner:"ALIGN_DELTA",unitOverride:"ns"});b=[{timeSeriesFilter:b("REDUCE_PERCENTILE_99"),plotType:"LINE"},{timeSeriesFilter:b("REDUCE_PERCENTILE_95"),plotType:"LINE"},{timeSeriesFilter:b("REDUCE_PERCENTILE_50"),plotType:"LINE"}];return{title:"Execution times",
xyChart:Y1e(b),projectId:a.projectId,groupId:"functions-details",legendType:"inline",legendTemplates:["99%","95%","50%"],showLegend:!0}},a2e=function(a){const b=[{timeSeriesFilter:{filter:X1e(a,"cloudfunctions.googleapis.com/function/execution_count"),groupByFields:["metric.labels.status"],perSeriesAligner:"ALIGN_RATE",crossSeriesReducer:"REDUCE_SUM"},plotType:"LINE"}],c=new $1e;return{title:"Execution count",xyChart:Y1e(b),projectId:a.projectId,groupId:"functions-details",legendType:"inline",legendTemplates:["${metric.labels.status}"],
showLegend:!0,colorManager:c}},b2e=function(a){return{title:"Active instances",xyChart:Y1e([{timeSeriesFilter:{filter:X1e(a,"cloudfunctions.googleapis.com/function/active_instances"),perSeriesAligner:"ALIGN_MAX",crossSeriesReducer:"REDUCE_SUM",groupByFields:["resource.labels.region"]},plotType:"LINE"}]),projectId:a.projectId,groupId:"functions-details",legendType:"inline",legendTemplates:["${resource.labels.region}"],showLegend:!0}},c2e=function(a){var b=c=>({filter:X1e(a,"cloudfunctions.googleapis.com/function/user_memory_bytes"),
perSeriesAligner:c,crossSeriesReducer:"REDUCE_MEAN",unitOverride:"By"});b=[{timeSeriesFilter:b("ALIGN_PERCENTILE_99"),plotType:"LINE"},{timeSeriesFilter:b("ALIGN_PERCENTILE_95"),plotType:"LINE"},{timeSeriesFilter:b("ALIGN_PERCENTILE_50"),plotType:"LINE"}];return{title:"Per call memory",xyChart:Y1e(b),projectId:a.projectId,groupId:"functions-details",legendType:"inline",legendTemplates:["99%","95%","50%"],showLegend:!0}},d2e=class{};d2e.\u0275fac=function(a){return new (a||d2e)};
d2e.\u0275prov=_.m({token:d2e,factory:d2e.\u0275fac,providedIn:"root"});var $1e=class{constructor(){this.fallbackManager=new _.HP}getColor(a,b,c){const d=a.match("status:([a-z]+)");return d&&1<d.length&&e2e[d[1]]?e2e[d[1]]:this.fallbackManager.getColor(a,b,c)}},e2e={ok:"#7cb342",warning:"#f2a600",error:"#d50000"};
var f2e={GCF_METRICS_TAB_DASHBOARD:"GCF_METRICS_TAB_DASHBOARD",TEST_ID:"TEST_ID",WORKFLOWS_MAIN_DASHBOARD:"WORKFLOWS_MAIN_DASHBOARD",WORKFLOWS_METRICS_TAB_DASHBOARD:"WORKFLOWS_METRICS_TAB_DASHBOARD"};
var g2e=[1,2,3],h2e=class{constructor(a){this.template=a;this.colSpan=1}set s8sDashboardItem(a){if(!a)throw Error("Ll");this.name=a.name;this.id=a.id;if(a.colSpan)if(g2e.includes(a.colSpan))this.colSpan=a.colSpan;else throw Error("Ml`"+g2e);}};h2e.\u0275fac=function(a){return new (a||h2e)(_.A(_.Le))};h2e.\u0275dir=_.q({type:h2e,selectors:[["","s8sDashboardItem",""]],inputs:{s8sDashboardItem:"s8sDashboardItem"}});
var i2e=new _.Zc("CDK_DRAG_CONFIG");
var j2e=new _.Zc("CDK_DRAG_PARENT");
var k2e=new _.Zc("CdkDragHandle");
var l2e=new _.Zc("CdkDragPlaceholder");
var m2e=new _.Zc("CdkDragPreview");
var n2e=new _.Zc("CdkDropListGroup");
var o2e=_.Hg({passive:!1,capture:!0}),p2e=function(a,b){a._dropInstances.has(b)||a._dropInstances.add(b)},q2e=function(a,b){a._dragInstances.add(b);1===a._dragInstances.size&&a._ngZone.runOutsideAngular(()=>{a._document.addEventListener("touchmove",a._persistentTouchmoveListener,o2e)})},r2e=function(a,b){b=a._activeDragInstances.indexOf(b);-1<b&&(a._activeDragInstances.splice(b,1),0===a._activeDragInstances.length&&a._clearGlobalListeners())},s2e=function(a,b){a._dragInstances.delete(b);r2e(a,b);
0===a._dragInstances.size&&a._document.removeEventListener("touchmove",a._persistentTouchmoveListener,o2e)},t2e=function(a,b,c){-1<a._activeDragInstances.indexOf(b)||(a._activeDragInstances.push(b),1===a._activeDragInstances.length&&(b=c.type.startsWith("touch"),a._globalListeners.set(b?"touchend":"mouseup",{handler:d=>a.pointerUp.next(d),options:!0}).set("scroll",{handler:d=>a.scroll.next(d),options:!0}).set("selectstart",{handler:a._preventDefaultWhileDragging,options:o2e}),b||a._globalListeners.set("mousemove",
{handler:d=>a.pointerMove.next(d),options:o2e}),a._ngZone.runOutsideAngular(()=>{a._globalListeners.forEach((d,e)=>{a._document.addEventListener(e,d.handler,d.options)})})))},u2e=class{constructor(a,b){this._ngZone=a;this._dropInstances=new Set;this._dragInstances=new Set;this._activeDragInstances=[];this._globalListeners=new Map;this._draggingPredicate=c=>c.isDragging();this.pointerMove=new _.tf;this.pointerUp=new _.tf;this.scroll=new _.tf;this._preventDefaultWhileDragging=c=>{0<this._activeDragInstances.length&&
c.preventDefault()};this._persistentTouchmoveListener=c=>{0<this._activeDragInstances.length&&(this._activeDragInstances.some(this._draggingPredicate)&&c.preventDefault(),this.pointerMove.next(c))};this._document=b}isDragging(a){return-1<this._activeDragInstances.indexOf(a)}scrolled(a){const b=[this.scroll];a&&a!==this._document&&b.push(new _.ge(c=>this._ngZone.runOutsideAngular(()=>{const d=e=>{this._activeDragInstances.length&&c.next(e)};a.addEventListener("scroll",d,!0);return()=>{a.removeEventListener("scroll",
d,!0)}})));return _.De(...b)}ngOnDestroy(){this._dragInstances.forEach(a=>s2e(this,a));this._dropInstances.forEach(a=>{this._dropInstances.delete(a)});this._clearGlobalListeners();this.pointerMove.complete();this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((a,b)=>{this._document.removeEventListener(b,a.handler,a.options)});this._globalListeners.clear()}};u2e.\u0275fac=function(a){return new (a||u2e)(_.p(_.Jf),_.p(_.Pg))};
u2e.\u0275prov=_.m({token:u2e,factory:u2e.\u0275fac,providedIn:"root"});
var hxe=0;
var v2e=class{constructor(a){this._document=a;this.positions=new Map}clear(){this.positions.clear()}cache(a){this.clear();this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()});a.forEach(b=>{this.positions.set(b,{scrollPosition:{top:b.scrollTop,left:b.scrollLeft},clientRect:$we(b)})})}handleScroll(a){const b=_.Jg(a);a=this.positions.get(b);if(!a)return null;a=a.scrollPosition;let c;if(b===this._document){var d=this.getViewportScrollPosition();c=d.top;d=d.left}else c=
b.scrollTop,d=b.scrollLeft;const e=a.top-c,f=a.left-d;this.positions.forEach((g,h)=>{g.clientRect&&b!==h&&b.contains(h)&&bxe(g.clientRect,e,f)});a.top=c;a.left=d;return{top:e,left:f}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};
var w2e=_.Hg({passive:!0}),x2e=_.Hg({passive:!1}),kxe=new Set(["position"]),y2e=function(a,b){const c=_.Ng(b);c!==a._rootElement&&(a._rootElement&&a._removeRootElementListeners(a._rootElement),a._ngZone.runOutsideAngular(()=>{c.addEventListener("mousedown",a._pointerDown,x2e);c.addEventListener("touchstart",a._pointerDown,w2e);c.addEventListener("dragstart",a._nativeDragStart,x2e)}),a._initialTransform=void 0,a._rootElement=c);"undefined"!==typeof SVGElement&&a._rootElement instanceof SVGElement&&
(a._ownerSVGElement=a._rootElement.ownerSVGElement);return a},z2e=function(a,b){a._parentDragRef=b},A2e=function(a){return a.isDragging()?a.getPlaceholderElement():a.getRootElement()},B2e=function(a,b){a._handles=b.map(d=>_.Ng(d));a._handles.forEach(d=>jxe(d,a.disabled));a._toggleNativeDragInteractions();const c=new Set;a._disabledHandles.forEach(d=>{-1<a._handles.indexOf(d)&&c.add(d)});a._disabledHandles=c},C2e=function(a,b){a._boundaryElement=b?_.Ng(b):null;a._resizeSubscription.unsubscribe();b&&
(a._resizeSubscription=a._viewportRuler.change(10).subscribe(()=>a._containInsideBoundaryOnResize()));return a},D2e=class{constructor(a,b,c,d,e,f){this._config=b;this._document=c;this._ngZone=d;this._viewportRuler=e;this._dragDropRegistry=f;this._passiveTransform={x:0,y:0};this._activeTransform={x:0,y:0};this._hasStartedDragging=!1;this._moveEvents=new _.tf;this._resizeSubscription=this._scrollSubscription=this._pointerUpSubscription=this._pointerMoveSubscription=_.be.EMPTY;this._boundaryElement=
null;this._nativeInteractionsEnabled=!0;this._handles=[];this._disabledHandles=new Set;this._direction="ltr";this.dragStartDelay=0;this._disabled=!1;this.beforeStarted=new _.tf;this.started=new _.tf;this.released=new _.tf;this.ended=new _.tf;this.entered=new _.tf;this.exited=new _.tf;this.dropped=new _.tf;this.moved=this._moveEvents;this._pointerDown=g=>{this.beforeStarted.next();if(this._handles.length){const h=this._getTargetHandle(g);!h||this._disabledHandles.has(h)||this.disabled||this._initializeDragSequence(h,
g)}else this.disabled||this._initializeDragSequence(this._rootElement,g)};this._pointerMove=g=>{var h=this._getPointerPositionOnPage(g);if(this._hasStartedDragging){g.preventDefault();var l=this._getConstrainedPointerPosition(h);this._hasMoved=!0;this._lastKnownPointerPosition=h;this._updatePointerDirectionDelta(l);if(this._dropContainer)this._updateActiveDropContainer(l,h);else{h=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage;var n=this._activeTransform;n.x=l.x-h.x+this._passiveTransform.x;
n.y=l.y-h.y+this._passiveTransform.y;this._applyRootElementTransform(n.x,n.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:l,event:g,distance:this._getDragDistance(l),delta:this._pointerDirectionDelta})})}else Math.abs(h.x-this._pickupPositionOnPage.x)+Math.abs(h.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold&&((h=Date.now()>=this._dragStartTime+this._getDragStartDelay(g),n=this._dropContainer,h)?n&&(n.isDragging()||
0<n._activeSiblings.size)||(g.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(g))):this._endDragSequence(g))};this._pointerUp=g=>{this._endDragSequence(g)};this._nativeDragStart=g=>{if(this._handles.length){const h=this._getTargetHandle(g);!h||this._disabledHandles.has(h)||this.disabled||g.preventDefault()}else this.disabled||g.preventDefault()};z2e(y2e(this,a),b.parentDragRef||null);this._parentPositions=new v2e(c);q2e(f,this)}get disabled(){return this._disabled||
!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(a){const b=_.Lg(a);b!==this._disabled&&(this._disabled=b,this._toggleNativeDragInteractions(),this._handles.forEach(c=>jxe(c,b)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}dispose(){this._removeRootElementListeners(this._rootElement);if(this.isDragging()){let b;null==(b=this._rootElement)||b.remove()}let a;null==(a=this._anchor)||a.remove();this._destroyPreview();this._destroyPlaceholder();
s2e(this._dragDropRegistry,this);this._removeSubscriptions();this.beforeStarted.complete();this.started.complete();this.released.complete();this.ended.complete();this.entered.complete();this.exited.complete();this.dropped.complete();this._moveEvents.complete();this._handles=[];this._disabledHandles.clear();this._dropContainer=void 0;this._resizeSubscription.unsubscribe();this._parentPositions.clear();this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=
this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"";this._activeTransform={x:0,y:0};this._passiveTransform={x:0,y:0}}withDirection(a){this._direction=a;return this}_withDropContainer(a){this._dropContainer=a}setFreeDragPosition(a){this._activeTransform={x:0,y:0};this._passiveTransform.x=a.x;this._passiveTransform.y=a.y;this._dropContainer||this._applyRootElementTransform(a.x,
a.y)}_sortFromLastPointerPosition(){const a=this._lastKnownPointerPosition;a&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(a),a)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe();this._pointerUpSubscription.unsubscribe();this._scrollSubscription.unsubscribe()}_destroyPreview(){let a;null==(a=this._preview)||a.remove();let b;null==(b=this._previewRef)||b.destroy();this._preview=this._previewRef=null}_destroyPlaceholder(){let a;null==(a=this._placeholder)||
a.remove();let b;null==(b=this._placeholderRef)||b.destroy();this._placeholder=this._placeholderRef=null}_endDragSequence(a){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),r2e(this._dragDropRegistry,this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:a}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>
{this._cleanupDragArtifacts(a);this._cleanupCachedDimensions();r2e(this._dragDropRegistry,this)});else{this._passiveTransform.x=this._activeTransform.x;const b=this._getPointerPositionOnPage(a);this._passiveTransform.y=this._activeTransform.y;this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(b),dropPoint:b,event:a})});this._cleanupCachedDimensions();r2e(this._dragDropRegistry,this)}}_startDragSequence(a){rxe(a)&&(this._lastTouchEventTime=Date.now());this._toggleNativeDragInteractions();
const b=this._dropContainer;if(b){const c=this._rootElement,d=c.parentNode,e=this._placeholder=this._createPlaceholderElement(),f=this._anchor=this._anchor||this._document.createComment(""),g=this._getShadowRoot();d.insertBefore(f,c);this._initialTransform=c.style.transform||"";this._preview=this._createPreviewElement();lxe(c,!1);this._document.body.appendChild(d.replaceChild(e,c));this._getPreviewInsertionPoint(d,g).appendChild(this._preview);this.started.next({source:this,event:a});b.start();this._initialContainer=
b;this._initialIndex=b.getItemIndex(this)}else this.started.next({source:this,event:a}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(b?b._scrollableElements:[])}_initializeDragSequence(a,b){this._parentDragRef&&b.stopPropagation();var c=this.isDragging(),d=rxe(b);const e=!d&&0!==b.button,f=this._rootElement,g=_.Jg(b),h=!d&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now();d=d?_.Gpa(b):_.Fpa(b);g&&g.draggable&&"mousedown"===b.type&&b.preventDefault();
c||e||h||d||(this._handles.length&&(c=f.style,this._rootElementTapHighlight=c.webkitTapHighlightColor||"",c.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(l=>
this._updateOnScroll(l)),this._boundaryElement&&(this._boundaryRect=$we(this._boundaryElement)),this._pickupPositionInElement=(c=this._previewTemplate)&&c.template&&!c.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,a,b),a=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(b),this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:a.x,y:a.y},this._dragStartTime=Date.now(),t2e(this._dragDropRegistry,this,
b))}_cleanupDragArtifacts(a){lxe(this._rootElement,!0);this._anchor.parentNode.replaceChild(this._rootElement,this._anchor);this._destroyPreview();this._destroyPlaceholder();this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0;this._ngZone.run(()=>{const b=this._dropContainer,c=b.getItemIndex(this),d=this._getPointerPositionOnPage(a),e=this._getDragDistance(d),f=b._isOverContainer(d.x,d.y);this.ended.next({source:this,distance:e,dropPoint:d,event:a});this.dropped.next({item:this,
currentIndex:c,previousIndex:this._initialIndex,container:b,previousContainer:this._initialContainer,isPointerOverContainer:f,distance:e,dropPoint:d,event:a});b.drop(this,c,this._initialIndex,this._initialContainer,f,e,d);this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:a,y:b},{x:c,y:d}){let e=this._initialContainer._getSiblingContainerFromPosition(this,a,b);!e&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(a,b)&&(e=this._initialContainer);
e&&e!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer});this._dropContainer.exit(this);this._dropContainer=e;this._dropContainer.enter(this,a,b,e===this._initialContainer&&e.sortingDisabled?this._initialIndex:void 0);this.entered.next({item:this,container:e,currentIndex:e.getItemIndex(this)})});this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(c,d),this._dropContainer._sortItem(this,a,b,this._pointerDirectionDelta),this.constrainPosition?
this._applyPreviewTransform(a,b):this._applyPreviewTransform(a-this._pickupPositionInElement.x,b-this._pickupPositionInElement.y))}_createPreviewElement(){const a=this._previewTemplate,b=this.previewClass;var c=a?a.template:null;let d;if(c&&a){const e=a.matchSize?this._initialClientRect:null;c=a.viewContainer.createEmbeddedView(c,a.context);c.detectChanges();d=sxe(c,this._document);this._previewRef=c;a.matchSize?txe(d,e):d.style.transform=qxe(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else d=
gxe(this._rootElement),txe(d,this._initialClientRect),this._initialTransform&&(d.style.transform=this._initialTransform);ixe(d.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1E3}`},kxe);jxe(d,!1);d.classList.add("cdk-drag-preview");d.setAttribute("dir",this._direction);b&&(Array.isArray(b)?b.forEach(e=>d.classList.add(e)):d.classList.add(b));return d}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const a=this._placeholder.getBoundingClientRect();
this._preview.classList.add("cdk-drag-animating");this._applyPreviewTransform(a.left,a.top);const b=pxe(this._preview);return 0===b?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(c=>{const d=f=>{if(!f||_.Jg(f)===this._preview&&"transform"===f.propertyName){let g;null==(g=this._preview)||g.removeEventListener("transitionend",d);c();clearTimeout(e)}},e=setTimeout(d,1.5*b);this._preview.addEventListener("transitionend",d)}))}_createPlaceholderElement(){var a=this._placeholderTemplate;
const b=a?a.template:null;b?(this._placeholderRef=a.viewContainer.createEmbeddedView(b,a.context),this._placeholderRef.detectChanges(),a=sxe(this._placeholderRef,this._document)):a=gxe(this._rootElement);a.style.pointerEvents="none";a.classList.add("cdk-drag-placeholder");return a}_getPointerPositionInElement(a,b,c){b=(b=b===this._rootElement?null:b)?b.getBoundingClientRect():a;c=rxe(c)?c.targetTouches[0]:c;const d=this._getViewportScrollPosition();return{x:b.left-a.left+(c.pageX-b.left-d.left),y:b.top-
a.top+(c.pageY-b.top-d.top)}}_getPointerPositionOnPage(a){var b=this._getViewportScrollPosition(),c=rxe(a)?a.touches[0]||a.changedTouches[0]||{pageX:0,pageY:0}:a;a=c.pageX-b.left;b=c.pageY-b.top;if(this._ownerSVGElement&&(c=this._ownerSVGElement.getScreenCTM())){const d=this._ownerSVGElement.createSVGPoint();d.x=a;d.y=b;return d.matrixTransform(c.inverse())}return{x:a,y:b}}_getConstrainedPointerPosition(a){var b=this._dropContainer?this._dropContainer.lockAxis:null;let {x:c,y:d}=this.constrainPosition?
this.constrainPosition(a,this,this._initialClientRect):a;if("x"===this.lockAxis||"x"===b)d=this._pickupPositionOnPage.y;else if("y"===this.lockAxis||"y"===b)c=this._pickupPositionOnPage.x;if(this._boundaryRect){a=this._pickupPositionInElement.x;var e=this._pickupPositionInElement.y;b=this._boundaryRect;const {width:f,height:g}=this._getPreviewRect(),h=b.top+e;e=b.bottom-(g-e);c=Math.max(b.left+a,Math.min(b.right-(f-a),c));d=Math.max(h,Math.min(e,d))}return{x:c,y:d}}_updatePointerDirectionDelta(a){const b=
a.x;a=a.y;const c=this._pointerDirectionDelta,d=this._pointerPositionAtLastDirectionChange,e=Math.abs(a-d.y);Math.abs(b-d.x)>this._config.pointerDirectionChangeThreshold&&(c.x=b>d.x?1:-1,d.x=b);e>this._config.pointerDirectionChangeThreshold&&(c.y=a>d.y?1:-1,d.y=a);return c}_toggleNativeDragInteractions(){if(this._rootElement&&this._handles){var a=0<this._handles.length||!this.isDragging();a!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=a,jxe(this._rootElement,a))}}_removeRootElementListeners(a){a.removeEventListener("mousedown",
this._pointerDown,x2e);a.removeEventListener("touchstart",this._pointerDown,w2e);a.removeEventListener("dragstart",this._nativeDragStart,x2e)}_applyRootElementTransform(a,b){a=qxe(a,b);b=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=b.transform&&"none"!=b.transform?b.transform:"");b.transform=mxe(a,this._initialTransform)}_applyPreviewTransform(a,b){let c;const d=(null==(c=this._previewTemplate)?0:c.template)?void 0:this._initialTransform;this._preview.style.transform=
mxe(qxe(a,b),d)}_getDragDistance(a){const b=this._pickupPositionOnPage;return b?{x:a.x-b.x,y:a.y-b.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0;this._parentPositions.clear()}_containInsideBoundaryOnResize(){let {x:a,y:b}=this._passiveTransform;if(!(0===a&&0===b||this.isDragging())&&this._boundaryElement){var c=this._rootElement.getBoundingClientRect(),d=this._boundaryElement.getBoundingClientRect();if(!(0===d.width&&0===d.height||0===c.width&&0===c.height)){var e=
d.left-c.left,f=c.right-d.right,g=d.top-c.top,h=c.bottom-d.bottom;d.width>c.width?(0<e&&(a+=e),0<f&&(a-=f)):a=0;d.height>c.height?(0<g&&(b+=g),0<h&&(b-=h)):b=0;a===this._passiveTransform.x&&b===this._passiveTransform.y||this.setFreeDragPosition({y:b,x:a})}}}_getDragStartDelay(a){const b=this.dragStartDelay;return"number"===typeof b?b:rxe(a)?b.touch:b?b.mouse:0}_updateOnScroll(a){const b=this._parentPositions.handleScroll(a);b&&(a=_.Jg(a),this._boundaryRect&&a!==this._boundaryElement&&a.contains(this._boundaryElement)&&
bxe(this._boundaryRect,b.top,b.left),this._pickupPositionOnPage.x+=b.left,this._pickupPositionOnPage.y+=b.top,this._dropContainer||(this._activeTransform.x-=b.left,this._activeTransform.y-=b.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y)))}_getViewportScrollPosition(){let a;return(null==(a=this._parentPositions.positions.get(this._document))?void 0:a.scrollPosition)||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){void 0===this._cachedShadowRoot&&
(this._cachedShadowRoot=_.Opa(this._rootElement));return this._cachedShadowRoot}_getPreviewInsertionPoint(a,b){const c=this._previewContainer||"global";return"parent"===c?a:"global"===c?(a=this._document,b||a.fullscreenElement||a.webkitFullscreenElement||a.mozFullScreenElement||a.msFullscreenElement||a.body):_.Ng(c)}_getPreviewRect(){this._previewRect&&(this._previewRect.width||this._previewRect.height)||(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect);
return this._previewRect}_getTargetHandle(a){return this._handles.find(b=>a.target&&(a.target===b||b.contains(a.target)))}};
var E2e=function(a,b){a._sortPredicate=b},F2e=function(a,b,c){a._itemPositions.forEach(({clientRect:d})=>{bxe(d,b,c)});a._itemPositions.forEach(({drag:d})=>{a._dragDropRegistry.isDragging(d)&&d._sortFromLastPointerPosition()})},G2e=class{constructor(a,b){this._element=a;this._dragDropRegistry=b;this._itemPositions=[];this.orientation="vertical";this._previousSwap={drag:null,delta:0,overlaps:!1}}start(a){this.withItems(a)}sort(a,b,c,d){const e=this._itemPositions,f=this._getItemIndexFromPointerPosition(a,
b,c,d);if(-1===f&&0<e.length)return null;const g="horizontal"===this.orientation,h=e.findIndex(B=>B.drag===a),l=e[f],n=l.clientRect,r=h>f?1:-1,v=this._getItemOffsetPx(e[h].clientRect,n,r),w=this._getSiblingOffsetPx(h,e,r),y=e.slice();uxe(e,h,f);e.forEach((B,G)=>{if(y[G]!==B){var O=B.drag===a;G=O?v:w;O=O?a.getPlaceholderElement():B.drag.getRootElement();B.offset+=G;g?(O.style.transform=mxe(`translate3d(${Math.round(B.offset)}px, 0, 0)`,B.initialTransform),bxe(B.clientRect,0,G)):(O.style.transform=
mxe(`translate3d(0, ${Math.round(B.offset)}px, 0)`,B.initialTransform),bxe(B.clientRect,G,0))}});this._previousSwap.overlaps=axe(n,b,c);this._previousSwap.drag=l.drag;this._previousSwap.delta=g?d.x:d.y;return{previousIndex:h,currentIndex:f}}enter(a,b,c,d){d=null==d||0>d?this._getItemIndexFromPointerPosition(a,b,c):d;const e=this._activeDraggables,f=e.indexOf(a),g=a.getPlaceholderElement();let h=e[d];h===a&&(h=e[d+1]);!h&&(null==d||-1===d||d<e.length-1)&&this._shouldEnterAsFirstChild(b,c)&&(h=e[0]);
-1<f&&e.splice(f,1);h&&!this._dragDropRegistry.isDragging(h)?(b=h.getRootElement(),b.parentElement.insertBefore(g,b),e.splice(d,0,a)):(_.Ng(this._element).appendChild(g),e.push(a));g.style.transform="";this._cacheItemPositions()}withItems(a){this._activeDraggables=a.slice();this._cacheItemPositions()}reset(){this._activeDraggables.forEach(a=>{const b=a.getRootElement();if(b){let c;const d=null==(c=this._itemPositions.find(e=>e.drag===a))?void 0:c.initialTransform;b.style.transform=d||""}});this._itemPositions=
[];this._activeDraggables=[];this._previousSwap.drag=null;this._previousSwap.delta=0;this._previousSwap.overlaps=!1}getItemIndex(a){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(b=>b.drag===a)}_cacheItemPositions(){const a="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(b=>{const c=A2e(b);return{drag:b,offset:0,initialTransform:c.style.transform||"",clientRect:$we(c)}}).sort((b,c)=>
a?b.clientRect.left-c.clientRect.left:b.clientRect.top-c.clientRect.top)}_getItemOffsetPx(a,b,c){const d="horizontal"===this.orientation;let e=d?b.left-a.left:b.top-a.top;-1===c&&(e+=d?b.width-a.width:b.height-a.height);return e}_getSiblingOffsetPx(a,b,c){var d="horizontal"===this.orientation;const e=b[a].clientRect;a=b[a+-1*c];b=e[d?"width":"height"]*c;if(a){const f=d?"left":"top";d=d?"right":"bottom";b=-1===c?b-(a.clientRect[f]-e[d]):b+(e[f]-a.clientRect[d])}return b}_shouldEnterAsFirstChild(a,
b){if(!this._activeDraggables.length)return!1;var c=this._itemPositions;const d="horizontal"===this.orientation;if(c[0].drag!==this._activeDraggables[0])return c=c[c.length-1].clientRect,d?a>=c.right:b>=c.bottom;c=c[0].clientRect;return d?a<=c.left:b<=c.top}_getItemIndexFromPointerPosition(a,b,c,d){const e="horizontal"===this.orientation,f=this._itemPositions.findIndex(({drag:g,clientRect:h})=>{if(g===a)return!1;if(d){const l=e?d.x:d.y;if(g===this._previousSwap.drag&&this._previousSwap.overlaps&&
l===this._previousSwap.delta)return!1}return e?b>=Math.floor(h.left)&&b<Math.floor(h.right):c>=Math.floor(h.top)&&c<Math.floor(h.bottom)});return-1!==f&&this._sortPredicate(f,a)?f:-1}};
var H2e=function(a,b){const c=_.Ng(a.element);a._scrollableElements=-1===b.indexOf(c)?[c,...b]:b.slice()},I2e=function(a,b){a._sortStrategy.orientation=b},J2e=class{constructor(a,b,c,d,e){this._dragDropRegistry=b;this._ngZone=d;this._viewportRuler=e;this.autoScrollDisabled=this.sortingDisabled=this.disabled=!1;this.autoScrollStep=2;this.enterPredicate=()=>!0;this.sortPredicate=()=>!0;this.beforeStarted=new _.tf;this.entered=new _.tf;this.exited=new _.tf;this.dropped=new _.tf;this.sorted=new _.tf;
this._isDragging=!1;this._draggables=[];this._siblings=[];this._activeSiblings=new Set;this._viewportScrollSubscription=_.be.EMPTY;this._horizontalScrollDirection=this._verticalScrollDirection=0;this._stopScrollTimers=new _.tf;this._cachedShadowRoot=null;this._startScrollInterval=()=>{this._stopScrolling();_.Be(0,_.EJa).pipe(_.Af(this._stopScrollTimers)).subscribe(()=>{const f=this._scrollNode,g=this.autoScrollStep;1===this._verticalScrollDirection?f.scrollBy(0,-g):2===this._verticalScrollDirection&&
f.scrollBy(0,g);1===this._horizontalScrollDirection?f.scrollBy(-g,0):2===this._horizontalScrollDirection&&f.scrollBy(g,0)})};this.element=_.Ng(a);this._document=c;H2e(this,[this.element]);p2e(b,this);this._parentPositions=new v2e(c);this._sortStrategy=new G2e(this.element,b);E2e(this._sortStrategy,(f,g)=>this.sortPredicate(f,g,this))}dispose(){this._stopScrolling();this._stopScrollTimers.complete();this._viewportScrollSubscription.unsubscribe();this.beforeStarted.complete();this.entered.complete();
this.exited.complete();this.dropped.complete();this.sorted.complete();this._activeSiblings.clear();this._scrollNode=null;this._parentPositions.clear();this._dragDropRegistry._dropInstances.delete(this)}isDragging(){return this._isDragging}start(){this._draggingStarted();this._notifyReceivingSiblings()}enter(a,b,c,d){this._draggingStarted();null==d&&this.sortingDisabled&&(d=this._draggables.indexOf(a));this._sortStrategy.enter(a,b,c,d);this._cacheParentPositions();this._notifyReceivingSiblings();this.entered.next({item:a,
container:this,currentIndex:this.getItemIndex(a)})}exit(a){this._reset();this.exited.next({item:a,container:this})}drop(a,b,c,d,e,f,g,h={}){this._reset();this.dropped.next({item:a,currentIndex:b,previousIndex:c,container:this,previousContainer:d,isPointerOverContainer:e,distance:f,dropPoint:g,event:h})}withItems(a){const b=this._draggables;this._draggables=a;a.forEach(c=>c._withDropContainer(this));this.isDragging()&&(b.filter(c=>c.isDragging()).every(c=>-1===a.indexOf(c))?this._reset():this._sortStrategy.withItems(this._draggables))}withDirection(a){this._sortStrategy.direction=
a;return this}connectedTo(a){this._siblings=a.slice();return this}getItemIndex(a){return this._isDragging?this._sortStrategy.getItemIndex(a):this._draggables.indexOf(a)}_sortItem(a,b,c,d){!this.sortingDisabled&&this._clientRect&&cxe(this._clientRect,b,c)&&(b=this._sortStrategy.sort(a,b,c,d))&&this.sorted.next({previousIndex:b.previousIndex,currentIndex:b.currentIndex,container:this,item:a})}_startScrollingIfNecessary(a,b){if(!this.autoScrollDisabled){var c=0,d=0;this._parentPositions.positions.forEach((f,
g)=>{if(g!==this._document&&f.clientRect&&!e&&cxe(f.clientRect,a,b)){var h=f.clientRect;f=vxe(h,b);h=wxe(h,a);let l=0,n=0;if(f){const r=g.scrollTop;1===f?0<r&&(l=1):g.scrollHeight-r>g.clientHeight&&(l=2)}h&&(f=g.scrollLeft,1===h?0<f&&(n=1):g.scrollWidth-f>g.clientWidth&&(n=2));[c,d]=[l,n];if(c||d)e=g}});if(!c&&!d){const {width:f,height:g}=this._viewportRuler.getViewportSize(),h={width:f,height:g,top:0,right:f,bottom:g,left:0};c=vxe(h,b);d=wxe(h,a);var e=window}!e||c===this._verticalScrollDirection&&
d===this._horizontalScrollDirection&&e===this._scrollNode||(this._verticalScrollDirection=c,this._horizontalScrollDirection=d,this._scrollNode=e,(c||d)&&e?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const a=_.Ng(this.element).style;this.beforeStarted.next();this._isDragging=!0;this._initialScrollSnap=a.msScrollSnapType||a.scrollSnapType||"";a.scrollSnapType=a.msScrollSnapType="none";this._sortStrategy.start(this._draggables);
this._cacheParentPositions();this._viewportScrollSubscription.unsubscribe();this._listenToScrollEvents()}_cacheParentPositions(){const a=_.Ng(this.element);this._parentPositions.cache(this._scrollableElements);this._clientRect=this._parentPositions.positions.get(a).clientRect}_reset(){this._isDragging=!1;const a=_.Ng(this.element).style;a.scrollSnapType=a.msScrollSnapType=this._initialScrollSnap;this._siblings.forEach(b=>b._stopReceiving(this));this._sortStrategy.reset();this._stopScrolling();this._viewportScrollSubscription.unsubscribe();
this._parentPositions.clear()}_isOverContainer(a,b){return null!=this._clientRect&&axe(this._clientRect,a,b)}_getSiblingContainerFromPosition(a,b,c){return this._siblings.find(d=>d._canReceive(a,b,c))}_canReceive(a,b,c){if(!this._clientRect||!axe(this._clientRect,b,c)||!this.enterPredicate(a,this))return!1;a=this._getShadowRoot().elementFromPoint(b,c);if(!a)return!1;b=_.Ng(this.element);return a===b||b.contains(a)}_startReceiving(a,b){const c=this._activeSiblings;!c.has(a)&&b.every(d=>this.enterPredicate(d,
this)||-1<this._draggables.indexOf(d))&&(c.add(a),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(a){this._activeSiblings.delete(a);this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(a=>{this.isDragging()?(a=this._parentPositions.handleScroll(a))&&F2e(this._sortStrategy,a.top,a.left):0<this._activeSiblings.size&&this._cacheParentPositions()})}_getShadowRoot(){this._cachedShadowRoot||
(this._cachedShadowRoot=_.Opa(_.Ng(this.element))||this._document);return this._cachedShadowRoot}_notifyReceivingSiblings(){const a=this._sortStrategy._activeDraggables.filter(b=>b.isDragging());this._siblings.forEach(b=>b._startReceiving(this,a))}};
var K2e={dragStartThreshold:5,pointerDirectionChangeThreshold:5},L2e=function(a,b,c=K2e){return new D2e(b,c,a._document,a._ngZone,a._viewportRuler,a._dragDropRegistry)},W$=class{constructor(a,b,c,d){this._document=a;this._ngZone=b;this._viewportRuler=c;this._dragDropRegistry=d}};W$.\u0275fac=function(a){return new (a||W$)(_.p(_.Pg),_.p(_.Jf),_.p(_.Tn),_.p(u2e))};W$.\u0275prov=_.m({token:W$,factory:W$.\u0275fac,providedIn:"root"});
var M2e=0,N2e=new _.Zc("CdkDropList"),O2e=function(a){return Array.from(a._unsortedItems).sort((b,c)=>A2e(b._dragRef).compareDocumentPosition(A2e(c._dragRef))&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)},Q2e=class{constructor(a,b,c,d,e,f,g){this.element=a;this._changeDetectorRef=c;this._scrollDispatcher=d;this._dir=e;this._group=f;this._destroyed=new _.tf;this.connectedTo=[];this.id=`cdk-drop-list-${M2e++}`;this.enterPredicate=()=>!0;this.sortPredicate=()=>!0;this.dropped=new _.$k;this.entered=new _.$k;
this.exited=new _.$k;this.sorted=new _.$k;this._unsortedItems=new Set;this._dropListRef=new J2e(a,b._dragDropRegistry,b._document,b._ngZone,b._viewportRuler);this._dropListRef.data=this;g&&this._assignDefaults(g);this._dropListRef.enterPredicate=(h,l)=>this.enterPredicate(h.data,l.data);this._dropListRef.sortPredicate=(h,l,n)=>this.sortPredicate(h,l.data,n.data);this._setupInputSyncSubscription(this._dropListRef);this._handleEvents(this._dropListRef);P2e.push(this);f&&f._items.add(this)}get disabled(){return this._disabled||
!!this._group&&this._group.disabled}set disabled(a){this._dropListRef.disabled=this._disabled=_.Lg(a)}addItem(a){this._unsortedItems.add(a);this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(a){this._unsortedItems.delete(a);this._dropListRef.isDragging()&&this._syncItemsWithRef()}ngOnDestroy(){const a=P2e.indexOf(this);-1<a&&P2e.splice(a,1);this._group&&this._group._items.delete(this);this._unsortedItems.clear();this._dropListRef.dispose();this._destroyed.next();this._destroyed.complete()}_setupInputSyncSubscription(a){this._dir&&
this._dir.change.pipe(_.yf(this._dir.value),_.Af(this._destroyed)).subscribe(b=>a.withDirection(b));a.beforeStarted.subscribe(()=>{const b=_.Kg(this.connectedTo).map(c=>"string"===typeof c?P2e.find(d=>d.id===c):c);this._group&&this._group._items.forEach(c=>{-1===b.indexOf(c)&&b.push(c)});if(!this._scrollableParentsResolved){const c=_.Qn(this._scrollDispatcher,this.element).map(d=>d.elementRef.nativeElement);H2e(this._dropListRef,c);this._scrollableParentsResolved=!0}a.disabled=this.disabled;a.lockAxis=
this.lockAxis;a.sortingDisabled=_.Lg(this.sortingDisabled);a.autoScrollDisabled=_.Lg(this.autoScrollDisabled);a.autoScrollStep=_.Og(this.autoScrollStep,2);I2e(a.connectedTo(b.filter(c=>c&&c!==this).map(c=>c._dropListRef)),this.orientation)})}_handleEvents(a){a.beforeStarted.subscribe(()=>{this._syncItemsWithRef();this._changeDetectorRef.markForCheck()});a.entered.subscribe(b=>{this.entered.emit({container:this,item:b.item.data,currentIndex:b.currentIndex})});a.exited.subscribe(b=>{this.exited.emit({container:this,
item:b.item.data});this._changeDetectorRef.markForCheck()});a.sorted.subscribe(b=>{this.sorted.emit({previousIndex:b.previousIndex,currentIndex:b.currentIndex,container:this,item:b.item.data})});a.dropped.subscribe(b=>{this.dropped.emit({previousIndex:b.previousIndex,currentIndex:b.currentIndex,previousContainer:b.previousContainer.data,container:b.container.data,item:b.item.data,isPointerOverContainer:b.isPointerOverContainer,distance:b.distance,dropPoint:b.dropPoint,event:b.event});this._changeDetectorRef.markForCheck()})}_assignDefaults(a){const b=
a.lockAxis,c=a.draggingDisabled,d=a.sortingDisabled,e=a.listAutoScrollDisabled;a=a.listOrientation;this.disabled=null==c?!1:c;this.sortingDisabled=null==d?!1:d;this.autoScrollDisabled=null==e?!1:e;this.orientation=a||"vertical";b&&(this.lockAxis=b)}_syncItemsWithRef(){this._dropListRef.withItems(O2e(this).map(a=>a._dragRef))}},P2e=[];Q2e.\u0275fac=function(a){return new (a||Q2e)(_.A(_.ad),_.A(W$),_.A(_.el),_.A(_.Rn),_.A(_.In,8),_.A(n2e,12),_.A(i2e,8))};
Q2e.\u0275dir=_.q({type:Q2e,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(a,b){a&2&&(_.zd("id",b.id),_.Bd("cdk-drop-list-disabled",b.disabled)("cdk-drop-list-dragging",b._dropListRef.isDragging())("cdk-drop-list-receiving",0<b._dropListRef._activeSiblings.size))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis",
"lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},
exportAs:["cdkDropList"],features:[_.Wd([{provide:n2e,useValue:void 0},{provide:N2e,useExisting:Q2e}])]});
var S2e=class{constructor(a,b,c,d,e,f,g,h,l,n,r){this.element=a;this.dropContainer=b;this._ngZone=d;this._viewContainerRef=e;this._dir=g;this._changeDetectorRef=l;this._selfHandle=n;this._parentDrag=r;this._destroyed=new _.tf;this.started=new _.$k;this.released=new _.$k;this.ended=new _.$k;this.entered=new _.$k;this.exited=new _.$k;this.dropped=new _.$k;this.moved=new _.ge(v=>{const w=this._dragRef.moved.pipe(_.U(y=>({source:this,pointerPosition:y.pointerPosition,event:y.event,delta:y.delta,distance:y.distance}))).subscribe(v);
return()=>{w.unsubscribe()}});this._dragRef=L2e(h,a,{dragStartThreshold:f&&null!=f.dragStartThreshold?f.dragStartThreshold:5,pointerDirectionChangeThreshold:f&&null!=f.pointerDirectionChangeThreshold?f.pointerDirectionChangeThreshold:5,zIndex:null==f?void 0:f.zIndex});this._dragRef.data=this;R2e.push(this);f&&this._assignDefaults(f);b&&(this._dragRef._withDropContainer(b._dropListRef),b.addItem(this));this._syncInputs(this._dragRef);this._handleEvents(this._dragRef)}get disabled(){return this._disabled||
this.dropContainer&&this.dropContainer.disabled}set disabled(a){this._disabled=_.Lg(a);this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}setFreeDragPosition(a){this._dragRef.setFreeDragPosition(a)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(_.af(1),_.Af(this._destroyed)).subscribe(()=>{this._updateRootElement();this._setupHandlesListener();
this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(a){const b=a.rootElementSelector;a=a.freeDragPosition;b&&!b.firstChange&&this._updateRootElement();a&&!a.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const a=R2e.indexOf(this);-1<a&&R2e.splice(a,1);this._ngZone.runOutsideAngular(()=>{this._destroyed.next();this._destroyed.complete();this._dragRef.dispose()})}_updateRootElement(){const a=
this.element.nativeElement;let b=a;if(this.rootElementSelector){let c;b=void 0!==a.closest?a.closest(this.rootElementSelector):null==(c=a.parentElement)?void 0:c.closest(this.rootElementSelector)}y2e(this._dragRef,b||a)}_getBoundaryElement(){const a=this.boundaryElement;return a?"string"===typeof a?this.element.nativeElement.closest(a):_.Ng(a):null}_syncInputs(a){a.beforeStarted.subscribe(()=>{if(!a.isDragging()){const c=this._dir;var b=this.dragStartDelay;const d=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,
context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,e=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;a.disabled=this.disabled;a.lockAxis=this.lockAxis;a.dragStartDelay="object"===typeof b&&b?b:_.Og(b);a.constrainPosition=this.constrainPosition;a.previewClass=this.previewClass;b=C2e(a,this._getBoundaryElement());b._placeholderTemplate=
d;b._previewTemplate=e;b._previewContainer=this.previewContainer||"global";c&&a.withDirection(c.value)}});a.beforeStarted.pipe(_.af(1)).subscribe(()=>{if(this._parentDrag)a._parentDragRef=this._parentDrag._dragRef;else for(var b=this.element.nativeElement.parentElement;b;){if(b.classList.contains("cdk-drag")){let c;z2e(a,(null==(c=R2e.find(d=>d.element.nativeElement===b))?void 0:c._dragRef)||null);break}b=b.parentElement}})}_handleEvents(a){a.started.subscribe(b=>{this.started.emit({source:this,event:b.event});
this._changeDetectorRef.markForCheck()});a.released.subscribe(b=>{this.released.emit({source:this,event:b.event})});a.ended.subscribe(b=>{this.ended.emit({source:this,distance:b.distance,dropPoint:b.dropPoint,event:b.event});this._changeDetectorRef.markForCheck()});a.entered.subscribe(b=>{this.entered.emit({container:b.container.data,item:this,currentIndex:b.currentIndex})});a.exited.subscribe(b=>{this.exited.emit({container:b.container.data,item:this})});a.dropped.subscribe(b=>{this.dropped.emit({previousIndex:b.previousIndex,
currentIndex:b.currentIndex,previousContainer:b.previousContainer.data,container:b.container.data,isPointerOverContainer:b.isPointerOverContainer,item:this,distance:b.distance,dropPoint:b.dropPoint,event:b.event})})}_assignDefaults(a){const b=a.lockAxis,c=a.dragStartDelay,d=a.constrainPosition,e=a.previewClass,f=a.boundaryElement,g=a.draggingDisabled,h=a.rootElementSelector;a=a.previewContainer;this.disabled=null==g?!1:g;this.dragStartDelay=c||0;b&&(this.lockAxis=b);d&&(this.constrainPosition=d);
e&&(this.previewClass=e);f&&(this.boundaryElement=f);h&&(this.rootElementSelector=h);a&&(this.previewContainer=a)}_setupHandlesListener(){this._handles.changes.pipe(_.yf(this._handles),_.Ef(a=>{a=a.filter(b=>b._parentDrag===this).map(b=>b.element);this._selfHandle&&this.rootElementSelector&&a.push(this.element);B2e(this._dragRef,a)}),_.zf(a=>_.De(...a.map(b=>b._stateChanges.pipe(_.yf(b))))),_.Af(this._destroyed)).subscribe(a=>{const b=this._dragRef,c=a.element.nativeElement;a.disabled?!b._disabledHandles.has(c)&&
-1<b._handles.indexOf(c)&&(b._disabledHandles.add(c),jxe(c,!0)):b._disabledHandles.has(c)&&(b._disabledHandles.delete(c),jxe(c,b.disabled))})}},R2e=[];S2e.\u0275fac=function(a){return new (a||S2e)(_.A(_.ad),_.A(N2e,12),_.A(_.Pg),_.A(_.Jf),_.A(_.Me),_.A(i2e,8),_.A(_.In,8),_.A(W$),_.A(_.el),_.A(k2e,10),_.A(j2e,12))};
S2e.\u0275dir=_.q({type:S2e,selectors:[["","cdkDrag",""]],contentQueries:function(a,b,c){a&1&&(_.Pe(c,m2e,5),_.Pe(c,l2e,5),_.Pe(c,k2e,5));if(a&2){let d;_.Ne(d=_.Qe())&&(b._previewTemplate=d.first);_.Ne(d=_.Qe())&&(b._placeholderTemplate=d.first);_.Ne(d=_.Qe())&&(b._handles=d)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(a,b){a&2&&_.Bd("cdk-drag-disabled",b.disabled)("cdk-drag-dragging",b._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],
rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",
ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[_.Wd([{provide:j2e,useExisting:S2e}]),_.Gc]});
var T2e=class{};T2e.\u0275fac=function(a){return new (a||T2e)};T2e.\u0275mod=_.Bc({type:T2e});T2e.\u0275inj=_.tc({providers:[W$],imports:[_.Un]});
var U2e=["*",[["","s8sDashboardMessage",""]]],yxe=function(a){const b=[];for(let c=0;c<a.orderedItemIds.length;c++){const d=V2e(a,a.orderedItemIds[c]);d&&b.push(d)}return b},Y2e=function(a){W2e(a,Cxe(a)).subscribe(b=>{const c=a.items.map(d=>d.id);if(null==b?0:b.visibility)a.visibleItemIds=c.filter(d=>{let e,f;return null!=(f=null==(e=b.visibility)?void 0:e[d])?f:!0});if(null==b?0:b.orderedItems)a.orderedItemIds=[...b.orderedItems.filter(d=>c.includes(d)),...c.filter(d=>{let e;return!(null==(e=b.orderedItems)?
0:e.includes(d))})];0!==a.visibleItemIds.length&&0!==a.orderedItemIds.length||X2e(a)},()=>{X2e(a)})},X2e=function(a){a.visibleItemIds=a.items.map(b=>b.id);a.orderedItemIds=[...a.visibleItemIds]},V2e=function(a,b){return a.items.find(c=>c.id===b)},Cxe=function(a){return{setting:"SERVERLESS_DASHBOARD_CONFIGURATION",subkey:a.id}},W2e=function(a,b){return a.basicTypesService.get({key:b}).pipe(_.U(c=>{let d;return null==(d=c.value)?void 0:d.protoVal}),_.Af(a.destroy))},Z2e=function(a){a=a.items.map(b=>
b.id).sort();for(let b=0;b<a.length-1;b++)if(a[b+1]===a[b])return a[b];return null},$2e=class{constructor(a){this.basicTypesService=a;this.customizable=!0;this.visibleItemIds=[];this.reorderingEnabled=_.Of("WorkflowsCustomizableDashboardReordering__enabled");this.orderedItemIds=[];this.destroy=new _.rf}set dashboardId(a){this.id=a?_.KPc(f2e,a)?a:void 0:void 0}ngAfterContentInit(){if(this.customizable){const a=Z2e(this);if(null!==a)throw Error("Nl`"+a);}this.id&&this.customizable?Y2e(this):X2e(this)}ngOnDestroy(){this.destroy.next();
this.destroy.complete()}drop(a){uxe(this.orderedItemIds,a.previousIndex,a.currentIndex)}triggerBuilder(){return"Configure dashboard"}};$2e.\u0275fac=function(a){return new (a||$2e)(_.A(_.su))};
$2e.\u0275cmp=_.q({type:$2e,selectors:[["s8s-dashboard"]],contentQueries:function(a,b,c){a&1&&_.Pe(c,h2e,4);if(a&2){let d;_.Ne(d=_.Qe())&&(b.items=d)}},inputs:{customizable:"customizable",dashboardId:"dashboardId"},ngContentSelectors:["*","[s8sDashboardMessage]"],decls:6,vars:2,consts:function(){return[[1,"cfc-flex-container","cfc-flex-center-aligned"],["class","cfc-inline-form-control",4,"ngIf"],[1,"dashboard"],[4,"ngFor","ngForOf"],[1,"cfc-inline-form-control"],["name","dashboardItems",3,"multiple",
"hasOkCancelButtons","hasSelectAllNoneCheckbox","requireSelection","triggerBuilder","ngModel","ngModelChange","change"],["cdkDropList","",3,"cdkDropListDropped",4,"ngIf","ngIfElse"],["noReordering",""],["cdkDropList","",3,"cdkDropListDropped"],["cdkDrag","",3,"value",4,"ngFor","ngForOf"],["cdkDrag","",3,"value"],[1,"cfc-flex-container","cfc-flex-space-between-content","cfc-flex-center-aligned"],["icon","expand-all","aria-label","Drag and drop icon.",1,"draganddrop-icon"],[3,"value",4,"ngFor","ngForOf"],
[3,"value"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[3,"ngTemplateOutlet"]]},template:function(a,b){a&1&&(_.Pd(U2e),_.E(0,"div",0),_.Qd(1),_.P(2,Dxe,5,8,"mat-form-field",1),_.F(),_.E(3,"div",2),_.Qd(4,1),_.P(5,Gxe,2,1,"ng-container",3),_.F());a&2&&(_.x(2),_.C("ngIf",b.customizable),_.x(3),_.C("ngForOf",yxe(b)))},dependencies:[_.qx,_.kl,_.ll,_.ol,Q2e,S2e,_.cy,_.Cw,_.xo,_.Cy,_.zy,_.Oy,_.Sy],styles:[".dashboard[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:-8px}.dashboard-item[_ngcontent-%COMP%]{flex:1 1 auto;padding:0 8px;margin-bottom:16px;flex-basis:33.33333%;min-width:400px}.dashboard-item-colspan-2[_ngcontent-%COMP%]{flex-basis:66.66666%}.dashboard-item-colspan-3[_ngcontent-%COMP%]{flex-basis:100%}.ace-icon.draganddrop-icon[_ngcontent-%COMP%]{display:none}.mat-option[_ngcontent-%COMP%]:hover   .ace-icon.draganddrop-icon[_ngcontent-%COMP%]{display:inline-block}"]});
var a3e=[_.ql,T2e,_.fy,_.Go,_.by,_.ay,_.ly],X$=class{};X$.\u0275fac=function(a){return new (a||X$)};X$.\u0275mod=_.Bc({type:X$,id:"pm_serverless_components_dashboard"});X$.\u0275inj=_.tc({imports:[a3e]});_.vd(X$,"pm_serverless_components_dashboard");
var b3e=function(a){return{name:a,id:"invocationCount",colSpan:3}},c3e=function(a){return{name:a,id:"executionTime",colSpan:1}},d3e=function(a){return{name:a,id:"memoryUtilization",colSpan:1}},e3e=function(a){return{name:a,id:"activeInstances",colSpan:1}},f3e=class{constructor(a,b,c){this.router=c;this.S8sDashboardIds=f2e;this.MSG_ACTIVE_INSTANCES_DASHBOARD_ITEM_NAME="Active instances";this.MSG_EXECUTION_TIME_DASHBOARD_ITEM_NAME="Execution time";this.MSG_INVOCATION_COUNT_DASHBOARD_ITEM_NAME="Invocation count";
this.MSG_MEMORY_UTILIZATION_DASHBOARD_ITEM_NAME="Memory utilization";this.showOldV2Warning=!1;this.intervalMs=0;this.V2_METRICS_LAUNCH_DATE=new Date("2022-02-10T00:00:00Z");this.destroyed=new _.rf;this.chartGroupHandle=tWe(a,"functions-details")}ngOnInit(){this.invocationCountChart=a2e(this.model);this.executionTimeChart=Z1e(this.model);this.memoryUtilizationChart=c2e(this.model);this.activeInstancesChart=b2e(this.model);_.Ie(0,6E4).pipe(_.Af(this.destroyed)).subscribe(()=>{const a=Date.now();this.chartGroupHandle.setDomain({min:new Date(a-
this.intervalMs),max:new Date(a)})})}ngOnChanges(a){void 0!==a.model&&(this.showOldV2Warning=this.model.isV2Function()&&!!this.model.updateTime&&0!==this.model.updateTime.getTime()&&this.model.updateTime<this.V2_METRICS_LAUNCH_DATE)}ngOnDestroy(){this.destroyed.next()}};f3e.\u0275fac=function(a){return new (a||f3e)(_.A($9),_.A(d2e),_.A(_.gg))};
f3e.\u0275cmp=_.q({type:f3e,selectors:[["gcf-tab-general-charts"]],inputs:{model:"model"},features:[_.Gc],decls:7,vars:15,consts:function(){return[[3,"dashboardId"],["cfcIntervalPickerUrlStateSync","functionsDetailsCharts","cfcTrackedEvent","","track-type","functionsDetails","track-name","chartIntervalChange",1,"cfc-space-below-minus-2",3,"rightAligned","valueChange"],["s8sDashboardMessage","","class","cfc-width-full cfc-prefix gcf-indent-small","type","warning",4,"ngIf"],[3,"config","colaEnabled",
"exportCSVEnabled",4,"s8sDashboardItem"],["s8sDashboardMessage","","type","warning",1,"cfc-width-full","cfc-prefix","gcf-indent-small"]," Metrics may not be available for 2nd gen functions deployed before February 2022. Please re-deploy this function in order to view metrics. ",["mat-button","","color","primary",3,"click"]," Redeploy ",[3,"config","colaEnabled","exportCSVEnabled"],["title","",1,"cfc-space-above-minus-6"]," Invocations/Second "," Execution time ",["subtitle",""]," Milliseconds/call ",
" Memory utilization "," MB/call "," Active instances "]},template:function(a,b){a&1&&(_.E(0,"s8s-dashboard",0)(1,"cfc-interval-picker",1),_.L("valueChange",function(c){b.chartGroupHandle.setDomain({min:c.start,max:c.end});b.intervalMs=c.end.getTime()-c.start.getTime()}),_.F(),_.P(2,Ixe,6,0,"cfc-message",2),_.P(3,Jxe,3,3,"cfc-chart-card",3),_.P(4,Kxe,5,3,"cfc-chart-card",3),_.P(5,Lxe,5,3,"cfc-chart-card",3),_.P(6,Mxe,5,3,"cfc-chart-card",3),_.F());a&2&&(_.C("dashboardId",b.S8sDashboardIds.GCF_METRICS_TAB_DASHBOARD),
_.x(1),_.C("rightAligned",!0),_.x(1),_.C("ngIf",b.showOldV2Warning),_.x(1),_.C("s8sDashboardItem",_.Yd(7,b3e,b.MSG_INVOCATION_COUNT_DASHBOARD_ITEM_NAME)),_.x(1),_.C("s8sDashboardItem",_.Yd(9,c3e,b.MSG_EXECUTION_TIME_DASHBOARD_ITEM_NAME)),_.x(1),_.C("s8sDashboardItem",_.Yd(11,d3e,b.MSG_MEMORY_UTILIZATION_DASHBOARD_ITEM_NAME)),_.x(1),_.C("s8sDashboardItem",_.Yd(13,e3e,b.MSG_ACTIVE_INSTANCES_DASHBOARD_ITEM_NAME)))},dependencies:[LWe,_.ll,$2e,h2e,_.BR,g1e,j1e,_.ot,_.lt,_.jt,_.yo,_.Ao,_.zo],styles:[".gcf-message-no-top-spacing[_ngcontent-%COMP%]{padding-top:0}.gcf-message-no-bottom-spacing[_ngcontent-%COMP%]{padding-bottom:0}.gcf-panel-no-vertical-spacing[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0}.gcf-panel-small-vertical-spacing[_ngcontent-%COMP%]{padding-top:8px;padding-bottom:8px}.gcf-top-bleed[_ngcontent-%COMP%]{margin-top:-16px}.gcf-vertical-middle[_ngcontent-%COMP%]{vertical-align:middle}.gcf-inline-block[_ngcontent-%COMP%]{display:inline-block}.gcf-indent-small[_ngcontent-%COMP%]{margin-left:8px}.gcf-margin-left-0[_ngcontent-%COMP%]{margin-left:0}.gcf-padding-left[_ngcontent-%COMP%]{padding-left:16px}.gcf-overflow-auto[_ngcontent-%COMP%]{overflow:auto}.gcf-width-code-form[_ngcontent-%COMP%]{width:395px!important}.gcf-min-height-150[_ngcontent-%COMP%]{min-height:150px}.gcf-min-height-0[_ngcontent-%COMP%]{min-height:0}.gcf-max-height-130[_ngcontent-%COMP%]{max-height:130px}.gcf-flex-fill[_ngcontent-%COMP%]{-webkit-box-flex:1;-webkit-flex:1 1 0;-moz-box-flex:1;-ms-flex:1 1 0px;flex:1 1 0}.gcf-min-width-small[_ngcontent-%COMP%]{min-width:320px}.gcf-margin-between-rows[_ngcontent-%COMP%]{margin-top:-4px}.gcf-margin-between-rows[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-top:4px}@media screen and (max-width:600px){.gcf-hide-on-mobile[_ngcontent-%COMP%]{display:none}}.gcf-show-on-mobile[_ngcontent-%COMP%]{display:none}@media screen and (max-width:600px){.gcf-show-on-mobile[_ngcontent-%COMP%]{display:block}}"]});
var g3e=[KXe,_.ql,X$,_.CR,i1e,k1e,_.qt,_.Jo],h3e=class{};h3e.\u0275fac=function(a){return new (a||h3e)};h3e.\u0275mod=_.Bc({type:h3e});h3e.\u0275inj=_.tc({imports:[g3e]});
var i3e=function(){return[]},j3e=function(){return{error:!0,count:!0}},k3e=class{};k3e.\u0275fac=function(a){return new (a||k3e)};
k3e.\u0275cmp=_.q({type:k3e,selectors:[["gcf-tab-metrics"]],inputs:{model:"model",crashData:"crashData"},decls:7,vars:6,consts:function(){return[[1,"cfc-indent","cfc-prefix"],[3,"model"]," Errors ",["type","warning",4,"ngIf"],[3,"errorGroupStats","columns"],["type","warning"]]},template:function(a,b){a&1&&(_.E(0,"div",0),_.I(1,"gcf-tab-general-charts",1),_.E(2,"mat-card")(3,"h3"),_.K(4,2),_.F(),_.P(5,Nxe,3,1,"cfc-message",3),_.I(6,"crash-error-table-view",4),_.F()());a&2&&(_.x(1),_.C("model",b.model),
_.x(4),_.C("ngIf",null==b.crashData?null:b.crashData.crashErrorGroupFailure),_.x(1),_.C("errorGroupStats",(null==b.crashData?null:b.crashData.crashErrorGroupStats)||_.Xd(4,i3e))("columns",_.Xd(5,j3e)))},dependencies:[_.ll,cYe,f3e,_.AT,_.yo,_.zo],encapsulation:2});var l3e=[_.ql,dYe,h3e,_.pV,_.Jo],m3e=class{};m3e.\u0275fac=function(a){return new (a||m3e)};m3e.\u0275mod=_.Bc({type:m3e});m3e.\u0275inj=_.tc({imports:[l3e]});
var n3e=class{constructor(a){this.policyService=a}ngOnInit(){this.iamCompatibleModel=T9d(this.model);this.roleData=_.u_b(this.policyService,[this.iamCompatibleModel])}};n3e.\u0275fac=function(a){return new (a||n3e)(_.A(_.KH))};
n3e.\u0275cmp=_.q({type:n3e,selectors:[["gcf-tab-permissions"]],inputs:{model:"model"},decls:8,vars:8,consts:function(){return[["id","gcf-permissions-action-bar","cfcTitle","Permissions",3,"titleHeadingNumber"],[1,"cfc-action-bar-content-main"],[3,"resource"],[3,"resource","table"],[1,"cfc-indent","cfc-space-above-minus-3"],[3,"resource","roleData"],["table",""]]},template:function(a,b){a&1&&(_.E(0,"cfc-action-bar",0)(1,"div",1),_.I(2,"iam-add-member-action",2)(3,"iam-remove-member-action",3),_.F()(),
_.E(4,"section",4),_.I(5,"iam-table-view",5,6),_.Zd(7,"async"),_.F());if(a&2){const c=_.Rd(6);_.C("titleHeadingNumber",2);_.x(2);_.C("resource",b.iamCompatibleModel);_.x(1);_.C("resource",b.iamCompatibleModel)("table",c);_.x(2);_.C("resource",b.iamCompatibleModel)("roleData",_.$d(7,6,b.roleData))}},dependencies:[_.YC,eYe,F0e,R0e,_.pl],encapsulation:2});var o3e=[_.XB,fYe,_.ql,G0e,S0e],p3e=class{};p3e.\u0275fac=function(a){return new (a||p3e)};p3e.\u0275mod=_.Bc({type:p3e});p3e.\u0275inj=_.tc({imports:[o3e]});
var q3e=class{constructor(a){this.flags=a;this.mainFile="";this.windowHeight=0}ngOnInit(){this.handleResize();this.iamResource=T9d(this.model)}ngOnChanges(){let a;if(null!=(a=this.model)&&a.inlineFiles){var b;this.mainFile=null!=(b=_.N3c(Object.keys(this.model.inlineFiles)))?b:""}}handleResize(){this.windowHeight=window.innerHeight}getCleanRuntimeString(a){return _.isd(_.WHc(a))}getRuntimeLaunchState(a){return _.ZY(_.WHc(a))}get editorAvailableHeight(){return this.windowHeight-48-48-24-72-36-58}};
q3e.\u0275fac=function(a){return new (a||q3e)(_.A(_.sV))};
q3e.\u0275cmp=_.q({type:q3e,selectors:[["gcf-tab-source"]],hostAttrs:[1,"cfc-flex-layout-column"],hostBindings:function(a,b){a&1&&_.L("resize",function(c){return b.handleResize(c)},!1,_.kF)},inputs:{model:"model"},features:[_.Gc],decls:16,vars:10,consts:function(){return[["fxLayoutGap","32px",1,"cfc-max-width-full","cfc-gutter-minus-2","cfc-space-last","gm2-border-bottom"],[1,"cfctest-function-details-runtime"],[1,"cfc-text-caption-strong"]," Runtime ",[3,"type",4,"ngIf"],[1,"cfc-indent","cfctest-function-details-entrypoint"],
" Entry point ",["class","cfc-indent cfctest-function-details-sourcelocation",4,"ngIf"],["role","button","mat-raised-button","","target","_blank","class","cfc-icon-button-right-align cfc-button-small","color","primary","cfcTrackedEvent","","track-type","functionsDetails","track-name","downloadSource","cfcDisable","","cfcIamCheck","cloudfunctions.functions.sourceCodeGet",3,"cfc-external-link","isInternal","cfcIamResource",4,"ngIf"],[3,"inlineStatus",4,"ngIf"],[3,"model","mainFile","readOnly","height"],
[3,"type"],[1,"cfc-indent","cfctest-function-details-sourcelocation"]," Source location ",[3,"storageObjectLink"],["role","button","mat-raised-button","","target","_blank","color","primary","cfcTrackedEvent","","track-type","functionsDetails","track-name","downloadSource","cfcDisable","","cfcIamCheck","cloudfunctions.functions.sourceCodeGet",1,"cfc-icon-button-right-align","cfc-button-small",3,"cfc-external-link","isInternal","cfcIamResource"],["icon","download","size","small"]," Download zip ",[3,
"inlineStatus"]]},template:function(a,b){a&1&&(_.E(0,"div",0)(1,"span",1)(2,"span",2),_.K(3,3),_.F(),_.Q(4),_.P(5,Oxe,1,1,"cfc-badge",4),_.F(),_.E(6,"span",5)(7,"span",2),_.K(8,6),_.F(),_.Q(9," : "),_.E(10,"code"),_.Q(11),_.F()(),_.P(12,Pxe,6,2,"span",7),_.P(13,Qxe,4,3,"a",8),_.F(),_.P(14,Rxe,1,1,"gcf-source-errors",9),_.I(15,"gcf-code-editor",10));a&2&&(_.x(4),_.Sd(" : ",b.getCleanRuntimeString(b.model.runtime)," "),_.x(1),_.C("ngIf",b.getRuntimeLaunchState(b.model.runtime)),_.x(6),_.Ud(b.model.entryPoint),
_.x(1),_.C("ngIf",b.model.gcsSourcePath),_.x(1),_.C("ngIf",b.model.downloadHref),_.x(1),_.C("ngIf",_.ayd.includes(b.model.sourceType)),_.x(1),_.C("model",b.model)("mainFile",b.mainFile)("readOnly",!0)("height",b.editorAvailableHeight))},dependencies:[_.Uu,_.Zu,_.ll,_.iz,_.BR,_.BZ,_.XD,_.z4,_.EH,_.vT,_.ot,_.rv,_.jt,_.qZd,_.e_d],encapsulation:2});var r3e=[_.Vu,_.$u,_.ql,_.kz,_.CR,_.kD,_.$D,_.A4,_.FH,_.IT,_.qt,_.r4,_.z3,_.cv,_.E4],s3e=class{};s3e.\u0275fac=function(a){return new (a||s3e)};
s3e.\u0275mod=_.Bc({type:s3e});s3e.\u0275inj=_.tc({imports:[r3e]});
var t3e=class{constructor(a){this.embeddedToolsService=a;this.MSG_INVALID_JSON="Provided JSON is not valid"}ngOnChanges(a){if(a.testDataModel){var b=this.model;a=this.testDataModel;const e=b.timeoutSec+10,f=b.isV2Function()?b.deployedUrl:b.trigger.deployedUrl;var c;var d=null==(c=b.triggerV2)?void 0:c.eventType;c=['-H "Authorization:bearer $(gcloud auth print-identity-token)"','-H "Content-Type:application/json"'];_.NHc(d)&&(b=Sxe(b),c.push('-H "ce-id: 1234567890"'),c.push('-H "ce-specversion: 1.0"'),
c.push(`-H "ce-type: ${d}"`),c.push('-H "ce-time: 2020-08-08T00:11:44.895529672Z"'),b&&c.push(`-H "ce-source: ${b}`));d=c.join(" \\\n");this.generatedTestCommand=`curl -m ${e} -X POST ${f} \\
${d} \\
-d '${a.replace(/'/g,"'\\''")}'`}}isFunctionTestable(){let a,b;return"READY"===(null==(a=this.model)?void 0:a.status)||"WARNING"===(null==(b=this.model)?void 0:b.status)}};t3e.\u0275fac=function(a){return new (a||t3e)(_.A(_.wi))};
t3e.\u0275cmp=_.q({type:t3e,selectors:[["gcf-tab-testing-curl-command"]],inputs:{model:"model",testDataModel:"testDataModel",isTestDataValid:"isTestDataValid"},features:[_.Gc],decls:7,vars:2,consts:function(){return[[1,"gcf-inline-block"],[1,"gcf-inline-block","cfc-text-title-2","cfc-font-weight-bold"]," Test Command ",["mat-button","","color","primary","type","button","cfcDisableTooltip","Function is not ready yet or provided JSON is not valid.",3,"cfcDisable","click"]," Test in Cloud Shell ",[1,
"cfc-height-full","cfc-position-relative"],["height","fill","overflowVertical","visible","overflowHorizontal","visible",1,"gcf-min-height-150",3,"content"]]},template:function(a,b){a&1&&(_.E(0,"div",0)(1,"span",1),_.K(2,2),_.F(),_.E(3,"button",3),_.L("click",function(){b.embeddedToolsService.openCloudShellAndEnterCommand(b.generatedTestCommand.replace(/\\\n/g,"CLOUDSHELL_LINE_BREAK").replace(/\n|\s+/g," "))}),_.K(4,4),_.F()(),_.E(5,"div",5),_.I(6,"ace-code-snippet",6),_.F());a&2&&(_.x(3),_.C("cfcDisable",
!b.isFunctionTestable()||!b.isTestDataValid),_.x(3),_.C("content",b.isTestDataValid?b.generatedTestCommand:b.MSG_INVALID_JSON))},dependencies:[_.GZ,_.iz,_.ot,_.lt,_.jt],styles:[".gcf-message-no-top-spacing[_ngcontent-%COMP%]{padding-top:0}.gcf-message-no-bottom-spacing[_ngcontent-%COMP%]{padding-bottom:0}.gcf-panel-no-vertical-spacing[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0}.gcf-panel-small-vertical-spacing[_ngcontent-%COMP%]{padding-top:8px;padding-bottom:8px}.gcf-top-bleed[_ngcontent-%COMP%]{margin-top:-16px}.gcf-vertical-middle[_ngcontent-%COMP%]{vertical-align:middle}.gcf-inline-block[_ngcontent-%COMP%]{display:inline-block}.gcf-indent-small[_ngcontent-%COMP%]{margin-left:8px}.gcf-margin-left-0[_ngcontent-%COMP%]{margin-left:0}.gcf-padding-left[_ngcontent-%COMP%]{padding-left:16px}.gcf-overflow-auto[_ngcontent-%COMP%]{overflow:auto}.gcf-width-code-form[_ngcontent-%COMP%]{width:395px!important}.gcf-min-height-150[_ngcontent-%COMP%]{min-height:150px}.gcf-min-height-0[_ngcontent-%COMP%]{min-height:0}.gcf-max-height-130[_ngcontent-%COMP%]{max-height:130px}.gcf-flex-fill[_ngcontent-%COMP%]{-webkit-box-flex:1;-webkit-flex:1 1 0;-moz-box-flex:1;-ms-flex:1 1 0px;flex:1 1 0}.gcf-min-width-small[_ngcontent-%COMP%]{min-width:320px}.gcf-margin-between-rows[_ngcontent-%COMP%]{margin-top:-4px}.gcf-margin-between-rows[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-top:4px}@media screen and (max-width:600px){.gcf-hide-on-mobile[_ngcontent-%COMP%]{display:none}}.gcf-show-on-mobile[_ngcontent-%COMP%]{display:none}@media screen and (max-width:600px){.gcf-show-on-mobile[_ngcontent-%COMP%]{display:block}}"]});
var u3e=[_.D3,_.ql,_.kz,_.qt],Y$=class{};Y$.\u0275fac=function(a){return new (a||Y$)};Y$.\u0275mod=_.Bc({type:Y$});Y$.\u0275inj=_.tc({imports:[u3e]});
var w3e=function(a,b,c="{}\n"){return new v3e(a.gcfApiService,a.loggingApiService,a.pollingService,b,c)},x3e=class{constructor(a,b,c){this.gcfApiService=a;this.loggingApiService=b;this.pollingService=c}};x3e.\u0275fac=function(a){return new (a||x3e)(_.p(_.rV),_.p(_.g2),_.p(_.Uq))};x3e.\u0275prov=_.m({token:x3e,factory:x3e.\u0275fac,providedIn:"root"});
var y3e=function(a){a.logPolling&&(a.logPolling.unsubscribe(),a.logPolling=void 0)},A3e=function(a,b){const c='resource.type="cloud_function"\n'+`resource.labels.function_name="${a.model.name}"\n`+`resource.labels.region="${a.model.region}"\n`+`labels.execution_id="${b}"\n`;z3e(a,c);const d={filter:c,orderBy:"timestamp desc",pageSize:100,resourceNames:[`projects/${a.model.projectId}`]};a.logPolling=a.pollingService.poll(()=>{a.loggingApiService.entries.list(new _.nMd(d)).subscribe(e=>{a.result.executionId===
b&&(a.logEntries=e.entries||[],0<a.logEntries.length&&y3e(a))})},{description:"functions logs polling config",interval:5E3,initialInterval:0}).subscribe()},z3e=function(a,b){const c=_.CQc.create(),d=c.link();d.set(c.project,a.model.projectId);d.set(c.query,b);a.logsUrl=d;a.logsFilter=b},v3e=class{constructor(a,b,c,d,e="{}\n"){this.gcfApiService=a;this.loggingApiService=b;this.pollingService=c;this.model=d;this.testData=e;this.result={};this.state="NOT_RUN";this.logEntries=[]}run(){this.state="RUNNING";
this.result={};this.logEntries=[];y3e(this);return this.promise=rze(this.gcfApiService,this.model,this.testData).then(({executionId:a,result:b,error:c})=>{this.state="FINISHED";this.result={executionId:a,result:c||b};a&&A3e(this,a)})}};
var B3e=function(){return{enabled:!1}},C3e=function(a){return{minimap:a}},D3e=function(a){let b,c;return"https"===(null==(b=a.model)?void 0:null==(c=b.trigger)?void 0:c.triggerType)},E3e=class{constructor(a,b){this.testExecutionFactory=b;this.LOG_LIMIT=100;this.testDataModel="{}";this.executions=[];this.logsViewerProjectIds=[`projects/${_.Ym(a)}`]}ngOnInit(){this.iamResource=T9d(this.model)}isFunctionTestable(){let a,b;return"READY"===(null==(a=this.model)?void 0:a.status)||"WARNING"===(null==(b=
this.model)?void 0:b.status)}get lastExecution(){return this.executions[this.executions.length-1]}};E3e.\u0275fac=function(a){return new (a||E3e)(_.A(_.Zm),_.A(x3e))};
E3e.\u0275cmp=_.q({type:E3e,selectors:[["gcf-tab-testing-v1"]],inputs:{model:"model"},decls:26,vars:14,consts:function(){return[[4,"ngIf"],["fxLayoutGap","20px","fxLayout.lt-md","column",1,"cfc-gutter-base",3,"fxLayout.gt-sm"],["fxFlex.gt-sm","50%"],["labelId","jsonEditorLabel"],[1,"gcf-inline-block","cfc-text-title-2","cfc-font-weight-bold"]," Configure Triggering Event "," Should be a valid JSON ",[1,"cfc-max-width-full"],["jsonForm","ngForm"],[1,"cfc-space-above-minus-1"],["name","codeditor","language",
"json","s8sJsonValidator","","aria-labelledby","jsonEditorLabel",3,"ngModel","disabled","options","ngModelChange"],["codeditor","ngModel"],["errorFor","json",3,"control"]," Failed to parse JSON text ",["message","Running",3,"promise"],["mat-raised-button","","color","primary","type","button","cfcIamCheck","cloudfunctions.functions.call","cfcTrackedEvent","","track-type","functionsDetails","track-name","testFunction","cfcDisableTooltip","Function is not ready yet or provided JSON is not valid.",3,
"cfcDisable","cfcIamResource","click"],"icon FUNCTIONS_SECTION iconset shelllogos size medium".split(" ")," Test the function ",[1,"cfc-color-disabled","cfc-space-above-minus-3","gcf-inline-block"]," Testing in the Cloud Console has a 5 minute timeout. Note that this is different from the limit set in the function configuration. ",["fxFlex.gt-sm","50%","fxFlex","","fxLayout","column",3,"model","testDataModel","isTestDataValid",4,"ngIf"],["type","warning",1,"cfc-indent","cfc-prefix",3,"ngSwitch"],
[4,"ngSwitchCase"],[4,"ngSwitchDefault"]," Function is still being deployed "," Function has not been deployed. You have to redeploy it to test it. ",["fxFlex.gt-sm","50%","fxFlex","","fxLayout","column",3,"model","testDataModel","isTestDataValid"],[1,"cfc-indent","cfc-prefix"],[1,"cfc-space-above-plus-1"],["role","heading","aria-level","2"]," Output ",["ace-code-snippet-shell",""],"role heading aria-level 2 instrumentationId gcf-test-logs".split(" ")," Logs ",[3,"ngSwitch"],["class","cfc-indent cfc-prefix",
3,"resourceNames","filter","pageSize",4,"ngIf"],["icon","status-running",1,"cfc-indent"],[1,"cfc-color-secondary"]," Running... ",["icon","status-success",1,"cfc-indent"]," Complete ",["icon","status-inactive",1,"cfc-indent"]," Test not run "," Waiting for test to finish... ",["icon","status-warning",1,"cfc-indent"]," Not available "," Fetching... ",["mode","indeterminate"]," Fetched (up to \ufffd0\ufffd entries). ",[3,"cfcRouterLink","queryParams",4,"ngIf"],[3,"cfcRouterLink","queryParams"]," View all logs ",
[1,"cfc-indent","cfc-prefix",3,"resourceNames","filter","pageSize"]]},template:function(a,b){a&1&&(_.P(0,Vxe,5,2,"ng-container",0),_.E(1,"div",1)(2,"div",2)(3,"cfc-form-label",3)(4,"span",4),_.K(5,5),_.F(),_.E(6,"cfc-form-label-tooltip"),_.K(7,6),_.F()(),_.E(8,"mat-card")(9,"mat-card-content")(10,"form",7,8)(12,"section",9)(13,"ace-code-editor",10,11),_.L("ngModelChange",function(c){return b.testDataModel=c}),_.F()(),_.E(15,"cfc-form-error",12),_.K(16,13),_.F(),_.E(17,"cfc-progress-button",14)(18,
"button",15),_.L("click",function(){const c=w3e(b.testExecutionFactory,b.model,b.testDataModel);b.executions.push(c);c.run()}),_.I(19,"cfc-icon",16),_.Dd(20),_.K(21,17),_.Ed(),_.F()(),_.E(22,"span",18),_.K(23,19),_.F()()()()(),_.P(24,Wxe,1,3,"gcf-tab-testing-curl-command",20),_.F(),_.P(25,fye,20,9,"ng-container",0));if(a&2){const c=_.Rd(11),d=_.Rd(14);_.C("ngIf",!b.isFunctionTestable());_.x(1);_.C("fxLayout.gt-sm",D3e(b)?"row":"column");_.x(12);_.C("ngModel",b.testDataModel)("disabled",!b.isFunctionTestable())("options",
_.Yd(12,C3e,_.Xd(11,B3e)));_.x(2);_.C("control",d);_.x(2);_.C("promise",null==b.lastExecution?null:b.lastExecution.promise);_.x(1);_.C("cfcDisable",!b.isFunctionTestable()||!c.valid)("cfcIamResource",b.iamResource);_.x(6);_.C("ngIf",D3e(b));_.x(1);_.C("ngIf",b.lastExecution)}},dependencies:[_.Uu,_.EZ,_.LR,_.ll,_.ml,_.nl,_.QB,_.iz,_.BR,_.SD,_.XD,_.VD,_.$C,_.QE,_.CZ,_.EB,_.cy,_.DB,_.Cw,_.yw,_.EH,_.vT,_.UU,_.l2,_.ot,_.lt,_.jt,_.AT,_.xT,_.cK,_.aK,_.$J,_.yo,_.zo,_.ox,_.bv,_.B4,t3e],styles:[".gcf-message-no-top-spacing[_ngcontent-%COMP%]{padding-top:0}.gcf-message-no-bottom-spacing[_ngcontent-%COMP%]{padding-bottom:0}.gcf-panel-no-vertical-spacing[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0}.gcf-panel-small-vertical-spacing[_ngcontent-%COMP%]{padding-top:8px;padding-bottom:8px}.gcf-top-bleed[_ngcontent-%COMP%]{margin-top:-16px}.gcf-vertical-middle[_ngcontent-%COMP%]{vertical-align:middle}.gcf-inline-block[_ngcontent-%COMP%]{display:inline-block}.gcf-indent-small[_ngcontent-%COMP%]{margin-left:8px}.gcf-margin-left-0[_ngcontent-%COMP%]{margin-left:0}.gcf-padding-left[_ngcontent-%COMP%]{padding-left:16px}.gcf-overflow-auto[_ngcontent-%COMP%]{overflow:auto}.gcf-width-code-form[_ngcontent-%COMP%]{width:395px!important}.gcf-min-height-150[_ngcontent-%COMP%]{min-height:150px}.gcf-min-height-0[_ngcontent-%COMP%]{min-height:0}.gcf-max-height-130[_ngcontent-%COMP%]{max-height:130px}.gcf-flex-fill[_ngcontent-%COMP%]{-webkit-box-flex:1;-webkit-flex:1 1 0;-moz-box-flex:1;-ms-flex:1 1 0px;flex:1 1 0}.gcf-min-width-small[_ngcontent-%COMP%]{min-width:320px}.gcf-margin-between-rows[_ngcontent-%COMP%]{margin-top:-4px}.gcf-margin-between-rows[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-top:4px}@media screen and (max-width:600px){.gcf-hide-on-mobile[_ngcontent-%COMP%]{display:none}}.gcf-show-on-mobile[_ngcontent-%COMP%]{display:none}@media screen and (max-width:600px){.gcf-show-on-mobile[_ngcontent-%COMP%]{display:block}}"]});
var F3e=[_.Vu,_.C3,_.MR,_.ql,_.kz,_.CR,_.$D,_.aD,_.RE,_.fy,_.FH,_.IT,_.VU,_.j3,_.qt,_.pV,_.eK,_.Jo,_.px,_.cv,_.C4,Y$],G3e=class{};G3e.\u0275fac=function(a){return new (a||G3e)};G3e.\u0275mod=_.Bc({type:G3e});G3e.\u0275inj=_.tc({imports:[F3e]});
var H3e=class{};H3e.\u0275fac=function(a){return new (a||H3e)};
H3e.\u0275cmp=_.q({type:H3e,selectors:[["gcf-testing-v2-info-dialog"]],decls:18,vars:0,consts:function(){return[["matDialogTitle",""]," Generating Test Commands\n",["matDialogContent",""]," Testing improvements are still in development for 2nd gen. In the meantime, you can easily test your function by configuring the payload and copying the curl command into your terminal. \ufffd#5\ufffd Learn more \ufffd/#5\ufffd",["cfcDocHref","FUNCTIONS_DOCS_TESTING_TEST_OVERVIEW","aria-label","Learn more about testing 2nd gen Cloud Functions."],
" Some things to keep in mind: ",["cfc-list",""]," JSON payload structure can be different for different trigger types. Verify you are using the appropriate payload. ",' Test commands only work for HTTP triggered functions with "allow unauthenticated invocations" enabled, or for users that have a Cloud Functions invoker role. '," After running the test command, you must switch to the logs tab in order to see results. ",["matDialogActions",""],"mat-button  matDialogClose  color primary".split(" "),
" Close "]},template:function(a){a&1&&(_.E(0,"h1",0),_.K(1,1),_.F(),_.E(2,"div",2)(3,"p"),_.Id(4,3),_.I(5,"a",4),_.Jd(),_.F(),_.E(6,"p"),_.K(7,5),_.F(),_.E(8,"ul",6)(9,"li"),_.K(10,7),_.F(),_.E(11,"li"),_.K(12,8),_.F(),_.E(13,"li"),_.K(14,9),_.F()()(),_.E(15,"div",10)(16,"button",11),_.K(17,12),_.F()())},dependencies:[_.Xu,_.Tu,_.ot,_.lt,_.jt,_.wp,_.xp,_.yp,_.zp],encapsulation:2});
var I3e=function(){return{enabled:!1}},J3e=function(a){return{minimap:a}},K3e=function(a){vze(a.tabernaService).pipe(_.Af(a.destroy),_.af(1)).subscribe(b=>{b&&(a.dialog.open(H3e),a.tabernaService.basicTypesService.update({key:uze,value:{boolVal:!0}}))})},L3e=class{constructor(a,b,c){this.flags=a;this.dialog=b;this.tabernaService=c;this.destroy=new _.tf}ngOnInit(){this.testDataModel=_.uvd(this.model);K3e(this)}ngOnDestroy(){this.destroy.next();this.destroy.complete()}};
L3e.\u0275fac=function(a){return new (a||L3e)(_.A(_.sV),_.A(_.vp),_.A(_.D4))};
L3e.\u0275cmp=_.q({type:L3e,selectors:[["gcf-tab-testing-v2"]],inputs:{model:"model"},decls:22,vars:11,consts:function(){return[["badge","preview","id","gcf-generate-test-action-bar","cfcTitle","Generate Test Command",3,"allowToolbarMode"],[1,"cfc-gutter-base"],["type","warning"]," Note: Testing improvements are still in development for 2nd gen. In the meantime, please use this to generate a testing command that you can paste into your terminal. ",["mat-button","","color","primary","aria-label","Learn more about testing 2nd gen Cloud Functions.",
3,"click"],["fxLayoutGap","20px","fxLayout.gt-sm","row","fxLayout.lt-md","column",1,"cfc-space-above-minus-3"],["fxFlex.gt-sm","50%"],["labelId","jsonEditorLabel"]," Configure Triggering Event for JSON Data POST Payload ",[1,"cfc-max-width-full"],["jsonForm","ngForm"],["name","codeditor","language","json","s8sJsonValidator","","aria-labelledby","jsonEditorLabel",3,"ngModel","options","ngModelChange"],["codeditor","ngModel"],[3,"errorFor","control"]," Failed to parse JSON text ",["fxFlex.gt-sm","50%",
"fxFlex","","fxLayout","column",3,"model","testDataModel","isTestDataValid"]]},template:function(a,b){a&1&&(_.I(0,"cfc-action-bar",0),_.E(1,"div",1)(2,"cfc-message",2)(3,"cfc-message-text"),_.K(4,3),_.F(),_.E(5,"cfc-message-actions")(6,"button",4),_.L("click",function(){b.dialog.open(H3e)}),_.Q(7," Learn more "),_.F()()(),_.E(8,"div",5)(9,"div",6)(10,"cfc-form-label",7)(11,"h3"),_.K(12,8),_.F()(),_.E(13,"mat-card")(14,"mat-card-content")(15,"form",9,10)(17,"ace-code-editor",11,12),_.L("ngModelChange",
function(c){return b.testDataModel=c}),_.F(),_.E(19,"cfc-form-error",13),_.K(20,14),_.F()()()()(),_.I(21,"gcf-tab-testing-curl-command",15),_.F()());if(a&2){const c=_.Rd(16),d=_.Rd(18);let e;_.C("allowToolbarMode",!1);_.x(17);_.C("ngModel",b.testDataModel)("options",_.Yd(9,J3e,_.Xd(8,I3e)));_.x(2);_.C("errorFor","json")("control",d);_.x(2);_.C("model",b.model)("testDataModel",b.testDataModel)("isTestDataValid",null!==(e=c.valid)&&void 0!==e?e:!1)}},dependencies:[_.YC,_.EZ,_.SD,_.XD,_.VD,_.$C,_.QE,
_.EB,_.cy,_.DB,_.Cw,_.yw,_.ot,_.lt,_.jt,_.AT,_.xT,_.yo,_.Ao,_.zo,_.B4,t3e],styles:[".gcf-message-no-top-spacing[_ngcontent-%COMP%]{padding-top:0}.gcf-message-no-bottom-spacing[_ngcontent-%COMP%]{padding-bottom:0}.gcf-panel-no-vertical-spacing[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0}.gcf-panel-small-vertical-spacing[_ngcontent-%COMP%]{padding-top:8px;padding-bottom:8px}.gcf-top-bleed[_ngcontent-%COMP%]{margin-top:-16px}.gcf-vertical-middle[_ngcontent-%COMP%]{vertical-align:middle}.gcf-inline-block[_ngcontent-%COMP%]{display:inline-block}.gcf-indent-small[_ngcontent-%COMP%]{margin-left:8px}.gcf-margin-left-0[_ngcontent-%COMP%]{margin-left:0}.gcf-padding-left[_ngcontent-%COMP%]{padding-left:16px}.gcf-overflow-auto[_ngcontent-%COMP%]{overflow:auto}.gcf-width-code-form[_ngcontent-%COMP%]{width:395px!important}.gcf-min-height-150[_ngcontent-%COMP%]{min-height:150px}.gcf-min-height-0[_ngcontent-%COMP%]{min-height:0}.gcf-max-height-130[_ngcontent-%COMP%]{max-height:130px}.gcf-flex-fill[_ngcontent-%COMP%]{-webkit-box-flex:1;-webkit-flex:1 1 0;-moz-box-flex:1;-ms-flex:1 1 0px;flex:1 1 0}.gcf-min-width-small[_ngcontent-%COMP%]{min-width:320px}.gcf-margin-between-rows[_ngcontent-%COMP%]{margin-top:-4px}.gcf-margin-between-rows[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-top:4px}@media screen and (max-width:600px){.gcf-hide-on-mobile[_ngcontent-%COMP%]{display:none}}.gcf-show-on-mobile[_ngcontent-%COMP%]{display:none}@media screen and (max-width:600px){.gcf-show-on-mobile[_ngcontent-%COMP%]{display:block}}"]});
var M3e=[_.XB,_.C3,_.ql,_.$D,_.aD,_.RE,_.fy,_.qt,_.pV,_.Jo,_.C4,Y$],N3e=class{};N3e.\u0275fac=function(a){return new (a||N3e)};N3e.\u0275mod=_.Bc({type:N3e});N3e.\u0275inj=_.tc({imports:[M3e]});
var O3e=class{get isV2Function(){return this.model.isV2Function()}};O3e.\u0275fac=function(a){return new (a||O3e)};
O3e.\u0275cmp=_.q({type:O3e,selectors:[["gcf-tab-testing"]],inputs:{model:"model"},decls:2,vars:2,consts:[["id","gcf-testing-tab-v1",3,"model",4,"ngIf"],["id","gcf-testing-tab-v2",3,"model",4,"ngIf"],["id","gcf-testing-tab-v1",3,"model"],["id","gcf-testing-tab-v2",3,"model"]],template:function(a,b){a&1&&(_.P(0,gye,1,1,"gcf-tab-testing-v1",0),_.P(1,hye,1,1,"gcf-tab-testing-v2",1));a&2&&(_.C("ngIf",!b.model.isV2Function()),_.x(1),_.C("ngIf",b.isV2Function))},dependencies:[_.ll,E3e,L3e],encapsulation:2});
var P3e=[_.ql,G3e,N3e],Q3e=class{};Q3e.\u0275fac=function(a){return new (a||Q3e)};Q3e.\u0275mod=_.Bc({type:Q3e});Q3e.\u0275inj=_.tc({imports:[P3e]});
var R3e=class{constructor(){this.cardModes=_.EZd;this.cardTypes=_.kZd;this.triggerV2Mode=3}ngOnInit(){this.model.isV2Function()}get isMainV2TriggerAvailable(){let a;return this.model.isV2Function()&&!(null==(a=this.model.triggerV2)||!a.name)}};R3e.\u0275fac=function(a){return new (a||R3e)};
R3e.\u0275cmp=_.q({type:R3e,selectors:[["gcf-tab-triggers"]],inputs:{model:"model",activeFunctionUrl:"activeFunctionUrl"},decls:3,vars:2,consts:[[1,"cfc-space-above-plus-1","cfc-indent","cfc-prefix"],[3,"type","mode","model","activeFunctionUrl",4,"ngIf"],["class","cfc-grid cfc-grid--chart-cards",4,"ngIf"],[3,"type","mode","model","activeFunctionUrl"],[1,"cfc-grid","cfc-grid--chart-cards"],[3,"deployedHttpUrl","mode"],[3,"mode","model",4,"ngIf"],[3,"mode","model"]],template:function(a,b){a&1&&(_.E(0,
"div",0),_.P(1,iye,1,4,"gcf-trigger-card",1),_.P(2,kye,3,3,"div",2),_.F());a&2&&(_.x(1),_.C("ngIf",!b.model.isV2Function()),_.x(1),_.C("ngIf",b.model.isV2Function()))},dependencies:[_.ll,_.FZd,_.w4,_.u4],encapsulation:2});var S3e=[_.ql,_.s4,_.x4,_.v4],T3e=class{};T3e.\u0275fac=function(a){return new (a||T3e)};T3e.\u0275mod=_.Bc({type:T3e});T3e.\u0275inj=_.tc({imports:[S3e]});
var mye=function(a){return{summaries:a,id:"p6ntest-volume-list"}},oye=function(a){return{summaries:a,id:"p6ntest-env-list"}},U3e=function(a=""){const b=kAe.create();if(a.match(_.asd)){const {projectNumber:c,name:d}=_.bsd(a);return b.link().set(b.secretId,d).set(b.project,c)}return b.link().set(b.secretId,a)},W3e=class{constructor(){this.envSummaries=[];this.mountedSummaries=[]}ngOnChanges(a){if(a.configs&&a.configs.previousValue!==a.configs.currentValue){this.envSummaries=[];this.mountedSummaries=
[];var b;for(const {name:h="",volumeRef:l,envVarRef:n}of null!=(b=this.configs)?b:[]){a=h;if((b=n)&&b.references){var c=U3e(a);for(const {key:r,name:v=""}of b.references)this.envSummaries.push(new V3e(v,a,c,r))}a=h;var d=l;if(d)if(b=U3e(a),c=d.mountPath||"/",d.keys&&0<d.keys.length)for(const {key:r,path:v=""}of d.keys){d=this.mountedSummaries;var e=d.push;var f=c;var g=v;f=f.endsWith("/")||g.startsWith("/")?f+g:`${f}/${g}`;e.call(d,new V3e(f,a,b,r))}else this.mountedSummaries.push(new V3e(c,a,b))}}}};
W3e.\u0275fac=function(a){return new (a||W3e)};
W3e.\u0275cmp=_.q({type:W3e,selectors:[["gse-config-summaries-list"]],inputs:{configs:"configs"},features:[_.Gc],decls:5,vars:3,consts:function(){return[[4,"ngIf"],["summaries",""]," None ",[1,"cfc-space-below-minus-4"]," Mounted as a volume ",[3,"ngTemplateOutlet","ngTemplateOutletContext"]," Exposed as an environment variable ",["cfc-kv-list","",3,"id"],["class","p6ntest-summary",4,"ngFor","ngForOf"],[1,"p6ntest-summary"],["target","_blank",3,"cfcRouterLink","queryParams"]]},template:function(a,
b){a&1&&(_.P(0,lye,3,0,"span",0),_.P(1,nye,4,4,"ng-container",0),_.P(2,pye,4,4,"ng-container",0),_.P(3,sye,2,2,"ng-template",null,1,_.Te));a&2&&(_.C("ngIf",0===b.mountedSummaries.length&&0===b.envSummaries.length),_.x(1),_.C("ngIf",0<b.mountedSummaries.length),_.x(1),_.C("ngIf",0<b.envSummaries.length))},dependencies:[_.kl,_.ll,_.ol,_.Bt,_.bv],encapsulation:2});var X3e=[_.ql,_.Ct,_.cv],Y3e=class{};Y3e.\u0275fac=function(a){return new (a||Y3e)};Y3e.\u0275mod=_.Bc({type:Y3e});Y3e.\u0275inj=_.tc({imports:[X3e]});
var V3e=class{constructor(a,b,c,d){this.source=a;this.name=b;this.key=d;this.link=c.build();this.linkQueryCommands=c.buildQueryParams()}};
var Z3e=function(a){return{variables:a}},$3e=class{constructor(a,b){this.projectParamService=a;this.flags=b;this.attachedSecrets=[];a=_.Ym(this.projectParamService);this.secretsConfigFormListAdapter=new _.gZd(a)}ngOnChanges(a){this.secretsAvailable&&a.model&&(this.attachedSecrets=_.fZd(this.secretsConfigFormListAdapter,{secretEnvironmentVariables:this.model.secretEnvironmentVariables,secretVolumes:this.model.secretVolumes}))}get secretsAvailable(){return!this.model.isV2Function()||this.flags.secretsGen2Enabled}};
$3e.\u0275fac=function(a){return new (a||$3e)(_.A(_.Zm),_.A(_.sV))};
$3e.\u0275cmp=_.q({type:$3e,selectors:[["gcf-tab-variables"]],inputs:{model:"model"},features:[_.Gc],decls:14,vars:9,consts:function(){return[[1,"cfc-grid","cfc-grid--chart-cards","cfc-space-above-plus-1","cfc-indent","cfc-prefix"],[1,"cfctest-function-details-envvars"],["role","heading","aria-level","2"]," Runtime environment variables ",[1,"gcf-overflow-auto"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cfctest-function-details-buildenvvars"]," Build environment variables ",["class","cfctest-function-details-gcpsecrets",
4,"ngIf"],["variableList",""],[1,"cfctest-function-details-gcpsecrets"]," Secrets ",[3,"configs"],["cfc-kv-list","",4,"ngIf"],[4,"ngIf"],["cfc-kv-list",""],[4,"ngFor","ngForOf"]," None "]},template:function(a,b){a&1&&(_.E(0,"div",0)(1,"mat-card",1)(2,"mat-card-title",2),_.K(3,3),_.F(),_.E(4,"mat-card-content",4),_.Fd(5,5),_.F()(),_.E(6,"mat-card",6)(7,"mat-card-title",2),_.K(8,7),_.F(),_.E(9,"mat-card-content",4),_.Fd(10,5),_.F()(),_.P(11,tye,5,1,"mat-card",8),_.F(),_.P(12,xye,2,2,"ng-template",null,
9,_.Te));if(a&2){const c=_.Rd(13);_.x(5);_.C("ngTemplateOutlet",c)("ngTemplateOutletContext",_.Yd(5,Z3e,b.model.environmentVariables));_.x(5);_.C("ngTemplateOutlet",c)("ngTemplateOutletContext",_.Yd(7,Z3e,b.model.buildEnvironmentVariables));_.x(1);_.C("ngIf",b.secretsAvailable)}},dependencies:[_.kl,_.ll,_.ol,W3e,_.Bt,_.AT,_.xT,_.yT],styles:[".gcf-message-no-top-spacing[_ngcontent-%COMP%]{padding-top:0}.gcf-message-no-bottom-spacing[_ngcontent-%COMP%]{padding-bottom:0}.gcf-panel-no-vertical-spacing[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0}.gcf-panel-small-vertical-spacing[_ngcontent-%COMP%]{padding-top:8px;padding-bottom:8px}.gcf-top-bleed[_ngcontent-%COMP%]{margin-top:-16px}.gcf-vertical-middle[_ngcontent-%COMP%]{vertical-align:middle}.gcf-inline-block[_ngcontent-%COMP%]{display:inline-block}.gcf-indent-small[_ngcontent-%COMP%]{margin-left:8px}.gcf-margin-left-0[_ngcontent-%COMP%]{margin-left:0}.gcf-padding-left[_ngcontent-%COMP%]{padding-left:16px}.gcf-overflow-auto[_ngcontent-%COMP%]{overflow:auto}.gcf-width-code-form[_ngcontent-%COMP%]{width:395px!important}.gcf-min-height-150[_ngcontent-%COMP%]{min-height:150px}.gcf-min-height-0[_ngcontent-%COMP%]{min-height:0}.gcf-max-height-130[_ngcontent-%COMP%]{max-height:130px}.gcf-flex-fill[_ngcontent-%COMP%]{-webkit-box-flex:1;-webkit-flex:1 1 0;-moz-box-flex:1;-ms-flex:1 1 0px;flex:1 1 0}.gcf-min-width-small[_ngcontent-%COMP%]{min-width:320px}.gcf-margin-between-rows[_ngcontent-%COMP%]{margin-top:-4px}.gcf-margin-between-rows[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-top:4px}@media screen and (max-width:600px){.gcf-hide-on-mobile[_ngcontent-%COMP%]{display:none}}.gcf-show-on-mobile[_ngcontent-%COMP%]{display:none}@media screen and (max-width:600px){.gcf-show-on-mobile[_ngcontent-%COMP%]{display:block}}"]});
var a4e=[_.ql,Y3e,_.Ct,_.pV],b4e=class{};b4e.\u0275fac=function(a){return new (a||b4e)};b4e.\u0275mod=_.Bc({type:b4e});b4e.\u0275inj=_.tc({imports:[a4e]});
var Z$=class{constructor(a,b,c,d,e,f){this.analyticsService=a;this.bulkActionHelperService=b;this.bulkActionService=c;this.dialog=d;this.gcfApiService=e;this.router=f;this.functionsListUrl=_.QZ.create().link().build()}delete(a){this.dialog.open(_.aW,_.qRc({showExternalUsageWarning:_.NPc(a),externalPartnerName:_.OPc(a),functionName:a.name,functionsCount:1})).afterClosed().pipe(_.zf(b=>b?this.deleteConfirmed(a):_.S())).subscribe()}deleteConfirmed(a){var b=_.SQc(this.bulkActionHelperService);delete b.getConfirmDialogConfig;
b={ui:b,execution:{kind:"shortAction",execute:this.deleteFunction.bind(this)}};this.analyticsService.sendAnalyticsEvent("delete");return this.bulkActionService.execute(b,[a]).pipe(_.gf(),_.Ef(c=>{c.result.errors?this.analyticsService.sendAnalyticsEvent("deleteError"):this.analyticsService.sendAnalyticsEvent("deleteSuccess");this.router.navigate(this.functionsListUrl)}))}deleteFunction(a){return this.gcfApiService.deleteFunction(a.fullName,a.productVersion)}};
Z$.\u0275fac=function(a){return new (a||Z$)(_.p(_.y4),_.p(_.NV),_.p(_.MV),_.p(_.vp),_.p(_.rV),_.p(_.gg))};Z$.\u0275prov=_.m({token:Z$,factory:Z$.\u0275fac,providedIn:"root"});var c4e=class{};c4e.\u0275fac=function(a){return new (a||c4e)};c4e.\u0275mod=_.Bc({type:c4e});c4e.\u0275inj=_.tc({providers:[Z$],imports:[_.OV,_.bW]});
var Fye=function(){return{standalone:!0}},d4e=function(a,b){b.some(c=>c.revision===a.selectedRevision)||(a.selectedRevision=G1e(a.dataHolder).revision,r6(a.dataHolder,a.selectedRevision))},e4e=function(a){var b=Hxe.create();b=b.link().set(b.region,a.model.region).set(b.name,a.model.name).build();a.router.navigate(b,{queryParams:{env:_.PPc(a.model.getProductVersion())}})},f4e=function(a){var b=_.xQc.create();b=b.link().set(b.prototype,a.model.fullName);a.router.navigate(b.build(),{queryParams:b.buildQueryParams()})},
i4e=class{constructor(a,b,c,d,e,f,g,h){this.deletingUtil=a;this.gcfAnalyticsService=b;this.hatsService=c;this.projectParamService=d;this.route=e;this.router=f;this.snackbar=g;this.dataHolder=h;this.actionBarId="gcfCodeEditorActionBar";this.functionsListUrl=_.QZ.create().link().build();this.statusTooltipConfig=_.dyd;this.s8sBadgeType=this.trafficWarningMode=0;this.crashData=this.route.snapshot.data.pageData.crashData;this.dataHolder.initialize(this.route.snapshot);this.selectedRevision=this.dataHolder.getModel().versionId;
let l;a=null!=(l=this.route.snapshot.queryParams.tab)?l:"metrics";this.isInvalidV2Function&&g4e.includes(a)&&(a="metrics");this.currentTabIndex=h4e.indexOf(a);this.iamResource=T9d(this.model)}ngOnInit(){var a=this.hatsService,b=this.model;b.isV2Function()&&"READY"===b.status&&b.updateTime&&(72E5>=Date.now()-b.updateTime.getTime()||_.fRc(a.surveyService))}get model(){return this.dataHolder.getModel()}get revisions(){const a=this.dataHolder.revisionList;d4e(this,a);return a}get statusData(){let a;return null!=
(a=this.dataHolder.deploymentTrackerStatusData)?a:[]}get postDeploymentsMessages(){let a;return null!=(a=this.dataHolder.postDeploymentsMessages)?a:[]}get selectedRevisionInfo(){for(const a of this.revisions)if(a.revision===this.selectedRevision)return a}get activeFunctionUrl(){let a,b;return null==(a=this.dataHolder.getModel())?void 0:null==(b=a.trigger)?void 0:b.deployedUrl}get isV2Function(){return this.model.isV2Function()}get isInvalidV2Function(){return this.model.isInvalidV2Function()}get v2DeployedUrl(){return this.model.deployedUrl}get editEnabled(){return!sze(this.model)}get deleteEnabled(){return!sze(this.model)}get projectId(){return _.Ym(this.projectParamService)}get cloudRunLinkDisabled(){return this.dataHolder.isInitialV2Deployment}get cloudRunServiceName(){return _.IHc(this.model.cloudRunService)}get deploymentTrackerAvailable(){return this.model.isV2Function()&&
(0<this.statusData.length||0<this.postDeploymentsMessages.length)}refreshContent(){this.snackbar.open("Refreshing function details.");L1e(this.dataHolder,this.route.snapshot).then(()=>{this.selectedRevision=this.dataHolder.getModel().versionId;this.snackbar.open("Function details refreshed.")}).catch(()=>this.snackbar.open("Failed to refresh function details. Try again."))}};i4e.\u0275fac=function(a){return new (a||i4e)(_.A(Z$),_.A(_.y4),_.A(_.cW),_.A(_.Zm),_.A(_.ag),_.A(_.gg),_.A(_.wF),_.A(V$))};
i4e.\u0275cmp=_.q({type:i4e,selectors:[["ng-component"]],features:[_.Wd([V$])],decls:62,vars:30,consts:function(){return[["sectionTitle","fulltitle","cfcTitle","Function details",3,"id","s8sPageSectionTitle","breakpoint-icon"],[1,"cfc-action-bar-content-left"],["navType","back",3,"backLink","isDetailPage"],[1,"cfc-action-bar-content-main"],["mat-button","","color","primary","track-name","editButtonClick","track-type","functionsDetails","cfcTrackedEvent","","cfcIamCheck","cloudfunctions.functions.update",
"cfcDisableTooltip","Please wait until function is deployed",3,"cfcDisable","cfcIamResource","click","keydown.enter"],["icon","edit","size","small"]," Edit ",["mat-button","","color","primary","track-name","deleteButtonClick","track-type","functionsDetails","cfcTrackedEvent","","cfcIamCheck","cloudfunctions.functions.delete","cfcDisableTooltip","Please wait until function is deployed",3,"cfcDisable","cfcIamResource","click"],["icon","delete","size","small"]," Delete ",["mat-button","","color","primary",
"track-name","copyButtonClick","track-type","functionsDetails","cfcTrackedEvent","","cfcDisable","","cfcIamCheck","cloudfunctions.functions.create",3,"click","keydown.enter"],["icon","copy","size","small"]," Copy ",[1,"cfc-action-bar-content-right"],["learnPanel","functions_details_learn"],[3,"disableRefreshNavigation","onRefreshStart"],[1,"cfc-flex-grow-content",3,"disablePadding","flexContent"],[3,"mode","cloudRunServiceName","deployedAllTrafficOnLatestRevision","region",4,"ngIf"],[4,"ngIf"],["class",
"cfc-space-last",4,"ngIf"],[1,"cfc-flex-wrap-container","cfc-flex-space-between-content","cfc-space-above-minus-4","cfc-indent","cfc-prefix"],[1,"cfc-flex-wrap-container","cfc-flex-center-aligned","gcf-flex-fill","gcf-margin-between-rows","gcf-min-width-small"],[1,"cfc-max-width-full","cfc-inline-form-row","cfc-prefix"],[1,"cfc-text-title-2","cfc-space-above-minus-6","cfc-space-below-minus-5","cfc-inline-form-control","gcf-vertical-middle","gcf-inline-block","cfc-prefix"],[3,"config","resource"],
["color","primary",4,"ngIf"],["class","cfc-space-above-minus-6 cfc-space-below-minus-5 cfc-width-small\n                                 cfc-inline-form-control gcf-vertical-middle gcf-inline-block",4,"ngIf"],["class","cfc-prefix","id","gcf-details-v2-revision",4,"ngIf"],["class","cfc-prefix cfc-flex-container cfc-flex-center-aligned","id","gcf-details-v2-url",4,"ngIf"],["id","s8s-badge",3,"badgeType","linkDisabled","resourceName","region",4,"ngIf"],[1,"cfc-space-last"],[1,"gcf-min-height-0","cfc-height-full"],
[1,"cfc-space-below-minus-2","cfc-mat-tab-expand-content","cfc-height-full",3,"selectedIndex","selectedTabChange"],["label","Metrics"],["matTabContent",""],[3,"disabled"],["mat-tab-label",""],["label","Source"],["label","Testing"],[3,"mode","cloudRunServiceName","deployedAllTrafficOnLatestRevision","region"],["title","Deploying function",1,"cfc-indent","cfc-prefix",3,"statusMessages","statusDataArray"],["color","primary"]," 1st gen "," 2nd gen ",[1,"cfc-space-above-minus-6","cfc-space-below-minus-5",
"cfc-width-small","cfc-inline-form-control","gcf-vertical-middle","gcf-inline-block"]," Version ",[3,"ngModel","ngModelOptions","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["selectValueTemplate",""],[3,"value"],[1,"cfc-color-disabled"],[1,"cfc-color-secondary","gcf-indent-small"],["id","gcf-details-v2-revision",1,"cfc-prefix"],["id","gcf-details-v2-url",1,"cfc-prefix","cfc-flex-container","cfc-flex-center-aligned"],[1,"cfc-font-weight-bold"],"URL",[1,"gcf-indent-small",3,"cfc-external-link",
6,"linkText"],["linkText","\ufffd0\ufffd"],[3,"copyText","alwaysShowCopyButton"],["ariaLabel","The tooltip shown for the Cloud Functions 2nd gen URL","matSuffix",""]," Cloud Functions 2nd gen has stable and secure HTTPs endpoints by default. Currently 2nd gen uses run.app URLs, but we will be including support for cloudfunctions.net URLs soon. ",["id","s8s-badge",3,"badgeType","linkDisabled","resourceName","region"],[3,"model","crashData"]," Details ",["class","cfc-button-small","ariaLabel","Tooltip explaining why 'Details' tab is disabled.",
4,"ngIf"],["ariaLabel","Tooltip explaining why 'Details' tab is disabled.",1,"cfc-button-small"]," Details tab is not available for invalid functions. ",[3,"dataHolder"],["fxFlexFill","","fxLayout","column"],[3,"model"]," Variables ",["class","cfc-button-small","ariaLabel","Tooltip explaining why 'Variables' tab is disabled.",4,"ngIf"],["ariaLabel","Tooltip explaining why 'Variables' tab is disabled.",1,"cfc-button-small"]," Variables tab is not available for invalid functions. "," Trigger ",["class",
"cfc-button-small","ariaLabel","Tooltip explaining why 'Trigger' tab is disabled.",4,"ngIf"],["ariaLabel","Tooltip explaining why 'Trigger' tab is disabled.",1,"cfc-button-small"]," Trigger tab is not available for invalid functions. ",[3,"model","activeFunctionUrl"]," Permissions ",["class","cfc-button-small","ariaLabel","Tooltip explaining why 'Permissions' tab is disabled.",4,"ngIf"],["ariaLabel","Tooltip explaining why 'Permissions' tab is disabled.",1,"cfc-button-small"]," Permissions tab is not available for invalid functions. ",
" Logs ",["class","cfc-button-small","ariaLabel","Tooltip explaining why 'Logs' tab is disabled.",4,"ngIf"],["ariaLabel","Tooltip explaining why 'Logs' tab is disabled.",1,"cfc-button-small"]," Logs tab is not available for invalid functions. "]},template:function(a,b){a&1&&(_.E(0,"cfc-single-panel-layout")(1,"cfc-action-bar",0),_.Q(2,"> "),_.E(3,"div",1),_.I(4,"cfc-navigation-button",2),_.F(),_.E(5,"div",3)(6,"a",4),_.L("click",function(){return e4e(b)})("keydown.enter",function(){return e4e(b)}),
_.I(7,"cfc-icon",5),_.Dd(8),_.K(9,6),_.Ed(),_.F(),_.E(10,"button",7),_.L("click",function(){b.deletingUtil.delete(b.model)}),_.I(11,"cfc-icon",8),_.Dd(12),_.K(13,9),_.Ed(),_.F(),_.E(14,"a",10),_.L("click",function(){return f4e(b)})("keydown.enter",function(){return f4e(b)}),_.I(15,"cfc-icon",11),_.Dd(16),_.K(17,12),_.Ed(),_.F()(),_.E(18,"div",13),_.I(19,"gcf-learn-button",14),_.F(),_.E(20,"div",13)(21,"cfc-refresh-button",15),_.L("onRefreshStart",function(){return b.refreshContent()}),_.F()()(),_.E(22,
"cfc-panel-body",16),_.P(23,yye,1,4,"gcf-traffic-warning",17),_.P(24,zye,2,4,"ng-container",18),_.P(25,Aye,1,0,"hr",19),_.E(26,"div",20)(27,"div",21)(28,"form",22)(29,"h2",23),_.I(30,"cfc-status-tooltip",24),_.Q(31),_.F(),_.P(32,Bye,2,0,"mat-chip",25),_.P(33,Cye,2,0,"mat-chip",25),_.P(34,Gye,7,4,"mat-form-field",26),_.F(),_.P(35,Hye,2,1,"span",27),_.P(36,Iye,9,4,"span",28),_.F(),_.P(37,Jye,1,4,"s8s-badge",29),_.F(),_.I(38,"hr",30),_.E(39,"div",31)(40,"mat-tab-group",32),_.L("selectedTabChange",function(c){var d=
h4e[c.index];b.router.navigate([],{relativeTo:b.route,queryParams:{tab:d},replaceUrl:!0,queryParamsHandling:"merge"});c=b.gcfAnalyticsService;d=Object.assign({},_.SZd(b.model),{tab:d});c.analyticsService.sendEvent({type:"functionsDetails",name:"tabClick",metadata:d})}),_.E(41,"mat-tab",33),_.P(42,Kye,1,2,"ng-template",34),_.F(),_.E(43,"mat-tab",35),_.P(44,Mye,3,1,"ng-template",36),_.P(45,Nye,1,1,"ng-template",34),_.F(),_.E(46,"mat-tab",37),_.P(47,Oye,2,1,"ng-template",34),_.F(),_.E(48,"mat-tab",35),
_.P(49,Qye,3,1,"ng-template",36),_.P(50,Rye,1,1,"ng-template",34),_.F(),_.E(51,"mat-tab",35),_.P(52,Tye,3,1,"ng-template",36),_.P(53,Uye,1,2,"ng-template",34),_.F(),_.E(54,"mat-tab",35),_.P(55,Wye,3,1,"ng-template",36),_.P(56,Xye,1,1,"ng-template",34),_.F(),_.E(57,"mat-tab",35),_.P(58,Zye,3,1,"ng-template",36),_.P(59,$ye,2,1,"ng-template",34),_.F(),_.E(60,"mat-tab",38),_.P(61,aze,1,1,"ng-template",34),_.F()()()()());a&2&&(_.x(1),_.C("id",b.actionBarId)("s8sPageSectionTitle",!0)("breakpoint-icon",
0),_.x(3),_.C("backLink",b.functionsListUrl)("isDetailPage",!0),_.x(2),_.C("cfcDisable",!b.editEnabled)("cfcIamResource",b.iamResource),_.x(4),_.C("cfcDisable",!b.deleteEnabled)("cfcIamResource",b.iamResource),_.x(11),_.C("disableRefreshNavigation",!0),_.x(1),_.C("disablePadding",!0)("flexContent",!0),_.x(1),_.C("ngIf",b.isV2Function),_.x(1),_.C("ngIf",b.deploymentTrackerAvailable),_.x(1),_.C("ngIf",b.deploymentTrackerAvailable||!b.model.deployedAllTrafficOnLatestRevision),_.x(5),_.C("config",b.statusTooltipConfig)("resource",
b.model),_.x(1),_.Sd(" ",b.model.name," "),_.x(1),_.C("ngIf",!b.isV2Function),_.x(1),_.C("ngIf",b.isV2Function),_.x(1),_.C("ngIf",!b.isV2Function),_.x(1),_.C("ngIf",b.isV2Function),_.x(1),_.C("ngIf",b.isV2Function&&b.v2DeployedUrl),_.x(1),_.C("ngIf",b.isV2Function),_.x(3),_.C("selectedIndex",b.currentTabIndex),_.x(3),_.C("disabled",b.isInvalidV2Function),_.x(5),_.C("disabled",b.isInvalidV2Function),_.x(3),_.C("disabled",b.isInvalidV2Function),_.x(3),_.C("disabled",b.isInvalidV2Function),_.x(3),_.C("disabled",
b.isInvalidV2Function))},dependencies:[_.YC,_.kl,_.ll,R1e,_.iz,_.HR,_.BR,_.jD,_.SD,_.TD,_.EB,_.cy,_.DB,_.Cw,_.yw,_.Gz,_.EH,_.vT,_.g_d,U1e,_.ot,_.rv,_.lt,_.jt,_.vA,_.Cy,_.By,_.qF,_.zy,_.DD,_.hZ,_.CD,Gze,k3e,_.OT,_.Co,n3e,_.PV,A1e,_.Oy,_.Sy,E1e,_.eC,_.nV,q3e,_.OU,O3e,_.p4,R3e,$3e],styles:[".gcf-message-no-top-spacing[_ngcontent-%COMP%]{padding-top:0}.gcf-message-no-bottom-spacing[_ngcontent-%COMP%]{padding-bottom:0}.gcf-panel-no-vertical-spacing[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0}.gcf-panel-small-vertical-spacing[_ngcontent-%COMP%]{padding-top:8px;padding-bottom:8px}.gcf-top-bleed[_ngcontent-%COMP%]{margin-top:-16px}.gcf-vertical-middle[_ngcontent-%COMP%]{vertical-align:middle}.gcf-inline-block[_ngcontent-%COMP%]{display:inline-block}.gcf-indent-small[_ngcontent-%COMP%]{margin-left:8px}.gcf-margin-left-0[_ngcontent-%COMP%]{margin-left:0}.gcf-padding-left[_ngcontent-%COMP%]{padding-left:16px}.gcf-overflow-auto[_ngcontent-%COMP%]{overflow:auto}.gcf-width-code-form[_ngcontent-%COMP%]{width:395px!important}.gcf-min-height-150[_ngcontent-%COMP%]{min-height:150px}.gcf-min-height-0[_ngcontent-%COMP%]{min-height:0}.gcf-max-height-130[_ngcontent-%COMP%]{max-height:130px}.gcf-flex-fill[_ngcontent-%COMP%]{-webkit-box-flex:1;-webkit-flex:1 1 0;-moz-box-flex:1;-ms-flex:1 1 0px;flex:1 1 0}.gcf-min-width-small[_ngcontent-%COMP%]{min-width:320px}.gcf-margin-between-rows[_ngcontent-%COMP%]{margin-top:-4px}.gcf-margin-between-rows[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-top:4px}@media screen and (max-width:600px){.gcf-hide-on-mobile[_ngcontent-%COMP%]{display:none}}.gcf-show-on-mobile[_ngcontent-%COMP%]{display:none}@media screen and (max-width:600px){.gcf-show-on-mobile[_ngcontent-%COMP%]{display:block}}"]});
var h4e="metrics details source variables trigger permissions logs testing".split(" "),g4e=["details","variables","trigger","permissions","logs"],j4e=[_.XB,_.ql,T1e,_.kz,_.IR,_.CR,_.kD,_.$D,_.fy,_.Iz,_.FH,_.IT,_.F4,W1e,_.qt,_.zA,_.by,_.ay,_.ED,m3e,_.PT,_.fC,p3e,l1e,C1e,_.ly,U$,_.iC,_.oV,s3e,_.PU,Q3e,_.q4,T3e,b4e],$$=class extends _.Xs{getGuardPermissionsMap(a){a=_.U3c(a.queryParams.env);return"UNSPECIFIED"===a?_.S(new Map):"V2"===a?_.S(new Map([[164,["cloudfunctions.functions.get"]]])):_.S(new Map([[76,
["cloudfunctions.functions.get","cloudfunctions.operations.list"]]]))}getMappedResourceId(a){return Cwe(a)}};$$.\u0275fac=function(a){return new (a||$$)(_.p(_.gg),_.p(_.Vs))};$$.\u0275prov=_.m({token:$$,factory:$$.\u0275fac,providedIn:"root"});var k4e=class{constructor(a,b,c){_.Fs(c,76,a);_.Fs(c,164,b)}};
_.gp([{path:"",component:i4e,runGuardsAndResolvers:bze,canActivate:[_.vu,$$],canDeactivate:[_.w3],data:{purviewChangeRedirect:{redirectUrl:_.QZ},title:a=>{let b,c,d;return{resource:null!=(d=null==(b=a.pageData.functionDetailsGraphql)?void 0:null==(c=b.deployedVersion)?void 0:c.name)?d:""}},iam:{permissionsMap:new Map([[76,["cloudfunctions.functions.get","cloudfunctions.operations.list"]],[164,["cloudfunctions.functions.get"]]])}},resolve:{pageData:T$}}]);
k4e.\u0275fac=function(a){return new (a||k4e)(_.p(_.ZV),_.p(_.$V),_.p(_.Gs))};k4e.\u0275mod=_.Bc({type:k4e,id:"pm_functions_v2_details"});
k4e.\u0275inj=_.tc({imports:[_.gp([{path:"",component:i4e,runGuardsAndResolvers:bze,canActivate:[_.vu,$$],canDeactivate:[_.w3],data:{purviewChangeRedirect:{redirectUrl:_.QZ},title:a=>{let b,c,d;return{resource:null!=(d=null==(b=a.pageData.functionDetailsGraphql)?void 0:null==(c=b.deployedVersion)?void 0:c.name)?d:""}},iam:{permissionsMap:new Map([[76,["cloudfunctions.functions.get","cloudfunctions.operations.list"]],[164,["cloudfunctions.functions.get"]]])}},resolve:{pageData:T$}}]),_.vF,c4e,j4e]});
_.vd(k4e,"pm_functions_v2_details");

_.pg();

}catch(e){_._DumpException(e)}
}).call(this,this.default_r_brihhbn);
// Google Inc.
